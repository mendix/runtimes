if (typeof dojo === 'undefined') {
/*
	Copyright (c) 2004-2012, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
(function(_1,_2){var _3=function(){},_4=function(it){for(var p in it){return 0;}return 1;},_5={}.toString,_6=function(it){return _5.call(it)=="[object Function]";},_7=function(it){return _5.call(it)=="[object String]";},_8=function(it){return _5.call(it)=="[object Array]";},_9=function(_a,_b){if(_a){for(var i=0;i<_a.length;){_b(_a[i++]);}}},_c=function(_d,_e){for(var p in _e){_d[p]=_e[p];}return _d;},_f=function(_10,_11){return _c(new Error(_10),{src:"dojoLoader",info:_11});},_12=1,uid=function(){return "_"+_12++;},req=function(_13,_14,_15){return _16(_13,_14,_15,0,req);},_17=this,doc=_17.document,_18=doc&&doc.createElement("DiV"),has=req.has=function(_19){return _6(_1a[_19])?(_1a[_19]=_1a[_19](_17,doc,_18)):_1a[_19];},_1a=has.cache=_2.hasCache;has.add=function(_1b,_1c,now,_1d){(_1a[_1b]===undefined||_1d)&&(_1a[_1b]=_1c);return now&&has(_1b);};0&&has.add("host-node",_1.has&&"host-node" in _1.has?_1.has["host-node"]:(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8));if(0){require("./_base/configNode.js").config(_2);_2.loaderPatch.nodeRequire=require;}0&&has.add("host-rhino",_1.has&&"host-rhino" in _1.has?_1.has["host-rhino"]:(typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")));if(0){for(var _1e=_1.baseUrl||".",arg,_1f=this.arguments,i=0;i<_1f.length;){arg=(_1f[i++]+"").split("=");if(arg[0]=="baseUrl"){_1e=arg[1];break;}}load(_1e+"/_base/configRhino.js");rhinoDojoConfig(_2,_1e,_1f);}for(var p in _1.has){has.add(p,_1.has[p],0,1);}var _20=1,_21=2,_22=3,_23=4,_24=5;if(0){_20="requested";_21="arrived";_22="not-a-module";_23="executing";_24="executed";}var _25=0,_26="sync",xd="xd",_27=[],_28=0,_29=_3,_2a=_3,_2b;if(1){req.isXdUrl=_3;req.initSyncLoader=function(_2c,_2d,_2e){if(!_28){_28=_2c;_29=_2d;_2a=_2e;}return {sync:_26,requested:_20,arrived:_21,nonmodule:_22,executing:_23,executed:_24,syncExecStack:_27,modules:_2f,execQ:_30,getModule:_31,injectModule:_32,setArrived:_33,signal:_34,finishExec:_35,execModule:_36,dojoRequirePlugin:_28,getLegacyMode:function(){return _25;},guardCheckComplete:_37};};if(1){var _38=location.protocol,_39=location.host;req.isXdUrl=function(url){if(/^\./.test(url)){return false;}if(/^\/\//.test(url)){return true;}var _3a=url.match(/^([^\/\:]+\:)\/+([^\/]+)/);return _3a&&(_3a[1]!=_38||(_39&&_3a[2]!=_39));};1||has.add("dojo-xhr-factory",1);has.add("dojo-force-activex-xhr",1&&!doc.addEventListener&&window.location.protocol=="file:");has.add("native-xhr",typeof XMLHttpRequest!="undefined");if(has("native-xhr")&&!has("dojo-force-activex-xhr")){_2b=function(){return new XMLHttpRequest();};}else{for(var _3b=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],_3c,i=0;i<3;){try{_3c=_3b[i++];if(new ActiveXObject(_3c)){break;}}catch(e){}}_2b=function(){return new ActiveXObject(_3c);};}req.getXhr=_2b;has.add("dojo-gettext-api",1);req.getText=function(url,_3d,_3e){var xhr=_2b();xhr.open("GET",_3f(url),false);xhr.send(null);if(xhr.status==200||(!location.host&&!xhr.status)){if(_3e){_3e(xhr.responseText,_3d);}}else{throw _f("xhrFailed",xhr.status);}return xhr.responseText;};}}else{req.async=1;}var _40=new Function("return eval(arguments[0]);");req.eval=function(_41,_42){return _40(_41+"\r\n////@ sourceURL="+_42);};var _43={},_44="error",_34=req.signal=function(_45,_46){var _47=_43[_45];_9(_47&&_47.slice(0),function(_48){_48.apply(null,_8(_46)?_46:[_46]);});},on=req.on=function(_49,_4a){var _4b=_43[_49]||(_43[_49]=[]);_4b.push(_4a);return {remove:function(){for(var i=0;i<_4b.length;i++){if(_4b[i]===_4a){_4b.splice(i,1);return;}}}};};var _4c=[],_4d={},_4e=[],_4f={},map=req.map={},_50=[],_2f={},_51="",_52={},_53="url:",_54={},_55={};if(1){var _56=function(_57){var p,_58,_59,now,m;for(p in _54){_58=_54[p];_59=p.match(/^url\:(.+)/);if(_59){_52[_53+_5a(_59[1],_57)]=_58;}else{if(p=="*now"){now=_58;}else{if(p!="*noref"){m=_5b(p,_57);_52[m.mid]=_52[_53+m.url]=_58;}}}}if(now){now(_5c(_57));}_54={};},_5d=function(s){return s.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(c){return "\\"+c;});},_5e=function(map,_5f){_5f.splice(0,_5f.length);for(var p in map){_5f.push([p,map[p],new RegExp("^"+_5d(p)+"(/|$)"),p.length]);}_5f.sort(function(lhs,rhs){return rhs[3]-lhs[3];});return _5f;},_60=function(_61){var _62=_61.name;if(!_62){_62=_61;_61={name:_62};}_61=_c({main:"main"},_61);_61.location=_61.location?_61.location:_62;if(_61.packageMap){map[_62]=_61.packageMap;}if(!_61.main.indexOf("./")){_61.main=_61.main.substring(2);}_4f[_62]=_61;},_63=[],_64=function(_65,_66,_67){for(var p in _65){if(p=="waitSeconds"){req.waitms=(_65[p]||0)*1000;}if(p=="cacheBust"){_51=_65[p]?(_7(_65[p])?_65[p]:(new Date()).getTime()+""):"";}if(p=="baseUrl"||p=="combo"){req[p]=_65[p];}if(1&&p=="async"){var _68=_65[p];req.legacyMode=_25=(_7(_68)&&/sync|legacyAsync/.test(_68)?_68:(!_68?_26:false));req.async=!_25;}if(_65[p]!==_1a){req.rawConfig[p]=_65[p];p!="has"&&has.add("config-"+p,_65[p],0,_66);}}if(!req.baseUrl){req.baseUrl="./";}if(!/\/$/.test(req.baseUrl)){req.baseUrl+="/";}for(p in _65.has){has.add(p,_65.has[p],0,_66);}_9(_65.packages,_60);for(_1e in _65.packagePaths){_9(_65.packagePaths[_1e],function(_69){var _6a=_1e+"/"+_69;if(_7(_69)){_69={name:_69};}_69.location=_6a;_60(_69);});}_5e(_c(map,_65.map),_50);_9(_50,function(_6b){_6b[1]=_5e(_6b[1],[]);if(_6b[0]=="*"){_50.star=_6b;}});_5e(_c(_4d,_65.paths),_4e);_9(_65.aliases,function(_6c){if(_7(_6c[0])){_6c[0]=new RegExp("^"+_5d(_6c[0])+"$");}_4c.push(_6c);});if(_66){_63.push({config:_65.config});}else{for(p in _65.config){var _6d=_31(p,_67);_6d.config=_c(_6d.config||{},_65.config[p]);}}if(_65.cache){_56();_54=_65.cache;if(_65.cache["*noref"]){_56();}}_34("config",[_65,req.rawConfig]);};if(has("dojo-cdn")||1){var _6e=doc.getElementsByTagName("script"),i=0,_6f,_70,src,_71;while(i<_6e.length){_6f=_6e[i++];if((src=_6f.getAttribute("src"))&&(_71=src.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){_70=_71[3]||"";_2.baseUrl=_2.baseUrl||_70;src=(_6f.getAttribute("data-dojo-config")||_6f.getAttribute("djConfig"));if(src){_55=req.eval("({ "+src+" })","data-dojo-config");}if(0){var _72=_6f.getAttribute("data-main");if(_72){_55.deps=_55.deps||[_72];}}break;}}}if(0){try{if(window.parent!=window&&window.parent.require){var doh=window.parent.require("doh");doh&&_c(_55,doh.testConfig);}}catch(e){}}req.rawConfig={};_64(_2,1);if(has("dojo-cdn")){_4f.dojo.location=_70;if(_70){_70+="/";}_4f.dijit.location=_70+"../dijit/";_4f.dojox.location=_70+"../dojox/";}_64(_1,1);_64(_55,1);}else{_4d=_2.paths;_4e=_2.pathsMapProg;_4f=_2.packs;_4c=_2.aliases;_50=_2.mapProgs;_2f=_2.modules;_52=_2.cache;_51=_2.cacheBust;req.rawConfig=_2;}if(0){req.combo=req.combo||{add:_3};var _73=0,_74=[],_75=null;}var _76=function(_77){_37(function(){_9(_77.deps,_32);if(0&&_73&&!_75){_75=setTimeout(function(){_73=0;_75=null;req.combo.done(function(_78,url){var _79=function(){_7a(0,_78);_7b();};_74.push(_78);_7c=_78;req.injectUrl(url,_79,_78);_7c=0;},req);},0);}});},_16=function(a1,a2,a3,_7d,_7e){var _7f,_80;if(_7(a1)){_7f=_31(a1,_7d,true);if(_7f&&_7f.executed){return _7f.result;}throw _f("undefinedModule",a1);}if(!_8(a1)){_64(a1,0,_7d);a1=a2;a2=a3;}if(_8(a1)){if(!a1.length){a2&&a2();}else{_80="require*"+uid();for(var mid,_81=[],i=0;i<a1.length;){mid=a1[i++];_81.push(_31(mid,_7d));}_7f=_c(_82("",_80,0,""),{injected:_21,deps:_81,def:a2||_3,require:_7d?_7d.require:req,gc:1});_2f[_7f.mid]=_7f;_76(_7f);var _83=_84&&_25!=_26;_37(function(){_36(_7f,_83);});if(!_7f.executed){_30.push(_7f);}_7b();}}return _7e;},_5c=function(_85){if(!_85){return req;}var _86=_85.require;if(!_86){_86=function(a1,a2,a3){return _16(a1,a2,a3,_85,_86);};_85.require=_c(_86,req);_86.module=_85;_86.toUrl=function(_87){return _5a(_87,_85);};_86.toAbsMid=function(mid){return _b4(mid,_85);};if(0){_86.undef=function(mid){req.undef(mid,_85);};}if(1){_86.syncLoadNls=function(mid){var _88=_5b(mid,_85),_89=_2f[_88.mid];if(!_89||!_89.executed){_8a=_52[_88.mid]||_52[_53+_88.url];if(_8a){_8b(_8a);_89=_2f[_88.mid];}}return _89&&_89.executed&&_89.result;};}}return _86;},_30=[],_8c=[],_8d={},_8e=function(_8f){_8f.injected=_20;_8d[_8f.mid]=1;if(_8f.url){_8d[_8f.url]=_8f.pack||1;}_90();},_33=function(_91){_91.injected=_21;delete _8d[_91.mid];if(_91.url){delete _8d[_91.url];}if(_4(_8d)){_92();1&&_25==xd&&(_25=_26);}},_93=req.idle=function(){return !_8c.length&&_4(_8d)&&!_30.length&&!_84;},_94=function(_95,map){if(map){for(var i=0;i<map.length;i++){if(map[i][2].test(_95)){return map[i];}}}return 0;},_96=function(_97){var _98=[],_99,_9a;_97=_97.replace(/\\/g,"/").split("/");while(_97.length){_99=_97.shift();if(_99==".."&&_98.length&&_9a!=".."){_98.pop();_9a=_98[_98.length-1];}else{if(_99!="."){_98.push(_9a=_99);}}}return _98.join("/");},_82=function(pid,mid,_9b,url){if(1){var xd=req.isXdUrl(url);return {pid:pid,mid:mid,pack:_9b,url:url,executed:0,def:0,isXd:xd,isAmd:!!(xd||(_4f[pid]&&_4f[pid].isAmd))};}else{return {pid:pid,mid:mid,pack:_9b,url:url,executed:0,def:0};}},_9c=function(mid,_9d,_9e,_9f,_a0,_a1,_a2,_a3){var pid,_a4,_a5,_a6,_a7,url,_a8,_a9,_aa;_aa=mid;_a9=/^\./.test(mid);if(/(^\/)|(\:)|(\.js$)/.test(mid)||(_a9&&!_9d)){return _82(0,mid,0,mid);}else{mid=_96(_a9?(_9d.mid+"/../"+mid):mid);if(/^\./.test(mid)){throw _f("irrationalPath",mid);}if(_9d){_a7=_94(_9d.mid,_a1);}_a7=_a7||_a1.star;_a7=_a7&&_94(mid,_a7[1]);if(_a7){mid=_a7[1]+mid.substring(_a7[3]);}_71=mid.match(/^([^\/]+)(\/(.+))?$/);pid=_71?_71[1]:"";if((_a4=_9e[pid])){mid=pid+"/"+(_a5=(_71[3]||_a4.main));}else{pid="";}var _ab=0,_ac=0;_9(_4c,function(_ad){var _ae=mid.match(_ad[0]);if(_ae&&_ae.length>_ab){_ac=_6(_ad[1])?mid.replace(_ad[0],_ad[1]):_ad[1];}});if(_ac){return _9c(_ac,0,_9e,_9f,_a0,_a1,_a2,_a3);}_a8=_9f[mid];if(_a8){return _a3?_82(_a8.pid,_a8.mid,_a8.pack,_a8.url):_9f[mid];}}_a7=_94(mid,_a2);if(_a7){url=_a7[1]+mid.substring(_a7[3]);}else{if(pid){url=_a4.location+"/"+_a5;}else{if(has("config-tlmSiblingOfDojo")){url="../"+mid;}else{url=mid;}}}if(!(/(^\/)|(\:)/.test(url))){url=_a0+url;}url+=".js";return _82(pid,mid,_a4,_96(url));},_5b=function(mid,_af){return _9c(mid,_af,_4f,_2f,req.baseUrl,_50,_4e);},_b0=function(_b1,_b2,_b3){return _b1.normalize?_b1.normalize(_b2,function(mid){return _b4(mid,_b3);}):_b4(_b2,_b3);},_b5=0,_31=function(mid,_b6,_b7){var _b8,_b9,_ba,_bb;_b8=mid.match(/^(.+?)\!(.*)$/);if(_b8){_b9=_31(_b8[1],_b6,_b7);if(1&&_25==_26&&!_b9.executed){_32(_b9);if(_b9.injected===_21&&!_b9.executed){_37(function(){_36(_b9);});}if(_b9.executed){_bc(_b9);}else{_30.unshift(_b9);}}if(_b9.executed===_24&&!_b9.load){_bc(_b9);}if(_b9.load){_ba=_b0(_b9,_b8[2],_b6);mid=(_b9.mid+"!"+(_b9.dynamic?++_b5+"!":"")+_ba);}else{_ba=_b8[2];mid=_b9.mid+"!"+(++_b5)+"!waitingForPlugin";}_bb={plugin:_b9,mid:mid,req:_5c(_b6),prid:_ba};}else{_bb=_5b(mid,_b6);}return _2f[_bb.mid]||(!_b7&&(_2f[_bb.mid]=_bb));},_b4=req.toAbsMid=function(mid,_bd){return _5b(mid,_bd).mid;},_5a=req.toUrl=function(_be,_bf){var _c0=_5b(_be+"/x",_bf),url=_c0.url;return _3f(_c0.pid===0?_be:url.substring(0,url.length-5));},_c1={injected:_21,executed:_24,def:_22,result:_22},_c2=function(mid){return _2f[mid]=_c({mid:mid},_c1);},_c3=_c2("require"),_c4=_c2("exports"),_c5=_c2("module"),_c6=function(_c7,_c8){req.trace("loader-run-factory",[_c7.mid]);var _c9=_c7.def,_ca;1&&_27.unshift(_c7);if(has("config-dojo-loader-catches")){try{_ca=_6(_c9)?_c9.apply(null,_c8):_c9;}catch(e){_34(_44,_c7.result=_f("factoryThrew",[_c7,e]));}}else{_ca=_6(_c9)?_c9.apply(null,_c8):_c9;}_c7.result=_ca===undefined&&_c7.cjs?_c7.cjs.exports:_ca;1&&_27.shift(_c7);},_cb={},_cc=0,_bc=function(_cd){var _ce=_cd.result;_cd.dynamic=_ce.dynamic;_cd.normalize=_ce.normalize;_cd.load=_ce.load;return _cd;},_cf=function(_d0){var map={};_9(_d0.loadQ,function(_d1){var _d2=_b0(_d0,_d1.prid,_d1.req.module),mid=_d0.dynamic?_d1.mid.replace(/waitingForPlugin$/,_d2):(_d0.mid+"!"+_d2),_d3=_c(_c({},_d1),{mid:mid,prid:_d2,injected:0});if(!_2f[mid]){_e5(_2f[mid]=_d3);}map[_d1.mid]=_2f[mid];_33(_d1);delete _2f[_d1.mid];});_d0.loadQ=0;var _d4=function(_d5){for(var _d6,_d7=_d5.deps||[],i=0;i<_d7.length;i++){_d6=map[_d7[i].mid];if(_d6){_d7[i]=_d6;}}};for(var p in _2f){_d4(_2f[p]);}_9(_30,_d4);},_35=function(_d8){req.trace("loader-finish-exec",[_d8.mid]);_d8.executed=_24;_d8.defOrder=_cc++;1&&_9(_d8.provides,function(cb){cb();});if(_d8.loadQ){_bc(_d8);_cf(_d8);}for(i=0;i<_30.length;){if(_30[i]===_d8){_30.splice(i,1);}else{i++;}}if(/^require\*/.test(_d8.mid)){delete _2f[_d8.mid];}},_d9=[],_36=function(_da,_db){if(_da.executed===_23){req.trace("loader-circular-dependency",[_d9.concat(_da.mid).join("->")]);return (!_da.def||_db)?_cb:(_da.cjs&&_da.cjs.exports);}if(!_da.executed){if(!_da.def){return _cb;}var mid=_da.mid,_dc=_da.deps||[],arg,_dd,_de=[],i=0;if(0){_d9.push(mid);req.trace("loader-exec-module",["exec",_d9.length,mid]);}_da.executed=_23;while(i<_dc.length){arg=_dc[i++];_dd=((arg===_c3)?_5c(_da):((arg===_c4)?_da.cjs.exports:((arg===_c5)?_da.cjs:_36(arg,_db))));if(_dd===_cb){_da.executed=0;req.trace("loader-exec-module",["abort",mid]);0&&_d9.pop();return _cb;}_de.push(_dd);}_c6(_da,_de);_35(_da);0&&_d9.pop();}return _da.result;},_84=0,_37=function(_df){try{_84++;_df();}finally{_84--;}if(_93()){_34("idle",[]);}},_7b=function(){if(_84){return;}_37(function(){_29();for(var _e0,_e1,i=0;i<_30.length;){_e0=_cc;_e1=_30[i];_36(_e1);if(_e0!=_cc){_29();i=0;}else{i++;}}});};if(0){req.undef=function(_e2,_e3){var _e4=_31(_e2,_e3);_33(_e4);delete _2f[_e4.mid];};}if(1){if(has("dojo-loader-eval-hint-url")===undefined){has.add("dojo-loader-eval-hint-url",1);}var _3f=function(url){url+="";return url+(_51?((/\?/.test(url)?"&":"?")+_51):"");},_e5=function(_e6){var _e7=_e6.plugin;if(_e7.executed===_24&&!_e7.load){_bc(_e7);}var _e8=function(def){_e6.result=def;_33(_e6);_35(_e6);_7b();};if(_e7.load){_e7.load(_e6.prid,_e6.req,_e8);}else{if(_e7.loadQ){_e7.loadQ.push(_e6);}else{_e7.loadQ=[_e6];_30.unshift(_e7);_32(_e7);}}},_8a=0,_7c=0,_e9=0,_8b=function(_ea,_eb){if(has("config-stripStrict")){_ea=_ea.replace(/"use strict"/g,"");}_e9=1;if(has("config-dojo-loader-catches")){try{if(_ea===_8a){_8a.call(null);}else{req.eval(_ea,has("dojo-loader-eval-hint-url")?_eb.url:_eb.mid);}}catch(e){_34(_44,_f("evalModuleThrew",_eb));}}else{if(_ea===_8a){_8a.call(null);}else{req.eval(_ea,has("dojo-loader-eval-hint-url")?_eb.url:_eb.mid);}}_e9=0;},_32=function(_ec){var mid=_ec.mid,url=_ec.url;if(_ec.executed||_ec.injected||_8d[mid]||(_ec.url&&((_ec.pack&&_8d[_ec.url]===_ec.pack)||_8d[_ec.url]==1))){return;}_8e(_ec);if(0){var _ed=0;if(_ec.plugin&&_ec.plugin.isCombo){req.combo.add(_ec.plugin.mid,_ec.prid,0,req);_ed=1;}else{if(!_ec.plugin){_ed=req.combo.add(0,_ec.mid,_ec.url,req);}}if(_ed){_73=1;return;}}if(_ec.plugin){_e5(_ec);return;}var _ee=function(){_7a(_ec);if(_ec.injected!==_21){_33(_ec);_c(_ec,_c1);req.trace("loader-define-nonmodule",[_ec.url]);}if(1&&_25){!_27.length&&_7b();}else{_7b();}};_8a=_52[mid]||_52[_53+_ec.url];if(_8a){req.trace("loader-inject",["cache",_ec.mid,url]);_8b(_8a,_ec);_ee();return;}if(1&&_25){if(_ec.isXd){_25==_26&&(_25=xd);}else{if(_ec.isAmd&&_25!=_26){}else{var _ef=function(_f0){if(_25==_26){_27.unshift(_ec);_8b(_f0,_ec);_27.shift();_7a(_ec);if(!_ec.cjs){_33(_ec);_35(_ec);}if(_ec.finish){var _f1=mid+"*finish",_f2=_ec.finish;delete _ec.finish;def(_f1,["dojo",("dojo/require!"+_f2.join(",")).replace(/\./g,"/")],function(_f3){_9(_f2,function(mid){_f3.require(mid);});});_30.unshift(_31(_f1));}_ee();}else{_f0=_2a(_ec,_f0);if(_f0){_8b(_f0,_ec);_ee();}else{_7c=_ec;req.injectUrl(_3f(url),_ee,_ec);_7c=0;}}};req.trace("loader-inject",["xhr",_ec.mid,url,_25!=_26]);if(has("config-dojo-loader-catches")){try{req.getText(url,_25!=_26,_ef);}catch(e){_34(_44,_f("xhrInjectFailed",[_ec,e]));}}else{req.getText(url,_25!=_26,_ef);}return;}}}req.trace("loader-inject",["script",_ec.mid,url]);_7c=_ec;req.injectUrl(_3f(url),_ee,_ec);_7c=0;},_f4=function(_f5,_f6,def){req.trace("loader-define-module",[_f5.mid,_f6]);if(0&&_f5.plugin&&_f5.plugin.isCombo){_f5.result=_6(def)?def():def;_33(_f5);_35(_f5);return _f5;}var mid=_f5.mid;if(_f5.injected===_21){_34(_44,_f("multipleDefine",_f5));return _f5;}_c(_f5,{deps:_f6,def:def,cjs:{id:_f5.mid,uri:_f5.url,exports:(_f5.result={}),setExports:function(_f7){_f5.cjs.exports=_f7;},config:function(){return _f5.config;}}});for(var i=0;i<_f6.length;i++){_f6[i]=_31(_f6[i],_f5);}if(1&&_25&&!_8d[mid]){_76(_f5);_30.push(_f5);_7b();}_33(_f5);if(!_6(def)&&!_f6.length){_f5.result=def;_35(_f5);}return _f5;},_7a=function(_f8,_f9){var _fa=[],_fb,_fc;while(_8c.length){_fc=_8c.shift();_f9&&(_fc[0]=_f9.shift());_fb=(_fc[0]&&_31(_fc[0]))||_f8;_fa.push([_fb,_fc[1],_fc[2]]);}_56(_f8);_9(_fa,function(_fd){_76(_f4.apply(null,_fd));});};}var _fe=0,_92=_3,_90=_3;if(1){_92=function(){_fe&&clearTimeout(_fe);_fe=0;},_90=function(){_92();if(req.waitms){_fe=window.setTimeout(function(){_92();_34(_44,_f("timeout",_8d));},req.waitms);}};}if(1){has.add("ie-event-behavior",!!doc.attachEvent&&(typeof opera==="undefined"||opera.toString()!="[object Opera]"));}if(1&&(1||1)){var _ff=function(node,_100,_101,_102){if(!has("ie-event-behavior")){node.addEventListener(_100,_102,false);return function(){node.removeEventListener(_100,_102,false);};}else{node.attachEvent(_101,_102);return function(){node.detachEvent(_101,_102);};}},_103=_ff(window,"load","onload",function(){req.pageLoaded=1;doc.readyState!="complete"&&(doc.readyState="complete");_103();});if(1){var _104=doc.getElementsByTagName("script")[0],_105=_104.parentNode;req.injectUrl=function(url,_106,_107){var node=_107.node=doc.createElement("script"),_108=function(e){e=e||window.event;var node=e.target||e.srcElement;if(e.type==="load"||/complete|loaded/.test(node.readyState)){_109();_10a();_106&&_106();}},_109=_ff(node,"load","onreadystatechange",_108),_10a=_ff(node,"error","onerror",function(e){_109();_10a();_34(_44,_f("scriptError",[url,e]));});node.type="text/javascript";node.charset="utf-8";node.src=url;_105.insertBefore(node,_104);return node;};}}if(1){req.log=function(){try{for(var i=0;i<arguments.length;i++){}}catch(e){}};}else{req.log=_3;}if(0){var _10b=req.trace=function(_10c,args){if(_10b.on&&_10b.group[_10c]){_34("trace",[_10c,args]);for(var arg,dump=[],text="trace:"+_10c+(args.length?(":"+args[0]):""),i=1;i<args.length;){arg=args[i++];if(_7(arg)){text+=", "+arg;}else{dump.push(arg);}}req.log(text);dump.length&&dump.push(".");req.log.apply(req,dump);}};_c(_10b,{on:1,group:{},set:function(_10d,_10e){if(_7(_10d)){_10b.group[_10d]=_10e;}else{_c(_10b.group,_10d);}}});_10b.set(_c(_c(_c({},_2.trace),_1.trace),_55.trace));on("config",function(_10f){_10f.trace&&_10b.set(_10f.trace);});}else{req.trace=_3;}var def=function(mid,_110,_111){var _112=arguments.length,_113=["require","exports","module"],args=[0,mid,_110];if(_112==1){args=[0,(_6(mid)?_113:[]),mid];}else{if(_112==2&&_7(mid)){args=[mid,(_6(_110)?_113:[]),_110];}else{if(_112==3){args=[mid,_110,_111];}}}if(0&&args[1]===_113){args[2].toString().replace(/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,"").replace(/require\(["']([\w\!\-_\.\/]+)["']\)/g,function(_114,dep){args[1].push(dep);});}req.trace("loader-define",args.slice(0,2));var _115=args[0]&&_31(args[0]),_116;if(_115&&!_8d[_115.mid]){_76(_f4(_115,args[1],args[2]));}else{if(!has("ie-event-behavior")||!1||_e9){_8c.push(args);}else{_115=_115||_7c;if(!_115){for(mid in _8d){_116=_2f[mid];if(_116&&_116.node&&_116.node.readyState==="interactive"){_115=_116;break;}}if(0&&!_115){for(var i=0;i<_74.length;i++){_115=_74[i];if(_115.node&&_115.node.readyState==="interactive"){break;}_115=0;}}}if(0&&_8(_115)){_76(_f4(_31(_115.shift()),args[1],args[2]));if(!_115.length){_74.splice(i,1);}}else{if(_115){_56(_115);_76(_f4(_115,args[1],args[2]));}else{_34(_44,_f("ieDefineFailed",args[0]));}}_7b();}}};def.amd={vendor:"dojotoolkit.org"};if(0){req.def=def;}_c(_c(req,_2.loaderPatch),_1.loaderPatch);on(_44,function(arg){try{console.error(arg);if(arg instanceof Error){for(var p in arg){}}}catch(e){}});_c(req,{uid:uid,cache:_52,packs:_4f});if(0){_c(req,{paths:_4d,aliases:_4c,modules:_2f,legacyMode:_25,execQ:_30,defQ:_8c,waiting:_8d,packs:_4f,mapProgs:_50,pathsMapProg:_4e,listenerQueues:_43,computeMapProg:_5e,runMapProg:_94,compactPath:_96,getModuleInfo:_9c});}if(_17.define){if(1){_34(_44,_f("defineAlreadyDefined",0));}return;}else{_17.define=def;_17.require=req;if(0){require=req;}}if(0&&req.combo&&req.combo.plugins){var _117=req.combo.plugins,_118;for(_118 in _117){_c(_c(_31(_118),_117[_118]),{isCombo:1,executed:"executed",load:1});}}if(1){_9(_63,function(c){_64(c);});var _119=_55.deps||_1.deps||_2.deps,_11a=_55.callback||_1.callback||_2.callback;req.boot=(_119||_11a)?[_119||[],_11a]:0;}if(!1){!req.async&&req(["dojo"]);req.boot&&req.apply(null,req.boot);}})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../mendix",name:"mendix"},{location:"../mxui",name:"mxui"},{location:"../reporting",name:"reporting"},{location:".",name:"dojo"}]});require({cache:{"dojo/main":function(){define(["./_base/kernel","./has","require","./sniff","./_base/lang","./_base/array","./_base/config","./ready","./_base/declare","./_base/connect","./_base/Deferred","./_base/json","./_base/Color","./has!dojo-firebug?./_firebug/firebug","./_base/browser","./_base/loader"],function(_11b,has,_11c,_11d,lang,_11e,_11f,_120){if(_11f.isDebug){_11c(["./_firebug/firebug"]);}1||has.add("dojo-config-require",1);if(1){var deps=_11f.require;if(deps){deps=_11e.map(lang.isArray(deps)?deps:[deps],function(item){return item.replace(/\./g,"/");});if(_11b.isAsync){_11c(deps);}else{_120(1,function(){_11c(deps);});}}}return _11b;});},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(has,_121,_122,_123){var i,p,_124={},_125={},dojo={config:_121,global:this,dijit:_124,dojox:_125};var _126={dojo:["dojo",dojo],dijit:["dijit",_124],dojox:["dojox",_125]},_127=(_122.map&&_122.map[_123.id.match(/[^\/]+/)[0]]),item;for(p in _127){if(_126[p]){_126[p][0]=_127[p];}else{_126[p]=[_127[p],{}];}}for(p in _126){item=_126[p];item[1]._scopeName=item[0];if(!_121.noGlobals){this[item[0]]=item[1];}}dojo.scopeMap=_126;dojo.baseUrl=dojo.config.baseUrl=_122.baseUrl;dojo.isAsync=!1||_122.async;dojo.locale=_121.locale;var rev="$Rev: 30226 $".match(/\d+/);dojo.version={major:5,minor:1,patch:1,flag:"",revision:rev?+rev[0]:NaN,toString:function(){var v=dojo.version;return v.major+"."+v.minor+"."+v.patch+v.flag+" ("+v.revision+")";}};1||has.add("extend-dojo",1);(Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}"))(dojo);if(0){dojo.exit=function(_128){quit(_128);};}else{dojo.exit=function(){};}1||has.add("dojo-guarantee-console",1);if(1){typeof console!="undefined"||(console={});var cn=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];var tn;i=0;while((tn=cn[i++])){if(!console[tn]){(function(){var tcn=tn+"";console[tcn]=("log" in console)?function(){var a=Array.apply({},arguments);a.unshift(tcn+":");console["log"](a.join(" "));}:function(){};console[tcn]._fake=true;})();}}}has.add("dojo-debug-messages",!!_121.isDebug);dojo.deprecated=dojo.experimental=function(){};if(has("dojo-debug-messages")){dojo.deprecated=function(_129,_12a,_12b){var _12c="DEPRECATED: "+_129;if(_12a){_12c+=" "+_12a;}if(_12b){_12c+=" -- will be removed in version: "+_12b;}console.warn(_12c);};dojo.experimental=function(_12d,_12e){var _12f="EXPERIMENTAL: "+_12d+" -- APIs subject to change without notice.";if(_12e){_12f+=" "+_12e;}console.warn(_12f);};}1||has.add("dojo-modulePaths",1);if(1){if(_121.modulePaths){dojo.deprecated("dojo.modulePaths","use paths configuration");var _130={};for(p in _121.modulePaths){_130[p.replace(/\./g,"/")]=_121.modulePaths[p];}_122({paths:_130});}}1||has.add("dojo-moduleUrl",1);if(1){dojo.moduleUrl=function(_131,url){dojo.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var _132=null;if(_131){_132=_122.toUrl(_131.replace(/\./g,"/")+(url?("/"+url):"")+"/*.*").replace(/\/\*\.\*/,"")+(url?"":"/");}return _132;};}dojo._hasResource={};return dojo;});},"dojo/has":function(){define(["require","module"],function(_133,_134){var has=_133.has||function(){};if(!1){var _135=typeof window!="undefined"&&typeof location!="undefined"&&typeof document!="undefined"&&window.location==location&&window.document==document,_136=this,doc=_135&&document,_137=doc&&doc.createElement("DiV"),_138=(_134.config&&_134.config())||{};has=function(name){return typeof _138[name]=="function"?(_138[name]=_138[name](_136,doc,_137)):_138[name];};has.cache=_138;has.add=function(name,test,now,_139){(typeof _138[name]=="undefined"||_139)&&(_138[name]=test);return now&&has(name);};1||has.add("host-browser",_135);1||has.add("dom",_135);1||has.add("dojo-dom-ready-api",1);1||has.add("dojo-sniff",1);}if(1){has.add("dom-addeventlistener",!!document.addEventListener);has.add("touch","ontouchstart" in document);has.add("device-width",screen.availWidth||innerWidth);var form=document.createElement("form");has.add("dom-attributes-explicit",form.attributes.length==0);has.add("dom-attributes-specified-flag",form.attributes.length>0&&form.attributes.length<40);}has.clearElement=function(_13a){_13a.innerHTML="";return _13a;};has.normalize=function(id,_13b){var _13c=id.match(/[\?:]|[^:\?]*/g),i=0,get=function(skip){var term=_13c[i++];if(term==":"){return 0;}else{if(_13c[i++]=="?"){if(!skip&&has(term)){return get();}else{get(true);return get(skip);}}return term||0;}};id=get();return id&&_13b(id);};has.load=function(id,_13d,_13e){if(id){_13d([id],_13e);}else{_13e();}};return has;});},"dojo/_base/config":function(){define(["../has","require"],function(has,_13f){var _140={};if(1){var src=_13f.rawConfig,p;for(p in src){_140[p]=src[p];}}else{var _141=function(_142,_143,_144){for(p in _142){p!="has"&&has.add(_143+p,_142[p],0,_144);}};_140=1?_13f.rawConfig:this.dojoConfig||this.djConfig||{};_141(_140,"config",1);_141(_140.has,"",1);}return _140;});},"dojo/sniff":function(){define(["./has"],function(has){if(1){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);has.add("air",dua.indexOf("AdobeAIR")>=0),has.add("khtml",dav.indexOf("Konqueror")>=0?tv:undefined);has.add("webkit",parseFloat(dua.split("WebKit/")[1])||undefined);has.add("chrome",parseFloat(dua.split("Chrome/")[1])||undefined);has.add("safari",dav.indexOf("Safari")>=0&&!has("chrome")?parseFloat(dav.split("Version/")[1]):undefined);has.add("mac",dav.indexOf("Macintosh")>=0);has.add("quirks",document.compatMode=="BackCompat");has.add("ios",/iPhone|iPod|iPad/.test(dua));has.add("android",parseFloat(dua.split("Android ")[1])||undefined);if(!has("webkit")){if(dua.indexOf("Opera")>=0){has.add("opera",tv>=9.8?parseFloat(dua.split("Version/")[1])||tv:tv);}if(dua.indexOf("Gecko")>=0&&!has("khtml")&&!has("webkit")){has.add("mozilla",tv);}if(has("mozilla")){has.add("ff",parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||undefined);}if(document.all&&!has("opera")){var isIE=parseFloat(dav.split("MSIE ")[1])||undefined;var mode=document.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}has.add("ie",isIE);}has.add("wii",typeof opera!="undefined"&&opera.wiiremote);}}return has;});},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(dojo,has){has.add("bug-for-in-skips-shadowed",function(){for(var i in {toString:1}){return 0;}return 1;});var _145=has("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],_146=_145.length,_147=function(_148,_149,_14a){var p,i=0,_14b=dojo.global;if(!_14a){if(!_148.length){return _14b;}else{p=_148[i++];try{_14a=dojo.scopeMap[p]&&dojo.scopeMap[p][1];}catch(e){}_14a=_14a||(p in _14b?_14b[p]:(_149?_14b[p]={}:undefined));}}while(_14a&&(p=_148[i++])){_14a=(p in _14a?_14a[p]:(_149?_14a[p]={}:undefined));}return _14a;},opts=Object.prototype.toString,_14c=function(obj,_14d,_14e){return (_14e||[]).concat(Array.prototype.slice.call(obj,_14d||0));},_14f=/\{([^\}]+)\}/g;var lang={_extraNames:_145,_mixin:function(dest,_150,_151){var name,s,i,_152={};for(name in _150){s=_150[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _152)||_152[name]!==s))){dest[name]=_151?_151(s):s;}}if(has("bug-for-in-skips-shadowed")){if(_150){for(i=0;i<_146;++i){name=_145[i];s=_150[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _152)||_152[name]!==s))){dest[name]=_151?_151(s):s;}}}}return dest;},mixin:function(dest,_153){if(!dest){dest={};}for(var i=1,l=arguments.length;i<l;i++){lang._mixin(dest,arguments[i]);}return dest;},setObject:function(name,_154,_155){var _156=name.split("."),p=_156.pop(),obj=_147(_156,true,_155);return obj&&p?(obj[p]=_154):undefined;},getObject:function(name,_157,_158){return _147(name.split("."),_157,_158);},exists:function(name,obj){return lang.getObject(name,false,obj)!==undefined;},isString:function(it){return (typeof it=="string"||it instanceof String);},isArray:function(it){return it&&(it instanceof Array||typeof it=="array");},isFunction:function(it){return opts.call(it)==="[object Function]";},isObject:function(it){return it!==undefined&&(it===null||typeof it=="object"||lang.isArray(it)||lang.isFunction(it));},isArrayLike:function(it){return it&&it!==undefined&&!lang.isString(it)&&!lang.isFunction(it)&&!(it.tagName&&it.tagName.toLowerCase()=="form")&&(lang.isArray(it)||isFinite(it.length));},isAlien:function(it){return it&&!lang.isFunction(it)&&/\{\s*\[native code\]\s*\}/.test(String(it));},extend:function(ctor,_159){for(var i=1,l=arguments.length;i<l;i++){lang._mixin(ctor.prototype,arguments[i]);}return ctor;},_hitchArgs:function(_15a,_15b){var pre=lang._toArray(arguments,2);var _15c=lang.isString(_15b);return function(){var args=lang._toArray(arguments);var f=_15c?(_15a||dojo.global)[_15b]:_15b;return f&&f.apply(_15a||this,pre.concat(args));};},hitch:function(_15d,_15e){if(arguments.length>2){return lang._hitchArgs.apply(dojo,arguments);}if(!_15e){_15e=_15d;_15d=null;}if(lang.isString(_15e)){_15d=_15d||dojo.global;if(!_15d[_15e]){throw (["lang.hitch: scope[\"",_15e,"\"] is null (scope=\"",_15d,"\")"].join(""));}return function(){return _15d[_15e].apply(_15d,arguments||[]);};}return !_15d?_15e:function(){return _15e.apply(_15d,arguments||[]);};},delegate:(function(){function TMP(){};return function(obj,_15f){TMP.prototype=obj;var tmp=new TMP();TMP.prototype=null;if(_15f){lang._mixin(tmp,_15f);}return tmp;};})(),_toArray:has("ie")?(function(){function slow(obj,_160,_161){var arr=_161||[];for(var x=_160||0;x<obj.length;x++){arr.push(obj[x]);}return arr;};return function(obj){return ((obj.item)?slow:_14c).apply(this,arguments);};})():_14c,partial:function(_162){var arr=[null];return lang.hitch.apply(dojo,arr.concat(lang._toArray(arguments)));},clone:function(src){if(!src||typeof src!="object"||lang.isFunction(src)){return src;}if(src.nodeType&&"cloneNode" in src){return src.cloneNode(true);}if(src instanceof Date){return new Date(src.getTime());}if(src instanceof RegExp){return new RegExp(src);}var r,i,l;if(lang.isArray(src)){r=[];for(i=0,l=src.length;i<l;++i){if(i in src){r.push(lang.clone(src[i]));}}}else{r=src.constructor?new src.constructor():{};}return lang._mixin(r,src,lang.clone);},trim:String.prototype.trim?function(str){return str.trim();}:function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");},replace:function(tmpl,map,_163){return tmpl.replace(_163||_14f,lang.isFunction(map)?map:function(_164,k){return lang.getObject(k,false,map);});}};1&&lang.mixin(dojo,lang);return lang;});},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var _165={},u;function _166(fn){return _165[fn]=new Function("item","index","array",fn);};function _167(some){var _168=!some;return function(a,fn,o){var i=0,l=a&&a.length||0,_169;if(l&&typeof a=="string"){a=a.split("");}if(typeof fn=="string"){fn=_165[fn]||_166(fn);}if(o){for(;i<l;++i){_169=!fn.call(o,a[i],i,a);if(some^_169){return !_169;}}}else{for(;i<l;++i){_169=!fn(a[i],i,a);if(some^_169){return !_169;}}}return _168;};};function _16a(up){var _16b=1,_16c=0,_16d=0;if(!up){_16b=_16c=_16d=-1;}return function(a,x,from,last){if(last&&_16b>0){return _16e.lastIndexOf(a,x,from);}var l=a&&a.length||0,end=up?l+_16d:_16c,i;if(from===u){i=up?_16c:l+_16d;}else{if(from<0){i=l+from;if(i<0){i=_16c;}}else{i=from>=l?l+_16d:from;}}if(l&&typeof a=="string"){a=a.split("");}for(;i!=end;i+=_16b){if(a[i]==x){return i;}}return -1;};};var _16e={every:_167(false),some:_167(true),indexOf:_16a(true),lastIndexOf:_16a(false),forEach:function(arr,_16f,_170){var i=0,l=arr&&arr.length||0;if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _16f=="string"){_16f=_165[_16f]||_166(_16f);}if(_170){for(;i<l;++i){_16f.call(_170,arr[i],i,arr);}}else{for(;i<l;++i){_16f(arr[i],i,arr);}}},map:function(arr,_171,_172,Ctr){var i=0,l=arr&&arr.length||0,out=new (Ctr||Array)(l);if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _171=="string"){_171=_165[_171]||_166(_171);}if(_172){for(;i<l;++i){out[i]=_171.call(_172,arr[i],i,arr);}}else{for(;i<l;++i){out[i]=_171(arr[i],i,arr);}}return out;},filter:function(arr,_173,_174){var i=0,l=arr&&arr.length||0,out=[],_175;if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _173=="string"){_173=_165[_173]||_166(_173);}if(_174){for(;i<l;++i){_175=arr[i];if(_173.call(_174,_175,i,arr)){out.push(_175);}}}else{for(;i<l;++i){_175=arr[i];if(_173(_175,i,arr)){out.push(_175);}}}return out;},clearCache:function(){_165={};}};1&&lang.mixin(dojo,_16e);return _16e;});},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(dojo,has,_176,_177,lang){var _178=0,_179,_17a=[],_17b=0,_17c=function(){_178=1;dojo._postLoad=dojo.config.afterOnLoad=true;if(_17a.length){_179(_17d);}},_17d=function(){if(_178&&!_17b&&_17a.length){_17b=1;var f=_17a.shift();try{f();}finally{_17b=0;}_17b=0;if(_17a.length){_179(_17d);}}};_176.on("idle",_17d);_179=function(){if(_176.idle()){_17d();}};var _17e=dojo.ready=dojo.addOnLoad=function(_17f,_180,_181){var _182=lang._toArray(arguments);if(typeof _17f!="number"){_181=_180;_180=_17f;_17f=1000;}else{_182.shift();}_181=_181?lang.hitch.apply(dojo,_182):function(){_180();};_181.priority=_17f;for(var i=0;i<_17a.length&&_17f>=_17a[i].priority;i++){}_17a.splice(i,0,_181);_179();};1||has.add("dojo-config-addOnLoad",1);if(1){var dca=dojo.config.addOnLoad;if(dca){_17e[(lang.isArray(dca)?"apply":"call")](dojo,dca);}}if(1&&dojo.config.parseOnLoad&&!dojo.isAsync){_17e(99,function(){if(!dojo.parser){dojo.deprecated("Add explicit require(['dojo/parser']);","","2.0");_176(["dojo/parser"]);}});}if(1){_177(_17c);}else{_17c();}return _17e;});},"dojo/domReady":function(){define(["./has"],function(has){var _183=this,doc=document,_184={"loaded":1,"complete":1},_185=typeof doc.readyState!="string",_186=!!_184[doc.readyState];if(_185){doc.readyState="loading";}if(!_186){var _187=[],_188=[],_189=function(evt){evt=evt||_183.event;if(_186||(evt.type=="readystatechange"&&!_184[doc.readyState])){return;}_186=1;if(_185){doc.readyState="complete";}while(_187.length){(_187.shift())(doc);}},on=function(node,_18a){node.addEventListener(_18a,_189,false);_187.push(function(){node.removeEventListener(_18a,_189,false);});};if(!has("dom-addeventlistener")){on=function(node,_18b){_18b="on"+_18b;node.attachEvent(_18b,_189);_187.push(function(){node.detachEvent(_18b,_189);});};var div=doc.createElement("div");try{if(div.doScroll&&_183.frameElement===null){_188.push(function(){try{div.doScroll("left");return 1;}catch(e){}});}}catch(e){}}on(doc,"DOMContentLoaded");on(_183,"load");if("onreadystatechange" in doc){on(doc,"readystatechange");}else{if(!_185){_188.push(function(){return _184[doc.readyState];});}}if(_188.length){var _18c=function(){if(_186){return;}var i=_188.length;while(i--){if(_188[i]()){_189("poller");return;}}setTimeout(_18c,30);};_18c();}}function _18d(_18e){if(_186){_18e(doc);}else{_187.push(_18e);}};_18d.load=function(id,req,load){_18d(load);};return _18d;});},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var mix=lang.mixin,op=Object.prototype,opts=op.toString,xtor=new Function,_18f=0,_190="constructor";function err(msg,cls){throw new Error("declare"+(cls?" "+cls:"")+": "+msg);};function _191(_192,_193){var _194=[],_195=[{cls:0,refs:[]}],_196={},_197=1,l=_192.length,i=0,j,lin,base,top,_198,rec,name,refs;for(;i<l;++i){base=_192[i];if(!base){err("mixin #"+i+" is unknown. Did you use dojo.require to pull it in?",_193);}else{if(opts.call(base)!="[object Function]"){err("mixin #"+i+" is not a callable constructor.",_193);}}lin=base._meta?base._meta.bases:[base];top=0;for(j=lin.length-1;j>=0;--j){_198=lin[j].prototype;if(!_198.hasOwnProperty("declaredClass")){_198.declaredClass="uniqName_"+(_18f++);}name=_198.declaredClass;if(!_196.hasOwnProperty(name)){_196[name]={count:0,refs:[],cls:lin[j]};++_197;}rec=_196[name];if(top&&top!==rec){rec.refs.push(top);++top.count;}top=rec;}++top.count;_195[0].refs.push(top);}while(_195.length){top=_195.pop();_194.push(top.cls);--_197;while(refs=top.refs,refs.length==1){top=refs[0];if(!top||--top.count){top=0;break;}_194.push(top.cls);--_197;}if(top){for(i=0,l=refs.length;i<l;++i){top=refs[i];if(!--top.count){_195.push(top);}}}}if(_197){err("can't build consistent linearization",_193);}base=_192[0];_194[0]=base?base._meta&&base===_194[_194.length-base._meta.bases.length]?base._meta.bases.length:1:0;return _194;};function _199(args,a,f){var name,_19a,_19b,_19c,meta,base,_19d,opf,pos,_19e=this._inherited=this._inherited||{};if(typeof args=="string"){name=args;args=a;a=f;}f=0;_19c=args.callee;name=name||_19c.nom;if(!name){err("can't deduce a name to call inherited()",this.declaredClass);}meta=this.constructor._meta;_19b=meta.bases;pos=_19e.p;if(name!=_190){if(_19e.c!==_19c){pos=0;base=_19b[0];meta=base._meta;if(meta.hidden[name]!==_19c){_19a=meta.chains;if(_19a&&typeof _19a[name]=="string"){err("calling chained method with inherited: "+name,this.declaredClass);}do{meta=base._meta;_19d=base.prototype;if(meta&&(_19d[name]===_19c&&_19d.hasOwnProperty(name)||meta.hidden[name]===_19c)){break;}}while(base=_19b[++pos]);pos=base?pos:-1;}}base=_19b[++pos];if(base){_19d=base.prototype;if(base._meta&&_19d.hasOwnProperty(name)){f=_19d[name];}else{opf=op[name];do{_19d=base.prototype;f=_19d[name];if(f&&(base._meta?_19d.hasOwnProperty(name):f!==opf)){break;}}while(base=_19b[++pos]);}}f=base&&f||op[name];}else{if(_19e.c!==_19c){pos=0;meta=_19b[0]._meta;if(meta&&meta.ctor!==_19c){_19a=meta.chains;if(!_19a||_19a.constructor!=="manual"){err("calling chained constructor with inherited",this.declaredClass);}while(base=_19b[++pos]){meta=base._meta;if(meta&&meta.ctor===_19c){break;}}pos=base?pos:-1;}}while(base=_19b[++pos]){meta=base._meta;f=meta?meta.ctor:base;if(f){break;}}f=base&&f;}_19e.c=f;_19e.p=pos;if(f){return a===true?f:f.apply(this,a||args);}};function _19f(name,args){if(typeof name=="string"){return this.__inherited(name,args,true);}return this.__inherited(name,true);};function _1a0(args,a1,a2){var f=this.getInherited(args,a1);if(f){return f.apply(this,a2||a1||args);}};var _1a1=dojo.config.isDebug?_1a0:_199;function _1a2(cls){var _1a3=this.constructor._meta.bases;for(var i=0,l=_1a3.length;i<l;++i){if(_1a3[i]===cls){return true;}}return this instanceof cls;};function _1a4(_1a5,_1a6){for(var name in _1a6){if(name!=_190&&_1a6.hasOwnProperty(name)){_1a5[name]=_1a6[name];}}if(has("bug-for-in-skips-shadowed")){for(var _1a7=lang._extraNames,i=_1a7.length;i;){name=_1a7[--i];if(name!=_190&&_1a6.hasOwnProperty(name)){_1a5[name]=_1a6[name];}}}};function _1a8(_1a9,_1aa){var name,t;for(name in _1aa){t=_1aa[name];if((t!==op[name]||!(name in op))&&name!=_190){if(opts.call(t)=="[object Function]"){t.nom=name;}_1a9[name]=t;}}if(has("bug-for-in-skips-shadowed")){for(var _1ab=lang._extraNames,i=_1ab.length;i;){name=_1ab[--i];t=_1aa[name];if((t!==op[name]||!(name in op))&&name!=_190){if(opts.call(t)=="[object Function]"){t.nom=name;}_1a9[name]=t;}}}return _1a9;};function _1ac(_1ad){_1ae.safeMixin(this.prototype,_1ad);return this;};function _1af(_1b0){return _1ae([this].concat(_1b0));};function _1b1(_1b2,_1b3){return function(){var a=arguments,args=a,a0=a[0],f,i,m,l=_1b2.length,_1b4;if(!(this instanceof a.callee)){return _1b5(a);}if(_1b3&&(a0&&a0.preamble||this.preamble)){_1b4=new Array(_1b2.length);_1b4[0]=a;for(i=0;;){a0=a[0];if(a0){f=a0.preamble;if(f){a=f.apply(this,a)||a;}}f=_1b2[i].prototype;f=f.hasOwnProperty("preamble")&&f.preamble;if(f){a=f.apply(this,a)||a;}if(++i==l){break;}_1b4[i]=a;}}for(i=l-1;i>=0;--i){f=_1b2[i];m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,_1b4?_1b4[i]:a);}}f=this.postscript;if(f){f.apply(this,args);}};};function _1b6(ctor,_1b7){return function(){var a=arguments,t=a,a0=a[0],f;if(!(this instanceof a.callee)){return _1b5(a);}if(_1b7){if(a0){f=a0.preamble;if(f){t=f.apply(this,t)||t;}}f=this.preamble;if(f){f.apply(this,t);}}if(ctor){ctor.apply(this,a);}f=this.postscript;if(f){f.apply(this,a);}};};function _1b8(_1b9){return function(){var a=arguments,i=0,f,m;if(!(this instanceof a.callee)){return _1b5(a);}for(;f=_1b9[i];++i){m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,a);break;}}f=this.postscript;if(f){f.apply(this,a);}};};function _1ba(name,_1bb,_1bc){return function(){var b,m,f,i=0,step=1;if(_1bc){i=_1bb.length-1;step=-1;}for(;b=_1bb[i];i+=step){m=b._meta;f=(m?m.hidden:b.prototype)[name];if(f){f.apply(this,arguments);}}};};function _1bd(ctor){xtor.prototype=ctor.prototype;var t=new xtor;xtor.prototype=null;return t;};function _1b5(args){var ctor=args.callee,t=_1bd(ctor);ctor.apply(t,args);return t;};function _1ae(_1be,_1bf,_1c0){if(typeof _1be!="string"){_1c0=_1bf;_1bf=_1be;_1be="";}_1c0=_1c0||{};var _1c1,i,t,ctor,name,_1c2,_1c3,_1c4=1,_1c5=_1bf;if(opts.call(_1bf)=="[object Array]"){_1c2=_191(_1bf,_1be);t=_1c2[0];_1c4=_1c2.length-t;_1bf=_1c2[_1c4];}else{_1c2=[0];if(_1bf){if(opts.call(_1bf)=="[object Function]"){t=_1bf._meta;_1c2=_1c2.concat(t?t.bases:_1bf);}else{err("base class is not a callable constructor.",_1be);}}else{if(_1bf!==null){err("unknown base class. Did you use dojo.require to pull it in?",_1be);}}}if(_1bf){for(i=_1c4-1;;--i){_1c1=_1bd(_1bf);if(!i){break;}t=_1c2[i];(t._meta?_1a4:mix)(_1c1,t.prototype);ctor=new Function;ctor.superclass=_1bf;ctor.prototype=_1c1;_1bf=_1c1.constructor=ctor;}}else{_1c1={};}_1ae.safeMixin(_1c1,_1c0);t=_1c0.constructor;if(t!==op.constructor){t.nom=_190;_1c1.constructor=t;}for(i=_1c4-1;i;--i){t=_1c2[i]._meta;if(t&&t.chains){_1c3=mix(_1c3||{},t.chains);}}if(_1c1["-chains-"]){_1c3=mix(_1c3||{},_1c1["-chains-"]);}t=!_1c3||!_1c3.hasOwnProperty(_190);_1c2[0]=ctor=(_1c3&&_1c3.constructor==="manual")?_1b8(_1c2):(_1c2.length==1?_1b6(_1c0.constructor,t):_1b1(_1c2,t));ctor._meta={bases:_1c2,hidden:_1c0,chains:_1c3,parents:_1c5,ctor:_1c0.constructor};ctor.superclass=_1bf&&_1bf.prototype;ctor.extend=_1ac;ctor.createSubclass=_1af;ctor.prototype=_1c1;_1c1.constructor=ctor;_1c1.getInherited=_19f;_1c1.isInstanceOf=_1a2;_1c1.inherited=_1a1;_1c1.__inherited=_199;if(_1be){_1c1.declaredClass=_1be;lang.setObject(_1be,ctor);}if(_1c3){for(name in _1c3){if(_1c1[name]&&typeof _1c3[name]=="string"&&name!=_190){t=_1c1[name]=_1ba(name,_1c2,_1c3[name]==="after");t.nom=name;}}}return ctor;};dojo.safeMixin=_1ae.safeMixin=_1a8;dojo.declare=_1ae;return _1ae;});},"dojo/_base/connect":function(){define(["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(dojo,on,hub,_1c6,_1c7,_1c8,has,lang){has.add("events-keypress-typed",function(){var _1c9={charCode:0};try{_1c9=document.createEvent("KeyboardEvent");(_1c9.initKeyboardEvent||_1c9.initKeyEvent).call(_1c9,"keypress",true,true,null,false,false,false,false,9,3);}catch(e){}return _1c9.charCode==0&&!has("opera");});function _1ca(obj,_1cb,_1cc,_1cd,_1ce){_1cd=lang.hitch(_1cc,_1cd);if(!obj||!(obj.addEventListener||obj.attachEvent)){return _1c6.after(obj||dojo.global,_1cb,_1cd,true);}if(typeof _1cb=="string"&&_1cb.substring(0,2)=="on"){_1cb=_1cb.substring(2);}if(!obj){obj=dojo.global;}if(!_1ce){switch(_1cb){case "keypress":_1cb=_1cf;break;case "mouseenter":_1cb=_1c8.enter;break;case "mouseleave":_1cb=_1c8.leave;break;}}return on(obj,_1cb,_1cd,_1ce);};var _1d0={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113};var _1d1=has("mac")?"metaKey":"ctrlKey";var _1d2=function(evt,_1d3){var faux=lang.mixin({},evt,_1d3);_1d4(faux);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;};function _1d4(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _1cf;if(has("events-keypress-typed")){var _1d5=function(e,code){try{return (e.keyCode=code);}catch(e){return 0;}};_1cf=function(_1d6,_1d7){var _1d8=on(_1d6,"keydown",function(evt){var k=evt.keyCode;var _1d9=(k!=13)&&k!=32&&(k!=27||!has("ie"))&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222)&&k!=229;if(_1d9||evt.ctrlKey){var c=_1d9?0:k;if(evt.ctrlKey){if(k==3||k==13){return _1d7.call(evt.currentTarget,evt);}else{if(c>95&&c<106){c-=48;}else{if((!evt.shiftKey)&&(c>=65&&c<=90)){c+=32;}else{c=_1d0[c]||c;}}}}var faux=_1d2(evt,{type:"keypress",faux:true,charCode:c});_1d7.call(evt.currentTarget,faux);if(has("ie")){_1d5(evt,faux.keyCode);}}});var _1da=on(_1d6,"keypress",function(evt){var c=evt.charCode;c=c>=32?c:0;evt=_1d2(evt,{charCode:c,faux:true});return _1d7.call(this,evt);});return {remove:function(){_1d8.remove();_1da.remove();}};};}else{if(has("opera")){_1cf=function(_1db,_1dc){return on(_1db,"keypress",function(evt){var c=evt.which;if(c==3){c=99;}c=c<32&&!evt.shiftKey?0:c;if(evt.ctrlKey&&!evt.shiftKey&&c>=65&&c<=90){c+=32;}return _1dc.call(this,_1d2(evt,{charCode:c}));});};}else{_1cf=function(_1dd,_1de){return on(_1dd,"keypress",function(evt){_1d4(evt);return _1de.call(this,evt);});};}}var _1df={_keypress:_1cf,connect:function(obj,_1e0,_1e1,_1e2,_1e3){var a=arguments,args=[],i=0;args.push(typeof a[0]=="string"?null:a[i++],a[i++]);var a1=a[i+1];args.push(typeof a1=="string"||typeof a1=="function"?a[i++]:null,a[i++]);for(var l=a.length;i<l;i++){args.push(a[i]);}return _1ca.apply(this,args);},disconnect:function(_1e4){if(_1e4){_1e4.remove();}},subscribe:function(_1e5,_1e6,_1e7){return hub.subscribe(_1e5,lang.hitch(_1e6,_1e7));},publish:function(_1e8,args){return hub.publish.apply(hub,[_1e8].concat(args));},connectPublisher:function(_1e9,obj,_1ea){var pf=function(){_1df.publish(_1e9,arguments);};return _1ea?_1df.connect(obj,_1ea,pf):_1df.connect(obj,pf);},isCopyKey:function(e){return e[_1d1];}};_1df.unsubscribe=_1df.disconnect;1&&lang.mixin(dojo,_1df);return _1df;});},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(_1eb,dojo,has){"use strict";if(1){var _1ec=window.ScriptEngineMajorVersion;has.add("jscript",_1ec&&(_1ec()+ScriptEngineMinorVersion()/10));has.add("event-orientationchange",has("touch")&&!has("android"));has.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);}var on=function(_1ed,type,_1ee,_1ef){if(typeof _1ed.on=="function"&&typeof type!="function"){return _1ed.on(type,_1ee);}return on.parse(_1ed,type,_1ee,_1f0,_1ef,this);};on.pausable=function(_1f1,type,_1f2,_1f3){var _1f4;var _1f5=on(_1f1,type,function(){if(!_1f4){return _1f2.apply(this,arguments);}},_1f3);_1f5.pause=function(){_1f4=true;};_1f5.resume=function(){_1f4=false;};return _1f5;};on.once=function(_1f6,type,_1f7,_1f8){var _1f9=on(_1f6,type,function(){_1f9.remove();return _1f7.apply(this,arguments);});return _1f9;};on.parse=function(_1fa,type,_1fb,_1fc,_1fd,_1fe){if(type.call){return type.call(_1fe,_1fa,_1fb);}if(type.indexOf(",")>-1){var _1ff=type.split(/\s*,\s*/);var _200=[];var i=0;var _201;while(_201=_1ff[i++]){_200.push(_1fc(_1fa,_201,_1fb,_1fd,_1fe));}_200.remove=function(){for(var i=0;i<_200.length;i++){_200[i].remove();}};return _200;}return _1fc(_1fa,type,_1fb,_1fd,_1fe);};var _202=/^touch/;function _1f0(_203,type,_204,_205,_206){var _207=type.match(/(.*):(.*)/);if(_207){type=_207[2];_207=_207[1];return on.selector(_207,type).call(_206,_203,_204);}if(has("touch")){if(_202.test(type)){_204=_208(_204);}if(!has("event-orientationchange")&&(type=="orientationchange")){type="resize";_203=window;_204=_208(_204);}}if(_209){_204=_209(_204);}if(_203.addEventListener){var _20a=type in _20b,_20c=_20a?_20b[type]:type;_203.addEventListener(_20c,_204,_20a);return {remove:function(){_203.removeEventListener(_20c,_204,_20a);}};}type="on"+type;if(_20d&&_203.attachEvent){return _20d(_203,type,_204);}throw new Error("Target must be an event emitter");};on.selector=function(_20e,_20f,_210){return function(_211,_212){var _213=typeof _20e=="function"?{matches:_20e}:this,_214=_20f.bubble;function _215(_216){_213=_213&&_213.matches?_213:dojo.query;while(!_213.matches(_216,_20e,_211)){if(_216==_211||_210===false||!(_216=_216.parentNode)||_216.nodeType!=1){return;}}return _216;};if(_214){return on(_211,_214(_215),_212);}return on(_211,_20f,function(_217){var _218=_215(_217.target);return _218&&_212.call(_218,_217);});};};function _219(){this.cancelable=false;};function _21a(){this.bubbles=false;};var _21b=[].slice,_21c=on.emit=function(_21d,type,_21e){var args=_21b.call(arguments,2);var _21f="on"+type;if("parentNode" in _21d){var _220=args[0]={};for(var i in _21e){_220[i]=_21e[i];}_220.preventDefault=_219;_220.stopPropagation=_21a;_220.target=_21d;_220.type=type;_21e=_220;}do{_21d[_21f]&&_21d[_21f].apply(_21d,args);}while(_21e&&_21e.bubbles&&(_21d=_21d.parentNode));return _21e&&_21e.cancelable&&_21e;};var _20b={};if(!has("event-stopimmediatepropagation")){var _221=function(){this.immediatelyStopped=true;this.modified=true;};var _209=function(_222){return function(_223){if(!_223.immediatelyStopped){_223.stopImmediatePropagation=_221;return _222.apply(this,arguments);}};};}if(has("dom-addeventlistener")){_20b={focusin:"focus",focusout:"blur"};on.emit=function(_224,type,_225){if(_224.dispatchEvent&&document.createEvent){var _226=_224.ownerDocument.createEvent("HTMLEvents");_226.initEvent(type,!!_225.bubbles,!!_225.cancelable);for(var i in _225){var _227=_225[i];if(!(i in _226)){_226[i]=_225[i];}}return _224.dispatchEvent(_226)&&_226;}return _21c.apply(on,arguments);};}else{on._fixEvent=function(evt,_228){if(!evt){var w=_228&&(_228.ownerDocument||_228.document||_228).parentWindow||window;evt=w.event;}if(!evt){return evt;}if(_229&&evt.type==_229.type){evt=_229;}if(!evt.target){evt.target=evt.srcElement;evt.currentTarget=(_228||evt.srcElement);if(evt.type=="mouseover"){evt.relatedTarget=evt.fromElement;}if(evt.type=="mouseout"){evt.relatedTarget=evt.toElement;}if(!evt.stopPropagation){evt.stopPropagation=_22a;evt.preventDefault=_22b;}switch(evt.type){case "keypress":var c=("charCode" in evt?evt.charCode:evt.keyCode);if(c==10){c=0;evt.keyCode=13;}else{if(c==13||c==27){c=0;}else{if(c==3){c=99;}}}evt.charCode=c;_22c(evt);break;}}return evt;};var _229,_22d=function(_22e){this.handle=_22e;};_22d.prototype.remove=function(){delete _dojoIEListeners_[this.handle];};var _22f=function(_230){return function(evt){evt=on._fixEvent(evt,this);var _231=_230.call(this,evt);if(evt.modified){if(!_229){setTimeout(function(){_229=null;});}_229=evt;}return _231;};};var _20d=function(_232,type,_233){_233=_22f(_233);if(((_232.ownerDocument?_232.ownerDocument.parentWindow:_232.parentWindow||_232.window||window)!=top||has("jscript")<5.8)&&!has("config-_allow_leaks")){if(typeof _dojoIEListeners_=="undefined"){_dojoIEListeners_=[];}var _234=_232[type];if(!_234||!_234.listeners){var _235=_234;_234=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");_234.listeners=[];_232[type]=_234;_234.global=this;if(_235){_234.listeners.push(_dojoIEListeners_.push(_235)-1);}}var _236;_234.listeners.push(_236=(_234.global._dojoIEListeners_.push(_233)-1));return new _22d(_236);}return _1eb.after(_232,type,_233,true);};var _22c=function(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _22a=function(){this.cancelBubble=true;};var _22b=on._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey){try{this.keyCode=0;}catch(e){}}this.defaultPrevented=true;this.returnValue=false;};}if(has("touch")){var _237=function(){};var _238=window.orientation;var _208=function(_239){return function(_23a){var _23b=_23a.corrected;if(!_23b){var type=_23a.type;try{delete _23a.type;}catch(e){}if(_23a.type){_237.prototype=_23a;var _23b=new _237;_23b.preventDefault=function(){_23a.preventDefault();};_23b.stopPropagation=function(){_23a.stopPropagation();};}else{_23b=_23a;_23b.type=type;}_23a.corrected=_23b;if(type=="resize"){if(_238==window.orientation){return null;}_238=window.orientation;_23b.type="orientationchange";return _239.call(this,_23b);}if(!("rotation" in _23b)){_23b.rotation=0;_23b.scale=1;}var _23c=_23b.changedTouches[0];for(var i in _23c){delete _23b[i];_23b[i]=_23c[i];}}return _239.call(this,_23b);};};}return on;});},"dojo/topic":function(){define(["./Evented"],function(_23d){var hub=new _23d;return {publish:function(_23e,_23f){return hub.emit.apply(hub,arguments);},subscribe:function(_240,_241){return hub.on.apply(hub,arguments);}};});},"dojo/Evented":function(){define("dojo/Evented",["./aspect","./on"],function(_242,on){"use strict";var _243=_242.after;function _244(){};_244.prototype={on:function(type,_245){return on.parse(this,type,_245,function(_246,type){return _243(_246,"on"+type,_245,true);});},emit:function(type,_247){var args=[this];args.push.apply(args,arguments);return on.emit.apply(on,args);}};return _244;});},"dojo/aspect":function(){define("dojo/aspect",[],function(){"use strict";var _248,_249=0;function _24a(_24b,type,_24c,_24d){var _24e=_24b[type];var _24f=type=="around";var _250;if(_24f){var _251=_24c(function(){return _24e.advice(this,arguments);});_250={remove:function(){_250.cancelled=true;},advice:function(_252,args){return _250.cancelled?_24e.advice(_252,args):_251.apply(_252,args);}};}else{_250={remove:function(){var _253=_250.previous;var next=_250.next;if(!next&&!_253){delete _24b[type];}else{if(_253){_253.next=next;}else{_24b[type]=next;}if(next){next.previous=_253;}}},id:_249++,advice:_24c,receiveArguments:_24d};}if(_24e&&!_24f){if(type=="after"){while(_24e.next&&(_24e=_24e.next)){}_24e.next=_250;_250.previous=_24e;}else{if(type=="before"){_24b[type]=_250;_250.next=_24e;_24e.previous=_250;}}}else{_24b[type]=_250;}return _250;};function _254(type){return function(_255,_256,_257,_258){var _259=_255[_256],_25a;if(!_259||_259.target!=_255){_255[_256]=_25a=function(){var _25b=_249;var args=arguments;var _25c=_25a.before;while(_25c){args=_25c.advice.apply(this,args)||args;_25c=_25c.next;}if(_25a.around){var _25d=_25a.around.advice(this,args);}var _25e=_25a.after;while(_25e&&_25e.id<_25b){if(_25e.receiveArguments){var _25f=_25e.advice.apply(this,args);_25d=_25f===_248?_25d:_25f;}else{_25d=_25e.advice.call(this,_25d,args);}_25e=_25e.next;}return _25d;};if(_259){_25a.around={advice:function(_260,args){return _259.apply(_260,args);}};}_25a.target=_255;}var _261=_24a((_25a||_259),type,_257,_258);_257=null;return _261;};};var _262=_254("after");var _263=_254("before");var _264=_254("around");return {before:_263,around:_264,after:_262};});},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(dojo,on,has,dom){if(on._fixEvent){var _265=on._fixEvent;on._fixEvent=function(evt,se){evt=_265(evt,se);if(evt){dom.normalizeEvent(evt);}return evt;};}var ret={fix:function(evt,_266){if(on._fixEvent){return on._fixEvent(evt,_266);}return evt;},stop:function(evt){if(has("dom-addeventlistener")||(evt&&evt.preventDefault)){evt.preventDefault();evt.stopPropagation();}else{evt=evt||window.event;evt.cancelBubble=true;on._preventDefault.call(evt);}}};if(1){dojo.fixEvent=ret.fix;dojo.stopEvent=ret.stop;}return ret;});},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(has,win,dom,_267){var geom={};geom.boxModel="content-box";if(has("ie")){geom.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box";}geom.getPadExtents=function getPadExtents(node,_268){node=dom.byId(node);var s=_268||_267.getComputedStyle(node),px=_267.toPixelValue,l=px(node,s.paddingLeft),t=px(node,s.paddingTop),r=px(node,s.paddingRight),b=px(node,s.paddingBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};var none="none";geom.getBorderExtents=function getBorderExtents(node,_269){node=dom.byId(node);var px=_267.toPixelValue,s=_269||_267.getComputedStyle(node),l=s.borderLeftStyle!=none?px(node,s.borderLeftWidth):0,t=s.borderTopStyle!=none?px(node,s.borderTopWidth):0,r=s.borderRightStyle!=none?px(node,s.borderRightWidth):0,b=s.borderBottomStyle!=none?px(node,s.borderBottomWidth):0;return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getPadBorderExtents=function getPadBorderExtents(node,_26a){node=dom.byId(node);var s=_26a||_267.getComputedStyle(node),p=geom.getPadExtents(node,s),b=geom.getBorderExtents(node,s);return {l:p.l+b.l,t:p.t+b.t,r:p.r+b.r,b:p.b+b.b,w:p.w+b.w,h:p.h+b.h};};geom.getMarginExtents=function getMarginExtents(node,_26b){node=dom.byId(node);var s=_26b||_267.getComputedStyle(node),px=_267.toPixelValue,l=px(node,s.marginLeft),t=px(node,s.marginTop),r=px(node,s.marginRight),b=px(node,s.marginBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getMarginBox=function getMarginBox(node,_26c){node=dom.byId(node);var s=_26c||_267.getComputedStyle(node),me=geom.getMarginExtents(node,s),l=node.offsetLeft-me.l,t=node.offsetTop-me.t,p=node.parentNode,px=_267.toPixelValue,pcs;if(has("mozilla")){var sl=parseFloat(s.left),st=parseFloat(s.top);if(!isNaN(sl)&&!isNaN(st)){l=sl;t=st;}else{if(p&&p.style){pcs=_267.getComputedStyle(p);if(pcs.overflow!="visible"){l+=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t+=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}}else{if(has("opera")||(has("ie")==8&&!has("quirks"))){if(p){pcs=_267.getComputedStyle(p);l-=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t-=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}return {l:l,t:t,w:node.offsetWidth+me.w,h:node.offsetHeight+me.h};};geom.getContentBox=function getContentBox(node,_26d){node=dom.byId(node);var s=_26d||_267.getComputedStyle(node),w=node.clientWidth,h,pe=geom.getPadExtents(node,s),be=geom.getBorderExtents(node,s);if(!w){w=node.offsetWidth;h=node.offsetHeight;}else{h=node.clientHeight;be.w=be.h=0;}if(has("opera")){pe.l+=be.l;pe.t+=be.t;}return {l:pe.l,t:pe.t,w:w-pe.w-be.w,h:h-pe.h-be.h};};function _26e(node,l,t,w,h,u){u=u||"px";var s=node.style;if(!isNaN(l)){s.left=l+u;}if(!isNaN(t)){s.top=t+u;}if(w>=0){s.width=w+u;}if(h>=0){s.height=h+u;}};function _26f(node){return node.tagName.toLowerCase()=="button"||node.tagName.toLowerCase()=="input"&&(node.getAttribute("type")||"").toLowerCase()=="button";};function _270(node){return geom.boxModel=="border-box"||node.tagName.toLowerCase()=="table"||_26f(node);};geom.setContentSize=function setContentSize(node,box,_271){node=dom.byId(node);var w=box.w,h=box.h;if(_270(node)){var pb=geom.getPadBorderExtents(node,_271);if(w>=0){w+=pb.w;}if(h>=0){h+=pb.h;}}_26e(node,NaN,NaN,w,h);};var _272={l:0,t:0,w:0,h:0};geom.setMarginBox=function setMarginBox(node,box,_273){node=dom.byId(node);var s=_273||_267.getComputedStyle(node),w=box.w,h=box.h,pb=_270(node)?_272:geom.getPadBorderExtents(node,s),mb=geom.getMarginExtents(node,s);if(has("webkit")){if(_26f(node)){var ns=node.style;if(w>=0&&!ns.width){ns.width="4px";}if(h>=0&&!ns.height){ns.height="4px";}}}if(w>=0){w=Math.max(w-pb.w-mb.w,0);}if(h>=0){h=Math.max(h-pb.h-mb.h,0);}_26e(node,box.l,box.t,w,h);};geom.isBodyLtr=function isBodyLtr(doc){doc=doc||win.doc;return (win.body(doc).dir||doc.documentElement.dir||"ltr").toLowerCase()=="ltr";};geom.docScroll=function docScroll(doc){doc=doc||win.doc;var node=win.doc.parentWindow||win.doc.defaultView;return "pageXOffset" in node?{x:node.pageXOffset,y:node.pageYOffset}:(node=has("quirks")?win.body(doc):doc.documentElement)&&{x:geom.fixIeBiDiScrollLeft(node.scrollLeft||0,doc),y:node.scrollTop||0};};if(has("ie")){geom.getIeDocumentElementOffset=function getIeDocumentElementOffset(doc){doc=doc||win.doc;var de=doc.documentElement;if(has("ie")<8){var r=de.getBoundingClientRect(),l=r.left,t=r.top;if(has("ie")<7){l+=de.clientLeft;t+=de.clientTop;}return {x:l<0?0:l,y:t<0?0:t};}else{return {x:0,y:0};}};}geom.fixIeBiDiScrollLeft=function fixIeBiDiScrollLeft(_274,doc){doc=doc||win.doc;var ie=has("ie");if(ie&&!geom.isBodyLtr(doc)){var qk=has("quirks"),de=qk?win.body(doc):doc.documentElement,pwin=win.global;if(ie==6&&!qk&&pwin.frameElement&&de.scrollHeight>de.clientHeight){_274+=de.clientLeft;}return (ie<8||qk)?(_274+de.clientWidth-de.scrollWidth):-_274;}return _274;};geom.position=function(node,_275){node=dom.byId(node);var db=win.body(node.ownerDocument),ret=node.getBoundingClientRect();ret={x:ret.left,y:ret.top,w:ret.right-ret.left,h:ret.bottom-ret.top};if(has("ie")<9){var _276=geom.getIeDocumentElementOffset(node.ownerDocument);ret.x-=_276.x+(has("quirks")?db.clientLeft+db.offsetLeft:0);ret.y-=_276.y+(has("quirks")?db.clientTop+db.offsetTop:0);}if(_275){var _277=geom.docScroll(node.ownerDocument);ret.x+=_277.x;ret.y+=_277.y;}return ret;};geom.getMarginSize=function getMarginSize(node,_278){node=dom.byId(node);var me=geom.getMarginExtents(node,_278||_267.getComputedStyle(node));var size=node.getBoundingClientRect();return {w:(size.right-size.left)+me.w,h:(size.bottom-size.top)+me.h};};geom.normalizeEvent=function(_279){if(!("layerX" in _279)){_279.layerX=_279.offsetX;_279.layerY=_279.offsetY;}if(!has("dom-addeventlistener")){var se=_279.target;var doc=(se&&se.ownerDocument)||document;var _27a=has("quirks")?doc.body:doc.documentElement;var _27b=geom.getIeDocumentElementOffset(doc);_279.pageX=_279.clientX+geom.fixIeBiDiScrollLeft(_27a.scrollLeft||0,doc)-_27b.x;_279.pageY=_279.clientY+(_27a.scrollTop||0)-_27b.y;}};return geom;});},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(dojo,lang,has){var ret={global:dojo.global,doc:this["document"]||null,body:function(doc){doc=doc||dojo.doc;return doc.body||doc.getElementsByTagName("body")[0];},setContext:function(_27c,_27d){dojo.global=ret.global=_27c;dojo.doc=ret.doc=_27d;},withGlobal:function(_27e,_27f,_280,_281){var _282=dojo.global;try{dojo.global=ret.global=_27e;return ret.withDoc.call(null,_27e.document,_27f,_280,_281);}finally{dojo.global=ret.global=_282;}},withDoc:function(_283,_284,_285,_286){var _287=ret.doc,oldQ=has("quirks"),_288=has("ie"),isIE,mode,pwin;try{dojo.doc=ret.doc=_283;dojo.isQuirks=has.add("quirks",dojo.doc.compatMode=="BackCompat",true,true);if(has("ie")){if((pwin=_283.parentWindow)&&pwin.navigator){isIE=parseFloat(pwin.navigator.appVersion.split("MSIE ")[1])||undefined;mode=_283.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}dojo.isIE=has.add("ie",isIE,true,true);}}if(_285&&typeof _284=="string"){_284=_285[_284];}return _284.apply(_285,_286||[]);}finally{dojo.doc=ret.doc=_287;dojo.isQuirks=has.add("quirks",oldQ,true,true);dojo.isIE=has.add("ie",_288,true,true);}}};1&&lang.mixin(dojo,ret);return ret;});},"dojo/dom":function(){define(["./sniff","./_base/window"],function(has,win){if(has("ie")<=7){try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}}var dom={};if(has("ie")){dom.byId=function(id,doc){if(typeof id!="string"){return id;}var _289=doc||win.doc,te=id&&_289.getElementById(id);if(te&&(te.attributes.id.value==id||te.id==id)){return te;}else{var eles=_289.all[id];if(!eles||eles.nodeName){eles=[eles];}var i=0;while((te=eles[i++])){if((te.attributes&&te.attributes.id&&te.attributes.id.value==id)||te.id==id){return te;}}}};}else{dom.byId=function(id,doc){return ((typeof id=="string")?(doc||win.doc).getElementById(id):id)||null;};}dom.isDescendant=function(node,_28a){try{node=dom.byId(node);_28a=dom.byId(_28a);while(node){if(node==_28a){return true;}node=node.parentNode;}}catch(e){}return false;};has.add("css-user-select",function(_28b,doc,_28c){if(!_28c){return false;}var _28d=_28c.style;var _28e=["Khtml","O","ms","Moz","Webkit"],i=_28e.length,name="userSelect",_28f;do{if(typeof _28d[name]!=="undefined"){return name;}}while(i--&&(name=_28e[i]+"UserSelect"));return false;});var _290=has("css-user-select");dom.setSelectable=_290?function(node,_291){dom.byId(node).style[_290]=_291?"":"none";}:function(node,_292){node=dom.byId(node);var _293=node.getElementsByTagName("*"),i=_293.length;if(_292){node.removeAttribute("unselectable");while(i--){_293[i].removeAttribute("unselectable");}}else{node.setAttribute("unselectable","on");while(i--){_293[i].setAttribute("unselectable","on");}}};return dom;});},"dojo/dom-style":function(){define(["./sniff","./dom"],function(has,dom){var _294,_295={};if(has("webkit")){_294=function(node){var s;if(node.nodeType==1){var dv=node.ownerDocument.defaultView;s=dv.getComputedStyle(node,null);if(!s&&node.style){node.style.display="";s=dv.getComputedStyle(node,null);}}return s||{};};}else{if(has("ie")&&(has("ie")<9||has("quirks"))){_294=function(node){return node.nodeType==1&&node.currentStyle?node.currentStyle:{};};}else{_294=function(node){return node.nodeType==1?node.ownerDocument.defaultView.getComputedStyle(node,null):{};};}}_295.getComputedStyle=_294;var _296;if(!has("ie")){_296=function(_297,_298){return parseFloat(_298)||0;};}else{_296=function(_299,_29a){if(!_29a){return 0;}if(_29a=="medium"){return 4;}if(_29a.slice&&_29a.slice(-2)=="px"){return parseFloat(_29a);}var s=_299.style,rs=_299.runtimeStyle,cs=_299.currentStyle,_29b=s.left,_29c=rs.left;rs.left=cs.left;try{s.left=_29a;_29a=s.pixelLeft;}catch(e){_29a=0;}s.left=_29b;rs.left=_29c;return _29a;};}_295.toPixelValue=_296;var astr="DXImageTransform.Microsoft.Alpha";var af=function(n,f){try{return n.filters.item(astr);}catch(e){return f?{}:null;}};var _29d=has("ie")<9||(has("ie")<10&&has("quirks"))?function(node){try{return af(node).Opacity/100;}catch(e){return 1;}}:function(node){return _294(node).opacity;};var _29e=has("ie")<9||(has("ie")<10&&has("quirks"))?function(node,_29f){var ov=_29f*100,_2a0=_29f==1;node.style.zoom=_2a0?"":1;if(!af(node)){if(_2a0){return _29f;}node.style.filter+=" progid:"+astr+"(Opacity="+ov+")";}else{af(node,1).Opacity=ov;}af(node,1).Enabled=!_2a0;if(node.tagName.toLowerCase()=="tr"){for(var td=node.firstChild;td;td=td.nextSibling){if(td.tagName.toLowerCase()=="td"){_29e(td,_29f);}}}return _29f;}:function(node,_2a1){return node.style.opacity=_2a1;};var _2a2={left:true,top:true};var _2a3=/margin|padding|width|height|max|min|offset/;function _2a4(node,type,_2a5){type=type.toLowerCase();if(has("ie")){if(_2a5=="auto"){if(type=="height"){return node.offsetHeight;}if(type=="width"){return node.offsetWidth;}}if(type=="fontweight"){switch(_2a5){case 700:return "bold";case 400:default:return "normal";}}}if(!(type in _2a2)){_2a2[type]=_2a3.test(type);}return _2a2[type]?_296(node,_2a5):_2a5;};var _2a6=has("ie")?"styleFloat":"cssFloat",_2a7={"cssFloat":_2a6,"styleFloat":_2a6,"float":_2a6};_295.get=function getStyle(node,name){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");if(l==2&&op){return _29d(n);}name=_2a7[name]||name;var s=_295.getComputedStyle(n);return (l==1)?s:_2a4(n,name,s[name]||n.style[name]);};_295.set=function setStyle(node,name,_2a8){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");name=_2a7[name]||name;if(l==3){return op?_29e(n,_2a8):n.style[name]=_2a8;}for(var x in name){_295.set(node,x,name[x]);}return _295.getComputedStyle(n);};return _295;});},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(dojo,on,has,dom,win){has.add("dom-quirks",win.doc&&win.doc.compatMode=="BackCompat");has.add("events-mouseenter",win.doc&&"onmouseenter" in win.doc.createElement("div"));has.add("events-mousewheel",win.doc&&"onmousewheel" in win.doc);var _2a9;if((has("dom-quirks")&&has("ie"))||!has("dom-addeventlistener")){_2a9={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,_2aa){return e.button&_2aa;},isLeft:function(e){return e.button&1;},isMiddle:function(e){return e.button&4;},isRight:function(e){return e.button&2;}};}else{_2a9={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,_2ab){return e.button==_2ab;},isLeft:function(e){return e.button==0;},isMiddle:function(e){return e.button==1;},isRight:function(e){return e.button==2;}};}dojo.mouseButtons=_2a9;function _2ac(type,_2ad){var _2ae=function(node,_2af){return on(node,type,function(evt){if(_2ad){return _2ad(evt,_2af);}if(!dom.isDescendant(evt.relatedTarget,node)){return _2af.call(this,evt);}});};_2ae.bubble=function(_2b0){return _2ac(type,function(evt,_2b1){var _2b2=_2b0(evt.target);var _2b3=evt.relatedTarget;if(_2b2&&(_2b2!=(_2b3&&_2b3.nodeType==1&&_2b0(_2b3)))){return _2b1.call(_2b2,evt);}});};return _2ae;};var _2b4;if(has("events-mousewheel")){_2b4="mousewheel";}else{_2b4=function(node,_2b5){return on(node,"DOMMouseScroll",function(evt){evt.wheelDelta=-evt.detail;_2b5.call(this,evt);});};}return {_eventHandler:_2ac,enter:_2ac("mouseover"),leave:_2ac("mouseout"),wheel:_2b4,isLeft:_2a9.isLeft,isMiddle:_2a9.isMiddle,isRight:_2a9.isRight};});},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(dojo,lang,has){if(!1){return has;}dojo._name="browser";lang.mixin(dojo,{isBrowser:true,isFF:has("ff"),isIE:has("ie"),isKhtml:has("khtml"),isWebKit:has("webkit"),isMozilla:has("mozilla"),isMoz:has("mozilla"),isOpera:has("opera"),isSafari:has("safari"),isChrome:has("chrome"),isMac:has("mac"),isIos:has("ios"),isAndroid:has("android"),isWii:has("wii"),isQuirks:has("quirks"),isAir:has("air")});dojo.locale=dojo.locale||(has("ie")?navigator.userLanguage:navigator.language).toLowerCase();return has;});},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(dojo,has){return dojo.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:has("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:has("mac")&&!has("air")?(has("safari")?91:224):17};});},"dojo/_base/Deferred":function(){define(["./kernel","../Deferred","../promise/Promise","../errors/CancelError","../has","./lang","../when"],function(dojo,_2b6,_2b7,_2b8,has,lang,when){var _2b9=function(){};var _2ba=Object.freeze||function(){};var _2bb=dojo.Deferred=function(_2bc){var _2bd,_2be,_2bf,head,_2c0;var _2c1=(this.promise=new _2b7());function _2c2(_2c3){if(_2be){throw new Error("This deferred has already been resolved");}_2bd=_2c3;_2be=true;_2c4();};function _2c4(){var _2c5;while(!_2c5&&_2c0){var _2c6=_2c0;_2c0=_2c0.next;if((_2c5=(_2c6.progress==_2b9))){_2be=false;}var func=(_2bf?_2c6.error:_2c6.resolved);if(has("config-useDeferredInstrumentation")){if(_2bf&&_2b6.instrumentRejected){_2b6.instrumentRejected(_2bd,!!func);}}if(func){try{var _2c7=func(_2bd);if(_2c7&&typeof _2c7.then==="function"){_2c7.then(lang.hitch(_2c6.deferred,"resolve"),lang.hitch(_2c6.deferred,"reject"),lang.hitch(_2c6.deferred,"progress"));continue;}var _2c8=_2c5&&_2c7===undefined;if(_2c5&&!_2c8){_2bf=_2c7 instanceof Error;}_2c6.deferred[_2c8&&_2bf?"reject":"resolve"](_2c8?_2bd:_2c7);}catch(e){_2c6.deferred.reject(e);}}else{if(_2bf){_2c6.deferred.reject(_2bd);}else{_2c6.deferred.resolve(_2bd);}}}};this.resolve=this.callback=function(_2c9){this.fired=0;this.results=[_2c9,null];_2c2(_2c9);};this.reject=this.errback=function(_2ca){_2bf=true;this.fired=1;if(has("config-useDeferredInstrumentation")){if(_2b6.instrumentRejected){_2b6.instrumentRejected(_2ca,!!_2c0);}}_2c2(_2ca);this.results=[null,_2ca];};this.progress=function(_2cb){var _2cc=_2c0;while(_2cc){var _2cd=_2cc.progress;_2cd&&_2cd(_2cb);_2cc=_2cc.next;}};this.addCallbacks=function(_2ce,_2cf){this.then(_2ce,_2cf,_2b9);return this;};_2c1.then=this.then=function(_2d0,_2d1,_2d2){var _2d3=_2d2==_2b9?this:new _2bb(_2c1.cancel);var _2d4={resolved:_2d0,error:_2d1,progress:_2d2,deferred:_2d3};if(_2c0){head=head.next=_2d4;}else{_2c0=head=_2d4;}if(_2be){_2c4();}return _2d3.promise;};var _2d5=this;_2c1.cancel=this.cancel=function(){if(!_2be){var _2d6=_2bc&&_2bc(_2d5);if(!_2be){if(!(_2d6 instanceof Error)){_2d6=new _2b8(_2d6);}_2d6.log=false;_2d5.reject(_2d6);}}};_2ba(_2c1);};lang.extend(_2bb,{addCallback:function(_2d7){return this.addCallbacks(lang.hitch.apply(dojo,arguments));},addErrback:function(_2d8){return this.addCallbacks(null,lang.hitch.apply(dojo,arguments));},addBoth:function(_2d9){var _2da=lang.hitch.apply(dojo,arguments);return this.addCallbacks(_2da,_2da);},fired:-1});_2bb.when=dojo.when=when;return _2bb;});},"dojo/Deferred":function(){define("dojo/Deferred",["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(has,lang,_2db,_2dc,_2dd){"use strict";var _2de=0,_2df=1,_2e0=2;var _2e1="This deferred has already been fulfilled.";var _2e2=Object.freeze||function(){};var _2e3=function(_2e4,type,_2e5,_2e6,_2e7){if(1){if(type===_2e0&&_2e8.instrumentRejected&&_2e4.length===0){_2e8.instrumentRejected(_2e5,false,_2e6,_2e7);}}for(var i=0;i<_2e4.length;i++){_2e9(_2e4[i],type,_2e5,_2e6);}};var _2e9=function(_2ea,type,_2eb,_2ec){var func=_2ea[type];var _2ed=_2ea.deferred;if(func){try{var _2ee=func(_2eb);if(type===_2de){if(typeof _2ee!=="undefined"){_2ef(_2ed,type,_2ee);}}else{if(_2ee&&typeof _2ee.then==="function"){_2ea.cancel=_2ee.cancel;_2ee.then(_2f0(_2ed,_2df),_2f0(_2ed,_2e0),_2f0(_2ed,_2de));return;}_2ef(_2ed,_2df,_2ee);}}catch(error){_2ef(_2ed,_2e0,error);}}else{_2ef(_2ed,type,_2eb);}if(1){if(type===_2e0&&_2e8.instrumentRejected){_2e8.instrumentRejected(_2eb,!!func,_2ec,_2ed.promise);}}};var _2f0=function(_2f1,type){return function(_2f2){_2ef(_2f1,type,_2f2);};};var _2ef=function(_2f3,type,_2f4){if(!_2f3.isCanceled()){switch(type){case _2de:_2f3.progress(_2f4);break;case _2df:_2f3.resolve(_2f4);break;case _2e0:_2f3.reject(_2f4);break;}}};var _2e8=function(_2f5){var _2f6=this.promise=new _2dc();var _2f7=this;var _2f8,_2f9,_2fa;var _2fb=false;var _2fc=[];if(1&&Error.captureStackTrace){Error.captureStackTrace(_2f7,_2e8);Error.captureStackTrace(_2f6,_2e8);}this.isResolved=_2f6.isResolved=function(){return _2f8===_2df;};this.isRejected=_2f6.isRejected=function(){return _2f8===_2e0;};this.isFulfilled=_2f6.isFulfilled=function(){return !!_2f8;};this.isCanceled=_2f6.isCanceled=function(){return _2fb;};this.progress=function(_2fd,_2fe){if(!_2f8){_2e3(_2fc,_2de,_2fd,null,_2f7);return _2f6;}else{if(_2fe===true){throw new Error(_2e1);}else{return _2f6;}}};this.resolve=function(_2ff,_300){if(!_2f8){_2e3(_2fc,_2f8=_2df,_2f9=_2ff,null,_2f7);_2fc=null;return _2f6;}else{if(_300===true){throw new Error(_2e1);}else{return _2f6;}}};var _301=this.reject=function(_302,_303){if(!_2f8){if(1&&Error.captureStackTrace){Error.captureStackTrace(_2fa={},_301);}_2e3(_2fc,_2f8=_2e0,_2f9=_302,_2fa,_2f7);_2fc=null;return _2f6;}else{if(_303===true){throw new Error(_2e1);}else{return _2f6;}}};this.then=_2f6.then=function(_304,_305,_306){var _307=[_306,_304,_305];_307.cancel=_2f6.cancel;_307.deferred=new _2e8(function(_308){return _307.cancel&&_307.cancel(_308);});if(_2f8&&!_2fc){_2e9(_307,_2f8,_2f9,_2fa);}else{_2fc.push(_307);}return _307.deferred.promise;};this.cancel=_2f6.cancel=function(_309,_30a){if(!_2f8){if(_2f5){var _30b=_2f5(_309);_309=typeof _30b==="undefined"?_309:_30b;}_2fb=true;if(!_2f8){if(typeof _309==="undefined"){_309=new _2db();}_301(_309);return _309;}else{if(_2f8===_2e0&&_2f9===_309){return _309;}}}else{if(_30a===true){throw new Error(_2e1);}}};_2e2(_2f6);};_2e8.prototype.toString=function(){return "[object Deferred]";};if(_2dd){_2dd(_2e8);}return _2e8;});},"dojo/errors/CancelError":function(){define(["./create"],function(_30c){return _30c("CancelError",null,null,{dojoType:"cancel"});});},"dojo/errors/create":function(){define(["../_base/lang"],function(lang){return function(name,ctor,base,_30d){base=base||Error;var _30e=function(_30f){if(base===Error){if(Error.captureStackTrace){Error.captureStackTrace(this,_30e);}var err=Error.call(this,_30f),prop;for(prop in err){if(err.hasOwnProperty(prop)){this[prop]=err[prop];}}this.message=_30f;this.stack=err.stack;}else{base.apply(this,arguments);}if(ctor){ctor.apply(this,arguments);}};_30e.prototype=lang.delegate(base.prototype,_30d);_30e.prototype.name=name;_30e.prototype.constructor=_30e;return _30e;};});},"dojo/promise/Promise":function(){define(["../_base/lang"],function(lang){"use strict";function _310(){throw new TypeError("abstract");};return lang.extend(function Promise(){},{then:function(_311,_312,_313){_310();},cancel:function(_314,_315){_310();},isResolved:function(){_310();},isRejected:function(){_310();},isFulfilled:function(){_310();},isCanceled:function(){_310();},always:function(_316){return this.then(_316,_316);},otherwise:function(_317){return this.then(null,_317);},trace:function(){return this;},traceRejected:function(){return this;},toString:function(){return "[object Promise]";}});});},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(_318,has,lang,_319){function _31a(_31b,_31c,_31d){var _31e="";if(_31b&&_31b.stack){_31e+=_31b.stack;}if(_31c&&_31c.stack){_31e+="\n    ----------------------------------------\n    rejected"+_31c.stack.split("\n").slice(1).join("\n").replace(/^\s+/," ");}if(_31d&&_31d.stack){_31e+="\n    ----------------------------------------\n"+_31d.stack;}console.error(_31b,_31e);};function _31f(_320,_321,_322,_323){if(!_321){_31a(_320,_322,_323);}};var _324=[];var _325=false;var _326=1000;function _327(_328,_329,_32a,_32b){if(_329){_319.some(_324,function(obj,ix){if(obj.error===_328){_324.splice(ix,1);return true;}});}else{if(!_319.some(_324,function(obj){return obj.error===_328;})){_324.push({error:_328,rejection:_32a,deferred:_32b,timestamp:new Date().getTime()});}}if(!_325){_325=setTimeout(_32c,_326);}};function _32c(){var now=new Date().getTime();var _32d=now-_326;_324=_319.filter(_324,function(obj){if(obj.timestamp<_32d){_31a(obj.error,obj.rejection,obj.deferred);return false;}return true;});if(_324.length){_325=setTimeout(_32c,_324[0].timestamp+_326-now);}else{_325=false;}};return function(_32e){var _32f=has("config-useDeferredInstrumentation");if(_32f){_318.on("resolved",lang.hitch(console,"log","resolved"));_318.on("rejected",lang.hitch(console,"log","rejected"));_318.on("progress",lang.hitch(console,"log","progress"));var args=[];if(typeof _32f==="string"){args=_32f.split(",");_32f=args.shift();}if(_32f==="report-rejections"){_32e.instrumentRejected=_31f;}else{if(_32f==="report-unhandled-rejections"||_32f===true||_32f===1){_32e.instrumentRejected=_327;_326=parseInt(args[0],10)||_326;}else{throw new Error("Unsupported instrumentation usage <"+_32f+">");}}}};});},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(lang,_330,_331){"use strict";var _332=new _331;var emit=_332.emit;_332.emit=null;function _333(args){setTimeout(function(){emit.apply(_332,args);},0);};_330.prototype.trace=function(){var args=lang._toArray(arguments);this.then(function(_334){_333(["resolved",_334].concat(args));},function(_335){_333(["rejected",_335].concat(args));},function(_336){_333(["progress",_336].concat(args));});return this;};_330.prototype.traceRejected=function(){var args=lang._toArray(arguments);this.otherwise(function(_337){_333(["rejected",_337].concat(args));});return this;};return _332;});},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(_338,_339){"use strict";return function when(_33a,_33b,_33c,_33d){var _33e=_33a&&typeof _33a.then==="function";var _33f=_33e&&_33a instanceof _339;if(!_33e){if(_33b){return _33b(_33a);}else{return new _338().resolve(_33a);}}else{if(!_33f){var _340=new _338(_33a.cancel);_33a.then(_340.resolve,_340.reject,_340.progress);_33a=_340.promise;}}if(_33b||_33c||_33d){return _33a.then(_33b,_33c,_33d);}return _33a;};});},"dojo/_base/json":function(){define(["./kernel","../json"],function(dojo,json){dojo.fromJson=function(js){return eval("("+js+")");};dojo._escapeString=json.stringify;dojo.toJsonIndentStr="\t";dojo.toJson=function(it,_341){return json.stringify(it,function(key,_342){if(_342){var tf=_342.__json__||_342.json;if(typeof tf=="function"){return tf.call(_342);}}return _342;},_341&&dojo.toJsonIndentStr);};return dojo;});},"dojo/json":function(){define(["./has"],function(has){"use strict";var _343=typeof JSON!="undefined";has.add("json-parse",_343);has.add("json-stringify",_343&&JSON.stringify({a:0},function(k,v){return v||1;})=="{\"a\":1}");if(has("json-stringify")){return JSON;}else{var _344=function(str){return ("\""+str.replace(/(["\\])/g,"\\$1")+"\"").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r");};return {parse:has("json-parse")?JSON.parse:function(str,_345){if(_345&&!/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str)){throw new SyntaxError("Invalid characters in JSON");}return eval("("+str+")");},stringify:function(_346,_347,_348){var _349;if(typeof _347=="string"){_348=_347;_347=null;}function _34a(it,_34b,key){if(_347){it=_347(key,it);}var val,_34c=typeof it;if(_34c=="number"){return isFinite(it)?it+"":"null";}if(_34c=="boolean"){return it+"";}if(it===null){return "null";}if(typeof it=="string"){return _344(it);}if(_34c=="function"||_34c=="undefined"){return _349;}if(typeof it.toJSON=="function"){return _34a(it.toJSON(key),_34b,key);}if(it instanceof Date){return "\"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z\"".replace(/\{(\w+)(\+)?\}/g,function(t,prop,plus){var num=it["getUTC"+prop]()+(plus?1:0);return num<10?"0"+num:num;});}if(it.valueOf()!==it){return _34a(it.valueOf(),_34b,key);}var _34d=_348?(_34b+_348):"";var sep=_348?" ":"";var _34e=_348?"\n":"";if(it instanceof Array){var itl=it.length,res=[];for(key=0;key<itl;key++){var obj=it[key];val=_34a(obj,_34d,key);if(typeof val!="string"){val="null";}res.push(_34e+_34d+val);}return "["+res.join(",")+_34e+_34b+"]";}var _34f=[];for(key in it){var _350;if(it.hasOwnProperty(key)){if(typeof key=="number"){_350="\""+key+"\"";}else{if(typeof key=="string"){_350=_344(key);}else{continue;}}val=_34a(it[key],_34d,key);if(typeof val!="string"){continue;}_34f.push(_34e+_34d+_350+":"+sep+val);}}return "{"+_34f.join(",")+_34e+_34b+"}";};return _34a(_346,"","");}};}});},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(dojo,lang,_351,_352){var _353=dojo.Color=function(_354){if(_354){this.setColor(_354);}};_353.named={"black":[0,0,0],"silver":[192,192,192],"gray":[128,128,128],"white":[255,255,255],"maroon":[128,0,0],"red":[255,0,0],"purple":[128,0,128],"fuchsia":[255,0,255],"green":[0,128,0],"lime":[0,255,0],"olive":[128,128,0],"yellow":[255,255,0],"navy":[0,0,128],"blue":[0,0,255],"teal":[0,128,128],"aqua":[0,255,255],"transparent":_352.transparentColor||[0,0,0,0]};lang.extend(_353,{r:255,g:255,b:255,a:1,_set:function(r,g,b,a){var t=this;t.r=r;t.g=g;t.b=b;t.a=a;},setColor:function(_355){if(lang.isString(_355)){_353.fromString(_355,this);}else{if(lang.isArray(_355)){_353.fromArray(_355,this);}else{this._set(_355.r,_355.g,_355.b,_355.a);if(!(_355 instanceof _353)){this.sanitize();}}}return this;},sanitize:function(){return this;},toRgb:function(){var t=this;return [t.r,t.g,t.b];},toRgba:function(){var t=this;return [t.r,t.g,t.b,t.a];},toHex:function(){var arr=_351.map(["r","g","b"],function(x){var s=this[x].toString(16);return s.length<2?"0"+s:s;},this);return "#"+arr.join("");},toCss:function(_356){var t=this,rgb=t.r+", "+t.g+", "+t.b;return (_356?"rgba("+rgb+", "+t.a:"rgb("+rgb)+")";},toString:function(){return this.toCss(true);}});_353.blendColors=dojo.blendColors=function(_357,end,_358,obj){var t=obj||new _353();_351.forEach(["r","g","b","a"],function(x){t[x]=_357[x]+(end[x]-_357[x])*_358;if(x!="a"){t[x]=Math.round(t[x]);}});return t.sanitize();};_353.fromRgb=dojo.colorFromRgb=function(_359,obj){var m=_359.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return m&&_353.fromArray(m[1].split(/\s*,\s*/),obj);};_353.fromHex=dojo.colorFromHex=function(_35a,obj){var t=obj||new _353(),bits=(_35a.length==4)?4:8,mask=(1<<bits)-1;_35a=Number("0x"+_35a.substr(1));if(isNaN(_35a)){return null;}_351.forEach(["b","g","r"],function(x){var c=_35a&mask;_35a>>=bits;t[x]=bits==4?17*c:c;});t.a=1;return t;};_353.fromArray=dojo.colorFromArray=function(a,obj){var t=obj||new _353();t._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));if(isNaN(t.a)){t.a=1;}return t.sanitize();};_353.fromString=dojo.colorFromString=function(str,obj){var a=_353.named[str];return a&&_353.fromArray(a,obj)||_353.fromRgb(str,obj)||_353.fromHex(str,obj);};return _353;});},"dojo/_base/browser":function(){if(require.has){require.has.add("config-selectorEngine","acme");}define(["../ready","./kernel","./connect","./unload","./window","./event","./html","./NodeList","../query","./xhr","./fx"],function(dojo){return dojo;});},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(dojo,lang,on){var win=window;var _35b={addOnWindowUnload:function(obj,_35c){if(!dojo.windowUnloaded){on(win,"unload",(dojo.windowUnloaded=function(){}));}on(win,"unload",lang.hitch(obj,_35c));},addOnUnload:function(obj,_35d){on(win,"beforeunload",lang.hitch(obj,_35d));}};dojo.addOnWindowUnload=_35b.addOnWindowUnload;dojo.addOnUnload=_35b.addOnUnload;return _35b;});},"dojo/_base/html":function(){define(["./kernel","../dom","../dom-style","../dom-attr","../dom-prop","../dom-class","../dom-construct","../dom-geometry"],function(dojo,dom,_35e,attr,prop,cls,ctr,geom){dojo.byId=dom.byId;dojo.isDescendant=dom.isDescendant;dojo.setSelectable=dom.setSelectable;dojo.getAttr=attr.get;dojo.setAttr=attr.set;dojo.hasAttr=attr.has;dojo.removeAttr=attr.remove;dojo.getNodeProp=attr.getNodeProp;dojo.attr=function(node,name,_35f){if(arguments.length==2){return attr[typeof name=="string"?"get":"set"](node,name);}return attr.set(node,name,_35f);};dojo.hasClass=cls.contains;dojo.addClass=cls.add;dojo.removeClass=cls.remove;dojo.toggleClass=cls.toggle;dojo.replaceClass=cls.replace;dojo._toDom=dojo.toDom=ctr.toDom;dojo.place=ctr.place;dojo.create=ctr.create;dojo.empty=function(node){ctr.empty(node);};dojo._destroyElement=dojo.destroy=function(node){ctr.destroy(node);};dojo._getPadExtents=dojo.getPadExtents=geom.getPadExtents;dojo._getBorderExtents=dojo.getBorderExtents=geom.getBorderExtents;dojo._getPadBorderExtents=dojo.getPadBorderExtents=geom.getPadBorderExtents;dojo._getMarginExtents=dojo.getMarginExtents=geom.getMarginExtents;dojo._getMarginSize=dojo.getMarginSize=geom.getMarginSize;dojo._getMarginBox=dojo.getMarginBox=geom.getMarginBox;dojo.setMarginBox=geom.setMarginBox;dojo._getContentBox=dojo.getContentBox=geom.getContentBox;dojo.setContentSize=geom.setContentSize;dojo._isBodyLtr=dojo.isBodyLtr=geom.isBodyLtr;dojo._docScroll=dojo.docScroll=geom.docScroll;dojo._getIeDocumentElementOffset=dojo.getIeDocumentElementOffset=geom.getIeDocumentElementOffset;dojo._fixIeBiDiScrollLeft=dojo.fixIeBiDiScrollLeft=geom.fixIeBiDiScrollLeft;dojo.position=geom.position;dojo.marginBox=function marginBox(node,box){return box?geom.setMarginBox(node,box):geom.getMarginBox(node);};dojo.contentBox=function contentBox(node,box){return box?geom.setContentSize(node,box):geom.getContentBox(node);};dojo.coords=function(node,_360){dojo.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");node=dom.byId(node);var s=_35e.getComputedStyle(node),mb=geom.getMarginBox(node,s);var abs=geom.position(node,_360);mb.x=abs.x;mb.y=abs.y;return mb;};dojo.getProp=prop.get;dojo.setProp=prop.set;dojo.prop=function(node,name,_361){if(arguments.length==2){return prop[typeof name=="string"?"get":"set"](node,name);}return prop.set(node,name,_361);};dojo.getStyle=_35e.get;dojo.setStyle=_35e.set;dojo.getComputedStyle=_35e.getComputedStyle;dojo.__toPixelValue=dojo.toPixelValue=_35e.toPixelValue;dojo.style=function(node,name,_362){switch(arguments.length){case 1:return _35e.get(node);case 2:return _35e[typeof name=="string"?"get":"set"](node,name);}return _35e.set(node,name,_362);};return dojo;});},"dojo/dom-attr":function(){define(["exports","./sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(_363,has,lang,dom,_364,prop){var _365={innerHTML:1,className:1,htmlFor:has("ie"),value:1},_366={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};function _367(node,name){var attr=node.getAttributeNode&&node.getAttributeNode(name);return attr&&attr.specified;};_363.has=function hasAttr(node,name){var lc=name.toLowerCase();return _365[prop.names[lc]||name]||_367(dom.byId(node),_366[lc]||name);};_363.get=function getAttr(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_368=prop.names[lc]||name,_369=_365[_368],_36a=node[_368];if(_369&&typeof _36a!="undefined"){return _36a;}if(_368!="href"&&(typeof _36a=="boolean"||lang.isFunction(_36a))){return _36a;}var _36b=_366[lc]||name;return _367(node,_36b)?node.getAttribute(_36b):null;};_363.set=function setAttr(node,name,_36c){node=dom.byId(node);if(arguments.length==2){for(var x in name){_363.set(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_36d=prop.names[lc]||name,_36e=_365[_36d];if(_36d=="style"&&typeof _36c!="string"){_364.set(node,_36c);return node;}if(_36e||typeof _36c=="boolean"||lang.isFunction(_36c)){return prop.set(node,name,_36c);}node.setAttribute(_366[lc]||name,_36c);return node;};_363.remove=function removeAttr(node,name){dom.byId(node).removeAttribute(_366[name.toLowerCase()]||name);};_363.getNodeProp=function getNodeProp(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_36f=prop.names[lc]||name;if((_36f in node)&&_36f!="href"){return node[_36f];}var _370=_366[lc]||name;return _367(node,_370)?node.getAttribute(_370):null;};});},"dojo/dom-prop":function(){define(["exports","./_base/kernel","./sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(_371,dojo,has,lang,dom,_372,ctr,conn){var _373={},_374=0,_375=dojo._scopeName+"attrid";_371.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};_371.get=function getProp(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_376=_371.names[lc]||name;return node[_376];};_371.set=function setProp(node,name,_377){node=dom.byId(node);var l=arguments.length;if(l==2&&typeof name!="string"){for(var x in name){_371.set(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_378=_371.names[lc]||name;if(_378=="style"&&typeof _377!="string"){_372.set(node,_377);return node;}if(_378=="innerHTML"){if(has("ie")&&node.tagName.toLowerCase() in {col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}){ctr.empty(node);node.appendChild(ctr.toDom(_377,node.ownerDocument));}else{node[_378]=_377;}return node;}if(lang.isFunction(_377)){var _379=node[_375];if(!_379){_379=_374++;node[_375]=_379;}if(!_373[_379]){_373[_379]={};}var h=_373[_379][_378];if(h){conn.disconnect(h);}else{try{delete node[_378];}catch(e){}}if(_377){_373[_379][_378]=conn.connect(node,_378,_377);}else{node[_378]=null;}return node;}node[_378]=_377;return node;};});},"dojo/dom-construct":function(){define(["exports","./_base/kernel","./sniff","./_base/window","./dom","./dom-attr","./on"],function(_37a,dojo,has,win,dom,attr,on){var _37b={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},_37c=/<\s*([\w\:]+)/,_37d={},_37e=0,_37f="__"+dojo._scopeName+"ToDomId";for(var _380 in _37b){if(_37b.hasOwnProperty(_380)){var tw=_37b[_380];tw.pre=_380=="option"?"<select multiple=\"multiple\">":"<"+tw.join("><")+">";tw.post="</"+tw.reverse().join("></")+">";}}function _381(node,ref){var _382=ref.parentNode;if(_382){_382.insertBefore(node,ref);}};function _383(node,ref){var _384=ref.parentNode;if(_384){if(_384.lastChild==ref){_384.appendChild(node);}else{_384.insertBefore(node,ref.nextSibling);}}};_37a.toDom=function toDom(frag,doc){doc=doc||win.doc;var _385=doc[_37f];if(!_385){doc[_37f]=_385=++_37e+"";_37d[_385]=doc.createElement("div");}frag+="";var _386=frag.match(_37c),tag=_386?_386[1].toLowerCase():"",_387=_37d[_385],wrap,i,fc,df;if(_386&&_37b[tag]){wrap=_37b[tag];_387.innerHTML=wrap.pre+frag+wrap.post;for(i=wrap.length;i;--i){_387=_387.firstChild;}}else{_387.innerHTML=frag;}if(_387.childNodes.length==1){return _387.removeChild(_387.firstChild);}df=doc.createDocumentFragment();while((fc=_387.firstChild)){df.appendChild(fc);}return df;};_37a.place=function place(node,_388,_389){_388=dom.byId(_388);if(typeof node=="string"){node=/^\s*</.test(node)?_37a.toDom(node,_388.ownerDocument):dom.byId(node);}if(typeof _389=="number"){var cn=_388.childNodes;if(!cn.length||cn.length<=_389){_388.appendChild(node);}else{_381(node,cn[_389<0?0:_389]);}}else{switch(_389){case "before":_381(node,_388);break;case "after":_383(node,_388);break;case "replace":_388.parentNode.replaceChild(node,_388);break;case "only":_37a.empty(_388);_388.appendChild(node);break;case "first":if(_388.firstChild){_381(node,_388.firstChild);break;}default:_388.appendChild(node);}}return node;};_37a.create=function create(tag,_38a,_38b,pos){var doc=win.doc;if(_38b){_38b=dom.byId(_38b);doc=_38b.ownerDocument;}if(typeof tag=="string"){tag=doc.createElement(tag);}if(_38a){attr.set(tag,_38a);}if(_38b){_37a.place(tag,_38b,pos);}return tag;};var _38c=has("ie")?function(node){try{node.innerHTML="";}catch(e){for(var c;c=node.lastChild;){_38d(c,node);}}}:function(node){node.innerHTML="";};_37a.empty=function empty(node){_38c(dom.byId(node));};function _38d(node,_38e){if(node.firstChild){_38c(node);}if(_38e){_38e.removeChild(node);}};_37a.destroy=function destroy(node){node=dom.byId(node);if(!node){return;}_38d(node,node.parentNode);};});},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(lang,_38f,dom){var _390="className";var cls,_391=/\s+/,a1=[""];function _392(s){if(typeof s=="string"||s instanceof String){if(s&&!_391.test(s)){a1[0]=s;return a1;}var a=s.split(_391);if(a.length&&!a[0]){a.shift();}if(a.length&&!a[a.length-1]){a.pop();}return a;}if(!s){return [];}return _38f.filter(s,function(x){return x;});};var _393={};cls={contains:function containsClass(node,_394){return ((" "+dom.byId(node)[_390]+" ").indexOf(" "+_394+" ")>=0);},add:function addClass(node,_395){node=dom.byId(node);_395=_392(_395);var cls=node[_390],_396;cls=cls?" "+cls+" ":" ";_396=cls.length;for(var i=0,len=_395.length,c;i<len;++i){c=_395[i];if(c&&cls.indexOf(" "+c+" ")<0){cls+=c+" ";}}if(_396<cls.length){node[_390]=cls.substr(1,cls.length-2);}},remove:function removeClass(node,_397){node=dom.byId(node);var cls;if(_397!==undefined){_397=_392(_397);cls=" "+node[_390]+" ";for(var i=0,len=_397.length;i<len;++i){cls=cls.replace(" "+_397[i]+" "," ");}cls=lang.trim(cls);}else{cls="";}if(node[_390]!=cls){node[_390]=cls;}},replace:function replaceClass(node,_398,_399){node=dom.byId(node);_393[_390]=node[_390];cls.remove(_393,_399);cls.add(_393,_398);if(node[_390]!==_393[_390]){node[_390]=_393[_390];}},toggle:function toggleClass(node,_39a,_39b){node=dom.byId(node);if(_39b===undefined){_39a=_392(_39a);for(var i=0,len=_39a.length,c;i<len;++i){c=_39a[i];cls[cls.contains(node,c)?"remove":"add"](node,c);}}else{cls[_39b?"add":"remove"](node,_39a);}return _39b;}};return cls;});},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(dojo,_39c,_39d){var _39e=_39c.NodeList,nlp=_39e.prototype;nlp.connect=_39e._adaptAsForEach(function(){return dojo.connect.apply(this,arguments);});nlp.coords=_39e._adaptAsMap(dojo.coords);_39e.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"];_39d.forEach(_39e.events,function(evt){var _39f="on"+evt;nlp[_39f]=function(a,b){return this.connect(_39f,a,b);};});dojo.NodeList=_39e;return _39e;});},"dojo/query":function(){define(["./_base/kernel","./has","./dom","./on","./_base/array","./_base/lang","./selector/_loader","./selector/_loader!default"],function(dojo,has,dom,on,_3a0,lang,_3a1,_3a2){"use strict";has.add("array-extensible",function(){return lang.delegate([],{length:1}).length==1&&!has("bug-for-in-skips-shadowed");});var ap=Array.prototype,aps=ap.slice,apc=ap.concat,_3a3=_3a0.forEach;var tnl=function(a,_3a4,_3a5){var _3a6=new (_3a5||this._NodeListCtor||nl)(a);return _3a4?_3a6._stash(_3a4):_3a6;};var _3a7=function(f,a,o){a=[0].concat(aps.call(a,0));o=o||dojo.global;return function(node){a[0]=node;return f.apply(o,a);};};var _3a8=function(f,o){return function(){this.forEach(_3a7(f,arguments,o));return this;};};var _3a9=function(f,o){return function(){return this.map(_3a7(f,arguments,o));};};var _3aa=function(f,o){return function(){return this.filter(_3a7(f,arguments,o));};};var _3ab=function(f,g,o){return function(){var a=arguments,body=_3a7(f,a,o);if(g.call(o||dojo.global,a)){return this.map(body);}this.forEach(body);return this;};};var _3ac=function(_3ad){var _3ae=this instanceof nl&&has("array-extensible");if(typeof _3ad=="number"){_3ad=Array(_3ad);}var _3af=(_3ad&&"length" in _3ad)?_3ad:arguments;if(_3ae||!_3af.sort){var _3b0=_3ae?this:[],l=_3b0.length=_3af.length;for(var i=0;i<l;i++){_3b0[i]=_3af[i];}if(_3ae){return _3b0;}_3af=_3b0;}lang._mixin(_3af,nlp);_3af._NodeListCtor=function(_3b1){return nl(_3b1);};return _3af;};var nl=_3ac,nlp=nl.prototype=has("array-extensible")?[]:{};nl._wrap=nlp._wrap=tnl;nl._adaptAsMap=_3a9;nl._adaptAsForEach=_3a8;nl._adaptAsFilter=_3aa;nl._adaptWithCondition=_3ab;_3a3(["slice","splice"],function(name){var f=ap[name];nlp[name]=function(){return this._wrap(f.apply(this,arguments),name=="slice"?this:null);};});_3a3(["indexOf","lastIndexOf","every","some"],function(name){var f=_3a0[name];nlp[name]=function(){return f.apply(dojo,[this].concat(aps.call(arguments,0)));};});lang.extend(_3ac,{constructor:nl,_NodeListCtor:nl,toString:function(){return this.join(",");},_stash:function(_3b2){this._parent=_3b2;return this;},on:function(_3b3,_3b4){var _3b5=this.map(function(node){return on(node,_3b3,_3b4);});_3b5.remove=function(){for(var i=0;i<_3b5.length;i++){_3b5[i].remove();}};return _3b5;},end:function(){if(this._parent){return this._parent;}else{return new this._NodeListCtor(0);}},concat:function(item){var t=aps.call(this,0),m=_3a0.map(arguments,function(a){return aps.call(a,0);});return this._wrap(apc.apply(t,m),this);},map:function(func,obj){return this._wrap(_3a0.map(this,func,obj),this);},forEach:function(_3b6,_3b7){_3a3(this,_3b6,_3b7);return this;},filter:function(_3b8){var a=arguments,_3b9=this,_3ba=0;if(typeof _3b8=="string"){_3b9=_3bb._filterResult(this,a[0]);if(a.length==1){return _3b9._stash(this);}_3ba=1;}return this._wrap(_3a0.filter(_3b9,a[_3ba],a[_3ba+1]),this);},instantiate:function(_3bc,_3bd){var c=lang.isFunction(_3bc)?_3bc:lang.getObject(_3bc);_3bd=_3bd||{};return this.forEach(function(node){new c(_3bd,node);});},at:function(){var t=new this._NodeListCtor(0);_3a3(arguments,function(i){if(i<0){i=this.length+i;}if(this[i]){t.push(this[i]);}},this);return t._stash(this);}});function _3be(_3bf,_3c0){var _3c1=function(_3c2,root){if(typeof root=="string"){root=dom.byId(root);if(!root){return new _3c0([]);}}var _3c3=typeof _3c2=="string"?_3bf(_3c2,root):_3c2?_3c2.orphan?_3c2:[_3c2]:[];if(_3c3.orphan){return _3c3;}return new _3c0(_3c3);};_3c1.matches=_3bf.match||function(node,_3c4,root){return _3c1.filter([node],_3c4,root).length>0;};_3c1.filter=_3bf.filter||function(_3c5,_3c6,root){return _3c1(_3c6,root).filter(function(node){return _3a0.indexOf(_3c5,node)>-1;});};if(typeof _3bf!="function"){var _3c7=_3bf.search;_3bf=function(_3c8,root){return _3c7(root||document,_3c8);};}return _3c1;};var _3bb=_3be(_3a2,_3ac);dojo.query=_3be(_3a2,function(_3c9){return _3ac(_3c9);});_3bb.load=function(id,_3ca,_3cb){_3a1.load(id,_3ca,function(_3cc){_3cb(_3be(_3cc,_3ac));});};dojo._filterQueryResult=_3bb._filterResult=function(_3cd,_3ce,root){return new _3ac(_3bb.filter(_3cd,_3ce,root));};dojo.NodeList=_3bb.NodeList=_3ac;return _3bb;});},"dojo/selector/_loader":function(){define(["../has","require"],function(has,_3cf){"use strict";var _3d0=document.createElement("div");has.add("dom-qsa2.1",!!_3d0.querySelectorAll);has.add("dom-qsa3",function(){try{_3d0.innerHTML="<p class='TEST'></p>";return _3d0.querySelectorAll(".TEST:empty").length==1;}catch(e){}});var _3d1;var acme="./acme",lite="./lite";return {load:function(id,_3d2,_3d3,_3d4){var req=_3cf;id=id=="default"?has("config-selectorEngine")||"css3":id;id=id=="css2"||id=="lite"?lite:id=="css2.1"?has("dom-qsa2.1")?lite:acme:id=="css3"?has("dom-qsa3")?lite:acme:id=="acme"?acme:(req=_3d2)&&id;if(id.charAt(id.length-1)=="?"){id=id.substring(0,id.length-1);var _3d5=true;}if(_3d5&&(has("dom-compliant-qsa")||_3d1)){return _3d3(_3d1);}req([id],function(_3d6){if(id!="./lite"){_3d1=_3d6;}_3d3(_3d6);});}};});},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(dom,has,_3d7,lang,win){var trim=lang.trim;var each=_3d7.forEach;var _3d8=function(){return win.doc;};var _3d9=(_3d8().compatMode)=="BackCompat";var _3da=">~+";var _3db=false;var _3dc=function(){return true;};var _3dd=function(_3de){if(_3da.indexOf(_3de.slice(-1))>=0){_3de+=" * ";}else{_3de+=" ";}var ts=function(s,e){return trim(_3de.slice(s,e));};var _3df=[];var _3e0=-1,_3e1=-1,_3e2=-1,_3e3=-1,_3e4=-1,inId=-1,_3e5=-1,_3e6,lc="",cc="",_3e7;var x=0,ql=_3de.length,_3e8=null,_3e9=null;var _3ea=function(){if(_3e5>=0){var tv=(_3e5==x)?null:ts(_3e5,x);_3e8[(_3da.indexOf(tv)<0)?"tag":"oper"]=tv;_3e5=-1;}};var _3eb=function(){if(inId>=0){_3e8.id=ts(inId,x).replace(/\\/g,"");inId=-1;}};var _3ec=function(){if(_3e4>=0){_3e8.classes.push(ts(_3e4+1,x).replace(/\\/g,""));_3e4=-1;}};var _3ed=function(){_3eb();_3ea();_3ec();};var _3ee=function(){_3ed();if(_3e3>=0){_3e8.pseudos.push({name:ts(_3e3+1,x)});}_3e8.loops=(_3e8.pseudos.length||_3e8.attrs.length||_3e8.classes.length);_3e8.oquery=_3e8.query=ts(_3e7,x);_3e8.otag=_3e8.tag=(_3e8["oper"])?null:(_3e8.tag||"*");if(_3e8.tag){_3e8.tag=_3e8.tag.toUpperCase();}if(_3df.length&&(_3df[_3df.length-1].oper)){_3e8.infixOper=_3df.pop();_3e8.query=_3e8.infixOper.query+" "+_3e8.query;}_3df.push(_3e8);_3e8=null;};for(;lc=cc,cc=_3de.charAt(x),x<ql;x++){if(lc=="\\"){continue;}if(!_3e8){_3e7=x;_3e8={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return _3db?this.otag:this.tag;}};_3e5=x;}if(_3e6){if(cc==_3e6){_3e6=null;}continue;}else{if(cc=="'"||cc=="\""){_3e6=cc;continue;}}if(_3e0>=0){if(cc=="]"){if(!_3e9.attr){_3e9.attr=ts(_3e0+1,x);}else{_3e9.matchFor=ts((_3e2||_3e0+1),x);}var cmf=_3e9.matchFor;if(cmf){if((cmf.charAt(0)=="\"")||(cmf.charAt(0)=="'")){_3e9.matchFor=cmf.slice(1,-1);}}if(_3e9.matchFor){_3e9.matchFor=_3e9.matchFor.replace(/\\/g,"");}_3e8.attrs.push(_3e9);_3e9=null;_3e0=_3e2=-1;}else{if(cc=="="){var _3ef=("|~^$*".indexOf(lc)>=0)?lc:"";_3e9.type=_3ef+cc;_3e9.attr=ts(_3e0+1,x-_3ef.length);_3e2=x+1;}}}else{if(_3e1>=0){if(cc==")"){if(_3e3>=0){_3e9.value=ts(_3e1+1,x);}_3e3=_3e1=-1;}}else{if(cc=="#"){_3ed();inId=x+1;}else{if(cc=="."){_3ed();_3e4=x;}else{if(cc==":"){_3ed();_3e3=x;}else{if(cc=="["){_3ed();_3e0=x;_3e9={};}else{if(cc=="("){if(_3e3>=0){_3e9={name:ts(_3e3+1,x),value:null};_3e8.pseudos.push(_3e9);}_3e1=x;}else{if((cc==" ")&&(lc!=cc)){_3ee();}}}}}}}}}return _3df;};var _3f0=function(_3f1,_3f2){if(!_3f1){return _3f2;}if(!_3f2){return _3f1;}return function(){return _3f1.apply(window,arguments)&&_3f2.apply(window,arguments);};};var _3f3=function(i,arr){var r=arr||[];if(i){r.push(i);}return r;};var _3f4=function(n){return (1==n.nodeType);};var _3f5="";var _3f6=function(elem,attr){if(!elem){return _3f5;}if(attr=="class"){return elem.className||_3f5;}if(attr=="for"){return elem.htmlFor||_3f5;}if(attr=="style"){return elem.style.cssText||_3f5;}return (_3db?elem.getAttribute(attr):elem.getAttribute(attr,2))||_3f5;};var _3f7={"*=":function(attr,_3f8){return function(elem){return (_3f6(elem,attr).indexOf(_3f8)>=0);};},"^=":function(attr,_3f9){return function(elem){return (_3f6(elem,attr).indexOf(_3f9)==0);};},"$=":function(attr,_3fa){return function(elem){var ea=" "+_3f6(elem,attr);var _3fb=ea.lastIndexOf(_3fa);return _3fb>-1&&(_3fb==(ea.length-_3fa.length));};},"~=":function(attr,_3fc){var tval=" "+_3fc+" ";return function(elem){var ea=" "+_3f6(elem,attr)+" ";return (ea.indexOf(tval)>=0);};},"|=":function(attr,_3fd){var _3fe=_3fd+"-";return function(elem){var ea=_3f6(elem,attr);return ((ea==_3fd)||(ea.indexOf(_3fe)==0));};},"=":function(attr,_3ff){return function(elem){return (_3f6(elem,attr)==_3ff);};}};var _400=(typeof _3d8().firstChild.nextElementSibling=="undefined");var _401=!_400?"nextElementSibling":"nextSibling";var _402=!_400?"previousElementSibling":"previousSibling";var _403=(_400?_3f4:_3dc);var _404=function(node){while(node=node[_402]){if(_403(node)){return false;}}return true;};var _405=function(node){while(node=node[_401]){if(_403(node)){return false;}}return true;};var _406=function(node){var root=node.parentNode;root=root.nodeType!=7?root:root.nextSibling;var i=0,tret=root.children||root.childNodes,ci=(node["_i"]||node.getAttribute("_i")||-1),cl=(root["_l"]||(typeof root.getAttribute!=="undefined"?root.getAttribute("_l"):-1));if(!tret){return -1;}var l=tret.length;if(cl==l&&ci>=0&&cl>=0){return ci;}if(has("ie")&&typeof root.setAttribute!=="undefined"){root.setAttribute("_l",l);}else{root["_l"]=l;}ci=-1;for(var te=root["firstElementChild"]||root["firstChild"];te;te=te[_401]){if(_403(te)){if(has("ie")){te.setAttribute("_i",++i);}else{te["_i"]=++i;}if(node===te){ci=i;}}}return ci;};var _407=function(elem){return !((_406(elem))%2);};var _408=function(elem){return ((_406(elem))%2);};var _409={"checked":function(name,_40a){return function(elem){return !!("checked" in elem?elem.checked:elem.selected);};},"disabled":function(name,_40b){return function(elem){return elem.disabled;};},"enabled":function(name,_40c){return function(elem){return !elem.disabled;};},"first-child":function(){return _404;},"last-child":function(){return _405;},"only-child":function(name,_40d){return function(node){return _404(node)&&_405(node);};},"empty":function(name,_40e){return function(elem){var cn=elem.childNodes;var cnl=elem.childNodes.length;for(var x=cnl-1;x>=0;x--){var nt=cn[x].nodeType;if((nt===1)||(nt==3)){return false;}}return true;};},"contains":function(name,_40f){var cz=_40f.charAt(0);if(cz=="\""||cz=="'"){_40f=_40f.slice(1,-1);}return function(elem){return (elem.innerHTML.indexOf(_40f)>=0);};},"not":function(name,_410){var p=_3dd(_410)[0];var _411={el:1};if(p.tag!="*"){_411.tag=1;}if(!p.classes.length){_411.classes=1;}var ntf=_412(p,_411);return function(elem){return (!ntf(elem));};},"nth-child":function(name,_413){var pi=parseInt;if(_413=="odd"){return _408;}else{if(_413=="even"){return _407;}}if(_413.indexOf("n")!=-1){var _414=_413.split("n",2);var pred=_414[0]?((_414[0]=="-")?-1:pi(_414[0])):1;var idx=_414[1]?pi(_414[1]):0;var lb=0,ub=-1;if(pred>0){if(idx<0){idx=(idx%pred)&&(pred+(idx%pred));}else{if(idx>0){if(idx>=pred){lb=idx-idx%pred;}idx=idx%pred;}}}else{if(pred<0){pred*=-1;if(idx>0){ub=idx;idx=idx%pred;}}}if(pred>0){return function(elem){var i=_406(elem);return (i>=lb)&&(ub<0||i<=ub)&&((i%pred)==idx);};}else{_413=idx;}}var _415=pi(_413);return function(elem){return (_406(elem)==_415);};}};var _416=(has("ie")<9||has("ie")==9&&has("quirks"))?function(cond){var clc=cond.toLowerCase();if(clc=="class"){cond="className";}return function(elem){return (_3db?elem.getAttribute(cond):elem[cond]||elem[clc]);};}:function(cond){return function(elem){return (elem&&elem.getAttribute&&elem.hasAttribute(cond));};};var _412=function(_417,_418){if(!_417){return _3dc;}_418=_418||{};var ff=null;if(!("el" in _418)){ff=_3f0(ff,_3f4);}if(!("tag" in _418)){if(_417.tag!="*"){ff=_3f0(ff,function(elem){return (elem&&((_3db?elem.tagName:elem.tagName.toUpperCase())==_417.getTag()));});}}if(!("classes" in _418)){each(_417.classes,function(_419,idx,arr){var re=new RegExp("(?:^|\\s)"+_419+"(?:\\s|$)");ff=_3f0(ff,function(elem){return re.test(elem.className);});ff.count=idx;});}if(!("pseudos" in _418)){each(_417.pseudos,function(_41a){var pn=_41a.name;if(_409[pn]){ff=_3f0(ff,_409[pn](pn,_41a.value));}});}if(!("attrs" in _418)){each(_417.attrs,function(attr){var _41b;var a=attr.attr;if(attr.type&&_3f7[attr.type]){_41b=_3f7[attr.type](a,attr.matchFor);}else{if(a.length){_41b=_416(a);}}if(_41b){ff=_3f0(ff,_41b);}});}if(!("id" in _418)){if(_417.id){ff=_3f0(ff,function(elem){return (!!elem&&(elem.id==_417.id));});}}if(!ff){if(!("default" in _418)){ff=_3dc;}}return ff;};var _41c=function(_41d){return function(node,ret,bag){while(node=node[_401]){if(_400&&(!_3f4(node))){continue;}if((!bag||_41e(node,bag))&&_41d(node)){ret.push(node);}break;}return ret;};};var _41f=function(_420){return function(root,ret,bag){var te=root[_401];while(te){if(_403(te)){if(bag&&!_41e(te,bag)){break;}if(_420(te)){ret.push(te);}}te=te[_401];}return ret;};};var _421=function(_422){_422=_422||_3dc;return function(root,ret,bag){var te,x=0,tret=root.children||root.childNodes;while(te=tret[x++]){if(_403(te)&&(!bag||_41e(te,bag))&&(_422(te,x))){ret.push(te);}}return ret;};};var _423=function(node,root){var pn=node.parentNode;while(pn){if(pn==root){break;}pn=pn.parentNode;}return !!pn;};var _424={};var _425=function(_426){var _427=_424[_426.query];if(_427){return _427;}var io=_426.infixOper;var oper=(io?io.oper:"");var _428=_412(_426,{el:1});var qt=_426.tag;var _429=("*"==qt);var ecs=_3d8()["getElementsByClassName"];if(!oper){if(_426.id){_428=(!_426.loops&&_429)?_3dc:_412(_426,{el:1,id:1});_427=function(root,arr){var te=dom.byId(_426.id,(root.ownerDocument||root));if(!te||!_428(te)){return;}if(9==root.nodeType){return _3f3(te,arr);}else{if(_423(te,root)){return _3f3(te,arr);}}};}else{if(ecs&&/\{\s*\[native code\]\s*\}/.test(String(ecs))&&_426.classes.length&&!_3d9){_428=_412(_426,{el:1,classes:1,id:1});var _42a=_426.classes.join(" ");_427=function(root,arr,bag){var ret=_3f3(0,arr),te,x=0;var tret=root.getElementsByClassName(_42a);while((te=tret[x++])){if(_428(te,root)&&_41e(te,bag)){ret.push(te);}}return ret;};}else{if(!_429&&!_426.loops){_427=function(root,arr,bag){var ret=_3f3(0,arr),te,x=0;var tag=_426.getTag(),tret=tag?root.getElementsByTagName(tag):[];while((te=tret[x++])){if(_41e(te,bag)){ret.push(te);}}return ret;};}else{_428=_412(_426,{el:1,tag:1,id:1});_427=function(root,arr,bag){var ret=_3f3(0,arr),te,x=0;var tag=_426.getTag(),tret=tag?root.getElementsByTagName(tag):[];while((te=tret[x++])){if(_428(te,root)&&_41e(te,bag)){ret.push(te);}}return ret;};}}}}else{var _42b={el:1};if(_429){_42b.tag=1;}_428=_412(_426,_42b);if("+"==oper){_427=_41c(_428);}else{if("~"==oper){_427=_41f(_428);}else{if(">"==oper){_427=_421(_428);}}}}return _424[_426.query]=_427;};var _42c=function(root,_42d){var _42e=_3f3(root),qp,x,te,qpl=_42d.length,bag,ret;for(var i=0;i<qpl;i++){ret=[];qp=_42d[i];x=_42e.length-1;if(x>0){bag={};ret.nozip=true;}var gef=_425(qp);for(var j=0;(te=_42e[j]);j++){gef(te,ret,bag);}if(!ret.length){break;}_42e=ret;}return ret;};var _42f={},_430={};var _431=function(_432){var _433=_3dd(trim(_432));if(_433.length==1){var tef=_425(_433[0]);return function(root){var r=tef(root,[]);if(r){r.nozip=true;}return r;};}return function(root){return _42c(root,_433);};};var _434=has("ie")?"commentStrip":"nozip";var qsa="querySelectorAll";var _435=!!_3d8()[qsa];var _436=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g;var _437=function(_438,pre,ch,post){return ch?(pre?pre+" ":"")+ch+(post?" "+post:""):_438;};var _439=/([^[]*)([^\]]*])?/g;var _43a=function(_43b,_43c,att){return _43c.replace(_436,_437)+(att||"");};var _43d=function(_43e,_43f){_43e=_43e.replace(_439,_43a);if(_435){var _440=_430[_43e];if(_440&&!_43f){return _440;}}var _441=_42f[_43e];if(_441){return _441;}var qcz=_43e.charAt(0);var _442=(-1==_43e.indexOf(" "));if((_43e.indexOf("#")>=0)&&(_442)){_43f=true;}var _443=(_435&&(!_43f)&&(_3da.indexOf(qcz)==-1)&&(!has("ie")||(_43e.indexOf(":")==-1))&&(!(_3d9&&(_43e.indexOf(".")>=0)))&&(_43e.indexOf(":contains")==-1)&&(_43e.indexOf(":checked")==-1)&&(_43e.indexOf("|=")==-1));if(_443){var tq=(_3da.indexOf(_43e.charAt(_43e.length-1))>=0)?(_43e+" *"):_43e;return _430[_43e]=function(root){try{if(!((9==root.nodeType)||_442)){throw "";}var r=root[qsa](tq);r[_434]=true;return r;}catch(e){return _43d(_43e,true)(root);}};}else{var _444=_43e.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return _42f[_43e]=((_444.length<2)?_431(_43e):function(root){var _445=0,ret=[],tp;while((tp=_444[_445++])){ret=ret.concat(_431(tp)(root));}return ret;});}};var _446=0;var _447=has("ie")?function(node){if(_3db){return (node.getAttribute("_uid")||node.setAttribute("_uid",++_446)||_446);}else{return node.uniqueID;}}:function(node){return (node._uid||(node._uid=++_446));};var _41e=function(node,bag){if(!bag){return 1;}var id=_447(node);if(!bag[id]){return bag[id]=1;}return 0;};var _448="_zipIdx";var _449=function(arr){if(arr&&arr.nozip){return arr;}var ret=[];if(!arr||!arr.length){return ret;}if(arr[0]){ret.push(arr[0]);}if(arr.length<2){return ret;}_446++;var x,te;if(has("ie")&&_3db){var _44a=_446+"";arr[0].setAttribute(_448,_44a);for(x=1;te=arr[x];x++){if(arr[x].getAttribute(_448)!=_44a){ret.push(te);}te.setAttribute(_448,_44a);}}else{if(has("ie")&&arr.commentStrip){try{for(x=1;te=arr[x];x++){if(_3f4(te)){ret.push(te);}}}catch(e){}}else{if(arr[0]){arr[0][_448]=_446;}for(x=1;te=arr[x];x++){if(arr[x][_448]!=_446){ret.push(te);}te[_448]=_446;}}}return ret;};var _44b=function(_44c,root){root=root||_3d8();var od=root.ownerDocument||root;_3db=(od.createElement("div").tagName==="div");var r=_43d(_44c)(root);if(r&&r.nozip){return r;}return _449(r);};_44b.filter=function(_44d,_44e,root){var _44f=[],_450=_3dd(_44e),_451=(_450.length==1&&!/[^\w#\.]/.test(_44e))?_412(_450[0]):function(node){return _3d7.indexOf(_44b(_44e,dom.byId(root)),node)!=-1;};for(var x=0,te;te=_44d[x];x++){if(_451(te)){_44f.push(te);}}return _44f;};return _44b;});},"dojo/NodeList-dom":function(){define("dojo/NodeList-dom",["./_base/kernel","./query","./_base/array","./_base/lang","./dom-class","./dom-construct","./dom-geometry","./dom-attr","./dom-style"],function(dojo,_452,_453,lang,_454,_455,_456,_457,_458){var _459=function(a){return a.length==1&&(typeof a[0]=="string");};var _45a=function(node){var p=node.parentNode;if(p){p.removeChild(node);}};var _45b=_452.NodeList,awc=_45b._adaptWithCondition,aafe=_45b._adaptAsForEach,aam=_45b._adaptAsMap;function _45c(_45d){return function(node,name,_45e){if(arguments.length==2){return _45d[typeof name=="string"?"get":"set"](node,name);}return _45d.set(node,name,_45e);};};lang.extend(_45b,{_normalize:function(_45f,_460){var _461=_45f.parse===true;if(typeof _45f.template=="string"){var _462=_45f.templateFunc||(dojo.string&&dojo.string.substitute);_45f=_462?_462(_45f.template,_45f):_45f;}var type=(typeof _45f);if(type=="string"||type=="number"){_45f=_455.toDom(_45f,(_460&&_460.ownerDocument));if(_45f.nodeType==11){_45f=lang._toArray(_45f.childNodes);}else{_45f=[_45f];}}else{if(!lang.isArrayLike(_45f)){_45f=[_45f];}else{if(!lang.isArray(_45f)){_45f=lang._toArray(_45f);}}}if(_461){_45f._runParse=true;}return _45f;},_cloneNode:function(node){return node.cloneNode(true);},_place:function(ary,_463,_464,_465){if(_463.nodeType!=1&&_464=="only"){return;}var _466=_463,_467;var _468=ary.length;for(var i=_468-1;i>=0;i--){var node=(_465?this._cloneNode(ary[i]):ary[i]);if(ary._runParse&&dojo.parser&&dojo.parser.parse){if(!_467){_467=_466.ownerDocument.createElement("div");}_467.appendChild(node);dojo.parser.parse(_467);node=_467.firstChild;while(_467.firstChild){_467.removeChild(_467.firstChild);}}if(i==_468-1){_455.place(node,_466,_464);}else{_466.parentNode.insertBefore(node,_466);}_466=node;}},position:aam(_456.position),attr:awc(_45c(_457),_459),style:awc(_45c(_458),_459),addClass:aafe(_454.add),removeClass:aafe(_454.remove),toggleClass:aafe(_454.toggle),replaceClass:aafe(_454.replace),empty:aafe(_455.empty),removeAttr:aafe(_457.remove),marginBox:aam(_456.getMarginBox),place:function(_469,_46a){var item=_452(_469)[0];return this.forEach(function(node){_455.place(node,item,_46a);});},orphan:function(_46b){return (_46b?_452._filterResult(this,_46b):this).forEach(_45a);},adopt:function(_46c,_46d){return _452(_46c).place(this[0],_46d)._stash(this);},query:function(_46e){if(!_46e){return this;}var ret=new _45b;this.map(function(node){_452(_46e,node).forEach(function(_46f){if(_46f!==undefined){ret.push(_46f);}});});return ret._stash(this);},filter:function(_470){var a=arguments,_471=this,_472=0;if(typeof _470=="string"){_471=_452._filterResult(this,a[0]);if(a.length==1){return _471._stash(this);}_472=1;}return this._wrap(_453.filter(_471,a[_472],a[_472+1]),this);},addContent:function(_473,_474){_473=this._normalize(_473,this[0]);for(var i=0,node;(node=this[i]);i++){this._place(_473,node,_474,i>0);}return this;}});return _45b;});},"dojo/_base/xhr":function(){define(["./kernel","./sniff","require","../io-query","../dom","../dom-form","./Deferred","./config","./json","./lang","./array","../on","../aspect","../request/watch","../request/xhr","../request/util"],function(dojo,has,_475,ioq,dom,_476,_477,_478,json,lang,_479,on,_47a,_47b,_47c,util){dojo._xhrObj=_47c._create;var cfg=dojo.config;dojo.objectToQuery=ioq.objectToQuery;dojo.queryToObject=ioq.queryToObject;dojo.fieldToObject=_476.fieldToObject;dojo.formToObject=_476.toObject;dojo.formToQuery=_476.toQuery;dojo.formToJson=_476.toJson;dojo._blockAsync=false;var _47d=dojo._contentHandlers=dojo.contentHandlers={"text":function(xhr){return xhr.responseText;},"json":function(xhr){return json.fromJson(xhr.responseText||null);},"json-comment-filtered":function(xhr){if(!_478.useCommentedJson){console.warn("Consider using the standard mimetype:application/json."+" json-commenting can introduce security issues. To"+" decrease the chances of hijacking, use the standard the 'json' handler and"+" prefix your json with: {}&&\n"+"Use djConfig.useCommentedJson=true to turn off this message.");}var _47e=xhr.responseText;var _47f=_47e.indexOf("/*");var _480=_47e.lastIndexOf("*/");if(_47f==-1||_480==-1){throw new Error("JSON was not comment filtered");}return json.fromJson(_47e.substring(_47f+2,_480));},"javascript":function(xhr){return dojo.eval(xhr.responseText);},"xml":function(xhr){var _481=xhr.responseXML;if(has("ie")){if((!_481||!_481.documentElement)){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];_479.some(dp,function(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(xhr.responseText);_481=dom;}catch(e){return false;}return true;});}}return _481;},"json-comment-optional":function(xhr){if(xhr.responseText&&/^[^{\[]*\/\*/.test(xhr.responseText)){return _47d["json-comment-filtered"](xhr);}else{return _47d["json"](xhr);}}};dojo._ioSetArgs=function(args,_482,_483,_484){var _485={args:args,url:args.url};var _486=null;if(args.form){var form=dom.byId(args.form);var _487=form.getAttributeNode("action");_485.url=_485.url||(_487?_487.value:null);_486=_476.toObject(form);}var _488=[{}];if(_486){_488.push(_486);}if(args.content){_488.push(args.content);}if(args.preventCache){_488.push({"dojo.preventCache":new Date().valueOf()});}_485.query=ioq.objectToQuery(lang.mixin.apply(null,_488));_485.handleAs=args.handleAs||"text";var d=new _477(function(dfd){dfd.canceled=true;_482&&_482(dfd);var err=dfd.ioArgs.error;if(!err){err=new Error("request cancelled");err.dojoType="cancel";dfd.ioArgs.error=err;}return err;});d.addCallback(_483);var ld=args.load;if(ld&&lang.isFunction(ld)){d.addCallback(function(_489){return ld.call(args,_489,_485);});}var err=args.error;if(err&&lang.isFunction(err)){d.addErrback(function(_48a){return err.call(args,_48a,_485);});}var _48b=args.handle;if(_48b&&lang.isFunction(_48b)){d.addBoth(function(_48c){return _48b.call(args,_48c,_485);});}d.addErrback(function(_48d){return _484(_48d,d);});if(cfg.ioPublish&&dojo.publish&&_485.args.ioPublish!==false){d.addCallbacks(function(res){dojo.publish("/dojo/io/load",[d,res]);return res;},function(res){dojo.publish("/dojo/io/error",[d,res]);return res;});d.addBoth(function(res){dojo.publish("/dojo/io/done",[d,res]);return res;});}d.ioArgs=_485;return d;};var _48e=function(dfd){var ret=_47d[dfd.ioArgs.handleAs](dfd.ioArgs.xhr);return ret===undefined?null:ret;};var _48f=function(_490,dfd){if(!dfd.ioArgs.args.failOk){console.error(_490);}return _490;};var _491=function(dfd){if(_492<=0){_492=0;if(cfg.ioPublish&&dojo.publish&&(!dfd||dfd&&dfd.ioArgs.args.ioPublish!==false)){dojo.publish("/dojo/io/stop");}}};var _492=0;_47a.after(_47b,"_onAction",function(){_492-=1;});_47a.after(_47b,"_onInFlight",_491);dojo._ioCancelAll=_47b.cancelAll;dojo._ioNotifyStart=function(dfd){if(cfg.ioPublish&&dojo.publish&&dfd.ioArgs.args.ioPublish!==false){if(!_492){dojo.publish("/dojo/io/start");}_492+=1;dojo.publish("/dojo/io/send",[dfd]);}};dojo._ioWatch=function(dfd,_493,_494,_495){var args=dfd.ioArgs.options=dfd.ioArgs.args;lang.mixin(dfd,{response:dfd.ioArgs,isValid:function(_496){return _493(dfd);},isReady:function(_497){return _494(dfd);},handleResponse:function(_498){return _495(dfd);}});_47b(dfd);_491(dfd);};var _499="application/x-www-form-urlencoded";dojo._ioAddQueryToUrl=function(_49a){if(_49a.query.length){_49a.url+=(_49a.url.indexOf("?")==-1?"?":"&")+_49a.query;_49a.query=null;}};dojo.xhr=function(_49b,args,_49c){var rDfd;var dfd=dojo._ioSetArgs(args,function(dfd){rDfd&&rDfd.cancel();},_48e,_48f);var _49d=dfd.ioArgs;if("postData" in args){_49d.query=args.postData;}else{if("putData" in args){_49d.query=args.putData;}else{if("rawBody" in args){_49d.query=args.rawBody;}else{if((arguments.length>2&&!_49c)||"POST|PUT".indexOf(_49b.toUpperCase())===-1){dojo._ioAddQueryToUrl(_49d);}}}}var _49e={method:_49b,handleAs:"text",timeout:args.timeout,withCredentials:args.withCredentials,ioArgs:_49d};if(typeof args.headers!=="undefined"){_49e.headers=args.headers;}if(typeof args.contentType!=="undefined"){if(!_49e.headers){_49e.headers={};}_49e.headers["Content-Type"]=args.contentType;}if(typeof _49d.query!=="undefined"){_49e.data=_49d.query;}if(typeof args.sync!=="undefined"){_49e.sync=args.sync;}dojo._ioNotifyStart(dfd);try{rDfd=_47c(_49d.url,_49e,true);}catch(e){dfd.cancel();return dfd;}dfd.ioArgs.xhr=rDfd.response.xhr;rDfd.then(function(){dfd.resolve(dfd);}).otherwise(function(_49f){_49d.error=_49f;if(_49f.response){_49f.status=_49f.response.status;_49f.responseText=_49f.response.text;_49f.xhr=_49f.response.xhr;}dfd.reject(_49f);});return dfd;};dojo.xhrGet=function(args){return dojo.xhr("GET",args);};dojo.rawXhrPost=dojo.xhrPost=function(args){return dojo.xhr("POST",args,true);};dojo.rawXhrPut=dojo.xhrPut=function(args){return dojo.xhr("PUT",args,true);};dojo.xhrDelete=function(args){return dojo.xhr("DELETE",args);};dojo._isDocumentOk=function(x){return util.checkStatus(x.status);};dojo._getText=function(url){var _4a0;dojo.xhrGet({url:url,sync:true,load:function(text){_4a0=text;}});return _4a0;};lang.mixin(dojo.xhr,{_xhrObj:dojo._xhrObj,fieldToObject:_476.fieldToObject,formToObject:_476.toObject,objectToQuery:ioq.objectToQuery,formToQuery:_476.toQuery,formToJson:_476.toJson,queryToObject:ioq.queryToObject,contentHandlers:_47d,_ioSetArgs:dojo._ioSetArgs,_ioCancelAll:dojo._ioCancelAll,_ioNotifyStart:dojo._ioNotifyStart,_ioWatch:dojo._ioWatch,_ioAddQueryToUrl:dojo._ioAddQueryToUrl,_isDocumentOk:dojo._isDocumentOk,_getText:dojo._getText,get:dojo.xhrGet,post:dojo.xhrPost,put:dojo.xhrPut,del:dojo.xhrDelete});return dojo.xhr;});},"dojo/io-query":function(){define(["./_base/lang"],function(lang){var _4a1={};return {objectToQuery:function objectToQuery(map){var enc=encodeURIComponent,_4a2=[];for(var name in map){var _4a3=map[name];if(_4a3!=_4a1[name]){var _4a4=enc(name)+"=";if(lang.isArray(_4a3)){for(var i=0,l=_4a3.length;i<l;++i){_4a2.push(_4a4+enc(_4a3[i]));}}else{_4a2.push(_4a4+enc(_4a3));}}}return _4a2.join("&");},queryToObject:function queryToObject(str){var dec=decodeURIComponent,qp=str.split("&"),ret={},name,val;for(var i=0,l=qp.length,item;i<l;++i){item=qp[i];if(item.length){var s=item.indexOf("=");if(s<0){name=dec(item);val="";}else{name=dec(item.slice(0,s));val=dec(item.slice(s+1));}if(typeof ret[name]=="string"){ret[name]=[ret[name]];}if(lang.isArray(ret[name])){ret[name].push(val);}else{ret[name]=val;}}}return ret;}};});},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(lang,dom,ioq,json){function _4a5(obj,name,_4a6){if(_4a6===null){return;}var val=obj[name];if(typeof val=="string"){obj[name]=[val,_4a6];}else{if(lang.isArray(val)){val.push(_4a6);}else{obj[name]=_4a6;}}};var _4a7="file|submit|image|reset|button";var form={fieldToObject:function fieldToObject(_4a8){var ret=null;_4a8=dom.byId(_4a8);if(_4a8){var _4a9=_4a8.name,type=(_4a8.type||"").toLowerCase();if(_4a9&&type&&!_4a8.disabled){if(type=="radio"||type=="checkbox"){if(_4a8.checked){ret=_4a8.value;}}else{if(_4a8.multiple){ret=[];var _4aa=[_4a8.firstChild];while(_4aa.length){for(var node=_4aa.pop();node;node=node.nextSibling){if(node.nodeType==1&&node.tagName.toLowerCase()=="option"){if(node.selected){ret.push(node.value);}}else{if(node.nextSibling){_4aa.push(node.nextSibling);}if(node.firstChild){_4aa.push(node.firstChild);}break;}}}}else{ret=_4a8.value;}}}}return ret;},toObject:function formToObject(_4ab){var ret={},_4ac=dom.byId(_4ab).elements;for(var i=0,l=_4ac.length;i<l;++i){var item=_4ac[i],_4ad=item.name,type=(item.type||"").toLowerCase();if(_4ad&&type&&_4a7.indexOf(type)<0&&!item.disabled){_4a5(ret,_4ad,form.fieldToObject(item));if(type=="image"){ret[_4ad+".x"]=ret[_4ad+".y"]=ret[_4ad].x=ret[_4ad].y=0;}}}return ret;},toQuery:function formToQuery(_4ae){return ioq.objectToQuery(form.toObject(_4ae));},toJson:function formToJson(_4af,_4b0){return json.stringify(form.toObject(_4af),null,_4b0?4:0);}};return form;});},"dojo/request/watch":function(){define(["./util","../errors/RequestTimeoutError","../errors/CancelError","../_base/array","../_base/window","../has!host-browser?dom-addeventlistener?:../on:"],function(util,_4b1,_4b2,_4b3,win,on){var _4b4=null,_4b5=[];function _4b6(){var now=+(new Date);for(var i=0,dfd;i<_4b5.length&&(dfd=_4b5[i]);i++){var _4b7=dfd.response,_4b8=_4b7.options;if((dfd.isCanceled&&dfd.isCanceled())||(dfd.isValid&&!dfd.isValid(_4b7))){_4b5.splice(i--,1);_4b9._onAction&&_4b9._onAction();}else{if(dfd.isReady&&dfd.isReady(_4b7)){_4b5.splice(i--,1);dfd.handleResponse(_4b7);_4b9._onAction&&_4b9._onAction();}else{if(dfd.startTime){if(dfd.startTime+(_4b8.timeout||0)<now){_4b5.splice(i--,1);dfd.cancel(new _4b1("Timeout exceeded",_4b7));_4b9._onAction&&_4b9._onAction();}}}}}_4b9._onInFlight&&_4b9._onInFlight(dfd);if(!_4b5.length){clearInterval(_4b4);_4b4=null;}};function _4b9(dfd){if(dfd.response.options.timeout){dfd.startTime=+(new Date);}if(dfd.isFulfilled()){return;}_4b5.push(dfd);if(!_4b4){_4b4=setInterval(_4b6,50);}if(dfd.response.options.sync){_4b6();}};_4b9.cancelAll=function cancelAll(){try{_4b3.forEach(_4b5,function(dfd){try{dfd.cancel(new _4b2("All requests canceled."));}catch(e){}});}catch(e){}};if(win&&on&&win.doc.attachEvent){on(win.global,"unload",function(){_4b9.cancelAll();});}return _4b9;});},"dojo/request/util":function(){define(["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang"],function(_4ba,_4bb,_4bc,_4bd,_4be,_4bf,lang){_4ba.deepCopy=function deepCopy(_4c0,_4c1){for(var name in _4c1){var tval=_4c0[name],sval=_4c1[name];if(tval!==sval){if(tval&&typeof tval==="object"&&sval&&typeof sval==="object"){_4ba.deepCopy(tval,sval);}else{_4c0[name]=sval;}}}return _4c0;};_4ba.deepCreate=function deepCreate(_4c2,_4c3){_4c3=_4c3||{};var _4c4=lang.delegate(_4c2),name,_4c5;for(name in _4c2){_4c5=_4c2[name];if(_4c5&&typeof _4c5==="object"){_4c4[name]=_4ba.deepCreate(_4c5,_4c3[name]);}}return _4ba.deepCopy(_4c4,_4c3);};var _4c6=Object.freeze||function(obj){return obj;};function _4c7(_4c8){return _4c6(_4c8);};_4ba.deferred=function deferred(_4c9,_4ca,_4cb,_4cc,_4cd,last){var def=new _4bd(function(_4ce){_4ca&&_4ca(def,_4c9);if(!_4ce||!(_4ce instanceof _4bb)&&!(_4ce instanceof _4bc)){return new _4bc("Request canceled",_4c9);}return _4ce;});def.response=_4c9;def.isValid=_4cb;def.isReady=_4cc;def.handleResponse=_4cd;function _4cf(_4d0){_4d0.response=_4c9;throw _4d0;};var _4d1=def.then(_4c7).otherwise(_4cf);if(_4ba.notify){_4d1.then(lang.hitch(_4ba.notify,"emit","load"),lang.hitch(_4ba.notify,"emit","error"));}var _4d2=_4d1.then(function(_4d3){return _4d3.data||_4d3.text;});var _4d4=_4c6(lang.delegate(_4d2,{response:_4d1}));if(last){def.then(function(_4d5){last.call(def,_4d5);},function(_4d6){last.call(def,_4c9,_4d6);});}def.promise=_4d4;def.then=_4d4.then;return def;};_4ba.addCommonMethods=function addCommonMethods(_4d7,_4d8){_4bf.forEach(_4d8||["GET","POST","PUT","DELETE"],function(_4d9){_4d7[(_4d9==="DELETE"?"DEL":_4d9).toLowerCase()]=function(url,_4da){_4da=lang.delegate(_4da||{});_4da.method=_4d9;return _4d7(url,_4da);};});};_4ba.parseArgs=function parseArgs(url,_4db,_4dc){var data=_4db.data,_4dd=_4db.query;if(data&&!_4dc){if(typeof data==="object"){_4db.data=_4be.objectToQuery(data);}}if(_4dd){if(typeof _4dd==="object"){_4dd=_4be.objectToQuery(_4dd);}if(_4db.preventCache){_4dd+=(_4dd?"&":"")+"request.preventCache="+(+(new Date));}}else{if(_4db.preventCache){_4dd="request.preventCache="+(+(new Date));}}if(url&&_4dd){url+=(~url.indexOf("?")?"&":"?")+_4dd;}return {url:url,options:_4db,getHeader:function(_4de){return null;}};};_4ba.checkStatus=function(stat){stat=stat||0;return (stat>=200&&stat<300)||stat===304||stat===1223||!stat;};});},"dojo/errors/RequestError":function(){define(["./create"],function(_4df){return _4df("RequestError",function(_4e0,_4e1){this.response=_4e1;});});},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(_4e2,_4e3){return _4e2("RequestTimeoutError",null,_4e3,{dojoType:"timeout"});});},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(_4e4,_4e5,_4e6,util,has){has.add("native-xhr",function(){return typeof XMLHttpRequest!=="undefined";});has.add("dojo-force-activex-xhr",function(){return has("activex")&&!document.addEventListener&&window.location.protocol==="file:";});has.add("native-xhr2",function(){if(!has("native-xhr")){return;}var x=new XMLHttpRequest();return typeof x["addEventListener"]!=="undefined"&&(typeof opera==="undefined"||typeof x["upload"]!=="undefined");});has.add("native-formdata",function(){return typeof FormData==="function";});function _4e7(_4e8,_4e9){var _4ea=_4e8.xhr;_4e8.status=_4e8.xhr.status;_4e8.text=_4ea.responseText;if(_4e8.options.handleAs==="xml"){_4e8.data=_4ea.responseXML;}if(!_4e9){try{_4e6(_4e8);}catch(e){_4e9=e;}}if(_4e9){this.reject(_4e9);}else{if(util.checkStatus(_4ea.status)){this.resolve(_4e8);}else{_4e9=new _4e4("Unable to load "+_4e8.url+" status: "+_4ea.status,_4e8);this.reject(_4e9);}}};var _4eb,_4ec,_4ed,_4ee;if(has("native-xhr2")){_4eb=function(_4ef){return !this.isFulfilled();};_4ee=function(dfd,_4f0){_4f0.xhr.abort();};_4ed=function(_4f1,dfd,_4f2){function _4f3(evt){dfd.handleResponse(_4f2);};function _4f4(evt){var _4f5=evt.target;var _4f6=new _4e4("Unable to load "+_4f2.url+" status: "+_4f5.status,_4f2);dfd.handleResponse(_4f2,_4f6);};function _4f7(evt){if(evt.lengthComputable){_4f2.loaded=evt.loaded;_4f2.total=evt.total;dfd.progress(_4f2);}};_4f1.addEventListener("load",_4f3,false);_4f1.addEventListener("error",_4f4,false);_4f1.addEventListener("progress",_4f7,false);return function(){_4f1.removeEventListener("load",_4f3,false);_4f1.removeEventListener("error",_4f4,false);_4f1.removeEventListener("progress",_4f7,false);};};}else{_4eb=function(_4f8){return _4f8.xhr.readyState;};_4ec=function(_4f9){return 4===_4f9.xhr.readyState;};_4ee=function(dfd,_4fa){var xhr=_4fa.xhr;var _4fb=typeof xhr.abort;if(_4fb==="function"||_4fb==="object"||_4fb==="unknown"){xhr.abort();}};}var _4fc,_4fd={data:null,query:null,sync:false,method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};function xhr(url,_4fe,_4ff){var _500=util.parseArgs(url,util.deepCreate(_4fd,_4fe),has("native-formdata")&&_4fe&&_4fe.data&&_4fe.data instanceof FormData);url=_500.url;_4fe=_500.options;var _501,last=function(){_501&&_501();};var dfd=util.deferred(_500,_4ee,_4eb,_4ec,_4e7,last);var _502=_500.xhr=xhr._create();if(!_502){dfd.cancel(new _4e4("XHR was not created"));return _4ff?dfd:dfd.promise;}_500.getHeader=function(_503){return this.xhr.getResponseHeader(_503);};if(_4ed){_501=_4ed(_502,dfd,_500);}var data=_4fe.data,_504=!_4fe.sync,_505=_4fe.method;try{_502.open(_505,url,_504,_4fe.user||_4fc,_4fe.password||_4fc);if(_4fe.withCredentials){_502.withCredentials=_4fe.withCredentials;}var _506=_4fe.headers,_507;if(_506){for(var hdr in _506){if(hdr.toLowerCase()==="content-type"){_507=_506[hdr];}else{if(_506[hdr]){_502.setRequestHeader(hdr,_506[hdr]);}}}}if(_507&&_507!==false){_502.setRequestHeader("Content-Type",_507);}if(!_506||!("X-Requested-With" in _506)){_502.setRequestHeader("X-Requested-With","XMLHttpRequest");}if(util.notify){util.notify.emit("send",_500,dfd.promise.cancel);}_502.send(data);}catch(e){dfd.reject(e);}_4e5(dfd);_502=null;return _4ff?dfd:dfd.promise;};xhr._create=function(){throw new Error("XMLHTTP not available");};if(has("native-xhr")&&!has("dojo-force-activex-xhr")){xhr._create=function(){return new XMLHttpRequest();};}else{if(has("activex")){try{new ActiveXObject("Msxml2.XMLHTTP");xhr._create=function(){return new ActiveXObject("Msxml2.XMLHTTP");};}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP");xhr._create=function(){return new ActiveXObject("Microsoft.XMLHTTP");};}catch(e){}}}}util.addCommonMethods(xhr);return xhr;});},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has"],function(JSON,_508,_509,has){has.add("activex",typeof ActiveXObject!=="undefined");var _50a;if(has("activex")){var dp=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];_50a=function(_50b){var _50c=_50b.data;if(!_50c||!_50c.documentElement){var text=_50b.text;_509.some(dp,function(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(text);_50c=dom;}catch(e){return false;}return true;});}return _50c;};}var _50d={"javascript":function(_50e){return _508.eval(_50e.text||"");},"json":function(_50f){return JSON.parse(_50f.text||null);},"xml":_50a};function _510(_511){var _512=_50d[_511.options.handleAs];_511.data=_512?_512(_511):(_511.data||_511.text);return _511;};_510.register=function(name,_513){_50d[name]=_513;};return _510;});},"dojo/_base/fx":function(){define(["./kernel","./config","./lang","../Evented","./Color","./connect","./sniff","../dom","../dom-style"],function(dojo,_514,lang,_515,_516,_517,has,dom,_518){var _519=lang.mixin;var _51a={};var _51b=_51a._Line=function(_51c,end){this.start=_51c;this.end=end;};_51b.prototype.getValue=function(n){return ((this.end-this.start)*n)+this.start;};var _51d=_51a.Animation=function(args){_519(this,args);if(lang.isArray(this.curve)){this.curve=new _51b(this.curve[0],this.curve[1]);}};_51d.prototype=new _515();lang.extend(_51d,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var _51e=this._percent,_51f=this.easing;return _51f?_51f(_51e):_51e;},_fire:function(evt,args){var a=args||[];if(this[evt]){if(_514.debugAtAllCosts){this[evt].apply(this,a);}else{try{this[evt].apply(this,a);}catch(e){console.error("exception in animation handler for:",evt);console.error(e);}}}return this;},play:function(_520,_521){var _522=this;if(_522._delayTimer){_522._clearTimer();}if(_521){_522._stopTimer();_522._active=_522._paused=false;_522._percent=0;}else{if(_522._active&&!_522._paused){return _522;}}_522._fire("beforeBegin",[_522.node]);var de=_520||_522.delay,_523=lang.hitch(_522,"_play",_521);if(de>0){_522._delayTimer=setTimeout(_523,de);return _522;}_523();return _522;},_play:function(_524){var _525=this;if(_525._delayTimer){_525._clearTimer();}_525._startTime=new Date().valueOf();if(_525._paused){_525._startTime-=_525.duration*_525._percent;}_525._active=true;_525._paused=false;var _526=_525.curve.getValue(_525._getStep());if(!_525._percent){if(!_525._startRepeatCount){_525._startRepeatCount=_525.repeat;}_525._fire("onBegin",[_526]);}_525._fire("onPlay",[_526]);_525._cycle();return _525;},pause:function(){var _527=this;if(_527._delayTimer){_527._clearTimer();}_527._stopTimer();if(!_527._active){return _527;}_527._paused=true;_527._fire("onPause",[_527.curve.getValue(_527._getStep())]);return _527;},gotoPercent:function(_528,_529){var _52a=this;_52a._stopTimer();_52a._active=_52a._paused=true;_52a._percent=_528;if(_529){_52a.play();}return _52a;},stop:function(_52b){var _52c=this;if(_52c._delayTimer){_52c._clearTimer();}if(!_52c._timer){return _52c;}_52c._stopTimer();if(_52b){_52c._percent=1;}_52c._fire("onStop",[_52c.curve.getValue(_52c._getStep())]);_52c._active=_52c._paused=false;return _52c;},status:function(){if(this._active){return this._paused?"paused":"playing";}return "stopped";},_cycle:function(){var _52d=this;if(_52d._active){var curr=new Date().valueOf();var step=_52d.duration===0?1:(curr-_52d._startTime)/(_52d.duration);if(step>=1){step=1;}_52d._percent=step;if(_52d.easing){step=_52d.easing(step);}_52d._fire("onAnimate",[_52d.curve.getValue(step)]);if(_52d._percent<1){_52d._startTimer();}else{_52d._active=false;if(_52d.repeat>0){_52d.repeat--;_52d.play(null,true);}else{if(_52d.repeat==-1){_52d.play(null,true);}else{if(_52d._startRepeatCount){_52d.repeat=_52d._startRepeatCount;_52d._startRepeatCount=0;}}}_52d._percent=0;_52d._fire("onEnd",[_52d.node]);!_52d.repeat&&_52d._stopTimer();}}return _52d;},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer;}});var ctr=0,_52e=null,_52f={run:function(){}};lang.extend(_51d,{_startTimer:function(){if(!this._timer){this._timer=_517.connect(_52f,"run",this,"_cycle");ctr++;}if(!_52e){_52e=setInterval(lang.hitch(_52f,"run"),this.rate);}},_stopTimer:function(){if(this._timer){_517.disconnect(this._timer);this._timer=null;ctr--;}if(ctr<=0){clearInterval(_52e);_52e=null;ctr=0;}}});var _530=has("ie")?function(node){var ns=node.style;if(!ns.width.length&&_518.get(node,"width")=="auto"){ns.width="auto";}}:function(){};_51a._fade=function(args){args.node=dom.byId(args.node);var _531=_519({properties:{}},args),_532=(_531.properties.opacity={});_532.start=!("start" in _531)?function(){return +_518.get(_531.node,"opacity")||0;}:_531.start;_532.end=_531.end;var anim=_51a.animateProperty(_531);_517.connect(anim,"beforeBegin",lang.partial(_530,_531.node));return anim;};_51a.fadeIn=function(args){return _51a._fade(_519({end:1},args));};_51a.fadeOut=function(args){return _51a._fade(_519({end:0},args));};_51a._defaultEasing=function(n){return 0.5+((Math.sin((n+1.5)*Math.PI))/2);};var _533=function(_534){this._properties=_534;for(var p in _534){var prop=_534[p];if(prop.start instanceof _516){prop.tempColor=new _516();}}};_533.prototype.getValue=function(r){var ret={};for(var p in this._properties){var prop=this._properties[p],_535=prop.start;if(_535 instanceof _516){ret[p]=_516.blendColors(_535,prop.end,r,prop.tempColor).toCss();}else{if(!lang.isArray(_535)){ret[p]=((prop.end-_535)*r)+_535+(p!="opacity"?prop.units||"px":0);}}}return ret;};_51a.animateProperty=function(args){var n=args.node=dom.byId(args.node);if(!args.easing){args.easing=dojo._defaultEasing;}var anim=new _51d(args);_517.connect(anim,"beforeBegin",anim,function(){var pm={};for(var p in this.properties){if(p=="width"||p=="height"){this.node.display="block";}var prop=this.properties[p];if(lang.isFunction(prop)){prop=prop(n);}prop=pm[p]=_519({},(lang.isObject(prop)?prop:{end:prop}));if(lang.isFunction(prop.start)){prop.start=prop.start(n);}if(lang.isFunction(prop.end)){prop.end=prop.end(n);}var _536=(p.toLowerCase().indexOf("color")>=0);function _537(node,p){var v={height:node.offsetHeight,width:node.offsetWidth}[p];if(v!==undefined){return v;}v=_518.get(node,p);return (p=="opacity")?+v:(_536?v:parseFloat(v));};if(!("end" in prop)){prop.end=_537(n,p);}else{if(!("start" in prop)){prop.start=_537(n,p);}}if(_536){prop.start=new _516(prop.start);prop.end=new _516(prop.end);}else{prop.start=(p=="opacity")?+prop.start:parseFloat(prop.start);}}this.curve=new _533(pm);});_517.connect(anim,"onAnimate",lang.hitch(_518,"set",anim.node));return anim;};_51a.anim=function(node,_538,_539,_53a,_53b,_53c){return _51a.animateProperty({node:node,duration:_539||_51d.prototype.duration,properties:_538,easing:_53a,onEnd:_53b}).play(_53c||0);};if(1){_519(dojo,_51a);dojo._Animation=_51d;}return _51a;});},"dojo/_base/loader":function(){define(["./kernel","../has","require","module","./json","./lang","./array"],function(dojo,has,_53d,_53e,json,lang,_53f){if(!1){console.error("cannot load the Dojo v1.x loader with a foreign loader");return 0;}1||has.add("dojo-fast-sync-require",1);var _540=function(id){return {src:_53e.id,id:id};},_541=function(name){return name.replace(/\./g,"/");},_542=/\/\/>>built/,_543=[],_544=[],_545=function(mid,_546,_547){_543.push(_547);_53f.forEach(mid.split(","),function(mid){var _548=_549(mid,_546.module);_544.push(_548);_54a(_548);});_54b();},_54b=(1?function(){var _54c,mid;for(mid in _54d){_54c=_54d[mid];if(_54c.noReqPluginCheck===undefined){_54c.noReqPluginCheck=/loadInit\!/.test(mid)||/require\!/.test(mid)?1:0;}if(!_54c.executed&&!_54c.noReqPluginCheck&&_54c.injected==_54e){return;}}_54f(function(){var _550=_543;_543=[];_53f.forEach(_550,function(cb){cb(1);});});}:(function(){var _551,_552=function(m){_551[m.mid]=1;for(var t,_553,deps=m.deps||[],i=0;i<deps.length;i++){_553=deps[i];if(!(t=_551[_553.mid])){if(t===0||!_552(_553)){_551[m.mid]=0;return false;}}}return true;};return function(){var _554,mid;_551={};for(mid in _54d){_554=_54d[mid];if(_554.executed||_554.noReqPluginCheck){_551[mid]=1;}else{if(_554.noReqPluginCheck!==0){_554.noReqPluginCheck=/loadInit\!/.test(mid)||/require\!/.test(mid)?1:0;}if(_554.noReqPluginCheck){_551[mid]=1;}else{if(_554.injected!==_580){_551[mid]=0;}}}}for(var t,i=0,end=_544.length;i<end;i++){_554=_544[i];if(!(t=_551[_554.mid])){if(t===0||!_552(_554)){return;}}}_54f(function(){var _555=_543;_543=[];_53f.forEach(_555,function(cb){cb(1);});});};})()),_556=function(mid,_557,_558){_557([mid],function(_559){_557(_559.names,function(){for(var _55a="",args=[],i=0;i<arguments.length;i++){_55a+="var "+_559.names[i]+"= arguments["+i+"]; ";args.push(arguments[i]);}eval(_55a);var _55b=_557.module,_55c=[],_55d,_55e={provide:function(_55f){_55f=_541(_55f);var _560=_549(_55f,_55b);if(_560!==_55b){_586(_560);}},require:function(_561,_562){_561=_541(_561);_562&&(_549(_561,_55b).result=_581);_55c.push(_561);},requireLocalization:function(_563,_564,_565){if(!_55d){_55d=["dojo/i18n"];}_565=(_565||dojo.locale).toLowerCase();_563=_541(_563)+"/nls/"+(/root/i.test(_565)?"":_565+"/")+_541(_564);if(_549(_563,_55b).isXd){_55d.push("dojo/i18n!"+_563);}},loadInit:function(f){f();}},hold={},p;try{for(p in _55e){hold[p]=dojo[p];dojo[p]=_55e[p];}_559.def.apply(null,args);}catch(e){_566("error",[_540("failedDojoLoadInit"),e]);}finally{for(p in _55e){dojo[p]=hold[p];}}if(_55d){_55c=_55c.concat(_55d);}if(_55c.length){_545(_55c.join(","),_557,_558);}else{_558();}});});},_567=function(text,_568,_569){var _56a=/\(|\)/g,_56b=1,_56c;_56a.lastIndex=_568;while((_56c=_56a.exec(text))){if(_56c[0]==")"){_56b-=1;}else{_56b+=1;}if(_56b==0){break;}}if(_56b!=0){throw "unmatched paren around character "+_56a.lastIndex+" in: "+text;}return [dojo.trim(text.substring(_569,_56a.lastIndex))+";\n",_56a.lastIndex];},_56d=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,_56e=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,_56f=/(^|\s)(require|define)\s*\(/m,_570=function(text,_571){var _572,_573,_574,_575,_576=[],_577=[],_578=[];_571=_571||text.replace(_56d,function(_579){_56e.lastIndex=_56f.lastIndex=0;return (_56e.test(_579)||_56f.test(_579))?"":_579;});while((_572=_56e.exec(_571))){_573=_56e.lastIndex;_574=_573-_572[0].length;_575=_567(_571,_573,_574);if(_572[2]=="loadInit"){_576.push(_575[0]);}else{_577.push(_575[0]);}_56e.lastIndex=_575[1];}_578=_576.concat(_577);if(_578.length||!_56f.test(_571)){return [text.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),_578.join(""),_578];}else{return 0;}},_57a=function(_57b,text){var _57c,id,_57d=[],_57e=[];if(_542.test(text)||!(_57c=_570(text))){return 0;}id=_57b.mid+"-*loadInit";for(var p in _549("dojo",_57b).result.scopeMap){_57d.push(p);_57e.push("\""+p+"\"");}return "// xdomain rewrite of "+_57b.mid+"\n"+"define('"+id+"',{\n"+"\tnames:"+dojo.toJson(_57d)+",\n"+"\tdef:function("+_57d.join(",")+"){"+_57c[1]+"}"+"});\n\n"+"define("+dojo.toJson(_57d.concat(["dojo/loadInit!"+id]))+", function("+_57d.join(",")+"){\n"+_57c[0]+"});";},_57f=_53d.initSyncLoader(_545,_54b,_57a),sync=_57f.sync,_54e=_57f.requested,_580=_57f.arrived,_581=_57f.nonmodule,_582=_57f.executing,_583=_57f.executed,_584=_57f.syncExecStack,_54d=_57f.modules,_585=_57f.execQ,_549=_57f.getModule,_54a=_57f.injectModule,_586=_57f.setArrived,_566=_57f.signal,_587=_57f.finishExec,_588=_57f.execModule,_589=_57f.getLegacyMode,_54f=_57f.guardCheckComplete;_545=_57f.dojoRequirePlugin;dojo.provide=function(mid){var _58a=_584[0],_58b=lang.mixin(_549(_541(mid),_53d.module),{executed:_582,result:lang.getObject(mid,true)});_586(_58b);if(_58a){(_58a.provides||(_58a.provides=[])).push(function(){_58b.result=lang.getObject(mid);delete _58b.provides;_58b.executed!==_583&&_587(_58b);});}return _58b.result;};has.add("config-publishRequireResult",1,0,0);dojo.require=function(_58c,_58d){function _58e(mid,_58f){var _590=_549(_541(mid),_53d.module);if(_584.length&&_584[0].finish){_584[0].finish.push(mid);return undefined;}if(_590.executed){return _590.result;}_58f&&(_590.result=_581);var _591=_589();_54a(_590);_591=_589();if(_590.executed!==_583&&_590.injected===_580){_57f.guardCheckComplete(function(){_588(_590);});}if(_590.executed){return _590.result;}if(_591==sync){if(_590.cjs){_585.unshift(_590);}else{_584.length&&(_584[0].finish=[mid]);}}else{_585.push(_590);}return undefined;};var _592=_58e(_58c,_58d);if(has("config-publishRequireResult")&&!lang.exists(_58c)&&_592!==undefined){lang.setObject(_58c,_592);}return _592;};dojo.loadInit=function(f){f();};dojo.registerModulePath=function(_593,_594){var _595={};_595[_593.replace(/\./g,"/")]=_594;_53d({paths:_595});};dojo.platformRequire=function(_596){var _597=(_596.common||[]).concat(_596[dojo._name]||_596["default"]||[]),temp;while(_597.length){if(lang.isArray(temp=_597.shift())){dojo.require.apply(dojo,temp);}else{dojo.require(temp);}}};dojo.requireIf=dojo.requireAfterIf=function(_598,_599,_59a){if(_598){dojo.require(_599,_59a);}};dojo.requireLocalization=function(_59b,_59c,_59d){_53d(["../i18n"],function(i18n){i18n.getLocalization(_59b,_59c,_59d);});};return {extractLegacyApiApplications:_570,require:_545,loadInit:_556};});}}});(function(){var _59e=this.require;_59e({cache:{}});!_59e.async&&_59e(["dojo"]);_59e.boot&&_59e.apply(null,_59e.boot);})();
}

/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mxui/nls/mxui_en-us",{"dojo/cldr/nls/number":{"scientificFormat":"#E0","currencySpacing-afterCurrency-currencyMatch":"[:letter:]","infinity":"","list":";","percentSign":"%","minusSign":"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":"","nan":"NaN","plusSign":"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:letter:]","currencyFormat":"#,##0.00;(#,##0.00)","perMille":"","group":",","percentFormat":"#,##0%","decimalFormat-long":"000 trillion","decimalFormat":"#,##0.###","decimal":".","currencySpacing-beforeCurrency-insertBetween":"","exponential":"E"},"dojo/cldr/nls/gregorian":{"days-standAlone-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-yMEd":"E, M/d/y","dateFormatItem-MMMEd":"E, MMM d","eraNarrow":["B","A"],"days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"MMMM d, y","months-format-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"dateTimeFormat-medium":"{1}, {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, MMMM d, y","dateFormatItem-Md":"M/d","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dateFormatItem-yMd":"M/d/y","field-era":"Era","dateFormatItem-yM":"M/y","months-standAlone-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"timeFormat-short":"h:mm a","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"timeFormat-long":"h:mm:ss a z","field-year":"Year","dateFormatItem-yMMM":"MMM y","dateFormatItem-yQ":"Q y","dateTimeFormats-appendItem-Era":"{0} {1}","field-hour":"Hour","months-format-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"timeFormat-full":"h:mm:ss a zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","dateFormatItem-H":"HH","months-standAlone-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateFormatItem-M":"L","days-standAlone-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"timeFormat-medium":"h:mm:ss a","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraAbbr":["BC","AD"],"field-minute":"Minute","field-dayperiod":"AM/PM","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Yesterday","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} 'at' {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"E, M/d","dateTimeFormat-full":"{1} 'at' {0}","field-day":"Day","days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"field-zone":"Time Zone","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{0} {1}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-yMMMd":"MMM d, y","eraNames":["Before Christ","Anno Domini"],"days-format-narrow":["S","M","T","W","T","F","S"],"days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","field-month":"Month","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormat-short":"M/d/yyyy","field-second":"Second","dateFormatItem-yMMMEd":"E, MMM d, y","dateFormatItem-Ed":"d E","dateTimeFormats-appendItem-Timezone":"{0} {1}","field-week":"Week","dateFormat-medium":"MMM d, y","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1}, {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-Ehm":"E h:mm a","dayPeriods-format-wide-noon":"noon","field-year-relative+-1":"Last year","field-month-relative+-1":"Last month","dateFormatItem-EHm":"E HH:mm","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-month-relative+0":"This month","field-month-relative+1":"Next month","field-year-relative+0":"This year","field-week-relative+-1":"Last week","field-year-relative+1":"Next year","field-week-relative+0":"This week","field-week-relative+1":"Next week"},"dijit/nls/loading":{"loadingState":"Loading...","errorState":"Sorry, an error occurred"},"dojo/cldr/nls/buddhist":{"days-standAlone-short":["1","2","3","4","5","6","7"],"months-format-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"quarters-standAlone-narrow":["1","2","3","4"],"dateFormatItem-yQQQ":"QQQ y G","dateFormatItem-yMEd":"E, M/d/y GGGGG","dateFormatItem-MMMEd":"E, MMM d","eraNarrow":["BE"],"days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"MMMM d, y G","months-format-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, MMMM d, y G","dateFormatItem-Md":"M/d","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dateFormatItem-yMd":"M/d/y GGGGG","dateFormatItem-yM":"M/y GGGGG","months-standAlone-wide":["1","2","3","4","5","6","7","8","9","10","11","12"],"timeFormat-short":"h:mm a","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateTimeFormat":"{1} {0}","timeFormat-long":"h:mm:ss a z","dateFormatItem-yMMM":"MMM y G","dateFormatItem-yQ":"Q y G","dateTimeFormats-appendItem-Era":"{0} {1}","months-format-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"timeFormat-full":"h:mm:ss a zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","dateFormatItem-H":"HH","months-standAlone-abbr":["1","2","3","4","5","6","7","8","9","10","11","12"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"y G","dateFormatItem-M":"L","days-standAlone-wide":["1","2","3","4","5","6","7"],"timeFormat-medium":"h:mm:ss a","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraAbbr":["BE"],"days-standAlone-abbr":["1","2","3","4","5","6","7"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"dateFormatItem-h":"h a","dayPeriods-format-narrow-am":"a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"E, M/d","days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y G","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{0} {1}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-yMMMd":"MMM d, y G","eraNames":["BE"],"days-format-narrow":["1","2","3","4","5","6","7"],"days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormat-short":"M/d/yy GGGGG","dateFormatItem-yMMMEd":"E, MMM d, y G","dateFormatItem-Ed":"d E","dateTimeFormats-appendItem-Timezone":"{0} {1}","dateFormat-medium":"MMM d, y G","dayPeriods-format-narrow-pm":"p","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a"}});
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mxui/nls/mxui_nl-nl",{"dojo/cldr/nls/number":{"scientificFormat":"#E0","currencySpacing-afterCurrency-currencyMatch":"[:letter:]","infinity":"","list":";","percentSign":"%","minusSign":"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","decimalFormat-short":"000 bln'.'","currencySpacing-afterCurrency-insertBetween":"","nan":"NaN","plusSign":"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:letter:]","currencyFormat":"#,##0.00;#,##0.00-","perMille":"","group":".","percentFormat":"#,##0%","decimalFormat-long":"000 biljoen","decimalFormat":"#,##0.###","decimal":",","currencySpacing-beforeCurrency-insertBetween":"","exponential":"E"},"dojo/cldr/nls/gregorian":{"days-standAlone-short":["zo","ma","di","wo","do","vr","za"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Dag van de week","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-yMEd":"E d-M-y","dateFormatItem-MMMEd":"E d MMM","eraNarrow":["v.Chr.","n.Chr."],"days-format-short":["zo","ma","di","wo","do","vr","za"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"d MMMM y","months-format-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE d MMMM y","dateFormatItem-Md":"d-M","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dateFormatItem-yMd":"d-M-y","field-era":"Tijdperk","dateFormatItem-yM":"M-y","months-standAlone-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"timeFormat-short":"HH:mm","quarters-format-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"timeFormat-long":"HH:mm:ss z","field-year":"Jaar","dateFormatItem-yMMM":"MMM y","dateFormatItem-yQ":"Q yyyy","dateTimeFormats-appendItem-Era":"{0} {1}","field-hour":"Uur","months-format-abbr":["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],"timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"Vandaag","field-day-relative+1":"Morgen","dateFormatItem-H":"HH","months-standAlone-abbr":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],"quarters-format-abbr":["K1","K2","K3","K4"],"quarters-standAlone-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"dateFormatItem-M":"L","days-standAlone-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["K1","K2","K3","K4"],"eraAbbr":["v.Chr.","n.Chr."],"field-minute":"Minuut","field-dayperiod":"AM/PM","days-standAlone-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Gisteren","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"AM","dateFormatItem-MMMd":"d-MMM","dateFormatItem-MEd":"E d-M","dateTimeFormat-full":"{1} {0}","field-day":"Dag","days-format-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"field-zone":"Zone","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{0} {1}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-yMMMd":"d MMM y","eraNames":["Voor Christus","na Christus"],"days-format-narrow":["Z","M","D","W","D","V","Z"],"days-standAlone-narrow":["Z","M","D","W","D","V","Z"],"dateFormatItem-MMM":"LLL","field-month":"Maand","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormat-short":"dd-MM-yyyy","field-second":"Seconde","dateFormatItem-yMMMEd":"E d MMM y","dateFormatItem-Ed":"E d","dateTimeFormats-appendItem-Timezone":"{0} {1}","field-week":"week","dateFormat-medium":"d MMM y","dayPeriods-format-narrow-pm":"PM","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-yyQQQQ":"QQQQ yy","dayPeriods-format-wide-noon":"12 uur 's middags","dateFormatItem-yyyyMMMM":"MMMM y","dateFormatItem-MMdd":"dd-MM","dateFormatItem-yyQ":"Q yy","field-day-relative+2":"Overmorgen","dateFormatItem-MMMMd":"d MMMM","dayPeriods-format-abbr-noon":"12 uur 's middags","dateFormatItem-yyMMM":"MMM yy","field-day-relative+-2":"Eergisteren","field-year-relative+-1":"Vorig jaar","field-month-relative+-1":"Vorige maand","dateFormatItem-yyMM":"MM-yy","dateFormatItem-MMd":"d-MM","dayPeriods-format-narrow-noon":"n","field-month-relative+0":"Deze maand","field-month-relative+1":"Volgende maand","field-year-relative+0":"Dit jaar","field-week-relative+-1":"Vorige week","field-year-relative+1":"Volgend jaar","field-week-relative+0":"Deze week","field-week-relative+1":"Volgende week"},"dijit/nls/loading":{"loadingState":"Bezig met laden...","errorState":"Er is een fout opgetreden"},"dojo/cldr/nls/buddhist":{"days-standAlone-short":["zo","ma","di","wo","do","vr","za"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"dateFormatItem-yQQQ":"QQQ y G","dateFormatItem-yMEd":"E d-M-y G","dateFormatItem-MMMEd":"E d MMM","eraNarrow":["BE"],"days-format-short":["zo","ma","di","wo","do","vr","za"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"d MMMM y G","months-format-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE d MMMM y G","dateFormatItem-Md":"d-M","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dateFormatItem-yMd":"d-M-y G","dateFormatItem-yM":"M-y G","months-standAlone-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"timeFormat-short":"HH:mm","quarters-format-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"dateTimeFormat":"{1} {0}","timeFormat-long":"HH:mm:ss z","dateFormatItem-yMMM":"MMM y G","dateFormatItem-yQ":"Q y G","dateTimeFormats-appendItem-Era":"{0} {1}","months-format-abbr":["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],"timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","dateFormatItem-H":"HH","months-standAlone-abbr":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],"quarters-format-abbr":["K1","K2","K3","K4"],"quarters-standAlone-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"dateFormatItem-Gy":"y G","dateFormatItem-M":"L","days-standAlone-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["K1","K2","K3","K4"],"eraAbbr":["BE"],"days-standAlone-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"dateFormatItem-h":"h a","dayPeriods-format-narrow-am":"AM","dateFormatItem-MMMd":"d MMM","dateFormatItem-MEd":"E d-M","days-format-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y G","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{0} {1}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-yMMMd":"d MMM y G","eraNames":["BE"],"days-format-narrow":["Z","M","D","W","D","V","Z"],"days-standAlone-narrow":["Z","M","D","W","D","V","Z"],"dateFormatItem-MMM":"LLL","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormat-short":"dd-MM-yy G","dateFormatItem-yMMMEd":"E d MMM y G","dateFormatItem-Ed":"E d","dateTimeFormats-appendItem-Timezone":"{0} {1}","dateFormat-medium":"d MMM y G","dayPeriods-format-narrow-pm":"PM","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-MMdd":"dd-MM","dateFormatItem-yyyyMMMM":"MMMM y G","dateFormatItem-MMd":"d-MM","dateFormatItem-yyMM":"MM-yy G","dateFormatItem-yyMMM":"MMM yy G","dateFormatItem-yyQQQQ":"QQQQ yy G","dateFormatItem-yyQ":"Q yy G","dateFormatItem-MMMMd":"d MMMM"}});
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
require({cache:{"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(_1){return _1.dijit;});},"dojox/main":function(){define("dojox/main",["dojo/_base/kernel"],function(_2){return _2.dojox;});},"dojo/require":function(){define(["./_base/loader"],function(_3){return {dynamic:0,normalize:function(id){return id;},load:_3.require};});},"dojo/hash":function(){define(["./_base/kernel","require","./_base/config","./_base/connect","./_base/lang","./ready","./sniff"],function(_4,_5,_6,_7,_8,_9,_a){_4.hash=function(_b,_c){if(!arguments.length){return _d();}if(_b.charAt(0)=="#"){_b=_b.substring(1);}if(_c){_e(_b);}else{location.href="#"+_b;}return _b;};var _f,_10,_11,_12=_6.hashPollFrequency||100;function _13(str,_14){var i=str.indexOf(_14);return (i>=0)?str.substring(i+1):"";};function _d(){return _13(location.href,"#");};function _15(){_7.publish("/dojo/hashchange",[_d()]);};function _16(){if(_d()===_f){return;}_f=_d();_15();};function _e(_17){if(_10){if(_10.isTransitioning()){setTimeout(_8.hitch(null,_e,_17),_12);return;}var _18=_10.iframe.location.href;var _19=_18.indexOf("?");_10.iframe.location.replace(_18.substring(0,_19)+"?"+_17);return;}location.replace("#"+_17);!_11&&_16();};function _1a(){var ifr=document.createElement("iframe"),_1b="dojo-hash-iframe",_1c=_6.dojoBlankHtmlUrl||_5.toUrl("./resources/blank.html");if(_6.useXDomain&&!_6.dojoBlankHtmlUrl){console.warn("dojo.hash: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}ifr.id=_1b;ifr.src=_1c+"?"+_d();ifr.style.display="none";document.body.appendChild(ifr);this.iframe=_4.global[_1b];var _1d,_1e,_1f,_20,_21,_22=this.iframe.location;function _23(){_f=_d();_1d=_21?_f:_13(_22.href,"?");_1e=false;_1f=null;};this.isTransitioning=function(){return _1e;};this.pollLocation=function(){if(!_21){try{var _24=_13(_22.href,"?");if(document.title!=_20){_20=this.iframe.document.title=document.title;}}catch(e){_21=true;console.error("dojo.hash: Error adding history entry. Server unreachable.");}}var _25=_d();if(_1e&&_f===_25){if(_21||_24===_1f){_23();_15();}else{setTimeout(_8.hitch(this,this.pollLocation),0);return;}}else{if(_f===_25&&(_21||_1d===_24)){}else{if(_f!==_25){_f=_25;_1e=true;_1f=_25;ifr.src=_1c+"?"+_1f;_21=false;setTimeout(_8.hitch(this,this.pollLocation),0);return;}else{if(!_21){location.href="#"+_22.search.substring(1);_23();_15();}}}}setTimeout(_8.hitch(this,this.pollLocation),_12);};_23();setTimeout(_8.hitch(this,this.pollLocation),_12);};_9(function(){if("onhashchange" in _4.global&&(!_a("ie")||(_a("ie")>=8&&document.compatMode!="BackCompat"))){_11=_7.connect(_4.global,"onhashchange",_15);}else{if(document.addEventListener){_f=_d();setInterval(_16,_12);}else{if(document.attachEvent){_10=new _1a();}}}});return _4.hash;});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style"],function(_26,has,_27,dom,_28,_29){var _2a={getBox:function(doc){doc=doc||_27.doc;var _2b=(doc.compatMode=="BackCompat")?_27.body(doc):doc.documentElement,_2c=_28.docScroll(doc),w,h;if(has("touch")){var _2d=_2a.get(doc);w=_2d.innerWidth||_2b.clientWidth;h=_2d.innerHeight||_2b.clientHeight;}else{w=_2b.clientWidth;h=_2b.clientHeight;}return {l:_2c.x,t:_2c.y,w:w,h:h};},get:function(doc){if(has("ie")&&_2a!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(_2e,pos){try{_2e=dom.byId(_2e);var doc=_2e.ownerDocument||_27.doc,_2f=_27.body(doc),_30=doc.documentElement||_2f.parentNode,_31=has("ie"),_32=has("webkit");if((!(has("mozilla")||_31||_32||has("opera"))||_2e==_2f||_2e==_30)&&(typeof _2e.scrollIntoView!="undefined")){_2e.scrollIntoView(false);return;}var _33=doc.compatMode=="BackCompat",_34=(_31>=9&&"frameElement" in _2e.ownerDocument.parentWindow)?((_30.clientHeight>0&&_30.clientWidth>0&&(_2f.clientHeight==0||_2f.clientWidth==0||_2f.clientHeight>_30.clientHeight||_2f.clientWidth>_30.clientWidth))?_30:_2f):(_33?_2f:_30),_35=_32?_2f:_34,_36=_34.clientWidth,_37=_34.clientHeight,rtl=!_28.isBodyLtr(doc),_38=pos||_28.position(_2e),el=_2e.parentNode,_39=function(el){return ((_31<=6||(_31&&_33))?false:(_29.get(el,"position").toLowerCase()=="fixed"));};if(_39(_2e)){return;}while(el){if(el==_2f){el=_35;}var _3a=_28.position(el),_3b=_39(el);if(el==_35){_3a.w=_36;_3a.h=_37;if(_35==_30&&_31&&rtl){_3a.x+=_35.offsetWidth-_3a.w;}if(_3a.x<0||!_31){_3a.x=0;}if(_3a.y<0||!_31){_3a.y=0;}}else{var pb=_28.getPadBorderExtents(el);_3a.w-=pb.w;_3a.h-=pb.h;_3a.x+=pb.l;_3a.y+=pb.t;var _3c=el.clientWidth,_3d=_3a.w-_3c;if(_3c>0&&_3d>0){_3a.w=_3c;_3a.x+=(rtl&&(_31||el.clientLeft>pb.l))?_3d:0;}_3c=el.clientHeight;_3d=_3a.h-_3c;if(_3c>0&&_3d>0){_3a.h=_3c;}}if(_3b){if(_3a.y<0){_3a.h+=_3a.y;_3a.y=0;}if(_3a.x<0){_3a.w+=_3a.x;_3a.x=0;}if(_3a.y+_3a.h>_37){_3a.h=_37-_3a.y;}if(_3a.x+_3a.w>_36){_3a.w=_36-_3a.x;}}var l=_38.x-_3a.x,t=_38.y-Math.max(_3a.y,0),r=l+_38.w-_3a.w,bot=t+_38.h-_3a.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);if(rtl&&((_31==8&&!_33)||_31>=9)){s=-s;}_38.x+=el.scrollLeft;el.scrollLeft+=s;_38.x-=el.scrollLeft;}if(bot*t>0){_38.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_38.y-=el.scrollTop;}el=(el!=_35)&&!_3b&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);_2e.scrollIntoView(false);}}};1&&_26.setObject("dojo.window",_2a);return _2a;});},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(_3e,_3f,_40,_41,_42){var _43={};_3e.setObject("dojo.number",_43);_43.format=function(_44,_45){_45=_3e.mixin({},_45||{});var _46=_3f.normalizeLocale(_45.locale),_47=_3f.getLocalization("dojo.cldr","number",_46);_45.customs=_47;var _48=_45.pattern||_47[(_45.type||"decimal")+"Format"];if(isNaN(_44)||Math.abs(_44)==Infinity){return null;}return _43._applyPattern(_44,_48,_45);};_43._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_43._applyPattern=function(_49,_4a,_4b){_4b=_4b||{};var _4c=_4b.customs.group,_4d=_4b.customs.decimal,_4e=_4a.split(";"),_4f=_4e[0];_4a=_4e[(_49<0)?1:0]||("-"+_4f);if(_4a.indexOf("%")!=-1){_49*=100;}else{if(_4a.indexOf("")!=-1){_49*=1000;}else{if(_4a.indexOf("")!=-1){_4c=_4b.customs.currencyGroup||_4c;_4d=_4b.customs.currencyDecimal||_4d;_4a=_4a.replace(/\u00a4{1,3}/,function(_50){var _51=["symbol","currency","displayName"][_50.length-1];return _4b[_51]||_4b.currency||"";});}else{if(_4a.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _52=_43._numberPatternRE;var _53=_4f.match(_52);if(!_53){throw new Error("unable to find a number expression in pattern: "+_4a);}if(_4b.fractional===false){_4b.places=0;}return _4a.replace(_52,_43._formatAbsolute(_49,_53[0],{decimal:_4d,group:_4c,places:_4b.places,round:_4b.round}));};_43.round=function(_54,_55,_56){var _57=10/(_56||10);return (_57*+_54).toFixed(_55)/_57;};if((0.9).toFixed()==0){var _58=_43.round;_43.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _58(v,p,m)+(v>0?d:-d);};}_43._formatAbsolute=function(_59,_5a,_5b){_5b=_5b||{};if(_5b.places===true){_5b.places=0;}if(_5b.places===Infinity){_5b.places=6;}var _5c=_5a.split("."),_5d=typeof _5b.places=="string"&&_5b.places.indexOf(","),_5e=_5b.places;if(_5d){_5e=_5b.places.substring(_5d+1);}else{if(!(_5e>=0)){_5e=(_5c[1]||[]).length;}}if(!(_5b.round<0)){_59=_43.round(_59,_5e,_5b.round);}var _5f=String(Math.abs(_59)).split("."),_60=_5f[1]||"";if(_5c[1]||_5b.places){if(_5d){_5b.places=_5b.places.substring(0,_5d);}var pad=_5b.places!==undefined?_5b.places:(_5c[1]&&_5c[1].lastIndexOf("0")+1);if(pad>_60.length){_5f[1]=_41.pad(_60,pad,"0",true);}if(_5e<_60.length){_5f[1]=_60.substr(0,_5e);}}else{if(_5f[1]){_5f.pop();}}var _61=_5c[0].replace(",","");pad=_61.indexOf("0");if(pad!=-1){pad=_61.length-pad;if(pad>_5f[0].length){_5f[0]=_41.pad(_5f[0],pad);}if(_61.indexOf("#")==-1){_5f[0]=_5f[0].substr(_5f[0].length-pad);}}var _62=_5c[0].lastIndexOf(","),_63,_64;if(_62!=-1){_63=_5c[0].length-_62-1;var _65=_5c[0].substr(0,_62);_62=_65.lastIndexOf(",");if(_62!=-1){_64=_65.length-_62-1;}}var _66=[];for(var _67=_5f[0];_67;){var off=_67.length-_63;_66.push((off>0)?_67.substr(off):_67);_67=(off>0)?_67.slice(0,off):"";if(_64){_63=_64;delete _64;}}_5f[0]=_66.reverse().join(_5b.group||",");return _5f.join(_5b.decimal||".");};_43.regexp=function(_68){return _43._parseInfo(_68).regexp;};_43._parseInfo=function(_69){_69=_69||{};var _6a=_3f.normalizeLocale(_69.locale),_6b=_3f.getLocalization("dojo.cldr","number",_6a),_6c=_69.pattern||_6b[(_69.type||"decimal")+"Format"],_6d=_6b.group,_6e=_6b.decimal,_6f=1;if(_6c.indexOf("%")!=-1){_6f/=100;}else{if(_6c.indexOf("")!=-1){_6f/=1000;}else{var _70=_6c.indexOf("")!=-1;if(_70){_6d=_6b.currencyGroup||_6d;_6e=_6b.currencyDecimal||_6e;}}}var _71=_6c.split(";");if(_71.length==1){_71.push("-"+_71[0]);}var re=_42.buildGroupRE(_71,function(_72){_72="(?:"+_42.escapeString(_72,".")+")";return _72.replace(_43._numberPatternRE,function(_73){var _74={signed:false,separator:_69.strict?_6d:[_6d,""],fractional:_69.fractional,decimal:_6e,exponent:false},_75=_73.split("."),_76=_69.places;if(_75.length==1&&_6f!=1){_75[1]="###";}if(_75.length==1||_76===0){_74.fractional=false;}else{if(_76===undefined){_76=_69.pattern?_75[1].lastIndexOf("0")+1:Infinity;}if(_76&&_69.fractional==undefined){_74.fractional=true;}if(!_69.places&&(_76<_75[1].length)){_76+=","+_75[1].length;}_74.places=_76;}var _77=_75[0].split(",");if(_77.length>1){_74.groupSize=_77.pop().length;if(_77.length>1){_74.groupSize2=_77.pop().length;}}return "("+_43._realNumberRegexp(_74)+")";});},true);if(_70){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_78,_79,_7a,_7b){var _7c=["symbol","currency","displayName"][_7a.length-1],_7d=_42.escapeString(_69[_7c]||_69.currency||"");_79=_79?"[\\s\\xa0]":"";_7b=_7b?"[\\s\\xa0]":"";if(!_69.strict){if(_79){_79+="*";}if(_7b){_7b+="*";}return "(?:"+_79+_7d+_7b+")?";}return _79+_7d+_7b;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_6d,decimal:_6e,factor:_6f};};_43.parse=function(_7e,_7f){var _80=_43._parseInfo(_7f),_81=(new RegExp("^"+_80.regexp+"$")).exec(_7e);if(!_81){return NaN;}var _82=_81[1];if(!_81[1]){if(!_81[2]){return NaN;}_82=_81[2];_80.factor*=-1;}_82=_82.replace(new RegExp("["+_80.group+"\\s\\xa0"+"]","g"),"").replace(_80.decimal,".");return _82*_80.factor;};_43._realNumberRegexp=function(_83){_83=_83||{};if(!("places" in _83)){_83.places=Infinity;}if(typeof _83.decimal!="string"){_83.decimal=".";}if(!("fractional" in _83)||/^0/.test(_83.places)){_83.fractional=[true,false];}if(!("exponent" in _83)){_83.exponent=[true,false];}if(!("eSigned" in _83)){_83.eSigned=[true,false];}var _84=_43._integerRegexp(_83),_85=_42.buildGroupRE(_83.fractional,function(q){var re="";if(q&&(_83.places!==0)){re="\\"+_83.decimal;if(_83.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_83.places+"}";}}return re;},true);var _86=_42.buildGroupRE(_83.exponent,function(q){if(q){return "([eE]"+_43._integerRegexp({signed:_83.eSigned})+")";}return "";});var _87=_84+_85;if(_85){_87="(?:(?:"+_87+")|(?:"+_85+"))";}return _87+_86;};_43._integerRegexp=function(_88){_88=_88||{};if(!("signed" in _88)){_88.signed=[true,false];}if(!("separator" in _88)){_88.separator="";}else{if(!("groupSize" in _88)){_88.groupSize=3;}}var _89=_42.buildGroupRE(_88.signed,function(q){return q?"[-+]":"";},true);var _8a=_42.buildGroupRE(_88.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_42.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_88.groupSize,_8b=_88.groupSize2;if(_8b){var _8c="(?:0|[1-9]\\d{0,"+(_8b-1)+"}(?:["+sep+"]\\d{"+_8b+"})*["+sep+"]\\d{"+grp+"})";return ((grp-_8b)>0)?"(?:"+_8c+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_8c;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _89+_8a;};return _43;});},"dojo/i18n":function(){define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(_8d,_8e,has,_8f,_90,_91,xhr,_92,_93){has.add("dojo-preload-i18n-Api",1);1||has.add("dojo-v1x-i18n-Api",1);var _94=_8d.i18n={},_95=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_96=function(_97,_98,_99,_9a){for(var _9b=[_99+_9a],_9c=_98.split("-"),_9d="",i=0;i<_9c.length;i++){_9d+=(_9d?"-":"")+_9c[i];if(!_97||_97[_9d]){_9b.push(_99+_9d+"/"+_9a);}}return _9b;},_9e={},_9f=function(_a0,_a1,_a2){_a2=_a2?_a2.toLowerCase():_8d.locale;_a0=_a0.replace(/\./g,"/");_a1=_a1.replace(/\./g,"/");return (/root/i.test(_a2))?(_a0+"/nls/"+_a1):(_a0+"/nls/"+_a2+"/"+_a1);},_a3=_8d.getL10nName=function(_a4,_a5,_a6){return _a4=_93.id+"!"+_9f(_a4,_a5,_a6);},_a7=function(_a8,_a9,_aa,_ab,_ac,_ad){_a8([_a9],function(_ae){var _af=_91.clone(_ae.root),_b0=_96(!_ae._v1x&&_ae,_ac,_aa,_ab);_a8(_b0,function(){for(var i=1;i<_b0.length;i++){_af=_91.mixin(_91.clone(_af),arguments[i]);}var _b1=_a9+"/"+_ac;_9e[_b1]=_af;_ad();});});},_b2=function(id,_b3){return /^\./.test(id)?_b3(id):id;},_b4=function(_b5){var _b6=_90.extraLocale||[];_b6=_91.isArray(_b6)?_b6:[_b6];_b6.push(_b5);return _b6;},_b7=function(id,_b8,_b9){if(has("dojo-preload-i18n-Api")){var _ba=id.split("*"),_bb=_ba[1]=="preload";if(_bb){if(!_9e[id]){_9e[id]=1;_bc(_ba[2],_92.parse(_ba[3]),1,_b8);}_b9(1);}if(_bb||_bd(id,_b8,_b9)){return;}}var _be=_95.exec(id),_bf=_be[1]+"/",_c0=_be[5]||_be[4],_c1=_bf+_c0,_c2=(_be[5]&&_be[4]),_c3=_c2||_8d.locale,_c4=_c1+"/"+_c3,_c5=_c2?[_c3]:_b4(_c3),_c6=_c5.length,_c7=function(){if(!--_c6){_b9(_91.delegate(_9e[_c4]));}};_8f.forEach(_c5,function(_c8){var _c9=_c1+"/"+_c8;if(has("dojo-preload-i18n-Api")){_ca(_c9);}if(!_9e[_c9]){_a7(_b8,_c1,_bf,_c0,_c8,_c7);}else{_c7();}});};if(has("dojo-unit-tests")){var _cb=_94.unitTests=[];}if(has("dojo-preload-i18n-Api")||1){var _cc=_94.normalizeLocale=function(_cd){var _ce=_cd?_cd.toLowerCase():_8d.locale;return _ce=="root"?"ROOT":_ce;},_cf=function(mid,_d0){return (1&&1)?_d0.isXdUrl(_8e.toUrl(mid+".js")):true;},_d1=0,_d2=[],_bc=_94._preloadLocalizations=function(_d3,_d4,_d5,_d6){_d6=_d6||_8e;function _d7(mid,_d8){if(_cf(mid,_d6)||_d5){_d6([mid],_d8);}else{_e4([mid],_d8,_d6);}};function _d9(_da,_db){var _dc=_da.split("-");while(_dc.length){if(_db(_dc.join("-"))){return;}_dc.pop();}_db("ROOT");};function _dd(_de){_de=_cc(_de);_d9(_de,function(loc){if(_8f.indexOf(_d4,loc)>=0){var mid=_d3.replace(/\./g,"/")+"_"+loc;_d1++;_d7(mid,function(_df){for(var p in _df){_9e[_8e.toAbsMid(p)+"/"+loc]=_df[p];}--_d1;while(!_d1&&_d2.length){_b7.apply(null,_d2.shift());}});return true;}return false;});};_dd();_8f.forEach(_8d.config.extraLocale,_dd);},_bd=function(id,_e0,_e1){if(_d1){_d2.push([id,_e0,_e1]);}return _d1;},_ca=function(){};}if(1){var _e2={},_e3=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},"+"\t   require = function(){define.called = 1;};"+"try{"+"define.called = 0;"+"eval(__bundle);"+"if(define.called==1)"+"return __amdValue;"+"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))"+"return __checkForLegacyModules;"+"}catch(e){}"+"try{"+"return eval('('+__bundle+')');"+"}catch(e){"+"return e;"+"}"),_e4=function(_e5,_e6,_e7){var _e8=[];_8f.forEach(_e5,function(mid){var url=_e7.toUrl(mid+".js");function _b7(_e9){var _ea=_e3(_e9,_ca,mid,_e2);if(_ea===_e2){_e8.push(_9e[url]=_e2.result);}else{if(_ea instanceof Error){console.error("failed to evaluate i18n bundle; url="+url,_ea);_ea={};}_e8.push(_9e[url]=(/nls\/[^\/]+\/[^\/]+$/.test(url)?_ea:{root:_ea,_v1x:1}));}};if(_9e[url]){_e8.push(_9e[url]);}else{var _eb=_e7.syncLoadNls(mid);if(_eb){_e8.push(_eb);}else{if(!xhr){try{_e7.getText(url,true,_b7);}catch(e){_e8.push(_9e[url]={});}}else{xhr.get({url:url,sync:true,load:_b7,error:function(){_e8.push(_9e[url]={});}});}}}});_e6&&_e6.apply(null,_e8);};_ca=function(_ec){for(var _ed,_ee=_ec.split("/"),_ef=_8d.global[_ee[0]],i=1;_ef&&i<_ee.length-1;_ef=_ef[_ee[i++]]){}if(_ef){_ed=_ef[_ee[i]];if(!_ed){_ed=_ef[_ee[i].replace(/-/g,"_")];}if(_ed){_9e[_ec]=_ed;}}return _ed;};_94.getLocalization=function(_f0,_f1,_f2){var _f3,_f4=_9f(_f0,_f1,_f2);_b7(_f4,(!_cf(_f4,_8e)?function(_f5,_f6){_e4(_f5,_f6,_8e);}:_8e),function(_f7){_f3=_f7;});return _f3;};if(has("dojo-unit-tests")){_cb.push(function(doh){doh.register("tests.i18n.unit",function(t){var _f8;_f8=_e3("{prop:1}",_ca,"nonsense",_e2);t.is({prop:1},_f8);t.is(undefined,_f8[1]);_f8=_e3("({prop:1})",_ca,"nonsense",_e2);t.is({prop:1},_f8);t.is(undefined,_f8[1]);_f8=_e3("{'prop-x':1}",_ca,"nonsense",_e2);t.is({"prop-x":1},_f8);t.is(undefined,_f8[1]);_f8=_e3("({'prop-x':1})",_ca,"nonsense",_e2);t.is({"prop-x":1},_f8);t.is(undefined,_f8[1]);_f8=_e3("define({'prop-x':1})",_ca,"nonsense",_e2);t.is(_e2,_f8);t.is({"prop-x":1},_e2.result);_f8=_e3("define('some/module', {'prop-x':1})",_ca,"nonsense",_e2);t.is(_e2,_f8);t.is({"prop-x":1},_e2.result);_f8=_e3("this is total nonsense and should throw an error",_ca,"nonsense",_e2);t.is(_f8 instanceof Error,true);});});}}return _91.mixin(_94,{dynamic:true,normalize:_b2,load:_b7,cache:_9e});});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(_f9,_fa){var _fb={};_fa.setObject("dojo.string",_fb);_fb.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};_fb.pad=function(_fc,_fd,ch,end){if(!ch){ch="0";}var out=String(_fc),pad=_fb.rep(ch,Math.ceil((_fd-out.length)/ch.length));return end?out+pad:pad+out;};_fb.substitute=function(_fe,map,_ff,_100){_100=_100||_f9.global;_ff=_ff?_fa.hitch(_100,_ff):function(v){return v;};return _fe.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_101,key,_102){var _103=_fa.getObject(key,false,map);if(_102){_103=_fa.getObject(_102,false,_100).call(_100,_103,key);}return _ff(_103,key).toString();});};_fb.trim=String.prototype.trim?_fa.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return _fb;});},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(dojo,lang){var _104={};lang.setObject("dojo.regexp",_104);_104.escapeString=function(str,_105){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_105&&_105.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};_104.buildGroupRE=function(arr,re,_106){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return _104.group(b.join("|"),_106);};_104.group=function(_107,_108){return "("+(_108?"?:":"")+_107+")";};return _104;});},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(dojo,_109){dojo.cookie=function(name,_10a,_10b){var c=document.cookie,ret;if(arguments.length==1){var _10c=c.match(new RegExp("(?:^|; )"+_109.escapeString(name)+"=([^;]*)"));ret=_10c?decodeURIComponent(_10c[1]):undefined;}else{_10b=_10b||{};var exp=_10b.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_10b.expires=d;}if(exp&&exp.toUTCString){_10b.expires=exp.toUTCString();}_10a=encodeURIComponent(_10a);var _10d=name+"="+_10a,_10e;for(_10e in _10b){_10d+="; "+_10e;var _10f=_10b[_10e];if(_10f!==true){_10d+="="+_10f;}}document.cookie=_10d;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"dojo/date/locale":function(){define(["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(lang,_110,date,_111,i18n,_112,_113,_114,_115){var _116={};lang.setObject(_115.id.replace(/\//g,"."),_116);function _117(_118,_119,_11a,_11b){return _11b.replace(/([a-z])\1*/ig,function(_11c){var s,pad,c=_11c.charAt(0),l=_11c.length,_11d=["abbr","wide","narrow"];switch(c){case "G":s=_119[(l<4)?"eraAbbr":"eraNames"][_118.getFullYear()<0?0:1];break;case "y":s=_118.getFullYear();switch(l){case 1:break;case 2:if(!_11a.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_118.getMonth()+1)/3);pad=true;break;case "M":case "L":var m=_118.getMonth();if(l<3){s=m+1;pad=true;}else{var _11e=["months",c=="L"?"standAlone":"format",_11d[l-3]].join("-");s=_119[_11e][m];}break;case "w":var _11f=0;s=_116._getWeekOfYear(_118,_11f);pad=true;break;case "d":s=_118.getDate();pad=true;break;case "D":s=_116._getDayOfYear(_118);pad=true;break;case "e":case "c":var d=_118.getDay();if(l<2){s=(d-_111.getFirstDayOfWeek(_11a.locale)+8)%7;break;}case "E":d=_118.getDay();if(l<3){s=d+1;pad=true;}else{var _120=["days",c=="c"?"standAlone":"format",_11d[l-3]].join("-");s=_119[_120][d];}break;case "a":var _121=_118.getHours()<12?"am":"pm";s=_11a[_121]||_119["dayPeriods-format-wide-"+_121];break;case "h":case "H":case "K":case "k":var h=_118.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_118.getMinutes();pad=true;break;case "s":s=_118.getSeconds();pad=true;break;case "S":s=Math.round(_118.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=_116._getZone(_118,true,_11a);if(s){break;}l=4;case "Z":var _122=_116._getZone(_118,false,_11a);var tz=[(_122<=0?"+":"-"),_113.pad(Math.floor(Math.abs(_122)/60),2),_113.pad(Math.abs(_122)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_11b);}if(pad){s=_113.pad(s,l);}return s;});};_116._getZone=function(_123,_124,_125){if(_124){return date.getTimezoneName(_123);}else{return _123.getTimezoneOffset();}};_116.format=function(_126,_127){_127=_127||{};var _128=i18n.normalizeLocale(_127.locale),_129=_127.formatLength||"short",_12a=_116._getGregorianBundle(_128),str=[],_12b=lang.hitch(this,_117,_126,_12a,_127);if(_127.selector=="year"){return _12c(_12a["dateFormatItem-yyyy"]||"yyyy",_12b);}var _12d;if(_127.selector!="date"){_12d=_127.timePattern||_12a["timeFormat-"+_129];if(_12d){str.push(_12c(_12d,_12b));}}if(_127.selector!="time"){_12d=_127.datePattern||_12a["dateFormat-"+_129];if(_12d){str.push(_12c(_12d,_12b));}}return str.length==1?str[0]:_12a["dateTimeFormat-"+_129].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(_12e,key){return str[key];});};_116.regexp=function(_12f){return _116._parseInfo(_12f).regexp;};_116._parseInfo=function(_130){_130=_130||{};var _131=i18n.normalizeLocale(_130.locale),_132=_116._getGregorianBundle(_131),_133=_130.formatLength||"short",_134=_130.datePattern||_132["dateFormat-"+_133],_135=_130.timePattern||_132["timeFormat-"+_133],_136;if(_130.selector=="date"){_136=_134;}else{if(_130.selector=="time"){_136=_135;}else{_136=_132["dateTimeFormat-"+_133].replace(/\{(\d+)\}/g,function(_137,key){return [_135,_134][key];});}}var _138=[],re=_12c(_136,lang.hitch(this,_139,_138,_132,_130));return {regexp:re,tokens:_138,bundle:_132};};_116.parse=function(_13a,_13b){var _13c=/[\u200E\u200F\u202A\u202E]/g,info=_116._parseInfo(_13b),_13d=info.tokens,_13e=info.bundle,re=new RegExp("^"+info.regexp.replace(_13c,"")+"$",info.strict?"":"i"),_13f=re.exec(_13a&&_13a.replace(_13c,""));if(!_13f){return null;}var _140=["abbr","wide","narrow"],_141=[1970,0,1,0,0,0,0],amPm="",_142=_110.every(_13f,function(v,i){if(!i){return true;}var _143=_13d[i-1],l=_143.length,c=_143.charAt(0);switch(c){case "y":if(l!=2&&_13b.strict){_141[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_144=year.substring(0,2)*100,_145=Math.min(Number(year.substring(2,4))+20,99);_141[0]=(v<_145)?_144+v:_144-100+v;}else{if(_13b.strict){return false;}_141[0]=v;}}break;case "M":case "L":if(l>2){var _146=_13e["months-"+(c=="L"?"standAlone":"format")+"-"+_140[l-3]].concat();if(!_13b.strict){v=v.replace(".","").toLowerCase();_146=_110.map(_146,function(s){return s.replace(".","").toLowerCase();});}v=_110.indexOf(_146,v);if(v==-1){return false;}}else{v--;}_141[1]=v;break;case "E":case "e":case "c":var days=_13e["days-"+(c=="c"?"standAlone":"format")+"-"+_140[l-3]].concat();if(!_13b.strict){v=v.toLowerCase();days=_110.map(days,function(d){return d.toLowerCase();});}v=_110.indexOf(days,v);if(v==-1){return false;}break;case "D":_141[1]=0;case "d":_141[2]=v;break;case "a":var am=_13b.am||_13e["dayPeriods-format-wide-am"],pm=_13b.pm||_13e["dayPeriods-format-wide-pm"];if(!_13b.strict){var _147=/\./g;v=v.replace(_147,"").toLowerCase();am=am.replace(_147,"").toLowerCase();pm=pm.replace(_147,"").toLowerCase();}if(_13b.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_141[3]=v;break;case "m":_141[4]=v;break;case "s":_141[5]=v;break;case "S":_141[6]=v;}return true;});var _148=+_141[3];if(amPm==="p"&&_148<12){_141[3]=_148+12;}else{if(amPm==="a"&&_148==12){_141[3]=0;}}var _149=new Date(_141[0],_141[1],_141[2],_141[3],_141[4],_141[5],_141[6]);if(_13b.strict){_149.setFullYear(_141[0]);}var _14a=_13d.join(""),_14b=_14a.indexOf("d")!=-1,_14c=_14a.indexOf("M")!=-1;if(!_142||(_14c&&_149.getMonth()>_141[1])||(_14b&&_149.getDate()>_141[2])){return null;}if((_14c&&_149.getMonth()<_141[1])||(_14b&&_149.getDate()<_141[2])){_149=date.add(_149,"hour",1);}return _149;};function _12c(_14d,_14e,_14f,_150){var _151=function(x){return x;};_14e=_14e||_151;_14f=_14f||_151;_150=_150||_151;var _152=_14d.match(/(''|[^'])+/g),_153=_14d.charAt(0)=="'";_110.forEach(_152,function(_154,i){if(!_154){_152[i]="";}else{_152[i]=(_153?_14f:_14e)(_154.replace(/''/g,"'"));_153=!_153;}});return _150(_152.join(""));};function _139(_155,_156,_157,_158){_158=_112.escapeString(_158);if(!_157.strict){_158=_158.replace(" a"," ?a");}return _158.replace(/([a-z])\1*/ig,function(_159){var s,c=_159.charAt(0),l=_159.length,p2="",p3="";if(_157.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":case "L":s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";break;case "D":s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p2+"[1-9][0-9]|"+p3+"[1-9]";break;case "d":s="3[01]|[12]\\d|"+p2+"[1-9]";break;case "w":s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";break;case "E":case "e":case "c":s="\\S+";break;case "h":s="1[0-2]|"+p2+"[1-9]";break;case "k":s="1[01]|"+p2+"\\d";break;case "H":s="1\\d|2[0-3]|"+p2+"\\d";break;case "K":s="1\\d|2[0-4]|"+p2+"[1-9]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_157.am||_156["dayPeriods-format-wide-am"],pm=_157.pm||_156["dayPeriods-format-wide-pm"];s=am+"|"+pm;if(!_157.strict){if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_155){_155.push(_159);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _15a=[];_116.addCustomFormats=function(_15b,_15c){_15a.push({pkg:_15b,name:_15c});};_116._getGregorianBundle=function(_15d){var _15e={};_110.forEach(_15a,function(desc){var _15f=i18n.getLocalization(desc.pkg,desc.name,_15d);_15e=lang.mixin(_15e,_15f);},this);return _15e;};_116.addCustomFormats(_115.id.replace(/\/date\/locale$/,".cldr"),"gregorian");_116.getNames=function(item,type,_160,_161){var _162,_163=_116._getGregorianBundle(_161),_164=[item,_160,type];if(_160=="standAlone"){var key=_164.join("-");_162=_163[key];if(_162[0]==1){_162=undefined;}}_164[1]="format";return (_162||_163[_164.join("-")]).concat();};_116.isWeekend=function(_165,_166){var _167=_111.getWeekend(_166),day=(_165||new Date()).getDay();if(_167.end<_167.start){_167.end+=7;if(day<_167.start){day+=7;}}return day>=_167.start&&day<=_167.end;};_116._getDayOfYear=function(_168){return date.difference(new Date(_168.getFullYear(),0,1,_168.getHours()),_168)+1;};_116._getWeekOfYear=function(_169,_16a){if(arguments.length==1){_16a=0;}var _16b=new Date(_169.getFullYear(),0,1).getDay(),adj=(_16b-_16a+7)%7,week=Math.floor((_116._getDayOfYear(_169)+adj-1)/7);if(_16b==_16a){week++;}return week;};return _116;});},"dojo/date":function(){define(["./has","./_base/lang"],function(has,lang){var date={};date.getDaysInMonth=function(_16c){var _16d=_16c.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_16d==1&&date.isLeapYear(_16c)){return 29;}return days[_16d];};date.isLeapYear=function(_16e){var year=_16e.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};date.getTimezoneName=function(_16f){var str=_16f.toString();var tz="";var _170;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_170=str.match(pat))){tz=_170[1];}else{str=_16f.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_170=str.match(pat))){tz=_170[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};date.compare=function(_171,_172,_173){_171=new Date(+_171);_172=new Date(+(_172||new Date()));if(_173=="date"){_171.setHours(0,0,0,0);_172.setHours(0,0,0,0);}else{if(_173=="time"){_171.setFullYear(0,0,0);_172.setFullYear(0,0,0);}}if(_171>_172){return 1;}if(_171<_172){return -1;}return 0;};date.add=function(date,_174,_175){var sum=new Date(+date);var _176=false;var _177="Date";switch(_174){case "day":break;case "weekday":var days,_178;var mod=_175%5;if(!mod){days=(_175>0)?5:-5;_178=(_175>0)?((_175-5)/5):((_175+5)/5);}else{days=mod;_178=parseInt(_175/5);}var strt=date.getDay();var adj=0;if(strt==6&&_175>0){adj=1;}else{if(strt==0&&_175<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_175>0)?2:-2;}_175=(7*_178)+days+adj;break;case "year":_177="FullYear";_176=true;break;case "week":_175*=7;break;case "quarter":_175*=3;case "month":_176=true;_177="Month";break;default:_177="UTC"+_174.charAt(0).toUpperCase()+_174.substring(1)+"s";}if(_177){sum["set"+_177](sum["get"+_177]()+_175);}if(_176&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};date.difference=function(_179,_17a,_17b){_17a=_17a||new Date();_17b=_17b||"day";var _17c=_17a.getFullYear()-_179.getFullYear();var _17d=1;switch(_17b){case "quarter":var m1=_179.getMonth();var m2=_17a.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_17c*4);_17d=q2-q1;break;case "weekday":var days=Math.round(date.difference(_179,_17a,"day"));var _17e=parseInt(date.difference(_179,_17a,"week"));var mod=days%7;if(mod==0){days=_17e*5;}else{var adj=0;var aDay=_179.getDay();var bDay=_17a.getDay();_17e=parseInt(days/7);mod=days%7;var _17f=new Date(_179);_17f.setDate(_17f.getDate()+(_17e*7));var _180=_17f.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_180+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_180+mod)<0:adj=2;}}}days+=adj;days-=(_17e*2);}_17d=days;break;case "year":_17d=_17c;break;case "month":_17d=(_17a.getMonth()-_179.getMonth())+(_17c*12);break;case "week":_17d=parseInt(date.difference(_179,_17a,"day")/7);break;case "day":_17d/=24;case "hour":_17d/=60;case "minute":_17d/=60;case "second":_17d/=1000;case "millisecond":_17d*=_17a.getTime()-_179.getTime();}return Math.round(_17d);};1&&lang.mixin(lang.getObject("dojo.date",true),date);return date;});},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(lang,i18n){var _181={};lang.setObject("dojo.cldr.supplemental",_181);_181.getFirstDayOfWeek=function(_182){var _183={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0};var _184=_181._region(_182);var dow=_183[_184];return (dow===undefined)?1:dow;};_181._region=function(_185){_185=i18n.normalizeLocale(_185);var tags=_185.split("-");var _186=tags[1];if(!_186){_186={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_186.length==4){_186=tags[2];}}return _186;};_181.getWeekend=function(_187){var _188={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5},_189={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6},_18a=_181._region(_187),_18b=_188[_18a],end=_189[_18a];if(_18b===undefined){_18b=6;}if(end===undefined){end=0;}return {start:_18b,end:end};};return _181;});},"dijit/_base":function(){define("dijit/_base",["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_18c){return _18c._base;});},"dijit/a11y":function(){define("dijit/a11y",["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/sniff","./main"],function(_18d,_18e,_18f,dom,_190,_191,has,_192){var _193=(_192._isElementShown=function(elem){var s=_191.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_190.get(elem,"type")!="hidden");});_192.hasDefaultTabStop=function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _190.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _194=elem.contentDocument;if("designMode" in _194&&_194.designMode=="on"){return true;}body=_194.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}};var _195=(_192.isTabNavigable=function(elem){if(_190.get(elem,"disabled")){return false;}else{if(_190.has(elem,"tabIndex")){return _190.get(elem,"tabIndex")>=0;}else{return _192.hasDefaultTabStop(elem);}}});_192._getTabNavigable=function(root){var _196,last,_197,_198,_199,_19a,_19b={};function _19c(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _19d=function(_19e){for(var _19f=_19e.firstChild;_19f;_19f=_19f.nextSibling){if(_19f.nodeType!=1||(has("ie")<=9&&_19f.scopeName!=="HTML")||!_193(_19f)){continue;}if(_195(_19f)){var _1a0=+_190.get(_19f,"tabIndex");if(!_190.has(_19f,"tabIndex")||_1a0==0){if(!_196){_196=_19f;}last=_19f;}else{if(_1a0>0){if(!_197||_1a0<_198){_198=_1a0;_197=_19f;}if(!_199||_1a0>=_19a){_19a=_1a0;_199=_19f;}}}var rn=_19c(_19f);if(_190.get(_19f,"checked")&&rn){_19b[rn]=_19f;}}if(_19f.nodeName.toUpperCase()!="SELECT"){_19d(_19f);}}};if(_193(root)){_19d(root);}function rs(node){return _19b[_19c(node)]||node;};return {first:rs(_196),last:rs(last),lowest:rs(_197),highest:rs(_199)};};_192.getFirstInTabbingOrder=function(root,doc){var _1a1=_192._getTabNavigable(dom.byId(root,doc));return _1a1.lowest?_1a1.lowest:_1a1.first;};_192.getLastInTabbingOrder=function(root,doc){var _1a2=_192._getTabNavigable(dom.byId(root,doc));return _1a2.last?_1a2.last:_1a2.highest;};return {hasDefaultTabStop:_192.hasDefaultTabStop,isTabNavigable:_192.isTabNavigable,_getTabNavigable:_192._getTabNavigable,getFirstInTabbingOrder:_192.getFirstInTabbingOrder,getLastInTabbingOrder:_192.getLastInTabbingOrder};});},"dijit/WidgetSet":function(){define("dijit/WidgetSet",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(_1a3,_1a4,_1a5,_1a6){var _1a7=_1a4("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_1a8){if(this._hash[_1a8.id]){throw new Error("Tried to register widget with id=="+_1a8.id+" but that id is already registered");}this._hash[_1a8.id]=_1a8;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_1a9){_1a9=_1a9||_1a5.global;var i=0,id;for(id in this._hash){func.call(_1a9,this._hash[id],i++,this._hash);}return this;},filter:function(_1aa,_1ab){_1ab=_1ab||_1a5.global;var res=new _1a7(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_1aa.call(_1ab,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new _1a7(),id,_1ac;for(id in this._hash){_1ac=this._hash[id];if(_1ac.declaredClass==cls){res.add(_1ac);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_1ad){return _1a3.map(this.toArray(),func,_1ad);},every:function(func,_1ae){_1ae=_1ae||_1a5.global;var x=0,i;for(i in this._hash){if(!func.call(_1ae,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_1af){_1af=_1af||_1a5.global;var x=0,i;for(i in this._hash){if(func.call(_1af,this._hash[i],x++,this._hash)){return true;}}return false;}});_1a3.forEach(["forEach","filter","byClass","map","every","some"],function(func){_1a6[func]=_1a7.prototype[func];});return _1a7;});},"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(_1b0,has,_1b1,win,_1b2){var _1b3={},hash={};var _1b4={length:0,add:function(_1b5){if(hash[_1b5.id]){throw new Error("Tried to register widget with id=="+_1b5.id+" but that id is already registered");}hash[_1b5.id]=_1b5;this.length++;},remove:function(id){if(hash[id]){delete hash[id];this.length--;}},byId:function(id){return typeof id=="string"?hash[id]:id;},byNode:function(node){return hash[node.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in hash){ar.push(hash[id]);}return ar;},getUniqueId:function(_1b6){var id;do{id=_1b6+"_"+(_1b6 in _1b3?++_1b3[_1b6]:_1b3[_1b6]=0);}while(hash[id]);return _1b2._scopeName=="dijit"?id:_1b2._scopeName+"_"+id;},findWidgets:function(root,_1b7){var _1b8=[];function _1b9(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _1ba=node.getAttribute("widgetId");if(_1ba){var _1bb=hash[_1ba];if(_1bb){_1b8.push(_1bb);}}else{if(node!==_1b7){_1b9(node);}}}}};_1b9(root);return _1b8;},_destroyAll:function(){_1b2._curFocus=null;_1b2._prevFocus=null;_1b2._activeStack=[];_1b0.forEach(_1b4.findWidgets(win.body()),function(_1bc){if(!_1bc._destroyed){if(_1bc.destroyRecursive){_1bc.destroyRecursive();}else{if(_1bc.destroy){_1bc.destroy();}}}});},getEnclosingWidget:function(node){while(node){var id=node.nodeType==1&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;},_hash:hash};_1b2.registry=_1b4;return _1b4;});},"dijit/_base/focus":function(){define("dijit/_base/focus",["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../main"],function(_1bd,dom,lang,_1be,win,_1bf,_1c0){var _1c1={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _1c0.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=win.doc.selection,cf=_1bf.curNode;if(win.global.getSelection){sel=win.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_1c2){var _1c3=win.doc,mark=_1c2.mark;if(mark){if(win.global.getSelection){var sel=win.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_1c3.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=_1c3.body.createControlRange();_1bd.forEach(mark,function(n){rg.addElement(n);});}else{rg=_1c3.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_1c4){var node=!_1bf.curNode||(menu&&dom.isDescendant(_1bf.curNode,menu.domNode))?_1c0._prevFocus:_1bf.curNode;return {node:node,bookmark:node&&(node==_1bf.curNode)&&win.withGlobal(_1c4||win.global,_1c0.getBookmark),openedForWindow:_1c4};},_activeStack:[],registerIframe:function(_1c5){return _1bf.registerIframe(_1c5);},unregisterIframe:function(_1c6){_1c6&&_1c6.remove();},registerWin:function(_1c7,_1c8){return _1bf.registerWin(_1c7,_1c8);},unregisterWin:function(_1c9){_1c9&&_1c9.remove();}};_1bf.focus=function(_1ca){if(!_1ca){return;}var node="node" in _1ca?_1ca.node:_1ca,_1cb=_1ca.bookmark,_1cc=_1ca.openedForWindow,_1cd=_1cb?_1cb.isCollapsed:false;if(node){var _1ce=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_1ce&&_1ce.focus){try{_1ce.focus();}catch(e){}}_1bf._onFocusNode(node);}if(_1cb&&win.withGlobal(_1cc||win.global,_1c0.isCollapsed)&&!_1cd){if(_1cc){_1cc.focus();}try{win.withGlobal(_1cc||win.global,_1c0.moveToBookmark,null,[_1cb]);}catch(e2){}}};_1bf.watch("curNode",function(name,_1cf,_1d0){_1c0._curFocus=_1d0;_1c0._prevFocus=_1cf;if(_1d0){_1be.publish("focusNode",_1d0);}});_1bf.watch("activeStack",function(name,_1d1,_1d2){_1c0._activeStack=_1d2;});_1bf.on("widget-blur",function(_1d3,by){_1be.publish("widgetBlur",_1d3,by);});_1bf.on("widget-focus",function(_1d4,by){_1be.publish("widgetFocus",_1d4,by);});lang.mixin(_1c0,_1c1);return _1c0;});},"dijit/focus":function(){define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/Stateful","dojo/_base/unload","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_1d5,_1d6,dom,_1d7,_1d8,_1d9,lang,on,_1da,has,_1db,_1dc,win,_1dd,a11y,_1de,_1df){var _1e0=_1d6([_1db,_1d9],{curNode:null,activeStack:[],constructor:function(){var _1e1=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_1d5.before(_1d8,"empty",_1e1);_1d5.before(_1d8,"destroy",_1e1);},registerIframe:function(_1e2){return this.registerWin(_1e2.contentWindow,_1e2);},registerWin:function(_1e3,_1e4){var _1e5=this;var _1e6=function(evt){_1e5._justMouseDowned=true;setTimeout(function(){_1e5._justMouseDowned=false;},0);if(has("ie")&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}_1e5._onTouchNode(_1e4||evt.target||evt.srcElement,"mouse");};var doc=has("ie")?_1e3.document.documentElement:_1e3.document;if(doc){if(has("ie")){_1e3.document.body.attachEvent("onmousedown",_1e6);var _1e7=function(evt){var tag=evt.srcElement.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isTabNavigable(evt.srcElement)){_1e5._onFocusNode(_1e4||evt.srcElement);}else{_1e5._onTouchNode(_1e4||evt.srcElement);}};doc.attachEvent("onfocusin",_1e7);var _1e8=function(evt){_1e5._onBlurNode(_1e4||evt.srcElement);};doc.attachEvent("onfocusout",_1e8);return {remove:function(){_1e3.document.detachEvent("onmousedown",_1e6);doc.detachEvent("onfocusin",_1e7);doc.detachEvent("onfocusout",_1e8);doc=null;}};}else{doc.body.addEventListener("mousedown",_1e6,true);doc.body.addEventListener("touchstart",_1e6,true);var _1e9=function(evt){_1e5._onFocusNode(_1e4||evt.target);};doc.addEventListener("focus",_1e9,true);var _1ea=function(evt){_1e5._onBlurNode(_1e4||evt.target);};doc.addEventListener("blur",_1ea,true);return {remove:function(){doc.body.removeEventListener("mousedown",_1e6,true);doc.body.removeEventListener("touchstart",_1e6,true);doc.removeEventListener("focus",_1e9,true);doc.removeEventListener("blur",_1ea,true);doc=null;}};}}},_onBlurNode:function(node){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}var _1eb=[];try{while(node){var _1ec=_1d7.get(node,"dijitPopupParent");if(_1ec){node=_1de.byId(_1ec).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_1dd.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_1ed=id&&_1de.byId(id);if(_1ed&&!(by=="mouse"&&_1ed.get("disabled"))){_1eb.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_1eb,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_1ee,by){var _1ef=this.activeStack;this.set("activeStack",_1ee);for(var _1f0=0;_1f0<Math.min(_1ef.length,_1ee.length);_1f0++){if(_1ef[_1f0]!=_1ee[_1f0]){break;}}var _1f1;for(var i=_1ef.length-1;i>=_1f0;i--){_1f1=_1de.byId(_1ef[i]);if(_1f1){_1f1._hasBeenBlurred=true;_1f1.set("focused",false);if(_1f1._focusManager==this){_1f1._onBlur(by);}this.emit("widget-blur",_1f1,by);}}for(i=_1f0;i<_1ee.length;i++){_1f1=_1de.byId(_1ee[i]);if(_1f1){_1f1.set("focused",true);if(_1f1._focusManager==this){_1f1._onFocus(by);}this.emit("widget-focus",_1f1,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _1f2=new _1e0();_1da(function(){var _1f3=_1f2.registerWin(_1dd.get(win.doc));if(has("ie")){_1dc.addOnWindowUnload(function(){if(_1f3){_1f3.remove();_1f3=null;}});}});_1df.focus=function(node){_1f2.focus(node);};for(var attr in _1f2){if(!/^_/.test(attr)){_1df.focus[attr]=typeof _1f2[attr]=="function"?lang.hitch(_1f2,attr):_1f2[attr];}}_1f2.watch(function(attr,_1f4,_1f5){_1df.focus[attr]=_1f5;});return _1f2;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","dojo/when"],function(_1f6,lang,_1f7,when){return _1f6("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});},postscript:function(_1f8){if(_1f8){this.set(_1f8);}},_get:function(name,_1f9){return typeof this[_1f9.g]==="function"?this[_1f9.g]():this[name];},get:function(name){return this._get(name,this._getAttrNames(name));},set:function(name,_1fa){if(typeof name==="object"){for(var x in name){if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,name[x]);}}return this;}var _1fb=this._getAttrNames(name),_1fc=this._get(name,_1fb),_1fd=this[_1fb.s],_1fe;if(typeof _1fd==="function"){_1fe=_1fd.apply(this,Array.prototype.slice.call(arguments,1));}else{this[name]=_1fa;}if(this._watchCallbacks){var self=this;when(_1fe,function(){self._watchCallbacks(name,_1fc,_1fa);});}return this;},_changeAttrValue:function(name,_1ff){var _200=this.get(name);this[name]=_1ff;if(this._watchCallbacks){this._watchCallbacks(name,_200,_1ff);}return this;},watch:function(name,_201){var _202=this._watchCallbacks;if(!_202){var self=this;_202=this._watchCallbacks=function(name,_203,_204,_205){var _206=function(_207){if(_207){_207=_207.slice();for(var i=0,l=_207.length;i<l;i++){_207[i].call(self,name,_203,_204);}}};_206(_202["_"+name]);if(!_205){_206(_202["*"]);}};}if(!_201&&typeof name==="function"){_201=name;name="*";}else{name="_"+name;}var _208=_202[name];if(typeof _208!=="object"){_208=_202[name]=[];}_208.push(_201);var _209={};_209.unwatch=_209.remove=function(){var _20a=_1f7.indexOf(_208,_201);if(_20a>-1){_208.splice(_20a,1);}};return _209;}});});},"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_20b,_20c,lang,_20d,_20e){var _20f={};_20b.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_20f[name]=_20d[name];});lang.mixin(_20f,{defaultDuration:_20c["defaultDuration"]||200});lang.mixin(_20e,_20f);return _20e;});},"dijit/_base/place":function(){define("dijit/_base/place",["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(_210,lang,_211,_212,_213){var _214={};_214.getViewport=function(){return _211.getBox();};_214.placeOnScreen=_212.at;_214.placeOnScreenAroundElement=function(node,_215,_216,_217){var _218;if(lang.isArray(_216)){_218=_216;}else{_218=[];for(var key in _216){_218.push({aroundCorner:key,corner:_216[key]});}}return _212.around(node,_215,_218,true,_217);};_214.placeOnScreenAroundNode=_214.placeOnScreenAroundElement;_214.placeOnScreenAroundRectangle=_214.placeOnScreenAroundElement;_214.getPopupAroundAlignment=function(_219,_21a){var _21b={};_210.forEach(_219,function(pos){var ltr=_21a;switch(pos){case "after":_21b[_21a?"BR":"BL"]=_21a?"BL":"BR";break;case "before":_21b[_21a?"BL":"BR"]=_21a?"BR":"BL";break;case "below-alt":ltr=!ltr;case "below":_21b[ltr?"BL":"BR"]=ltr?"TL":"TR";_21b[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above-alt":ltr=!ltr;case "above":default:_21b[ltr?"TL":"TR"]=ltr?"BL":"BR";_21b[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});return _21b;};lang.mixin(_213,_214);return _213;});},"dijit/place":function(){define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","dojo/window","./main"],function(_21c,_21d,_21e,_21f,win,_220,_221){function _222(node,_223,_224,_225){var view=_220.getBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_21c.some(_223,function(_226){var _227=_226.corner;var pos=_226.pos;var _228=0;var _229={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_227.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_227.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_224){var res=_224(node,_226.aroundCorner,_227,_229,_225);_228=typeof res=="undefined"?0:res;}var _22a=node.style;var _22b=_22a.display;var _22c=_22a.visibility;if(_22a.display=="none"){_22a.visibility="hidden";_22a.display="";}var bb=_21d.position(node);_22a.display=_22b;_22a.visibility=_22c;var _22d={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_227.charAt(1)],_22e={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_227.charAt(0)],_22f=Math.max(view.l,_22d),_230=Math.max(view.t,_22e),endX=Math.min(view.l+view.w,_22d+bb.w),endY=Math.min(view.t+view.h,_22e+bb.h),_231=endX-_22f,_232=endY-_230;_228+=(bb.w-_231)+(bb.h-_232);if(best==null||_228<best.overflow){best={corner:_227,aroundCorner:_226.aroundCorner,x:_22f,y:_230,w:_231,h:_232,overflow:_228,spaceAvailable:_229};}return !_228;});if(best.overflow&&_224){_224(node,best.aroundCorner,best.corner,best.spaceAvailable,_225);}var l=_21d.isBodyLtr(node.ownerDocument),s=node.style;s.top=best.y+"px";s[l?"left":"right"]=(l?best.x:view.w-best.x-best.w)+"px";s[l?"right":"left"]="auto";return best;};var _233={at:function(node,pos,_234,_235){var _236=_21c.map(_234,function(_237){var c={corner:_237,pos:{x:pos.x,y:pos.y}};if(_235){c.pos.x+=_237.charAt(1)=="L"?_235.x:-_235.x;c.pos.y+=_237.charAt(0)=="T"?_235.y:-_235.y;}return c;});return _222(node,_236);},around:function(node,_238,_239,_23a,_23b){var _23c=(typeof _238=="string"||"offsetWidth" in _238)?_21d.position(_238,true):_238;if(_238.parentNode){var _23d=_21e.getComputedStyle(_238).position=="absolute";var _23e=_238.parentNode;while(_23e&&_23e.nodeType==1&&_23e.nodeName!="BODY"){var _23f=_21d.position(_23e,true),pcs=_21e.getComputedStyle(_23e);if(/relative|absolute/.test(pcs.position)){_23d=false;}if(!_23d&&/hidden|auto|scroll/.test(pcs.overflow)){var _240=Math.min(_23c.y+_23c.h,_23f.y+_23f.h);var _241=Math.min(_23c.x+_23c.w,_23f.x+_23f.w);_23c.x=Math.max(_23c.x,_23f.x);_23c.y=Math.max(_23c.y,_23f.y);_23c.h=_240-_23c.y;_23c.w=_241-_23c.x;}if(pcs.position=="absolute"){_23d=true;}_23e=_23e.parentNode;}}var x=_23c.x,y=_23c.y,_242="w" in _23c?_23c.w:(_23c.w=_23c.width),_243="h" in _23c?_23c.h:(_21f.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_23c.height+", width:"+_242+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_23c.height+", w:"+_242+" }","","2.0"),_23c.h=_23c.height);var _244=[];function push(_245,_246){_244.push({aroundCorner:_245,corner:_246,pos:{x:{"L":x,"R":x+_242,"M":x+(_242>>1)}[_245.charAt(1)],y:{"T":y,"B":y+_243,"M":y+(_243>>1)}[_245.charAt(0)]}});};_21c.forEach(_239,function(pos){var ltr=_23a;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _247=_222(node,_244,_23b,{w:_242,h:_243});_247.aroundNodePos=_23c;return _247;}};return _221.place=_233;});},"dijit/_base/popup":function(){define("dijit/_base/popup",["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_248,win,_249){var _24a=_249._createWrapper;_249._createWrapper=function(_24b){if(!_24b.declaredClass){_24b={_popupWrapper:(_24b.parentNode&&_248.contains(_24b.parentNode,"dijitPopup"))?_24b.parentNode:null,domNode:_24b,destroy:function(){},ownerDocument:_24b.ownerDocument,ownerDocumentBody:win.body(_24b.ownerDocument)};}return _24a.call(this,_24b);};var _24c=_249.open;_249.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _24c.call(this,args);};return _249;});},"dijit/popup":function(){define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./place","./BackgroundIframe","./main"],function(_24d,_24e,_24f,_250,dom,_251,_252,_253,_254,_255,keys,lang,on,has,_256,_257,_258){function _259(){if(this._popupWrapper){_252.destroy(this._popupWrapper);delete this._popupWrapper;}};var _25a=_250(null,{_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_25b){var _25c=_25b._popupWrapper,node=_25b.domNode;if(!_25c){_25c=_252.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},_25b.ownerDocumentBody);_25c.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_25b._popupWrapper=_25c;_24e.after(_25b,"destroy",_259,true);}return _25c;},moveOffScreen:function(_25d){var _25e=this._createWrapper(_25d);_254.set(_25e,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_25f){var _260=this._createWrapper(_25f);_254.set(_260,"display","none");},getTopPopup:function(){var _261=this._stack;for(var pi=_261.length-1;pi>0&&_261[pi].parent===_261[pi-1].widget;pi--){}return _261[pi];},open:function(args){var _262=this._stack,_263=args.popup,_264=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_253.isBodyLtr(_263.ownerDocument),_265=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_262.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_262[_262.length-1].widget.domNode))){this.close(_262[_262.length-1].widget);}var _266=this._createWrapper(_263);_251.set(_266,{id:id,style:{zIndex:this._beginZIndex+_262.length},"class":"dijitPopup "+(_263.baseClass||_263["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(has("ie")||has("mozilla")){if(!_263.bgIframe){_263.bgIframe=new _257(_266);}}var best=_265?_256.around(_266,_265,_264,ltr,_263.orient?lang.hitch(_263,"orient"):null):_256.at(_266,args,_264=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_266.style.display="";_266.style.visibility="visible";_263.domNode.style.visibility="visible";var _267=[];_267.push(on(_266,_24f._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==keys.ESCAPE&&args.onCancel){_255.stop(evt);args.onCancel();}else{if(evt.charOrCode===keys.TAB){_255.stop(evt);var _268=this.getTopPopup();if(_268&&_268.onCancel){_268.onCancel();}}}})));if(_263.onCancel&&args.onCancel){_267.push(_263.on("cancel",args.onCancel));}_267.push(_263.on(_263.onExecute?"execute":"change",lang.hitch(this,function(){var _269=this.getTopPopup();if(_269&&_269.onExecute){_269.onExecute();}})));_262.push({widget:_263,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_267});if(_263.onOpen){_263.onOpen(best);}return best;},close:function(_26a){var _26b=this._stack;while((_26a&&_24d.some(_26b,function(elem){return elem.widget==_26a;}))||(!_26a&&_26b.length)){var top=_26b.pop(),_26c=top.widget,_26d=top.onClose;if(_26c.onClose){_26c.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_26c&&_26c.domNode){this.hide(_26c);}if(_26d){_26d();}}}});return (_258.popup=new _25a());});},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe",["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window"],function(_26e,_26f,_270,_271,_272,lang,on,has,win){var _273=new function(){var _274=[];this.pop=function(){var _275;if(_274.length){_275=_274.pop();_275.style.display="";}else{if(has("ie")<9){var burl=_270["dojoBlankHtmlUrl"]||_26e.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_275=win.doc.createElement(html);}else{_275=_271.create("iframe");_275.src="javascript:\"\"";_275.className="dijitBackgroundIframe";_275.setAttribute("role","presentation");_272.set(_275,"opacity",0.1);}_275.tabIndex=-1;}return _275;};this.push=function(_276){_276.style.display="none";_274.push(_276);};}();_26f.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("ie")||has("mozilla")){var _277=(this.iframe=_273.pop());node.appendChild(_277);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,function(){this.resize(node);}));}else{_272.set(_277,{width:"100%",height:"100%"});}}};lang.extend(_26f.BackgroundIframe,{resize:function(node){if(this.iframe){_272.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_273.push(this.iframe);delete this.iframe;}}});return _26f.BackgroundIframe;});},"dijit/_base/scroll":function(){define("dijit/_base/scroll",["dojo/window","../main"],function(_278,_279){_279.scrollIntoView=function(node,pos){_278.scrollIntoView(node,pos);};});},"dijit/_base/sniff":function(){define("dijit/_base/sniff",["dojo/uacss"],function(){});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(_27a,lang,_27b,has,_27c){var html=_27c.doc.documentElement,ie=has("ie"),_27d=has("opera"),maj=Math.floor,ff=has("ff"),_27e=_27a.boxModel.replace(/-/,""),_27f={"dj_quirks":has("quirks"),"dj_opera":_27d,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla")};if(ie){_27f["dj_ie"]=true;_27f["dj_ie"+maj(ie)]=true;_27f["dj_iequirks"]=has("quirks");}if(ff){_27f["dj_ff"+maj(ff)]=true;}_27f["dj_"+_27e]=true;var _280="";for(var clz in _27f){if(_27f[clz]){_280+=clz+" ";}}html.className=lang.trim(html.className+" "+_280);_27b(90,function(){if(!_27a.isBodyLtr()){var _281="dj_rtl dijitRtl "+_280.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_281+"dj_rtl dijitRtl "+_280.replace(/ /g,"-rtl "));}});return has;});},"dijit/_base/typematic":function(){define("dijit/_base/typematic",["../typematic"],function(){});},"dijit/typematic":function(){define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_282,_283,_284,_285,lang,on,has,_286){var _287=(_286.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_288,node,_289,obj,_28a,_28b,_28c){if(obj!=this._obj){this.stop();this._initialDelay=_28b||500;this._subsequentDelay=_28a||0.9;this._minDelay=_28c||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_288,_289);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_28d,_28e,_28f,_290,_291,_292){if(_28d.keyCode){_28d.charOrCode=_28d.keyCode;_285.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_28d.charCode){_28d.charOrCode=String.fromCharCode(_28d.charCode);_285.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}var _293=[on(node,_283._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==_28d.charOrCode&&(_28d.ctrlKey===undefined||_28d.ctrlKey==evt.ctrlKey)&&(_28d.altKey===undefined||_28d.altKey==evt.altKey)&&(_28d.metaKey===undefined||_28d.metaKey==(evt.metaKey||false))&&(_28d.shiftKey===undefined||_28d.shiftKey==evt.shiftKey)){_284.stop(evt);_287.trigger(evt,_28e,node,_28f,_28d,_290,_291,_292);}else{if(_287._obj==_28d){_287.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_287._obj==_28d){_287.stop();}}))];return {remove:function(){_282.forEach(_293,function(h){h.remove();});}};},addMouseListener:function(node,_294,_295,_296,_297,_298){var _299=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_287.trigger(evt,_294,node,_295,node,_296,_297,_298);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_287.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_287.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_287.trigger(evt,_294,node,_295,node,_296,_297,_298);setTimeout(lang.hitch(this,_287.stop),50);}}))];return {remove:function(){_282.forEach(_299,function(h){h.remove();});}};},addListener:function(_29a,_29b,_29c,_29d,_29e,_29f,_2a0,_2a1){var _2a2=[this.addKeyListener(_29b,_29c,_29d,_29e,_29f,_2a0,_2a1),this.addMouseListener(_29a,_29d,_29e,_29f,_2a0,_2a1)];return {remove:function(){_282.forEach(_2a2,function(h){h.remove();});}};}});return _287;});},"dijit/_base/wai":function(){define("dijit/_base/wai",["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_2a3,lang,_2a4){var _2a5={hasWaiRole:function(elem,role){var _2a6=this.getWaiRole(elem);return role?(_2a6.indexOf(role)>-1):(_2a6.length>0);},getWaiRole:function(elem){return lang.trim((_2a3.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_2a3.set(elem,"role",role);},removeWaiRole:function(elem,role){var _2a7=_2a3.get(elem,"role");if(!_2a7){return;}if(role){var t=lang.trim((" "+_2a7+" ").replace(" "+role+" "," "));_2a3.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_2a8){return elem.hasAttribute?elem.hasAttribute("aria-"+_2a8):!!elem.getAttribute("aria-"+_2a8);},getWaiState:function(elem,_2a9){return elem.getAttribute("aria-"+_2a9)||"";},setWaiState:function(elem,_2aa,_2ab){elem.setAttribute("aria-"+_2aa,_2ab);},removeWaiState:function(elem,_2ac){elem.removeAttribute("aria-"+_2ac);}};lang.mixin(_2a4,_2a5);return _2a4;});},"dijit/hccss":function(){define("dijit/hccss",["dojo/dom-class","dojo/hccss","dojo/ready","dojo/_base/window"],function(_2ad,has,_2ae,win){_2ae(90,function(){if(has("highcontrast")){_2ad.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./ready","./_base/window"],function(_2af,_2b0,_2b1,_2b2,has,_2b3,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url("+(_2b0.blankGif||_2af.toUrl("./resources/blank.gif"))+");";win.body().appendChild(div);var cs=_2b2.getComputedStyle(div),_2b4=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_2b4&&(_2b4=="none"||_2b4=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_2b3(90,function(){if(has("highcontrast")){_2b1.add(win.body(),"dj_a11y");}});return has;});},"dijit/_base/window":function(){define("dijit/_base/window",["dojo/window","../main"],function(_2b5,_2b6){_2b6.getDocumentWindow=function(doc){return _2b5.get(doc);};});},"dijit/_Widget":function(){define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_2b7,_2b8,_2b9,_2ba,has,_2bb,lang,_2bc,_2bd,_2be,_2bf,_2c0,_2c1){function _2c2(){};function _2c3(_2c4){return function(obj,_2c5,_2c6,_2c7){if(obj&&typeof _2c5=="string"&&obj[_2c5]==_2c2){return obj.on(_2c5.substring(2).toLowerCase(),lang.hitch(_2c6,_2c7));}return _2c4.apply(_2b9,arguments);};};_2b7.around(_2b9,"connect",_2c3);if(_2bb.connect){_2b7.around(_2bb,"connect",_2c3);}var _2c8=_2ba("dijit._Widget",[_2bf,_2c0,_2c1],{onClick:_2c2,onDblClick:_2c2,onKeyDown:_2c2,onKeyPress:_2c2,onKeyUp:_2c2,onMouseDown:_2c2,onMouseMove:_2c2,onMouseOut:_2c2,onMouseOver:_2c2,onMouseLeave:_2c2,onMouseEnter:_2c2,onMouseUp:_2c2,constructor:function(_2c9){this._toConnect={};for(var name in _2c9){if(this[name]===_2c2){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_2c9[name];delete _2c9[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_2c2){return _2b9.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_2ca){_2bb.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_2ca);},attr:function(name,_2cb){if(_2b8.isDebug){var _2cc=arguments.callee._ach||(arguments.callee._ach={}),_2cd=(arguments.callee.caller||"unknown caller").toString();if(!_2cc[_2cd]){_2bb.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_2cd,"","2.0");_2cc[_2cd]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_2bb.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_2bc("[widgetId]",this.containerNode).map(_2be.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_2bd(0,function(){var _2ce=["dijit/_base"];require(_2ce);});}return _2c8;});},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","./registry"],function(_2cf,_2d0,_2d1,_2d2,_2d3,_2d4,dom,_2d5,_2d6,_2d7,_2d8,_2d9,has,_2da,lang,on,_2db,_2dc,_2dd,win,_2de,_2df){has.add("dijit-legacy-requires",!_2da.isAsync);if(has("dijit-legacy-requires")){_2db(0,function(){var _2e0=["dijit/_base/manager"];_2cf(_2e0);});}var _2e1={};function _2e2(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;};function _2e3(attr){return function(val){_2d5[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};};return _2d4("dijit._WidgetBase",[_2dc,_2de],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_2e3("lang"),dir:"",_setDirAttr:_2e3("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_2d2.blankGif||_2cf.toUrl("dojo/resources/blank.gif"),postscript:function(_2e4,_2e5){this.create(_2e4,_2e5);},create:function(_2e6,_2e7){this.srcNodeRef=dom.byId(_2e7);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_2e6){this.params=_2e6;lang.mixin(this,_2e6);}this.postMixInProperties();if(!this.id){this.id=_2df.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:win.doc);this.ownerDocumentBody=win.body(this.ownerDocument);_2df.add(this);this.buildRendering();var _2e8;if(this.domNode){this._applyAttributes();var _2e9=this.srcNodeRef;if(_2e9&&_2e9.parentNode&&this.domNode!==_2e9){_2e9.parentNode.replaceChild(this.domNode,_2e9);_2e8=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_2e8){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var ctor=this.constructor,list=ctor._setterAttrs;if(!list){list=(ctor._setterAttrs=[]);for(var attr in this.attributeMap){list.push(attr);}var _2ea=ctor.prototype;for(var _2eb in _2ea){if(_2eb in this.attributeMap){continue;}var _2ec="_set"+_2eb.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();})+"Attr";if(_2ec in _2ea){list.push(_2eb);}}}var _2ed={};for(var key in this.params||{}){_2ed[key]=this[key];}_2d0.forEach(list,function(attr){if(attr in _2ed){}else{if(this[attr]){this.set(attr,this[attr]);}}},this);for(key in _2ed){this.set(key,_2ed[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _2ee=this.baseClass.split(" ");if(!this.isLeftToRight()){_2ee=_2ee.concat(_2d0.map(_2ee,function(name){return name+"Rtl";}));}_2d6.add(this.domNode,_2ee);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_2d0.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_2ef){this._beingDestroyed=true;this.destroyDescendants(_2ef);this.destroy(_2ef);},destroy:function(_2f0){this._beingDestroyed=true;this.uninitialize();function _2f1(w){if(w.destroyRecursive){w.destroyRecursive(_2f0);}else{if(w.destroy){w.destroy(_2f0);}}};_2d0.forEach(this._connects,lang.hitch(this,"disconnect"));_2d0.forEach(this._supportingWidgets,_2f1);if(this.domNode){_2d0.forEach(_2df.findWidgets(this.domNode,this.containerNode),_2f1);}this.destroyRendering(_2f0);_2df.remove(this.id);this._destroyed=true;},destroyRendering:function(_2f2){if(this.bgIframe){this.bgIframe.destroy(_2f2);delete this.bgIframe;}if(this.domNode){if(_2f2){_2d5.remove(this.domNode,"widgetId");}else{_2d7.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_2f2){_2d7.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_2f3){_2d0.forEach(this.getChildren(),function(_2f4){if(_2f4.destroyRecursive){_2f4.destroyRecursive(_2f3);}});},uninitialize:function(){return false;},_setStyleAttr:function(_2f5){var _2f6=this.domNode;if(lang.isObject(_2f5)){_2d9.set(_2f6,_2f5);}else{if(_2f6.style.cssText){_2f6.style.cssText+="; "+_2f5;}else{_2f6.style.cssText=_2f5;}}this._set("style",_2f5);},_attrToDom:function(attr,_2f7,_2f8){_2f8=arguments.length>=3?_2f8:this.attributeMap[attr];_2d0.forEach(lang.isArray(_2f8)?_2f8:[_2f8],function(_2f9){var _2fa=this[_2f9.node||_2f9||"domNode"];var type=_2f9.type||"attribute";switch(type){case "attribute":if(lang.isFunction(_2f7)){_2f7=lang.hitch(this,_2f7);}var _2fb=_2f9.attribute?_2f9.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);if(_2fa.tagName){_2d5.set(_2fa,_2fb,_2f7);}else{_2fa.set(_2fb,_2f7);}break;case "innerText":_2fa.innerHTML="";_2fa.appendChild(this.ownerDocument.createTextNode(_2f7));break;case "innerHTML":_2fa.innerHTML=_2f7;break;case "class":_2d6.replace(_2fa,_2f7,this[attr]);break;}},this);},get:function(name){var _2fc=this._getAttrNames(name);return this[_2fc.g]?this[_2fc.g]():this[name];},set:function(name,_2fd){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _2fe=this._getAttrNames(name),_2ff=this[_2fe.s];if(lang.isFunction(_2ff)){var _300=_2ff.apply(this,Array.prototype.slice.call(arguments,1));}else{var _301=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_301].tagName,_302=_2e1[tag]||(_2e1[tag]=_2e2(this[_301])),map=name in this.attributeMap?this.attributeMap[name]:_2fe.s in this?this[_2fe.s]:((_2fe.l in _302&&typeof _2fd!="function")||/^aria-|^data-|^role$/.test(name))?_301:null;if(map!=null){this._attrToDom(name,_2fd,map);}this._set(name,_2fd);}return _300||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_303){var _304=this[name];this[name]=_303;if(this._created&&_303!==_304){if(this._watchCallbacks){this._watchCallbacks(name,_304,_303);}this.emit("attrmodified-"+name,{detail:{prevValue:_304,newValue:_303}});}},emit:function(type,_305,_306){_305=_305||{};if(_305.bubbles===undefined){_305.bubbles=true;}if(_305.cancelable===undefined){_305.cancelable=true;}if(!_305.detail){_305.detail={};}_305.detail.widget=this;var ret,_307=this["on"+type];if(_307){ret=_307.apply(this,_306?_306:[_305]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,type.toLowerCase(),_305);}return ret;},on:function(type,func){var _308=this._onMap(type);if(_308){return _2d1.after(this,_308,func,true);}return this.own(on(this.domNode,type,func))[0];},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[typeof type=="string"&&type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_2df.findWidgets(this.containerNode):[];},getParent:function(){return _2df.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_309,_30a){return this.own(_2d3.connect(obj,_309,this,_30a))[0];},disconnect:function(_30b){_30b.remove();},subscribe:function(t,_30c){return this.own(_2dd.subscribe(t,lang.hitch(this,_30c)))[0];},unsubscribe:function(_30d){_30d.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_2d8.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_2d9.get(this.domNode,"display")!="none");},placeAt:function(_30e,_30f){var _310=!_30e.tagName&&_2df.byId(_30e);if(_310&&_310.addChild&&(!_30f||typeof _30f==="number")){_310.addChild(this,_30f);}else{var ref=_310?(_310.containerNode&&!/after|before|replace/.test(_30f||"")?_310.containerNode:_310.domNode):dom.byId(_30e,this.ownerDocument);_2d7.place(this.domNode,ref,_30f);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},getTextDir:function(text,_311){return _311;},applyTextDir:function(){},defer:function(fcn,_312){var _313=setTimeout(lang.hitch(this,function(){_313=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),_312||0);return {remove:function(){if(_313){clearTimeout(_313);_313=null;}return null;}};}});});},"dijit/Destroyable":function(){define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_314,_315,_316){return _316("dijit.Destroyable",null,{destroy:function(_317){this._destroyed=true;},own:function(){_314.forEach(arguments,function(_318){var _319="destroyRecursive" in _318?"destroyRecursive":"destroy" in _318?"destroy":"remove";var odh=_315.before(this,"destroy",function(_31a){_318[_319](_31a);});var hdh=_315.after(_318,_319,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","dojo/_base/unload","dojo/_base/window","./a11yclick"],function(on,_31b,keys,_31c,has,_31d,win,_31e){var ret=_31c("dijit._OnDijitClickMixin",null,{connect:function(obj,_31f,_320){return this.inherited(arguments,[obj,_31f=="ondijitclick"?_31e:_31f,_320]);}});ret.a11yclick=_31e;return ret;});},"dijit/a11yclick":function(){define("dijit/a11yclick",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","dojo/_base/unload","dojo/_base/window"],function(on,_321,keys,_322,has,_323,win){var _324=null;if(has("dom-addeventlistener")){win.doc.addEventListener("keydown",function(evt){_324=evt.target;},true);}else{(function(){var _325=function(evt){_324=evt.srcElement;};win.doc.attachEvent("onkeydown",_325);_323.addOnWindowUnload(function(){win.doc.detachEvent("onkeydown",_325);});})();}function _326(e){return (e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey;};return function(node,_327){if(/input|button/i.test(node.nodeName)){return on(node,"click",_327);}else{var _328=[on(node,"keydown",function(e){if(_326(e)){_324=e.target;e.preventDefault();}}),on(node,"keyup",function(e){if(_326(e)&&e.target==_324){_324=null;on.emit(e.target,"click",{cancelable:true,bubbles:true});}}),on(node,"click",function(e){_327.call(this,e);})];if(has("touch")){var _329;_328.push(on(node,"touchend",function(e){var _32a=e.target;_329=setTimeout(function(){_329=null;on.emit(_32a,"click",{cancelable:true,bubbles:true});},600);}),on(node,"click",function(e){if(_329){clearTimeout(_329);}}));}return {remove:function(){_321.forEach(_328,function(h){h.remove();});if(_329){clearTimeout(_329);_329=null;}}};}};return ret;});},"dijit/_FocusMixin":function(){define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_32b,_32c,_32d,lang){lang.extend(_32c,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _32d("dijit._FocusMixin",null,{_focusManager:_32b});});},"dijit/form/_FormValueWidget":function(){define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_32e,has,_32f,_330){return _32e("dijit.form._FormValueWidget",[_32f,_330],{_layoutHackIE7:function(){if(has("ie")==7){var _331=this.domNode;var _332=_331.parentNode;var _333=_331.firstChild||_331;var _334=_333.style.filter;var _335=this;while(_332&&_332.clientHeight==0){(function ping(){var _336=_335.connect(_332,"onscroll",function(){_335.disconnect(_336);_333.style.filter=(new Date()).getMilliseconds();_335.defer(function(){_333.style.filter=_334;});});})();_332=_332.parentNode;}}}});});},"dijit/form/_FormWidget":function(){define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_337,has,_338,_339,_33a,_33b,_33c,_33d){if(has("dijit-legacy-requires")){_339(0,function(){var _33e=["dijit/form/_FormValueWidget"];require(_33e);});}return _337("dijit.form._FormWidget",[_33a,_33c,_33b,_33d],{setDisabled:function(_33f){_338.deprecated("setDisabled("+_33f+") is deprecated. Use set('disabled',"+_33f+") instead.","","2.0");this.set("disabled",_33f);},setValue:function(_340){_338.deprecated("dijit.form._FormWidget:setValue("+_340+") is deprecated.  Use set('value',"+_340+") instead.","","2.0");this.set("value",_340);},getValue:function(){_338.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);},_setTypeAttr:null});});},"dijit/_CssStateMixin":function(){define("dijit/_CssStateMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/_base/window","./registry"],function(_341,_342,dom,_343,has,lang,on,_344,win,_345){var _346=_342("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_341.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_347){if(!this.disabled){switch(_347.type){case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":this._set("active",true);break;case "mouseup":case "touchend":this._set("active",false);break;}}},_setStateClass:function(){var _348=this.baseClass.split(" ");function _349(_34a){_348=_348.concat(_341.map(_348,function(c){return c+_34a;}),"dijit"+_34a);};if(!this.isLeftToRight()){_349("Rtl");}var _34b=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_349(_34b);}if(this.state){_349(this.state);}if(this.selected){_349("Selected");}if(this._opened){_349("Opened");}if(this.disabled){_349("Disabled");}else{if(this.readOnly){_349("ReadOnly");}else{if(this.active){_349("Active");}else{if(this.hovering){_349("Hover");}}}}if(this.focused){_349("Focused");}var tn=this.stateNode||this.domNode,_34c={};_341.forEach(tn.className.split(" "),function(c){_34c[c]=true;});if("_stateClasses" in this){_341.forEach(this._stateClasses,function(c){delete _34c[c];});}_341.forEach(_348,function(c){_34c[c]=true;});var _34d=[];for(var c in _34c){_34d.push(c);}tn.className=_34d.join(" ");this._stateClasses=_348;},_subnodeCssMouseEvent:function(node,_34e,evt){if(this.disabled||this.readOnly){return;}function _34f(_350){_343.toggle(node,_34e+"Hover",_350);};function _351(_352){_343.toggle(node,_34e+"Active",_352);};function _353(_354){_343.toggle(node,_34e+"Focused",_354);};switch(evt.type){case "mouseover":_34f(true);break;case "mouseout":_34f(false);_351(false);break;case "mousedown":case "touchstart":_351(true);break;case "mouseup":case "touchend":_351(false);break;case "focus":case "focusin":_353(true);break;case "blur":case "focusout":_353(false);break;}},_trackMouseState:function(node,_355){node._cssState=_355;}});_344(function(){function _356(evt){if(!dom.isDescendant(evt.relatedTarget,evt.target)){for(var node=evt.target;node&&node!=evt.relatedTarget;node=node.parentNode){if(node._cssState){var _357=_345.getEnclosingWidget(node);if(_357){if(node==_357.domNode){_357._cssMouseEvent(evt);}else{_357._subnodeCssMouseEvent(node,node._cssState,evt);}}}}}};function _358(evt){evt.target=evt.srcElement;_356(evt);};var body=win.body(),_359=(has("touch")?[]:["mouseover","mouseout"]).concat(["mousedown","touchstart","mouseup","touchend"]);_341.forEach(_359,function(type){if(body.addEventListener){body.addEventListener(type,_356,true);}else{body.attachEvent("on"+type,_358);}});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _35a=_345.getEnclosingWidget(node);_35a._subnodeCssMouseEvent(node,node._cssState,evt);}});});return _346;});},"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin",["dojo/_base/lang","dojo/touch","./_WidgetBase","dojo/string","dojo/cache","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/sniff","dojo/_base/unload"],function(lang,_35b,_35c,_35d,_35e,_35f,_360,_361,has,_362){var _363=_360("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _364=this.declaredClass,_365=this;return _35d.substitute(tmpl,this,function(_366,key){if(key.charAt(0)=="!"){_366=lang.getObject(key.substr(1),false,_365);}if(typeof _366=="undefined"){throw new Error(_364+" template:"+key);}if(_366==null){return "";}return key.charAt(0)=="!"?_366:_366.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){if(!this.templateString){this.templateString=_35e(this.templatePath,{sanitize:true});}var _367=_363.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_367)){node=_361.toDom(this._stringRepl(_367),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_367);}}else{node=_367.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node,function(n,p){return n.getAttribute(p);});this._beforeFillContent();this._fillContent(this.srcNodeRef);},_beforeFillContent:function(){},_fillContent:function(_368){var dest=this.containerNode;if(_368&&dest){while(_368.hasChildNodes()){dest.appendChild(_368.firstChild);}}},_attachTemplateNodes:function(_369,_36a){var _36b=lang.isArray(_369)?_369:(_369.all||_369.getElementsByTagName("*"));var x=lang.isArray(_369)?0:-1;for(;x<0||_36b[x];x++){var _36c=(x==-1)?_369:_36b[x];if(this.widgetsInTemplate&&(_36a(_36c,"dojoType")||_36a(_36c,"data-dojo-type"))){continue;}var _36d=_36a(_36c,"dojoAttachPoint")||_36a(_36c,"data-dojo-attach-point");if(_36d){var _36e,_36f=_36d.split(/\s*,\s*/);while((_36e=_36f.shift())){if(lang.isArray(this[_36e])){this[_36e].push(_36c);}else{this[_36e]=_36c;}this._attachPoints.push(_36e);}}var _370=_36a(_36c,"dojoAttachEvent")||_36a(_36c,"data-dojo-attach-event");if(_370){var _371,_372=_370.split(/\s*,\s*/);var trim=lang.trim;while((_371=_372.shift())){if(_371){var _373=null;if(_371.indexOf(":")!=-1){var _374=_371.split(":");_371=trim(_374[0]);_373=trim(_374[1]);}else{_371=trim(_371);}if(!_373){_373=_371;}this._attachEvents.push(this.connect(_36c,_35b[_371]||_371,_373));}}}}},destroyRendering:function(){_35f.forEach(this._attachPoints,function(_375){delete this[_375];},this);this._attachPoints=[];_35f.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});_363._templateCache={};_363.getCachedTemplate=function(_376,_377,doc){var _378=_363._templateCache;var key=_376;var _379=_378[key];if(_379){try{if(!_379.ownerDocument||_379.ownerDocument==(doc||document)){return _379;}}catch(e){}_361.destroy(_379);}_376=_35d.trim(_376);if(_377||_376.match(/\$\{([^\}]+)\}/g)){return (_378[key]=_376);}else{var node=_361.toDom(_376,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_376);}return (_378[key]=node);}};if(has("ie")){_362.addOnWindowUnload(function(){var _37a=_363._templateCache;for(var key in _37a){var _37b=_37a[key];if(typeof _37b=="object"){_361.destroy(_37b);}delete _37a[key];}});}lang.extend(_35c,{dojoAttachEvent:"",dojoAttachPoint:""});return _363;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./on","./has","./mouse","./ready","./_base/window"],function(dojo,_37c,dom,on,has,_37d,_37e,win){var _37f=has("touch");var ios4=false;if(has("ios")){var ua=navigator.userAgent;var v=ua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));ios4=os<5;}var _380,_381;if(_37f){_37e(function(){_381=win.body();win.doc.addEventListener("touchstart",function(evt){var _382=_381;_381=evt.target;on.emit(_382,"dojotouchout",{target:_382,relatedTarget:_381,bubbles:true});on.emit(_381,"dojotouchover",{target:_381,relatedTarget:_382,bubbles:true});},true);on(win.doc,"touchmove",function(evt){var _383=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_383&&_381!==_383){on.emit(_381,"dojotouchout",{target:_381,relatedTarget:_383,bubbles:true});on.emit(_383,"dojotouchover",{target:_383,relatedTarget:_381,bubbles:true});_381=_383;}});});_380=function(node,_384){return on(win.doc,"touchmove",function(evt){if(node===win.doc||dom.isDescendant(_381,node)){evt.target=_381;_384.call(this,evt);}});};}function _385(type){return function(node,_386){return on(node,type,_386);};};var _387={press:_385(_37f?"touchstart":"mousedown"),move:_37f?_380:_385("mousemove"),release:_385(_37f?"touchend":"mouseup"),cancel:_37f?_385("touchcancel"):_37d.leave,over:_385(_37f?"dojotouchover":"mouseover"),out:_385(_37f?"dojotouchout":"mouseout"),enter:_37d._eventHandler(_37f?"dojotouchover":"mouseover"),leave:_37d._eventHandler(_37f?"dojotouchout":"mouseout")};1&&(dojo.touch=_387);return _387;});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/text":function(){define(["./_base/kernel","require","./has","./_base/xhr"],function(dojo,_388,has,xhr){var _389;if(1){_389=function(url,sync,load){xhr("GET",{url:url,sync:!!sync,load:load,headers:dojo.config.textPluginHeaders||{}});};}else{if(_388.getText){_389=_388.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _38a={},_38b=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _38c=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_38c){text=_38c[1];}}else{text="";}return text;},_38d={},_38e={};dojo.cache=function(_38f,url,_390){var key;if(typeof _38f=="string"){if(/\//.test(_38f)){key=_38f;_390=url;}else{key=_388.toUrl(_38f.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_38f+"";_390=url;}var val=(_390!=undefined&&typeof _390!="string")?_390.value:_390,_391=_390&&_390.sanitize;if(typeof val=="string"){_38a[key]=val;return _391?_38b(val):val;}else{if(val===null){delete _38a[key];return null;}else{if(!(key in _38a)){_389(key,true,function(text){_38a[key]=text;});}return _391?_38b(_38a[key]):_38a[key];}}};return {dynamic:true,normalize:function(id,_392){var _393=id.split("!"),url=_393[0];return (/^\./.test(url)?_392(url):url)+(_393[1]?"!"+_393[1]:"");},load:function(id,_394,load){var _395=id.split("!"),_396=_395.length>1,_397=_395[0],url=_394.toUrl(_395[0]),_398="url:"+url,text=_38d,_399=function(text){load(_396?_38b(text):text);};if(_397 in _38a){text=_38a[_397];}else{if(_398 in _394.cache){text=_394.cache[_398];}else{if(url in _38a){text=_38a[url];}}}if(text===_38d){if(_38e[url]){_38e[url].push(_399);}else{var _39a=_38e[url]=[_399];_389(url,!_394.async,function(text){_38a[_397]=_38a[url]=text;for(var i=0;i<_39a.length;){_39a[i++](text);}delete _38e[url];});}}else{_399(text);}}};});},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/sniff","dojo/window","../a11y"],function(_39b,_39c,_39d,_39e,lang,_39f,has,_3a0,a11y){return _39c("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_3a1){this._set("disabled",_3a1);_39d.set(this.focusNode,"disabled",_3a1);if(this.valueNode){_39d.set(this.valueNode,"disabled",_3a1);}this.focusNode.setAttribute("aria-disabled",_3a1?"true":"false");if(_3a1){this._set("hovering",false);this._set("active",false);var _3a2="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_39b.forEach(lang.isArray(_3a2)?_3a2:[_3a2],function(_3a3){var node=this[_3a3];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _3a4=this.connect(this.focusNode,"onfocus",function(){this.disconnect(_3a5);this.disconnect(_3a4);});var _3a5=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(_3a5);this.disconnect(_3a4);if(this.focused){this.focus();}});}if(this.scrollOnFocus){this.defer(function(){_3a0.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_39e.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_3a6,_3a7){if(this._lastValueReported==undefined&&(_3a7===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_3a6;}this._pendingOnChange=this._pendingOnChange||(typeof _3a6!=typeof this._lastValueReported)||(this.compare(_3a6,this._lastValueReported)!=0);if((this.intermediateChanges||_3a7||_3a7===undefined)&&this._pendingOnChange){this._lastValueReported=_3a6;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_3a6);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/_FormValueMixin":function(){define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(_3a8,_3a9,keys,has,_3aa){return _3a8("dijit.form._FormValueMixin",_3aa,{readOnly:false,_setReadOnlyAttr:function(_3ab){_3a9.set(this.focusNode,"readOnly",_3ab);this._set("readOnly",_3ab);},postCreate:function(){this.inherited(arguments);if(has("ie")){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_3ac,_3ad){this._handleOnChange(_3ac,_3ad);},_handleOnChange:function(_3ae,_3af){this._set("value",_3ae);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){if(has("ie")<9||(has("ie")&&has("quirks"))){e.preventDefault();var node=e.srcElement,te=node.ownerDocument.createEventObject();te.keyCode=keys.ESCAPE;te.shiftKey=e.shiftKey;node.fireEvent("onkeypress",te);}}}});});},"dijit/form/DropDownButton":function(){require({cache:{"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n"}});define("dijit/form/DropDownButton",["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_3b0,lang,_3b1,_3b2,_3b3,_3b4,_3b5,_3b6,_3b7){return _3b0("dijit.form.DropDownButton",[_3b4,_3b5,_3b6],{baseClass:"dijitDropDownButton",templateString:_3b7,_fillContent:function(){if(this.srcNodeRef){var _3b8=_3b1("*",this.srcNodeRef);this.inherited(arguments,[_3b8[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _3b9=_3b1("[widgetId]",this.dropDownContainer)[0];this.dropDown=_3b2.byNode(_3b9);delete this.dropDownContainer;}if(this.dropDown){_3b3.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _3ba=this.dropDown;return (!!_3ba&&(!_3ba.href||_3ba.isLoaded));},loadDropDown:function(_3bb){var _3bc=this.dropDown;var _3bd=_3bc.on("load",lang.hitch(this,function(){_3bd.remove();_3bb();}));_3bc.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/form/Button":function(){require({cache:{"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n"}});define("dijit/form/Button",["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_3be,_3bf,_3c0,has,_3c1,lang,_3c2,_3c3,_3c4,_3c5){if(has("dijit-legacy-requires")){_3c2(0,function(){var _3c6=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_3be(_3c6);});}return _3bf("dijit.form.Button",[_3c3,_3c4],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_3c5,_setValueAttr:"valueNode",_onClick:function(e){var ok=this.inherited(arguments);if(ok){if(this.valueNode){this.valueNode.click();e.preventDefault();e.stopPropagation();}}return ok;},_fillContent:function(_3c7){if(_3c7&&(!this.params||!("label" in this.params))){var _3c8=lang.trim(_3c7.innerHTML);if(_3c8){this.label=_3c8;}}},_setShowLabelAttr:function(val){if(this.containerNode){_3c0.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_3c9){_3c1.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_3c9);},_setLabelAttr:function(_3ca){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});});},"dijit/form/_ButtonMixin":function(){define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(_3cb,dom,_3cc,_3cd){return _3cb("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(e){if(this.disabled){_3cc.stop(e);return false;}var _3ce=this.onClick(e)===false;if(!_3ce&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _3cf=_3cd.byNode(node);if(_3cf&&typeof _3cf._onSubmit=="function"){_3cf._onSubmit(e);_3ce=true;break;}}}if(_3ce){e.preventDefault();}return !_3ce;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_3d0){this._set("label",_3d0);(this.containerNode||this.focusNode).innerHTML=_3d0;}});});},"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(_3d1,_3d2,_3d3){return _3d2("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_3d4,_3d5){var _3d6=this.containerNode;if(_3d5&&typeof _3d5=="number"){var _3d7=this.getChildren();if(_3d7&&_3d7.length>=_3d5){_3d6=_3d7[_3d5-1].domNode;_3d5="after";}}_3d3.place(_3d4.domNode,_3d6,_3d5);if(this._started&&!_3d4._started){_3d4.startup();}},removeChild:function(_3d8){if(typeof _3d8=="number"){_3d8=this.getChildren()[_3d8];}if(_3d8){var node=_3d8.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_3d9,dir){var _3da=this.getChildren(),idx=_3d1.indexOf(this.getChildren(),_3d9);return _3da[idx+dir];},getIndexOfChild:function(_3db){return _3d1.indexOf(this.getChildren(),_3db);}});});},"dijit/_HasDropDown":function(){define("dijit/_HasDropDown",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/window","./registry","./focus","./popup","./_FocusMixin"],function(_3dc,_3dd,_3de,dom,_3df,_3e0,_3e1,_3e2,has,keys,lang,on,_3e3,_3e4,_3e5,_3e6,_3e7){return _3dc("dijit._HasDropDown",_3e7,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}e.preventDefault();this._docHandler=this.connect(this.ownerDocument,"mouseup","_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _3e8=this.dropDown,_3e9=false;if(e&&this._opened){var c=_3e1.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_3e9){if(_3e0.contains(t,"dijitPopup")){_3e9=true;}else{t=t.parentNode;}}if(_3e9){t=e.target;if(_3e8.onItemClick){var _3ea;while(t&&!(_3ea=_3e4.byNode(t))){t=t.parentNode;}if(_3ea&&_3ea.onClick&&_3ea.getParent){_3ea.getParent().onItemClick(_3ea,e);}}return;}}}if(this._opened){if(_3e8.focus&&_3e8.autoFocus!==false){this._focusDropDownTimer=this.defer(function(){_3e8.focus();delete this._focusDropDownTimer;});}}else{this.defer("focus");}if(has("touch")){this._justGotMouseUp=true;this.defer(function(){this._justGotMouseUp=false;});}},_onDropDownClick:function(e){if(has("touch")&&!this._justGotMouseUp){this._onDropDownMouseDown(e);this._onDropDownMouseUp(e);}if(this._stopClickEvents){_3de.stop(e);}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _3eb={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_3e0.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_3eb+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _3ec=this.focusNode||this.domNode;this.own(on(this._buttonNode,"mousedown",lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_3ec,"keydown",lang.hitch(this,"_onKey")),on(_3ec,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_3ed=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){_3de.stop(e);return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();_3de.stop(e);}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||e.keyCode==keys.SPACE)&&((_3ed.tagName||"").toLowerCase()!=="input"||(_3ed.type&&_3ed.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;_3de.stop(e);}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){var _3ee=_3e5.curNode&&this.dropDown&&dom.isDescendant(_3e5.curNode,this.dropDown.domNode);this.closeDropDown(_3ee);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_3ef){_3ef();},loadAndOpenDropDown:function(){var d=new _3dd(),_3f0=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_3f0);}else{_3f0();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown();}},openDropDown:function(){var _3f1=this.dropDown,_3f2=_3f1.domNode,_3f3=this._aroundNode||this.domNode,self=this;if(!this._preparedNode){this._preparedNode=true;if(_3f2.style.width){this._explicitDDWidth=true;}if(_3f2.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _3f4={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_3f4.width="";}if(!this._explicitDDHeight){_3f4.height="";}_3e2.set(_3f2,_3f4);var _3f5=this.maxHeight;if(_3f5==-1){var _3f6=_3e3.getBox(this.ownerDocument),_3f7=_3e1.position(_3f3,false);_3f5=Math.floor(Math.max(_3f7.y,_3f6.h-(_3f7.y+_3f7.h)));}_3e6.moveOffScreen(_3f1);if(_3f1.startup&&!_3f1._started){_3f1.startup();}var mb=_3e1.getMarginSize(_3f2);var _3f8=(_3f5&&mb.h>_3f5);_3e2.set(_3f2,{overflowX:"visible",overflowY:_3f8?"auto":"visible"});if(_3f8){mb.h=_3f5;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_3f3.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_3f3.offsetWidth);}else{delete mb.w;}}if(lang.isFunction(_3f1.resize)){_3f1.resize(mb);}else{_3e1.setMarginBox(_3f2,mb);}}var _3f9=_3e6.open({parent:this,popup:_3f1,around:_3f3,orient:this.dropDownPosition,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_3df.set(self._popupStateNode,"popupActive",false);_3e0.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});_3df.set(this._popupStateNode,"popupActive","true");_3e0.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this.domNode.setAttribute("aria-expanded","true");return _3f9;},closeDropDown:function(_3fa){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this.domNode.setAttribute("aria-expanded","false");if(_3fa){this.focus();}_3e6.close(this.dropDown);this._opened=false;}}});});},"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n","dijit/form/ComboButton":function(){require({cache:{"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t/></td></tr></tbody\n></table>\n"}});define("dijit/form/ComboButton",["dojo/_base/declare","dojo/_base/event","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(_3fb,_3fc,keys,_3fd,_3fe,_3ff){return _3fb("dijit.form.ComboButton",_3fe,{templateString:_3ff,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){_3fd.focus(this._popupStateNode);_3fc.stop(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){_3fd.focus(this.titleNode);_3fc.stop(evt);}},focus:function(_400){if(!this.disabled){_3fd.focus(_400=="start"?this.titleNode:this._popupStateNode);}}});});},"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t/></td></tr></tbody\n></table>\n","dijit/form/ToggleButton":function(){define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_401,_402,_403,_404){return _401("dijit.form.ToggleButton",[_403,_404],{baseClass:"dijitToggleButton",setChecked:function(_405){_402.deprecated("setChecked("+_405+") is deprecated. Use set('checked',"+_405+") instead.","","2.0");this.set("checked",_405);}});});},"dijit/form/_ToggleButtonMixin":function(){define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(_406,_407){return _406("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _408=this.checked;this._set("checked",!_408);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_408);return ret;},_setCheckedAttr:function(_409,_40a){this._set("checked",_409);var node=this.focusNode||this.domNode;_407.set(node,"checked",!!_409);if(_409){node.setAttribute("checked","");}else{node.removeAttribute("checked");}node.setAttribute(this._aria_attr,String(_409));this._handleOnChange(_409,_40a);},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare","../_base/fx","../_base/connect"],function(lang,_40b,_40c,_40d){return _40b("dojo.fx.Toggler",null,{node:null,showFunc:_40c.fadeIn,hideFunc:_40c.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _40e=this;lang.mixin(_40e,args);_40e.node=args.node;_40e._showArgs=lang.mixin({},args);_40e._showArgs.node=_40e.node;_40e._showArgs.duration=_40e.showDuration;_40e.showAnim=_40e.showFunc(_40e._showArgs);_40e._hideArgs=lang.mixin({},args);_40e._hideArgs.node=_40e.node;_40e._hideArgs.duration=_40e.hideDuration;_40e.hideAnim=_40e.hideFunc(_40e._hideArgs);_40d.connect(_40e.showAnim,"beforeBegin",lang.hitch(_40e.hideAnim,"stop",true));_40d.connect(_40e.hideAnim,"beforeBegin",lang.hitch(_40e.showAnim,"stop",true));},show:function(_40f){return this.showAnim.play(_40f||0);},hide:function(_410){return this.hideAnim.play(_410||0);}});});},"dijit/_Templated":function(){define("dijit/_Templated",["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(_411,_412,_413,_414,_415,lang,_416){lang.extend(_411,{waiRole:"",waiState:""});return _415("dijit._Templated",[_412,_413],{widgetsInTemplate:false,constructor:function(){_416.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0");},_attachTemplateNodes:function(_417,_418){this.inherited(arguments);var _419=lang.isArray(_417)?_417:(_417.all||_417.getElementsByTagName("*"));var x=lang.isArray(_417)?0:-1;for(;x<_419.length;x++){var _41a=(x==-1)?_417:_419[x];var role=_418(_41a,"waiRole");if(role){_41a.setAttribute("role",role);}var _41b=_418(_41a,"waiState");if(_41b){_414.forEach(_41b.split(/\s*,\s*/),function(_41c){if(_41c.indexOf("-")!=-1){var pair=_41c.split("-");_41a.setAttribute("aria-"+pair[0],pair[1]);}});}}}});});},"dijit/_WidgetsInTemplateMixin":function(){define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/_base/declare","dojo/parser"],function(_41d,_41e,_41f){return _41e("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;var cw=(this._startupWidgets=_41f.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"}));if(!cw.isFulfilled()){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}this._attachTemplateNodes(cw,function(n,p){return n[p];});}},startup:function(){_41d.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);}});});},"dojo/parser":function(){define(["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./_base/html","./_base/window","./_base/url","./_base/json","./aspect","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_420,dojo,_421,_422,_423,_424,_425,_426,_427,_428,_429,_42a,has,_42b,don,_42c){new Date("X");var _42d=0;_428.after(_421,"extend",function(){_42d++;},true);function _42e(ctor){var map=ctor._nameCaseMap,_42f=ctor.prototype;if(!map||map._extendCnt<_42d){map=ctor._nameCaseMap={};for(var name in _42f){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_42d;}return map;};var _430={};function _431(_432){var ts=_432.join();if(!_430[ts]){var _433=[];for(var i=0,l=_432.length;i<l;i++){var t=_432[i];_433[_433.length]=(_430[t]=_430[t]||(_421.getObject(t)||(~t.indexOf("/")&&_420(t))));}var ctor=_433.shift();_430[ts]=_433.length?(ctor.createSubclass?ctor.createSubclass(_433):ctor.extend.apply(ctor,_433)):ctor;}return _430[ts];};var _434={_clearCache:function(){_42d++;_430={};},_functionFromScript:function(_435,_436){var _437="",_438="",_439=(_435.getAttribute(_436+"args")||_435.getAttribute("args")),_43a=_435.getAttribute("with");var _43b=(_439||"").split(/\s*,\s*/);if(_43a&&_43a.length){_422.forEach(_43a.split(/\s*,\s*/),function(part){_437+="with("+part+"){";_438+="}";});}return new Function(_43b,_437+_435.innerHTML+_438);},instantiate:function(_43c,_43d,_43e){_43d=_43d||{};_43e=_43e||{};var _43f=(_43e.scope||dojo._scopeName)+"Type",_440="data-"+(_43e.scope||dojo._scopeName)+"-",_441=_440+"type",_442=_440+"mixins";var list=[];_422.forEach(_43c,function(node){var type=_43f in _43d?_43d[_43f]:node.getAttribute(_441)||node.getAttribute(_43f);if(type){var _443=node.getAttribute(_442),_444=_443?[type].concat(_443.split(/\s*,\s*/)):[type];list.push({node:node,types:_444});}});return this._instantiate(list,_43d,_43e);},_instantiate:function(_445,_446,_447){var _448=_422.map(_445,function(obj){var ctor=obj.ctor||_431(obj.types);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,_446,_447,obj.scripts,obj.inherited);},this);if(!_446._started&&!_447.noStart){_422.forEach(_448,function(_449){if(typeof _449.startup==="function"&&!_449._started){_449.startup();}});}return _448;},construct:function(ctor,node,_44a,_44b,_44c,_44d){var _44e=ctor&&ctor.prototype;_44b=_44b||{};var _44f={};if(_44b.defaults){_421.mixin(_44f,_44b.defaults);}if(_44d){_421.mixin(_44f,_44d);}var _450;if(has("dom-attributes-explicit")){_450=node.attributes;}else{if(has("dom-attributes-specified-flag")){_450=_422.filter(node.attributes,function(a){return a.specified;});}else{var _451=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),_452=_451.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_450=_422.map(_452.split(/\s+/),function(name){var _453=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_453=="enctype"?node.getAttribute(_453):node.getAttributeNode(_453).value};});}}var _454=_44b.scope||dojo._scopeName,_455="data-"+_454+"-",hash={};if(_454!=="dojo"){hash[_455+"props"]="data-dojo-props";hash[_455+"type"]="data-dojo-type";hash[_455+"mixins"]="data-dojo-mixins";hash[_454+"type"]="dojoType";hash[_455+"id"]="data-dojo-id";}var i=0,item,_456=[],_457,_458;while(item=_450[i++]){var name=item.name,_459=name.toLowerCase(),_45a=item.value;switch(hash[_459]||_459){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":_458=_45a;break;case "data-dojo-id":case "jsid":_457=_45a;break;case "data-dojo-attach-point":case "dojoattachpoint":_44f.dojoAttachPoint=_45a;break;case "data-dojo-attach-event":case "dojoattachevent":_44f.dojoAttachEvent=_45a;break;case "class":_44f["class"]=node.className;break;case "style":_44f["style"]=node.style&&node.style.cssText;break;default:if(!(name in _44e)){var map=_42e(ctor);name=map[_459]||name;}if(name in _44e){switch(typeof _44e[name]){case "string":_44f[name]=_45a;break;case "number":_44f[name]=_45a.length?Number(_45a):NaN;break;case "boolean":_44f[name]=_45a.toLowerCase()!="false";break;case "function":if(_45a===""||_45a.search(/[^\w\.]+/i)!=-1){_44f[name]=new Function(_45a);}else{_44f[name]=_421.getObject(_45a,false)||new Function(_45a);}_456.push(name);break;default:var pVal=_44e[name];_44f[name]=(pVal&&"length" in pVal)?(_45a?_45a.split(/\s*,\s*/):[]):(pVal instanceof Date)?(_45a==""?new Date(""):_45a=="now"?new Date():_429.fromISOString(_45a)):(pVal instanceof _426)?(dojo.baseUrl+_45a):_427.fromJson(_45a);}}else{_44f[name]=_45a;}}}for(var j=0;j<_456.length;j++){var _45b=_456[j].toLowerCase();node.removeAttribute(_45b);node[_45b]=null;}if(_458){try{_458=_427.fromJson.call(_44b.propsThis,"{"+_458+"}");_421.mixin(_44f,_458);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_458+"'");}}_421.mixin(_44f,_44a);if(!_44c){_44c=(ctor&&(ctor._noScript||_44e._noScript)?[]:_42b("> script[type^='dojo/']",node));}var _45c=[],_45d=[],_45e=[],ons=[];if(_44c){for(i=0;i<_44c.length;i++){var _45f=_44c[i];node.removeChild(_45f);var _460=(_45f.getAttribute(_455+"event")||_45f.getAttribute("event")),prop=_45f.getAttribute(_455+"prop"),_461=_45f.getAttribute(_455+"method"),_462=_45f.getAttribute(_455+"advice"),_463=_45f.getAttribute("type"),nf=this._functionFromScript(_45f,_455);if(_460){if(_463=="dojo/connect"){_45c.push({method:_460,func:nf});}else{if(_463=="dojo/on"){ons.push({event:_460,func:nf});}else{_44f[_460]=nf;}}}else{if(_463=="dojo/aspect"){_45c.push({method:_461,advice:_462,func:nf});}else{if(_463=="dojo/watch"){_45e.push({prop:prop,func:nf});}else{_45d.push(nf);}}}}}var _464=ctor.markupFactory||_44e.markupFactory;var _465=_464?_464(_44f,node,ctor):new ctor(_44f,node);if(_457){_421.setObject(_457,_465);}for(i=0;i<_45c.length;i++){_428[_45c[i].advice||"after"](_465,_45c[i].method,_421.hitch(_465,_45c[i].func),true);}for(i=0;i<_45d.length;i++){_45d[i].call(_465);}for(i=0;i<_45e.length;i++){_465.watch(_45e[i].prop,_45e[i].func);}for(i=0;i<ons.length;i++){don(_465,ons[i].event,ons[i].func);}return _465;},scan:function(root,_466){var list=[],mids=[],_467={};var _468=(_466.scope||dojo._scopeName)+"Type",_469="data-"+(_466.scope||dojo._scopeName)+"-",_46a=_469+"type",_46b=_469+"textdir",_46c=_469+"mixins";var node=root.firstChild;var _46d=_466.inherited;if(!_46d){function _46e(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_46e(node.parentNode,attr));};_46d={dir:_46e(root,"dir"),lang:_46e(root,"lang"),textDir:_46e(root,_46b)};for(var key in _46d){if(!_46d[key]){delete _46d[key];}}}var _46f={inherited:_46d};var _470;var _471;function _472(_473){if(!_473.inherited){_473.inherited={};var node=_473.node,_474=_472(_473.parent);var _475={dir:node.getAttribute("dir")||_474.dir,lang:node.getAttribute("lang")||_474.lang,textDir:node.getAttribute(_46b)||_474.textDir};for(var key in _475){if(_475[key]){_473.inherited[key]=_475[key];}}}return _473.inherited;};while(true){if(!node){if(!_46f||!_46f.node){break;}node=_46f.node.nextSibling;_471=false;_46f=_46f.parent;_470=_46f.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_470&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_470.push(node);}node=node.nextSibling;continue;}if(_471){node=node.nextSibling;continue;}var type=node.getAttribute(_46a)||node.getAttribute(_468);var _476=node.firstChild;if(!type&&(!_476||(_476.nodeType==3&&!_476.nextSibling))){node=node.nextSibling;continue;}var _477;var ctor=null;if(type){var _478=node.getAttribute(_46c),_479=_478?[type].concat(_478.split(/\s*,\s*/)):[type];try{ctor=_431(_479);}catch(e){}if(!ctor){_422.forEach(_479,function(t){if(~t.indexOf("/")&&!_467[t]){_467[t]=true;mids[mids.length]=t;}});}var _47a=ctor&&!ctor.prototype._noScript?[]:null;_477={types:_479,ctor:ctor,parent:_46f,node:node,scripts:_47a};_477.inherited=_472(_477);list.push(_477);}else{_477={node:node,scripts:_470,parent:_46f};}node=_476;_470=_47a;_471=ctor&&ctor.prototype.stopParser&&!(_466.template);_46f=_477;}var d=new _42a();if(mids.length){if(has("dojo-debug-messages")){console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));}_420(mids,function(){d.resolve(_422.filter(list,function(_47b){if(!_47b.ctor){try{_47b.ctor=_431(_47b.types);}catch(e){}}var _47c=_47b.parent;while(_47c&&!_47c.types){_47c=_47c.parent;}var _47d=_47b.ctor&&_47b.ctor.prototype;_47b.instantiateChildren=!(_47d&&_47d.stopParser&&!(_466.template));_47b.instantiate=!_47c||(_47c.instantiate&&_47c.instantiateChildren);return _47b.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_47e){var hash=_427.fromJson("{"+_47e.innerHTML+"}"),vars=[],mids=[],d=new _42a();for(var name in hash){vars.push(name);mids.push(hash[name]);}_420(mids,function(){for(var i=0;i<vars.length;i++){_421.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root){var _47f=new _42a(),_480=_47f.promise;_47f.resolve(true);var self=this;_42b("script[type='dojo/require']",root).forEach(function(node){_480=_480.then(function(){return self._require(node);});node.parentNode.removeChild(node);});return _480;},parse:function(_481,_482){var root;if(!_482&&_481&&_481.rootNode){_482=_481;root=_482.rootNode;}else{if(_481&&_421.isObject(_481)&&!("nodeType" in _481)){_482=_481;}else{root=_481;}}root=root?_424.byId(root):_425.body();_482=_482||{};var _483=_482.template?{template:true}:{},_484=[],self=this;var p=this._scanAmd(root,_482).then(function(){return self.scan(root,_482);}).then(function(_485){return _484=_484.concat(self._instantiate(_485,_483,_482));}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});_421.mixin(_484,p);return _484;}};if(1){dojo.parser=_434;}if(_423.parseOnLoad){_42c(100,_434,"parse");}return _434;});},"dojo/_base/url":function(){define(["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_486=function(){var n=null,_487=arguments,uri=[_487[0]];for(var i=1;i<_487.length;i++){if(!_487[i]){continue;}var _488=new _486(_487[i]+""),_489=new _486(uri[0]+"");if(_488.path==""&&!_488.scheme&&!_488.authority&&!_488.query){if(_488.fragment!=n){_489.fragment=_488.fragment;}_488=_489;}else{if(!_488.scheme){_488.scheme=_489.scheme;if(!_488.authority){_488.authority=_489.authority;if(_488.path.charAt(0)!="/"){var path=_489.path.substring(0,_489.path.lastIndexOf("/")+1)+_488.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_488.path=segs.join("/");}}}}uri=[];if(_488.scheme){uri.push(_488.scheme,":");}if(_488.authority){uri.push("//",_488.authority);}uri.push(_488.path);if(_488.query){uri.push("?",_488.query);}if(_488.fragment){uri.push("#",_488.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_486.prototype.toString=function(){return this.uri;};return dojo._Url=_486;});},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(lang,_48a){var _48b={};lang.setObject("dojo.date.stamp",_48b);_48b.fromISOString=function(_48c,_48d){if(!_48b._isoRegExp){_48b._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _48e=_48b._isoRegExp.exec(_48c),_48f=null;if(_48e){_48e.shift();if(_48e[1]){_48e[1]--;}if(_48e[6]){_48e[6]*=1000;}if(_48d){_48d=new Date(_48d);_48a.forEach(_48a.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _48d["get"+prop]();}),function(_490,_491){_48e[_491]=_48e[_491]||_490;});}_48f=new Date(_48e[0]||1970,_48e[1]||0,_48e[2]||1,_48e[3]||0,_48e[4]||0,_48e[5]||0,_48e[6]||0);if(_48e[0]<100){_48f.setFullYear(_48e[0]||1970);}var _492=0,_493=_48e[7]&&_48e[7].charAt(0);if(_493!="Z"){_492=((_48e[8]||0)*60)+(Number(_48e[9])||0);if(_493!="-"){_492*=-1;}}if(_493){_492-=_48f.getTimezoneOffset();}if(_492){_48f.setTime(_48f.getTime()+_492*60000);}}return _48f;};_48b.toISOString=function(_494,_495){var _496=function(n){return (n<10)?"0"+n:n;};_495=_495||{};var _497=[],_498=_495.zulu?"getUTC":"get",date="";if(_495.selector!="time"){var year=_494[_498+"FullYear"]();date=["0000".substr((year+"").length)+year,_496(_494[_498+"Month"]()+1),_496(_494[_498+"Date"]())].join("-");}_497.push(date);if(_495.selector!="date"){var time=[_496(_494[_498+"Hours"]()),_496(_494[_498+"Minutes"]()),_496(_494[_498+"Seconds"]())].join(":");var _499=_494[_498+"Milliseconds"]();if(_495.milliseconds){time+="."+(_499<100?"0":"")+_496(_499);}if(_495.zulu){time+="Z";}else{if(_495.selector!="time"){var _49a=_494.getTimezoneOffset();var _49b=Math.abs(_49a);time+=(_49a>0?"-":"+")+_496(Math.floor(_49b/60))+":"+_496(_49b%60);}}_497.push(time);}return _497.join("T");};return _48b;});},"dijit/layout/ContentPane":function(){define("dijit/layout/ContentPane",["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_49c,lang,_49d,_49e,_49f,_4a0,html,_4a1,_4a2,_4a3,_4a4,dom,_4a5,_4a6,xhr,i18n,when){return _4a3("dijit.layout.ContentPane",[_49d,_49e,_49f],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_49c._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,create:function(_4a7,_4a8){if((!_4a7||!_4a7.template)&&_4a8&&!("href" in _4a7)&&!("content" in _4a7)){_4a8=dom.byId(_4a8);var df=_4a8.ownerDocument.createDocumentFragment();while(_4a8.firstChild){df.appendChild(_4a8.firstChild);}_4a7=lang.delegate(_4a7,{content:df});}this.inherited(arguments,[_4a7,_4a8]);},postMixInProperties:function(){this.inherited(arguments);var _4a9=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_4a0.substitute(this.loadingMessage,_4a9);this.errorMessage=_4a0.substitute(this.errorMessage,_4a9);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.title="";if(!_4a5.get(this.domNode,"role")){this.domNode.setAttribute("role","group");}},startup:function(){this.inherited(arguments);if(this._contentSetter){_4a2.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){_4a2.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){_4a2.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_49c.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _4a4(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_49c.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _4a4(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_4aa){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _4a4(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _4ab={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_4ab,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_4ab)),_4ac;hand.then(function(html){_4ac=html;try{self._isDownloaded=true;return self._setContent(html,false);}catch(err){self._onError("Content",err);}},function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;}).then(function(){self.onDownloadEnd();delete self._xhrDfd;return _4ac;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_4ad){if(this.isLoaded){this._onUnloadHandler();}var _4ae=this._contentSetter;_4a2.forEach(this.getChildren(),function(_4af){if(_4af.destroyRecursive){_4af.destroyRecursive(_4ad);}else{if(_4af.destroy){_4af.destroy(_4ad);}}_4af._destroyed=true;});if(_4ae){_4a2.forEach(_4ae.parseResults,function(_4b0){if(!_4b0._destroyed){if(_4b0.destroyRecursive){_4b0.destroyRecursive(_4ad);}else{if(_4b0.destroy){_4b0.destroy(_4ad);}}_4b0._destroyed=true;}});delete _4ae.parseResults;}if(!_4ad){_4a6.empty(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_4b1){this.destroyDescendants();var _4b2=this._contentSetter;if(!(_4b2&&_4b2 instanceof html._ContentSetter)){_4b2=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _4b3=this.onContentError(e);try{this.containerNode.innerHTML=_4b3;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _4b4=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_4b2.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_4b4);var self=this;return when(p&&p.then?p:_4b2.parseDeferred,function(){delete self._contentSetterParams;if(!_4b1){if(self._started){self._startChildren();self._scheduleLayout();}self._onLoadHandler(cont);}});},_onError:function(type,err,_4b5){this.onLoadDeferred.reject(err);var _4b6=this["on"+type+"Error"].call(this,err);if(_4b5){console.error(_4b5,err);}else{if(_4b6){this._setContent(_4b6,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dijit/layout/_ContentPaneResizeMixin":function(){define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(_4b7,_4b8,_4b9,_4ba,_4bb,lang,_4bc,has,_4bd,_4be,_4bf){return _4b8("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _4c0=this.getParent();this._childOfLayoutWidget=_4c0&&_4c0.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_4be.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){var _4c1=[],_4c2=false;_4bc("> *",this.containerNode).some(function(node){var _4c3=_4bd.byNode(node);if(_4c3&&_4c3.resize){_4c1.push(_4c3);}else{if(node.offsetHeight){_4c2=true;}}});this._singleChild=_4c1.length==1&&!_4c2?_4c1[0]:null;_4b9.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_4c4,_4c5){this._resizeCalled=true;this._scheduleLayout(_4c4,_4c5);},_scheduleLayout:function(_4c6,_4c7){if(this._isShown()){this._layout(_4c6,_4c7);}else{this._needLayout=true;this._changeSize=_4c6;this._resultSize=_4c7;}},_layout:function(_4c8,_4c9){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_4c8){_4ba.setMarginBox(this.domNode,_4c8);}var cn=this.containerNode;if(cn===this.domNode){var mb=_4c9||{};lang.mixin(mb,_4c8||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_4ba.getMarginBox(cn),mb);}this._contentBox=_4bf.marginBox2contentBox(cn,mb);}else{this._contentBox=_4ba.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_4ba.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{_4b7.forEach(this.getChildren(),function(_4ca){if(_4ca.resize){_4ca.resize();}});}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_4cb=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_4b9.contains(node,"dijitHidden")&&_4cb&&_4cb.style&&(_4cb.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dijit/Viewport":function(){define("dijit/Viewport",["dojo/Evented","dojo/on","dojo/ready","dojo/sniff","dojo/_base/window","dojo/window"],function(_4cc,on,_4cd,has,win,_4ce){var _4cf=new _4cc();_4cd(200,function(){var _4d0=_4ce.getBox();_4cf._rlh=on(win.global,"resize",function(){var _4d1=_4ce.getBox();if(_4d0.h==_4d1.h&&_4d0.w==_4d1.w){return;}_4d0=_4d1;_4cf.emit("resize");});if(has("ie")==8){var _4d2=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_4d2){_4d2=screen.deviceXDPI;_4cf.emit("resize");}},500);}});return _4cf;});},"dijit/layout/utils":function(){define("dijit/layout/utils",["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","../main"],function(_4d3,_4d4,_4d5,_4d6,lang,_4d7){var _4d8=lang.getObject("layout",true,_4d7);_4d8.marginBox2contentBox=function(node,mb){var cs=_4d6.getComputedStyle(node);var me=_4d5.getMarginExtents(node,cs);var pb=_4d5.getPadBorderExtents(node,cs);return {l:_4d6.toPixelValue(node,cs.paddingLeft),t:_4d6.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};function _4d9(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_4da,dim){var _4db=_4da.resize?_4da.resize(dim):_4d5.setMarginBox(_4da.domNode,dim);if(_4db){lang.mixin(_4da,_4db);}else{lang.mixin(_4da,_4d5.getMarginBox(_4da.domNode));lang.mixin(_4da,dim);}};_4d8.layoutChildren=function(_4dc,dim,_4dd,_4de,_4df){dim=lang.mixin({},dim);_4d4.add(_4dc,"dijitLayoutContainer");_4dd=_4d3.filter(_4dd,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_4d3.filter(_4dd,function(item){return item.region=="center"||item.layoutAlign=="client";}));_4d3.forEach(_4dd,function(_4e0){var elm=_4e0.domNode,pos=(_4e0.region||_4e0.layoutAlign);if(!pos){throw new Error("No region setting for "+_4e0.id);}var _4e1=elm.style;_4e1.left=dim.l+"px";_4e1.top=dim.t+"px";_4e1.position="absolute";_4d4.add(elm,"dijitAlign"+_4d9(pos));var _4e2={};if(_4de&&_4de==_4e0.id){_4e2[_4e0.region=="top"||_4e0.region=="bottom"?"h":"w"]=_4df;}if(pos=="top"||pos=="bottom"){_4e2.w=dim.w;size(_4e0,_4e2);dim.h-=_4e0.h;if(pos=="top"){dim.t+=_4e0.h;}else{_4e1.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_4e2.h=dim.h;size(_4e0,_4e2);dim.w-=_4e0.w;if(pos=="left"){dim.l+=_4e0.w;}else{_4e1.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_4e0,dim);}}}});};return {marginBox2contentBox:_4d8.marginBox2contentBox,layoutChildren:_4d8.layoutChildren};});},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_4e3,lang,_4e4,_4e5,dom,_4e6,_4e7){var html={};lang.setObject("dojo.html",html);var _4e8=0;html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};html._emptyNode=_4e6.empty;html._setNodeContent=function(node,cont){_4e6.empty(node);if(cont){if(typeof cont=="string"){cont=_4e6.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _4e9=cont.length,i=0;i<cont.length;i=_4e9==cont.length?i+1:0){_4e6.place(cont[i],node,"last");}}else{_4e6.place(cont,node,"last");}}return node;};html._ContentSetter=_4e5("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_4e3._scopeName,startup:true,constructor:function(_4ea,node){lang.mixin(this,_4ea||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_4e8++].join("_");}},set:function(cont,_4eb){if(undefined!==cont){this.content=cont;}if(_4eb){this._mixin(_4eb);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _4ec=this.onContentError(e);try{node.innerHTML=_4ec;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_4e4.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_4e6.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var _4ed=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_4ed){cont=_4ed[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_4ee){var _4ef={},key;for(key in _4ee){if(key in _4ef){continue;}this[key]=_4ee[key];}},_parse:function(){var _4f0=this.node;try{var _4f1={};_4e4.forEach(["dir","lang","textDir"],function(name){if(this[name]){_4f1[name]=this[name];}},this);var self=this;this.parseDeferred=_4e7.parse({rootNode:_4f0,noStart:!this.startup,inherited:_4f1,scope:this.parserScope}).then(function(_4f2){return self.parseResults=_4f2;});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_4f3){var _4f4=this["on"+type+"Error"].call(this,err);if(_4f3){console.error(_4f3,err);}else{if(_4f4){html._setNodeContent(this.node,_4f4,true);}}}});html.set=function(node,cont,_4f5){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_4f5){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_4f5,{content:cont,node:node}));return op.set();}};return html;});},"dijit/layout/BorderContainer":function(){define("dijit/layout/BorderContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./_LayoutWidget","./utils"],function(_4f6,_4f7,_4f8,_4f9,_4fa,_4fb,_4fc,_4fd,keys,lang,on,_4fe,_4ff,_500,_501,_502,_503){var _504=_4f8("dijit.layout._Splitter",[_500,_501],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeypress:_onKeyPress,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_4f9.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _505=_4f7(this._cookieName);if(_505){this.child.domNode.style[this.horizontal?"height":"width"]=_505;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_506=_4fb.getMarginBox(this.child.domNode)[dim],_507=_4f6.filter(this.container.getChildren(),function(_508){return _508.region=="center";})[0],_509=_4fb.getMarginBox(_507.domNode)[dim];return Math.min(this.child.maxSize,_506+_509);},_startDrag:function(e){if(!this.cover){this.cover=_4fa.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_4f9.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_4fa.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_4f9.add(this.domNode,"dijitSplitterShadow");_4fa.place(this.fake,this.domNode,"after");}_4f9.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_4f9.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _50a=this._factor,_50b=this.horizontal,axis=_50b?"pageY":"pageX",_50c=e[axis],_50d=this.domNode.style,dim=_50b?"h":"w",_50e=_4fb.getMarginBox(this.child.domNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_50f=this.region,_510=_50f=="top"||_50f=="bottom"?"top":"left",_511=parseInt(_50d[_510],10),_512=this._resize,_513=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,_4fe.move,this._drag=function(e,_514){var _515=e[axis]-_50c,_516=_50a*_515+_50e,_517=Math.max(Math.min(_516,max),min);if(_512||_514){_513(_517);}_50d[_510]=_515+_511+_50a*(_517-_516)+"px";}),on(de,"dragstart",_4fd.stop),on(this.ownerDocumentBody,"selectstart",_4fd.stop),on(de,_4fe.release,lang.hitch(this,"_stopDrag"))]);_4fd.stop(e);},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_4f9.toggle(this.domNode,"dijitSplitterHover",o);_4f9.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_4f9.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_4fa.destroy(this.fake);}_4f9.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_4f7(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyPress:function(e){this._resize=true;var _518=this.horizontal;var tick=1;switch(e.charOrCode){case _518?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _518?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _519=_4fb.getMarginSize(this.child.domNode)[_518?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_519,this._computeMaxSize()),this.child.minSize));_4fd.stop(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _51a=_4f8("dijit.layout._Gutter",[_500,_501],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_4f9.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _51b=_4f8("dijit.layout.BorderContainer",_502,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_504,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},startup:function(){if(this._started){return;}_4f6.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_51c){var _51d=_51c.region;if(_51d){this.inherited(arguments);_4f9.add(_51c.domNode,this.baseClass+"Pane");var ltr=this.isLeftToRight();if(_51d=="leading"){_51d=ltr?"left":"right";}if(_51d=="trailing"){_51d=ltr?"right":"left";}if(_51d!="center"&&(_51c.splitter||this.gutters)&&!_51c._splitterWidget){var _51e=_51c.splitter?this._splitterClass:_51a;if(lang.isString(_51e)){_51e=lang.getObject(_51e);}var _51f=new _51e({id:_51c.id+"_splitter",container:this,child:_51c,region:_51d,live:this.liveSplitters});_51f.isSplitter=true;_51c._splitterWidget=_51f;_4fa.place(_51f.domNode,_51c.domNode,"after");_51f.startup();}_51c.region=_51d;}},layout:function(){this._layoutChildren();},addChild:function(_520,_521){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(_522){var _523=_522.region;var _524=_522._splitterWidget;if(_524){_524.destroy();delete _522._splitterWidget;}this.inherited(arguments);if(this._started){this._layoutChildren();}_4f9.remove(_522.domNode,this.baseClass+"Pane");_4fc.set(_522.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_4fc.set(_522.domNode,_523=="top"||_523=="bottom"?"width":"height","auto");},getChildren:function(){return _4f6.filter(this.inherited(arguments),function(_525){return !_525.isSplitter;});},getSplitter:function(_526){return _4f6.filter(this.getChildren(),function(_527){return _527.region==_526;})[0]._splitterWidget;},resize:function(_528,_529){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_4fc.getComputedStyle(node);this.pe=_4fb.getPadExtents(node,this.cs);this.pe.r=_4fc.toPixelValue(node,this.cs.paddingRight);this.pe.b=_4fc.toPixelValue(node,this.cs.paddingBottom);_4fc.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_52a,_52b){if(!this._borderBox||!this._borderBox.h){return;}var _52c=_4f6.map(this.getChildren(),function(_52d,idx){return {pane:_52d,weight:[_52d.region=="center"?Infinity:0,_52d.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(_52d.region)?1:-1),idx]};},this);_52c.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});var _52e=[];_4f6.forEach(_52c,function(_52f){var pane=_52f.pane;_52e.push(pane);if(pane._splitterWidget){_52e.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_503.layoutChildren(this.domNode,dim,_52e,_52a,_52b);},destroyRecursive:function(){_4f6.forEach(this.getChildren(),function(_530){var _531=_530._splitterWidget;if(_531){_531.destroy();}delete _530._splitterWidget;});this.inherited(arguments);}});_51b.ChildWidgetProperties={region:"",layoutPriority:0,splitter:false,minSize:0,maxSize:Infinity};lang.extend(_4ff,_51b.ChildWidgetProperties);_51b._Splitter=_504;_51b._Gutter=_51a;return _51b;});},"dijit/layout/_LayoutWidget":function(){define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_532,_533,_534,_535,_536,_537,_538,_539){return _536("dijit.layout._LayoutWidget",[_532,_533,_534],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_537.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _53a=this.getParent&&this.getParent();if(!(_53a&&_53a.isLayoutContainer)){this.resize();this.own(_535.on("resize",lang.hitch(this,"resize")));}},resize:function(_53b,_53c){var node=this.domNode;if(_53b){_538.setMarginBox(node,_53b);}var mb=_53c||{};lang.mixin(mb,_53b||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_538.getMarginBox(node),mb);}var cs=_539.getComputedStyle(node);var me=_538.getMarginExtents(node,cs);var be=_538.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_538.getPadExtents(node,cs);this._contentBox={l:_539.toPixelValue(node,cs.paddingLeft),t:_539.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_53d){var cls=this.baseClass+"-child "+(_53d.baseClass?this.baseClass+"-"+_53d.baseClass:"");_537.add(_53d.domNode,cls);},addChild:function(_53e,_53f){this.inherited(arguments);if(this._started){this._setupChild(_53e);}},removeChild:function(_540){var cls=this.baseClass+"-child"+(_540.baseClass?" "+this.baseClass+"-"+_540.baseClass:"");_537.remove(_540.domNode,cls);this.inherited(arguments);}});});},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(_541,_542){return _541("dijit._Contained",null,{_getSibling:function(_543){var node=this.domNode;do{node=node[_543+"Sibling"];}while(node&&node.nodeType!=1);return node&&_542.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dijit/Calendar":function(){define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/event","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(_544,date,_545,_546,_547,_548,_549,_54a,keys,lang,has,_54b,_54c,_54d,_54e,_54f){var _550=_546("dijit.Calendar",[_54b,_54c,_54d],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(_551){_54a.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_551);},_createMonthWidget:function(){return new _550._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeydown","_onKeyDown");this.connect(this.dateRowsNode,"onmouseover","_onDayMouseOver");this.connect(this.dateRowsNode,"onmouseout","_onDayMouseOut");this.connect(this.dateRowsNode,"onmousedown","_onDayMouseDown");this.connect(this.dateRowsNode,"onmouseup","_onDayMouseUp");},_onMonthSelect:function(_552){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_552);var _553=this.dateModule.getDaysInMonth(date);var _554=this.currentFocus.getDate();date.setDate(Math.min(_554,_553));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_548.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_548.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_548.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_548.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_548.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_548.contains(node,"dijitCalendarDisabledDate")){_548.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_548.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _555=-1,_556,_557=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_555=1;case keys.LEFT_ARROW:_556="day";if(!this.isLeftToRight()){_555*=-1;}break;case keys.DOWN_ARROW:_555=1;case keys.UP_ARROW:_556="week";break;case keys.PAGE_DOWN:_555=1;case keys.PAGE_UP:_556=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_557=this.dateModule.add(_557,"month",1);_556="day";case keys.HOME:_557=new this.dateClassObj(_557);_557.setDate(1);break;case keys.ENTER:case keys.SPACE:this.set("value",this.currentFocus);break;default:return true;}if(_556){_557=this.dateModule.add(_557,_556,_555);}this._setCurrentFocusAttr(_557);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){_549.stop(evt);}},onValueSelected:function(){},onChange:function(_558){this.onValueSelected(_558);},getClassForDate:function(){}});_550._MonthDropDownButton=_546("dijit.Calendar._MonthDropDownButton",_54f,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _550._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(_559){var _55a=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_559);this.dropDown.set("months",_55a);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_55a[_559.getMonth()]+"</div>";}});_550._MonthDropDown=_546("dijit.Calendar._MonthDropDown",[_54c,_54e],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_55b){this.domNode.innerHTML=_544.map(_55b,function(_55c,idx){return _55c?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+_55c+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(_547.get(evt.target,"month"));},onChange:function(){},_onMenuHover:function(evt){_548.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});return _550;});},"dijit/CalendarLite":function(){require({cache:{"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n"}});define("dijit/CalendarLite",["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./hccss"],function(_55d,_55e,_55f,date,_560,_561,dom,_562,_563,lang,has,_564,_565,_566,_567){var _568=_55e("dijit.CalendarLite",[_565,_566],{templateString:_567,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),baseClass:"dijitCalendar",_isValidDate:function(_569){return _569&&!isNaN(_569)&&typeof _569=="object"&&_569.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){if(this.value&&!isNaN(this.value)){var _56a=new this.dateClassObj(this.value);_56a.setHours(0,0,0,0);if(_56a.getDate()<this.value.getDate()){_56a=this.dateModule.add(_56a,"hour",1);}return _56a;}else{return null;}},_setValueAttr:function(_56b,_56c){if(typeof _56b=="string"){_56b=_561.fromISOString(_56b);}_56b=this._patchDate(_56b);if(this._isValidDate(_56b)&&!this.isDisabledDate(_56b,this.lang)){this._set("value",_56b);this.set("currentFocus",_56b);this._markSelectedDates([_56b]);if(this._created&&(_56c||typeof _56c=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(_56d){if(_56d){_56d=new this.dateClassObj(_56d);_56d.setHours(1,0,0,0);}return _56d;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var _56e=new this.dateClassObj(this.currentFocus);_56e.setDate(1);var _56f=_56e.getDay(),_570=this.dateModule.getDaysInMonth(_56e),_571=this.dateModule.getDaysInMonth(this.dateModule.add(_56e,"month",-1)),_572=new this.dateClassObj(),_573=_55f.getFirstDayOfWeek(this.lang);if(_573>_56f){_573-=7;}this._date2cell={};_55d.forEach(this.dateCells,function(_574,idx){var i=idx+_573;var date=new this.dateClassObj(_56e),_575,_576="dijitCalendar",adj=0;if(i<_56f){_575=_571-_56f+i+1;adj=-1;_576+="Previous";}else{if(i>=(_56f+_570)){_575=i-_56f-_570+1;adj=1;_576+="Next";}else{_575=i-_56f+1;_576+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_575);if(!this.dateModule.compare(date,_572,"date")){_576="dijitCalendarCurrentDate "+_576;}if(this.isDisabledDate(date,this.lang)){_576="dijitCalendarDisabledDate "+_576;_574.setAttribute("aria-disabled","true");}else{_576="dijitCalendarEnabledDate "+_576;_574.removeAttribute("aria-disabled");_574.setAttribute("aria-selected","false");}var _577=this.getClassForDate(date,this.lang);if(_577){_576=_577+" "+_576;}_574.className=_576+"Month dijitCalendarDateTemplate";var _578=date.valueOf();this._date2cell[_578]=_574;_574.dijitDateValue=_578;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var _579=new this.dateClassObj(this.currentFocus);_579.setDate(1);this.monthWidget.set("month",_579);var y=_579.getFullYear()-1;var d=new this.dateClassObj();_55d.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_57a){this.dateModule=_57a.datePackage?lang.getObject(_57a.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_57a.datePackage?lang.getObject(_57a.datePackage+".locale",false):_560;},_createMonthWidget:function(){return _568._MonthWidget({id:this.id+"_mw",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_57b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_57c=_55f.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_564.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _57b[_57c++%7];});var r=_564.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _57d=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_57d,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _57e=lang.hitch(this,function(_57f,part,_580){this.connect(this[_57f],"onclick",function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_580));});});_57e("incrementMonth","month",1);_57e("decrementMonth","month",-1);_57e("nextYearLabelNode","year",1);_57e("previousYearLabelNode","year",-1);},_setCurrentFocusAttr:function(date,_581){var _582=this.currentFocus,_583=this._getNodeByDate(_582);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_582,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _584=this._getNodeByDate(date);_584.setAttribute("tabIndex",this.tabIndex);if(this.focused||_581){_584.focus();}if(_583&&_583!=_584){if(has("webkit")){_583.setAttribute("tabIndex","-1");}else{_583.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){_563.stop(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_562.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(_585){_585=this._patchDate(_585);return _585&&this._date2cell?this._date2cell[_585.valueOf()]:null;},_markSelectedDates:function(_586){function mark(_587,cell){_562.toggle(cell,"dijitCalendarSelectedDate",_587);cell.setAttribute("aria-selected",_587?"true":"false");};_55d.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=_55d.filter(_55d.map(_586,this._getNodeByDate,this),function(n){return n;});_55d.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_568._MonthWidget=_55e("dijit.CalendarLite._MonthWidget",_565,{_setMonthAttr:function(_588){var _589=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_588),_58a=(has("ie")==6?"":"<div class='dijitSpacer'>"+_55d.map(_589,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_58a+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_589[_588.getMonth()]+"</div>";}});return _568;});},"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","dojox/date/buddhist":function(){define("dojox/date/buddhist",["..","dojo/_base/lang","dojo/date","./buddhist/Date"],function(_58b,lang,dd,_58c){var _58d=lang.getObject("date.buddhist",true,_58b);_58d.getDaysInMonth=function(_58e){return dd.getDaysInMonth(_58e.toGregorian());};_58d.isLeapYear=function(_58f){return dd.isLeapYear(_58f.toGregorian());};_58d.compare=function(_590,_591,_592){return dd.compare(_590,_591,_592);};_58d.add=function(date,_593,_594){var _595=new _58c(date);switch(_593){case "day":_595.setDate(date.getDate(true)+_594);break;case "weekday":var days,_596;var mod=_594%5;if(!mod){days=(_594>0)?5:-5;_596=(_594>0)?((_594-5)/5):((_594+5)/5);}else{days=mod;_596=parseInt(_594/5);}var strt=date.getDay();var adj=0;if(strt==6&&_594>0){adj=1;}else{if(strt==0&&_594<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_594>0)?2:-2;}_594=(7*_596)+days+adj;_595.setDate(date.getDate(true)+_594);break;case "year":_595.setFullYear(date.getFullYear()+_594);break;case "week":_594*=7;_595.setDate(date.getDate(true)+_594);break;case "month":_595.setMonth(date.getMonth()+_594);break;case "hour":_595.setHours(date.getHours()+_594);break;case "minute":_595._addMinutes(_594);break;case "second":_595._addSeconds(_594);break;case "millisecond":_595._addMilliseconds(_594);break;}return _595;};_58d.difference=function(_597,_598,_599){_598=_598||new _58c();_599=_599||"day";var _59a=_598.getFullYear()-_597.getFullYear();var _59b=1;switch(_599){case "weekday":var days=Math.round(_58d.difference(_597,_598,"day"));var _59c=parseInt(_58d.difference(_597,_598,"week"));var mod=days%7;if(mod==0){days=_59c*5;}else{var adj=0;var aDay=_597.getDay();var bDay=_598.getDay();_59c=parseInt(days/7);mod=days%7;var _59d=new _58c(_598);_59d.setDate(_59d.getDate(true)+(_59c*7));var _59e=_59d.getDay();if(days>0){switch(true){case aDay==5:adj=-1;break;case aDay==6:adj=0;break;case bDay==5:adj=-1;break;case bDay==6:adj=-2;break;case (_59e+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==5:adj=0;break;case aDay==6:adj=1;break;case bDay==5:adj=2;break;case bDay==6:adj=1;break;case (_59e+mod)<0:adj=2;}}}days+=adj;days-=(_59c*2);}_59b=days;break;case "year":_59b=_59a;break;case "month":var _59f=(_598.toGregorian()>_597.toGregorian())?_598:_597;var _5a0=(_598.toGregorian()>_597.toGregorian())?_597:_598;var _5a1=_59f.getMonth();var _5a2=_5a0.getMonth();if(_59a==0){_59b=_59f.getMonth()-_5a0.getMonth();}else{_59b=12-_5a2;_59b+=_5a1;var i=_5a0.getFullYear()+1;var e=_59f.getFullYear();for(i;i<e;i++){_59b+=12;}}if(_598.toGregorian()<_597.toGregorian()){_59b=-_59b;}break;case "week":_59b=parseInt(_58d.difference(_597,_598,"day")/7);break;case "day":_59b/=24;case "hour":_59b/=60;case "minute":_59b/=60;case "second":_59b/=1000;case "millisecond":_59b*=_598.toGregorian().getTime()-_597.toGregorian().getTime();}return Math.round(_59b);};return _58d;});},"dojox/date/buddhist/Date":function(){define("dojox/date/buddhist/Date",["dojo/_base/lang","dojo/_base/declare","dojo/date"],function(lang,_5a3,dd){var _5a4=_5a3("dojox.date.buddhist.Date",null,{_date:0,_month:0,_year:0,_hours:0,_minutes:0,_seconds:0,_milliseconds:0,_day:0,constructor:function(){var len=arguments.length;if(!len){this.fromGregorian(new Date());}else{if(len==1){var arg0=arguments[0];if(typeof arg0=="number"){arg0=new Date(arg0);}if(arg0 instanceof Date){this.fromGregorian(arg0);}else{if(arg0==""){this._date=new Date("");}else{this._year=arg0._year;this._month=arg0._month;this._date=arg0._date;this._hours=arg0._hours;this._minutes=arg0._minutes;this._seconds=arg0._seconds;this._milliseconds=arg0._milliseconds;}}}else{if(len>=3){this._year+=arguments[0];this._month+=arguments[1];this._date+=arguments[2];if(this._month>11){console.warn("the month is incorrect , set 0");this._month=0;}this._hours+=arguments[3]||0;this._minutes+=arguments[4]||0;this._seconds+=arguments[5]||0;this._milliseconds+=arguments[6]||0;}}}},getDate:function(_5a5){return parseInt(this._date);},getMonth:function(){return parseInt(this._month);},getFullYear:function(){return parseInt(this._year);},getHours:function(){return this._hours;},getMinutes:function(){return this._minutes;},getSeconds:function(){return this._seconds;},getMilliseconds:function(){return this._milliseconds;},setDate:function(date){date=parseInt(date);if(date>0&&date<=this._getDaysInMonth(this._month,this._year)){this._date=date;}else{var _5a6;if(date>0){for(_5a6=this._getDaysInMonth(this._month,this._year);date>_5a6;date-=_5a6,_5a6=this._getDaysInMonth(this._month,this._year)){this._month++;if(this._month>=12){this._year++;this._month-=12;}}this._date=date;}else{for(_5a6=this._getDaysInMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1);date<=0;_5a6=this._getDaysInMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1)){this._month--;if(this._month<0){this._year--;this._month+=12;}date+=_5a6;}this._date=date;}}return this;},setFullYear:function(year,_5a7,date){this._year=parseInt(year);},setMonth:function(_5a8){this._year+=Math.floor(_5a8/12);this._month=Math.floor(_5a8%12);for(;this._month<0;this._month=this._month+12){}},setHours:function(){var _5a9=arguments.length;var _5aa=0;if(_5a9>=1){_5aa=parseInt(arguments[0]);}if(_5a9>=2){this._minutes=parseInt(arguments[1]);}if(_5a9>=3){this._seconds=parseInt(arguments[2]);}if(_5a9==4){this._milliseconds=parseInt(arguments[3]);}while(_5aa>=24){this._date++;var _5ab=this._getDaysInMonth(this._month,this._year);if(this._date>_5ab){this._month++;if(this._month>=12){this._year++;this._month-=12;}this._date-=_5ab;}_5aa-=24;}this._hours=_5aa;},_addMinutes:function(_5ac){_5ac+=this._minutes;this.setMinutes(_5ac);this.setHours(this._hours+parseInt(_5ac/60));return this;},_addSeconds:function(_5ad){_5ad+=this._seconds;this.setSeconds(_5ad);this._addMinutes(parseInt(_5ad/60));return this;},_addMilliseconds:function(_5ae){_5ae+=this._milliseconds;this.setMilliseconds(_5ae);this._addSeconds(parseInt(_5ae/1000));return this;},setMinutes:function(_5af){this._minutes=_5af%60;return this;},setSeconds:function(_5b0){this._seconds=_5b0%60;return this;},setMilliseconds:function(_5b1){this._milliseconds=_5b1%1000;return this;},toString:function(){return isNaN(this._date)?"Invalid Date":this._date+", "+this._month+", "+this._year+"  "+this._hours+":"+this._minutes+":"+this._seconds;},_getDaysInMonth:function(_5b2,year){return dd.getDaysInMonth(new Date(year-543,_5b2));},fromGregorian:function(_5b3){var date=new Date(_5b3);this._date=date.getDate();this._month=date.getMonth();this._year=date.getFullYear()+543;this._hours=date.getHours();this._minutes=date.getMinutes();this._seconds=date.getSeconds();this._milliseconds=date.getMilliseconds();this._day=date.getDay();return this;},toGregorian:function(){return new Date(this._year-543,this._month,this._date,this._hours,this._minutes,this._seconds,this._milliseconds);},getDay:function(){return this.toGregorian().getDay();}});_5a4.prototype.valueOf=function(){return this.toGregorian().valueOf();};return _5a4;});},"dojox/date/buddhist/locale":function(){define("dojox/date/buddhist/locale",["../..","dojo/_base/lang","dojo/_base/array","dojo/date","dojo/i18n","dojo/regexp","dojo/string","./Date","dojo/i18n!dojo/cldr/nls/buddhist"],function(_5b4,lang,arr,dd,i18n,_5b5,_5b6,_5b7){var _5b8=lang.getObject("date.buddhist.locale",true,_5b4);function _5b9(_5ba,_5bb,_5bc,_5bd,_5be){return _5be.replace(/([a-z])\1*/ig,function(_5bf){var s,pad;var c=_5bf.charAt(0);var l=_5bf.length;var _5c0=["abbr","wide","narrow"];switch(c){case "G":s=_5bb["eraAbbr"][0];break;case "y":s=String(_5ba.getFullYear());break;case "M":var m=_5ba.getMonth();if(l<3){s=m+1;pad=true;}else{var _5c1=["months","format",_5c0[l-3]].join("-");s=_5bb[_5c1][m];}break;case "d":s=_5ba.getDate(true);pad=true;break;case "E":var d=_5ba.getDay();if(l<3){s=d+1;pad=true;}else{var _5c2=["days","format",_5c0[l-3]].join("-");s=_5bb[_5c2][d];}break;case "a":var _5c3=(_5ba.getHours()<12)?"am":"pm";s=_5bb["dayPeriods-format-wide-"+_5c3];break;case "h":case "H":case "K":case "k":var h=_5ba.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_5ba.getMinutes();pad=true;break;case "s":s=_5ba.getSeconds();pad=true;break;case "S":s=Math.round(_5ba.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "z":s=dd.getTimezoneName(_5ba.toGregorian());if(s){break;}l=4;case "Z":var _5c4=_5ba.toGregorian().getTimezoneOffset();var tz=[(_5c4<=0?"+":"-"),_5b6.pad(Math.floor(Math.abs(_5c4)/60),2),_5b6.pad(Math.abs(_5c4)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojox.date.buddhist.locale.formatPattern: invalid pattern char: "+_5be);}if(pad){s=_5b6.pad(s,l);}return s;});};_5b8.format=function(_5c5,_5c6){_5c6=_5c6||{};var _5c7=i18n.normalizeLocale(_5c6.locale);var _5c8=_5c6.formatLength||"short";var _5c9=_5b8._getBuddhistBundle(_5c7);var str=[];var _5ca=lang.hitch(this,_5b9,_5c5,_5c9,_5c7,_5c6.fullYear);if(_5c6.selector=="year"){var year=_5c5.getFullYear();return year;}if(_5c6.selector!="time"){var _5cb=_5c6.datePattern||_5c9["dateFormat-"+_5c8];if(_5cb){str.push(_5cc(_5cb,_5ca));}}if(_5c6.selector!="date"){var _5cd=_5c6.timePattern||_5c9["timeFormat-"+_5c8];if(_5cd){str.push(_5cc(_5cd,_5ca));}}var _5ce=str.join(" ");return _5ce;};_5b8.regexp=function(_5cf){return _5b8._parseInfo(_5cf).regexp;};_5b8._parseInfo=function(_5d0){_5d0=_5d0||{};var _5d1=i18n.normalizeLocale(_5d0.locale);var _5d2=_5b8._getBuddhistBundle(_5d1);var _5d3=_5d0.formatLength||"short";var _5d4=_5d0.datePattern||_5d2["dateFormat-"+_5d3];var _5d5=_5d0.timePattern||_5d2["timeFormat-"+_5d3];var _5d6;if(_5d0.selector=="date"){_5d6=_5d4;}else{if(_5d0.selector=="time"){_5d6=_5d5;}else{_5d6=(typeof (_5d5)=="undefined")?_5d4:_5d4+" "+_5d5;}}var _5d7=[];var re=_5cc(_5d6,lang.hitch(this,_5d8,_5d7,_5d2,_5d0));return {regexp:re,tokens:_5d7,bundle:_5d2};};_5b8.parse=function(_5d9,_5da){_5d9=_5d9.replace(/[\u200E\u200F\u202A-\u202E]/g,"");if(!_5da){_5da={};}var info=_5b8._parseInfo(_5da);var _5db=info.tokens,_5dc=info.bundle;var re=new RegExp("^"+info.regexp+"$");var _5dd=re.exec(_5d9);var _5de=i18n.normalizeLocale(_5da.locale);if(!_5dd){return null;}var date,_5df;var _5e0=[2513,0,1,0,0,0,0];var amPm="";var _5e1=0;var _5e2=["abbr","wide","narrow"];var _5e3=arr.every(_5dd,function(v,i){if(!i){return true;}var _5e4=_5db[i-1];var l=_5e4.length;switch(_5e4.charAt(0)){case "y":_5e0[0]=Number(v);break;case "M":if(l>2){var _5e5=_5dc["months-format-"+_5e2[l-3]].concat();if(!_5da.strict){v=v.replace(".","").toLowerCase();_5e5=arr.map(_5e5,function(s){return s?s.replace(".","").toLowerCase():s;});}v=arr.indexOf(_5e5,v);if(v==-1){return false;}_5e1=l;}else{v--;}_5e0[1]=Number(v);break;case "D":_5e0[1]=0;case "d":_5e0[2]=Number(v);break;case "a":var am=_5da.am||_5dc["dayPeriods-format-wide-am"],pm=_5da.pm||_5dc["dayPeriods-format-wide-pm"];if(!_5da.strict){var _5e6=/\./g;v=v.replace(_5e6,"").toLowerCase();am=am.replace(_5e6,"").toLowerCase();pm=pm.replace(_5e6,"").toLowerCase();}if(_5da.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":_5e0[3]=Number(v);break;case "m":_5e0[4]=Number(v);break;case "s":_5e0[5]=Number(v);break;case "S":_5e0[6]=Number(v);}return true;});var _5e7=+_5e0[3];if(amPm==="p"&&_5e7<12){_5e0[3]=_5e7+12;}else{if(amPm==="a"&&_5e7==12){_5e0[3]=0;}}var _5e8=new _5b7(_5e0[0],_5e0[1],_5e0[2],_5e0[3],_5e0[4],_5e0[5],_5e0[6]);return _5e8;};function _5cc(_5e9,_5ea,_5eb,_5ec){var _5ed=function(x){return x;};_5ea=_5ea||_5ed;_5eb=_5eb||_5ed;_5ec=_5ec||_5ed;var _5ee=_5e9.match(/(''|[^'])+/g);var _5ef=_5e9.charAt(0)=="'";arr.forEach(_5ee,function(_5f0,i){if(!_5f0){_5ee[i]="";}else{_5ee[i]=(_5ef?_5eb:_5ea)(_5f0);_5ef=!_5ef;}});return _5ec(_5ee.join(""));};function _5d8(_5f1,_5f2,_5f3,_5f4){_5f4=_5b5.escapeString(_5f4);var _5f5=i18n.normalizeLocale(_5f3.locale);return _5f4.replace(/([a-z])\1*/ig,function(_5f6){var s;var c=_5f6.charAt(0);var l=_5f6.length;var p2="",p3="";if(_5f3.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d+";break;case "M":s=(l>2)?"\\S+":p2+"[1-9]|1[0-2]";break;case "d":s="[12]\\d|"+p2+"[1-9]|3[01]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s=p2+"\\d|[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_5f3.am||_5f2["dayPeriods-format-wide-am"],pm=_5f3.pm||_5f2["dayPeriods-format-wide-pm"];if(_5f3.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}}break;default:s=".*";}if(_5f1){_5f1.push(_5f6);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _5f7=[];_5b8.addCustomFormats=function(_5f8,_5f9){_5f7.push({pkg:_5f8,name:_5f9});};_5b8._getBuddhistBundle=function(_5fa){var _5fb={};arr.forEach(_5f7,function(desc){var _5fc=i18n.getLocalization(desc.pkg,desc.name,_5fa);_5fb=lang.mixin(_5fb,_5fc);},this);return _5fb;};_5b8.addCustomFormats("dojo.cldr","buddhist");_5b8.getNames=function(item,type,_5fd,_5fe,date){var _5ff;var _600=_5b8._getBuddhistBundle(_5fe);var _601=[item,_5fd,type];if(_5fd=="standAlone"){var key=_601.join("-");_5ff=_600[key];if(_5ff[0]==1){_5ff=undefined;}}_601[1]="format";return (_5ff||_600[_601.join("-")]).concat();};return _5b8;});},"mendix/mendix":function(){define("mendix/mendix",["dojo","dijit","dojox","dojo/require!mendix/Client,mendix/lang,mendix/logger,mendix/lib/MxObject,mendix/lib/MxMetaObject,mendix/lib/MxContext,mendix/lib/ObjectValidation,mendix/lib/DataSource,mendix/lib/XPathSourceBase,mendix/lib/XPathSource,mendix/lib/SimpleXPathSource,mendix/lib/EntityPathSource,mendix/lib/MicroflowSource,mendix/lib/ReferenceSetSource,mendix/lib/_ObjectSource,mendix/lib/DirectObjectSource,mendix/lib/SchemaObjectSource,mendix/lib/MicroflowObjectSource,mendix/lib/Upload,mendix/lib/ErrorTypes,mendix/sys/Meta,mendix/sys/Server,mendix/sys/XAS,mendix/sys/Context,mendix/sys/Data,mendix/sys/Session,mendix/sys/Remote"],function(dojo,_602,_603){dojo.provide("mendix.mendix");dojo.require("mendix.Client");dojo.require("mendix.lang");dojo.require("mendix.logger");dojo.require("mendix.lib.MxObject");dojo.require("mendix.lib.MxMetaObject");dojo.require("mendix.lib.MxContext");dojo.require("mendix.lib.ObjectValidation");dojo.require("mendix.lib.DataSource");dojo.require("mendix.lib.XPathSourceBase");dojo.require("mendix.lib.XPathSource");dojo.require("mendix.lib.SimpleXPathSource");dojo.require("mendix.lib.EntityPathSource");dojo.require("mendix.lib.MicroflowSource");dojo.require("mendix.lib.ReferenceSetSource");dojo.require("mendix.lib._ObjectSource");dojo.require("mendix.lib.DirectObjectSource");dojo.require("mendix.lib.SchemaObjectSource");dojo.require("mendix.lib.MicroflowObjectSource");dojo.require("mendix.lib.Upload");dojo.require("mendix.lib.ErrorTypes");dojo.require("mendix.sys.Meta");dojo.require("mendix.sys.Server");dojo.require("mendix.sys.XAS");dojo.require("mendix.sys.Context");dojo.require("mendix.sys.Data");dojo.require("mendix.sys.Session");dojo.require("mendix.sys.Remote");});},"mendix/Client":function(){define("mendix/Client",["dojo","dijit","dojox"],function(dojo,_604,_605){dojo.provide("mendix.Client");mendix.Client=function(_606){_606=_606||{};var _607=function(){var _608=location.href,hash=_608.indexOf("#"),_609;if(hash!=-1){_608=_608.slice(0,hash);}_609=_608.lastIndexOf("/");if(_609==-1){_608+="/";}else{_608=_608.slice(0,_609+1);}return _608;};this.offline=!!_606.offline;this.appUrl=_606.appUrl||_607();this.baseUrl=_606.baseUrl||(this.appUrl+"xas/");this.modulePath=_606.modulePath||"../../widgets/";var self=this,name="mendix.Client",_60a=false,_60b=[],_60c={"meta":mendix.sys.Meta,"server":mendix.sys.Server,"xas":mendix.sys.XAS,"context":mendix.sys.Context,"data":mendix.sys.Data,"session":mendix.sys.Session,"remote":mendix.sys.Remote};var _60d=function(){for(var i in _60c){self[i]=new _60c[i](_606[i]);}};var _60e=function(){var _60f=[],func="startup";for(var i in _60c){var sub=self[i];if(sub[func]){_60f.push((function(sub,id){return function(_610){sub[func](_610);};})(sub,i));}}mendix.lang.sequence(_60f,function(_611){while(_60b.length!=0){_60b.pop()();}_60a=true;});};var _612=function(){var i=0,list=[];for(list[i++] in _60c){}for(var i=0,sys;sys=list[i];i++){self[sys].shutdown();}};var _613=function(_614){mx.server.request({request:{action:"active_modules",params:{}},options:{sync:true,callback:function(stat,mods){var _615=null,_616=null,root=mods&&mods.active_modules;if(root){var _617=root.clientmodules;_616=_617?dojo.map(_617,function(mod){return (/\./.test(mod))?mod:(mod+"."+mod);}):null;_615=root.customwidgets;}_614.callback({modules:typeof mxui!="undefined"?_616:[],widgets:_615});},error:function(){if(_614.error){_614.error(e);}else{_614.callback({modules:null,widgets:null});}}}});};this.toString=function(){return name;};this.startup=function(){_60d();};this.isLoaded=function(){return _60a;};this.registerSubSystem=function(_618,sys,args){var _619=dojo.getObject(sys);if(!_619){logger.error(name+".registerSubSystem: "+_618+" not found");}else{if(_60c[_618]){logger.error(name+".registerSubSystem: "+_618+" already registered");}else{_606[_618]=args;_60c[_618]=_619;}}};this.addOnLoad=function(fnc){_60a?fnc():_60b.push(fnc);};this.login=function(_61a){this.session.authorized({yes:function(){self.ui.hideLogin();_60a&&_612();_60e();},no:function(args){self.ui.setupLoginPage();self.ui.showLogin(dojo.mixin(args,_61a));}});};this.logout=function(_61b){if(_60a){_60a=false;_612();}this.login(_61b);};this.onError=function(err){};};});},"mendix/lang":function(){define("mendix/lang",["dojo","dijit","dojox"],function(dojo,_61c,_61d){dojo.provide("mendix.lang.common");(function(){var wrap=function(_61e,_61f,_620,_621,_622,_623,_624){var _625=_621[_623],_626=_61f+"."+_620+" is deprecated, use "+(_622!=_61f?_622+".":"")+_623+" instead",_627=function(){dojo.deprecated(_626,"",_624);var _628=typeof _621=="function"&&this instanceof _621;return (_628?this:_621)[_623].apply(this,arguments);};if(!_625){_61e.prototype[_620]=_627;}else{if(typeof _625=="function"&&_625.prototype&&!_625.prototype.declaredClass){if(typeof _61e=="function"){_61e.prototype[_620]=_627;}else{_61e[_620]=_627;}}else{_61e[_620]=_625;}}};mendix.lang={map:function(obj,func){var _629=[];if(typeof (obj.push)=="function"){for(var i=0;i<obj.length;i++){_629.push(func(obj[i]));}}else{for(var i in obj){_629.push(func(obj[i]));}}return _629;},nullExec:function(_62a){_62a&&_62a();},sequence:function(_62b,_62c,_62d){if(_62c&&typeof _62c=="object"){_62d=_62c;_62c=null;}if(_62b instanceof Array){var _62e=0,_62f,_630,next,_631=function(){_62f=true;if(_630){next();}};next=function(){while(_62e<_62b.length){_62f=false;_630=false;var func=_62b[_62e++];if(typeof func=="function"){func.call(_62d,_631);}else{if(_62d&&typeof _62d[func]=="function"){_62d[func](_631);}else{throw new Error("mendix.lang.sequence: #"+_62e+" is not a function");}}if(!_62f){_630=true;return;}}if(_62c){_62c.call(_62d);}};next();}else{throw new Error("mendix.lang.sequence: sequence is not an array");}},collect:function(_632,_633,_634){if(_633&&typeof _633=="object"){_634=_633;_633=null;}if(_632 instanceof Array){var _635=0,_636=_632.length+1,_637=function(){if(--_636==0&&_633){_633.call(_634);}};while(_635<_632.length){var func=_632[_635++];if(typeof func=="function"){func.call(_634,_637);}else{if(_634&&typeof _634[func]=="function"){_634[func](_637);}else{throw new Error("mendix.lang.collect: #"+_635+" is not a function");}}}_637();}else{throw new Error("mendix.lang.collect: collection is not an array");}},tryActions:function(_638,_639,_63a){_639=_639||function(e){logger.error(e);throw (e);};var _63b=function(e){_639(e);_63a&&_63a();};(function(_63c,_63d){_63c&&_63c();if(_638.length!=0){try{_638.shift()(arguments.callee,_63b);}catch(e){_63b(e);}}else{_63a&&_63a();}})();},objectToArray:function(obj){var arr=[];for(var i in obj){arr.push(i);}return (arr);},arrayToObject:function(arr){var obj={};for(var i=0;i<arr.length;i++){obj[arr[i]]=arr[i];}return (obj);},thread:function(func,_63e){return setTimeout(dojo.hitch(_63e,func),1);},delay:function(func,_63f,_640){return setTimeout(function(){(_63f())?func():setTimeout(arguments.callee,_640);},(_640||500));},runOrDelay:function(func,_641,_642){if(!_642){_642=500;}if(_641()){return func();}else{return setTimeout(function(){if(_641()){func();}else{setTimeout(arguments.callee,_642);}},_642);}},waitUntilPredicateHolds:function(_643,_644,_645){if(_645.length===0||_643()){_644();return;}var _646=_645.shift();setTimeout(function(){mendix.lang.waitUntilPredicateHolds(_643,_644,_645);},_646);},arraySubtract:function(x,y){for(var i=0;i<y.length;i++){for(var j=x.length-1;0<=j;j--){if(x[j].toString()==y[i].toString()){x.splice(j,1);}}}return x;},objectIsEmpty:function(obj){for(var i in obj){return false;}return true;},firstKey:function(obj){for(var key in obj){return key;}return null;},itemCount:function(obj){var _647=0;for(var i in obj){_647++;}return _647;},inArray:function(arr,_648){var _649=false;for(var i=0;i<arr.length;i++){if(arr[i]==_648){_649=true;}}return _649;},trim:function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");},capitalize:function(str){return str.length>0?str[0].toUpperCase()+str.slice(1):"";},getUniqueId:function(){var _64a=0;mendix.lang.getUniqueId=function(){return (+new Date)+"-"+_64a++;};return mendix.lang.getUniqueId();},override:function(dest){var src,key,val;if(!dest){dest={};}for(var i=1;i<arguments.length;++i){src=arguments[i];if(!src){continue;}for(key in src){val=src[key];if(val!==undefined){dest[key]=val;}}}return dest;},numberTooBig:function(_64b){if(typeof _64b!="number"){_64b=Number(_64b);}return _64b>9007199254740992||_64b<-9007199254740992;},getFileError:function(doc,name){var _64c=null,area,json;area=doc.getElementsByTagName("textarea")[0];if(area){json=dojo.fromJson(area.value);if(json.type&&json.type==="exception"){_64c=new mendix.lib.DescribedServerError(json.description);logger.error((name?(name+": "):"")+_64c.message);_64c._type="exception";}}return _64c;},deprecate:function(){var args=arguments,_64d=args[0],_64e=dojo.getObject(_64d,true),_64f=args[args.length-1];if(args.length<4){if(typeof args[1]=="object"){var _650=args[1];for(var _651 in _650){wrap(_64e,_64d,_651,_64e,_64d,_650[_651],_64f);}}else{var _652=args[1],_653=dojo.getObject(_652);for(var _651 in _653){wrap(_64e,_64d,_651,_653,_652,_651,_64f);}}}else{var _654=args[1],_652=args[2],_653=dojo.getObject(_652),_655=args[3];wrap(_64e,_64d,_654,_653,_652,_655,_64f);}}};})();});},"mendix/logger":function(){define("mendix/logger",["dojo","dijit","dojox"],function(dojo,_656,_657){dojo.provide("mendix.logger");if((dojo.config!=null&&dojo.config.isDebug)||((typeof (djConfig)!="undefined")&&djConfig.isDebug)){window.logger=new (function(){var ALL=this.ALL=0;var _658=this.DEBUG=1;var INFO=this.INFO=2;var WARN=this.WARN=3;var _659=this.ERROR=4;var _65a=WARN;var _65b=null;var _65c=null;var _65d=function(str){};var _65e=function(str){console.warn(str);};var _65f=function(str){console.error(str);};var _660=function(str){};var _661=function(str,_662){var div=_65c.document.createElement("div");var txt=_65c.document.createTextNode(_662.toUpperCase()+": "+str);div.appendChild(txt);_65c.document.body.appendChild(div);div=txt=null;};var _663=function(lvl){return function(str){_661(str,lvl);};};var s={};s[_658]={fnc:_65d};s[INFO]={fnc:_660};s[WARN]={fnc:_65e};s[_659]={fnc:_65f};this.style=function(st){if(st=="window"){_65c=window.open(dojo.moduleUrl("mxui.widget","templates/debug.html"),"Debug","status=1,scrollbars=1,resizable=1");s[_658]={fnc:_663("debug")};s[INFO]={fnc:_663("info")};s[WARN]={fnc:_663("warn")};s[_659]={fnc:_663("error")};}else{if(st=="console"){s[_658]={fnc:_65d};s[INFO]={fnc:_660};s[WARN]={fnc:_65e};s[_659]={fnc:_65f};}}};this.level=function(lvl){_65a=lvl;};this.filter=function(_664){if(typeof (_664)=="object"){_664=_664.id||_664.name;}_65b=new RegExp(_664);};var _665=function(str,lvl){if(lvl>=_65a||lvl==_659){return (_65b==null||lvl==_659)?true:(str.match(_65b)!=null);}else{return false;}};this.error=function(str){if(_665(str,_659)){s[_659].fnc(str);}};this.debug=function(str){if(_665(str,_658)){s[_658].fnc(str);}};this.info=function(str){if(_665(str,INFO)){s[INFO].fnc(str);}};this.warn=function(str){if(_665(str,WARN)){s[WARN].fnc(str);}};this.exception=function(str){s[_659].fnc(str);};this.scream=function(str){console["error"](str);};});}else{(function(){var nop=function(){};window.logger={style:nop,level:nop,filter:nop,error:nop,debug:nop,info:nop,warn:nop,exception:function(){console["error"].apply(console,arguments);},scream:function(str){console["error"](str);}};})();}});},"mendix/lib/MxObject":function(){define("mendix/lib/MxObject",["dojo","dijit","dojox"],function(dojo,_666,_667){dojo.provide("mendix.lib.MxObject");dojo.declare("mendix.lib.MxObject",null,{constructor:function(_668){this.id=this.declaredClass;this.jsonData=_668?_668.json:false;this.metaData=_668?_668.meta:false;this._changeData={};this._backup=null;this._references=null;if(this.jsonData&&this.metaData){this._guid=this.jsonData.guid;this._classname=this.jsonData.objectType;this.id+="("+this._classname+":"+this._guid+")";}if(!this._classname){var _669=this.jsonData&&this.jsonData.objectType;logger.error(this.id+".create: Invalid Mendix object. Check entity access"+(_669?" for entity "+_669:"")+".");this._guid=0;this._classname="";this.jsonData=null;}if(!this._guid){this._guid="0";this.save=this.commit=this.rollback=function(){};}},attachReferences:function(_66a){if(_66a&&_66a.length>0){this._references={};dojo.forEach(_66a,function(_66b){this._references[_66b.getGuid()]=_66b;},this);}},resetFromJSON:function(json){this.jsonData=json;this._changeData={};this._guid=this.jsonData?this.jsonData["guid"]:0;this._backup=null;},getGuid:function(){return (this._guid);},hasChanges:function(){return !mendix.lang.objectIsEmpty(this._changeData);},_collectChanges:function(){return dojo.mixin({},this._changeData);},set:function(attr,_66c){return this._setContent(attr,_66c);},_setContent:function(attr,_66d){if(!(typeof (attr)=="string")){var _66e=this.id+"._setContent : parameter attr ("+attr+") is not of type String.";logger.error(_66e);throw new Error(_66e);}try{if(this.metaData.has(attr)){var _66f=this.get(attr);if(_66f==null&&_66d==""){return false;}if(this.isNumber(attr)||this.isCurrency(attr)){if(mendix.lang.numberTooBig(_66d)){var msg;if(mx.ui&&mx.ui.translate){msg=mx.ui.translate("mendix.lib.Validations","number_too_big");}else{msg="Invalid number: number too big";}mx.data.addValidation(this._guid,attr,msg);return;}}else{if(this.isEnum(attr)){}else{if(this.isDate(attr)){var _670=this.isLocalizedDate(attr);if(_66d!==""){if(_670){_66d=Number(_66d);}else{_66d=mx.parser.delocalizeEpoch(_66d);}}}else{if(this.isPassword(attr)){_66d=_66d.replace(/[\s\t]+$/,"").replace(/^[\s\t]+/,"");}else{if(this.isBoolean(attr)){_66d=!!_66d;}else{if(dojo.isArray(_66d)&&this.isObjectReference(attr)){throw new Error("mendix.lib.MxObject._setContent : trying to set single object reference to multiple values");}else{if(!dojo.isArray(_66d)&&this.isObjectReferenceSet(attr)){throw new Error("mendix.lib.MxObject._setContent : trying to set object reference set to single value");}}}}}}}if(_66d!==_66f){return (this._makeChange(attr,_66d));}}else{return (false);}}catch(e){throw new Error("mendix.lib.MxObject._setContent caught : "+e);}},isReadonlyAttr:function(attr){if(this.has(attr)){var node=this._getAttributeNode(attr);return !!node.readonly;}else{if(this.metaData.has(attr)){return false;}else{return true;}}},fetch:function(path,_671){var self=this,obj=this,_672=null,_673;if(!path){_673=[];}else{if(path instanceof Array){_673=path.slice();}else{_673=path.split("/");}}if(this.isA(_673[0])){_673.shift();}if(typeof _671!="function"){throw new Error(self.id+".fetch : callback is not a function");}var _674=function(){if(_673.length===0){_671(obj);}else{if(_673.length==1){if(_672){mx.data.release(_672);}_671(obj.get(_673[0]));}else{if(_672){mx.data.release(_672);}var ref=_673.shift(),_675=false,_676,type;if(obj.isObjectReference(ref)){var _677=obj.get(ref);if(_677===""){_671(null);return;}if(typeof _677=="object"){_676=[_677.guid];}else{_676=[_677];}}else{if(obj.isObjectReferenceSet(ref)){if(_673.length==1){_675=true;var _678=obj.get(ref);if(_678.length===0){_671(null);return;}if(typeof _676[0]=="object"){_676=[];while(_678.length>0){_676.push(_678.shift().guid);}}else{_676=_678;}}else{throw new Error(self.id+".fetch : "+obj+" reference set should be last reference in path");}}else{return _671(null);}}type=_673.shift();if(!type){throw new Error(self.id+".fetch : no type specified");}if(_676){mx.data.get({guids:_676,callback:function(objs){if(_675){if(objs.length===0||objs[0].isA(type)){_671(objs);}else{_671(null);}}else{_672=obj=objs[0];if(objs.length>1){mx.data.release(objs.slice(1));}if(obj){if(obj.isA(type)){_674();}else{_671(null);}}else{_671(null);}}},error:function(e){throw new Error(self.id+".fetch : could not get objects with GUIDs "+_676);}});}else{throw new Error(self.id+".fetch : "+obj+"'s '"+ref+"' attribute is empty");}}}};_674();},get:function(attr){if(!(typeof (attr)=="string")){var e=this.id+".get : parameter attr "+attr+" is not of type String";logger.error(e);throw new Error(e);}if(this.has(attr)||this.metaData.has(attr)){var _679=(this._changeData[attr]!=null)?this._changeData[attr]:this._getAttributeValue(attr);if(this.isDate(attr)){var _67a=this.isLocalizedDate(attr);if(_679===""||_679==null){_679="";}else{_679=_67a?Number(_679):mx.parser.localizeEpoch(_679);}}else{if(this.isBoolean(attr)){if(typeof _679=="string"&&_679!=""){_679=_679.match(/true/)!=null;}}}return (typeof _679=="object")?dojo.clone(_679):_679;}else{return null;}},has:function(attr){if(!(typeof (attr)=="string")){var e=this.id+".has : parameter attr "+attr+" is not of type String.";logger.error(e);throw new Error(e);}return (this.jsonData!=null&&(attr in this.jsonData.attributes));},getReferences:function(attr){if(!(typeof (attr)=="string")){var e=this.id+".getReferences : parameter attr "+attr+" is not of type String.";logger.error(e);throw new Error(e);}var refs=[];if(this.has(attr)){if(this.isReference(attr)){if(this._hasChildren(attr)&&this._changeData[attr]==null){var _67b=this.getChildren(attr);var _67c=[];for(var i=0;i<_67b.length;i++){_67c.push(_67b[i].getGuid());}refs=_67c;}else{refs=this.get(attr);}if(refs==""){refs=[];}else{if(typeof (refs)=="string"||typeof (refs)=="number"){refs=[refs];}else{if((typeof (refs)=="object")&&(refs.length==null)){refs=mendix.lang.objectToArray(refs);}}}}else{var e=this.id+".getReferences: attribute "+attr+" is not an ObjectReference(Set).";logger.error(e);throw new Error(e);}}else{}return refs;},getReference:function(attr){if(!(typeof (attr)=="string")){var e=this.id+".getReference : parameter attr is not of type String.";logger.error(e);throw new Error(e);}if(this.has(attr)){if(!this.metaData.isObjectReference(attr)){var e=this.id+".getReference: attribute "+attr+" is not an ObjectReference.";logger.exception(e);throw new Error(e);}}else{return null;}if(this._hasChildren(attr)){return (this.getChild(attr)).getGuid();}else{return (this.get(attr));}},isEnum:function(attr){return this.metaData.isEnum(attr);},isNumber:function(attr){return this.metaData.isNumber(attr);},isCurrency:function(attr){return this.metaData.isCurrency(attr);},isPassword:function(attr){return this.metaData.isPassword(attr);},isDate:function(attr){return this.metaData.isDate(attr);},isLocalizedDate:function(attr){return this.metaData.isLocalizedDate(attr);},isBoolean:function(attr){return this.metaData.isBoolean(attr);},isReference:function(attr){return this.metaData.isReference(attr);},isObjectReference:function(attr){return this.metaData.isObjectReference(attr);},isObjectReferenceSet:function(attr){return this.metaData.isObjectReferenceSet(attr);},getOptions:function(attr){return this.metaData.getOptions(attr);},getEnumKeys:function(attr,_67d){return this.metaData.getEnumKeys(attr,_67d);},getEnumMap:function(attr){return this.metaData.getEnumMap(attr);},getEnumKVPairs:function(attr){return this.metaData.getEnumKVPairs(attr);},getEnumValue:function(attr){return this.metaData.getEnumValue(attr,this._getAttributeValue(attr));},getEnumCaption:function(attr){return this.metaData.getEnumCaption(attr,this._getAttributeValue(attr));},hasChildren:function(attr){if(!(typeof (attr)=="string")){var _67e=this.id+".hasChildren : parameter attr ("+attr+") is not of type String.";logger.error(_67e);throw new Error(_67e);}return (this.isReference(attr)&&this._hasChildren(attr));},getChildren:function(attr){if(!(typeof (attr)=="string")){var _67f=this.id+".getChildren : parameter attr ("+attr+") is not of type String.";logger.error(_67f);throw new Error(_67f);}var refs=[];var objs=null;if(this.has(attr)){if(this.isReference(attr)){if(this._hasChildren(attr)){objs=this.get(attr);if(this.isObjectReference(attr)){if(this._references&&this._references[objs]){var _680=this._references[objs];_680._references=this._references;refs.push(_680);}else{refs.push(mx.data.jsonToMxObject(objs));}}else{for(var i in objs){if(this._references&&this._references[objs]){var _680=this._references[i];_680._references=this._references;refs.push(_680);}else{refs.push(mx.data.jsonToMxObject(objs[i]));}}}}else{}}else{var e=this.id+".getChildren: attribute "+attr+" is not an ObjectReference(Set).";logger.exception(e);throw new Error(e);}}else{}return refs;},getChild:function(attr){if(!(typeof (attr)=="string")){var e=this.id+".getChild : parameter attr("+attr+") is not of type String.";logger.error(e);throw new Error(e);}if(this.has(attr)&&this.isObjectReference(attr)){var _681=this.get(attr);if(this._references&&this._references[_681]){var _682=this._references[_681];_682._references=this._references;return _682;}else{if(typeof _681=="object"){return new mendix.lib.MxObject({json:_681,meta:mx.meta.getEntity(_681.objectType)});}else{return null;}}}},removeReferences:function(attr,_683){if(!(typeof (attr)=="string")){var e=this.id+".removeReference : parameter attr is not of type String.";logger.error(e);throw new Error(e);}else{if(this.has(attr)){if(!this.isReference(attr)){var e=this.id+".removeReference : attempt to remove Reference from non-Reference attribute : "+attr;logger.exception(e);throw new Error(e);}}else{return false;}}if(!(dojo.isArray(_683))){_683=[_683];}try{if(!this._hasChildren(attr)){if(this.isObjectReference(attr)){this._setContent(attr,"");}else{this._setContent(attr,mendix.lang.arraySubtract(this.getReferences(attr),_683));}}else{if(this.isObjectReference(attr)){this._setContent(attr,"");}else{for(var i=0;i<_683.length;i++){delete this.jsonData.attributes[attr].value[_683[i]];}var val=mendix.lang.arraySubtract(this.getReferences(attr),_683);return this._makeChange(attr,val);}}}catch(e){logger.error(this.id+".removeReference caught : "+e);return false;}},addReference:function(attr,guid){if(!(typeof (attr)=="string")){var e=this.id+".addReference : parameter attr is not of type String.";logger.error(e);throw new Error(e);}else{if(!guid){var e=this.id+".addReference : parameter guid is not set.";logger.error(e);throw new Error(e);}else{if(this.has(attr)){if(!this.isReference(attr)){var e=this.id+".addReference : attempt to add Reference to non-Reference attribute : "+attr;logger.exception(e);throw new Error(e);}}else{logger.warn(this.id+".addReference : No such attribute in object - "+attr);return false;}}}try{if(this.isObjectReference(attr)){this._setContent(attr,guid);}else{var _684=this.getReferences(attr);var _685=_684.join(";");if(!(_685.match(guid))){_684.push(guid);this._setContent(attr,_684);}}}catch(e){return false;}},addReferences:function(attr,_686){for(var i=0;i<_686.length;i++){var guid=_686[i];if(guid!=0&&!isNaN(guid)){this.addReference(attr,guid);}}},getReferenceAttributes:function(){return this.metaData.getReferenceAttributes();},getAttributes:function(){return this.metaData.getAttributes();},getPrimitives:function(){return this.metaData.getAttributesWithoutReferences();},getAttributeType:function(attr){return this.metaData.getAttributeType(attr);},getSelectorEntity:function(attr){return this.metaData.getSelectorEntity(attr);},getEntity:function(){return (this.jsonData&&this.jsonData["objectType"]);},isA:function(_687){return this.metaData.isA(_687);},hasSuperEntities:function(){return this.metaData.hasSuperEntities();},getSuperEntities:function(){return this.metaData.getSuperEntities();},hasSubEntities:function(){return this.metaData.hasSubEntities();},getSubEntities:function(){return this.metaData.getSubEntities();},reset:function(){this._changeData=this._backup!=null?this._backup:{};},inheritsFrom:function(_688){return this.metaData.inheritsFrom(_688);},compare:function(_689){if(_689.getEntity()!=this.getEntity()){return false;}var _68a=this.getAttributesWithoutReferences();for(var i=0,attr;attr=_68a[i];i++){if(this.get(attr)!=_689.get(attr)){return false;}}var refs=this.getReferenceAttributes();for(var i=0,ref;ref=refs[i];i++){if((ref=="System.changedBy")||(ref=="System.owner")){continue;}var _68b=_689.getReferences(ref);var _68c=this.getReferences(ref);var _68d=_68c.join(",");for(var j=0,id;id=_68b[j];j++){if(!_68d.match(id)){return false;}}}return true;},toString:function(){return this.getGuid();},dump:function(){return dojo.toJson(this.jsonData).replace(/}/g,"}\n");},dumpAttribute:function(attr){return String(this._getAttributeValue(attr));},clean:function(){},_hasChildren:function(attr){if(this._changeData[attr]){return false;}var _68e=this._getAttributeValue(attr);if(this._references&&this._references[_68e]){return true;}return (_68e&&(typeof _68e=="object")&&(_68e.length==null));},_getAttributeValue:function(attr){var val=this.jsonData.attributes[attr];if(val===undefined){val=null;}return (val&&(typeof val=="object")&&("value" in val))?val.value:val;},_setAttributeValue:function(attr,_68f){var val=this.jsonData.attributes[attr];if(_68f===undefined){_68f=null;}if(val&&(typeof (val)=="object")&&"value" in val){val.value=_68f;}else{this.jsonData.attributes[attr]=_68f;}},_getAttributeNode:function(attr){return (this.jsonData.attributes[attr]);},_testArgs:function(_690,args){for(var i=0;i<_690.length;i++){}},_makeChange:function(attr,_691){this._changeData[attr]=_691;mx.data.makeChange(this,attr,_691);return true;},_applyChangeSet:function(){for(var attr in this._changeData){this._setAttributeValue(attr,this._changeData[attr]);}this._backup=this._changeData;this._changeData={};},_commitChangeSet:function(){this._backup=null;}});});},"mendix/lib/MxMetaObject":function(){define("mendix/lib/MxMetaObject",["dojo","dijit","dojox"],function(dojo,_692,_693){dojo.provide("mendix.lib.MxMetaObject");mendix.lib.MxMetaObject=function(_694){var _695=_694.json?_694.json:false;var _696=0;var _697={};var _698={};var _699=[];var _69a={};var _69b={};var _69c={};var self=this;var _69d=0;if(_695){var _69e=_695.guid;var _69f=_695.objectType;}else{var _69e="0";var _69f="";}var _6a0=function(attr){return (_695.attributes[attr]);};this.getGuid=function(){return (_69e);};this.has=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.has: parameter attr is not of type String.");}return (_695.attributes[attr]!=null);};this.isEnum=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isEnum : parameter attr is not of type String.");}var _6a1=this.getAttributeType(attr);return ((_6a1=="Enum")||(_6a1=="EnumSet"));};this.isNumber=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isNumber : parameter attr is not of type String.");}var _6a2=this.getAttributeType(attr);return /Integer|Float|Long|AutoNumber/.test(_6a2);};this.isPassword=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isDate : parameter attr is not of type String.");}var _6a3=this.getAttributeType(attr);return (_6a3=="HashString");};this.isCurrency=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isCurrency : parameter attr is not of type String.");}return (this.getAttributeType(attr)=="Currency");};this.isDate=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isDate : parameter attr is not of type String.");}var _6a4=this.getAttributeType(attr);return ((_6a4=="Date")||(_6a4=="DateTime"));};this.isLocalizedDate=function(attr){if(this.isDate(attr)){return /true/.test(_6a0(attr)["localize"]);}else{return null;}};this.isBoolean=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isBoolean : parameter attr is not of type String.");}var _6a5=this.getAttributeType(attr);return (_6a5=="Boolean");};this.isReference=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isReference : parameter attr is not of type String.");}var _6a6=this.getAttributeType(attr);return (!((_6a6!="ObjectReference")&&(_6a6!="ObjectReferenceSet")));};this.isObjectReference=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isObjectReference : parameter attr is not of type String.");}return (this.getAttributeType(attr)=="ObjectReference");};this.isObjectReferenceSet=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isObjectReferenceSet : parameter attr is not of type String.");}return (this.getAttributeType(attr)=="ObjectReferenceSet");};this.getOptions=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.getOptions : parameter attr is not of type String.");}else{if(!(this.isEnum(attr))){throw new Error("mendix.lib.MxMetaObject.getOptions : attribute '"+attr+"' is not an Enumeration.");}}try{var opts=false;if(_6a0(attr)){var arr=_6a0(attr)["options"];if(arr&&arr.length){opts=[];for(var i=0;i<arr.length;i++){for(var j in arr[i]){opts.push(arr[i][j]);}}}return opts;}}catch(e){return false;}};this.getEnumKeys=function(attr,_6a7){if(!this.isEnum(attr)){}var arr=_6a0(attr)["options"];var hash={};var ret=[];if(typeof (_6a7)=="string"){_6a7=_6a7.split(/,/);}for(var i=0;i<arr.length;i++){for(var j in arr[i]){hash[j]=arr[i][j];}}for(var i in hash){for(var j=0;j<_6a7.length;j++){if(_6a7[j]==hash[i]){ret.push(i);}}}return (ret.join(","));};this.getEnumMap=function(attr){if(!this.isEnum(attr)){return null;}var map=[];var arr=_6a0(attr)["options"];for(var i=0;i<arr.length;i++){for(var j in arr[i]){map.push({key:j,caption:arr[i][j]});break;}}return map;};this.getEnumKVPairs=function(attr){if(!this.isEnum(attr)){return null;}var map={};var arr=_6a0(attr)["options"];for(var i=0;i<arr.length;i++){for(var j in arr[i]){map[j]=arr[i][j];}}return map;};this.getEnumValue=function(attr,_6a8){return _6a8;};this.getEnumCaption=function(attr,_6a9){if(!this.isEnum(attr)){return null;}var arr=_6a0(attr)["options"];for(var i=0;i<arr.length;i++){var item=arr[i];for(var key in item){if(key==_6a9){return item[key];}}}return _6a9;};this.getReferenceAttributes=function(){var refs=[];for(var i in _695.attributes){if(this.isReference(i)){refs.push(i);}}return refs;};this.getAttributes=function(){var _6aa=[];for(var i in _695.attributes){_6aa.push(i);}return (_6aa);};this.getAttributesWithoutReferences=function(){var _6ab=[];for(var i in _695.attributes){if(!this.isReference(i)){_6ab.push(i);}}return _6ab;};this.getAttributeType=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.getAttributeType : parameter attr is not of type String.");}if(this.has(attr)){return (_6a0(attr)["type"]);}else{return false;}};this.getSelectorEntity=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.getSelectorEntity : parameter attr is not of type String.");}if(this.has(attr)){return _6a0(attr)["klass"];}else{return false;}};this.getEntity=function(){return (_695["objectType"]);};this.isA=function(_6ac){if(this.getEntity()==_6ac){return true;}return this.inheritsFrom(_6ac);};this.hasSuperEntities=function(){return (_695.properties["superclasses"].length!=0);};this.getSuperEntities=function(){var _6ad=_695.properties["superclasses"];if(typeof (_6ad)=="string"){return ([_6ad]);}else{return _6ad;}};this.hasSubEntities=function(){return (_695.properties["subclasses"].length!=0);};this.getSubEntities=function(){var subs=_695.properties["subclasses"];return (typeof (subs)=="string")?[subs]:subs;};this.serialize=function(){alert("mxobject.serialize : XXX");return (dojo.toJson(_695,true));};this.dump=function(){return dojo.toJson(_695).replace(/}/g,"}\n");};this.dumpAttribute=function(attr){return _695.attributes[attr].toSource();};this.inheritsFrom=function(_6ae){var _6af=this.getSuperEntities()||[];for(var i=0,_6b0;_6b0=_6af[i];i++){if(_6ae==_6b0){return true;}var _6b1=mx.meta.getEntity("System.User");if(_6b1.inheritsFrom(_6ae)){return true;}}return false;};};});},"mendix/lib/MxContext":function(){define("mendix/lib/MxContext",["dojo","dijit","dojox"],function(dojo,_6b2,_6b3){dojo.provide("mendix.lib.MxContext");dojo.declare("mendix.lib.MxContext",null,{constructor:function(_6b4){return function(_6b5){this.id=this.ident=++_6b4;this._app_flow_id="";this.trackId="";this.trackClass="";this.trackObject=null;this.localParams={};this.constraintby=[];this._contextStore={};this.saveStore={localParams:{},contexts:{}};if(_6b5){if(_6b5.mxcontext){this.dupFrom(_6b5.mxcontext);}if(_6b5.classname&&_6b5.mendixguid){this.setContext(_6b5.classname,_6b5.mendixguid);}else{if(_6b5.entity&&_6b5.guid){this.setContext(_6b5.entity,_6b5.guid);}}}};}(0),hasTrackEntity:function(){return this.trackClass!="";},hasTrackId:function(){return !!this.trackId;},hasTrackObject:function(){return !!this.trackObject;},getTrackEntity:function(){return this.trackClass;},getTrackId:function(){return this.trackId;},getTrackObject:function(){return this.trackObject;},setTrackEntity:function(_6b6){this.trackClass=_6b6;},setTrackId:function(guid){this.trackId=guid;this.trackObject=null;},setTrackObject:function(obj){if(obj){this.setContext(obj.getEntity(),obj.getGuid());}this.trackObject=obj;},setObject:function(obj,_6b7,guid){if(obj){this.setContext(obj.getEntity(),obj.getGuid());}else{this.trackId=guid||"";if(_6b7){this.trackClass=_6b7;}}this.trackObject=obj;},getObject:function(){return this.trackObject;},setConstraints:function(_6b8){if(!(_6b8==null||_6b8==""||_6b8.length==0)){if(typeof _6b8=="string"){this.constraintby=_6b8.split(",");}else{this.constraintby=_6b8;}}},getConstraints:function(){var t=[];for(var i=0;i<this.constraintby.length;i++){t.push(this.constraintby[i]);}return t;},hasBacktrack:function(){return this.constraintby.length!=0;},getContexts:function(){var c=[];for(var i in this._contextStore){if(typeof i!="undefined"&&this._contextStore[i]!=""){c.push(i);}}return c;},setContext:function(_6b9,guid){if((arguments.length==1)&&(arguments[0] instanceof mendix.lib.MxObject)){var _6ba=arguments[0];_6b9=_6ba.getEntity(),guid=_6ba.getGuid();}if(typeof _6b9!="string"){throw new Error("mendix.lib.MxContext.setContext: parameter className is not of type String");}else{if(String(guid).match(/^[0-9]+$/)==null){}}if(guid==null){guid="";}if(this._contextStore[_6b9]!=null){}else{}this.setTrackId(guid);this.setTrackEntity(_6b9);this._contextStore[_6b9]=guid;},unsetContext:function(_6bb){if(typeof _6bb!="string"){throw new Error("mendix.lib.MxContext.unsetContext: parameter className is not of type String");}if(this._contextStore[_6bb]!=null){}else{}delete this._contextStore[_6bb];},getContext:function(_6bc){if(typeof _6bc!="string"){throw new Error("mendix.lib.MxContext.getContext: parameter className is not of type String");}if(!this.hasContext(_6bc)){return false;}else{return this._contextStore[_6bc];}},hasContext:function(_6bd){if(typeof _6bd!="string"){throw new Error("mendix.lib.MxContext.hasContext: parameter className is not of type String");}return this._contextStore[_6bd]!==undefined;},reset:function(){this._contextStore={};this.trackId=null;this.trackClass="";this.trackObject=null;},dupFrom:function(_6be){this.reset();this.mixin(_6be);},mixin:function(_6bf){if(_6bf){var _6c0=_6bf.getContexts();for(var i=0,c;c=_6c0[i];i++){this.setContext(c,_6bf.getContext(c));}this.setParams(_6bf.getParams());this.setConstraints(_6bf.getConstraints());this.setContext(_6bf.getTrackEntity(),_6bf.getTrackId());this.setTrackObject(_6bf.getTrackObject());}else{var _6c1=this.getTrackEntity();if(_6c1){this.unsetContext(_6c1);}this.setTrackId("");this.setTrackEntity("");this.setTrackObject(null);}},save:function(){var _6c2=this.saveStore={contexts:{},localParams:{}};for(var i in this._contextStore){_6c2.contexts[i]=this._contextStore[i];}for(var i in this.localParams){_6c2.localParams[i]=this.localParams[i];}},restore:function(){var _6c3=this.saveStore;this._contextStore={};this.localParams={};for(var i in _6c3.contexts){this._contextStore[i]=_6c3.contexts[i];}for(var i in _6c3.localParams){this.localParams[i]=_6c3.localParams[i];}},hasParam:function(key){return (key in this.localParams);},getParam:function(key){if(!this.hasParam(key)){return null;}return this.localParams[key];},getParams:function(){return this.localParams;},setParam:function(key,_6c4){if(key==null){throw new Error("mendix.lib.MxContext["+this.ident+"].setParam key is null");}this.localParams[key]=_6c4;},setParams:function(obj){if(typeof obj!="object"){throw new Error("mendix.lib.MxContext["+this.ident+"].setParams requires an Object.");}for(var i in obj){this.localParams[i]=obj[i];}},unsetParam:function(key){delete this.localParams[key];},resetParams:function(){this.localParams={};},isEmpty:function(){for(var j in this._contextStore){return true;}},getGuidS:function(){var _6c5=this.getContexts();var _6c6=this.getTrackId();var _6c7=_6c6?[_6c6]:[];for(var i=0,l=_6c5.length;i<l;i++){var c=_6c5[i];if(c!="System.owner"&&c!="System.changedBy"){var guid=this.getContext(c);if(guid!=_6c6){_6c7.push(guid);}}}return _6c7;},dump:function(){var _6c8="";var _6c9=this.getContexts();for(var i=0;i<_6c9.length;i++){var _6ca=_6c9[i];_6c8+=" "+_6ca+": "+this.getContext(_6ca)+";";}return _6c8;},serialize:function(){return dojo.toJson(this._contextStore);},toQuery:function(){var _6cb=this._contextStore,_6cc=this.trackId,_6cd=[];for(var i in _6cb){var guid=_6cb[i];if(guid){_6cd[guid==_6cc?"unshift":"push"](i+"="+guid);}}return _6cd.join("&");},freeze:function(){this.setActiveClass=this.setTrackEntity=this.setTrackId=this.setTrackObject=this.setContextFromMxObject=this.setConstraints=this.setBacktrack=this.setContext=this.unsetContext=this.unsetBacktrack=this.reset=this.dupFrom=this.restore=this.setParam=this.setParams=this.unsetParam=this.resetParams=function(){logger.error("mendix.lib.MxContext["+this.ident+"].freeze: context is readonly");return false;};},setAppFlowId:function(_6ce){this._app_flow_id=_6ce;},getAppFlowId:function(){return this._app_flow_id;},toString:function(){return this.ident;}});});},"mendix/lib/ObjectValidation":function(){define("mendix/lib/ObjectValidation",["dojo","dijit","dojox"],function(dojo,_6cf,_6d0){dojo.provide("mendix.lib.ObjectValidation");mendix.lib.MxValidator=mendix.lib.ObjectValidation=function(_6d1){var _6d2=_6d1.msg;var _6d3={};this.getGuid=function(){return mendix.ov.getGuid(_6d2);};this.getFields=this.getAttributes=function(){var _6d4=[];for(var i in _6d3){_6d4.push({name:i,reason:_6d3[i]});}return _6d4;};this.addField=this.addAttribute=function(attr,_6d5){if(_6d3[attr]!=undefined){return false;}else{_6d3[attr]=_6d5;}};this._addFields=function(msg){var _6d6=msg.errorFields;if((this.getGuid()==this.constructor.getGuid(msg))&&_6d6){for(var i=0;i<_6d6.length;i++){_6d3[_6d6[i].name]=_6d6[i].message;}}};this.removeField=this.removeAttribute=function(attr){if(_6d3[attr]!=undefined){delete _6d3[attr];return true;}else{return false;}};this.getErrorReason=this.getReasonByAttribute=function(attr){return (_6d3[attr]);};this.clone=function(){var s=new this.constructor({msg:dojo.clone(_6d2)});for(var i in _6d3){s.addField(i,_6d3[i]);}return s;};this.toString=function(){var _6d7="";var _6d8="";for(var i in _6d3){_6d7=_6d7+""+i+" "+_6d3[i]+_6d8;_6d8="; ";}return _6d7;};this._addFields(_6d2);};mendix.lib.MxValidator.getGuid=mendix.lib.ObjectValidation.getGuid=function(msg){return mendix.ov.getGuid(msg);};mendix.ov={};dojo.mixin(mendix.ov,{getGuid:function(msg){return (msg instanceof mendix.lib.ObjectValidation)?msg.getGuid():msg.guid;},getValidationByGUID:function(_6d9,g){var raw=this._getRawValidations(_6d9)||_6d9;var vobj=null;dojo.forEach(raw,function(msg){var guid=mendix.ov.getGuid(msg);if(guid==g){if(vobj){vobj._addFields(msg);}else{vobj=new mendix.lib.ObjectValidation({msg:msg});}}});return vobj;},hasValidations:function(_6da){return (_6da.datavalidation!=null);},_getRawValidations:function(_6db){if(typeof _6db.datavalidation=="string"){logger.error("Server message error : validations included as type String instead of Array, compensating via eval");_6db.datavalidation=dojo.fromJson(_6db.datavalidation);}return _6db.datavalidation;},getValidations:function(_6dc){var _6dd=[];var map={};var raw=this._getRawValidations(_6dc)||_6dc;if(raw){dojo.forEach(raw,function(msg){var guid=mendix.ov.getGuid(msg);if(!map[guid]){map[guid]=new mendix.lib.ObjectValidation({msg:msg});_6dd.push(map[guid]);}else{map[guid]._addFields(msg);}});}map=null;return _6dd;},getValidation:function(msg){return new mendix.lib.ObjectValidation(msg);}});});},"mendix/lib/DataSource":function(){define("mendix/lib/DataSource",["dojo","dijit","dojox"],function(dojo,_6de,_6df){dojo.provide("mendix.lib.DataSource");dojo.declare("mendix.lib.DataSource",null,{name:"mendix.lib.DataSource",context:null,_pageSize:0,_offset:0,_pageObjs:null,_setsize:0,_holdObjs:null,_schemaId:"",constructor:function(args){this.context=args.context;this._pageSize=args.page||20;this._offset=args.offset||0;this._pageObjs=[];this._holdObjs=[];this._schemaId=args.queryid||"";if(args.load){logger.scream(this.name+".constructor : Do not pass callbacks into a constructor! Stop doing this!");mendix.lang.thread(args.load);}},reload:function(_6e0){_6e0&&_6e0();},refresh:function(_6e1){_6e1&&_6e1();},update:function(_6e2){_6e2&&_6e2();},entityUpdate:function(_6e3){_6e3&&_6e3();},isValid:function(_6e4){_6e4&&_6e4(true);},destroy:function(){},_setSetSize:function(n){this._setsize=n;},_setObjects:function(objs){this._pageObjs=objs;},getSetSize:function(){return this._setsize||0;},getObjects:function(){return this._pageObjs||[];},getPageSize:function(){return this._pageSize||0;},setPageSize:function(n,_6e5){this._pageSize=n;if(_6e5){this.refresh(_6e5);}},getOffset:function(){return this._offset||0;},setOffset:function(n,_6e6){this._offset=n;if(_6e6){this.refresh(_6e6);}},first:function(_6e7){this._offset=0;if(_6e7){this.refresh(_6e7);}},last:function(_6e8){var _6e9=this.getSetSize();if(this._pageSize>=_6e9){this._offset=0;}else{this._offset=Math.floor((_6e9-1)/this._pageSize)*this._pageSize;}if(_6e8){this.refresh(_6e8);}},toPage:function(n,_6ea){var off=(n-1)*this._pageSize;if(off>=0&&off<this.getSetSize()){this._offset=off;}if(_6ea){this.refresh(_6ea);}},next:function(_6eb){if(this.atEnd()){this._offset=this.getSetSize()-this._pageSize;}else{this._offset=this._offset+this._pageSize;}if(_6eb){this.refresh(_6eb);}},previous:function(_6ec){if((this.getSetSize()<this._pageSize)||((this._offset-this._pageSize)<=0)){this._offset=0;}else{this._offset-=this._pageSize;}if(_6ec){this.refresh(_6ec);}},getStatusMessage:function(){var st=0,en=0,_6ed=this.getSetSize();if(_6ed!=0){st=this._offset+1;en=Math.min(this._offset+this._pageSize,_6ed);}return mx.ui.translate("mxui.lib.MxDataSource","status",[st,en,_6ed]);},generateExport:function(args){args.callback&&args.callback();},atBeginning:function(){return (this._offset==0);},atEnd:function(){return (this._offset>=(this.getSetSize()-this._pageSize));},getAttributes:function(attr){return dojo.map(this.getObjects(),function(obj){return obj.get(attr);});},getObject:function(guid){var objs=this.getObjects();for(var i=0,obj;obj=objs[i];++i){if(obj.getGuid()==guid){return obj;}}return null;},each:function(func){return dojo.map(this.getObjects(),func);},insertMxObjectAtStart:function(obj){var objs=this._pageObjs;objs.unshift(obj);if(this._pageSize<objs.length){objs.pop();}this._setsize++;},insertMxObjectAtEnd:function(_6ee){var objs=this._pageObjs;objs.push(_6ee);if(this._pageSize<objs.length){objs.shift();}this._setsize++;},clean:function(_6ef){this._setsize=0;this._offset=0;this._pageObjs=[];_6ef&&_6ef();},hold:function(objs){if(this._holdObjs.length){this.release();}this._holdObjs=this._holdObjs.concat(objs);},release:function(){mx.data.release(this._holdObjs);this._holdObjs=[];},destroy:function(){this.release();},toString:function(){return this.name;}});(function(){var _6f0=mendix.lib.DataSource.prototype;_6f0.size=_6f0.getSize=_6f0.getSetSize;_6f0.getGeneratedXPath=_6f0.getCurrentXPath;})();});},"mendix/lib/XPathSourceBase":function(){define("mendix/lib/XPathSourceBase",["dojo","dijit","dojox"],function(dojo,_6f1,_6f2){dojo.provide("mendix.lib.XPathSourceBase");dojo.declare("mendix.lib.XPathSourceBase",[mendix.lib.DataSource],{name:"mendix.lib.XPathSourceBase",_sorting:null,_constraints:"",_staticconstraint:"",_aggData:null,_aggregates:false,_filter:null,constructor:function(args){this._sorting=args.sortparams||[];this._aggregates=args.aggregates||false;this._attributes=args.attributes||null;this._depth=args.depth||0;this._staticconstraint=args.constraint||"";},setConstraints:function(c,_6f3){this._constraints=c;this.first();if(_6f3){this.refresh(_6f3);}},getConstraints:function(){return this._constraints;},getStaticConstraint:function(){return this._staticconstraint;},getFilterOptions:function(){var _6f4={offset:this.getOffset(),limit:this.getPageSize(),sort:this._sorting};if(this.attributes){_6f4.attributes=this.attributes;}if(this._schemaId){_6f4.id=this._schemaId;}if(this._depth){_6f4.depth=this._depth;}return _6f4;},getSortSettings:function(){return this._sorting;},setSortOptions:function(_6f5,_6f6,push){this._offset=0;if(_6f5==null||_6f5===""){throw new Error(this.name+".setSortOptions : illegal sorton parameter!");}else{_6f6=(_6f6===""||_6f6==null)?"asc":_6f6;if(push){this._sortFilter(_6f5,_6f6);}else{this._sorting=[[_6f5,_6f6]];}}},getAggregates:function(){return this._aggData;},getCurrentXPath:function(){return "";},_sortFilter:function(_6f7,_6f8){var _6f9=false;for(var i=0,e;e=this._sorting[i];++i){if(e[0]==_6f7){this._sorting[i]=[_6f7,_6f8];_6f9=true;continue;}}if(!_6f9){this._sorting.push([_6f7,_6f8]);}},_setAggregates:function(obj){this._aggData=obj;}});});},"mendix/lib/XPathSource":function(){define("mendix/lib/XPathSource",["dojo","dijit","dojox"],function(dojo,_6fa,_6fb){dojo.provide("mendix.lib.XPathSource");dojo.declare("mendix.lib.XPathSource",[mendix.lib.XPathSourceBase],{name:"mendix.lib.XPathSource",_entity:"",_xpath:"",_pathConstraint:"",_useContext:false,constructor:function(args){var path=args.path;this._useContext=args.useContext;this._entity=args.entity;if(path){this._pathConstraint="["+path.reverse().join("/")+"=\"[%CurrentObject%]\"]";}},reload:function(_6fc){this._xpath="";this._runSafeQuery(_6fc);},refresh:function(_6fd){this._runSafeQuery(_6fd);},update:function(_6fe){var _6ff=this._xpath;this._actGetXPath(dojo.hitch(this,function(){if(_6ff==this._xpath){mendix.lang.nullExec(_6fe);}else{if(_6fe){this._runQuery(_6fe);}}}));},entityUpdate:function(_700){this._runSafeQuery(_700);},generateExport:function(args){args.params=dojo.mixin({},args.params,{xpath:this.getCurrentXPath(),sort:this.getSortSettings(),gridid:this._schemaId});mx.data.generateExport(args);},getCurrentXPath:function(){return this._xpathString();},isValid:function(_701){if(this.context.hasBacktrack()){mx.data.getBacktrackConstraints(null,this.context,dojo.hitch(this,function(_702,_703){_701&&_701(_703);}),function(e){mx.onError(e);_701&&_701(false);});}else{_701&&_701(true);}},_actGetXPath:function(_704){var exec=mendix.lang.nullExec;if(this._useContext){mx.data.createXPathString({entity:this._entity,context:this.context,callback:dojo.hitch(this,function(_705){this._xpath=_705;exec(_704);}),error:function(e){mx.onError(e);_704&&_704();}});}else{if(this.context&&this.context.hasBacktrack()){mx.data.getBacktrackConstraints(null,this.context,dojo.hitch(this,function(_706,_707){if(_707){this._xpath="//"+this._entity+_706;}else{this._xpath="";}exec(_704);}),function(e){mx.onError(e);_704&&_704();});}else{this._xpath="//"+this._entity;exec(_704);}}},_runSafeQuery:function(_708){var _709=["_runQuery"];if(!this._xpath){_709.unshift("_actGetXPath");}mendix.lang.sequence(_709,_708,this);},_runQuery:function(_70a){var exec=mendix.lang.nullExec,_70b=this._xpathString();if(_70b){mx.data.get({xpath:this.getCurrentXPath(),filter:this.getFilterOptions(),count:true,aggregates:this._aggregates,callback:function(objs,_70c){this._handleObjects(objs,_70c.count,_70c.aggregates,_70a);},error:function(e){mx.onError(e);_70a&&_70a();}},this);}else{this._handleObjects([],0,null,_70a);}},_handleObjects:function(objs,_70d,_70e,_70f){this._setObjects(objs);this._setSetSize(_70d);this._setAggregates(_70e);_70f&&_70f();},_xpathString:function(){var _710=[this._pathConstraint,this.getStaticConstraint(),this.getConstraints()].join(""),_711="";if(this._xpath){var _712=this._xpath+_710;if(/\[%CurrentObject%\]/.test(_712)){var guid=this.context.getTrackId();if(guid){_711=mx.parser.replaceXPathTokens(_712,this.context);}}else{_711=_712;}}return _711;}});});},"mendix/lib/SimpleXPathSource":function(){define("mendix/lib/SimpleXPathSource",["dojo","dijit","dojox"],function(dojo,_713,_714){dojo.provide("mendix.lib.SimpleXPathSource");dojo.declare("mendix.lib.SimpleXPathSource",[mendix.lib.XPathSourceBase],{name:"mendix.lib.SimpleXPathSource",_xpath:"",_count:0,constructor:function(args){var path=args.path;this._xpath="//"+args.entity+this.getStaticConstraint();if(path.length){this._xpath+="["+path.reverse().join("/")+"=\"[%CurrentObject%]\"]";}},reload:function(_715){this._runQuery(_715);},refresh:function(_716){this._runQuery(_716);},update:function(_717){this._runQuery(_717);},getCurrentXPath:function(){return this._xpathString();},entityUpdate:function(_718){this._runQuery(_718);},_runQuery:function(_719){var _71a=this._xpathString();if(_71a){mx.data.get({xpath:this.getCurrentXPath(),filter:this.getFilterOptions(),count:true,callback:function(objs,_71b){this._setObjects(objs);this._setSetSize(_71b.count);mendix.lang.nullExec(_719);},error:function(e){mx.onError(e);mendix.lang.nullExec(_719);}},this);}else{this._setObjects([]);this._setSetSize(0);mendix.lang.nullExec(_719);}},_xpathString:function(){var _71c=this._xpath+this.getConstraints();if(/\[%CurrentObject%\]/.test(_71c)){var guid=this.context.getTrackId();if(guid){return _71c.replace(/\[%CurrentObject%\]/g,this.context.getTrackId());}else{return "";}}else{return _71c;}}});});},"mendix/lib/EntityPathSource":function(){define("mendix/lib/EntityPathSource",["dojo","dijit","dojox","dojo/require!mendix/lib/DataSource"],function(dojo,_71d,_71e){dojo.provide("mendix.lib.EntityPathSource");dojo.require("mendix.lib.DataSource");dojo.declare("mendix.lib.EntityPathSource",mendix.lib.DataSource,{name:"mendix.lib.EntityPathSource",_pathElements:null,_objs:null,constructor:function(args){this.inherited(arguments);this._pathElements=args.path.split("/");},reload:function(_71f){this._runQuery(_71f);},refresh:function(_720){this._pageUpdate(_720);},entityUpdate:function(_721){this._runQuery(_721);},generateExport:function(args){var _722=dojo.map(this._objs,function(obj){return obj.getGuid();});args.params=dojo.mixin({},args.params,{guids:_722,gridid:this._schemaId});mx.data.generateExport(args);},_runQuery:function(_723){this.release();var guid=this.context.getTrackId(this._pathElements[0]);if(guid){mx.data.get({guid:guid,path:this._pathElements[1],callback:function(objs){objs=(objs instanceof Array)?objs:[];this._objs=objs;this.hold(objs);this._pageUpdate(_723);},error:function(e){mx.onError(e);_723&&_723();}},this);}else{this._objs=[];this._pageUpdate(_723);}},_pageUpdate:function(_724){var _725=this.getOffset(),_726=this._objs.slice(_725,_725+this.getPageSize());this._setObjects(_726);this._setSetSize(this._objs.length);mendix.lang.nullExec(_724);}});});},"mendix/lib/MicroflowSource":function(){define("mendix/lib/MicroflowSource",["dojo","dijit","dojox"],function(dojo,_727,_728){dojo.provide("mendix.lib.MicroflowSource");dojo.declare("mendix.lib.MicroflowSource",mendix.lib.DataSource,{name:"mendix.lib.MicroflowSource",_microflow:"",_objs:null,constructor:function(args){this.inherited(arguments);this._microflow=args.microflow;},reload:function(_729){mendix.lang.sequence(["_callMicroflow"],_729,this);},refresh:function(_72a){this._pageUpdate(_72a);},entityUpdate:function(_72b){mendix.lang.sequence(["_callMicroflow"],_72b,this);},generateExport:function(args){var _72c=dojo.map(this._objs,function(obj){return obj.getGuid();});args.params=dojo.mixin({},args.params,{guids:_72c,gridid:this._schemaId});mx.data.generateExport(args);},_callMicroflow:function(_72d){this.release();mx.data.get({microflow:this._microflow,context:this.context,callback:function(objs){this._objs=(objs instanceof Array)?objs:[];this.hold(this._objs);this._pageUpdate(_72d);},error:function(e){mx.onError(e);_72d&&_72d();}},this);},_pageUpdate:function(_72e){var _72f=this.getOffset(),_730=this._objs.slice(_72f,_72f+this.getPageSize());this._setObjects(_730);this._setSetSize(this._objs.length);mendix.lang.nullExec(_72e);}});});},"mendix/lib/ReferenceSetSource":function(){define("mendix/lib/ReferenceSetSource",["dojo","dijit","dojox"],function(dojo,_731,_732){dojo.provide("mendix.lib.ReferenceSetSource");dojo.declare("mendix.lib.ReferenceSetSource",[mendix.lib.XPathSourceBase],{name:"mendix.lib.ReferenceSetSource",_xpath:"",_reference:"",_sourceObject:null,constructor:function(args){this.inherited(arguments);this._xpath="//"+args.entity;this._reference=args.reference;this._selectconstraints="[1=0]";},reload:function(_733){this._runQuery(_733);},refresh:function(_734){this._runQuery(_734);},update:function(_735){this._runQuery(_735);},entityUpdate:function(_736){this._runQuery(_736);},generateExport:function(args){args.params=dojo.mixin({},args.params,{xpath:this.getCurrentXPath(),sort:this.getSortSettings(),gridid:this._schemaId});mx.data.generateExport(args);},getCurrentXPath:function(){return this._xpathString()+this._selectconstraints;},setObject:function(obj){this._sourceObject=obj;},_runQuery:function(_737){var exec=mendix.lang.nullExec;if(this._sourceObject){var refs=this._sourceObject.getReferences(this._reference);if(refs.length>0){var _738=[];for(var i=0,guid;guid=refs[i];++i){_738.push("id=\""+guid+"\"");}this._selectconstraints="["+_738.join(" or ")+"]";mx.data.get({xpath:this.getCurrentXPath(),filter:this.getFilterOptions(),count:true,callback:function(objs,_739){this._setObjects(objs);this._setSetSize(_739.count);exec(_737);},error:function(e){mx.onError(e);exec(_737);}},this);}else{this._selectconstraints="[1=0]";this._setObjects([]);this._setSetSize(0);exec(_737);}}else{exec(_737);}},_xpathString:function(){return this._xpath+this.getStaticConstraint()+this.getConstraints();}});});},"mendix/lib/_ObjectSource":function(){define("mendix/lib/_ObjectSource",["dojo","dijit","dojox"],function(dojo,_73a,_73b){dojo.provide("mendix.lib._ObjectSource");dojo.declare("mendix.lib._ObjectSource",null,{name:"mendix.lib._ObjectSource",context:null,schema:"",_holdObj:null,constructor:function(args){this.context=args.context;this.schema=args.schema;},fetch:function(_73c,_73d){},getRoot:function(){return "";},hasRoot:function(){return !!this.getRoot();},destroy:function(){this.release();},hold:function(obj){if(this._holdObj){this.release();}this._holdObj=obj;},release:function(){if(this._holdObj){mx.data.release([this._holdObj]);}this._holdObj=null;}});});},"mendix/lib/DirectObjectSource":function(){define("mendix/lib/DirectObjectSource",["dojo","dijit","dojox"],function(dojo,_73e,_73f){dojo.provide("mendix.lib.DirectObjectSource");dojo.declare("mendix.lib.DirectObjectSource",[mendix.lib._ObjectSource],{name:"mendix.lib.DirectObjectSource",_path:"",_entity:"",constructor:function(args){this.inherited(arguments);this._path=args.path?args.path.split("/"):[];this._entity=this._path.slice(-1)[0];this._path.shift();},fetch:function(_740,_741){var self=this;var _742=function(obj){if(obj&&obj.isA(self._entity)){_740(obj);}else{_740(null);}};var _743=function(obj){mx.data.fetch(obj,self._path,{usexpath:true,schema:self.schema},function(obj,_744){if(_744){self.hold(obj);}_742(obj);},_741);};this.release();var guid=this.context.getTrackId();if(guid){if(this.context.hasTrackObject()){_743(this.context.getTrackObject());}else{if(this._path.length>0){mx.data.get({guid:guid,callback:function(obj){self.hold(obj);_743(obj);},error:_741});}else{var meta=mx.meta.getEntity(this.context.getTrackEntity());if(meta.isA(this._entity)){mx.data.get({guid:guid,filter:{id:this.schema},callback:function(obj){self.hold(obj);_742(obj);},error:_741});}else{this.hold(null);_740(null);}}}}else{this.hold(null);_740(null);}},getRoot:function(){return this._path.length>0?this._path[0]:"";}});});},"mendix/lib/SchemaObjectSource":function(){define("mendix/lib/SchemaObjectSource",["dojo","dijit","dojox"],function(dojo,_745,_746){dojo.provide("mendix.lib.SchemaObjectSource");dojo.declare("mendix.lib.SchemaObjectSource",[mendix.lib._ObjectSource],{name:"mendix.lib.SchemaObjectSource",fetch:function(_747,_748){if(this.context.hasTrackId()){mx.data.getBySchema({id:this.context.getTrackId(),schema:this.schema,callback:_747,error:_748});}else{_747&&_747();}}});});},"mendix/lib/MicroflowObjectSource":function(){define("mendix/lib/MicroflowObjectSource",["dojo","dijit","dojox"],function(dojo,_749,_74a){dojo.provide("mendix.lib.MicroflowObjectSource");dojo.declare("mendix.lib.MicroflowObjectSource",[mendix.lib._ObjectSource],{name:"mendix.lib.MicroflowObjectSource",_microflow:"",constructor:function(args){this.inherited(arguments);this._microflow=args.microflow;},fetch:function(_74b,_74c){var self=this;this.release();mx.data.get({microflow:this._microflow,context:this.context,callback:function(objs){objs=(objs instanceof Array)?objs:[];if(objs.length>1){mx.data.release(objs.slice(1));}if(objs.length==1){self.hold(objs[0]);_74b(objs[0]);}else{_74b(null);}},error:_74c});}});});},"mendix/lib/Upload":function(){define("mendix/lib/Upload",["dojo","dijit","dojox"],function(dojo,_74d,_74e){dojo.provide("mendix.lib.Upload");dojo.declare("mendix.lib.Upload",null,{constructor:function(args){dojo.mixin(this,args);},upload:function(){if(window.FormData&&window.XMLHttpRequestUpload&&window.FileReader){this._uploadViaFormData();}else{this._uploadViaIFrame();}},_uploadViaFormData:function(){var url=this._determineUrl(),_74f=new FormData(),file=this.form.mxdocument.files[0],self=this;_74f.append("mxdocument",file);var xhr=new XMLHttpRequest(),_750=function(e){var _751=e.loaded*100/e.total;if(_751===_751){self.showProgress(_751);}};xhr.upload.addEventListener("load",_750,false);xhr.upload.addEventListener("progress",_750,false);xhr.onreadystatechange=function(){if(xhr.readyState==4){self.finishUpload(true);if(xhr.status==200){self.callback&&self.callback();return;}var _752=self._getError(xhr.responseText);self.error&&self.error(_752||undefined);}};this.startUpload(true);xhr.open("post",url,true);xhr.send(_74f);},_getError:function(_753){var _754=new DOMParser(),doc,err;if(_753){doc=_754.parseFromString(_753,"text/html");err=mendix.lang.getFileError(doc,this.declaredClass+"._getError");}else{err=mendix.lib.Error(this.declaredClass+"._getError: connection error");}return err;},_determineUrl:function(){var href=window.location.href.match("[^#]*/"),_755=[href+"file?"];_755.push("guid="+this.objectGuid);if(this.maxFileSize){_755.push("maxFileSize="+this.maxFileSize);}_755.push("csrfToken="+mx.session.getCSRFToken());if(typeof this.width!=="undefined"&&typeof this.height!=="undefined"){_755.push("width="+this.width);_755.push("height="+this.height);}return _755.join("&");},_uploadViaIFrame:function(){var form=this.form,self=this;form.action=this._determineUrl();this.startUpload(false);mxui.io.iframe.send({form:form,handleAs:"json",handle:function(_756){try{if(_756 instanceof Error){self.error&&self.error(_756);}else{self.callback&&self.callback();}}finally{self.finishUpload(false);}}});}});});},"mendix/lib/ErrorTypes":function(){define("mendix/lib/ErrorTypes",["dojo","dijit","dojox"],function(dojo,_757,_758){dojo.declare("mendix.lib.Error",Error,{constructor:function(_759,_75a){this.message=_759;this.original=_75a;}});dojo.declare("mendix.lib.ServerError",mendix.lib.Error,{});dojo.declare("mendix.lib.DescribedServerError",mendix.lib.ServerError,{});dojo.declare("mendix.lib.ConnectionError",mendix.lib.Error,{});dojo.declare("mendix.lib.ValidationError",mendix.lib.Error,{});});},"mendix/sys/Meta":function(){define("mendix/sys/Meta",["dojo","dijit","dojox"],function(dojo,_75b,_75c){dojo.provide("mendix.sys.Meta");mendix.sys.Meta=function(_75d){_75d=_75d||{};var self=this,name="mendix.sys.Meta",_75e=false,_75f=null;var _760=function(_761){var _762=function(objs){_75f={};for(var i=0,obj;obj=objs[i];i++){var _763=new mendix.lib.MxMetaObject({json:obj});_75f[_763.getEntity()]=_763;}_761();};_762(mx.session.getConfig("metadata"));};this.toString=function(){return name;};this.startup=function(_764){if(!mx.offline){_760(function(){_75e=true;_764();});}else{_764();}};this.shutdown=function(){_75e=false;_75f=null;};this.isLoaded=function(){return _75e;};this.getMap=function(){return _75e?_75f:null;};this.getEntity=function(_765){var meta=_75f[_765];if(!meta){logger.error("No permission to read or write entity "+_765+", check security!",{modal:true});}return meta;};};});},"mendix/sys/Server":function(){define("mendix/sys/Server",["dojo","dijit","dojox"],function(dojo,_766,_767){dojo.provide("mendix.sys.Server");mendix.sys.Server=function(_768){_768=_768||{};var self=this,name="mendix.sys.Server",_769=false,_76a=0,_76b=[],_76c=[],_76d={},_76e={},_76f=[],_770={},_771={},_772="",_773=0,_774=_768.timeout||0,_775=true,_776=0;var _777=function(){return Number(+new Date()+""+(_76a++%10));};var _778=function(_779){var _77a=_779.asyncid;if(_770[_77a]){logger.error(name+".executeBackgroundJob: job "+_77a+" already exists, aborting");_779.callback&&_779.callback();return;}if(!_779.callback){}var ival=500,imin=500,imax=8000,job=_770[_77a]={callback:_779.callback,error:_779.error},_77b=function(){mx.server.request({request:{action:"poll_background_job",params:{asyncid:_77a}},options:{store:_779.store,callback:function(_77c,_77d,_77e){if(_77d.response&&_77d.response.finished){delete _770[_77a];job.callback&&job.callback(_77c,_77d,_77e);}else{setTimeout(_77b,(ival<imax)?Math.min(ival+=imin,imax):imax);}},error:function(e){logger.error(name+".executeBackgroundJob: "+e.message);_77f(job.error,e);delete _770[_77a];}}});};job.timer=setTimeout(_77b,ival);};var _780=function(_781){if(!_781){self.connectionDown(_775);_775=false;}else{if(_775===false){_775=true;self.connectionUp();}}};var _782=function(req,_783,_784){var stat,err,_785,_786;try{stat=_784.xhr.status;if(stat==12029){stat=0;}}catch(e){stat=0;}_785=_784.xhr.responseText;switch(stat){case 401:case 500:case 550:case 551:case 560:try{if(_785!==""){_786=dojo.fromJson(_785);}else{_786=null;}}catch(e){_77f(req.error,new mendix.lib.ServerError(name+".handleQueued: JSON is incorrect",e),req.failOk);}logger.error(name+": loadHandler: server error: "+dojo.toJson(_784.xhr.responseText));}switch(stat){case 0:case 502:_780(false);err=new mendix.lib.ConnectionError(name+".handleQueued: "+(_785||"connection error"),_783);_77f(req.error,err,req.failOk);return;default:_780(true);}switch(stat){case 200:if(mx.remote.hasInstructions(_783)){mx.remote.execute(_783,req.store);}req.callback&&req.callback("load",_783,_784);break;case 400:case 401:case 402:case 403:case 460:err=new mendix.lib.ServerError(name+".handleQueued: "+_786.result,_783);_77f(req.error,err);mx.logout({http_code:stat});break;case 500:case 550:err=new mendix.lib.ServerError(name+".handleQueued: "+_786.description,_783);_77f(req.error,err,req.failOk);break;case 504:err=new mendix.lib.ServerError(name+".handleQueued: gateway timeout",_783);_77f(req.error,err,req.failOk);break;case 551:mx.remote.execute(_786,req.store,true,function(){if(mx.remote.hasValidation(_786)){var _787=mx.remote.getValidations(_786);mx.data.sendValidationUpdates(_787);req.onValidation&&req.onValidation(_787);}});delete _786.instructions;if(mx.remote.hasValidation(_786)){err=new mendix.lib.ValidationError(name+".handleQueued: validation error",_786);_77f(req.error,err,true);}else{err=new mendix.lib.ServerError(name+".handleQueued: "+_786.description,_783);_77f(req.error,err,req.failOk);}break;case 560:if(mx.remote.hasInstructions(_786)){mx.remote.execute(_786,req.store);delete _786.instructions;}err=new mendix.lib.DescribedServerError(_786.description,_783);logger.error(name+".handleQueued: "+err.message);_77f(req.error,err,req.failOk);break;default:err=new mendix.lib.ServerError(name+".handleQueued: "+_786.description,_783);_77f(req.error,err,req.failOk);}};var _788=function(){var ms=function(n){return "MSXML"+n+".DOMDocument";},res=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)],dom=null;dojo.some(res,function(name){try{dom=new ActiveXObject(name);}catch(e){return false;}_788=function(){return new ActiveXObject(name);};return true;});return dom;};var _789=function(_78a){var _78b=+new Date();_78a.headers={"X-Mx-ReqToken":Number(_78b+""+~~(Math.random()*100000)).toString(16),"X-Csrf-Token":mx.session.getCSRFToken()};_78a.timeout=_774;_78a.start=_78b;var _78c=dojo.rawXhrPost(_78a),xhr=_78c.ioArgs.xhr;if(!dojo.isIE){var _78d=xhr.onerror;xhr.onerror=function(e){_78c.cancel();_78d&&_78d();};}return _78c;};var _78e=function(_78f){var _790=_78f.postData,hash=dojo.toJson(_790),cbq;_78f.seqno=_776++;if(_78f.unique){cbq=[_78f];}else{if(_76d[hash]){cbq=_76d[hash];cbq.push(_78f);return;}else{_76d[hash]=cbq=[_78f];}}for(var guid in _771){_790.releaseids=mendix.lang.objectToArray(_771);_771={};break;}if(!mendix.lang.objectIsEmpty(_76e)){_790.profiledata=self.flushLog();}_78f.postData=dojo.toJson(_78f.postData);var _791={};for(var i in _78f){if(i!="load"&&i!="error"){_791[i]=_78f[i];}}_791.handle=function(_792,_793){_792=_792||{};if(_76d[hash]){delete _76d[hash];}if(this.start){var _794=this.headers["X-Mx-ReqToken"];_76e[_794]=+new Date()-this.start;}while(cbq.length>0){_782(cbq.shift(),_792,_793);}};if(_773){setTimeout(function(){cbq.xhr=_789(_791);},_773);}else{cbq.xhr=_789(_791);}};var _795=function(_796){var _797=[];for(var i=0,_798;_798=_76b[i];i++){_797.unshift(_798);}mendix.lang.sequence(_797,_796);};var _799=function(_79a){if(_79a.async){delete _79a.async;var _79b=dojo.getObject("postData.params",true,_79a),_79c=_79b.asyncid=_777(_79b);_79a.callback=dojo.hitch(this,_778,{asyncid:_79c,callback:_79a.callback,error:_79a.error,store:_79a.store});}var _79d=_79a.postData,_79e=_79d.context;if(_79e){if(_79e instanceof mendix.lib.MxContext){_79d.context=_79e.getGuidS();}else{if(dojo.isNumber(_79e)){_79d.context=[_79e];}}}else{_79d.context=[];}if(_79a.standalone){_78e(_79a);}else{_795(dojo.hitch(null,_78e,_79a));}};var _77f=function(_79f,e,_7a0){if(_79f){_79f(e);}else{if(!_7a0){mx.onError(e);}}};this.toString=function(){return name;};this.startup=function(_7a1){_769=true;_7a1();};this.shutdown=function(){var err=new mendix.lib.ServerError(name+".shutdown: client shutdown");_769=false;for(var i in _76d){var cbq=_76d[i];while(cbq.length){var qr=cbq.shift();try{qr.error&&qr.error(err);}catch(e){}}cbq.xhr&&cbq.xhr.cancel();}for(var job in _770){clearInterval(_770[job].timer);_770[job].error(err);delete _770[job];}_76b=[];_76c=[];_76d={};};this.isLoaded=function(){return _769;};this.setDelay=function(ms){_773=ms;};this.getDelay=function(){return _773;};this.setCacheBust=function(bust){_772=bust;};this.getCacheBust=function(){return _772;};this.flushLog=function(){var log=_76e;_76e={};return log;};this.connectionUp=function(){};this.connectionDown=function(_7a2,_7a3){};this.isConnectionUp=function(){return _775;};this.registerCaller=function(_7a4){if(_7a4&&typeof _7a4=="function"){_76b.push(_7a4);var id=mendix.lang.getUniqueId();_76c.push([id,_7a4]);return id;}return null;};this.unregisterCaller=function(id){for(var i=0,item;item=_76c[i];i++){if(item[0]==id){var fnc=item[1];_76c.splice(i,1);for(var j=0;j<_76b.length;j++){if(_76b[j]==fnc){_76b.splice(j,1);return true;}}}}return false;};this.request=function(_7a5){var _7a6="",_7a7=_7a5.options;if(_7a5.request&&_7a5.request.action){_7a6=_7a5.request.action;}_799({url:dojo.isIE?mx.baseUrl:mx.baseUrl+"#"+_7a6,mimetype:"application/json",contentType:"application/json",handleAs:"json",postData:_7a5.request,unique:_7a7.unique,useCache:_7a7.useCache,preventCache:_7a7.preventCache,store:_7a7.store,handle:_7a7.handle,error:_7a7.error,callback:_7a7.callback,sync:_7a7.sync,async:_7a7.async,onValidation:_7a7.onValidation,standalone:_7a7.standalone,failOk:_7a7.failOk});};this.release=function(guid){_771[guid]=true;};this.xhr=function(_7a8,args,_7a9){var url=mx.appUrl+args.url,_7aa=args.failOk,_7ab=args.handleAs,load=args.load,_7ac=args.error;dojo.xhr(_7a8,dojo.mixin(args,{url:url,failOk:true,timeout:_774,headers:{"X-Csrf-Token":mx.session.getCSRFToken()},error:function(e){var _7ad;if(e.status===0){_7ad=new mendix.lib.ConnectionError(name+".xhr: "+"connection error",e);}else{_7ad=new mendix.lib.ServerError(name+".xhr: "+e.message,e);}_77f(_7ac,_7ad,_7aa);},load:function(_7ae,_7af){if(_7ab=="xml"&&_7ae==null){var text=_7af.xhr.responseText;if(typeof DOMParser=="undefined"){_7ae=_788();_7ae.async=false;_7ae.loadXML(text);}else{var _7b0=new DOMParser();_7ae=_7b0.parseFromString(text,"text/xml");}}load&&load(_7ae);}}),_7a9);};this.get=function(args){args.url+="?"+_772;this.xhr("GET",args);};this.post=function(args){this.xhr("POST",args,true);};};});},"mendix/sys/XAS":function(){define("mendix/sys/XAS",["dojo","dijit","dojox"],function(dojo,_7b1,_7b2){dojo.provide("mendix.sys.XAS");mendix.sys.XAS=function(_7b3){_7b3=_7b3||{};var self=this,name="mendix.sys.XAS",_7b4=false,_7b5={};this.toString=function(){return name;};this.startup=function(_7b6){_7b4=true;_7b6();};this.shutdown=function(){_7b4=false;};this.isLoaded=function(){return _7b4;};this.getTranslations=function(_7b7){mx.server.request({request:{action:"get_translations"},options:{callback:function(stat,obj){_7b7.callback(obj.translations);},error:function(e){if(_7b7.error){_7b7.error(e);}else{_7b7.callback({});}}}});};this.triggerStartup=function(_7b8){_7b8=_7b8||{};mx.server.request({request:{action:"trigger_startup",params:{environment:_7b8.environment}},options:{callback:function(data,json){_7b8.callback&&_7b8.callback();},error:function(e){if(_7b8.error){_7b8.error(e);}else{_7b8.callback&&_7b8.callback();}},useCache:false}});};this.getActiveModules=function(_7b9){if(typeof _7b9.callback!="function"){throw new Error(name+".getActiveModules: no callback specified");}mx.server.request({request:{action:"active_modules",params:{}},options:{sync:true,callback:function(stat,mods){var _7ba=null,_7bb=null,root=mods&&mods.active_modules;if(root){var _7bc=root.clientmodules;_7bb=_7bc?dojo.map(_7bc,function(mod){return (/\./.test(mod))?mod:(mod+"."+mod);}):null;_7ba=root.customwidgets;}_7b9.callback({modules:_7bb,widgets:_7ba});},error:function(){if(_7b9.error){_7b9.error(e);}else{_7b9.callback({modules:null,widgets:null});}}}});};};});},"mendix/sys/Context":function(){define("mendix/sys/Context",["dojo","dijit","dojox"],function(dojo,_7bd,_7be){dojo.provide("mendix.sys.Context");mendix.sys.Context=function(_7bf){_7bf=_7bf||{};var self=this,name="mendix.sys.Context",_7c0=false,_7c1={};this.toString=function(){return name;};this.startup=function(_7c2){_7c0=true;_7c2();};this.shutdown=function(){_7c0=false;};this.isLoaded=function(){return _7c0;};this.get=function(id){return _7c1[id]&&_7c1[id].context;};this.create=function(_7c3,_7c4){var _7c5=new mendix.lib.MxContext(_7c4);_7c1[_7c5.id]={context:_7c5,listeners:_7c3?[_7c3]:[]};return _7c5;};this.clean=function(id,_7c6){var _7c7=_7c1[id];if(_7c7){mendix.lang.arraySubtract(_7c7.listeners,[_7c6]);if(_7c7.listeners.length==0){delete _7c1[id];}else{}}else{}};this.destroy=function(id){delete _7c1[id];};this.subscribe=function(id,_7c8){_7c1[id].listeners.push(_7c8);};this.unsubscribe=function(id,_7c9){var _7ca=_7c1[id],list=_7ca.listeners,_7cb=dojo.indexOf(list,_7c9);if(_7cb!=-1){list.splice(_7cb,1);if(list.length==0){delete _7ca[id];}}};this.unsubscribeAll=function(_7cc){for(var id in _7c1){this.unsubscribe(id,_7cc);}};};});},"mendix/sys/Data":function(){define("mendix/sys/Data",["dojo","dijit","dojox"],function(dojo,_7cd,_7ce){dojo.provide("mendix.sys.Data");mendix.sys.Data=function(_7cf){_7cf=_7cf||{};var self=this,name="mendix.sys.Data",_7d0=false,_7d1={},_7d2={},_7d3={},_7d4={},_7d5={},_7d6=null,_7d7=null,subs={entities:{},guids:{},attrs:{},vals:{}};var _7d8=function(_7d9,_7da,map){if(!_7da){return _7d9;}for(var i in map){if((i in _7da)&&(_7da[i]!=null)){_7d9[i]=_7da[i];}}return _7d9;};var _7db=function(_7dc,_7dd,args,_7de){try{_7dc&&_7dc.apply(_7dd,args||[]);}catch(e){logger.error(name+_7de+" : "+e.message+" "+(_7dd?"("+_7dd+")":""));}};var _7df=function(_7e0,_7e1,e,_7e2){try{if(_7e0){_7e0.call(_7e1,e);}else{logger.error("unhandled error: "+e.message);mx.onError(e);}}catch(err){logger.error("error in "+name+"."+_7e2+" while calling error handler: "+err.message);}};var _7e3=function(ids){var objs=[];for(var i=0,id;id=ids[i++];){if(_7d2[id]!==undefined){objs.push(_7d2[id]);}}return objs;};var _7e4=function(guid){var _7e5=mendix.lang.itemCount;return (_7e5(subs.guids[guid])||_7e5(subs.attrs[guid]));};var _7e6=function(_7e7){var _7e8=0;for(var i=0,guid;guid=_7e7[i];i++){if(_7d2[guid]&&!_7e4(guid)){delete _7d2[guid];delete _7d5[guid];delete _7d3[guid];mx.server.release(guid);_7e8++;}}};var _7e9=function(_7ea,keep,_7eb,_7ec){var _7ed=mendix.lib.MxObject,objs=[],_7ee=[],_7ef=false;if(!(_7ec instanceof Array)){_7ef=!!_7ec;_7ec=[];}for(var i=0,_7f0;_7f0=_7ea[i];++i){var guid=_7f0.guid,_7f1=_7d2[guid],inc=(_7ef||dojo.indexOf(_7ec,guid)>=0)?1:0;if(!keep){delete _7d5[guid];}if(_7eb&&_7f1){if(!keep||!_7f1.hasChanges()){_7f1.resetFromJSON(_7f0);}_7d3[guid]+=inc;objs.push(_7f1);}else{var obj=new _7ed({json:_7f0,meta:mx.meta.getEntity(_7f0.objectType)});if(_7eb){_7d2[guid]=obj;_7d3[guid]=inc;}if(_7f1){_7ee.push(_7f1.getGuid());}objs.push(obj);}}if(!_7eb){_7e6(_7ee);}return objs;};var _7f2=function(_7f3,_7f4,_7f5){var _7f6=function(type,json,evt){var _7f7;if(json.mxobject){_7f7=[json.mxobject];}else{if(json.mxobjects&&json.mxobjects.mxobjects){_7f7=json.mxobjects.mxobjects;if(!_7f7.length){_7f7=[_7f7];}}else{_7f7=json.mxobjects;}}var objs=(_7f7&&_7f7.length)?_7e9(_7f7,true,_7f4,_7f5):[];_7f3(objs,{count:json.count,aggregates:json.aggregates});};return _7f6;};var _7f8=function(_7f9,_7fa){var obj=_7fa,guid=_7f9.getGuid(),_7fb=_7d2[guid];if(obj){if(_7fb){_7fb.resetFromJSON(obj.jsonData);}else{_7fb=_7d2[guid]=obj;_7d3[guid]=0;}if(_7f9!=_7fb){_7f9.resetFromJSON(obj.jsonData);}self.objectUpdateNotification(obj);}else{_7d2[guid]=null;if(_7fb){_7fb.resetFromJSON(null);}}};var _7fc=function(_7fd){var _7fe=_7d1[_7fd].refs;var _7ff=_7d1[_7fd].subClasses;for(var i=0,l=_7ff.length;i<l;i++){_7fe.push(_7ff[i]);}var _800=_7d1[_7fd].superClasses;for(i=0,l=_800.length;i<l;i++){_7fe.push(_800[i]);}return _7fe;};var _801=function(obj){var _802=obj.getEntity(),_803=obj.getAttributes();_7d1[_802]={obj:obj,refs:[],entityClasses:{},typeEntities:{},subClasses:{},superClasses:{},referenceSubClasses:{},referenceSuperClasses:{}};for(var i=0;i<_803.length;i++){if(obj.isReference(_803[i])){_7d1[_802].entityClasses[_803[i]]=obj.getSelectorEntity(_803[i]);_7d1[_802].typeEntities[obj.getSelectorEntity(_803[i])]=_803[i];_7d1[_802].refs.push(obj.getSelectorEntity(_803[i]));if(obj.hasSubEntities()){_7d1[_802].subClasses=obj.getSubEntities();}else{_7d1[_802].subClasses=[];}if(obj.hasSuperEntities()){var _804=obj.getSuperEntities();_7d1[_802].ancestor=_804[_804.length-1];}else{_7d1[_802].ancestor=null;}}}};var _805=function(_806){var obj=mx.meta.getEntity(_806);if(obj){_801(obj);var _807=_7fc(_806);while(_807.length){_806=_807.shift();if(_7d1[_806]==null){_805(_806);}}}};var _808=function(_809,_80a){var _80b=_809.obj.getAttributes(),_80c={},_80d="";try{for(var e=0;e<_80b.length;e++){if(!(_809.obj.isReference(_80b[e]))){continue;}_80d=_809.obj.getSelectorEntity(_80b[e]);var _80e=_80a.getContext(_80d);if(_80e){_80c[_80b[e]]=_80e;}if(_7d1[_80d]!=null){if(_7d1[_80d].obj.hasSubEntities()){var _80f=_7d1[_80d].obj.getSubEntities();for(var i=0;i<_80f.length;i++){_80e=_80a.getContext(_80f[i]);if(_80e){_80c[_80b[e]]=_80e;continue;}}}else{}if(_7d1[_80d].obj.hasSuperEntities()){var _810=_7d1[_80d].obj.getSuperEntities();for(var i=0;i<_810.length;i++){if(_80a.hasContext(_810[i])){_80c[_80b[e]]=_80a.getContext(_810[i]);continue;}}}else{}}else{}}}catch(err){}return (_80c);};var _811=function(_812,path,_813,_814){var _815=path.split("/");var _816=function(objs){var _817=_815.shift(),ref=_815.shift(),_818="";if(objs==null||objs.length==null||objs.length===0){_813(null);return;}var carr=[];for(var i=0;i<objs.length;i++){if(objs[i]==null){continue;}carr.push("id='"+objs[i].getGuid()+"'");}if(!carr.length){_813(null);return;}var ids=carr.join(" or ");_818="["+ref+"/"+_817+"["+ids+"]]";if(_815.length==1){_813(_818);}else{var _819=_815[0];_817=_815.shift();ref=_815.shift();_813("["+ref+"/"+_817+""+_818+"]");}};var _81a=function(){var _81b=_815.shift(),ref=_815.shift(),_81c;if(_815.length==1){var _81d="["+ref+"='"+_812.getGuid()+"']";_813(_81d);return;}if(mx.meta.getEntity(_81b)==null){_7df(_814,null,new mendix.lib.Error(name+".runMapPath: entity"+_81b+" does not exist"),"runMapPath");return;}if(!_812.isA(_81b)){_7df(_814,null,new mendix.lib.Error(name+".runMapPath: entity "+_812.getEntity()+" is not a "+_81b+" or one of its subclasses"),"runMapPath");return;}if(!_812.has(ref)){_7df(_814,null,new mendix.lib.Error(name+".runMapPath: reference "+ref+" not found in entity "+_81b),"runMapPath");return;}if(_812.get(ref)!==""){self.get({guids:_812.getReferences(ref),callback:_816,error:_814});}else{_813(null);}};_81a();};var _81e=this.getBacktrackConstraints=function(_81f,_820,_821,_822,_823){if(!dojo.isFunction(_822)){_823=_822;_822=null;}self.getBacktrack(_820.getTrackId(),_820.getConstraints(),_821,_822,_823);};this.getBacktrack=function(guid,_824,_825,_826,_827){if(!dojo.isFunction(_826)){_827=_826;_826=null;}if(!_824||_824.length===0){_825.call(_827,"",true);return;}var _828=null,_829=[],_82a=0,_82b=true;var _82c=function(){var path=_824[_82a++];if(path){_811(_828,path,function(_82d){if(_82d){_829.push(_82d);}else{_82b=false;}_82c();},function(e){_7df(_826,_827,e,"getBacktrack");});}else{_825.call(_827,_829.join(""),_82b);}};if(!guid){_825.call(_827,"",false);}else{self.get({guid:guid,callback:function(obj){_828=obj;_82c();},error:function(e){_7df(_826,_827,e,"getBacktrack");}});}};var _82e=function(_82f){var _830=_82f.entity||_82f.className,_831=_7d1[_830],_832=_82f.context,_833=_82f.callback,_834="//"+_831.obj.getEntity(),_835=_808(_831,_832);for(var m in _835){if(m=="System.changedBy"||m=="System.owner"){continue;}if(_831.obj.has(m)){var _836=_831.obj.getAttributeType(m);switch(_836){case "ObjectReference":_834+="["+m+"='"+_835[m]+"']";break;case "ObjectReferenceSet":_834+="["+m+"='"+_835[m]+"']";break;default:}}}var _837=function(_838,_839){_833&&_833(_834+_838,_839);};if(_832.getConstraints().length!==0){_81e(_831.obj,_832,_837,_82f.error);}else{_837("",true);}};var _83a=function(_83b){mx.server.request({request:{action:"retrieve_xpath_aggregate",params:{xpath:_83b.type+"("+_83b.xpath+")",resulttype:_83b.resulttype||"integer"}},options:{callback:function(code,json,evt){var _83c;if(json){if(_83b.resulttype=="float"){_83c=parseFloat(json.value).toFixed(2)||"0.00";}else{_83c=json.value||0;}}else{_83c=0;}_83b.callback&&_83b.callback(_83c);},error:function(e){_7df(_83b.error,null,e,"numericXPathResult");},useCache:false,preventCache:true}});};var _83d=function(_83e){var _83f=[];if(_83e===""){return;}else{if(_83e.match(/^\[[^=\[]+=.[0-9]+./)){var _840=_83e.match(/\[.+?\]/g);for(var i=0;i<_840.length;i++){var part=_840[i];part=part.substr(1,part.length-2);_83f.push({ref:part.match(/[^=]+/)[0],ref_ids:part.match(/\d+/)[0]});}}else{var _840=_83e.match(/\[.+?\]]/g);for(var i=0;i<_840.length;i++){var part=_840[i];part=part.substr(1,part.length-3);var _841=part.split("[");_83f.push({ref:_841[0].split("/")[0],ref_ids:_841[1]});}}}return _83f;};var _842=function(){var left=0;for(var guid in _7d2){if(_7d3[guid]===0&&!_7e4(guid)){delete _7d2[guid];delete _7d3[guid];delete _7d5[guid];mx.server.release(guid);}else{++left;}}};this.toString=function(){return name;};this.startup=function(_843){_7d0=true;_7d6=mx.server.registerCaller(dojo.hitch(this,"xastrigger"));_7d7=window.setInterval(function(){_842();},10000);_843();};this.shutdown=function(){_7d0=false;_7d2={};_7d5={};_7d3={};clearInterval(_7d7);mx.server.unregisterCaller(_7d6);};this.isLoaded=function(){return _7d0;};this.subscribe=function(args,_844){var id=mendix.lang.getUniqueId(),_845=args.entity,guid=args.guid,val=args.val,attr=args.attr,_846=_844?function(){args.callback.apply(_844,arguments);}:args.callback;if(attr){if(!subs.attrs[guid]){subs.attrs[guid]={};}if(!subs.attrs[guid][attr]){subs.attrs[guid][attr]={};}subs.attrs[guid][attr][id]=_846;}else{if(val){if(!subs.vals[guid]){subs.vals[guid]={};}subs.vals[guid][id]=_846;}else{if(guid){if(!subs.guids[guid]){subs.guids[guid]={};}subs.guids[guid][id]=_846;}else{if(_845){if(!subs.entities[_845]){subs.entities[_845]={};}subs.entities[_845][id]=_846;}else{logger.error(name+".subscribe: no 'entity' or 'guid' parameter found");}}}}return {entity:_845,guid:guid,val:val,attr:attr,id:id};};this.unsubscribe=function(args){if(args==null){return;}var id=args.id,_847=args.entity,guid=args.guid,val=args.val,attr=args.attr,_848=mendix.lang.itemCount;if(attr){var _849=subs.attrs[guid];if(!_849){}else{if(!_849[attr]){}else{delete _849[attr][id];if(_848(_849[attr])===0){delete _849[attr];}if(_848(_849)===0){delete subs.attrs[guid];}}}}else{if(val){if(!subs.vals[guid]){}else{delete subs.vals[guid][id];if(_848(subs.vals[guid])===0){delete subs.vals[guid];}}}else{if(guid){var _84a=subs.guids[guid];if(!_84a){}else{delete _84a[id];if(_848(_84a)===0){delete subs.guids[guid];}}}else{if(_847){var _84b=subs.entities[_847];if(!_84b){}else{delete _84b[id];if(_848(_84b)===0){delete subs.entities[_847];}}}}}}};this.update=function(args){var guid=args.guid,_84c=args.entity,attr=args.attr,val=args.val,_84d=args.value,_84e=args.callback;var _84f=function(_850,args){var map=_850?dojo.clone(_850):{};for(var key in map){map[key].apply(null,args);}};if(attr){_84f(subs.attrs[guid]&&subs.attrs[guid][attr],[guid,attr,_84d]);}else{if(guid){_84f(subs.guids[guid],[guid]);}else{if(val){_84f(subs.vals[guid],[guid]);}else{if(_84c){_84f(subs.entities[_84c],[_84c]);}else{logger.error(name+".update: no 'entity' or 'guid' parameter found");}}}}_84e&&_84e();};this.objectUpdateNotification=function(_851){this.update({entity:_851.getEntity()});if(_851 instanceof mendix.lib.MxObject){this.update({guid:_851.getGuid()});}};this.objectPing=function(_852,_853){var guid=_852.getGuid(),list=dojo.clone(subs.guids[guid]),_854=[];if(list){for(var sub in list){_854.push((function(list,sub){return function(cb){try{var _855=list[sub];if(_855.length==2){_855(guid,cb);}else{_855(guid);cb();}}catch(e){if(list){delete list[sub];}cb();}};})(list,sub));}mendix.lang.collect(_854,_853);}else{_853&&_853();}};this.addValidation=function(guid,attr,_856){if(!_7d5[guid]){_7d5[guid]=new mendix.lib.ObjectValidation({msg:{guid:guid}});}_7d5[guid].addField(attr,_856);};this.sendValidationUpdates=function(_857){var guid,list,_858=[];for(var i=0,_859;_859=_857[i];i++){list=subs.vals[_859.getGuid()];var cp=_859.clone(),_85a=cp.getAttributes();if(list){for(var x in list){var _85b=_859.clone();try{list[x]([_85b]);}catch(e){logger.error(name+".sendValidationUpdates: trouble triggering validation update: "+e.message);delete list[x];}var _85c=_85b.getAttributes();dojo.forEach(_85a,function(attr){var name=attr.name,_85d=dojo.some(_85c,function(item){return item.name==name;});if(!_85d){cp.removeAttribute(attr.name);}},this);}}else{}if(cp.getAttributes().length){_858.push(cp);}}mx.ui.validations(_858);};this.action=function(_85e){var _85f=_85e.context,_860=_85e.callback,_861=_85e.error,_862=_85e.onValidation,_863=!!_85e.async,_864=_85e.params,_865=_85e.store;var _866=function(e){_7df(_861,null,e,"action");};mx.server.request({request:{action:"executeaction",params:_864,context:_85f},options:{callback:function(_867,_868,_869){var _86a=_868.actionResult,_86b;if(_86a instanceof Array){_86b=_7e9(_86a,false,true,true);}else{if(typeof _86a=="object"&&_86a.guid){_86b=_7e9([_86a],false,true,true);}else{_86b=_868.actionResult;}}_860&&_860(_86b,_869);},error:_866,store:_865,async:_863,onValidation:_862}});};this.setOrRetrieveMxObject=function(json){return _7e9([json],false,true)[0];};this.get=function(_86c,_86d){var _86e=_86c.xpath,path=_86c.path,id=_86c.guid,ids=(!("guids" in _86c)&&id)?[id]:_86c.guids,_86f=_86c.callback,_870=_86c.error,_871=!!_86c.noCache,_872=!!_86c.count,_873=_86c.filter,_874=!!_86c.aggregates,_875=_86c.context,_876=_86c.microflow,err;if(("guid" in _86c)&&id==null){_7db(_86f,_86d,[null],"");return;}if(!_86e&&!ids&&!_876){err=name+".get: xpath, guid|guids and microflow arguments are undefined";logger.error(err);throw new Error(err);}if(path&&ids.length!=1){throw new Error(name+".get : path can only be used with a single guid");}if(typeof _86f!="function"){err=name+".get: callback is not a function";logger.error(err);throw new Error(err);}else{if(_870&&typeof _870!="function"){err=name+".get: error is not a function";logger.error(err);throw new Error(err);}}if(_873){if(_873.limit){_873.amount=_873.limit;delete _873.limit;}if(_873.references){for(var r in _873.references){var ref=_873.references[r];if(ref.limit){ref.amount=ref.limit;delete ref.limit;}}}}var val=null,_877=_7d8({},_873,!id?{"id":val,"attributes":val,"offset":val,"sort":val,"amount":val,"distinct":val,"references":val,"depth":val}:{"id":val}),_878=function(e){_7df(_870,_86d,e,"get");};if(_877.id&&ids&&!id){delete _877.id;}if(_877.id){delete _877.attributes;delete _877.distinct;}if(_876){var _879=ids?"selection":(_86e?"set":"none"),_87a={actionname:_876,applyto:_879};if(_879=="selection"){_87a.guids=ids;}else{if(_879=="set"){_87a.xpath=_86e;if(_877.sort){_87a.sort=_877.sort;}}}this.action({params:_87a,context:_875,callback:function(_87b,_87c){_86f&&_86f.call(_86d,_87b,_87c);},error:_878});}else{if(path&&ids){mx.server.request({request:{action:"retrieve_by_path",params:{id:ids[0],path:path},context:null},options:{callback:_7f2(function(objs,_87d){_7db(_86f,_86d,[objs,_87d],".get: error in handler for ["+ids+"]");},true,true),error:_878}});}else{if(ids){if(ids.length===0){_7db(_86f,_86d,[id?null:[],{count:0}],".get: error in handler");return;}if(!_871){var objs=_7e3(ids),_87e=objs.length==ids.length;if(_87e){var _87f=objs;if(_877.sort){dojo.forEach(_877.sort,function(sort){var attr=sort[0],dir=sort[1];_87f=_87f.sort(dir=="asc"?function(a,b){a=a.get(attr);b=b.get(attr);if(a<b){return -1;}else{if(a>b){return 1;}}return 0;}:function(a,b){a=a.get(attr);b=b.get(attr);if(a<b){return 1;}else{if(a>b){return -1;}}return 0;});});}var _880=_877.offset;if(_880){var _881=_877.amount;if(_881){_87f=_87f.slice(_880,_880+_881);}else{_87f=_87f.slice(_880);}}for(var i=0,guid;guid=_87f[i];++i){++_7d3[guid];}_7db(_86f,_86d,[id?_87f[0]:_87f,{count:objs.length}],".get: error in handler for ["+ids+"]");return true;}}var _882=_877.attributes==null;mx.server.request({request:{action:"retrieve_by_ids",params:{ids:ids,schema:_877}},options:{callback:_7f2(function(objs,_883){var _884=objs[0];if(id&&_877.id){for(var i=0,obj;obj=objs[i];++i){if(obj.getGuid()==id){_884=obj;break;}}}_7db(_86f,_86d,[id?_884:objs,_883],".get: error in handler for ["+ids+"]");},_882,ids),error:_878}});return true;}else{mx.server.request({request:{action:"retrieve_by_xpath",params:{xpath:_86e,schema:_877,count:_872,aggregates:_874}},options:{callback:_7f2(function(objs,_885){_7db(_86f,_86d,[objs,_885],".get: error in error handler for xpath "+_86e);},false),error:_878}});return true;}}}};this.getBySchema=function(_886,_887){var guid=_886.id,_888=_886.callback;mx.server.request({request:{action:"retrieve_by_id_with_schema",params:_886},options:{callback:function(code,json){var _889=[],_88a;dojo.forEach(json.mxobjects,function(_88b){var _88c=new mendix.lib.MxObject({json:_88b,meta:mx.meta.getEntity(_88b.objectType)});if(_88b.guid==guid){_88a=_88c;}_889.push(_88c);});_88a.attachReferences(_889);_888&&_888(_88a,false);},error:function(e){_7df(_886.error,_887,e,"getBySchema");}}});};this.fetch=function(obj,path,_88d,_88e,_88f){var _890=obj,_891=false,_892,_893,attr;if(dojo.isFunction(_88d)){_88f=_88e;_88e=_88d;}if(!path){_892=[];}else{if(path instanceof Array){_892=path.slice();}else{_892=path.split("/");}}if(obj&&obj.isA(_892[0])){_892.shift();}if(_892.length%2==1){attr=_892.pop();}else{attr="";}if(_88d.schema){_893=_892.splice(-2);}else{_893=[];}var _894=function(_895,ref){if(_895.isObjectReference(ref)){return _895.getReference(ref);}else{if(_895.isObjectReferenceSet(ref)){return _895.getReferences(ref);}else{return _895.get(ref);}}};var _896=function(){if(_890==null){_88e(null,false);}else{if(!attr){_88e(_890,_891);}else{if(attr){_88e(_894(_890,attr),false);}}}};var _897=function(ref){if(_890.getReferences(ref).length===0){_88e([],false);}else{if(_890.hasChildren(ref)){_88e(_890.getChildren(ref),false);}else{mx.data.get({guids:_890.getReferences(ref),filter:{id:_88d.schema},callback:function(objs){_88e(objs,true);},error:_88f});}}};var _898=function(ref,_899){var guid=_890.getReference(ref);if(guid){mx.data.get({guid:guid,filter:{id:_899},callback:function(obj){if(obj){_890=obj;_891=true;_89a();}else{_88e(null,false);}},error:_88f});}else{_88e(null,false);}};var _89b=function(path){var _89c,_89d;if(path.length<3){return false;}_89c=mx.meta.getEntity(path.slice(-3)[0]),_89d=_892.slice(-2)[0];return _89c.isObjectReferenceSet(_89d);};var _89e=function(_89f,type){var _8a0=["//"+type+"[id="+_89f+"]"],_8a1=_89b([type].concat(_892));Array.prototype.push.apply(_8a0,_892);_892=[];mx.data.get({xpath:_8a0.join("/"),callback:function(objs){if(objs.length===0){_88e(null,false);}else{if(attr&&objs.length==1){_890=objs[0];_896();}else{if(!attr){if(_8a1){_88e(objs,false);}else{_890=objs[0];_89a();}}else{_7df(_88f,null,new mendix.lib.Error(name+".fetch"+attr+" is not a reference type"),"fetch");}}}},error:_88f});};var _89a=function(){var ref,type,_8a2,_8a3;if(_892.length+_893.length===0){_896();}else{if(_892.length===0&&_893.length>0){ref=_893.shift();type=_893.shift();if(_890.isObjectReferenceSet(ref)){_897(ref);}else{_898(ref,_88d.schema);}}else{if(_891){mx.data.release(_890);_891=false;}ref=_892.shift();type=_892.shift();if(_890.isObjectReferenceSet(ref)){if(_892.length>0||_893>0){_7df(_88f,null,new mendix.lib.Error(name+".fetch: reference set should be at end of path"),"fetch");}else{_897(ref);}}else{if(_890.isObjectReference(ref)){_8a2=_890.getChild(ref);if(_8a2){_890=_8a2;_89a();}else{_8a3=_890.getReference(ref);if(!_8a3){_88e(null,false);}else{if(_7d2[_8a3]!==undefined){_890=_7d2[_8a3];++_7d3[_8a3];_891=true;_89a();}else{if(_88d.usexpath&&_892.length>0){_89e(_8a3,type);}else{_898(ref);}}}}}else{_7df(_88f,null,new mendix.lib.Error(name+".fetch: attribute "+ref+" is not a reference type"),"fetch");}}}}};_89a();};this.release=function(objs){if(!objs){return;}objs=objs instanceof Array?objs:[objs];var _8a4=[];for(var i=0,len=objs.length;i<len;++i){var obj=objs[i];if(obj){var guid=obj.getGuid();if(_7d3[guid]){if(--_7d3[guid]===0&&!_7e4(guid)){_8a4.push(guid);}}else{}}}_7e6(_8a4);};this.create=function(_8a5,_8a6){var _8a7=_8a5.error,_8a8=_8a5.context,_8a9=_8a5.entity,_8aa=_8a5.persistent,err;if(typeof _8a5.callback!="function"){err=name+".create: callback is not a function";logger.error(err);throw new Error(err);}else{if(_8a7&&typeof _8a7!="function"){err=name+".create: error is not a function";logger.error(err);throw new Error(err);}else{if(typeof _8a9!="string"){err=name+".create: entity is not a string";logger.error(err);throw new Error(err);}}}var _8ab=function(objs){var obj=objs&&objs[0];if(_8a8){self.setObjectToContext(obj,_8a8);}_8a5.callback.call(_8a6,obj);};var _8ac=function(e){_7df(_8a7,_8a6,e,"create");};mx.server.request({request:{action:_8aa?"create":"instantiate",params:{objecttype:_8a5.entity,preventCache:(new Date()).getTime()}},options:{callback:_7f2(_8ab,true,true),error:_8ac}});};this.jsonToMxObject=function(json){return new mendix.lib.MxObject({json:json,meta:mx.meta.getEntity(json.objectType)});};this.remove=function(_8ad,_8ae){var _8af=_8ad.error,_8b0=_8ad.callback,_8b1=("guid" in _8ad)?[_8ad.guid]:_8ad.guids;if(("guids" in _8ad)&&!(_8ad.guids instanceof Array)){throw new Error(name+".remove: parameter guids set but not of type Array");}else{if(_8af&&typeof _8af!="function"){throw new Error(name+".remove: parameter error set but not of type Function");}else{if(_8b0&&typeof _8b0!="function"){throw new Error(name+".remove: parameter callback set but not of type Function");}}}mx.server.request({request:{action:"delete",params:{guids:_8b1}},options:{callback:function(){_7e6(_8b1);mendix.lang.nullExec(_8b0);},error:function(e){_7df(_8af,null,e,"remove");}}});};this.save=function(_8b2,_8b3){var _8b4,_8b5,_8b6,_8b7,guid,msg,emsg=".save: error calling handler",e,_8b8,_8b9,_8ba,_8bb,obj;if(_8b2){_8b6=_8b2.mxobj;_8b4=_8b2.callback;_8b5=_8b2.error;_8b7=_8b2.standalone;}if(typeof _8b4!="function"){e=name+".save: callback is not a function";logger.error(e);throw new Error(e);}else{if(_8b6!=null&&!(_8b6 instanceof mendix.lib.MxObject)){e=name+".save: mxobj is not a MxObject";logger.error(e);throw new Error(e);}}if(_8b6){guid=_8b6.getGuid();emsg=".save: error calling handler for ["+guid+"]";msg=_7d5[guid];if(msg){var data=null;if(msg instanceof Error){data=msg;}else{if(msg){data=new mendix.lib.ValidationError();this.sendValidationUpdates([msg.clone()]);}}_7df(_8b5,_8b3,data,"save");return;}else{if(!_8b6.hasChanges()){_7db(_8b4,_8b3,null,emsg);return;}}}_8b9={};if(!_8b7){_8b8=_7d4;_7d4={};_8ba=0;_8bb=0;for(var id in _8b8){_8bb++;obj=_8b8[id];if(obj.hasChanges()){_8ba++;_8b9[id]=obj._collectChanges();}delete _7d5[id];}if(!_8ba){if(_8bb){}_7db(_8b4,_8b3,null,emsg);return;}}if(_8b6&&!_8b8[guid]){_8b9[guid]=_8b6._collectChanges();_8b8={guid:_8b6};delete _7d4[guid];delete _7d5[guid];}mx.server.request({request:{action:"change",params:_8b9},options:{onValidation:_8b2.onValidation,sync:true,unique:true,callback:function(){for(var guid in _8b8){_8b8[guid]._applyChangeSet();}_8b8=null;_7db(_8b4,_8b3,null,emsg);},error:function(e){data=e.original||{};var _8bc=false,_8bd=guid,ov=mendix.ov;if(ov.hasValidations(data)){dojo.forEach(ov.getValidations(data),function(v){var id=v.getGuid();if(_8b8[id]){_7d5[id]=v;delete _8b8[id];}if(_8b6&&id==_8bd){_8bc=true;}});for(var id in _8b8){_8b8[id]._applyChangeSet();}}else{dojo.mixin(_7d4,_8b8);_8bc=true;}_8b8=null;if(_8b6){if(_8bc){_7df(_8b5,null,e,"save");}else{_7db(_8b4,_8b3,null,emsg);}}else{_7db(_8b4,_8b3,null,emsg);}}}});};this.commit=function(_8be,_8bf){var obj,_8c0,_8c1,_8c2,_8c3,guid,e,msg;if(_8be){obj=_8be.mxobj;_8c0=_8be.callback;_8c1=_8be.error;_8c2=_8be.onValidation;_8c3=_8be.context;}if(typeof _8c0!="function"){e=name+".commit: callback is not a function";logger.error(e);throw new Error(e);}else{if(obj!=null&&!(obj instanceof mendix.lib.MxObject)){e=name+".commit: mxobj is not a MxObject";logger.error(e);throw new Error(e);}}if(obj==null){_7db(_8c0,_8bf,null,".commit: error when executing handler");}else{guid=obj.getGuid();msg=".commit: error when executing handler for ["+guid+"]";mx.server.request({request:{action:"commit",params:{guid:guid},context:_8c3},options:{callback:function(){obj._commitChangeSet();delete _7d5[guid];delete _7d4[guid];self.objectUpdateNotification(obj);_7db(_8c0,_8bf,null,msg);},error:function(e){_7df(_8c1,null,e,"commit");},onValidation:_8c2,store:_8be.store}});}};this.rollback=function(_8c4,_8c5){var _8c6,obj,_8c7;if(_8c4){_8c6=_8c4.callback;obj=_8c4.mxobj;_8c7=_8c4.error;}var emsg=".rollback: error in handler ",e;if(typeof _8c6!="function"){e=name+".rollback: callback is not a function";logger.error(e);throw new Error(e);}else{if(obj!=null&&!(obj instanceof mendix.lib.MxObject)){e=name+".rollback: mxobj is not a MxObject";logger.error(e);throw new Error(e);}}if(!obj){_7db(_8c6,_8c5,null,emsg);}else{var guid=obj.getGuid(),claz=obj.getEntity();emsg=name+".rollback: error in handler for ["+guid+"]";delete _7d5[guid];delete _7d4[guid];mx.server.request({request:{action:"rollback",params:{guid:guid}},options:{unique:true,standalone:true,callback:_7f2(function(objs){obj._commitChangeSet();obj.reset();_7f8(obj,objs[0]);self.sendClassUpdate(claz);_7db(_8c6,_8c5,null,emsg);},false),error:function(e){_7df(_8c7,null,e,"rollback");}}});}return true;};this.mxObjectsCallback=function(_8c8){return _7f2(_8c8,false);};this.matchObjectsToContext=function(_8c9){var _8ca=_8c9.entity,_8cb=_8c9.context,_8cc=_8c9.mxobjs,_8cd=_8c9.callback,_8ce=[];_81e(mx.meta.getEntity(_8ca),_8cb,function(_8cf){var _8d0=_83d(_8cf);for(var i=0,obj;obj=_8cc[i];i++){var _8d1=0;for(var x=0,_8d2;_8d2=_8d0[x];x++){var ref=_8d2.ref,_8d3=_8d2.ref_ids,ids=obj.getReferences(ref),_8d4=false;if(ids!==false){for(var j=0;j<ids.length;j++){if(_8d3.match(ids[j])){_8d4=true;break;}}}_8d4&&_8d1++;}if(_8d1==_8d0.length){_8ce.push(obj);}}_8cd(_8ce);});};this.createXPathString=function(_8d5){var _8d6=_8d5.callback,_8d7=_8d5.entity||_8d5.className,_8d8=_8d5.context;var _8d9=_8d8&&_8d8.getContexts();if(!_8d9||_8d9.length===0){_8d6("//"+_8d7);return;}if(_7d1[_8d7]==null){_805(_8d7);}_82e(_8d5);};this.generateExport=function(_8da){mx.server.request({request:{action:"export",params:_8da.params},options:{callback:_8da.callback,error:function(e){_7df(_8da.error,null,e,"generateExport");},useCache:false,async:true}});};this.setObjectToContext=function(_8db,_8dc){if(typeof _8db!="object"){throw new Error(name+".setObjectToContext: parameter mxObj is not of type Object");}else{if(typeof _8dc!="object"){throw new Error(name+".setObjectToContext: parameter context is not of type Object");}}try{var _8dd=_8db.getAttributes();for(var e=0;e<_8dd.length;e++){if(_8db.isReference(_8dd[e])){var _8de=_8db.getSelectorEntity(_8dd[e]);if((_8dd[e]=="System.owner")||(_8dd[e]=="System.changedBy")){continue;}if(_8dc.hasContext(_8de)){_8db.addReference(_8dd[e],_8dc.getContext(_8de));}if(_7d1[_8de]!=null){if(_7d1[_8de].obj.hasSubEntities()){var _8df=_7d1[_8de].obj.getSubEntities();for(var i=0;i<_8df.length;i++){if(_8dc.hasContext(_8df[i])){_8db.addReference(_8dd[e],_8dc.getContext(_8df[i]));continue;}}}else{}}else{}}}}catch(err){}};this.sumOfXPathSet=function(_8e0){_8e0.type="sum";_83a(_8e0);};this.countOfXPathSet=function(_8e1){_8e1.type="count";_83a(_8e1);};this.sizeOfXPathSet=function(_8e2){_8e2.type="count";_83a(_8e2);};this.avgOfXPathSet=function(_8e3){_8e3.type="avg";_83a(_8e3);};this.maxOfXPathSet=function(_8e4){_8e4.type="max";_83a(_8e4);};this.minOfXPathSet=function(_8e5){_8e5.type="min";_83a(_8e5);};this.makeChange=function(_8e6,attr,_8e7){var guid=_8e6.getGuid();_7d4[guid]=_8e6;delete _7d5[guid];var _8e8=_7d2,_8e9=_8e8[guid];if(_8e9&&_8e6!=_8e9){_8e9._makeChange(attr,_8e7);}else{this.update({guid:guid,attr:attr,value:_8e7});}};this.xastrigger=function(_8ea){if(mendix.lang.itemCount(_7d4)===0){_8ea&&_8ea();}else{this.save({mxobj:null,callback:_8ea});}};this.sendClassUpdate=function(_8eb){var obj=mx.meta.getEntity(_8eb);obj&&this.objectUpdateNotification(obj);};};});},"mendix/sys/Session":function(){define("mendix/sys/Session",["dojo","dijit","dojox"],function(dojo,_8ec,_8ed){dojo.provide("mendix.sys.Session");mendix.sys.Session=function(_8ee){_8ee=_8ee||{};var self=this,name="mendix.sys.Session",_8ef=false,_8f0=null,_8f1=[],_8f2=null,_8f3=0,_8f4=null,_8f5=false,_8f6={},_8f7=null,_8f8=null,_8f9={obj:null,guid:null,roles:null,lang:null,sessionid:null};var _8fa=function(){mx.server.request({request:{action:"keepalive",params:{preventCache:+new Date()}},options:{failOk:true,standalone:true}});};var _8fb=function(){clearInterval(_8f4);if(_8f3){_8f4=setInterval(_8fa,_8f3);}};var _8fc=function(_8fd){_8f2=mx.data.jsonToMxObject(_8f0.user);_8f1=dojo.map(_8f0.roles,function(role){return mx.data.jsonToMxObject(role);});_8fd();};this.toString=function(){return name;};this.startup=function(_8fe){if(!mx.offline){_8fb();_8fc(function(){_8ef=true;_8fe();});}else{_8fe();}};this.shutdown=function(){clearInterval(_8f4);_8ef=false;_8f1=[];_8f2=null;};this.isLoaded=function(){return _8ef;};this.getConfig=function(path){if(!path){return _8f0;}else{return dojo.getObject(path,false,_8f0);}};this.inDevMode=function(){return _8f5;};this.toggleDevMode=function(){_8f5=!_8f5;};this.isGuest=function(){if(!_8f2||!_8f2.has("IsAnonymous")){return true;}else{return _8f2.get("IsAnonymous");}};this.getUserId=function(){return _8f2&&_8f2.getGuid();};this.getUserClass=function(){return _8f2&&_8f2.getEntity();};this.getUserName=function(){return _8f2&&_8f2.get("Name");};this.getUserAttribute=function(attr){if(_8f2&&_8f2.has(attr)){return _8f2.get(attr);}return null;};this.getUserRoles=function(attr){return attr!=null?mendix.lang.map(_8f1,function(o){return o.get(attr);}):_8f1;};this.getCSRFToken=function(){return this.getConfig("csrftoken");};this.getLicenseInfo=function(){return _8f6;};this.logout=function(){mx.server.request({request:{action:"logout",params:{log:mx.server.flushLog()}},options:{sync:true,callback:function(){mx.logout({no_alert:true});}}});};this.authorized=function(_8ff){var _900=dojo.doc.location.search,_901=dojo.queryToObject(_900.substr((_900[0]==="?"?1:0)));var _902={profile:_901.profile||"",timezoneoffset:new Date().getTimezoneOffset()};if(typeof navigator!="undefined"&&navigator.standalone){_902.longLiveTheCookie=true;}dojo.xhrPost({url:mx.baseUrl,handleAs:"json",contentType:"application/json",postData:dojo.toJson({action:"get_session_data",params:_902}),load:function(data,_903){_8f0=data;var _904=self.getConfig("uiconfig.direction")=="rtl"?dojo.config.rtlRedirect:dojo.config.ltrRedirect;if(_904){self.onRedirect(_904);return;}if(_8f7&&_8f7!=_8f0.cachebust){self.onRedeploy();return;}var v=dojo.version;dojo.config.cacheBust=[v.major,v.minor,v.patch].join("");mx.server.setCacheBust(data.cachebust);_8f3=_8f0.keepalive;if(_8ff.yes){try{_8ff.yes();}catch(e){throw e;}}},error:function(e,_905){if(_905.xhr.status==401){_8f0=dojo.fromJson(_905.xhr.responseText);}if(_8ff.no){_8ff.no({http_code:_905.xhr.status});}}});};this.hasSomeRole=function(_906){if(_906===null){return true;}else{if(!_906){return false;}else{if(!(_906 instanceof Array)){_906=_906.split(",");}}}var _907=this.getUserRoles("Name");for(var i=0;i<_906.length;i++){var role=_906[i];for(var j=0;j<_907.length;j++){var _908=_907[j];if(role==_908){return true;}}}return false;};this.onRedeploy=function(){};this.onRedirect=function(_909){};};});},"mendix/sys/Remote":function(){define("mendix/sys/Remote",["dojo","dijit","dojox"],function(dojo,_90a,_90b){dojo.provide("mendix.sys.Remote");mendix.sys.Remote=function(_90c){_90c=_90c||{};var self=this,name="mendix.sys.Remote",_90d=false,_90e=mendix.sys.Remote,_90f={system:new _90e.SystemCall(),component:new _90e.ComponentCall(),application:new _90e.ApplicationCall()};var _910=function(json,_911){var _912=json.instructions,_913=[];for(var i=0,item;item=_912[i];i++){if(/(open_form|close)/.test(item.type)){_913.push(item);_912.splice(i,1);}}if(_911){}else{_912=_913.concat(_912);}return _912;};this.toString=function(){return name;};this.startup=function(_914){_90d=true;_914();};this.shutdown=function(){_90d=false;};this.isLoaded=function(){return _90d;};this.hasInstructions=function(json){return !!(json&&json.instructions!=null&&json.instructions.length);};this.execute=function(json,_915,_916,_917){if(this.hasInstructions(json)){var _918=[],list=_910(json,_916);if(list.length>10){}for(var i=0,_919;_919=list[i];i++){var _91a=_919.target;if(_90f[_91a]){_918.push(_90f[_91a].buildInstruction(_919,_915||{}));}else{}}mendix.lang.sequence(_918,_917);}else{_917&&_917();}};this.hasValidation=function(_91b){return mendix.ov.hasValidations(_91b);};this.getValidations=function(_91c){return mendix.ov.getValidations(_91c);};};mendix.sys.Remote.SystemCall=function(){var name="mendix.sys.Remote.SystemCall",_91d={text_message:"actTextMessage",refresh_object_list:"actRefreshObjectList",refresh_object:"actRefreshObject",refresh_class:"actRefreshClass",open_form:"actOpenForm",download_file:"actDownloadFile",show_login:"actShowLogin",logout:"logout"};var _91e=function(_91f){var _920=mx.context.create();if(!_91f){return _920;}var _921="",_922=_91f.items||[];for(var i=0,cntx;cntx=_922[i];i++){var guid=cntx.guid,_923=cntx.classname;if(_923&&guid){_920.setContext(_923,guid);if(guid==_91f.activeguid){_921=_923;}}}if(_921){_920.setTrackEntity(_921);}return _920;};var _924=function(_925){return {target:"Screen",params:{title:_925.title,uilocation:_925.uilocation||"content",targeturl:_925.targeturl,width:_925.width,height:_925.height,resizable:_925.resizable,onHide:false,targetparams:{mxcontext:_925.mxcontext}}};};this.actTextMessage=function(_926,_927,_928){var args=_926.args,_929=args.MessageContent,_92a=args.MessageType,_92b=String(args.MessageBlock)=="true";if(_929!=null&&_92a!=null){(mx.ui[_92a.toLowerCase()]||mx.ui.info)(_929,_92b);}else{throw new Error(name+".actTextMessage: message content is null");}_928&&_928();};this.actRefreshObjectList=function(_92c,_92d,_92e){var _92f=_92c.args.ObjectIds,_930=_92c.args.mxobjects,_931=[];if(_930&&_930.length){var _932={},_933=_930.length;while(_933--){var obj=_930[_933];if(typeof obj=="object"&&obj.objectType){var _934=mx.data.setOrRetrieveMxObject(obj);_932[_934.getEntity()]=true;_931.push((function(_935){return function(cb){mx.data.objectPing(_935,cb);};})(_934));}else{logger.error(name+"actRefreshObjectList: invalid json object");}}_931.push(function(cb){for(var _936 in _932){mx.data.sendClassUpdate(_936);}cb();});mendix.lang.collect(_931,_92e);}else{_92e&&_92e();}};this.actRefreshClass=function(_937,_938,_939){var _93a=_937.args.ObjectClass;if(_93a!=null){mx.data.sendClassUpdate(_93a);}else{}_939&&_939();};this.actOpenForm=function(_93b,_93c,_93d){var _93e=_91e(_93b.context),args=_93b.args,_93f=String(args.FormTarget).toLowerCase();if(args.FormGuid){_93e.setContext(args.FormEntity,args.FormGuid);}mx.ui.openForm(args.FormPath,{title:args.FormTitle,location:(_93f=="window")?"popup":_93f,width:args.FormWidth,height:args.FormHeight,resizable:args.FormResizable,context:_93e,dir:_93c.dir});_93d&&_93d();};this.actDownloadFile=function(_940,_941,_942){var _943=_940.args.FileDocument,_944=_940.args.Target;if(!_943){_942&&_942();return;}mx.ui.downloadFile({mxobject:mx.data.setOrRetrieveMxObject(_943),target:_944});_942&&_942();};this.actShowLogin=function(_945,_946,_947){mx.ui.showLogin();_947&&_947();};this.logout=function(_948,_949,_94a){mx.logout();_94a();};this.buildInstruction=function(_94b,_94c){var _94d=_91d[_94b.type];return _94d?dojo.hitch(this,_91d[_94b.type],_94b,_94c):function(_94e){_94e&&_94e();};};};mendix.sys.Remote.ComponentCall=function(){var name="mendix.sys.Remote.ComponentCall";this.buildInstruction=function(_94f,_950){var _951=_950.caller;return _951&&_951.hasInterface&&_951.hasInterface(_94f.type)?function(_952){try{_951.invokeCall(_94f.type,_94f.args);}catch(e){logger.error(name+".buildInstruction: error occurred while executing instruction: "+e.message);}_952&&_952();}:function(_953){_953&&_953();};};};mendix.sys.Remote.ApplicationCall=function(){var name="mendix.sys.Remote.ApplicationCall";this.buildInstruction=function(_954,_955){return function(_956){_956&&_956();};};};});},"mxui/wm/focus":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_base/focus,mxui/dom/common"],function(dojo,_957,_958){dojo.provide("mxui.wm.focus");dojo.require("dijit._base.focus");dojo.require("mxui.dom.common");mxui.wm.focus.Stack={create:function(){var _959=[];_959.find=this.find;_959.each=this.each;_959.dump=this.dump;_959.box=null;_959.last=null;_959.first=null;_959.f_first=null;_959.f_last=null;return _959;},buildStack:function(_95a,box){var _95b=null;var _95c=null;var _95d=null;var _95e=null;var _95f=null;var gfd=mxui.wm.focus;var dom=mxui.dom;var _960=mxui.dom.getFocusIndex;var _961=gfd.focusable;var el=mxui.dom.nodeTypes.ELEMENT_NODE;var _962=this.create();_962.box=box=(box||gfd.byNode(_95a));var _963=_95a==box.domNode;var ni=_963?"0":mxui.dom.getTabIndex(_95a);var _964=box.domNode;var _965=null;var _966=null;var _967=null;var _968=null;if(!_963&&!_961(_95a)){_965=_95a;while((_965=_965.parentNode)!=null){var vi=_961(_965);if(vi||_965==_964){_966=_967;break;}_967=_965;}}dom.walkNode(_964,function(node,_969){if(node==_964){return true;}var one=(node==_95a);if(!one){var vi=_961(node);if(!vi){if(_966){if(_968){if(dom.nextNode(_968,_969)){_968=false;}else{return true;}}else{if(node==_966){_968=_969;return true;}}}return vi===0;}}var _96a=this.isBox(node);var ci=_960(node);if(!ci&&_96a){if(mxui.dom.getTabIndex(node)<0){return false;}ci=node.getAttribute("focusIndex")||"0";}if(one||ci){var item={node:node,stack:_962,next:null,prev:null};if(ni==-1){if(_95d){if(_95e==null||(_95e>ci)){_95e=ci;_95f=item;}}else{if(one){_95d=true;}}}if(ci){if(!_95b){_95b=item;}_95c=item;var _96b=_962[ci];if(!_96b){_96b=_962[ci]=[];}_96b.push(item);}else{_962._curr=item;}return false;}},gfd);if(ni==-1){var curr=_962._curr;if(curr){curr.prev=curr.next=_95f;}}_962.each(function(node,_96c,_96d){if(!this.first){this.first=_96c;}var prev=_96c.prev=this.last;if(prev){prev.next=_96c;}this.last=_96c;if(_95a==node){this._curr=_96c;}},null,_962);_962.f_first=_95b;_962.f_last=_95c;return _962;},each:function(fnc,_96e,_96f){if(_96e=="prev"){var i=this.length;while(0<=--i){var _970=this[i];var l=_970&&_970.length;if(l){for(var c=l-1;0<=c;c--){var stop=fnc.call(_96f,_970[c].node,_970[c],i);if(stop!=null){return stop;}}}}}else{var i=-1;while(++i<this.length){var _970=this[i];var l=_970&&_970.length;if(l){for(var c=0;c<l;c++){var stop=fnc.call(_96f,_970[c].node,_970[c],i);if(stop!=null){return stop;}}}}}return null;},find:function(_971){if(this._curr&&this._curr.node==_971){return this._curr;}var ni=mxui.dom.getTabIndex(_971)||"0";var _972=null;var _973=null;var _974=null;if(ni!=-1){var i=ni;do{var _975=this[i];if(_975){for(var c=0,l=_975.length;c<l;c++){var n=_975[c];if(n.node==_971){return n;}}}}while(++i<this.length);}var _976=null;var _977=this.box.domNode;var node=_971;var el=mxui.dom.nodeTypes.ELEMENT_NODE;var _978=mxui.dom.getFocusIndex;var vi=mxui.wm.focus.focusable;while((node=node.parentNode)!=null&&node!=_977){if(!vi(node)){continue;}if(_978(node)){_976=node;}}return _976?this.find(_976):null;},dump:function(str){this.each(function(node,_979){});}};mxui.wm.focus._addon={getFocusStack:function(){var gfd=mxui.wm.focus;var _97a=mxui.dom.getFocusIndex;var _97b=gfd.focusable;var _97c=gfd.Stack.create();_97c.box=this;var _97d=null;var _97e=null;var _97f=false;var _980=this.nodes;for(var i=0,l=_980.length;i<l;i++){var node=_980[i].node;var tab=_97a(node);var vi=_97b(node);if(tab){if(vi){_97d=node;break;}else{_97f=true;node.tabIndex=-1;}}else{if(vi){if(_97f){_97d=node;_97d.tabIndex=1;break;}_97e=node;}}}if(!_97d){_97d=_97e;_97d&&(_97d.tabIndex=1);}if(_97d){_97c.push(_97d);_97c.last=_97c.first=_97c._curr={prev:null,next:null,node:_97d,stack:_97c};}return _97c;},_onmousedown:function(e){var _981=e.target;if(_981.nodeName.toLowerCase()=="option"){_981=_981.parentNode;}var node=_981;var s=null;var _982=this.domNode;var data=mxui.dom.data;do{s=data(node,"box-node");if(s&&s.box==this){break;}}while((node!=null)&&(node!=_982)&&(node=node.parentNode)!=null);if(s){var _983=mxui.dom.getTabIndex(_981);this._focus(s.node,_983!=null);}},_focus:function(_984,_985){var gfd=mxui.wm.focus;var _986=this.getFocusStack();var _987=_986._curr;if(_987){_987.node.tabIndex=-1;}_984.tabIndex=1;_984=gfd._tryNode({node:_984,stack:_986},"next");if(!_985){gfd.put(_984);}},next:function(_988,dir){var data=mxui.dom.data(_988,"box-node");if(data){var _989=this._getNextNode(data,dir);if(_989){var next=_989.node;next.tabIndex=0;_988.tabIndex=-1;return next;}else{}}else{}return null;},_getNextNode:function(_98a,dir){if(!_98a){return null;}var data=_98a;var _98b=mxui.wm.focus.focusable;while((data=data[dir])!=null){var node=data.node;if(_98b(node)){return data;}}return null;}};dojo.declare("mxui.wm.focus.Box",null,{id:null,domNode:null,nested:false,FOCUS_NEXT:"FOCUS_NEXT",FOCUS_PREV:"FOCUS_PREV",constructor:function(node){this.id=mxui.wm.focus.getUniqueId(this);this.domNode=node;this.nodes=[];this.keys={};this.handlers={};node.setAttribute("focus-id",this.id);},add:function(node){var s=mxui.dom.data(node,"box-node",{box:this,next:null,prev:null,node:node});var _98c=this.nodes.length;if(_98c!=0){var prev=this.nodes[_98c-1];s.prev=prev;prev.next=s;node.tabIndex=-1;}else{node.tabIndex=0;}if(!this.converted){this.converted=true;dojo.mixin(this,mxui.wm.focus._addon);this._boxhandler=dojo.connect(this.domNode,"onmousedown",this,"_onmousedown");}this.nodes.push(s);},pressed:function(_98d,_98e){var keys=this.keys;var $=dojo.keys;var hs=this.handlers;for(var key in _98d){var code=$[key]||key;var fnc=_98d[key];if(fnc==this.FOCUS_NEXT){keys[code]="next";}else{if(fnc==this.FOCUS_PREV){keys[code]="prev";}else{if(typeof fnc=="string"){fnc=_98e[type];}if(typeof fnc!="function"){logger.error(this.id+".pressed: Passed stuff is not a function : "+key);}else{if(hs[code]){}hs[code]=[_98e,fnc];}}}}},destroy:function(){if(!this._destroyed){var _98f=this.nodes;for(var i=0,l=_98f.length;i<l;i++){var node=_98f[i].node;mxui.dom.data(node,"box-node",null);}this.nodes=null;this.keys=null;this.handlers=null;this._boxhandler&&dojo.disconnect(this._boxhandler);this._destroyed=true;}},getHandler:function(e){var code=typeof (e.charOrCode)!="undefined"?e.charOrCode:e.keyCode;return this.handlers[(code==" ")?dojo.keys.SPACE:code];},getFocusDirection:function(e){var nav=this.domNode.getAttribute("focuskeys");if(nav){var up,lr;if(nav=="up-down"){if(e.keyCode==dojo.keys.UP_ARROW){up="prev";}else{if(e.keyCode==dojo.keys.DOWN_ARROW){up="next";}}}if(nav=="left-right"){if(e.keyCode==dojo.keys.LEFT_ARROW){lr="prev";}else{if(e.keyCode==dojo.keys.RIGHT_ARROW){lr="next";}}}return up||lr;}else{var code=typeof (e.charOrCode)!="undefined"?e.charOrCode:e.keyCode;code=(code==" ")?dojo.keys.SPACE:code;var key=this.keys[code];if(key){return key;}}return null;},onFocusPress:function(e,_990){var gfd=mxui.wm.focus;var dir=this.getFocusDirection(e);if(e.altKey||e.shiftKey||e.ctrlKey){return true;}if(dir){var data=mxui.dom.data(_990,"box-node");if(data){var next=this.next(_990,dir);if(next){gfd.put(next);return false;}dojo.stopEvent(e);}else{}}else{var h=this.getHandler(e);if(h){try{return h[1].call(h[0],e,_990);}catch(error){logger.error(this.id+".onFocusPress : Error when executing handler : "+error.message);return true;}}}return true;},next:function(_991,dir){var gfd=mxui.wm.focus;var _992=gfd._getStack(_991,this);var next=gfd._doNext(_992.find(_991),dir);return next;}});dojo.mixin(mxui.wm.focus,{name:"mxui.wm.focus",state:{skipCyclic:false,skipReadonly:true},registry:{},boxCounter:{},start:function(){if(this._started){return;}this._started=true;dojo.connect(window.document,"onkeypress",this,"onkeypress");dojo.connect(window.document,"onkeydown",this,"keydownpatch");dojo.connect(_957,"_onFocusNode",this,"onfocus");dojo.connect(_957,"_onBlurNode",this,"_onBlurNode");dojo.connect(document,"onmousedown",this,"blur");var _993=this.state;this.timer_clear=function(){_993._timer=null;_993._shift=false;};},skipCyclic:function(_994){var _995=this.state;_995.skipCyclic=!!_994;},skipReadonly:function(_996){var _997=this.state;_997.skipReadonly=!!_996;},get:function(){var f=_957.getFocus();return f.node;},watch:function(node){var _998=function(evt){};var _999=function(evt){};var _99a=function(){if(dojo.isIE){node.detachEvent("onactivate",_998);node.detachEvent("ondeactivate",_999);}else{node.removeEventListener("focus",_998,true);node.removeEventListener("blur",_999,true);}};if(dojo.isIE){node.attachEvent("onactivate",_998);node.attachEvent("ondeactivate",_999);}else{node.addEventListener("focus",_998,true);node.addEventListener("blur",_999,true);}return _99a;},put:function(node){if(!node||node.nodeType!=1){return false;}if(dojo.isIE){try{document.selection.empty();}catch(e){}}setTimeout(function(){try{node.focus();}catch(e){}var _99b=node.nodeName.toLowerCase();if((_99b=="input"&&node.type=="text")||_99b=="textarea"){node.select&&node.select();}},0);},restore:function(){var _99c=_957.getFocus();if(_99c.node){var node=_99c.node;var _99d=this._getStack(node);var _99e=_99d._curr;node=_99e?this._tryNode(_99e,"next"):null;if(node){this.put(node);}}},first:function(node){this.put(this.getFirst(node,"next"));},last:function(node){this.put(this.getFirst(node,"prev"));},next:function(node){this.put(this._getNextNode(node,false));},prev:function(node){this.put(this._getNextNode(node,true));},blur:function(e){this.state_clear();this._clickedNode=e.target;},_ontab:function(node){var _99f=this.state;var _9a0=_99f._shift;this.timer_clear();var box=null;if(box){}else{this.state_clear();}},onfocus:function(node){if(dojo.isIE){if(!mxui.dom.getTabIndex(node)){return;}}if(node.nodeType!=1){return;}var _9a1=this.state;_9a1.active=node;if(_9a1._timer){this._ontab(node);}else{dojo.addClass(node,"mx-focus");}},_onBlurNode:function(node){dojo.removeClass(node,"mx-focus");},state_clear:function(){var _9a2=this.state;_9a2.node=null;_9a2.box=null;},timer_clear:function(){},next:function(){var _9a3=this.state;if(_9a3.active&&_9a3.active.nodeType==1){var _9a4=_9a3.active;var _9a5=this.byNode(_9a4);if(_9a5){var next=this._getNextNode(_9a4);if(next){this.put(next);}else{}return;}}},keydownpatch:function(e){if(e.keyCode==dojo.keys.UP_ARROW||e.keyCode==dojo.keys.DOWN_ARROW){var _9a6=this.state;this.onkeypress(e);_9a6._patch_inWork=true;setTimeout(function(){_9a6._patch_inWork=null;},10);}},onkeypress:function(e){var _9a7=this.state;if(_9a7._patch_inWork){return;}var _9a8=false;var _9a9=e.shiftKey;var tab=e.keyCode===dojo.keys.TAB;var _9aa=e.target;if(tab){if(_9aa.nodeName.toLowerCase()=="html"){if(this._clickedNode){_9aa=this._clickedNode;}else{return;}}var next=this._getNextNode(_9aa,_9a9);if(next){this.put(next);}else{}dojo.stopEvent(e);}else{var _9ab=_9aa;var box=this.byNode(_9aa);if(box){do{var _9ac=box.domNode;if(box.onFocusPress){if(!box.onFocusPress(e,_9ab)){dojo.stopEvent(e);break;}}_9ab=_9ac;var nn=_9ac.parentNode;}while(nn&&(box=this.byNode(nn))!=null);}}},_getStack:function(_9ad,box){box=(box||this.byNode(_9ad));if(box.getFocusStack){try{return box.getFocusStack(_9ad);}catch(e){var _9ae=this.Stack.create();_9ae.box=box;return _9ae;}}return this.Stack.buildStack(_9ad,box);},getFirst:function(node,dir,_9af){if(this.isBox(node)){var _9af=_9af||this._getStack(node);if(_9af.length==0){if(mxui.dom.getFocusIndex(node)){return node;}return null;}var _9b0=_9af[dir=="next"?"first":"last"];return _9b0?this._tryNode(_9b0,dir):null;}return node;},_tryNode:function(_9b1,dir){var node=_9b1.node;if(this.isBox(node)){var _9b2=this.getFirst(node,dir);if(_9b2){return _9b2;}else{return this._doNext(_9b1,dir);}}else{return node;}return null;},_doNext:function(_9b3,dir){if(!_9b3){return null;}var _9b4=_9b3[dir];if(!_9b4){return null;}return this._tryNode(_9b4,dir);},_getNextNode:function(node,_9b5){var box=null;var _9b6=null;var _9b7=null;var next=null;var dir=!_9b5?"next":"prev";if(this.isBox(node)){box=this.byNode(node.parentNode);}else{box=this.byNode(node);}if(!box){return null;}_9b7=this._getStack(node,box);next=this._doNext(_9b7.find(node),dir);if(!next){_9b6=_9b7.box.domNode;if(this.cyclic(_9b6)){return this.getFirst(_9b6,dir,_9b7);}else{next=this._getNextNode(box.domNode,_9b5);if(!next){}}}return next;},skip:function(node,_9b8){if(node&&node.setAttribute){if(arguments.length==2){_9b8=!!_9b8;node.setAttribute("focusNoSkip",_9b8);return _9b8;}var _9b9=/true/.test(node.getAttribute("focusNoSkip"));return _9b9?!_9b9:node.readOnly;}return true;},focusable:function(node){if(!node||node.nodeType!=1){return false;}if(node.disabled){return false;}var f=mxui.wm.focus;if(f.skip(node)&&f.state.skipReadonly){return false;}var _9ba=node.style;if(_9ba.display=="none"||_9ba.visibility=="hidden"){return false;}if(node.offsetWidth==0&&node.offsetHeight==0){return 0;}return true;},cyclic:function(node,_9bb){if(node&&node.setAttribute){if(arguments.length==2){var s=/true/.test(_9bb);node.setAttribute("focusCycle",s);return s;}return /true/.test(node.getAttribute("focusCycle"));}return false;},focusIndex:function(node,_9bc){if(node&&node.getAttribute){if(arguments.length==2){node.setAttribute("focusIndex",_9bc);return _9bc;}return node.getAttribute("focusIndex");}return null;},addBox:function(node){var box=new this.Box(node);this.register(box);return box;},removeBox:function(node){var box=this.byNode(node);if(box){this.unregister(box);return true;}return false;},isBox:function(node){if(node&&node.getAttribute){var fi=this.focusIndex(node);if(_957.byNode(node)){return fi!=-2?true:false;}else{if(fi){return true;}}return !!(node.getAttribute("focus-id"));}return false;},byNode:function(node){var fi,id,w;do{if(node&&node.getAttribute){fi=this.focusIndex(node);if(fi==-2){continue;}w=_957.byNode(node);if(w){return w;}id=node.getAttribute("focus-id");if(id){return this.byId(id);}if(fi){return {domNode:node};}}}while(node&&(node=node.parentNode));return null;},byId:function(_9bd){return this.registry[_9bd];},getUniqueId:function(_9be){var _9bf=_9be.declaredClass.replace(/\./g,"_");var id;var _9c0=this.boxCounter;do{id=_9bf+"_"+(_9bf in _9c0?++_9c0[_9bf]:_9c0[_9bf]=0);}while(this.byId(id));return id;},register:function(box){var id=box.id;if(this.registry[id]){return false;}else{this.registry[id]=box;return true;}},unregister:function(box){var id=box.id;var _9c1=this.boxCounter;if(this.registry[id]){var _9c2=box.declaredClass.replace(/\./g,"_");box.domNode.removeAttribute("focus-id");delete this.registry[id];if(_9c1[_9c2]){_9c1[_9c2]--;}box.destroy();}}});dojo.addOnLoad(mxui.wm.focus,"start");});},"mxui/dom/common":function(){define(["dojo","dijit","dojox"],function(dojo,_9c3,_9c4){dojo.provide("mxui.dom.common");(function(){var _9c5=0,_9c6=[];var _9c7=function(_9c8){_9c8=_9c8||{};var _9c9=function(id,node){if(!id){id=_9c5++;node.setAttribute("data-id",id);}return id;};return function(node,key,_9ca){var id=typeof node==="string"?node:node.getAttribute("data-id"),map=_9c8[id];switch(arguments.length){case 1:return map;case 2:if(key===null){delete _9c8[id];return;}else{if(typeof key=="object"){if(!map){return _9c8[_9c9(id,node)]=key;}else{return dojo.mixin(map,key);}}else{return map&&map[key];}}break;case 3:if(_9ca===null){if(map){delete map[key];}for(var i in map){return;}delete _9c8[id];return;}else{if(!map){map=_9c8[_9c9(id,node)]={};}return map[key]=_9ca;}}};};var _9cb=function(_9cc,_9cd){var _9ce=_9cc.parentNode;if(_9ce&&(!_9cd.parentNode||_9cd.parentNode.nodeType==11)){_9ce.insertBefore(_9cd,_9cc);_9ce.removeChild(_9cc);return true;}return false;};mxui.dom={nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},showNode:function(node){for(var i=0,item;item=_9c6[i];i++){if(item.node==node){var span=item.span;_9cb(span,node);_9c6.splice(i,1);return true;}}return false;},hideNode:function(node){var span=mxui.dom.span();if(_9cb(node,span)){_9c6.push({node:node,span:span});return true;}return false;},copyChildren:function(src,_9cf){var node=src.cloneNode(true);while(node.firstChild){_9cf.appendChild(node.removeChild(node.firstChild));}},insertBefore:function(src,_9d0){if(_9d0.parentNode){_9d0.parentNode.insertBefore(src,_9d0);}},insertAfter:function(src,_9d1){if(_9d1.parentNode){if(_9d1.nextSibling){_9d1.nextSibling.parentNode.insertBefore(src,_9d1.nextSibling);}else{_9d1.parentNode.appendChild(src);}}},walkTree:function(node,_9d2){if(node&&node.hasChildNodes){for(var i=0;i<node.childNodes.length;i++){mxui.dom.walkTree(node.childNodes[i],_9d2);}}_9d2(node);},walkNode:function(root,_9d3,_9d4){var _9d5=[0],_9d6;var _9d7=function(node){try{_9d6=node?_9d3.call(_9d4,node,_9d5.slice())!==false:false;}catch(e){logger.error("mxui.dom.walkNode: Unable to execute action on node: "+e.message);_9d6=false;}if(_9d6&&node.hasChildNodes){var i=_9d5.push(0)-1;var _9d8=null,_9d9=node.firstChild;while(_9d9){_9d9=(_9d8=_9d9).nextSibling;_9d7(_9d8);_9d5[i]++;}_9d5.pop();}};_9d7(root);},nextNode:function(_9da,_9db){if(!_9da||!_9db){return true;}var cl=_9db.length,sl=_9da.length,_9dc=_9db.length-1;return (sl>cl)||(cl==sl&&_9db[_9dc]>_9da[_9dc]);},getAncestorNode:function(node,name,_9dd){return node&&((node.nodeName==name)?node:((--_9dd==0)?false:arguments.callee(node.parentNode,name,_9dd)));},getFirstChild:function(node,name){dojo.deprecated("mxui.dom.getFirstChild","Use dojo.query instead","5.0");if(typeof name=="string"){name=[name.toLowerCase()];}var _9de=false;var func=function(node){for(var i=0;i<name.length;i++){if(node.nodeName.toLowerCase()==name[i]){if(_9de==false){_9de=node;return false;}}}return true;};var s=(function(_9df,_9e0){if(_9df&&_9e0(_9df)&&_9df.hasChildNodes){for(var i=0;i<_9df.childNodes.length;i++){arguments.callee(_9df.childNodes[i],_9e0);}}})(node,func);return _9de;},escapeHTMLQuotes:function(str){return str.replace(/\'/g,"&#39;").replace(/\"/g,"&#34;");},convertNlToBr:function(str){return str.replace(/\n/g,"<br />");},setSelectOptions:function(node,_9e1,_9e2){var $=mxui.dom.create;if(!node){return;}_9e1=_9e1||{};mxui.dom.empty(node);node.appendChild($("option",{value:""},""));for(var key in _9e1){var _9e3=$("option",{value:key},_9e1[key]);node.appendChild(_9e3);if(key==_9e2){_9e3.selected=true;}}},getSelectedValue:function(node){if(node.nodeName.toLowerCase()=="select"){return (node.selectedIndex!=-1)?node.options[node.selectedIndex].value:null;}else{return null;}},getSelectedText:function(node){if(mendix.isIE){return node.options[node.selectedIndex].textValue;}else{return node.options[node.selectedIndex].text;}},selectOptionByText:function(node,str){var i;if(mendix.isIE){for(i=0;i<node.length;i++){if(node.options[i].textValue==str){node.options[i].selected=true;}}}else{for(i=0;i<node.length;i++){if(node.options[i].text==str){node.options[i].selected=true;}}}},enableNode:function(node){node.removeAttribute("readonly");node.removeAttribute("disabled");},disableNode:function(node){node.setAttribute("disabled","disabled");node.setAttribute("readonly","readonly");},strip:function(node,attr){mxui.dom.walkTree(node,function(e){if(e&&e.getAttribute&&e.getAttribute(attr)){e.removeAttribute(attr);}});return node;},disableSelection:function(e){if(!dojo.isIE){e.style.MozUserSelect="none";}else{e.unselectable="on";}return true;},clearSelection:function(){var w=window,s=document.selection;if(s){try{s.empty&&s.empty();}catch(e){}}else{s=w.getSelection&&w.getSelection();s&&s.removeAllRanges&&s.removeAllRanges();}},selectTextRange:function(_9e4,_9e5,_9e6){if(_9e4.createTextRange){var _9e7=_9e4.createTextRange();_9e7.collapse(true);_9e7.moveEnd("character",_9e6);_9e7.moveStart("character",_9e5);_9e7.select();}else{if(_9e4.setSelectionRange){_9e4.setSelectionRange(_9e5,_9e6);}}},getCursorPosition:function(_9e8){if(document.selection){var _9e9=Math.abs(document.selection.createRange().moveStart("character",-1000000));var end=Math.abs(document.selection.createRange().moveEnd("character",-1000000));return _9e9;}else{if(_9e8.setSelectionRange){return _9e8.selectionStart;}}},getSelection:function(_9ea){if(document.selection){var _9eb=Math.abs(document.selection.createRange().moveStart("character",-1000000));var end=Math.abs(document.selection.createRange().moveEnd("character",-1000000));return {start:_9eb,end:end};}else{if(_9ea.setSelectionRange){return {start:_9ea.selectionStart,end:_9ea.selectionEnd};}}},liveConnect:function(node,evt,_9ec,r,_9ed){if(arguments.length==3){r=_9ec;_9ec=null;}var tags={},_9ee=[];for(var i in r){var _9ef=i.split(".");var tag=_9ef[0];var _9f0=_9ef[1];var item=r[i];if((typeof item=="string"&&_9ec[item])||typeof item=="function"){var _9f1={fnc:item};if(tag){tags[String(tag).toUpperCase()]=_9f1;}else{if(_9f0){_9ee.push(_9f1);}}if(_9f0){_9f1.clazz=_9f0;}}}var _9f2=dojo.hasClass;var _9f3=function(node){for(var i=0,item;item=_9ee[i];i++){if(_9f2(node,item.clazz)){return item;}}return null;};var run=function(fnc,e){if(typeof (fnc)=="function"){fnc(e);}else{_9ec&&_9ec[fnc](e);}};return dojo.connect(node,evt,function(e){var _9f4=e.target;var _9f5=node;var e2={target:e.target};for(var i in e){var val=e[i];if(val==null||!(val instanceof Object)){e2[i]=val;}}while(_9f4!=_9f5&&_9f4!=null){var _9f6=tags[_9f4.nodeName];var _9f7=_9f3(_9f4);if(_9f6){var _9f8=_9f6.clazz;_9f6=((!_9f8)||(_9f2(_9f4,_9f8)))?_9f6:null;}e2.currentTarget=_9f4;_9f6&&run(_9f6.fnc,e2);_9f7&&run(_9f7.fnc,e2);if(_9ed&&(_9f6||_9f7)){break;}_9f4=_9f4.parentNode;}});},liveDisconnect:function(_9f9){dojo.disconnect(_9f9);},removeTabIndex:function(node){if(dojo.isIE){node.removeAttribute("tabIndex");}node.removeAttribute("tabindex");},isChild:function(_9fa,_9fb){var curr=_9fa;while((curr=curr.parentNode)!=null){if(curr==_9fb){return true;}}return false;},create:function(tag,_9fc,_9fd){var elem,args=[].slice.call(arguments,1);_9fc=_9fc||{};if(_9fc.nodeName||typeof _9fc=="string"){_9fd=args;_9fc={};}else{_9fd=args.slice(1);}if(tag=="#"){elem=document.createDocumentFragment();}else{elem=document.createElement(tag);for(var attr in _9fc){var _9fe=_9fc[attr];if(attr=="style"&&typeof _9fe!="string"){var _9ff=elem.style;for(var i in _9fe){_9ff[i]=_9fe[i];}}else{elem.setAttribute(attr,_9fe);}}}dojo.forEach(_9fd,function(_a00){if(typeof _a00=="string"){dojo.forEach(_a00.split("\r\n"),function(line,i){if(i>0){elem.appendChild(mxui.dom.create("br"));}elem.appendChild(document.createTextNode(line));});}else{elem.appendChild(_a00);}});return elem;},synthesizeEvent:function(evt,_a01){var faux=dojo.mixin({},evt,_a01);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;},capture:function(_a02,evt,_a03){var _a04=!_a02.addEventListener,_a05=_a02[_a04?"attachEvent":"addEventListener"],_a06=_a02[_a04?"detachEvent":"removeEventListener"],_a07=_a04?"on"+evt:evt;_a05.call(_a02,_a07,_a03,true);return {remove:function(){_a06.call(_a02,_a07,_a03,true);}};},supports:function(prop){var _a08=dojo.body().style;if(prop in _a08){return prop;}else{var _a09=["Webkit","Moz"],_a0a=prop.charAt(0).toUpperCase()+prop.slice(1);for(var i=_a09.length;i--;){var _a0b=_a09[i]+_a0a;if(_a0b in _a08){return _a0b;}}}},supportsFixed:function(){var ua=navigator.userAgent,_a0c=true,_a0d;if(/AppleWebKit\/\d+/.test(ua)){if(/iPhone|iPad/.test(ua)){_a0d=/OS (\d)_/.exec(ua);_a0c=_a0d[1]&&_a0d[1]>=5;}else{if(/Android/.test(ua)){_a0d=/Android (\d\.\d)/.exec(ua);_a0c=_a0d[1]&&_a0d[1]>=2.2;}}}else{if(/Trident\/\d+/.test(ua)){_a0d=/MSIE (\d+)/.exec(ua);if(_a0d){_a0c=_a0d[1]&&_a0d[1]>=10;}else{_a0c=true;}}}return _a0c;},decodeXML:function(str){return str.replace(/&(lt|gt|apos|quot|amp);/g,function(_a0e,_a0f){return {lt:"<",gt:">",apos:"'",quot:"\"",amp:"&"}[_a0f];});},text:function(node,str){if(typeof str!=="undefined"){node.innerHTML="";node.appendChild(document.createTextNode(str));}else{return "textContent" in node?node.textContent:node.innerText;}},html:function(node,str){if(typeof str!=="undefined"){node.innerHTML=str;}else{return node.innerHTML;}},orphan:function(node){var p=node.parentNode;if(p){p.removeChild(node);}},empty:function(node){var _a10;while(_a10=node.firstChild){node.removeChild(_a10);}},toArray:function(_a11){return dojo.map(_a11,function(_a12){return _a12;});},escapeString:function(str){var node=mxui.dom.create("p");mxui.dom.escapeString=function(str){var _a13=str.split(/\r\n|\n/),out=[];for(var i=0;i<_a13.length;++i){mxui.dom.text(node,_a13[i]);out.push(node.innerHTML);}return out.join("\n");};return mxui.dom.escapeString(str);},getCss:function(path,doc,_a14){doc=doc||document;var _a15=doc.getElementsByTagName("link"),re=new RegExp(mx.appUrl+path);for(var i=0,node;node=_a15[i];i++){if(re.test(node.href)){return node;}}return null;},addCss:function(path,doc,_a16){doc=doc||document;if(mxui.dom.getCss(path,doc,_a16)){return;}var head=doc.getElementsByTagName("head")[0],node=mxui.dom.create("link",{rel:"stylesheet",type:"text/css",media:_a16||"screen",href:mx.appUrl+path});head.appendChild(node);},removeCss:function(_a17,doc,_a18){var file=mxui.dom.getCss(_a17,doc,_a18);if(file){file.parentNode.removeChild(file);return true;}return false;},ieFocusable:{"a":true,"body":true,"button":true,"frame":true,"iframe":true,"input":true,"isIndex":true,"object":true,"select":true,"textarea":true},getTabIndex:function(node){if(!node||!node.getAttribute){return null;}var _a19;if(dojo.isIE){_a19=node.tabIndex;if(_a19===0){var _a1a=node.nodeName.toLowerCase(),_a1b=node.attributes.tabIndex,_a1c=_a1b&&_a1b.specified===true;return _a1c||mxui.dom.ieFocusable[_a1a]?"0":null;}else{return ""+_a19;}}else{var _a1d=node.getAttribute("tabindex");_a19=String(node.tabIndex);if(_a1d!=null||_a19>=0){if(!dojo.isFF){return (_a1d==="")?null:_a19;}else{return _a19;}}else{return null;}}},getFocusIndex:function(node){var _a1e=mxui.dom.getTabIndex(node);return _a1e>=0?_a1e:null;},coords:function(node){return dojo.mixin(dojo.position(node),dojo.marginBox(node));},data:_9c7(),getScopedData:_9c7,moveIntoView:function(node,_a1f){_a1f=_a1f||0;var pos=dojo.position(node),_a20=_9c3.getViewport(),_a21=node.style,_a22=pos.y+pos.h+_a1f,_a23=pos.x+pos.w+_a1f;if(pos.y<_a1f||pos.h+_a1f*2>_a20.h){_a21.top=_a1f+"px";}else{if(_a22>_a20.h){_a21.top=pos.y-(_a22-_a20.h)+"px";}}if(pos.x<_a1f||pos.w+_a1f*2>_a20.w){_a21.left=_a1f+"px";}else{if(_a23>_a20.w){_a21.left=pos.x-(_a23-_a20.w)+"px";}}}};})();});},"mxui/html/parser":function(){define(["dojo","dijit","dojox"],function(dojo,_a24,_a25){dojo.provide("mxui.html.parser");mxui.html.parser={instantiate:function(list,_a26){var _a27="data-mendix-",_a28=_a27+"id",_a29=_a27+"type",_a2a=_a27+"props",_a2b=[];var _a2c=function(node,_a2d){logger.error(_a2d);if(node.parentNode){node.parentNode.replaceChild(mxui.dom.create("div",{style:"color:red"},_a2d),node);}};for(var i=0,len=list.length;i<len;i++){var node=list[i],mxid=node.getAttribute(_a28),_a2e=node.getAttribute(_a2a),type=node.getAttribute(_a29),clas=dojo.getObject(type),_a2f=_a2e&&dojo.fromJson("{"+_a2e+"}"),_a30=mendix.lang.override(_a2f,_a26,{mxid:mxid,"class":node.className,style:node.style.cssText,focusIndex:mxui.dom.getTabIndex(node)});node.removeAttribute(_a29);node.removeAttribute(_a2a);if(clas){try{var _a31=new clas(_a30,node);if(_a31.name){_a31=new mxui.widget.PrimitiveWidgetWrapper({widget:_a31,mxform:_a31.mxform});}_a2b.push(_a31);}catch(e){_a2c(node,"Could not create widget "+type+": "+e);}}else{_a2c(node,"No constructor found for widget "+type);}}len=_a2b.length;for(i=0;i<len;i++){var _a32=_a2b[i];if(_a32.startup){if(!_a32._started){try{_a32.startup();}catch(e){_a32.actLoaded();_a2c(node,"Could not create widget "+type+": "+e);}}}}return _a2b;},parse:function(root,_a33){if(!root){root=dojo.body();}var _a34=root.getElementsByTagName("div"),type=root.getAttribute("data-mendix-type"),list=type?[root]:[];for(var i=0,len=_a34.length;i<len;i++){if(_a34[i].getAttribute("data-mendix-type")){list.push(_a34[i]);}}return mxui.html.parser.instantiate(list,_a33);}};});},"mxui/dom/builder":function(){define(["dojo","dijit","dojox"],function(dojo,_a35,_a36){dojo.provide("mxui.dom.builder");mxui.dom.builder={IE_TRANSLATIONS:{"class":"className","for":"htmlFor","type":"type","href":"href"},ieAttrSet:function(_a37,attr,el){var _a38;if(_a38=this.IE_TRANSLATIONS[attr]){el[_a38]=_a37[attr];}else{if(attr=="style"){el.style.cssText=_a37[attr];}else{if(attr.match(/^on/)){el[attr]=new Function(_a37[attr]);}else{el.setAttribute(attr,_a37[attr]);}}}},tagFunc:function(tag){return function(){var _a39,_a3a;if(arguments.length>0){if(arguments[0].nodeName||typeof arguments[0]=="string"){_a3a=arguments;}else{_a39=arguments[0];_a3a=[].slice.call(arguments,1);}}return mxui.dom.builder.create(tag,_a39,_a3a);};},create:function(tag,_a3b,_a3c){_a3b=_a3b||{};_a3c=_a3c||[];var _a3d=dojo.isIE<9;var el=document.createElement((_a3d&&_a3b.name)?"<"+tag+" name="+_a3b.name+">":tag);for(var attr in _a3b){if(typeof _a3b[attr]!="function"){if(_a3d){this.ieAttrSet(_a3b,attr,el);}else{el.setAttribute(attr,_a3b[attr]);}}}for(var i=0;i<_a3c.length;i++){if(typeof _a3c[i]!="object"){_a3c[i]=document.createTextNode(_a3c[i]);}el.appendChild(_a3c[i]);}return el;}};(function(){var els=("p|div|span|strong|em|img|table|tr|td|th|thead|tbody|tfoot|pre|code|"+"h1|h2|h3|h4|h5|h6|ul|ol|li|form|input|textarea|legend|fieldset|"+"select|option|blockquote|cite|br|hr|dd|dl|dt|address|a|button|abbr|acronym|"+"script|link|style|bdo|ins|del|object|param|col|colgroup|optgroup|caption|"+"label|dfn|kbd|samp|var").split("|");var el,i=0;while(el=els[i++]){mxui.dom[el]=mxui.dom.builder.tagFunc(el);}})();});},"mxui/html/common":function(){define(["dojo","dijit","dojox"],function(dojo,_a3e,_a3f){dojo.provide("mxui.html.common");mxui.html.attrs={ForRole:"visibleForRoles",FormTitle:"formTitle"};mxui.html.dispatchEvent=function(node,_a40){if(dojo.isIE){node.fireEvent&&node.fireEvent([_a40]);}else{var evt=document.createEvent("HTMLEvents");evt.initEvent(_a40.substr(2,_a40.length),true,true);node.dispatchEvent(evt);}};mxui.html.setContent=function(node,txt){if(dojo.isIE){mxui.html.setContent=function(node,txt){if(!node||!node.nodeName){return;}node.innerHTML="";txt=txt?txt:String.fromCharCode(160);node.appendChild(document.createTextNode(txt));};}else{mxui.html.setContent=function(node,txt){node&&(node.innerHTML=txt);};}mxui.html.setContent(node,txt);};mxui.html.stripTags=function(_a41){if(dojo.isString(_a41)){return _a41.replace(/<[a-zA-Z\/][^>]*>/g," ");}else{return _a41;}};mxui.html.sanitizeHTMLString=function(str){return str.replace(/\&amp;/g,"&");};mxui.html.escapeQuotes=function(str){str=str.replace(/\'/g,"&#39;");return str.replace(/\"/g,"&#34;");};});},"mxui/lib/Form":function(){define(["dojo","dijit","dojox"],function(dojo,_a42,_a43){dojo.provide("mxui.lib.Form");dojo.declare("mxui.lib.Form",null,{id:"",path:"",title:"",hash:"",place:"",context:null,domNode:null,_params:null,_returns:null,_listeners:null,constructor:function(data,_a44){this.id=data.id;this.path=data.path;this.title=_a44.title||data.title;this.place=_a44.place;this.hash=+new Date()+"";this._params=_a44;this._returns={};this._listeners={};this.domNode=mxui.dom.create("div",{"class":"mx-page"},data.content||"");dojo.addClass(this.domNode,data["class"]);dojo.attr(this.domNode,"style",data.style);mxui.wm.focus.addBox(this.domNode);mxui.wm.focus.cyclic(this.domNode,true);},startup:function(_a45){var _a46=dojo.mixin({mxform:this},this._params),_a47=mxui.html.parser.parse(this.domNode,_a46);mxui.widget.ready(_a47,_a45);},onBeforeShow:function(){this.resize();},onBeforeHide:function(){},onAfterShow:function(){mxui.wm.focus.first(this.domNode);},onAfterHide:function(){},getTitle:function(){return this.title;},setTitle:function(_a48){this.title=_a48;},getChildren:function(_a49){if(_a49){return dojo.query("[widgetid]",this.domNode).map(_a42.byNode);}else{return _a42.findWidgets(this.domNode);}},callRecursive:function(_a4a,_a4b,_a4c){var _a4d=this.getChildren(),args=Array.prototype.slice.call(arguments,1);for(var i=0,_a4e;_a4e=_a4d[i];i++){_a4e[_a4a]&&_a4e[_a4a].apply(_a4e,args);}},suspend:function(){var _a4f=this.getChildren(true);for(var i=0,_a50;_a50=_a4f[i];i++){if(_a50 instanceof mxui.widget._WidgetBase){_a50.set("suspended",true);}else{if(_a50.suspend){_a50.suspend();}}}},resume:function(){var _a51=this.getChildren(true);for(var i=0,_a52;_a52=_a51[i];i++){if(_a52 instanceof mxui.widget._WidgetBase){_a52.set("suspended",false);}else{if(_a52.resume){_a52.resume();}}}},reload:function(){this.applyContext(this.context);},resize:function(){if(this.place==="content"){var self=this,node=this.domNode,_a53=_a42.findWidgets(node),_a54=_a53[0];if(_a53.length!==1){return;}if(_a54.domNode.parentNode===node){if(typeof _a54.resize==="function"){node.style.height="100%";_a54.resize({w:node.offsetWidth,h:node.offsetHeight});node.style.height="";}}}},enable:function(){this.callRecursive("set","disabled",true);},disable:function(){this.callRecursive("set","disabled",false);},close:function(){var self=this;this.publish("close",function(){self.dispose();});},dispose:function(){},validate:function(_a55,_a56){this.publish("validate",_a55,_a56);},save:function(_a57,_a58){this.publish("save",_a57,_a58);},commit:function(_a59,_a5a){this.publish("commit",_a59,_a5a);},rollback:function(_a5b,_a5c){this.publish("rollback",_a5b,_a5c);},publish:function(_a5d,_a5e,_a5f){var list=this._listeners[_a5d];if(list){var _a60=[];for(var item in list){_a60.unshift(dojo.partial(function(func,next){func(next,_a5f);},list[item]));}mendix.lang.sequence(_a60,_a5e);}else{_a5e&&_a5e();}},listen:function(_a61,_a62){var sid=mendix.lang.getUniqueId(),list=this._listeners[_a61]||(this._listeners[_a61]={});list[sid]=_a62;return [_a61,sid];},unlisten:function(_a63){var sid=_a63[1],msg=_a63[0],list=this._listeners[msg];if(list){delete list[sid];for(var i in list){return;}delete this._listeners[msg];}},applyContext:function(_a64,_a65){var old=this.context;if(old&&old.toQuery()==_a64.toQuery()){mx.context.destroy(_a64);_a65&&_a65();}else{old&&mx.context.destroy(old);this.context=_a64;_a64.freeze();var _a66=[];var run=function(node){var _a67=_a42.findWidgets(node);for(var i=0,_a68;_a68=_a67[i];i++){if(_a68.applyContext){_a66.push(function(_a69){return function(_a6a){_a69.applyContext(_a64,_a6a);};}(_a68));}else{run(_a68.domNode);}}};run(this.domNode);mendix.lang.collect(_a66,_a65,this);}},getReturnValue:function(key){return this._returns[key];},setReturnValue:function(key,_a6b){this._returns[key]=_a6b;},hasInterface:function(name){return name=="close";},invokeCall:function(name){if(name=="close"){this.dispose();}},destroy:function(){mxui.wm.focus.removeBox(this.domNode);var _a6c=[this.header,this.domNode,this.footer];for(var i=0,l=_a6c.length;i<l;i++){var node=_a6c[i],_a6d=node&&node.parentNode;if(_a6d){_a6d.removeChild(node);}}var top=this.getChildren(),all=this.getChildren(true);for(var i=0,_a6e;_a6e=top[i];i++){_a6e.domNode&&_a6e.destroyRecursive();}for(var i=0,_a6e;_a6e=all[i];i++){if(_a6e.domNode){logger.error(_a6e.id+": widget not destroyed, check parent's uninitalize method");_a6e.destroyRecursive();}}if(this.context){mx.context.destroy(this.context);}}});});},"mxui/lib/History":function(){define(["dojo","dijit","dojox"],function(dojo,_a6f,_a70){dojo.provide("mxui.lib.History");mxui.lib.History=function(){var self=this,name="mxui.lib.History",_a71=0,_a72=[],_a73={},_a74=null;var _a75=function(hash){if(dojo.config.isDebug){hash=hash.substr(hash.lastIndexOf(";")+1);}if(hash!=_a72[_a71]){var dir;if(hash==_a72[_a71+1]){dir=-1;_a71++;}else{if(hash==_a72[_a71-1]){dir=1;_a71--;}else{if(_a71<_a72.length){_a71++;var _a76=mxui.currentForm;if(_a76){dojo.addClass(_a76.domNode,"mx-page-hidden");mxui.currentForm=null;}}return;}}var _a77=_a73[hash];if(_a77){mx.ui.openForm(_a77.path,{dir:dir,context:_a77.context,instance:_a77.form});}}};this.startup=function(){_a74=dojo.subscribe("/dojo/hashchange",_a75);};this.exists=function(){return _a71<_a72.length;};this.back=function(){window.history.back();};this.register=function(form){var hash=form.hash;_a73[hash]={form:form,type:"form",path:form.path,context:form.context};for(var i=_a71-1;i>=0;i--){var _a78=_a72[i],_a79=_a73[_a78].form;delete _a73[_a78];_a79.destroy();}_a72=_a72.slice(_a71);_a72.unshift(hash);_a71=0;if(dojo.config.isDebug){dojo.hash(mx.ui.encodeUrlHash(form.path,form.context,hash));}else{dojo.hash(hash);}};this.getForm=function(hash){return _a73[hash];};this.destroy=function(){for(var hash in _a73){_a73[hash].form.destroy();}if(_a74){dojo.unsubscribe(_a74);_a74=null;}_a71=0;_a72=[];_a73={};};};});},"mxui/lib/WindowManager":function(){define(["dojo","dijit","dojox"],function(dojo,_a7a,_a7b){dojo.provide("mxui.lib.WindowManager");dojo.declare("mxui.lib.WindowManager",null,{_stack:null,_shown:null,_modals:0,constructor:function(){this._shown={};},show:function(form,args,_a7c){var self=this,_a7d=this._modals||args.location==="modal",_a7e={mxform:form,title:args.title||form.title,width:args.width,height:args.height,content:form.domNode,modal:_a7d};if("resizable" in args){_a7e.resizable=args.resizable;}var win=new mxui.widget.Window(_a7e);this._shown[win.id]=win;var _a7f=[dojo.connect(form,"resize",win,"resize"),dojo.connect(form,"dispose",function(){while(_a7f.length){dojo.disconnect(_a7f.pop());}self.hide(win);})];if(_a7d){this._modals++;}win._form=form;win._focus=mxui.wm.focus.get();win.focus();form.startup(function(){form.applyContext(args.context||new mendix.lib.MxContext(),function(){if(_a7d){win.center();}else{win.stack();}_a7c&&_a7c(form);form.onBeforeShow();win.show();form.onAfterShow();});});},hide:function(win){if(win.modal){this._modals--;}delete this._shown[win.id];var self=this,form=win._form;form.onBeforeHide();if(win._focus){mxui.wm.focus.put(win._focus);}win.hide(function(){form.onAfterHide();form.destroy();win.destroy();});},hideAll:function(){for(var id in this._shown){this.hide(this._shown[id]);}}});});},"mxui/lib/MxInputMask":function(){define(["dojo","dijit","dojox"],function(dojo,_a80,_a81){dojo.provide("mxui.lib.MxInputMask");mxui.lib.substractNewString=function(_a82,_a83,_a84){var _a85=(_a82.length-(_a83.length-(_a84)));for(var i=0;i<_a85;i++){if(_a82.charAt(i)!=_a83.charAt(i)){_a85=i;break;}}return _a85;};mxui.lib.MxInputMask=function(node,mask,_a86){this.domNode=node;this.spanMask=null;this.mask="";this.spaceChar="_";this.checker=_a86;this.fullMask=(mask!=null)?mask:"99-99-9999";var _a87="mxui.lib.MxInputMask";this.onFocus=function(e){if(this.isReadOnly()){return;}var _a88=this.oldValue=this.domNode.value;if(this.checker!=null&&this.checker.onFocus!=null){try{this.checker.onFocus(e);}catch(e){}}if(_a88==""){this.domNode.value=this.mask;this.spanMask=this.mask;}else{var cc="";var _a89=this.mask.length;var real="";for(var i=0;i<_a89,cc=this.fullMask.charAt(i);i++){var val=_a88.charAt(i);if(this.matchBla(cc,val)){real+=val;}else{real+=this.mask.charAt(i);}}this.spanMask=this.domNode.value=real;}dojo.isIE&&mendix.wm.focus.put(this.domNode);};this.onBlur=function(e){if(this.isReadOnly()){return;}if(this.checker!=null&&this.checker.onBlur!=null){try{this.checker.onBlur(e);}catch(e){}}this.spanMask=null;if(this.mask==this.domNode.value){this.domNode.value="";}if(this.oldValue!=this.domNode.value){mxui.html.dispatchEvent(this.domNode,"onchange");}this.oldValue=null;};this.replaceByMask=function(src,dst,mask){var _a8a="";src=String(src);dst=String(dst);for(var i=0;i<src.length;i++){var ch=src.substr(i,1);var _a8b=dst.substr(i,1);var _a8c=(ch==mask)?_a8b:ch;_a8a+=_a8c;}return _a8a;};this.onKeyDown=function(evt){if(dojo.isIE){var _a8d=(evt.keyCode==0)?evt.which:evt.keyCode;switch(_a8d){case 46:this.performDelete(evt);evt.preventDefault();return false;break;case 8:this.performBackspace(evt);evt.preventDefault();return false;break;}}};this.onClick=function(e){if(this.isReadOnly()){return;}this._selection=mxui.dom.getSelection(this.domNode);};this.onSelect=function(e){if(this.isReadOnly()){return;}this._selection=mxui.dom.getSelection(this.domNode);};this.onInput=function(e){if(this.isReadOnly()){return;}if(dojo.isIE&&e!=null){try{setTimeout(dojo.hitch(this,"onInput",null),1);return;}catch(e){}}var pos=mxui.dom.getCursorPosition(this.domNode);var _a8e=this.domNode.value;var _a8f=this.spanMask;this.domNode.value="";if(this._selection&&this._selection.start!=this._selection.end){var _a8f="";for(var i=0;i<this.spanMask.length;i++){var ch=(i>=this._selection.start&&i<this._selection.end)?"":this.spanMask.charAt(i);_a8f+=ch;}}var _a90=mxui.lib.substractNewString(_a8f,_a8e,pos);var _a91=pos;var _a92=_a8e.substring(_a90,_a91);if(this._selection&&this._selection.start!=this._selection.end){var _a93=this._selection.end-this._selection.start;_a92=_a92.substr(0,_a93);}var _a94=this.fullMask.length;var newv="";var _a95=0;var skip=false;var _a96=-1;for(var i=0;i<_a94;i++){if(i==_a90){for(var j=0;j<_a92.length;j++){_a96=i;var _a97=this.fullMask.charAt(i);var _a98=_a92.charAt(j);if(this.isEditable(_a97)){var _a99=this.matchBla(_a97,_a98);if(_a99){newv+=_a98;}else{break;}}else{if(_a98==_a97){newv+=_a97;}else{break;}}i++;}}newv+=this.spanMask.charAt(i);}this.spanMask=newv;this.domNode.value=newv;mxui.dom.selectTextRange(this.domNode,_a96+1,_a96+1);};this.onKeyPress=function(evt){if(this.isReadOnly()){return;}var _a9a=(evt.keyCode==0)?evt.which:evt.keyCode;var ctrl=evt.metaKey?evt.metaKey:evt.ctrlKey;if(ctrl){return true;}this._selection=null;switch(_a9a){case 13:break;case 27:break;case dojo.keys.TAB:break;case 46:this.performDelete(evt);evt.preventDefault();return false;break;case 8:this.performBackspace(evt);evt.preventDefault();return false;break;default:if(this.performKeyPress(evt)){evt.preventDefault();return false;}}};this.performBackspace=function(evt){var poss=mxui.dom.getSelection(this.domNode);var _a9b="";var _a9c=this.domNode.value;var _a9d=(poss.start==poss.end);for(var i=this.mask.length;0<=i;i--){var _a9e=_a9c.charAt(i);var _a9f=this.mask.charAt(i);if((_a9d&&(i==poss.start-1))||(i>=(poss.start)&&i<(poss.end))||_a9e==null){_a9b=_a9f+_a9b;}else{_a9b=_a9e+_a9b;}}this.domNode.value=this.spanMask=_a9b;var _aa0=(poss.start<=0)?0:_a9d?poss.start-1:poss.start;mxui.dom.selectTextRange(this.domNode,_aa0,_aa0);};this.performDelete=function(evt){var poss=mxui.dom.getSelection(this.domNode);var _aa1="";var _aa2=this.domNode.value;for(var i=0;i<this.mask.length;i++){var _aa3=_aa2.substr(i,1);var _aa4=this.mask.substr(i,1);if((i>=poss.start&&i<=poss.end)||_aa3==null){_aa1+=_aa4;}else{_aa1+=_aa3;}}this.domNode.value=this.spanMask=_aa1;mxui.dom.selectTextRange(this.domNode,poss.start,poss.start);};this.performKeyPress=function(evt){var _aa5=(evt.keyCode==0)?evt.which:evt.keyCode;if(evt.charCode==null){var _aa6=evt.shiftKey;switch(evt.keyCode){case 9:case 8:case 13:case 16:case 17:case 18:case 20:case 27:case 33:case 34:if(_aa6){break;}case 35:case 36:return false;}}else{if(evt.charCode==0){return false;}}var _aa7=(String.fromCharCode(_aa5));if(_aa7.match(/[a-zA-Z0-9]/)!=null){var _aa8="";var pos=mxui.dom.getCursorPosition(this.domNode);var _aa9=this.domNode.value;var _aaa=this.spanMask;var _aab=pos;var _aac=_aa9.length;for(var i=0;i<this.mask.length;i++){var _aad=_aaa.substr(i,1);var _aae=this.fullMask.substr(i,1);if(i!=pos){if(this.isEditable(_aae)){_aa8+=_aad;}else{_aa8+=_aae;}}else{if(this.matchBla(_aae,_aa7)){++_aab;_aa8+=_aa7;var _aaf;var _ab0=i;while((_aaf=this.fullMask.substr(++_ab0,1))!=""){if(!this.isEditable(_aaf)){++_aab;}else{break;}}}else{_aa8+=_aad;}}}this.spanMask=_aa8;this.domNode.value=_aa8;mxui.dom.selectTextRange(this.domNode,_aab,_aab);}return true;};this.matchBla=function(_ab1,_ab2){if(_ab1=="9"){return (_ab2.match(/^[0-9]$/g)!=null);}else{if(_ab1=="U"){return (_ab2.match(/^[A-Z]$/g)!=null);}else{if(_ab1=="L"){return (_ab2.match(/^[a-z]$/g)!=null);}else{if(_ab1=="Z"){return (_ab2.match(/^[a-zA-Z]$/g)!=null);}else{if(_ab1=="*"){return (_ab2.match(/^[a-zA-Z0-9]$/g)!=null);}}}}}return false;};this.isEditable=function(str){return (str=="9"||str=="U"||str=="L"||str=="Z"||str=="*");};this.isReadOnly=function(){return this.domNode.readOnly;};var _ab3=[];var init=function(){_ab3=[dojo.connect(this.domNode,"onfocus",this,"onFocus"),dojo.connect(this.domNode,"onkeypress",this,"onKeyPress"),dojo.connect(this.domNode,"onblur",this,"onBlur"),dojo.connect(this.domNode,dojo.isIE?"onpaste":"oninput",this,"onInput"),dojo.connect(this.domNode,"onselect",this,"onSelect"),dojo.connect(this.domNode,"onclick",this,"onClick")];var _ab4=this.fullMask.replace(/9/g,this.spaceChar);_ab4=_ab4.replace(/Z/g,this.spaceChar);_ab4=_ab4.replace(/U/g,this.spaceChar);_ab4=_ab4.replace(/L/g,this.spaceChar);_ab4=_ab4.replace(/\*/g,this.spaceChar);this.mask=_ab4;};this.destroy=function(){while(_ab3.length){dojo.disconnect(_ab3.pop());}};init.call(this);};mxui.lib.MxDateMask=function(node,_ab5){this.domNode=node;this.separator=_ab5;this.InputMask=null;var _ab6="mxui.lib.MxDateMask";this.onBlur=function(e){var info=this.domNode.value.split(this.separator);if(this.domNode.value.match(/[a-zA-Z0-9]/)==null){this.domNode.value="";return;}var _ab7=info[0];var _ab8=info[1];var _ab9=info[2];if(info[0].indexOf(this.InputMask.spaceChar)!=-1){var dt=new Date().getDate();dt=(dt<10)?("0"+dt):dt;_ab7=this.InputMask.replaceByMask(_ab7,dt,this.InputMask.spaceChar);}if(info[1].indexOf(this.InputMask.spaceChar)!=-1){var _aba=new Date().getMonth();if(_aba<10){_aba="0"+_aba;}_ab8=this.InputMask.replaceByMask(_ab8,_aba,this.InputMask.spaceChar);}if(info[2].indexOf(this.InputMask.spaceChar)!=-1){var year=new Date().getFullYear();_ab9=this.InputMask.replaceByMask(_ab9,year,this.InputMask.spaceChar);}this.domNode.value=_ab7+this.separator+_ab8+this.separator+_ab9;};this.onFocus=function(e){var _abb=this.domNode.value;if(_abb==""){return;}var info=_abb.split(this.separator);var _abc=info[0];var _abd=info[1];var _abe=info[2];if(_abc.length!=2){_abc="0"+_abc;}if(_abd.length!=2){_abd="0"+_abd;}if(_abe.length!=4){}this.domNode.value=_abc+this.separator+_abd+this.separator+_abe;};this.destroy=function(){this.InputMask.destroy();};this.start=function(){var mask="99"+this.separator+"99"+this.separator+"9999";this.InputMask=new mxui.lib.MxInputMask(this.domNode,mask,this);};this.start();};});},"mxui/mixin/_ValidationHelper":function(){define(["dojo","dijit","dojox"],function(dojo,_abf,_ac0){dojo.provide("mxui.mixin._ValidationHelper");dojo.declare("mxui.mixin._ValidationHelper",null,{required:false,requiredMsg:"",validator:null,_errorNode:null,_cellNode:null,_valsub:null,_valattr:null,_hasError:false,setupValidation:function(attr){var node=this.domNode.parentNode;if(node.nodeName==="TD"){this._cellNode=node;}this._valattr=attr||null;},setValidationObject:function(obj){if(this._valsub){this.unsubscribe(this._valsub);}if(obj){this._valsub=this.subscribe({guid:obj.getGuid(),callback:this.onValidation,val:true});}this.removeError();},validatedMicroflow:function(_ac1){var self=this;var run=function(){mx.ui.execute({microflow:_ac1},{context:self.mxcontext});};switch(_ac1.validate){case "node":if(this.isValid()){run();}break;case "view":this.mxform.validate(run);break;default:run();break;}},onValidation:function(list){var val=list[0],attr=this._valattr,msg=val.getReasonByAttribute(attr);if(msg!=null){this.addError(msg);val.removeAttribute(attr);}else{this.removeError();}},validate:function(){if(this.checkValidations&&!this.checkValidations()){return "";}if(this.required&&this.get("value")===""){return (this.requiredMessage||this.requiredMsg||mx.ui.translate("mendix.lib.Validations","required_field"));}},isValid:function(){var _ac2=this.validate();if(_ac2!=null){this.addError(_ac2);return false;}else{this.removeError();return true;}},addError:function(msg){this.removeError();this._hasError=true;if(msg){this._errorNode=mxui.dom.create("div",{"class":"alert alert-danger"},msg);this.domNode.parentNode.appendChild(this._errorNode);this.mxform.resize();}if(this._cellNode){dojo.addClass(this._cellNode,"has-error");}if(this.validator){this.validator.addNotification();}},removeError:function(){if(this._errorNode){mxui.dom.orphan(this._errorNode);this._errorNode=null;}if(this._cellNode){dojo.removeClass(this._cellNode,"has-error");}if(this.validator&&this._hasError){this.validator.removeNotification();}this._hasError=false;}});});},"mxui/mixin/_DynamicOptionHelper":function(){define(["dojo","dijit","dojox"],function(dojo,_ac3,_ac4){dojo.provide("mxui.mixin._DynamicOptionHelper");(function(){var _ac5=function(obj,_ac6,_ac7){var _ac8={},len=_ac6.length,_ac9=len;var _aca=function(_acb,v){_ac8[_acb]=v;if(--_ac9===0){_ac7&&_ac7(_ac8);}};if(len===0){_ac7&&_ac7(_ac8);}else{for(var i=0;i<len;++i){obj.fetch(_ac6[i][0],dojo.hitch(null,_aca,_ac6[i][1]));}}};dojo.declare("mxui.mixin._DynamicOptionHelper",null,{updateOptions:function(_acc,obj,_acd){if(typeof _acd!="function"){throw new Error(this.name+".updateOptions : invalid callback");}var self=this,_ace={},_acf=[];for(var i=0,_ad0;_ad0=_acc[i];++i){var _ad1=this[_ad0+"Attribute"];if(_ad1){_acf.push([_ad1,_ad0]);}else{_ace[_ad0]=this[_ad0];}}_ac5(obj,_acf,function(_ad2){_acd.call(self,dojo.mixin({},_ad2,_ace));});}});}());});},"mxui/widget/_Widget":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,dijit/_TemplatedMixin,mxui/dom/builder"],function(dojo,_ad3,_ad4){dojo.provide("mxui.widget._Widget");dojo.require("dijit._Widget");dojo.require("dijit._TemplatedMixin");dojo.require("mxui.dom.builder");_ad3._Widget.prototype.destroy=function(_ad5){if(!this._destroyed){this._beingDestroyed=true;this.uninitializer&&this.uninitializer();try{this.uninitialize();}catch(e){throw new Error(this.id+".destroy: Some trouble in uninitialize function: "+e.message);}var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_ad6){dfe(_ad6,d.disconnect);});dfe(this._subscribes,function(_ad7){dun(_ad7);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_ad5);_ad3.registry.remove(this.id);this._destroyed=true;}};mxui.widget.getDisableables=function(node){var list=[];run=function(node){var _ad8=node.childNodes;for(var i=0,_ad9;_ad9=_ad8[i];i++){if(_ad9.nodeType!=1){continue;}var id=_ad9.getAttribute("widgetId"),_ada=_ad3.byId(id);if(_ada&&!(/^dijit/.test(id)||_ada._btn_||_ada instanceof mxui.widget._Button)){list.push(_ada);}if(!(_ada instanceof mxui.widget._WidgetBase)){run(_ad9);}}};run(node);return list;};mxui.widget.fireOnReady=function(_adb,_adc){var _add=[];dojo.forEach(_adb,function(w){if(w.addOnLoad){_add.push(function(h){w.addOnLoad(h);});}});if(_adc){_add.push(function(){_adc();});}mendix.lang.sequence(_add);};mxui.widget.makeCallsBundle=function(_ade,_adf,_ae0){var _ae1=[],i=_ade.length;while(i--){var _ae2=_ade[i].prototype,fnc=_ae2[_ae0];fnc&&_ae1.push(fnc);}return _ae1.length?(function(){var call=null;for(var i=0,_ae3;_ae3=_ae1[i];i++){try{_ae3.call(this);}catch(e){var _ae4=_ae3.ctor&&_ae3.ctor.prototype,_ae5=(_ae4&&_ae4.declaredClass)||"some";logger.error(this.id+"."+_adf+": Can not execute "+_ae0+" function of "+_ae5+" addon :"+e.message);}}}):function(){};};mxui.widget.destroyChildren=function(node){var _ae6=_ad3.findWidgets(node);dojo.forEach(_ae6,function(_ae7){try{_ae7.destroyRecursive();}catch(e){logger.error(_ae7.id+".destroy: Unable to destroy:"+e.message);}});};mxui.widget.defineClass=function(_ae8,_ae9,_aea){var _aeb=(function(args){if(this instanceof arguments.callee){var _aec=(args&&args.callee==arguments.callee)?args:arguments;try{_ae8&&_ae8.apply(this,_aec);}catch(e){var _aed=typeof e=="string"?e:e.message;logger.error(this.id+".Unable to render widget. ERROR: "+_aed);this.loaded();this._broken=true;this._brokenError=_aed;var _aee=this.domNode&&this.domNode.parentNode,_aef=mxui.dom.div({refWidgetId:this.id,style:"color:red"},"Unable to render "+this.id+" widget: "+_aed);if(_aee){_aee.removeChild(this.domNode);_aee.appendChild(_aef);}else{var node=(arguments.length==2&&arguments[1].nodeName)?arguments[1]:null;if(node&&node.parentNode){node.parentNode.appendChild(_aef);}}}}else{if(_ae9){var _af0=(arguments.callee.caller)?"from scope "+arguments.callee.caller.toString():"from unknown scope";}return new arguments.callee(arguments);}});if(_ae8){for(var x in _ae8){_aeb[x]=_ae8[x];}_aeb.prototype=_ae8.prototype;_aeb.prototype.constructor=_aeb;}return _aeb;};mxui.widget.transformAddons=function(_af1){var _af2=[];for(var i=0,l=_af1.length;i<l;i++){var _af3=_af1[i],cons=(typeof _af3=="string")?dojo.getObject(_af3):_af3;if(cons==null||typeof (cons)=="object"){throw new Error("mxui.widget.declare: Mixin '"+_af3.toString()+"' is not loaded! Maybe it's broken???");}_af2.push(cons);}return _af2;};mxui.widget.createPrototype=function(_af4,_af5,_af6){var _af7=function(_af8){var _af9=_af8.inputargs,_afa=false;if(_af9 instanceof Array){var _afb={};for(var i=0,l=_af9.length;i<l;i++){if(typeof _af9[i]=="object"){for(var x in _af9[i]){_afb[x]=_af9[i][x];break;}_afa=true;}else{_afb[_af9[i]]="";}}if(_afa){}_af9=_afb;}if(_af9){var _afc=_af4.__inputargs?_af4.__inputargs:(_af4.__inputargs={});for(var i in _af9){_afc[i]=_af4[i]=_af9[i];}}};for(var i=0,l=_af5.length;i<l;i++){var _afd=_af5[i].prototype;_af7(_afd);}_af7(_af4);for(var i=0,l=_af6.length;i<l;i++){var _afe=_af6[i].prototype;_af7(_afe);}};mxui.widget.declare=function(_aff,_b00){var _b01=_b00.superclass||_ad3._Widget,_b02=_b00.mixins,_b03=_b00.constructor,_b04=_aff.split(".");if(!_b02&&_b00.addons){dojo.deprecated("mxui.widget.declare: addons are deprecated, use mixins instead (widget: "+_aff+")","","3.1");_b02=_b00.addons;}_b02=_b02||[];if(_b04.length==1){_aff="mxui.widget."+_b04;_b04=_aff.split(".");}var _b05=_b01.prototype["_mx_"]?[_b01]:[_b01,mxui.widget._Widget];var _b02=mxui.widget.transformAddons(_b02),_b06=_b05.concat(_b02),_b07=_b04.pop();_b00.moduleName=_b04.join(".");_b00.className=_b07;_b00["initializer"]=mxui.widget.makeCallsBundle(_b06,"create","initialize");_b00["uninitializer"]=mxui.widget.makeCallsBundle(_b06,"destroy","uninitialize");mxui.widget.createPrototype(_b00,_b05,_b02);var _b08=dojo.declare(_aff,_b06,_b00);var _b09=mxui.widget.defineClass(_b08,true,_aff);return dojo.setObject(_aff,_b09);};mxui.widget.createCSSMap=function(_b0a,css){for(var i in css){css[i]=_b0a+"-"+css[i];}css.baseClass=_b0a;return css;};mxui.widget._ContextHelperImpl={applyContext:function(_b0b,_b0c){this.mxcontext=_b0b;if(this.isContainer){this.applyContextRecursive(_b0c);}else{if(typeof this.update=="function"){var _b0d=_b0b.getTrackObject(),_b0e=_b0b.getTrackId();if(_b0d){this.update(_b0d,_b0c);}else{if(_b0e){mx.data.get({guid:_b0e,callback:function(obj){if(!obj){logger.error(this.id+".applyContext: error while fetching object with guid "+_b0e);}this.update(obj,_b0c);},error:function(e){mx.onError(e);this.update(null,_b0c);}},this);}else{this.update(null,_b0c);}}}else{_b0c&&_b0c();}}},applyContextRecursive:function(_b0f){var _b10=_ad3.findWidgets(this.domNode);if(_b10.length==0){_b0f&&_b0f();return;}this.callFetchOnChildren(this.mxcontext,_b10,_b0f);},patchChildImpl:function(_b11){if(_b11.applyContext==null){if(_b11.constructor){dojo.extend(_b11.constructor,mxui.widget._ContextHelperImpl);}else{dojo.mixin(_b11,mxui.widget._ContextHelperImpl);}}},callFetchOnChildren:function(_b12,_b13,_b14){var id=this.id,_b15=[],_b16=null;if(this.createContext){_b16=this.createContext();_b16.dupFrom(_b12);}else{_b16=_b12;}_b16.freeze();dojo.forEach(_b13,function(_b17,i){this.patchChildImpl(_b17);_b15.push(function(_b18){var _b19=function(){try{_b17.applyContext(_b16,_b18);}catch(e){logger.error(id+".applyContextRecursive: ERROR:"+_b17.id+": "+e.message,e);_b18();}};if((i+1)%10===0){setTimeout(_b19,0);}else{_b19();}});},this);var _b1a=dojo.hitch(mx.ui,"cleanContext",_b16.ident,this);mendix.lang.sequence(_b15,function(){_b1a();_b14&&_b14();});},isLoadedRecursive:function(_b1b,node){var _b1c=dojo.query("[widgetId]",(node!=null?node:this.domNode)),_b1d=_b1c.map(_ad3.byNode),_b1e=[],id=this.id;dojo.forEach(_b1d,function(kid){if(kid.addOnLoad){_b1e.push(function(_b1f){kid.addOnLoad(_b1f);});}else{}});mendix.lang.collect(_b1e,function(){_b1b&&_b1b();});}};dojo.declare("mxui.widget._ContextHelper",null,mxui.widget._ContextHelperImpl);dojo.declare("mxui.widget._Widget",[mxui.widget._ContextHelper],{_mx_:true,_loaded:false,_suspended:false,_loadCalls:null,_destroyCalls:null,_liveConnects:null,_subscriptions:null,mxid:"",content_id:"",app_flow_id:"",tabIndex:"",focusIndex:"",isInactive:false,attributeMap:dojo.delegate(_ad3._Widget.prototype.attributeMap,{mxid:"",isInactive:"",focusIndex:""}),constructor:function(){this._loadCalls=[];this._destroyCalls=[];this._liveConnects=[];this._subscriptions=[];},_getDisabledAttr:function(){return this.isInactive;},_setDisabledAttr:function(_b20){this.isInactive=!!_b20;},loaded:function(){this._loaded=true;var _b21=this._loadCalls;while(_b21.length!=0){try{(_b21.shift())();}catch(e){logger.error(this.id+".loaded/actLoaded: Broken onLoad function!!! "+e.message);}}this.loaded=function(){return false;};return true;},actLoaded:function(_b22){this.loaded();_b22&&_b22();},isLoaded:function(){return this._loaded;},rendered:function(){dojo.deprecated(this.id+".rendered is deprecated, use loaded instead","","3.1");this.loaded();},actRendered:function(_b23){dojo.deprecated(this.id+".actRendered is deprecated, use actLoaded instead","","3.1");this.actLoaded(_b23);},isRendered:function(){dojo.deprecated(this.id+".isRendered is deprecated, use isLoaded instead","","3.1");return this.isLoaded();},addOnLoad:function(fnc){this._loaded?fnc():this._loadCalls.push(fnc);},addOnDestroy:function(fnc){this._destroyCalls.push(fnc);},registerOnDestroy:function(f1){dojo.deprecated(this.id+"registerOnDestroy is deprecated, use addOnDestroy instead","","3.1");this.addOnDestroy(f1);},subscribe:function(sub){var subs=this._subscriptions,guid=sub.guid,val=sub.val,attr=sub.attr,_b24=sub.entity;if(sub.attr){if(dojo.some(subs,function(sub){return ((sub.guid==guid)&&(sub.attr==attr));})){return;}}else{if(sub.val){if(dojo.some(subs,function(sub){return sub.guid==guid&&sub.val;})){return;}}else{if(sub.guid){if(dojo.some(subs,function(sub){return ((sub.guid==guid)&&(sub.attr==null));})){return;}}else{if(sub.entity){if(dojo.some(subs,function(sub){return (sub.entity&&sub.entity==_b24);})){return;}}}}}var _b25=mx.data.subscribe(sub,this);subs.push(_b25);return _b25;},unsubscribe:function(_b26){var subs=this._subscriptions;for(var i=subs.length-1,sub;sub=subs[i];i--){if(sub==_b26){mx.data.unsubscribe(sub);subs.splice(i,1);break;}}},subscribeToClass:function(_b27){dojo.deprecated(this.id+"subscribeToClass is deprecated, use subscribe instead","","3.1");this.subscribe({entity:_b27,callback:dojo.hitch(this,"objectUpdate")});},subscribeToGuid:function(guid){dojo.deprecated(this.id+"subscribeToGuid is deprecated, use subscribe instead","","3.1");this.subscribe({guid:guid,callback:dojo.hitch(this,"objectUpdate")});},subscribeToChange:function(guid,attr,_b28){dojo.deprecated(this.id+"subscribeToChange is deprecated, use subscribe instead","","3.1");if(!isNaN(guid)){this.subscribe({guid:guid,attr:attr,callback:dojo.hitch(this,_b28)});}},removeClassSubscriptions:function(_b29){dojo.deprecated(this.id+".removeClassSubscriptions is deprecated, use this.unsubscribe instead","","3.1");this._subscriptions=dojo.filter(this._subscriptions,function(sub){if(sub.entity!=null){mx.data.unsubscribe(sub);return false;}return true;});_b29&&_b29();},removeGuidSubscriptions:function(_b2a){dojo.deprecated(this.id+".removeGuidSubscriptions is deprecated, use this.unsubscribe instead","","3.1");this._subscriptions=dojo.filter(this._subscriptions,function(sub){if((sub.guid!=null)&&(sub.attr==null)){mx.data.unsubscribe(sub);return false;}return false;});_b2a&&_b2a();},removeChangeSubscriptions:function(){dojo.deprecated(this.id+".removeChangeSubscriptions is deprecated, use this.unsubscribe instead","","3.1");this._subscriptions=dojo.filter(this._subscriptions,function(sub){if((sub.guid!=null)&&(sub.attr!=null)){mx.data.unsubscribe(sub);return false;}return true;});},removeSubscriptions:function(){var _b2b=this._subscriptions;while(_b2b.length!=0){mx.data.unsubscribe(_b2b.shift());}this._subscriptions=[];delete this._updatedObject;},liveConnect:function(node,evt,map){this._liveConnects.push(mxui.dom.liveConnect(node,evt,this,map));},liveDisconnect:function(_b2c){var _b2d=this._liveConnects;for(var i=0,_b2e;_b2e=_b2d[i];i++){if(_b2e==_b2c){mxui.dom.liveDisconnect(_b2c);_b2d.splice(i,1);return;}}},disconnectLive:function(){dojo.deprecated(this.id+".disconnectLive is deprecated, use liveDisconnect instead","","3.1");var _b2f=this._liveConnects;while(_b2f.length){mxui.dom.liveDisconnect(_b2f.pop());}},domData:function(){this.domData=mxui.dom.getScopedData();return this.domData.apply(this,arguments);},getLocalUrl:function(_b30){dojo.deprecated(this.id+".getLocalUrl is deprecated","","3.1");return require.toUrl(this.moduleName,_b30);},markupFactory:function(_b31,node,_b32){var _b33=mxui.dom.getTabIndex(node);if(_b33){_b31.focusIndex=_b33;}_b31.content_id=_b31.content_id?_b31.content_id:node.getAttribute("content_id");return new _b32(_b31,node);},resizeContent:function(){this.mxform.resize();},disposeContent:function(){this.mxform.dispose();},getTitle:function(){return this.mxform.getTitle();},getUIPlace:function(){return this.mxform.place;},getContent:function(){return this.content_id;},objectUpdate:function(obj,_b34){if(this._suspended){this._updatedObject=obj;_b34&&_b34();}else{if(this.objectUpdateNotification.length==2){this.objectUpdateNotification(obj,_b34);}else{this.objectUpdateNotification(obj);_b34&&_b34();}}},objectUpdateNotification:function(obj){},validationUpdate:function(){return this.refresh();},runAct:function(_b35,_b36,_b37){dojo.deprecated(this.id+".runAct is deprecated, use sequence or collect instead","","3.1");var _b38=mendix.lang[_b37?"collect":"sequence"];_b38(this,_b35,_b36);},sequence:function(_b39,_b3a){mendix.lang.sequence(_b39,_b3a,this);},collect:function(_b3b,_b3c){mendix.lang.collect(_b3b,_b3c,this);},resume:function(){this._suspended=false;if("_updatedObject" in this){this.objectUpdateNotification(this._updatedObject);delete this._updatedObject;}this.resumed&&this.resumed();},suspend:function(){this._suspended=true;this.suspended&&this.suspended();},isSuspended:function(){return this._suspended;},addFocusBox:function(node){var box=mxui.wm.focus.addBox(node);this.addOnDestroy(function(){mxui.wm.focus.unregister(box);});return box;},getFocusBox:function(node){return mxui.wm.focus.byNode(node);},uninitialize:function(){if(!mxui.widget._Widget.prototype.isLoaded.call(this)){logger.error("Looks like "+this.id+" never loads up, check the structure of the widget");this.addOnLoad(dojo.hitch(this,function(){try{this.uninitialize();}catch(e){logger.error(this.id+".uninitialize: ERROR when calling uninitialize");}}));}else{this.removeSubscriptions();var _b3d=this._liveConnects,_b3e=this._destroyCalls;while(_b3d.length){mxui.dom.liveDisconnect(_b3d.pop());}while(_b3e.length){(_b3e.shift()).call(this);}}}});});},"mxui/widget/_WidgetBase":function(){define(["dojo","dijit","dojox"],function(dojo,_b3f,_b40){dojo.provide("mxui.widget._WidgetBase");dojo.declare("mxui.widget._WidgetBase",_b3f._WidgetBase,{mxid:"",mxform:null,mxcontext:null,doParse:true,readOnly:false,ignoreUpdates:false,autoLoad:true,_loaded:false,_destroyed:false,_cachedDisabled:false,_disabled:false,_suspended:false,_loadCalls:null,_destroyCalls:null,_listeners:null,_subscriptions:null,"-chains-":{constructor:"after",uninitialize:"before"},constructor:function(_b41,node){this._loadCalls=[];this._destroyCalls=[];this._listeners=[];this._subscriptions=[];this.mxcontext=new mendix.lib.MxContext();if(this.autoLoad){this.set("loaded",true);}},getTemplate:function(name){return mx.ui.getTemplate(this.mxid,name);},parseContent:function(node,_b42,_b43){var _b44={mxform:this.mxform,validator:this.validator,ignoreUpdates:this.ignoreUpdates};if(this.readOnly){_b44.readOnly=true;}if(this.doParse||_b43){return mxui.html.parser.parse(node||this.domNode,dojo.mixin(_b44,_b42));}else{return [];}},getChildren:function(_b45){if(_b45){return dojo.query("[widgetid]",this.domNode).map(_b3f.byNode);}else{return _b3f.findWidgets(this.domNode);}},resizeChildren:function(node,_b46){var _b47=_b3f.findWidgets(node);if(_b47.length>1){_b46=true;}dojo.forEach(_b47,function(_b48){var _b49=_b48.domNode.parentNode;if(_b49===node||_b49===_b48.mxform.domNode){if(typeof _b48.resize==="function"){if(_b46){_b48.resize();}else{var box=dojo.contentBox(node);_b48.resize({w:box.w,h:box.h});}}}});},applyContext:function(_b4a,_b4b){var _b4c=this.mxcontext;if(!/reset/i.test(this.contextAction)){_b4c.mixin(_b4a);if(this.dropContext){for(var i=0,_b4d;_b4d=this.dropContext[i];i++){_b4c.unsetContext(_b4d);}}}else{if(this.preserveTrackObject){if(_b4a){_b4c.setObject(_b4a.getTrackObject(),_b4a.getTrackEntity(),_b4a.getTrackId());}else{_b4c.setObject(null);}}}if(typeof this.update=="function"){var _b4e=_b4c.getObject(),_b4f=_b4c.getTrackId(),_b50=dojo.hitch(this,function(obj){try{this.update(obj,_b4b);}catch(e){throw new Error(this.id+".applyContext: "+e);}});if(_b4e){_b50(_b4e);}else{if(_b4f){mx.data.get({guid:_b4f,callback:function(obj){if(!obj){logger.error(this.id+".applyContext: error while fetching object with guid "+_b4f);}_b50(obj);},error:function(e){mx.onError(e);_b50(null);}},this);}else{_b50(null);}}}else{var _b51=_b3f.findWidgets(this.domNode);this.passContext(_b51,_b4a,_b4b);}},passContext:function(_b52,_b53,_b54){if(typeof _b53=="function"){_b54=_b53;_b53=this.mxcontext;}else{_b53=_b53||this.mxcontext;}var _b55=[];for(var i=0,_b56;_b56=_b52[i];i++){if(_b56.applyContext){_b55.push(function(_b57){return function(cb){try{_b57.applyContext(_b53,cb);}catch(e){throw new Error(_b57.id+".applyContext: "+e);}};}(_b56));}else{var _b58=_b3f.findWidgets(_b56.domNode);this.passContext(_b58,_b53,_b54);}}this.collect(_b55,_b54);},subscribe:function(sub){if(this.ignoreUpdates){return;}var _b59=mx.data.subscribe(sub,this);this._subscriptions.push(_b59);return _b59;},unsubscribe:function(_b5a){if(this.ignoreUpdates){return;}var list=this._subscriptions;for(var i=0,_b5b;_b5b=list[i];i++){if(_b5b==_b5a){mx.data.unsubscribe(_b5a);list.splice(i,1);break;}}},unsubscribeAll:function(){var subs=this._subscriptions;while(subs.length){mx.data.unsubscribe(subs.pop());}},listen:function(_b5c,_b5d){var _b5e=this.mxform.listen(_b5c,dojo.hitch(this,_b5d));this._listeners.push(_b5e);return _b5e;},unlisten:function(_b5f){var list=this._listeners;for(var i=0,_b60;_b60=list[i];i++){if(_b60==_b5f){this.mxform.unlisten(_b5f);list.splice(i,1);break;}}},capture:function(_b61,evt,_b62){var _b63=mxui.dom.capture(_b61,evt,dojo.hitch(this,_b62));this.addOnDestroy(_b63.remove);},collect:function(_b64,_b65){mendix.lang.collect(_b64,_b65,this);},sequence:function(_b66,_b67){mendix.lang.sequence(_b66,_b67,this);},translate:function(str,args,_b68){return mx.ui.translate(this.declaredClass,str,args,_b68);},domData:function(){this.domData=mxui.dom.getScopedData();return this.domData.apply(this,arguments);},_getSuspendedAttr:function(){return this._suspended;},_setSuspendedAttr:function(_b69){var _b6a=!!_b69;if(this._suspended!=_b6a){this._suspended=_b6a;var func=_b6a?"suspend":"resume";try{this[func]();}catch(e){throw new Error(this.id+"."+func+": "+e);}}},resume:function(){},suspend:function(){},checkDisabled:function(){return this.readOnly||this._disabled;},updateDisabled:function(_b6b){if(_b6b!=null){this._disabled=!!_b6b;}_b6b=this.checkDisabled();if(_b6b!=this._cachedDisabled){this._cachedDisabled=_b6b;var func=_b6b?"disable":"enable";try{this[func]();}catch(e){throw new Error(this.id+"."+func+": "+e);}}},_getDisabledAttr:function(){return this._cachedDisabled;},_setDisabledAttr:function(_b6c){return this.updateDisabled(_b6c);},enable:function(){},disable:function(){},_setMxidAttr:function(_b6d){dojo.attr(this.domNode,"data-mendix-id",_b6d);},_setFocusIndexAttr:function(_b6e){if(_b6e!=null){dojo.attr(this.domNode,"focusindex",_b6e);}},_getLoadedAttr:function(){return this._loaded;},_setLoadedAttr:function(_b6f){this._loaded=!!_b6f;if(_b6f){var _b70=this._loadCalls;while(_b70.length){_b70.shift()();}}},actLoaded:function(_b71){this.set("loaded",true);_b71&&_b71();},addOnLoad:function(fnc){this._loaded?fnc():this._loadCalls.push(fnc);},addOnDestroy:function(fnc){this._destroyed?fnc():this._destroyCalls.push(fnc);},destroy:function(_b72){this._beingDestroyed=true;try{this.uninitialize();}catch(e){throw new Error(this.id+".uninitialize: "+e);}function _b73(w){if(w.destroyRecursive){w.destroyRecursive(_b72);}else{if(w.destroy){w.destroy(_b72);}}};dojo.forEach(this._connects,dojo.hitch(this,"disconnect"));dojo.forEach(this._supportingWidgets,_b73);if(this.domNode){dojo.forEach(_b3f.findWidgets(this.domNode),_b73);}this.destroyRendering(_b72);_b3f.registry.remove(this.id);this._destroyed=true;},uninitialize:function(){if(this._loaded){var list=this._listeners,_b74=this._destroyCalls;while(list.length){this.mxform.unlisten(list.pop());}this.unsubscribeAll();while(_b74.length){_b74.shift().call(this);}}else{logger.error(this.id+".uninitialize: widget not loaded yet, check widget structure");this.addOnLoad(dojo.hitch(this,function(){try{this.uninitialize();}catch(e){throw new Error(this.id+".unitialize: "+e);}}));}}});mxui.widget.ready=function(_b75,_b76,_b77){var _b78=[];for(var i=0,_b79;_b79=_b75[i];i++){if(_b79.addOnLoad){_b78.push(function(_b7a){return function(_b7b){_b7a.addOnLoad(_b7b);};}(_b79));}}mendix.lang.collect(_b78,_b76,_b77);};});},"mxui/widget/_Button":function(){define(["dojo","dijit","dojox"],function(dojo,_b7c,_b7d){dojo.provide("mxui.widget._Button");dojo.declare("mxui.widget._Button",[mxui.widget._WidgetBase,mxui.mixin._DynamicOptionHelper],{renderType:"button",caption:"",iconUrl:"",iconClass:"",direction:0,cssClasses:null,cssStyle:"",needsObject:false,_textNode:null,_iconNode:null,_isCls:false,_clickCoords:null,_mouseUpConn:null,_ignoreClick:false,_typeRegex:/(^| )btn-(primary|info|success|warning|danger|inverse)( |$)/,buildRendering:function(){var $=mxui.dom.create,_b7e=this._textNode=document.createTextNode("");var _b7f={};if(this.cssStyle){_b7f={"style":this.cssStyle};}var _b80=this.cssClasses||[];if(typeof _b80==="string"){_b80=[_b80];}var _b81=_b80.join(" ");if(this.renderType==="link"){this.domNode=$("span",dojo.mixin(_b7f,{"class":"mx-link"+" "+_b81,})," ",$("a",{tabindex:-1},_b7e)," ");}else{if(!this._typeRegex.test(_b80)){_b81="btn-default "+_b81;}this.domNode=$("button",dojo.mixin(_b7f,{"type":"button","class":"btn mx-button "+_b81,})," ",_b7e," ");}this.connect(this.domNode,"onclick","_onClick");this.connect(this.domNode,"mousedown","_mouseDown");this.connect(this.domNode,"click",function(e){dojo.stopEvent(e);});this.connect(this.domNode,"keypress",function(e){if(e.charOrCode===dojo.keys.ENTER){this.onClick(e);}});},update:function(obj,_b82){this.unsubscribeAll();this._mxObject=obj;if(obj){var self=this;this.subscribe({guid:obj.getGuid(),callback:function(){self.refresh();}});}this.refresh(_b82);},refresh:function(_b83){this.updateOptions(["caption"],this._mxObject,function(_b84){this.set("caption",_b84.caption);_b83&&_b83();});},onClick:function(e){},_mouseDown:function(e){this._downPos={x:e.pageX,y:e.pageY};this._mouseUpConn=this.connect(document,"mouseup","_mouseUp");},_mouseUp:function(e){this.disconnect(this._mouseUpConn);var old=this._downPos,cur={x:e.pageX,y:e.pageY};var _b85=Math.sqrt(Math.pow(old.x-cur.x,2)+Math.pow(old.y-cur.y,2));if(_b85<10){var evt=mxui.dom.synthesizeEvent(e,{type:"click",target:this.domNode,currentTarget:this.domNode});this.domNode.focus();this.onClick(evt);}this._ignoreClick=true;setTimeout(function(){self._ignoreClick=false;},20);},_onClick:function(e){if(this._ignoreClick){return;}this.domNode.focus();this.onClick(e);},checkDisabled:function(){return this.needsObject?!this.mxcontext.hasTrackId():false;},enable:function(){if(this.renderType=="button"){this.domNode.removeAttribute("disabled");}},disable:function(){if(this.renderType=="button"){this.domNode.setAttribute("disabled","disabled");}},_setCaptionAttr:function(_b86){this._textNode.nodeValue=this.caption=_b86;},_setIconClassAttr:function(cls){this._setIcon(cls,true);},_setIconUrlAttr:function(img){this._setIcon(img,false);},_setIconVisibleAttr:function(_b87){this._iconNode.style.display=_b87?"":"none";},_setIcon:function(name,_b88){var $=mxui.dom.create,_b89=(this._isCls!=_b88),_b8a=this.domNode,node=this._iconNode;if(node&&(_b89||!name)){_b8a.removeChild(node.nextSibling);_b8a.removeChild(node);}if(name){if(!node||_b89){if(_b88){node=this._iconNode=$("span",{"class":name});}else{node=this._iconNode=$("img",{src:mx.appUrl+name});}dojo.place(node,_b8a,"first");}else{if(_b88){dojo.replaceClass(node,name,this.iconClass);}else{node.src=name;}}if(_b88){this.iconUrl="";this.iconClass=name;}else{this.iconUrl=name;this.iconClass="";}this._isCls=_b88;}else{this._isCls=false;this._iconNode=null;this.iconUrl=this.iconClass="";}},_setFocusIndexAttr:function(_b8b){dojo.attr(this.domNode,"tabindex",_b8b);}});});},"mxui/widget/_FormWidget":function(){define(["dojo","dijit","dojox"],function(dojo,_b8c,_b8d){dojo.provide("mxui.widget._FormWidget");dojo.declare("mxui.widget._FormWidget",[mxui.widget._WidgetBase,mxui.mixin._ValidationHelper],{attributePath:"",events:null,editNode:null,readNode:null,_mxObject:null,_rootSubs:null,_objsub:null,_attrsub:null,_path:null,_attribute:"",_entity:"",postMixInProperties:function(){var path=this._path=this.attributePath.split("/");this._attribute=path.pop();this._entity=path.slice(-1)[0]||this.entity;path.shift();this._rootSubs=[];},buildRendering:function(){if(this.readNode&&!this.domNode){this.domNode=mxui.dom.create("div",this.editNode);}if(this.mask){var mask=new mxui.lib.MxInputMask(this.editNode,this.mask);this.addOnDestroy(dojo.hitch(mask,"destroy"));}},startup:function(){this.set("disabled",this.readOnly);this.setupValidation(this._attribute);this.connectEvents();},update:function(obj,_b8e){while(this._rootSubs.length>0){this.unsubscribe(this._rootSubs.shift());}var self=this,_b8f=function(){mx.data.fetch(obj,self._path,{usexpath:true},function(obj){self.updateObject(obj,_b8e);},function(e){mx.onError(e);self.updateObject(null,_b8e);});};if(obj){if(this._path.length>0){this._rootSubs.push(this.subscribe({guid:obj.getGuid(),callback:function(guid){_b8f();}}));this._rootSubs.push(this.subscribe({guid:obj.getGuid(),attr:this._path[0],callback:function(guid,attr,val){_b8f();}}));}_b8f();}else{this.updateObject(null,_b8e);}},updateObject:function(obj,_b90){if(obj!=this._mxObject){this._mxObject=obj;this.setValidationObject(obj);}this.removeError();this.updateDisabled();if(this._objsub){this.unsubscribe(this._objsub);this._objsub=null;}if(this._attrsub){this.unsubscribe(this._attrsub);this._attrsub=null;}if(obj){var _b91=dojo.hitch(this,function(val){this.removeError();if(this.get("value")!=val){this.set("value",val);}});this._objsub=this.subscribe({guid:obj.getGuid(),callback:function(){_b91(this._mxObject.get(this._attribute));}});this._attrsub=this.subscribe({guid:obj.getGuid(),attr:this._attribute,callback:function(guid,attr,val){_b91(val);}});this.set("value",obj.get(this._attribute));}else{this.set("value","");}_b90&&_b90();},connectEvents:function(){var node=this.editNode||this.domNode;this.connect(node,"change","onChange");for(var evt in this.events){if(evt!="change"){this.connect(node,evt,dojo.hitch(this,"handleEvent",evt));}}},handleEvent:function(evt){var ev=this.events&&this.events[evt];ev&&this.validatedMicroflow(ev);},onChange:function(e){var ev=this.events&&this.events.change,_b92=this.get("value");if(this.isValid()){this._mxObject.set(this._attribute,_b92);this.set("value",_b92);}ev&&this.validatedMicroflow(ev);},enable:function(){if(this.editNode&&this.readNode){this.domNode.replaceChild(this.editNode,this.readNode);}else{this.domNode.removeAttribute("disabled");}},disable:function(){if(this.editNode&&this.readNode){var _b93=this.get("value");if(_b93!=null){this.set("value",_b93);}this.domNode.replaceChild(this.readNode,this.editNode);}else{this.domNode.setAttribute("disabled","disabled");}},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._attribute));},getType:function(){return mx.meta.getEntity(this._entity).getAttributeType(this._attribute);}});});},"mxui/widget/Underlay":function(){define(["dojo","dijit","dojox"],function(dojo,_b94,_b95){dojo.provide("mxui.widget.Underlay");dojo.declare("mxui.widget.Underlay",mxui.widget._WidgetBase,{_count:0,buildRendering:function(){this.domNode=mxui.dom.create("div",{"class":"mx-underlay"});},show:function(_b96){if(this._count++===0){var node=this.domNode;if(_b96){dojo.style(node,"opacity",0);dojo.body().appendChild(node);dojo.fadeIn({end:0.5,node:node,duration:_b96}).play();}else{dojo.body().appendChild(node);}}},hide:function(_b97){if(--this._count===0){var node=this.domNode;if(_b97){dojo.fadeOut({node:node,duration:_b97,onEnd:function(){mxui.dom.orphan(node);}}).play();}else{mxui.dom.orphan(node);}}}});});},"mxui/widget/Dialog":function(){define(["dojo","dijit","dojox","dojo/require!mxui/widget/_Popup"],function(dojo,_b98,_b99){dojo.provide("mxui.widget.Dialog");dojo.require("mxui.widget._Popup");dojo.declare("mxui.widget.Dialog",mxui.widget._Popup,{modal:false,caption:"",content:"",buttons:null,closable:true,autoFocus:true,resizable:true,_handler:null,_headerNode:null,_bodyNode:null,_footerNode:null,_captionNode:null,_closeButton:null,_prevFocus:null,_showAnim:null,_hideAnim:null,_layerId:1,buildRendering:function(){this.buildDialog();this.setCaption(this.caption);this.setContent(this.content);this.setButtons(this.buttons);},buildDialog:function(){var $=mxui.dom.create;this.domNode=$("div",{"class":"modal-dialog mx-dialog"},this._contentNode=$("div",{"class":"modal-content mx-dialog-content"},this._headerNode=$("div",{"class":"modal-header mx-dialog-header"},this._captionNode=$("h4",{"class":"caption mx-dialog-caption"})),this._bodyNode=$("div",{"class":"modal-body mx-dialog-body"}),this._footerNode=$("div",{"class":"modal-footer mx-dialog-footer",style:"display: none"})));dojo.style(this.domNode,"opacity",0);if(this.closable){var _b9a=this._closeButton=$("button",{type:"button","class":"close mx-dialog-close"});_b9a.innerHTML="&times;";this.connect(_b9a,dojo.touch.press,function(){this.hide();});this._headerNode.insertBefore(_b9a,this._captionNode);}mxui.wm.focus.addBox(this._footerNode);},show:function(){if(this._visible){return;}this.onShow();var node=this.domNode,_b9b=this.delay;if(_b9b){if(this._hideAnim&&this._hideAnim.status()==="playing"){this._hideAnim.stop();}dojo.body().appendChild(node);this._showAnim=dojo.fadeIn({node:node,duration:_b9b});this._showAnim.play();}else{dojo.body().appendChild(this.domNode);}this._prevFocus=mxui.wm.focus.get();if(this._prevFocus){this._prevFocus.blur();}if(this.autoFocus){mxui.wm.focus.first(this._footerNode);}this._handler=this.connect(window,"orientationchange","center");this.focus();this.resize();this.center();},hide:function(_b9c){if(!this._visible){return;}this.onHide();var node=this.domNode,_b9d=this.delay;this.disconnect(this._handler);var _b9e=this._prevFocus;if(_b9e){var _b9f=mxui.wm.focus.get(),_ba0=true;if(_b9f){_ba0=false;var elem=_b9f;while(elem=elem.parentNode){if(elem===node){_ba0=true;break;}}}if(_ba0){mxui.wm.focus.put(_b9e);}}var self=this,end=function(){mxui.dom.orphan(node);self.onAfterHide();_b9c&&_b9c();};if(_b9d){if(this._showAnim&&this._showAnim.status()==="playing"){this._showAnim.stop();}this._hideAnim=dojo.fadeOut({node:node,duration:_b9d,onEnd:end,onStop:end});this._hideAnim.play();}else{end();}},onAfterHide:function(){},layout:function(){var _ba1=dojo.contentBox(this.domNode).h,_ba2=dojo.marginBox(this._headerNode).h,_ba3=dojo.marginBox(this._footerNode).h;dojo.contentBox(this._bodyNode,{h:_ba1-_ba2-_ba3});},setCaption:function(_ba4){var _ba5=mxui.dom.escapeString(_ba4);this._captionNode.innerHTML=_ba5||"&nbsp;";},setContent:function(_ba6){mxui.dom.empty(this._bodyNode);if(_ba6){this._bodyNode.appendChild(mxui.dom.create("#",_ba6));}},setButtons:function(_ba7){mxui.dom.empty(this._footerNode);if(_ba7){for(var i=0,_ba8;_ba8=_ba7[i];i++){this._footerNode.appendChild(_ba8);}this._footerNode.style.display="";}},uninitialize:function(){this.hide();}});});},"mxui/widget/_Popup":function(){define(["dojo","dijit","dojox","dojo/require!mxui/lib/Moveable,mxui/lib/Resizable"],function(dojo,_ba9,_baa){dojo.provide("mxui.widget._Popup");dojo.require("mxui.lib.Moveable");dojo.require("mxui.lib.Resizable");dojo.declare("mxui.widget._Popup",mxui.widget._WidgetBase,{modal:false,delay:200,_layers:[{index:100,stack:[]},{index:1000,stack:[]}],_mover:null,_resizer:null,_prevBox:null,_maximized:false,_visible:false,_minWidth:300,_minHeight:150,_margin:10,_underlay:new mxui.widget.Underlay(),postCreate:function(){this._mover=new mxui.lib.Moveable(this.domNode,{handle:this._headerNode,margin:this._margin,delay:5});this.connect(this._mover,"onMoveStart",function(e){if(this._maximized){var box=this._prevBox;this.resize({l:e.pageX-box.w/2,w:box.w,h:box.h});}});if(this.resizable){this._resizer=new mxui.lib.Resizable(this.domNode,{margin:this._margin,resizer:dojo.hitch(this,"resize"),minWidth:this._minWidth,minHeight:this._minHeight});this.connect(this._headerNode,"dblclick",function(){this.maximize();});}var _bab=function(){this.resize(null,true);};this.connect(this.mxform,"resize",_bab);this.connect(mx.ui,"resize",_bab);this._layers[this._layerId].stack.push(this);},center:function(){var node=this.domNode,box=dojo.contentBox(node),port=_ba9.getViewport();dojo.style(node,{top:Math.max(0,0.7*(port.h/2-box.h/2))+"px",left:Math.max(0,port.w/2-box.w/2)+"px"});},maximize:function(redo){if(this._maximized&&!redo){this._maximized=false;this.resize(this._prevBox);}else{var _bac=_ba9.getViewport(),box=redo?this._prevBox:dojo.marginBox(this.domNode);this.resize({t:0,l:0,w:_bac.w,h:_bac.h});this._prevBox=box;this._maximized=true;}},resize:function(box,_bad){if(!this._visible){return;}if(this._maximized){if(_bad){this.maximize(true);return;}else{this._maximized=false;}}box=box||{};var _bae=this._margin,_baf=_ba9.getViewport(),_bb0=_baf.w-_bae*2,_bb1=_baf.h-_bae*2,_bb2=dojo.delegate(dojo.contentBox(this.domNode),box);if(_bb2.w>_bb0){box.w=_bb2.w=_bb0;}if(_bb2.w<this._minWidth){box.w=this._minWidth;}if(_bb2.h>_bb1){box.h=_bb2.h=_bb1;}if(_bb2.h<this._minHeight){box.h=this._minHeight;}for(var i in box){dojo.contentBox(this.domNode,box);if("h" in box){this.layout();}break;}mxui.dom.moveIntoView(this.domNode,_bae);},onShow:function(){this._visible=true;if(this.modal){this._underlay.show();}},onHide:function(){this._visible=false;if(this.modal){this._underlay.hide();}this.focusPrevious();},stack:function(){var _bb3=this._layers[this._layerId].stack,_bb4=_ba9.getViewport().w*0.2,_bb5=50,_bb6=[],_bb7=0,gap=20;dojo.some(_bb3,function(pane){var _bb8=_bb4+(_bb7*gap)-(0.5*gap),_bb9=_bb8+gap,stop=true;_bb7++;dojo.some(_bb3,function(pane){var box=dojo.marginBox(pane.domNode);if(_bb8<box.l&&box.l<_bb9){_bb6.push(box);stop=false;return true;}});return stop;});var _bba=gap*_bb6.length;dojo.style(this.domNode,{left:_bb4+_bba+"px",top:_bb5+_bba+"px"});},focus:function(){var _bbb=this._layers[this._layerId],_bbc=_bbb.stack,_bbd=_bbb.stack=[],_bbe=_bbb.index;dojo.forEach(_bbc,function(pane){if(pane.id!=this.id){_bbd.push(pane);pane.deactivate&&pane.deactivate();}else{pane.activate&&pane.activate();}},this);_bbd.sort(function(a,b){return a.domNode.style.zIndex-b.domNode.style.zIndex;});_bbd.push(this);for(var x=0,pane;pane=_bbd[x];x++){_bbe=_bbe+2;pane.domNode.style.zIndex=_bbe;}if(this.modal){this._underlay.domNode.style.zIndex=_bbe-1;}},focusPrevious:function(){var id=this._layerId;do{var _bbf=this._layers[id].stack,_bc0;for(var i=_bbf.length-1;i>=0;i--){if(_bbf[i]._visible){_bbf[i].focus();return;}}}while(id-->0);},uninitialize:function(){this._mover.destroy();if(this._resizer){this._resizer.destroy();}var _bc1=this._layers[this._layerId].stack;_bc1.splice(dojo.indexOf(_bc1,this),1);this.focusPrevious();}});});},"mxui/lib/Moveable":function(){define(["dojo","dijit","dojox"],function(dojo,_bc2,_bc3){dojo.provide("mxui.lib.Moveable");dojo.declare("mxui.lib.Moveable",null,{node:null,handle:null,margin:0,delay:0,_events:null,_start:null,_moving:false,constructor:function(node,_bc4){_bc4=_bc4||{};this.node=node;this.handle=_bc4.handle||node;this.margin=_bc4.margin||0;this.delay=_bc4.delay||0;this._events=[dojo.on(this.handle,"dragstart",dojo.stopEvent),dojo.on(this.handle,"selectstart",dojo.stopEvent)];dojo.setSelectable(this.handle,false);this.reset();},reset:function(){this.clean();this._events.push(dojo.on(this.handle,dojo.touch.press,dojo.hitch(this,"onMouseDown")));},clean:function(){while(this._events.length>3){this._events.pop().remove();}},prepare:function(e){var pos=dojo.position(this.node);this._start={t:pos.y,l:pos.x,x:e.pageX,y:e.pageY};},onMouseDown:function(e){if(!this.delay){this.onMoveStart(e);}this.clean();this.prepare(e);this._events.push(dojo.on(document,dojo.touch.move,dojo.hitch(this,"onMouseMove")),dojo.on(document,dojo.touch.release,dojo.hitch(this,"onMouseUp")));e.preventDefault();},onMouseMove:function(e){var _bc5=this.node.style,_bc6=this._start,dims={};if(!this._moving){if(Math.sqrt(Math.pow(e.pageX-_bc6.x,2)+Math.pow(e.pageY-_bc6.y,2))>this.delay){this.onMoveStart(e);this.prepare(e);}return;}_bc5.top=dims.t=_bc6.t+(e.pageY-_bc6.y)+"px";_bc5.left=dims.l=_bc6.l+(e.pageX-_bc6.x)+"px";this.onMoving(dims);e.preventDefault();},onMouseUp:function(e){if(this._moving){this.onMoveStop(e);}this.reset();},onMoveStart:function(e){this._moving=true;},onMoving:function(e){},onMoveStop:function(e){this._moving=false;mxui.dom.moveIntoView(this.node,this.margin);},destroy:function(){while(this._events.length){this._events.pop().remove();}}});});},"mxui/lib/Resizable":function(){define(["dojo","dijit","dojox"],function(dojo,_bc7,_bc8){dojo.provide("mxui.lib.Resizable");dojo.declare("mxui.lib.Resizable",null,{node:null,margin:0,resizer:null,minWidth:0,minHeight:0,_events:null,_start:null,_resizing:false,constructor:function(node,_bc9){_bc9=_bc9||{};this.node=node;this.margin=_bc9.margin||0;this.resizer=_bc9.resizer;this.minWidth=_bc9.minWidth||0;this.minHeight=_bc9.minHeight||0;var $=mxui.dom.create,frag=$("#"),dirs=["n","e","s","w","ne","se","sw","nw"];for(var i=0,dir;dir=dirs[i];i++){var _bca=$("div",{"class":"mx-resizer mx-resizer-"+dir,"data-resize-dir":dir});dojo.setSelectable(_bca,false);frag.appendChild(_bca);}node.appendChild(frag);this._events=[];this.reset();},reset:function(){this.clean();var self=this;this._events=[dojo.on(this.node,dojo.touch.press,function(e){var dir=e.target.getAttribute("data-resize-dir");if(dir){self.onMouseDown(dir,e);}})];},clean:function(){while(this._events.length){this._events.pop().remove();}},onMouseDown:function(dir,e){this.onResizeStart(e);this.clean();this._start={box:dojo.marginBox(this.node),viewport:_bc7.getViewport(),pageX:e.pageX,pageY:e.pageY};this._events.push(dojo.on(document,dojo.touch.move,dojo.hitch(this,"onMouseMove",dir)),dojo.on(document,dojo.touch.release,dojo.hitch(this,"onMouseUp")));dojo.stopEvent(e);},onMouseMove:function(dir,e){var _bcb=this._start,box=_bcb.box,_bcc=this.margin,dims={};if(/e|w/.test(dir)){var _bcd=/w/.test(dir),_bce=_bcd?_bcb.pageX-e.pageX:e.pageX-_bcb.pageX,_bcf=(_bcd?box.l+box.w:_bcb.viewport.w-box.l)-_bcc;dims.w=Math.max(this.minWidth,Math.min(_bcf,box.w+_bce));if(_bcd){dims.l=Math.max(_bcc,box.l+box.w-dims.w);}}if(/n|s/.test(dir)){var _bd0=/n/.test(dir),_bd1=_bd0?_bcb.pageY-e.pageY:e.pageY-_bcb.pageY,_bd2=(_bd0?box.t+box.h:_bcb.viewport.h-box.t)-_bcc;dims.h=Math.max(this.minHeight,Math.min(_bd2,box.h+_bd1));if(_bd0){dims.t=Math.max(_bcc,box.t+box.h-dims.h);}}if(this.resizer){this.resizer(dims);}else{dojo.marginBox(this.node,dims);}this.onResizing();dojo.stopEvent(e);},onMouseUp:function(e){this.onResizeStop(e);this.reset();},onResizeStart:function(e){this._resizing=true;},onResizing:function(e){},onResizeStop:function(e){this._resizing=false;},destroy:function(){this.clean();}});});},"mxui/widget/DialogMessage":function(){define(["dojo","dijit","dojox"],function(dojo,_bd3,_bd4){dojo.provide("mxui.widget.DialogMessage");dojo.declare("mxui.widget.DialogMessage",mxui.widget.Dialog,{type:"",content:null,buildRendering:function(){var $=mxui.dom.create;this.buildDialog();this.setCaption(this.caption||this.translate(this.type,null,"Message"));var _bd5=$("p");_bd5.innerHTML=mxui.dom.convertNlToBr(mxui.dom.escapeString(this.content));this.setContent(_bd5);var _bd6=$("button",{"class":"btn btn-primary"},this.translate("ok",null,"Ok"));this.connect(_bd6,"click",function(){this.hide();});this.setButtons([_bd6]);dojo.addClass(this.domNode,"mx-dialog-"+this.type);},onFocusPress:function(e,_bd7){var dk=dojo.keys,cc=e.charOrCode;if(cc===dk.ESCAPE||cc===dk.ENTER||cc===" "){this.hide();}}});});},"mxui/widget/Window":function(){define(["dojo","dijit","dojox","dojo/require!mxui/widget/_Popup,mxui/mixin/_OverflowHelper"],function(dojo,_bd8,_bd9){dojo.provide("mxui.widget.Window");dojo.require("mxui.widget._Popup");dojo.require("mxui.mixin._OverflowHelper");dojo.declare("mxui.widget.Window",[mxui.widget._Popup,mxui.mixin._OverflowHelper],{title:"",width:0,height:0,resizable:true,content:null,_headerNode:null,_bodyNode:null,_layerId:0,buildRendering:function(){var $=mxui.dom.create;this.domNode=$("div",{"class":"modal-dialog mx-window"},this._contentNode=$("div",{"class":"modal-content mx-window-content"},this._headerNode=$("div",{"class":"modal-header mx-window-header"},$("h4",this.title||"...")),this._bodyNode=$("div",{"class":"modal-body mx-window-body"},this.content||"")));var _bda=$("button",{type:"button","class":"close"});_bda.innerHTML="&times;";dojo.place(_bda,this._headerNode,"first");this.connect(_bda,dojo.touch.press,function(){this.mxform.close();});this.capture(this.domNode,"mousedown",function(){this.focus();});this.hideOverflow(document.body);dojo.style(this.domNode,"opacity",0);document.body.appendChild(this.domNode);},show:function(){if(this._visible){return;}this.onShow();var root=this.mxform.domNode.firstChild;if(root&&_bd8.byNode(root) instanceof mxui.widget.DataView){dojo.addClass(this.domNode,"mx-window-view");}var box={};if(this.width){box.w=this.width;}if(this.height){box.h=this.height;}this.resize(box);this.showOverflow(document.body);if(this.delay){dojo.fadeIn({node:this.domNode,duration:this.delay}).play();}else{dojo.style(this.domNode,"opacity",100);}},hide:function(_bdb){if(!this._visible){return;}this.onHide();if(this.delay){dojo.fadeOut({node:this.domNode,duration:this.delay,onEnd:_bdb}).play();}else{_bdb&&_bdb();}},layout:function(){var _bdc=dojo.contentBox(this.domNode).h,_bdd=dojo.marginBox(this._headerNode).h;dojo.contentBox(this._bodyNode,{h:_bdc-_bdd});this.resizeChildren(this._bodyNode);},activate:function(){dojo.addClass(this.domNode,"mx-window-active");},deactivate:function(){dojo.removeClass(this.domNode,"mx-window-active");},_setTitleAttr:function(){}});});},"mxui/mixin/_OverflowHelper":function(){define(["dojo","dijit","dojox"],function(dojo,_bde,_bdf){dojo.provide("mxui.mixin._OverflowHelper");dojo.declare("mxui.mixin._OverflowHelper",null,{getOverflowNode:function(node,_be0){if(!this._flowNode){var doc=document.documentElement;while(node=node.parentNode){if(node===doc||dojo.style(node,"overflow")===_be0){return node;}}}return this._flowNode;},_toggleOverflow:function(node,_be1){node=node||this.domNode;var _be2=this.getOverflowNode(node,_be1?"hidden":"auto");if(_be2){if(_be2.clientHeight>=_be2.scrollHeight){dojo.style(_be2,"overflow",_be1?"auto":"hidden");}}},showOverflow:function(node){this._toggleOverflow(node,true);},hideOverflow:function(node){this._toggleOverflow(node,false);}});});},"mxui/widget/Login":function(){define(["dojo","dijit","dojox"],function(dojo,_be3,_be4){dojo.provide("mxui.widget.Login");dojo.declare("mxui.widget.Login",mxui.widget.Dialog,{autoFocus:false,closable:false,_userNode:null,_passNode:null,_cancelBtn:null,_hasError:false,_shown:false,buildRendering:function(){var $=mxui.dom.create,form,user,pass;this.caption=this.translate("loginButton");this.inherited(arguments);dojo.addClass(this.domNode,"mx-login");this.domNode.removeChild(this._contentNode);this._contentNode=form=$("form",{"class":"modal-content mx-dialog-content"},this._headerNode,this._bodyNode,this._footerNode);this.domNode.appendChild(form);this.setContent($("#",user=this._userNode=$("input",{"class":"form-control",name:"username",type:"text",autocorrect:"off",autocapitalize:"none",placeholder:this.translate("username")}),pass=this._passNode=$("input",{"class":"form-control",name:"password",type:"password",autocorrect:"off",autocapitalize:"none",placeholder:this.translate("password")})));if(user.placeholder==null){user.parentNode.insertBefore($("label",this.translate("username")),user);pass.parentNode.insertBefore($("label",this.translate("password")),pass);}var _be5=$("button",{type:"submit","class":"btn btn-primary"},this.translate("loginButton")),_be6=this._cancelBtn=$("button",{"class":"btn"},"Cancel");this.setButtons([_be5,_be6]);this.connect(user,"keydown","reset");this.connect(pass,"keydown","reset");this.connect(form,"submit","submit");this.connect(_be6,"click",function(){this.hide();});},translate:function(str){return window.i18nMap[str];},getStatusMessage:function(code){return this.translate("http"+code)||this.translate("httpdefault");},submit:function(e){var self=this;dojo.xhrPost({url:mx.baseUrl,handleAs:"json",contentType:"application/json",postData:dojo.toJson({action:"login",params:{username:this._userNode.value,password:this._passNode.value}}),handle:function(_be7,_be8){var code=_be8.xhr.status;if(code==200){self._passNode.value="";mx.login();}else{self.setCaption(self.getStatusMessage(code));dojo.addClass(self.domNode,"error");self._hasError=true;}}});dojo.stopEvent(e);},show:function(args){if(args&&(!args.no_alert||/402|404|500|503/.test(args.http_code))){this.setCaption(args.http_code==401?mx.ui.translate("mendix.session","session_expired"):this.getStatusMessage(args.http_code));}this._cancelBtn.style.display=mx.isLoaded()?"":"none";this.inherited(arguments);if(this._shown){this._passNode.focus();}else{this._userNode.focus();this._shown=true;}},reset:function(){if(this._hasError){this._hasError=false;this.setCaption(this.translate("loginButton"));dojo.removeClass(this.domNode,"error");}}});});},"mxui/widget/Progress":function(){define(["dojo","dijit","dojox"],function(dojo,_be9,_bea){dojo.provide("mxui.widget.Progress");dojo.declare("mxui.widget.Progress",mxui.widget.Dialog,{closable:false,_timer:0,_count:0,_messages:null,_showing:false,_listNode:null,_minHeight:100,constructor:function(){this._messages={};this.caption=this.translate("progress_title");},buildRendering:function(){this.inherited(arguments);this._listNode=mxui.dom.create("ul",{"class":"mx-progress-list"});this.setContent(this._listNode);dojo.addClass(this.domNode,"mx-progress");},add:function(msg,_beb){this._removeMarkedMessages();var id=this._count++,node=mxui.dom.create("li",{"class":"mx-progress-item"},msg);this._messages[id]={msg:msg,modal:_beb,node:node};this._listNode.appendChild(node);this.show(_beb);return id;},remove:function(id){var data=this._messages[id];if(data){if(this._hasActiveMessages(id)){this._removeMessage(id);if(data.modal){mx.ui.hideUnderlay(this.delay);}}else{this._markMessage(id);this.hide(data.modal);}}else{logger.error(this.id+".remove: Message id not found!");}},_markMessage:function(id){this._messages[id].removed=true;},_removeMarkedMessages:function(){for(var id in this._messages){if(this._messages[id].removed){this._removeMessage(id);}}},_removeMessage:function(id){var data=this._messages[id];this._listNode.removeChild(data.node);delete this._messages[id];},_hasActiveMessages:function(_bec){for(var id in this._messages){if(id!=_bec&&!this._messages[id].removed){return true;}}return false;},show:function(_bed){if(!this._showing){this._showing=true;var self=this,args=arguments;var _bee=function(){self._timer=null;if(_bed){mx.ui.showUnderlay(self.delay);}self.inherited(args);};if(_bed){_bee();}else{this._timer=setTimeout(_bee,500);}}},hide:function(_bef){if(this._showing){this._showing=false;if(this._timer){clearTimeout(this._timer);this._timer=null;this._removeMarkedMessages();}else{if(_bef){mx.ui.hideUnderlay(this.delay);}this.inherited(arguments,[dojo.hitch(this,"_removeMarkedMessages")]);}}}});});},"mxui/widget/DataGrid":function(){define(["dojo","dijit","dojox","dojo/require!mxui/mixin/_Grid,mxui/mixin/_Contextable,mxui/mixin/_Pluggable,mxui/mixin/_Scriptable,mxui/mixin/_Internationalized,mxui/lib/MxGridConfig,mxui/html/render,mxui/widget/plugins/DataGrid/Calculations,mxui/widget/plugins/DataGrid/GridEditor,mxui/widget/plugins/DataGrid/HoverPreview,mxui/widget/plugins/DataGrid/KeyNavigation"],function(dojo,_bf0,_bf1){dojo.provide("mxui.widget.DataGrid");dojo.require("mxui.mixin._Grid");dojo.require("mxui.mixin._Contextable");dojo.require("mxui.mixin._Pluggable");dojo.require("mxui.mixin._Scriptable");dojo.require("mxui.mixin._Internationalized");dojo.require("mxui.lib.MxGridConfig");dojo.require("mxui.html.render");dojo.require("mxui.widget.plugins.DataGrid.Calculations");dojo.require("mxui.widget.plugins.DataGrid.GridEditor");dojo.require("mxui.widget.plugins.DataGrid.HoverPreview");dojo.require("mxui.widget.plugins.DataGrid.KeyNavigation");mxui.widget.declare("mxui.widget.DataGrid",{mixins:[_bf0._TemplatedMixin,_bf0._Container,_bf0._Contained,mxui.mixin._Grid,mxui.mixin._Internationalized,mxui.mixin._Pluggable,mxui.mixin._Scriptable,mxui.mixin._Contextable],inputargs:{entity:"",schema:"",contenturl:"",autoconfig:false,xpathConstraint:"",selected:"",reference:"",useContext:false,reqConstraints:"",customDataSource:null},cssmap:mxui.widget.createCSSMap("mx-datagrid",{sortText:"sort-text",sortIcon:"sort-icon",headCaption:"head-caption",headWrapper:"head-wrapper",columnResizer:"column-resizer",dataWrapper:"data-wrapper"}),constructor:function(){this.templateString=dojo.cache("mxui.widget","templates/DataGrid.html","<div class=\"${baseClass} mx-datagrid\">\n    <div class=\"${baseClass}-searchbar clearfix\" dojoAttachPoint=\"searchNode\" focusIndex=\"0\">\n        <div class=\"${baseClass}-search-controls\" focusIndex=\"1\" dojoAttachPoint=\"searchControlNode\"></div>\n        <div class=\"${baseClass}-search-inputs\" focusIndex=\"0\" dojoAttachPoint=\"searchArgumentNode\"></div>\n        <div class=\"${baseClass}-search-message\" dojoAttachPoint=\"messageNode\"></div>\n    </div>\n    \n    <div class=\"${baseClass}-controlbar clearfix\" dojoAttachPoint=\"controlNode\" focusIndex=\"1\">\n        <div class=\"${baseClass}-pagingbar\" dojoAttachPoint=\"pagingBarNode\"></div>\n        <div class=\"${baseClass}-toolbar\" dojoAttachPoint=\"toolBarNode\"></div>\n    </div>\n        \n    <div class=\"${baseClass}-content\" dojoAttachPoint=\"contentNode\" focusIndex=\"2\">\n        <div class=\"${subClass}-content-wrapper\" dojoAttachPoint=\"tableWrapper\">\n            <table class=\"table table-bordered ${subClass}-head-table\" dojoAttachPoint=\"headTable\">\n                <colgroup dojoAttachPoint=\"headTableGroupNode\"></colgroup>\n                <thead class=\"${subClass}-head\" dojoAttachPoint=\"gridHeadNode\"></thead>\n            </table>\n            <table class=\"table table-striped table-bordered ${subClass}-body-table\" dojoAttachPoint=\"gridTable\">\n                <colgroup dojoAttachPoint=\"bodyTableGroupNode\"></colgroup>\n                <tbody class=\"${subClass}-body\" dojoAttachPoint=\"gridBodyNode\"></tbody>\n                <tfoot class=\"${subClass}-foot\" dojoAttachPoint=\"gridFootNode\"></tfoot>\n            </table>\n        </div>\n    </div>\n</div>\n");this.templateCssPath=require.toUrl("mxui.widget","styles/DataGrid.css");this.contentUrl="";this.entity="";this.autoconfig=false;this.xpathConstraint="";this.nested=false;this.selected=null;this.readOnly=false;this.subClass=this.cssmap.baseClass;var css=this.cssmap;this.domNode=null;this.pagingBarNode=null;this.searchNode=null;this.toolBarNode=null;this.messageNode=null;this.searchButton=null;this.resetButton=null;this.gridBodyNode=null;this.gridFootNode=null;var _bf2=0;var _bf3=null;var _bf4=dojo.hitch;var _bf5=dojo.addClass;var _bf6=dojo.removeClass;var _bf7=dojo.addClass;var _bf8=null;var _bf9=null;var _bfa=[];var _bfb=[];var _bfc={};var _bfd={};var _bfe=[];var _bff=[];var _c00=[];var _c01={sortable:true,selectable:true,selectionmode:"single",searchbar:true,controlbar:true,pagingbar:true,inDenial:false,searchBarVisible:false,searchBarTogglable:true,xpathConstraint:"",loading:false,invertedSelection:false};var self=this;var _c02=null;this.postCreateSpecific=function(){_c02=this.id;this.startdormant=true;this._addFocusBoxForTable();if(this.fetchMetaObject()){this.setupGridConfig();this.setupGridState();this.setupScroll();this.buildSearchBar();this.buildControlBar();this.buildToolBar();this.buildPagingBar();this.buildGridBody();this.setupDevMode();this.loadPlugins();this.setupDataSource();this.doGridAttributes();this.triggerOnLoad();this.loaded();}};this.setColumnStyle=function(node,_c03){var _c04=_c03.display,_c05=_c04.align||"left",_c06=_c04.cssClass||"",_c07=_c04.cssStyle;if(mx.ui.isRtl()){_c05=_c05=="right"?"left":"right";}if(_c07){node.style=_c07;}dojo.addClass(node,[_c05==="right"?"mx-right-aligned":"mx-left-aligned",_c06].join(" "));};var _c08=function(_c09,_c0a){var tr=mxui.dom.tr();self.domData(tr,"gridrow",_c0a);var td,div=null,row=[];for(var i=0,_c0b;_c0b=_c09[i];i++){td=mxui.dom.td();self.domData(td,{row:_c0a,column:i,key:_c0b.tag});self.setColumnStyle(td,_c0b);td.appendChild(mxui.dom.div({"class":css.dataWrapper}));tr.appendChild(td);row[i]=td;}_bff.push(row);return (tr);};var _c0c=function(_c0d,_c0e){_c0e=_c0e||_c0d;var _c0f=_c0e.textContent?_c0e.textContent:_c0e.innerText;_c0f&&_c0d.setAttribute("title",_c0f.replace(/^\s\s*/,"").replace(/\s\s*$/,""));};var _c10=function(_c11,_c12,_c13){var node=null,_c14;if(_c12.has(_c13)){_c14=_c12.get(_c13);switch(_c11.render.toLowerCase()){case "icon":case "enumicon":var src=_c11.display.mapping[_c14];_c14=src?"<img src='"+src+"'/>":"";break;case "weblink":break;default:try{var opts=_c11.display,_c15=opts.dateFormat,_c16=opts.format;_c14=mxui.html.renderValue(_c12,_c13,{format:_c15?_c15.toLowerCase().replace("custom","date"):"date",datepattern:_c16,precision:opts.precision});_c14=mxui.dom.escapeString(_c14.replace(/\n/g," "));}catch(e){logger.error("mxui.widget.DataGrid.gridbodyFillCell : "+e.message);}break;}_c14=(_c14?_c14:String.fromCharCode(160));}else{_c14=String.fromCharCode(160);}return _c14;};var _c17=function(obj,attr,info){return ({mxobj:obj,attrname:attr,attrs:info});};var _c18=this._gridbodyFillRow=function(_c19,_c1a,_c1b){var _c1c=[];var _c1d=" - ";var _c1e=null;for(var i=0,td;td=_c1a[i];i++){var _c1f=[];var _c20=_c1b[i];var _c21=false;_c1c=_c20.attrs;if(_c1c.length==1){_c1f.push(_c17(_c19,_c1c[0],_c20));}else{var _c22=_c19;var copy=_c1c.concat([]);while(copy.length>3){var _c23=copy.shift();var _c24=copy.shift();var _c25=_c22.getChildren(_c23);if(_c22=_c25[0]){if(!_c22.isA(_c24)){logger.error(_c02+".gridBodyFillRow: Entity and reference do not match");_c22=null;break;}}else{_c22=null;break;}}if(_c22!=null&&(copy.length)==3){_c1e=_c22.getChildren(copy[0]);dojo.forEach(_c1e,function(_c26){_c1f.push(_c17(_c26,copy[2],_c20));});if(_c1c.length==3&&_c1e.length===0){_c21=!!_c19.get(_c1c[0]);}}}var _c27=td.firstChild;td.innerHTML="";td.appendChild(_c27);if(!_c21){var _c28=[];try{if(_c1f.length!==0){var _c29=[];for(var j=0,item;item=_c1f[j];j++){var _c1d=_c10(item.attrs,item.mxobj,item.attrname);if(_c1d!=null){_c29.push(_c1d);}else{logger.error(_c02+".gridBodyFillRow: Received NO content!!!");}if(/^(enum)?icon$/i.test(item.attrs.render)){_c28.push(item.mxobj.getEnumCaption(item.attrname));}}_c27.innerHTML=_c29.join(_c29.length>1?", ":"");}}catch(e){logger.error(_c02+".gridBodyFillRow :"+e.message);}if(_c27.childNodes.length===0){_c27.innerHTML="&nbsp;";}if(_c28.length!==0){td.setAttribute("title",_c28.join(";"));}else{_c0c(td);}}else{if(_c19.isReference(_c1c[0])){(function(td){var _c2a=_c20;var _c2b=(_c1c.length==3)?_c1c[2]:_c1c[3];var _c2c=_c19.getReferences(_c1c[0]);var _c2d=_c27;mx.data.get({guids:_c2c,callback:function(objs){var _c2e=[],_c28=[];dojo.forEach(objs,function(obj){var _c2f=_c10(_c2a,obj,_c2b);if(_c2f!=null){_c2e.push(_c2f);}else{logger.error(_c02+".gridBodyFillRow: Recivied NO content!!!");}if(/^(enum)?icon$/i.test(_c2a.render)){_c28.push(obj.getEnumCaption(_c2b));}});var _c30=_c2e.length;_c2d.innerHTML=_c30===0?"&nbsp;":_c2e.join(_c30>1?";":"");if(_c2d.childNodes.length===0){_c2d.innerHTML="&nbsp;";}if(_c28.length!==0){td.setAttribute("title",_c28.join(";"));}else{_c0c(td);}},error:mx.onError});})(td);}else{logger.error(_c02+".gridBodyFillRow: Attribute "+_c1c[0]+" is not a reference(set)");}}}};var _c31=function(tr){tr.style.display="";self.domData(tr,"mendixguid",null);var tds=tr.getElementsByTagName("td");for(var i=0;i<tds.length;i++){tds[i].firstChild.innerHTML="&nbsp";tds[i].setAttribute("title","");}};this.setupGridStateSpecific=function(){_c01.sortable=_bf9.gridSetting("sortable");};this.loadPlugins=function(_c32){this.hideFootNode();if(_c01.editable){this.loadPlugin("GridEditor");mxui.wm.focus.removeBox(this.contentNode);}var _c33=_bf9.getPlugins();for(var i in _c33){this.loadPlugin(i,_c33[i]);}};this.eventToolbarClick=function(node){if(!node){return;}var _c34=_bf0.byNode(node);_c34&&_c34._onClick();};this.setupScroll=function(_c35){var _c36=this.headTable,_c37=this.contentNode;this.connect(_c37,"scroll",function(e){_c36.style.top=_c37.scrollTop+"px";});};this.buildGridBody=function(){var _c38=_bf9.gridAttributes();var node=null;var _c39=null;var _c3a=null;var _c3b=null;var row=mxui.dom.tr();var _c3c=mxui.dom.div({"class":css.headCaption});var _c3d=mxui.dom.div({"class":css.headWrapper});mxui.dom.disableSelection(row);var _c3e=_bf9.gridSetting("sortparams"),_c3f={};if(_c3e){for(var j=0,_c40;_c40=_c3e[j];j++){_c3f[_c40[0]]=_c40;}}var _c41=_bf9.getPlugins()["Calculations"]||{};var _c42=0;for(var i=0,_c43;_c43=_c38[i];i++,_c42+=_c43.tag in _c41?1:0){var _c44=node;var _c45=_c43.display.width;if(_c45!=null&&_c45=="0"){if(_c43.tag in _c41){_c00.push(_c42);}_c38.splice(i--,1);continue;}node=mxui.dom.th();this.domData(node,{datakey:_c43.tag,key:i});this.setColumnStyle(node,_c43);var text=_c43.display.string;_c3b=_c3c.cloneNode(true);_c3b.innerHTML=!text?"&nbsp;":text;var _c46=_c3d.cloneNode(true);_c39=mxui.dom.div({"class":css.sortIcon,style:"display: none"},_c3a=mxui.dom.span({"class":css.sortText}));_c46.appendChild(_c39);_c46.appendChild(_c3b);node.appendChild(_c46);_c0c(node,_c3b);var _c47=_c43.display.width+"%";var col=mxui.dom.col({style:"width:"+_c47}),_c48=col.cloneNode(true);this.headTableGroupNode.appendChild(col);this.bodyTableGroupNode.appendChild(_c48);_bfc[i]=[col,_c48];var _c49=_c3f[_c43.tag];if(_c49){var _c4a=_c49[1];this.domData(node,"sortorder",_c4a);if(_c4a=="asc"){_c3a.innerHTML="&#9650;";}else{_c3a.innerHTML="&#9660;";}_c39.style.display="";}_bfd[i]=node;row.appendChild(node);}_c3f=null;this.gridHeadNode.appendChild(row);if(_c01.sortable){this.own(dojo.on(this.gridHeadNode,"th:click",function(e){var key=self.domData(this,"key");if(_c38[key].sortable!==false){self.eventColumnClicked(e,this);}}));}this._resizer=new mxui.widget.ColumnResizer({thNodes:mxui.dom.toArray(row.children),colNodes:_bfc,rtl:!this.isLeftToRight()});if(_c01.showemptyrows){var _c4b=_bf9.gridSetting("rows");for(var i=0;i<_c4b;i++){this.addNewRow();}}this.own(dojo.on(this.gridBodyNode,"tr:click",function(e){self.eventGridRowClicked(e,this);}));this.liveConnect(this.gridBodyNode,"onclick",{td:"eventCellClicked"});this.liveConnect(this.gridBodyNode,"onmouseover",{tr:"eventRowMouseOver"});this.liveConnect(this.gridBodyNode,"onmouseout",{tr:"eventRowMouseOut"});var _c4c=function(e){self.eventActionBindingHandler(this,e.type);};var _c4d=_bf9.gridActionBindings();for(var _c4e in _c4d){this.own(dojo.on(this.gridBodyNode,"tr:"+_c4e.replace(/^on/,""),_c4c));}};this.addNewRow=function(){var _c4f=_bf9.gridAttributes();var _c50=_bf9.gridSetting("rows");var _c51=_bfe.length;if(_c51>_c50){return null;}var tr=_c08(_c4f,_c51);_bfe.push(tr);this.gridBodyNode.appendChild(tr);var box=this.getFocusBox(this.contentNode);box.add&&box.add(tr);return tr;};this.isInverted=function(){return !!_c01.invertedSelection;};this._setSelectableAttr=function(_c52){_c01.selectable=!!_c52;};this.selectRow=function(row){_c01.invertedSelection?_bf6(row,"selected"):_bf7(row,"selected");};this.deselectRow=function(row){!_c01.invertedSelection?_bf6(row,"selected"):_bf7(row,"selected");};this.doGridAttributes=function(){var _c53=_bf9.gridAttributes();for(var i=0,_c54;_c54=_c53[i];i++){var _c55=_c54.tag.split("/");switch(_c55.length){case 2:_c55=[_c55[1]];break;case 1:break;case 4:_c55=[_c55[1],_c55[2],_c55[3]];break;}_c54.attrs=_c55;}};this.fillGrid=function(){_bfb=_bf8.getObjects()||[];var _c56=_bf9.gridAttributes();var _c57,_c58=null;try{if(_c01.selectfirst&&!_c01.invertedSelection&&_bfb.length>0&&_bfa.length===0){_bfa.push(_bfb[0].getGuid());setTimeout(dojo.hitch(this,function(){this.shareSelected();}),1000);}var _c59=_bfb.length-_bfe.length,i,l,id;if(_c59>0){for(i=0;i<_c59;i++){this.addNewRow();}this.mxform.resize();}else{if(_c59<0){var hide=function(node){node.style.display="none";};var app=(!_c01.showemptyrows)?hide:_c31;var _c5a=_bfe.length;var _c5b=_c5a+_c59;for(i=_c5b;i<_c5a;i++){app(_bfe[i]);}}}var _c5c={};for(i=0,id;id=_bfa[i];i++){_c5c[id]=true;}for(i=0,l=_bfb.length;i<l;i++){_c57=_bfb[i].getGuid();_c58=_bfe[i];this.domData(_c58,"mendixguid",_c57);_c18(_bfb[i],_bff[i],_c56);if(!_c5c[_c57]){this.deselectRow(_c58);}else{this.selectRow(_c58);}_c58.style.display="";}if(_c01.showemptyrows){var _c5d=_bfb.length;var _c5e=_bfe.length;if(_c5d<_c5e){for(i=_c5d;i<_c5e;i++){this.deselectRow(_bfe[i]);}}}_c5c=null;}catch(e){}};this.reload=this.actReloadGrid=function(_c5f){if(this.constraintsFilled()){_bf8.isValid(function(_c60){if(_c60){_bf8.refresh(function(){self.refreshGrid();_c5f&&_c5f();});}});}};this.refreshGrid=function(){this.triggerPreRefresh();this.updatePagingStatus();this.fillGrid();this.resizeGrid();this.triggerOnRefresh();};this.triggerOnLoad=function(){this.triggerPluginEvent("onLoad");};this.triggerOnSync=function(){this.triggerPluginEvent("onSync");};this.triggerOnRefresh=function(){this.triggerPluginEvent("onRefresh");};this.triggerPreRefresh=function(){this.triggerPluginEvent("preRefresh");};this.triggerOnSearchChanged=function(){this.triggerPluginEvent("onSearchChanged");};this.actDeferSyncAction=function(_c61){if(_bf2===0){_c61&&_c61();}else{if(_bf3==null){_bf3=_c61;}else{}}};this.eventCellClicked=function(e){this.triggerPluginEvent("onCellClicked",e);};this.eventRowMouseOver=function(e){this.triggerPluginEvent("onRowMouseOver",e);};this.eventRowMouseOut=function(e){this.triggerPluginEvent("onRowMouseOut",e);};this.eventCellMouseOut=function(e){this.triggerPluginEvent("onCellMouseOut",e);};this.eventCellMouseOver=function(e){this.triggerPluginEvent("onCellMouseOver",e);};this.eventSelectRow=function(e){this.triggerPluginEvent("onSelectRow",e);};this.eventGridRowClicked=function(e,_c62){if(!_c01.selectable){return;}var guid=this.domData(_c62,"mendixguid");if(guid){var _c63=dojo.indexOf(_bfa,guid);if(_c01.selectionmode=="simplemulti"){if(_c63!=-1){_bfa.splice(_c63,1);this.deselectRow(_c62);guid=null;}else{_bfa.push(guid);this.selectRow(_c62);}}else{if((_c01.selectionmode=="multi")&&((dojo.isMac&&e.metaKey)||(e.ctrlKey))){if(_c63!=-1){_bfa.splice(_c63,1);this.deselectRow(_c62);guid=null;}else{_bfa.push(guid);this.selectRow(_c62);}}else{this.deselectAll();if(_c63==-1||_c01.selectionmode=="multi"){this.selectRow(_c62);_bfa=[guid];}}}this.shareSelected();}else{logger.error(this.id+".eventGridRowClicked : Can't find matching guid for row");}};this.eventColumnClicked=function(e,node){var push=e.shiftKey;var _c64=null;if(!push){for(var i in _bfd){_c64=_bfd[i];dojo.query("."+css.sortIcon,_c64)[0].style.display="none";}}else{mxui.dom.clearSelection();}var _c65=this.domData(node,"datakey");var _c66="asc";if(this.domData(node,"sortorder")){_c66=this.domData(node,"sortorder");_c66=(_c66=="asc")?"desc":"asc";}this.domData(node,"sortorder",_c66);var _c67=dojo.query("."+css.sortText,node)[0];if(_c66=="asc"){_c67.innerHTML="&#9650;";}else{_c67.innerHTML="&#9660;";}_c67.parentNode.style.display="";_bf8.setSortOptions(_c65,_c66,push);if(this.constraintsFilled()){_bf8.refresh(_bf4(self,"refreshGrid"));}};this.filterSelected=function(){var _c68=[];for(var i=0,guid;guid=_bfa[i];i++){if(_bf8.getObject(guid)!=null){_c68.push(guid);}}_bfa=_c68;};this.actCleanDS=function(_c69){this._clearSelection();_bf8.clean(_c69);};this.resumed=function(){this.setUpdateInterval();};this.suspended=function(){this.clearInterval();};this._setDisabledAttr=function(_c6a){};this._setReadOnlyAttr=function(_c6b){if(_c01.controlbar&&_c6b!=this.readOnly){var _c6c=_bf9.gridTools();if(_c6b==true){for(var i=_c6c.length-1,tool;tool=_c6c[i];i--){if(tool.mxid){var _c6d=_bf9.getActionsByKey(tool.mxid);if(_c6d&&/AddRef|DeleteRef|CreateRef/.test(_c6d.actionCall)){this.toolBarNode.removeChild(tool._domNode);}}}}else{for(var i=_c6c.length-1,tool;tool=_c6c[i];i--){if(tool.mxid){var _c6d=_bf9.getActionsByKey(tool.mxid);if(_c6d&&/AddRef|DeleteRef|CreateRef/.test(_c6d.actionCall)){if(tool._nextNode){this.toolBarNode.insertBefore(tool._domNode,tool._nextNode);}else{this.toolBarNode.appendChild(tool._domNode);}}}}}this.readOnly=!!_c6b;}};this.deselectGridRows=function(){for(var i=0,l=_bfe.length;i<l;++i){this.deselectRow(_bfe[i]);}};this.getAggregates=function(){return _bf8.getAggregates();};this.actionExport=function(_c6e){if(this.constraintsFilled()){var _c6f=mx.ui.getProgressIndicator("popup");_c6f.start();_bf8.generateExport({params:_c6e,callback:function(){_c6f.stop();},error:function(e){_c6f.stop();mx.onError(e);}});}};this.actionInsertNewAtTop=function(_c70){var _c71=this._getEntity(_c70);if(_c71){this._insertNewFirstOrLast(_c71,_c70[_c71],false);}};this.actionInsertNewAtBottom=function(_c72){var _c73=this._getEntity(_c72);if(_c73){this._insertNewFirstOrLast(_c73,_c72[_c73],true);}};this._insertNewFirstOrLast=function(_c74,_c75,last){var _c76=function(_c77){mx.data.create({entity:_c74,context:this.mxcontext,persistent:_c75.persistent,callback:function(obj){if(!last){_bf8.insertMxObjectAtStart(obj);}else{_bf8.insertMxObjectAtEnd(obj);}_c77();},error:mx.onError});};this.triggerOnSync();this.sequence([_c76,"actDeferSyncAction",function(){this.refreshGrid();var row=last?_bf8.getObjects().length-1:0;this.eventSelectRow({row:row});}]);};this._clearSelection=function(){_bfa=[];};this._getEntity=function(_c78){return mendix.lang.firstKey(_c78);};this._getGridConfig=function(){return _bf9;};this._setGridConfig=function(v){_bf9=v;};this._getGridState=function(){return _c01;};this._getSelectedGuids=function(){return _bfa;};this._getCurrentGuid=function(){return _bfa[_bfa.length-1];};this._setDataSource=function(_c79){_bf8=_c79;},this._addObjectToSelection=function(obj){var guid=obj.getGuid();if(dojo.indexOf(_bfa,guid)==-1){_bfa.push(guid);}};this._getDataSource=function(){return _bf8;};this._setDataSource=function(v){_bf8=v;};this._getNodeFromEvent=function(e){return mxui.dom.getAncestorNode(e.target,"TR");};this._getActionFromEvent=function(e){var _c7a=_bf9.gridActionBindings(),_c7b=_c7a["on"+e.type];return _bf9.getActionsByKey(_c7b);};this._getObjectFromNode=function(node){return _bfb[this.domData(node,"gridrow")];};this.getCellNode=function(row,key){var rob=_bff[row];if(rob){for(var i=0;i<rob.length;i++){if(this.domData(rob[i],"key")==key){return rob[i];}}}return null;};this.getMxObjectAtRow=function(x){return (_bfb.length>=x)?_bfb[x]:false;};this.getRowForMxObject=function(_c7c){var ret=null;if(!_c7c||!_c7c.getEntity){return ret;}var guid=_c7c.getGuid();for(var i=0,obj;obj=_bfb[i];i++){if(obj.getGuid()==guid){ret=i;}}return ret;};this.getKeyPositions=function(){var pos={};var _c7d=0;for(var i in _bfd){pos[i]=_c7d++;}return pos;};this.getEntityProperties=function(){return _bf9.gridAttributes();};this.getHiddenAggregates=function(){return _c00.slice();};this.getActionProperties=function(_c7e,_c7f){var _c80=_bf9.dataEntityConfigs();var act=null;if(_c80[_c7e]){act=_c80[_c7e][_c7f];}return act;};this.getCurrentGridSize=function(){return _bfb.length;};this.getGridNodeHash=function(){return _bff;};this.getCurrentXPath=function(){var _c81=_bf8?_bf8.getCurrentXPath()||"":"";return _c81+_c01.xpathConstraint;};this.preventUpdates=function(){_c01.inDenial=true;};this.acceptUpdates=function(){_c01.inDenial=false;};this.acceptingUpdates=function(){return !_c01.inDenial;};this.updateMxObject=function(_c82,_c83){var row=this.getRowForMxObject(_c82);if(row!=null){try{_c18(_c82,_bff[row],_bf9.gridAttributes());}catch(e){}}_c83&&_c83();};this.showFootNode=function(){this.gridFootNode.style.display="";};this.hideFootNode=function(){this.gridFootNode.style.display="none";};this.addToSyncDeferQueue=function(){_bf2++;};this.removeFromSyncDeferQueue=function(){_bf2--;if(_bf2===0){if(_bf3!=null){_bf3();_bf3=null;}else{}}};this.onHide=function(e){for(var i in this._searchElements){this._searchElements[i].hideTooltip();}};this.clearInterval=function(){if(_c01.update!=null){clearInterval(_c01.update);}};this._uninitializeGrid=function(){this._resizer.destroy();this.triggerPluginEvent("onDestroy");};},_addFocusBoxForTable:function(){var box=this.addFocusBox(this.contentNode);box.pressed({DOWN_ARROW:box.FOCUS_NEXT,UP_ARROW:box.FOCUS_PREV,SPACE:function(e){this.eventGridRowClicked(e,e.target);},ENTER:function(e,_c84){if(_c84){this.eventActionBindingHandler(_c84,"dblclick");}},LEFT_ARROW:function(){var _c85=this._getDataSource();if(!_c85.atBeginning()){_c85.previous(dojo.hitch(this,function(){this.refreshGrid();mxui.wm.focus.restore();}));}},RIGHT_ARROW:function(){var _c86=this._getDataSource();if(!_c86.atEnd()){_c86.next(dojo.hitch(this,function(){this.refreshGrid();mxui.wm.focus.restore();}));}}},this);}});dojo.declare("mxui.widget.ColumnResizer",null,{columns:null,thNodes:null,rowNode:null,minWidth:40,cssClass:"mx-datagrid-column-resizer",rtl:false,active:0,startPos:0,startWidth:0,totalWidth:0,bodyCursor:"",handles:null,connects:null,resizing:false,constructor:function(_c87){_c87=_c87||{};var ths=_c87.thNodes,cols=_c87.colNodes;this.columns=[];this.thNodes=ths;this.rowNode=ths[0].parentNode;this.minWidth=_c87.minWidth||40;this.rtl=_c87.rtl;this.prepareTable(ths,cols);},prepareTable:function(ths,cols){dojo.forEach(ths,function(th,_c88){if(_c88>0){var _c89=mxui.dom.create("div",{"class":this.cssClass});mxui.dom.data(_c89,"index",_c88);th.firstChild.appendChild(_c89);}this.columns[_c88]={node:th,cols:cols[_c88],width:0,rounded:0,minWidth:0,startWidth:0};},this);var self=this;this.connects=[dojo.on(this.rowNode,"."+this.cssClass+":click",dojo.stopEvent),dojo.on(this.rowNode,"."+this.cssClass+":mousedown",function(e){var _c8a=mxui.dom.data(this,"index");self.startResize(_c8a-1,e);})];},startResize:function(_c8b,e){if(this.resizing){this.endResize();return;}this.resizing=true;this.active=_c8b;this.startPos=e.pageX;this.startWidth=0;this.totalWidth=this.rowNode.offsetWidth;this.bodyCursor=dojo.style(document.body,"cursor");dojo.style(document.body,"cursor","col-resize");dojo.forEach(this.columns,function(_c8c,i){var _c8d=this.getColWidth(_c8c);_c8c.width=_c8c.startWidth=_c8d;_c8c.minWidth=Math.min(_c8d,this.minWidth);if(i<=_c8b){this.startWidth+=_c8d;}},this);this.handles=[dojo.connect(document,"mousemove",dojo.hitch(this,"moveResize")),dojo.connect(document,"mouseup",dojo.hitch(this,"endResize"))];e.preventDefault();},moveResize:function(e){var _c8e=0,_c8f=this.active,_c90=this.columns,_c91=this.startWidth+(this.rtl?-1:1)*(e.pageX-this.startPos);this.scaleColumns(_c8f,_c91);for(var i=0,_c92;_c92=_c90[i];i++){var _c93=Math.round(_c92.width);this.setColWidth(_c92,_c93);_c8e+=_c93;}var diff=this.totalWidth-_c8e;this.setColWidth(_c90[_c8f],_c90[_c8f].rounded+diff);e.preventDefault();},endResize:function(e){this.resizing=false;while(this.handles.length){dojo.disconnect(this.handles.pop());}var _c94=this.columns;for(var i=0,_c95;_c95=_c94[i];i++){var _c96=_c95.rounded/this.totalWidth*100;this.setColWidth(_c95,_c96,"%");}dojo.style(document.body,"cursor",this.bodyCursor);},getColWidth:function(_c97){return _c97.node.offsetWidth;},setColWidth:function(_c98,_c99,unit){unit=unit||"px";if(unit==="px"){_c98.rounded=_c99;}_c98.cols[0].style.width=_c98.cols[1].style.width=_c99+unit;},scaleColumns:function(_c9a,_c9b){var _c9c=this.columns,_c9d=_c9c.slice(0,_c9a+1),_c9e=_c9c.slice(_c9a+1).reverse(),_c9f=this.totalWidth,_ca0=0;for(var i=0;i<=_c9a;i++){_ca0+=_c9c[i].width;}if(_c9b<_ca0){var _ca1=this.calcScale(_c9d,_c9b);this.calcScale(_c9e,_c9f-_ca1);}else{if(_c9b>_ca0){var _ca1=this.calcScale(_c9e,_c9f-_c9b);this.calcScale(_c9d,_c9f-_ca1);}}},calcScale:function(_ca2,_ca3){var _ca4=0,_ca5=0,_ca6=0,_ca7=_ca2.pop();for(var i=0;i<_ca2.length;i++){_ca4+=_ca2[i].minWidth;_ca5+=_ca2[i].startWidth;}_ca7.width=Math.max(_ca7.minWidth,_ca3-_ca5);_ca3-=_ca7.width;for(var i=0;i<_ca2.length;i++){var _ca8=_ca2[i];_ca4-=_ca8.minWidth;var _ca9=Math.min(_ca8.startWidth,_ca3-_ca6-_ca4),_caa=Math.min(_ca9,_ca8.startWidth/_ca5*_ca3);_ca8.width=Math.max(_ca8.minWidth,_caa);_ca6+=_ca8.width;}return _ca6+_ca7.width;},destroy:function(){while(this.connects.length){dojo.disconnect(this.connects.pop());}dojo.forEach(this.thNodes,function(th){mxui.dom.data(th,"index",null);});}});});},"mxui/mixin/_Grid":function(){define(["dojo","dijit","dojox","dojo/require!dojo/fx,mxui/mixin/_OverflowHelper"],function(dojo,_cab,_cac){dojo.provide("mxui.mixin._Grid");dojo.require("dojo.fx");dojo.require("mxui.mixin._OverflowHelper");dojo.declare("mxui.mixin._Grid",mxui.mixin._OverflowHelper,{_toolWidgets:null,_pagingStatusNode:null,_metaEntity:null,baseClass:"mx-grid",css:mxui.widget.createCSSMap("mx-grid",{pagingStatus:"paging-status",searchButton:"search-button",resetButton:"reset-button"}),fetchMetaObject:function(){this._metaEntity=mx.meta.getEntity(this.entity);if(this._metaEntity==null){logger.error(this.id+".fetchMetaObject : This grid has been configured for an entity the current user doesn't have access to - ABORTING");this.loaded();return false;}return true;},_getMetaEntity:function(){return this._metaEntity;},_setMetaEntity:function(v){this._metaEntity=v;},_saveSelection:function(){this.mxform.setReturnValue("selection",this._getSelectedGuids());},setupGridConfig:function(){this._setGridConfig(new mxui.lib.MxGridConfig({config:this.config,nested:this.nested}));},setupGridState:function(){var _cad=this._getGridConfig(),_cae=this._getGridState();_cae.updateperiod=_cad.gridSetting("refresh");_cae.searchbar=_cad.gridSetting("searchbar");_cae.controlbar=_cad.gridSetting("controlbar");_cae.pagingbar=_cad.gridSetting("pagingbar");_cae.selectionmode=_cad.gridSetting("selectionmode");_cae.editable=_cad.gridSetting("editable");_cae.showemptyrows=_cad.gridSetting("showemptyrows");_cae.selectfirst=_cad.gridSetting("selectfirst");_cae.selectable=(_cae.selectionmode!=="none");if(this.selectable){_cae.selectable=/^(single|multi)$/.test(this.selectable);if(this.selectable!=="multi"||_cae.selectionmode!=="simplemulti"){_cae.selectionmode=this.selectable;}this.mxform.setReturnValue("selection",[]);}this.setupGridStateSpecific();},setupDataSource:function(){var _caf=this._getGridConfig(),_cb0=_caf.getDataSource(),_cb1;if(this.customDataSource){_cb1=this.customDataSource;_cb1.setPageSize(_caf.gridSetting("pageSize"));_cb1.setOffset(0);var _cb2=_caf.gridSetting("sortparams");if(_cb2){_cb1.setSortOptions(_cb2[0][0],_cb2[0][1]);}}else{if(_cb0){var _cb3=this instanceof mxui.widget.DataGrid?this.schema:"";if(_cb0.microflow){_cb1=new mendix.lib.MicroflowSource({microflow:_cb0.microflow.name,queryid:_cb3,context:this.mxcontext,page:_caf.gridSetting("pageSize")});}else{if(_cb0.entityPath){_cb1=new mendix.lib.EntityPathSource({path:_cb0.entityPath.path,queryid:_cb3,context:this.mxcontext,page:_caf.gridSetting("pageSize")});}else{_cb1=new mendix.lib.XPathSource({entity:this.entity,queryid:_cb3,constraint:this.constraint,useContext:this.useContext,context:this.mxcontext,page:_caf.gridSetting("pageSize"),sortparams:_caf.gridSetting("sortparams"),aggregates:this.hasPlugin("Calculations")});}}}}this._setDataSource(_cb1);},setupGridStateSpecific:function(){},resizeGrid:function(){this.contentNode.scrollTop=0;},setUpdateInterval:function(){var _cb4=this._getGridState(),_cb5=_cb4.updateperiod;if(_cb5&&_cb5.toString()!="0"){this.clearInterval();_cb4.update=setInterval(dojo.hitch(this,"actReloadGrid"),parseInt(_cb5*1000,10));}},setupDevMode:function(_cb6){if(mx.session.inDevMode()){this.devBlock=new mxui.widget.MxDevBlock({parent:this,xpath:true,guid:false});}},shareSelected:function(){var _cb7=this.createContext(),_cb8=this._getMetaEntity();_cb7.setTrackEntity(_cb8.getEntity());var guid=this._getCurrentGuid();if(guid){_cb7.setContext(_cb8.getEntity(),guid);}else{_cb7.setContext(_cb8.getEntity(),null);}_cb7.freeze();this.notifyListeners(_cb7);mx.ui.cleanContext(_cb7.ident,this);},actionSelectPage:function(opts){var _cb9=this._getGridState(),_cba=this._getDataSource();if(!_cb9.invertedSelection){for(var i=0,_cbb=_cba.getObjects(),_cbc;_cbc=_cbb[i];i++){this._addObjectToSelection(_cbc);}}this._saveSelection();this.refreshGrid();},actionSelectAllPages:function(opts){this._clearSelection();this._getGridState().invertedSelection=true;this.refreshGrid();},actionClearSelection:function(opts){if(this._getSelectedGuids().length>0||this._getGridState().invertedSelection){this._clearSelection();this._getGridState().invertedSelection=false;this.refreshGrid();}},actionEditSelection:function(_cbd){var _cbe=this._getSelectedGuids(),_cbf=this._getGridState();if(_cbe.length===0&&!_cbf.invertedSelection){mx.ui.info(mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{for(var i=0,obj;obj=_cbe[i];i++){var _cc0=this._getDataSource().getObject(obj),_cc1=_cbd[_cc0.getEntity()];if(_cc1){var _cc2=this.createContext();_cc2.dupFrom(this.mxcontext);_cc2.setObject(null,_cc0.getEntity(),_cc0.getGuid());mx.ui.execute(_cc1,{context:_cc2});}}}},actionInsertNew:function(_cc3){var _cc4=this._getEntity(_cc3),_cc5=_cc3[_cc4],_cc6=this._getGridConfig();if(_cc5&&_cc4){mx.data.create({entity:_cc4,context:this.useContext?this.mxcontext:null,persistent:_cc5.persistent,callback:function(obj){if(!this.useContext){var _cc7=_cc6.getDataSource(),_cc8=_cc7.entityPath&&_cc7.entityPath.path||this.reference,_cc9=_cc8.split("/"),guid=this.mxcontext.getTrackId();if(_cc9.length==2&&guid){var attr=_cc9[1];if(obj.isReference(attr)){obj.set(attr,guid);}}}var _cca=this.createContext();_cca.setContext(obj);mx.ui.execute(_cc5,{context:_cca});},error:function(e){mx.onError(e);}},this);}},postCreate:function(){if((this.contentUrl==="")&&(this.contenturl!=="")){this.contentUrl=this.contenturl;}var req=this.reqConstraints,ref=this.reference;this.reqConstraints=req?req.split(","):[];if(ref){this.reqConstraints.push(ref.substr(0,ref.indexOf("/")));}var box=this.addFocusBox(this.controlNode);box.pressed({RIGHT_ARROW:box.FOCUS_NEXT,LEFT_ARROW:box.FOCUS_PREV});this.offerInterfaces(["close"]);this.initContext();this.postCreateSpecific();},getSchemaId:function(){return this.schema;},postCreateSpecific:function(){},getSelected:function(){return this._getSelectedGuids();},deselectAll:function(){this._clearSelection();this.deselectGridRows();},registerSubscriptions:function(){this.removeSubscriptions();var guid=this.mxcontext.getTrackId();if(guid){this.subscribe({guid:this.mxcontext.getTrackId(),callback:dojo.hitch(this,"objectUpdate")});}var meta=mx.meta.getEntity(this.entity);if(meta){var _ccb=[meta.getEntity()].concat(meta.getSubEntities()).concat(meta.getSuperEntities());for(var i=0,_ccc;_ccc=_ccb[i];i++){this.subscribe({entity:_ccc,callback:dojo.hitch(this,"objectUpdate")});}}},eventActionBindingHandler:function(_ccd,_cce){var _ccf=this._getGridConfig(),_cd0=_ccf.gridActionBindings(),_cd1=_ccf.getActionsByKey(_cd0["on"+_cce]),_cd2=_cd1?this["action"+_cd1.actionCall]:null,_cd3=this._getObjectFromNode(_ccd),_cd4=this._getGridState();if(_cd4.invertedSelection){return;}if(_cd1&&_cd2&&_ccd&&_cd3){if(_cd4.selectable){this.deselectAll();mxui.dom.clearSelection();this.selectRow(_ccd);}this._addObjectToSelection(_cd3);_cd2&&_cd2.call(this,_cd1.params);}else{}},eventControlBarButtonClicked:function(e){var node=e.currentTarget,_cd5=node.getAttribute("data-mendix-id");if(_cd5){var _cd6=this._getGridConfig().getActionsByKey(_cd5);if(_cd6){if(_cd6.actionCall==="ActionSelected"){_cd6.actionCall="EditSelection";}else{if(_cd6.actionCall==="Create"){_cd6.actionCall="InsertNew";}}var _cd7="action"+_cd6.actionCall;if(this[_cd7]){this[_cd7](_cd6.params);}else{logger.error(this.id+".eventControlBarButtonClicked: Called function '"+_cd7+"' does not exist in this component");}}else{logger.error(this.id+".eventControlBarButtonClicked: Action with action key '"+_cd5+"' is not defined");}}else{logger.error(this.id+".eventControlBarButtonClicked: No action key defined!");}},actionInvokeMicroflow:function(_cd8){this.triggerPluginEvent("invokeMicroflow",null,dojo.hitch(this,"invokeMicroflow",_cd8));},invokeMicroflow:function(_cd9){var _cda=this._getGridState(),_cdb=this.entity,_cdc=_cd9[_cdb],_cdd=_cdc.microflow,_cde={applyto:_cdc.applyTo};if(_cdc&&_cdb){var _cdf=_cda.invertedSelection,_ce0=this._getSelectedGuids(),_ce1=this._getDataSource(),_ce2=this.schema,_ce3;switch(_cdc.applyTo){case "selection":if(_cdf){_ce3=[];_ce1.each(function(obj){var guid=obj.getGuid();if(dojo.indexOf(_ce0,guid)===-1){_ce3.push(guid);}});}else{_ce3=_ce0;}if(_ce3.length===0){mx.ui.info(mx.ui.translate("mxui.widget.DataGrid","no_selection"));return;}_cde.guids=_ce3;if(_ce3.length===1){_cde.gridid=_ce2;}break;case "all":_ce3=dojo.clone(_ce1.getObjects());dojo.mixin(_cde,{guids:_ce3,applyto:"selection"});if(_ce3.length===1){_cde.gridid=_ce2;}break;case "selectionset":var _ce4,_ce5,_ce6;if(_cdf){_ce6=_ce1.getSetSize()-_ce0.length;_ce4=_ce1.getCurrentXPath();}else{_ce6=_ce0.length;_ce4="//"+_cdb;}if(_ce6===0){mx.ui.info(mx.ui.translate("mxui.widget.DataGrid","no_selection"));return;}var _ce7=[];for(var i=0,id;id=_ce0[i];++i){var obj=_ce1.getObject(id);_ce7.push("id"+(_cdf?"!=":"=")+"\""+id+"\"");}if(_ce7.length===0){_ce5="";}else{_ce5="["+_ce7.join(_cdf?" and ":" or ")+"]";}dojo.mixin(_cde,{xpath:_ce4,constraints:_ce5,sort:_ce1.getSortSettings()});if(_ce6===1){_cde.gridid=_ce2;}break;case "set":if(_ce1.getSetSize()===0){_cde.applyto="none";}else{dojo.mixin(_cde,{xpath:_ce1.getCurrentXPath(),sort:_ce1.getSortSettings()});}break;}var self=this,conf=_cdd.confirmation,_ce8=[];var _ce9=function(cb){mx.ui.confirmation({cancel:conf.cancel,proceed:conf.proceed,content:conf.question,handler:cb});};if(this.actTriggerOnSync){_ce8.push("actTriggerOnSync");}if(this.actDeferSyncAction){_ce8.push("actDeferSyncAction");}var run=function(_cea){mx.ui.execute({microflow:_cdd},{params:_cde,context:self.mxcontext,store:{caller:self},callback:_cea});};if(conf){_ce8.push(_ce9);}if(_cdd&&_cdd.validate==="view"){_ce8.push(dojo.hitch(this.mxform,"validate"));}_ce8.push(run);_ce8.push(function(_ceb){if(!this._destroyed&&!_cdc.maintainSelection){this.deselectAll();this.shareSelected();}_ceb();});this.sequence(_ce8);}},actionReturnSelection:function(opts){var self=this,form=this.mxform;this._saveSelection();form.suspend();form.validate(function(){form.suspend();var _cec=function(e){form.resume();if(!(e instanceof mendix.lib.ValidationError)){mx.onError(e);}};form.save(function(){form.commit(function(){form.dispose();},_cec);},_cec);});},controlNode:null,_setToolbarAttr:function(_ced){for(var i=0,btn;btn=this._toolWidgets[i++];){btn.set("disabled",_ced);}},buildControlBar:function(){var _cee=this._getGridState();if(!_cee.controlbar&&!_cee.pagingbar){this.controlNode.style.display="none";}},buildToolBar:function(){this._toolWidgets=[];if(!this._getGridState().controlbar){this.toolBarNode.style.display="none";return;}var _cef=this._getGridConfig().gridTools();var box=this.getFocusBox(this.controlNode);var frag=document.createDocumentFragment();for(var i in _cef){var tool=_cef[i];var _cf0=new mxui.widget.Button({"mxid":tool.mxid,"caption":tool.title,"iconUrl":tool.icon,"onClick":dojo.hitch(this,"eventControlBarButtonClicked"),"cssClasses":tool.cssClass,"cssStyle":tool.cssStyle});this._toolWidgets.push(_cf0);var _cf1=_cf0.domNode;try{if(_cef[i].gridFunction){_cf1.setAttribute("gridFunction",_cef[i].gridFunction);_cf1.setAttribute("param",_cef[i].param);if(_cef[i].background){_cf1.setAttribute("background-job",_cef[i].background);}if(_cef[i].progress){_cf1.setAttribute("progress",_cef[i].progress);}if(_cef[i].message){_cf1.setAttribute("message",_cef[i].message);}}if(i>0){_cef[i-1]._nextNode=_cf1;}_cef[i]._domNode=_cf1;frag.appendChild(_cf1);frag.appendChild(document.createTextNode(" "));box.add(_cf1);_cf0.startup();}catch(e){}}this.toolBarNode.appendChild(frag);mxui.dom.disableSelection(this.toolBarNode);},buildPagingBar:function(){if(!this._getGridState().pagingbar){this.pagingBarNode.style.display="none";return;}var ltr=this.isLeftToRight(),css=this.css,frag=document.createDocumentFragment(),box=this.getFocusBox(this.controlNode),$=mxui.dom.create;this.btFirst=new mxui.widget.Button({iconClass:"glyphicon "+(ltr?"glyphicon-step-backward":"glyphicon-step-forward"),"onClick":dojo.hitch(this,"eventPagingFirstClicked")});frag.appendChild($("#",this.btFirst.domNode," "));box.add(this.btFirst.domNode);this.btPrevious=new mxui.widget.Button({iconClass:"glyphicon "+(ltr?"glyphicon-backward":"glyphicon-forward"),"onClick":dojo.hitch(this,"eventPagingPreviousClicked")});frag.appendChild($("#",this.btPrevious.domNode," "));box.add(this.btPrevious.domNode);this._pagingStatusNode=mxui.dom.div({"class":"dijitInline "+this.css.pagingStatus});frag.appendChild($("#",this._pagingStatusNode," "));this.btNext=new mxui.widget.Button({iconClass:"glyphicon "+(ltr?"glyphicon-forward":"glyphicon-backward"),"onClick":dojo.hitch(this,"eventPagingNextClicked")});frag.appendChild($("#",this.btNext.domNode," "));box.add(this.btNext.domNode);this.btLast=new mxui.widget.Button({iconClass:"glyphicon "+(ltr?"glyphicon-step-forward":"glyphicon-step-backward"),"onClick":dojo.hitch(this,"eventPagingLastClicked")});frag.appendChild($("#",this.btLast.domNode," "));box.add(this.btLast.domNode);this.pagingBarNode.appendChild(frag);mxui.dom.disableSelection(this.pagingBarNode);},updatePagingStatus:function(_cf2){if(!this._getGridState().pagingbar){return;}var _cf3=this._getDataSource(),_cf4=_cf3.getStatusMessage();mxui.html.setContent(this._pagingStatusNode,_cf4);if(_cf3.atBeginning()){this.btFirst.set("disabled",true);this.btPrevious.set("disabled",true);}else{this.btFirst.set("disabled",false);this.btPrevious.set("disabled",false);}if(_cf3.atEnd()){this.btNext.set("disabled",true);this.btLast.set("disabled",true);}else{this.btNext.set("disabled",false);this.btLast.set("disabled",false);}},eventPagingFirstClicked:function(){var _cf5=this._getDataSource();if(!_cf5.atBeginning()){_cf5.first(dojo.hitch(this,"refreshGrid"));}},eventPagingPreviousClicked:function(){var _cf6=this._getDataSource();if(!_cf6.atBeginning()){_cf6.previous(dojo.hitch(this,"refreshGrid"));}},eventPagingNextClicked:function(){var _cf7=this._getDataSource();if(!_cf7.atEnd()){_cf7.next(dojo.hitch(this,"refreshGrid"));}},eventPagingLastClicked:function(){var _cf8=this._getDataSource();if(!_cf8.atEnd()){_cf8.last(dojo.hitch(this,"refreshGrid"));}},_searchElements:null,_searchFilled:false,searchArgumentNode:null,searchControlNode:null,_searchGetConstraints:function(){var _cf9="";var _cfa=[];for(var i in this._searchElements){var _cfb=this._searchElements[i].get("value");(_cfb!=="")&&_cfa.push(_cfb);}if(_cfa.length){_cf9="["+_cfa.join(" and ")+"]";}return _cf9+this._getGridState().xpathConstraint;},buildSearchBlock:function(){var _cfc=this._getGridState(),_cfd=this._getGridConfig(),css=this.CSS,$=mxui.dom.create;if(_cfc.isSearchBuild){return;}this._searchElements=[];_cfc.isSearchBuild=true;var _cfe=this.searchButton=new mxui.widget.Button({"caption":mx.ui.translate("mxui.widget.DataGrid",["search"]),"onClick":dojo.hitch(this,"eventSearchActivated"),"class":this.css.searchButton});this.searchControlNode.appendChild($("#",_cfe.domNode," "));var _cff=this.resetButton=new mxui.widget.Button({"caption":mx.ui.translate("mxui.widget.DataGrid",["reset"]),"onClick":dojo.hitch(this,"eventSearchResetClicked"),"class":this.css.resetButton});this.searchControlNode.appendChild($("#",_cff.domNode," "));var opts=_cfd.searchBarItems(),frag=document.createDocumentFragment();for(var i in opts){var _d00=opts[i];_d00.metaobject=this._getMetaEntity();_d00.mxcontext=this.mxcontext;_d00.baseclass=this.css.baseClass;var _d01=new mxui.widget.SearchInput(_d00);this.connect(_d01,"onKeyUp","eventSearchActivated");this._searchElements[i.toString()]=_d01;frag.appendChild(_d01.domNode);_d01.startup();}this.searchArgumentNode.appendChild(frag);},buildSearchBar:function(){var _d02=this._getGridState(),_d03=this._getGridConfig();if(!_d02.searchbar){this.searchNode.style.display="none";this._searchFilled=true;return;}var _d04=_d03.searchBarConfig();if(_d04){_d02.searchBarVisible=!_d04.startFolded;_d02.searchBarTogglable=!!_d04.foldable;}else{_d02.searchBarVisible=true;}if(!_d02.searchBarVisible){var _d05=false;var opts=_d03.searchBarItems();for(var i in opts){var item=opts[i];if(item.defaults){this.buildSearchBlock();_d05=true;break;}}this.searchNode.style.display="none";_d02.isSearchBuild=_d05;}else{this.buildSearchBlock();this.searchNode.style.display="";}this.checkSearchFields();},eventSearchActivated:function(e){var self=this,_d06=this._getDataSource();dojo.stopEvent(e);var _d07=this.searchButton;var _d08=dojo.hitch(this,function(){this._clearSelection();this.refreshGrid();if(this.triggerOnSearchChanged){this.triggerOnSearchChanged();}_d07.set("disabled",false);});var _d09=false;if(e.type==="click"){this.checkSearchFields();_d09=true;}else{if(e.shiftKey&&e.keyCode===13){}else{if(e.keyCode===13){this.checkSearchFields();_d09=true;}}}if(!this.constraintsFilled()){_d09=false;}if(_d09){_d07.set("disabled",true);_d06.isValid(function(_d0a){if(_d0a){_d06.setConstraints(self._searchGetConstraints(),_d08);}else{_d07.set("disabled",false);}});}},eventSearchResetClicked:function(e){var self=this,_d0b=this._getDataSource();for(var i in this._searchElements){this._searchElements[i].reset();}this.checkSearchFields();_d0b.setConstraints(this._searchGetConstraints());var _d0c=dojo.hitch(this,function(){this.refreshGrid();if(this.triggerOnSearchChanged){this.triggerOnSearchChanged();}});if(this.constraintsFilled()){_d0b.isValid(function(_d0d){if(_d0d){_d0b.refresh(_d0c);}else{_d0b.clean(_d0c);}});}},checkSearchFields:function(){var _d0e=this._getGridConfig();var _d0f=_d0e.gridSetting("waitforsearch");if(!_d0f){this._searchFilled=true;return;}for(var i in this._searchElements){var _d10=this._searchElements[i].get("value");if(_d10!==""){this.messageNode.innerHTML="";this.messageNode.style.display="none";this._searchFilled=true;return;}}this.messageNode.innerHTML=mx.ui.translate("mxui.widget.DataGrid",["waitForSearch"]);this.messageNode.style.display="block";this._searchFilled=false;},constraintsFilled:function(){if(!this._searchFilled){return false;}for(var i=0,_d11;_d11=this.reqConstraints[i];i++){if(!this.mxcontext.getContext(_d11)){return false;}}return true;},actionToggleSearch:function(opts){var self=this,_d12=this._getGridState();if(!_d12.searchBarTogglable){return;}this.buildSearchBlock();if(!(_d12.searchBarVisible=!_d12.searchBarVisible)){this._searchWipeOut=this._searchWipeOut||dojo.fx.wipeOut({node:this.searchNode,duration:200,onEnd:function(){setTimeout(function(){self.resize(self._resizeBox);},0);for(var x in self._searchElements){self._searchElements[x].hideTooltip();}}});this._searchWipeOut.play();}else{this._searchWipeIn=this._searchWipeIn||dojo.fx.wipeIn({node:this.searchNode,duration:200,onEnd:function(){setTimeout(function(){self.showOverflow();self.resize(self._resizeBox);},0);try{for(var x in self._searchElements){if(!self._searchElements[x].get("hidden")){self._searchElements[x].focus();break;}}}catch(e){}}});this.hideOverflow();this._searchWipeIn.play();}},applyContext:function(_d13,_d14){var _d15=this._getMetaEntity(),_d16=this._getDataSource(),_d17=this._getGridState(),_d18=this._getGridConfig(),self=this;if(_d15==null){_d14&&_d14();return;}if(!_d16){logger.error(this.id+".applyContext: Applying context before rendered!!!");_d14&&_d14();return;}this._clearSelection();this.cloneContext(_d13);this.setUpdateInterval();_d17.xpathConstraint=this.xpathConstraint;var _d19=this.mxcontext.getParam("xpathConstraint");if(_d19){_d17.xpathConstraint+=_d19;}this.removeSubscriptions();this.registerSubscriptions();if(this.reference){var _d1a=this.reference.split(/\//),_d1b=_d1a[0],_d1c=_d1a[1];var id=this.mxcontext.getContext(_d1b);if(id){var _d1d="["+_d1c+"=\""+id+"\"]";_d17.xpathConstraint+=_d1d;}else{}}if(!_d17.inDenial){var _d1e=[];if(this.constraintsFilled()){var _d1f=[];var _d20=function(item){return function(_d21){item.reinit(_d21);};};for(var i in this._searchElements){_d1f.push(_d20(this._searchElements[i]));}_d1e.push(function(cb){this.collect(_d1f,cb);});_d1e.push(function(_d22){if(_d16.setConstraints){_d16.setConstraints(self._searchGetConstraints());}_d16.reload(_d22);});}else{_d1e.push("actCleanDS");}this.sequence(_d1e,function(){this.refreshGrid();this.filterSelected();this.shareSelected();_d14();});}else{_d14&&_d14();}},objectUpdateNotification:function(){var self=this,_d23=this._getGridState(),_d24=this._getDataSource();if(!_d23.inDenial&&this.constraintsFilled()){_d24.isValid(function(_d25){if(_d25){self.sequence([dojo.hitch(_d24,"entityUpdate"),function(_d26){self.refreshGrid();_d26&&_d26();},"filterSelected"]);}});}},actionDeleteSelection:function(_d27){var _d28=this._getGridState(),_d29=this._getSelectedGuids();if(_d28.invertedSelection){}else{if(!_d29.length){mx.ui.info(mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{var self=this;var _d2a=function(){var _d2b=_d29;self._clearSelection();self.deselectGridRows();self.shareSelected();mx.data.remove({guids:_d2b,callback:function(){mx.data.sendClassUpdate(self.entity);},error:function(e){mx.onError(e);}});};if(_d27===true){_d2a();}else{mx.ui.confirmation({content:mx.ui.translate("mxui.widget.DataGrid","confirm_delete",_d29.length),handler:_d2a});}}}},resize:function(box){var _d2c=this.domNode,_d2d=this.contentNode;dojo.style(_d2d,"height","auto");if(box){var _d2e=dojo.marginBox(_d2c),_d2f=dojo.marginBox(_d2d),_d30=box.h-(_d2e.h-_d2f.h);if(_d30>=100){dojo.style(_d2d,"height",_d30+"px");if(this.headTable){dojo.style(this.headTable,"top","0px");}}}this._resizeBox=box;},close:function(){this.disposeContent();},uninitialize:function(_d31){var _d32=null;try{this.clearInterval();this.removeSubscriptions();mxui.widget.destroyChildren(this.searchControlNode);mxui.widget.destroyChildren(this.toolBarNode);mxui.widget.destroyChildren(this.pagingBarNode);if(this.itemNode){mxui.widget.destroyChildren(this.itemNode);}if(_d32){_d32.destroy();}for(var i in this._searchElements){this._searchElements[i].destroy();}this.devBlock&&this.devBlock.destroyRecursive();this._uninitializeGrid&&this._uninitializeGrid();}catch(e){logger.error(this.id+".uninitialize : error : "+e.message);}this._setGridConfig(null);this._setMetaEntity(null);this._setDataSource(null);this._searchElements=null;}});});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./_base/connect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_d33,dojo,_d34,_d35,_d36,dom,_d37,geom,_d38,_d39){if(!dojo.isAsync){_d38(0,function(){var _d3a=["./fx/Toggler"];_d39(_d3a);});}var _d3b=dojo.fx={};var _d3c={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _d3d=function(_d3e){this._index=-1;this._animations=_d3e||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_d34.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_d3d.prototype=new _d33();lang.extend(_d3d,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){_d35.disconnect(this._onAnimateCtx);_d35.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_d35.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=_d35.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_d3f,_d40){if(!this._current){this._current=this._animations[this._index=0];}if(!_d40&&this._current.status()=="playing"){return this;}var _d41=_d35.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_d42=_d35.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_d43=_d35.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);_d35.disconnect(_d41);_d35.disconnect(_d42);_d35.disconnect(_d43);});if(this._onAnimateCtx){_d35.disconnect(this._onAnimateCtx);}this._onAnimateCtx=_d35.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){_d35.disconnect(this._onEndCtx);}this._onEndCtx=_d35.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_d35.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);_d35.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_d44,_d45){this.pause();var _d46=this.duration*_d44;this._current=null;_d34.some(this._animations,function(a){if(a.duration<=_d46){this._current=a;return true;}_d46-=a.duration;return false;});if(this._current){this._current.gotoPercent(_d46/this._current.duration,_d45);}return this;},stop:function(_d47){if(this._current){if(_d47){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_d35.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);_d35.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){_d35.disconnect(this._onAnimateCtx);}if(this._onEndCtx){_d35.disconnect(this._onEndCtx);}}});lang.extend(_d3d,_d3c);_d3b.chain=function(_d48){return new _d3d(_d48);};var _d49=function(_d4a){this._animations=_d4a||[];this._connects=[];this._finished=0;this.duration=0;_d34.forEach(_d4a,function(a){var _d4b=a.duration;if(a.delay){_d4b+=a.delay;}if(this.duration<_d4b){this.duration=_d4b;}this._connects.push(_d35.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new _d36.Animation({curve:[0,1],duration:this.duration});var self=this;_d34.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_d35.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};lang.extend(_d49,{_doAction:function(_d4c,args){_d34.forEach(this._animations,function(a){a[_d4c].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_d4d,args){var t=this._pseudoAnimation;t[_d4d].apply(t,args);},play:function(_d4e,_d4f){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_d50,_d51){var ms=this.duration*_d50;_d34.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_d51);});this._call("gotoPercent",arguments);return this;},stop:function(_d52){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_d34.forEach(this._connects,_d35.disconnect);}});lang.extend(_d49,_d3c);_d3b.combine=function(_d53){return new _d49(_d53);};_d3b.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_d36.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _d54=_d37.get(node,"height");return Math.max(_d54,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_d35.connect(anim,"onStop",fini);_d35.connect(anim,"onEnd",fini);return anim;};_d3b.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_d36.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_d35.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_d35.connect(anim,"onStop",fini);_d35.connect(anim,"onEnd",fini);return anim;};_d3b.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_d37.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_d36.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_d35.connect(anim,"beforeBegin",anim,init);return anim;};return _d3b;});},"mxui/mixin/_Contextable":function(){define(["dojo","dijit","dojox","dojo/require!mxui/lib/_ContextSource"],function(dojo,_d55,_d56){dojo.provide("mxui.mixin._Contextable");dojo.require("mxui.lib._ContextSource");dojo.declare("mxui.mixin._Contextable",null,{inputargs:{dropContext:null,contextsource:""},notifyListeners:function(_d57){dojo.publish(mx.ui.makeShareId(this.mxform,this.mxid),[_d57]);},initContext:function(){if(!this.mxcontext){this.mxcontext=this.createContext();}},cloneContext:function(_d58){if(this.mxcontext==null||this.mxcontext==""){this.mxcontext=this.createContext();}this.mxcontext.dupFrom(_d58);this.applyContextDrop();this.applyContextAction();if(this.backtrackconstraints){this.mxcontext.setConstraints(this.backtrackconstraints);}},applyContextDrop:function(){var _d59=this.dropContext;if(_d59){for(var i=0,drop;drop=_d59[i];i++){if(this.mxcontext.hasContext(drop)){this.mxcontext.unsetContext(drop);}}}},applyContextAction:function(){if(/reset/i.test(this.contextAction)){this.mxcontext.reset();}},createContext:function(){var ctxt=new mendix.lib.MxContext();ctxt.setAppFlowId(this.app_flow_id);return ctxt;},removeOpenContext:function(){var _d5a=this.mxcontext;if(_d5a&&_d5a.listeners){_d5a.listeners[this.id]=null;delete _d5a.listeners[this.id];}mx.ui.cleanWidgetContext(this);delete this.mxcontext;},uninitialize:function(){this.removeOpenContext();}});});},"mxui/lib/_ContextSource":function(){define(["dojo","dijit","dojox"],function(dojo,_d5b,_d5c){dojo.provide("mxui.lib._ContextSource");mxui.lib._ContextSourceDirect={name:"mxui.lib._ContextSourceDirect",isValidContext:function(_d5d){var _d5e=_d5d.params,_d5f=_d5d.mxcontext,_d60=_d5e.entity;return _d5f.hasContext(_d60);},fetchObject:function(_d61){var _d62=_d61.params,_d63=typeof _d61.callback=="function"?_d61.callback:null,_d64=_d62.mxcontext,_d65=_d62.entity,id=_d64&&_d64.getTrackId(),_d66=_d64&&_d64.getTrackEntity(),meta=_d66&&mx.meta.getEntity(_d66);var _d67=function(){_d62.hold(null);_d63&&_d63(null);};if(meta&&meta.isA(_d65)&&id&&_d63){if(_d62.useSchema){mx.data.getBySchema({id:id,schema:_d62.mxid,callback:function(obj,_d68){if(_d68){_d62.hold(obj);}_d64.setTrackObject(obj);_d63&&_d63(obj);},error:function(e){mx.onError(e);_d64.setTrackObject(null);_d67();}});}else{mx.data.get({guid:id,filter:{id:_d62.mxid},callback:function(obj){if(obj){if(obj.isA(_d65)){_d62.hold(obj);_d63(obj);}else{mx.onError(new mendix.lib.Error(this.name+".fetchObject : received object is not of type "+_d65));_d67();}}else{_d67();}},error:function(e){mx.onError(e);_d67();}});}}else{_d63&&_d63(null);}}};mxui.lib._ContextSourceXPath={my_attributes:["cxtxpath"],isValidContext:function(_d69,_d6a){return true;},fetchObject:function(_d6b){var _d6c=_d6b.params;var _d6d=typeof (_d6b.callback)=="function"?_d6b.callback:null;var _d6e=_d6c.mxcontext;var _d6f=_d6c.entity;var path=_d6c.cxtxpath;if(!path){logger.error("Unable to fetchObject, because path is empty");_d6d&&_d6d(null);}var _d70=path.split(/\//);var _d71=_d70?_d70[0]:null;var id=_d6e&&_d71?_d6e.getContext(_d71):null;if(id&&path&&_d6d){var _d72=path.replace(_d71,"//"+_d71+"[id="+id+"]")+"/"+_d6f;mx.data.get({xpath:_d72,filter:{limit:1},callback:function(objs){_d6d(objs[0]);},error:function(e){mx.onError(e);_d6d(null);}});}else{_d6d&&_d6d(null);}}};mxui.lib._ContextSourceMicroflow={name:"mxui.lib._ContextSourceMicroflow",my_attributes:["cxtmicroflow"],isValidContext:function(_d73){return true;},fetchObject:function(_d74){var _d75=_d74.params,_d76=typeof _d74.callback=="function"?_d74.callback:null,_d77=_d75.mxcontext,_d78=_d75.cxtmicroflow;if(_d78&&_d76){mx.data.get({microflow:_d78,context:_d77,callback:function(_d79){if(dojo.isArray(_d79)&&_d79.length>0){if(_d79.length>1){mx.data.release(_d79.slice(0));}_d75.hold(_d79[0]);_d76(_d79[0]);}else{_d76(null);}},error:function(e){mx.onError(e);_d76(null);}});}else{_d76&&_d76(null);}}};});},"mxui/mixin/_Pluggable":function(){define(["dojo","dijit","dojox"],function(dojo,_d7a,_d7b){dojo.provide("mxui.mixin._Pluggable");dojo.declare("mxui.mixin._Pluggable",null,{plugins:null,pluginEvents:null,_normalizePluginName:function(name){if(name.indexOf(".")==-1){name="mxui.widget.plugins."+this.declaredClass.split(".").pop()+"."+name;}return name;},loadPlugin:function(name,_d7c){this.plugins=this.plugins||{};name=this._normalizePluginName(name);dojo["require"](name);var _d7d=dojo.getObject(name);this.plugins[name]=new _d7d({parent:this,config:_d7c});},hasPlugin:function(name){return this.plugins&&this._normalizePluginName(name) in this.plugins;},registerToPluginEvent:function(name,_d7e,_d7f){this.pluginEvents=this.pluginEvents||{};if(!this.pluginEvents[name]){this.pluginEvents[name]=[];}_d7e._async=_d7f;this.pluginEvents[name].push(_d7e);},triggerPluginEvent:function(name,args,_d80){var _d81=this.pluginEvents&&this.pluginEvents[name];var _d82=1;var _d83=function(){if(--_d82===0){if(_d80){_d80();}}};if(_d81){dojo.forEach(_d81,function(_d84){try{if(_d84._async){_d82++;_d84(args,_d83);}else{_d84(args);}}catch(e){logger.error(this.id+".triggerPluginEvent: An error occured in listener of event '"+name+"': "+e);}},this);}_d83();},uninitialize:function(){for(var name in this.plugins){try{this.plugins[name].destroy();}catch(e){}}}});});},"mxui/mixin/_Scriptable":function(){define(["dojo","dijit","dojox"],function(dojo,_d85,_d86){dojo.provide("mxui.mixin._Scriptable");dojo.declare("mxui.mixin._Scriptable",null,{offeredInterfaces:null,offerInterface:function(_d87){if(this.offeredInterfaces==null){this.offeredInterfaces={};}if(this[_d87]){this.offeredInterfaces[_d87]=true;return true;}else{return false;}},offerInterfaces:function(_d88){for(var i=0;i<_d88.length;i++){this.offerInterface(_d88[i]);}},deleteInterface:function(_d89){if(this.offeredInterfaces&&this.offeredInterfaces[_d89]){this.offeredInterfaces[_d89]=null;delete this.offeredInterfaces[_d89];}},hasInterface:function(_d8a){return (this.offeredInterfaces&&this.offeredInterfaces[_d8a])?true:false;},invokeCall:function(call,args){if(!this.hasInterface(call)){logger.error(this.id+".invokeCall: ERROR: attempt to invoke a function not specified as Scriptable");}else{this[call](args);}}});});},"mxui/mixin/_Internationalized":function(){define(["dojo","dijit","dojox"],function(dojo,_d8b,_d8c){dojo.provide("mxui.mixin._Internationalized");dojo.declare("mxui.mixin._Internationalized",null,{postMixInProperties:function(){},translate:function(str){var args=[];if(arguments.length>1){for(var i=1;i<arguments.length;i++){args.push(arguments[i]);}}return mx.ui.translate(this.declaredClass,str,args);}});});},"mxui/lib/MxGridConfig":function(){define(["dojo","dijit","dojox"],function(dojo,_d8d,_d8e){dojo.provide("mxui.lib.MxGridConfig");mxui.lib.MxGridConfig=function(_d8f){var name="mxui.lib.MxGridConfig";var _d90=_d8f.config;var _d91={};var _d92=[];var _d93={};var _d94={};var _d95={};var _d96=function(){var _d97=_d90.controlBar.gridTools;for(var i=0,tool;tool=_d97[i];i++){if(mx.session.hasSomeRole(tool[mxui.html.attrs.ForRole]||null)){_d92.push(dojo.mixin({mxid:tool.actionKey},tool));}else{_d95[tool.actionKey]=true;}}};var _d98=function(){var _d99=_d90.controlBar.gridActions;for(var i=0,_d9a;_d9a=_d99[i];i++){_d91[_d9a.keyValue]={actionCall:_d9a.gridFunction,params:_d9a.params};}};var _d9b=function(){var _d9c=_d90.actionBindings,_d9d,ev;if(_d9c){for(ev in _d9c){_d9d=_d9c[ev];if(!_d95[_d9d]){_d93[ev]=_d9d;}}}};var _d9e=function(str){var _d9f;_d9f={"equal":"=","greater":">","smaller":"<","notequal":"!=","smallerorequal":"<=","greaterorequal":">=","contains":"contains","starts-with":"starts-with"}[str];if(!_d9f){logger.error(name+".mapOperator : unknown operator: "+str);}return _d9f+"";};var _da0=function(){_d94={};if(_d90.searchElements){for(var i=0,_da1;_da1=_d90.searchElements[i];++i){if(/range$/i.test(_da1.klass)){_da1.name=_da1.lower;_da1.toKey=_da1.upper;_da1.operator=_da1.includeLower?"<=":"<";_da1.toOperator=_da1.includeUpper?">=":">";}else{_da1.operator=_d9e(_da1.operator);}_d94[i+""]=dojo.mixin({show:true},_da1);}}};this.gridSetting=function(str){var _da2=_d90.gridpresentation,_da3=dojo.mixin({pageSize:_da2.rows*_da2.columns},_da2);return _da3[str];};this.gridTools=function(){return _d92;};this.getActionsByKey=function(key){var _da4=_d91[key];return _da4&&_da4.params?dojo.clone(_da4):_da4;};this.searchBarItems=function(){return _d94;};this.gridAttributes=function(){return _d90.griddata;};this.searchBarConfig=function(){return _d90.searchOptions;};this.getDataSource=function(){return _d90.datasource;};this.gridActionBindings=function(){return _d93||{};};this.getPlugins=function(){return _d90.plugins;};this.toString=function(){return "mxui.lib.MxGridConfig";};_d96();_d98();_d9b();_da0();};});},"mxui/html/render":function(){define(["dojo","dijit","dojox"],function(dojo,_da5,_da6){dojo.provide("mxui.html.render");mxui.html.renderValues=function(_da7,_da8,_da9){var _daa=_da8.replace(/\${([^}\s]+)}/g,function(_dab,_dac,_dad,str){var _dae=_dac.split(":");var _daf=_dae[0];var info="";if(_da7.has(_dac)){var _db0=_dae[1]||_da7.getAttributeType(_daf);info=mxui.html.renderValue(_da7,_daf,_da9);}else{logger.error("mxui.html.renderValues : attribute '"+_daf+"' not found in '"+_da7.getEntity()+"'");}return info;});return _daa;};mxui.html.getRenderAttributes=function(_db1){var _db2=[];_db1&&_db1.replace(/\${([^}\s]+)}/g,function(_db3,_db4,_db5,str){_db2.push(_db4);});return _db2;};mxui.html.renderValue=function(_db6,attr,opts){opts=opts||{};var _db7=opts.render||_db6.getAttributeType(attr)||"";var _db8=_db6.get(attr);var _db9="";switch(_db7.toLowerCase()){case "string":_db9=_db8||"";break;case "date":case "datetime":if(_db8!==""){_db9=mx.parser.formatDate(_db8,{selector:opts.format,datePattern:opts.datepattern});}else{_db9="";}break;case "enum":_db9=_db6.getEnumCaption(attr);break;case "number":case "int":case "integer":case "long":_db9=mx.parser.formatNumber(_db8,opts.formatted,0);break;case "float":case "currency":_db9=mx.parser.formatNumber(_db8,opts.formatted,opts.precision);break;case "bool":case "boolean":_db9=mx.ui.translate("mxui.widget.DataGrid",_db8);break;default:_db9=_db8;break;}return _db9;};});},"mxui/widget/plugins/DataGrid/Calculations":function(){define(["dojo","dijit","dojox","dojo/require!mxui/widget/DataGrid"],function(dojo,_dba,_dbb){dojo.provide("mxui.widget.plugins.DataGrid.Calculations");dojo.require("mxui.widget.DataGrid");if(!mxui.widget.plugins){mxui.widget.plugins={};}if(!mxui.widget.plugins.DataGrid){mxui.widget.plugins.DataGrid={};}mxui.widget.plugins.DataGrid.Calculations=function(_dbc){var name="mxui.widget.plugins.DataGrid.Calculations";var _dbd=null;var _dbe=[];var _dbf=_dbc.parent;var _dc0=_dbc.config;if(!_dbf&&(_dbf.widgetType!="DataGrid")){throw new Error(name+".initialize : can only register to DataGrid!");}var _dc1={onDestroy:"plugineventOnDestroy",onRefresh:"plugineventOnRefresh"};var _dc2={};var _dc3=_dbf.getEntityProperties();var _dc4=function(){_dbf.showFootNode();var tr1=mxui.dom.tr();var tr2=mxui.dom.tr();_dbf.gridFootNode.appendChild(tr1);_dbf.gridFootNode.appendChild(tr2);var th,td=null;for(var i=0,_dc5;_dc5=_dc3[i];i++){var tag=_dc5.tag;th=mxui.dom.th();td=mxui.dom.td();_dbf.setColumnStyle(th,_dc5);_dbf.setColumnStyle(td,_dc5);if(_dc0[tag]){th.innerHTML=_dc0[tag].title||"";switch(_dc5.render.toLowerCase()){case "float":case "currency":_dc0[tag].resulttype="float";break;default:_dc0[tag].resulttype="integer";break;}}td.innerHTML="&nbsp;";_dc2[i]=td;tr1.appendChild(th);tr2.appendChild(td);}};var _dc6=function(){for(var i=0,_dc7;_dc7=_dc3[i];i++){_dc2[i].innerHTML="&nbsp;";}};var _dc8=function(data){if(!_dbf.constraintsFilled()){_dc6();return;}mx.server.request({request:{action:"retrieve_aggregates",params:{id:_dbf.schema,xpath:_dbf.getCurrentXPath()}},options:{callback:function(code,json,evt){_dc9(json.aggregates);},useCache:false,preventCache:true}});};var _dc9=function(data){if(!data){return;}var _dca=0,_dcb=_dbf.getHiddenAggregates().reverse();for(var h=0;h<_dcb.length;h++){data.splice(_dcb[h],1);}for(var i=0,_dcc;_dcc=_dc3[i];i++){var tag=_dcc.tag;if(_dc0[tag]){var type=_dc0[tag].resulttype,_dcd=data[_dca++];if(_dcd==null){continue;}if(_dcd==""){_dcd=0;}var opts=_dc3[i].display;switch(type.toLowerCase()){case "currency":case "float":var val=parseFloat(_dcd).toFixed(parseInt(opts.precision));_dc2[i].innerHTML=mx.parser.formatNumber(val,opts.formatted,opts.precision);break;default:_dc2[i].innerHTML=mx.parser.formatNumber(_dcd,opts.formatted,0);break;}}}};this.plugineventOnDestroy=function(e){this.destroy();};this.plugineventOnRefresh=function(e){if(_dbf.constraintsFilled()){_dc9(_dbf.getAggregates());}else{_dc6();}};this.destroy=function(){while(_dbe.length!=0){mx.data.unsubscribe(_dbe.shift());}_dbf=null;};this.objectUpdate=function(){if(!_dbf.acceptingUpdates()&&!_dbf.isSuspended()){_dc8();}};_dc4();for(var i in _dc1){_dbf.registerToPluginEvent(i,dojo.hitch(this,_dc1[i]));}var zork={};zork[_dbf.entity]=true;_dbd=mx.meta.getEntity(_dbf.entity);if(_dbd.hasSuperEntities()){var _dce=_dbd.getSuperEntities();for(var i=0;i<_dce.length;i++){zork[_dce[i]]=true;}}if(_dbd.hasSubEntities()){var _dcf=_dbd.getSubEntities();for(var i=0;i<_dcf.length;i++){zork[_dcf[i]]=true;}}for(var i in zork){_dbe.push(mx.data.subscribe({entity:i,callback:dojo.hitch(this,"objectUpdate")}));}};});},"mxui/widget/plugins/DataGrid/GridEditor":function(){define(["dojo","dijit","dojox","dojo/require!mxui/widget/DataGrid,mxui/widget/MxInlineEditor"],function(dojo,_dd0,_dd1){dojo.provide("mxui.widget.plugins.DataGrid.GridEditor");dojo.require("mxui.widget.DataGrid");dojo.require("mxui.widget.MxInlineEditor");if(!mxui.widget.plugins){mxui.widget.plugins={};}if(!mxui.widget.plugins.DataGrid){mxui.widget.plugins.DataGrid={};}mxui.widget.plugins.DataGrid.GridEditor=function(_dd2){var name="plugins.GridEditor";this._connects=[];var _dd3=dojo.hitch;var _dd4=mxui.dom.getFirstChild;var _dd5=mxui.dom.getAncestorNode;var _dd6=null;var _dd7=null;var _dd8=false;var _dd9,_dda=null;var _ddb={mxobject:null,node:null,row:-1,key:"",attr:"",attrclass:"",valid:true,invalidmsg:"",saving:false,objectSave:function(){if(!this.valid||!_dd7()){var def=new dojo.Deferred();def.errback(new Error(_ddb.invalidmsg));return def;}else{if(_ddb.saving){var def=this._def=new dojo.Deferred();return def;}else{if(_ddc.hasChanges()||_ddc.getEditorStatus()=="active"){if(_dd9()){var def=this._def=new dojo.Deferred();_dda();return def;}if(!this.valid){this._def=null;return new Error("");}}else{return true;}}}},objectRollback:function(){var _ddd=_dde();if(_ddd){var def=new dojo.Deferred();_ddd.rollback({error:function(){def.callback();},callback:function(){def.errback();}});return def;}return true;}};var grid=_dd2.parent;var _ddf=_dd2.config;var _ddc=null;name=grid.id+"."+name;var _de0=null;var _de1={};var _de2="";var _de3="";var _de4=false;if(grid&&(grid.declaredClass!="mxui.widget.DataGrid")){logger.error(name+".initialize : can only register to DataGrid!");}else{}var _de5={},_de6=[];var _de7=function(){_ddc.stopEditing();_ddc.endEdit();if(_ddb.saving){grid.acceptUpdates();}else{if(_dd8){grid.objectUpdate();}}_dd8=false;};var _de8=function(_de9){var guid=_de9.getGuid();var _dea=function(){if(_de5[guid]){mx.data.unsubscribe(_de5[guid].sub);mx.data.unsubscribe(_de5[guid].val);delete _de5[guid];}};var func=_de5[guid];if(func){clearTimeout(func.timer);}else{func=_de5[guid]=new function(){this.objectUpdate=function(guid){if(typeof guid=="object"){return;}var _deb=_de9&&_de9.getGuid();if(guid!=_deb){clearTimeout(this.timer);_dea();mx.data.get({xpath:"//"+_de9.getEntity()+"[id="+guid+"]",filter:{id:grid.getSchemaId()},noCache:true,callback:function(objs){grid.updateMxObject(objs[0]);},error:function(e){mx.onError(e);}});}};this.validationUpdate=function(vals){_ddb.invalidmsg=vals[0].getErrorReason(_ddb.key);};};}func.timer=setTimeout(_dea,5000);func.sub=mx.data.subscribe({guid:guid,callback:dojo.hitch(func,"objectUpdate")});func.val=mx.data.subscribe({guid:guid,val:true,callback:dojo.hitch(func,"validationUpdate")});};var _dec={onLoad:"plugineventOnLoad",preRefresh:"plugineventPreRefresh",onRefresh:"plugineventOnRefresh",onSync:"plugineventOnSync",onCellClicked:"plugineventCellClicked",onSelectRow:"plugineventSelectRow"};var _ded=function(_dee){var _def=null;if(_ddb.mxobject){_def=_ddb.mxobject.getGuid();_ddb.mxobject=null;}if(_dee){_ddb.mxobject=_dee;var guid=_ddb.mxobject.getGuid();if(_def!=guid){_ddb.valid=true;_ddb.invalidmsg="";}}};var _dde=function(){return _ddb.mxobject;};var _df0=function(node){_ddb.node=node;_ddb.row=grid.domData(node,"row");_ddb.key=grid.domData(node,"key");_ddb.col=grid.domData(node,"column");_ddb.datakey=_ddb.key;_ddb.gridsize=grid.getCurrentGridSize();var attr=_ddb.key;if(attr.match("/")!=null){attr=attr.split("/")[0];}_ddb.attrclass=_dd6.getAttributeType(attr);_ddb.attr=attr;_ddb.row=parseInt(_ddb.row,10);if(_ddb.key.match(/\//)){_ddb.key=_ddb.key.replace(/^.*\//,"");}_ded(grid.getMxObjectAtRow(_ddb.row));};var _df1=function(_df2){var _df3=_df2.mxObject;var attr=_df2.attribute;var _df4=_df2.value;if(typeof (_df4)!="string"){_df4=_df4.toString();}if(_df4==""){return true;}switch(_df3.getAttributeType(attr)){case "Enum":var map=_df3.getEnumMap(attr);for(var i=0;i<map.length;i++){if(map[i].key==_df4){return true;}}return false;break;case "Integer":case "Long":case "Float":case "Currency":var _df5=_df4.replace(/^-/,"").replace(/(\,|\.)/g,"").replace(/\d/g,"");return (_df5=="");break;case "Date":case "DateTime":if(_df4.match(/^\d+[\/-]\d+[\/-]\d+$/)!=null){var _df6=mx.parser.parseDate(_df4);return isNaN(_df6)?false:true;}else{return false;}break;default:return true;break;}};_dd7=function(){var obj=_dde();if(!obj){return true;}if(_ddc.getEditorStatus()!="active"){return true;}if(_ddc.hasChanges()){var _df7=_ddc.getValue();var _df8=_df7;var ref=_ddb.attr;if(_dd6.isReference(ref)){return true;}else{if(_df1({mxObject:obj,attribute:ref,value:_df8})){return true;}else{return false;}}}return true;};_dd9=function(){var _df9=_dde();if(!_df9){return false;}if(_ddc.hasChanges()){var _dfa=_ddc.getValue();var _dfb=_dfa;var ref=_ddb.attr;if(_dd6.isReference(ref)){_df9.set(ref,_dfb);}else{if(_df1({mxObject:_df9,attribute:ref,value:_dfb})){_ddb.valid=true;_ddb.invalidmsg="";switch(_ddb.attrclass){case "Date":case "DateTime":_dfb=(_dfa=="")?"":mx.parser.parseDate(_dfa);break;case "Enum":_dfb=_dfa;break;case "Long":case "Integer":_dfb=mx.parser.parseNumber(_dfa,false,0);_dfb=isNaN(_dfb)?"":_dfb;break;case "Currency":case "Float":_dfb=mx.parser.parseNumber(_dfa);_dfb=isNaN(_dfb)?"":dojo.number.round(_dfb,_de0[_ddb.col].display.precision);break;case "String":case "Text":_dfb=mxui.html.sanitizeHTMLString(_dfa);break;default:break;}_df9.set(ref,_dfb);}else{_ddb.valid=false;_ddc.undoChanges();var msg=_ddb.invalidmsg=mx.ui.translate("mendix.lib.Validations","invalid_attribute",[_dfa,_df9.getEntity()+"/"+_ddb.key]);mx.ui.error(msg);}}}return _df9.hasChanges();};var _dfc=function(){if(!_de4){grid.addToSyncDeferQueue();_de4=true;}else{}};var _dfd=function(){if(_de4){grid.removeFromSyncDeferQueue();_de4=false;}else{}};var _dfe=function(e){if(_ddb._def){_ddb._def.errback(new Error(""));_ddb._def=null;}_de6=[];_ddb.valid=false;_ddb.saving=false;grid.acceptUpdates();_dfd();};_dda=function(_dff){if(_dff){_de6.push(_dff);}if(!_ddb.saving){var _e00=_dde();if(_e00&&_e00.hasChanges()){grid.preventUpdates();_ddb.saving=true;_dd8=true;_de8(_e00);mx.data.save({mxobj:_e00,callback:function(){_e00.commit({callback:function(){_ddb.valid=true;_ddb.invalidmsg="";_ddb.saving=false;if(_ddb._def){_ddb._def.callback();_ddb._def=null;}grid.acceptUpdates();_dfd();mendix.lang.collect(_de6);},error:_dfe});},error:_dfe});}else{mendix.lang.collect(_de6);}}else{}};var _e01=false;var _e02=[];var _e03=function(node,_e04){var div=_dd4(node,"DIV"),td=_dd5(node,"TD");if(_ddc.getEditorStatus()=="active"){if(_dd9()){_dda();}}if(div&&td){_df0(td);if(_ddb.row>=_ddb.gridsize){return;}var attr=_ddb.datakey,_e05=attr.split("/"),ref;if(_e05.length>1){attr=_e05[0];ref=_e05[2];}var _e06=_dde();if(!_de0[_ddb.col].editable){_de7();_ded(null);}else{if(_dd6.isReference(attr)){var _e07=function(_e08){var _e09={selected:_e06.getReference(attr),items:{}};_de1[_ddb.datakey].source.each(function(o){var _e0a;switch(o.getAttributeType(ref)){case "Boolean":_e09.items[o.getGuid()]=mx.ui.translate("mxui.widget.DataGrid",o.get(ref)+"");break;case "DateTime":_e09.items[o.getGuid()]=mx.parser.formatDate(o.get(ref));break;case "Enum":_e09.items[o.getGuid()]=o.getEnumCaption(ref);break;default:_e09.items[o.getGuid()]=o.get(ref);}});_ddc.editNode(div,"reference",_e09);_e04&&_ddc.startEditing();_e08&&_e08();};if(!_e01){_e02.push(_e07);}else{_e07();}}else{switch(_dd6.getAttributeType(attr)){case "Boolean":_ddc.editNode(div,"boolean",{selected:_e06.get(attr)+"",items:{"false":mx.ui.translate("mxui.widget.DataGrid","false"),"true":mx.ui.translate("mxui.widget.DataGrid","true")}});_e04&&_ddc.startEditing();break;case "Date":case "DateTime":_ddc.editNode(div,"date");break;case "Enum":_ddc.editNode(div,"enum",{selected:_e06.get(attr),items:_dd6.getEnumKVPairs(attr)});_e04&&_ddc.startEditing();break;default:_ddc.editNode(div,"text");break;}}}}else{}};var _e0b=function(){var _e0c=false;for(var i=0,_e0d;_e0d=_de0[i];i++){if(_e0c){if(_e0d.editable){return _e0d.tag;}}if(i==_ddb.col){_e0c=true;}}};var _e0e=function(){var key="";for(var i=0,_e0f;_e0f=_de0[i];i++){if(i==_ddb.col){return key;}if(_e0f.editable){key=_e0f.tag;}}};var _e10=function(){if(grid.getCurrentGridSize()==0){return;}var row=0;var _e11=_dde();if(_e11!=null){var row=grid.getRowForMxObject(_e11);if(row==null){row=0;}}var node=grid.getCellNode(row,_ddb.datakey||_de2);if(node){_e03(node);}};var _e12=function(){if(grid.getCurrentGridSize()==0){return;}var node=grid.getCellNode(0,_ddb.datakey||_de2);if(node){_e03(node);}};var _e13=function(){_dd9()&&_dda();if(_ddb.row!=0){var node=grid.getCellNode((_ddb.row-1),_ddb.datakey);_e03(node);}};var _e14=function(){_dd9()&&_dda();if(_ddb.row!=(_ddb.gridsize-1)){var node=grid.getCellNode((_ddb.row+1),_ddb.datakey);if(node&&(node!=_ddb.node)){_e03(node);}}};var _e15=function(){if((_ddb.datakey==_de2)&&(_ddb.row!=0)){_ddb.datakey=_de3;_e13();}else{if(_ddb.datakey!=_de2){_dd9();var node=grid.getCellNode(_ddb.row,_e0e());if(node){_e03(node);}}}};var _e16=function(){if(_ddb.datakey==_de3){if(_ddb.row!=(_ddb.gridsize-1)){_ddb.datakey=_de2;_e14();}else{_dd9()&&_dda();mxui.wm.focus.next();_de7();_ded(null);}}else{if(_ddb.datakey!=_de3){_dd9();var node=grid.getCellNode(_ddb.row,_e0b());if(node){_e03(node);}}}};var _e17=function(){grid.domNode.className+=" inlineGrid";};this.plugineventOnLoad=function(e){_e17();};this.plugineventOnSync=function(e){if(_ddc.hasChanges()){_dfc();_ddc.stopEditing();if(_dd9()){_dda();}else{_dfd();}}};this.plugineventOnDestroy=function(e){_de7();if(_ddc.hasChanges()){_dd9();}var _e18=_dde();if(_e18&&_e18.hasChanges()){_dda();}};this.plugineventSelectRow=function(e){var row=e.row;var node=grid.getCellNode(row,_ddb.datakey||_de2);if(node){_e03(node);}};this.plugineventOnRefresh=function(e){if(grid.getCurrentGridSize()==0){return;}switch(_ddc.getEditorStatus()){case "inactive":break;case "active":case "ready":_e10();break;}};this.plugineventPreRefresh=function(e){if(_ddc.hasChanges()){_dd9();}var _e19=_dde();if(_e19&&_e19.hasChanges()){_dda();}_de7();};this.plugineventCellClicked=function(e){if(_ddc.hasChanges()){_dd9();}_e03(e.target,true);if(e.target.nodeName.toLowerCase()=="select"){dojo.stopEvent(e);}else{this._editorClicked=true;}};this.editorClickHandler=function(e){if(!this._editorClicked){try{if(_ddb.valid&&_dd9()){_dda();}}catch(e){logger.error(name+".editorClickHandler:"+e.message);}_de7();_ded(null);}this._editorClicked=false;};this.editorKeyHandler=function(_e1a){var _e1b=_e1a.keyCode;switch(_ddc.getEditorStatus()){case "inactive":break;case "ready":switch(_e1b){case 33:grid.goToPreviousPage(_e12);break;case 34:grid.goToNextPage(_e12);break;case 35:grid.goToLastPage(_e12);break;case 36:grid.goToFirstPage(_e12);break;case 37:_e15();break;case 38:_e13();break;case 9:_e1a.stopPropagation();_e1a.preventDefault();if(_e1a.shiftKey===true){_e15();break;}case 39:_e16();break;case 40:_e14();break;case 13:case 18:case 32:case 27:case 113:_ddc.startEditing();break;case dojo.keys.BACKSPACE:_ddc.startEditing("");break;default:if((_e1b>=48)&&(_e1b<=110)){_ddc.startEditing();}break;}break;case "active":switch(_e1b){case 9:_e1a.stopPropagation();_e1a.preventDefault();case 13:_ddc.stopEditing();_e16();break;case 27:_ddc.undoChanges();_e16();break;default:break;}break;}return false;};var _e1c=null;this.destroy=function(){try{while(this._connects.length!=0){dojo.disconnect(this._connects.pop());}this.plugineventOnDestroy();_ddc.destroy();for(var i in _de1){_de1[i].source.destroy();}_de1=null;while(_e1c.length){mx.screen.unsubscribe(_e1c.pop());}_e1c=null;}catch(e){}grid=null;};try{_ddc=new mxui.widget.MxInlineEditor();}catch(e){}_ddc.eventKeyHandler=this.editorKeyHandler;_dd6=mx.meta.getEntity(grid.entity);_de0=grid.getEntityProperties();var _e1d=[];var _e1e=grid.getGridNodeHash();for(var i=0,_e1f;_e1f=_de0[i];i++){var tag=_e1f.tag;_e1d=tag.split(/\//);if(_e1f.editable){if(_de2==""){_de2=tag;}_de3=tag;}if(_e1f.editable){try{if(_dd6.isReference(_e1d[0])){_de1[tag]={key:_e1d[_e1d.length],source:new mendix.lib.XPathSource({entity:_e1d[_e1d.length-2],page:100})};var ds=_de1[tag].source;ds.reload(function(){_e01=true;mendix.lang.sequence(_e02);});}}catch(e){}}}for(var i in _dec){grid.registerToPluginEvent(i,_dd3(this,_dec[i]));}this._connects.push(dojo.connect(document.body,"onclick",this,"editorClickHandler"));_e1c=[mx.screen.subscribe(grid.getContent(),"saveObject",dojo.hitch(_ddb,"objectSave")),mx.screen.subscribe(grid.getContent(),"rollbackObject",dojo.hitch(_ddb,"objectRollback"))];grid.registerToPluginEvent("invokeMicroflow",function(args,_e20){_dda(_e20);},true);};});},"mxui/widget/MxInlineEditor":function(){define(["dojo","dijit","dojox"],function(dojo,_e21,_e22){dojo.provide("mxui.widget.MxInlineEditor");mxui.widget.declare("mxui.widget.MxInlineEditor",{mixins:[_e21._TemplatedMixin],inputargs:[],constructor:function(){this.templateString=dojo.cache("mxui.widget","templates/MxInlineEditor.html","<div class=\"MxInlineEditor\">\n\t<form class=\"inlineEditBox\" style=\"display: none\" dojoAttachPoint=\"form\" onsubmit=\"return false;\">\n\t\t<input type=\"text\" dojoAttachPoint=\"readonly\" style=\"display: none;\" class=\"inlineEditBox_readOnly\"/>\n\t\t<input type=\"text\" dojoAttachPoint=\"enumtext\" style=\"display: none;\" class=\"inlineEditBox_focusEnum\"/>\n\t\t<input type=\"text\" dojoAttachPoint=\"text\" style=\"display: none;\" class=\"inlineEditBox_editable\"/>\n\t\t<textarea dojoAttachPoint=\"textarea\" style=\"display: none;\" class=\"inlineEditBox_editable\"></textarea>\n\t\t<select type=\"select\" dojoAttachPoint=\"select\" style=\"display: none;\" class=\"inlineEditBox_selectbox\" />\n\t</form>\n</div>\n");this.domNode=null;this.form=null;this.text=null;this.textarea=null;this.enumtext=null;this.select=null;this.minWidth=40;this.minHeight=200;this.textValue="";this.targetNode=null;this.boolOptions={};this.boolOptions[mx.ui.translate("mxui.widget.DataGrid","true")]="true";this.boolOptions[mx.ui.translate("mxui.widget.DataGrid","false")]="false";var _e23=null;var _e24=[];var _e25="inactive";var _e26="";var _e27="text";this.postCreate=function(){_e24=[this.text,this.textarea,this.select,this.readonly,this.enumtext];this.connect(document.body,"onkeydown","eventOnKeyDown");this.connect(this.form,"onsubmit","eventOnSubmit");this.connect(this.form,"onclick","eventOnClick");this.connect(this.select,"onclick","selectClicked");this.loaded();};this.selectClicked=function(e){dojo.stopEvent(e);return false;};var _e28=function(){for(var i=0;i<_e24.length;i++){_e24[i].style.display="none";}};this.editNode=function(node,_e29,opts){_e23=opts;_e27=_e29.toLowerCase();var _e2a=this.targetNode&&this.targetNode.parentNode;if(_e2a){this.targetNode.style.display="";dojo.setSelectable(_e2a,false);}this.targetNode=node;_e28();var td=this.targetNode.parentNode;td.appendChild(this.form);dojo.setSelectable(td,true);this.textValue=mxui.html.sanitizeHTMLString(this.targetNode.innerHTML);if(this.textValue=="&nbsp;"){this.textValue="";}if(this.textValue.length==0){this.targetNode.innerHTML="&nbsp;";}_e26=this.textValue;this.setupEditNode();};var _e2b=function(node,prop){return (parseInt(node.getAttribute(prop)));};var _e2c=function(node,prop){return node.getAttribute(prop);};this.setStyleFromTarget=function(node){node.value=dojo.string.trim(this.textValue);if(!dojo.isIE){node.style.fontSize=_e2b(this.targetNode,"font-size");node.style.fontWeight=_e2c(this.targetNode,"font-weight");node.style.fontStyle=_e2c(this.targetNode,"font-style");}var bb=dojo.marginBox(this.targetNode);node.style.width="100%";return bb;};this.setupTextNode=function(node){this.text.style.textAlign=this.targetNode.parentNode.style.textAlign;var ee=this.text;ee.value=dojo.string.trim(this.textValue);var _e2d=this.setStyleFromTarget(ee);if(_e27=="textarea"){ee.style.display="block";ee.style.height=Math.max(_e2d.height,this.minHeight)+"px";}else{ee.style.display="";}this.form.style.display="";this.targetNode.style.display="none";try{ee.select();ee.focus();ee.setAttribute("readonly","readonly");}catch(e){}};this.setupEditNode=function(e){switch(_e27){case "text":case "textarea":case "date":this.setupTextNode();break;case "reference":case "boolean":case "enum":this.setupEnumNode();break;case "readonly":this.setupReadOnlyNode();break;default:break;}_e25="ready";};this.setupEnumNode=function(node){this.setStyleFromTarget(this.enumtext);this.setStyleFromTarget(this.select);this.enumtext.style.display="";this.enumtext.value=_e23.items[_e23.selected];this.enumtext.setAttribute("readonly","readonly");mxui.dom.setSelectOptions(this.select,_e23.items,_e23.selected);this.form.style.display="";this.targetNode.style.display="none";try{this.enumtext.select();this.enumtext.focus();}catch(e){}};this.setupReadOnlyNode=function(node){this.setStyleFromTarget(this.readonly);this.targetNode.style.display="none";this.readonly.style.display="";this.readonly.value=this.textValue;this.form.style.display="";this.readonly.focus();this.readonly.setAttribute("readonly","readonly");};this.undoChanges=function(){if(_e25=="active"||_e25=="ready"){this.targetNode&&(this.targetNode.innerHTML=_e26);if((_e27=="enum")||(_e27=="reference")||_e27=="boolean"){mxui.dom.selectOptionByText(this.select,_e26);}else{if(_e27=="readonly"){}else{this.text.value=mxui.html.sanitizeHTMLString(_e26);}}}};this.startEditing=function(str){switch(_e27){case "date":case "text":case "textarea":dojo.replaceClass(this.text,"inlineeditbox_editable");this.text.removeAttribute("readonly");if(str){this.text.value=mxui.html.sanitizeHTMLString(str);}try{this.text.select();this.text.focus();_e25="active";}catch(e){this.endEdit();}break;case "boolean":case "reference":case "enum":this.enumtext.style.display="none";this.select.style.display="";this.select.removeAttribute("readonly");this.select.focus();_e25="active";break;case "readonly":_e25="ready";break;default:break;}};this.focusOnNode=function(){switch(_e27){case "date":case "text":case "textarea":this.text.focus();break;case "boolean":case "reference":case "enum":this.select.focus();break;}};this.stopEditing=function(){switch(_e27){case "text":case "textarea":case "date":this.text.setAttribute("readonly","readonly");break;case "boolean":case "reference":case "enum":this.select.setAttribute("readonly","readonly");break;case "readonly":break;default:break;}_e25="ready";};this.endEdit=function(){if(_e25=="ready"||_e25=="active"){this.domNode.appendChild(this.form);this.targetNode&&(this.targetNode.style.display="");_e25="inactive";}};this.eventOnClick=function(e){if(_e25=="ready"){this.startEditing();}};var _e2e=dojo.fixEvent;this.eventOnKeyDown=function(e){this.eventKeyHandler(e);};this.hasChanges=function(){if(_e27=="readonly"||_e25=="inactive"){return false;}var _e2f="";switch(_e27){case "boolean":case "reference":case "enum":_e2f=mxui.dom.getSelectedText(this.select);break;default:_e2f=mxui.html.sanitizeHTMLString(this.text.value);break;}return (_e26!=_e2f);};this.getValue=function(){if((_e27=="enum")||(_e27=="reference")||_e27=="boolean"){this.targetNode.innerHTML=mxui.dom.getSelectedText(this.select);return (this.textValue=mxui.dom.getSelectedValue(this.select));}else{if(_e27=="readonly"){return false;}else{this.textValue=mxui.html.sanitizeHTMLString(this.text.value);mxui.html.setContent(this.targetNode,this.textValue);return this.textValue;}}};this.getEditorStatus=function(){return _e25;};this.isActive=function(){return (_e25=="active");};this.isInActive=function(){return (_e25=="inactive");};this.isReady=function(){return (_e25=="ready");};this.eventKeyHandler=function(e){};this.eventOnSubmit=function(){return false;};}});});},"mxui/widget/plugins/DataGrid/HoverPreview":function(){define(["dojo","dijit","dojox","dojo/require!mxui/widget/DataGrid,mxui/widget/Tooltip,mxui/html/render"],function(dojo,_e30,_e31){dojo.provide("mxui.widget.plugins.DataGrid.HoverPreview");dojo.require("mxui.widget.DataGrid");dojo.require("mxui.widget.Tooltip");dojo.require("mxui.html.render");if(!mxui.widget.plugins){mxui.widget.plugins={};}if(!mxui.widget.plugins.DataGrid){mxui.widget.plugins.DataGrid={};}mxui.widget.plugins.DataGrid.HoverPreview=function(_e32){var name="mxui.widget.plugins.DataGrid.HoverPreview";var _e33=_e32.parent;var _e34=_e32.config;var _e35=null;var _e36=0;var _e37={onLoad:"plugineventOnLoad",onRefresh:"plugineventOnRefresh",onDestroy:"plugineventOnDestroy",onRowMouseOver:"plugineventOnRowMouseOver",onRowMouseOut:"plugineventOnRowMouseOut"};var _e38=null;var _e39=null;var _e3a={active:false,node:null,mxobject:null,oldNode:null,firstTime:true,closable:true,closeTimer:null,openTimer:null};var _e3b=null;var _e3c;var _e3d=function(){var b=_e3a.mxobject;var _e3e=new mendix.lib.MxContext();_e3e.setTrackId(b.getGuid());_e3e.setTrackEntity(_e33.entity);_e3e.setContext(_e33.entity,b.getGuid());_e36=+new Date();_e35.applyContext(_e3e,(function(_e3f,_e40){return function(){if(_e40==_e36&&_e3f==_e3a.mxobject){var dv=_e30.findWidgets(_e38)[0];mxui.widget.showTooltip(_e38,_e3a.node,null,dv);}};})(b,_e36));mx.ui.destroyContext(_e3e);};var _e41=function(){var _e42=new mendix.lib.MxContext();_e35.applyContext(_e42);mx.ui.destroyContext(_e42);};var _e43=function(e){e.stopPropagation();_e44();};var _e45=function(e){e.stopPropagation();_e46();};var _e47=function(){_e3b=dojo.connect(_e38,"mouseover",_e43);_e3c=dojo.connect(_e38,"mouseleave",_e45);};var _e48=function(){dojo.disconnect(_e3b);dojo.disconnect(_e3c);_e3b=_e3c=null;};var _e49=function(){_e3a.active=false;_e3a.firstTime=true;if(_e3a.oldNode!=null){_e48();mxui.widget.hideTooltip(_e3a.oldNode);_e3a.oldNode=null;_e3a.mxobject=null;_e35.suspend();_e41();}};var _e4a=function(){var _e4b=mxui.dom.coords(_e3a.node);if(!_e4b.x&&!_e4b.y){return;}if(_e3a.oldNode!=_e3a.node){_e47();_e3a.active=true;_e3a.oldNode=_e3a.node;mxui.widget.showTooltip(null,_e3a.node);_e35.resume();_e3d();}};this.plugineventOnLoad=function(e){};this.plugineventOnDestroy=function(e){this.destroy();if(_e3a.active){_e49();}};this.plugineventOnRefresh=function(e){if(_e3a.active){_e49();}};var _e46=function(){_e3a.closable=true;if(!_e3a.closeTimer){_e3a.closeTimer=setTimeout(_e4c,200);}};var _e44=function(){_e3a.closable=false;if(_e3a.closeTimer){clearTimeout(_e3a.closeTimer);_e3a.closeTimer=null;}};var _e4d=mxui.dom.getAncestorNode;this.plugineventOnRowMouseOver=function(e){var node=e.currentTarget;var _e4e=e.target;if(!_e33.domData(_e4e,"key")){_e4e=_e4d(_e4e,"TD",3);}var attr=_e33.domData(_e4e,"key");var _e4f=_e34.hoveron||"";if(_e4f.match(attr)==null){return true;}_e4e.setAttribute("title","");_e44();var _e50=_e33.getMxObjectAtRow(parseInt(_e33.domData(node,"gridrow")));var guid=_e50.getGuid();if(_e3a.mxobject==null||guid!=_e3a.mxobject.getGuid()){node=_e4e;_e3a.mxobject=_e50;_e3a.node=node;}_e3a.openTimer=setTimeout(_e4a,200);};var _e4c=dojo.hitch(this,function(){_e3a.closeTimer=null;if(_e3a.closable){_e39&&clearTimeout(_e39);_e49();}});this.plugineventOnRowMouseOut=function(e){_e46();var _e51=parseInt(e.currentTarget.getAttribute("gridrow"));var _e52=_e33.getMxObjectAtRow(_e51);if(_e3a.mxobject==_e52){clearTimeout(_e3a.openTimer);}};this.destroy=function(){_e4c();_e33=_e34=_e38=null;_e35&&_e35.destroy();};this.actFetchForm=function(_e53){var path=_e34.form.replace(/\.mxf/,"$Popup.mxf");mx.ui.getForm(path,{params:{readOnly:true,hideControls:true},callback:function(form){_e35=form;_e38=form.domNode;_e35.startup(_e53);}});};this.actSetupRegistrations=function(_e54){for(var i in _e37){_e33.registerToPluginEvent(i,dojo.hitch(this,_e37[i]));}_e54();};if(!_e33&&(_e33.widgetType!="DataGrid")){throw new Error(name+".initialize : can only register to DataGrid!");}if(!_e34.form){throw new Error(name+".initialize : Requires a path parameter!");}mendix.lang.sequence(["actFetchForm","actSetupRegistrations"],this);};});},"mxui/widget/Tooltip":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Tooltip"],function(dojo,_e55,_e56){dojo.provide("mxui.widget.Tooltip");dojo.require("dijit.Tooltip");dojo.declare("mxui.widget._MasterTooltip",[_e55._MasterTooltip,_e55._TemplatedMixin],{constructor:function(){this.templateString=dojo.cache("mxui.widget","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=dojoTooltip>\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" style=\"display:none\" dojoAttachPoint=\"containerNode\" role='alert'></div>\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\">\n\t\t<div class=\"mx-tooltip-content\" dojoAttachPoint=\"contentNode\"></div>\n\t\t<div class=\"mx-tooltip-prepare\" dojoAttachPoint=\"prepareNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div>\n</div>\n");this.currentNode=null;this.isPreparing=false;this.show=function(_e57,_e58,_e59,dv){var cn=this.contentNode;var pn=this.prepareNode;if(!_e57){this.isPreparing=true;cn.style.display="none";pn.style.display="block";}else{this.isPreparing=false;cn.style.display="block";pn.style.display="none";if(typeof (_e57)=="string"){cn.innerHTML=_e57;}else{if(_e57.nodeName!=null){while(cn.firstChild){cn.removeChild(cn.firstChild);}cn.appendChild(_e57);}}if(dv){dv.resize();var box=dojo.marginBox(this.domNode),view=_e55.getViewport();if(box.h>view.h){dv.resize({h:dojo.contentBox(cn.parentNode).h-(box.h-view.h)});}}}this.domNode.style.display="";this.currentNode=_e58;this.aroundNode=null;mxui.widget._MasterTooltip.superclass.show.call(this,_e57,_e58,_e59);dojo.addClass(this.domNode,"mx-tooltip");};this.hide=function(){mxui.widget._MasterTooltip.superclass.hide.apply(this,arguments);};}});mxui.widget.showTooltip=function(){if(!mendix._masterTT){mendix._masterTT=new mxui.widget._MasterTooltip();}mendix._masterTT.show.apply(mendix._masterTT,arguments);};mxui.widget.hideTooltip=function(_e5a){if(!mendix._masterTT){mendix._masterTT=new mxui.widget._MasterTooltip();}if(_e5a==null){_e5a=mendix._masterTT.currentNode;}mendix._masterTT.hide(_e5a);};});},"dijit/Tooltip":function(){require({cache:{"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n"}});define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_e5b,_e5c,fx,dom,_e5d,_e5e,_e5f,lang,_e60,on,has,_e61,_e62,_e63,_e64,_e65,_e66,_e67){var _e68=_e5c("dijit._MasterTooltip",[_e63,_e64],{duration:_e61.defaultDuration,templateString:_e66,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _e65(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_e69,_e6a,_e6b,rtl,_e6c){if(this.aroundNode&&this.aroundNode===_e6a&&this.containerNode.innerHTML==_e69){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_e69;if(_e6c){this.set("textDir",_e6c);}this.containerNode.align=rtl?"right":"left";var pos=_e62.around(this.domNode,_e6a,_e6b&&_e6b.length?_e6b:_e6d.defaultPosition,!rtl,lang.hitch(this,"orient"));var _e6e=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_e6e.y+((_e6e.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_e6e.x+((_e6e.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_e5f.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_e6a;},orient:function(node,_e6f,_e70,_e71,_e72){this.connectorNode.style.top="";var _e73=_e71.h,_e74=_e71.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_e6f+"-"+_e70];this.domNode.style.width="auto";var size=_e5e.position(this.domNode);if(has("ie")==9){size.w+=2;}var _e75=Math.min((Math.max(_e74,1)),size.w);_e5e.setMarginBox(this.domNode,{w:_e75});if(_e70.charAt(0)=="B"&&_e6f.charAt(0)=="B"){var bb=_e5e.position(node);var _e76=this.connectorNode.offsetHeight;if(bb.h>_e73){var _e77=_e73-((_e72.h+_e76)>>1);this.connectorNode.style.top=_e77+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_e72.h/2-_e76/2,0),bb.h-_e76)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_e74);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_e78){if(this._onDeck&&this._onDeck[1]==_e78){this._onDeck=null;}else{if(this.aroundNode===_e78){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}},_setAutoTextDir:function(node){this.applyTextDir(node,has("ie")?node.outerText:node.textContent);_e5b.forEach(node.children,function(_e79){this._setAutoTextDir(_e79);},this);},_setTextDirAttr:function(_e7a){this._set("textDir",_e7a);if(_e7a=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});_e67.showTooltip=function(_e7b,_e7c,_e7d,rtl,_e7e){if(_e7d){_e7d=_e5b.map(_e7d,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_e6d._masterTT){_e67._masterTT=_e6d._masterTT=new _e68();}return _e6d._masterTT.show(_e7b,_e7c,_e7d,rtl,_e7e);};_e67.hideTooltip=function(_e7f){return _e6d._masterTT&&_e6d._masterTT.hide(_e7f);};var _e6d=_e5c("dijit.Tooltip",_e63,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_e80){_e5b.forEach(this._connections||[],function(_e81){_e5b.forEach(_e81,function(_e82){_e82.remove();});},this);this._connectIds=_e5b.filter(lang.isArrayLike(_e80)?_e80:(_e80?[_e80]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_e5b.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_e83=this.selector,_e84=_e83?function(_e85){return on.selector(_e83,_e85);}:function(_e86){return _e86;},self=this;return [on(node,_e84(_e60.enter),function(){self._onHover(this);}),on(node,_e84("focusin"),function(){self._onHover(this);}),on(node,_e84(_e60.leave),lang.hitch(self,"_onUnHover")),on(node,_e84("focusout"),lang.hitch(self,"_onUnHover"))];},this);this._set("connectId",_e80);},addTarget:function(node){var id=node.id||node;if(_e5b.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_e5b.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_e5d.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_e5b.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},_onHover:function(_e87){if(!this._showTimer){this._showTimer=this.defer(function(){this.open(_e87);},this.showDelay);}},_onUnHover:function(){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}this.close();},open:function(_e88){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}var _e89=this.getContent(_e88);if(!_e89){return;}_e6d.show(_e89,_e88,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=_e88;this.onShow(_e88,this.position);},close:function(){if(this._connectNode){_e6d.hide(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}},onShow:function(){},onHide:function(){},destroy:function(){this.close();_e5b.forEach(this._connections||[],function(_e8a){_e5b.forEach(_e8a,function(_e8b){_e8b.remove();});},this);this.inherited(arguments);}});_e6d._MasterTooltip=_e68;_e6d.show=_e67.showTooltip;_e6d.hide=_e67.hideTooltip;_e6d.defaultPosition=["after-centered","before-centered"];return _e6d;});},"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n","mxui/widget/plugins/DataGrid/KeyNavigation":function(){define(["dojo","dijit","dojox","dojo/require!mxui/widget/DataGrid"],function(dojo,_e8c,_e8d){dojo.provide("mxui.widget.plugins.DataGrid.KeyNavigation");dojo.require("mxui.widget.DataGrid");if(!mxui.widget.plugins){mxui.widget.plugins={};}if(!mxui.widget.plugins.DataGrid){mxui.widget.plugins.DataGrid={};}mxui.widget.plugins.DataGrid.KeyNavigation=function(_e8e){var name="mxui.widget.plugins.DataGrid.KeyNavigation";var _e8f={node:null,row:-1};var grid=_e8e.parent;var _e90=_e8e.config;if(grid&&(grid.declaredClass!="mxui.widget.DataGrid")){logger.error(name+".initialize : can only register to DataGrid!");}else{}var _e91={onLoad:"plugineventOnLoad",onRefresh:"plugineventOnRefresh",onDestroy:"plugineventOnDestroy"};var _e92=function(){if(grid.getCurrentGridSize()==0){return;}var node=grid.getCellNode(0,_e8f.datakey||firstGridKey);if(node){editNode(node);}};var _e93=function(){if(_e8f.row!=0){var node=grid.getCellNode((_e8f.row-1),_e8f.datakey);setNode(node);}};var _e94=function(){makeChange()&&saveAndCommitMxObject();if(_e8f.row!=(_e8f.gridsize-1)){var node=grid.getCellNode((_e8f.row+1),_e8f.datakey);if(node&&(node!=_e8f.node)){setNode(node);}}};this.plugineventOnLoad=function(e){setFirstCell();};this.plugineventOnDestroy=function(e){this.destroy();};this.plugineventOnRefresh=function(e){setFirstCell();};this.plugineventCellClicked=function(e){setNode(e.target,true);};this.focusKeyHandler=function(_e95){var _e96=_e95.keyCode;switch(_e96){case 33:grid.goToPreviousPage(editFirstCell);break;case 34:grid.goToNextPage(editFirstCell);break;case 35:grid.goToLastPage(editFirstCell);break;case 36:grid.goToFirstPage(editFirstCell);break;case 38:_e93();break;case 9:_e95.stopPropagation();_e95.preventDefault();case 40:_e94();break;}return false;};this.destroy=function(){try{for(var i in references){references[i].source.destroy();}references=null;}catch(e){}grid=null;};for(var i in _e91){grid.registerToPluginEvent(i,dojo.hitch(this,_e91[i]));}};});},"mxui/widget/TemplateGrid":function(){define(["dojo","dijit","dojox"],function(dojo,_e97,_e98){dojo.provide("mxui.widget.TemplateGrid");mxui.widget.declare("mxui.widget.TemplateGrid",{mixins:[_e97._TemplatedMixin,_e97._Container,_e97._Contained,mxui.mixin._Grid,mxui.mixin._Internationalized,mxui.mixin._Contextable,mxui.mixin._Scriptable,mxui.mixin._Pluggable],inputargs:{entity:"",schema:"",contenturl:"",startdormant:false,templateurl:"",templateclass:"Style1",autoconfig:false,nested:false,xpathConstraint:"",reqConstraints:"",selected:null,reference:"",useContext:false},cssmap:mxui.widget.createCSSMap("mx-templategrid",{row:"row",item:"item",empty:"empty"}),constructor:function(){this.subClass=this.cssmap.baseClass;this.templateString=dojo.cache("mxui.widget","templates/TemplateGrid.html","<div class=\"${baseClass} mx-templategrid\">\n    <div class=\"${baseClass}-searchbar clearfix\" dojoAttachPoint=\"searchNode\" focusIndex=\"0\">\n        <div class=\"${baseClass}-search-controls\" focusIndex=\"1\" dojoAttachPoint=\"searchControlNode\"></div>\n        <div class=\"${baseClass}-search-inputs\" focusIndex=\"0\" dojoAttachPoint=\"searchArgumentNode\"></div>\n        <div class=\"${baseClass}-search-message\" dojoAttachPoint=\"messageNode\"></div>\n    </div>\n    \n    <div class=\"${baseClass}-controlbar clearfix\" dojoAttachPoint=\"controlNode\" focusIndex=\"1\">\n        <div class=\"${baseClass}-pagingbar\" dojoAttachPoint=\"pagingBarNode\"></div>\n        <div class=\"${baseClass}-toolbar\" dojoAttachPoint=\"toolBarNode\"></div>\n    </div>\n\t\n    <div class=\"${baseClass}-content\" dojoAttachPoint=\"contentNode\" focusIndex=\"2\">\n        <div class=\"${subClass}-content-wrapper\" dojoAttachPoint=\"itemNode\"></div>\n    </div>\n</div>\n");this.contentUrl="";this.templateurl="";this.entity="";this.templateclass="Style1";this.autoconfig=false;this.xpathConstraint="";this.startdormant=false;this.nested=false;this.selected=null;this.domNode=null;this.pagingBarNode=null;this.searchNode=null;this.toolBarNode=null;this.itemNode=null;this.searchButton=null;this.resetButton=null;this.returnValue=null;this.gridfooterNode=null;var _e99=dojo.hitch;var _e9a=dojo.removeClass;var _e9b=dojo.addClass;var _e9c=null;var _e9d=null;var _e9e=[];var _e9f={};var _ea0=[];var _ea1=[];var _ea2=[];var _ea3=[];var _ea4={selectable:true,selectionmode:"single",searchbar:true,controlbar:true,pagingbar:true,inDenial:false,searchBarVisible:false,searchBarTogglable:true,xpathConstraint:"",dynamicconstraint:"",loading:false,invertedSelection:false};this.postCreateSpecific=function(){if(this.fetchMetaObject()){this.setupGridConfig();this.setupGridState();this.buildSearchBar();this.buildControlBar();this.buildToolBar();this.buildPagingBar();this.connectEvents();this.setupDevMode();this.setupDataSource();this.loaded();}};var _ea5=function(tr){tr.style.display="";var divs=tr.getElementsByTagName("div");for(var i=0;i<divs.length;i++){divs[i].innerHTML="&nbsp";}};this.setupGridStateSpecific=function(){_ea4.columns=_e9d.gridSetting("columns");_ea4.rows=_e9d.gridSetting("rows");_ea4.cellwidth=String(dojo.isIE?(100/_ea4.columns-0.05):(100/_ea4.columns))+"%";};this.connectEvents=function(_ea6){var self=this;this.own(dojo.on(this.itemNode,"."+this.cssmap.item+":click",function(e){self._eventGridItemClicked(e,this);}));var _ea7=function(e){self.eventActionBindingHandler(this,e.type);};for(var _ea8 in _e9d.gridActionBindings()){this.own(dojo.on(this.itemNode,"."+this.cssmap.item+":"+_ea8.replace(/^on/,""),_ea7));}};this.selectRow=function(row){_ea4.invertedSelection?_e9a(row,"selected"):_e9b(row,"selected");};this.deselectRow=function(row){!_ea4.invertedSelection?_e9a(row,"selected"):_e9b(row,"selected");};this.fillGrid=function(){_ea0=_e9c.getObjects();if(_ea4.selectfirst&&!_ea4.invertedSelection&&_ea0.length>0&&mendix.lang.itemCount(_e9f)===0){_e9f[_ea0[0].getGuid()]=_ea0[0];setTimeout(dojo.hitch(this,function(){this.shareSelected();}),1000);}var $=mxui.dom.create,_ea9=$("#"),_eaa=_ea1.length,_eab=0,_eac=false,_ead=[],_eae;for(var row=0;row<_ea4.rows;++row){var _eaf=$("div",{"class":this.cssmap.row});_ea9.appendChild(_eaf);for(var col=0;col<_ea4.columns;++col){if(_eab<_ea0.length){if(_eab>=_ea1.length){_ea1[_eab]=new mxui.widget.TemplateGridItem({mxform:this.mxform,template:mx.ui.getTemplate(this.mxid,"content"),cssClass:this.cssmap.item});_eac=true;}_eae=_ea1[_eab].domNode;_eae.style.width=_ea4.cellwidth;this.domData(_eae,{gridrow:_eab,mendixguid:_ea0[_eab].getGuid()});this.addFocusBox(_eae);_eaf.appendChild(_eae);if(_e9f[_ea0[_eab].getGuid()]){this.selectRow(_eae);}else{this.deselectRow(_eae);}}else{var _eb0=$("div",{"class":this.cssmap.empty},$("br"));_eaf.appendChild(_eb0);}++_eab;}if(_eab>=_ea0.length&&!_ea4.showemptyrows){break;}}mxui.dom.empty(this.itemNode);this.itemNode.appendChild(_ea9);for(_eab=0;_eab<_ea0.length;++_eab){var _eb1=new mendix.lib.MxContext({mxcontext:this.mxcontext});_eb1.setObject(_ea0[_eab]);if(_eab>=_eaa){_ea1[_eab].startup();}_ea1[_eab].set("disabled",false);_ead.push(dojo.hitch(_ea1[_eab],"applyContext",_eb1));}for(_eab=_ea0.length;_eab<_ea1.length;_eab++){_ea1[_eab].set("disabled",true);}mendix.lang.collect(_ead,function(){if(_eac){this.mxform.resize();}},this);};this.actReloadGrid=function(_eb2){var self=this;_e9c.refresh(function(){self.refreshGrid();_eb2&&_eb2();});};this.refreshGrid=function(){this.updatePagingStatus();this.fillGrid();this.resizeGrid();};this._eventGridItemClicked=function(e,_eb3){if(!_ea4.selectable){return;}var guid=this.domData(_eb3,"mendixguid");if(guid){if(_ea4.selectionmode=="simplemulti"){if(_e9f[guid]){delete _e9f[guid];this.deselectRow(_eb3);}else{_e9f[guid]=_e9c.getObject(guid);this.selectRow(_eb3);}}else{if(_ea4.selectionmode=="multi"&&(dojo.isMac&&e.metaKey||e.ctrlKey)){if(_e9f[guid]){delete _e9f[guid];this.deselectRow(_eb3);}else{_e9f[guid]=_e9c.getObject(guid);this.selectRow(_eb3);}}else{var _eb4=(_e9f[guid]==null);this.deselectAll();if(_eb4){_e9f[guid]=_e9c.getObject(guid);this.selectRow(_eb3);}}}this.shareSelected();}else{logger.error(this.id+"._eventGridItemClicked : Can't find matching guid for item");}};this.filterSelected=function(){var _eb5={};for(var guid in _e9f){var obj=_e9c.getObject(guid);if(obj){_eb5[guid]=obj;}}_e9f=_eb5;};this.contextUpdate=function(){if(!_ea4.inDenial){_e9c.update(_e99(this,"actReloadGrid"));}};this.actCleanDS=function(_eb6){this._clearSelection();_e9c.clean(_eb6);};this.resumed=function(){this.setUpdateInterval();};this.suspended=function(){this.clearInterval();};this.deselectGridRows=function(){for(var i=0,l=_ea1.length;i<l;++i){this.deselectRow(_ea1[i].domNode);}};this._clearSelection=function(){_e9f={};};this._getEntity=function(_eb7){return mendix.lang.firstKey(_eb7);};this._getGridConfig=function(){return _e9d;};this._setGridConfig=function(v){_e9d=v;};this._getGridState=function(){return _ea4;};this._getSelectedGuids=function(){return mendix.lang.objectToArray(_e9f);};this._getCurrentGuid=function(){return mendix.lang.firstKey(_e9f);};this._setDataSource=function(_eb8){_e9c=_eb8;};this._addObjectToSelection=function(obj){var guid=obj.getGuid();_e9f[guid]=obj;};this._getDataSource=function(){return _e9c;};this._setDataSource=function(v){_e9c=v;};this._getObjectFromNode=function(node){return _ea0[this.domData(node,"gridrow")];};this.clearInterval=function(){if(_ea4.update!=null){clearInterval(_ea4.update);}};}});dojo.declare("mxui.widget.TemplateGridItem",mxui.widget._WidgetBase,{cssClass:"",template:null,root:null,buildRendering:function(){this.domNode=mxui.dom.div({"class":this.cssClass});if(this.template){this.domNode.appendChild(this.template);}},startup:function(){var _eb9=this.parseContent(this.domNode,{schema:"",ignoreUpdates:true});this.root=_eb9[0]||null;},_setDisabledAttr:function(_eba){this.root&&this.root.set("disabled",_eba);}});});},"mxui/widget/FormDatePicker":function(){define(["dojo","dijit","dojox","dojo/require!mxui/widget/Tooltip,mxui/widget/Calendar,mxui/dom/builder"],function(dojo,_ebb,_ebc){dojo.provide("mxui.widget.FormDatePicker");dojo.require("mxui.widget.Tooltip");dojo.require("mxui.widget.Calendar");dojo.require("mxui.dom.builder");mxui.widget.declare("mxui.widget.FormDatePicker",{mixins:[_ebb._TemplatedMixin,_ebb._Contained],inputargs:["name","dateFormat","format"],onvaluechange:"",onmouseclick:"",onfocusleave:"",obligatory:false,obligatorycause:"",domNode:null,inputNode:null,baseClass:"mendixFormDatePicker",templateString:dojo.cache("mxui.widget","templates/FormDatePicker.html","<div class=\"${baseClass}\">\n\t<div class=\"${baseClass}_buttonPick\" dojoAttachPoint=\"iconNode\">\n        <span class=\"${baseClass}_buttonTextIcon\">&#9658;</span>\n    </div>\n    <div class=\"${baseClass}_inputPane\" dojoAttachPoint=\"dateNode\">\n\t\t<input type=\"text\" class=\"${baseClass}_dateInput form-control\" dojoAttachPoint=\"inputNode\" />\n\t</div>\n</div>\n"),noValidation:false,trigger:"",readOnly:false,datePicker:null,dropDown:null,hoverState:false,viewState:false,justPicked:false,keyEvents:null,blurEvent:null,isRtl:null,hasDate:false,dateParams:null,postCreate:function(){this.keyEvents=[];this.domNode.name=this.name;if(!this.dateFormat){this.dateFormat="date";}else{this.dateFormat=this.dateFormat.toLowerCase();}this.dateParams={selector:this.dateFormat=="custom"?"date":this.dateFormat,datePattern:this.format};this.hasDate=(/date/.test(this.dateFormat)||this.dateFormat=="custom"&&/[dMy]/.test(this.format));if(this.hasDate){this.connect(this.iconNode,"onclick","onIconClick");}else{this.iconNode.parentNode.removeChild(this.iconNode);}this.isRtl=!this.isLeftToRight();this.connect(this.inputNode,"onfocus","onInputFocus");this.connect(this.inputNode,"onblur","onInputBlur");this.set("disabled",this.isInactive);this.loaded();},onInputClick:function(e){if(!this.isInactive&&!this.viewState){this.showDatePicker();}},onIconClick:function(e){this.showDatePicker();},onInputFocus:function(e){this.inputNode.focused=true;this.justClicked=false;},onInputBlur:function(e){if(!this.hoverState){if(!this.isInactive&&this.viewState){this.hideDatePicker();}this.justClicked=false;}else{this.justClicked=true;setTimeout(dojo.hitch(this,function(){this.inputNode.focus();}),0);}},onBodyMouseDown:function(e){if(this.isMouseOut(e)){this.hoverState=false;this.onInputBlur();}},isMouseOut:function(e){var iDim=dojo.position(this.inputNode);var pDim=dojo.position(this.dropDown);return (e.clientX<iDim.x||e.clientX>iDim.x+iDim.w||e.clientY<iDim.y||e.clientY>iDim.y+iDim.h)&&(e.clientX<pDim.x||e.clientX>pDim.x+pDim.w||e.clientY<pDim.y||e.clientY>pDim.y+pDim.h);},onInputKeyDown:function(e){if(e.keyCode==9&&this.viewState&&!this.isInactive){this.hideDatePicker();}},onInputKeyUp:function(e){switch(e.keyCode){case 27:if(this.viewState){this.hideDatePicker();}break;case 40:if(!this.viewState){this.showDatePicker();}break;default:var _ebd=this.get("value");if(this.datePicker&&_ebd){this.datePicker.set("value",_ebd);}}},showDatePicker:function(){if(!this.datePicker){var _ebe=null;var _ebf=this.domNode.parentNode;while(!_ebe&&_ebf&&_ebf!=document){_ebe=parseInt(dojo.style(_ebf,"zIndex"),10);_ebf=_ebf.parentNode;}this.dropDown=mxui.dom.div({"style":"position: absolute; display: none","id":this.id+"_lolipop"});this.bgIframe=new _ebb.BackgroundIframe(this.dropDown);if(_ebe){dojo.style(this.dropDown,"zIndex",_ebe);}this.datePicker=new mxui.widget.Calendar({lang:dojo.locale.toLowerCase(),onValueSelected:dojo.hitch(this,this.handlerDatePicked),constraints:{selector:"date"},datePackage:/th$/i.test(dojo.locale)?"dojox.date.buddhist":"dojo.date"});this.dropDown.appendChild(this.datePicker.domNode);document.body.appendChild(this.dropDown);this.dropDown.onmouseover=dojo.hitch(this,function(e){this.hoverState=true;});this.dropDown.onmouseout=dojo.hitch(this,function(e){this.hoverState=false;});}var _ec0=this.get("value");_ec0=(_ec0==null||_ec0==="")?+new Date():_ec0;this.datePicker.set("value",_ec0);var _ec1=dojo.position(this.inputNode,true);this.dropDown.style.display="";var _ec2={l:this.isRtl?_ec1.x+_ec1.w-dojo.marginBox(this.dropDown).w:_ec1.x,t:_ec1.y+_ec1.h};dojo.marginBox(this.dropDown,_ec2);this.viewState=true;this.blurEvent=this.connect(document.body,"onmousedown","onBodyMouseDown");},hideDatePicker:function(){this.dropDown.style.display="none";this.hoverState=false;this.viewState=false;this.blurEvent=this.disconnect(this.blurEvent);},_setDisabledAttr:function(_ec3){this.isInactive=(/true/.test(_ec3));var _ec4=this.iconNode.parentNode;if(this.isInactive){dojo.addClass(this.domNode,this.baseClass+"Disabled");this.inputNode.setAttribute("readonly","readonly");var evt;while(evt=this.keyEvents.pop()){this.disconnect(evt);}if(this.hasDate){_ec4&&_ec4.removeChild(this.iconNode);}}else{dojo.removeClass(this.domNode,this.baseClass+"Disabled");this.inputNode.removeAttribute("readonly");var evts=this.keyEvents,_ec5=this.inputNode;if(!evts.length){evts.push(this.connect(_ec5,"onkeydown","onInputKeyDown"));evts.push(this.connect(_ec5,"onkeyup","onInputKeyUp"));evts.push(this.connect(_ec5,"onchange","onChange"));}if(this.hasDate){this.domNode.insertBefore(this.iconNode,this.dateNode);}}},setDatePart:function(_ec6,_ec7){_ec6.setFullYear(_ec7.getFullYear());_ec6.setMonth(_ec7.getMonth());_ec6.setDate(_ec7.getDate());},setTimePart:function(_ec8,_ec9){_ec8.setHours(_ec9.getHours());_ec8.setMinutes(_ec9.getMinutes());_ec8.setSeconds(_ec9.getSeconds());_ec8.setMilliseconds(_ec9.getMilliseconds());},mergeDates:function(_eca,_ecb){switch(this.dateFormat){case "date":this.setDatePart(_eca,_ecb);break;case "time":this.setTimePart(_eca,_ecb);break;case "datetime":case "custom":_eca=_ecb;}return +_eca;},_setValueAttr:function(_ecc){if(_ecc===null||_ecc===""){this.inputNode.value="";}else{if(_ecc instanceof Date){var _ecd=mx.parser.formatDate(_ecc.getTime(),this.dateParams);this.inputNode.value=_ecd;}else{var nr=Number(_ecc);if(!isNaN(nr)){this.set("value",new Date(nr));}}}this._value=_ecc||_ecc===0?_ecc:undefined;},_getValueAttr:function(){var _ece=this.inputNode.value;if(_ece===""){return "";}var _ecf=new Date(this._value!==undefined?this._value:mx.parser.localizeEpoch(0)),_ed0=mx.parser.parseDate(_ece,this.dateParams);if(_ed0!=null){return this.mergeDates(_ecf,new Date(_ed0));}else{return null;}},validate:function(e){var _ed1=this.inputNode.value;if(!_ed1){mxui.widget.hideTooltip(this._table);return;}if(_ed1.match(/^\d+[\/\-]\d+[\/\-]\d+$/)!=null){var _ed2=mx.parser.parseDate(_ed1,this.dateParams);if(isNaN(_ed2)){this.showValidationMsg();}else{this.inputNode.value=mx.parser.formatDate(_ed2,this.dateParams);mxui.widget.hideTooltip(this._table);}}else{this.showValidationMsg();}},showValidationMsg:function(){mxui.widget.showTooltip(mx.ui.translate("mendix.lib.Validations","invalid_date"),this._table);setTimeout(dojo.hitch(this,function(){this.inputNode.focus();}),1);},onChange:function(){},handlerDatePicked:function(_ed3){if(_ed3!=null){var _ed4=new Date(this._value!==undefined?this._value:mx.parser.localizeEpoch(0));this.set("value",this.mergeDates(_ed4,new Date(_ed3)));this.onChange();}try{if(this.trigger!=""){this.trigger(_ed3);}}catch(e){}this.hideDatePicker();this.justClicked=true;this.inputNode.focus();},uninitialize:function(){if(this.dropDown){document.body.removeChild(this.dropDown);this.dropDown=null;}if(this.datePicker){this.datePicker.destroyRecursive();this.datePicker=null;}try{mxui.widget.hideTooltip(this._table);}catch(e){}this.bgIframe&&this.bgIframe.destroy();},getInvalidCause:function(){return mx.ui.translate("mendix.lib.Validations","invalid_date");}});});},"mxui/widget/Calendar":function(){define(["dojo","dijit","dojox"],function(dojo,_ed5,_ed6){dojo.provide("mxui.widget.Calendar");dojo.declare("mxui.widget.Calendar",[_ed5._Widget,_ed5._TemplatedMixin,_ed5._CssStateMixin],{templateString:dojo.cache("mxui.widget","templates/Calendar.html","<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" dojoAttachEvent=\"onkeypress: _onKeyPress\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' dojoAttachPoint=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" waiRole=\"presentation\"/>\n\t\t\t\t<span dojoAttachPoint=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div class=\"dijitVisible\">\n\t\t\t\t\t<div class=\"dijitPopup dijitMenu dijitMenuPassive dijitHidden\" dojoAttachPoint=\"monthDropDown\" dojoAttachEvent=\"onmouseup: _onMonthSelect, onmouseover: _onMenuHover, onmouseout: _onMenuHover\">\n\t\t\t\t\t\t<div class=\"dijitCalendarMonthLabelTemplate dijitCalendarMonthLabel\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div dojoAttachPoint=\"monthLabelSpacer\" class=\"dijitSpacer\"></div>\n\t\t\t\t<div dojoAttachPoint=\"monthLabelNode\" class=\"dijitCalendarMonthLabel dijitInline dijitVisible\" dojoAttachEvent=\"onmousedown: _onMonthToggle\"></div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' dojoAttachPoint=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" waiRole=\"presentation\"/>\n\t\t\t\t<span dojoAttachPoint=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\"><span class=\"dijitCalendarDayLabel\"></span></th>\n\t\t</tr>\n\t</thead>\n\t<tbody dojoAttachEvent=\"onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut, onmousedown: _onDayMouseDown, onmouseup: _onDayMouseUp\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">\n\t\t\t<td class=\"dijitReset dijitCalendarDateTemplate\" role=\"gridcell\"><span class=\"dijitCalendarDateLabel\"></span></td>\n\t\t</tr>\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\">\n\t\t\t\t<h3 class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span dojoAttachPoint=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\"></span>\n\t\t\t\t</h3>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>"),value:new Date(),datePackage:"dojo.date",dayWidth:"narrow",tabIndex:"0",baseClass:"dijitCalendar",cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},attributeMap:dojo.delegate(_ed5._Widget.prototype.attributeMap,{tabIndex:"domNode"}),setValue:function(_ed7){dojo.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_ed7);},_getValueAttr:function(){var _ed8=new this.dateClassObj(this.value);_ed8.setHours(0,0,0,0);if(_ed8.getDate()<this.value.getDate()){_ed8=this.dateFuncObj.add(_ed8,"hour",1);}return _ed8;},_setValueAttr:function(_ed9){if(!this.value||this.dateFuncObj.compare(_ed9,this.value)){_ed9=new this.dateClassObj(_ed9);_ed9.setHours(1);this.displayMonth=new this.dateClassObj(_ed9);if(!this.isDisabledDate(_ed9,this.lang)){this.value=_ed9;this.onChange(this.get("value"));}dojo.attr(this.domNode,"aria-label",this.dateLocaleModule.format(_ed9,{selector:"date",formatLength:"full"}));this._populateGrid();}},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(dojo.doc.createTextNode(text));},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(args){var _eda=(args.datePackage&&(args.datePackage!="dojo.date"))?args.datePackage+".Date":"Date";this.dateClassObj=dojo.getObject(_eda,false);this.datePackage=args.datePackage||this.datePackage;this.dateFuncObj=dojo.getObject(this.datePackage,false);this.dateLocaleModule=dojo.getObject(this.datePackage+".locale",false);},postMixInProperties:function(){if(isNaN(this.value)){delete this.value;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);var _edb=dojo.hitch(this,function(_edc,n){var _edd=dojo.query(_edc,this.domNode)[0];for(var i=0;i<n;i++){_edd.parentNode.appendChild(_edd.cloneNode(true));}});_edb(".dijitCalendarDayLabelTemplate",6);_edb(".dijitCalendarDateTemplate",6);_edb(".dijitCalendarWeekTemplate",5);var _ede=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang);var _edf=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);dojo.query(".dijitCalendarDayLabel",this.domNode).forEach(function(_ee0,i){this._setText(_ee0,_ede[(i+_edf)%7]);},this);var _ee1=new this.dateClassObj(this.value);var _ee2=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_ee1);_edb(".dijitCalendarMonthLabelTemplate",_ee2.length-1);dojo.query(".dijitCalendarMonthLabelTemplate",this.domNode).forEach(function(node,i){dojo.attr(node,"month",i);if(i in _ee2){this._setText(node,_ee2[i]);}dojo.place(node.cloneNode(true),this.monthLabelSpacer);},this);this.value=null;this.set("value",_ee1);},_onMenuHover:function(e){dojo.stopEvent(e);dojo.toggleClass(e.target,"dijitMenuItemHover");},_adjustDisplay:function(part,_ee3){this.displayMonth=this.dateFuncObj.add(this.displayMonth,part,_ee3);this._populateGrid();},_onMonthToggle:function(evt){dojo.stopEvent(evt);if(evt.type=="mousedown"){var _ee4=dojo.position(this.monthLabelNode);var dim={width:_ee4.w+"px",top:-this.displayMonth.getMonth()*_ee4.h+"px"};if((dojo.isIE&&dojo.isQuirks)||dojo.isIE<7){dim.left=-_ee4.w/2+"px";}dojo.style(this.monthDropDown,dim);this._popupHandler=this.connect(document,"onmouseup","_onMonthToggle");}else{this.disconnect(this._popupHandler);delete this._popupHandler;}dojo.toggleClass(this.monthDropDown,"dijitHidden");dojo.toggleClass(this.monthLabelNode,"dijitVisible");},_onMonthSelect:function(evt){this._onMonthToggle(evt);this.displayMonth.setMonth(dojo.attr(evt.target,"month"));this._populateGrid();},_onDayClick:function(evt){dojo.stopEvent(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!dojo.hasClass(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);this.onValueSelected(this.get("value"));}},_onDayMouseOver:function(evt){var node=dojo.hasClass(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&(node.dijitDateValue||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){dojo.addClass(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}dojo.removeClass(this._currentNode,"dijitCalendarHoveredDate");if(dojo.hasClass(this._currentNode,"dijitCalendarActiveDate")){dojo.removeClass(this._currentNode,"dijitCalendarActiveDate");}this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){dojo.addClass(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){dojo.removeClass(node,"dijitCalendarActiveDate");}},_onKeyPress:function(evt){var dk=dojo.keys,_ee5=-1,_ee6,_ee7=this.value;switch(evt.keyCode){case dk.RIGHT_ARROW:_ee5=1;case dk.LEFT_ARROW:_ee6="day";if(!this.isLeftToRight()){_ee5*=-1;}break;case dk.DOWN_ARROW:_ee5=1;case dk.UP_ARROW:_ee6="week";break;case dk.PAGE_DOWN:_ee5=1;case dk.PAGE_UP:_ee6=evt.ctrlKey?"year":"month";break;case dk.END:_ee7=this.dateFuncObj.add(_ee7,"month",1);_ee6="day";case dk.HOME:_ee7=new Date(_ee7).setDate(1);break;case dk.ENTER:this.onValueSelected(this.get("value"));break;case dk.ESCAPE:default:return;}dojo.stopEvent(evt);if(_ee6){_ee7=this.dateFuncObj.add(_ee7,_ee6,_ee5);}this.set("value",_ee7);},onValueSelected:function(date){},onChange:function(date){},_isSelectedDate:function(_ee8,_ee9){return !this.dateFuncObj.compare(_ee8,this.value,"date");},isDisabledDate:function(_eea,_eeb){},getClassForDate:function(_eec,_eed){},_populateGrid:function(){var _eee=this.displayMonth;_eee.setDate(1);var _eef=_eee.getDay(),_ef0=this.dateFuncObj.getDaysInMonth(_eee),_ef1=this.dateFuncObj.getDaysInMonth(this.dateFuncObj.add(_eee,"month",-1)),_ef2=new this.dateClassObj(),_ef3=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);if(_ef3>_eef){_ef3-=7;}dojo.query(".dijitCalendarDateTemplate",this.domNode).forEach(function(_ef4,i){i+=_ef3;var date=new this.dateClassObj(_eee),_ef5,_ef6="dijitCalendar",adj=0;if(i<_eef){_ef5=_ef1-_eef+i+1;adj=-1;_ef6+="Previous";}else{if(i>=(_eef+_ef0)){_ef5=i-_eef-_ef0+1;adj=1;_ef6+="Next";}else{_ef5=i-_eef+1;_ef6+="Current";}}if(adj){date=this.dateFuncObj.add(date,"month",adj);}date.setDate(_ef5);if(!this.dateFuncObj.compare(date,_ef2,"date")){_ef6="dijitCalendarCurrentDate "+_ef6;}if(this._isSelectedDate(date,this.lang)){_ef6="dijitCalendarSelectedDate "+_ef6;}if(this.isDisabledDate(date,this.lang)){_ef6="dijitCalendarDisabledDate "+_ef6;}var _ef7=this.getClassForDate(date,this.lang);if(_ef7){_ef6=_ef7+" "+_ef6;}_ef4.className=_ef6+"Month dijitCalendarDateTemplate";_ef4.dijitDateValue=date.valueOf();var _ef8=dojo.query(".dijitCalendarDateLabel",_ef4)[0],text=date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate();this._setText(_ef8,text);},this);var _ef9=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_eee);this._setText(this.monthLabelNode,_ef9[_eee.getMonth()]);dojo.query(".dijitCalendarMonthLabelTemplate",this.domNode).forEach(function(node,i){dojo.toggleClass(node,"dijitHidden",!(i in _ef9));this._setText(node,_ef9[i]);},this);var y=_eee.getFullYear()-1;var d=new this.dateClassObj();dojo.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);var _efa=this;var _efb=function(_efc,_efd,adj){_efa._connects.push(_ed5.typematic.addMouseListener(_efa[_efc],_efa,function(_efe){if(_efe>=0){_efa._adjustDisplay(_efd,adj);}},0.8,500));};_efb("incrementMonth","month",1);_efb("decrementMonth","month",-1);_efb("nextYearLabelNode","year",1);_efb("previousYearLabelNode","year",-1);},_onDayClick:function(evt){dojo.stopEvent(evt);for(var node=evt.target;node&&typeof node.dijitDateValue=="undefined";node=node.parentNode){}if(node&&!dojo.hasClass(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);this.onValueSelected(this.get("value"));}}});});},"mxui/widget/TabContainer":function(){define(["dojo","dijit","dojox"],function(dojo,_eff,_f00){dojo.provide("mxui.widget.TabContainer");dojo.declare("mxui.widget.TabContainer",mxui.widget._WidgetBase,{validator:null,_active:null,_tabList:null,_tabPanes:null,_tabContent:null,_clickHandler:null,buildRendering:function(){var $=mxui.dom.create,_f01=this._tabList=$("ul",{"class":"nav nav-tabs mx-tabcontainer-tabs"}),_f02=this._tabContent=$("div",{"class":"tab-content mx-tabcontainer-content"},this.getTemplate("pages"));this.domNode=$("div",{"class":"mx-tabcontainer"},_f01,_f02);var self=this;this._clickHandler=dojo.on(_f01,"li:click",function(e){self.show(self.domData(this,"tab"));e.preventDefault();});},startup:function(){var $=mxui.dom.create,_f03=this._tabList,_f04=this._tabContent.childNodes,_f05=null,tabs=this._tabPanes=[];for(var i=0,_f06;_f06=_f04[i];i++){var li=$("li"),tab=this.parseContent(_f06,{index:i,button:li,container:this,validator:this},true)[0];this.domData(li,"tab",tab);if(tab.selected){_f05=tab;}li.appendChild($("a",{href:"#"},tab.title));li.appendChild(tab.indicator);_f03.appendChild(li);tabs.push(tab);}this.show(_f05||tabs[0]);},show:function(tab){var self=this,_f07=this._active;if(_f07){_f07.hideTab();}this._active=tab;dojo.addClass(this._tabContent,"loading");tab.showTab(function(){if(self._active===tab){dojo.removeClass(self._tabContent,"loading");}});},showTab:function(tab){if(!this._active){this.show(tab);this.domNode.style.display="";}},hideTab:function(tab){if(tab===this._active){var _f08=tab.index,_f09=this._tabPanes,_f0a=_f09.slice(_f08+1).concat(_f09.slice(0,_f08)),_f0b;for(var i=0,pane;pane=_f0a[i];i++){if(!pane._hidden){_f0b=pane;break;}}tab.hideTab();if(_f0b){this.show(_f0b);}else{this._active=null;this.domNode.style.display="none";}}},resize:function(box){var _f0c=true,tabs=this._tabPanes;if(box){var _f0d=box.h-dojo.marginBox(this._tabList).h;if(_f0d>100){_f0c=false;dojo.marginBox(this._tabContent,{h:_f0d});}else{this._tabContent.style.height="auto";}}for(var i=0,tab;tab=tabs[i];i++){tab.resize(_f0c);}},isValid:function(){return dojo.every(this._tabPanes,function(tab){return tab.isValid?tab.isValid():true;});},uninitialize:function(){dojo.disconnect(this._clickHandler);}});dojo.declare("mxui.widget.TabContent",mxui.widget._WidgetBase,{index:0,title:"",button:null,container:null,indicator:null,delayLoading:false,refreshOnShow:false,_hidden:false,_parsed:false,_loading:false,_visible:false,_cachedResize:null,_notifies:0,_children:null,buildRendering:function(){var $=mxui.dom.create;this.indicator=$("span",{"class":"mx-tabcontainer-indicator"});this.domNode=$("div",{"class":"tab-pane mx-tabcontainer-pane"});},startup:function(){if(!this.delayLoading){this.parse();}this._updateNotification();},parse:function(_f0e){var _f0f=this.getTemplate("content");this.domNode.appendChild(mxui.dom.create("#",_f0f||""));this._children=this.parseContent(null,{validator:this});this._parsed=true;if(_f0f){var _f10=_eff.byNode(this.domNode.firstChild);if(_f10 instanceof mxui.widget.TabContainer){dojo.addClass(_f10.domNode,"mx-tabcontainer-nested");}}},refresh:function(_f11){this._loading=true;var _f12=this.getChildren();mxui.widget.ready(_f12,dojo.hitch(this,"passContext",_f12,function(){this._loading=false;_f11&&_f11();}));},show:function(){this._hidden=false;dojo.style(this.button,"display","");dojo.style(this.domNode,"display","");this.container.showTab(this);},hide:function(){this._hidden=true;dojo.style(this.button,"display","none");dojo.style(this.domNode,"display","none");this.container.hideTab(this);},showTab:function(_f13){this._visible=true;if(this._loading){return;}var self=this,done=function(){if(self._visible){dojo.addClass(self.domNode,"active");if(self._cachedResize!=null){self.resize(self._cachedResize);self._cachedResize=null;}}_f13();};dojo.addClass(this.button,"active");if(!this._parsed){this.parse();this.refresh(done);}else{if(this.refreshOnShow){this.refresh();}done();}},hideTab:function(){this._visible=false;dojo.removeClass(this.button,"active");dojo.removeClass(this.domNode,"active");},resize:function(_f14){if(this._visible){this.resizeChildren(this.domNode,_f14);}else{this._cachedResize=_f14;}},isValid:function(){return dojo.every(this._children,function(_f15){return _f15.isValid?_f15.isValid():true;});},addNotification:function(){++this._notifies;this._updateNotification();var _f16=this.container.validator;if(_f16){_f16.addNotification();}return true;},removeNotification:function(){--this._notifies;this._updateNotification();var _f17=this.container.validator;if(_f17){_f17.removeNotification();}},_updateNotification:function(){if(this._notifies===0){dojo.style(this.indicator,"display","none");}else{if(this.domNode.style.display=="none"){mx.ui.error(this.translate("hidden_validations",[this.index+1]));}dojo.style(this.indicator,"display","");}mxui.dom.text(this.indicator,this._notifies+"");}});});},"mxui/widget/ReferenceSetSelector":function(){define(["dojo","dijit","dojox","dojo/require!mxui/mixin/_Contextable"],function(dojo,_f18,_f19){dojo.provide("mxui.widget.ReferenceSetSelector");dojo.require("mxui.mixin._Contextable");mxui.widget.declare("mxui.widget.ReferenceSetSelector",{mixins:[_f18._Container,_f18._Contained,mxui.mixin._Contextable],inputargs:["entity","reference","xpathConstraint"],_datasource:null,_datagrid:null,_sourceObject:null,_mendixGuid:null,_oldXPath:null,_gridBacktrack:null,_cellNode:null,_errorNode:null,_updateSubscription:null,_oldActionDeleteSelection:null,_hasError:false,postCreate:function(){this._gridBacktrack=this.backtrackconstraints;delete this.backtrackconstraints;this.initContext();var _f1a=this.reference.split("/");this.sourceReference=_f1a.pop();this.sourceEntity=_f1a.pop();var _f1b=this.domNode.parentNode;if(_f1b.nodeName=="TD"){this._cellNode=_f1b;}if(this.entity&&this.sourceEntity&&this.sourceReference){this.createGrid();}else{throw new Error(this.id+".postCreate : Not all params are filled.");}},createGrid:function(){this._datasource=new mendix.lib.ReferenceSetSource({entity:this.entity,reference:this.sourceReference,queryid:this.schema});this._datagrid=new mxui.widget.DataGrid({mxid:this.mxid,mxform:this.mxform,app_flow_id:this.app_flow_id,contextname:this.contextname,entity:this.entity,schema:this.schema,config:this.config,template:this.template,dropcontext:this.dropcontext,content_id:this.getContent(),customDataSource:this._datasource});this._datagrid.addOnLoad(dojo.hitch(this,"actLoaded"));this._oldActionDeleteSelection=this._datagrid.actionDeleteSelection;dojo.mixin(this._datagrid,{actionAddRef:dojo.hitch(this,"handlerAdd"),actionSelectRef:dojo.hitch(this,"handlerSelect"),actionCreateRef:dojo.hitch(this,"handlerCreate"),actionDeleteRef:this.makeRemoveHandler(false),actionDeleteSelection:this.makeRemoveHandler(true),registerSubscriptions:dojo.hitch(this,"registerSubscriptions")});this.domNode.appendChild(this._datagrid.domNode);},handlerAdd:function(_f1c){this._sourceObject&&this._openAddForm(_f1c[this.entity]);},handlerSelect:function(_f1d){this._sourceObject&&this._openAddForm(_f1d[this.entity],true);},handlerCreate:function(_f1e){var _f1f=this._getEntity(_f1e),_f20=_f1e[_f1f];if(_f20==null){return;}if(!this._sourceObject){return;}var _f21=this.createContext(),_f22=this.sourceReference;mx.data.create({entity:_f1f,persistent:_f20.persistent,callback:function(_f23){var ent,guid;ent=_f23.getEntity();guid=_f23.getGuid();_f21.setTrackEntity(ent);_f21.setTrackId(guid);this.onChange();mx.ui.execute(_f20,{context:_f21,callback:function(form){form.listen("save",dojo.hitch(this,function(_f24){this._sourceObject.addReferences(this.sourceReference,[guid]);_f24();}));}},this);},error:function(e){mx.onError(e);}},this);},makeRemoveHandler:function(_f25){var self=this;return function(){var _f26=self._datagrid.getSelected();if(_f26.length===0){mx.ui.info(mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{mx.ui.confirmation({content:mx.ui.translate("mxui.widget.DataGrid","confirm_delete",[_f26.length]),handler:function(){if(_f25){self._oldActionDeleteSelection.call(self._datagrid,true);}self._sourceObject.removeReferences(self.sourceReference,_f26);self.onChange();if(!_f25){self._datagrid.deselectAll();self._datagrid.reload();}}});}};},registerSubscriptions:function(){if(this._updateSubscription){this.unsubscribe(this._updateSubscription);}this._updateSubscription=this.subscribe({guid:this._mendixguid,attr:this.sourceReference,callback:function(guid,attr,_f27){this.objectUpdate(guid);}});this.subscribe({entity:this.entity,callback:dojo.hitch(this,function(){this.objectUpdate.apply(this,arguments);})});this.subscribe({guid:this._mendixguid,callback:dojo.hitch(this,"objectUpdate")});this.subscribe({guid:this._mendixguid,val:true,callback:dojo.hitch(this,"onValidation")});},applyContext:function(_f28,_f29){if(_f28!=null&&_f28.hasTrackId()){this.cloneContext(_f28);var _f2a=(this._mendixguid==null||this._mendixguid!=_f28.getTrackId());this._mendixguid=_f28.getTrackId();this.mxcontext.setConstraints(this.constrainedBy);this.registerSubscriptions();this.updateSequence(_f2a,_f29);}else{this.removeSubscriptions();this.removeContext(_f29);}},removeContext:function(_f2b){if(this._datagrid.removeContext){this._datagrid.removeContext(_f2b);}else{_f2b&&_f2b();}},updateSequence:function(_f2c,_f2d){var _f2e=[];if(_f2c){_f2e.push("actFetchSourceObject");}_f2e.push("actUpdateGrid");if(!_f2c){_f2e.push("actCompareSet");}_f2d&&_f2e.push(_f2d);this.sequence(_f2e);},actFetchSourceObject:function(_f2f){var self=this;if(this._mendixguid){mx.data.get({guid:this._mendixguid,callback:function(obj){self._sourceObject=obj;self._datasource.setObject(obj);self._datagrid.set("readOnly",self._sourceObject.isReadonlyAttr(self.sourceReference));_f2f();},error:function(e){mx.onError(e);_f2f&&_f2f();}});}else{_f2f&&_f2f();}},actUpdateGrid:function(_f30){this._oldXPath=this._datagrid.getCurrentXPath();this._datagrid.applyContext(this.mxcontext,_f30);},actCompareSet:function(_f31){var _f32=this._datagrid.getCurrentXPath();if(!this._oldXPath.match("[1=0]")&&this._oldXPath!=_f32){this._sourceObject.set(this.sourceReference,"");this.onChange();}else{_f31&&_f31();}},objectUpdateNotification:function(guid){this.updateSequence();},_setDisabledAttr:function(_f33){var grid=this._datagrid,_f34=_f33===true;grid.set("disabled",_f33);grid.set("selectable",!_f34);grid.set("toolbar",_f34);},_getDisabledAttr:function(){return this._datagrid.get("disabled");},onChange:function(){var ev=this.events&&this.events.change;this.validateForMicroflow(ev,dojo.hitch(this,"callMicroflow",ev));},validateForMicroflow:function(_f35,_f36){if(_f35&&_f35.validate=="view"){this.mxform.save(_f36);}else{_f36&&_f36();}},onValidation:function(list){var val=list[0],attr=this.sourceReference,msg=val.getReasonByAttribute(attr);if(msg){this.addError(msg);val.removeAttribute(attr);}},callMicroflow:function(_f37){if(_f37){mx.ui.execute({microflow:_f37},{context:this.mxcontext});}},addError:function(msg){this.removeError();this._hasError=true;if(msg){this._errorNode=mxui.dom.create("div",{"class":"alert alert-danger"},msg);this.domNode.parentNode.appendChild(this._errorNode);this.mxform.resize();}if(this._cellNode){dojo.addClass(this._cellNode,"has-error");}if(this.validator){this.validator.addNotification();}},removeError:function(){if(this._errorNode){mxui.dom.orphan(this._errorNode);this._errorNode=null;}if(this._cellNode){dojo.removeClass(this._cellNode,"has-error");}if(this.validator&&this._hasError){this.validator.removeNotification();}this._hasError=false;},_openAddForm:function(_f38,_f39){var _f3a=this.createContext();_f3a.dupFrom(this.mxcontext);_f3a.unsetContext(this.entity);_f3a.setConstraints(this._gridBacktrack);mx.ui.execute(_f38,{context:_f3a,params:{selection:_f39?this._sourceObject.get(this.sourceReference):[],selectable:"multi",constraint:this.xpathConstraint},callback:function(form){form.listen("save",dojo.hitch(this,function(_f3b){var refs=form.getReturnValue("selection");if(refs){if(_f39){this._sourceObject.set(this.sourceReference,refs);}else{this._sourceObject.addReferences(this.sourceReference,refs);}this.onChange();}else{logger.error(this.id+" form return value 'selection' does not exist");}_f3b();}));}},this);},_getEntity:function(_f3c){for(var i in _f3c){return i;}}});});},"mxui/widget/BoolSelect":function(){define(["dojo","dijit","dojox","dojo/require!mxui/widget/_FormWidget"],function(dojo,_f3d,_f3e){dojo.provide("mxui.widget.BoolSelect");dojo.require("mxui.widget._FormWidget");dojo.declare("mxui.widget.BoolSelect",mxui.widget._FormWidget,{_value:false,buildRendering:function(){var $=mxui.dom.create,node=this.editNode=$("input",{type:"checkbox"});this.readNode=$("label");this.inherited(arguments);},onChange:function(e){if(this._value!=this.editNode.checked){this._value=this.editNode.checked;this.inherited(arguments);}},_getValueAttr:function(){return this.editNode.checked;},_setValueAttr:function(_f3f){this.editNode.checked=this._value=_f3f;mxui.dom.text(this.readNode,mx.parser.formatValue(_f3f,"Boolean"));}});});},"mxui/widget/DatePicker":function(){define(["dojo","dijit","dojox"],function(dojo,_f40,_f41){dojo.provide("mxui.widget.DatePicker");dojo.declare("mxui.widget.DatePicker",mxui.widget._WidgetBase,{placeholder:"",selector:"date",format:"",_value:"",_native:false,_params:null,_calendar:null,_rescon:null,_leavecon:null,_blurcon:null,_foccon:null,_capture:null,_chgcon:null,_inputPos:null,_inputNode:null,_inputPane:null,_calButton:null,_calUpdateOn:true,buildRendering:function(){var $=mxui.dom.create,_f42=":)",type=this.selector=="datetime"?"datetime-local":this.selector,_f43=mx.ui.getProfile()==="desktop",_f44;var _f45=this._inputPane=$("div",{"class":"mx-dateinput-input-wrapper"},_f44=this._inputNode=$("input",{"class":"form-control mx-dateinput-input",type:type,value:_f42,placeholder:this._getPlaceholder()}));this.domNode=$("div",{"class":"mx-dateinput"},_f45);this._native=!_f43&&_f44.type===type&&_f44.value!==_f42;_f44.value="";this._params={selector:this.selector=="custom"?"date":this.selector,datePattern:this.format};if(this._native){this._params=this._getNativeParseOpts();}else{_f44.type="text";if(this._formatContainsDate()){this._calButton=new mxui.widget.Button({"class":"mx-dateinput-select-button",iconClass:"glyphicon glyphicon-calendar"});dojo.setAttr(this._calButton.domNode,"tabindex","-1");dojo.place(this._calButton.domNode,_f45,"before");}}},startup:function(){this.inherited(arguments);var node=this._inputNode;this._connectChangeEvent();this._blurcon=this.connect(node,"blur","onBlur");this._foccon=this.connect(node,"focus","onFocus");this.connect(node,"keyup","onKeyUp");if(this._calButton){this.connect(this._calButton,"onClick","_handleButtonClicked");this.connect(node,"keyup","_handleInputKey");}},enable:function(){if(this._calButton){this._calButton.set("disabled",false);}dojo.removeAttr(this._inputNode,"disabled");},disable:function(){if(this._calButton){this._calButton.set("disabled",true);}dojo.setAttr(this._inputNode,"disabled","disabled");},focus:function(){_f40.focus(this._inputNode);},onChange:function(){},onKeyUp:function(e){},onFocus:function(e){},onBlur:function(e){},uninitialize:function(){if(this._calendar){this._calendar.destroy();}if(this._capture){this._capture.remove();}},_formatContainsDate:function(){return (this.selector=="date"||this.selector=="datetime"||(this.selector=="custom"&&this.format.indexOf("d")!=-1&&this.format.indexOf("M")!=-1&&this.format.indexOf("y")!=-1));},_connectChangeEvent:function(){if(this._native){this._chgcon=this.connect(this._inputNode,"blur",function(){if(this._inputNode.value!=this._value){this.onChange();}});}else{this._chgcon=this.connect(this._inputNode,"change","onChange");}},_disconnectEvents:function(_f46){for(var i=0,name;name=_f46[i];++i){if(this[name]){this.disconnect(this[name]);this[name]=null;}}},_showCalendar:function(){var _f47=this._calendar;if(!this._isCalendarVisible()){if(!_f47){_f47=this._calendar=new _f40.Calendar(dojo.mixin({datePackage:mx.ui.getDatePackage(),onChange:dojo.hitch(this,"_handleCalendarChange"),onKeyDown:dojo.hitch(this,"_handleCalendarKey")},this._calendarPatch));_f47.domNode.style.position="absolute";dojo.body().appendChild(_f47.domNode);}var _f48=this.get("value");if(_f48===""){_f48=new Date();}this._setCalendarValue(_f48);_f47.domNode.style.display="block";this._rescon=this.connect(this.mxform,"resize","_handleResizeWindow");this._capture=mxui.dom.capture(dojo.body(),"mousedown",dojo.hitch(this,"_handleBodyClicked"));}this._handleResizeWindow();this._disconnectEvents(["_chgcon","_leavecon","_blurcon"]);_f47.focus();setTimeout(dojo.hitch(this,function(){this._connectChangeEvent();this._leavecon=this.connect(this._inputNode,"blur","_handleInputBlur");this._blurcon=this.connect(this._inputNode,"blur","onBlur");}),0);},_hideCalendar:function(){if(this._isCalendarVisible()){var _f49=this._calendar.domNode;this._calendar.domNode.style.display="none";this._inputPos=null;this._disconnectEvents(["_rescon","_leavecon"]);this._capture.remove();this._capture=null;}this._disconnectEvents(["_foccon"]);this.focus();setTimeout(dojo.hitch(this,function(){this._foccon=this.connect(this._inputNode,"focus","onFocus");}),0);},_handleCalendarChange:function(_f4a){if(!this._calUpdateOn){return;}if(_f4a.toGregorian){_f4a=_f4a.toGregorian();}this.set("value",this._mergeDates(_f4a));this._hideCalendar();this.onChange();},_handleInputKey:function(e){if(e.keyCode===dojo.keys.DOWN_ARROW){this._showCalendar();}else{if(e.keyCode==dojo.keys.ENTER){this._hideCalendar();}else{var _f4b=this.get("value");if(_f4b&&this._isCalendarVisible()){this._setCalendarValue(_f4b);}}}},_handleInputBlur:function(e){this._hideCalendar();},_handleBodyClicked:function(e){var _f4c=function(e,_f4d){var pos=dojo.position(_f4d.domNode);return (e.clientX>=pos.x&&e.clientX<pos.x+pos.w&&e.clientY>=pos.y&&e.clientY<pos.y+pos.h);};var _f4e=[this,this._calendar,this._calendar.monthWidget,this._calendar.monthWidget.dropDown];if(e){for(var i=0,w;w=_f4e[i];++i){if(_f4c(e,w)){return;}}}this._hideCalendar();this.onBlur();},_handleButtonClicked:function(e){if(this._isCalendarVisible()){this._hideCalendar();}else{this._showCalendar();}},_handleCalendarKey:function(e){if(e.keyCode==dojo.keys.ESCAPE||e.keyCode==dojo.keys.TAB){this._hideCalendar();}},_handleResizeWindow:function(){var box=dojo.position(this._inputNode,true),pos={x:box.x,y:box.y},_f4f=this._inputPos;if(!this.isLeftToRight()){pos.x+=box.w;}if(_f4f==null||pos.x!=_f4f.x||pos.y!=_f4f.y){var _f50={left:pos.x+"px",top:pos.y+box.h+"px",zIndex:1000};if(!this.isLeftToRight()){var _f51=dojo.position(this._calendar.domNode,true);_f50.left=pos.x-_f51.w+"px";}dojo.style(this._calendar.domNode,_f50);this._inputPos=pos;}},_isCalendarVisible:function(){return this._calendar&&this._calendar.domNode.style.display!="none";},_setCalendarValue:function(_f52){this._calUpdateOn=false;this._calendar.set("value",_f52);this._calUpdateOn=true;},_getNativeParseOpts:function(){var _f53;switch(this.selector){case "date":_f53="yyyy-MM-dd";break;case "time":_f53="HH:mm";break;case "datetime":_f53="yyyy-MM-dd HH:mm";}return {selector:"date",datePattern:_f53};},_getPlaceholder:function(){if(this.placeholder){return this.placeholder;}else{var _f54=dojo.i18n.getLocalization("dojo.cldr","gregorian",dojo.locale),_f55;switch(this.selector){case "date":_f55=_f54["dateFormat-short"];break;case "time":_f55=_f54["timeFormat-short"];break;case "datetime":_f55=_f54["dateFormat-short"]+" "+_f54["timeFormat-short"];break;case "custom":_f55=this.format;}_f55=_f55.toLowerCase();return _f55.replace(/(\w)+/g,function(_f56,_f57){switch(_f57){case "y":return new Array(5).join(_f57);case "a":return _f54["field-dayperiod"];default:return new Array(3).join(_f57);}});}},_mergeDates:function(_f58){var _f59=new Date(this._value===""?mx.parser.localizeEpoch(0):this._value);return mx.parser.mergeDates(_f59,_f58,this.selector);},_getValueAttr:function(){var _f5a=this._inputNode.value;if(_f5a===""){return "";}if(this._native){_f5a=_f5a.slice(0,16).replace("T"," ");}var _f5b=mx.parser.parseValue(_f5a,"datetime",this._params);return _f5b?this._mergeDates(_f5b):null;},_setValueAttr:function(_f5c){var _f5d=mx.parser.formatValue(_f5c,"datetime",this._params);this._inputNode.value=this._native?_f5d.replace(" ","T"):_f5d;this._value=_f5c;},_calendarPatch:{_onDayMouseDown:function(e){var node=e.target.parentNode;if(node&&node.dijitDateValue!=null&&!dojo.hasClass(node,"dijitCalendarDisabledDate")){this._currentNode=node;}},_onDayClick:function(e){dojo.stopEvent(e);for(var node=e.target;node&&(node.dijitDateValue==null);node=node.parentNode){}if(node&&!dojo.hasClass(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_patchDate:function(_f5e){if(_f5e!=null){_f5e=new this.dateClassObj(_f5e);_f5e.setHours(1,0,0,0);}return _f5e;}}});});},"mxui/widget/DateInput":function(){define(["dojo","dijit","dojox"],function(dojo,_f5f,_f60){dojo.provide("mxui.widget.DateInput");dojo.declare("mxui.widget.DateInput",mxui.widget._FormWidget,{placeholder:"",selector:"",format:"",_datepicker:null,_rdparams:null,buildRendering:function(){var $=mxui.dom.create;this._datepicker=new mxui.widget.DatePicker({placeholder:this.placeholder,selector:this.selector,format:this.format});this.editNode=this._datepicker.domNode;this.readNode=$("label","&nbsp;");this._rdparams={selector:this.selector=="custom"?"date":this.selector,datePattern:this.format};this.inherited(arguments);},startup:function(){this.inherited(arguments);this._datepicker.startup();},connectEvents:function(){this.connect(this._datepicker,"onChange","onChange");for(var evt in this.events){if(evt!="change"){this.connect(this._datepicker,"on"+mendix.lang.capitalize(evt),dojo.hitch(this,"handleEvent",evt));}}},validate:function(){var _f61=this.inherited(arguments);if(_f61!=null){return _f61;}else{if(this.get("value")==null){return mx.ui.translate("mendix.lib.Validations","invalid_date");}}},uninitialize:function(){this._datepicker.destroy();},_getValueAttr:function(){return this._datepicker.get("value");},_setValueAttr:function(_f62){this._datepicker.set("value",_f62);var _f63=mx.parser.formatValue(_f62,"datetime",this._rdparams);this.readNode.innerHTML=_f63||"&nbsp;";}});});},"mxui/widget/EnumSelect":function(){define(["dojo","dijit","dojox","dojo/require!mxui/widget/_FormWidget"],function(dojo,_f64,_f65){dojo.provide("mxui.widget.EnumSelect");dojo.require("mxui.widget._FormWidget");dojo.declare("mxui.widget.EnumSelect",mxui.widget._FormWidget,{_keys:null,buildRendering:function(){var $=mxui.dom.create,meta=mx.meta.getEntity(this._entity),keys=this._keys=meta.getEnumKVPairs(this._attribute),node=this.editNode=$("select",{"class":"form-control"},$("option",{value:""},""));for(var key in keys){node.appendChild($("option",{value:key},keys[key]));}this.readNode=$("label");this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(_f66){this.editNode.value=_f66;var key=this._keys[_f66];if(key){mxui.dom.text(this.readNode,key);}else{this.readNode.innerHTML="&nbsp;";}}});});},"mxui/widget/NumberInput":function(){define(["dojo","dijit","dojox","dojo/require!mxui/widget/_FormWidget"],function(dojo,_f67,_f68){dojo.provide("mxui.widget.NumberInput");dojo.require("mxui.widget._FormWidget");dojo.declare("mxui.widget.NumberInput",mxui.widget._FormWidget,{formatted:false,precision:"",placeholder:"",_type:"",_opts:null,_numloc:null,_mouseupcon:null,buildRendering:function(){var $=mxui.dom.create;this.editNode=$("input",{"class":"form-control",type:"text",placeholder:this.placeholder});this.readNode=$("label");var meta=mx.meta.getEntity(this._entity);this._type=meta.getAttributeType(this._attribute);this._opts={groups:this.formatted};if(this.precision!==""){this._opts.places=this.precision;}this._numloc=dojo.i18n.getLocalization("dojo.cldr","number");this.inherited(arguments);},connectEvents:function(){this.connect(this.editNode,"focus","onFocus");this.connect(this.editNode,"blur","onBlur");},_getValueAttr:function(){var _f69=this.editNode.value.replace(this._numloc.group,"","g").replace(this._numloc.decimal,".");var _f6a=mx.parser.parseValue(_f69,this._type,{locale:"en"});return isNaN(_f6a)?null:_f6a;},_setValueAttr:function(_f6b){var _f6c=mx.parser.formatValue(_f6b,this._type,this._opts);this.editNode.value=_f6c;this.readNode.innerHTML=_f6c||"&nbsp;";},_match:function(_f6d,_f6e,pos){if(_f6d==_f6e){return Math.min(_f6d.length,pos);}var _f6f=0,len=Math.min(_f6e.length,pos),_f70,_f71;for(var i=0;i<len&&_f6f<_f6d.length;++i){_f70=_f6e[i];_f71=_f6d[_f6f];if(_f70==_f71){++_f6f;}}return _f6f;},onFocus:function(){this.handleEvent("focus");var node=this.editNode,_f72=node.value,_f73=mx.parser.parseValue(_f72,this._type);if(isNaN(_f73)){return;}var _f74=_f72.replace(this._numloc.group,"","g");if(_f74!=_f72){setTimeout(dojo.hitch(this,function(){this._disconnectMouseUp();var sel=mxui.dom.getSelection(node);if(sel.start===0&&sel.end==_f72.length){node.value=_f74;mxui.dom.selectTextRange(node,0,_f74.length);}else{this._mouseupcon=this.connect(node,"mouseup",function(){setTimeout(dojo.hitch(this,function(){sel=mxui.dom.getSelection(node);node.value=_f74;var _f75=this._match(_f74,_f72,sel.start),end=this._match(_f74,_f72,sel.end);mxui.dom.selectTextRange(node,_f75,end);}),0);this._disconnectMouseUp();});}},0));}},onBlur:function(){this._disconnectMouseUp();this.onChange();this.handleEvent("blur");},validate:function(){var _f76=this.inherited(arguments),_f77=this.get("value");if(_f76!=null){return _f76;}else{if(mendix.lang.numberTooBig(_f77)){return mx.ui.translate("mendix.lib.Validations","number_too_big");}else{if(_f77==null){return mx.ui.translate("mendix.lib.Validations",this.getType()=="Currency"?"invalid_currency":"invalid_number");}else{if(/Integer|Long|AutoNumber/.test(this.getType())&&_f77%1){return mx.ui.translate("mendix.lib.Validations","invalid_number");}}}}},_disconnectMouseUp:function(){if(this._mouseupcon){this.disconnect(this._mouseupcon);this._mouseupcon=null;}}});});},"mxui/widget/PasswordInput":function(){define(["dojo","dijit","dojox","dojo/require!mxui/widget/_FormWidget"],function(dojo,_f78,_f79){dojo.provide("mxui.widget.PasswordInput");dojo.require("mxui.widget._FormWidget");dojo.declare("mxui.widget.PasswordInput",mxui.widget._FormWidget,{maxLength:0,placeholder:"",buildRendering:function(){var $=mxui.dom.create,_f7a=this.editNode=$("input",{"class":"form-control",type:"password",placeholder:this.placeholder});if(this.maxLength>0){dojo.attr(_f7a,"maxlength",this.maxLength);}this.readNode=$("label");this.readNode.innerHTML="&nbsp;";this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(_f7b){this.editNode.value=_f7b;}});});},"mxui/widget/TextArea":function(){define(["dojo","dijit","dojox"],function(dojo,_f7c,_f7d){dojo.provide("mxui.widget.TextArea");dojo.declare("mxui.widget.TextArea",mxui.widget._FormWidget,{placeholder:"",counterMsg:"",textTooLongMsg:"",rows:0,maxLength:0,_cloneNode:null,_countNode:null,buildRendering:function(){var $=mxui.dom.create,_f7e=this.editNode=$("textarea",{"class":"form-control mx-textarea-input",placeholder:this.placeholder});this.readNode=$("label");this.inherited(arguments);if(this.counterMsg){var _f7f=this._countNode=$("label",{"class":"mx-textarea-counter"});dojo.place(_f7f,_f7e,"after");this._updateCount();this.connect(_f7e,"keyup","_updateCount");}dojo.addClass(this.domNode,"mx-textarea");if(this.maxLength>0){dojo.attr(_f7e,"maxlength",this.maxLength);}if(this.rows===0){var _f80=this._cloneNode=dojo.clone(_f7e);dojo.addClass(_f80,"mx-textarea-clone");this.connect(_f7e,"keyup","resize");this.connect(this.mxform,"resize","resize");this.domNode.appendChild(_f80);}else{dojo.addClass(_f7e,"mx-textarea-input-noresize");dojo.attr(_f7e,"rows",dojo.isFF?Math.max(1,this.rows-1):this.rows);}},resize:function(){if(this._cloneNode){var _f81=this.editNode,_f82=this._cloneNode,_f83=this.get("disabled");this.domNode.appendChild(_f82);_f82.value=_f81.value+(_f83?"":"\n\n");_f82.scrollTop=10000;var _f84=dojo._getPadExtents(_f81).h,_f85=Math.max(_f82.scrollTop+_f84,28);dojo.style(_f81,"height",_f85+"px");this.domNode.removeChild(_f82);}},validate:function(){var _f86=this.inherited(arguments);if(_f86!=null){return _f86;}else{if(this.get("value")==null){return this.textTooLongMsg||mx.ui.translate("mendix.lib.Validations","value_too_long");}}},_updateCount:function(){mxui.dom.text(this._countNode,this.counterMsg.replace("{1}",this.editNode.value.length).replace("{2}",this.maxLength));},_getValueAttr:function(){var _f87=this.editNode.value;return this.maxLength&&_f87.length>this.maxLength?null:_f87;},_setValueAttr:function(_f88){this.editNode.value=_f88;this.readNode.innerHTML=_f88?mxui.dom.convertNlToBr(mxui.dom.escapeString(_f88)):"&nbsp;";this.resize();}});});},"mxui/widget/TextInput":function(){define(["dojo","dijit","dojox","dojo/require!mxui/widget/_FormWidget"],function(dojo,_f89,_f8a){dojo.provide("mxui.widget.TextInput");dojo.require("mxui.widget._FormWidget");dojo.declare("mxui.widget.TextInput",mxui.widget._FormWidget,{maxLength:0,placeholder:"",mask:"",buildRendering:function(){var $=mxui.dom.create;this.editNode=$("input",{"class":"form-control",type:"text",placeholder:this.placeholder});if(this.maxLength>0){dojo.attr(this.editNode,"maxlength",this.maxLength);}this.readNode=$("label");this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(_f8b){this.editNode.value=_f8b;this.readNode.innerHTML=_f8b?mxui.dom.escapeString(_f8b):"&nbsp;";}});});},"mxui/widget/SearchInput":function(){define(["dojo","dijit","dojox"],function(dojo,_f8c,_f8d){dojo.provide("mxui.widget.SearchInput");dojo.declare("mxui.widget.SearchInput",mxui.widget._WidgetBase,{name:"",display:"",klass:"node",operator:"=",key:"",referenceStringKey:"",tag:"",query:"",entity:"",toKey:"",toOperator:"",attribute:"",referenceAttr:"",hidden:false,sortorder:null,mxid:null,defaults:"",xpath:"",metaobject:null,mxcontext:null,disabled:false,show:true,_MS_IN_DAY:24*60*60*1000,_setupCompleted:false,_input:null,_widget:null,_tooltip:null,_localized:true,_finalize:null,_type:"",postMixInProperties:function(){this.mxcontext=this.mxcontext||new mxui.lib.MxContext();var _f8e=this.name.split("/");switch(_f8e.length){case 1:this.key=this.name;this.attribute=this.key;break;case 2:this.key=_f8e[1];this.attribute=_f8e[1];break;default:this.tag=_f8e[_f8e.length-1];this.key=_f8e[0];this.attribute=_f8e[_f8e.length-1];this.referenceAttr=_f8e[0];this.referenceStringKey=this.name;this.entity=_f8e[_f8e.length-2];this.query="//"+this.entity;break;}if(this.toKey&&this.toOperator){_f8e=this.toKey.split("/");if(_f8e.length==2){this.toKey=_f8e[1];}else{this.toKey=this.toKey;}this.toOperator=this.toOperator;}this._type=this.klass.toLowerCase();},buildRendering:function(){var _f8f=null,$=mxui.dom.create;switch(this._type){case "boolean":this._input=$("select",{"class":"form-control"});this._finalize=this._setupBoolean;break;case "referencestring":this.key=this.referenceStringKey;case "node":case "noderange":this._input=$("input",{type:"text","class":"form-control"});if(this.defaults){this._input.value=this.defaults.toString();}this._finalize=this._completeSetup;break;case "referencedropdown":this._input=$("select",{"class":"form-control"});this._finalize=this._setupReferenceDropDown;break;case "referenceenum":this._input=$("select",{"class":"form-control"});this._finalize=this._setupReferenceEnum;break;case "enum":this._input=$("select",{"class":"form-control"});this._finalize=this._setupEnum;break;case "date":case "daterange":this._widget=new mxui.widget.DatePicker();this._finalize=this._setupDateTimePicker;break;default:this._input=$("input",{type:"text","class":"form-control"});}var _f90,_f91;if(this._widget){_f90=this._widget.domNode;this.connect(this._widget,"onKeyUp","onKeyUp");this.connect(this._widget,"onChange","onChange");}else{_f90=this._input;this.connect(this._input,"keyup","onKeyUp");this.connect(this._input,"blur","onChange");}_f91=mxui.dom.div({"class":"mx-grid-search-item"},$("div",{"class":"mx-grid-search-label"},$("label",this.display||"")),$("div",{"class":"mx-grid-search-input"},_f90));this.domNode=_f91;if(this.get("hidden")){_f91.style.display="none";}if(!this.show){this.domNode.style.display="none";}},startup:function(){this.inherited(arguments);if(this._finalize){this._finalize.call(this);}this.set("disabled",this.disabled);},reset:function(){this._resetSearchField();},reinit:function(_f92){if(this._type==="referencedropdown"){this._setupReferenceDropDown(_f92);}else{_f92();}},focus:function(){if(this._widget){this._widget.focus();}else{_f8c.focus(this._input);}},hideTooltip:function(){this._tooltip&&this._tooltip.hide(this._widget&&this._widget.domNode||this._input);},onChange:function(){if(!this.get("valid")){if(!this._tooltip){this._tooltip=new mxui.widget._MasterTooltip();}this._tooltip.show(/date|betweendate/i.test(this._type)?mx.ui.translate("mendix.lib.Validations","invalid_date"):mx.ui.translate("mendix.lib.Validations","invalid_number"),this._widget||this._input);}else{this.hideTooltip();}},onKeyUp:function(){},uninitialize:function(){if(this._tooltip){this._tooltip.destroyRecursive();}},_resetSearchField:function(){switch(this._type){case "date":case "daterange":var _f93="";if(this.defaults){if(this.defaults==="[%CurrentDateTime%]"){_f93=+new Date();}else{if(this.defaults==="[%BeginOfCurrentDay%]"){_f93=new Date().setHours(0,0,0,0);}else{_f93=mx.parser.localizeEpoch(Number(this.defaults));}}}this._widget.set("value",_f93);break;default:this._input.value=this.defaults;break;}},_setupEnum:function(){mxui.dom.setSelectOptions(this._input,this.metaobject.getEnumKVPairs(this.key),this.defaults);this._completeSetup();},_setupBoolean:function(){this._input.options[0]=new Option("","",(!this.defaults&&this.defaults===""));this._input.options[1]=new Option(mx.ui.translate("mxui.widget.DataGrid","true"),"true");this._input.options[2]=new Option(mx.ui.translate("mxui.widget.DataGrid","false"),"false");if(this.defaults!==""){if(/true|yes/.test(this.defaults)){this._input.options[1].selected=true;}else{this._input.options[2].selected=true;}}this._completeSetup();},_setupReferenceEnum:function(){var _f94=mx.meta.getEntity(this.entity);var _f95=_f94.getEnumKVPairs(this.tag);mxui.dom.setSelectOptions(this._input,_f95,this.defaults);this._completeSetup();},_setupReferenceDropDown:function(_f96){var _f97=this.xpath;if(_f97.match(/\[%CurrentObject%\]/)){var _f98=this.mxcontext.getTrackId();if(_f98){_f97=this.xpath.replace(/\[%CurrentObject%\]/g,_f98);}else{_f96&&_f96();return;}}mx.data.get({xpath:this.query+_f97,filter:{attributes:[this.tag],distinct:true,sort:this.sortOrder||[[this.tag,"asc"]],id:this.mxid},callback:dojo.hitch(this,function(objs){var list={};for(var i=0,l=objs.length;i<l;++i){var _f99=objs[i].get(this.tag);list[_f99]=_f99;}mxui.dom.setSelectOptions(this._input,list,this.defaults);this._completeSetup(_f96);}),error:function(e){mx.onError(e);_f96&&_f96();}});},_setupDateTimePicker:function(){try{var meta=this.entity?mx.meta.getEntity(this.entity):this.metaobject;if(this.referenceAttr&&!this.metaobject.isReference(this.referenceAttr)){this.metaobject=meta;}this._localized=meta.isLocalizedDate(this.attribute);this._resetSearchField();}catch(e){}this._completeSetup();},_completeSetup:function(_f9a){this._setupCompleted=true;_f9a&&_f9a();},_quoteValue:function(val){var _f9b=this.entity?mx.meta.getEntity(this.entity):this.metaobject;var _f9c=(_f9b.isNumber(this.attribute)||_f9b.isCurrency(this.attribute)||_f9b.isDate(this.attribute)||/autonumber/i.test(_f9b.getAttributeType(this.attribute)));return _f9c?val:("'"+val+"'");},_stringForOperator:function(key,_f9d,_f9e){return key+_f9d+this._quoteValue(_f9e);},_stringForContains:function(key,_f9f,_fa0){return _f9f+"("+key+","+this._quoteValue(_fa0)+")";},_xpString:function(key,_fa1,_fa2){return (/contains|starts-with/.test(_fa1))?this._stringForContains(key,_fa1,_fa2):this._stringForOperator(key,_fa1,_fa2);},_xpWithEmptyString:function(expr,key){return "("+expr+" or "+key+"=empty)";},_xpAndString:function(){return Array.prototype.join.call(arguments," and ");},_xpDateString:function(key,_fa3,_fa4){var _fa5=0;switch(_fa3){case ">":_fa3=">=";_fa5=this._MS_IN_DAY;break;case "<=":_fa3="<";_fa5=this._MS_IN_DAY;break;}return this._xpString(key,_fa3,(_fa4+_fa5)+"");},_prepareNodeValue:function(){var _fa6=this.metaobject,_fa7=mxui.dom.escapeHTMLQuotes(this._input.value);if(this.referenceAttr&&this.metaobject.isReference(this.referenceAttr)){_fa6=mx.meta.getEntity(this.entity);}if(this.get("valid")&&_fa7!==""){if(/integer/i.test(_fa6.getAttributeType(this.attribute))){_fa7=Math.floor(_fa7);this._input.value=_fa7=(_fa7>2147483647)?0:_fa7;}return _fa7;}else{return null;}},_getValueAttr:function(){try{if(this._setupCompleted){var _fa8="",_fa9;switch(this._type){case "boolean":var _faa=this._input.options[this._input.selectedIndex];_fa8=_faa.value;return (_fa8!=="")?this._xpString(this.key,this.operator,_fa8):"";case "referencestring":case "node":this.onChange();_fa8=this._prepareNodeValue();return (_fa8!=null)?this._xpString(this.key,this.operator,_fa8):"";case "noderange":this.onChange();_fa8=this._prepareNodeValue();if(_fa8!=null){_fa9=this.referenceStringKey||this.key;return this._xpAndString(this._xpWithEmptyString(this._xpString(_fa9,this.operator,_fa8),_fa9),this._xpWithEmptyString(this._xpString(this.toKey,this.toOperator,_fa8),this.toKey));}else{return "";}break;case "enum":_fa8=mxui.dom.getSelectedValue(this._input);_fa8=mxui.dom.escapeHTMLQuotes(_fa8);if(_fa8!==""){return this._xpString(this.key,this.operator,_fa8);}else{return "";}break;case "referencedropdown":case "referenceenum":_fa8=mxui.dom.getSelectedValue(this._input);_fa8=mxui.dom.escapeHTMLQuotes(_fa8);if(_fa8!==""){return this._xpString(this.referenceStringKey,this.operator,_fa8);}else{return "";}break;case "date":_fa8=this._widget.get("value");if(_fa8!=null&&_fa8!==""){var _fab=+_fa8;if(!this._localized){_fab=mx.parser.delocalizeEpoch(_fab);}var _fac=this.referenceStringKey||this.key;if(this.operator=="="){return this._xpAndString("("+this._xpString(_fac,">=",_fab)+")","("+this._xpString(_fac,"<",_fab+this._MS_IN_DAY)+")");}else{return this._xpDateString(_fac,this.operator,_fab);}}else{return "";}break;case "daterange":_fa8=+this._widget.get("value");if(_fa8||_fa8===0){if(!this._localized){_fa8=mx.parser.delocalizeEpoch(_fa8);}var _fad=parseInt(_fa8,10);_fa9=this.referenceStringKey||this.key;return this._xpAndString(this._xpWithEmptyString(this._xpString(_fa9,this.operator,_fad+this._MS_IN_DAY),_fa9),this._xpWithEmptyString(this._xpString(this.toKey,this.toOperator,_fad),this.toKey));}else{return "";}break;default:return this._input.value;}}else{}}catch(e){logger.error(this.id+": error retrieving search value : "+e.message);}return "";},_getValidAttr:function(){var _fae=this.entity?mx.meta.getEntity(this.entity):this.metaobject;if(_fae.isNumber(this.attribute)||_fae.isCurrency(this.attribute)){return (/^\d*(\.\d+)?$/).test(this._input.value);}else{if(_fae.isDate(this.attribute)){return (this._widget.get("value")!=null);}}return true;},_getAttrHidden:function(){return this.hidden;},_setAttrHidden:function(_faf){this.hidden=_faf;},_setDisabledAttr:function(_fb0){var node;this.disabled=_fb0;if(this._widget){node=this._widget.domNode;this._widget.set("disabled",_fb0);}else{node=this._input;if(_fb0){node.setAttribute("readonly","readonly");mxui.dom.disableNode(node);}else{node.removeAttribute("readonly","readonly");mxui.dom.enableNode(node);}}if(_fb0){dojo.addClass(node,"MxClient_formDisabled");}else{dojo.removeClass(node,"MxClient_formDisabled");}},_getDisabledAttr:function(){return this.disabled;}});});},"mxui/widget/Navbar":function(){define(["dojo","dijit","dojox"],function(dojo,_fb1,_fb2){dojo.provide("mxui.widget.Navbar");dojo.declare("mxui.widget.Navbar",mxui.widget._WidgetBase,{menuID:"",_active:null,buildRendering:function(){var $=mxui.dom.create,_fb3=$("ul",{"class":"nav navbar-nav"}),menu=mx.ui.getMenu(this.menuID),item,_fb4,icon,list,_fb5;for(var i=0,top;top=menu[i];i++){if(top.action){item=$("li",{"class":"mx-navbar-item"},this._makeAnchor(top));}else{item=$("li",{"class":"dropdown mx-navbar-item"},this._makeAnchor(top),list=$("ul",{"class":"dropdown-menu mx-navbar-submenu"}));for(var j=0,sub;sub=top.items[j];j++){list.appendChild($("li",{"class":"mx-navbar-subitem"},this._makeAnchor(sub)));}}_fb3.appendChild(item);}this.domNode=$("div",{"class":"navbar navbar-default mx-navbar",tabindex:-1},_fb3);},postCreate:function(){var self=this;this.on("a:click",function(e){self.onClick(this);dojo.stopEvent(e);});this.connect(document,"click","closeSub");},onClick:function(node){var _fb6=this._active,_fb7=this.domData(node,"action");this.closeSub();if(_fb7){if(typeof _fb7==="function"){_fb7();}else{mx.ui.execute(_fb7,{context:this.mxcontext});}}else{if(_fb6!=node.parentNode){this.openSub(node.parentNode);}}},openSub:function(item){dojo.addClass(item,"open");this._active=item;},closeSub:function(){if(this._active){dojo.removeClass(this._active,"open");this._active=null;}},_makeAnchor:function(_fb8){var $=mxui.dom.create,_fb9=$("a",{href:"#"}," "+_fb8.caption+" ");if(_fb8.icon){dojo.place($("img",{src:mx.appUrl+_fb8.icon}),_fb9,"first");}if(_fb8.action){this.domData(_fb9,"action",_fb8.action);}else{dojo.place($("b",{"class":"caret"}),_fb9);dojo.addClass(_fb9,"dropdown-toggle");}return _fb9;}});});},"mxui/widget/NavigationTree":function(){define(["dojo","dijit","dojox"],function(dojo,_fba,_fbb){dojo.provide("mxui.widget.NavigationTree");dojo.declare("mxui.widget.NavigationTree",mxui.widget._WidgetBase,{menuID:"",buildRendering:function(){var $=mxui.dom.create,menu=mx.ui.getMenu(this.menuID);this.domNode=$("div",{"class":"mx-navigationtree",tabindex:-1},$("div",{"class":"navbar-inner"},this._buildMenu(menu)));},postCreate:function(){var self=this;this.on("a:click",function(e){self.onClick(this);dojo.stopEvent(e);});},onClick:function(node){var _fbc=this.domData(node,"action");if(_fbc){if(typeof _fbc==="function"){_fbc();}else{mx.ui.execute(_fbc,{context:this.mxcontext});}}else{dojo.toggleClass(node.parentNode,"mx-navigationtree-collapsed");}},_buildMenu:function(menu){var $=mxui.dom.create,_fbd=$("ul"),_fbe;for(var i=0,item;item=menu[i];++i){if(item.action){_fbe=$("li",this._makeAnchor(item));}else{_fbe=$("li",{"class":"mx-navigationtree-has-items"},this._makeAnchor(item),this._buildMenu(item.items));dojo.addClass(_fbe,"mx-navigationtree-collapsed");}_fbd.appendChild(_fbe);}return _fbd;},_makeAnchor:function(_fbf){var $=mxui.dom.create,_fc0=["a",{href:"#","class":"dropdown"}],_fc1,frag;if(_fbf.icon){_fc0.push($("img",{src:mx.appUrl+_fbf.icon}));}_fc0.push(" "+_fbf.caption+" ");if(_fbf.items){_fc0.push($("span",{"class":"caret"}));}_fc1=$.apply(null,_fc0);if(_fbf.action){this.domData(_fc1,"action",_fbf.action);}return _fc1;}});});},"mxui/widget/LayoutContainer":function(){define(["dojo","dijit","dojox"],function(dojo,_fc2,_fc3){dojo.provide("mxui.widget.LayoutContainer");dojo.declare("mxui.widget.LayoutContainer",[mxui.widget._WidgetBase],{design:"",regions:null,_isFixed:false,_regionMap:null,_resizeNodes:null,_toggleRegion:"",_toggleState:false,_overlayNode:null,startup:function(){this._regionMap={};this._resizeNodes=[];this._isFixed=dojo.hasClass(this.domNode,"mx-layoutcontainer-fixed");var _fc4=this.domNode.children,_fc5;for(var i=0;_fc5=_fc4[i];i++){var _fc6=this.regions[i],_fc7=_fc5.children[0];var _fc8=this._regionMap[_fc6.position]={node:_fc5,width:_fc5.offsetWidth,position:_fc6.position};if(_fc6.collapsible){this._toggleRegion=_fc8;var _fc9=_fc5.style.width;_fc8.cssWidth=parseInt(_fc9,10);_fc8.cssUnits=_fc9.indexOf("%")!=-1?"%":"px";_fc8.node.setAttribute("focusIndex",-1);}if(_fc7&&_fc7.style.height){_fc7.style.overflow="auto";}if(this.design!=="vertical"||_fc6.position==="middle"){this._resizeNodes.push(_fc5.children[0]);}}if(this._toggleRegion){dojo.style(this.domNode.parentNode,"overflowX","hidden");this.listen("toggleSidebar",this.toggleSidebar,function(cb){this.toggleSidebar();cb();});this._overlayNode=mxui.dom.create("div",{style:{position:"absolute"}});this.connect(this._overlayNode,"click","hideSidebar");}},resizeSidebar:function(){var _fca=this._toggleRegion;if(!_fca){return;}dojo.style(this.domNode,"width","");dojo.style(_fca.node,"display","none");var _fcb=this.domNode.offsetWidth,_fcc=this._toggleState;if(_fca.cssUnits==="%"){_fca.width=_fca.cssWidth*_fcb/100;}var _fcd={position:"relative",width:_fcb+_fca.width+"px"};if(_fca.position==="left"&&!_fcc||_fca.position==="right"&&_fcc){_fcd[mx.ui.isRtl()?"right":"left"]=-_fca.width+"px";}dojo.style(this.domNode,_fcd);dojo.style(_fca.node,{display:"",width:_fca.width+"px",});if(_fcc){this.positionOverlay();}},resize:function(box){if(!this._resizeNodes){return;}this.resizeSidebar();if(box){var _fce=box.h;if(this.design==="vertical"){for(var _fcf in this._regionMap){var _fd0=this._regionMap[_fcf];if(_fcf==="top"||_fcf==="bottom"){_fce-=_fd0.node.offsetHeight;}}}var _fd1=_fce>=100;for(var j=0,node;node=this._resizeNodes[j];j++){var _fd2=Math.max(0,_fce)+"px";if(this._isFixed){node.style.height=_fd1?_fd2:"auto";this.resizeChildren(node,!_fd1);}else{node.style.minHeight=_fd1?_fd2:"none";this.resizeChildren(node,true);}}}else{for(var k=0,node;node=this._resizeNodes[k];k++){node.style.height="auto";this.resizeChildren(node,true);}}},toggleSidebar:function(){if(this._toggleState){this.hideSidebar();}else{this.showSidebar();}},showSidebar:function(){var _fd3=this._toggleRegion;if(!_fd3){return;}this._toggleState=true;var _fd4={},_fd5={end:_fd3.position==="left"?0:-_fd3.width,units:"px"};_fd4[mx.ui.isRtl()?"right":"left"]=_fd5;dojo.animateProperty({node:this.domNode,duration:300,properties:_fd4}).play();document.body.appendChild(this._overlayNode);this.positionOverlay();},hideSidebar:function(){var _fd6=this._toggleRegion;if(!_fd6){return;}this._toggleState=false;var _fd7={},_fd8={end:_fd6.position==="left"?-_fd6.width:0,units:"px"};_fd7[mx.ui.isRtl()?"right":"left"]=_fd8;this._animOut=dojo.animateProperty({node:this.domNode,duration:300,properties:_fd7}).play();mxui.dom.orphan(this._overlayNode);},positionOverlay:function(){var _fd9=this._toggleRegion,rtl=mx.ui.isRtl();dojo.marginBox(this._overlayNode,{t:dojo.position(_fd9.node,true).y,l:_fd9.position==="left"?(rtl?0:_fd9.width):(rtl?_fd9.width:0),w:Math.max(0,_fc2.getViewport().w-_fd9.width),h:_fd9.node.offsetHeight});}});});},"mxui/widget/MicroflowButton":function(){define(["dojo","dijit","dojox"],function(dojo,_fda,_fdb){dojo.provide("mxui.widget.MicroflowButton");dojo.declare("mxui.widget.MicroflowButton",mxui.widget._Button,{microflow:null,confirmation:null,onClick:function(e){var self=this,mf=this.microflow,conf=mf.confirmation,_fdc=[];if(conf){_fdc.push(function(cb){mx.ui.confirmation({cancel:conf.cancel,proceed:conf.proceed,content:conf.question,handler:cb});});}if(mf.validate=="view"){_fdc.push(dojo.hitch(this.mxform,"validate"));}_fdc.push(function(_fdd){self.mxform.save(_fdd,function(err){if(!(err instanceof mendix.lib.ValidationError)){mx.onError(err);}});});_fdc.push(function(){mx.ui.execute({microflow:mf},{context:self.mxcontext,store:{dir:self.direction,caller:self.mxform}});});this.sequence(_fdc);}});});},"mxui/widget/BackButton":function(){define(["dojo","dijit","dojox"],function(dojo,_fde,_fdf){dojo.provide("mxui.widget.BackButton");dojo.declare("mxui.widget.BackButton",mxui.widget._Button,{onClick:function(e){this.mxform.dispose();}});});},"mxui/widget/CancelButton":function(){define(["dojo","dijit","dojox"],function(dojo,_fe0,_fe1){dojo.provide("mxui.widget.CancelButton");dojo.declare("mxui.widget.CancelButton",mxui.widget._Button,{closeForm:true,needsObject:true,onClick:function(e){var self=this,form=this.mxform;this.mxform.suspend();form.rollback(function(){if(self.closeForm||self.mxform.place==="popup"){form.dispose();}},function(e){form.resume();mx.onError(e);});}});});},"mxui/widget/Confirmation":function(){define(["dojo","dijit","dojox"],function(dojo,_fe2,_fe3){dojo.provide("mxui.widget.Confirmation");dojo.declare("mxui.widget.Confirmation",mxui.widget.Dialog,{cancel:"",proceed:"",handler:null,modal:true,buildRendering:function(){var $=mxui.dom.create,_fe4=$("button",{"class":"btn"},this.cancel),_fe5=$("button",{"class":"btn btn-primary"},this.proceed),_fe6;this.caption=this.caption||this.translate("caption");this.inherited(arguments);var _fe7=$("p");_fe7.innerHTML=mxui.dom.convertNlToBr(mxui.dom.escapeString(this.content));this.setContent(_fe7);this.setButtons([_fe5,_fe4]);this.connect(_fe4,"click",function(){this.hide();});this.connect(_fe5,"click",function(){this.hide();this.handler();});}});});},"mxui/widget/LogoutButton":function(){define(["dojo","dijit","dojox"],function(dojo,_fe8,_fe9){dojo.provide("mxui.widget.LogoutButton");dojo.declare("mxui.widget.LogoutButton",mxui.widget._Button,{postCreate:function(){if(mx.session.isGuest()){this.domNode.style.display="none";}},onClick:function(e){mx.session.logout();}});});},"mxui/widget/DropDownButton":function(){define(["dojo","dijit","dojox"],function(dojo,_fea,_feb){dojo.provide("mxui.widget.DropDownButton");dojo.declare("mxui.widget.DropDownButton",mxui.widget._Button,{items:null,_dialog:null,buildRendering:function(){this.inherited(arguments);dojo.place(mxui.dom.create("span",{"class":"caret"}),this.domNode);},onClick:function(e){if(!this._dialog){var $=mxui.dom.create,list=$("ul",{"class":"mx-list mx-dropdown-list"},this.getTemplate("content")),_fec=$("button",{"class":"btn primary"},"Close"),_fed=this._dialog=new mxui.widget.Dialog();dojo.addClass(_fed.domNode,"mx-dropdown");_fed.setContent(list);_fed.setButtons([_fec]);this.connect(_fec,"click","hideDropDown");mxui.html.parser.parse(list,{dialog:_fed,mxform:this.mxform,parent:this});}this._dialog.show();},hideDropDown:function(){this._dialog.hide();},uninitialize:function(){if(this._dialog){this._dialog.destroy();}}});dojo.declare("mxui.widget.DropDownItem",mxui.widget._WidgetBase,{icon:"",caption:"",action:null,dialog:null,parent:null,buildRendering:function(){var $=mxui.dom.create,node=this.domNode=$("li",$("label",this.caption));if(this.icon){dojo.place($("img",{src:mx.appUrl+this.icon}),node,"first");}this.connect(node,"click","onClick");},onClick:function(guid){this.dialog.hide();var _fee=this.action,_fef=this.parent.mxcontext;var run=function(){mx.ui.execute(_fee,dojo.mixin({context:_fef},(_fee.microflow?{store:{dir:0}}:{dir:0})));};if(_fee.microflow&&_fee.microflow.validate=="view"){this.mxform.validate(run);}else{run();}}});});},"mxui/widget/SaveButton":function(){define(["dojo","dijit","dojox"],function(dojo,_ff0,_ff1){dojo.provide("mxui.widget.SaveButton");dojo.declare("mxui.widget.SaveButton",mxui.widget._Button,{closeForm:true,needsObject:true,onClick:function(e){var self=this,form=this.mxform;form.validate(function(){form.suspend();var _ff2=function(e){form.resume();if(!(e instanceof mendix.lib.ValidationError)){mx.onError(e);}};form.save(function(){form.commit(function(){if(self.closeForm||form.place=="popup"){form.dispose();}else{form.resume();}},_ff2);},_ff2);});}});});},"mxui/widget/SidebarToggleButton":function(){define(["dojo","dijit","dojox"],function(dojo,_ff3,_ff4){dojo.provide("mxui.widget.SidebarToggleButton");dojo.declare("mxui.widget.SidebarToggleButton",mxui.widget._Button,{_container:null,startup:function(){var _ff5=_ff3.byNode(this.mxform.domNode.firstChild);if(!_ff5||!(_ff5 instanceof mxui.widget.LayoutContainer)){logger.error(this.id+".startup: No top-level layout container found.");}else{this._container=_ff5;}},onClick:function(e){if(!this._container){return;}this.mxform.publish("toggleSidebar");}});});},"mxui/widget/Button":function(){define(["dojo","dijit","dojox"],function(dojo,_ff6,_ff7){dojo.provide("mxui.widget.Button");dojo.declare("mxui.widget.Button",mxui.widget._Button,{checkDisabled:function(){return this._disabled;}});});},"mxui/widget/GroupBox":function(){define(["dojo","dijit","dojox"],function(dojo,_ff8,_ff9){dojo.provide("mxui.widget.GroupBox");dojo.declare("mxui.widget.GroupBox",mxui.widget._WidgetBase,{caption:null,collapsed:false,collapsable:false,_headNode:null,_iconNode:null,_bodyNode:null,_children:null,buildRendering:function(){var $=mxui.dom.create,_ffa=this.srcNodeRef,_ffb=this.caption,_ffc=this.collapsable,_ffd;var _ffe=this.domNode=$("div",{"class":"mx-groupbox"},bodyNode=this._bodyNode=$("div",{"class":"mx-groupbox-body"},this.getTemplate("content")));if(_ffb||_ffb==""){if(_ffb==""){_ffb="&nbsp;";}else{_ffb=mxui.dom.escapeString(_ffb);}_ffd=this._headNode=$("h2",{"class":"mx-groupbox-header"});if(_ffc){_ffd.innerHTML=" "+_ffb;dojo.addClass(_ffe,"mx-groupbox-collapsable");dojo.place(this._iconNode=$("i",{"class":"glyphicon mx-groupbox-collapse-icon"}),_ffd,"first");}else{_ffd.innerHTML=_ffb;}dojo.place(_ffd,_ffe,"first");}this._doCollapse();if(_ffd&&_ffc){this.connect(_ffd,"click",function(e){this.toggleCollapsed();e.stopPropagation();});}},startup:function(){this._children=this.parseContent(this.domNode);},update:function(obj,_fff){var _1000=_ff8.findWidgets(this.domNode);mxui.widget.ready(_1000,dojo.hitch(this,"passContext",_1000,_fff));},toggleCollapsed:function(){this.set("collapsed",!this.collapsed);},_setCollapsedAttr:function(_1001){if(this.collapsed!=_1001){this.collapsed=_1001;this._doCollapse();}},_doCollapse:function(){if(this.collapsed){dojo.addClass(this.domNode,"collapsed");if(this._iconNode){dojo.replaceClass(this._iconNode,"glyphicon-plus","glyphicon-minus");}}else{dojo.removeClass(this.domNode,"collapsed");if(this._iconNode){dojo.replaceClass(this._iconNode,"glyphicon-minus","glyphicon-plus");}this.mxform.resize();}}});});},"mxui/widget/DataView":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.DataView");dojo.declare("mxui.widget.DataView",mxui.widget._WidgetBase,{entity:"",schema:"",autoLoad:false,datasource:null,conditions:null,contextsource:"",closeButton:"",hideControls:false,useSchema:false,_doUpdate:false,_mxObject:null,_children:null,_tempSubs:null,_mxidMap:null,_delayMap:null,_source:null,_contentNode:null,_controlsNode:null,constructor:function(){this._tempSubs=[];},buildRendering:function(){var $=mxui.dom.create,_1002=this.getTemplate("content"),_1003=this.getTemplate("buttons");this.domNode=$("div",{"class":"mx-dataview"},$("div",{"class":"mx-dataview-content"},_1002));this._contentNode=this.domNode.firstChild;if(_1003){var _1004=this._controlsNode=$("div",{"class":"mx-dataview-controls"},_1003);if(this.hideControls){_1004.style.display="none";}this.domNode.appendChild(_1004);}},postCreate:function(){var conds=this.conditions,map=this._mxidMap={},delay=this._delayMap={};for(var attr in conds){var _1005=conds[attr];for(var value in _1005){var _1006=_1005[value];for(var _1007 in _1006){var mxids=_1006[_1007];for(var i=0,mxid;mxid=mxids[i];i++){if(_1007=="show"||_1007=="hide"){delay[mxid]=1;}var key=value===""?"_empty_":value;dojo.setObject([mxid,attr,key,_1007].join("."),1,map);}}}}if(!this.readOnly){this.listen("validate",this.validate);this.listen("save",this.save);this.listen("commit",this.commit);this.listen("rollback",this.rollback);}this.listen("close",this.close);this.createSource();this._children=[];},createSource:function(){var _1008=this.datasource;if(_1008){switch(_1008.type){case "listen":var topic=mx.ui.makeShareId(this.mxform,this.datasource.contextsource),_1009=dojo.subscribe(topic,dojo.hitch(this,"applyContext"));this.addOnDestroy(function(){dojo.unsubscribe(_1009);});case "direct":if(this.useSchema==="true"){_1008.type="schema";this._source=new mendix.lib.SchemaObjectSource({schema:this.schema,context:this.mxcontext});}else{this._source=new mendix.lib.DirectObjectSource({schema:this.schema,context:this.mxcontext,path:_1008.path||this.entity});}break;case "microflow":this._source=new mendix.lib.MicroflowObjectSource({context:this.mxcontext,microflow:_1008.microflow});break;default:throw new Error(this.id+".createSource : unknown datasource type: "+_1008);}}},parseNode:function(node){var _100a=[],_100b=true;var parse=function(node){var root=_100b,mxid=node.getAttribute("data-mendix-id");_100b=false;if(mxid){if(!root&&mxid in this._delayMap){node.setAttribute("data-mendix-not-parsed",true);mx.ui.applyToNode("hide",node);}else{var type=node.getAttribute("data-mendix-type");if(type){var _100c={doParse:false};if(this.schema===""&&type===this.declaredClass){_100c.schema="";}var _100d=this.parseContent(node,_100c,true)[0];if(_100d){this._patchWidget(_100d);_100a.push(_100d);this._children.push(_100d);node=_100d.domNode;}}if(type!=this.declaredClass){dojo.forEach(node.children,parse,this);}}}else{dojo.forEach(node.children,parse,this);}};parse.call(this,node);return _100a;},startup:function(){var _100e=this.parseNode(this.domNode);mxui.widget.ready(_100e,dojo.hitch(this,"actLoaded"));},resume:function(){if(this._doUpdate){this.refresh();this._doUpdate=false;}},applyContext:function(_100f,_1010){this.mxcontext.mixin(_100f);this.update(_100f.getTrackId(),_1010);},update:function(guid,_1011){var self=this;this._sourceGuid=guid;var _1012=function(obj,_1013){self.mxcontext.setContext(self.entity,obj&&obj.getGuid());self.mxcontext.setObject(obj);self.updateObject(obj,_1013);};this._source.fetch(function(obj){_1012(obj,_1011);},function(e){mx.onError(e);_1012(null,_1011);});},updateObject:function(obj,_1014){if(obj!=this._mxObject){this._mxObject=obj;}this.setSubscriptions();this.refresh(_1014);},setSubscriptions:function(){var obj=this._mxObject,subs=this._tempSubs,_1015=this._sourceGuid,sub;var _1016=function(){this.mxcontext.setTrackId(_1015);this.update(_1015);};var _1017=dojo.hitch(this,"applyConditions");while((sub=subs.pop())){this.unsubscribe(sub);}if(obj){var guid=obj.getGuid();subs.push(this.subscribe({guid:guid,callback:_1017}));for(var attr in this.conditions){subs.push(this.subscribe({guid:guid,attr:attr,callback:_1017}));}}if(this._source.hasRoot()&&_1015){subs.push(this.subscribe({guid:_1015,callback:_1016}));subs.push(this.subscribe({guid:_1015,attr:this._source.getRoot(),callback:_1016}));}},refresh:function(_1018){if(this.get("suspended")){this._doUpdate=true;_1018&&_1018();}else{this.set("disabled",!this._mxObject);var self=this;this.passContext(dijit.findWidgets(this.domNode),function(){self.applyConditions();_1018&&_1018();});}},validate:function(_1019,error){var mxobj=this._mxObject;if(!mxobj||this.get("disabled")){_1019&&_1019();}else{var _101a=this._children,valid=true;for(var i=0,child;child=_101a[i];i++){if(child.isValid&&!child.isValid()){valid=false;}}if(valid){_1019&&_1019();}else{if(error){error();}else{if(mx.ui.getProfile()==="phone"){mx.ui.error(this.translate("validation_error"));}}}}},save:function(_101b,error){var mxobj=this._mxObject;if(!mxobj||this.get("disabled")){_101b&&_101b();}else{mx.data.save({mxobj:this._mxObject,callback:_101b,error:error},this);}},commit:function(_101c,error){var mxobj=this._mxObject;if(!mxobj||this.get("disabled")){_101c();}else{mx.data.commit({mxobj:mxobj,callback:_101c,error:error});}},rollback:function(_101d,error){var obj=this._mxObject;if(!obj||this.get("disabled")){_101d();}else{if(obj.getGuid()!==0){mx.data.rollback({mxobj:obj,callback:_101d,error:error});}else{_101d&&_101d();}}},close:function(_101e){if(this.closeButton){var _101f=dojo.query("[data-mendix-id="+this.closeButton+"]",this.domNode)[0];if(_101f){dijit.byNode(_101f).onClick();}else{logger.error(this.id+".close: No close button found");}}else{_101e&&_101e();}},getCFAction:function(node){var mxid=node.getAttribute("data-mendix-id");if(mxid){if(this._mxObject){var conds=this._mxidMap[mxid];for(var attr in conds){var value=this._mxObject.get(attr),_1020=conds[attr][value===""?"_empty_":value];for(var _1021 in _1020){return _1021;}}}else{if(mxid in this._delayMap){return "hide";}}}},applyConditions:function(){var _1022=[],_1023=true,_1024=false;var parse=function(node){var root=_1023,_1025=!node.getAttribute("data-mendix-not-parsed"),_1026=this.getCFAction(node);_1023=false;if(_1026=="show"){_1024=true;if(!_1025){var _1027=this.parseNode(node);_1022.push.apply(_1022,_1027);dojo.forEach(_1027,function(_1028){parse.call(this,_1028.domNode);},this);node.removeAttribute("data-mendix-not-parsed");_1025=true;}}if(_1026){mx.ui.applyToNode(_1026,node);}if(root||_1025&&!(dijit.byNode(node) instanceof this.constructor)){dojo.forEach(node.children,parse,this);}};parse.call(this,this.domNode);mxui.widget.ready(_1022,function(){this.passContext(_1022);if(_1022.length||_1024){this.mxform.resize();}},this);},resize:function(box){if(this._controlsNode){if(box){var _1029=box.h-dojo.marginBox(this._controlsNode).h;dojo.contentBox(this._contentNode,{h:_1029});}else{this._contentNode.style.height="auto";}this.resizeChildren(this._contentNode,!box);}},uninitialize:function(){this._source.destroy();},_patchWidget:function(_102a){var attr=_102a.name;if(!(_102a instanceof mxui.widget._WidgetBase)&&(typeof _102a.onChange=="function")&&attr){this.connect(_102a,"onChange",function(){var value=_102a.get("value");this._mxObject.set(attr,value);});}}});});},"mxui/widget/Header":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.Header");dojo.declare("mxui.widget.Header",mxui.widget._WidgetBase,{buildRendering:function(){this.domNode=mxui.dom.create("div",{"class":"mx-header"});dojo.forEach(["center","left","right"],dojo.hitch(this,function(part){this._appendTemplate(part);}));this.parseContent();},_appendTemplate:function(name){var _102b=this.getTemplate(name),_102c=this.isLeftToRight()?{}:{left:"right",right:"left"};if(_102b){this.domNode.appendChild(mxui.dom.create("div",{"class":"mx-header-"+(_102c[name]||name)},_102b));}}});});},"mxui/widget/Title":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.Title");dojo.declare("mxui.widget.Title",mxui.widget._WidgetBase,{buildRendering:function(){this.domNode=mxui.dom.create("h1",{"class":"mx-title"},this.mxform.getTitle());}});});},"mxui/widget/StaticImage":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.StaticImage");dojo.declare("mxui.widget.StaticImage",mxui.widget._WidgetBase,{url:"",width:0,height:0,action:null,_overlay:null,buildRendering:function(){var width=this.width,_102d=this.height,image=this.domNode=mxui.dom.create("img",{"class":"mx-image"}),style=image.style;if(this.url){image.src=this.url;}if(width&&_102d){this.connect(image,"load",function(){var _102e=image.width/image.height,_102f=width/_102d;if(_102e<_102f){style.width="";style.height=_102d+"px";}else{style.width=width+"px";style.height="";}});}else{if(width){style.width=this.width+"px";}else{if(_102d){style.height=this.height+"px";}}}if(this.action){this.connect(image,"click","onClick");image.style.cursor="pointer";}},setUrl:function(url,_1030){if(!url){this.domNode.style.display="none";this.domNode.src=this._blankGif;_1030&&_1030();}else{if(this.domNode.src===url){_1030&&_1030();}else{if(_1030){dojo.connect(this.domNode,"load",_1030);}this.domNode.style.display="";this.domNode.src=url;}}},onClick:function(e){var _1031=this.action,_1032=this.mxcontext,run,store;if("microflow" in _1031||"form" in _1031){store={caller:this.mxform};run=function(){mx.ui.execute(_1031,{context:_1032,store:store});};if(_1031.microflow&&_1031.microflow.validate=="view"){this.mxform.validate(run);}else{run();}}else{if(_1031.type=="enlarge"){if(!this._overlay){this._overlay=new mxui.widget.ImageZoom({src:this.domNode.src});}else{this._overlay.set("src",this.domNode.src);}this._overlay.show();}}dojo.stopEvent(e);},uninitialize:function(){this._overlay&&this._overlay.destroy();},_setWidthAttr:function(){},_setHeightAttr:function(){}});});},"mxui/widget/Image":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.Image");dojo.declare("mxui.widget.Image",mxui.widget.StaticImage,{path:"",defaultUrl:"",_xpath:"",_referred:"",postCreate:function(){this.inherited(arguments);if(this.path){var split=this.path.split("/"),_1033=split.pop();this._referred=!!split.length;this._xpath="//"+_1033;if(this._referred){this._xpath+="["+split.reverse().join("/")+"=[%CurrentObject%]]";}}},applyContext:function(_1034,_1035){this.mxcontext.mixin(_1034);var _1036=this.mxcontext.getTrackId();var error=function(e){mx.onError(e);_1035&&_1035();};if(!_1036){this.update(null,_1035);}else{if(this._referred){mx.data.get({xpath:this._xpath.replace("[%CurrentObject%]",_1036),callback:function(objs){this.update(objs[0],_1035);},error:error},this);}else{mx.data.get({guid:_1036,noCache:true,callback:function(obj){this.update(obj,_1035);},error:error},this);}}},update:function(obj,_1037){this.unsubscribeAll();if(obj){this.subscribe({guid:obj.getGuid(),callback:function(){this.update(obj);}});if(this._referred){this.subscribe({guid:this.mxcontext.getTrackId(),callback:function(){this.applyContext(this.mxcontext);}});}}this._setImage(obj,_1037);},_setImage:function(obj,_1038){var url=this.defaultUrl;if(obj&&obj.get("HasContents")){url=mx.appUrl;url+="file?guid="+obj.getGuid()+"&thumb="+this.thumb;url+="&changedDate="+obj.get("changedDate");}this.setUrl(url,_1038);}});});},"mxui/widget/ImageZoom":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.ImageZoom");dojo.declare("mxui.widget.ImageZoom",mxui.widget._WidgetBase,{src:"",_image:null,_offset:0,_content:null,buildRendering:function(){var $=mxui.dom.create;this.domNode=$("div",{"class":"mx-imagezoom"},$("div",{"class":"mx-imagezoom-wrapper"},this._image=$("img",{"class":"mx-imagezoom-image",src:this.src})));this._content=document.getElementById("content");this.connect(this.domNode,"click","hide");},show:function(){this._offset=window.pageYOffset;this._content.style.display="none";document.body.appendChild(this.domNode);},hide:function(e){document.body.removeChild(this.domNode);var self=this;setTimeout(function(){window.scrollTo(0,self._offset);self._content.style.display="";});},_setSrcAttr:function(src){this._image.src=this.src=src;}});});},"mxui/widget/LinkButton":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.LinkButton");dojo.declare("mxui.widget.LinkButton",[mxui.widget._Button,mxui.mixin._DynamicOptionHelper],{action:"",address:"",caption:"",subject:"",cc:"",bcc:"",body:"",_argNames:{email:["subject","cc","bcc","body"]},_target:"",_url:"",buildRendering:function(){this.inherited(arguments);this._target=(this.action=="open"?"_blank":"_self");},onClick:function(e){window.open(this._url,this._target);},refresh:function(_1039){this.updateOptions(["caption","address","subject","cc","bcc","body"],this._mxObject,function(_103a){var node=this.domNode;this.set("caption",_103a.caption?mxui.dom.escapeString(_103a.caption):"");this.setUrl(_103a);_1039&&_1039();});},setUrl:function(_103b){var _103c=_103b.address,url;switch(this.action){case "open":url=_103c;break;case "email":url="mailto:"+window.escape(_103c);break;case "call":url="tel:"+window.escape(_103c);break;case "text":url="sms:"+window.escape(_103c);break;default:throw new Error(this.id+".setUrl : invalid action");}var _103d=[],_103e=this._argNames[this.action];if(_103e){for(var i=0,_103f;_103f=_103e[i];++i){var val=_103b[_103f];if(val){_103d.push(_103f+"="+window.escape(val));}}if(_103d.length>0){url+="?"+_103d.join("&");}}this._url=url;}});});},"mxui/widget/ListView":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.ListView");dojo.declare("mxui.widget.ListView",mxui.widget._WidgetBase,{constraint:"",datasource:null,page:5,search:null,action:null,sort:null,selection:null,selectable:"",_entity:"",_doUpdate:false,_itemList:null,_selected:null,_loadButton:null,_clearButton:null,_searchNode:null,_listNode:null,_emptyNode:null,_loadNode:null,_datasource:null,_searchTimeout:null,buildRendering:function(){var $=mxui.dom.create;this._loadButton=new mxui.widget.Button({caption:this.translate("load_more"),iconClass:"glyphicon glyphicon-repeat",onClick:dojo.hitch(this,"loadMore")});this.domNode=$("div",{"class":"mx-listview"},this._listNode=$("ul",{"class":"mx-list mx-list-striped mx-listview-list"}),this._loadButton.domNode);this._emptyNode=$("li",{"class":"mx-listview-empty"},$("label",this.translate("no_items")));this._loadNode=$("li",{"class":"mx-listview-loading"},$("img",{src:require.toUrl("mxui/ui/widget/images/loading.gif")}));if(this.search){this._clearButton=new mxui.widget.Button({iconClass:"glyphicon glyphicon-refresh",onClick:dojo.hitch(this,"clearSearchNode"),"class":"mx-listview-clear-button"});dojo.place($("div",{"class":"mx-listview-searchbar clearfix"},this._clearButton.domNode,$("div",{"class":"mx-listview-search-input"},this._searchNode=$("input",{type:"text",placeholder:this.translate("search"),"class":"form-control"}))),this.domNode,"first");this.connect(this._searchNode,"keyup","searchKeyDown");}},postCreate:function(){if(this.constraint){this.datasource.constraint=this.constraint;}this.createSource();this._itemList=[];if(this.selectable){var _1040=this.selection,_1041=this._selected={};for(var i=0,guid;guid=_1040[i];i++){_1041[guid]=1;}this.mxform.setReturnValue("selection",_1040);}},resume:function(){if(this._doUpdate){this.update();this._doUpdate=false;}},update:function(obj,_1042){if(this.get("suspended")){this._doUpdate=true;_1042&&_1042();}else{mxui.dom.orphan(this._emptyNode);this.loadData(_1042);}},createSource:function(){var _1043=this.datasource,split;switch(_1043.type){case "xpath":split=_1043.path.split("/");this._entity=split.pop();split.shift();this._datasource=new mendix.lib.SimpleXPathSource({context:this.mxcontext,page:this.page,sortparams:this.sort,entity:this._entity,path:split,constraint:_1043.constraint});break;case "entityPath":split=_1043.path.split("/");this._entity=split.pop();this._datasource=new mendix.lib.EntityPathSource({context:this.mxcontext,page:this.page,path:_1043.path});break;case "microflow":this._entity=_1043.entity;this._datasource=new mendix.lib.MicroflowSource({context:this.mxcontext,page:this.page,microflow:_1043.microflow});break;default:throw new Error(this.id+".createSource : could not create datasource");}this.subscribe({entity:this._entity,callback:function(){this.update();}});},loadData:function(_1044){this._datasource.first();this.sequence(["sourceReload","renderData","addLoadButton"],_1044);},loadMore:function(){mxui.dom.orphan(this._loadButton.domNode);this._listNode.appendChild(this._loadNode);this.sequence(["sourceNext","renderData","addLoadButton"]);},clearData:function(from){from=from||0;var _1045=this._itemList;for(var i=from,item;item=_1045[i];i++){item.set("suspended",true);mxui.dom.orphan(item.domNode);}},sourceReload:function(_1046){this._datasource.reload(_1046);},sourceNext:function(_1047){this._datasource.next(_1047);},renderData:function(_1048){var _1049=this._datasource,_104a=_1049.getOffset(),objs=_1049.getObjects(),count=_1049.getSetSize(),chain=[],_104b=this._listNode,_104c=this._itemList,_104d=this._selected,_104e=this._loadNode;mxui.dom.orphan(_104e);if(count===0){this.clearData();_104b.appendChild(this._emptyNode);}else{this.clearData(_104a+objs.length);for(var i=0,obj;obj=objs[i];i++,_104a++){var item=_104c[_104a];if(!item){item=_104c[_104a]=new mxui.widget.ListViewItem({listview:this,mxform:this.mxform,template:this.getTemplate("content"),action:this.action,selectable:this.selectable});_104b.appendChild(item.domNode);item.startup();}else{item.set("suspended",false);_104b.appendChild(item.domNode);}if(_104d){var _104f=obj.getGuid() in _104d;item[_104f?"select":"deselect"]();if(_104f&&this.selectable=="single"){this._selectedItem=item;}}var _1050=new mendix.lib.MxContext({mxcontext:this.mxcontext});_1050.setObject(obj);chain.push(dojo.partial(function(item,_1051,cb){item.applyContext(_1051,function(){item.set("suspended",false);cb();});},item,_1050));}}this.collect(chain,_1048);},addLoadButton:function(_1052){if(!this._datasource.atEnd()){this.domNode.appendChild(this._loadButton.domNode);}else{mxui.dom.orphan(this._loadButton.domNode);}mendix.lang.nullExec(_1052);},searchKeyDown:function(){var self=this,_1053=this._datasource;this._clearButton.set("iconClass","glyphicon "+(this._searchNode.value?"glyphicon-remove":"glyphicon-refresh"));clearTimeout(this._searchTimeout);this._searchTimeout=setTimeout(function(){_1053.setConstraints(self._getSearchConstraint());self.update();},500);},_getSearchConstraint:function(){if(this.search){var value=this._searchNode.value,_1054=[],_1055=this.search.attributes,_1056=this.search.method;if(value){for(var i=0,attr;attr=_1055[i];++i){_1054.push(_1056+"("+attr+",'"+value+"')");}return "["+_1054.join(" or ")+"]";}}return "";},clearSearchNode:function(){clearTimeout(this._searchTimeout);this._clearButton.set("iconClass","glyphicon glyphicon-refresh");this._searchNode.value="";this._datasource.setConstraints("");this.update();},saveSelection:function(){this.mxform.setReturnValue("selection",mendix.lang.objectToArray(this._selected));},selectItem:function(item){var guid=item.getGuid();item.select();if(this.selectable=="single"){var _1057=this._selectedItem;_1057&&_1057.deselect();this._selectedItem=item;this.mxform.setReturnValue("selection",[guid]);}else{this._selected[guid]=1;this.saveSelection();}},deselectItem:function(item){var guid=item.getGuid();item.deselect();if(this.selectable=="single"){this.mxform.setReturnValue("selection",[]);}else{delete this._selected[guid];this.saveSelection();}},shareSelected:function(item){var _1058=new mendix.lib.MxContext(),guid=item.getGuid();_1058.setTrackEntity(this._entity);_1058.setContext(this._entity,guid||null);dojo.publish(mx.ui.makeShareId(this.mxform,this.mxid),[_1058]);},uninitialize:function(){var list=this._itemList;while(list.length){var item=list.pop();item.domNode&&item.destroy();}this._datasource.destroy();}});dojo.declare("mxui.widget.ListViewItem",mxui.widget._WidgetBase,{listview:null,template:null,action:null,selectable:"",_selected:false,_checknode:null,buildRendering:function(){var $=mxui.dom.create,node=this.domNode=$("li",{"class":"mx-listview-item"}),_1059=this.selectable;if(_1059){node.appendChild($("#",$("div",{"class":"mx-listview-selection"},this._checknode=_1059=="multi"?$("input",{type:"checkbox"}):$("input",{type:"radio"})),$("div",{"class":"mx-listview-content"},this.template||"")));}else{if(this.template){node.appendChild(this.template);}}this.connect(this.domNode,"click","onClick");},startup:function(){this.parseContent(this.domNode,{schema:""});},select:function(){dojo.addClass(this.domNode,"selected");this._checknode.checked=true;this._selected=true;},deselect:function(){dojo.removeClass(this.domNode,"selected");this._checknode.checked=false;this._selected=false;},getGuid:function(){return this.mxcontext.getTrackId();},onClick:function(){if(this.selectable){this.listview[this._selected?"deselectItem":"selectItem"](this);}else{if(this.action){var self=this,obj=this.mxcontext.getObject(),_105a=this.action,_105b=new mendix.lib.MxContext();var run=function(){mx.ui.execute(_105a,{context:_105b},self);self.listview.shareSelected(self);};_105b.mixin(this.mxcontext);_105b.setTrackObject(null);if(_105a.microflow&&_105a.microflow.validate){this.mxform.validate(run);}else{run();}}}this.listview.shareSelected(this);}});});},"mxui/widget/MenuBar":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.MenuBar");dojo.declare("mxui.widget.MenuBar",mxui.widget._WidgetBase,{menuID:"",orientation:"horizontal",_active:null,buildRendering:function(){var $=mxui.dom.create,items=mx.ui.getMenu(this.menuID),list;this.domNode=$("div",{"class":"mx-menubar mx-menubar-"+this.orientation},list=$("ul",{"class":"nav nav-pills mx-menubar-list"}));if(this.orientation=="vertical"){dojo.addClass(list,"nav-stacked");}dojo.forEach(items,function(item,i){var _105c=$("a",{href:"#"}," "+item.caption);if(item.icon){dojo.place($("img",{"class":"mx-menubar-icon",src:mx.appUrl+item.icon}),_105c,"first");}this.connect(_105c,"click",dojo.partial(this.onClick,item.action,i));list.appendChild($("li",{"class":"mx-menubar-item"},_105c));},this);},onClick:function(_105d,index,e){var run=function(){if(this._active){dojo.removeClass(this._active,"active");}this._active=e.target.parentNode;dojo.addClass(this._active,"active");mx.ui.execute(_105d);};if(_105d.microflow&&_105d.microflow.validate=="view"){this.mxform.validate(dojo.hitch(this,run));}else{run();}dojo.stopEvent(e);}});});},"mxui/widget/NavigationList":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.NavigationList");dojo.declare("mxui.widget.NavigationList",mxui.widget._WidgetBase,{buildRendering:function(){this.domNode=mxui.dom.create("ul",{"class":"mx-list mx-navigationlist"},this.getTemplate("content"));},startup:function(){this.parseContent(this.domNode,{readOnly:true});}});dojo.declare("mxui.widget.NavigationListItem",mxui.widget._WidgetBase,{action:null,buildRendering:function(){this.domNode=mxui.dom.create("li",{"class":"mx-navigationlist-item"},this.getTemplate("content"));if(this.action){this.connect(this.domNode,"click","onClick");}},startup:function(){this.parseContent(this.domNode,{readOnly:true});},onClick:function(guid){var self=this;var run=function(){mx.ui.execute(self.action,{context:self.mxcontext});};if(this.action.microflow&&this.action.microflow.validate=="view"){this.mxform.validate(run);}else{run();}}});});},"mxui/widget/NewButton":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.NewButton");dojo.declare("mxui.widget.NewButton",mxui.widget._Button,{form:null,entity:"",onClick:function(e){var pid=mx.ui.showProgress();mx.data.create({entity:this.entity,callback:function(obj){var _105e=new mendix.lib.MxContext();_105e.setContext(obj);mx.ui.execute({form:this.form},{context:_105e});mx.ui.hideProgress(pid);},error:function(e){mx.ui.hideProgress(pid);mx.onError(e);}},this);}});});},"mxui/widget/ReferenceSelector":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.ReferenceSelector");dojo.declare("mxui.widget.ReferenceSelector",[mxui.widget._WidgetBase,mxui.mixin._ValidationHelper],{attributePath:"",sort:null,constraint:"",constrainedBy:null,dataSourceMicroflow:"",selectForm:null,gotoForm:null,events:null,useContext:false,contextAction:"",preserveTrackObject:true,_mxObject:null,_readNode:null,_editNode:null,_inputPane:null,_gotoButton:null,_assoc:"",_entity:"",_attr:"",_constraint:"",_datasource:null,_objsubs:null,postMixInProperties:function(){dojo.mixin(this,this.selectForm?mxui.widget._ReferenceInput:mxui.widget._ReferenceSelect);},postCreate:function(){var path=this.attributePath.split("/");this.constrainedBy=this.constrainedBy||[];this._assoc=path[1];this._entity=path[2];this._attr=path[3];this.mxcontext.setConstraints(this.constrainedBy);if(this.dataSourceMicroflow){this._datasource=new mendix.lib.MicroflowSource({microflow:this.dataSourceMicroflow,context:this.mxcontext,page:1000});}else{this._datasource=new mendix.lib.XPathSource({entity:this._entity,context:this.mxcontext,useContext:this.useContext,sortparams:this.sort,attributes:[this._attr],page:1000});}this._objsubs=[];},onChange:function(){var ev=this.events&&this.events.change;ev&&this.validatedMicroflow(ev);},update:function(obj,_105f){this._mxObject=obj;this.setValidationObject(obj);this._removeObjectSubscriptions();if(obj){this._constraint=this.constraint.replace("[%CurrentObject%]",obj.getGuid());this._addObjectSubscriptions();}this.updateDisabled();this.updateObject(obj,_105f);},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._assoc));},renderObject:function(_1060){var obj=this._mxObject,ref=obj&&obj.get(this._assoc);if(ref){mx.data.fetch(obj,[this._assoc,this._entity],{usexpath:true},dojo.hitch(this,function(obj){if(obj&&this._mxObject&&this._mxObject.getReference(this._assoc)==obj.getGuid()){this.setValue(obj);}_1060&&_1060();}),function(e){mx.onError(e);_1060&&_1060();});}else{this.setValue(null);_1060&&_1060();}},setTextValue:function(obj){var value=obj?mx.parser.formatAttribute(obj,this._attr):"";if(value){mxui.dom.text(this._readNode,value);}else{this._readNode.innerHTML="&nbsp;";}if(this._gotoButton){this._gotoButton.set("disabled",!obj);}},openGotoForm:function(){var obj=this._mxObject,ref=obj&&obj.get(this._assoc);if(ref){var _1061=new mendix.lib.MxContext();_1061.mixin(this.mxcontext);_1061.setContext(this._entity,ref);_1061.setTrackObject(null);mx.ui.execute({form:this.gotoForm},{context:_1061});}},_getValueAttr:function(){return this._editNode.value;},_createGoToButton:function(){var _1062=this._gotoButton=new mxui.widget.Button({"class":"mx-referenceselector-goto-button",iconClass:"glyphicon glyphicon-eye-open"});this.connect(_1062,"onClick","openGotoForm");return _1062.domNode;},_addObjectSubscriptions:function(){var obj=this._mxObject,ref;var _1063=function(){this.removeError();this.updateObject(obj);};this._objsubs.push(this.subscribe({guid:obj.getGuid(),callback:_1063}));this._objsubs.push(this.subscribe({guid:obj.getGuid(),attr:this._assoc,callback:this.selectForm?_1063:function(){this.removeError();if(this.get("suspended")){return;}var value=obj.get(this._assoc),found=!value||this._datasource.getObject(value);if(found){this.renderObject();}else{this.renderSet();}}}));ref=obj.getReference(this._assoc);if(ref){this._objsubs.push(this.subscribe({guid:ref,attr:this._attr,callback:_1063}));}},_removeObjectSubscriptions:function(){var subs=this._objsubs;while(subs.length>0){this.unsubscribe(subs.shift());}}});mxui.widget._ReferenceSelect={_subs:null,buildRendering:function(){var $=mxui.dom.create,_1064=this._editNode=$("select",{"class":"form-control"}),_1065=this._readNode=$("label");this.connect(_1064,"change",function(){var value=this.get("value");if(this.isValid()&&this._mxObject.get(this._assoc)!=value){this._mxObject.set(this._assoc,value);if(this._gotoButton){this._gotoButton.set("disabled",!value);}this.onChange();}});var _1066;this.domNode=$("div",{"class":"mx-referenceselector"},_1066=$("div",{"class":"mx-referenceselector-input-wrapper"},_1064));if(this.gotoForm){dojo.place(this._createGoToButton(),_1066,"before");}this._inputPane=_1066;},startup:function(){this.setupValidation(this._assoc);},enable:function(){var self=this;this.renderSet(function(){self._inputPane.replaceChild(self._editNode,self._readNode);});},disable:function(){var self=this;this.renderObject(function(){self._inputPane.replaceChild(self._readNode,self._editNode);});},setValue:function(obj){this._editNode.value=obj?obj.getGuid():"";this.setTextValue(obj);},updateObject:function(obj,_1067){if(!this.get("suspended")){this.subscribeConstraints();if(this.get("disabled")){this.renderObject(_1067);}else{this.renderSet(_1067);}}else{_1067&&_1067();}},renderSet:function(_1068){var self=this,obj=this._mxObject,_1069=this._datasource,_106a=obj&&obj.get(self._assoc),_106b=false;var _106c=function(objs){self.renderOptions(objs);_1068&&_1068();};if(obj){if(_1069.setConstraints){_1069.setConstraints(this._constraint);}_1069.reload(function(){_106c(_1069.getObjects());if(_106a){var objs=_1069.getObjects();for(var i=0,obj;obj=objs[i];i++){if(_106a===obj.getGuid()){self._editNode.value=_106a;_106b=true;break;}}if(!_106b){self._mxObject.set(self._assoc,"");self.onChange();}}});}else{_106c();}if(this._gotoButton){this._gotoButton.set("disabled",!_106b);}},renderOptions:function(objs){var $=mxui.dom.create,node=this._editNode;objs=objs||[];mxui.dom.empty(node);node.appendChild($("option",{value:""},""));for(var i=0,obj;obj=objs[i];i++){node.appendChild($("option",{value:obj.getGuid()},mx.parser.formatAttribute(obj,this._attr)||""));}},subscribeConstraints:function(){var _106d=this.constrainedBy;if(!_106d){return;}if(this._subs){while(this._subs.length){this.unsubscribe(this._subs.shift());}this._subs=null;}if(this._mxObject){for(var i=0,len=_106d.length;i<len;++i){var path=_106d[i].split("/");if(path[1]){this.subscribe({guid:this._mxObject.getGuid(),attr:path[1],callback:function(){this.updateObject(this._mxObject);}});}}}}};mxui.widget._ReferenceInput={_selectButton:null,buildRendering:function(){var $=mxui.dom.create;var _106e=this._readNode=$("label"),_106f=this._editNode=$("input",{type:"text",readonly:"readonly","class":"form-control"});var _1070=this._selectButton=new mxui.widget.Button({"class":"mx-referenceselector-select-button",iconClass:"glyphicon glyphicon-share-alt"});this.connect(_1070,"onClick","openSelectForm");if(mx.ui.getProfile()=="desktop"){this.connect(_106f,"keypress","_onKeyPress");}else{this.connect(_106f,"click","openSelectForm");}this.connect(_1070.domNode,"keypress","_onKeyPress");this.domNode=$("div",{"class":"mx-referenceselector"},_1070.domNode,this._inputPane=$("div",{"class":"mx-referenceselector-input-wrapper"},_106f));if(this.gotoForm){dojo.place(this._createGoToButton(),_1070.domNode,"before");}},startup:function(){this.setupValidation(this._assoc);},enable:function(){dojo.place(this._selectButton.domNode,this.domNode,"first");this._readNode.parentNode.replaceChild(this._editNode,this._readNode);},disable:function(){this.domNode.removeChild(this._selectButton.domNode);this._editNode.parentNode.replaceChild(this._readNode,this._editNode);},setValue:function(obj){this._editNode.value=obj?mx.parser.formatAttribute(obj,this._attr):"";this.setTextValue(obj);},updateObject:function(obj,_1071){this.renderObject(_1071);},openSelectForm:function(){var ref=this._mxObject.get(this._assoc);mx.ui.execute({form:this.selectForm},{context:new mendix.lib.MxContext({mxcontext:this.mxcontext}),params:{selection:ref?[ref]:[],selectable:"single",constraint:this._constraint},callback:function(form){form.listen("save",dojo.hitch(this,function(_1072){var sel=form.getReturnValue("selection"),ref;if(sel){ref=sel.length===0?"":sel[0];if(this._mxObject.getReference(this._assoc)!=ref){this._mxObject.set(this._assoc,ref);this.renderObject();this.onChange();}}else{logger.error(this.id+" form return value 'selection' does not exist");}_1072();}));}},this);},_onKeyPress:function(e){if(e.keyCode==dojo.keys.DELETE){if(this.get("disabled")||(e.ctrlKey&&e.shiftKey)){return;}dojo.stopEvent(e);if(!this.get("value")){return;}var self=this;mx.ui.confirmation({content:this.translate("clean_confirmation"),handler:function(){self._mxObject.set(self._assoc,"");}});}}};});},"mxui/widget/InputReferenceSetSelector":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.InputReferenceSetSelector");dojo.declare("mxui.widget.InputReferenceSetSelector",[mxui.widget._WidgetBase,mxui.mixin._ValidationHelper],{attributePath:"",constraint:"",constrainedBy:null,selectForm:"",events:null,_mxObject:null,_readNode:null,_editNode:null,_selectButton:null,_subscription:null,_assoc:"",_entity:"",_attr:"",_constraint:"",postCreate:function(){var path=this.attributePath.split("/");this.constrainedBy=this.constrainedBy||[];this._assoc=path[1];this._entity=path[2];this._attr=path[3];},buildRendering:function(){var $=mxui.dom.create;var _1073=this._readNode=$("label"),_1074=this._editNode=$("input",{type:"text",readonly:"readonly","class":"form-control"});var _1075=this._selectButton=new mxui.widget.Button({"class":"mx-referencesetselector-select-button",iconClass:"glyphicon glyphicon-share-alt"});this.connect(_1075,"onClick","openSelectForm");this.connect(_1074,"click","openSelectForm");this.domNode=$("div",{"class":"mx-referencesetselector"},_1075.domNode,$("div",{"class":"mx-referencesetselector-input-wrapper"},this._editNode));},startup:function(){this.setupValidation(this._assoc);},onChange:function(){var ev=this.events&&this.events.change;ev&&this.validatedMicroflow(ev);},enable:function(){dojo.place(this._selectButton.domNode,this.domNode,"first");this._readNode.parentNode.replaceChild(this._editNode,this._readNode);},disable:function(){this.domNode.removeChild(this._selectButton.domNode);this._editNode.parentNode.replaceChild(this._readNode,this._editNode);},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._assoc));},update:function(obj,_1076){this._mxObject=obj;this.setValidationObject(obj);var _1077=function(_1078){this.updateDisabled();this.renderObject(_1078);};if(this._subscription){this.unsubscribe(this._subscription);}if(obj){this._constraint=this.constraint.replace("[%CurrentObject%]",obj.getGuid());this._subscription=this.subscribe({guid:obj.getGuid(),attr:this._assoc,callback:dojo.hitch(this,_1077,null)});}_1077.call(this,_1076);},renderObject:function(_1079){var self=this,obj=this._mxObject,refs=obj&&obj.get(this._assoc);var _107a=function(val){self.setValue(val||"");_1079&&_1079();};if(refs&&refs.length){mx.data.get({guids:refs,callback:function(objs){var _107b=[];for(var i=0,obj;obj=objs[i];i++){_107b.push(mx.parser.formatAttribute(obj,this._attr));}_107a(_107b.join(", "));},error:function(e){mx.onError(e);_1079&&_1079();}},this);}else{_107a();}},openSelectForm:function(){mx.data.getBacktrack(this._mxObject.getGuid(),this.constrainedBy,function(_107c,_107d){mx.ui.execute({form:this.selectForm},{params:{selection:this._mxObject.get(this._assoc),selectable:"multi",constraint:_107d?_107c+this._constraint:"[0=1]"},callback:function(form){form.listen("save",dojo.hitch(this,function(_107e){var refs=form.getReturnValue("selection");if(refs){this._mxObject.set(this._assoc,refs);this.renderObject();this.onChange();}else{logger.error(this.id+" form return value 'selection' does not exist");}_107e();}));}},this);},function(e){mx.onError(e);},this);},setValue:function(value){this._editNode.value=value;if(value){mxui.dom.text(this._readNode,value);}else{this._readNode.innerHTML="&nbsp;";}}});});},"mxui/widget/FileInput":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.FileInput");dojo.declare("mxui.widget.FileInput",mxui.widget._WidgetBase,{input:null,maxFileSize:0,restrictions:"",accept:"",uploadable:false,downloadable:false,target:"internal",_allowedExts:null,_labelNode:null,_uploadButton:null,_formNode:null,_rowNode:null,_errNode:null,_hasError:false,_selectState:"none",_emptyLabel:"...",buildRendering:function(){var $=mxui.dom.create,_107f=mx.ui.getProfile()==="desktop";if(_107f){this._sendFile=this._sendFileReal;}this.domNode=$("div",{"class":"mx-fileinput"});if(this.uploadable){if(_107f){var _1080=this._uploadButton=new mxui.widget.Button({caption:mx.ui.translate("mxui.widget.MxFormView","upload"),cssClasses:["mx-fileinput-upload-button"]});this.domNode.appendChild($("#",this._labelNode=$("input",{"class":"form-control mx-wrapped-label",type:"text",readonly:"readonly",value:this._emptyLabel})," ",this._formNode=$("form",{"class":"mx-wrapped-form",enctype:"multipart/form-data",method:"POST"},this.input=$("input",{"class":"mx-wrapped-input",type:"file",name:"mxdocument",accept:this.accept,tabindex:-1}),_1080.domNode)));this.connect(this._uploadButton.domNode,"focus",function(){dojo.addClass(this._labelNode,"mx-focus");});this.connect(this._uploadButton.domNode,"blur",function(){dojo.removeClass(this._labelNode,"mx-focus");});this.connect(this._labelNode,"click",function(){dijit.focus(this._uploadButton.domNode);});this.connect(this._formNode,"keyup",function(e){if(e.keyCode==dojo.keys.DELETE||e.keycode==dojo.keys.BACKSPACE){this._reset();dojo.stopEvent(e);}});}else{this.domNode.appendChild(this._formNode=$("form",{"class":"mx-normal-form",enctype:"multipart/form-data",method:"POST"},this.input=$("input",{type:"file",name:"mxdocument",accept:this.accept})));}this.connect(this._formNode,"submit",function(){return false;});this.connect(this.input,"click",function(){this._selectState="selecting";});this.connect(this.input,"change","_handleFileSelected");}if(this.downloadable){var _1081=this._downloadButton=new mxui.widget.Button({caption:mx.ui.translate("mxui.widget.MxFormView","download"),onClick:dojo.hitch(this,"_handleDownloadClick"),cssClasses:["mx-fileinput-download-button"],disabled:true});this.domNode.appendChild($("#"," ",_1081.domNode));}},postCreate:function(){this._allowedExts=this.restrictions.toLowerCase().split(";");this.listen("save",this._sendFile);},startup:function(){var node=this.domNode.parentNode;if(node.nodeName=="TD"){this._rowNode=node.parentNode;}},update:function(obj,_1082){this._mxObject=obj;this._reset();this.set("disabled",!obj);_1082&&_1082();},updateDisabled:function(){this.inherited(arguments);var value=this.checkDisabled();if(this.uploadable){if(this._uploadButton){this._uploadButton.set("disabled",value);}if(value){this.input.setAttribute("disabled","disabled");}else{this.input.removeAttribute("disabled");}}if(this._downloadButton){var obj=this._mxObject;this._downloadButton.set("disabled",!obj||!obj.get("HasContents"));}},addError:function(msg){this.removeError();if(msg){this._errNode=mxui.dom.create("div",{"class":"alert alert-danger"},msg);this.domNode.parentNode.appendChild(this._errNode);this.mxform.resize();}if(this._rowNode){dojo.addClass(this._rowNode,"error");}if(this.validator){this.validator.addNotification();}},removeError:function(){var error=this._errNode;if(error){error.parentNode.removeChild(error);this._errNode=null;}if(this._rowNode){dojo.removeClass(this._rowNode,"error");}if(this.validator&&this._hasError){this.validator.removeNotification();this._hasError=false;}},checkDisabled:function(){return this.inherited(arguments)||!this._mxObject;},isValidFile:function(){return this.input.value&&this.isValidSize()&&this.isValidExtension();},isValidSize:function(){return !this.input.files||!this.maxFileSize||this.getFileSize()<=this.maxFileSize;},getFileSize:function(){return this.input.files[0].size/1048576;},isValidExtension:function(){if(this.restrictions===""){return true;}var _1083=this.input.value;var _1084=_1083.lastIndexOf(".");var _1085=_1083.substring(_1084+1).toLowerCase();return _1084>=0&&dojo.indexOf(this._allowedExts,_1085)>=0;},uninitialize:function(){this._uploadButton&&this._uploadButton.destroy();this._downloadButton&&this._downloadButton.destroy();},_handleDownloadClick:function(e){this._downloadFile();dojo.stopEvent(e);},_handleFileSelected:function(e){this._selectState="selected";if(!this.input.value){this.removeError();if(this._labelNode){this._labelNode.value=this._emptyLabel;}}else{if(!this.isValidExtension()){this.addError(mx.ui.translate("mendix.widget.MxFileinput","incorrect_extension",this.restrictions.replace(/;/g,", ")));}else{if(!this.isValidSize()){this.addError(mx.ui.translate("mendix.widget.MxFileinput","file_too_large",[this.getFileSize().toFixed(2),this.maxFileSize.toString()]));}else{this.removeError();if(this._labelNode){this._labelNode.value=this.input.value.replace(/^.*\//,"");}}}}},_reset:function(){this.removeError();if(this._formNode){this._formNode.reset();}if(this._labelNode){this._labelNode.value=this._emptyLabel;}},_sendFile:function(_1086){var self=this,ready=function(){return self._selectState!=="selecting";};var pid=mx.ui.showProgress();mendix.lang.waitUntilPredicateHolds(ready,function(){mx.ui.hideProgress(pid);self._sendFileReal(_1086);},[100,200,500,500,500,500]);},_sendFileReal:function(_1087){if(this._selectState==="none"||this.input.value===""||!this.isValidFile()){_1087();return;}var self=this,pid;var _1088=new mendix.lib.Upload({form:this._formNode,width:this.thumbnailWidth,height:this.thumbnailHeight,objectGuid:this._mxObject.getGuid(),maxFileSize:this.maxFileSize,callback:function(){self._selectState="none";self._getObject(_1087,function(e){logger.error(this.id+"._sendFileReal: "+e.message);mx.onError(e);});},error:function(e){self._selectState="selected";if(e){logger.error(self.id+"._sendFileReal: "+e.message);mx.onError(e);}else{logger.error(self.id+"._sendFileReal: upload error");mx.onError(new mendix.lib.ConnectionError("Connection error"));}},startUpload:function(){pid=mx.ui.showProgress();},showProgress:function(_1089){},finishUpload:function(){mx.ui.hideProgress(pid);}});_1088.upload();},_getObject:function(_108a,error){mx.data.get({guid:this._mxObject.getGuid(),noCache:true,callback:_108a,error:error});},_downloadFile:function(){if(this._mxObject){mx.ui.downloadFile({mxobject:this._mxObject,target:this.target});}}});});},"mxui/widget/ImageUploader":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.ImageUploader");dojo.declare("mxui.widget.ImageUploader",[mxui.widget.FileInput],{thumbnailWidth:100,thumbnailHeight:75,uploadable:true,accept:"image/*"});});},"mxui/widget/PrimitiveWidgetWrapper":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.widget.PrimitiveWidgetWrapper");dojo.declare("mxui.widget.PrimitiveWidgetWrapper",[mxui.widget._WidgetBase,mxui.mixin._ValidationHelper],{widget:null,_mxobject:null,buildRendering:function(){var $=mxui.dom.create,_108b=this.widget,_108c=_108b.domNode.parentNode;this.domNode=$("div",_108b.domNode);_108c.appendChild(this.domNode);this.connect(_108b,"onChange",this.onChange);},startup:function(){this.widget.startup();},update:function(obj,_108d){var self=this,_108e=this.widget,name=_108e.name;this._mxobject=obj;var _108f=function(){_108e.applyContext(self.mxcontext,_108d);};if(name){if(obj){mx.data.fetch(obj,name,{usexpath:true},function(value){_108e.set("value",value);_108f();},function(e){mx.onError(e);_108d&&_108d();});}else{_108e.set("value","");_108f();}}else{logger.error(this.id+".update: wrapped widget does not have name property");_108f();}},enable:function(){var node=this.widget.domNode,_1090=node.nodeName;if(_1090=="SELECT"||(_1090=="INPUT"&&node.type=="checkbox")){node.disabled=false;}else{if(_1090=="INPUT"||_1090=="TEXTAREA"||_1090=="BUTTON"){node.removeAttribute("readonly");node.readOnly=false;}}dojo.removeClass(node,"MxClient_formDisabled");},disable:function(){var node=this.widget.domNode,_1091=node.nodeName;if(_1091=="SELECT"||(_1091=="INPUT"&&node.type=="checkbox")){node.disabled=true;}else{if(_1091=="INPUT"||_1091=="TEXTAREA"||_1091=="BUTTON"){node.setAttribute("readonly","true");node.readOnly=true;}}dojo.addClass(node,"MxClient_formDisabled");},onChange:function(){this._mxobject.set(this.widget.get("name"),this.widget.get("value"));},validate:function(){var value=this.get("value"),_1092=this.widget;if(value===null){return _1092.getInvalidCause?_1092.getInvalidCause():"Invalid input";}if(value===""&&_1092.obligatory){return _1092.obligatorycause||mx.ui.translate("mendix.lib.Validations","required_field");}},_setValueAttr:function(value){return this.widget.set("value",value);},_getValueAttr:function(){return this.widget.get("value");}});});},"mxui/sys/UI":function(){define(["dojo","dijit","dojox","dojo/i18n!dojo/cldr/nls/number","dojo/i18n!dojo/cldr/nls/gregorian","dojo/require!mxui/io/iframe,mxui/cldr/supplemental"],function(dojo,dijit,dojox){dojo.provide("mxui.sys.UI");dojo.require("mxui.io.iframe");dojo.require("mxui.cldr.supplemental");mxui.sys.UI=function(_1093){_1093=_1093||{};var self=this,name="mxui.sys.UI",_1094=false,_1095=false,_1096=null,login=null,_1097=null,_1098=null,_1099=null,_109a=null,_109b=null,_109c={},_109d={},_109e={},isRtl=false,_109f="en_US",_10a0=null,menus=null,_10a1="",_10a2="desktop",_10a3="Mendix 5",_10a4=[],_10a5=false,_10a6=new mxui.lib.WindowManager();var _10a7={buddhist:/th$/,hebrew:null,islamic:null};var _10a8=function(_10a9){dojo.addOnLoad(function(){isRtl=document.body.dir.toLowerCase()=="rtl";_1096=document.getElementById("content");if(!_1096){mx.ui.exception("You are using an outdated index template. Please update your index template.");return;}dojo.connect(window,"resize",dojo.hitch(self,"resize"));_10a9();});};var _10aa=function(_10ab){var bust=mx.server.getCacheBust(),url="widgets/widgets.js";mxui.dom.addCss("widgets/widgets.css?"+bust);dojo.registerModulePath("widgets","../../widgets");mx.server.get({url:url,handleAs:"text",failOk:true,load:function(_10ac){dojo["eval"](_10ac+"\r\n//@ sourceURL="+url);_10ab();},error:function(){var _10ad=mx.session.getConfig("uiconfig.widgets");for(var i=0,_10ae;_10ae=_10ad[i];i++){var split=_10ae.split(".");dojo.registerModulePath(split[0],mx.modulePath+split[0]);try{dojo["require"](_10ae);}catch(e){logger.error(name+".getWidgets: failed loading widget "+_10ae);}}_10ab();}});};var _10af=function(_10b0){var _10b1=mx.session.getConfig("uiconfig.modules");for(var i=0,_10b2;_10b2=_10b1[i];i++){try{dojo["require"](_10b2+"."+_10b2);}catch(e){logger.error(name+".getModules: failed loading module "+_10b2);}}_10b0();};var _10b3=function(){_10a4=dojo.map(mx.session.getUserRoles("Name"),function(role){return "role-"+role.toLowerCase();});dojo.addClass(document.body,_10a4);dojo.addClass(document.body,"profile-"+_10a2);document.title=_10a3;};var _10b4=function(){dojo.removeClass(document.body,_10a4);dojo.removeClass(document.body,"profile-"+_10a2);_10a4=[];document.title="";};var _10b5=function(_10b6){if(_1095){_10b6();}else{dojo.connect(mx,"onError",function(e){var msg;if(e instanceof mendix.lib.DescribedServerError){msg=e.message;}else{if(e instanceof mendix.lib.ConnectionError){msg=self.translate("mxui.sys.UI","connection_error");}else{if(e instanceof mendix.lib.ServerError){msg=self.translate("mxui.sys.UI","internal_error");}else{msg=self.translate("mxui.sys.UI","internal_error");}}}_1097&&_1097.hide();_1097=self.exception(msg);logger.error(e);});_10b7();mendix.lang.collect([_10aa,_10af,_10a8],_10b6);}};var _10b8=function(){for(var m in _10a7){var re=_10a7[m];if(re&&re.test(dojo.locale.toLowerCase())){return m;}}return "";};var _10b9=function(){var _10ba=_10b8();if(_10ba){_10a1="dojox.date."+_10ba;dojo["require"](_10a1);dojo["require"](_10a1+".locale");dojo["requireLocalization"]("dojo.cldr",_10ba);}};var _10bb=function(){dojo.requireLocalization("dojo.cldr","number");dojo.requireLocalization("dojo.cldr","gregorian");_10b9();};var _10b7=function(){if(dojo.isIE){if(JSON.stringify(document.createElement("input").value)==="\"null\""){var _10bc=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value").get;Object.defineProperty(HTMLInputElement.prototype,"value",{get:function(){var value=_10bc.call(this);return value===""?"":value;}});}dojo.connect(document,"onclick",function(e){var node=e.target;if(node.nodeName=="TEXTAREA"||node.nodeName=="INPUT"&&(node.type=="text"||node.type=="password")){if(document.activeElement!=node){var sel=mxui.dom.getSelection(node);try{node.focus();}catch(e){}mxui.dom.selectTextRange(node,sel.start,sel.end);}}if(dojo.isIE<=8){if(node.nodeName=="INPUT"&&node.type=="checkbox"){mxui.html.dispatchEvent(node,"onchange");}}});}};var _10bd=function(){var map={"mendix":"mxui","mendix.core.MxServer":"mendix.core.Server","mendix.widget.MxDataView":"mendix.widget.MxFormView","mendix.widget.MxNavigator":"mendix.widget.Navigator","mendix.widget.MxDataGrid":"mendix.widget.DataGrid","mendix.widget.DataGrid.true":"mxui.common.true","mendix.widget.DataGrid.false":"mxui.common.false","mendix.core.MxServer.invalid_session":"mendix.session.session_expired","mobile.widget.Dialog.ok":"mxui.widget.DialogMessage.ok","mxui.widget.Dialog.error":"mxui.widget.DialogMessage.error","mxui.widget.Dialog.information":"mxui.widget.DialogMessage.info","mxui.widget.Dialog.warning":"mxui.widget.DialogMessage.warning","mxui.widget.Dialog.confirmation":"mxui.widget.Confirmation.caption","mobile.widget":"mxui.widget","mobile.sys":"mxui.sys"};for(var _10be in map){var spath=_10be.split("."),dpath=map[_10be].split("."),skey=spath.pop(),dkey=dpath.pop(),stree=_10a0,dtree=stree,step;while(stree&&(step=spath.shift())){stree=stree[step];}if(stree){while(step=dpath.shift()){dtree=dtree[step]=dtree[step]||{};}if(dtree[dkey]){dojo.mixin(dtree[dkey],stree[skey]);}else{dtree[dkey]=stree[skey];}}}};var _10bf=function(){var perma=self.decodeUrlHash(dojo.hash());perma?perma():mx.remote.execute(mx.session.getConfig());};var _10c0=function(node){if(node.xml){var temp=mxui.dom.create("div"),_10c1=node.childNodes;for(var i=0,cnode;cnode=_10c1[i];i++){temp.innerHTML+=cnode.xml;}node=temp;}else{node=document.importNode(node,true);}var _10c2=node.getElementsByTagName("*");for(var l=_10c2.length-1,child;child=_10c2[l];l--){var roles=child.getAttribute("data-mendix-roles");if(!mx.session.hasSomeRole(roles)){child.parentNode.removeChild(child);}else{child.removeAttribute("data-mendix-roles");}}var _10c3=document.createDocumentFragment();while(node.firstChild){_10c3.appendChild(node.firstChild);}return _10c3;};var _10c4=function(path,xml){var root=xml.documentElement,fid=root.getAttribute("id"),_10c5=root.getAttribute("title"),_10c6=root.getAttribute("class"),_10c7=root.getAttribute("style"),_10c8=root.childNodes;for(var i=0,fnode;fnode=_10c8[i];i++){if(fnode.nodeType!=1){continue;}switch(fnode.localName||fnode.baseName){case "content":_109c[path]={id:fid,path:path,title:_10c5,"class":_10c6||"",style:_10c7||"",content:_10c0(fnode)};break;case "templates":var _10c9=fnode.childNodes;for(var j=0,tnode;tnode=_10c9[j];j++){if(tnode.nodeType!=1){continue;}var wid=tnode.getAttribute("widget-id"),tname=tnode.getAttribute("name"),_10ca=_10c0(tnode);if(!_109d[wid]){_109d[wid]={};}_109d[wid][tname]=_10ca;}}}return _109c[path];};var _10cb=function(msg,type,modal){return new mxui.widget.DialogMessage({type:type,content:""+self.extractMessage(msg),modal:modal});};var _10cc=function(_10cd){_109e[_10cd.id]=_10cd;var _10ce=dojo.connect(_10cd,"onAfterHide",function(){dojo.disconnect(_10ce);delete _109e[_10cd.id];_10cd.destroy();});_10cd.show();return _10cd;};var _10cf=function(){var id;for(id in _109e){_109e[id].hide();}};var _10d0=function(form,dir,_10d1){var _10d2=mxui.currentForm,_10d3=_10d2&&_10d2.domNode,_10d4=form.domNode,_10d5=function(){form.onAfterShow();_10d2&&_10d2.onAfterHide();window.scrollTo(0,form._scrollPos||1);_10a5=false;_10d1&&_10d1();};mxui.currentForm=form;if(_10d3!=_10d4){form.onBeforeShow();if(_10d3){var _10d6=window.pageYOffset;_10d2._scrollPos=_10d6;window.scrollTo(0,1);setTimeout(function(){_10d2.onBeforeHide();dojo.removeClass(_10d4,"mx-page-hidden");setTimeout(function(){_1096.removeChild(_10d3);dojo.addClass(_10d3,"mx-page-hidden");},0);_10d5();},0);}else{dojo.removeClass(_10d4,"mx-page-hidden");_10d5();}}};var _10d7=function(path,args,scope){var dir=args.dir,_10d8=args.params,error=args.error,_10d9=args.instance,_10da=args.callback;if(_10a5){_10da&&_10da();return;}else{_10a5=true;}mxui.currentForm&&mxui.currentForm.suspend();var _10db=function(form){form.applyContext(args.context||new mendix.lib.MxContext(),function(){document.title=_10a3+" - "+form.getTitle();_10d0(form,dir,function(){if(!_10d9){_1098.register(form);}_10da&&_10da.call(scope,form);});});};if(_10d9){_1096.appendChild(_10d9.domNode);_10d9.resume();_10db(_10d9);}else{self.getForm(path,{params:dojo.mixin(_10d8,{place:"content",title:args.title}),error:function(e){_10a5=false;error&&error.call(scope,e);},callback:function(form){dojo.addClass(form.domNode,"mx-page-hidden");dojo.connect(form,"dispose",function(){mx.ui.back();});_1096.appendChild(form.domNode);form.startup(function(){_10db(form);});}});}};var _10dc=function(path,args,scope){var _10dd=args.params,error=args.error,_10de=args.callback;path=path.replace(/\.mxf/,"$Popup.mxf");self.getForm(path,{params:dojo.mixin(_10dd,{place:"popup",title:args.title}),error:function(e){error&&error.call(scope,e);},callback:function(form){_10a6.show(form,args,dojo.hitch(scope,_10de));}});};var _10df=function(path,args,scope){var _10e0=args.params,error=args.error,_10e1=args.callback;path=path.replace(/\.mxf/,"$Popup.mxf");self.getForm(path,{params:dojo.mixin(_10e0,{place:"custom",title:args.title}),error:function(e){error&&error.call(scope,e);},callback:function(form){args.domNode.appendChild(form.domNode);dojo.removeClass(form.domNode,"mx-page mx-page-hidden");form.startup(function(){form.applyContext(args.context||new mendix.lib.MxContext(),function(){_10e1&&_10e1.call(scope,form);});});}});};var _10e2=function(fmt,args){if(!args){return fmt;}else{if(!(args instanceof Array)){args=[args];}}return fmt.replace(/\{(\d+)\}/g,function(match,n){var value=args[n-1];if(value!=null){return value;}else{return match;}});};var _10e3=function(node,clas){return function(_10e4){var _10e5=[];var end=function(){for(var i=_10e5.length;i--;){dojo.disconnect(_10e5[i]);}_10e4&&_10e4();dojo.removeClass(node,clas);};_10e5.push(dojo.connect(node,"webkitAnimationEnd",end),dojo.connect(node,"animationend",end));dojo.addClass(node,clas);};};var _10e6=function(node,clas,_10e7){_10e3(node,clas)(_10e7);};this.toString=function(){return name;};this.isLoaded=function(){return _1094;};this.startup=function(_10e8){var _10e9=mx.session.getConfig("uiconfig");_109f=_10e9.locale;dojo.locale=dojo.i18n.normalizeLocale(_109f.replace("_","-"));_10a0=_10e9.translations;menus=_10e9.menubars;_10b4();_10a2=_10e9.profile.name.toLowerCase();_10a3=_10e9.profile.title;_10b3();_10bd();_1098=new mxui.lib.History();_109a=_109a||new mxui.widget.Progress();_109b=_109b||new mxui.widget.Underlay();_10b5(function(){_1098.startup();_10bb();_10bf();_1094=true;_1095=true;_10e8();});};this.shutdown=function(){_10a6.hideAll();_10cf();mxui.currentForm=null;_109c={};_109d={};_10a1="";_1098.destroy();dojo.disconnect(_1099);_10b4();_1094=false;};this.getProfile=function(){return _10a2;};this.getMenu=function(_10ea){return menus[_10ea]||[];};this.getDatePackage=function(){return _10a1||"dojo.date";};this.isRtl=function(){return isRtl;};this.resize=function(e){mxui.currentForm&&mxui.currentForm.resize();};this.execute=function(_10eb,args,scope){var cfg={};if(_10eb.microflow){dojo.mixin(cfg,_10eb.microflow,args);mx.ui.action(cfg.name,cfg,scope);}else{if(_10eb.form){dojo.mixin(cfg,_10eb.form,args);mx.ui.openForm(cfg.path,cfg,scope);}else{logger.error(name+".execute: unknown action type");}}};this.action=function(name,_10ec,scope){_10ec=_10ec||{};dojo.setObject("params.actionname",name,_10ec);var _10ed=_10ec.callback,error=_10ec.error,store=dojo.mixin({caller:mxui.currentForm},_10ec.store),_10ee;if("progress" in _10ec){_10ee=this.getProgress(_10ec.progressMsg,_10ec.progress=="modal");_10ee.start();}mx.data.action({callback:function(_10ef){_10ee&&_10ee.stop();_10ed&&_10ed.call(scope,_10ef);},error:function(e){_10ee&&_10ee.stop();if(error){error.call(scope,e);}else{if(e&&!(e instanceof mendix.lib.ValidationError)){mx.onError(e);}}},context:_10ec.context,async:_10ec.async,params:_10ec.params,store:store});};this.back=function(){_1098.back();};this.showProgress=function(msg,modal){return _109a.add(msg||self.translate("mxui.sys.UI","loading"),modal);};this.hideProgress=function(id){return _109a.remove(id);};this.showUnderlay=function(delay){_109b.show(delay);};this.hideUnderlay=function(delay){_109b.hide(delay);};this.getProgress=function(msg,modal){var id,_10f0;return {start:function(){if(_10f0){return id;}else{_10f0=true;return id=self.showProgress(msg,modal);}},stop:function(){if(_10f0){_10f0=false;self.hideProgress(id);}}};};this.setupLoginPage=function(){var _10f1=mx.session.getConfig("profile");if(_10f1){_10a2=_10f1.name.toLowerCase();dojo.addClass(document.body,"profile-"+_10a2);document.title=_10f1.title;}};this.showLogin=function(args){var _10f2=dojo.cookie("originURI");if(_10f2){dojo.cookie("originURI","");window.location=_10f2;return;}var show=function(args){if(dojo.cookie.isSupported()){if(args&&args.http_code==402){self.exception(window.i18nMap.http402);}else{login=login||new mxui.widget.Login();login.show(args);}}else{self.exception("This application requires cookies to be enabled");}};mx.server.get({url:"js/login_i18n.js",handleAs:"javascript",load:function(){dojo.addOnLoad(function(){show(args);});}});self.showLogin=show;};this.hideLogin=function(){login&&login.hide();};this.openForm=function(path,args,scope){args=args||{};var pid=this.showProgress(),cb=args.callback,error=args.error;args.callback=function(form){self.hideProgress(pid);cb&&cb.call(this,form);};args.error=function(e){self.hideProgress(pid);if(error){error&&error.call(this,e);}else{mx.onError(e);}};if(args.domNode){_10df(path,args,scope);}else{if(/popup|modal/.test(args.location)){_10dc(path,args,scope);}else{_10d7(path,args,scope);}}};this.getForm=function(path,args,scope){args=args||{};var _10f3=args.params,error=args.error,_10f4=args.callback;if(path in _109c){var data=dojo.clone(_109c[path]);_10f4&&_10f4.call(scope,new mxui.lib.Form(data,_10f3));}else{mx.server.get({url:"pages/"+_109f+"/"+path,handleAs:"xml",load:function(xml){var data=dojo.clone(_10c4(path,xml)),form=new mxui.lib.Form(data,_10f3);_10f4&&_10f4.call(scope,form);},error:function(e){logger.error(name+".getForm: error occurred while fetching form '"+path+"': "+e);error&&error.call(scope,e);}});}};this.getTemplate=function(id,name){var data=_109d[id];return data&&dojo.clone(data[name]);};this.applyToNode=function(_10f5,node){var wid=node.getAttribute("widgetId"),_10f6=wid&&dijit.byId(wid);switch(_10f5){case "show":if(_10f6&&_10f6.show){_10f6.show();}else{node.style.display="";}break;case "hide":if(_10f6&&_10f6.hide){_10f6.hide();}else{node.style.display="none";}break;case "disable":if(_10f6){_10f6.set("disabled",true);}break;case "enable":if(_10f6){_10f6.set("disabled",false);}break;}};this.makeShareId=function(form,mxid){return "context_seed_"+mxid+"_"+form.hash;};this.validations=function(vals){if(vals.length){var list=[];for(var i=0,val;val=vals[i];i++){var _10f7=val.getFields();for(var x=0,field;field=_10f7[x];x++){list.push(field.reason);}}this.error(list.join("\n"));}};this.translate=function(_10f8,str,args,_10f9){var map=dojo.getObject(_10f8,false,_10a0);if(!map||!map[str]){return _10f9||"[No translation]";}return _10e2(map[str],args);};this.extractMessage=function(msg){if(typeof msg=="object"){if(msg.description){return msg.description;}else{if(msg.message){return msg.message;}}}return msg;};this.info=function(msg,modal){return _10cc(_10cb(msg,"info",modal));};this.warning=function(msg,modal){return _10cc(_10cb(msg,"warning",modal));};this.error=function(msg,modal){return _10cc(_10cb(msg,"error",modal));};this.exception=function(msg){return this.error(msg,true);};this.confirmation=function(args){var _10fa=new mxui.widget.Confirmation({content:args.content,proceed:args.proceed||"OK",cancel:args.cancel||"Cancel",handler:args.handler});_10cc(_10fa);return _10fa;};this.encodeUrlHash=function(form,_10fb,_10fc){var path=form.substr(0,form.lastIndexOf(".")),query=_10fb.toQuery();return "!/"+path+(query?"?"+query:"")+";"+_10fc;};this.decodeUrlHash=function(hash){if(hash.charAt(0)=="!"){var index=hash.lastIndexOf(";");hash=hash.slice(2,index!=-1?index:hash.length);if(/^\w+(\/\w+(\?\w+\.\w+\=\d+(&\w+\.\w+\=\d+)*)?|\.\w+(\?\d+(&\d+)*)?)$/.test(hash)){var split=hash.split("?"),_10fd=split[0],query=split[1],_10fe=new mendix.lib.MxContext();if(_10fd.indexOf("/")!=-1){if(query){var items=query.split("&");for(var i=items.length,item;item=items[--i];){var pair=item.split("=");_10fe.setContext(pair[0],pair[1]);}}return function(_10ff){mx.ui.openForm(_10fd+".mxf",{context:_10fe});_10ff&&_10ff();};}else{if(query){var items=query.split("&");for(var i=0,item;item=items[i++];){_10fe.setContext(" ",item);}}return function(_1100){mx.data.action({context:_10fe,params:{actionname:_10fd},callback:_1100,error:function(e){mx.onError(e);_1100&&_1100();}});};}}else{return null;}}else{return null;}};this.downloadFile=function(_1101){var _1102=(mx.ui.getProfile()=="desktop"),_1103=_1102?_1101.target:"window",obj=_1101?_1101.mxobject:null,url;if(obj&&obj.get("HasContents")){url="file?guid="+obj.getGuid();}else{if(_1101.url){url=_1101.url;}}if(url){mxui.io.iframe.download({url:url,target:_1103,error:function(err){if(_1101.error){_1101.error(err);}else{mx.onError(err);}}});}else{}};this.getFirstDayOfWeek=function(){return mx.session.getConfig("uiconfig.firstDayOfWeek");};};});},"mxui/io/iframe":function(){define(["dojo","dijit","dojox","dojo/require!dojo/io/iframe"],function(dojo,dijit,dojox){dojo.provide("mxui.io.iframe");dojo.require("dojo.io.iframe");dojo.mixin(mxui.io.iframe,{name:"mxui.io.iframe",send:function(_1104){var _1105=function(){if(dojo.isIE){return true;}if(dojo.isOpera){return dojo.isOpera<10;}if(dojo.isChrome){if(typeof window.externalHost!=="undefined"){return false;}return dojo.isChrome<16;}return false;};if(_1105()){var _1106=_1104.handle;_1104.handle=function(_1107){window.history.back();var _1108=function(){_1106(_1107);};setTimeout(_1108,50);};}_1104.handleAs="json";var _1109=_1104.handle;delete _1104.handle;var _110a=dojo.io.iframe.send.apply(dojo.io.iframe,arguments);_110a.addBoth(function(json){if(!dojo.isIE){var _110b=dojo.io.iframe._frame;_110b.parentNode.removeChild(_110b);dojo.io.iframe._frame=null;window.dojoIoIframe=null;}if(json instanceof Error){logger.error(this.name+".send: An error occurred while uploading a file: the server did not respond");_1109&&_1109(new mendix.lib.Error(json.message));}else{if(json.type&&json.type==="exception"){var error=new mendix.lib.DescribedServerError(json.description);logger.error(this.name+".send: "+error.message);error._type="exception";_1109&&_1109(error);}else{_1109&&_1109();}}});},download:function(_110c){var _110d=_110c.target||"internal",url=_110c.url+"&target="+_110d;if(_110d==="window"||dojo.isChrome&&typeof window.externalHost!=="undefined"){window.open(url,"mendix_file");return;}if(!this._iframe){var _110e=this._iframe=document.createElement(mx.ui.isQuirky?"<iframe onload=\"mxui.io.iframe.onload()\">":"iframe");dojo.style(_110e,{top:"-10px",height:"1px",position:"absolute",visibility:"hidden"});document.body.appendChild(_110e);if(!mx.ui.isQuirky){_110e.onload=dojo.hitch(this,"onload");}}this._error=_110c.error;this._iframe.contentWindow.location=url;},onload:function(){var _110f=this._iframe,error=this._error,doc=_110f.contentDocument||_110f.document,err=mendix.lang.getFileError(doc,this.name+".onload");if(err&&error){error(err);}delete this._error;}});});},"dojo/io/iframe":function(){define(["../_base/config","../_base/json","../_base/kernel","../_base/lang","../_base/xhr","../sniff","../_base/window","../dom","../dom-construct","../query","require","../aspect","../request/iframe"],function(_1110,json,_1111,lang,xhr,has,win,dom,_1112,query,_1113,_1114,_1115){_1111.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");var mid=_1115._iframeName;mid=mid.substring(0,mid.lastIndexOf("_"));var _1116=lang.delegate(_1115,{create:function(){return _1116._frame=_1115.create.apply(_1115,arguments);},get:null,post:null,send:function(args){var rDfd;var dfd=xhr._ioSetArgs(args,function(dfd){rDfd&&rDfd.cancel();},function(dfd){var value=null,_1117=dfd.ioArgs;try{var _1118=_1117.handleAs;if(_1118==="xml"||_1118==="html"){value=rDfd.response.data;}else{value=rDfd.response.text;if(_1118==="json"){value=json.fromJson(value);}else{if(_1118==="javascript"){value=_1111.eval(value);}}}}catch(e){value=e;}return value;},function(error,dfd){dfd.ioArgs._hasError=true;return error;});var _1119=dfd.ioArgs;var _111a="GET",form=dom.byId(args.form);if(args.method&&args.method.toUpperCase()==="POST"&&form){_111a="POST";}var _111b={method:_111a,handleAs:args.handleAs==="json"||args.handleAs==="javascript"?"text":args.handleAs,form:args.form,query:form?null:args.content,data:form?args.content:null,timeout:args.timeout,ioArgs:_1119};if(_111b.method){_111b.method=_111b.method.toUpperCase();}if(_1110.ioPublish&&_1111.publish&&_1119.args.ioPublish!==false){var start=_1114.after(_1115,"_notifyStart",function(data){if(data.options.ioArgs===_1119){start.remove();xhr._ioNotifyStart(dfd);}},true);}rDfd=_1115(_1119.url,_111b,true);_1119._callNext=rDfd._callNext;rDfd.then(function(){dfd.resolve(dfd);}).otherwise(function(error){dfd.ioArgs.error=error;dfd.reject(error);});return dfd;},_iframeOnload:win.global[mid+"_onload"]});lang.setObject("dojo.io.iframe",_1116);return _1116;});},"dojo/request/iframe":function(){define(["module","require","./watch","./util","./handlers","../_base/lang","../io-query","../query","../has","../dom","../dom-construct","../_base/window"],function(_111c,_111d,watch,util,_111e,lang,_111f,query,has,dom,_1120,win){var mid=_111c.id.replace(/[\/\.\-]/g,"_"),_1121=mid+"_onload";if(!win.global[_1121]){win.global[_1121]=function(){var dfd=_1122._currentDfd;if(!dfd){_1122._fireNextRequest();return;}var _1123=dfd.response,_1124=_1123.options,_1125=dom.byId(_1124.form)||dfd._tmpForm;if(_1125){var _1126=dfd._contentToClean;for(var i=0;i<_1126.length;i++){var key=_1126[i];for(var j=0;j<_1125.childNodes.length;j++){var _1127=_1125.childNodes[j];if(_1127.name===key){_1120.destroy(_1127);break;}}}dfd._originalAction&&_1125.setAttribute("action",dfd._originalAction);if(dfd._originalMethod){_1125.setAttribute("method",dfd._originalMethod);_1125.method=dfd._originalMethod;}if(dfd._originalTarget){_1125.setAttribute("target",dfd._originalTarget);_1125.target=dfd._originalTarget;}}if(dfd._tmpForm){_1120.destroy(dfd._tmpForm);delete dfd._tmpForm;}dfd._finished=true;};}function _1128(name,_1129,uri){if(win.global[name]){return win.global[name];}if(win.global.frames[name]){return win.global.frames[name];}if(!uri){if(has("config-useXDomain")&&!has("config-dojoBlankHtmlUrl")){console.warn("dojo/request/iframe: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}uri=(has("config-dojoBlankHtmlUrl")||_111d.toUrl("dojo/resources/blank.html"));}var frame=_1120.place("<iframe id=\""+name+"\" name=\""+name+"\" src=\""+uri+"\" onload=\""+_1129+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",win.body());win.global[name]=frame;return frame;};function _112a(_112b,src,_112c){var frame=win.global.frames[_112b.name];if(frame.contentWindow){frame=frame.contentWindow;}try{if(!_112c){frame.location=src;}else{frame.location.replace(src);}}catch(e){}};function doc(_112d){if(_112d.contentDocument){return _112d.contentDocument;}var name=_112d.name;if(name){var _112e=win.doc.getElementsByTagName("iframe");if(_112d.document&&_112e[name].contentWindow&&_112e[name].contentWindow.document){return _112e[name].contentWindow.document;}else{if(win.doc.frames[name]&&win.doc.frames[name].document){return win.doc.frames[name].document;}}}return null;};function _112f(){return _1120.create("form",{name:mid+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},win.body());};function _1130(){var dfd;try{if(_1122._currentDfd||!_1122._dfdQueue.length){return;}do{dfd=_1122._currentDfd=_1122._dfdQueue.shift();}while(dfd&&(dfd.canceled||(dfd.isCanceled&&dfd.isCanceled()))&&_1122._dfdQueue.length);if(!dfd||dfd.canceled||(dfd.isCanceled&&dfd.isCanceled())){_1122._currentDfd=null;return;}var _1131=dfd.response,_1132=_1131.options,c2c=dfd._contentToClean=[],_1133=dom.byId(_1132.form),_1134=util.notify,data=_1132.data||null,_1135;if(!dfd._legacy&&_1132.method==="POST"&&!_1133){_1133=dfd._tmpForm=_112f();}else{if(_1132.method==="GET"&&_1133&&_1131.url.indexOf("?")>-1){_1135=_1131.url.slice(_1131.url.indexOf("?")+1);data=lang.mixin(_111f.queryToObject(_1135),data);}}if(_1133){if(!dfd._legacy){var _1136=_1133;do{_1136=_1136.parentNode;}while(_1136!==win.doc.documentElement);if(!_1136){_1133.style.position="absolute";_1133.style.left="-1000px";_1133.style.top="-1000px";win.body().appendChild(_1133);}if(!_1133.name){_1133.name=mid+"_form";}}if(data){var _1137=function(name,value){_1120.create("input",{type:"hidden",name:name,value:value},_1133);c2c.push(name);};for(var x in data){var val=data[x];if(lang.isArray(val)&&val.length>1){for(var i=0;i<val.length;i++){_1137(x,val[i]);}}else{if(!_1133[x]){_1137(x,val);}else{_1133[x].value=val;}}}}var _1138=_1133.getAttributeNode("action"),_1139=_1133.getAttributeNode("method"),_113a=_1133.getAttributeNode("target");if(_1131.url){dfd._originalAction=_1138?_1138.value:null;if(_1138){_1138.value=_1131.url;}else{_1133.setAttribute("action",_1131.url);}}if(!dfd._legacy){dfd._originalMethod=_1139?_1139.value:null;if(_1139){_1139.value=_1132.method;}else{_1133.setAttribute("method",_1132.method);}}else{if(!_1139||!_1139.value){if(mthdNode){mthdNode.value=_1132.method;}else{fn.setAttribute("method",_1132.method);}}}dfd._originalTarget=_113a?_113a.value:null;if(_113a){_113a.value=_1122._iframeName;}else{_1133.setAttribute("target",_1122._iframeName);}_1133.target=_1122._iframeName;_1134&&_1134.emit("send",_1131,dfd.promise.cancel);_1122._notifyStart(_1131);_1133.submit();}else{var extra="";if(_1131.options.data){extra=_1131.options.data;if(typeof extra!=="string"){extra=_111f.objectToQuery(extra);}}var _113b=_1131.url+(_1131.url.indexOf("?")>-1?"&":"?")+extra;_1134&&_1134.emit("send",_1131,dfd.promise.cancel);_1122._notifyStart(_1131);_1122.setSrc(_1122._frame,_113b,true);}}catch(e){dfd.reject(e);}};function _113c(_113d){return !this.isFulfilled();};function _113e(_113f){return !!this._finished;};function _1140(_1141,error){if(!error){try{var _1142=_1141.options,doc=_1122.doc(_1122._frame),_1143=_1142.handleAs;if(_1143!=="html"){if(_1143==="xml"){if(doc.documentElement.tagName.toLowerCase()==="html"){query("a",doc.documentElement).orphan();var _1144=doc.documentElement.innerText;_1144=_1144.replace(/>\s+</g,"><");_1141.text=lang.trim(_1144);}else{_1141.data=doc;}}else{_1141.text=doc.getElementsByTagName("textarea")[0].value;}_111e(_1141);}else{_1141.data=doc;}}catch(e){error=e;}}if(error){this.reject(error);}else{if(this._finished){this.resolve(_1141);}else{this.reject(new Error("Invalid dojo/request/iframe request state"));}}};function last(_1145){this._callNext();};var _1146={method:"POST"};function _1122(url,_1147,_1148){var _1149=util.parseArgs(url,util.deepCreate(_1146,_1147),true);url=_1149.url;_1147=_1149.options;if(_1147.method!=="GET"&&_1147.method!=="POST"){throw new Error(_1147.method+" not supported by dojo/request/iframe");}if(!_1122._frame){_1122._frame=_1122.create(_1122._iframeName,_1121+"();");}var dfd=util.deferred(_1149,null,_113c,_113e,_1140,last);dfd._callNext=function(){if(!this._calledNext){this._calledNext=true;_1122._currentDfd=null;_1122._fireNextRequest();}};dfd._legacy=_1148;_1122._dfdQueue.push(dfd);_1122._fireNextRequest();watch(dfd);return _1148?dfd:dfd.promise;};_1122.create=_1128;_1122.doc=doc;_1122.setSrc=_112a;_1122._iframeName=mid+"_IoIframe";_1122._notifyStart=function(){};_1122._dfdQueue=[];_1122._currentDfd=null;_1122._fireNextRequest=_1130;util.addCommonMethods(_1122,["GET","POST"]);return _1122;});},"mxui/cldr/supplemental":function(){define(["dojo","dijit","dojox","dojo/require!dojo/cldr/supplemental"],function(dojo,dijit,dojox){dojo.provide("mxui.cldr.supplemental");dojo.require("dojo.cldr.supplemental");(function(){var orig=dojo.cldr.supplemental.getFirstDayOfWeek;dojo.cldr.supplemental.getFirstDayOfWeek=function(_114a){var value=mx.ui.getFirstDayOfWeek();return value!=-1?value:orig(_114a);};})();});},"mxui/sys/Parser":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.sys.Parser");mxui.sys.Parser=function(_114b){_114b=_114b||{};var self=this,name="mxui.sys.Parser",_114c=false;var _114d=function(value,props){props=props||{};if(!props.groups){var _114e=dojo.i18n.getLocalization("dojo.cldr","number",dojo.locale);props.pattern=_114e["decimalFormat"].replace(/,/g,"");}return dojo.number.format(value,props);};var _114f=function(_1150,_1151){_1150.setFullYear(_1151.getFullYear(),_1151.getMonth(),_1151.getDate());};var _1152=function(_1153,_1154){_1153.setHours(_1154.getHours(),_1154.getMinutes(),_1154.getSeconds(),_1154.getMilliseconds());};var _1155=function(_1156,_1157){var _1158=dojo.getObject(mx.ui.getDatePackage());return _1158.locale.format(_1158.Date?new _1158.Date(_1156):_1156,_1157);};var _1159=function(_115a,_115b){var _115c=dojo.getObject(mx.ui.getDatePackage()),date;if(_115c.Date){date=_115c.locale.parse(_115a,_115b);if(date){date=date.toGregorian();}}else{date=dojo.date.locale.parse(_115a,_115b);}if(!date){if(_115a.indexOf("")==-1){if(!_115b.datePattern){var _115d=dojo.date.locale._getGregorianBundle(dojo.locale);_115b.datePattern=_115d["dateFormat-short"];}_115b.datePattern=_115b.datePattern.replace(/\u200f/g,"");date=dojo.date.locale.parse(_115a,_115b);}}return date;};this.toString=function(){return name;};this.startup=function(_115e){_114c=true;_115e();};this.shutdown=function(){_114c=false;};this.isLoaded=function(){return _114c;};this.parseDate=function(_115f,opts){if(!_115f){return null;}opts=opts||{};var _1160={selector:opts.selector||"date",formatLength:opts.format||"short",datePattern:opts.datepattern||opts.datePattern,timePattern:opts.timePattern};var _1161=_1159(_115f,_1160);if(_1161){if(_1160.selector=="time"){var now=new Date();now.setMilliseconds(_1161.getMilliseconds());now.setSeconds(_1161.getSeconds());now.setMinutes(_1161.getMinutes());now.setHours(_1161.getHours());return +now;}}return _1161&&_1161.getTime();};this.formatDate=function(epoch,opts){var _1162=Number(epoch);if(epoch===""){return epoch;}else{if(isNaN(_1162)){return null;}}opts=opts||{};var _1163=new Date(_1162),_1164={locale:dojo.locale,selector:opts.selector||"date",formatLength:opts.format||"short",datePattern:opts.datepattern||opts.datePattern,timePattern:opts.timePattern};if(_1164.selector=="time"){var now=new Date(0);now.setMilliseconds(_1163.getMilliseconds());now.setSeconds(_1163.getSeconds());now.setMinutes(_1163.getMinutes());now.setHours(_1163.getHours());_1163=now;}return _1155(_1163,_1164);};this.parseNumber=function(value,_1165,_1166){if(!value){return NaN;}return dojo.number.parse(value,{places:_1166,groups:_1165});};this.formatNumber=function(value,_1167,_1168){if(value===""){return value;}else{if(isNaN(value)||Math.abs(value)==Infinity){return null;}}if(dojo.isString(_1168)){_1168=parseInt(_1168,10);}return _114d(value,{places:_1168,groups:_1167});};this.formatValue=function(value,type,props){var _1169;if(value===""){return "";}switch(type.toLowerCase()){case "float":_1169=_114d(value,props);break;case "currency":_1169=_114d(value,dojo.mixin({places:2},props));break;case "autonumber":case "integer":case "long":_1169=_114d(value,dojo.mixin({places:0},props));break;case "datetime":_1169=_1155(new Date(value),dojo.mixin({selector:"date"},props));break;case "boolean":_1169=mx.ui.translate("mxui.common",value);break;default:_1169=value;}return _1169;};this.formatAttribute=function(obj,attr,props){var type=obj.getAttributeType(attr),value=obj.get(attr);if(type=="Enum"){value=obj.getEnumCaption(attr,value);}return mx.parser.formatValue(value,type,props);};this.parseValue=function(value,type,props){var _116a;if(value===""){return "";}switch(type.toLowerCase()){case "float":case "currency":case "autonumber":case "integer":case "long":_116a=dojo.number.parse(value,props);break;case "datetime":_116a=_1159(value,dojo.mixin({selector:"date"},props));break;case "enum":_116a=value;break;case "boolean":_116a=value==mx.ui.translate("mxui.common",true);break;default:_116a=value;}return _116a;};this.localizeEpoch=function(epoch){var obj=new Date(Number(epoch));return new Date(obj.getUTCFullYear(),obj.getUTCMonth(),obj.getUTCDate(),obj.getUTCHours(),obj.getUTCMinutes(),obj.getUTCSeconds(),obj.getUTCMilliseconds()).getTime();};this.delocalizeEpoch=function(epoch){var obj=new Date(Number(epoch));return Date.UTC(obj.getFullYear(),obj.getMonth(),obj.getDate(),obj.getHours(),obj.getMinutes(),obj.getSeconds(),obj.getMilliseconds());};this.mergeDates=function(_116b,_116c,part){var _116d=new Date(_116b);switch(part){case "date":_114f(_116d,_116c);break;case "time":_1152(_116d,_116c);break;case "datetime":_114f(_116d,_116c);_1152(_116d,_116c);break;default:_116d=_116c;}return _116d;};this.replaceXPathTokens=function(_116e,_116f){if(_116f&&_116f.hasTrackId()){_116e=_116e.replace(/\[%CurrentObject%\]/g,_116f.getTrackId());}else{if(/\[%CurrentObject%\]/.test(_116e)){}}return _116e;};};});},"mxui/startup":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.startup");(function(){var _1170=dojo.config;mx=new mendix.Client({appUrl:_1170.appbase,baseUrl:_1170.xasbase,server:{timeout:_1170.timeout}});mx.registerSubSystem("ui","mxui.sys.UI");mx.registerSubSystem("parser","mxui.sys.Parser");mx.startup();dojo.connect(mx.session,"onRedeploy",function(){window.location.reload();});dojo.connect(mx.session,"onRedirect",function(_1171){window.location=_1171;});})();});},"mendix/compat":function(){define("mendix/compat",["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mendix.compat");(function(){var _1172="6.0";mendix.lang.deprecate("mendix.lang",{runBindActions:"sequence",runAsyncActions:"collect",runActions:"sequence"},_1172);mendix.lang.deprecate("mendix.lang","clone","dojo","clone",_1172);mendix.lang.deprecate("mendix.lang","round","dojo.number","round",_1172);mendix.lang.deprecate("mendix.lang","toFixed","dojo.number","round",_1172);mendix.lang.deprecate("mendix.lang","dupObject","dojo","clone",_1172);var lang=mendix.lang,_1173={sequence:lang.sequence,collect:lang.collect};dojo.mixin(lang,{sequence:function(scope,chain,_1174){if(chain instanceof Array){dojo.deprecated("mendix.lang.sequence","Method signature has changed to sequence(seq, callback, scope)",_1172);return _1173.sequence.call(lang,chain,_1174,scope);}else{return _1173.sequence.apply(lang,arguments);}},collect:function(scope,chain,_1175){if(chain instanceof Array){dojo.deprecated("mendix.lang.collect","Method signature has changed to collect(coll, callback, scope)",_1172);return _1173.collect.call(lang,chain,_1175,scope);}else{return _1173.collect.apply(lang,arguments);}},inArray:function(arr,value){dojo.deprecated("mendix.lang.inArray is deprecated, use dojo.indexOf instead","",_1172);return dojo.indexOf(arr,value)!=-1;}});mendix.lang.deprecate("mx","moduleUrl","dojo","moduleUrl",_1172);mendix.lang.deprecate("mx.meta",{getMetaMap:"getMap"},_1172);var meta=mx.meta;dojo.mixin(meta,{getMetaEntity:function(args,scope){dojo.deprecated("mx.meta.getMetaEntity is deprecated, use getEntity instead","",_1172);if(typeof args!="string"){dojo.deprecated("mx.meta.getEntity should have one parameter of type string, which is the entity name","",_1172);var _1176=meta.getEntity(args.className),error=args.error,_1177=args.callback;if(!_1176){error&&error.call(scope);}else{_1177&&_1177.call(scope,_1176);}return _1176;}return meta.getEntity.apply(meta,arguments);}});mendix.lang.deprecate("mx.metadata","mx.meta",_1172);mendix.lang.deprecate("mx.server",{getResource:"get"},_1172);mendix.lang.deprecate("mx.xas","action","mx.data","action",_1172);var data=mx.data,refs={},subs={types:{},guids:{}};for(var _1178 in data){refs[_1178]=data[_1178];}var _1179=function(args,map){if(args.length==1&&map.length!=1){return args[0];}else{var _117a={};for(var i=0,l=map.length;i<l;i++){var name=map[i],value=args[i];if(value){_117a[name]=value;}}return _117a;}};var _117b=function(_117c,_117d){if(arguments.length>1){dojo.deprecated("mx.data."+_117c+": deprecated arguments, use use { xpath : '', resulttype : '', callback : callback, error : error } instead","",_1172);_117d=_1179([].slice.call(arguments,1),["xpath","callback","resulttype"]);}return refs[_117c](_117d);};dojo.mixin(data,{distributeChange:function(guid,attr,value){dojo.deprecated("mx.data.distributeChange is deprecated, use update instead","",_1172);return data.update({guid:guid,attr:attr,value:value});},addChangeListener:function(guid,attr,_117e){dojo.deprecated("mx.data.addChangeListener is deprecated, use subscribe instead","",_1172);return data.subscribe({guid:guid,attr:attr,callback:_117e});},removeChangeListener:function(_117f){dojo.deprecated("mx.data.removeChangeListener is deprecated, use unsubscribe instead","",_1172);return data.unsubscribe(_117f);},subscribeToClass:function(_1180,klass){dojo.deprecated("mx.data.subscribeToClass is deprecated, use subscribe instead","",_1172);var id=_1180.id,sub=subs.types,map=sub[id]||(sub[id]={});if(map[klass]){return map[klass];}else{var _1181=data.subscribe({entity:klass,callback:dojo.hitch(_1180,"objectUpdate")});return (map[klass]=_1181);}},unSubscribeFromClass:function(_1182,klass){dojo.deprecated("mx.data.unSubscribeFromClass is deprecated, use unsubscribe instead","",_1172);var id=_1182.id,sub=subs.types,_1183=sub[id]&&sub[id][klass];if(_1183){data.unsubscribe(_1183);delete sub[id][klass];if(!mendix.lang.itemCount(sub[id])){delete sub[id];}}},subscribeToGUID:function(_1184,guid){dojo.deprecated("mx.data.subscribeToGUID is deprecated, use subscribe instead","",_1172);var id=_1184.id,sub=subs.guids,map=sub[id]||(sub[id]={});if(map[guid]){return map[guid];}else{var _1185=data.subscribe({guid:guid,callback:dojo.hitch(_1184,"objectUpdate")});return (map[guid]=_1185);}},unSubscribeFromGUID:function(_1186,guid){dojo.deprecated("mx.data.unSubscribeFromGUID is deprecated, use unsubscribe instead","",_1172);var id=_1186.id,sub=subs.guids,_1187=sub[id]&&sub[id][guid];if(_1187){data.unsubscribe(_1187);delete sub[id][guid];if(!mendix.lang.itemCount(sub[id])){delete sub[id];}}},xasAction:function(args){dojo.deprecated("mx.data.xasAction is deprecated, use action instead","",_1172);var _1188=args.callback;args.callback=function(value,_1189){return _1188&&_1188(_1189,value);};return data.action.call(data,args);},action:function(args){if(args.caller){dojo.deprecated("mx.data.action: deprecated arguments, use store property for caller parameter ({ store : { caller : obj }})","",_1172);var _118a=args.caller,store=args.store||(args.store={});store.caller=args.caller;}if(args.params){refs.action.apply(data,arguments);}else{dojo.deprecated("mx.data.action: deprecated arguments, use params property for action parameters","",_1172);var _118b={context:args.context,callback:args.callback,error:args.error,store:args.store,onValidation:args.onValidation,async:args.async,params:args};delete args.context;delete args.callback;delete args.error;delete args.store;delete args.caller;delete args.onValidation;delete args.async;refs.action(_118b);}},getObjectsByXPath:function(){dojo.deprecated("mx.data.getObjectsByXPath is deprecated, use get instead","",_1172);var args=arguments;var _118c=(typeof args[1]=="function")?_1179(args,["xpath","callback","useCache"]):_1179(args,["xpath","options","callback","useCache"]);var xpath=_118c.xpath,_118d=_118c.options||{},_118e=_118c.callback,_118f=_118c.error||_118d.error;return data.get({xpath:xpath,callback:_118e,error:_118d.error,count:_118d.addcount,filter:{limit:_118d.limit,offset:_118d.offset,sort:_118d.sort,attributes:_118d.tags}});},getAttributeListByXPath:function(_1190){dojo.deprecated("mx.data.getAttributeListByXPath is deprecated, use get instead","",_1172);_1190=_1190||{};var _1191=_1190.callback,_1192=_1190.error,_1193=_1190.attribute;return data.get({xpath:_1190.xpath,callback:function(objs){var list={};for(var i=0,l=objs.length;i<l;i++){var value=objs[i].getAttribute(_1193);list[value]=value;}_1191&&_1191(list);},error:error,filter:{limit:options.limit,offset:options.offset,sort:options.sort,attributes:[_1193],distinct:true}});},getObjectsByXPathSchema:function(){dojo.deprecated("mx.data.getObjectsByXPathSchema is deprecated, use get instead","",_1172);var _1194=_1179(arguments,["xpath","options","callback","useCache"]),_1195=_1194.options||{},xpath=_1194.xpath,_1196=_1194.callback,_1197=_1194.error||_1195.error;return data.get({xpath:xpath,callback:_1196,error:_1195.error,count:_1195.addcount,noCache:!_1194.useCache,filter:{id:_1195.queryid,limit:_1195.limit,offset:_1195.offset,sort:_1195.sort}});},getObjectsByMicroFlow:function(_1198,_1199,_119a){dojo.deprecated("mx.data.getObjectsByMicroFlow is deprecated, use get instead","",_1172);_1199=_1199||{};data.action({params:{actionname:_1198,applyto:_1199.applyto||"none",constraints:_1199.constraints||"",guids:_1199.guids||null},context:_1199.context,callback:_119a,error:function(e){_1199.error?_1199.error(e):_119a&&_119a([]);}});},getObjectsById:function(_119b){dojo.deprecated("mx.data.getObjectsById is deprecated, use get instead","",_1172);var _119c,_119d,_119e,_119f;if(_119b.length==null&&arguments.length==1){var _11a0=_119b;_119b=_11a0.ids;_119c=_11a0.options;_119d=_11a0.callback;_119f=_11a0.error;_119e=_11a0.nocache;}else{if(typeof arguments[1]=="function"){_119d=arguments[1];_119e=arguments[2];}else{_119c=arguments[1];_119d=arguments[2];_119e=arguments[3];_119f=_119c?_119c.error:null;}}_119c=_119c||{};return data.get({guids:_119b,callback:_119d,error:_119f,count:_119c.addcount,filter:{limit:_119c.limit,offset:_119c.offset,sort:_119c.sort,attributes:_119c.tags}});},getObjectByXPath:function(_11a1){dojo.deprecated("mx.data.getObjectByXPath is deprecated, use get instead","",_1172);return data.get({xpath:_11a1.xpath,callback:_11a1.callback,error:_11a1.error,filter:{limit:1}});},getObject:function(objId,_11a2,_11a3){dojo.deprecated("mx.data.getObject is deprecated, use get instead","",_1172);var _11a4=_1179(arguments,["objId","callback","nocache"]);return data.get({guid:_11a4.objId,error:_11a4.error,callback:_11a4.callback,noCache:_11a4.nocache});},createObjectByClass:function(){dojo.deprecated("mx.data.createObjectByClass is deprecated, use create instead","",_1172);var _11a5=arguments[0],_11a6=arguments[1],_11a7=arguments[2],_11a8=arguments[3];if((!(typeof _11a5=="string"))&&(!(_11a5 instanceof String))){throw new Error(name+".createObjectByClass: parameter entity is not of type String");}else{if(!(typeof _11a6=="function")){throw new Error(name+".createObjectByClass: parameter callbackFunction is not of type Function");}else{if(!(_11a7 instanceof mendix.lib.MxContext)){}}}return data.create({entity:_11a5,callback:_11a6,error:_11a8,context:_11a7});},createObject:function(_11a9){dojo.deprecated("mx.data.createObject is deprecated, use create instead","",_1172);return data.create({entity:_11a9.className,callback:_11a9.callback,error:_11a9.error,context:_11a9.context});},deleteObjectsByGUID:function(guids,_11aa,error){dojo.deprecated("mx.data.deleteObjectsByGUID is deprecated, use remove instead","",_1172);return data.remove({guids:guids,callback:_11aa,error:error});},saveObject:function(mxobj,_11ab){dojo.deprecated("mx.data.saveObject is deprecated, use save instead","",_1172);return data.save({mxobj:mxobj,callback:_11ab.callback,error:_11ab.error});},commitObject:function(obj,_11ac){dojo.deprecated("mx.data.commitObject is deprecated, use commit instead","",_1172);return data.commit({mxobj:obj,callback:_11ac.callback,error:_11ac.error});},rollbackObject:function(obj,_11ad){dojo.deprecated("mx.data.rollbackObject is deprecated, use rollback instead","",_1172);return data.rollback({mxobj:obj,callback:_11ad.callback,error:_11ad.error});},deleteObject:function(obj,_11ae){dojo.deprecated("mx.data.deleteObject is deprecated, use remove instead","",_1172);return data.remove({guid:obj.getGuid(),callback:_11ae.callback,error:_11ae.error});},deleteMxObjects:function(_11af){dojo.deprecated("mx.data.deleteMxObjects is deprecated, use remove instead","",_1172);var ids=[],_11b0=[],objs=_11af.mxObjects;for(var i in objs){ids.push(objs[i].getGuid());_11b0.push(objs[i].getEntity());}data.remove({guids:ids,callback:function(){for(var i=0,clazz;clazz=_11b0[i];i++){data.sendClassUpdate(clazz);}_11af.callback&&_11af.callback();},error:_11af.error});},sizeOfXPathSet:function(_11b1){return _117b("sizeOfXPathSet",_11b1);},sumOfXPathQuery:function(_11b2){dojo.deprecated("mx.data.sumOfXPathQuery is deprecated, use sumOfXPathSet instead","",_1172);return _117b("sumOfXPathSet",_11b2);},sizeOfXPathQuery:function(_11b3){dojo.deprecated("mx.data.sizeOfXPathQuery is deprecated, use sizeOfXPathSet instead","",_1172);return _117b("sizeOfXPathQuery",_11b3);},countOfXPathQuery:function(_11b4){dojo.deprecated("mx.data.countOfXPathQuery is deprecated, use sizeOfXPathSet instead","",_1172);return _117b("countOfXPathQuery",_11b4);},avgOfXPathQuery:function(_11b5){dojo.deprecated("mx.data.avgOfXPathQuery is deprecated, use avgOfXPathSet instead","",_1172);return _117b("avgOfXPathQuery",_11b5);},maxOfXPathQuery:function(_11b6){dojo.deprecated("mx.data.maxOfXPathQuery is deprecated, use maxOfXPathSet instead","",_1172);return _117b("maxOfXPathQuery",_11b6);},minOfXPathQuery:function(_11b7){dojo.deprecated("mx.data.minOfXPathQuery is deprecated, use minOfXPathSet instead","",_1172);return _117b("minOfXPathQuery",_11b7);},ceilingOfXPathQuery:function(_11b8){dojo.deprecated("mx.data.ceilingOfXPathQuery is deprecated, use maxOfXPathSet instead","",_1172);return _117b("maxOfXPathQuery",_11b8);},floorOfXPathQuery:function(_11b9){dojo.deprecated("mx.data.floorOfXPathQuery is deprecated, use minOfXPathSet instead","",_1172);return _117b("minOfXPathQuery",_11b9);}});mendix.lang.deprecate("mx.processor","mx.data",_1172);mendix.lang.deprecate("mendix.lib.MxContext",{hasActiveClass:"hasTrackEntity",hasActiveGUID:"hasTrackId",hasTrackID:"hasTrackId",getActiveClass:"getTrackEntity",getActiveGUID:"getTrackId",getTrackID:"getTrackId",setActiveClass:"setTrackEntity",setActive:"setTrackEntity",setTrackID:"setTrackId",setContextFromMxObject:"setContext"},_1172);mendix.lang.deprecate("mendix.lib.MxObject",{getGUID:"getGuid",getClass:"getEntity",getAttribute:"get",setAttribute:"set",hasAttribute:"has",getAttributeClass:"getAttributeType",inheritsOf:"inheritsFrom",hasSubClasses:"hasSubEntities",getSubClasses:"getSubEntities",hasSuperClasses:"hasSuperEntities",getSuperClasses:"getSuperEntities",getSelectorClass:"getSelectorEntity"},_1172);dojo.extend(mendix.lib.MxObject,{save:function(_11ba){dojo.deprecated("mendix.lib.MxObject.save is deprecated, use mx.data.save instead","",_1172);return mx.data.save({mxobj:this,error:_11ba.error,callback:_11ba.callback});},commit:function(_11bb){dojo.deprecated("mendix.lib.MxObject.commit is deprecated, use mx.data.commit instead","",_1172);return mx.data.commit({mxobj:this,error:_11bb.error,callback:_11bb.callback});},rollback:function(_11bc){dojo.deprecated("mendix.lib.MxObject.rollback is deprecated, use mx.data.rollback instead","",_1172);return mx.data.rollback({mxobj:this,error:_11bc.error,callback:_11bc.callback});},saveSequence:function(_11bd){dojo.deprecated("mendix.lib.MxObject.saveSequence is deprecated, use mx.data.save and mx.data.commit instead","",_1172);var self=this;return mx.data.save({mxobj:self,callback:function(){mx.data.commit({mxobj:self,callback:function(){}});}});}});mendix.lang.deprecate("mendix.lib.MxMetaObject",{getGUID:"getGuid",getClass:"getEntity",hasAttribute:"has",getAttributeClass:"getAttributeType",inheritsOf:"inheritsFrom",hasSubClasses:"hasSubEntities",getSubClasses:"getSubEntities",hasSuperClasses:"hasSuperEntities",getSuperClasses:"getSuperEntities",getSelectorClass:"getSelectorEntity"},_1172);})();});},"mxui/compat":function(){define("mxui/compat",["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.compat");(function(){var _11be="6.0",_11bf=mendix.lang.deprecate;_11bf("mxui.dom",{removeElement:"orphan",setTextContent:"text",getTextContent:"text",textContent:"text"},_11be);_11bf("mxui.dom","removeChildNodes","dojo","empty",_11be);_11bf("mxui.dom","clearSelectOptions","dojo","empty",_11be);dojo.mixin(mxui.dom,{getAncestorClass:function(node,_11c0,depth){dojo.deprecated("mxui.dom.getAncestorClass","Use dojo.query instead",_11be);return node&&(dojo.hasClass(node,_11c0)?node:((--depth==0)?false:arguments.callee(node.parentNode,_11c0,depth)));},getElementsByTagNames:function(node,name){dojo.deprecated("mxui.dom.getElementsByTagNames","Use dojo.query instead",_11be);return dojo.query(name,node);},getAncestorNodeWithAttribute:function(node,name,_11c1,depth){dojo.deprecated("mxui.dom.getAncestorNodeWithAttribute","Use dojo.query instead",_11be);return ((node.nodeName==name)&&(node.getAttribute&&(node.getAttribute(_11c1)!=null)))?node:(--depth==0)?null:arguments.callee(node.parentNode,name,_11c1,depth);},setHTML:function(node,str){dojo.deprecated("mxui.dom.setHTML","Use mxui.dom.html instead",_11be);mxui.dom.html(node,str);},getSelectOptions:function(node){dojo.deprecated("mxui.dom.getSelectOptions","Use mxui.dom.getSelectedValue instead",_11be);return [node.options[node.selectedIndex].value];},selectOption:function(node,str){dojo.deprecated("mxui.dom.selectOption","Use dojo.attr instead",_11be);node.value=str;},hasClass:function(node,_11c2){dojo.deprecated("mxui.dom.hasClass","Use dojo.hasClass instead",_11be);return dojo.hasClass(node,_11c2);},getClass:function(node){dojo.deprecated("mxui.dom.getClass","Use dojo.getAttr instead",_11be);return node.className;},setClass:function(node,str){dojo.deprecated("mxui.dom.setClass","Use dojo.replaceClass instead",_11be);node.className=str;},addClass:function(node,str){dojo.deprecated("mxui.dom.addClass","Use dojo.addClass instead",_11be);dojo.addClass(node,str);},addClasses:function(node,_11c3){dojo.deprecated("mxui.dom.addClasses","Use dojo.addClass instead",_11be);dojo.addClass(node,_11c3);},removeClass:function(node,str){dojo.deprecated("mxui.dom.removeClass","Use dojo.removeClass instead",_11be);dojo.removeClass(node,str);},hide:function(node){dojo.deprecated("mxui.dom.hide","Use dojo.style instead",_11be);node.style.display="none";},show:function(node){dojo.deprecated("mxui.dom.show","Use dojo.style instead",_11be);node.style.display="";},setReadOnly:function(node){dojo.deprecated("mxui.dom.setReadOnly","Use dojo.setAttr instead",_11be);return node.setAttribute("readonly","readonly");},unsetReadOnly:function(node){dojo.deprecated("mxui.dom.unsetReadOnly","Use dojo.removeAttr instead",_11be);return node.removeAttribute("readonly");},applyDisableStyle:function(node){dojo.deprecated("mxui.dom.applyDisableStyle","Use dojo.setAttr instead",_11be);var name=node.nodeName;if(name=="SELECT"||(name=="INPUT"&&node.type=="checkbox")){node.setAttribute("disabled","disabled");}else{if(name=="INPUT"||name=="TEXTAREA"||name=="BUTTON"){node.setAttribute("readonly","readonly");}}},applyEnableStyle:function(node){dojo.deprecated("mxui.dom.applyEnableStyle","Use dojo.removeAttr instead",_11be);node.removeAttribute("readonly");var _11c4=node.nodeName.toLowerCase();if(_11c4=="select"||(_11c4=="input"&&node.type=="checkbox")){node.removeAttribute("disabled");}},setOpacity:function(node,_11c5){dojo.deprecated("mxui.dom.setOpacity","Use dojo.style instead",_11be);dojo.style(node,"opacity",_11c5);},insertCss:function(_11c6,doc,media){dojo.deprecated("mxui.dom.insertCss","Use mxui.dom.addCss instead",_11be);mxui.dom.addCss(_11c6,doc,media);},escapeHTML:function(str){dojo.deprecated("mxui.dom.escapeHTML","Use mxui.dom.escapeString instead",_11be);return mxui.dom.escapeString(str);},getFormElementText:function(node){dojo.deprecated("mxui.dom.getFormElementText","Use dojo.getAttr instead",_11be);if(node.nodeName.toLowerCase()=="input"){return node.value;}else{if(node.nodeName.toLowerCase()=="select"){return node.options[node.selectedIndex].text;}}},getStringSize:function(str){dojo.deprecated("mxui.dom.getStringSize","Use dojo.contentBox instead",_11be);var _11c7=document.createElement("span");document.body.appendChild(_11c7);_11c7.innerHTML=(str==="")?"A":str;var _11c8=_11c7.offsetWidth+10;_11c7.parentNode.removeChild(_11c7);_11c7=null;return _11c8;},clone:function(node){dojo.deprecated("mxui.dom.clone","Use dojo.clone instead",_11be);return dojo.clone(node);},getFirstElement:function(node){dojo.deprecated("mxui.dom.getFirstElement","Use Element.children instead",_11be);var _11c9=node.children;return _11c9.length===0?null:_11c9[0];}});var _11ca={};var _11cb=function(_11cc){if(_11cc.target.match("MxApplication")){var _11cd=_11cc.param.contenturl,_11ce={};for(var x in _11cc.param){_11ce[x]=_11cc.param[x];}delete _11ce.contenturl;return {target:"Screen",params:{uilocation:"content",title:_11cc.title,targetwidget:null,targeturl:_11cd,targetparams:_11ce}};}else{if(_11cc.uilocation){return {target:"Screen",params:{uilocation:_11cc.uilocation,width:_11cc.param?_11cc.param.width:null,title:_11cc.title,targetwidget:_11cc.target,targeturl:null,targetparams:_11cc.param}};}else{return _11cc;}}};var _11cf=function(_11d0){_11d0=_11d0.toLowerCase();switch(_11d0){case "screen":return function(_11d1){return mx.screen.setContent(_11d1);};default:return _11ca[_11d0];}};dojo.mixin(mx.ui,{isQuirky:dojo.isIE&&(dojo.isQuirks||dojo.isIE<9),confirm:function(_11d2){dojo.deprecated("mx.ui.confirm","Use mx.ui.confirmation instead",_11be);return mx.ui.confirmation({cancel:_11d2.canceltext,proceed:_11d2.proceedtext,content:_11d2.message,handler:_11d2.callback});},registerTarget:function(_11d3,_11d4){_11ca[_11d3.toLowerCase()]=_11d4;},executeAction:function(_11d5){dojo.deprecated("mx.ui.executeAction","Use mx.ui.action instead",_11be);_11d5=_11cb(_11d5);var _11d6=_11d5.target||"Screen",_11d7=_11d5.params,scope=_11cf(_11d6);return scope&&scope(_11d7)||null;},showDialogMessage:function(_11d8,type){dojo.deprecated("mx.ui.showDialogMessage is deprecated, use info/warn/error instead","",_11be);mx.ui.error(_11d8);},newContext:function(_11d9){dojo.deprecated("mx.ui.newContext is deprecated, create an instance of mendix.lib.MxContext instead","",_11be);return mx.context.create(_11d9&&_11d9.id);},getContext:function(_11da,_11db){dojo.deprecated("mx.ui.getContext is deprecated, pass the instance of mendix.lib.MxContext instead","",_11be);var ctxt=mx.context.get(_11da);if(!ctxt){ctxt=mx.context.create(_11db);}else{_11db!=null&&mx.context.subscribe(_11da,_11db.id);}return ctxt;},destroyContext:function(scope){mx.context.destroy(scope.ident);},cleanWidgetContext:function(_11dc){mx.context.unsubscribeAll(_11dc.id);},cleanContext:function(_11dd,_11de){mx.context.clean(_11dd,_11de.id);},getProgressIndicator:function(type,_11df){dojo.deprecated("mx.ui.getProgressIndicator is deprecated, use mx.ui.getProgress instead","",_11be);type=String(type).toLowerCase().replace("nonblocking","popup").replace("blocking","modal");return mx.ui.getProgress(_11df,type);},getLocale:function(){dojo.deprecated("mx.ui.getLocale is deprecated, use dojo.locale instead","",_11be);return dojo.locale;}});mx.ui.registerTarget("MicroflowAction",function(_11e0){return mx.ui.action(_11e0.action,{store:{caller:_11e0.caller},context:_11e0.mxcontext,callback:_11e0.callback,params:{gridid:_11e0.gridid,applyto:"selection",guids:[_11e0.mxcontext.getTrackId()]}});});mx.ui.registerTarget("XASAction",function(_11e1){return mx.ui.action(_11e1.actionname,{store:{caller:_11e1.caller},async:/true/.test(_11e1.async),params:_11e1.actionparams,context:_11e1.mxcontext,callback:_11e1.callback,error:_11e1.error,progress:{type:_11e1.progress,message:_11e1.progressmsg}});});var _11e2={};var _11e3=function(fnc){return function(args){try{var _11e4=fnc(args);}catch(e){logger.error(name+".sendMessage: trouble calling subscriber: "+e);}return (_11e4 instanceof dojo.Deferred||_11e4 instanceof Error)?_11e4:args;};};dojo.mixin(mx.screen||(mx.screen={}),{setContent:function(_11e5){dojo.deprecated("mx.screen.setContent is deprecated, use mx.ui.openForm instead","",_11be);if("form" in _11e5){_11e5={targeturl:_11e5.form.path,targetparams:_11e5.targetparams,uilocation:_11e5.form.location,title:_11e5.form.title,resizable:_11e5.form.resizable};}var _11e6=_11e5.targetparams&&_11e5.targetparams.mxcontext;if(_11e6){delete _11e5.targetparams.mxcontext;}return mx.ui.openForm(_11e5.targeturl,{params:_11e5.targetparams,location:_11e5.uilocation,title:_11e5.title,resizable:_11e5.resizable,context:_11e6});},showProgress:function(){dojo.deprecated("mx.screen.showProgress is deprecated, use mx.ui.showProgress instead","",_11be);return this._lastProgress=mx.ui.showProgress();},hideProgress:function(id){dojo.deprecated("mx.screen.hideProgress is deprecated, use mx.ui.hideProgress instead","",_11be);return mx.ui.hideProgress(typeof id=="undefined"?this._lastProgress:id);},subscribe:function(_11e7,_11e8,fnc){dojo.deprecated("mx.screen.subscribe is deprecated, use mxform.listen instead","",_11be);var id=mendix.lang.getUniqueId();return (_11e2[id]=[id,_11e7,_11e8,fnc]);},unsubscribe:function(_11e9){dojo.deprecated("mx.screen.unsubscribe is deprecated, use mxform.unlisten instead","",_11be);if(_11e9){var id=_11e9[0];if(_11e2[id]){delete _11e2[id];}else{}}},sendMessage:function(_11ea,_11eb,args){dojo.deprecated("mx.screen.sendMessage is deprecated, use save / commit / rollback on mxform instead","",_11be);var form=mxui.currentForm;if(!_11eb||!form){return null;}switch(_11eb){case "saveObject":return form.save(callback);case "commitObject":return form.commit(callback);case "rollbackObject":return form.rollback(callback);default:var _11ec=new dojo.Deferred(),_11ed=new dojo.Deferred(),_11ee=[];for(var i in _11e2){var _11ef=_11e2[i],cid=_11ef[1],msg=_11ef[2],fnc=_11ef[3];if(cid==_11ea&&msg==_11eb){_11ee.push(_11e3(fnc));}}args&&args.reversed&&_11ee.reverse();while(_11ee.length){_11ed.addCallback(_11ee.shift());}_11ed.addCallback(function(args){_11ec.callback();return args;});_11ed.addErrback(function(e){_11ec.errback(e);return e;});_11ed.callback(args);return _11ec;}},getUIPlace:function(_11f0){dojo.deprecated("mx.screen.getUIPlace is deprecated, use place property of mxform instead","",_11be);var form=_11f0.widget&&_11f0.widget.mxform;if(form){return form.place;}else{logger.error("mx.screen.getUIPlace: no widget passed, or widget not bound to a form.");}},getTitle:function(_11f1){dojo.deprecated("mx.screen.getTitle is deprecated, use mxform.getTitle instead","",_11be);var form=_11f1.widget&&_11f1.widget.mxform;if(form){return form.getTitle();}else{logger.error("mx.screen.getTitle: no widget passed, or widget not bound to a form.");}},resumeContent:function(_11f2){dojo.deprecated("mx.screen.resumeContent is deprecated, use mxform.resume instead","",_11be);var form=_11f2.widget&&_11f2.widget.mxform;if(form){form.resume();}else{logger.error("mx.screen.resumeContent: no widget passed, or widget not bound to a form.");}},suspendContent:function(_11f3){dojo.deprecated("mx.screen.suspendContent is deprecated, use mxform.suspend instead","",_11be);var form=_11f3.widget&&_11f3.widget.mxform;if(form){form.suspend();}else{logger.error("mx.screen.suspendContent: no widget passed, or widget not bound to a form.");}},disposeContent:function(_11f4){dojo.deprecated("mx.screen.disposeContent is deprecated, use mxform.close instead","",_11be);var form=_11f4.widget&&_11f4.widget.mxform;if(form){form.close();}else{logger.error("mx.screen.disposeContent: no widget passed, or widget not bound to a form.");}},resizeContent:function(_11f5){dojo.deprecated("mx.screen.resizeContent is deprecated, use mxform.resize instead","",_11be);var form=_11f5.widget&&_11f5.widget.mxform;if(form){form.resize();}else{logger.error("mx.screen.resizeContent: no widget passed, or widget not bound to a form.");}},reloadContent:function(_11f6){dojo.deprecated("mx.screen.reloadContent is deprecated, use mxform.reload instead","",_11be);var form=_11f6.widget&&_11f6.widget.mxform;if(form){form.reload();}else{logger.error("mx.screen.reloadContent: no widget passed, or widget not bound to a form.");}},shutdown:mx.ui.shutdown,startup:mx.ui.startup,isLoaded:mx.ui.isLoaded});_11bf("mx.screen","showLogin","mx.ui","showLogin",_11be);_11bf("mx.screen","hideLogin","mx.ui","hideLogin",_11be);_11bf("mx.screen","logout","mx.session","logout",_11be);_11bf("mx.screen","layout","mx.ui","resize",_11be);_11bf("mx.screen","applyToNode","mx.ui","applyToNode",_11be);mxui.lib.putContent=mendix.lib.putContent=function(url,opts,node){dojo.deprecated("mxui.lib.putContent is deprecated, use mx.ui.openForm instead","",_11be);if(typeof url=="object"){var _11f7=url,scope=opts;url=_11f7.url;opts=_11f7.params;node=_11f7.node;}else{var _11f8=new dojo.Deferred();}mx.ui.openForm(url,{domNode:node,params:opts,error:function(error){_11f8?_11f8.errback(error):_11f7.error&&_11f7.error.call(scope,error);},callback:function(form){dojo.style(form.domNode,"height","auto");if(_11f8){_11f8.callback("",form.id,form);}else{_11f7.callback&&_11f7.callback.call(null,"",form.id,form);}},context:opts.context});return _11f8;};mx.config={getForm:function(_11f9){dojo.deprecated("mx.config.getForm is deprecated, use mx.ui.openForm instead","",_11be);if(!_11f9.callback){var _11fa=new dojo.Deferred();}mx.ui.getForm(_11f9.url,{error:_11f9.error,callback:function(form){(_11fa||_11f9)["callback"](form.domNode,form.id);}});return _11fa;}};_11bf("mendix.dom","mxui.dom",_11be);_11bf("mendix.html","mxui.html",_11be);_11bf("mendix.wm.focus","mxui.wm.focus",_11be);_11bf("mendix.dom","liveconnect","mxui.dom","liveConnect",_11be);_11bf("mxui.addon","mxui.mixin",_11be);_11bf("mendix.addon","mxui.mixin",_11be);_11bf("mendix.widget","mxui.widget",_11be);_11bf("mobile.dom","mxui.dom",_11be);_11bf("mobile.widget","_Widget","mxui.widget","_WidgetBase",_11be);})();});},"*now":function(r){r(["dojo/i18n!*preload*mxui/nls/mxui*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});define("mxui/mxui",["dojo","dijit","dojox","dojo/require!dojo/on,dojo/aspect,dojo/hash,dojo/window,dojo/number,dojo/cookie,dojo/date/locale,dijit/_base,dijit/_Widget,dijit/form/_FormValueWidget,dijit/form/DropDownButton,dijit/form/ComboButton,dijit/form/ToggleButton,dojo/fx/Toggler,dijit/_WidgetBase,dijit/_Templated,dijit/_TemplatedMixin,dijit/layout/ContentPane,dijit/layout/BorderContainer,dijit/Calendar,dojox/date/buddhist,dojox/date/buddhist/locale,mendix/mendix,mxui/wm/focus,mxui/html/parser,mxui/dom/common,mxui/dom/builder,mxui/html/common,mxui/lib/Form,mxui/lib/History,mxui/lib/WindowManager,mxui/lib/MxInputMask,mxui/mixin/_ValidationHelper,mxui/mixin/_DynamicOptionHelper,mxui/widget/_Widget,mxui/widget/_WidgetBase,mxui/widget/_Button,mxui/widget/_FormWidget,mxui/widget/Underlay,mxui/widget/Dialog,mxui/widget/DialogMessage,mxui/widget/Window,mxui/widget/Login,mxui/widget/Progress,mxui/widget/DataGrid,mxui/widget/TemplateGrid,mxui/widget/FormDatePicker,mxui/widget/TabContainer,mxui/widget/ReferenceSetSelector,mxui/widget/BoolSelect,mxui/widget/DatePicker,mxui/widget/DateInput,mxui/widget/EnumSelect,mxui/widget/NumberInput,mxui/widget/PasswordInput,mxui/widget/TextArea,mxui/widget/TextInput,mxui/widget/SearchInput,mxui/widget/Navbar,mxui/widget/NavigationTree,mxui/widget/LayoutContainer,mxui/widget/MicroflowButton,mxui/widget/BackButton,mxui/widget/CancelButton,mxui/widget/Confirmation,mxui/widget/LogoutButton,mxui/widget/DropDownButton,mxui/widget/SaveButton,mxui/widget/SidebarToggleButton,mxui/widget/Button,mxui/widget/GroupBox,mxui/widget/DataView,mxui/widget/Header,mxui/widget/Title,mxui/widget/StaticImage,mxui/widget/Image,mxui/widget/ImageZoom,mxui/widget/LinkButton,mxui/widget/ListView,mxui/widget/MenuBar,mxui/widget/NavigationList,mxui/widget/NewButton,mxui/widget/ReferenceSelector,mxui/widget/InputReferenceSetSelector,mxui/widget/FileInput,mxui/widget/ImageUploader,mxui/widget/PrimitiveWidgetWrapper,mxui/sys/UI,mxui/sys/Parser,mxui/startup,mendix/compat,mxui/compat"],function(dojo,dijit,dojox){dojo.provide("mxui.mxui");dojo.require("dojo.on");dojo.require("dojo.aspect");dojo.require("dojo.hash");dojo.require("dojo.window");dojo.require("dojo.number");dojo.require("dojo.cookie");dojo.require("dojo.date.locale");dojo.require("dijit._base");dojo.require("dijit._Widget");dojo.require("dijit.form._FormValueWidget");dojo.require("dijit.form.DropDownButton");dojo.require("dijit.form.ComboButton");dojo.require("dijit.form.ToggleButton");dojo.require("dojo.fx.Toggler");dojo.require("dijit._WidgetBase");dojo.require("dijit._Templated");dojo.require("dijit._TemplatedMixin");dojo.require("dijit.layout.ContentPane");dojo.require("dijit.layout.BorderContainer");dojo.require("dijit.Calendar");dojo.require("dojox.date.buddhist");dojo.require("dojox.date.buddhist.locale");dojo.require("mendix.mendix");dojo.require("mxui.wm.focus");dojo.require("mxui.html.parser");dojo.require("mxui.dom.common");dojo.require("mxui.dom.builder");dojo.require("mxui.html.common");dojo.require("mxui.lib.Form");dojo.require("mxui.lib.History");dojo.require("mxui.lib.WindowManager");dojo.require("mxui.lib.MxInputMask");dojo.require("mxui.mixin._ValidationHelper");dojo.require("mxui.mixin._DynamicOptionHelper");dojo.require("mxui.widget._Widget");dojo.require("mxui.widget._WidgetBase");dojo.require("mxui.widget._Button");dojo.require("mxui.widget._FormWidget");dojo.require("mxui.widget.Underlay");dojo.require("mxui.widget.Dialog");dojo.require("mxui.widget.DialogMessage");dojo.require("mxui.widget.Window");dojo.require("mxui.widget.Login");dojo.require("mxui.widget.Progress");dojo.require("mxui.widget.DataGrid");dojo.require("mxui.widget.TemplateGrid");dojo.require("mxui.widget.FormDatePicker");dojo.require("mxui.widget.TabContainer");dojo.require("mxui.widget.ReferenceSetSelector");dojo.require("mxui.widget.BoolSelect");dojo.require("mxui.widget.DatePicker");dojo.require("mxui.widget.DateInput");dojo.require("mxui.widget.EnumSelect");dojo.require("mxui.widget.NumberInput");dojo.require("mxui.widget.PasswordInput");dojo.require("mxui.widget.TextArea");dojo.require("mxui.widget.TextInput");dojo.require("mxui.widget.SearchInput");dojo.require("mxui.widget.Navbar");dojo.require("mxui.widget.NavigationTree");dojo.require("mxui.widget.LayoutContainer");dojo.require("mxui.widget.MicroflowButton");dojo.require("mxui.widget.BackButton");dojo.require("mxui.widget.CancelButton");dojo.require("mxui.widget.Confirmation");dojo.require("mxui.widget.LogoutButton");dojo.require("mxui.widget.DropDownButton");dojo.require("mxui.widget.SaveButton");dojo.require("mxui.widget.SidebarToggleButton");dojo.require("mxui.widget.Button");dojo.require("mxui.widget.GroupBox");dojo.require("mxui.widget.DataView");dojo.require("mxui.widget.Header");dojo.require("mxui.widget.Title");dojo.require("mxui.widget.StaticImage");dojo.require("mxui.widget.Image");dojo.require("mxui.widget.ImageZoom");dojo.require("mxui.widget.LinkButton");dojo.require("mxui.widget.ListView");dojo.require("mxui.widget.MenuBar");dojo.require("mxui.widget.NavigationList");dojo.require("mxui.widget.NewButton");dojo.require("mxui.widget.ReferenceSelector");dojo.require("mxui.widget.InputReferenceSetSelector");dojo.require("mxui.widget.FileInput");dojo.require("mxui.widget.ImageUploader");dojo.require("mxui.widget.PrimitiveWidgetWrapper");dojo.require("mxui.sys.UI");dojo.require("mxui.sys.Parser");dojo.require("mxui.startup");dojo.require("mendix.compat");dojo.require("mxui.compat");if(!dojo.config.noLogin){mx.login({no_alert:true});}});