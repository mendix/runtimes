/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

if (typeof dojo === 'undefined') {
/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
(function(_1,_2){var _3=function(){},_4=function(it){for(var p in it){return 0;}return 1;},_5={}.toString,_6=function(it){return _5.call(it)=="[object Function]";},_7=function(it){return _5.call(it)=="[object String]";},_8=function(it){return _5.call(it)=="[object Array]";},_9=function(_a,_b){if(_a){for(var i=0;i<_a.length;){_b(_a[i++]);}}},_c=function(_d,_e){for(var p in _e){_d[p]=_e[p];}return _d;},_f=function(_10,_11){return _c(new Error(_10),{src:"dojoLoader",info:_11});},_12=1,uid=function(){return "_"+_12++;},req=function(_13,_14,_15){return _16(_13,_14,_15,0,req);},_17=this,doc=_17.document,_18=doc&&doc.createElement("DiV"),has=req.has=function(_19){return _6(_1a[_19])?(_1a[_19]=_1a[_19](_17,doc,_18)):_1a[_19];},_1a=has.cache=_2.hasCache;has.add=function(_1b,_1c,now,_1d){(_1a[_1b]===undefined||_1d)&&(_1a[_1b]=_1c);return now&&has(_1b);};0&&has.add("host-node",_1.has&&"host-node" in _1.has?_1.has["host-node"]:(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8));if(0){require("./_base/configNode.js").config(_2);_2.loaderPatch.nodeRequire=require;}0&&has.add("host-rhino",_1.has&&"host-rhino" in _1.has?_1.has["host-rhino"]:(typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")));if(0){for(var _1e=_1.baseUrl||".",arg,_1f=this.arguments,i=0;i<_1f.length;){arg=(_1f[i++]+"").split("=");if(arg[0]=="baseUrl"){_1e=arg[1];break;}}load(_1e+"/_base/configRhino.js");rhinoDojoConfig(_2,_1e,_1f);}has.add("host-webworker",((typeof WorkerGlobalScope!=="undefined")&&(self instanceof WorkerGlobalScope)));if(has("host-webworker")){_c(_2.hasCache,{"host-browser":0,"dom":0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1});_2.loaderPatch={injectUrl:function(url,_20){try{importScripts(url);_20();}catch(e){console.error(e);}}};}for(var p in _1.has){has.add(p,_1.has[p],0,1);}var _21=1,_22=2,_23=3,_24=4,_25=5;if(0){_21="requested";_22="arrived";_23="not-a-module";_24="executing";_25="executed";}var _26=0,_27="sync",xd="xd",_28=[],_29=0,_2a=_3,_2b=_3,_2c;if(1){req.isXdUrl=_3;req.initSyncLoader=function(_2d,_2e,_2f){if(!_29){_29=_2d;_2a=_2e;_2b=_2f;}return {sync:_27,requested:_21,arrived:_22,nonmodule:_23,executing:_24,executed:_25,syncExecStack:_28,modules:_30,execQ:_31,getModule:_32,injectModule:_33,setArrived:_34,signal:_35,finishExec:_36,execModule:_37,dojoRequirePlugin:_29,getLegacyMode:function(){return _26;},guardCheckComplete:_38};};if(1||has("host-webworker")){var _39=location.protocol,_3a=location.host;req.isXdUrl=function(url){if(/^\./.test(url)){return false;}if(/^\/\//.test(url)){return true;}var _3b=url.match(/^([^\/\:]+\:)\/+([^\/]+)/);return _3b&&(_3b[1]!=_39||(_3a&&_3b[2]!=_3a));};1||has.add("dojo-xhr-factory",1);has.add("dojo-force-activex-xhr",1&&!doc.addEventListener&&window.location.protocol=="file:");has.add("native-xhr",typeof XMLHttpRequest!="undefined");if(has("native-xhr")&&!has("dojo-force-activex-xhr")){_2c=function(){return new XMLHttpRequest();};}else{for(var _3c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],_3d,i=0;i<3;){try{_3d=_3c[i++];if(new ActiveXObject(_3d)){break;}}catch(e){}}_2c=function(){return new ActiveXObject(_3d);};}req.getXhr=_2c;has.add("dojo-gettext-api",1);req.getText=function(url,_3e,_3f){var xhr=_2c();xhr.open("GET",_40(url),false);xhr.send(null);if(xhr.status==200||(!location.host&&!xhr.status)){if(_3f){_3f(xhr.responseText,_3e);}}else{throw _f("xhrFailed",xhr.status);}return xhr.responseText;};}}else{req.async=1;}var _41=new Function("return eval(arguments[0]);");req.eval=function(_42,_43){return _41(_42+"\r\n//# sourceURL="+_43);};var _44={},_45="error",_35=req.signal=function(_46,_47){var _48=_44[_46];_9(_48&&_48.slice(0),function(_49){_49.apply(null,_8(_47)?_47:[_47]);});},on=req.on=function(_4a,_4b){var _4c=_44[_4a]||(_44[_4a]=[]);_4c.push(_4b);return {remove:function(){for(var i=0;i<_4c.length;i++){if(_4c[i]===_4b){_4c.splice(i,1);return;}}}};};var _4d=[],_4e={},_4f=[],_50={},map=req.map={},_51=[],_30={},_52="",_53={},_54="url:",_55={},_56={},_57=0;if(1){var _58=function(_59){var p,_5a,_5b,now,m;for(p in _55){_5a=_55[p];_5b=p.match(/^url\:(.+)/);if(_5b){_53[_54+_5c(_5b[1],_59)]=_5a;}else{if(p=="*now"){now=_5a;}else{if(p!="*noref"){m=_5d(p,_59,true);_53[m.mid]=_53[_54+m.url]=_5a;}}}}if(now){now(_5e(_59));}_55={};},_5f=function(s){return s.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(c){return "\\"+c;});},_60=function(map,_61){_61.splice(0,_61.length);for(var p in map){_61.push([p,map[p],new RegExp("^"+_5f(p)+"(/|$)"),p.length]);}_61.sort(function(lhs,rhs){return rhs[3]-lhs[3];});return _61;},_62=function(_63,_64){_9(_63,function(_65){_64.push([_7(_65[0])?new RegExp("^"+_5f(_65[0])+"$"):_65[0],_65[1]]);});},_66=function(_67){var _68=_67.name;if(!_68){_68=_67;_67={name:_68};}_67=_c({main:"main"},_67);_67.location=_67.location?_67.location:_68;if(_67.packageMap){map[_68]=_67.packageMap;}if(!_67.main.indexOf("./")){_67.main=_67.main.substring(2);}_50[_68]=_67;},_69=[],_6a=function(_6b,_6c,_6d){for(var p in _6b){if(p=="waitSeconds"){req.waitms=(_6b[p]||0)*1000;}if(p=="cacheBust"){_52=_6b[p]?(_7(_6b[p])?_6b[p]:(new Date()).getTime()+""):"";}if(p=="baseUrl"||p=="combo"){req[p]=_6b[p];}if(1&&p=="async"){var _6e=_6b[p];req.legacyMode=_26=(_7(_6e)&&/sync|legacyAsync/.test(_6e)?_6e:(!_6e?_27:false));req.async=!_26;}if(_6b[p]!==_1a){req.rawConfig[p]=_6b[p];p!="has"&&has.add("config-"+p,_6b[p],0,_6c);}}if(!req.baseUrl){req.baseUrl="./";}if(!/\/$/.test(req.baseUrl)){req.baseUrl+="/";}for(p in _6b.has){has.add(p,_6b.has[p],0,_6c);}_9(_6b.packages,_66);for(var _6f in _6b.packagePaths){_9(_6b.packagePaths[_6f],function(_70){var _71=_6f+"/"+_70;if(_7(_70)){_70={name:_70};}_70.location=_71;_66(_70);});}_60(_c(map,_6b.map),_51);_9(_51,function(_72){_72[1]=_60(_72[1],[]);if(_72[0]=="*"){_51.star=_72;}});_60(_c(_4e,_6b.paths),_4f);_62(_6b.aliases,_4d);if(_6c){_69.push({config:_6b.config});}else{for(p in _6b.config){var _73=_32(p,_6d);_73.config=_c(_73.config||{},_6b.config[p]);}}if(_6b.cache){_58();_55=_6b.cache;if(_6b.cache["*noref"]){_58();}}_35("config",[_6b,req.rawConfig]);};if(has("dojo-cdn")||1){var _74=doc.getElementsByTagName("script"),i=0,_75,_76,src,_77;while(i<_74.length){_75=_74[i++];if((src=_75.getAttribute("src"))&&(_77=src.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){_76=_77[3]||"";_2.baseUrl=_2.baseUrl||_76;_57=_75;}if((src=(_75.getAttribute("data-dojo-config")||_75.getAttribute("djConfig")))){_56=req.eval("({ "+src+" })","data-dojo-config");_57=_75;}if(0){if((src=_75.getAttribute("data-main"))){_56.deps=_56.deps||[src];}}}}if(0){try{if(window.parent!=window&&window.parent.require){var doh=window.parent.require("doh");doh&&_c(_56,doh.testConfig);}}catch(e){}}req.rawConfig={};_6a(_2,1);if(has("dojo-cdn")){_50.dojo.location=_76;if(_76){_76+="/";}_50.dijit.location=_76+"../dijit/";_50.dojox.location=_76+"../dojox/";}_6a(_1,1);_6a(_56,1);}else{_4e=_2.paths;_4f=_2.pathsMapProg;_50=_2.packs;_4d=_2.aliases;_51=_2.mapProgs;_30=_2.modules;_53=_2.cache;_52=_2.cacheBust;req.rawConfig=_2;}if(0){req.combo=req.combo||{add:_3};var _78=0,_79=[],_7a=null;}var _7b=function(_7c){_38(function(){_9(_7c.deps,_33);if(0&&_78&&!_7a){_7a=setTimeout(function(){_78=0;_7a=null;req.combo.done(function(_7d,url){var _7e=function(){_7f(0,_7d);_80();};_79.push(_7d);_81=_7d;req.injectUrl(url,_7e,_7d);_81=0;},req);},0);}});},_16=function(a1,a2,a3,_82,_83){var _84,_85;if(_7(a1)){_84=_32(a1,_82,true);if(_84&&_84.executed){return _84.result;}throw _f("undefinedModule",a1);}if(!_8(a1)){_6a(a1,0,_82);a1=a2;a2=a3;}if(_8(a1)){if(!a1.length){a2&&a2();}else{_85="require*"+uid();for(var mid,_86=[],i=0;i<a1.length;){mid=a1[i++];_86.push(_32(mid,_82));}_84=_c(_87("",_85,0,""),{injected:_22,deps:_86,def:a2||_3,require:_82?_82.require:req,gc:1});_30[_84.mid]=_84;_7b(_84);var _88=_89&&_26!=_27;_38(function(){_37(_84,_88);});if(!_84.executed){_31.push(_84);}_80();}}return _83;},_5e=function(_8a){if(!_8a){return req;}var _8b=_8a.require;if(!_8b){_8b=function(a1,a2,a3){return _16(a1,a2,a3,_8a,_8b);};_8a.require=_c(_8b,req);_8b.module=_8a;_8b.toUrl=function(_8c){return _5c(_8c,_8a);};_8b.toAbsMid=function(mid){return _ba(mid,_8a);};if(0){_8b.undef=function(mid){req.undef(mid,_8a);};}if(1){_8b.syncLoadNls=function(mid){var _8d=_5d(mid,_8a),_8e=_30[_8d.mid];if(!_8e||!_8e.executed){_8f=_53[_8d.mid]||_53[_54+_8d.url];if(_8f){_90(_8f);_8e=_30[_8d.mid];}}return _8e&&_8e.executed&&_8e.result;};}}return _8b;},_31=[],_91=[],_92={},_93=function(_94){_94.injected=_21;_92[_94.mid]=1;if(_94.url){_92[_94.url]=_94.pack||1;}_95();},_34=function(_96){_96.injected=_22;delete _92[_96.mid];if(_96.url){delete _92[_96.url];}if(_4(_92)){_97();1&&_26==xd&&(_26=_27);}},_98=req.idle=function(){return !_91.length&&_4(_92)&&!_31.length&&!_89;},_99=function(_9a,map){if(map){for(var i=0;i<map.length;i++){if(map[i][2].test(_9a)){return map[i];}}}return 0;},_9b=function(_9c){var _9d=[],_9e,_9f;_9c=_9c.replace(/\\/g,"/").split("/");while(_9c.length){_9e=_9c.shift();if(_9e==".."&&_9d.length&&_9f!=".."){_9d.pop();_9f=_9d[_9d.length-1];}else{if(_9e!="."){_9d.push(_9f=_9e);}}}return _9d.join("/");},_87=function(pid,mid,_a0,url){if(1){var xd=req.isXdUrl(url);return {pid:pid,mid:mid,pack:_a0,url:url,executed:0,def:0,isXd:xd,isAmd:!!(xd||(_50[pid]&&_50[pid].isAmd))};}else{return {pid:pid,mid:mid,pack:_a0,url:url,executed:0,def:0};}},_a1=function(mid,_a2,_a3,_a4,_a5,_a6,_a7,_a8,_a9){var pid,_aa,_ab,_ac,url,_ad,_ae,_af;_af=mid;_ae=/^\./.test(mid);if(/(^\/)|(\:)|(\.js$)/.test(mid)||(_ae&&!_a2)){return _87(0,mid,0,mid);}else{mid=_9b(_ae?(_a2.mid+"/../"+mid):mid);if(/^\./.test(mid)){throw _f("irrationalPath",mid);}if(_a2){_ac=_99(_a2.mid,_a6);}_ac=_ac||_a6.star;_ac=_ac&&_99(mid,_ac[1]);if(_ac){mid=_ac[1]+mid.substring(_ac[3]);}_77=mid.match(/^([^\/]+)(\/(.+))?$/);pid=_77?_77[1]:"";if((_aa=_a3[pid])){mid=pid+"/"+(_ab=(_77[3]||_aa.main));}else{pid="";}var _b0=0,_b1=0;_9(_a8,function(_b2){var _b3=mid.match(_b2[0]);if(_b3&&_b3.length>_b0){_b1=_6(_b2[1])?mid.replace(_b2[0],_b2[1]):_b2[1];}});if(_b1){return _a1(_b1,0,_a3,_a4,_a5,_a6,_a7,_a8,_a9);}_ad=_a4[mid];if(_ad){return _a9?_87(_ad.pid,_ad.mid,_ad.pack,_ad.url):_a4[mid];}}_ac=_99(mid,_a7);if(_ac){url=_ac[1]+mid.substring(_ac[3]);}else{if(pid){url=_aa.location+"/"+_ab;}else{if(has("config-tlmSiblingOfDojo")){url="../"+mid;}else{url=mid;}}}if(!(/(^\/)|(\:)/.test(url))){url=_a5+url;}url+=".js";return _87(pid,mid,_aa,_9b(url));},_5d=function(mid,_b4,_b5){return _a1(mid,_b4,_50,_30,req.baseUrl,_b5?[]:_51,_b5?[]:_4f,_b5?[]:_4d);},_b6=function(_b7,_b8,_b9){return _b7.normalize?_b7.normalize(_b8,function(mid){return _ba(mid,_b9);}):_ba(_b8,_b9);},_bb=0,_32=function(mid,_bc,_bd){var _be,_bf,_c0,_c1;_be=mid.match(/^(.+?)\!(.*)$/);if(_be){_bf=_32(_be[1],_bc,_bd);if(1&&_26==_27&&!_bf.executed){_33(_bf);if(_bf.injected===_22&&!_bf.executed){_38(function(){_37(_bf);});}if(_bf.executed){_c2(_bf);}else{_31.unshift(_bf);}}if(_bf.executed===_25&&!_bf.load){_c2(_bf);}if(_bf.load){_c0=_b6(_bf,_be[2],_bc);mid=(_bf.mid+"!"+(_bf.dynamic?++_bb+"!":"")+_c0);}else{_c0=_be[2];mid=_bf.mid+"!"+(++_bb)+"!waitingForPlugin";}_c1={plugin:_bf,mid:mid,req:_5e(_bc),prid:_c0};}else{_c1=_5d(mid,_bc);}return _30[_c1.mid]||(!_bd&&(_30[_c1.mid]=_c1));},_ba=req.toAbsMid=function(mid,_c3){return _5d(mid,_c3).mid;},_5c=req.toUrl=function(_c4,_c5){var _c6=_5d(_c4+"/x",_c5),url=_c6.url;return _40(_c6.pid===0?_c4:url.substring(0,url.length-5));},_c7={injected:_22,executed:_25,def:_23,result:_23},_c8=function(mid){return _30[mid]=_c({mid:mid},_c7);},_c9=_c8("require"),_ca=_c8("exports"),_cb=_c8("module"),_cc=function(_cd,_ce){req.trace("loader-run-factory",[_cd.mid]);var _cf=_cd.def,_d0;1&&_28.unshift(_cd);if(has("config-dojo-loader-catches")){try{_d0=_6(_cf)?_cf.apply(null,_ce):_cf;}catch(e){_35(_45,_cd.result=_f("factoryThrew",[_cd,e]));}}else{_d0=_6(_cf)?_cf.apply(null,_ce):_cf;}_cd.result=_d0===undefined&&_cd.cjs?_cd.cjs.exports:_d0;1&&_28.shift(_cd);},_d1={},_d2=0,_c2=function(_d3){var _d4=_d3.result;_d3.dynamic=_d4.dynamic;_d3.normalize=_d4.normalize;_d3.load=_d4.load;return _d3;},_d5=function(_d6){var map={};_9(_d6.loadQ,function(_d7){var _d8=_b6(_d6,_d7.prid,_d7.req.module),mid=_d6.dynamic?_d7.mid.replace(/waitingForPlugin$/,_d8):(_d6.mid+"!"+_d8),_d9=_c(_c({},_d7),{mid:mid,prid:_d8,injected:0});if(!_30[mid]){_eb(_30[mid]=_d9);}map[_d7.mid]=_30[mid];_34(_d7);delete _30[_d7.mid];});_d6.loadQ=0;var _da=function(_db){for(var _dc,_dd=_db.deps||[],i=0;i<_dd.length;i++){_dc=map[_dd[i].mid];if(_dc){_dd[i]=_dc;}}};for(var p in _30){_da(_30[p]);}_9(_31,_da);},_36=function(_de){req.trace("loader-finish-exec",[_de.mid]);_de.executed=_25;_de.defOrder=_d2++;1&&_9(_de.provides,function(cb){cb();});if(_de.loadQ){_c2(_de);_d5(_de);}for(i=0;i<_31.length;){if(_31[i]===_de){_31.splice(i,1);}else{i++;}}if(/^require\*/.test(_de.mid)){delete _30[_de.mid];}},_df=[],_37=function(_e0,_e1){if(_e0.executed===_24){req.trace("loader-circular-dependency",[_df.concat(_e0.mid).join("->")]);return (!_e0.def||_e1)?_d1:(_e0.cjs&&_e0.cjs.exports);}if(!_e0.executed){if(!_e0.def){return _d1;}var mid=_e0.mid,_e2=_e0.deps||[],arg,_e3,_e4=[],i=0;if(0){_df.push(mid);req.trace("loader-exec-module",["exec",_df.length,mid]);}_e0.executed=_24;while((arg=_e2[i++])){_e3=((arg===_c9)?_5e(_e0):((arg===_ca)?_e0.cjs.exports:((arg===_cb)?_e0.cjs:_37(arg,_e1))));if(_e3===_d1){_e0.executed=0;req.trace("loader-exec-module",["abort",mid]);0&&_df.pop();return _d1;}_e4.push(_e3);}_cc(_e0,_e4);_36(_e0);0&&_df.pop();}return _e0.result;},_89=0,_38=function(_e5){try{_89++;_e5();}finally{_89--;}if(_98()){_35("idle",[]);}},_80=function(){if(_89){return;}_38(function(){_2a();for(var _e6,_e7,i=0;i<_31.length;){_e6=_d2;_e7=_31[i];_37(_e7);if(_e6!=_d2){_2a();i=0;}else{i++;}}});};if(0){req.undef=function(_e8,_e9){var _ea=_32(_e8,_e9);_34(_ea);_c(_ea,{def:0,executed:0,injected:0,node:0});};}if(1){if(has("dojo-loader-eval-hint-url")===undefined){has.add("dojo-loader-eval-hint-url",1);}var _40=typeof _1.fixupUrl=="function"?_1.fixupUrl:function(url){url+="";return url+(_52?((/\?/.test(url)?"&":"?")+_52):"");},_eb=function(_ec){var _ed=_ec.plugin;if(_ed.executed===_25&&!_ed.load){_c2(_ed);}var _ee=function(def){_ec.result=def;_34(_ec);_36(_ec);_80();};if(_ed.load){_ed.load(_ec.prid,_ec.req,_ee);}else{if(_ed.loadQ){_ed.loadQ.push(_ec);}else{_ed.loadQ=[_ec];_31.unshift(_ed);_33(_ed);}}},_8f=0,_81=0,_ef=0,_90=function(_f0,_f1){if(has("config-stripStrict")){_f0=_f0.replace(/"use strict"/g,"");}_ef=1;if(has("config-dojo-loader-catches")){try{if(_f0===_8f){_8f.call(null);}else{req.eval(_f0,has("dojo-loader-eval-hint-url")?_f1.url:_f1.mid);}}catch(e){_35(_45,_f("evalModuleThrew",_f1));}}else{if(_f0===_8f){_8f.call(null);}else{req.eval(_f0,has("dojo-loader-eval-hint-url")?_f1.url:_f1.mid);}}_ef=0;},_33=function(_f2){var mid=_f2.mid,url=_f2.url;if(_f2.executed||_f2.injected||_92[mid]||(_f2.url&&((_f2.pack&&_92[_f2.url]===_f2.pack)||_92[_f2.url]==1))){return;}_93(_f2);if(0){var _f3=0;if(_f2.plugin&&_f2.plugin.isCombo){req.combo.add(_f2.plugin.mid,_f2.prid,0,req);_f3=1;}else{if(!_f2.plugin){_f3=req.combo.add(0,_f2.mid,_f2.url,req);}}if(_f3){_78=1;return;}}if(_f2.plugin){_eb(_f2);return;}var _f4=function(){_7f(_f2);if(_f2.injected!==_22){if(has("dojo-enforceDefine")){_35(_45,_f("noDefine",_f2));return;}_34(_f2);_c(_f2,_c7);req.trace("loader-define-nonmodule",[_f2.url]);}if(1&&_26){!_28.length&&_80();}else{_80();}};_8f=_53[mid]||_53[_54+_f2.url];if(_8f){req.trace("loader-inject",["cache",_f2.mid,url]);_90(_8f,_f2);_f4();return;}if(1&&_26){if(_f2.isXd){_26==_27&&(_26=xd);}else{if(_f2.isAmd&&_26!=_27){}else{var _f5=function(_f6){if(_26==_27){_28.unshift(_f2);_90(_f6,_f2);_28.shift();_7f(_f2);if(!_f2.cjs){_34(_f2);_36(_f2);}if(_f2.finish){var _f7=mid+"*finish",_f8=_f2.finish;delete _f2.finish;def(_f7,["dojo",("dojo/require!"+_f8.join(",")).replace(/\./g,"/")],function(_f9){_9(_f8,function(mid){_f9.require(mid);});});_31.unshift(_32(_f7));}_f4();}else{_f6=_2b(_f2,_f6);if(_f6){_90(_f6,_f2);_f4();}else{_81=_f2;req.injectUrl(_40(url),_f4,_f2);_81=0;}}};req.trace("loader-inject",["xhr",_f2.mid,url,_26!=_27]);if(has("config-dojo-loader-catches")){try{req.getText(url,_26!=_27,_f5);}catch(e){_35(_45,_f("xhrInjectFailed",[_f2,e]));}}else{req.getText(url,_26!=_27,_f5);}return;}}}req.trace("loader-inject",["script",_f2.mid,url]);_81=_f2;req.injectUrl(_40(url),_f4,_f2);_81=0;},_fa=function(_fb,_fc,def){req.trace("loader-define-module",[_fb.mid,_fc]);if(0&&_fb.plugin&&_fb.plugin.isCombo){_fb.result=_6(def)?def():def;_34(_fb);_36(_fb);return _fb;}var mid=_fb.mid;if(_fb.injected===_22){_35(_45,_f("multipleDefine",_fb));return _fb;}_c(_fb,{deps:_fc,def:def,cjs:{id:_fb.mid,uri:_fb.url,exports:(_fb.result={}),setExports:function(_fd){_fb.cjs.exports=_fd;},config:function(){return _fb.config;}}});for(var i=0;_fc[i];i++){_fc[i]=_32(_fc[i],_fb);}if(1&&_26&&!_92[mid]){_7b(_fb);_31.push(_fb);_80();}_34(_fb);if(!_6(def)&&!_fc.length){_fb.result=def;_36(_fb);}return _fb;},_7f=function(_fe,_ff){var _100=[],_101,args;while(_91.length){args=_91.shift();_ff&&(args[0]=_ff.shift());_101=(args[0]&&_32(args[0]))||_fe;_100.push([_101,args[1],args[2]]);}_58(_fe);_9(_100,function(args){_7b(_fa.apply(null,args));});};}var _102=0,_97=_3,_95=_3;if(1){_97=function(){_102&&clearTimeout(_102);_102=0;};_95=function(){_97();if(req.waitms){_102=_17.setTimeout(function(){_97();_35(_45,_f("timeout",_92));},req.waitms);}};}if(1){has.add("ie-event-behavior",doc.attachEvent&&typeof Windows==="undefined"&&(typeof opera==="undefined"||opera.toString()!="[object Opera]"));}if(1&&(1||1)){var _103=function(node,_104,_105,_106){if(!has("ie-event-behavior")){node.addEventListener(_104,_106,false);return function(){node.removeEventListener(_104,_106,false);};}else{node.attachEvent(_105,_106);return function(){node.detachEvent(_105,_106);};}},_107=_103(window,"load","onload",function(){req.pageLoaded=1;doc.readyState!="complete"&&(doc.readyState="complete");_107();});if(1){var _74=doc.getElementsByTagName("script"),i=0,_75;while(!_57){if(!/^dojo/.test((_75=_74[i++])&&_75.type)){_57=_75;}}req.injectUrl=function(url,_108,_109){var node=_109.node=doc.createElement("script"),_10a=function(e){e=e||window.event;var node=e.target||e.srcElement;if(e.type==="load"||/complete|loaded/.test(node.readyState)){_10b();_10c();_108&&_108();}},_10b=_103(node,"load","onreadystatechange",_10a),_10c=_103(node,"error","onerror",function(e){_10b();_10c();_35(_45,_f("scriptError",[url,e]));});node.type="text/javascript";node.charset="utf-8";node.src=url;_57.parentNode.insertBefore(node,_57);return node;};}}if(1){req.log=function(){try{for(var i=0;i<arguments.length;i++){}}catch(e){}};}else{req.log=_3;}if(0){var _10d=req.trace=function(_10e,args){if(_10d.on&&_10d.group[_10e]){_35("trace",[_10e,args]);for(var arg,dump=[],text="trace:"+_10e+(args.length?(":"+args[0]):""),i=1;i<args.length;){arg=args[i++];if(_7(arg)){text+=", "+arg;}else{dump.push(arg);}}req.log(text);dump.length&&dump.push(".");req.log.apply(req,dump);}};_c(_10d,{on:1,group:{},set:function(_10f,_110){if(_7(_10f)){_10d.group[_10f]=_110;}else{_c(_10d.group,_10f);}}});_10d.set(_c(_c(_c({},_2.trace),_1.trace),_56.trace));on("config",function(_111){_111.trace&&_10d.set(_111.trace);});}else{req.trace=_3;}var def=function(mid,_112,_113){var _114=arguments.length,_115=["require","exports","module"],args=[0,mid,_112];if(_114==1){args=[0,(_6(mid)?_115:[]),mid];}else{if(_114==2&&_7(mid)){args=[mid,(_6(_112)?_115:[]),_112];}else{if(_114==3){args=[mid,_112,_113];}}}if(0&&args[1]===_115){args[2].toString().replace(/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,"").replace(/require\(["']([\w\!\-_\.\/]+)["']\)/g,function(_116,dep){args[1].push(dep);});}req.trace("loader-define",args.slice(0,2));var _117=args[0]&&_32(args[0]),_118;if(_117&&!_92[_117.mid]){_7b(_fa(_117,args[1],args[2]));}else{if(!has("ie-event-behavior")||!1||_ef){_91.push(args);}else{_117=_117||_81;if(!_117){for(mid in _92){_118=_30[mid];if(_118&&_118.node&&_118.node.readyState==="interactive"){_117=_118;break;}}if(0&&!_117){for(var i=0;i<_79.length;i++){_117=_79[i];if(_117.node&&_117.node.readyState==="interactive"){break;}_117=0;}}}if(0&&_8(_117)){_7b(_fa(_32(_117.shift()),args[1],args[2]));if(!_117.length){_79.splice(i,1);}}else{if(_117){_58(_117);_7b(_fa(_117,args[1],args[2]));}else{_35(_45,_f("ieDefineFailed",args[0]));}}_80();}}};def.amd={vendor:"dojotoolkit.org"};if(0){req.def=def;}_c(_c(req,_2.loaderPatch),_1.loaderPatch);on(_45,function(arg){try{console.error(arg);if(arg instanceof Error){for(var p in arg){}}}catch(e){}});_c(req,{uid:uid,cache:_53,packs:_50});if(0){_c(req,{paths:_4e,aliases:_4d,modules:_30,legacyMode:_26,execQ:_31,defQ:_91,waiting:_92,packs:_50,mapProgs:_51,pathsMapProg:_4f,listenerQueues:_44,computeMapProg:_60,computeAliases:_62,runMapProg:_99,compactPath:_9b,getModuleInfo:_a1});}if(_17.define){if(1){_35(_45,_f("defineAlreadyDefined",0));}return;}else{_17.define=def;_17.require=req;if(0){require=req;}}if(0&&req.combo&&req.combo.plugins){var _119=req.combo.plugins,_11a;for(_11a in _119){_c(_c(_32(_11a),_119[_11a]),{isCombo:1,executed:"executed",load:1});}}if(1){_9(_69,function(c){_6a(c);});var _11b=_56.deps||_1.deps||_2.deps,_11c=_56.callback||_1.callback||_2.callback;req.boot=(_11b||_11c)?[_11b||[],_11c]:0;}if(!1){!req.async&&req(["dojo"]);req.boot&&req.apply(null,req.boot);}})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../mendix",name:"mendix"},{location:"../mxui",name:"mxui"},{location:"../reporting",name:"reporting"},{location:"../webcore",name:"webcore"},{location:"../big",main:"big",name:"big"},{location:"../fastclick",name:"fastclick"},{location:"../react-client",name:"react-client"},{location:"../bluebird",name:"bluebird"},{location:".",name:"dojo"}]});require({cache:{"dojo/main":function(){define(["./_base/kernel","./has","require","./sniff","./_base/lang","./_base/array","./_base/config","./ready","./_base/declare","./_base/connect","./_base/Deferred","./_base/json","./_base/Color","./has!dojo-firebug?./_firebug/firebug","./_base/browser","./_base/loader"],function(_11d,has,_11e,_11f,lang,_120,_121,_122){if(_121.isDebug){_11e(["./_firebug/firebug"]);}1||has.add("dojo-config-require",1);if(1){var deps=_121.require;if(deps){deps=_120.map(lang.isArray(deps)?deps:[deps],function(item){return item.replace(/\./g,"/");});if(_11d.isAsync){_11e(deps);}else{_122(1,function(){_11e(deps);});}}}return _11d;});},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(has,_123,_124,_125){var i,p,_126=(function(){return this;})(),_127={},_128={},dojo={config:_123,global:_126,dijit:_127,dojox:_128};var _129={dojo:["dojo",dojo],dijit:["dijit",_127],dojox:["dojox",_128]},_12a=(_124.map&&_124.map[_125.id.match(/[^\/]+/)[0]]),item;for(p in _12a){if(_129[p]){_129[p][0]=_12a[p];}else{_129[p]=[_12a[p],{}];}}for(p in _129){item=_129[p];item[1]._scopeName=item[0];if(!_123.noGlobals){_126[item[0]]=item[1];}}dojo.scopeMap=_129;dojo.baseUrl=dojo.config.baseUrl=_124.baseUrl;dojo.isAsync=!1||_124.async;dojo.locale=_123.locale;var rev="$Rev: 18f9767 $".match(/[0-9a-f]{7,}/);dojo.version={major:6,minor:0,patch:0,flag:"-build7449",revision:rev?rev[0]:NaN,toString:function(){var v=dojo.version;return v.major+"."+v.minor+"."+v.patch+v.flag+" ("+v.revision+")";}};1||has.add("extend-dojo",1);(Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}"))(dojo);if(0){dojo.exit=function(_12b){quit(_12b);};}else{dojo.exit=function(){};}1||has.add("dojo-guarantee-console",1);if(1){typeof console!="undefined"||(console={});var cn=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];var tn;i=0;while((tn=cn[i++])){if(!console[tn]){(function(){var tcn=tn+"";console[tcn]=("log" in console)?function(){var a=Array.prototype.slice.call(arguments);a.unshift(tcn+":");console["log"](a.join(" "));}:function(){};console[tcn]._fake=true;})();}}}has.add("dojo-debug-messages",!!_123.isDebug);dojo.deprecated=dojo.experimental=function(){};if(has("dojo-debug-messages")){dojo.deprecated=function(_12c,_12d,_12e){var _12f="DEPRECATED: "+_12c;if(_12d){_12f+=" "+_12d;}if(_12e){_12f+=" -- will be removed in version: "+_12e;}console.warn(_12f);};dojo.experimental=function(_130,_131){var _132="EXPERIMENTAL: "+_130+" -- APIs subject to change without notice.";if(_131){_132+=" "+_131;}console.warn(_132);};}1||has.add("dojo-modulePaths",1);if(1){if(_123.modulePaths){dojo.deprecated("dojo.modulePaths","use paths configuration");var _133={};for(p in _123.modulePaths){_133[p.replace(/\./g,"/")]=_123.modulePaths[p];}_124({paths:_133});}}1||has.add("dojo-moduleUrl",1);if(1){dojo.moduleUrl=function(_134,url){dojo.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var _135=null;if(_134){_135=_124.toUrl(_134.replace(/\./g,"/")+(url?("/"+url):"")+"/*.*").replace(/\/\*\.\*/,"")+(url?"":"/");}return _135;};}dojo._hasResource={};return dojo;});},"dojo/has":function(){define(["require","module"],function(_136,_137){var has=_136.has||function(){};if(!1){var _138=typeof window!="undefined"&&typeof location!="undefined"&&typeof document!="undefined"&&window.location==location&&window.document==document,_139=(function(){return this;})(),doc=_138&&document,_13a=doc&&doc.createElement("DiV"),_13b=(_137.config&&_137.config())||{};has=function(name){return typeof _13b[name]=="function"?(_13b[name]=_13b[name](_139,doc,_13a)):_13b[name];};has.cache=_13b;has.add=function(name,test,now,_13c){(typeof _13b[name]=="undefined"||_13c)&&(_13b[name]=test);return now&&has(name);};1||has.add("host-browser",_138);0&&has.add("host-node",(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8));0&&has.add("host-rhino",(typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")));1||has.add("dom",_138);1||has.add("dojo-dom-ready-api",1);1||has.add("dojo-sniff",1);}if(1){has.add("dom-addeventlistener",!!document.addEventListener);has.add("touch","ontouchstart" in document||("onpointerdown" in document&&navigator.maxTouchPoints>0)||window.navigator.msMaxTouchPoints);has.add("touch-events","ontouchstart" in document);has.add("pointer-events","onpointerdown" in document);has.add("MSPointer","msMaxTouchPoints" in navigator);has.add("device-width",screen.availWidth||innerWidth);var form=document.createElement("form");has.add("dom-attributes-explicit",form.attributes.length==0);has.add("dom-attributes-specified-flag",form.attributes.length>0&&form.attributes.length<40);}has.clearElement=function(_13d){_13d.innerHTML="";return _13d;};has.normalize=function(id,_13e){var _13f=id.match(/[\?:]|[^:\?]*/g),i=0,get=function(skip){var term=_13f[i++];if(term==":"){return 0;}else{if(_13f[i++]=="?"){if(!skip&&has(term)){return get();}else{get(true);return get(skip);}}return term||0;}};id=get();return id&&_13e(id);};has.load=function(id,_140,_141){if(id){_140([id],_141);}else{_141();}};return has;});},"dojo/_base/config":function(){define(["../has","require"],function(has,_142){var _143={};if(1){var src=_142.rawConfig,p;for(p in src){_143[p]=src[p];}}else{var _144=function(_145,_146,_147){for(p in _145){p!="has"&&has.add(_146+p,_145[p],0,_147);}};var _148=(function(){return this;})();_143=1?_142.rawConfig:_148.dojoConfig||_148.djConfig||{};_144(_143,"config",1);_144(_143.has,"",1);}if(!_143.locale&&typeof navigator!="undefined"){var _149=(navigator.language||navigator.userLanguage);if(_149){_143.locale=_149.toLowerCase();}}return _143;});},"dojo/sniff":function(){define(["./has"],function(has){if(1){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);has.add("air",dua.indexOf("AdobeAIR")>=0);has.add("msapp",parseFloat(dua.split("MSAppHost/")[1])||undefined);has.add("khtml",dav.indexOf("Konqueror")>=0?tv:undefined);has.add("webkit",parseFloat(dua.split("WebKit/")[1])||undefined);has.add("chrome",parseFloat(dua.split("Chrome/")[1])||undefined);has.add("safari",dav.indexOf("Safari")>=0&&!has("chrome")?parseFloat(dav.split("Version/")[1]):undefined);has.add("mac",dav.indexOf("Macintosh")>=0);has.add("quirks",document.compatMode=="BackCompat");if(dua.match(/(iPhone|iPod|iPad)/)){var p=RegExp.$1.replace(/P/,"p");var v=dua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));has.add(p,os);has.add("ios",os);}has.add("android",parseFloat(dua.split("Android ")[1])||undefined);has.add("bb",(dua.indexOf("BlackBerry")>=0||dua.indexOf("BB10")>=0)&&parseFloat(dua.split("Version/")[1])||undefined);has.add("trident",parseFloat(dav.split("Trident/")[1])||undefined);has.add("svg",typeof SVGAngle!=="undefined");if(!has("webkit")){if(dua.indexOf("Opera")>=0){has.add("opera",tv>=9.8?parseFloat(dua.split("Version/")[1])||tv:tv);}if(dua.indexOf("Gecko")>=0&&!has("khtml")&&!has("webkit")&&!has("trident")){has.add("mozilla",tv);}if(has("mozilla")){has.add("ff",parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||undefined);}if(document.all&&!has("opera")){var isIE=parseFloat(dav.split("MSIE ")[1])||undefined;var mode=document.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}has.add("ie",isIE);}has.add("wii",typeof opera!="undefined"&&opera.wiiremote);}}return has;});},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(dojo,has){has.add("bug-for-in-skips-shadowed",function(){for(var i in {toString:1}){return 0;}return 1;});var _14a=has("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],_14b=_14a.length,_14c=function(_14d,_14e,_14f){if(!_14f){if(_14d[0]&&dojo.scopeMap[_14d[0]]){_14f=dojo.scopeMap[_14d.shift()][1];}else{_14f=dojo.global;}}try{for(var i=0;i<_14d.length;i++){var p=_14d[i];if(!(p in _14f)){if(_14e){_14f[p]={};}else{return;}}_14f=_14f[p];}return _14f;}catch(e){}},opts=Object.prototype.toString,_150=function(obj,_151,_152){return (_152||[]).concat(Array.prototype.slice.call(obj,_151||0));},_153=/\{([^\}]+)\}/g;var lang={_extraNames:_14a,_mixin:function(dest,_154,_155){var name,s,i,_156={};for(name in _154){s=_154[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _156)||_156[name]!==s))){dest[name]=_155?_155(s):s;}}if(has("bug-for-in-skips-shadowed")){if(_154){for(i=0;i<_14b;++i){name=_14a[i];s=_154[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _156)||_156[name]!==s))){dest[name]=_155?_155(s):s;}}}}return dest;},mixin:function(dest,_157){if(!dest){dest={};}for(var i=1,l=arguments.length;i<l;i++){lang._mixin(dest,arguments[i]);}return dest;},setObject:function(name,_158,_159){var _15a=name.split("."),p=_15a.pop(),obj=_14c(_15a,true,_159);return obj&&p?(obj[p]=_158):undefined;},getObject:function(name,_15b,_15c){return _14c(name?name.split("."):[],_15b,_15c);},exists:function(name,obj){return lang.getObject(name,false,obj)!==undefined;},isString:function(it){return (typeof it=="string"||it instanceof String);},isArray:function(it){return it&&(it instanceof Array||typeof it=="array");},isFunction:function(it){return opts.call(it)==="[object Function]";},isObject:function(it){return it!==undefined&&(it===null||typeof it=="object"||lang.isArray(it)||lang.isFunction(it));},isArrayLike:function(it){return it&&it!==undefined&&!lang.isString(it)&&!lang.isFunction(it)&&!(it.tagName&&it.tagName.toLowerCase()=="form")&&(lang.isArray(it)||isFinite(it.length));},isAlien:function(it){return it&&!lang.isFunction(it)&&/\{\s*\[native code\]\s*\}/.test(String(it));},extend:function(ctor,_15d){for(var i=1,l=arguments.length;i<l;i++){lang._mixin(ctor.prototype,arguments[i]);}return ctor;},_hitchArgs:function(_15e,_15f){var pre=lang._toArray(arguments,2);var _160=lang.isString(_15f);return function(){var args=lang._toArray(arguments);var f=_160?(_15e||dojo.global)[_15f]:_15f;return f&&f.apply(_15e||this,pre.concat(args));};},hitch:function(_161,_162){if(arguments.length>2){return lang._hitchArgs.apply(dojo,arguments);}if(!_162){_162=_161;_161=null;}if(lang.isString(_162)){_161=_161||dojo.global;if(!_161[_162]){throw (["lang.hitch: scope[\"",_162,"\"] is null (scope=\"",_161,"\")"].join(""));}return function(){return _161[_162].apply(_161,arguments||[]);};}return !_161?_162:function(){return _162.apply(_161,arguments||[]);};},delegate:(function(){function TMP(){};return function(obj,_163){TMP.prototype=obj;var tmp=new TMP();TMP.prototype=null;if(_163){lang._mixin(tmp,_163);}return tmp;};})(),_toArray:has("ie")?(function(){function slow(obj,_164,_165){var arr=_165||[];for(var x=_164||0;x<obj.length;x++){arr.push(obj[x]);}return arr;};return function(obj){return ((obj.item)?slow:_150).apply(this,arguments);};})():_150,partial:function(_166){var arr=[null];return lang.hitch.apply(dojo,arr.concat(lang._toArray(arguments)));},clone:function(src){if(!src||typeof src!="object"||lang.isFunction(src)){return src;}if(src.nodeType&&"cloneNode" in src){return src.cloneNode(true);}if(src instanceof Date){return new Date(src.getTime());}if(src instanceof RegExp){return new RegExp(src);}var r,i,l;if(lang.isArray(src)){r=[];for(i=0,l=src.length;i<l;++i){if(i in src){r.push(lang.clone(src[i]));}}}else{r=src.constructor?new src.constructor():{};}return lang._mixin(r,src,lang.clone);},trim:String.prototype.trim?function(str){return str.trim();}:function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");},replace:function(tmpl,map,_167){return tmpl.replace(_167||_153,lang.isFunction(map)?map:function(_168,k){return lang.getObject(k,false,map);});}};1&&lang.mixin(dojo,lang);return lang;});},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var _169={},u;function _16a(fn){return _169[fn]=new Function("item","index","array",fn);};function _16b(some){var _16c=!some;return function(a,fn,o){var i=0,l=a&&a.length||0,_16d;if(l&&typeof a=="string"){a=a.split("");}if(typeof fn=="string"){fn=_169[fn]||_16a(fn);}if(o){for(;i<l;++i){_16d=!fn.call(o,a[i],i,a);if(some^_16d){return !_16d;}}}else{for(;i<l;++i){_16d=!fn(a[i],i,a);if(some^_16d){return !_16d;}}}return _16c;};};function _16e(up){var _16f=1,_170=0,_171=0;if(!up){_16f=_170=_171=-1;}return function(a,x,from,last){if(last&&_16f>0){return _172.lastIndexOf(a,x,from);}var l=a&&a.length||0,end=up?l+_171:_170,i;if(from===u){i=up?_170:l+_171;}else{if(from<0){i=l+from;if(i<0){i=_170;}}else{i=from>=l?l+_171:from;}}if(l&&typeof a=="string"){a=a.split("");}for(;i!=end;i+=_16f){if(a[i]==x){return i;}}return -1;};};var _172={every:_16b(false),some:_16b(true),indexOf:_16e(true),lastIndexOf:_16e(false),forEach:function(arr,_173,_174){var i=0,l=arr&&arr.length||0;if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _173=="string"){_173=_169[_173]||_16a(_173);}if(_174){for(;i<l;++i){_173.call(_174,arr[i],i,arr);}}else{for(;i<l;++i){_173(arr[i],i,arr);}}},map:function(arr,_175,_176,Ctr){var i=0,l=arr&&arr.length||0,out=new (Ctr||Array)(l);if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _175=="string"){_175=_169[_175]||_16a(_175);}if(_176){for(;i<l;++i){out[i]=_175.call(_176,arr[i],i,arr);}}else{for(;i<l;++i){out[i]=_175(arr[i],i,arr);}}return out;},filter:function(arr,_177,_178){var i=0,l=arr&&arr.length||0,out=[],_179;if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _177=="string"){_177=_169[_177]||_16a(_177);}if(_178){for(;i<l;++i){_179=arr[i];if(_177.call(_178,_179,i,arr)){out.push(_179);}}}else{for(;i<l;++i){_179=arr[i];if(_177(_179,i,arr)){out.push(_179);}}}return out;},clearCache:function(){_169={};}};1&&lang.mixin(dojo,_172);return _172;});},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(dojo,has,_17a,_17b,lang){var _17c=0,_17d=[],_17e=0,_17f=function(){_17c=1;dojo._postLoad=dojo.config.afterOnLoad=true;_180();},_180=function(){if(_17e){return;}_17e=1;while(_17c&&(!_17b||_17b._Q.length==0)&&(_17a.idle?_17a.idle():true)&&_17d.length){var f=_17d.shift();try{f();}catch(e){e.info=e.message;if(_17a.signal){_17a.signal("error",e);}else{throw e;}}}_17e=0;};_17a.on&&_17a.on("idle",_180);if(_17b){_17b._onQEmpty=_180;}var _181=dojo.ready=dojo.addOnLoad=function(_182,_183,_184){var _185=lang._toArray(arguments);if(typeof _182!="number"){_184=_183;_183=_182;_182=1000;}else{_185.shift();}_184=_184?lang.hitch.apply(dojo,_185):function(){_183();};_184.priority=_182;for(var i=0;i<_17d.length&&_182>=_17d[i].priority;i++){}_17d.splice(i,0,_184);_180();};1||has.add("dojo-config-addOnLoad",1);if(1){var dca=dojo.config.addOnLoad;if(dca){_181[(lang.isArray(dca)?"apply":"call")](dojo,dca);}}if(1&&dojo.config.parseOnLoad&&!dojo.isAsync){_181(99,function(){if(!dojo.parser){dojo.deprecated("Add explicit require(['dojo/parser']);","","2.0");_17a(["dojo/parser"]);}});}if(_17b){_17b(_17f);}else{_17f();}return _181;});},"dojo/domReady":function(){define(["./has"],function(has){var _186=(function(){return this;})(),doc=document,_187={"loaded":1,"complete":1},_188=typeof doc.readyState!="string",_189=!!_187[doc.readyState],_18a=[],_18b;function _18c(_18d){_18a.push(_18d);if(_189){_18e();}};_18c.load=function(id,req,load){_18c(load);};_18c._Q=_18a;_18c._onQEmpty=function(){};if(_188){doc.readyState="loading";}function _18e(){if(_18b){return;}_18b=true;while(_18a.length){try{(_18a.shift())(doc);}catch(err){console.error(err,"in domReady callback",err.stack);}}_18b=false;_18c._onQEmpty();};if(!_189){var _18f=[],_190=function(evt){evt=evt||_186.event;if(_189||(evt.type=="readystatechange"&&!_187[doc.readyState])){return;}if(_188){doc.readyState="complete";}_189=1;_18e();},on=function(node,_191){node.addEventListener(_191,_190,false);_18a.push(function(){node.removeEventListener(_191,_190,false);});};if(!has("dom-addeventlistener")){on=function(node,_192){_192="on"+_192;node.attachEvent(_192,_190);_18a.push(function(){node.detachEvent(_192,_190);});};var div=doc.createElement("div");try{if(div.doScroll&&_186.frameElement===null){_18f.push(function(){try{div.doScroll("left");return 1;}catch(e){}});}}catch(e){}}on(doc,"DOMContentLoaded");on(_186,"load");if("onreadystatechange" in doc){on(doc,"readystatechange");}else{if(!_188){_18f.push(function(){return _187[doc.readyState];});}}if(_18f.length){var _193=function(){if(_189){return;}var i=_18f.length;while(i--){if(_18f[i]()){_190("poller");return;}}setTimeout(_193,30);};_193();}}return _18c;});},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var mix=lang.mixin,op=Object.prototype,opts=op.toString,xtor=new Function,_194=0,_195="constructor";function err(msg,cls){throw new Error("declare"+(cls?" "+cls:"")+": "+msg);};function _196(_197,_198){var _199=[],_19a=[{cls:0,refs:[]}],_19b={},_19c=1,l=_197.length,i=0,j,lin,base,top,_19d,rec,name,refs;for(;i<l;++i){base=_197[i];if(!base){err("mixin #"+i+" is unknown. Did you use dojo.require to pull it in?",_198);}else{if(opts.call(base)!="[object Function]"){err("mixin #"+i+" is not a callable constructor.",_198);}}lin=base._meta?base._meta.bases:[base];top=0;for(j=lin.length-1;j>=0;--j){_19d=lin[j].prototype;if(!_19d.hasOwnProperty("declaredClass")){_19d.declaredClass="uniqName_"+(_194++);}name=_19d.declaredClass;if(!_19b.hasOwnProperty(name)){_19b[name]={count:0,refs:[],cls:lin[j]};++_19c;}rec=_19b[name];if(top&&top!==rec){rec.refs.push(top);++top.count;}top=rec;}++top.count;_19a[0].refs.push(top);}while(_19a.length){top=_19a.pop();_199.push(top.cls);--_19c;while(refs=top.refs,refs.length==1){top=refs[0];if(!top||--top.count){top=0;break;}_199.push(top.cls);--_19c;}if(top){for(i=0,l=refs.length;i<l;++i){top=refs[i];if(!--top.count){_19a.push(top);}}}}if(_19c){err("can't build consistent linearization",_198);}base=_197[0];_199[0]=base?base._meta&&base===_199[_199.length-base._meta.bases.length]?base._meta.bases.length:1:0;return _199;};function _19e(args,a,f){var name,_19f,_1a0,_1a1,meta,base,_1a2,opf,pos,_1a3=this._inherited=this._inherited||{};if(typeof args=="string"){name=args;args=a;a=f;}f=0;_1a1=args.callee;name=name||_1a1.nom;if(!name){err("can't deduce a name to call inherited()",this.declaredClass);}meta=this.constructor._meta;_1a0=meta.bases;pos=_1a3.p;if(name!=_195){if(_1a3.c!==_1a1){pos=0;base=_1a0[0];meta=base._meta;if(meta.hidden[name]!==_1a1){_19f=meta.chains;if(_19f&&typeof _19f[name]=="string"){err("calling chained method with inherited: "+name,this.declaredClass);}do{meta=base._meta;_1a2=base.prototype;if(meta&&(_1a2[name]===_1a1&&_1a2.hasOwnProperty(name)||meta.hidden[name]===_1a1)){break;}}while(base=_1a0[++pos]);pos=base?pos:-1;}}base=_1a0[++pos];if(base){_1a2=base.prototype;if(base._meta&&_1a2.hasOwnProperty(name)){f=_1a2[name];}else{opf=op[name];do{_1a2=base.prototype;f=_1a2[name];if(f&&(base._meta?_1a2.hasOwnProperty(name):f!==opf)){break;}}while(base=_1a0[++pos]);}}f=base&&f||op[name];}else{if(_1a3.c!==_1a1){pos=0;meta=_1a0[0]._meta;if(meta&&meta.ctor!==_1a1){_19f=meta.chains;if(!_19f||_19f.constructor!=="manual"){err("calling chained constructor with inherited",this.declaredClass);}while(base=_1a0[++pos]){meta=base._meta;if(meta&&meta.ctor===_1a1){break;}}pos=base?pos:-1;}}while(base=_1a0[++pos]){meta=base._meta;f=meta?meta.ctor:base;if(f){break;}}f=base&&f;}_1a3.c=f;_1a3.p=pos;if(f){return a===true?f:f.apply(this,a||args);}};function _1a4(name,args){if(typeof name=="string"){return this.__inherited(name,args,true);}return this.__inherited(name,true);};function _1a5(args,a1,a2){var f=this.getInherited(args,a1);if(f){return f.apply(this,a2||a1||args);}};var _1a6=dojo.config.isDebug?_1a5:_19e;function _1a7(cls){var _1a8=this.constructor._meta.bases;for(var i=0,l=_1a8.length;i<l;++i){if(_1a8[i]===cls){return true;}}return this instanceof cls;};function _1a9(_1aa,_1ab){for(var name in _1ab){if(name!=_195&&_1ab.hasOwnProperty(name)){_1aa[name]=_1ab[name];}}if(has("bug-for-in-skips-shadowed")){for(var _1ac=lang._extraNames,i=_1ac.length;i;){name=_1ac[--i];if(name!=_195&&_1ab.hasOwnProperty(name)){_1aa[name]=_1ab[name];}}}};function _1ad(_1ae,_1af){var name,t;for(name in _1af){t=_1af[name];if((t!==op[name]||!(name in op))&&name!=_195){if(opts.call(t)=="[object Function]"){t.nom=name;}_1ae[name]=t;}}if(has("bug-for-in-skips-shadowed")){for(var _1b0=lang._extraNames,i=_1b0.length;i;){name=_1b0[--i];t=_1af[name];if((t!==op[name]||!(name in op))&&name!=_195){if(opts.call(t)=="[object Function]"){t.nom=name;}_1ae[name]=t;}}}return _1ae;};function _1b1(_1b2){_1b3.safeMixin(this.prototype,_1b2);return this;};function _1b4(_1b5,_1b6){if(!(_1b5 instanceof Array||typeof _1b5=="function")){_1b6=_1b5;_1b5=undefined;}_1b6=_1b6||{};_1b5=_1b5||[];return _1b3([this].concat(_1b5),_1b6);};function _1b7(_1b8,_1b9){return function(){var a=arguments,args=a,a0=a[0],f,i,m,l=_1b8.length,_1ba;if(!(this instanceof a.callee)){return _1bb(a);}if(_1b9&&(a0&&a0.preamble||this.preamble)){_1ba=new Array(_1b8.length);_1ba[0]=a;for(i=0;;){a0=a[0];if(a0){f=a0.preamble;if(f){a=f.apply(this,a)||a;}}f=_1b8[i].prototype;f=f.hasOwnProperty("preamble")&&f.preamble;if(f){a=f.apply(this,a)||a;}if(++i==l){break;}_1ba[i]=a;}}for(i=l-1;i>=0;--i){f=_1b8[i];m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,_1ba?_1ba[i]:a);}}f=this.postscript;if(f){f.apply(this,args);}};};function _1bc(ctor,_1bd){return function(){var a=arguments,t=a,a0=a[0],f;if(!(this instanceof a.callee)){return _1bb(a);}if(_1bd){if(a0){f=a0.preamble;if(f){t=f.apply(this,t)||t;}}f=this.preamble;if(f){f.apply(this,t);}}if(ctor){ctor.apply(this,a);}f=this.postscript;if(f){f.apply(this,a);}};};function _1be(_1bf){return function(){var a=arguments,i=0,f,m;if(!(this instanceof a.callee)){return _1bb(a);}for(;f=_1bf[i];++i){m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,a);break;}}f=this.postscript;if(f){f.apply(this,a);}};};function _1c0(name,_1c1,_1c2){return function(){var b,m,f,i=0,step=1;if(_1c2){i=_1c1.length-1;step=-1;}for(;b=_1c1[i];i+=step){m=b._meta;f=(m?m.hidden:b.prototype)[name];if(f){f.apply(this,arguments);}}};};function _1c3(ctor){xtor.prototype=ctor.prototype;var t=new xtor;xtor.prototype=null;return t;};function _1bb(args){var ctor=args.callee,t=_1c3(ctor);ctor.apply(t,args);return t;};function _1b3(_1c4,_1c5,_1c6){if(typeof _1c4!="string"){_1c6=_1c5;_1c5=_1c4;_1c4="";}_1c6=_1c6||{};var _1c7,i,t,ctor,name,_1c8,_1c9,_1ca=1,_1cb=_1c5;if(opts.call(_1c5)=="[object Array]"){_1c8=_196(_1c5,_1c4);t=_1c8[0];_1ca=_1c8.length-t;_1c5=_1c8[_1ca];}else{_1c8=[0];if(_1c5){if(opts.call(_1c5)=="[object Function]"){t=_1c5._meta;_1c8=_1c8.concat(t?t.bases:_1c5);}else{err("base class is not a callable constructor.",_1c4);}}else{if(_1c5!==null){err("unknown base class. Did you use dojo.require to pull it in?",_1c4);}}}if(_1c5){for(i=_1ca-1;;--i){_1c7=_1c3(_1c5);if(!i){break;}t=_1c8[i];(t._meta?_1a9:mix)(_1c7,t.prototype);ctor=new Function;ctor.superclass=_1c5;ctor.prototype=_1c7;_1c5=_1c7.constructor=ctor;}}else{_1c7={};}_1b3.safeMixin(_1c7,_1c6);t=_1c6.constructor;if(t!==op.constructor){t.nom=_195;_1c7.constructor=t;}for(i=_1ca-1;i;--i){t=_1c8[i]._meta;if(t&&t.chains){_1c9=mix(_1c9||{},t.chains);}}if(_1c7["-chains-"]){_1c9=mix(_1c9||{},_1c7["-chains-"]);}t=!_1c9||!_1c9.hasOwnProperty(_195);_1c8[0]=ctor=(_1c9&&_1c9.constructor==="manual")?_1be(_1c8):(_1c8.length==1?_1bc(_1c6.constructor,t):_1b7(_1c8,t));ctor._meta={bases:_1c8,hidden:_1c6,chains:_1c9,parents:_1cb,ctor:_1c6.constructor};ctor.superclass=_1c5&&_1c5.prototype;ctor.extend=_1b1;ctor.createSubclass=_1b4;ctor.prototype=_1c7;_1c7.constructor=ctor;_1c7.getInherited=_1a4;_1c7.isInstanceOf=_1a7;_1c7.inherited=_1a6;_1c7.__inherited=_19e;if(_1c4){_1c7.declaredClass=_1c4;lang.setObject(_1c4,ctor);}if(_1c9){for(name in _1c9){if(_1c7[name]&&typeof _1c9[name]=="string"&&name!=_195){t=_1c7[name]=_1c0(name,_1c8,_1c9[name]==="after");t.nom=name;}}}return ctor;};dojo.safeMixin=_1b3.safeMixin=_1ad;dojo.declare=_1b3;return _1b3;});},"dojo/_base/connect":function(){define(["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(dojo,on,hub,_1cc,_1cd,_1ce,has,lang){has.add("events-keypress-typed",function(){var _1cf={charCode:0};try{_1cf=document.createEvent("KeyboardEvent");(_1cf.initKeyboardEvent||_1cf.initKeyEvent).call(_1cf,"keypress",true,true,null,false,false,false,false,9,3);}catch(e){}return _1cf.charCode==0&&!has("opera");});function _1d0(obj,_1d1,_1d2,_1d3,_1d4){_1d3=lang.hitch(_1d2,_1d3);if(!obj||!(obj.addEventListener||obj.attachEvent)){return _1cc.after(obj||dojo.global,_1d1,_1d3,true);}if(typeof _1d1=="string"&&_1d1.substring(0,2)=="on"){_1d1=_1d1.substring(2);}if(!obj){obj=dojo.global;}if(!_1d4){switch(_1d1){case "keypress":_1d1=_1d5;break;case "mouseenter":_1d1=_1ce.enter;break;case "mouseleave":_1d1=_1ce.leave;break;}}return on(obj,_1d1,_1d3,_1d4);};var _1d6={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113};var _1d7=has("mac")?"metaKey":"ctrlKey";var _1d8=function(evt,_1d9){var faux=lang.mixin({},evt,_1d9);_1da(faux);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;};function _1da(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _1d5;if(has("events-keypress-typed")){var _1db=function(e,code){try{return (e.keyCode=code);}catch(e){return 0;}};_1d5=function(_1dc,_1dd){var _1de=on(_1dc,"keydown",function(evt){var k=evt.keyCode;var _1df=(k!=13)&&k!=32&&(k!=27||!has("ie"))&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222)&&k!=229;if(_1df||evt.ctrlKey){var c=_1df?0:k;if(evt.ctrlKey){if(k==3||k==13){return _1dd.call(evt.currentTarget,evt);}else{if(c>95&&c<106){c-=48;}else{if((!evt.shiftKey)&&(c>=65&&c<=90)){c+=32;}else{c=_1d6[c]||c;}}}}var faux=_1d8(evt,{type:"keypress",faux:true,charCode:c});_1dd.call(evt.currentTarget,faux);if(has("ie")){_1db(evt,faux.keyCode);}}});var _1e0=on(_1dc,"keypress",function(evt){var c=evt.charCode;c=c>=32?c:0;evt=_1d8(evt,{charCode:c,faux:true});return _1dd.call(this,evt);});return {remove:function(){_1de.remove();_1e0.remove();}};};}else{if(has("opera")){_1d5=function(_1e1,_1e2){return on(_1e1,"keypress",function(evt){var c=evt.which;if(c==3){c=99;}c=c<32&&!evt.shiftKey?0:c;if(evt.ctrlKey&&!evt.shiftKey&&c>=65&&c<=90){c+=32;}return _1e2.call(this,_1d8(evt,{charCode:c}));});};}else{_1d5=function(_1e3,_1e4){return on(_1e3,"keypress",function(evt){_1da(evt);return _1e4.call(this,evt);});};}}var _1e5={_keypress:_1d5,connect:function(obj,_1e6,_1e7,_1e8,_1e9){var a=arguments,args=[],i=0;args.push(typeof a[0]=="string"?null:a[i++],a[i++]);var a1=a[i+1];args.push(typeof a1=="string"||typeof a1=="function"?a[i++]:null,a[i++]);for(var l=a.length;i<l;i++){args.push(a[i]);}return _1d0.apply(this,args);},disconnect:function(_1ea){if(_1ea){_1ea.remove();}},subscribe:function(_1eb,_1ec,_1ed){return hub.subscribe(_1eb,lang.hitch(_1ec,_1ed));},publish:function(_1ee,args){return hub.publish.apply(hub,[_1ee].concat(args));},connectPublisher:function(_1ef,obj,_1f0){var pf=function(){_1e5.publish(_1ef,arguments);};return _1f0?_1e5.connect(obj,_1f0,pf):_1e5.connect(obj,pf);},isCopyKey:function(e){return e[_1d7];}};_1e5.unsubscribe=_1e5.disconnect;1&&lang.mixin(dojo,_1e5);return _1e5;});},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(_1f1,dojo,has){"use strict";if(1){var _1f2=window.ScriptEngineMajorVersion;has.add("jscript",_1f2&&(_1f2()+ScriptEngineMinorVersion()/10));has.add("event-orientationchange",has("touch")&&!has("android"));has.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);has.add("event-focusin",function(_1f3,doc,_1f4){return "onfocusin" in _1f4;});if(has("touch")){has.add("touch-can-modify-event-delegate",function(){var _1f5=function(){};_1f5.prototype=document.createEvent("MouseEvents");try{var _1f6=new _1f5;_1f6.target=null;return _1f6.target===null;}catch(e){return false;}});}}var on=function(_1f7,type,_1f8,_1f9){if(typeof _1f7.on=="function"&&typeof type!="function"&&!_1f7.nodeType){return _1f7.on(type,_1f8);}return on.parse(_1f7,type,_1f8,_1fa,_1f9,this);};on.pausable=function(_1fb,type,_1fc,_1fd){var _1fe;var _1ff=on(_1fb,type,function(){if(!_1fe){return _1fc.apply(this,arguments);}},_1fd);_1ff.pause=function(){_1fe=true;};_1ff.resume=function(){_1fe=false;};return _1ff;};on.once=function(_200,type,_201,_202){var _203=on(_200,type,function(){_203.remove();return _201.apply(this,arguments);});return _203;};on.parse=function(_204,type,_205,_206,_207,_208){if(type.call){return type.call(_208,_204,_205);}if(type instanceof Array){_209=type;}else{if(type.indexOf(",")>-1){var _209=type.split(/\s*,\s*/);}}if(_209){var _20a=[];var i=0;var _20b;while(_20b=_209[i++]){_20a.push(on.parse(_204,_20b,_205,_206,_207,_208));}_20a.remove=function(){for(var i=0;i<_20a.length;i++){_20a[i].remove();}};return _20a;}return _206(_204,type,_205,_207,_208);};var _20c=/^touch/;function _1fa(_20d,type,_20e,_20f,_210){var _211=type.match(/(.*):(.*)/);if(_211){type=_211[2];_211=_211[1];return on.selector(_211,type).call(_210,_20d,_20e);}if(has("touch")){if(_20c.test(type)){_20e=_212(_20e);}if(!has("event-orientationchange")&&(type=="orientationchange")){type="resize";_20d=window;_20e=_212(_20e);}}if(_213){_20e=_213(_20e);}if(_20d.addEventListener){var _214=type in _215,_216=_214?_215[type]:type;_20d.addEventListener(_216,_20e,_214);return {remove:function(){_20d.removeEventListener(_216,_20e,_214);}};}type="on"+type;if(_217&&_20d.attachEvent){return _217(_20d,type,_20e);}throw new Error("Target must be an event emitter");};on.matches=function(node,_218,_219,_21a,_21b){_21b=_21b&&_21b.matches?_21b:dojo.query;_21a=_21a!==false;if(node.nodeType!=1){node=node.parentNode;}while(!_21b.matches(node,_218,_219)){if(node==_219||_21a===false||!(node=node.parentNode)||node.nodeType!=1){return false;}}return node;};on.selector=function(_21c,_21d,_21e){return function(_21f,_220){var _221=typeof _21c=="function"?{matches:_21c}:this,_222=_21d.bubble;function _223(_224){return on.matches(_224,_21c,_21f,_21e,_221);};if(_222){return on(_21f,_222(_223),_220);}return on(_21f,_21d,function(_225){var _226=_223(_225.target);if(_226){return _220.call(_226,_225);}});};};function _227(){this.cancelable=false;this.defaultPrevented=true;};function _228(){this.bubbles=false;};var _229=[].slice,_22a=on.emit=function(_22b,type,_22c){var args=_229.call(arguments,2);var _22d="on"+type;if("parentNode" in _22b){var _22e=args[0]={};for(var i in _22c){_22e[i]=_22c[i];}_22e.preventDefault=_227;_22e.stopPropagation=_228;_22e.target=_22b;_22e.type=type;_22c=_22e;}do{_22b[_22d]&&_22b[_22d].apply(_22b,args);}while(_22c&&_22c.bubbles&&(_22b=_22b.parentNode));return _22c&&_22c.cancelable&&_22c;};var _215=has("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!has("event-stopimmediatepropagation")){var _22f=function(){this.immediatelyStopped=true;this.modified=true;};var _213=function(_230){return function(_231){if(!_231.immediatelyStopped){_231.stopImmediatePropagation=_22f;return _230.apply(this,arguments);}};};}if(has("dom-addeventlistener")){on.emit=function(_232,type,_233){if(_232.dispatchEvent&&document.createEvent){var _234=_232.ownerDocument||document;var _235=_234.createEvent("HTMLEvents");_235.initEvent(type,!!_233.bubbles,!!_233.cancelable);for(var i in _233){if(!(i in _235)){_235[i]=_233[i];}}return _232.dispatchEvent(_235)&&_235;}return _22a.apply(on,arguments);};}else{on._fixEvent=function(evt,_236){if(!evt){var w=_236&&(_236.ownerDocument||_236.document||_236).parentWindow||window;evt=w.event;}if(!evt){return evt;}try{if(_237&&evt.type==_237.type&&evt.srcElement==_237.target){evt=_237;}}catch(e){}if(!evt.target){evt.target=evt.srcElement;evt.currentTarget=(_236||evt.srcElement);if(evt.type=="mouseover"){evt.relatedTarget=evt.fromElement;}if(evt.type=="mouseout"){evt.relatedTarget=evt.toElement;}if(!evt.stopPropagation){evt.stopPropagation=_238;evt.preventDefault=_239;}switch(evt.type){case "keypress":var c=("charCode" in evt?evt.charCode:evt.keyCode);if(c==10){c=0;evt.keyCode=13;}else{if(c==13||c==27){c=0;}else{if(c==3){c=99;}}}evt.charCode=c;_23a(evt);break;}}return evt;};var _237,_23b=function(_23c){this.handle=_23c;};_23b.prototype.remove=function(){delete _dojoIEListeners_[this.handle];};var _23d=function(_23e){return function(evt){evt=on._fixEvent(evt,this);var _23f=_23e.call(this,evt);if(evt.modified){if(!_237){setTimeout(function(){_237=null;});}_237=evt;}return _23f;};};var _217=function(_240,type,_241){_241=_23d(_241);if(((_240.ownerDocument?_240.ownerDocument.parentWindow:_240.parentWindow||_240.window||window)!=top||has("jscript")<5.8)&&!has("config-_allow_leaks")){if(typeof _dojoIEListeners_=="undefined"){_dojoIEListeners_=[];}var _242=_240[type];if(!_242||!_242.listeners){var _243=_242;_242=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");_242.listeners=[];_240[type]=_242;_242.global=this;if(_243){_242.listeners.push(_dojoIEListeners_.push(_243)-1);}}var _244;_242.listeners.push(_244=(_242.global._dojoIEListeners_.push(_241)-1));return new _23b(_244);}return _1f1.after(_240,type,_241,true);};var _23a=function(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _238=function(){this.cancelBubble=true;};var _239=on._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey){try{this.keyCode=0;}catch(e){}}this.defaultPrevented=true;this.returnValue=false;this.modified=true;};}if(has("touch")){var _245=function(){};var _246=window.orientation;var _212=function(_247){return function(_248){var _249=_248.corrected;if(!_249){var type=_248.type;try{delete _248.type;}catch(e){}if(_248.type){if(has("touch-can-modify-event-delegate")){_245.prototype=_248;_249=new _245;}else{_249={};for(var name in _248){_249[name]=_248[name];}}_249.preventDefault=function(){_248.preventDefault();};_249.stopPropagation=function(){_248.stopPropagation();};}else{_249=_248;_249.type=type;}_248.corrected=_249;if(type=="resize"){if(_246==window.orientation){return null;}_246=window.orientation;_249.type="orientationchange";return _247.call(this,_249);}if(!("rotation" in _249)){_249.rotation=0;_249.scale=1;}var _24a=_249.changedTouches[0];for(var i in _24a){delete _249[i];_249[i]=_24a[i];}}return _247.call(this,_249);};};}return on;});},"dojo/topic":function(){define(["./Evented"],function(_24b){var hub=new _24b;return {publish:function(_24c,_24d){return hub.emit.apply(hub,arguments);},subscribe:function(_24e,_24f){return hub.on.apply(hub,arguments);}};});},"dojo/Evented":function(){define(["./aspect","./on"],function(_250,on){"use strict";var _251=_250.after;function _252(){};_252.prototype={on:function(type,_253){return on.parse(this,type,_253,function(_254,type){return _251(_254,"on"+type,_253,true);});},emit:function(type,_255){var args=[this];args.push.apply(args,arguments);return on.emit.apply(on,args);}};return _252;});},"dojo/aspect":function(){define([],function(){"use strict";var _256,_257=0;function _258(_259,type,_25a,_25b){var _25c=_259[type];var _25d=type=="around";var _25e;if(_25d){var _25f=_25a(function(){return _25c.advice(this,arguments);});_25e={remove:function(){if(_25f){_25f=_259=_25a=null;}},advice:function(_260,args){return _25f?_25f.apply(_260,args):_25c.advice(_260,args);}};}else{_25e={remove:function(){if(_25e.advice){var _261=_25e.previous;var next=_25e.next;if(!next&&!_261){delete _259[type];}else{if(_261){_261.next=next;}else{_259[type]=next;}if(next){next.previous=_261;}}_259=_25a=_25e.advice=null;}},id:_257++,advice:_25a,receiveArguments:_25b};}if(_25c&&!_25d){if(type=="after"){while(_25c.next&&(_25c=_25c.next)){}_25c.next=_25e;_25e.previous=_25c;}else{if(type=="before"){_259[type]=_25e;_25e.next=_25c;_25c.previous=_25e;}}}else{_259[type]=_25e;}return _25e;};function _262(type){return function(_263,_264,_265,_266){var _267=_263[_264],_268;if(!_267||_267.target!=_263){_263[_264]=_268=function(){var _269=_257;var args=arguments;var _26a=_268.before;while(_26a){args=_26a.advice.apply(this,args)||args;_26a=_26a.next;}if(_268.around){var _26b=_268.around.advice(this,args);}var _26c=_268.after;while(_26c&&_26c.id<_269){if(_26c.receiveArguments){var _26d=_26c.advice.apply(this,args);_26b=_26d===_256?_26b:_26d;}else{_26b=_26c.advice.call(this,_26b,args);}_26c=_26c.next;}return _26b;};if(_267){_268.around={advice:function(_26e,args){return _267.apply(_26e,args);}};}_268.target=_263;}var _26f=_258((_268||_267),type,_265,_266);_265=null;return _26f;};};var _270=_262("after");var _271=_262("before");var _272=_262("around");return {before:_271,around:_272,after:_270};});},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(dojo,on,has,dom){if(on._fixEvent){var _273=on._fixEvent;on._fixEvent=function(evt,se){evt=_273(evt,se);if(evt){dom.normalizeEvent(evt);}return evt;};}var ret={fix:function(evt,_274){if(on._fixEvent){return on._fixEvent(evt,_274);}return evt;},stop:function(evt){if(has("dom-addeventlistener")||(evt&&evt.preventDefault)){evt.preventDefault();evt.stopPropagation();}else{evt=evt||window.event;evt.cancelBubble=true;on._preventDefault.call(evt);}}};if(1){dojo.fixEvent=ret.fix;dojo.stopEvent=ret.stop;}return ret;});},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(has,win,dom,_275){var geom={};geom.boxModel="content-box";if(has("ie")){geom.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box";}geom.getPadExtents=function getPadExtents(node,_276){node=dom.byId(node);var s=_276||_275.getComputedStyle(node),px=_275.toPixelValue,l=px(node,s.paddingLeft),t=px(node,s.paddingTop),r=px(node,s.paddingRight),b=px(node,s.paddingBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};var none="none";geom.getBorderExtents=function getBorderExtents(node,_277){node=dom.byId(node);var px=_275.toPixelValue,s=_277||_275.getComputedStyle(node),l=s.borderLeftStyle!=none?px(node,s.borderLeftWidth):0,t=s.borderTopStyle!=none?px(node,s.borderTopWidth):0,r=s.borderRightStyle!=none?px(node,s.borderRightWidth):0,b=s.borderBottomStyle!=none?px(node,s.borderBottomWidth):0;return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getPadBorderExtents=function getPadBorderExtents(node,_278){node=dom.byId(node);var s=_278||_275.getComputedStyle(node),p=geom.getPadExtents(node,s),b=geom.getBorderExtents(node,s);return {l:p.l+b.l,t:p.t+b.t,r:p.r+b.r,b:p.b+b.b,w:p.w+b.w,h:p.h+b.h};};geom.getMarginExtents=function getMarginExtents(node,_279){node=dom.byId(node);var s=_279||_275.getComputedStyle(node),px=_275.toPixelValue,l=px(node,s.marginLeft),t=px(node,s.marginTop),r=px(node,s.marginRight),b=px(node,s.marginBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getMarginBox=function getMarginBox(node,_27a){node=dom.byId(node);var s=_27a||_275.getComputedStyle(node),me=geom.getMarginExtents(node,s),l=node.offsetLeft-me.l,t=node.offsetTop-me.t,p=node.parentNode,px=_275.toPixelValue,pcs;if(has("mozilla")){var sl=parseFloat(s.left),st=parseFloat(s.top);if(!isNaN(sl)&&!isNaN(st)){l=sl;t=st;}else{if(p&&p.style){pcs=_275.getComputedStyle(p);if(pcs.overflow!="visible"){l+=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t+=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}}else{if(has("opera")||(has("ie")==8&&!has("quirks"))){if(p){pcs=_275.getComputedStyle(p);l-=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t-=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}return {l:l,t:t,w:node.offsetWidth+me.w,h:node.offsetHeight+me.h};};geom.getContentBox=function getContentBox(node,_27b){node=dom.byId(node);var s=_27b||_275.getComputedStyle(node),w=node.clientWidth,h,pe=geom.getPadExtents(node,s),be=geom.getBorderExtents(node,s);if(!w){w=node.offsetWidth;h=node.offsetHeight;}else{h=node.clientHeight;be.w=be.h=0;}if(has("opera")){pe.l+=be.l;pe.t+=be.t;}return {l:pe.l,t:pe.t,w:w-pe.w-be.w,h:h-pe.h-be.h};};function _27c(node,l,t,w,h,u){u=u||"px";var s=node.style;if(!isNaN(l)){s.left=l+u;}if(!isNaN(t)){s.top=t+u;}if(w>=0){s.width=w+u;}if(h>=0){s.height=h+u;}};function _27d(node){return node.tagName.toLowerCase()=="button"||node.tagName.toLowerCase()=="input"&&(node.getAttribute("type")||"").toLowerCase()=="button";};function _27e(node){return geom.boxModel=="border-box"||node.tagName.toLowerCase()=="table"||_27d(node);};geom.setContentSize=function setContentSize(node,box,_27f){node=dom.byId(node);var w=box.w,h=box.h;if(_27e(node)){var pb=geom.getPadBorderExtents(node,_27f);if(w>=0){w+=pb.w;}if(h>=0){h+=pb.h;}}_27c(node,NaN,NaN,w,h);};var _280={l:0,t:0,w:0,h:0};geom.setMarginBox=function setMarginBox(node,box,_281){node=dom.byId(node);var s=_281||_275.getComputedStyle(node),w=box.w,h=box.h,pb=_27e(node)?_280:geom.getPadBorderExtents(node,s),mb=geom.getMarginExtents(node,s);if(has("webkit")){if(_27d(node)){var ns=node.style;if(w>=0&&!ns.width){ns.width="4px";}if(h>=0&&!ns.height){ns.height="4px";}}}if(w>=0){w=Math.max(w-pb.w-mb.w,0);}if(h>=0){h=Math.max(h-pb.h-mb.h,0);}_27c(node,box.l,box.t,w,h);};geom.isBodyLtr=function isBodyLtr(doc){doc=doc||win.doc;return (win.body(doc).dir||doc.documentElement.dir||"ltr").toLowerCase()=="ltr";};geom.docScroll=function docScroll(doc){doc=doc||win.doc;var node=win.doc.parentWindow||win.doc.defaultView;return "pageXOffset" in node?{x:node.pageXOffset,y:node.pageYOffset}:(node=has("quirks")?win.body(doc):doc.documentElement)&&{x:geom.fixIeBiDiScrollLeft(node.scrollLeft||0,doc),y:node.scrollTop||0};};if(has("ie")){geom.getIeDocumentElementOffset=function getIeDocumentElementOffset(doc){doc=doc||win.doc;var de=doc.documentElement;if(has("ie")<8){var r=de.getBoundingClientRect(),l=r.left,t=r.top;if(has("ie")<7){l+=de.clientLeft;t+=de.clientTop;}return {x:l<0?0:l,y:t<0?0:t};}else{return {x:0,y:0};}};}geom.fixIeBiDiScrollLeft=function fixIeBiDiScrollLeft(_282,doc){doc=doc||win.doc;var ie=has("ie");if(ie&&!geom.isBodyLtr(doc)){var qk=has("quirks"),de=qk?win.body(doc):doc.documentElement,pwin=win.global;if(ie==6&&!qk&&pwin.frameElement&&de.scrollHeight>de.clientHeight){_282+=de.clientLeft;}return (ie<8||qk)?(_282+de.clientWidth-de.scrollWidth):-_282;}return _282;};geom.position=function(node,_283){node=dom.byId(node);var db=win.body(node.ownerDocument),ret=node.getBoundingClientRect();ret={x:ret.left,y:ret.top,w:ret.right-ret.left,h:ret.bottom-ret.top};if(has("ie")<9){var _284=geom.getIeDocumentElementOffset(node.ownerDocument);ret.x-=_284.x+(has("quirks")?db.clientLeft+db.offsetLeft:0);ret.y-=_284.y+(has("quirks")?db.clientTop+db.offsetTop:0);}if(_283){var _285=geom.docScroll(node.ownerDocument);ret.x+=_285.x;ret.y+=_285.y;}return ret;};geom.getMarginSize=function getMarginSize(node,_286){node=dom.byId(node);var me=geom.getMarginExtents(node,_286||_275.getComputedStyle(node));var size=node.getBoundingClientRect();return {w:(size.right-size.left)+me.w,h:(size.bottom-size.top)+me.h};};geom.normalizeEvent=function(_287){if(!("layerX" in _287)){_287.layerX=_287.offsetX;_287.layerY=_287.offsetY;}if(!has("dom-addeventlistener")){var se=_287.target;var doc=(se&&se.ownerDocument)||document;var _288=has("quirks")?doc.body:doc.documentElement;var _289=geom.getIeDocumentElementOffset(doc);_287.pageX=_287.clientX+geom.fixIeBiDiScrollLeft(_288.scrollLeft||0,doc)-_289.x;_287.pageY=_287.clientY+(_288.scrollTop||0)-_289.y;}};return geom;});},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(dojo,lang,has){var ret={global:dojo.global,doc:dojo.global["document"]||null,body:function(doc){doc=doc||dojo.doc;return doc.body||doc.getElementsByTagName("body")[0];},setContext:function(_28a,_28b){dojo.global=ret.global=_28a;dojo.doc=ret.doc=_28b;},withGlobal:function(_28c,_28d,_28e,_28f){var _290=dojo.global;try{dojo.global=ret.global=_28c;return ret.withDoc.call(null,_28c.document,_28d,_28e,_28f);}finally{dojo.global=ret.global=_290;}},withDoc:function(_291,_292,_293,_294){var _295=ret.doc,oldQ=has("quirks"),_296=has("ie"),isIE,mode,pwin;try{dojo.doc=ret.doc=_291;dojo.isQuirks=has.add("quirks",dojo.doc.compatMode=="BackCompat",true,true);if(has("ie")){if((pwin=_291.parentWindow)&&pwin.navigator){isIE=parseFloat(pwin.navigator.appVersion.split("MSIE ")[1])||undefined;mode=_291.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}dojo.isIE=has.add("ie",isIE,true,true);}}if(_293&&typeof _292=="string"){_292=_293[_292];}return _292.apply(_293,_294||[]);}finally{dojo.doc=ret.doc=_295;dojo.isQuirks=has.add("quirks",oldQ,true,true);dojo.isIE=has.add("ie",_296,true,true);}}};1&&lang.mixin(dojo,ret);return ret;});},"dojo/dom":function(){define(["./sniff","./_base/window"],function(has,win){if(has("ie")<=7){try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}}var dom={};if(has("ie")){dom.byId=function(id,doc){if(typeof id!="string"){return id;}var _297=doc||win.doc,te=id&&_297.getElementById(id);if(te&&(te.attributes.id.value==id||te.id==id)){return te;}else{var eles=_297.all[id];if(!eles||eles.nodeName){eles=[eles];}var i=0;while((te=eles[i++])){if((te.attributes&&te.attributes.id&&te.attributes.id.value==id)||te.id==id){return te;}}}};}else{dom.byId=function(id,doc){return ((typeof id=="string")?(doc||win.doc).getElementById(id):id)||null;};}dom.isDescendant=function(node,_298){try{node=dom.byId(node);_298=dom.byId(_298);while(node){if(node==_298){return true;}node=node.parentNode;}}catch(e){}return false;};has.add("css-user-select",function(_299,doc,_29a){if(!_29a){return false;}var _29b=_29a.style;var _29c=["Khtml","O","Moz","Webkit"],i=_29c.length,name="userSelect",_29d;do{if(typeof _29b[name]!=="undefined"){return name;}}while(i--&&(name=_29c[i]+"UserSelect"));return false;});var _29e=has("css-user-select");dom.setSelectable=_29e?function(node,_29f){dom.byId(node).style[_29e]=_29f?"":"none";}:function(node,_2a0){node=dom.byId(node);var _2a1=node.getElementsByTagName("*"),i=_2a1.length;if(_2a0){node.removeAttribute("unselectable");while(i--){_2a1[i].removeAttribute("unselectable");}}else{node.setAttribute("unselectable","on");while(i--){_2a1[i].setAttribute("unselectable","on");}}};return dom;});},"dojo/dom-style":function(){define(["./sniff","./dom"],function(has,dom){var _2a2,_2a3={};if(has("webkit")){_2a2=function(node){var s;if(node.nodeType==1){var dv=node.ownerDocument.defaultView;s=dv.getComputedStyle(node,null);if(!s&&node.style){node.style.display="";s=dv.getComputedStyle(node,null);}}return s||{};};}else{if(has("ie")&&(has("ie")<9||has("quirks"))){_2a2=function(node){return node.nodeType==1&&node.currentStyle?node.currentStyle:{};};}else{_2a2=function(node){return node.nodeType==1?node.ownerDocument.defaultView.getComputedStyle(node,null):{};};}}_2a3.getComputedStyle=_2a2;var _2a4;if(!has("ie")){_2a4=function(_2a5,_2a6){return parseFloat(_2a6)||0;};}else{_2a4=function(_2a7,_2a8){if(!_2a8){return 0;}if(_2a8=="medium"){return 4;}if(_2a8.slice&&_2a8.slice(-2)=="px"){return parseFloat(_2a8);}var s=_2a7.style,rs=_2a7.runtimeStyle,cs=_2a7.currentStyle,_2a9=s.left,_2aa=rs.left;rs.left=cs.left;try{s.left=_2a8;_2a8=s.pixelLeft;}catch(e){_2a8=0;}s.left=_2a9;rs.left=_2aa;return _2a8;};}_2a3.toPixelValue=_2a4;var astr="DXImageTransform.Microsoft.Alpha";var af=function(n,f){try{return n.filters.item(astr);}catch(e){return f?{}:null;}};var _2ab=has("ie")<9||(has("ie")<10&&has("quirks"))?function(node){try{return af(node).Opacity/100;}catch(e){return 1;}}:function(node){return _2a2(node).opacity;};var _2ac=has("ie")<9||(has("ie")<10&&has("quirks"))?function(node,_2ad){if(_2ad===""){_2ad=1;}var ov=_2ad*100,_2ae=_2ad===1;if(_2ae){node.style.zoom="";if(af(node)){node.style.filter=node.style.filter.replace(new RegExp("\\s*progid:"+astr+"\\([^\\)]+?\\)","i"),"");}}else{node.style.zoom=1;if(af(node)){af(node,1).Opacity=ov;}else{node.style.filter+=" progid:"+astr+"(Opacity="+ov+")";}af(node,1).Enabled=true;}if(node.tagName.toLowerCase()=="tr"){for(var td=node.firstChild;td;td=td.nextSibling){if(td.tagName.toLowerCase()=="td"){_2ac(td,_2ad);}}}return _2ad;}:function(node,_2af){return node.style.opacity=_2af;};var _2b0={left:true,top:true};var _2b1=/margin|padding|width|height|max|min|offset/;function _2b2(node,type,_2b3){type=type.toLowerCase();if(has("ie")||has("trident")){if(_2b3=="auto"){if(type=="height"){return node.offsetHeight;}if(type=="width"){return node.offsetWidth;}}if(type=="fontweight"){switch(_2b3){case 700:return "bold";case 400:default:return "normal";}}}if(!(type in _2b0)){_2b0[type]=_2b1.test(type);}return _2b0[type]?_2a4(node,_2b3):_2b3;};var _2b4={cssFloat:1,styleFloat:1,"float":1};_2a3.get=function getStyle(node,name){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");if(l==2&&op){return _2ab(n);}name=_2b4[name]?"cssFloat" in n.style?"cssFloat":"styleFloat":name;var s=_2a3.getComputedStyle(n);return (l==1)?s:_2b2(n,name,s[name]||n.style[name]);};_2a3.set=function setStyle(node,name,_2b5){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");name=_2b4[name]?"cssFloat" in n.style?"cssFloat":"styleFloat":name;if(l==3){return op?_2ac(n,_2b5):n.style[name]=_2b5;}for(var x in name){_2a3.set(node,x,name[x]);}return _2a3.getComputedStyle(n);};return _2a3;});},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(dojo,on,has,dom,win){has.add("dom-quirks",win.doc&&win.doc.compatMode=="BackCompat");has.add("events-mouseenter",win.doc&&"onmouseenter" in win.doc.createElement("div"));has.add("events-mousewheel",win.doc&&"onmousewheel" in win.doc);var _2b6;if((has("dom-quirks")&&has("ie"))||!has("dom-addeventlistener")){_2b6={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,_2b7){return e.button&_2b7;},isLeft:function(e){return e.button&1;},isMiddle:function(e){return e.button&4;},isRight:function(e){return e.button&2;}};}else{_2b6={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,_2b8){return e.button==_2b8;},isLeft:function(e){return e.button==0;},isMiddle:function(e){return e.button==1;},isRight:function(e){return e.button==2;}};}dojo.mouseButtons=_2b6;function _2b9(type,_2ba){var _2bb=function(node,_2bc){return on(node,type,function(evt){if(_2ba){return _2ba(evt,_2bc);}if(!dom.isDescendant(evt.relatedTarget,node)){return _2bc.call(this,evt);}});};_2bb.bubble=function(_2bd){return _2b9(type,function(evt,_2be){var _2bf=_2bd(evt.target);var _2c0=evt.relatedTarget;if(_2bf&&(_2bf!=(_2c0&&_2c0.nodeType==1&&_2bd(_2c0)))){return _2be.call(_2bf,evt);}});};return _2bb;};var _2c1;if(has("events-mousewheel")){_2c1="mousewheel";}else{_2c1=function(node,_2c2){return on(node,"DOMMouseScroll",function(evt){evt.wheelDelta=-evt.detail;_2c2.call(this,evt);});};}return {_eventHandler:_2b9,enter:_2b9("mouseover"),leave:_2b9("mouseout"),wheel:_2c1,isLeft:_2b6.isLeft,isMiddle:_2b6.isMiddle,isRight:_2b6.isRight};});},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(dojo,lang,has){if(!1){return has;}dojo._name="browser";lang.mixin(dojo,{isBrowser:true,isFF:has("ff"),isIE:has("ie"),isKhtml:has("khtml"),isWebKit:has("webkit"),isMozilla:has("mozilla"),isMoz:has("mozilla"),isOpera:has("opera"),isSafari:has("safari"),isChrome:has("chrome"),isMac:has("mac"),isIos:has("ios"),isAndroid:has("android"),isWii:has("wii"),isQuirks:has("quirks"),isAir:has("air")});return has;});},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(dojo,has){return dojo.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:has("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:has("mac")&&!has("air")?(has("safari")?91:224):17};});},"dojo/_base/Deferred":function(){define(["./kernel","../Deferred","../promise/Promise","../errors/CancelError","../has","./lang","../when"],function(dojo,_2c3,_2c4,_2c5,has,lang,when){var _2c6=function(){};var _2c7=Object.freeze||function(){};var _2c8=dojo.Deferred=function(_2c9){var _2ca,_2cb,_2cc,_2cd,_2ce,head,_2cf;var _2d0=(this.promise=new _2c4());function _2d1(_2d2){if(_2cb){throw new Error("This deferred has already been resolved");}_2ca=_2d2;_2cb=true;_2d3();};function _2d3(){var _2d4;while(!_2d4&&_2cf){var _2d5=_2cf;_2cf=_2cf.next;if((_2d4=(_2d5.progress==_2c6))){_2cb=false;}var func=(_2ce?_2d5.error:_2d5.resolved);if(has("config-useDeferredInstrumentation")){if(_2ce&&_2c3.instrumentRejected){_2c3.instrumentRejected(_2ca,!!func);}}if(func){try{var _2d6=func(_2ca);if(_2d6&&typeof _2d6.then==="function"){_2d6.then(lang.hitch(_2d5.deferred,"resolve"),lang.hitch(_2d5.deferred,"reject"),lang.hitch(_2d5.deferred,"progress"));continue;}var _2d7=_2d4&&_2d6===undefined;if(_2d4&&!_2d7){_2ce=_2d6 instanceof Error;}_2d5.deferred[_2d7&&_2ce?"reject":"resolve"](_2d7?_2ca:_2d6);}catch(e){_2d5.deferred.reject(e);}}else{if(_2ce){_2d5.deferred.reject(_2ca);}else{_2d5.deferred.resolve(_2ca);}}}};this.isResolved=_2d0.isResolved=function(){return _2cd==0;};this.isRejected=_2d0.isRejected=function(){return _2cd==1;};this.isFulfilled=_2d0.isFulfilled=function(){return _2cd>=0;};this.isCanceled=_2d0.isCanceled=function(){return _2cc;};this.resolve=this.callback=function(_2d8){this.fired=_2cd=0;this.results=[_2d8,null];_2d1(_2d8);};this.reject=this.errback=function(_2d9){_2ce=true;this.fired=_2cd=1;if(has("config-useDeferredInstrumentation")){if(_2c3.instrumentRejected){_2c3.instrumentRejected(_2d9,!!_2cf);}}_2d1(_2d9);this.results=[null,_2d9];};this.progress=function(_2da){var _2db=_2cf;while(_2db){var _2dc=_2db.progress;_2dc&&_2dc(_2da);_2db=_2db.next;}};this.addCallbacks=function(_2dd,_2de){this.then(_2dd,_2de,_2c6);return this;};_2d0.then=this.then=function(_2df,_2e0,_2e1){var _2e2=_2e1==_2c6?this:new _2c8(_2d0.cancel);var _2e3={resolved:_2df,error:_2e0,progress:_2e1,deferred:_2e2};if(_2cf){head=head.next=_2e3;}else{_2cf=head=_2e3;}if(_2cb){_2d3();}return _2e2.promise;};var _2e4=this;_2d0.cancel=this.cancel=function(){if(!_2cb){var _2e5=_2c9&&_2c9(_2e4);if(!_2cb){if(!(_2e5 instanceof Error)){_2e5=new _2c5(_2e5);}_2e5.log=false;_2e4.reject(_2e5);}}_2cc=true;};_2c7(_2d0);};lang.extend(_2c8,{addCallback:function(_2e6){return this.addCallbacks(lang.hitch.apply(dojo,arguments));},addErrback:function(_2e7){return this.addCallbacks(null,lang.hitch.apply(dojo,arguments));},addBoth:function(_2e8){var _2e9=lang.hitch.apply(dojo,arguments);return this.addCallbacks(_2e9,_2e9);},fired:-1});_2c8.when=dojo.when=when;return _2c8;});},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(has,lang,_2ea,_2eb,_2ec){"use strict";var _2ed=0,_2ee=1,_2ef=2;var _2f0="This deferred has already been fulfilled.";var _2f1=Object.freeze||function(){};var _2f2=function(_2f3,type,_2f4,_2f5,_2f6){if(1){if(type===_2ef&&_2f7.instrumentRejected&&_2f3.length===0){_2f7.instrumentRejected(_2f4,false,_2f5,_2f6);}}for(var i=0;i<_2f3.length;i++){_2f8(_2f3[i],type,_2f4,_2f5);}};var _2f8=function(_2f9,type,_2fa,_2fb){var func=_2f9[type];var _2fc=_2f9.deferred;if(func){try{var _2fd=func(_2fa);if(type===_2ed){if(typeof _2fd!=="undefined"){_2fe(_2fc,type,_2fd);}}else{if(_2fd&&typeof _2fd.then==="function"){_2f9.cancel=_2fd.cancel;_2fd.then(_2ff(_2fc,_2ee),_2ff(_2fc,_2ef),_2ff(_2fc,_2ed));return;}_2fe(_2fc,_2ee,_2fd);}}catch(error){_2fe(_2fc,_2ef,error);}}else{_2fe(_2fc,type,_2fa);}if(1){if(type===_2ef&&_2f7.instrumentRejected){_2f7.instrumentRejected(_2fa,!!func,_2fb,_2fc.promise);}}};var _2ff=function(_300,type){return function(_301){_2fe(_300,type,_301);};};var _2fe=function(_302,type,_303){if(!_302.isCanceled()){switch(type){case _2ed:_302.progress(_303);break;case _2ee:_302.resolve(_303);break;case _2ef:_302.reject(_303);break;}}};var _2f7=function(_304){var _305=this.promise=new _2eb();var _306=this;var _307,_308,_309;var _30a=false;var _30b=[];if(1&&Error.captureStackTrace){Error.captureStackTrace(_306,_2f7);Error.captureStackTrace(_305,_2f7);}this.isResolved=_305.isResolved=function(){return _307===_2ee;};this.isRejected=_305.isRejected=function(){return _307===_2ef;};this.isFulfilled=_305.isFulfilled=function(){return !!_307;};this.isCanceled=_305.isCanceled=function(){return _30a;};this.progress=function(_30c,_30d){if(!_307){_2f2(_30b,_2ed,_30c,null,_306);return _305;}else{if(_30d===true){throw new Error(_2f0);}else{return _305;}}};this.resolve=function(_30e,_30f){if(!_307){_2f2(_30b,_307=_2ee,_308=_30e,null,_306);_30b=null;return _305;}else{if(_30f===true){throw new Error(_2f0);}else{return _305;}}};var _310=this.reject=function(_311,_312){if(!_307){if(1&&Error.captureStackTrace){Error.captureStackTrace(_309={},_310);}_2f2(_30b,_307=_2ef,_308=_311,_309,_306);_30b=null;return _305;}else{if(_312===true){throw new Error(_2f0);}else{return _305;}}};this.then=_305.then=function(_313,_314,_315){var _316=[_315,_313,_314];_316.cancel=_305.cancel;_316.deferred=new _2f7(function(_317){return _316.cancel&&_316.cancel(_317);});if(_307&&!_30b){_2f8(_316,_307,_308,_309);}else{_30b.push(_316);}return _316.deferred.promise;};this.cancel=_305.cancel=function(_318,_319){if(!_307){if(_304){var _31a=_304(_318);_318=typeof _31a==="undefined"?_318:_31a;}_30a=true;if(!_307){if(typeof _318==="undefined"){_318=new _2ea();}_310(_318);return _318;}else{if(_307===_2ef&&_308===_318){return _318;}}}else{if(_319===true){throw new Error(_2f0);}}};_2f1(_305);};_2f7.prototype.toString=function(){return "[object Deferred]";};if(_2ec){_2ec(_2f7);}return _2f7;});},"dojo/errors/CancelError":function(){define(["./create"],function(_31b){return _31b("CancelError",null,null,{dojoType:"cancel"});});},"dojo/errors/create":function(){define(["../_base/lang"],function(lang){return function(name,ctor,base,_31c){base=base||Error;var _31d=function(_31e){if(base===Error){if(Error.captureStackTrace){Error.captureStackTrace(this,_31d);}var err=Error.call(this,_31e),prop;for(prop in err){if(err.hasOwnProperty(prop)){this[prop]=err[prop];}}this.message=_31e;this.stack=err.stack;}else{base.apply(this,arguments);}if(ctor){ctor.apply(this,arguments);}};_31d.prototype=lang.delegate(base.prototype,_31c);_31d.prototype.name=name;_31d.prototype.constructor=_31d;return _31d;};});},"dojo/promise/Promise":function(){define(["../_base/lang"],function(lang){"use strict";function _31f(){throw new TypeError("abstract");};return lang.extend(function Promise(){},{then:function(_320,_321,_322){_31f();},cancel:function(_323,_324){_31f();},isResolved:function(){_31f();},isRejected:function(){_31f();},isFulfilled:function(){_31f();},isCanceled:function(){_31f();},always:function(_325){return this.then(_325,_325);},otherwise:function(_326){return this.then(null,_326);},trace:function(){return this;},traceRejected:function(){return this;},toString:function(){return "[object Promise]";}});});},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(_327,has,lang,_328){has.add("config-useDeferredInstrumentation","report-unhandled-rejections");function _329(_32a,_32b,_32c){var _32d="";if(_32a&&_32a.stack){_32d+=_32a.stack;}if(_32b&&_32b.stack){_32d+="\n    ----------------------------------------\n    rejected"+_32b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," ");}if(_32c&&_32c.stack){_32d+="\n    ----------------------------------------\n"+_32c.stack;}console.error(_32a,_32d);};function _32e(_32f,_330,_331,_332){if(!_330){_329(_32f,_331,_332);}};var _333=[];var _334=false;var _335=1000;function _336(_337,_338,_339,_33a){if(!_328.some(_333,function(obj){if(obj.error===_337){if(_338){obj.handled=true;}return true;}})){_333.push({error:_337,rejection:_339,handled:_338,deferred:_33a,timestamp:new Date().getTime()});}if(!_334){_334=setTimeout(_33b,_335);}};function _33b(){var now=new Date().getTime();var _33c=now-_335;_333=_328.filter(_333,function(obj){if(obj.timestamp<_33c){if(!obj.handled){_329(obj.error,obj.rejection,obj.deferred);}return false;}return true;});if(_333.length){_334=setTimeout(_33b,_333[0].timestamp+_335-now);}else{_334=false;}};return function(_33d){var _33e=has("config-useDeferredInstrumentation");if(_33e){_327.on("resolved",lang.hitch(console,"log","resolved"));_327.on("rejected",lang.hitch(console,"log","rejected"));_327.on("progress",lang.hitch(console,"log","progress"));var args=[];if(typeof _33e==="string"){args=_33e.split(",");_33e=args.shift();}if(_33e==="report-rejections"){_33d.instrumentRejected=_32e;}else{if(_33e==="report-unhandled-rejections"||_33e===true||_33e===1){_33d.instrumentRejected=_336;_335=parseInt(args[0],10)||_335;}else{throw new Error("Unsupported instrumentation usage <"+_33e+">");}}}};});},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(lang,_33f,_340){"use strict";var _341=new _340;var emit=_341.emit;_341.emit=null;function _342(args){setTimeout(function(){emit.apply(_341,args);},0);};_33f.prototype.trace=function(){var args=lang._toArray(arguments);this.then(function(_343){_342(["resolved",_343].concat(args));},function(_344){_342(["rejected",_344].concat(args));},function(_345){_342(["progress",_345].concat(args));});return this;};_33f.prototype.traceRejected=function(){var args=lang._toArray(arguments);this.otherwise(function(_346){_342(["rejected",_346].concat(args));});return this;};return _341;});},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(_347,_348){"use strict";return function when(_349,_34a,_34b,_34c){var _34d=_349&&typeof _349.then==="function";var _34e=_34d&&_349 instanceof _348;if(!_34d){if(arguments.length>1){return _34a?_34a(_349):_349;}else{return new _347().resolve(_349);}}else{if(!_34e){var _34f=new _347(_349.cancel);_349.then(_34f.resolve,_34f.reject,_34f.progress);_349=_34f.promise;}}if(_34a||_34b||_34c){return _349.then(_34a,_34b,_34c);}return _349;};});},"dojo/_base/json":function(){define(["./kernel","../json"],function(dojo,json){dojo.fromJson=function(js){return eval("("+js+")");};dojo._escapeString=json.stringify;dojo.toJsonIndentStr="\t";dojo.toJson=function(it,_350){return json.stringify(it,function(key,_351){if(_351){var tf=_351.__json__||_351.json;if(typeof tf=="function"){return tf.call(_351);}}return _351;},_350&&dojo.toJsonIndentStr);};return dojo;});},"dojo/json":function(){define(["./has"],function(has){"use strict";var _352=typeof JSON!="undefined";has.add("json-parse",_352);has.add("json-stringify",_352&&JSON.stringify({a:0},function(k,v){return v||1;})=="{\"a\":1}");if(has("json-stringify")){return JSON;}else{var _353=function(str){return ("\""+str.replace(/(["\\])/g,"\\$1")+"\"").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r");};return {parse:has("json-parse")?JSON.parse:function(str,_354){if(_354&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str)){throw new SyntaxError("Invalid characters in JSON");}return eval("("+str+")");},stringify:function(_355,_356,_357){var _358;if(typeof _356=="string"){_357=_356;_356=null;}function _359(it,_35a,key){if(_356){it=_356(key,it);}var val,_35b=typeof it;if(_35b=="number"){return isFinite(it)?it+"":"null";}if(_35b=="boolean"){return it+"";}if(it===null){return "null";}if(typeof it=="string"){return _353(it);}if(_35b=="function"||_35b=="undefined"){return _358;}if(typeof it.toJSON=="function"){return _359(it.toJSON(key),_35a,key);}if(it instanceof Date){return "\"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z\"".replace(/\{(\w+)(\+)?\}/g,function(t,prop,plus){var num=it["getUTC"+prop]()+(plus?1:0);return num<10?"0"+num:num;});}if(it.valueOf()!==it){return _359(it.valueOf(),_35a,key);}var _35c=_357?(_35a+_357):"";var sep=_357?" ":"";var _35d=_357?"\n":"";if(it instanceof Array){var itl=it.length,res=[];for(key=0;key<itl;key++){var obj=it[key];val=_359(obj,_35c,key);if(typeof val!="string"){val="null";}res.push(_35d+_35c+val);}return "["+res.join(",")+_35d+_35a+"]";}var _35e=[];for(key in it){var _35f;if(it.hasOwnProperty(key)){if(typeof key=="number"){_35f="\""+key+"\"";}else{if(typeof key=="string"){_35f=_353(key);}else{continue;}}val=_359(it[key],_35c,key);if(typeof val!="string"){continue;}_35e.push(_35d+_35c+_35f+":"+sep+val);}}return "{"+_35e.join(",")+_35d+_35a+"}";};return _359(_355,"","");}};}});},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(dojo,lang,_360,_361){var _362=dojo.Color=function(_363){if(_363){this.setColor(_363);}};_362.named={"black":[0,0,0],"silver":[192,192,192],"gray":[128,128,128],"white":[255,255,255],"maroon":[128,0,0],"red":[255,0,0],"purple":[128,0,128],"fuchsia":[255,0,255],"green":[0,128,0],"lime":[0,255,0],"olive":[128,128,0],"yellow":[255,255,0],"navy":[0,0,128],"blue":[0,0,255],"teal":[0,128,128],"aqua":[0,255,255],"transparent":_361.transparentColor||[0,0,0,0]};lang.extend(_362,{r:255,g:255,b:255,a:1,_set:function(r,g,b,a){var t=this;t.r=r;t.g=g;t.b=b;t.a=a;},setColor:function(_364){if(lang.isString(_364)){_362.fromString(_364,this);}else{if(lang.isArray(_364)){_362.fromArray(_364,this);}else{this._set(_364.r,_364.g,_364.b,_364.a);if(!(_364 instanceof _362)){this.sanitize();}}}return this;},sanitize:function(){return this;},toRgb:function(){var t=this;return [t.r,t.g,t.b];},toRgba:function(){var t=this;return [t.r,t.g,t.b,t.a];},toHex:function(){var arr=_360.map(["r","g","b"],function(x){var s=this[x].toString(16);return s.length<2?"0"+s:s;},this);return "#"+arr.join("");},toCss:function(_365){var t=this,rgb=t.r+", "+t.g+", "+t.b;return (_365?"rgba("+rgb+", "+t.a:"rgb("+rgb)+")";},toString:function(){return this.toCss(true);}});_362.blendColors=dojo.blendColors=function(_366,end,_367,obj){var t=obj||new _362();_360.forEach(["r","g","b","a"],function(x){t[x]=_366[x]+(end[x]-_366[x])*_367;if(x!="a"){t[x]=Math.round(t[x]);}});return t.sanitize();};_362.fromRgb=dojo.colorFromRgb=function(_368,obj){var m=_368.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return m&&_362.fromArray(m[1].split(/\s*,\s*/),obj);};_362.fromHex=dojo.colorFromHex=function(_369,obj){var t=obj||new _362(),bits=(_369.length==4)?4:8,mask=(1<<bits)-1;_369=Number("0x"+_369.substr(1));if(isNaN(_369)){return null;}_360.forEach(["b","g","r"],function(x){var c=_369&mask;_369>>=bits;t[x]=bits==4?17*c:c;});t.a=1;return t;};_362.fromArray=dojo.colorFromArray=function(a,obj){var t=obj||new _362();t._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));if(isNaN(t.a)){t.a=1;}return t.sanitize();};_362.fromString=dojo.colorFromString=function(str,obj){var a=_362.named[str];return a&&_362.fromArray(a,obj)||_362.fromRgb(str,obj)||_362.fromHex(str,obj);};return _362;});},"dojo/_base/browser":function(){if(require.has){require.has.add("config-selectorEngine","acme");}define(["../ready","./kernel","./connect","./unload","./window","./event","./html","./NodeList","../query","./xhr","./fx"],function(dojo){return dojo;});},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(dojo,lang,on){var win=window;var _36a={addOnWindowUnload:function(obj,_36b){if(!dojo.windowUnloaded){on(win,"unload",(dojo.windowUnloaded=function(){}));}on(win,"unload",lang.hitch(obj,_36b));},addOnUnload:function(obj,_36c){on(win,"beforeunload",lang.hitch(obj,_36c));}};dojo.addOnWindowUnload=_36a.addOnWindowUnload;dojo.addOnUnload=_36a.addOnUnload;return _36a;});},"dojo/_base/html":function(){define(["./kernel","../dom","../dom-style","../dom-attr","../dom-prop","../dom-class","../dom-construct","../dom-geometry"],function(dojo,dom,_36d,attr,prop,cls,ctr,geom){dojo.byId=dom.byId;dojo.isDescendant=dom.isDescendant;dojo.setSelectable=dom.setSelectable;dojo.getAttr=attr.get;dojo.setAttr=attr.set;dojo.hasAttr=attr.has;dojo.removeAttr=attr.remove;dojo.getNodeProp=attr.getNodeProp;dojo.attr=function(node,name,_36e){if(arguments.length==2){return attr[typeof name=="string"?"get":"set"](node,name);}return attr.set(node,name,_36e);};dojo.hasClass=cls.contains;dojo.addClass=cls.add;dojo.removeClass=cls.remove;dojo.toggleClass=cls.toggle;dojo.replaceClass=cls.replace;dojo._toDom=dojo.toDom=ctr.toDom;dojo.place=ctr.place;dojo.create=ctr.create;dojo.empty=function(node){ctr.empty(node);};dojo._destroyElement=dojo.destroy=function(node){ctr.destroy(node);};dojo._getPadExtents=dojo.getPadExtents=geom.getPadExtents;dojo._getBorderExtents=dojo.getBorderExtents=geom.getBorderExtents;dojo._getPadBorderExtents=dojo.getPadBorderExtents=geom.getPadBorderExtents;dojo._getMarginExtents=dojo.getMarginExtents=geom.getMarginExtents;dojo._getMarginSize=dojo.getMarginSize=geom.getMarginSize;dojo._getMarginBox=dojo.getMarginBox=geom.getMarginBox;dojo.setMarginBox=geom.setMarginBox;dojo._getContentBox=dojo.getContentBox=geom.getContentBox;dojo.setContentSize=geom.setContentSize;dojo._isBodyLtr=dojo.isBodyLtr=geom.isBodyLtr;dojo._docScroll=dojo.docScroll=geom.docScroll;dojo._getIeDocumentElementOffset=dojo.getIeDocumentElementOffset=geom.getIeDocumentElementOffset;dojo._fixIeBiDiScrollLeft=dojo.fixIeBiDiScrollLeft=geom.fixIeBiDiScrollLeft;dojo.position=geom.position;dojo.marginBox=function marginBox(node,box){return box?geom.setMarginBox(node,box):geom.getMarginBox(node);};dojo.contentBox=function contentBox(node,box){return box?geom.setContentSize(node,box):geom.getContentBox(node);};dojo.coords=function(node,_36f){dojo.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");node=dom.byId(node);var s=_36d.getComputedStyle(node),mb=geom.getMarginBox(node,s);var abs=geom.position(node,_36f);mb.x=abs.x;mb.y=abs.y;return mb;};dojo.getProp=prop.get;dojo.setProp=prop.set;dojo.prop=function(node,name,_370){if(arguments.length==2){return prop[typeof name=="string"?"get":"set"](node,name);}return prop.set(node,name,_370);};dojo.getStyle=_36d.get;dojo.setStyle=_36d.set;dojo.getComputedStyle=_36d.getComputedStyle;dojo.__toPixelValue=dojo.toPixelValue=_36d.toPixelValue;dojo.style=function(node,name,_371){switch(arguments.length){case 1:return _36d.get(node);case 2:return _36d[typeof name=="string"?"get":"set"](node,name);}return _36d.set(node,name,_371);};return dojo;});},"dojo/dom-attr":function(){define(["exports","./sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(_372,has,lang,dom,_373,prop){var _374={innerHTML:1,textContent:1,className:1,htmlFor:has("ie"),value:1},_375={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};function _376(node,name){var attr=node.getAttributeNode&&node.getAttributeNode(name);return !!attr&&attr.specified;};_372.has=function hasAttr(node,name){var lc=name.toLowerCase();return _374[prop.names[lc]||name]||_376(dom.byId(node),_375[lc]||name);};_372.get=function getAttr(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_377=prop.names[lc]||name,_378=_374[_377],_379=node[_377];if(_378&&typeof _379!="undefined"){return _379;}if(_377=="textContent"){return prop.get(node,_377);}if(_377!="href"&&(typeof _379=="boolean"||lang.isFunction(_379))){return _379;}var _37a=_375[lc]||name;return _376(node,_37a)?node.getAttribute(_37a):null;};_372.set=function setAttr(node,name,_37b){node=dom.byId(node);if(arguments.length==2){for(var x in name){_372.set(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_37c=prop.names[lc]||name,_37d=_374[_37c];if(_37c=="style"&&typeof _37b!="string"){_373.set(node,_37b);return node;}if(_37d||typeof _37b=="boolean"||lang.isFunction(_37b)){return prop.set(node,name,_37b);}node.setAttribute(_375[lc]||name,_37b);return node;};_372.remove=function removeAttr(node,name){dom.byId(node).removeAttribute(_375[name.toLowerCase()]||name);};_372.getNodeProp=function getNodeProp(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_37e=prop.names[lc]||name;if((_37e in node)&&_37e!="href"){return node[_37e];}var _37f=_375[lc]||name;return _376(node,_37f)?node.getAttribute(_37f):null;};});},"dojo/dom-prop":function(){define(["exports","./_base/kernel","./sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(_380,dojo,has,lang,dom,_381,ctr,conn){var _382={},_383=0,_384=dojo._scopeName+"attrid";has.add("dom-textContent",function(_385,doc,_386){return "textContent" in _386;});_380.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};function _387(node){var text="",ch=node.childNodes;for(var i=0,n;n=ch[i];i++){if(n.nodeType!=8){if(n.nodeType==1){text+=_387(n);}else{text+=n.nodeValue;}}}return text;};_380.get=function getProp(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_388=_380.names[lc]||name;if(_388=="textContent"&&!has("dom-textContent")){return _387(node);}return node[_388];};_380.set=function setProp(node,name,_389){node=dom.byId(node);var l=arguments.length;if(l==2&&typeof name!="string"){for(var x in name){_380.set(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_38a=_380.names[lc]||name;if(_38a=="style"&&typeof _389!="string"){_381.set(node,_389);return node;}if(_38a=="innerHTML"){if(has("ie")&&node.tagName.toLowerCase() in {col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}){ctr.empty(node);node.appendChild(ctr.toDom(_389,node.ownerDocument));}else{node[_38a]=_389;}return node;}if(_38a=="textContent"&&!has("dom-textContent")){ctr.empty(node);node.appendChild(node.ownerDocument.createTextNode(_389));return node;}if(lang.isFunction(_389)){var _38b=node[_384];if(!_38b){_38b=_383++;node[_384]=_38b;}if(!_382[_38b]){_382[_38b]={};}var h=_382[_38b][_38a];if(h){conn.disconnect(h);}else{try{delete node[_38a];}catch(e){}}if(_389){_382[_38b][_38a]=conn.connect(node,_38a,_389);}else{node[_38a]=null;}return node;}node[_38a]=_389;return node;};});},"dojo/dom-construct":function(){define(["exports","./_base/kernel","./sniff","./_base/window","./dom","./dom-attr"],function(_38c,dojo,has,win,dom,attr){var _38d={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},_38e=/<\s*([\w\:]+)/,_38f={},_390=0,_391="__"+dojo._scopeName+"ToDomId";for(var _392 in _38d){if(_38d.hasOwnProperty(_392)){var tw=_38d[_392];tw.pre=_392=="option"?"<select multiple=\"multiple\">":"<"+tw.join("><")+">";tw.post="</"+tw.reverse().join("></")+">";}}var _393;if(has("ie")<=8){_393=function(doc){doc.__dojo_html5_tested="yes";var div=_394("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},doc.body);if(div.childNodes.length!==1){("abbr article aside audio canvas details figcaption figure footer header "+"hgroup mark meter nav output progress section summary time video").replace(/\b\w+\b/g,function(n){doc.createElement(n);});}_395(div);};}function _396(node,ref){var _397=ref.parentNode;if(_397){_397.insertBefore(node,ref);}};function _398(node,ref){var _399=ref.parentNode;if(_399){if(_399.lastChild==ref){_399.appendChild(node);}else{_399.insertBefore(node,ref.nextSibling);}}};_38c.toDom=function toDom(frag,doc){doc=doc||win.doc;var _39a=doc[_391];if(!_39a){doc[_391]=_39a=++_390+"";_38f[_39a]=doc.createElement("div");}if(has("ie")<=8){if(!doc.__dojo_html5_tested&&doc.body){_393(doc);}}frag+="";var _39b=frag.match(_38e),tag=_39b?_39b[1].toLowerCase():"",_39c=_38f[_39a],wrap,i,fc,df;if(_39b&&_38d[tag]){wrap=_38d[tag];_39c.innerHTML=wrap.pre+frag+wrap.post;for(i=wrap.length;i;--i){_39c=_39c.firstChild;}}else{_39c.innerHTML=frag;}if(_39c.childNodes.length==1){return _39c.removeChild(_39c.firstChild);}df=doc.createDocumentFragment();while((fc=_39c.firstChild)){df.appendChild(fc);}return df;};_38c.place=function place(node,_39d,_39e){_39d=dom.byId(_39d);if(typeof node=="string"){node=/^\s*</.test(node)?_38c.toDom(node,_39d.ownerDocument):dom.byId(node);}if(typeof _39e=="number"){var cn=_39d.childNodes;if(!cn.length||cn.length<=_39e){_39d.appendChild(node);}else{_396(node,cn[_39e<0?0:_39e]);}}else{switch(_39e){case "before":_396(node,_39d);break;case "after":_398(node,_39d);break;case "replace":_39d.parentNode.replaceChild(node,_39d);break;case "only":_38c.empty(_39d);_39d.appendChild(node);break;case "first":if(_39d.firstChild){_396(node,_39d.firstChild);break;}default:_39d.appendChild(node);}}return node;};var _394=_38c.create=function _394(tag,_39f,_3a0,pos){var doc=win.doc;if(_3a0){_3a0=dom.byId(_3a0);doc=_3a0.ownerDocument;}if(typeof tag=="string"){tag=doc.createElement(tag);}if(_39f){attr.set(tag,_39f);}if(_3a0){_38c.place(tag,_3a0,pos);}return tag;};function _3a1(node){if("innerHTML" in node){try{node.innerHTML="";return;}catch(e){}}for(var c;c=node.lastChild;){node.removeChild(c);}};_38c.empty=function empty(node){_3a1(dom.byId(node));};function _3a2(node,_3a3){if(node.firstChild){_3a1(node);}if(_3a3){has("ie")&&_3a3.canHaveChildren&&"removeNode" in node?node.removeNode(false):_3a3.removeChild(node);}};var _395=_38c.destroy=function _395(node){node=dom.byId(node);if(!node){return;}_3a2(node,node.parentNode);};});},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(lang,_3a4,dom){var _3a5="className";var cls,_3a6=/\s+/,a1=[""];function _3a7(s){if(typeof s=="string"||s instanceof String){if(s&&!_3a6.test(s)){a1[0]=s;return a1;}var a=s.split(_3a6);if(a.length&&!a[0]){a.shift();}if(a.length&&!a[a.length-1]){a.pop();}return a;}if(!s){return [];}return _3a4.filter(s,function(x){return x;});};var _3a8={};cls={contains:function containsClass(node,_3a9){return ((" "+dom.byId(node)[_3a5]+" ").indexOf(" "+_3a9+" ")>=0);},add:function addClass(node,_3aa){node=dom.byId(node);_3aa=_3a7(_3aa);var cls=node[_3a5],_3ab;cls=cls?" "+cls+" ":" ";_3ab=cls.length;for(var i=0,len=_3aa.length,c;i<len;++i){c=_3aa[i];if(c&&cls.indexOf(" "+c+" ")<0){cls+=c+" ";}}if(_3ab<cls.length){node[_3a5]=cls.substr(1,cls.length-2);}},remove:function removeClass(node,_3ac){node=dom.byId(node);var cls;if(_3ac!==undefined){_3ac=_3a7(_3ac);cls=" "+node[_3a5]+" ";for(var i=0,len=_3ac.length;i<len;++i){cls=cls.replace(" "+_3ac[i]+" "," ");}cls=lang.trim(cls);}else{cls="";}if(node[_3a5]!=cls){node[_3a5]=cls;}},replace:function replaceClass(node,_3ad,_3ae){node=dom.byId(node);_3a8[_3a5]=node[_3a5];cls.remove(_3a8,_3ae);cls.add(_3a8,_3ad);if(node[_3a5]!==_3a8[_3a5]){node[_3a5]=_3a8[_3a5];}},toggle:function toggleClass(node,_3af,_3b0){node=dom.byId(node);if(_3b0===undefined){_3af=_3a7(_3af);for(var i=0,len=_3af.length,c;i<len;++i){c=_3af[i];cls[cls.contains(node,c)?"remove":"add"](node,c);}}else{cls[_3b0?"add":"remove"](node,_3af);}return _3b0;}};return cls;});},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(dojo,_3b1,_3b2){var _3b3=_3b1.NodeList,nlp=_3b3.prototype;nlp.connect=_3b3._adaptAsForEach(function(){return dojo.connect.apply(this,arguments);});nlp.coords=_3b3._adaptAsMap(dojo.coords);_3b3.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"];_3b2.forEach(_3b3.events,function(evt){var _3b4="on"+evt;nlp[_3b4]=function(a,b){return this.connect(_3b4,a,b);};});dojo.NodeList=_3b3;return _3b3;});},"dojo/query":function(){define(["./_base/kernel","./has","./dom","./on","./_base/array","./_base/lang","./selector/_loader","./selector/_loader!default"],function(dojo,has,dom,on,_3b5,lang,_3b6,_3b7){"use strict";has.add("array-extensible",function(){return lang.delegate([],{length:1}).length==1&&!has("bug-for-in-skips-shadowed");});var ap=Array.prototype,aps=ap.slice,apc=ap.concat,_3b8=_3b5.forEach;var tnl=function(a,_3b9,_3ba){var _3bb=new (_3ba||this._NodeListCtor||nl)(a);return _3b9?_3bb._stash(_3b9):_3bb;};var _3bc=function(f,a,o){a=[0].concat(aps.call(a,0));o=o||dojo.global;return function(node){a[0]=node;return f.apply(o,a);};};var _3bd=function(f,o){return function(){this.forEach(_3bc(f,arguments,o));return this;};};var _3be=function(f,o){return function(){return this.map(_3bc(f,arguments,o));};};var _3bf=function(f,o){return function(){return this.filter(_3bc(f,arguments,o));};};var _3c0=function(f,g,o){return function(){var a=arguments,body=_3bc(f,a,o);if(g.call(o||dojo.global,a)){return this.map(body);}this.forEach(body);return this;};};var _3c1=function(_3c2){var _3c3=this instanceof nl&&has("array-extensible");if(typeof _3c2=="number"){_3c2=Array(_3c2);}var _3c4=(_3c2&&"length" in _3c2)?_3c2:arguments;if(_3c3||!_3c4.sort){var _3c5=_3c3?this:[],l=_3c5.length=_3c4.length;for(var i=0;i<l;i++){_3c5[i]=_3c4[i];}if(_3c3){return _3c5;}_3c4=_3c5;}lang._mixin(_3c4,nlp);_3c4._NodeListCtor=function(_3c6){return nl(_3c6);};return _3c4;};var nl=_3c1,nlp=nl.prototype=has("array-extensible")?[]:{};nl._wrap=nlp._wrap=tnl;nl._adaptAsMap=_3be;nl._adaptAsForEach=_3bd;nl._adaptAsFilter=_3bf;nl._adaptWithCondition=_3c0;_3b8(["slice","splice"],function(name){var f=ap[name];nlp[name]=function(){return this._wrap(f.apply(this,arguments),name=="slice"?this:null);};});_3b8(["indexOf","lastIndexOf","every","some"],function(name){var f=_3b5[name];nlp[name]=function(){return f.apply(dojo,[this].concat(aps.call(arguments,0)));};});lang.extend(_3c1,{constructor:nl,_NodeListCtor:nl,toString:function(){return this.join(",");},_stash:function(_3c7){this._parent=_3c7;return this;},on:function(_3c8,_3c9){var _3ca=this.map(function(node){return on(node,_3c8,_3c9);});_3ca.remove=function(){for(var i=0;i<_3ca.length;i++){_3ca[i].remove();}};return _3ca;},end:function(){if(this._parent){return this._parent;}else{return new this._NodeListCtor(0);}},concat:function(item){var t=aps.call(this,0),m=_3b5.map(arguments,function(a){return aps.call(a,0);});return this._wrap(apc.apply(t,m),this);},map:function(func,obj){return this._wrap(_3b5.map(this,func,obj),this);},forEach:function(_3cb,_3cc){_3b8(this,_3cb,_3cc);return this;},filter:function(_3cd){var a=arguments,_3ce=this,_3cf=0;if(typeof _3cd=="string"){_3ce=_3d0._filterResult(this,a[0]);if(a.length==1){return _3ce._stash(this);}_3cf=1;}return this._wrap(_3b5.filter(_3ce,a[_3cf],a[_3cf+1]),this);},instantiate:function(_3d1,_3d2){var c=lang.isFunction(_3d1)?_3d1:lang.getObject(_3d1);_3d2=_3d2||{};return this.forEach(function(node){new c(_3d2,node);});},at:function(){var t=new this._NodeListCtor(0);_3b8(arguments,function(i){if(i<0){i=this.length+i;}if(this[i]){t.push(this[i]);}},this);return t._stash(this);}});function _3d3(_3d4,_3d5){var _3d6=function(_3d7,root){if(typeof root=="string"){root=dom.byId(root);if(!root){return new _3d5([]);}}var _3d8=typeof _3d7=="string"?_3d4(_3d7,root):_3d7?(_3d7.end&&_3d7.on)?_3d7:[_3d7]:[];if(_3d8.end&&_3d8.on){return _3d8;}return new _3d5(_3d8);};_3d6.matches=_3d4.match||function(node,_3d9,root){return _3d6.filter([node],_3d9,root).length>0;};_3d6.filter=_3d4.filter||function(_3da,_3db,root){return _3d6(_3db,root).filter(function(node){return _3b5.indexOf(_3da,node)>-1;});};if(typeof _3d4!="function"){var _3dc=_3d4.search;_3d4=function(_3dd,root){return _3dc(root||document,_3dd);};}return _3d6;};var _3d0=_3d3(_3b7,_3c1);dojo.query=_3d3(_3b7,function(_3de){return _3c1(_3de);});_3d0.load=function(id,_3df,_3e0){_3b6.load(id,_3df,function(_3e1){_3e0(_3d3(_3e1,_3c1));});};dojo._filterQueryResult=_3d0._filterResult=function(_3e2,_3e3,root){return new _3c1(_3d0.filter(_3e2,_3e3,root));};dojo.NodeList=_3d0.NodeList=_3c1;return _3d0;});},"dojo/selector/_loader":function(){define(["../has","require"],function(has,_3e4){"use strict";var _3e5=document.createElement("div");has.add("dom-qsa2.1",!!_3e5.querySelectorAll);has.add("dom-qsa3",function(){try{_3e5.innerHTML="<p class='TEST'></p>";return _3e5.querySelectorAll(".TEST:empty").length==1;}catch(e){}});var _3e6;var acme="./acme",lite="./lite";return {load:function(id,_3e7,_3e8,_3e9){var req=_3e4;id=id=="default"?has("config-selectorEngine")||"css3":id;id=id=="css2"||id=="lite"?lite:id=="css2.1"?has("dom-qsa2.1")?lite:acme:id=="css3"?has("dom-qsa3")?lite:acme:id=="acme"?acme:(req=_3e7)&&id;if(id.charAt(id.length-1)=="?"){id=id.substring(0,id.length-1);var _3ea=true;}if(_3ea&&(has("dom-compliant-qsa")||_3e6)){return _3e8(_3e6);}req([id],function(_3eb){if(id!="./lite"){_3e6=_3eb;}_3e8(_3eb);});}};});},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(dom,has,_3ec,lang,win){var trim=lang.trim;var each=_3ec.forEach;var _3ed=function(){return win.doc;};var _3ee=(_3ed().compatMode)=="BackCompat";var _3ef=">~+";var _3f0=false;var _3f1=function(){return true;};var _3f2=function(_3f3){if(_3ef.indexOf(_3f3.slice(-1))>=0){_3f3+=" * ";}else{_3f3+=" ";}var ts=function(s,e){return trim(_3f3.slice(s,e));};var _3f4=[];var _3f5=-1,_3f6=-1,_3f7=-1,_3f8=-1,_3f9=-1,inId=-1,_3fa=-1,_3fb,lc="",cc="",_3fc;var x=0,ql=_3f3.length,_3fd=null,_3fe=null;var _3ff=function(){if(_3fa>=0){var tv=(_3fa==x)?null:ts(_3fa,x);_3fd[(_3ef.indexOf(tv)<0)?"tag":"oper"]=tv;_3fa=-1;}};var _400=function(){if(inId>=0){_3fd.id=ts(inId,x).replace(/\\/g,"");inId=-1;}};var _401=function(){if(_3f9>=0){_3fd.classes.push(ts(_3f9+1,x).replace(/\\/g,""));_3f9=-1;}};var _402=function(){_400();_3ff();_401();};var _403=function(){_402();if(_3f8>=0){_3fd.pseudos.push({name:ts(_3f8+1,x)});}_3fd.loops=(_3fd.pseudos.length||_3fd.attrs.length||_3fd.classes.length);_3fd.oquery=_3fd.query=ts(_3fc,x);_3fd.otag=_3fd.tag=(_3fd["oper"])?null:(_3fd.tag||"*");if(_3fd.tag){_3fd.tag=_3fd.tag.toUpperCase();}if(_3f4.length&&(_3f4[_3f4.length-1].oper)){_3fd.infixOper=_3f4.pop();_3fd.query=_3fd.infixOper.query+" "+_3fd.query;}_3f4.push(_3fd);_3fd=null;};for(;lc=cc,cc=_3f3.charAt(x),x<ql;x++){if(lc=="\\"){continue;}if(!_3fd){_3fc=x;_3fd={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return _3f0?this.otag:this.tag;}};_3fa=x;}if(_3fb){if(cc==_3fb){_3fb=null;}continue;}else{if(cc=="'"||cc=="\""){_3fb=cc;continue;}}if(_3f5>=0){if(cc=="]"){if(!_3fe.attr){_3fe.attr=ts(_3f5+1,x);}else{_3fe.matchFor=ts((_3f7||_3f5+1),x);}var cmf=_3fe.matchFor;if(cmf){if((cmf.charAt(0)=="\"")||(cmf.charAt(0)=="'")){_3fe.matchFor=cmf.slice(1,-1);}}if(_3fe.matchFor){_3fe.matchFor=_3fe.matchFor.replace(/\\/g,"");}_3fd.attrs.push(_3fe);_3fe=null;_3f5=_3f7=-1;}else{if(cc=="="){var _404=("|~^$*".indexOf(lc)>=0)?lc:"";_3fe.type=_404+cc;_3fe.attr=ts(_3f5+1,x-_404.length);_3f7=x+1;}}}else{if(_3f6>=0){if(cc==")"){if(_3f8>=0){_3fe.value=ts(_3f6+1,x);}_3f8=_3f6=-1;}}else{if(cc=="#"){_402();inId=x+1;}else{if(cc=="."){_402();_3f9=x;}else{if(cc==":"){_402();_3f8=x;}else{if(cc=="["){_402();_3f5=x;_3fe={};}else{if(cc=="("){if(_3f8>=0){_3fe={name:ts(_3f8+1,x),value:null};_3fd.pseudos.push(_3fe);}_3f6=x;}else{if((cc==" ")&&(lc!=cc)){_403();}}}}}}}}}return _3f4;};var _405=function(_406,_407){if(!_406){return _407;}if(!_407){return _406;}return function(){return _406.apply(window,arguments)&&_407.apply(window,arguments);};};var _408=function(i,arr){var r=arr||[];if(i){r.push(i);}return r;};var _409=function(n){return (1==n.nodeType);};var _40a="";var _40b=function(elem,attr){if(!elem){return _40a;}if(attr=="class"){return elem.className||_40a;}if(attr=="for"){return elem.htmlFor||_40a;}if(attr=="style"){return elem.style.cssText||_40a;}return (_3f0?elem.getAttribute(attr):elem.getAttribute(attr,2))||_40a;};var _40c={"*=":function(attr,_40d){return function(elem){return (_40b(elem,attr).indexOf(_40d)>=0);};},"^=":function(attr,_40e){return function(elem){return (_40b(elem,attr).indexOf(_40e)==0);};},"$=":function(attr,_40f){return function(elem){var ea=" "+_40b(elem,attr);var _410=ea.lastIndexOf(_40f);return _410>-1&&(_410==(ea.length-_40f.length));};},"~=":function(attr,_411){var tval=" "+_411+" ";return function(elem){var ea=" "+_40b(elem,attr)+" ";return (ea.indexOf(tval)>=0);};},"|=":function(attr,_412){var _413=_412+"-";return function(elem){var ea=_40b(elem,attr);return ((ea==_412)||(ea.indexOf(_413)==0));};},"=":function(attr,_414){return function(elem){return (_40b(elem,attr)==_414);};}};var _415=(typeof _3ed().firstChild.nextElementSibling=="undefined");var _416=!_415?"nextElementSibling":"nextSibling";var _417=!_415?"previousElementSibling":"previousSibling";var _418=(_415?_409:_3f1);var _419=function(node){while(node=node[_417]){if(_418(node)){return false;}}return true;};var _41a=function(node){while(node=node[_416]){if(_418(node)){return false;}}return true;};var _41b=function(node){var root=node.parentNode;root=root.nodeType!=7?root:root.nextSibling;var i=0,tret=root.children||root.childNodes,ci=(node["_i"]||node.getAttribute("_i")||-1),cl=(root["_l"]||(typeof root.getAttribute!=="undefined"?root.getAttribute("_l"):-1));if(!tret){return -1;}var l=tret.length;if(cl==l&&ci>=0&&cl>=0){return ci;}if(has("ie")&&typeof root.setAttribute!=="undefined"){root.setAttribute("_l",l);}else{root["_l"]=l;}ci=-1;for(var te=root["firstElementChild"]||root["firstChild"];te;te=te[_416]){if(_418(te)){if(has("ie")){te.setAttribute("_i",++i);}else{te["_i"]=++i;}if(node===te){ci=i;}}}return ci;};var _41c=function(elem){return !((_41b(elem))%2);};var _41d=function(elem){return ((_41b(elem))%2);};var _41e={"checked":function(name,_41f){return function(elem){return !!("checked" in elem?elem.checked:elem.selected);};},"disabled":function(name,_420){return function(elem){return elem.disabled;};},"enabled":function(name,_421){return function(elem){return !elem.disabled;};},"first-child":function(){return _419;},"last-child":function(){return _41a;},"only-child":function(name,_422){return function(node){return _419(node)&&_41a(node);};},"empty":function(name,_423){return function(elem){var cn=elem.childNodes;var cnl=elem.childNodes.length;for(var x=cnl-1;x>=0;x--){var nt=cn[x].nodeType;if((nt===1)||(nt==3)){return false;}}return true;};},"contains":function(name,_424){var cz=_424.charAt(0);if(cz=="\""||cz=="'"){_424=_424.slice(1,-1);}return function(elem){return (elem.innerHTML.indexOf(_424)>=0);};},"not":function(name,_425){var p=_3f2(_425)[0];var _426={el:1};if(p.tag!="*"){_426.tag=1;}if(!p.classes.length){_426.classes=1;}var ntf=_427(p,_426);return function(elem){return (!ntf(elem));};},"nth-child":function(name,_428){var pi=parseInt;if(_428=="odd"){return _41d;}else{if(_428=="even"){return _41c;}}if(_428.indexOf("n")!=-1){var _429=_428.split("n",2);var pred=_429[0]?((_429[0]=="-")?-1:pi(_429[0])):1;var idx=_429[1]?pi(_429[1]):0;var lb=0,ub=-1;if(pred>0){if(idx<0){idx=(idx%pred)&&(pred+(idx%pred));}else{if(idx>0){if(idx>=pred){lb=idx-idx%pred;}idx=idx%pred;}}}else{if(pred<0){pred*=-1;if(idx>0){ub=idx;idx=idx%pred;}}}if(pred>0){return function(elem){var i=_41b(elem);return (i>=lb)&&(ub<0||i<=ub)&&((i%pred)==idx);};}else{_428=idx;}}var _42a=pi(_428);return function(elem){return (_41b(elem)==_42a);};}};var _42b=(has("ie")<9||has("ie")==9&&has("quirks"))?function(cond){var clc=cond.toLowerCase();if(clc=="class"){cond="className";}return function(elem){return (_3f0?elem.getAttribute(cond):elem[cond]||elem[clc]);};}:function(cond){return function(elem){return (elem&&elem.getAttribute&&elem.hasAttribute(cond));};};var _427=function(_42c,_42d){if(!_42c){return _3f1;}_42d=_42d||{};var ff=null;if(!("el" in _42d)){ff=_405(ff,_409);}if(!("tag" in _42d)){if(_42c.tag!="*"){ff=_405(ff,function(elem){return (elem&&((_3f0?elem.tagName:elem.tagName.toUpperCase())==_42c.getTag()));});}}if(!("classes" in _42d)){each(_42c.classes,function(_42e,idx,arr){var re=new RegExp("(?:^|\\s)"+_42e+"(?:\\s|$)");ff=_405(ff,function(elem){return re.test(elem.className);});ff.count=idx;});}if(!("pseudos" in _42d)){each(_42c.pseudos,function(_42f){var pn=_42f.name;if(_41e[pn]){ff=_405(ff,_41e[pn](pn,_42f.value));}});}if(!("attrs" in _42d)){each(_42c.attrs,function(attr){var _430;var a=attr.attr;if(attr.type&&_40c[attr.type]){_430=_40c[attr.type](a,attr.matchFor);}else{if(a.length){_430=_42b(a);}}if(_430){ff=_405(ff,_430);}});}if(!("id" in _42d)){if(_42c.id){ff=_405(ff,function(elem){return (!!elem&&(elem.id==_42c.id));});}}if(!ff){if(!("default" in _42d)){ff=_3f1;}}return ff;};var _431=function(_432){return function(node,ret,bag){while(node=node[_416]){if(_415&&(!_409(node))){continue;}if((!bag||_433(node,bag))&&_432(node)){ret.push(node);}break;}return ret;};};var _434=function(_435){return function(root,ret,bag){var te=root[_416];while(te){if(_418(te)){if(bag&&!_433(te,bag)){break;}if(_435(te)){ret.push(te);}}te=te[_416];}return ret;};};var _436=function(_437){_437=_437||_3f1;return function(root,ret,bag){var te,x=0,tret=root.children||root.childNodes;while(te=tret[x++]){if(_418(te)&&(!bag||_433(te,bag))&&(_437(te,x))){ret.push(te);}}return ret;};};var _438=function(node,root){var pn=node.parentNode;while(pn){if(pn==root){break;}pn=pn.parentNode;}return !!pn;};var _439={};var _43a=function(_43b){var _43c=_439[_43b.query];if(_43c){return _43c;}var io=_43b.infixOper;var oper=(io?io.oper:"");var _43d=_427(_43b,{el:1});var qt=_43b.tag;var _43e=("*"==qt);var ecs=_3ed()["getElementsByClassName"];if(!oper){if(_43b.id){_43d=(!_43b.loops&&_43e)?_3f1:_427(_43b,{el:1,id:1});_43c=function(root,arr){var te=dom.byId(_43b.id,(root.ownerDocument||root));if(!te||!_43d(te)){return;}if(9==root.nodeType){return _408(te,arr);}else{if(_438(te,root)){return _408(te,arr);}}};}else{if(ecs&&/\{\s*\[native code\]\s*\}/.test(String(ecs))&&_43b.classes.length&&!_3ee){_43d=_427(_43b,{el:1,classes:1,id:1});var _43f=_43b.classes.join(" ");_43c=function(root,arr,bag){var ret=_408(0,arr),te,x=0;var tret=root.getElementsByClassName(_43f);while((te=tret[x++])){if(_43d(te,root)&&_433(te,bag)){ret.push(te);}}return ret;};}else{if(!_43e&&!_43b.loops){_43c=function(root,arr,bag){var ret=_408(0,arr),te,x=0;var tag=_43b.getTag(),tret=tag?root.getElementsByTagName(tag):[];while((te=tret[x++])){if(_433(te,bag)){ret.push(te);}}return ret;};}else{_43d=_427(_43b,{el:1,tag:1,id:1});_43c=function(root,arr,bag){var ret=_408(0,arr),te,x=0;var tag=_43b.getTag(),tret=tag?root.getElementsByTagName(tag):[];while((te=tret[x++])){if(_43d(te,root)&&_433(te,bag)){ret.push(te);}}return ret;};}}}}else{var _440={el:1};if(_43e){_440.tag=1;}_43d=_427(_43b,_440);if("+"==oper){_43c=_431(_43d);}else{if("~"==oper){_43c=_434(_43d);}else{if(">"==oper){_43c=_436(_43d);}}}}return _439[_43b.query]=_43c;};var _441=function(root,_442){var _443=_408(root),qp,x,te,qpl=_442.length,bag,ret;for(var i=0;i<qpl;i++){ret=[];qp=_442[i];x=_443.length-1;if(x>0){bag={};ret.nozip=true;}var gef=_43a(qp);for(var j=0;(te=_443[j]);j++){gef(te,ret,bag);}if(!ret.length){break;}_443=ret;}return ret;};var _444={},_445={};var _446=function(_447){var _448=_3f2(trim(_447));if(_448.length==1){var tef=_43a(_448[0]);return function(root){var r=tef(root,[]);if(r){r.nozip=true;}return r;};}return function(root){return _441(root,_448);};};var _449=has("ie")?"commentStrip":"nozip";var qsa="querySelectorAll";var _44a=!!_3ed()[qsa];var _44b=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g;var _44c=function(_44d,pre,ch,post){return ch?(pre?pre+" ":"")+ch+(post?" "+post:""):_44d;};var _44e=/([^[]*)([^\]]*])?/g;var _44f=function(_450,_451,att){return _451.replace(_44b,_44c)+(att||"");};var _452=function(_453,_454){_453=_453.replace(_44e,_44f);if(_44a){var _455=_445[_453];if(_455&&!_454){return _455;}}var _456=_444[_453];if(_456){return _456;}var qcz=_453.charAt(0);var _457=(-1==_453.indexOf(" "));if((_453.indexOf("#")>=0)&&(_457)){_454=true;}var _458=(_44a&&(!_454)&&(_3ef.indexOf(qcz)==-1)&&(!has("ie")||(_453.indexOf(":")==-1))&&(!(_3ee&&(_453.indexOf(".")>=0)))&&(_453.indexOf(":contains")==-1)&&(_453.indexOf(":checked")==-1)&&(_453.indexOf("|=")==-1));if(_458){var tq=(_3ef.indexOf(_453.charAt(_453.length-1))>=0)?(_453+" *"):_453;return _445[_453]=function(root){try{if(!((9==root.nodeType)||_457)){throw "";}var r=root[qsa](tq);r[_449]=true;return r;}catch(e){return _452(_453,true)(root);}};}else{var _459=_453.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return _444[_453]=((_459.length<2)?_446(_453):function(root){var _45a=0,ret=[],tp;while((tp=_459[_45a++])){ret=ret.concat(_446(tp)(root));}return ret;});}};var _45b=0;var _45c=has("ie")?function(node){if(_3f0){return (node.getAttribute("_uid")||node.setAttribute("_uid",++_45b)||_45b);}else{return node.uniqueID;}}:function(node){return (node._uid||(node._uid=++_45b));};var _433=function(node,bag){if(!bag){return 1;}var id=_45c(node);if(!bag[id]){return bag[id]=1;}return 0;};var _45d="_zipIdx";var _45e=function(arr){if(arr&&arr.nozip){return arr;}if(!arr||!arr.length){return [];}if(arr.length<2){return [arr[0]];}var ret=[];_45b++;var x,te;if(has("ie")&&_3f0){var _45f=_45b+"";for(x=0;x<arr.length;x++){if((te=arr[x])&&te.getAttribute(_45d)!=_45f){ret.push(te);te.setAttribute(_45d,_45f);}}}else{if(has("ie")&&arr.commentStrip){try{for(x=0;x<arr.length;x++){if((te=arr[x])&&_409(te)){ret.push(te);}}}catch(e){}}else{for(x=0;x<arr.length;x++){if((te=arr[x])&&te[_45d]!=_45b){ret.push(te);te[_45d]=_45b;}}}}return ret;};var _460=function(_461,root){root=root||_3ed();var od=root.ownerDocument||root;_3f0=(od.createElement("div").tagName==="div");var r=_452(_461)(root);if(r&&r.nozip){return r;}return _45e(r);};_460.filter=function(_462,_463,root){var _464=[],_465=_3f2(_463),_466=(_465.length==1&&!/[^\w#\.]/.test(_463))?_427(_465[0]):function(node){return _3ec.indexOf(_460(_463,dom.byId(root)),node)!=-1;};for(var x=0,te;te=_462[x];x++){if(_466(te)){_464.push(te);}}return _464;};return _460;});},"dojo/NodeList-dom":function(){define(["./_base/kernel","./query","./_base/array","./_base/lang","./dom-class","./dom-construct","./dom-geometry","./dom-attr","./dom-style"],function(dojo,_467,_468,lang,_469,_46a,_46b,_46c,_46d){var _46e=function(a){return a.length==1&&(typeof a[0]=="string");};var _46f=function(node){var p=node.parentNode;if(p){p.removeChild(node);}};var _470=_467.NodeList,awc=_470._adaptWithCondition,aafe=_470._adaptAsForEach,aam=_470._adaptAsMap;function _471(_472){return function(node,name,_473){if(arguments.length==2){return _472[typeof name=="string"?"get":"set"](node,name);}return _472.set(node,name,_473);};};lang.extend(_470,{_normalize:function(_474,_475){var _476=_474.parse===true;if(typeof _474.template=="string"){var _477=_474.templateFunc||(dojo.string&&dojo.string.substitute);_474=_477?_477(_474.template,_474):_474;}var type=(typeof _474);if(type=="string"||type=="number"){_474=_46a.toDom(_474,(_475&&_475.ownerDocument));if(_474.nodeType==11){_474=lang._toArray(_474.childNodes);}else{_474=[_474];}}else{if(!lang.isArrayLike(_474)){_474=[_474];}else{if(!lang.isArray(_474)){_474=lang._toArray(_474);}}}if(_476){_474._runParse=true;}return _474;},_cloneNode:function(node){return node.cloneNode(true);},_place:function(ary,_478,_479,_47a){if(_478.nodeType!=1&&_479=="only"){return;}var _47b=_478,_47c;var _47d=ary.length;for(var i=_47d-1;i>=0;i--){var node=(_47a?this._cloneNode(ary[i]):ary[i]);if(ary._runParse&&dojo.parser&&dojo.parser.parse){if(!_47c){_47c=_47b.ownerDocument.createElement("div");}_47c.appendChild(node);dojo.parser.parse(_47c);node=_47c.firstChild;while(_47c.firstChild){_47c.removeChild(_47c.firstChild);}}if(i==_47d-1){_46a.place(node,_47b,_479);}else{_47b.parentNode.insertBefore(node,_47b);}_47b=node;}},position:aam(_46b.position),attr:awc(_471(_46c),_46e),style:awc(_471(_46d),_46e),addClass:aafe(_469.add),removeClass:aafe(_469.remove),toggleClass:aafe(_469.toggle),replaceClass:aafe(_469.replace),empty:aafe(_46a.empty),removeAttr:aafe(_46c.remove),marginBox:aam(_46b.getMarginBox),place:function(_47e,_47f){var item=_467(_47e)[0];return this.forEach(function(node){_46a.place(node,item,_47f);});},orphan:function(_480){return (_480?_467._filterResult(this,_480):this).forEach(_46f);},adopt:function(_481,_482){return _467(_481).place(this[0],_482)._stash(this);},query:function(_483){if(!_483){return this;}var ret=new _470;this.map(function(node){_467(_483,node).forEach(function(_484){if(_484!==undefined){ret.push(_484);}});});return ret._stash(this);},filter:function(_485){var a=arguments,_486=this,_487=0;if(typeof _485=="string"){_486=_467._filterResult(this,a[0]);if(a.length==1){return _486._stash(this);}_487=1;}return this._wrap(_468.filter(_486,a[_487],a[_487+1]),this);},addContent:function(_488,_489){_488=this._normalize(_488,this[0]);for(var i=0,node;(node=this[i]);i++){if(_488.length){this._place(_488,node,_489,i>0);}else{_46a.empty(node);}}return this;}});return _470;});},"dojo/_base/xhr":function(){define(["./kernel","./sniff","require","../io-query","../dom","../dom-form","./Deferred","./config","./json","./lang","./array","../on","../aspect","../request/watch","../request/xhr","../request/util"],function(dojo,has,_48a,ioq,dom,_48b,_48c,_48d,json,lang,_48e,on,_48f,_490,_491,util){dojo._xhrObj=_491._create;var cfg=dojo.config;dojo.objectToQuery=ioq.objectToQuery;dojo.queryToObject=ioq.queryToObject;dojo.fieldToObject=_48b.fieldToObject;dojo.formToObject=_48b.toObject;dojo.formToQuery=_48b.toQuery;dojo.formToJson=_48b.toJson;dojo._blockAsync=false;var _492=dojo._contentHandlers=dojo.contentHandlers={"text":function(xhr){return xhr.responseText;},"json":function(xhr){return json.fromJson(xhr.responseText||null);},"json-comment-filtered":function(xhr){if(!_48d.useCommentedJson){console.warn("Consider using the standard mimetype:application/json."+" json-commenting can introduce security issues. To"+" decrease the chances of hijacking, use the standard the 'json' handler and"+" prefix your json with: {}&&\n"+"Use djConfig.useCommentedJson=true to turn off this message.");}var _493=xhr.responseText;var _494=_493.indexOf("/*");var _495=_493.lastIndexOf("*/");if(_494==-1||_495==-1){throw new Error("JSON was not comment filtered");}return json.fromJson(_493.substring(_494+2,_495));},"javascript":function(xhr){return dojo.eval(xhr.responseText);},"xml":function(xhr){var _496=xhr.responseXML;if(_496&&has("dom-qsa2.1")&&!_496.querySelectorAll&&has("dom-parser")){_496=new DOMParser().parseFromString(xhr.responseText,"application/xml");}if(has("ie")){if((!_496||!_496.documentElement)){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];_48e.some(dp,function(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(xhr.responseText);_496=dom;}catch(e){return false;}return true;});}}return _496;},"json-comment-optional":function(xhr){if(xhr.responseText&&/^[^{\[]*\/\*/.test(xhr.responseText)){return _492["json-comment-filtered"](xhr);}else{return _492["json"](xhr);}}};dojo._ioSetArgs=function(args,_497,_498,_499){var _49a={args:args,url:args.url};var _49b=null;if(args.form){var form=dom.byId(args.form);var _49c=form.getAttributeNode("action");_49a.url=_49a.url||(_49c?_49c.value:null);_49b=_48b.toObject(form);}var _49d=[{}];if(_49b){_49d.push(_49b);}if(args.content){_49d.push(args.content);}if(args.preventCache){_49d.push({"dojo.preventCache":new Date().valueOf()});}_49a.query=ioq.objectToQuery(lang.mixin.apply(null,_49d));_49a.handleAs=args.handleAs||"text";var d=new _48c(function(dfd){dfd.canceled=true;_497&&_497(dfd);var err=dfd.ioArgs.error;if(!err){err=new Error("request cancelled");err.dojoType="cancel";dfd.ioArgs.error=err;}return err;});d.addCallback(_498);var ld=args.load;if(ld&&lang.isFunction(ld)){d.addCallback(function(_49e){return ld.call(args,_49e,_49a);});}var err=args.error;if(err&&lang.isFunction(err)){d.addErrback(function(_49f){return err.call(args,_49f,_49a);});}var _4a0=args.handle;if(_4a0&&lang.isFunction(_4a0)){d.addBoth(function(_4a1){return _4a0.call(args,_4a1,_49a);});}d.addErrback(function(_4a2){return _499(_4a2,d);});if(cfg.ioPublish&&dojo.publish&&_49a.args.ioPublish!==false){d.addCallbacks(function(res){dojo.publish("/dojo/io/load",[d,res]);return res;},function(res){dojo.publish("/dojo/io/error",[d,res]);return res;});d.addBoth(function(res){dojo.publish("/dojo/io/done",[d,res]);return res;});}d.ioArgs=_49a;return d;};var _4a3=function(dfd){var ret=_492[dfd.ioArgs.handleAs](dfd.ioArgs.xhr);return ret===undefined?null:ret;};var _4a4=function(_4a5,dfd){if(!dfd.ioArgs.args.failOk){console.error(_4a5);}return _4a5;};var _4a6=function(dfd){if(_4a7<=0){_4a7=0;if(cfg.ioPublish&&dojo.publish&&(!dfd||dfd&&dfd.ioArgs.args.ioPublish!==false)){dojo.publish("/dojo/io/stop");}}};var _4a7=0;_48f.after(_490,"_onAction",function(){_4a7-=1;});_48f.after(_490,"_onInFlight",_4a6);dojo._ioCancelAll=_490.cancelAll;dojo._ioNotifyStart=function(dfd){if(cfg.ioPublish&&dojo.publish&&dfd.ioArgs.args.ioPublish!==false){if(!_4a7){dojo.publish("/dojo/io/start");}_4a7+=1;dojo.publish("/dojo/io/send",[dfd]);}};dojo._ioWatch=function(dfd,_4a8,_4a9,_4aa){var args=dfd.ioArgs.options=dfd.ioArgs.args;lang.mixin(dfd,{response:dfd.ioArgs,isValid:function(_4ab){return _4a8(dfd);},isReady:function(_4ac){return _4a9(dfd);},handleResponse:function(_4ad){return _4aa(dfd);}});_490(dfd);_4a6(dfd);};var _4ae="application/x-www-form-urlencoded";dojo._ioAddQueryToUrl=function(_4af){if(_4af.query.length){_4af.url+=(_4af.url.indexOf("?")==-1?"?":"&")+_4af.query;_4af.query=null;}};dojo.xhr=function(_4b0,args,_4b1){var rDfd;var dfd=dojo._ioSetArgs(args,function(dfd){rDfd&&rDfd.cancel();},_4a3,_4a4);var _4b2=dfd.ioArgs;if("postData" in args){_4b2.query=args.postData;}else{if("putData" in args){_4b2.query=args.putData;}else{if("rawBody" in args){_4b2.query=args.rawBody;}else{if((arguments.length>2&&!_4b1)||"POST|PUT".indexOf(_4b0.toUpperCase())===-1){dojo._ioAddQueryToUrl(_4b2);}}}}var _4b3={method:_4b0,handleAs:"text",timeout:args.timeout,withCredentials:args.withCredentials,ioArgs:_4b2};if(typeof args.headers!=="undefined"){_4b3.headers=args.headers;}if(typeof args.contentType!=="undefined"){if(!_4b3.headers){_4b3.headers={};}_4b3.headers["Content-Type"]=args.contentType;}if(typeof _4b2.query!=="undefined"){_4b3.data=_4b2.query;}if(typeof args.sync!=="undefined"){_4b3.sync=args.sync;}dojo._ioNotifyStart(dfd);try{rDfd=_491(_4b2.url,_4b3,true);}catch(e){dfd.cancel();return dfd;}dfd.ioArgs.xhr=rDfd.response.xhr;rDfd.then(function(){dfd.resolve(dfd);}).otherwise(function(_4b4){_4b2.error=_4b4;if(_4b4.response){_4b4.status=_4b4.response.status;_4b4.responseText=_4b4.response.text;_4b4.xhr=_4b4.response.xhr;}dfd.reject(_4b4);});return dfd;};dojo.xhrGet=function(args){return dojo.xhr("GET",args);};dojo.rawXhrPost=dojo.xhrPost=function(args){return dojo.xhr("POST",args,true);};dojo.rawXhrPut=dojo.xhrPut=function(args){return dojo.xhr("PUT",args,true);};dojo.xhrDelete=function(args){return dojo.xhr("DELETE",args);};dojo._isDocumentOk=function(x){return util.checkStatus(x.status);};dojo._getText=function(url){var _4b5;dojo.xhrGet({url:url,sync:true,load:function(text){_4b5=text;}});return _4b5;};lang.mixin(dojo.xhr,{_xhrObj:dojo._xhrObj,fieldToObject:_48b.fieldToObject,formToObject:_48b.toObject,objectToQuery:ioq.objectToQuery,formToQuery:_48b.toQuery,formToJson:_48b.toJson,queryToObject:ioq.queryToObject,contentHandlers:_492,_ioSetArgs:dojo._ioSetArgs,_ioCancelAll:dojo._ioCancelAll,_ioNotifyStart:dojo._ioNotifyStart,_ioWatch:dojo._ioWatch,_ioAddQueryToUrl:dojo._ioAddQueryToUrl,_isDocumentOk:dojo._isDocumentOk,_getText:dojo._getText,get:dojo.xhrGet,post:dojo.xhrPost,put:dojo.xhrPut,del:dojo.xhrDelete});return dojo.xhr;});},"dojo/io-query":function(){define(["./_base/lang"],function(lang){var _4b6={};return {objectToQuery:function objectToQuery(map){var enc=encodeURIComponent,_4b7=[];for(var name in map){var _4b8=map[name];if(_4b8!=_4b6[name]){var _4b9=enc(name)+"=";if(lang.isArray(_4b8)){for(var i=0,l=_4b8.length;i<l;++i){_4b7.push(_4b9+enc(_4b8[i]));}}else{_4b7.push(_4b9+enc(_4b8));}}}return _4b7.join("&");},queryToObject:function queryToObject(str){var dec=decodeURIComponent,qp=str.split("&"),ret={},name,val;for(var i=0,l=qp.length,item;i<l;++i){item=qp[i];if(item.length){var s=item.indexOf("=");if(s<0){name=dec(item);val="";}else{name=dec(item.slice(0,s));val=dec(item.slice(s+1));}if(typeof ret[name]=="string"){ret[name]=[ret[name]];}if(lang.isArray(ret[name])){ret[name].push(val);}else{ret[name]=val;}}}return ret;}};});},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(lang,dom,ioq,json){function _4ba(obj,name,_4bb){if(_4bb===null){return;}var val=obj[name];if(typeof val=="string"){obj[name]=[val,_4bb];}else{if(lang.isArray(val)){val.push(_4bb);}else{obj[name]=_4bb;}}};var _4bc="file|submit|image|reset|button";var form={fieldToObject:function fieldToObject(_4bd){var ret=null;_4bd=dom.byId(_4bd);if(_4bd){var _4be=_4bd.name,type=(_4bd.type||"").toLowerCase();if(_4be&&type&&!_4bd.disabled){if(type=="radio"||type=="checkbox"){if(_4bd.checked){ret=_4bd.value;}}else{if(_4bd.multiple){ret=[];var _4bf=[_4bd.firstChild];while(_4bf.length){for(var node=_4bf.pop();node;node=node.nextSibling){if(node.nodeType==1&&node.tagName.toLowerCase()=="option"){if(node.selected){ret.push(node.value);}}else{if(node.nextSibling){_4bf.push(node.nextSibling);}if(node.firstChild){_4bf.push(node.firstChild);}break;}}}}else{ret=_4bd.value;}}}}return ret;},toObject:function formToObject(_4c0){var ret={},_4c1=dom.byId(_4c0).elements;for(var i=0,l=_4c1.length;i<l;++i){var item=_4c1[i],_4c2=item.name,type=(item.type||"").toLowerCase();if(_4c2&&type&&_4bc.indexOf(type)<0&&!item.disabled){_4ba(ret,_4c2,form.fieldToObject(item));if(type=="image"){ret[_4c2+".x"]=ret[_4c2+".y"]=ret[_4c2].x=ret[_4c2].y=0;}}}return ret;},toQuery:function formToQuery(_4c3){return ioq.objectToQuery(form.toObject(_4c3));},toJson:function formToJson(_4c4,_4c5){return json.stringify(form.toObject(_4c4),null,_4c5?4:0);}};return form;});},"dojo/request/watch":function(){define(["./util","../errors/RequestTimeoutError","../errors/CancelError","../_base/array","../_base/window","../has!host-browser?dom-addeventlistener?:../on:"],function(util,_4c6,_4c7,_4c8,win,on){var _4c9=null,_4ca=[];function _4cb(){var now=+(new Date);for(var i=0,dfd;i<_4ca.length&&(dfd=_4ca[i]);i++){var _4cc=dfd.response,_4cd=_4cc.options;if((dfd.isCanceled&&dfd.isCanceled())||(dfd.isValid&&!dfd.isValid(_4cc))){_4ca.splice(i--,1);_4ce._onAction&&_4ce._onAction();}else{if(dfd.isReady&&dfd.isReady(_4cc)){_4ca.splice(i--,1);dfd.handleResponse(_4cc);_4ce._onAction&&_4ce._onAction();}else{if(dfd.startTime){if(dfd.startTime+(_4cd.timeout||0)<now){_4ca.splice(i--,1);dfd.cancel(new _4c6("Timeout exceeded",_4cc));_4ce._onAction&&_4ce._onAction();}}}}}_4ce._onInFlight&&_4ce._onInFlight(dfd);if(!_4ca.length){clearInterval(_4c9);_4c9=null;}};function _4ce(dfd){if(dfd.response.options.timeout){dfd.startTime=+(new Date);}if(dfd.isFulfilled()){return;}_4ca.push(dfd);if(!_4c9){_4c9=setInterval(_4cb,50);}if(dfd.response.options.sync){_4cb();}};_4ce.cancelAll=function cancelAll(){try{_4c8.forEach(_4ca,function(dfd){try{dfd.cancel(new _4c7("All requests canceled."));}catch(e){}});}catch(e){}};if(win&&on&&win.doc.attachEvent){on(win.global,"unload",function(){_4ce.cancelAll();});}return _4ce;});},"dojo/request/util":function(){define(["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(_4cf,_4d0,_4d1,_4d2,_4d3,_4d4,lang,_4d5){_4cf.deepCopy=function deepCopy(_4d6,_4d7){for(var name in _4d7){var tval=_4d6[name],sval=_4d7[name];if(tval!==sval){if(tval&&typeof tval==="object"&&sval&&typeof sval==="object"){_4cf.deepCopy(tval,sval);}else{_4d6[name]=sval;}}}return _4d6;};_4cf.deepCreate=function deepCreate(_4d8,_4d9){_4d9=_4d9||{};var _4da=lang.delegate(_4d8),name,_4db;for(name in _4d8){_4db=_4d8[name];if(_4db&&typeof _4db==="object"){_4da[name]=_4cf.deepCreate(_4db,_4d9[name]);}}return _4cf.deepCopy(_4da,_4d9);};var _4dc=Object.freeze||function(obj){return obj;};function _4dd(_4de){return _4dc(_4de);};function _4df(_4e0){return _4e0.data||_4e0.text;};_4cf.deferred=function deferred(_4e1,_4e2,_4e3,_4e4,_4e5,last){var def=new _4d2(function(_4e6){_4e2&&_4e2(def,_4e1);if(!_4e6||!(_4e6 instanceof _4d0)&&!(_4e6 instanceof _4d1)){return new _4d1("Request canceled",_4e1);}return _4e6;});def.response=_4e1;def.isValid=_4e3;def.isReady=_4e4;def.handleResponse=_4e5;function _4e7(_4e8){_4e8.response=_4e1;throw _4e8;};var _4e9=def.then(_4dd).otherwise(_4e7);if(_4cf.notify){_4e9.then(lang.hitch(_4cf.notify,"emit","load"),lang.hitch(_4cf.notify,"emit","error"));}var _4ea=_4e9.then(_4df);var _4eb=new _4d5();for(var prop in _4ea){if(_4ea.hasOwnProperty(prop)){_4eb[prop]=_4ea[prop];}}_4eb.response=_4e9;_4dc(_4eb);if(last){def.then(function(_4ec){last.call(def,_4ec);},function(_4ed){last.call(def,_4e1,_4ed);});}def.promise=_4eb;def.then=_4eb.then;return def;};_4cf.addCommonMethods=function addCommonMethods(_4ee,_4ef){_4d4.forEach(_4ef||["GET","POST","PUT","DELETE"],function(_4f0){_4ee[(_4f0==="DELETE"?"DEL":_4f0).toLowerCase()]=function(url,_4f1){_4f1=lang.delegate(_4f1||{});_4f1.method=_4f0;return _4ee(url,_4f1);};});};_4cf.parseArgs=function parseArgs(url,_4f2,_4f3){var data=_4f2.data,_4f4=_4f2.query;if(data&&!_4f3){if(typeof data==="object"){_4f2.data=_4d3.objectToQuery(data);}}if(_4f4){if(typeof _4f4==="object"){_4f4=_4d3.objectToQuery(_4f4);}if(_4f2.preventCache){_4f4+=(_4f4?"&":"")+"request.preventCache="+(+(new Date));}}else{if(_4f2.preventCache){_4f4="request.preventCache="+(+(new Date));}}if(url&&_4f4){url+=(~url.indexOf("?")?"&":"?")+_4f4;}return {url:url,options:_4f2,getHeader:function(_4f5){return null;}};};_4cf.checkStatus=function(stat){stat=stat||0;return (stat>=200&&stat<300)||stat===304||stat===1223||!stat;};});},"dojo/errors/RequestError":function(){define(["./create"],function(_4f6){return _4f6("RequestError",function(_4f7,_4f8){this.response=_4f8;});});},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(_4f9,_4fa){return _4f9("RequestTimeoutError",null,_4fa,{dojoType:"timeout"});});},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(_4fb,_4fc,_4fd,util,has){has.add("native-xhr",function(){return typeof XMLHttpRequest!=="undefined";});has.add("dojo-force-activex-xhr",function(){return has("activex")&&!document.addEventListener&&window.location.protocol==="file:";});has.add("native-xhr2",function(){if(!has("native-xhr")){return;}var x=new XMLHttpRequest();return typeof x["addEventListener"]!=="undefined"&&(typeof opera==="undefined"||typeof x["upload"]!=="undefined");});has.add("native-formdata",function(){return typeof FormData!=="undefined";});has.add("native-response-type",function(){return has("native-xhr")&&typeof new XMLHttpRequest().responseType!=="undefined";});has.add("native-xhr2-blob",function(){if(!has("native-response-type")){return;}var x=new XMLHttpRequest();x.open("GET","/",true);x.responseType="blob";var _4fe=x.responseType;x.abort();return _4fe==="blob";});var _4ff={"blob":has("native-xhr2-blob")?"blob":"arraybuffer","document":"document","arraybuffer":"arraybuffer"};function _500(_501,_502){var _503=_501.xhr;_501.status=_501.xhr.status;try{_501.text=_503.responseText;}catch(e){}if(_501.options.handleAs==="xml"){_501.data=_503.responseXML;}if(!_502){try{_4fd(_501);}catch(e){_502=e;}}if(_502){this.reject(_502);}else{if(util.checkStatus(_503.status)){this.resolve(_501);}else{_502=new _4fb("Unable to load "+_501.url+" status: "+_503.status,_501);this.reject(_502);}}};var _504,_505,_506,_507;if(has("native-xhr2")){_504=function(_508){return !this.isFulfilled();};_507=function(dfd,_509){_509.xhr.abort();};_506=function(_50a,dfd,_50b){function _50c(evt){dfd.handleResponse(_50b);};function _50d(evt){var _50e=evt.target;var _50f=new _4fb("Unable to load "+_50b.url+" status: "+_50e.status,_50b);dfd.handleResponse(_50b,_50f);};function _510(evt){if(evt.lengthComputable){_50b.loaded=evt.loaded;_50b.total=evt.total;dfd.progress(_50b);}else{if(_50b.xhr.readyState===3){_50b.loaded=evt.position;dfd.progress(_50b);}}};_50a.addEventListener("load",_50c,false);_50a.addEventListener("error",_50d,false);_50a.addEventListener("progress",_510,false);return function(){_50a.removeEventListener("load",_50c,false);_50a.removeEventListener("error",_50d,false);_50a.removeEventListener("progress",_510,false);_50a=null;};};}else{_504=function(_511){return _511.xhr.readyState;};_505=function(_512){return 4===_512.xhr.readyState;};_507=function(dfd,_513){var xhr=_513.xhr;var _514=typeof xhr.abort;if(_514==="function"||_514==="object"||_514==="unknown"){xhr.abort();}};}function _515(_516){return this.xhr.getResponseHeader(_516);};var _517,_518={data:null,query:null,sync:false,method:"GET"};function xhr(url,_519,_51a){var _51b=has("native-formdata")&&_519&&_519.data&&_519.data instanceof FormData;var _51c=util.parseArgs(url,util.deepCreate(_518,_519),_51b);url=_51c.url;_519=_51c.options;var _51d,last=function(){_51d&&_51d();};var dfd=util.deferred(_51c,_507,_504,_505,_500,last);var _51e=_51c.xhr=xhr._create();if(!_51e){dfd.cancel(new _4fb("XHR was not created"));return _51a?dfd:dfd.promise;}_51c.getHeader=_515;if(_506){_51d=_506(_51e,dfd,_51c);}var data=_519.data,_51f=!_519.sync,_520=_519.method;try{_51e.open(_520,url,_51f,_519.user||_517,_519.password||_517);if(_519.withCredentials){_51e.withCredentials=_519.withCredentials;}if(has("native-response-type")&&_519.handleAs in _4ff){_51e.responseType=_4ff[_519.handleAs];}var _521=_519.headers,_522=_51b?false:"application/x-www-form-urlencoded";if(_521){for(var hdr in _521){if(hdr.toLowerCase()==="content-type"){_522=_521[hdr];}else{if(_521[hdr]){_51e.setRequestHeader(hdr,_521[hdr]);}}}}if(_522&&_522!==false){_51e.setRequestHeader("Content-Type",_522);}if(!_521||!("X-Requested-With" in _521)){_51e.setRequestHeader("X-Requested-With","XMLHttpRequest");}if(util.notify){util.notify.emit("send",_51c,dfd.promise.cancel);}_51e.send(data);}catch(e){dfd.reject(e);}_4fc(dfd);_51e=null;return _51a?dfd:dfd.promise;};xhr._create=function(){throw new Error("XMLHTTP not available");};if(has("native-xhr")&&!has("dojo-force-activex-xhr")){xhr._create=function(){return new XMLHttpRequest();};}else{if(has("activex")){try{new ActiveXObject("Msxml2.XMLHTTP");xhr._create=function(){return new ActiveXObject("Msxml2.XMLHTTP");};}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP");xhr._create=function(){return new ActiveXObject("Microsoft.XMLHTTP");};}catch(e){}}}}util.addCommonMethods(xhr);return xhr;});},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(JSON,_523,_524,has){has.add("activex",typeof ActiveXObject!=="undefined");has.add("dom-parser",function(_525){return "DOMParser" in _525;});var _526;if(has("activex")){var dp=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];var _527;_526=function(_528){var _529=_528.data;var text=_528.text;if(_529&&has("dom-qsa2.1")&&!_529.querySelectorAll&&has("dom-parser")){_529=new DOMParser().parseFromString(text,"application/xml");}function _52a(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(text);_529=dom;_527=p;}catch(e){return false;}return true;};if(!_529||!_529.documentElement){if(!_527||!_52a(_527)){_524.some(dp,_52a);}}return _529;};}var _52b=function(_52c){if(!has("native-xhr2-blob")&&_52c.options.handleAs==="blob"&&typeof Blob!=="undefined"){return new Blob([_52c.xhr.response],{type:_52c.xhr.getResponseHeader("Content-Type")});}return _52c.xhr.response;};var _52d={"javascript":function(_52e){return _523.eval(_52e.text||"");},"json":function(_52f){return JSON.parse(_52f.text||null);},"xml":_526,"blob":_52b,"arraybuffer":_52b,"document":_52b};function _530(_531){var _532=_52d[_531.options.handleAs];_531.data=_532?_532(_531):(_531.data||_531.text);return _531;};_530.register=function(name,_533){_52d[name]=_533;};return _530;});},"dojo/_base/fx":function(){define(["./kernel","./config","./lang","../Evented","./Color","../aspect","../sniff","../dom","../dom-style"],function(dojo,_534,lang,_535,_536,_537,has,dom,_538){var _539=lang.mixin;var _53a={};var _53b=_53a._Line=function(_53c,end){this.start=_53c;this.end=end;};_53b.prototype.getValue=function(n){return ((this.end-this.start)*n)+this.start;};var _53d=_53a.Animation=function(args){_539(this,args);if(lang.isArray(this.curve)){this.curve=new _53b(this.curve[0],this.curve[1]);}};_53d.prototype=new _535();lang.extend(_53d,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var _53e=this._percent,_53f=this.easing;return _53f?_53f(_53e):_53e;},_fire:function(evt,args){var a=args||[];if(this[evt]){if(_534.debugAtAllCosts){this[evt].apply(this,a);}else{try{this[evt].apply(this,a);}catch(e){console.error("exception in animation handler for:",evt);console.error(e);}}}return this;},play:function(_540,_541){var _542=this;if(_542._delayTimer){_542._clearTimer();}if(_541){_542._stopTimer();_542._active=_542._paused=false;_542._percent=0;}else{if(_542._active&&!_542._paused){return _542;}}_542._fire("beforeBegin",[_542.node]);var de=_540||_542.delay,_543=lang.hitch(_542,"_play",_541);if(de>0){_542._delayTimer=setTimeout(_543,de);return _542;}_543();return _542;},_play:function(_544){var _545=this;if(_545._delayTimer){_545._clearTimer();}_545._startTime=new Date().valueOf();if(_545._paused){_545._startTime-=_545.duration*_545._percent;}_545._active=true;_545._paused=false;var _546=_545.curve.getValue(_545._getStep());if(!_545._percent){if(!_545._startRepeatCount){_545._startRepeatCount=_545.repeat;}_545._fire("onBegin",[_546]);}_545._fire("onPlay",[_546]);_545._cycle();return _545;},pause:function(){var _547=this;if(_547._delayTimer){_547._clearTimer();}_547._stopTimer();if(!_547._active){return _547;}_547._paused=true;_547._fire("onPause",[_547.curve.getValue(_547._getStep())]);return _547;},gotoPercent:function(_548,_549){var _54a=this;_54a._stopTimer();_54a._active=_54a._paused=true;_54a._percent=_548;if(_549){_54a.play();}return _54a;},stop:function(_54b){var _54c=this;if(_54c._delayTimer){_54c._clearTimer();}if(!_54c._timer){return _54c;}_54c._stopTimer();if(_54b){_54c._percent=1;}_54c._fire("onStop",[_54c.curve.getValue(_54c._getStep())]);_54c._active=_54c._paused=false;return _54c;},destroy:function(){this.stop();},status:function(){if(this._active){return this._paused?"paused":"playing";}return "stopped";},_cycle:function(){var _54d=this;if(_54d._active){var curr=new Date().valueOf();var step=_54d.duration===0?1:(curr-_54d._startTime)/(_54d.duration);if(step>=1){step=1;}_54d._percent=step;if(_54d.easing){step=_54d.easing(step);}_54d._fire("onAnimate",[_54d.curve.getValue(step)]);if(_54d._percent<1){_54d._startTimer();}else{_54d._active=false;if(_54d.repeat>0){_54d.repeat--;_54d.play(null,true);}else{if(_54d.repeat==-1){_54d.play(null,true);}else{if(_54d._startRepeatCount){_54d.repeat=_54d._startRepeatCount;_54d._startRepeatCount=0;}}}_54d._percent=0;_54d._fire("onEnd",[_54d.node]);!_54d.repeat&&_54d._stopTimer();}}return _54d;},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer;}});var ctr=0,_54e=null,_54f={run:function(){}};lang.extend(_53d,{_startTimer:function(){if(!this._timer){this._timer=_537.after(_54f,"run",lang.hitch(this,"_cycle"),true);ctr++;}if(!_54e){_54e=setInterval(lang.hitch(_54f,"run"),this.rate);}},_stopTimer:function(){if(this._timer){this._timer.remove();this._timer=null;ctr--;}if(ctr<=0){clearInterval(_54e);_54e=null;ctr=0;}}});var _550=has("ie")?function(node){var ns=node.style;if(!ns.width.length&&_538.get(node,"width")=="auto"){ns.width="auto";}}:function(){};_53a._fade=function(args){args.node=dom.byId(args.node);var _551=_539({properties:{}},args),_552=(_551.properties.opacity={});_552.start=!("start" in _551)?function(){return +_538.get(_551.node,"opacity")||0;}:_551.start;_552.end=_551.end;var anim=_53a.animateProperty(_551);_537.after(anim,"beforeBegin",lang.partial(_550,_551.node),true);return anim;};_53a.fadeIn=function(args){return _53a._fade(_539({end:1},args));};_53a.fadeOut=function(args){return _53a._fade(_539({end:0},args));};_53a._defaultEasing=function(n){return 0.5+((Math.sin((n+1.5)*Math.PI))/2);};var _553=function(_554){this._properties=_554;for(var p in _554){var prop=_554[p];if(prop.start instanceof _536){prop.tempColor=new _536();}}};_553.prototype.getValue=function(r){var ret={};for(var p in this._properties){var prop=this._properties[p],_555=prop.start;if(_555 instanceof _536){ret[p]=_536.blendColors(_555,prop.end,r,prop.tempColor).toCss();}else{if(!lang.isArray(_555)){ret[p]=((prop.end-_555)*r)+_555+(p!="opacity"?prop.units||"px":0);}}}return ret;};_53a.animateProperty=function(args){var n=args.node=dom.byId(args.node);if(!args.easing){args.easing=dojo._defaultEasing;}var anim=new _53d(args);_537.after(anim,"beforeBegin",lang.hitch(anim,function(){var pm={};for(var p in this.properties){if(p=="width"||p=="height"){this.node.display="block";}var prop=this.properties[p];if(lang.isFunction(prop)){prop=prop(n);}prop=pm[p]=_539({},(lang.isObject(prop)?prop:{end:prop}));if(lang.isFunction(prop.start)){prop.start=prop.start(n);}if(lang.isFunction(prop.end)){prop.end=prop.end(n);}var _556=(p.toLowerCase().indexOf("color")>=0);function _557(node,p){var v={height:node.offsetHeight,width:node.offsetWidth}[p];if(v!==undefined){return v;}v=_538.get(node,p);return (p=="opacity")?+v:(_556?v:parseFloat(v));};if(!("end" in prop)){prop.end=_557(n,p);}else{if(!("start" in prop)){prop.start=_557(n,p);}}if(_556){prop.start=new _536(prop.start);prop.end=new _536(prop.end);}else{prop.start=(p=="opacity")?+prop.start:parseFloat(prop.start);}}this.curve=new _553(pm);}),true);_537.after(anim,"onAnimate",lang.hitch(_538,"set",anim.node),true);return anim;};_53a.anim=function(node,_558,_559,_55a,_55b,_55c){return _53a.animateProperty({node:node,duration:_559||_53d.prototype.duration,properties:_558,easing:_55a,onEnd:_55b}).play(_55c||0);};if(1){_539(dojo,_53a);dojo._Animation=_53d;}return _53a;});},"dojo/_base/loader":function(){define(["./kernel","../has","require","module","../json","./lang","./array"],function(dojo,has,_55d,_55e,json,lang,_55f){if(!1){console.error("cannot load the Dojo v1.x loader with a foreign loader");return 0;}1||has.add("dojo-fast-sync-require",1);var _560=function(id){return {src:_55e.id,id:id};},_561=function(name){return name.replace(/\./g,"/");},_562=/\/\/>>built/,_563=[],_564=[],_565=function(mid,_566,_567){_563.push(_567);_55f.forEach(mid.split(","),function(mid){var _568=_569(mid,_566.module);_564.push(_568);_56a(_568);});_56b();},_56b=(1?function(){var _56c,mid;for(mid in _56d){_56c=_56d[mid];if(_56c.noReqPluginCheck===undefined){_56c.noReqPluginCheck=/loadInit\!/.test(mid)||/require\!/.test(mid)?1:0;}if(!_56c.executed&&!_56c.noReqPluginCheck&&_56c.injected==_56e){return;}}_56f(function(){var _570=_563;_563=[];_55f.forEach(_570,function(cb){cb(1);});});}:(function(){var _571,_572=function(m){_571[m.mid]=1;for(var t,_573,deps=m.deps||[],i=0;i<deps.length;i++){_573=deps[i];if(!(t=_571[_573.mid])){if(t===0||!_572(_573)){_571[m.mid]=0;return false;}}}return true;};return function(){var _574,mid;_571={};for(mid in _56d){_574=_56d[mid];if(_574.executed||_574.noReqPluginCheck){_571[mid]=1;}else{if(_574.noReqPluginCheck!==0){_574.noReqPluginCheck=/loadInit\!/.test(mid)||/require\!/.test(mid)?1:0;}if(_574.noReqPluginCheck){_571[mid]=1;}else{if(_574.injected!==_5a0){_571[mid]=0;}}}}for(var t,i=0,end=_564.length;i<end;i++){_574=_564[i];if(!(t=_571[_574.mid])){if(t===0||!_572(_574)){return;}}}_56f(function(){var _575=_563;_563=[];_55f.forEach(_575,function(cb){cb(1);});});};})()),_576=function(mid,_577,_578){_577([mid],function(_579){_577(_579.names,function(){for(var _57a="",args=[],i=0;i<arguments.length;i++){_57a+="var "+_579.names[i]+"= arguments["+i+"]; ";args.push(arguments[i]);}eval(_57a);var _57b=_577.module,_57c=[],_57d,_57e={provide:function(_57f){_57f=_561(_57f);var _580=_569(_57f,_57b);if(_580!==_57b){_5a6(_580);}},require:function(_581,_582){_581=_561(_581);_582&&(_569(_581,_57b).result=_5a1);_57c.push(_581);},requireLocalization:function(_583,_584,_585){if(!_57d){_57d=["dojo/i18n"];}_585=(_585||dojo.locale).toLowerCase();_583=_561(_583)+"/nls/"+(/root/i.test(_585)?"":_585+"/")+_561(_584);if(_569(_583,_57b).isXd){_57d.push("dojo/i18n!"+_583);}},loadInit:function(f){f();}},hold={},p;try{for(p in _57e){hold[p]=dojo[p];dojo[p]=_57e[p];}_579.def.apply(null,args);}catch(e){_586("error",[_560("failedDojoLoadInit"),e]);}finally{for(p in _57e){dojo[p]=hold[p];}}if(_57d){_57c=_57c.concat(_57d);}if(_57c.length){_565(_57c.join(","),_577,_578);}else{_578();}});});},_587=function(text,_588,_589){var _58a=/\(|\)/g,_58b=1,_58c;_58a.lastIndex=_588;while((_58c=_58a.exec(text))){if(_58c[0]==")"){_58b-=1;}else{_58b+=1;}if(_58b==0){break;}}if(_58b!=0){throw "unmatched paren around character "+_58a.lastIndex+" in: "+text;}return [dojo.trim(text.substring(_589,_58a.lastIndex))+";\n",_58a.lastIndex];},_58d=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,_58e=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,_58f=/(^|\s)(require|define)\s*\(/m,_590=function(text,_591){var _592,_593,_594,_595,_596=[],_597=[],_598=[];_591=_591||text.replace(_58d,function(_599){_58e.lastIndex=_58f.lastIndex=0;return (_58e.test(_599)||_58f.test(_599))?"":_599;});while((_592=_58e.exec(_591))){_593=_58e.lastIndex;_594=_593-_592[0].length;_595=_587(_591,_593,_594);if(_592[2]=="loadInit"){_596.push(_595[0]);}else{_597.push(_595[0]);}_58e.lastIndex=_595[1];}_598=_596.concat(_597);if(_598.length||!_58f.test(_591)){return [text.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),_598.join(""),_598];}else{return 0;}},_59a=function(_59b,text){var _59c,id,_59d=[],_59e=[];if(_562.test(text)||!(_59c=_590(text))){return 0;}id=_59b.mid+"-*loadInit";for(var p in _569("dojo",_59b).result.scopeMap){_59d.push(p);_59e.push("\""+p+"\"");}return "// xdomain rewrite of "+_59b.mid+"\n"+"define('"+id+"',{\n"+"\tnames:"+json.stringify(_59d)+",\n"+"\tdef:function("+_59d.join(",")+"){"+_59c[1]+"}"+"});\n\n"+"define("+json.stringify(_59d.concat(["dojo/loadInit!"+id]))+", function("+_59d.join(",")+"){\n"+_59c[0]+"});";},_59f=_55d.initSyncLoader(_565,_56b,_59a),sync=_59f.sync,_56e=_59f.requested,_5a0=_59f.arrived,_5a1=_59f.nonmodule,_5a2=_59f.executing,_5a3=_59f.executed,_5a4=_59f.syncExecStack,_56d=_59f.modules,_5a5=_59f.execQ,_569=_59f.getModule,_56a=_59f.injectModule,_5a6=_59f.setArrived,_586=_59f.signal,_5a7=_59f.finishExec,_5a8=_59f.execModule,_5a9=_59f.getLegacyMode,_56f=_59f.guardCheckComplete;_565=_59f.dojoRequirePlugin;dojo.provide=function(mid){var _5aa=_5a4[0],_5ab=lang.mixin(_569(_561(mid),_55d.module),{executed:_5a2,result:lang.getObject(mid,true)});_5a6(_5ab);if(_5aa){(_5aa.provides||(_5aa.provides=[])).push(function(){_5ab.result=lang.getObject(mid);delete _5ab.provides;_5ab.executed!==_5a3&&_5a7(_5ab);});}return _5ab.result;};has.add("config-publishRequireResult",1,0,0);dojo.require=function(_5ac,_5ad){function _5ae(mid,_5af){var _5b0=_569(_561(mid),_55d.module);if(_5a4.length&&_5a4[0].finish){_5a4[0].finish.push(mid);return undefined;}if(_5b0.executed){return _5b0.result;}_5af&&(_5b0.result=_5a1);var _5b1=_5a9();_56a(_5b0);_5b1=_5a9();if(_5b0.executed!==_5a3&&_5b0.injected===_5a0){_59f.guardCheckComplete(function(){_5a8(_5b0);});}if(_5b0.executed){return _5b0.result;}if(_5b1==sync){if(_5b0.cjs){_5a5.unshift(_5b0);}else{_5a4.length&&(_5a4[0].finish=[mid]);}}else{_5a5.push(_5b0);}return undefined;};var _5b2=_5ae(_5ac,_5ad);if(has("config-publishRequireResult")&&!lang.exists(_5ac)&&_5b2!==undefined){lang.setObject(_5ac,_5b2);}return _5b2;};dojo.loadInit=function(f){f();};dojo.registerModulePath=function(_5b3,_5b4){var _5b5={};_5b5[_5b3.replace(/\./g,"/")]=_5b4;_55d({paths:_5b5});};dojo.platformRequire=function(_5b6){var _5b7=(_5b6.common||[]).concat(_5b6[dojo._name]||_5b6["default"]||[]),temp;while(_5b7.length){if(lang.isArray(temp=_5b7.shift())){dojo.require.apply(dojo,temp);}else{dojo.require(temp);}}};dojo.requireIf=dojo.requireAfterIf=function(_5b8,_5b9,_5ba){if(_5b8){dojo.require(_5b9,_5ba);}};dojo.requireLocalization=function(_5bb,_5bc,_5bd){_55d(["../i18n"],function(i18n){i18n.getLocalization(_5bb,_5bc,_5bd);});};return {extractLegacyApiApplications:_590,require:_565,loadInit:_576};});}}});(function(){var _5be=this.require;_5be({cache:{}});!_5be.async&&_5be(["dojo"]);_5be.boot&&_5be.apply(null,_5be.boot);})();
}
/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
require({cache:{"mxui/initialize":function(){define(["dojo/sniff","dojo/aspect","dojo/_base/config","require","dojo/_base/loader"],function(_1,_2,_3,_4){_1.add("windowsphone",parseFloat(window.navigator.userAgent.split("Windows Phone ")[1])||undefined);_1.add("mobile",_1("ios")||_1("android")||_1("windowsphone")||undefined);_1.add("edge",parseFloat(window.navigator.userAgent.split("Edge/")[1])||undefined);if(_3.isDebug){_1.add("config-dojo-loader-catches",true,true,true);_4.on("error",function(ex){var _5;if(ex.message==="evalModuleThrew"){_5=ex.info.mid;}else{if(ex.message==="factoryThrew"){_5=ex.info[0].mid;}}console.error(_5?"Loading module "+_5+" failed! Check script file for syntax errors.":"Loading module failed! Check console log for more detailed debug information.");});}var _6=_4.initSyncLoader();_2.after(dojo,"provide",function(_7){if(!_6.syncExecStack[0]){var _8=_7.replace(/\./g,"/"),_9=_6.getModule(_8,_4.module);_6.finishExec(_9);}},true);});},"mendix/exposed":function(){define(["mendix/lang","mendix/ov","mendix/logger","mendix/lib/MxObject","mendix/lib/MxMetaObject","mendix/lib/MxContext","mendix/lib/ObjectValidation","webcore/datasource/_DataSource","webcore/datasource/_XPathSourceBase","webcore/datasource/XPathSource","webcore/datasource/EntityPathSource","webcore/datasource/MicroflowSource","webcore/datasource/ReferenceSetSource","webcore/objectsource/DirectObjectSource","webcore/objectsource/SchemaObjectSource","webcore/objectsource/MicroflowObjectSource","mendix/lib/Upload","mendix/lib/Error","mendix/lib/ServerError","mendix/lib/ConnectionError","mendix/lib/DescribedServerError","mendix/lib/NavigationError","mendix/lib/ValidationError","mendix/next/dataLayer"],function(_a,ov,_b,_c,_d,_e,_f,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_1a,_1b,_1c,_1d,_1e,_1f,_20){window.logger=_b;window.mendix={lang:_a,ov:ov,lib:{MxObject:_c,MxMetaObject:_d,MxContext:_e,ObjectValidation:_f,MxValidator:_f,Upload:_19,Error:_1a,ServerError:_1b,ConnectionError:_1c,DescribedServerError:_1d,NavigationError:_1e,ValidationError:_1f},next:{dataLayer:_20}};window.webcore={datasource:{_DataSource:_10,_XPathSourceBase:_11,XPathSource:_12,EntityPathSource:_13,MicroflowSource:_14,ReferenceSetSource:_15},objectsource:{DirectObjectSource:_16,SchemaObjectSource:_17,MicroflowObjectSource:_18}};});},"mendix/lang":function(){define(["mendix/lib/DescribedServerError","mendix/logger","dojo/_base/kernel","dojo/sniff","dojo/_base/json","dojo/_base/array","dojo/_base/lang","exports"],function(_21,_22,_23,_24,_25,_26,_27,_28){var _29=0;var _2a=function(_2b,_2c,_2d,_2e,_2f,_30,_31){var _32=_2e[_30],_33=_2c+"."+_2d+" is deprecated, use "+(_2f!=_2c?_2f+".":"")+_30+" instead",_34=function(){_23.deprecated(_33,"",_31);var _35=typeof _2e=="function"&&this instanceof _2e;return (_35?this:_2e)[_30].apply(this,arguments);};if(!_32){_2b.prototype[_2d]=_34;}else{if(typeof _32=="function"&&_32.prototype&&!_32.prototype.declaredClass){if(typeof _2b=="function"){_2b.prototype[_2d]=_34;}else{_2b[_2d]=_34;}}else{_2b[_2d]=_32;}}};_28.map=function(_36,_37,_38){var _39=[];_28.forEach(_36,function(){_39.push(_37.apply(this,arguments));},_38);return _39;};_28.forEach=function(_3a,_3b,_3c){if(_3a==null){return;}if(_3a.length===+_3a.length){for(var i=0;i<_3a.length;i++){_3b.call(_3c,_3a[i],i,_3a);}}else{for(var j in _3a){if(_3a.hasOwnProperty(j)){_3b.call(_3c,_3a[j],j,_3a);}}}};_28.nullExec=function(_3d){_3d&&_3d();};_28.sequence=function(_3e,_3f,_40){if(_3f&&typeof _3f=="object"){_40=_3f;_3f=null;}if(_3e instanceof Array){var _41=0,_42,_43,_44,_45=function(){_42=true;if(_43){_44();}};_44=function(){while(_41<_3e.length){_42=false;_43=false;var _46=_3e[_41++];if(typeof _46=="function"){_46.call(_40,_45);}else{if(_40&&typeof _40[_46]=="function"){_40[_46](_45);}else{throw new Error("mendix/lang.sequence: #"+_41+" is not a function");}}if(!_42){_43=true;return;}}if(_3f){_3f.call(_40);}};_44();}else{throw new Error("mendix/lang.sequence: sequence is not an array");}};_28.collect=function(_47,_48,_49){if(_48&&typeof _48=="object"){_49=_48;_48=null;}if(_47 instanceof Array){var _4a=0,_4b=_47.length+1,_4c=function(){if(--_4b==0&&_48){_48.call(_49);}};while(_4a<_47.length){var _4d=_47[_4a++];if(typeof _4d=="function"){_4d.call(_49,_4c);}else{if(_49&&typeof _49[_4d]=="function"){_49[_4d](_4c);}else{throw new Error("mendix/lang.collect: #"+_4a+" is not a function");}}}_4c();}else{throw new Error("mendix/lang.collect: collection is not an array");}};_28.find=function(_4e,_4f,_50){for(var i=0;i<_4e.length;i++){if(_4f.call(_50,_4e[i],i,_4e)){return _4e[i];}}return undefined;};_28.findLast=function(_51,_52,_53){for(var i=_51.length-1;i>=0;i--){if(_52.call(_53,_51[i],i,_51)){return _51[i];}}return undefined;};_28.findIndex=function(_54,_55){for(var i=0;i<_54.length;i++){if(_55(_54[i],i)){return i;}}return -1;};_28.flatten=function(arr){var _56=[];_26.forEach(arr,function(_57){_56.push.apply(_56,_57);});return _56;};if(_24("ie")==8){_28.toArray=function(_58){var _59=[];for(var i=0;i<_58.length;i++){_59.push(_58[i]);}return _59;};}else{_28.toArray=function(_5a){return [].slice.call(_5a);};}_28.objectToArray=function(obj){var arr=[];for(var i in obj){arr.push(i);}return (arr);};_28.thread=function(_5b,_5c){return setTimeout(_27.hitch(_5c,_5b),1);};_28.delay=function(_5d,_5e,_5f){return setTimeout(function(){(_5e())?_5d():setTimeout(arguments.callee,_5f);},(_5f||500));};_28.runOrDelay=function(_60,_61,_62){if(!_62){_62=500;}if(_61()){return _60();}else{return setTimeout(function(){if(_61()){_60();}else{setTimeout(arguments.callee,_62);}},_62);}};_28.waitUntilPredicateHolds=function(_63,_64,_65){if(_65.length===0||_63()){_64();return;}var _66=_65.shift();setTimeout(function(){_28.waitUntilPredicateHolds(_63,_64,_65);},_66);};_28.arraySubtract=function(_67,_68){for(var i=0;i<_68.length;i++){for(var j=_67.length-1;0<=j;j--){if(_67[j].toString()==_68[i].toString()){_67.splice(j,1);}}}return _67;};_28.objectIsEmpty=function(obj){for(var i in obj){return false;}return true;};_28.firstKey=function(obj){for(var key in obj){return key;}return null;};_28.itemCount=function(obj){var _69=0;for(var i in obj){_69++;}return _69;};_28.inArray=function(arr,_6a){for(var i=0;i<arr.length;i++){if(arr[i]==_6a){return true;}}return false;};_28.startsWith=function(str,_6b){return str.indexOf(_6b)===0;};_28.endsWith=function(str,_6c){return str.indexOf(_6c,str.length-_6c.length)!==-1;};_28.trim=function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");};_28.capitalize=function(str){return str.length>0?str[0].toUpperCase()+str.slice(1):"";};_28.getUniqueId=function(){return +new Date+"-"+_29++;};_28.getFileError=function(doc,_6d){var _6e=null,_6f,_70;_6f=doc.getElementsByTagName("textarea")[0];if(_6f){_70=_25.fromJson(_6f.value);if(_70.type&&_70.type==="exception"){_6e=new _21(_70.description);_22.error((_6d?(_6d+": "):"")+_6e.message);_6e._type="exception";}}return _6e;};_28.deprecate=function(){var _71=arguments,_72=_71[0],_73=_27.getObject(_72,true),_74=_71[_71.length-1];if(_71.length<4){if(typeof _71[1]=="object"){var _75=_71[1];for(var _76 in _75){_2a(_73,_72,_76,_73,_72,_75[_76],_74);}}else{var _77=_71[1],_78=_27.getObject(_77);for(var _76 in _78){_2a(_73,_72,_76,_78,_77,_76,_74);}}}else{var _79=_71[1],_77=_71[2],_78=_27.getObject(_77),_7a=_71[3];_2a(_73,_72,_79,_78,_77,_7a,_74);}};});},"mendix/lib/DescribedServerError":function(){define(["mendix/lib/ServerError","dojo/_base/declare"],function(_7b,_7c){return _7c(_7b,{});});},"mendix/lib/ServerError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_7d,_7e){return _7e(_7d,{});});},"mendix/lib/Error":function(){define(["dojo/_base/declare"],function(_7f){return _7f(window.Error,{constructor:function(_80,_81){this.message=_80;this.original=_81;}});});},"mendix/logger":function(){define(["dojo/_base/config"],function(_82){var ALL=0,_83=1,_84=2,_85=3,_86=4;var _87=_82.isDebug?_85:_86,_88=null;function _89(str,lvl){return lvl===_86||lvl>=_87&&(_88==null||str.match(_88)!=null);};function _8a(_8b){return function(_8c){Function.prototype.apply.call(console[_8b],console,_8c);};};return {ALL:ALL,DEBUG:_83,INFO:_84,WARN:_85,ERROR:_86,level:function(lvl){_87=lvl;},filter:function(_8d){if(typeof _8d=="object"){_8d=_8d.id||_8d.name;}_88=new RegExp(_8d);},error:function(str){if(_89(str,_86)){_8a("error")(arguments);}},debug:function(str){if(_89(str,_83)){_8a("debug")(arguments);}},info:function(str){if(_89(str,_84)){_8a("info")(arguments);}},warn:function(str){if(_89(str,_85)){_8a("warn")(arguments);}},exception:function(str){if(_89(str,_86)){_8a("error")(arguments);}},scream:function(str){_8a("error")(arguments);}};});},"mendix/ov":function(){define(["mendix/lib/ObjectValidation","mendix/logger","dojo/_base/array","dojo/_base/json","exports"],function(_8e,_8f,_90,_91,_92){var _93=function(_94){if(typeof _94.datavalidation=="string"){_8f.error("Server message error : validations included as type String instead of Array, compensating via eval");_94.datavalidation=_91.fromJson(_94.datavalidation);}return _94.datavalidation;};_92.getGuid=function(msg){return (msg instanceof _8e)?msg.getGuid():msg.guid;};_92.getValidationByGUID=function(_95,g){var raw=_93(_95)||_95;var _96=null;_90.forEach(raw,function(msg){var _97=_92.getGuid(msg);if(_97==g){if(_96){_96._addFields(msg);}else{_96=new _8e({msg:msg});}}});return _96;};_92.hasValidations=function(_98){return (_98.datavalidation!=null);};_92.getValidations=function(_99){var _9a=[];var map={};var raw=_93(_99)||_99;if(raw){_90.forEach(raw,function(msg){var _9b=_92.getGuid(msg);if(!map[_9b]){map[_9b]=new _8e({msg:msg});_9a.push(map[_9b]);}else{map[_9b]._addFields(msg);}});}map=null;return _9a;};_92.getValidation=function(msg){return new _8e(msg);};});},"mendix/lib/ObjectValidation":function(){define(["mendix/ov","dojo/_base/lang"],function(ov,_9c){function _9d(_9e){var _9f=_9e.msg,_a0={};this.getGuid=function(){return ov.getGuid(_9f);};this.getAttributes=function(){var _a1=[];for(var i in _a0){_a1.push({name:i,reason:_a0[i]});}return _a1;};this.getFields=this.getAttributes;this.addAttribute=function(_a2,_a3){if(_a0[_a2]!=undefined){return false;}else{_a0[_a2]=_a3;}};this.addField=this.addAttribute;this._addFields=function(msg){var _a4=msg.errorFields;if((this.getGuid()==this.constructor.getGuid(msg))&&_a4){for(var i=0;i<_a4.length;i++){_a0[_a4[i].name]=_a4[i].message;}}};this.removeAttribute=function(_a5){if(_a0[_a5]!=undefined){delete _a0[_a5];return true;}else{return false;}};this.removeField=this.removeAttribute;this.getErrorReason=function(_a6){return _a0[_a6];};this.getReasonByAttribute=this.getErrorReason;this.clone=function(){var s=new _9d({msg:_9c.clone(_9f)});for(var i in _a0){s.addField(i,_a0[i]);}return s;};this.toString=function(){var _a7="";var _a8="";for(var i in _a0){_a7=_a7+""+i+" "+_a0[i]+_a8;_a8="; ";}return _a7;};this._addFields(_9f);};_9d.getGuid=function(msg){return ov.getGuid(msg);};return _9d;});},"mendix/lib/MxObject":function(){define(["mendix/lang","mendix/validator","mendix/logger","dojo/_base/json","dojo/_base/array","dojo/_base/lang","big/big","dojo/_base/declare"],function(_a9,_aa,_ab,_ac,_ad,_ae,Big,_af){var _b0=_af(null,{constructor:function(_b1){this.id="mendix.lib.MxObject";this._references=null;this._changeData=null;this.metaData=_b1?_b1.meta:false;this.resetFromJSON(_b1?_b1.json:false);if(this.jsonData&&this.metaData){this._guid=this.jsonData.guid;this.id+="("+this.jsonData.objectType+":"+this._guid+")";}if(!this.jsonData||!this.jsonData.objectType){var _b2=this.metaData&&this.metaData.getEntity();_ab.error(this.id+".create: Invalid Mendix object. Check entity access"+(_b2?" for entity "+_b2:"")+".");this._guid=0;this.jsonData=null;}if(!this._guid){this._guid="0";}},attachReferences:function(_b3){if(_b3&&_b3.length>0){this._references={};_ad.forEach(_b3,function(_b4){this._references[_b4.getGuid()]=_b4;},this);}},resetFromJSON:function(_b5){this.jsonData=_b5;this._changeData={};this._guid=this.jsonData?this.jsonData.guid:0;if(this.jsonData&&this.metaData){for(var _b6 in this.jsonData.attributes){this._setAttributeValue(_b6,this._convertValue(_b6,this._getAttributeValue(_b6)));}}},getGuid:function(){return this._guid;},hasChanges:function(){return !_a9.objectIsEmpty(this._changeData);},_collectChanges:function(){return _ae.mixin({},this._changeData);},set:function(_b7,_b8){try{return this._setContent(_b7,_b8);}catch(e){throw new Error("Validate values using validator#validate(value, attr) before calling MxObject#set.");}},isReadonlyAttr:function(_b9){if(this.has(_b9)){return !!this.jsonData.attributes[_b9].readonly;}else{if(this.metaData.has(_b9)){return false;}else{return true;}}},fetch:function(_ba,_bb){var _bc=this,obj=this,_bd=null,_be;if(!_ba){_be=[];}else{if(_ba instanceof Array){_be=_ba.slice();}else{_be=_ba.split("/");}}if(this.isA(_be[0])){_be.shift();}if(typeof _bb!="function"){throw new Error(_bc.id+".fetch : callback is not a function");}var _bf=function(){if(_be.length===0){_bb(obj);}else{if(_be.length==1){if(_bd){window.mx.data.release(_bd);}_bb(obj.get2(_be[0]));}else{if(_bd){window.mx.data.release(_bd);}var ref=_be.shift(),_c0=false,_c1,_c2;if(obj.isObjectReference(ref)){var _c3=obj.get2(ref);if(_c3===""){_bb(null);return;}if(typeof _c3=="object"){_c1=[_c3.guid];}else{_c1=[_c3];}}else{if(obj.isObjectReferenceSet(ref)){if(_be.length==1){_c0=true;var _c4=obj.get2(ref);if(_c4.length===0){_bb(null);return;}if(typeof _c4[0]=="object"){_c1=[];while(_c4.length>0){_c1.push(_c4.shift().guid);}}else{_c1=_c4;}}else{throw new Error(_bc.id+".fetch : "+obj+" reference set should be last reference in path");}}else{return _bb(null);}}_c2=_be.shift();if(!_c2){throw new Error(_bc.id+".fetch : no type specified");}if(_c1){window.mx.data.get({guids:_c1,callback:function(_c5){if(_c0){if(_c5.length===0||_c5[0].isA(_c2)){_bb(_c5);}else{_bb(null);}}else{_bd=obj=_c5[0];if(_c5.length>1){window.mx.data.release(_c5.slice(1));}if(obj){if(obj.isA(_c2)){_bf();}else{_bb(null);}}else{_bb(null);}}},error:function(e){throw new Error(_bc.id+".fetch : could not get objects with GUIDs "+_c1);}});}else{throw new Error(_bc.id+".fetch : "+obj+"'s '"+ref+"' attribute is empty");}}}};_bf();},get2:function(_c6){if(typeof _c6!=="string"){throw new Error(this.id+".get : parameter attr "+_c6+" is not of type String");}if(!this.metaData.has(_c6)){return null;}var _c7=(this._changeData[_c6]!=null)?this._changeData[_c6]:this._getAttributeValue(_c6);if(this.isDate(_c6)){var _c8=this.isLocalizedDate(_c6);if(_c7===""||_c7==null){_c7="";}else{_c7=_c8?Number(_c7):window.mx.parser.localizeEpoch(_c7);}}else{if(this.isBoolean(_c6)){if(typeof _c7=="string"&&_c7!==""){_c7=/^true$/.test(_c7);}}}if(_c7 instanceof Big){return new Big(_c7);}if(typeof _c7=="object"){return _ae.clone(_c7);}return _c7;},has:function(_c9){if(typeof _c9!=="string"){throw new Error(this.id+".has: attribute parameter is not a string");}return _c9 in this.jsonData.attributes;},getReferences:function(_ca){var e;if(typeof _ca!=="string"){throw new Error(this.id+".getReferences : parameter attr "+_ca+" is not of type String.");}var _cb=[];if(this.has(_ca)){if(this.isReference(_ca)){if(this._hasChildren(_ca)&&this._changeData[_ca]==null){var _cc=this.getChildren(_ca);var _cd=[];for(var i=0;i<_cc.length;i++){_cd.push(_cc[i].getGuid());}_cb=_cd;}else{_cb=this.get2(_ca);}if(_cb===""){_cb=[];}else{if(typeof (_cb)=="string"||typeof (_cb)=="number"){_cb=[_cb];}else{if((typeof (_cb)=="object")&&(_cb.length==null)){_cb=_a9.objectToArray(_cb);}}}}else{throw new Error(this.id+".getReferences: attribute "+_ca+" is not an ObjectReference(Set).");}}else{}return _cb;},getReference:function(_ce){var e;if(typeof _ce!=="string"){throw new Error(this.id+".getReference : parameter attr is not of type String.");}if(this.has(_ce)){if(!this.metaData.isObjectReference(_ce)){throw new Error(this.id+".getReference: attribute "+_ce+" is not an ObjectReference.");}}else{return null;}if(this._hasChildren(_ce)){return this.getChild(_ce).getGuid();}else{return this.get2(_ce);}},isEnum:function(_cf){return this.metaData.isEnum(_cf);},isNumeric:function(_d0){return this.metaData.isNumeric(_d0);},isCurrency:function(_d1){return this.metaData.isCurrency(_d1);},isPassword:function(_d2){return this.metaData.isPassword(_d2);},isDate:function(_d3){return this.metaData.isDate(_d3);},isLocalizedDate:function(_d4){return this.metaData.isLocalizedDate(_d4);},isBoolean:function(_d5){return this.metaData.isBoolean(_d5);},isReference:function(_d6){return this.metaData.isReference(_d6);},isObjectReference:function(_d7){return this.metaData.isObjectReference(_d7);},isObjectReferenceSet:function(_d8){return this.metaData.isObjectReferenceSet(_d8);},getOptions:function(_d9){return this.metaData.getOptions(_d9);},getEnumMap:function(_da){return this.metaData.getEnumMap(_da);},getEnumKVPairs:function(_db){return this.metaData.getEnumKVPairs(_db);},getEnumCaption:function(_dc){return this.metaData.getEnumCaption(_dc,this.get2(_dc));},hasChildren:function(_dd){if(typeof _dd!=="string"){throw new Error(this.id+".hasChildren : parameter attr ("+_dd+") is not of type String.");}return (this.isReference(_dd)&&this._hasChildren(_dd));},getChildren:function(_de){if(typeof _de!=="string"){throw new Error(this.id+".getChildren : parameter attr ("+_de+") is not of type String.");}var _df=[],_e0=null,_e1;if(this.has(_de)){if(this.isReference(_de)){if(this._hasChildren(_de)){_e0=this.get2(_de);if(this.isObjectReference(_de)){if(this._references&&this._references[_e0]){_e1=this._references[_e0];_e1._references=this._references;_df.push(_e1);}else{_df.push(new _b0({meta:window.mx.meta.getEntity(_e0.objectType),json:_e0}));}}else{for(var i in _e0){if(this._references&&this._references[_e0]){_e1=this._references[i];_e1._references=this._references;_df.push(_e1);}else{_df.push(new _b0({meta:window.mx.meta.getEntity(_e0[i].objectType),json:_e0[i]}));}}}}}else{var e=this.id+".getChildren: attribute "+_de+" is not an ObjectReference(Set).";_ab.exception(e);throw new Error(e);}}else{}return _df;},getChild:function(_e2){if(typeof _e2!=="string"){throw new Error(this.id+".getChild : parameter attr("+_e2+") is not of type String.");}if(this.has(_e2)&&this.isObjectReference(_e2)){var _e3=this.get2(_e2);if(this._references&&this._references[_e3]){var _e4=this._references[_e3];_e4._references=this._references;return _e4;}else{if(typeof _e3=="object"){return new _b0({json:_e3,meta:window.mx.meta.getEntity(_e3.objectType)});}else{return null;}}}},removeReferences:function(_e5,_e6){var e;if(typeof _e5!=="string"){throw new Error(this.id+".removeReference : parameter attr is not of type String.");}else{if(this.has(_e5)){if(!this.isReference(_e5)){throw new Error(this.id+".removeReference : attempt to remove Reference from non-Reference attribute : "+_e5);}}else{return false;}}if(!(_ae.isArray(_e6))){_e6=[_e6];}if(!this._hasChildren(_e5)){if(this.isObjectReference(_e5)){this._setContent(_e5,"");}else{this._setContent(_e5,_a9.arraySubtract(this.getReferences(_e5),_e6));}}else{if(this.isObjectReference(_e5)){this._setContent(_e5,"");}else{for(var i=0;i<_e6.length;i++){delete this.jsonData.attributes[_e5].value[_e6[i]];}var val=_a9.arraySubtract(this.getReferences(_e5),_e6);return this._makeChange(_e5,val);}}},addReference:function(_e7,_e8){var e;if(typeof _e7!=="string"){throw new Error(this.id+".addReference : parameter attr is not of type String.");}else{if(!_e8){throw new Error(this.id+".addReference : parameter guid is not set.");}else{if(this.has(_e7)){if(!this.isReference(_e7)){throw new Error(this.id+".addReference : attempt to add Reference to non-Reference attribute : "+_e7);}}else{return false;}}}if(this.isObjectReference(_e7)){this._setContent(_e7,_e8);}else{var _e9=this.getReferences(_e7);var _ea=_e9.join(";");if(!(_ea.match(_e8))){_e9.push(_e8);this._setContent(_e7,_e9);}}},addReferences:function(_eb,_ec){for(var i=0;i<_ec.length;i++){var _ed=_ec[i];if(_ed!==0&&!isNaN(_ed)){this.addReference(_eb,_ed);}}},getReferenceAttributes:function(){return this.metaData.getReferenceAttributes();},getAttributes:function(){return this.metaData.getAttributes();},getPrimitives:function(){return this.metaData.getAttributesWithoutReferences();},getAttributeType:function(_ee){return this.metaData.getAttributeType(_ee);},getSelectorEntity:function(_ef){return this.metaData.getSelectorEntity(_ef);},getEntity:function(){return (this.jsonData&&this.jsonData.objectType);},isA:function(_f0){return this.metaData.isA(_f0);},hasSuperEntities:function(){return this.metaData.hasSuperEntities();},getSuperEntities:function(){return this.metaData.getSuperEntities();},hasSubEntities:function(){return this.metaData.hasSubEntities();},getSubEntities:function(){return this.metaData.getSubEntities();},reset:function(){this._changeData={};},inheritsFrom:function(_f1){return this.metaData.inheritsFrom(_f1);},compare:function(_f2){if(_f2.getEntity()!=this.getEntity()){return false;}var _f3=this.metaData.getAttributesWithoutReferences();for(var i=0,_f4;_f4=_f3[i];i++){var _f5=this.get2(_f4);var _f6=_f2.get2(_f4);if(_f5!==_f6){if(typeof _f5=="object"){if(typeof _f6!="object"){throw new Error("non matching value types for attribute "+_f4);}if(_f5.valueOf&&_f6.valueOf&&_f5.valueOf()!==_f6.valueOf()){return false;}}else{return false;}}}var _f7=this.getReferenceAttributes(),ref;for(i=0,ref;ref=_f7[i];i++){if((ref=="System.changedBy")||(ref=="System.owner")){continue;}var _f8=_f2.getReferences(ref);var _f9=this.getReferences(ref);var _fa=_f9.join(",");for(var j=0,id;id=_f8[j];j++){if(!_fa.match(id)){return false;}}}return true;},toString:function(){return this.getGuid();},_validateNumber:function(_fb,_fc){var _fd=_aa.validate(_fc,this.metaData.getAttributeType(_fb));if(_fd!==_aa.validation.OK){throw new Error("Cannot set invalid value to MxObject attribute "+_fb);}},_convertValue:function(_fe,_ff){if(_ff){if(this.isNumeric(_fe)){if(!(_ff instanceof Big)){_ff=new Big(_ff);}this._validateNumber(_fe,_ff);}}return _ff;},_setContent:function(attr,_100){if(typeof attr!=="string"){throw new Error(this.id+"._setContent : parameter attr ("+attr+") is not of type String.");}if(!this.metaData.has(attr)){return false;}var _101=this.get2(attr);if(_101==null&&_100===""){return false;}if(this.isDate(attr)){var _102=this.isLocalizedDate(attr);if(_100!==""){if(_102){_100=Number(_100);}else{_100=window.mx.parser.delocalizeEpoch(_100);}}}else{if(this.isPassword(attr)){_100=_100.replace(/[\s\t]+$/,"").replace(/^[\s\t]+/,"");}else{if(this.isBoolean(attr)){_100=!!_100;}else{if(this.isObjectReference(attr)&&_ae.isArray(_100)){throw new Error("mendix/lib/MxObject._setContent : trying to set single object reference to multiple values");}else{if(this.isObjectReferenceSet(attr)&&!_ae.isArray(_100)){throw new Error("mendix/lib/MxObject._setContent : trying to set object reference set to single value");}}}}}if(_100!==_101){return this._makeChange(attr,_100);}},_hasChildren:function(attr){if(this._changeData[attr]){return false;}var _103=this._getAttributeValue(attr);if(this._references&&this._references[_103]){return true;}return (_103&&(typeof _103=="object")&&(_103.length==null));},_getAttributeValue:function(attr){var val=this.jsonData.attributes[attr];if(val===undefined){val=null;}return (val&&(typeof val=="object")&&("value" in val))?val.value:val;},_setAttributeValue:function(attr,_104){var val=this.jsonData.attributes[attr];if(_104===undefined){_104=null;}if(val&&(typeof (val)=="object")&&"value" in val){val.value=_104;}else{this.jsonData.attributes[attr]=_104;}},setWithoutEvent:function(attr,_105){this._changeData[attr]=_105;},_makeChange:function(attr,_106){this.setWithoutEvent(attr,this._convertValue(attr,_106));window.mx.data.makeChange(this,attr,this._changeData[attr]);return true;},_applyChangeSet:function(){for(var attr in this._changeData){this._setAttributeValue(attr,this._changeData[attr]);}this._changeData={};}});return _b0;});},"mendix/validator":function(){define(["big/big"],function(Big){var _107=new Big("1e20");var _108=(new Big(2)).pow(31).times(-1),_109=(new Big(2)).pow(31).minus(1);var _10a=(new Big(2)).pow(63).times(-1),_10b=(new Big(2)).pow(63).minus(1);var _10c=(new Big(2)).pow(53);function _10d(_10e,min,max){return _10e.gte(min)&&_10e.lte(max);};function _10f(_110){return !_110.mod(1).eq(0);};var _111={validation:{OK:0,NOT_INTEGER:1,RANGE_INTEGER:2,RANGE_LONG:3,RANGE_DECIMAL:4,RANGE_NUMBER:5},validate:function(_112,type){if(/^(Integer|Long|Decimal|Float|Currency)$/.test(type)){if(_112===""){return _111.validation.OK;}if(!(_112 instanceof Big)){_112=new Big(_112);}if((type=="Integer"||type=="Long")&&_10f(_112)){return _111.validation.NOT_INTEGER;}if(type==="Integer"&&!_10d(_112,_108,_109)){return _111.validation.RANGE_INTEGER;}if(type==="Long"&&!_10d(_112,_10a,_10b)){return _111.validation.RANGE_LONG;}if(type==="Decimal"&&_112.abs().gte(_107)){return _111.validation.RANGE_DECIMAL;}if(type==="Decimal"&&!_112.mod(1e-8).eq(0)){return _111.validation.RANGE_DECIMAL;}if(/^(Float|Currency)$/.test(type)&&_112.abs().gt(_10c)){return _111.validation.RANGE_NUMBER;}}return _111.validation.OK;}};return _111;});},"big/big":function(){(function(_113){"use strict";var DP=20,RM=1,_114=1000000,_115=1000000,_116=-7,_117=21,P={},_118=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Big;function _119(){function Big(n){var x=this;if(!(x instanceof Big)){return n===void 0?_119():new Big(n);}if(n instanceof Big){x["s"]=n["s"];x["e"]=n["e"];x["c"]=n["c"].slice();}else{_11a(x,n);}x["constructor"]=Big;};Big.prototype=P;Big["DP"]=DP;Big["RM"]=RM;return Big;};function _11b(x,dp,toE){var Big=x["constructor"],i=dp-(x=new Big(x))["e"],c=x["c"];if(c.length>++dp){rnd(x,i,Big["RM"]);}if(!c[0]){++i;}else{if(toE){i=dp;}else{c=x["c"];i=x["e"]+i+1;}}for(;c.length<i;c.push(0)){}i=x["e"];return toE===1||toE&&(dp<=i||i<=_116)?(x["s"]<0&&c[0]?"-":"")+(c.length>1?c[0]+"."+c.join("").slice(1):c[0])+(i<0?"e":"e+")+i:x.toString();};function _11a(x,n){var e,i,nL;if(n===0&&1/n<0){n="-0";}else{if(!_118.test(n+="")){_11c(NaN);}}x["s"]=n.charAt(0)=="-"?(n=n.slice(1),-1):1;if((e=n.indexOf("."))>-1){n=n.replace(".","");}if((i=n.search(/e/i))>0){if(e<0){e=i;}e+=+n.slice(i+1);n=n.substring(0,i);}else{if(e<0){e=n.length;}}for(i=0;n.charAt(i)=="0";i++){}if(i==(nL=n.length)){x["c"]=[x["e"]=0];}else{for(;n.charAt(--nL)=="0";){}x["e"]=e-i-1;x["c"]=[];for(e=0;i<=nL;x["c"][e++]=+n.charAt(i++)){}}return x;};function rnd(x,dp,rm,more){var u,xc=x["c"],i=x["e"]+dp+1;if(rm===1){more=xc[i]>=5;}else{if(rm===2){more=xc[i]>5||xc[i]==5&&(more||i<0||xc[i+1]!==u||xc[i-1]&1);}else{if(rm===3){more=more||xc[i]!==u||i<0;}else{more=false;if(rm!==0){_11c("!Big.RM!");}}}}if(i<1||!xc[0]){if(more){x["e"]=-dp;x["c"]=[1];}else{x["c"]=[x["e"]=0];}}else{xc.length=i--;if(more){for(;++xc[i]>9;){xc[i]=0;if(!i--){++x["e"];xc.unshift(1);}}}for(i=xc.length;!xc[--i];xc.pop()){}}return x;};function _11c(_11d){var err=new Error(_11d);err["name"]="BigError";throw err;};P["abs"]=function(){var x=new this["constructor"](this);x["s"]=1;return x;};P["cmp"]=function(y){var xNeg,x=this,xc=x["c"],yc=(y=new x["constructor"](y))["c"],i=x["s"],j=y["s"],k=x["e"],l=y["e"];if(!xc[0]||!yc[0]){return !xc[0]?!yc[0]?0:-j:i;}if(i!=j){return i;}xNeg=i<0;if(k!=l){return k>l^xNeg?1:-1;}i=-1;j=(k=xc.length)<(l=yc.length)?k:l;for(;++i<j;){if(xc[i]!=yc[i]){return xc[i]>yc[i]^xNeg?1:-1;}}return k==l?0:k>l^xNeg?1:-1;};P["div"]=function(y){var x=this,Big=x["constructor"],dvd=x["c"],dvs=(y=new Big(y))["c"],s=x["s"]==y["s"]?1:-1,dp=Big["DP"];if(dp!==~~dp||dp<0||dp>_114){_11c("!Big.DP!");}if(!dvd[0]||!dvs[0]){if(dvd[0]==dvs[0]){_11c(NaN);}if(!dvs[0]){_11c(s/0);}return new Big(s*0);}var dvsL,dvsT,next,cmp,remI,u,dvsZ=dvs.slice(),dvdI=dvsL=dvs.length,dvdL=dvd.length,rem=dvd.slice(0,dvsL),remL=rem.length,q=y,qc=q["c"]=[],qi=0,_11e=dp+(q["e"]=x["e"]-y["e"])+1;q["s"]=s;s=_11e<0?0:_11e;dvsZ.unshift(0);for(;remL++<dvsL;rem.push(0)){}do{for(next=0;next<10;next++){if(dvsL!=(remL=rem.length)){cmp=dvsL>remL?1:-1;}else{for(remI=-1,cmp=0;++remI<dvsL;){if(dvs[remI]!=rem[remI]){cmp=dvs[remI]>rem[remI]?1:-1;break;}}}if(cmp<0){for(dvsT=remL==dvsL?dvs:dvsZ;remL;){if(rem[--remL]<dvsT[remL]){remI=remL;for(;remI&&!rem[--remI];rem[remI]=9){}--rem[remI];rem[remL]+=10;}rem[remL]-=dvsT[remL];}for(;!rem[0];rem.shift()){}}else{break;}}qc[qi++]=cmp?next:++next;if(rem[0]&&cmp){rem[remL]=dvd[dvdI]||0;}else{rem=[dvd[dvdI]];}}while((dvdI++<dvdL||rem[0]!==u)&&s--);if(!qc[0]&&qi!=1){qc.shift();q["e"]--;}if(qi>_11e){rnd(q,dp,Big["RM"],rem[0]!==u);}return q;};P["eq"]=function(y){return !this.cmp(y);};P["gt"]=function(y){return this.cmp(y)>0;};P["gte"]=function(y){return this.cmp(y)>-1;};P["lt"]=function(y){return this.cmp(y)<0;};P["lte"]=function(y){return this.cmp(y)<1;};P["minus"]=function(y){var i,j,t,xLTy,x=this,Big=x["constructor"],a=x["s"],b=(y=new Big(y))["s"];if(a!=b){y["s"]=-b;return x["plus"](y);}var xc=x["c"].slice(),xe=x["e"],yc=y["c"],ye=y["e"];if(!xc[0]||!yc[0]){return yc[0]?(y["s"]=-b,y):new Big(xc[0]?x:0);}if(a=xe-ye){if(xLTy=a<0){a=-a;t=xc;}else{ye=xe;t=yc;}t.reverse();for(b=a;b--;t.push(0)){}t.reverse();}else{j=((xLTy=xc.length<yc.length)?xc:yc).length;for(a=b=0;b<j;b++){if(xc[b]!=yc[b]){xLTy=xc[b]<yc[b];break;}}}if(xLTy){t=xc;xc=yc;yc=t;y["s"]=-y["s"];}if((b=(j=yc.length)-(i=xc.length))>0){for(;b--;xc[i++]=0){}}for(b=i;j>a;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];xc[i]=9){}--xc[i];xc[j]+=10;}xc[j]-=yc[j];}for(;xc[--b]==0;xc.pop()){}for(;xc[0]==0;){xc.shift();--ye;}if(!xc[0]){y["s"]=1;xc=[ye=0];}y["c"]=xc;y["e"]=ye;return y;};P["mod"]=function(y){var yGTx,x=this,Big=x["constructor"],a=x["s"],b=(y=new Big(y))["s"];if(!y["c"][0]){_11c(NaN);}x["s"]=y["s"]=1;yGTx=y.cmp(x)==1;x["s"]=a;y["s"]=b;if(yGTx){return new Big(x);}a=Big["DP"];b=Big["RM"];Big["DP"]=Big["RM"]=0;x=x["div"](y);Big["DP"]=a;Big["RM"]=b;return this["minus"](x["times"](y));};P["plus"]=function(y){var t,x=this,Big=x["constructor"],a=x["s"],b=(y=new Big(y))["s"];if(a!=b){y["s"]=-b;return x["minus"](y);}var xe=x["e"],xc=x["c"],ye=y["e"],yc=y["c"];if(!xc[0]||!yc[0]){return yc[0]?y:new Big(xc[0]?x:a*0);}xc=xc.slice();if(a=xe-ye){if(a>0){ye=xe;t=yc;}else{a=-a;t=xc;}t.reverse();for(;a--;t.push(0)){}t.reverse();}if(xc.length-yc.length<0){t=yc;yc=xc;xc=t;}a=yc.length;for(b=0;a;){b=(xc[--a]=xc[a]+yc[a]+b)/10|0;xc[a]%=10;}if(b){xc.unshift(b);++ye;}for(a=xc.length;xc[--a]==0;xc.pop()){}y["c"]=xc;y["e"]=ye;return y;};P["pow"]=function(n){var x=this,one=new x["constructor"](1),y=one,_11f=n<0;if(n!==~~n||n<-_115||n>_115){_11c("!pow!");}n=_11f?-n:n;for(;;){if(n&1){y=y["times"](x);}n>>=1;if(!n){break;}x=x["times"](x);}return _11f?one["div"](y):y;};P["round"]=function(dp,rm){var x=this,Big=x["constructor"];if(dp==null){dp=0;}else{if(dp!==~~dp||dp<0||dp>_114){_11c("!round!");}}rnd(x=new Big(x),dp,rm==null?Big["RM"]:rm);return x;};P["sqrt"]=function(){var _120,r,_121,x=this,Big=x["constructor"],xc=x["c"],i=x["s"],e=x["e"],half=new Big("0.5");if(!xc[0]){return new Big(x);}if(i<0){_11c(NaN);}i=Math.sqrt(x.toString());if(i==0||i==1/0){_120=xc.join("");if(!(_120.length+e&1)){_120+="0";}r=new Big(Math.sqrt(_120).toString());r["e"]=((e+1)/2|0)-(e<0||e&1);}else{r=new Big(i.toString());}i=r["e"]+(Big["DP"]+=4);do{_121=r;r=half["times"](_121["plus"](x["div"](_121)));}while(_121["c"].slice(0,i).join("")!==r["c"].slice(0,i).join(""));rnd(r,Big["DP"]-=4,Big["RM"]);return r;};P["times"]=function(y){var c,x=this,Big=x["constructor"],xc=x["c"],yc=(y=new Big(y))["c"],a=xc.length,b=yc.length,i=x["e"],j=y["e"];y["s"]=x["s"]==y["s"]?1:-1;if(!xc[0]||!yc[0]){return new Big(y["s"]*0);}y["e"]=i+j;if(a<b){c=xc;xc=yc;yc=c;j=a;a=b;b=j;}for(c=new Array(j=a+b);j--;c[j]=0){}for(i=b;i--;){b=0;for(j=a+i;j>i;){b=c[j]+yc[i]*xc[j-i-1]+b;c[j--]=b%10;b=b/10|0;}c[j]=(c[j]+b)%10;}if(b){++y["e"];}if(!c[0]){c.shift();}for(i=c.length;!c[--i];c.pop()){}y["c"]=c;return y;};P["toString"]=P["valueOf"]=P["toJSON"]=function(){var x=this,e=x["e"],str=x["c"].join(""),strL=str.length;if(e<=_116||e>=_117){str=str.charAt(0)+(strL>1?"."+str.slice(1):"")+(e<0?"e":"e+")+e;}else{if(e<0){for(;++e;str="0"+str){}str="0."+str;}else{if(e>0){if(++e>strL){for(e-=strL;e--;str+="0"){}}else{if(e<strL){str=str.slice(0,e)+"."+str.slice(e);}}}else{if(strL>1){str=str.charAt(0)+"."+str.slice(1);}}}}return x["s"]<0&&x["c"][0]?"-"+str:str;};P["toExponential"]=function(dp){if(dp==null){dp=this["c"].length-1;}else{if(dp!==~~dp||dp<0||dp>_114){_11c("!toExp!");}}return _11b(this,dp,1);};P["toFixed"]=function(dp){var str,x=this,neg=_116,pos=_117;_116=-(_117=1/0);if(dp==null){str=x.toString();}else{if(dp===~~dp&&dp>=0&&dp<=_114){str=_11b(x,x["e"]+dp);if(x["s"]<0&&x["c"][0]&&str.indexOf("-")<0){str="-"+str;}}}_116=neg;_117=pos;if(!str){_11c("!toFix!");}return str;};P["toPrecision"]=function(sd){if(sd==null){return this.toString();}else{if(sd!==~~sd||sd<1||sd>_114){_11c("!toPre!");}}return _11b(this,sd-1,2);};Big=_119();if(typeof define==="function"&&define.amd){define(function(){return Big;});}else{if(typeof module!=="undefined"&&module.exports){module.exports=Big;}else{_113["Big"]=Big;}}})(this);},"mendix/lib/MxMetaObject":function(){define(["dojo/_base/json"],function(_122){function _123(_124){var _125=_124.json;if(!(_125&&_125.attributes&&_125.objectType&&_125.properties)){throw new Error("MxMetaObject: invalid initialization");}this.has=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.has: parameter attr is not of type String.");}return _125.attributes[attr]!=null;};this.isEnum=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isEnum : parameter attr is not of type String.");}return (/^(Enum|EnumSet)$/).test(this.getAttributeType(attr));};this.isNumeric=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isNumeric : parameter attr is not of type String.");}return (/^(Integer|Long|Decimal|Float|Currency)$/).test(this.getAttributeType(attr));};this.isPassword=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isDate : parameter attr is not of type String.");}return this.getAttributeType(attr)=="HashString";};this.isCurrency=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isCurrency : parameter attr is not of type String.");}return this.getAttributeType(attr)=="Currency";};this.isDate=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isDate : parameter attr is not of type String.");}return (/^(Date|DateTime)$/).test(this.getAttributeType(attr));};this.isLocalizedDate=function(attr){if(this.isDate(attr)){return (/true/).test(_125.attributes[attr].localize);}else{return null;}};this.isBoolean=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isBoolean : parameter attr is not of type String.");}return this.getAttributeType(attr)=="Boolean";};this.isReference=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isReference : parameter attr is not of type String.");}return (/^(ObjectReference|ObjectReferenceSet)$/).test(this.getAttributeType(attr));};this.isObjectReference=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isObjectReference : parameter attr is not of type String.");}return this.getAttributeType(attr)=="ObjectReference";};this.isObjectReferenceSet=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isObjectReferenceSet : parameter attr is not of type String.");}return this.getAttributeType(attr)=="ObjectReferenceSet";};this.getOptions=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.getOptions : parameter attr is not of type String.");}else{if(!this.isEnum(attr)){throw new Error("mendix/lib/MxMetaObject.getOptions : attribute '"+attr+"' is not an Enumeration.");}}try{var opts=false;if(_125.attributes[attr]){var arr=_125.attributes[attr].options;if(arr&&arr.length){opts=[];for(var i=0;i<arr.length;i++){for(var j in arr[i]){opts.push(arr[i][j]);}}}return opts;}}catch(e){return false;}};this.getEnumMap=function(attr){if(!this.isEnum(attr)){return null;}var map=[];var arr=_125.attributes[attr].options;for(var i=0;i<arr.length;i++){for(var j in arr[i]){map.push({key:j,caption:arr[i][j]});break;}}return map;};this.getEnumKVPairs=function(attr){if(!this.isEnum(attr)){return null;}var map={};var arr=_125.attributes[attr].options;for(var i=0;i<arr.length;i++){for(var j in arr[i]){map[j]=arr[i][j];}}return map;};this.getEnumCaption=function(attr,_126){if(!this.isEnum(attr)){return null;}var arr=_125.attributes[attr].options;for(var i=0;i<arr.length;i++){var item=arr[i];for(var key in item){if(key==_126){return item[key];}}}return _126;};this.getReferenceAttributes=function(){var refs=[];for(var i in _125.attributes){if(this.isReference(i)){refs.push(i);}}return refs;};this.getAttributes=function(){var _127=[];for(var i in _125.attributes){_127.push(i);}return _127;};this.getAttributesWithoutReferences=function(){var _128=[];for(var i in _125.attributes){if(!this.isReference(i)){_128.push(i);}}return _128;};this.getAttributeType=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.getAttributeType : parameter attr is not of type String.");}if(this.has(attr)){return _125.attributes[attr].type;}else{return false;}};this.getSelectorEntity=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.getSelectorEntity : parameter attr is not of type String.");}if(this.has(attr)){return _125.attributes[attr].klass;}else{return false;}};this.getEntity=function(){return _125.objectType;};this.isA=function(_129){if(this.getEntity()==_129){return true;}else{return this.inheritsFrom(_129);}};this.hasSuperEntities=function(){return _125.properties["superclasses"].length!==0;};this.getSuperEntities=function(){var _12a=_125.properties["superclasses"];if(typeof _12a=="string"){return [_12a];}else{return _12a;}};this.hasSubEntities=function(){return _125.properties["subclasses"].length!==0;};this.getSubEntities=function(){var subs=_125.properties["subclasses"];return (typeof subs=="string")?[subs]:subs;};this.inheritsFrom=function(_12b){var _12c=this.getSuperEntities()||[];for(var i=0,_12d;_12d=_12c[i];i++){if(_12b==_12d){return true;}var _12e=window.mx.meta.getEntity("System.User");if(_12e.inheritsFrom(_12b)){return true;}}return false;};};return _123;});},"mendix/lib/MxContext":function(){define(["mendix/lib/MxObject","mendix/logger","dojo/_base/array","dojo/_base/json","dojo/_base/declare"],function(_12f,_130,_131,_132,_133){var _134=0;var _135=_133(null,{constructor:function(_136){this.id=this.ident=++_134;this._app_flow_id="";this.trackId="";this.trackClass="";this.trackObject=null;this.localParams={};this.constraintby=[];this._contextStore={};this.saveStore={localParams:{},contexts:{}};if(_136){if(_136.mxcontext){this.dupFrom(_136.mxcontext);}if(_136.classname&&_136.mendixguid){this.setContext(_136.classname,_136.mendixguid);}else{if(_136.entity&&_136.guid){this.setContext(_136.entity,_136.guid);}}}},hasTrackEntity:function(){return this.trackClass!=="";},hasTrackId:function(){return !!this.trackId;},hasTrackObject:function(){return !!this.trackObject;},getTrackEntity:function(){return this.trackClass;},getTrackId:function(){return this.trackId;},getTrackObject:function(){return this.trackObject;},setTrackEntity:function(_137){if(_137==null){this.trackClass="";}else{if(typeof _137=="string"){this.trackClass=_137;}else{throw new Error("mendix/lib/MxContext.setTrackEntity: entity should be a string");}}},setTrackId:function(guid){this.trackId=guid;this.trackObject=null;},setTrackObject:function(obj){if(obj){this.setContext(obj.getEntity(),obj.getGuid());}this.trackObject=obj;},setObject:function(obj,_138,guid){if(obj){this.setContext(obj.getEntity(),obj.getGuid());}else{this.trackId=guid||"";if(_138){this.trackClass=_138;}}this.trackObject=obj;},getObject:function(){return this.trackObject;},setConstraints:function(_139){if(_139==null||_139===""||_139.length===0){return;}if(typeof _139=="string"){this.constraintby=_139.split(",");}else{this.constraintby=_139;}},getConstraints:function(){var t=[];for(var i=0;i<this.constraintby.length;i++){t.push(this.constraintby[i]);}return t;},hasBacktrack:function(){return this.constraintby.length!==0;},getContexts:function(){var c=[];for(var i in this._contextStore){if(typeof i!="undefined"&&this._contextStore[i]!==""){c.push(i);}}return c;},setContext:function(_13a,guid){if((arguments.length==1)&&(arguments[0] instanceof _12f)){var _13b=arguments[0];_13a=_13b.getEntity(),guid=_13b.getGuid();}if(typeof _13a!="string"){throw new Error("mendix/lib/MxContext.setContext: parameter entity is not of type String");}if(guid==null){guid="";}this.setTrackId(guid);this.setTrackEntity(_13a);this._contextStore[_13a]=guid;},unsetContext:function(_13c){if(typeof _13c!="string"){throw new Error("mendix/lib/MxContext.unsetContext: parameter entity is not of type String");}delete this._contextStore[_13c];},getContext:function(_13d){if(typeof _13d!="string"){throw new Error("mendix/lib/MxContext.getContext: parameter entity is not of type String");}if(_13d in this._contextStore){return this._contextStore[_13d];}var meta=window.mx.meta.getEntity(_13d),_13e=null;_131.some(meta.getSubEntities(),function(_13f){if(_13f in this._contextStore){_13e=this._contextStore[_13f];return true;}},this);return _13e;},hasContext:function(_140){if(typeof _140!="string"){throw new Error("mendix/lib/MxContext.hasContext: parameter entity is not of type String");}return this.getContext(_140)!=null;},reset:function(){this._contextStore={};this.trackId=null;this.trackClass="";this.trackObject=null;},dupFrom:function(_141){this.reset();this.mixin(_141);},mixin:function(_142){if(_142){var _143=_142.getContexts();for(var i=0,c;c=_143[i];i++){this.setContext(c,_142.getContext(c));}this.setParams(_142.getParams());this.setConstraints(_142.getConstraints());this.setContext(_142.getTrackEntity(),_142.getTrackId());this.setTrackObject(_142.getTrackObject());}else{var _144=this.getTrackEntity();if(_144){this.unsetContext(_144);}this.setTrackId("");this.setTrackEntity("");this.setTrackObject(null);}},save:function(){var _145=this.saveStore={contexts:{},localParams:{}},i;for(i in this._contextStore){_145.contexts[i]=this._contextStore[i];}for(i in this.localParams){_145.localParams[i]=this.localParams[i];}},restore:function(){var _146=this.saveStore;this._contextStore={};this.localParams={};var i;for(i in _146.contexts){this._contextStore[i]=_146.contexts[i];}for(i in _146.localParams){this.localParams[i]=_146.localParams[i];}},hasParam:function(key){return key in this.localParams;},getParam:function(key){if(!this.hasParam(key)){return null;}return this.localParams[key];},getParams:function(){return this.localParams;},setParam:function(key,_147){if(key==null){throw new Error("mendix/lib/MxContext["+this.ident+"].setParam key is null");}this.localParams[key]=_147;},setParams:function(obj){if(typeof obj!="object"){throw new Error("mendix/lib/MxContext["+this.ident+"].setParams requires an Object.");}for(var i in obj){this.localParams[i]=obj[i];}},unsetParam:function(key){delete this.localParams[key];},resetParams:function(){this.localParams={};},isEmpty:function(){for(var j in this._contextStore){return true;}},getGuidS:function(){var _148=this.getContexts();var _149=this.getTrackId();var _14a=_149?[_149]:[];for(var i=0,l=_148.length;i<l;i++){var c=_148[i];if(c!="System.owner"&&c!="System.changedBy"){var guid=this.getContext(c);if(guid!=_149){_14a.push(guid);}}}return _14a;},dump:function(){var _14b="";var _14c=this.getContexts();for(var i=0;i<_14c.length;i++){var _14d=_14c[i];_14b+=" "+_14d+": "+this.getContext(_14d)+";";}return _14b;},serialize:function(){return _132.toJson(this._contextStore);},toQuery:function(){var _14e=this._contextStore,_14f=this.trackId,_150=[];for(var i in _14e){var guid=_14e[i];if(guid){_150[guid==_14f?"unshift":"push"](i+"="+guid);}}return _150.join("&");},freeze:function(){this.setTrackEntity=this.setTrackId=this.setTrackObject=this.setConstraints=this.setBacktrack=this.setContext=this.unsetContext=this.unsetBacktrack=this.reset=this.dupFrom=this.restore=this.setParam=this.setParams=this.unsetParam=this.resetParams=function(){_130.error("mendix/lib/MxContext["+this.ident+"].freeze: context is readonly");return false;};},setAppFlowId:function(_151){this._app_flow_id=_151;},getAppFlowId:function(){return this._app_flow_id;},toString:function(){return this.ident;}});return _135;});},"webcore/datasource/_DataSource":function(){define(["mendix/lang","mendix/logger","dojo/_base/array","dojo/_base/declare"],function(lang,_152,_153,_154){var _155=_154(null,{name:"webcore.datasource.DataSource",context:null,_pageSize:0,_offset:0,_pageObjs:null,_setsize:0,_holdObjs:null,_schemaId:"",constructor:function(args){this.context=args.context;this._pageSize=args.page||0;this._offset=args.offset||0;this._pageObjs=[];this._holdObjs=[];this._schemaId=args.queryid||"";if(args.load){_152.scream(this.name+".constructor : Do not pass callbacks into a constructor! Stop doing this!");lang.thread(args.load);}},reload:function(_156){_156&&_156();},refresh:function(_157){_157&&_157();},update:function(_158){_158&&_158();},entityUpdate:function(_159){_159&&_159();},isValid:function(_15a){_15a&&_15a(true);},_setSetSize:function(n){this._setsize=n;},_setObjects:function(objs){this._pageObjs=objs;},getSetSize:function(){return this._setsize||0;},getObjects:function(){return this._pageObjs||[];},getPageSize:function(){return this._pageSize;},setPageSize:function(n,_15b){this._pageSize=n;if(_15b){this.refresh(_15b);}},getOffset:function(){return this._offset;},setOffset:function(n,_15c){this._offset=n;if(_15c){this.refresh(_15c);}},first:function(_15d){this._offset=0;if(_15d){this.refresh(_15d);}},last:function(_15e){var _15f=this.getSetSize();if(this._pageSize>=_15f){this._offset=0;}else{this._offset=Math.floor((_15f-1)/this._pageSize)*this._pageSize;}if(_15e){this.refresh(_15e);}},toPage:function(n,_160){var off=(n-1)*this._pageSize;if(off>=0&&off<this.getSetSize()){this._offset=off;}if(_160){this.refresh(_160);}},next:function(_161){if(this.atEnd()){this._offset=this.getSetSize()-this._pageSize;}else{this._offset=this._offset+this._pageSize;}if(_161){this.refresh(_161);}},previous:function(_162){if((this.getSetSize()<this._pageSize)||((this._offset-this._pageSize)<=0)){this._offset=0;}else{this._offset-=this._pageSize;}if(_162){this.refresh(_162);}},getStatusMessage:function(){var st=0,en=0,_163=this.getSetSize();if(_163!=0){st=this._offset+1;en=Math.min(this._offset+this._pageSize,_163);}return window.mx.ui.translate("mxui.lib.MxDataSource","status",[st,en,_163]);},generateExport:function(args){args.callback&&args.callback();},atBeginning:function(){return (this._offset==0);},atEnd:function(){return !this._hasPaging()||(this._offset>=(this.getSetSize()-this._pageSize));},afterEnd:function(){return this._hasPaging()&&this.getSetSize()>0&&this._offset>=this.getSetSize();},getAttributes:function(attr){return _153.map(this.getObjects(),function(obj){return obj.get2(attr);});},getObject:function(guid){var objs=this.getObjects();for(var i=0,obj;obj=objs[i];++i){if(obj.getGuid()==guid){return obj;}}return null;},each:function(func){return _153.map(this.getObjects(),func);},insertMxObjectAtStart:function(obj){var objs=this._pageObjs;objs.unshift(obj);if(this._hasPaging()&&this._pageSize<objs.length){objs.pop();}this._setsize++;},insertMxObjectAtEnd:function(_164){var objs=this._pageObjs;objs.push(_164);if(this._hasPaging()!=0&&this._pageSize<objs.length){objs.shift();}this._setsize++;},clean:function(_165){this._setsize=0;this._offset=0;this._pageObjs=[];_165&&_165();},hold:function(objs){if(this._holdObjs.length){this.release();}this._holdObjs=this._holdObjs.concat(objs);},release:function(){window.mx.data.release(this._holdObjs);this._holdObjs=[];},destroy:function(){this.release();},toString:function(){return this.name;},_hasPaging:function(){return this._pageSize!=0;},_pageUpdate:function(_166){var _167=this.getOffset(),_168=this._hasPaging()?this._objs.slice(_167,_167+this.getPageSize()):this._objs;this._setObjects(_168);this._setSetSize(this._objs.length);lang.nullExec(_166);},size:function(){this.getSetSize.apply(this,arguments);},getSize:function(){this.getSetSize.apply(this,arguments);},getGeneratedXPath:function(){this.getCurrentXPath.apply(this,arguments);}});return _155;});},"webcore/datasource/_XPathSourceBase":function(){define(["./_DataSource","mendix/logger","dojo/_base/declare"],function(_169,_16a,_16b){var _16c=_16b(_169,{name:"webcore.datasource.XPathSourceBase",_sorting:null,_constraints:"",_staticconstraint:"",_aggData:null,_aggregates:false,_distinct:false,constructor:function(args){this._sorting=args.sortparams||[];this._aggregates=args.aggregates||false;this._attributes=args.attributes||null;this._depth=args.depth||0;this._staticconstraint=args.constraint||"";this._distinct=args.distinct||false;},setConstraints:function(c,_16d){this._constraints=c;this.first();if(_16d){this.refresh(_16d);}},getConstraints:function(){return this._constraints;},getStaticConstraint:function(){return this._staticconstraint;},getFilterOptions:function(){var _16e={sort:this._sorting};if(this._hasPaging()){_16e.offset=this.getOffset();_16e.limit=this.getPageSize();}if(this._attributes){_16e.attributes=this._attributes;}if(this._schemaId){_16e.id=this._schemaId;}if(this._depth){_16e.depth=this._depth;}if(this._distinct){_16e.distinct=this._distinct;}return _16e;},getSortSettings:function(){return this._sorting;},setSortOptions:function(_16f,_170,push){this._offset=0;if(_16f==null||_16f===""){throw new Error(this.name+".setSortOptions : illegal sorton parameter!");}else{_170=(_170===""||_170==null)?"asc":_170;if(push){this._sortFilter(_16f,_170);}else{this._sorting=[[_16f,_170]];}}},getAggregates:function(){return this._aggData;},getCurrentXPath:function(){return "";},_sortFilter:function(_171,_172){var _173=false;for(var i=0,e;e=this._sorting[i];++i){if(e[0]==_171){this._sorting[i]=[_171,_172];_173=true;continue;}}if(!_173){this._sorting.push([_171,_172]);}},_setAggregates:function(obj){this._aggData=obj;}});return _16c;});},"webcore/datasource/XPathSource":function(){define(["./_XPathSourceBase","mendix/lang","mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_174,lang,_175,_176,_177){var _178=_177(_174,{name:"webcore.datasource.XPathSource",_entity:"",_xpath:"",_pathConstraint:"",_useContext:false,constructor:function(args){var path=args.path?args.path.split("/"):[];this._useContext=args.useContext;this._entity=path.length?path.pop():args.entity;if(path.length){this._pathConstraint="["+path.reverse().join("/")+"=\"[%CurrentObject%]\"]";}},reload:function(_179){this._xpath="";this._runSafeQuery(_179);},refresh:function(_17a){this._runSafeQuery(_17a);},update:function(_17b){var _17c=this._xpath;this._actGetXPath(_176.hitch(this,function(){if(_17c==this._xpath){lang.nullExec(_17b);}else{if(_17b){this._runQuery(_17b);}}}));},entityUpdate:function(_17d){this._runSafeQuery(_17d);},generateExport:function(args){args.params=_176.mixin({},args.params,{xpath:this.getCurrentXPath(),sort:this.getSortSettings(),gridid:this._schemaId});window.mx.data.generateExport(args);},getCurrentXPath:function(){return this._xpathString();},isValid:function(_17e){if(this.context.hasBacktrack()){window.mx.data.getBacktrackConstraints(null,this.context,_176.hitch(this,function(_17f,_180){_17e&&_17e(_180);}),function(e){window.mx.onError(e);_17e&&_17e(false);});}else{_17e&&_17e(true);}},_actGetXPath:function(_181){var exec=lang.nullExec;if(this._useContext){window.mx.data.createXPathString({entity:this._entity,context:this.context,callback:_176.hitch(this,function(_182){this._xpath=_182;exec(_181);}),error:function(e){window.mx.onError(e);_181&&_181();}});}else{if(this.context&&this.context.hasBacktrack()){window.mx.data.getBacktrackConstraints(null,this.context,_176.hitch(this,function(_183,_184){if(_184){this._xpath="//"+this._entity+_183;}else{this._xpath="";}exec(_181);}),function(e){window.mx.onError(e);_181&&_181();});}else{this._xpath="//"+this._entity;exec(_181);}}},_runSafeQuery:function(_185){var _186=["_runQuery"];if(!this._xpath){_186.unshift("_actGetXPath");}lang.sequence(_186,_185,this);},_runQuery:function(_187){var _188=this._xpathString();if(_188){window.mx.data.get({xpath:this.getCurrentXPath(),filter:this.getFilterOptions(),count:true,aggregates:this._aggregates,callback:function(objs,_189){this._handleObjects(objs,_189.count,_189.aggregates,_187);},error:function(e){window.mx.onError(e);_187&&_187();}},this);}else{this._handleObjects([],0,null,_187);}},_handleObjects:function(objs,_18a,_18b,_18c){this._setObjects(objs);this._setSetSize(_18a);this._setAggregates(_18b);_18c&&_18c();},_xpathString:function(){var _18d=[this._pathConstraint,this.getStaticConstraint(),this.getConstraints()].join(""),_18e="";if(this._xpath){var _18f=this._xpath+_18d;if(/\[%CurrentObject%\]/.test(_18f)){var guid=this.context.getTrackId();if(guid){_18e=window.mx.parser.replaceXPathTokens(_18f,this.context);}}else{_18e=_18f;}}return _18e;}});return _178;});},"webcore/datasource/EntityPathSource":function(){define(["./_DataSource","mendix/logger","dojo/_base/lang","dojo/_base/array","dojo/_base/declare"],function(_190,_191,_192,_193,_194){var _195=_194(_190,{name:"webcore.datasource.EntityPathSource",_pathElements:null,_objs:null,constructor:function(args){this._pathElements=args.path.split("/");},reload:function(_196){this._runQuery(_196);},refresh:function(_197){this._pageUpdate(_197);},entityUpdate:function(_198){this._runQuery(_198);},generateExport:function(args){var _199=_193.map(this._objs,function(obj){return obj.getGuid();});args.params=_192.mixin({},args.params,{guids:_199,gridid:this._schemaId});window.mx.data.generateExport(args);},_runQuery:function(_19a){this.release();var guid=this.context.getTrackId();if(guid){window.mx.data.get({guid:guid,path:this._pathElements[0],entity:this._pathElements[1],callback:function(objs){objs=(objs instanceof Array)?objs:[];this._objs=objs;this.hold(objs);this._pageUpdate(_19a);},error:function(e){window.mx.onError(e);_19a&&_19a();}},this);}else{this._objs=[];this._pageUpdate(_19a);}}});return _195;});},"webcore/datasource/MicroflowSource":function(){define(["./_DataSource","mendix/lang","mendix/logger","dojo/_base/lang","dojo/_base/array","dojo/_base/declare"],function(_19b,lang,_19c,_19d,_19e,_19f){var _1a0=_19f(_19b,{name:"webcore.datasource.MicroflowSource",_microflow:"",_objs:null,constructor:function(args){this._microflow=args.microflow;},reload:function(_1a1){lang.sequence(["_callMicroflow"],_1a1,this);},refresh:function(_1a2){this._pageUpdate(_1a2);},entityUpdate:function(_1a3){lang.sequence(["_callMicroflow"],_1a3,this);},generateExport:function(args){var _1a4=_19e.map(this._objs,function(obj){return obj.getGuid();});args.params=_19d.mixin({},args.params,{guids:_1a4,gridid:this._schemaId});window.mx.data.generateExport(args);},_callMicroflow:function(_1a5){this.release();window.mx.data.get({microflow:this._microflow,context:this.context,callback:function(objs){this._objs=(objs instanceof Array)?objs:[];this.hold(this._objs);this._pageUpdate(_1a5);},error:function(e){window.mx.onError(e);_1a5&&_1a5();}},this);}});return _1a0;});},"webcore/datasource/ReferenceSetSource":function(){define(["./_XPathSourceBase","mendix/lang","mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_1a6,lang,_1a7,_1a8,_1a9){var _1aa=_1a9(_1a6,{name:"webcore.datasource.ReferenceSetSource",_xpath:"",_reference:"",_sourceObject:null,constructor:function(args){this.inherited(arguments);var path=args.path.split("/"),_1ab=path.pop(),_1ac=path.pop();this._xpath="//"+_1ab;this._reference=_1ac;this._selectconstraints="[1=0]";},reload:function(_1ad){this._runQuery(_1ad);},refresh:function(_1ae){this._runQuery(_1ae);},update:function(_1af){this._runQuery(_1af);},entityUpdate:function(_1b0){this._runQuery(_1b0);},generateExport:function(args){args.params=_1a8.mixin({},args.params,{xpath:this.getCurrentXPath(),sort:this.getSortSettings(),gridid:this._schemaId});window.mx.data.generateExport(args);},getCurrentXPath:function(){return this._xpathString()+this._selectconstraints;},setObject:function(obj){this._sourceObject=obj;},_runQuery:function(_1b1){var exec=lang.nullExec;if(this._sourceObject){var refs=this._sourceObject.getReferences(this._reference);if(refs.length>0){var _1b2=[];for(var i=0,guid;guid=refs[i];++i){_1b2.push("id=\""+guid+"\"");}this._selectconstraints="["+_1b2.join(" or ")+"]";window.mx.data.get({xpath:this.getCurrentXPath(),filter:this.getFilterOptions(),count:true,callback:function(objs,_1b3){this._setObjects(objs);this._setSetSize(_1b3.count);exec(_1b1);},error:function(e){window.mx.onError(e);exec(_1b1);}},this);}else{this._selectconstraints="[1=0]";this._setObjects([]);this._setSetSize(0);exec(_1b1);}}else{exec(_1b1);}},_xpathString:function(){return this._xpath+this.getStaticConstraint()+this.getConstraints();}});return _1aa;});},"webcore/objectsource/DirectObjectSource":function(){define(["webcore/objectsource/_ObjectSource","dojo/_base/declare"],function(_1b4,_1b5){var _1b6=_1b5(_1b4,{name:"webcore.objectsource.DirectObjectSource",_path:"",_entity:"",constructor:function(args){this.inherited(arguments);var _1b7=args.path.split("/");this._path=_1b7.length>1?_1b7:[];this._entity=_1b7.slice(-1)[0];},fetch:function(_1b8,_1b9){var self=this;var _1ba=function(obj){if(obj&&obj.isA(self._entity)){_1b8(obj);}else{_1b8(null);}};var _1bb=function(obj){window.mx.data.fetch(obj,self._path,{usexpath:true,schema:self.schema},function(obj,_1bc){if(_1bc){self.hold(obj);}_1ba(obj);},_1b9);};this.release();var guid=this.context.getTrackId();if(guid){if(this.context.hasTrackObject()){_1bb(this.context.getTrackObject());}else{if(this._path.length>0){window.mx.data.get({guid:guid,callback:function(obj){self.hold(obj);_1bb(obj);},error:_1b9});}else{var meta=window.mx.meta.getEntity(this.context.getTrackEntity());if(meta.isA(this._entity)){window.mx.data.get({guid:guid,filter:{id:this.schema},callback:function(obj){self.hold(obj);_1ba(obj);},error:_1b9});}else{this.hold(null);_1b8(null);}}}}else{this.hold(null);_1b8(null);}},getRoot:function(){return this._path.length>0?this._path[0]:"";}});return _1b6;});},"webcore/objectsource/_ObjectSource":function(){define(["mendix/logger","dojo/_base/declare"],function(_1bd,_1be){var _1bf=_1be(null,{name:"webcore.objectsource._ObjectSource",context:null,schema:"",_holdObj:null,constructor:function(args){this.context=args.context;this.schema=args.schema;},fetch:function(_1c0,_1c1){},getRoot:function(){return "";},hasRoot:function(){return !!this.getRoot();},destroy:function(){this.release();},hold:function(obj){if(this._holdObj){this.release();}this._holdObj=obj;},release:function(){if(this._holdObj){window.mx.data.release([this._holdObj]);}this._holdObj=null;}});return _1bf;});},"webcore/objectsource/SchemaObjectSource":function(){define(["./_ObjectSource","dojo/_base/declare"],function(_1c2,_1c3){return _1c3(_1c2,{name:"webcore.objectsource.SchemaObjectSource",fetch:function(_1c4,_1c5){if(this.context.hasTrackId()){window.mx.data.getBySchema({id:this.context.getTrackId(),schema:this.schema,callback:_1c4,error:_1c5});}else{_1c4&&_1c4();}}});});},"webcore/objectsource/MicroflowObjectSource":function(){define(["webcore/objectsource/_ObjectSource","mendix/logger","dojo/_base/declare"],function(_1c6,_1c7,_1c8){var _1c9=_1c8(_1c6,{name:"webcore.objectsource.MicroflowObjectSource",_microflow:"",constructor:function(args){this.inherited(arguments);this._microflow=args.microflow;},fetch:function(_1ca,_1cb){var self=this;this.release();window.mx.data.get({microflow:this._microflow,context:this.context,callback:function(objs){objs=(objs instanceof Array)?objs:[];if(objs.length>1){window.mx.data.release(objs.slice(1));}if(objs.length==1){self.hold(objs[0]);_1ca(objs[0]);}else{_1ca(null);}},error:_1cb});}});return _1c9;});},"mendix/lib/Upload":function(){define(["mxui/io/iframe","mendix/lib/Error","mendix/lang","dojo/_base/lang","dojo/_base/declare"],function(_1cc,_1cd,lang,_1ce,_1cf){var _1d0=_1cf(null,{constructor:function(args){_1ce.mixin(this,args);},upload:function(){if(window.FormData){this._uploadViaFormData();}else{this._uploadViaIFrame();}},_uploadViaFormData:function(){var self=this;var file=this.form.mxdocument.files[0];var _1d1={maxFileSize:this.maxFileSize};if(this.width!=null){_1d1.width=this.width;}if(this.height!=null){_1d1.height=this.height;}this.startUpload();mx.data.saveDocument(this.objectGuid,_1d1,file,function(){if(self.finishUpload){self.finishUpload();}if(self.callback){self.callback();}},function(e){if(self.finishUpload){self.finishUpload();}if(self.error){self.error(e);}});},_uploadViaIFrame:function(){var form=this.form,self=this;form.action=this._determineUrl();this.startUpload(false);_1cc.send({form:form,handleAs:"json",handle:function(_1d2){try{if(_1d2 instanceof _1cd){if(self.error){self.error(_1d2);}}else{if(self.callback){self.callback();}}}finally{self.finishUpload(false);}}});}});return _1d0;});},"mxui/io/iframe":function(){define(["mendix/lib/DescribedServerError","mendix/lib/Error","mendix/lang","mendix/logger","dojo/sniff","dojo/request/iframe","dojo/dom-style","dojo/_base/lang"],function(_1d3,_1d4,lang,_1d5,_1d6,_1d7,_1d8,_1d9){var _1da=_1d6("ie")&&(_1d6("quirks")||_1d6("ie")<9);var _1db={name:"mxui.io.iframe",send:function(_1dc){var _1dd=function(){if(_1d6("ie")||_1d6("trident")){return true;}if(_1d6("opera")){return _1d6("opera")<10;}if(_1d6("chrome")){if(typeof window.externalHost!=="undefined"){return false;}return _1d6("chrome")<16;}return false;};if(_1dd()){var _1de=_1dc.handle;_1dc.handle=function(_1df){window.history.back();var _1e0=function(){_1de(_1df);};setTimeout(_1e0,50);};}_1dc.handleAs="json";var _1e1=_1dc.handle;delete _1dc.handle;var _1e2=_1d7("",_1dc);_1e2.always(function(json){if(!_1d6("ie")&&!_1d6("trident")){var _1e3=_1d7._frame;_1e3.parentNode.removeChild(_1e3);_1d7._frame=null;window[_1d7._iframeName]=null;}var _1e4;if(json instanceof Error){_1e4=new _1d4(json.message);_1d5.error(this.name+".send: An error occurred while uploading a file: the server did not respond");}else{if(json.type&&json.type==="exception"){_1e4=new _1d3(json.description);_1e4._type="exception";_1d5.error(this.name+".send: "+_1e4.message);}}if(_1e1){_1e1(_1e4);}});},download:function(_1e5){if(!this._iframe){var _1e6=this._iframe=document.createElement(_1da?"<iframe onload=\"mxui.io.iframe.onload()\">":"iframe");_1d8.set(_1e6,{top:"-10px",height:"1px",position:"absolute",visibility:"hidden"});document.body.appendChild(_1e6);if(!_1da){_1e6.onload=_1d9.hitch(this,"onload");}}this._error=_1e5.error;this._iframe.contentWindow.location=_1e5.url;},onload:function(){var _1e7=this._iframe,_1e8=this._error,doc=_1e7.contentDocument||_1e7.document,err=lang.getFileError(doc,this.name+".onload");if(err&&_1e8){_1e8(err);}delete this._error;}};return _1db;});},"dojo/request/iframe":function(){define(["module","require","./watch","./util","./handlers","../_base/lang","../io-query","../query","../has","../dom","../dom-construct","../_base/window","../NodeList-dom"],function(_1e9,_1ea,_1eb,util,_1ec,lang,_1ed,_1ee,has,dom,_1ef,win){var mid=_1e9.id.replace(/[\/\.\-]/g,"_"),_1f0=mid+"_onload";if(!win.global[_1f0]){win.global[_1f0]=function(){var dfd=_1f1._currentDfd;if(!dfd){_1f1._fireNextRequest();return;}var _1f2=dfd.response,_1f3=_1f2.options,_1f4=dom.byId(_1f3.form)||dfd._tmpForm;if(_1f4){var _1f5=dfd._contentToClean;for(var i=0;i<_1f5.length;i++){var key=_1f5[i];for(var j=0;j<_1f4.childNodes.length;j++){var _1f6=_1f4.childNodes[j];if(_1f6.name===key){_1ef.destroy(_1f6);break;}}}dfd._originalAction&&_1f4.setAttribute("action",dfd._originalAction);if(dfd._originalMethod){_1f4.setAttribute("method",dfd._originalMethod);_1f4.method=dfd._originalMethod;}if(dfd._originalTarget){_1f4.setAttribute("target",dfd._originalTarget);_1f4.target=dfd._originalTarget;}}if(dfd._tmpForm){_1ef.destroy(dfd._tmpForm);delete dfd._tmpForm;}dfd._finished=true;};}function _1f7(name,_1f8,uri){if(win.global[name]){return win.global[name];}if(win.global.frames[name]){return win.global.frames[name];}if(!uri){if(has("config-useXDomain")&&!has("config-dojoBlankHtmlUrl")){console.warn("dojo/request/iframe: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}uri=(has("config-dojoBlankHtmlUrl")||_1ea.toUrl("dojo/resources/blank.html"));}var _1f9=_1ef.place("<iframe id=\""+name+"\" name=\""+name+"\" src=\""+uri+"\" onload=\""+_1f8+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",win.body());win.global[name]=_1f9;return _1f9;};function _1fa(_1fb,src,_1fc){var _1fd=win.global.frames[_1fb.name];if(_1fd.contentWindow){_1fd=_1fd.contentWindow;}try{if(!_1fc){_1fd.location=src;}else{_1fd.location.replace(src);}}catch(e){}};function doc(_1fe){if(_1fe.contentDocument){return _1fe.contentDocument;}var name=_1fe.name;if(name){var _1ff=win.doc.getElementsByTagName("iframe");if(_1fe.document&&_1ff[name].contentWindow&&_1ff[name].contentWindow.document){return _1ff[name].contentWindow.document;}else{if(win.doc.frames[name]&&win.doc.frames[name].document){return win.doc.frames[name].document;}}}return null;};function _200(){return _1ef.create("form",{name:mid+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},win.body());};function _201(){var dfd;try{if(_1f1._currentDfd||!_1f1._dfdQueue.length){return;}do{dfd=_1f1._currentDfd=_1f1._dfdQueue.shift();}while(dfd&&(dfd.canceled||(dfd.isCanceled&&dfd.isCanceled()))&&_1f1._dfdQueue.length);if(!dfd||dfd.canceled||(dfd.isCanceled&&dfd.isCanceled())){_1f1._currentDfd=null;return;}var _202=dfd.response,_203=_202.options,c2c=dfd._contentToClean=[],_204=dom.byId(_203.form),_205=util.notify,data=_203.data||null,_206;if(!dfd._legacy&&_203.method==="POST"&&!_204){_204=dfd._tmpForm=_200();}else{if(_203.method==="GET"&&_204&&_202.url.indexOf("?")>-1){_206=_202.url.slice(_202.url.indexOf("?")+1);data=lang.mixin(_1ed.queryToObject(_206),data);}}if(_204){if(!dfd._legacy){var _207=_204;do{_207=_207.parentNode;}while(_207&&_207!==win.doc.documentElement);if(!_207){_204.style.position="absolute";_204.style.left="-1000px";_204.style.top="-1000px";win.body().appendChild(_204);}if(!_204.name){_204.name=mid+"_form";}}if(data){var _208=function(name,_209){_1ef.create("input",{type:"hidden",name:name,value:_209},_204);c2c.push(name);};for(var x in data){var val=data[x];if(lang.isArray(val)&&val.length>1){for(var i=0;i<val.length;i++){_208(x,val[i]);}}else{if(!_204[x]){_208(x,val);}else{_204[x].value=val;}}}}var _20a=_204.getAttributeNode("action"),_20b=_204.getAttributeNode("method"),_20c=_204.getAttributeNode("target");if(_202.url){dfd._originalAction=_20a?_20a.value:null;if(_20a){_20a.value=_202.url;}else{_204.setAttribute("action",_202.url);}}if(!dfd._legacy){dfd._originalMethod=_20b?_20b.value:null;if(_20b){_20b.value=_203.method;}else{_204.setAttribute("method",_203.method);}}else{if(!_20b||!_20b.value){if(_20b){_20b.value=_203.method;}else{_204.setAttribute("method",_203.method);}}}dfd._originalTarget=_20c?_20c.value:null;if(_20c){_20c.value=_1f1._iframeName;}else{_204.setAttribute("target",_1f1._iframeName);}_204.target=_1f1._iframeName;_205&&_205.emit("send",_202,dfd.promise.cancel);_1f1._notifyStart(_202);_204.submit();}else{var _20d="";if(_202.options.data){_20d=_202.options.data;if(typeof _20d!=="string"){_20d=_1ed.objectToQuery(_20d);}}var _20e=_202.url+(_202.url.indexOf("?")>-1?"&":"?")+_20d;_205&&_205.emit("send",_202,dfd.promise.cancel);_1f1._notifyStart(_202);_1f1.setSrc(_1f1._frame,_20e,true);}}catch(e){dfd.reject(e);}};function _20f(_210){return !this.isFulfilled();};function _211(_212){return !!this._finished;};function _213(_214,_215){if(!_215){try{var _216=_214.options,doc=_1f1.doc(_1f1._frame),_217=_216.handleAs;if(_217!=="html"){if(_217==="xml"){if(doc.documentElement.tagName.toLowerCase()==="html"){_1ee("a",doc.documentElement).orphan();var _218=doc.documentElement.innerText;_218=_218.replace(/>\s+</g,"><");_214.text=lang.trim(_218);}else{_214.data=doc;}}else{_214.text=doc.getElementsByTagName("textarea")[0].value;}_1ec(_214);}else{_214.data=doc;}}catch(e){_215=e;}}if(_215){this.reject(_215);}else{if(this._finished){this.resolve(_214);}else{this.reject(new Error("Invalid dojo/request/iframe request state"));}}};function last(_219){this._callNext();};var _21a={method:"POST"};function _1f1(url,_21b,_21c){var _21d=util.parseArgs(url,util.deepCreate(_21a,_21b),true);url=_21d.url;_21b=_21d.options;if(_21b.method!=="GET"&&_21b.method!=="POST"){throw new Error(_21b.method+" not supported by dojo/request/iframe");}if(!_1f1._frame){_1f1._frame=_1f1.create(_1f1._iframeName,_1f0+"();");}var dfd=util.deferred(_21d,null,_20f,_211,_213,last);dfd._callNext=function(){if(!this._calledNext){this._calledNext=true;_1f1._currentDfd=null;_1f1._fireNextRequest();}};dfd._legacy=_21c;_1f1._dfdQueue.push(dfd);_1f1._fireNextRequest();_1eb(dfd);return _21c?dfd:dfd.promise;};_1f1.create=_1f7;_1f1.doc=doc;_1f1.setSrc=_1fa;_1f1._iframeName=mid+"_IoIframe";_1f1._notifyStart=function(){};_1f1._dfdQueue=[];_1f1._currentDfd=null;_1f1._fireNextRequest=_201;util.addCommonMethods(_1f1,["GET","POST"]);return _1f1;});},"mendix/lib/ConnectionError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_21e,_21f){return _21f(_21e,{});});},"mendix/lib/NavigationError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_220,_221){return _221(_220,{});});},"mendix/lib/ValidationError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_222,_223){return _223(_222,{});});},"mendix/next/dataLayer":function(){define(["webcore/datasource/MicroflowSource","dojo/_base/Deferred","dojo/_base/array","exports"],function(_224,_225,_226,_227){_227.loadData=function(_228){var _229=new _225();switch(_228.type){case "microflow":var _22a=new _224({microflow:_228.microflowId});_22a.reload(function(){_229.resolve(_226.map(_22a.getObjects(),_227.toJson));});break;default:throw new Error("Unsupported dataSpec type: "+_228.type);}return _229.promise;};_227.release=function(_22b){window.mx.data.release(_226.map(_22b,function(obj){return {getGuid:function(){return obj._guid;}};}));};_227.toJson=function(_22c){return {_guid:_22c.getGuid()};};});},"mxui/exposed":function(){define(["mxui/wm/focus","mxui/html","mxui/html/parser","mxui/dom","mxui/lib/InputMask","mxui/widget","mxui/widget/_Widget","mxui/widget/_WidgetBase","mxui/widget/_Button","mxui/widget/_FormWidget","mxui/widget/Underlay","mxui/widget/Dialog","mxui/widget/DialogMessage","mxui/widget/Window","mxui/widget/LoginDialog","mxui/widget/Progress","mxui/widget/DataGrid","mxui/widget/TemplateGrid","mxui/widget/TabContainer","mxui/widget/TabContent","mxui/widget/ReferenceSetSelector","mxui/widget/BoolSelect","mxui/widget/RadioButtonGroup","mxui/widget/DatePicker","mxui/widget/DateInput","mxui/widget/EnumSelect","mxui/widget/NumberInput","mxui/widget/PasswordInput","mxui/widget/TextArea","mxui/widget/TextInput","mxui/widget/SearchInput","mxui/widget/Navbar","mxui/widget/NavigationTree","mxui/widget/HorizontalScrollContainer","mxui/widget/VerticalScrollContainer","mxui/widget/BorderContainer","mxui/widget/ActionButton","mxui/widget/BackButton","mxui/widget/CancelButton","mxui/widget/ConfirmationDialog","mxui/widget/LogoutButton","mxui/widget/SyncButton","mxui/widget/DropDownButton","mxui/widget/DropDownItem","mxui/widget/SaveButton","mxui/widget/SidebarToggleButton","mxui/widget/Button","mxui/widget/GroupBox","mxui/widget/DataView","mxui/widget/Title","mxui/widget/StaticImage","mxui/widget/Image","mxui/widget/ImageZoom","mxui/widget/LinkButton","mxui/widget/ListView","mxui/widget/MenuBar","mxui/widget/NavigationList","mxui/widget/NavigationListItem","mxui/widget/NewButton","mxui/widget/ReferenceSelector","mxui/widget/InputReferenceSetSelector","mxui/widget/FileInput","mxui/widget/ImageUploader","mxui/widget/SelectBox","mxui/widget/DynamicText","mxui/widget/ReactWidgetWrapper","mxui/mixin/_ValidationHelper","mxui/mixin/_Pluggable","mxui/mixin/_Contextable","mxui/mixin/_Scriptable","mxui/mixin/_Stateful","dojo/_base/lang"],function(_22d,_22e,_22f,_230,_231,_232,_233,_234,_235,_236,_237,_238,_239,_23a,_23b,_23c,_23d,_23e,_23f,_240,_241,_242,_243,_244,_245,_246,_247,_248,_249,_24a,_24b,_24c,_24d,_24e,_24f,_250,_251,_252,_253,_254,_255,_256,_257,_258,_259,_25a,_25b,_25c,_25d,_25e,_25f,_260,_261,_262,_263,_264,_265,_266,_267,_268,_269,_26a,_26b,_26c,_26d,_26e,_26f,_270,_271,_272,_273,_274){window.mxui={html:_274.mixin(_22e,{parser:_22f}),dom:_230,wm:{focus:_22d},lib:{InputMask:_231},widget:_274.mixin(_232,{_Widget:_233,_WidgetBase:_234,_Button:_235,_FormWidget:_236,Underlay:_237,Dialog:_238,DialogMessage:_239,Window:_23a,LoginDialog:_23b,Progress:_23c,DataGrid:_23d,TemplateGrid:_23e,TabContainer:_23f,TabContent:_240,ReferenceSetSelector:_241,BoolSelect:_242,RadioButtonGroup:_243,DatePicker:_244,DateInput:_245,EnumSelect:_246,NumberInput:_247,PasswordInput:_248,TextArea:_249,TextInput:_24a,SearchInput:_24b,Navbar:_24c,NavigationTree:_24d,HorizontalScrollContainer:_24e,VerticalScrollContainer:_24f,BorderContainer:_250,ActionButton:_251,BackButton:_252,CancelButton:_253,ConfirmationDialog:_254,LogoutButton:_255,SyncButton:_256,DropDownButton:_257,DropDownItem:_258,SaveButton:_259,SidebarToggleButton:_25a,Button:_25b,GroupBox:_25c,DataView:_25d,Title:_25e,StaticImage:_25f,Image:_260,ImageZoom:_261,LinkButton:_262,ListView:_263,MenuBar:_264,NavigationList:_265,NavigationListItem:_266,NewButton:_267,ReferenceSelector:_268,InputReferenceSetSelector:_269,FileInput:_26a,ImageUploader:_26b,SelectBox:_26c,DynamicText:_26d,ReactWidgetWrapper:_26e}),mixin:{_ValidationHelper:_26f,_Pluggable:_270,_Contextable:_271,_Scriptable:_272,_Stateful:_273}};});},"mxui/wm/focus":function(){define(["mxui/wm/_FocusBox","mxui/wm/_FocusStack","mxui/dom","dojo/keys","dojo/_base/connect","dojo/has","dojo/aspect","dojo/ready","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/_base/declare","dijit/focus","dijit/_base/focus","dijit/registry","exports"],function(_275,_276,dom,_277,_278,_279,_27a,_27b,_27c,_27d,_27e,_27f,_280,_281,_282,_283){_283.getFocusIndex=function(node){var _284=dom.getTabIndex(node);return _284>=0?_284:null;};_283.name="mxui.wm.focus";_283.state={};_283.registry={};_283.start=function(){if(this._started){return;}this._started=true;_278.connect(window.document,"onkeypress",_27e.hitch(this,"onkeypress"));_278.connect(window.document,"onkeydown",_27e.hitch(this,"keydownpatch"));_27a.after(_280,"_onFocusNode",_27e.hitch(this,"onfocus"),true);_27a.after(_280,"_onBlurNode",_27e.hitch(this,"_onBlurNode"),true);_278.connect(document,"onmousedown",_27e.hitch(this,"_onBlur"));var _285=this.state;this.timer_clear=function(){_285._timer=null;_285._shift=false;};};_283.get=function(){var f=_281.getFocus();return f.node&&!dom.isOrphan(f.node)?f.node:null;};_283.put=function(node){if(!node||node.nodeType!=1){return false;}if(_279("ie")){try{document.selection.empty();}catch(e){}}setTimeout(function(){try{node.focus();}catch(e){}var _286=node.nodeName.toLowerCase();if((_286=="input"&&node.type=="text")||_286=="textarea"){if(node.select){node.select();}}},0);};_283.restore=function(){var _287=_281.getFocus();if(_287.node){var node=_287.node;var _288=this._getStack(node);var _289=_288._curr;node=_289?this._tryNode(_289,"next"):null;if(node){this.put(node);}}};_283.first=function(node){this.put(this._getFirst(node,"next"));};_283.next=function(node){this.put(this._getNextNode(node,false));};_283.blur=function(){var _28a=this.get();if(_28a){_28a.blur();}};_283._onBlur=function(e){this.state_clear();this._clickedNode=e.target;};_283._ontab=function(){this.timer_clear();var box=null;if(box){}else{this.state_clear();}};_283.onfocus=function(node){if(_279("ie")){if(!dom.getTabIndex(node)){return;}}if(node.nodeType!=1){return;}var _28b=this.state;_28b.active=node;if(_28b._timer){this._ontab(node);}else{_27c.add(node,"mx-focus");}};_283._onBlurNode=function(node){_27c.remove(node,"mx-focus");};_283.state_clear=function(){var _28c=this.state;_28c.node=null;_28c.box=null;};_283.timer_clear=function(){};_283.next=function(){var _28d=this.state;if(_28d.active&&_28d.active.nodeType==1){var _28e=_28d.active;var _28f=this.byNode(_28e);if(_28f){var next=this._getNextNode(_28e);if(next){this.put(next);}else{}}}};_283.keydownpatch=function(e){if(e.keyCode==_277.UP_ARROW||e.keyCode==_277.DOWN_ARROW){var _290=this.state;this.onkeypress(e);_290._patch_inWork=true;setTimeout(function(){_290._patch_inWork=null;},10);}};_283.onkeypress=function(e){var _291=this.state;if(_291._patch_inWork){return;}var _292=e.shiftKey;var _293=e.target;if(e.keyCode===_277.TAB){if(_293.nodeName.toLowerCase()=="html"){if(this._clickedNode){_293=this._clickedNode;}else{return;}}var next=this._getNextNode(_293,_292);if(next){this.put(next);}_27d.stop(e);}else{var box=this.byNode(_293);if(box){var _294=_293,nn=null;do{if(box.onFocusPress&&!box.onFocusPress(e,_294)){_27d.stop(e);break;}var _295=box.domNode;_294=_295;nn=_295.parentNode;}while(nn&&(box=this.byNode(nn))!=null);}}};_283._getStack=function(_296,box){box=(box||this.byNode(_296));if(box.getFocusStack){try{return box.getFocusStack(_296);}catch(e){var _297=_276.create();_297.box=box;return _297;}}return _276.buildStack(_296,box);};_283._getFirst=function(node,dir,_298){if(this.isBox(node)){var _299=_298||this._getStack(node);if(_299.length===0){if(_283.getFocusIndex(node)){return node;}return null;}var _29a=_299[dir=="next"?"first":"last"];return _29a?this._tryNode(_29a,dir):null;}return node;};_283._tryNode=function(_29b,dir){var node=_29b.node;if(this.isBox(node)){var _29c=this._getFirst(node,dir);if(_29c){return _29c;}else{return this._doNext(_29b,dir);}}return node;};_283._doNext=function(_29d,dir){if(!_29d){return null;}var _29e=_29d[dir];if(!_29e){return null;}return this._tryNode(_29e,dir);};_283._getNextNode=function(node,_29f){var box=null,_2a0=null,dir=!_29f?"next":"prev";if(this.isBox(node)){box=this.byNode(node.parentNode);}else{box=this.byNode(node);}if(!box){return null;}var _2a1=this._getStack(node,box),next=this._doNext(_2a1.find(node),dir);if(!next){_2a0=_2a1.box.domNode;if(this.cyclic(_2a0)){return this._getFirst(_2a0,dir,_2a1);}else{next=this._getNextNode(box.domNode,_29f);if(!next){}}}return next;};_283.skip=function(node,_2a2){if(node&&node.setAttribute){if(arguments.length==2){_2a2=!!_2a2;node.setAttribute("focusNoSkip",_2a2);return _2a2;}var _2a3=/true/.test(node.getAttribute("focusNoSkip"));return _2a3?!_2a3:node.readOnly;}return true;};_283.focusable=function(node){if(!node||node.nodeType!=1||node.disabled||_283.skip(node)){return false;}var _2a4=node.style;if(_2a4.display=="none"||_2a4.visibility=="hidden"){return false;}if(node.offsetWidth===0&&node.offsetHeight===0){return 0;}return true;};_283.cyclic=function(node,_2a5){if(node&&node.setAttribute){if(arguments.length==2){var s=/true/.test(_2a5);node.setAttribute("focusCycle",s);return s;}return /true/.test(node.getAttribute("focusCycle"));}return false;};_283.focusIndex=function(node,_2a6){if(node&&node.getAttribute){if(arguments.length==2){node.setAttribute("focusIndex",_2a6);return _2a6;}return node.getAttribute("focusIndex");}return null;};_283.addBox=function(node){var box=new _275(node);this.register(box);return box;};_283.removeBox=function(node){var box=this.byNode(node);if(box){this.unregister(box);return true;}return false;};_283.isBox=function(node){if(node&&node.getAttribute){var fi=this.focusIndex(node);if(_282.byNode(node)){return fi!=-2?true:false;}else{if(fi){return true;}}return !!(node.getAttribute("focus-id"));}return false;};_283.byNode=function(node){var fi,id,w;do{if(node&&node.getAttribute){fi=this.focusIndex(node);if(fi==-2){continue;}w=_282.byNode(node);if(w){return w;}id=node.getAttribute("focus-id");if(id){return this.byId(id);}if(fi){return {domNode:node};}}}while(node&&(node=node.parentNode));return null;};_283.byId=function(_2a7){return this.registry[_2a7];};_283.register=function(box){var id=box.id;if(this.registry[id]){return false;}else{this.registry[id]=box;return true;}};_283.unregister=function(box){if(this.registry[box.id]){box.domNode.removeAttribute("focus-id");delete this.registry[box.id];box.destroy();}};_27b(function(){_283.start();});});},"mxui/wm/_FocusBox":function(){define(["mxui/dom","mxui/wm/_FocusStack","mxui/wm/focus","mendix/lang","dojo/keys","dojo/_base/connect","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(dom,_2a8,_2a9,lang,_2aa,_2ab,_2ac,_2ad,_2ae){var _2af={getFocusStack:function(){var _2b0=_2a8.create();_2b0.box=this;var _2b1=null;var _2b2=null;var _2b3=false;var _2b4=this.nodes;for(var i=0,l=_2b4.length;i<l;i++){var node=_2b4[i].node;var tab=_2a9.getFocusIndex(node);var vi=_2a9.focusable(node);if(tab){if(vi){_2b1=node;break;}else{_2b3=true;node.tabIndex=-1;}}else{if(vi){if(_2b3){_2b1=node;_2b1.tabIndex=1;break;}_2b2=node;}}}if(!_2b1){_2b1=_2b2;_2b1&&(_2b1.tabIndex=1);}if(_2b1){_2b0.push(_2b1);_2b0.last=_2b0.first=_2b0._curr={prev:null,next:null,node:_2b1,stack:_2b0};}return _2b0;},_onmousedown:function(e){var _2b5=e.target;if(_2b5.nodeName.toLowerCase()=="option"){_2b5=_2b5.parentNode;}var node=_2b5;var s=null;var _2b6=this.domNode;do{s=dom.data(node,"box-node");if(s&&s.box==this){break;}}while((node!=null)&&(node!=_2b6)&&(node=node.parentNode)!=null);if(s){var _2b7=dom.getTabIndex(_2b5);this._focus(s.node,_2b7!=null);}},_focus:function(_2b8,_2b9){var _2ba=this.getFocusStack();var _2bb=_2ba._curr;if(_2bb){_2bb.node.tabIndex=-1;}_2b8.tabIndex=1;_2b8=_2a9._tryNode({node:_2b8,stack:_2ba},"next");if(!_2b9){_2a9.put(_2b8);}},next:function(_2bc,dir){var data=dom.data(_2bc,"box-node");if(data){var _2bd=this._getNextNode(data,dir);if(_2bd){var next=_2bd.node;next.tabIndex=0;_2bc.tabIndex=-1;return next;}}else{}return null;},_getNextNode:function(_2be,dir){if(!_2be){return null;}var data=_2be;while((data=data[dir])!=null){var node=data.node;if(_2a9.focusable(node)){return data;}}return null;}};var _2bf=_2ae(null,{declaredClass:"mxui.wm.focus.Box",id:null,domNode:null,nested:false,FOCUS_NEXT:"FOCUS_NEXT",FOCUS_PREV:"FOCUS_PREV",constructor:function(node){this.id=lang.getUniqueId();this.domNode=node;this.nodes=[];this.keys={};this.handlers={};node.setAttribute("focus-id",this.id);},add:function(node){var s=dom.data(node,"box-node",{box:this,next:null,prev:null,node:node});var _2c0=this.nodes.length;if(_2c0!=0){var prev=this.nodes[_2c0-1];s.prev=prev;prev.next=s;node.tabIndex=-1;}else{node.tabIndex=0;}if(!this.converted){this.converted=true;_2ad.mixin(this,_2af);this._boxhandler=_2ab.connect(this.domNode,"onmousedown",_2ad.hitch(this,"_onmousedown"));}this.nodes.push(s);},pressed:function(_2c1,_2c2){var keys=this.keys;var hs=this.handlers;for(var key in _2c1){var code=_2aa[key]||key;var fnc=_2c1[key];if(fnc==this.FOCUS_NEXT){keys[code]="next";}else{if(fnc==this.FOCUS_PREV){keys[code]="prev";}else{if(typeof fnc=="string"){fnc=_2c2[fnc];}if(typeof fnc!="function"){logger.error(this.id+".pressed: Passed stuff is not a function: "+key);}else{if(hs[code]){}hs[code]=[_2c2,fnc];}}}}},destroy:function(){if(!this._destroyed){var _2c3=this.nodes;for(var i=0,l=_2c3.length;i<l;i++){var node=_2c3[i].node;dom.data(node,"box-node",null);}this.nodes=null;this.keys=null;this.handlers=null;this._boxhandler&&this._boxhandler.remove();this._destroyed=true;}},getHandler:function(e){var code=typeof (e.charOrCode)!="undefined"?e.charOrCode:e.keyCode;return this.handlers[(code==" ")?_2aa.SPACE:code];},getFocusDirection:function(e){var nav=this.domNode.getAttribute("focuskeys");if(nav){var up,lr;if(nav=="up-down"){if(e.keyCode==_2aa.UP_ARROW){up="prev";}else{if(e.keyCode==_2aa.DOWN_ARROW){up="next";}}}if(nav=="left-right"){if(e.keyCode==_2aa.LEFT_ARROW){lr="prev";}else{if(e.keyCode==_2aa.RIGHT_ARROW){lr="next";}}}return up||lr;}else{var code=typeof (e.charOrCode)!="undefined"?e.charOrCode:e.keyCode;code=(code==" ")?_2aa.SPACE:code;var key=this.keys[code];if(key){return key;}}return null;},onFocusPress:function(e,_2c4){var dir=this.getFocusDirection(e);if(e.altKey||e.shiftKey||e.ctrlKey){return true;}if(dir){var data=dom.data(_2c4,"box-node");if(data){var next=this.next(_2c4,dir);if(next){_2a9.put(next);return false;}_2ac.stop(e);}else{}}else{var h=this.getHandler(e);if(h){try{return h[1].call(h[0],e,_2c4);}catch(error){logger.error(this.id+".onFocusPress: Error when executing handler: "+error.message);return true;}}}return true;},next:function(_2c5,dir){var _2c6=_2a9._getStack(_2c5,this);var next=_2a9._doNext(_2c6.find(_2c5),dir);return next;}});return _2bf;});},"mxui/dom":function(){define(["mxui/wm/focus","mendix/lang","webcore/url-helpers","dojo/sniff","dojo/_base/lang","dojo/_base/kernel","dojo/_base/connect","dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/window","mendix/logger"],function(_2c7,lang,_2c8,_2c9,_2ca,_2cb,_2cc,_2cd,_2ce,_2cf,_2d0,_2d1,_2d2){var _2d3=0,_2d4=document.createElement("p");function _2d5(_2d6){_2d6=_2d6||{};var _2d7=function(id,node){if(!id){id=_2d3++;node.setAttribute("data-id",id);}return id;};return function(node,key,_2d8){var id=typeof node==="string"?node:node.getAttribute("data-id"),map=_2d6[id];switch(arguments.length){case 1:return map;case 2:if(key===null){delete _2d6[id];return;}else{if(typeof key=="object"){if(!map){return _2d6[_2d7(id,node)]=key;}else{return _2ca.mixin(map,key);}}else{return map&&map[key];}}break;case 3:if(_2d8===null){if(map){delete map[key];}if(lang.objectIsEmpty(map)){return;}delete _2d6[id];return;}else{if(!map){map=_2d6[_2d7(id,node)]={};}return map[key]=_2d8;}}};};var dom={minContainerHeight:100,nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},walkNode:function(root,_2d9,_2da){var _2db=[0],_2dc;var _2dd=function(node){try{_2dc=node?_2d9.call(_2da,node,_2db.slice())!==false:false;}catch(e){_2d2.error("mxui.dom.walkNode: Unable to execute action on node: "+e.message);_2dc=false;}if(_2dc&&node.hasChildNodes){var i=_2db.push(0)-1;var _2de=null,_2df=node.firstChild;while(_2df){_2df=(_2de=_2df).nextSibling;_2dd(_2de);_2db[i]++;}_2db.pop();}};_2dd(root);},nextNode:function(_2e0,_2e1){if(!_2e0||!_2e1){return true;}var cl=_2e1.length,sl=_2e0.length,_2e2=_2e1.length-1;return (sl>cl)||(cl==sl&&_2e1[_2e2]>_2e0[_2e2]);},getAncestorNode:function(node,name,_2e3){return node&&((node.nodeName==name)?node:((--_2e3===0)?false:arguments.callee(node.parentNode,name,_2e3)));},findOverflowParent:function(node){while(node=node.parentNode){if(node===document.body){break;}var _2e4=_2d0.get(node,"overflow");if(_2e4==="auto"||_2e4==="scroll"){return node;}}return document.documentElement.scrollTop>0?document.documentElement:document.body;},scrollOverflowParentTo:function(node,to){var _2e5=dom.findOverflowParent(node);if(_2e5){_2e5.scrollTop=to;}},getElementsByTagNameNoNS:function(doc,_2e6){if(doc.getElementsByTagNameNS){return doc.getElementsByTagNameNS("*",_2e6);}else{if("selectNodes" in doc){doc.setProperty("SelectionLanguage","XPath");return doc.selectNodes("//*[local-name() = '"+_2e6+"']");}else{throw new Error("mxui.dom.getElementsByTagNameNoNS not supported");}}},escapeHTMLQuotes:function(str){return str.replace(/'/g,"&#39;").replace(/\"/g,"&#34;");},convertNlToBr:function(str){return str.replace(/\n/g,"<br />");},setSelectOptions:function(node,_2e7,_2e8){var $=dom.create;if(!node){return;}_2e7=_2e7||{};dom.empty(node);node.appendChild($("option",{value:""},""));for(var key in _2e7){var _2e9=$("option",{value:key},_2e7[key]);node.appendChild(_2e9);if(key==_2e8){_2e9.selected=true;}}},getSelectedValue:function(node){if(node.nodeName.toLowerCase()=="select"){return (node.selectedIndex!=-1)?node.options[node.selectedIndex].value:null;}else{return null;}},getSelectedText:function(node){return node.options[node.selectedIndex].text;},selectOptionByValue:function(node,_2ea){for(var i=0;i<node.length;++i){if(node.options[i].value==_2ea){node.options[i].selected=true;}}},selectOptionByText:function(node,text){for(var i=0;i<node.length;++i){if(node.options[i].text==text){node.options[i].selected=true;}}},enableNode:function(node){node.removeAttribute("readonly");node.removeAttribute("disabled");},disableNode:function(node){node.setAttribute("disabled","disabled");node.setAttribute("readonly","readonly");},disableSelection:function(e){if(!_2c9("ie")){e.style.MozUserSelect="none";}else{e.unselectable="on";}return true;},clearSelection:function(){var w=window,s=document.selection;if(s){try{if(s.empty){s.empty();}}catch(e){}}else{s=w.getSelection&&w.getSelection();if(s&&s.removeAllRanges){s.removeAllRanges();}}},selectTextRange:function(_2eb,_2ec,_2ed){if(_2eb.createTextRange){var _2ee=_2eb.createTextRange();_2ee.collapse(true);_2ee.moveEnd("character",_2ed);_2ee.moveStart("character",_2ec);_2ee.select();}else{if(_2eb.setSelectionRange){_2eb.setSelectionRange(_2ec,_2ed);}}},getCursorPosition:function(_2ef){if(document.selection){var _2f0=Math.abs(document.selection.createRange().moveStart("character",-1000000));document.selection.createRange().moveEnd("character",-1000000);return _2f0;}else{if(_2ef.setSelectionRange){return _2ef.selectionStart;}}},getSelection:function(_2f1){if(document.selection){var _2f2=Math.abs(document.selection.createRange().moveStart("character",-1000000));var end=Math.abs(document.selection.createRange().moveEnd("character",-1000000));return {start:_2f2,end:end};}else{if(_2f1.setSelectionRange){return {start:_2f1.selectionStart,end:_2f1.selectionEnd};}}},insertAtCaret:function(_2f3,text){var _2f4=this.getSelection(_2f3),_2f5=_2f4.start+text.length,_2f6=_2f3.value;_2f3.value=_2f6.substring(0,_2f4.start)+text+_2f6.substring(_2f4.end,_2f6.length);this.selectTextRange(_2f3,_2f5,_2f5);},liveConnect:function(node,evt,_2f7,r,_2f8){if(arguments.length==3){r=_2f7;_2f7=null;}var tags={},_2f9=[];for(var i in r){var _2fa=i.split(".");var tag=_2fa[0];var _2fb=_2fa[1];var item=r[i];if((typeof item=="string"&&_2f7[item])||typeof item=="function"){var _2fc={fnc:item};if(tag){tags[String(tag).toUpperCase()]=_2fc;}else{if(_2fb){_2f9.push(_2fc);}}if(_2fb){_2fc.clazz=_2fb;}}}var _2fd=function(node){for(var i=0,item;item=_2f9[i];i++){if(_2ce.contains(node,item.clazz)){return item;}}return null;};var run=function(fnc,e){if(typeof (fnc)=="function"){fnc(e);}else{if(_2f7&&_2f7[fnc]){_2f7[fnc](e);}}};return _2cc.connect(node,evt,function(e){var _2fe=e.target;var _2ff=node;var e2={target:e.target};for(var i in e){var val=e[i];if(val==null||!(val instanceof Object)){e2[i]=val;}}while(_2fe!=_2ff&&_2fe!=null){var _300=tags[_2fe.nodeName];var _301=_2fd(_2fe);if(_300){var _302=_300.clazz;_300=((!_302)||(_2ce.contains(_2fe,_302)))?_300:null;}e2.currentTarget=_2fe;if(_300){run(_300.fnc,e2);}if(_301){run(_301.fnc,e2);}if(_2f8&&(_300||_301)){break;}_2fe=_2fe.parentNode;}});},liveDisconnect:function(_303){_2cc.disconnect(_303);},create:function(_304,_305,_306){var elem,args=[].slice.call(arguments,1);_305=_305||{};if(_305.nodeName||typeof _305=="string"){_306=args;_305={};}else{_306=args.slice(1);}if(_304=="#"){elem=document.createDocumentFragment();}else{elem=document.createElement(_304);for(var attr in _305){var _307=_305[attr];if(attr=="style"&&typeof _307!="string"){var _308=elem.style;for(var i in _307){_308[i]=_307[i];}}else{elem.setAttribute(attr,_307);}}}_2cd.forEach(_306,function(_309){if(typeof _309=="string"){_2cd.forEach(_309.split("\r\n"),function(line,i){if(i>0){elem.appendChild(dom.create("br"));}elem.appendChild(document.createTextNode(line));});}else{elem.appendChild(_309);}});return elem;},synthesizeEvent:function(evt,_30a){var faux=_2ca.mixin({},evt,_30a);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;},capture:function(_30b,evt,_30c){var _30d=!_30b.addEventListener,_30e=_30b[_30d?"attachEvent":"addEventListener"],_30f=_30b[_30d?"detachEvent":"removeEventListener"],_310=_30d?"on"+evt:evt;_30e.call(_30b,_310,_30c,true);return {remove:function(){_30f.call(_30b,_310,_30c,true);}};},supports:function(prop){var _311=document.body.style;if(prop in _311){return prop;}},text:function(node,str){if(typeof str!=="undefined"){node.innerHTML="";node.appendChild(document.createTextNode(str));}else{return "textContent" in node?node.textContent:node.innerText;}},html:function(node,str){if(typeof str!=="undefined"){node.innerHTML=str;}else{return node.innerHTML;}},orphan:function(node){var p=node.parentNode;if(p){p.removeChild(node);}},isOrphan:function(node){return !node.parentNode||node.parentNode.nodeType==dom.nodeTypes.DOCUMENT_FRAGMENT_NODE;},empty:function(node){var _312;while(_312=node.firstChild){node.removeChild(_312);}},toArray:function(_313){return _2cd.map(_313,function(_314){return _314;});},escapeString:function(str){var _315=str.split(/\r\n|\n/),out=[];for(var i=0;i<_315.length;++i){dom.text(_2d4,_315[i]);out.push(_2d4.innerHTML);}return out.join("\n");},unescapeString:function(str){return str.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,"\"").replace(/&amp;/g,"&");},getCss:function(path,doc){doc=doc||document;path=_2c8.getStaticResourceUrl(path);return lang.find(doc.getElementsByTagName("link"),function(node){return node.href==path;});},createCssLink:function(path,_316){var _317={rel:"stylesheet",href:_2c8.getStaticResourceUrl(path)};if(_316){_317.media=_316;}return dom.create("link",_317);},addCss:function(path,doc,_318){doc=doc||document;var link=dom.getCss(path,doc);if(link){return link;}var node=dom.createCssLink(path,_318);doc.querySelector("head").appendChild(node);return node;},removeCss:function(_319,doc){var file=dom.getCss(_319,doc);if(file){file.parentNode.removeChild(file);return true;}return false;},ieFocusable:{"a":true,"body":true,"button":true,"frame":true,"iframe":true,"input":true,"isIndex":true,"object":true,"select":true,"textarea":true},getTabIndex:function(node){if(!node||!node.getAttribute){return null;}var _31a;if(_2c9("ie")||_2c9("trident")||_2c9("edge")){_31a=node.tabIndex;if(_31a===0){var _31b=node.nodeName.toLowerCase(),_31c=node.attributes.tabIndex,_31d=_31c&&_31c.specified===true;return _31d||dom.ieFocusable[_31b]?"0":null;}else{return ""+_31a;}}else{var _31e=node.getAttribute("tabindex");_31a=String(node.tabIndex);if(_31e!=null||_31a>=0){if(!_2c9("ff")){return (_31e==="")?null:_31a;}else{return _31a;}}else{return null;}}},moveFocusTo:function(node){if(_2c9("mobile")){_2c7.blur();}else{_2c7.first(node);}},data:_2d5(),getScopedData:_2d5,moveIntoView:function(node,_31f){_31f=_31f||0;var pos=_2cf.position(node),_320=_2d1.getBox(),_321=node.style,_322=pos.y+pos.h+_31f,_323=pos.x+pos.w+_31f;if(pos.y<_31f||pos.h+_31f*2>_320.h){_321.top=_31f+"px";}else{if(_322>_320.h){_321.top=pos.y-(_322-_320.h)+"px";}}if(pos.x<_31f||pos.w+_31f*2>_320.w){_321.left=_31f+"px";}else{if(_323>_320.w){_321.left=pos.x-(_323-_320.w)+"px";}}},getNodeExtents:function(node){var cs=_2d0.getComputedStyle(node),me=_2cf.getMarginExtents(node,cs),be=_2cf.getBorderExtents(node,cs),pe=_2cf.getPadExtents(node,cs);return {w:me.w+be.w+pe.w,h:me.h+be.h+pe.h};},dispatchEvent:function(node,_324){if("createEvent" in document){var evt=document.createEvent("HTMLEvents");evt.initEvent(_324.substr(2,_324.length),true,true);node.dispatchEvent(evt);}else{if(node.fireEvent){node.fireEvent([_324]);}}}};return dom;});},"webcore/url-helpers":function(){define(["mendix/lang"],function(lang){var _325={};_325.getAbsoluteUrl=function(_326){return mx.appUrl+_326;};_325.getStaticResourceUrlFromPath=function(path){return _325.getAbsoluteUrl(path);};_325.getStaticResourceUrl=function(url){if(!/^\w+:\/\//.test(url)){url=_325.getStaticResourceUrlFromPath(url);}var _327=mx.server.getCacheBust();if(lang.startsWith(url,mx.appUrl)&&!lang.endsWith(url,_327)){url+=(/\?/.test(url)?"&":"?")+_327;}return url;};_325.getDynamicResourceUrl=function(guid,_328,_329){var url=mx.appUrl+"file?"+["guid="+guid,"changedDate="+_328].join("&");if(_329){url+="&thumb=true";}return url;};return _325;});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_32a,dom,geom,_32b,_32c){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_32a.body(doc),_32d=_32c.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_32c.create("div",{style:{overflow:"hidden",direction:"ltr"}},_32d,"last"),ret=geom.position(div).x!=0;_32d.removeChild(div);body.removeChild(_32d);return ret;});has.add("position-fixed-support",function(win,doc){var body=_32a.body(doc),_32e=_32c.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_32f=_32c.create("span",{style:{position:"fixed",left:"0",top:"0"}},_32e,"last"),ret=geom.position(_32f).x!=geom.position(_32e).x;_32e.removeChild(_32f);body.removeChild(_32e);return ret;});var _330={getBox:function(doc){doc=doc||_32a.doc;var _331=(doc.compatMode=="BackCompat")?_32a.body(doc):doc.documentElement,_332=geom.docScroll(doc),w,h;if(has("touch")){var _333=_330.get(doc);w=_333.innerWidth||_331.clientWidth;h=_333.innerHeight||_331.clientHeight;}else{w=_331.clientWidth;h=_331.clientHeight;}return {l:_332.x,t:_332.y,w:w,h:h};},get:function(doc){if(has("ie")&&_330!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_32a.doc,body=_32a.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera")||has("trident"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _334=doc.compatMode=="BackCompat",_335=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_336=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_337=(isWK||_334)?body:html,_338=pos||geom.position(node),el=node.parentNode,_339=function(el){return (isIE<=6||(isIE==7&&_334))?false:(has("position-fixed-support")&&(_32b.get(el,"position").toLowerCase()=="fixed"));},self=this,_33a=function(el,x,y){if(el.tagName=="BODY"||el.tagName=="HTML"){self.get(el.ownerDocument).scrollBy(x,y);}else{x&&(el.scrollLeft+=x);y&&(el.scrollTop+=y);}};if(_339(node)){return;}while(el){if(el==body){el=_337;}var _33b=geom.position(el),_33c=_339(el),rtl=_32b.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_337){_33b.w=_335;_33b.h=_336;if(_337==html&&(isIE||has("trident"))&&rtl){_33b.x+=_337.offsetWidth-_33b.w;}if(_33b.x<0||!isIE||isIE>=9||has("trident")){_33b.x=0;}if(_33b.y<0||!isIE||isIE>=9||has("trident")){_33b.y=0;}}else{var pb=geom.getPadBorderExtents(el);_33b.w-=pb.w;_33b.h-=pb.h;_33b.x+=pb.l;_33b.y+=pb.t;var _33d=el.clientWidth,_33e=_33b.w-_33d;if(_33d>0&&_33e>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_33b.x+=_33e;}_33b.w=_33d;}_33d=el.clientHeight;_33e=_33b.h-_33d;if(_33d>0&&_33e>0){_33b.h=_33d;}}if(_33c){if(_33b.y<0){_33b.h+=_33b.y;_33b.y=0;}if(_33b.x<0){_33b.w+=_33b.x;_33b.x=0;}if(_33b.y+_33b.h>_336){_33b.h=_336-_33b.y;}if(_33b.x+_33b.w>_335){_33b.w=_335-_33b.x;}}var l=_338.x-_33b.x,t=_338.y-_33b.y,r=l+_338.w-_33b.w,bot=t+_338.h-_33b.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_337||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_334)||isIE>=9||has("trident"))){s=-s;}old=el.scrollLeft;_33a(el,s,0);s=el.scrollLeft-old;_338.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_337||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;_33a(el,0,s);s=el.scrollTop-old;_338.y-=s;}el=(el!=_337)&&!_33c&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_330);return _330;});},"mxui/wm/_FocusStack":function(){define(["mxui/dom","mxui/wm/focus"],function(dom,_33f){var _340={create:function(){var _341=[];_341.find=this.find;_341.each=this.each;_341.box=null;_341.last=null;_341.first=null;_341.f_first=null;_341.f_last=null;return _341;},buildStack:function(_342,box){var _343=null;var _344=null;var _345=null;var _346=null;var _347=null;var _348=this.create();_348.box=box=(box||_33f.byNode(_342));var _349=_342==box.domNode;var ni=_349?"0":dom.getTabIndex(_342);var _34a=box.domNode;var _34b=null;var _34c=null;var _34d=null;var _34e=null;if(!_349&&!_33f.focusable(_342)){_34b=_342;while((_34b=_34b.parentNode)!=null){var vi=_33f.focusable(_34b);if(vi||_34b==_34a){_34c=_34d;break;}_34d=_34b;}}dom.walkNode(_34a,function(node,_34f){if(node==_34a){return true;}var one=(node==_342);if(!one){var vi=_33f.focusable(node);if(!vi){if(_34c){if(_34e){if(dom.nextNode(_34e,_34f)){_34e=false;}else{return true;}}else{if(node==_34c){_34e=_34f;return true;}}}return vi===0;}}var _350=this.isBox(node);var ci=_33f.getFocusIndex(node);if(!ci&&_350){if(dom.getTabIndex(node)<0){return false;}ci=node.getAttribute("focusIndex")||"0";}if(one||ci){var item={node:node,stack:_348,next:null,prev:null};if(ni==-1){if(_345){if(_346==null||(_346>ci)){_346=ci;_347=item;}}else{if(one){_345=true;}}}if(ci){if(!_343){_343=item;}_344=item;var _351=_348[ci];if(!_351){_351=_348[ci]=[];}_351.push(item);}else{_348._curr=item;}return false;}},_33f);if(ni==-1){var curr=_348._curr;if(curr){curr.prev=curr.next=_347;}}_348.each(function(node,_352){if(!this.first){this.first=_352;}var prev=_352.prev=this.last;if(prev){prev.next=_352;}this.last=_352;if(_342==node){this._curr=_352;}},null,_348);_348.f_first=_343;_348.f_last=_344;return _348;},each:function(fnc,_353,_354){if(_353=="prev"){var i=this.length;while(0<=--i){var _355=this[i];var l=_355&&_355.length;if(l){for(var c=l-1;0<=c;c--){var stop=fnc.call(_354,_355[c].node,_355[c],i);if(stop!=null){return stop;}}}}}else{var i=-1;while(++i<this.length){var _355=this[i];var l=_355&&_355.length;if(l){for(var c=0;c<l;c++){var stop=fnc.call(_354,_355[c].node,_355[c],i);if(stop!=null){return stop;}}}}}return null;},find:function(_356){if(this._curr&&this._curr.node==_356){return this._curr;}var ni=dom.getTabIndex(_356)||"0";if(ni!=-1){var i=ni;do{var _357=this[i];if(_357){for(var c=0,l=_357.length;c<l;c++){var n=_357[c];if(n.node==_356){return n;}}}}while(++i<this.length);}var _358=null;var _359=this.box.domNode;var node=_356;while((node=node.parentNode)!=null&&node!=_359){if(!_33f.focusable(node)){continue;}if(_33f.getFocusIndex(node)){_358=node;}}return _358?this.find(_358):null;}};return _340;});},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_35a,_35b,dom,_35c,_35d,_35e,_35f,lang,on,_360,has,_361,win,_362,a11y,_363,_364){var _365;var _366;var _367=_35b([_361,_35f],{curNode:null,activeStack:[],constructor:function(){var _368=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_35a.before(_35e,"empty",_368);_35a.before(_35e,"destroy",_368);},registerIframe:function(_369){return this.registerWin(_369.contentWindow,_369);},registerWin:function(_36a,_36b){var _36c=this,body=_36a.document&&_36a.document.body;if(body){var _36d=has("pointer-events")?"pointerdown":has("MSPointer")?"MSPointerDown":has("touch-events")?"mousedown, touchstart":"mousedown";var mdh=on(_36a.document,_36d,function(evt){if(evt&&evt.target&&evt.target.parentNode==null){return;}_36c._onTouchNode(_36b||evt.target,"mouse");});var fih=on(body,"focusin",function(evt){if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isFocusable(evt.target)){_36c._onFocusNode(_36b||evt.target);}else{_36c._onTouchNode(_36b||evt.target);}});var foh=on(body,"focusout",function(evt){_36c._onBlurNode(_36b||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;body=null;}};}},_onBlurNode:function(node){var now=(new Date()).getTime();if(now<_365+100){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}if(now<_366+100){return;}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){_366=(new Date()).getTime();if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}if(_35d.contains(node,"dijitPopup")){node=node.firstChild;}var _36e=[];try{while(node){var _36f=_35c.get(node,"dijitPopupParent");if(_36f){node=_363.byId(_36f).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_362.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_370=id&&_363.byId(id);if(_370&&!(by=="mouse"&&_370.get("disabled"))){_36e.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_36e,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}_365=(new Date()).getTime();if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_371,by){var _372=this.activeStack,_373=_372.length-1,_374=_371.length-1;if(_371[_374]==_372[_373]){return;}this.set("activeStack",_371);var _375,i;for(i=_373;i>=0&&_372[i]!=_371[i];i--){_375=_363.byId(_372[i]);if(_375){_375._hasBeenBlurred=true;_375.set("focused",false);if(_375._focusManager==this){_375._onBlur(by);}this.emit("widget-blur",_375,by);}}for(i++;i<=_374;i++){_375=_363.byId(_371[i]);if(_375){_375.set("focused",true);if(_375._focusManager==this){_375._onFocus(by);}this.emit("widget-focus",_375,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _376=new _367();_360(function(){var _377=_376.registerWin(_362.get(document));if(has("ie")){on(window,"unload",function(){if(_377){_377.remove();_377=null;}});}});_364.focus=function(node){_376.focus(node);};for(var attr in _376){if(!/^_/.test(attr)){_364.focus[attr]=typeof _376[attr]=="function"?lang.hitch(_376,attr):_376[attr];}}_376.watch(function(attr,_378,_379){_364.focus[attr]=_379;});return _376;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_37a,lang,_37b,when){return _37a("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});},postscript:function(_37c){if(_37c){this.set(_37c);}},_get:function(name,_37d){return typeof this[_37d.g]==="function"?this[_37d.g]():this[name];},get:function(name){return this._get(name,this._getAttrNames(name));},set:function(name,_37e){if(typeof name==="object"){for(var x in name){if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,name[x]);}}return this;}var _37f=this._getAttrNames(name),_380=this._get(name,_37f),_381=this[_37f.s],_382;if(typeof _381==="function"){_382=_381.apply(this,Array.prototype.slice.call(arguments,1));}else{this[name]=_37e;}if(this._watchCallbacks){var self=this;when(_382,function(){self._watchCallbacks(name,_380,_37e);});}return this;},_changeAttrValue:function(name,_383){var _384=this.get(name);this[name]=_383;if(this._watchCallbacks){this._watchCallbacks(name,_384,_383);}return this;},watch:function(name,_385){var _386=this._watchCallbacks;if(!_386){var self=this;_386=this._watchCallbacks=function(name,_387,_388,_389){var _38a=function(_38b){if(_38b){_38b=_38b.slice();for(var i=0,l=_38b.length;i<l;i++){_38b[i].call(self,name,_387,_388);}}};_38a(_386["_"+name]);if(!_389){_38a(_386["*"]);}};}if(!_385&&typeof name==="function"){_385=name;name="*";}else{name="_"+name;}var _38c=_386[name];if(typeof _38c!=="object"){_38c=_386[name]=[];}_38c.push(_385);var _38d={};_38d.unwatch=_38d.remove=function(){var _38e=_37b.indexOf(_38c,_385);if(_38e>-1){_38c.splice(_38e,1);}};return _38d;}});});},"dijit/a11y":function(){define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_38f,dom,_390,_391,lang,has,_392){var _393;var a11y={_isElementShown:function(elem){var s=_391.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_390.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _390.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _394=elem.contentDocument;if("designMode" in _394&&_394.designMode=="on"){return true;}body=_394.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_390.get(elem,"disabled")){return _393;}else{if(_390.has(elem,"tabIndex")){return +_390.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_393;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _395,last,_396,_397,_398,_399,_39a={};function _39b(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _39c=a11y._isElementShown,_39d=a11y.effectiveTabIndex;var _39e=function(_39f){for(var _3a0=_39f.firstChild;_3a0;_3a0=_3a0.nextSibling){if(_3a0.nodeType!=1||(has("ie")<=9&&_3a0.scopeName!=="HTML")||!_39c(_3a0)){continue;}var _3a1=_39d(_3a0);if(_3a1>=0){if(_3a1==0){if(!_395){_395=_3a0;}last=_3a0;}else{if(_3a1>0){if(!_396||_3a1<_397){_397=_3a1;_396=_3a0;}if(!_398||_3a1>=_399){_399=_3a1;_398=_3a0;}}}var rn=_39b(_3a0);if(_390.get(_3a0,"checked")&&rn){_39a[rn]=_3a0;}}if(_3a0.nodeName.toUpperCase()!="SELECT"){_39e(_3a0);}}};if(_39c(root)){_39e(root);}function rs(node){return _39a[_39b(node)]||node;};return {first:rs(_395),last:rs(last),lowest:rs(_396),highest:rs(_398)};},getFirstInTabbingOrder:function(root,doc){var _3a2=a11y._getTabNavigable(dom.byId(root,doc));return _3a2.lowest?_3a2.lowest:_3a2.first;},getLastInTabbingOrder:function(root,doc){var _3a3=a11y._getTabNavigable(dom.byId(root,doc));return _3a3.last?_3a3.last:_3a3.highest;}};1&&lang.mixin(_392,a11y);return a11y;});},"dijit/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dijit;});},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(_3a4,win,_3a5){var _3a6={},hash={};var _3a7={length:0,add:function(_3a8){if(hash[_3a8.id]){throw new Error("Tried to register widget with id=="+_3a8.id+" but that id is already registered");}hash[_3a8.id]=_3a8;this.length++;},remove:function(id){if(hash[id]){delete hash[id];this.length--;}},byId:function(id){return typeof id=="string"?hash[id]:id;},byNode:function(node){return hash[node.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in hash){ar.push(hash[id]);}return ar;},getUniqueId:function(_3a9){var id;do{id=_3a9+"_"+(_3a9 in _3a6?++_3a6[_3a9]:_3a6[_3a9]=0);}while(hash[id]);return _3a5._scopeName=="dijit"?id:_3a5._scopeName+"_"+id;},findWidgets:function(root,_3aa){var _3ab=[];function _3ac(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _3ad=node.getAttribute("widgetId");if(_3ad){var _3ae=hash[_3ad];if(_3ae){_3ab.push(_3ae);}}else{if(node!==_3aa){_3ac(node);}}}}};_3ac(root);return _3ab;},_destroyAll:function(){_3a5._curFocus=null;_3a5._prevFocus=null;_3a5._activeStack=[];_3a4.forEach(_3a7.findWidgets(win.body()),function(_3af){if(!_3af._destroyed){if(_3af.destroyRecursive){_3af.destroyRecursive();}else{if(_3af.destroy){_3af.destroy();}}}});},getEnclosingWidget:function(node){while(node){var id=node.nodeType==1&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;},_hash:hash};_3a5.registry=_3a7;return _3a7;});},"dijit/_base/focus":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(_3b0,dom,lang,_3b1,win,_3b2,_3b3,_3b4){var _3b5={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _3b4.getBookmark().isCollapsed;},getBookmark:function(){var sel=win.global==window?_3b3:new _3b3.SelectionManager(win.global);return sel.getBookmark();},moveToBookmark:function(_3b6){var sel=win.global==window?_3b3:new _3b3.SelectionManager(win.global);return sel.moveToBookmark(_3b6);},getFocus:function(menu,_3b7){var node=!_3b2.curNode||(menu&&dom.isDescendant(_3b2.curNode,menu.domNode))?_3b4._prevFocus:_3b2.curNode;return {node:node,bookmark:node&&(node==_3b2.curNode)&&win.withGlobal(_3b7||win.global,_3b4.getBookmark),openedForWindow:_3b7};},_activeStack:[],registerIframe:function(_3b8){return _3b2.registerIframe(_3b8);},unregisterIframe:function(_3b9){_3b9&&_3b9.remove();},registerWin:function(_3ba,_3bb){return _3b2.registerWin(_3ba,_3bb);},unregisterWin:function(_3bc){_3bc&&_3bc.remove();}};_3b2.focus=function(_3bd){if(!_3bd){return;}var node="node" in _3bd?_3bd.node:_3bd,_3be=_3bd.bookmark,_3bf=_3bd.openedForWindow,_3c0=_3be?_3be.isCollapsed:false;if(node){var _3c1=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_3c1&&_3c1.focus){try{_3c1.focus();}catch(e){}}_3b2._onFocusNode(node);}if(_3be&&win.withGlobal(_3bf||win.global,_3b4.isCollapsed)&&!_3c0){if(_3bf){_3bf.focus();}try{win.withGlobal(_3bf||win.global,_3b4.moveToBookmark,null,[_3be]);}catch(e2){}}};_3b2.watch("curNode",function(name,_3c2,_3c3){_3b4._curFocus=_3c3;_3b4._prevFocus=_3c2;if(_3c3){_3b1.publish("focusNode",_3c3);}});_3b2.watch("activeStack",function(name,_3c4,_3c5){_3b4._activeStack=_3c5;});_3b2.on("widget-blur",function(_3c6,by){_3b1.publish("widgetBlur",_3c6,by);});_3b2.on("widget-focus",function(_3c7,by){_3b1.publish("widgetFocus",_3c7,by);});lang.mixin(_3b4,_3b5);return _3b4;});},"dijit/selection":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(_3c8,dom,lang,has,_3c9,_3ca){var _3cb=function(win){var doc=win.document;this.getType=function(){if(doc.getSelection){var _3cc="text";var oSel;try{oSel=win.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _3cd=oSel.getRangeAt(0);if((_3cd.startContainer==_3cd.endContainer)&&((_3cd.endOffset-_3cd.startOffset)==1)&&(_3cd.startContainer.nodeType!=3)){_3cc="control";}}return _3cc;}else{return doc.selection.type.toLowerCase();}};this.getSelectedText=function(){if(doc.getSelection){var _3ce=win.getSelection();return _3ce?_3ce.toString():"";}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().text;}};this.getSelectedHtml=function(){if(doc.getSelection){var _3cf=win.getSelection();if(_3cf&&_3cf.rangeCount){var i;var html="";for(i=0;i<_3cf.rangeCount;i++){var frag=_3cf.getRangeAt(i).cloneContents();var div=doc.createElement("div");div.appendChild(frag);html+=div.innerHTML;}return html;}return null;}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().htmlText;}};this.getSelectedElement=function(){if(this.getType()=="control"){if(doc.getSelection){var _3d0=win.getSelection();return _3d0.anchorNode.childNodes[_3d0.anchorOffset];}else{var _3d1=doc.selection.createRange();if(_3d1&&_3d1.item){return doc.selection.createRange().item(0);}}}return null;};this.getParentElement=function(){if(this.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(doc.getSelection){var _3d2=doc.getSelection();if(_3d2){var node=_3d2.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}else{var r=doc.selection.createRange();r.collapse(true);return r.parentElement();}}return null;};this.hasAncestorElement=function(_3d3){return this.getAncestorElement.apply(this,arguments)!=null;};this.getAncestorElement=function(_3d4){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);};this.isTag=function(node,tags){if(node&&node.tagName){var _3d5=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _3d6=String(tags[i]).toLowerCase();if(_3d5==_3d6){return _3d6;}}}return "";};this.getParentOfType=function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;};this.collapse=function(_3d7){if(doc.getSelection){var _3d8=win.getSelection();if(_3d8.removeAllRanges){if(_3d7){_3d8.collapseToStart();}else{_3d8.collapseToEnd();}}else{_3d8.collapse(_3d7);}}else{var _3d9=doc.selection.createRange();_3d9.collapse(_3d7);_3d9.select();}};this.remove=function(){var sel=doc.selection;if(doc.getSelection){sel=win.getSelection();sel.deleteFromDocument();return sel;}else{if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}};this.selectElementChildren=function(_3da,_3db){var _3dc;_3da=dom.byId(_3da);if(doc.getSelection){var _3dd=win.getSelection();if(has("opera")){if(_3dd.rangeCount){_3dc=_3dd.getRangeAt(0);}else{_3dc=doc.createRange();}_3dc.setStart(_3da,0);_3dc.setEnd(_3da,(_3da.nodeType==3)?_3da.length:_3da.childNodes.length);_3dd.addRange(_3dc);}else{_3dd.selectAllChildren(_3da);}}else{_3dc=_3da.ownerDocument.body.createTextRange();_3dc.moveToElementText(_3da);if(!_3db){try{_3dc.select();}catch(e){}}}};this.selectElement=function(_3de,_3df){var _3e0;_3de=dom.byId(_3de);if(doc.getSelection){var _3e1=doc.getSelection();_3e0=doc.createRange();if(_3e1.removeAllRanges){if(has("opera")){if(_3e1.getRangeAt(0)){_3e0=_3e1.getRangeAt(0);}}_3e0.selectNode(_3de);_3e1.removeAllRanges();_3e1.addRange(_3e0);}}else{try{var tg=_3de.tagName?_3de.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_3e0=_3c9.body(doc).createControlRange();}else{_3e0=_3c9.body(doc).createRange();}_3e0.addElement(_3de);if(!_3df){_3e0.select();}}catch(e){this.selectElementChildren(_3de,_3df);}}};this.inSelection=function(node){if(node){var _3e2;var _3e3;if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.rangeCount>0){_3e3=sel.getRangeAt(0);}if(_3e3&&_3e3.compareBoundaryPoints&&doc.createRange){try{_3e2=doc.createRange();_3e2.setStart(node,0);if(_3e3.compareBoundaryPoints(_3e3.START_TO_END,_3e2)===1){return true;}}catch(e){}}}else{_3e3=doc.selection.createRange();try{_3e2=node.ownerDocument.body.createTextRange();_3e2.moveToElementText(node);}catch(e2){}if(_3e3&&_3e2){if(_3e3.compareEndPoints("EndToStart",_3e2)===1){return true;}}}}return false;};this.getBookmark=function(){var bm,rg,tg,sel=doc.selection,cf=_3ca.curNode;if(doc.getSelection){sel=win.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;};this.moveToBookmark=function(_3e4){var mark=_3e4.mark;if(mark){if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(doc.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=doc.body.createControlRange();_3c8.forEach(mark,function(n){rg.addElement(n);});}else{rg=doc.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}};this.isCollapsed=function(){return this.getBookmark().isCollapsed;};};var _3e5=new _3cb(window);_3e5.SelectionManager=_3cb;return _3e5;});},"mxui/html":function(){define([],function(){return {attrs:{"ForRole":"visibleForRoles","FormTitle":"formTitle"},stripTags:function(_3e6){if(typeof _3e6=="string"){return _3e6.replace(/<[a-zA-Z\/][^>]*>/g," ");}else{return _3e6;}},escapeQuotes:function(str){return str.replace(/\'/g,"&#39;").replace(/\"/g,"&#34;");}};});},"mxui/html/parser":function(){define(["mxui/dom","mendix/lang","dojo/json","dojo/_base/array","dojo/_base/lang","require"],function(_3e7,lang,_3e8,_3e9,_3ea,_3eb){function _3ec(_3ed,_3ee,_3ef){var _3f0="data-mendix-",_3f1=_3f0+"id",_3f2=_3f0+"type",_3f3=_3f0+"props",_3f4=[];_3ef=_3ef?(_3ef+"_"):"";_3e9.forEach(_3ed,function(node){var mxid=node.getAttribute(_3f1),_3f5=node.getAttribute(_3f3),type=node.getAttribute(_3f2),Clas=_3ea.getObject(type),_3f6=_3f5&&_3e8.parse("{"+_3f5+"}"),_3f7=_3ea.mixin(_3f6,_3ee,{mxid:mxid,uniqueid:_3ef+mxid,"class":node.className,style:node.style.cssText,focusIndex:_3e7.getTabIndex(node)});node.removeAttribute(_3f2);node.removeAttribute(_3f3);if(Clas){try{var _3f8=new Clas(_3f7,node);if(_3f8.name){var _3f9=_3eb("mxui/widget/PrimitiveWidgetWrapper");_3f8=new _3f9({widget:_3f8,mxform:_3f8.mxform});}_3f4.push(_3f8);}catch(e){_3fa(node,"Could not create widget "+type+": "+e);}}else{_3fa(node,"No constructor found for widget "+type);}});_3e9.forEach(_3f4,function(_3fb){if(_3fb.startup){if(!_3fb._started){try{_3fb.startup();}catch(e){_3fb.actLoaded();_3fa(_3fb.domNode,"Could not create widget "+_3fb.declaredClass+": "+e);}}}});function _3fa(node,_3fc){logger.error(_3fc);if(node.parentNode){node.parentNode.replaceChild(_3e7.create("div",{style:"color:red"},_3fc),node);}};return _3f4;};function _3fd(root,_3fe,_3ff){root=root||document.body;var _400=lang.toArray(root.querySelectorAll("[data-mendix-type]"));if(root.getAttribute("data-mendix-type")){_400.unshift(root);}return _3ec(_400,_3fe,_3ff);};function _401(root,_402,_403){var _404=[];_3e7.walkNode(root,function(node){if(node.getAttribute&&node.getAttribute("data-mendix-type")){_404.push(node);return false;}return true;});return _3ec(_404,_402,_403);};var _405={instantiate:_3ec,parse:_3fd,parseTopLevel:_401};return _405;});},"mxui/lib/InputMask":function(){define(["mendix/logger","mxui/wm/focus","mxui/dom","dojo/sniff","dojo/on","dojo/keys","dojo/_base/lang","dojo/_base/array","dojo/_base/declare"],function(_406,_407,dom,_408,_409,_40a,_40b,_40c,_40d){function _40e(_40f,_410,_411){var _412=(_40f.length-(_410.length-(_411)));for(var i=0;i<_412;i++){if(_40f.charAt(i)!=_410.charAt(i)){_412=i;break;}}return _412;};function _413(_414,_415){switch(_414){case "9":return _415.match(/^[0-9]$/g)!=null;case "U":return _415.match(/^[A-Z]$/g)!=null;case "L":return _415.match(/^[a-z]$/g)!=null;case "Z":return _415.match(/^[a-zA-Z]$/g)!=null;case "*":return _415.match(/^[a-zA-Z0-9]$/g)!=null;default:return false;}};var _416=_40d(null,{mask:"",displayMask:"",spanMask:null,domNode:null,_connects:null,_selection:null,oldValue:"",constructor:function(node,mask){this.domNode=node;this.mask=mask;this.displayMask=this.mask.replace(/[9ZUL*]/g,"_");this._connects=[_409(this.domNode,"focus",_40b.hitch(this,"onFocus")),_409(this.domNode,"keypress",_40b.hitch(this,"onKeyPress")),_409(this.domNode,"blur",_40b.hitch(this,"onBlur")),_409(this.domNode,_408("ie")?"paste":"input",_40b.hitch(this,"onInput")),_409(this.domNode,"select",_40b.hitch(this,"onSelect")),_409(this.domNode,"click",_40b.hitch(this,"onClick"))];var self=this;if(_408("ie")||_408("trident")||_408("chrome")){this._connects.push(_409(this.domNode,"keydown",function(evt){var _417=(evt.keyCode===0)?evt.which:evt.keyCode;if(_417===46||_417===8){self.onKeyPress(evt);}}));}},onFocus:function(e){if(this.isReadOnly()){return;}var _418=this.oldValue=this.domNode.value;if(_418===""){this.domNode.value=this.displayMask;this.spanMask=this.displayMask;setTimeout(_40b.hitch(this,this.goToFirstEditableCharacter),0);}else{var real="";for(var i=0,cc;i<this.displayMask.length,cc=this.mask.charAt(i);i++){var val=_418.charAt(i);if(_413(cc,val)){real+=val;}else{real+=this.displayMask.charAt(i);}}setTimeout(_40b.hitch(this,function(){var sel=dom.getSelection(this.domNode);this.spanMask=this.domNode.value=real;dom.selectTextRange(this.domNode,sel.start,sel.end);}),0);}},goToFirstEditableCharacter:function(){var _419=this.domNode.value;var _41a=-1;for(var i=0;i<_419.length;i++){if(this.isEditable(this.mask.charAt(i))&&_419.charAt(i)==="_"){_41a=i;break;}}if(_41a!==-1){dom.selectTextRange(this.domNode,_41a,_41a);}},onBlur:function(e){if(this.isReadOnly()){return;}this.spanMask=null;if(this.displayMask===this.domNode.value){this.domNode.value="";}if(this.oldValue!=this.domNode.value){dom.dispatchEvent(this.domNode,"onchange");}this.oldValue=null;},onClick:function(){if(this.isReadOnly()){return;}this._selection=dom.getSelection(this.domNode);},onSelect:function(){if(this.isReadOnly()){return;}this._selection=dom.getSelection(this.domNode);},onInput:function(e){if(this.isReadOnly()){return;}if(_408("ie")&&e!=null){try{setTimeout(_40b.hitch(this,"onInput",null),1);return;}catch(e){}}var pos=dom.getCursorPosition(this.domNode);var _41b=this.domNode.value;var _41c=this.spanMask;this.domNode.value="";if(this._selection&&this._selection.start!=this._selection.end){_41c="";for(var i=0;i<this.spanMask.length;i++){_41c+=(i>=this._selection.start&&i<this._selection.end)?"":this.spanMask.charAt(i);}}var _41d=_40e(_41c,_41b,pos);var _41e=_41b.substring(_41d,pos);if(this._selection&&this._selection.start!=this._selection.end){var _41f=this._selection.end-this._selection.start;_41e=_41e.substr(0,_41f);}var _420=this.mask.length;var newv="";var _421=-1;for(var i=0;i<_420;i++){if(i===_41d){for(var j=0;j<_41e.length;j++){_421=i;var _422=this.mask.charAt(i);var _423=_41e.charAt(j);if(this.isEditable(_422)){var _424=_413(_422,_423);if(_424){newv+=_423;}else{break;}}else{if(_423===_422){newv+=_422;}else{break;}}i++;}}newv+=this.spanMask.charAt(i);}this.spanMask=newv;this.domNode.value=newv;dom.selectTextRange(this.domNode,_421+1,_421+1);},onKeyPress:function(evt){if(this.isReadOnly()){return;}var _425=(evt.keyCode===0)?evt.which:evt.keyCode;var ctrl=evt.metaKey?evt.metaKey:evt.ctrlKey;if(ctrl){return true;}this._selection=null;switch(_425){case 13:break;case 27:break;case _40a.TAB:break;case 46:this.performDelete(evt);evt.preventDefault();return false;break;case 8:this.performBackspace(evt);evt.preventDefault();return false;break;default:if(this.performKeyPress(evt)){evt.preventDefault();return false;}}},performBackspace:function(){var poss=dom.getSelection(this.domNode);var _426="";var _427=this.domNode.value;var _428=(poss.start===poss.end);for(var i=this.displayMask.length;0<=i;i--){var _429=_427.charAt(i);var _42a=this.displayMask.charAt(i);if((_428&&(i===poss.start-1))||(i>=(poss.start)&&i<(poss.end))||_429==null){_426=_42a+_426;}else{_426=_429+_426;}}this.domNode.value=this.spanMask=_426;var _42b=(poss.start<=0)?0:_428?poss.start-1:poss.start;dom.selectTextRange(this.domNode,_42b,_42b);},performDelete:function(){var _42c=dom.getSelection(this.domNode);if(_42c.start===_42c.end){_42c.end=_42c.start+1;}var _42d="";var _42e=this.domNode.value;for(var i=0;i<this.displayMask.length;i++){if(i>=_42c.start&&i<_42c.end){_42d+=this.displayMask.substr(i,1);}else{_42d+=_42e.substr(i,1);}}this.domNode.value=this.spanMask=_42d;dom.selectTextRange(this.domNode,_42c.start,_42c.start);},_findFirstEditablePosition:function(_42f){for(var i=_42f;i<this.mask.length;i++){if(this.isEditable(this.mask.charAt(i))){return i;}}return -1;},performKeyPress:function(evt){var _430=(evt.keyCode===0)?evt.which:evt.keyCode;if(evt.charCode==null){var _431=evt.shiftKey;switch(evt.keyCode){case 9:case 8:case 13:case 16:case 17:case 18:case 20:case 27:case 33:case 34:if(_431){break;}case 35:case 36:return false;}}else{if(evt.charCode===0){return false;}}var _432=(String.fromCharCode(_430));if(_432.match(/[a-zA-Z0-9]/)!=null){var _433="";var pos=dom.getCursorPosition(this.domNode);var _434=this.spanMask;var _435=this._findFirstEditablePosition(pos);if(_435!==-1&&_413(this.mask.substr(_435,1),_432)){pos=_435;}var _436=pos;for(var i=0;i<this.displayMask.length;i++){var _437=_434.substr(i,1);var _438=this.mask.substr(i,1);if(i!=pos){if(this.isEditable(_438)){_433+=_437;}else{_433+=_438;}}else{if(_413(_438,_432)){++_436;_433+=_432;var _439;var _43a=i;while((_439=this.mask.substr(++_43a,1))!=""){if(!this.isEditable(_439)){++_436;}else{break;}}}else{_433+=_437;}}}this.spanMask=_433;this.domNode.value=_433;dom.selectTextRange(this.domNode,_436,_436);}return true;},isEditable:function(str){return (str==="9"||str==="U"||str==="L"||str==="Z"||str==="*");},isReadOnly:function(){return this.domNode.readOnly;},destroy:function(){_40c.forEach(this._connects,function(_43b){_43b.remove();});this._connects=null;}});return _416;});},"mxui/widget":function(){define(["mxui/widget/_Button","mxui/widget/_WidgetBase","mxui/widget/_Widget","mxui/html/parser","mxui/dom","mendix/lang","mendix/logger","dijit/_Widget","dijit/registry","dojo/dom-geometry","dojo/_base/kernel","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","exports"],function(_43c,_43d,_43e,_43f,dom,lang,_440,_441,_442,_443,_444,_445,_446,_447,_448){_448.getDisableables=function(node){var list=[];var run=function(node){var _449=node.childNodes;for(var i=0,_44a;_44a=_449[i];i++){if(_44a.nodeType!=1){continue;}var id=_44a.getAttribute("widgetId"),_44b=_442.byId(id);if(_44b&&!(/^dijit/.test(id)||_44b._btn_||_44b instanceof _43c)){list.push(_44b);}if(!(_44b instanceof _43d)){run(_44a);}}};run(node);return list;};_448.findNonPlaceholderParent=function(node){var pn=node.parentNode;while(pn&&pn.hasAttribute("data-mx-placeholder")){pn=pn.parentNode;}return pn;};_448.resizeWidgetsIn=function(root,_44c){var _44d=_442.findWidgets(root);if(!_44c&&_44d.length==1&&root.children.length==1&&_44d[0].domNode.parentNode.children.length==1){var _44e=_44d[0],_44f=_448.findNonPlaceholderParent(_44e.domNode);if(_44f==root||_44f==_44e.mxform.domNode){var box=_443.getContentBox(root);var _450=_44e.domNode.style;_450.marginTop=_450.marginBottom="0";_44e.resize({w:box.w,h:box.h});return;}}_445.forEach(_44d,function(_451){_451.resize();});};_448.fireOnReady=function(_452,_453){var _454=[];dojo.forEach(_452,function(w){if(w.addOnLoad){_454.push(function(h){w.addOnLoad(h);});}});lang.sequence(_454,_453);};_448.destroyWidgetsIn=function(node){var _455=_442.findWidgets(node),_456=_448.getDescendantWidgets(node);_445.forEach(_455,function(_457){try{_457.destroyRecursive();}catch(e){_440.error(_457.id+".destroy: Unable to destroy:"+e.message);}});_445.forEach(_456,function(_458){if(!_458._destroyed){_440.error(_458.id+": widget not destroyed, check parent's uninitialize method");}});};function _459(_45a,_45b,_45c){var _45d=[],i=_45a.length;while(i--){var _45e=_45a[i].prototype,fnc=_45e[_45c];if(fnc){_45d.push(fnc);}}return _45d.length?function(){for(var i=0,_45f;_45f=_45d[i];i++){try{_45f.call(this);}catch(e){var _460=_45f.ctor&&_45f.ctor.prototype,_461=(_460&&_460.declaredClass)||"some";_440.error(this.id+"."+_45b+": Can not execute "+_45c+" function of "+_461+" addon :"+e.message);}}}:function(){};};function _462(_463,_464,_465){var _466=function(args){if(this instanceof arguments.callee){var _467=(args&&args.callee==arguments.callee)?args:arguments;try{if(_463){_463.apply(this,_467);}}catch(e){var _468=typeof e=="string"?e:e.message;_440.error(this.id+".Unable to render widget. ERROR: "+_468);this.loaded();this._broken=true;this._brokenError=_468;var _469=this.domNode&&this.domNode.parentNode,_46a=dom.div({refWidgetId:this.id,style:"color:red"},"Unable to render "+this.id+" widget: "+_468);if(_469){_469.removeChild(this.domNode);_469.appendChild(_46a);}else{var node=(arguments.length==2&&arguments[1].nodeName)?arguments[1]:null;if(node&&node.parentNode){node.parentNode.appendChild(_46a);}}}}else{if(_464){var _46b=(arguments.callee.caller)?"from scope "+arguments.callee.caller.toString():"from unknown scope";}return new arguments.callee(arguments);}};if(_463){for(var x in _463){_466[x]=_463[x];}_466.prototype=_463.prototype;_466.prototype.constructor=_466;}return _466;};function _46c(_46d){var _46e=[];for(var i=0,l=_46d.length;i<l;i++){var _46f=_46d[i],cons=(typeof _46f=="string")?_446.getObject(_46f):_46f;if(cons==null||typeof (cons)=="object"){throw new Error("mxui/widget/declare: Mixin '"+_46f.toString()+"' is not loaded! Maybe it's broken???");}_46e.push(cons);}return _46e;};function _470(_471,_472,_473){var _474=function(_475){var _476=_475.inputargs,_477=false;if(_476 instanceof Array){var _478={};for(var i=0,l=_476.length;i<l;i++){if(typeof _476[i]=="object"){for(var x in _476[i]){_478[x]=_476[i][x];break;}_477=true;}else{_478[_476[i]]="";}}if(_477){}_476=_478;}if(_476){var _479=_471.__inputargs?_471.__inputargs:(_471.__inputargs={});for(var j in _476){_479[j]=_471[j]=_476[j];}}};for(var k=0,l=_472.length;k<l;k++){var _47a=_472[k].prototype;_474(_47a);}_474(_471);for(var m=0,n=_473.length;m<n;m++){var _47b=_473[m].prototype;_474(_47b);}};_448.declare=function(_47c,_47d){var _47e=_47d.superclass||_441,_47f=_47d.mixins||[],_480=_47c.split(".");if(_480.length==1){_47c="mxui.widget."+_480;_480=_47c.split(".");}var _481=_47e.prototype._mx_?[_47e]:[_47e,_43e];var _482=_481.concat(_46c(_47f)),_483=_480.pop();_47d.moduleName=_480.join(".");_47d.className=_483;_47d.initializer=_459(_482,"create","initialize");_47d.uninitializer=_459(_482,"destroy","uninitialize");_470(_47d,_481,_47f);var _484=_447(_47c,_482,_47d);var _485=_462(_484,true,_47c);return _446.setObject(_47c,_485);};_448.createCSSMap=function(_486,css){for(var i in css){css[i]=_486+"-"+css[i];}css.baseClass=_486;return css;};_448.getDescendantWidgets=function(node){return node?_445.map(node.querySelectorAll("[widgetid]"),_442.byNode):[];};_448.loadWidgetsIn=function(_487,_488,_489,_48a){_43f.parse(_487,_488);var _48b=_442.findWidgets(_487);lang.collect(_445.map(_48b,function(_48c){var _48d=_448.getDescendantWidgets(_48c.domNode),_48e=_48d.concat([_48c]);return function(_48f){_448.fireOnReady(_48e,function(){_448.applyContext([_48c],_489,_48f);});};}),_48a);};_448.ready=function(_490,_491,_492){var _493=[];_445.forEach(_490,function(_494){if(_494.addOnLoad){_493.push(function(_495){_494.addOnLoad(_495);});}});lang.collect(_493,_491,_492);};_448.applyContext=function(_496,_497,_498){lang.collect(_445.map(_496,function(_499){if(_499.applyContext){return function(cb){try{_499.applyContext(_497,cb);}catch(e){throw new Error(_499.id+".applyContext: "+e);}};}else{return function(cb){try{var _49a=_442.findWidgets(_499.domNode);_448.applyContext(_49a,_497,cb);}catch(e){throw new Error(_499.id+".applyContext: "+e);}};}}),_498);};});},"mxui/widget/_Button":function(){define(["mxui/widget/_WidgetBase","mxui/dom","webcore/url-helpers","dojo/_base/lang","dojo/_base/event","dojo/_base/declare"],function(_49b,_49c,_49d,_49e,_49f,_4a0){var $=_49c.create;var _4a1=_4a0(_49b,{declaredClass:"mxui.widget._Button",renderType:"button",iconUrl:"",iconClass:"",cssClasses:null,cssStyle:"",_textNode:null,_iconNode:null,_isCls:false,buildRendering:function(){this._textNode=document.createTextNode("");var _4a2={};if(this.cssStyle){_4a2={"style":this.cssStyle};}var _4a3=this.cssClasses||[];if(typeof _4a3==="string"){_4a3=[_4a3];}var _4a4=_4a3.join(" ");if(this.renderType==="link"){this.domNode=$("span",_49e.mixin(_4a2,{"class":"mx-link"+" "+_4a4})," ",$("a",{tabindex:-1},this._textNode)," ");}else{this.domNode=$("button",_49e.mixin(_4a2,{"type":"button","class":"btn mx-button "+_4a4})," ",this._textNode," ");}this._connectEvents();},_connectEvents:function(){this.connect(this.domNode,"click","_onClick");this.connect(this.domNode,"keyup","onKeyUp");},onClick:function(e){},onKeyUp:function(e){},_onClick:function(e){_49f.stop(e);this.domNode.focus();this.onClick(e);},checkDisabled:function(){return this._disabled;},enable:function(){if(this.renderType=="button"){this.domNode.removeAttribute("disabled");}},disable:function(){if(this.renderType=="button"){this.domNode.setAttribute("disabled","disabled");}},_setCaptionAttr:function(_4a5){this._textNode.nodeValue=_4a5;},_setIconClassAttr:function(cls){this._setIcon(cls,true);},_setIconUrlAttr:function(img){this._setIcon(img,false);},_setIconVisibleAttr:function(_4a6){this._iconNode.style.display=_4a6?"":"none";},_setIcon:function(name,_4a7){if(this._iconNode){_49c.orphan(this._iconNode);this._iconNode=null;}if(name){this._iconNode=_4a7?$("span",{"class":"glyphicon "+name}):$("img",{src:_49d.getStaticResourceUrlFromPath(name)});this.domNode.insertBefore(this._iconNode,this.domNode.firstChild);}},_setFocusIndexAttr:function(_4a8){this.domNode.setAttribute("tabindex",_4a8);}});return _4a1;});},"mxui/widget/_WidgetBase":function(){define(["mxui/dom","mxui/widget","mxui/html/parser","mendix/lang","mendix/lib/MxContext","mendix/logger","dijit/_WidgetBase","dijit/registry","dojo/dom-attr","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dijit/_base"],function(_4a9,_4aa,_4ab,_4ac,_4ad,_4ae,_4af,_4b0,_4b1,_4b2,_4b3,_4b4){var _4b5=_4b4(_4af,{declaredClass:"mxui.widget._WidgetBase",mxid:"",uniqueid:"",mxform:null,mxcontext:null,doParse:true,readOnly:false,ignoreUpdates:false,autoLoad:true,_loaded:false,_destroyed:false,_disabled:false,_cachedDisabled:false,_loadCalls:null,_destroyCalls:null,_listeners:null,_subscriptions:null,"-chains-":{constructor:"after",uninitialize:"before"},constructor:function(_4b6,node){this._loadCalls=[];this._destroyCalls=[];this._listeners=[];this._subscriptions=[];this.mxcontext=new _4ad();if(this.autoLoad){this.set("loaded",true);}this._cachedDisabled=this.readOnly;},getTemplate:function(name){return window.mx.ui.getTemplate(this.mxid,name);},parseContent:function(node,_4b7,_4b8){var _4b9={mxform:this.mxform,validator:this.validator,ignoreUpdates:this.ignoreUpdates};if(this.readOnly){_4b9.readOnly=true;}if(this.doParse){return _4ab[_4b8?"parseTopLevel":"parse"](node||this.domNode,_4b3.mixin(_4b9,_4b7),this.uniqueid);}else{return [];}},getChildren:function(_4ba){if(_4ba){return _4aa.getDescendantWidgets(this.domNode);}else{return _4b0.findWidgets(this.domNode);}},resizeChildren:function(node,_4bb){return _4aa.resizeWidgetsIn(node,_4bb);},applyContext:function(_4bc,_4bd){var _4be=this.mxcontext;if(this.contextAction!=="reset"){_4be.mixin(_4bc);if(this.dropContext){for(var i=0,_4bf;_4bf=this.dropContext[i];i++){_4be.unsetContext(_4bf);}}}else{if(this.preserveTrackObject){if(_4bc){_4be.setObject(_4bc.getTrackObject(),_4bc.getTrackEntity(),_4bc.getTrackId());}else{_4be.setObject(null);}}}if(typeof this.update=="function"){var _4c0=_4be.getObject(),_4c1=_4be.getTrackId(),_4c2=_4b3.hitch(this,function(obj){try{this.update(obj,_4bd);}catch(e){throw new Error(this.id+".applyContext: "+e);}});if(_4c0){_4c2(_4c0);}else{if(_4c1){window.mx.data.get({guid:_4c1,callback:function(obj){if(!obj){_4ae.error(this.id+".applyContext: error while fetching object with guid "+_4c1);}_4c2(obj);},error:function(e){window.mx.onError(e);_4c2(null);}},this);}else{_4c2(null);}}}else{var _4c3=_4b0.findWidgets(this.domNode);this.passContext(_4c3,_4bc,_4bd);}},passContext:function(_4c4,_4c5,_4c6){if(typeof _4c5=="function"){_4c6=_4c5;_4c5=this.mxcontext;}else{_4c5=_4c5||this.mxcontext;}_4aa.applyContext(_4c4,_4c5,_4b3.hitch(this,_4c6));},subscribe:function(sub){if(this.ignoreUpdates){return;}var _4c7=window.mx.data.subscribe(sub,this);this._subscriptions.push(_4c7);return _4c7;},unsubscribe:function(_4c8){if(this.ignoreUpdates){return;}var list=this._subscriptions;for(var i=0,_4c9;_4c9=list[i];i++){if(_4c9==_4c8){window.mx.data.unsubscribe(_4c8);list.splice(i,1);break;}}},unsubscribeAll:function(){var subs=this._subscriptions;while(subs.length){window.mx.data.unsubscribe(subs.pop());}},listen:function(_4ca,_4cb){var _4cc=this.mxform.listen(_4ca,_4b3.hitch(this,_4cb));this._listeners.push(_4cc);return _4cc;},unlisten:function(_4cd){var list=this._listeners;for(var i=0,_4ce;_4ce=list[i];i++){if(_4ce==_4cd){this.mxform.unlisten(_4cd);list.splice(i,1);break;}}},capture:function(_4cf,evt,_4d0){var _4d1=_4a9.capture(_4cf,evt,_4b3.hitch(this,_4d0));this.addOnDestroy(_4d1.remove);},collect:function(_4d2,_4d3){_4ac.collect(_4d2,_4d3,this);},sequence:function(_4d4,_4d5){_4ac.sequence(_4d4,_4d5,this);},translate:function(str,args,_4d6){return window.mx.ui.translate(this.declaredClass,str,args,_4d6);},domData:function(){this.domData=_4a9.getScopedData();return this.domData.apply(this,arguments);},checkDisabled:function(){return this.readOnly||this._disabled;},updateDisabled:function(){this.set("disabled",undefined);},_getDisabledAttr:function(){return this._cachedDisabled;},_setDisabledAttr:function(_4d7){if(_4d7!=null){this._disabled=!!_4d7;}_4d7=this.checkDisabled();if(_4d7!==this._cachedDisabled){this._cachedDisabled=_4d7;if(_4d7){this.disable();}else{this.enable();}}},enable:function(){},disable:function(){},resize:function(box){this.resizeChildren(this.domNode,!box);},_setMxidAttr:function(_4d8){_4b1.set(this.domNode,"data-mendix-id",_4d8);},_setFocusIndexAttr:function(_4d9){if(_4d9!=null){_4b1.set(this.domNode,"focusindex",_4d9);}},_getLoadedAttr:function(){return this._loaded;},_setLoadedAttr:function(_4da){this._loaded=!!_4da;if(_4da){var _4db=this._loadCalls;while(_4db.length){_4db.shift()();}}},actLoaded:function(_4dc){this.set("loaded",true);_4dc&&_4dc();},addOnLoad:function(func){this._loaded?func():this._loadCalls.push(func);},addOnDestroy:function(func){this._destroyed?func():this._destroyCalls.push(func);},destroy:function(_4dd){this._beingDestroyed=true;try{this.uninitialize();}catch(e){throw new Error(this.id+".uninitialize: "+e);}function _4de(w){if(w.destroyRecursive){w.destroyRecursive(_4dd);}else{if(w.destroy){w.destroy(_4dd);}}};_4b2.forEach(this._connects,_4b3.hitch(this,"disconnect"));_4b2.forEach(this._supportingWidgets,_4de);if(this.domNode){_4b2.forEach(_4b0.findWidgets(this.domNode),_4de);}this.destroyRendering(_4dd);_4b0.remove(this.id);this._destroyed=true;},destroyRendering:function(){var _4df=this.domNode,_4e0=this.srcNodeRef;this.inherited(arguments,[true]);if(_4df){_4a9.orphan(_4df);}this.domNode=_4df;this.srcNodeRef=_4e0;},uninitialize:function(){if(this._loaded){var list=this._listeners,_4e1=this._destroyCalls;while(list.length){this.mxform.unlisten(list.pop());}this.unsubscribeAll();while(_4e1.length){_4e1.shift().call(this);}}else{_4ae.error(this.id+".uninitialize: widget not loaded yet, check widget structure");this.addOnLoad(_4b3.hitch(this,function(){try{this.uninitialize();}catch(e){throw new Error(this.id+".unitialize: "+e);}}));}}});return _4b5;});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_4e2,_4e3,_4e4,_4e5,_4e6,_4e7,dom,_4e8,_4e9,_4ea,_4eb,_4ec,has,_4ed,lang,on,_4ee,_4ef,_4f0,win,_4f1,_4f2,_4f3){has.add("dijit-legacy-requires",!_4ed.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){_4ee(0,function(){var _4f4=["dijit/_base/manager"];_4e2(_4f4);});}var _4f5={};function _4f6(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;};function _4f7(attr){return function(val){_4e8[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};};function _4f8(a,b){return a===b||(a!==a&&b!==b);};var _4f9=_4e7("dijit._WidgetBase",[_4ef,_4f1],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_4f7("lang"),dir:"",_setDirAttr:_4f7("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_4e5.blankGif||_4e2.toUrl("dojo/resources/blank.gif"),_introspect:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var _4fa=ctor.prototype,_4fb=ctor._setterAttrs=[],_4fc=(ctor._onMap={});for(var name in _4fa.attributeMap){_4fb.push(name);}for(name in _4fa){if(/^on/.test(name)){_4fc[name.substring(2).toLowerCase()]=name;}if(/^_set[A-Z](.*)Attr$/.test(name)){name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);if(!_4fa.attributeMap||!(name in _4fa.attributeMap)){_4fb.push(name);}}}}},postscript:function(_4fd,_4fe){this.create(_4fd,_4fe);},create:function(_4ff,_500){this._introspect();this.srcNodeRef=dom.byId(_500);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_4ff){this.params=_4ff;lang.mixin(this,_4ff);}this.postMixInProperties();if(!this.id){this.id=_4f3.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_4f3.add(this);this.buildRendering();var _501;if(this.domNode){this._applyAttributes();var _502=this.srcNodeRef;if(_502&&_502.parentNode&&this.domNode!==_502){_502.parentNode.replaceChild(this.domNode,_502);_501=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_501){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _503={};for(var key in this.params||{}){_503[key]=this._get(key);}_4e3.forEach(this.constructor._setterAttrs,function(key){if(!(key in _503)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _503){this.set(key,_503[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _504=this.baseClass.split(" ");if(!this.isLeftToRight()){_504=_504.concat(_4e3.map(_504,function(name){return name+"Rtl";}));}_4e9.add(this.domNode,_504);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_4e3.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_505){this._beingDestroyed=true;this.destroyDescendants(_505);this.destroy(_505);},destroy:function(_506){this._beingDestroyed=true;this.uninitialize();function _507(w){if(w.destroyRecursive){w.destroyRecursive(_506);}else{if(w.destroy){w.destroy(_506);}}};_4e3.forEach(this._connects,lang.hitch(this,"disconnect"));_4e3.forEach(this._supportingWidgets,_507);if(this.domNode){_4e3.forEach(_4f3.findWidgets(this.domNode,this.containerNode),_507);}this.destroyRendering(_506);_4f3.remove(this.id);this._destroyed=true;},destroyRendering:function(_508){if(this.bgIframe){this.bgIframe.destroy(_508);delete this.bgIframe;}if(this.domNode){if(_508){_4e8.remove(this.domNode,"widgetId");}else{_4ea.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_508){_4ea.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_509){_4e3.forEach(this.getChildren(),function(_50a){if(_50a.destroyRecursive){_50a.destroyRecursive(_509);}});},uninitialize:function(){return false;},_setStyleAttr:function(_50b){var _50c=this.domNode;if(lang.isObject(_50b)){_4ec.set(_50c,_50b);}else{if(_50c.style.cssText){_50c.style.cssText+="; "+_50b;}else{_50c.style.cssText=_50b;}}this._set("style",_50b);},_attrToDom:function(attr,_50d,_50e){_50e=arguments.length>=3?_50e:this.attributeMap[attr];_4e3.forEach(lang.isArray(_50e)?_50e:[_50e],function(_50f){var _510=this[_50f.node||_50f||"domNode"];var type=_50f.type||"attribute";switch(type){case "attribute":if(lang.isFunction(_50d)){_50d=lang.hitch(this,_50d);}var _511=_50f.attribute?_50f.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);if(_510.tagName){_4e8.set(_510,_511,_50d);}else{_510.set(_511,_50d);}break;case "innerText":_510.innerHTML="";_510.appendChild(this.ownerDocument.createTextNode(_50d));break;case "innerHTML":_510.innerHTML=_50d;break;case "class":_4e9.replace(_510,_50d,this[attr]);break;}},this);},get:function(name){var _512=this._getAttrNames(name);return this[_512.g]?this[_512.g]():this._get(name);},set:function(name,_513){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _514=this._getAttrNames(name),_515=this[_514.s];if(lang.isFunction(_515)){var _516=_515.apply(this,Array.prototype.slice.call(arguments,1));}else{var _517=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_517]&&this[_517].tagName,_518=tag&&(_4f5[tag]||(_4f5[tag]=_4f6(this[_517]))),map=name in this.attributeMap?this.attributeMap[name]:_514.s in this?this[_514.s]:((_518&&_514.l in _518&&typeof _513!="function")||/^aria-|^data-|^role$/.test(name))?_517:null;if(map!=null){this._attrToDom(name,_513,map);}this._set(name,_513);}return _516||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_519){var _51a=this[name];this[name]=_519;if(this._created&&!_4f8(_51a,_519)){if(this._watchCallbacks){this._watchCallbacks(name,_51a,_519);}this.emit("attrmodified-"+name,{detail:{prevValue:_51a,newValue:_519}});}},_get:function(name){return this[name];},emit:function(type,_51b,_51c){_51b=_51b||{};if(_51b.bubbles===undefined){_51b.bubbles=true;}if(_51b.cancelable===undefined){_51b.cancelable=true;}if(!_51b.detail){_51b.detail={};}_51b.detail.widget=this;var ret,_51d=this["on"+type];if(_51d){ret=_51d.apply(this,_51c?_51c:[_51b]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,type.toLowerCase(),_51b);}return ret;},on:function(type,func){var _51e=this._onMap(type);if(_51e){return _4e4.after(this,_51e,func,true);}return this.own(on(this.domNode,type,func))[0];},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[typeof type=="string"&&type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_4f3.findWidgets(this.containerNode):[];},getParent:function(){return _4f3.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_51f,_520){return this.own(_4e6.connect(obj,_51f,this,_520))[0];},disconnect:function(_521){_521.remove();},subscribe:function(t,_522){return this.own(_4f0.subscribe(t,lang.hitch(this,_522)))[0];},unsubscribe:function(_523){_523.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_4eb.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_4ec.get(this.domNode,"display")!="none");},placeAt:function(_524,_525){var _526=!_524.tagName&&_4f3.byId(_524);if(_526&&_526.addChild&&(!_525||typeof _525==="number")){_526.addChild(this,_525);}else{var ref=_526&&("domNode" in _526)?(_526.containerNode&&!/after|before|replace/.test(_525||"")?_526.containerNode:_526.domNode):dom.byId(_524,this.ownerDocument);_4ea.place(this.domNode,ref,_525);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,_527){var _528=setTimeout(lang.hitch(this,function(){if(!_528){return;}_528=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),_527||0);return {remove:function(){if(_528){clearTimeout(_528);_528=null;}return null;}};}});if(has("dojo-bidi")){_4f9.extend(_4f2);}return _4f9;});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_529,_52a,_52b){return _52b("dijit.Destroyable",null,{destroy:function(_52c){this._destroyed=true;},own:function(){var _52d=["destroyRecursive","destroy","remove"];_529.forEach(arguments,function(_52e){var _52f;var odh=_52a.before(this,"destroy",function(_530){_52e[_52f](_530);});var hdhs=[];function _531(){odh.remove();_529.forEach(hdhs,function(hdh){hdh.remove();});};if(_52e.then){_52f="cancel";_52e.then(_531,_531);}else{_529.forEach(_52d,function(_532){if(typeof _52e[_532]==="function"){if(!_52f){_52f=_532;}hdhs.push(_52a.after(_52e,_532,_531,true));}});}},this);return arguments;}});});},"dijit/_base":function(){define(["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_533){return _533._base;});},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(_534,_535,_536,_537){var _538=_535("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_539){if(this._hash[_539.id]){throw new Error("Tried to register widget with id=="+_539.id+" but that id is already registered");}this._hash[_539.id]=_539;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_53a){_53a=_53a||_536.global;var i=0,id;for(id in this._hash){func.call(_53a,this._hash[id],i++,this._hash);}return this;},filter:function(_53b,_53c){_53c=_53c||_536.global;var res=new _538(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_53b.call(_53c,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new _538(),id,_53d;for(id in this._hash){_53d=this._hash[id];if(_53d.declaredClass==cls){res.add(_53d);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_53e){return _534.map(this.toArray(),func,_53e);},every:function(func,_53f){_53f=_53f||_536.global;var x=0,i;for(i in this._hash){if(!func.call(_53f,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_540){_540=_540||_536.global;var x=0,i;for(i in this._hash){if(func.call(_540,this._hash[i],x++,this._hash)){return true;}}return false;}});_534.forEach(["forEach","filter","byClass","map","every","some"],function(func){_537[func]=_538.prototype[func];});return _538;});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_541,_542,lang,_543,_544){var _545={};_541.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_545[name]=_543[name];});lang.mixin(_545,{defaultDuration:_542["defaultDuration"]||200});lang.mixin(_544,_545);return _544;});},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(_546,lang,_547,_548,_549){var _54a={};_54a.getViewport=function(){return _547.getBox();};_54a.placeOnScreen=_548.at;_54a.placeOnScreenAroundElement=function(node,_54b,_54c,_54d){var _54e;if(lang.isArray(_54c)){_54e=_54c;}else{_54e=[];for(var key in _54c){_54e.push({aroundCorner:key,corner:_54c[key]});}}return _548.around(node,_54b,_54e,true,_54d);};_54a.placeOnScreenAroundNode=_54a.placeOnScreenAroundElement;_54a.placeOnScreenAroundRectangle=_54a.placeOnScreenAroundElement;_54a.getPopupAroundAlignment=function(_54f,_550){var _551={};_546.forEach(_54f,function(pos){var ltr=_550;switch(pos){case "after":_551[_550?"BR":"BL"]=_550?"BL":"BR";break;case "before":_551[_550?"BL":"BR"]=_550?"BR":"BL";break;case "below-alt":ltr=!ltr;case "below":_551[ltr?"BL":"BR"]=ltr?"TL":"TR";_551[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above-alt":ltr=!ltr;case "above":default:_551[ltr?"TL":"TR"]=ltr?"BL":"BR";_551[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});return _551;};lang.mixin(_549,_54a);return _549;});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_552,_553,_554,_555,win,_556,_557){function _558(node,_559,_55a,_55b){var view=_556.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_552.some(_559,function(_55c){var _55d=_55c.corner;var pos=_55c.pos;var _55e=0;var _55f={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_55d.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_55d.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_55a){var res=_55a(node,_55c.aroundCorner,_55d,_55f,_55b);_55e=typeof res=="undefined"?0:res;}var _560=node.style;var _561=_560.display;var _562=_560.visibility;if(_560.display=="none"){_560.visibility="hidden";_560.display="";}var bb=_553.position(node);_560.display=_561;_560.visibility=_562;var _563={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_55d.charAt(1)],_564={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_55d.charAt(0)],_565=Math.max(view.l,_563),_566=Math.max(view.t,_564),endX=Math.min(view.l+view.w,_563+bb.w),endY=Math.min(view.t+view.h,_564+bb.h),_567=endX-_565,_568=endY-_566;_55e+=(bb.w-_567)+(bb.h-_568);if(best==null||_55e<best.overflow){best={corner:_55d,aroundCorner:_55c.aroundCorner,x:_565,y:_566,w:_567,h:_568,overflow:_55e,spaceAvailable:_55f};}return !_55e;});if(best.overflow&&_55a){_55a(node,best.aroundCorner,best.corner,best.spaceAvailable,_55b);}var top=best.y,side=best.x,body=win.body(node.ownerDocument);if(/relative|absolute/.test(_554.get(body,"position"))){top-=_554.get(body,"marginTop");side-=_554.get(body,"marginLeft");}var s=node.style;s.top=top+"px";s.left=side+"px";s.right="auto";return best;};var _569={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};var _56a={at:function(node,pos,_56b,_56c,_56d){var _56e=_552.map(_56b,function(_56f){var c={corner:_56f,aroundCorner:_569[_56f],pos:{x:pos.x,y:pos.y}};if(_56c){c.pos.x+=_56f.charAt(1)=="L"?_56c.x:-_56c.x;c.pos.y+=_56f.charAt(0)=="T"?_56c.y:-_56c.y;}return c;});return _558(node,_56e,_56d);},around:function(node,_570,_571,_572,_573){var _574;if(typeof _570=="string"||"offsetWidth" in _570||"ownerSVGElement" in _570){_574=_553.position(_570,true);if(/^(above|below)/.test(_571[0])){var _575=_553.getBorderExtents(_570),_576=_570.firstChild?_553.getBorderExtents(_570.firstChild):{t:0,l:0,b:0,r:0},_577=_553.getBorderExtents(node),_578=node.firstChild?_553.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};_574.y+=Math.min(_575.t+_576.t,_577.t+_578.t);_574.h-=Math.min(_575.t+_576.t,_577.t+_578.t)+Math.min(_575.b+_576.b,_577.b+_578.b);}}else{_574=_570;}if(_570.parentNode){var _579=_554.getComputedStyle(_570).position=="absolute";var _57a=_570.parentNode;while(_57a&&_57a.nodeType==1&&_57a.nodeName!="BODY"){var _57b=_553.position(_57a,true),pcs=_554.getComputedStyle(_57a);if(/relative|absolute/.test(pcs.position)){_579=false;}if(!_579&&/hidden|auto|scroll/.test(pcs.overflow)){var _57c=Math.min(_574.y+_574.h,_57b.y+_57b.h);var _57d=Math.min(_574.x+_574.w,_57b.x+_57b.w);_574.x=Math.max(_574.x,_57b.x);_574.y=Math.max(_574.y,_57b.y);_574.h=_57c-_574.y;_574.w=_57d-_574.x;}if(pcs.position=="absolute"){_579=true;}_57a=_57a.parentNode;}}var x=_574.x,y=_574.y,_57e="w" in _574?_574.w:(_574.w=_574.width),_57f="h" in _574?_574.h:(_555.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_574.height+", width:"+_57e+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_574.height+", w:"+_57e+" }","","2.0"),_574.h=_574.height);var _580=[];function push(_581,_582){_580.push({aroundCorner:_581,corner:_582,pos:{x:{"L":x,"R":x+_57e,"M":x+(_57e>>1)}[_581.charAt(1)],y:{"T":y,"B":y+_57f,"M":y+(_57f>>1)}[_581.charAt(0)]}});};_552.forEach(_571,function(pos){var ltr=_572;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _583=_558(node,_580,_573,{w:_57e,h:_57f});_583.aroundNodePos=_574;return _583;}};return _557.place=_56a;});},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_584,on,_585,has,_586){var _587=new _584();var _588;_585(function(){var _589=_586.getBox();_587._rlh=on(window,"resize",function(){var _58a=_586.getBox();if(_589.h==_58a.h&&_589.w==_58a.w){return;}_589=_58a;_587.emit("resize");});if(has("ie")==8){var _58b=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_58b){_58b=screen.deviceXDPI;_587.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_588=evt.target;});on(document,"focusout",function(evt){_588=null;});}});_587.getEffectiveBox=function(doc){var box=_586.getBox(doc);var tag=_588&&_588.tagName&&_588.tagName.toLowerCase();if(has("ios")&&_588&&!_588.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_588.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_588.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _587;});},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_58c,win,_58d){var _58e=_58d._createWrapper;_58d._createWrapper=function(_58f){if(!_58f.declaredClass){_58f={_popupWrapper:(_58f.parentNode&&_58c.contains(_58f.parentNode,"dijitPopup"))?_58f.parentNode:null,domNode:_58f,destroy:function(){},ownerDocument:_58f.ownerDocument,ownerDocumentBody:win.body(_58f.ownerDocument)};}return _58e.call(this,_58f);};var _590=_58d.open;_58d.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _590.call(this,args);};return _58d;});},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(_591,_592,_593,dom,_594,_595,_596,_597,has,keys,lang,on,_598,_599,_59a,_59b){function _59c(){if(this._popupWrapper){_595.destroy(this._popupWrapper);delete this._popupWrapper;}};var _59d=_593(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var _59e=this._firstAroundPosition,_59f=_596.position(this._firstAroundNode,true),dx=_59f.x-_59e.x,dy=_59f.y-_59e.y;if(dx||dy){this._firstAroundPosition=_59f;for(var i=0;i<this._stack.length;i++){var _5a0=this._stack[i].wrapper.style;_5a0.top=(parseFloat(_5a0.top)+dy)+"px";if(_5a0.right=="auto"){_5a0.left=(parseFloat(_5a0.left)+dx)+"px";}else{_5a0.right=(parseFloat(_5a0.right)-dx)+"px";}}}this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);}},_createWrapper:function(_5a1){var _5a2=_5a1._popupWrapper,node=_5a1.domNode;if(!_5a2){_5a2=_595.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_5a1["aria-label"]||_5a1.label||_5a1.name||_5a1.id},_5a1.ownerDocumentBody);_5a2.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_5a1._popupWrapper=_5a2;_592.after(_5a1,"destroy",_59c,true);if("ontouchend" in document){on(_5a2,"touchend",function(evt){if(!/^(input|button|textarea)$/i.test(evt.target.tagName)){evt.preventDefault();}});}}return _5a2;},moveOffScreen:function(_5a3){var _5a4=this._createWrapper(_5a3);var ltr=_596.isBodyLtr(_5a3.ownerDocument),_5a5={visibility:"hidden",top:"-9999px",display:""};_5a5[ltr?"left":"right"]="-9999px";_5a5[ltr?"right":"left"]="auto";_597.set(_5a4,_5a5);return _5a4;},hide:function(_5a6){var _5a7=this._createWrapper(_5a6);_597.set(_5a7,{display:"none",height:"auto",overflow:"visible",border:""});var node=_5a6.domNode;if("_originalStyle" in node){node.style.cssText=node._originalStyle;}},getTopPopup:function(){var _5a8=this._stack;for(var pi=_5a8.length-1;pi>0&&_5a8[pi].parent===_5a8[pi-1].widget;pi--){}return _5a8[pi];},open:function(args){var _5a9=this._stack,_5aa=args.popup,node=_5aa.domNode,_5ab=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_596.isBodyLtr(_5aa.ownerDocument),_5ac=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_5a9.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_5a9[_5a9.length-1].widget.domNode))){this.close(_5a9[_5a9.length-1].widget);}var _5ad=this.moveOffScreen(_5aa);if(_5aa.startup&&!_5aa._started){_5aa.startup();}var _5ae,_5af=_596.position(node);if("maxHeight" in args&&args.maxHeight!=-1){_5ae=args.maxHeight||Infinity;}else{var _5b0=_59a.getEffectiveBox(this.ownerDocument),_5b1=_5ac?_596.position(_5ac,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};_5ae=Math.floor(Math.max(_5b1.y,_5b0.h-(_5b1.y+_5b1.h)));}if(_5af.h>_5ae){var cs=_597.getComputedStyle(node),_5b2=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;_597.set(_5ad,{overflowY:"scroll",height:_5ae+"px",border:_5b2});node._originalStyle=node.style.cssText;node.style.border="none";}_594.set(_5ad,{id:id,style:{zIndex:this._beginZIndex+_5a9.length},"class":"dijitPopup "+(_5aa.baseClass||_5aa["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(_5a9.length==0&&_5ac){this._firstAroundNode=_5ac;this._firstAroundPosition=_596.position(_5ac,true);this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);}if(has("config-bgIframe")&&!_5aa.bgIframe){_5aa.bgIframe=new _599(_5ad);}var _5b3=_5aa.orient?lang.hitch(_5aa,"orient"):null,best=_5ac?_598.around(_5ad,_5ac,_5ab,ltr,_5b3):_598.at(_5ad,args,_5ab=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_5b3);_5ad.style.visibility="visible";node.style.visibility="visible";var _5b4=[];_5b4.push(on(_5ad,"keydown",lang.hitch(this,function(evt){if(evt.keyCode==keys.ESCAPE&&args.onCancel){evt.stopPropagation();evt.preventDefault();args.onCancel();}else{if(evt.keyCode==keys.TAB){evt.stopPropagation();evt.preventDefault();var _5b5=this.getTopPopup();if(_5b5&&_5b5.onCancel){_5b5.onCancel();}}}})));if(_5aa.onCancel&&args.onCancel){_5b4.push(_5aa.on("cancel",args.onCancel));}_5b4.push(_5aa.on(_5aa.onExecute?"execute":"change",lang.hitch(this,function(){var _5b6=this.getTopPopup();if(_5b6&&_5b6.onExecute){_5b6.onExecute();}})));_5a9.push({widget:_5aa,wrapper:_5ad,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_5b4});if(_5aa.onOpen){_5aa.onOpen(best);}return best;},close:function(_5b7){var _5b8=this._stack;while((_5b7&&_591.some(_5b8,function(elem){return elem.widget==_5b7;}))||(!_5b7&&_5b8.length)){var top=_5b8.pop(),_5b9=top.widget,_5ba=top.onClose;if(_5b9.bgIframe){_5b9.bgIframe.destroy();delete _5b9.bgIframe;}if(_5b9.onClose){_5b9.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_5b9&&_5b9.domNode){this.hide(_5b9);}if(_5ba){_5ba();}}if(_5b8.length==0&&this._aroundMoveListener){clearTimeout(this._aroundMoveListener);this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;}}});return (_59b.popup=new _59d());});},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_5bb,_5bc,_5bd,_5be,_5bf,lang,on,has){has.add("config-bgIframe",(has("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent))||(has("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent)));var _5c0=new function(){var _5c1=[];this.pop=function(){var _5c2;if(_5c1.length){_5c2=_5c1.pop();_5c2.style.display="";}else{if(has("ie")<9){var burl=_5bd["dojoBlankHtmlUrl"]||_5bb.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_5c2=document.createElement(html);}else{_5c2=_5be.create("iframe");_5c2.src="javascript:\"\"";_5c2.className="dijitBackgroundIframe";_5c2.setAttribute("role","presentation");_5bf.set(_5c2,"opacity",0.1);}_5c2.tabIndex=-1;}return _5c2;};this.push=function(_5c3){_5c3.style.display="none";_5c1.push(_5c3);};}();_5bc.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("config-bgIframe")){var _5c4=(this.iframe=_5c0.pop());node.appendChild(_5c4);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,"resize",node));}else{_5bf.set(_5c4,{width:"100%",height:"100%"});}}};lang.extend(_5bc.BackgroundIframe,{resize:function(node){if(this.iframe){_5bf.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){this.iframe.parentNode.removeChild(this.iframe);_5c0.push(this.iframe);delete this.iframe;}}});return _5bc.BackgroundIframe;});},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(_5c5,_5c6){_5c6.scrollIntoView=function(node,pos){_5c5.scrollIntoView(node,pos);};});},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_5c7,lang,_5c8,has,_5c9){var html=_5c9.doc.documentElement,ie=has("ie"),_5ca=has("opera"),maj=Math.floor,ff=has("ff"),_5cb=_5c7.boxModel.replace(/-/,""),_5cc={"dj_quirks":has("quirks"),"dj_opera":_5ca,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};if(ie){_5cc["dj_ie"]=true;_5cc["dj_ie"+maj(ie)]=true;_5cc["dj_iequirks"]=has("quirks");}if(ff){_5cc["dj_ff"+maj(ff)]=true;}_5cc["dj_"+_5cb]=true;var _5cd="";for(var clz in _5cc){if(_5cc[clz]){_5cd+=clz+" ";}}html.className=lang.trim(html.className+" "+_5cd);_5c8(function(){if(!_5c7.isBodyLtr()){var _5ce="dj_rtl dijitRtl "+_5cd.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_5ce+"dj_rtl dijitRtl "+_5cd.replace(/ /g,"-rtl "));}});return has;});},"dijit/_base/typematic":function(){define(["../typematic"],function(){});},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_5cf,_5d0,lang,on,has,_5d1){var _5d2=(_5d1.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_5d3,node,_5d4,obj,_5d5,_5d6,_5d7){if(obj!=this._obj){this.stop();this._initialDelay=_5d6||500;this._subsequentDelay=_5d5||0.9;this._minDelay=_5d7||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_5d3,_5d4);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_5d8,_5d9,_5da,_5db,_5dc,_5dd){var type="keyCode" in _5d8?"keydown":"charCode" in _5d8?"keypress":_5d0._keypress,attr="keyCode" in _5d8?"keyCode":"charCode" in _5d8?"charCode":"charOrCode";var _5de=[on(node,type,lang.hitch(this,function(evt){if(evt[attr]==_5d8[attr]&&(_5d8.ctrlKey===undefined||_5d8.ctrlKey==evt.ctrlKey)&&(_5d8.altKey===undefined||_5d8.altKey==evt.altKey)&&(_5d8.metaKey===undefined||_5d8.metaKey==(evt.metaKey||false))&&(_5d8.shiftKey===undefined||_5d8.shiftKey==evt.shiftKey)){evt.stopPropagation();evt.preventDefault();_5d2.trigger(evt,_5d9,node,_5da,_5d8,_5db,_5dc,_5dd);}else{if(_5d2._obj==_5d8){_5d2.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_5d2._obj==_5d8){_5d2.stop();}}))];return {remove:function(){_5cf.forEach(_5de,function(h){h.remove();});}};},addMouseListener:function(node,_5df,_5e0,_5e1,_5e2,_5e3){var _5e4=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_5d2.trigger(evt,_5df,node,_5e0,node,_5e1,_5e2,_5e3);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_5d2.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_5d2.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_5d2.trigger(evt,_5df,node,_5e0,node,_5e1,_5e2,_5e3);setTimeout(lang.hitch(this,_5d2.stop),50);}}))];return {remove:function(){_5cf.forEach(_5e4,function(h){h.remove();});}};},addListener:function(_5e5,_5e6,_5e7,_5e8,_5e9,_5ea,_5eb,_5ec){var _5ed=[this.addKeyListener(_5e6,_5e7,_5e8,_5e9,_5ea,_5eb,_5ec),this.addMouseListener(_5e5,_5e8,_5e9,_5ea,_5eb,_5ec)];return {remove:function(){_5cf.forEach(_5ed,function(h){h.remove();});}};}});return _5d2;});},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_5ee,lang,_5ef){var _5f0={hasWaiRole:function(elem,role){var _5f1=this.getWaiRole(elem);return role?(_5f1.indexOf(role)>-1):(_5f1.length>0);},getWaiRole:function(elem){return lang.trim((_5ee.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_5ee.set(elem,"role",role);},removeWaiRole:function(elem,role){var _5f2=_5ee.get(elem,"role");if(!_5f2){return;}if(role){var t=lang.trim((" "+_5f2+" ").replace(" "+role+" "," "));_5ee.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_5f3){return elem.hasAttribute?elem.hasAttribute("aria-"+_5f3):!!elem.getAttribute("aria-"+_5f3);},getWaiState:function(elem,_5f4){return elem.getAttribute("aria-"+_5f4)||"";},setWaiState:function(elem,_5f5,_5f6){elem.setAttribute("aria-"+_5f5,_5f6);},removeWaiState:function(elem,_5f7){elem.removeAttribute("aria-"+_5f7);}};lang.mixin(_5ef,_5f0);return _5ef;});},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_5f8,has,_5f9,win){_5f9(function(){if(has("highcontrast")){_5f8.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_5fa,_5fb,_5fc,_5fd,has,_5fe,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url(\""+(_5fb.blankGif||_5fa.toUrl("./resources/blank.gif"))+"\");";win.body().appendChild(div);var cs=_5fd.getComputedStyle(div),_5ff=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_5ff&&(_5ff=="none"||_5ff=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_5fe(function(){if(has("highcontrast")){_5fc.add(win.body(),"dj_a11y");}});return has;});},"dijit/_base/window":function(){define(["dojo/window","../main"],function(_600,_601){_601.getDocumentWindow=function(doc){return _600.get(doc);};});},"mxui/widget/_Widget":function(){define(["mxui/wm/focus","mxui/dom","mendix/lang","mendix/logger","dijit/_Widget","dijit/registry","dojo/query","dojo/_base/array","dojo/_base/lang","dojo/_base/kernel","dojo/_base/declare"],function(_602,_603,_604,_605,_606,_607,_608,_609,_60a,_60b,_60c){_606.prototype.destroy=function(_60d){this._beingDestroyed=true;if(this.uninitializer){this.uninitializer();}try{this.uninitialize();}catch(e){throw new Error(this.id+".uninitialize: "+e);}function _60e(w){if(w.destroyRecursive){w.destroyRecursive(_60d);}else{if(w.destroy){w.destroy(_60d);}}};_609.forEach(this._connects,_60a.hitch(this,"disconnect"));_609.forEach(this._supportingWidgets,_60e);if(this.domNode){_609.forEach(_607.findWidgets(this.domNode),_60e);}this.destroyRendering(_60d);_607.remove(this.id);this._destroyed=true;};var _60f=_60c(null,{applyContext:function(_610,_611){this.mxcontext=_610;if(this.isContainer){this.applyContextRecursive(_611);}else{if(typeof this.update=="function"){var _612=_610.getTrackObject(),_613=_610.getTrackId();if(_612){this.update(_612,_611);}else{if(_613){window.mx.data.get({guid:_613,callback:function(obj){if(!obj){_605.error(this.id+".applyContext: error while fetching object with guid "+_613);}this.update(obj,_611);},error:function(e){window.mx.onError(e);this.update(null,_611);}},this);}else{this.update(null,_611);}}}else{_611&&_611();}}},applyContextRecursive:function(_614){var _615=_607.findWidgets(this.domNode);if(_615.length==0){_614&&_614();return;}this.callFetchOnChildren(this.mxcontext,_615,_614);},patchChildImpl:function(_616){if(_616.applyContext==null){if(_616.constructor){_60a.extend(_616.constructor,_60f.prototype);}else{_60a.mixin(_616,_60f.prototype);}}},callFetchOnChildren:function(_617,_618,_619){var id=this.id,_61a=[],_61b=null;if(this.createContext){_61b=this.createContext();_61b.dupFrom(_617);}else{_61b=_617;}_61b.freeze();_609.forEach(_618,function(_61c,i){this.patchChildImpl(_61c);_61a.push(function(_61d){var _61e=function(){try{_61c.applyContext(_61b,_61d);}catch(e){_605.error(id+".applyContextRecursive: ERROR:"+_61c.id+": "+e.message,e);_61d();}};if((i+1)%10===0){setTimeout(_61e,0);}else{_61e();}});},this);var _61f=_60a.hitch(window.mx.ui,"cleanContext",_61b.ident,this);_604.sequence(_61a,function(){_61f();_619&&_619();});},isLoadedRecursive:function(_620,node){var _621=_608("[widgetId]",(node!=null?node:this.domNode)),_622=_621.map(_607.byNode),_623=[],id=this.id;_609.forEach(_622,function(kid){if(kid.addOnLoad){_623.push(function(_624){kid.addOnLoad(_624);});}else{}});_604.collect(_623,function(){_620&&_620();});}});var _625=_60c([_60f],{declaredClass:"mxui.widget._Widget",_mx_:true,_loaded:false,_loadCalls:null,_destroyCalls:null,_liveConnects:null,_subscriptions:null,mxid:"",uniqueid:"",content_id:"",app_flow_id:"",tabIndex:"",focusIndex:"",isInactive:false,attributeMap:_60a.delegate(_606.prototype.attributeMap,{mxid:"",isInactive:"",focusIndex:""}),constructor:function(){this._loadCalls=[];this._destroyCalls=[];this._liveConnects=[];this._subscriptions=[];},_getDisabledAttr:function(){return this.isInactive;},_setDisabledAttr:function(_626){this.isInactive=!!_626;},loaded:function(){this._loaded=true;var _627=this._loadCalls;while(_627.length!=0){try{(_627.shift())();}catch(e){_605.error(this.id+".loaded/actLoaded: Broken onLoad function!!! "+e.message);}}this.loaded=function(){return false;};return true;},actLoaded:function(_628){this.loaded();_628&&_628();},isLoaded:function(){return this._loaded;},addOnLoad:function(fnc){this._loaded?fnc():this._loadCalls.push(fnc);},addOnDestroy:function(fnc){this._destroyCalls.push(fnc);},subscribe:function(sub){var subs=this._subscriptions,guid=sub.guid,val=sub.val,attr=sub.attr,_629=sub.entity;if(sub.attr){if(_609.some(subs,function(sub){return ((sub.guid==guid)&&(sub.attr==attr));})){return;}}else{if(sub.val){if(_609.some(subs,function(sub){return sub.guid==guid&&sub.val;})){return;}}else{if(sub.guid){if(_609.some(subs,function(sub){return ((sub.guid==guid)&&(sub.attr==null));})){return;}}else{if(sub.entity){if(_609.some(subs,function(sub){return (sub.entity&&sub.entity==_629);})){return;}}}}}var _62a=window.mx.data.subscribe(sub,this);subs.push(_62a);return _62a;},unsubscribe:function(_62b){var subs=this._subscriptions;for(var i=subs.length-1,sub;sub=subs[i];i--){if(sub==_62b){window.mx.data.unsubscribe(sub);subs.splice(i,1);break;}}},removeSubscriptions:function(){var _62c=this._subscriptions;while(_62c.length!=0){window.mx.data.unsubscribe(_62c.shift());}this._subscriptions=[];},liveConnect:function(node,evt,map){this._liveConnects.push(_603.liveConnect(node,evt,this,map));},liveDisconnect:function(_62d){var _62e=this._liveConnects;for(var i=0,_62f;_62f=_62e[i];i++){if(_62f==_62d){_603.liveDisconnect(_62d);_62e.splice(i,1);return;}}},domData:function(){this.domData=_603.getScopedData();return this.domData.apply(this,arguments);},markupFactory:function(_630,node,_631){var _632=_603.getTabIndex(node);if(_632){_630.focusIndex=_632;}_630.content_id=_630.content_id?_630.content_id:node.getAttribute("content_id");return new _631(_630,node);},resizeContent:function(){this.mxform.resize();},disposeContent:function(){this.mxform.dispose();},getTitle:function(){return this.mxform.getTitle();},getUIPlace:function(){return this.mxform.place;},getContent:function(){return this.content_id;},objectUpdate:function(obj,_633){if(this.objectUpdateNotification.length==2){this.objectUpdateNotification(obj,_633);}else{this.objectUpdateNotification(obj);_633&&_633();}},objectUpdateNotification:function(obj){},validationUpdate:function(){return this.refresh();},sequence:function(_634,_635){_604.sequence(_634,_635,this);},collect:function(_636,_637){_604.collect(_636,_637,this);},addFocusBox:function(node){var box=_602.addBox(node);this.addOnDestroy(function(){_602.unregister(box);});return box;},getFocusBox:function(node){return _602.byNode(node);},resize:function(box){},uninitialize:function(){if(!_625.prototype.isLoaded.call(this)){_605.error("Looks like "+this.id+" never loads up, check the structure of the widget");this.addOnLoad(_60a.hitch(this,function(){try{this.uninitialize();}catch(e){_605.error(this.id+".uninitialize: ERROR when calling uninitialize");}}));}else{this.removeSubscriptions();var _638=this._liveConnects,_639=this._destroyCalls;while(_638.length){_603.liveDisconnect(_638.pop());}while(_639.length){(_639.shift()).call(this);}}}});return _625;});},"dijit/_Widget":function(){define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_63a,_63b,_63c,_63d,has,_63e,lang,_63f,_640,_641,_642,_643,_644){function _645(){};function _646(_647){return function(obj,_648,_649,_64a){if(obj&&typeof _648=="string"&&obj[_648]==_645){return obj.on(_648.substring(2).toLowerCase(),lang.hitch(_649,_64a));}return _647.apply(_63c,arguments);};};_63a.around(_63c,"connect",_646);if(_63e.connect){_63a.around(_63e,"connect",_646);}var _64b=_63d("dijit._Widget",[_642,_643,_644],{onClick:_645,onDblClick:_645,onKeyDown:_645,onKeyPress:_645,onKeyUp:_645,onMouseDown:_645,onMouseMove:_645,onMouseOut:_645,onMouseOver:_645,onMouseLeave:_645,onMouseEnter:_645,onMouseUp:_645,constructor:function(_64c){this._toConnect={};for(var name in _64c){if(this[name]===_645){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_64c[name];delete _64c[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_645){return _63c.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_64d){_63e.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_64d);},attr:function(name,_64e){var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_63e.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_63f("[widgetId]",this.containerNode).map(_641.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_640(0,function(){var _64f=["dijit/_base"];require(_64f);});}return _64b;});},"dijit/_OnDijitClickMixin":function(){define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_650,keys,_651,has,_652){var ret=_651("dijit._OnDijitClickMixin",null,{connect:function(obj,_653,_654){return this.inherited(arguments,[obj,_653=="ondijitclick"?_652:_653,_654]);}});ret.a11yclick=_652;return ret;});},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(keys,_655,on,_656){function _657(e){if((e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){for(var node=e.target;node;node=node.parentNode){if(node.dojoClick){return true;}}}};var _658;on(document,"keydown",function(e){if(_657(e)){_658=e.target;e.preventDefault();}else{_658=null;}});on(document,"keyup",function(e){if(_657(e)&&e.target==_658){_658=null;on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});}});var _659=function(node,_65a){node.dojoClick=true;return on(node,"click",_65a);};_659.click=_659;_659.press=function(node,_65b){var _65c=on(node,_656.press,function(evt){if(evt.type=="mousedown"&&!_655.isLeft(evt)){return;}_65b(evt);}),_65d=on(node,"keydown",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_65b(evt);}});return {remove:function(){_65c.remove();_65d.remove();}};};_659.release=function(node,_65e){var _65f=on(node,_656.release,function(evt){if(evt.type=="mouseup"&&!_655.isLeft(evt)){return;}_65e(evt);}),_660=on(node,"keyup",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_65e(evt);}});return {remove:function(){_65f.remove();_660.remove();}};};_659.move=_656.move;return _659;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(dojo,_661,dom,_662,lang,on,has,_663,_664,win){var ios4=has("ios")<5;var _665=has("pointer-events")||has("MSPointer"),_666=(function(){var _667={};for(var type in {down:1,move:1,up:1,cancel:1,over:1,out:1}){_667[type]=has("MSPointer")?"MSPointer"+type.charAt(0).toUpperCase()+type.slice(1):"pointer"+type;}return _667;})();var _668=has("touch-events");var _669,_66a,_66b=false,_66c,_66d,_66e,_66f,_670,_671;var _672;function _673(_674,_675,_676){if(_665&&_676){return function(node,_677){return on(node,_676,_677);};}else{if(_668){return function(node,_678){var _679=on(node,_675,function(evt){_678.call(this,evt);_672=(new Date()).getTime();}),_67a=on(node,_674,function(evt){if(!_672||(new Date()).getTime()>_672+1000){_678.call(this,evt);}});return {remove:function(){_679.remove();_67a.remove();}};};}else{return function(node,_67b){return on(node,_674,_67b);};}}};function _67c(node){do{if(node.dojoClick!==undefined){return node;}}while(node=node.parentNode);};function _67d(e,_67e,_67f){var _680=_67c(e.target);_66a=!e.target.disabled&&_680&&_680.dojoClick;if(_66a){_66b=(_66a=="useTarget");_66c=(_66b?_680:e.target);if(_66b){e.preventDefault();}_66d=e.changedTouches?e.changedTouches[0].pageX-win.global.pageXOffset:e.clientX;_66e=e.changedTouches?e.changedTouches[0].pageY-win.global.pageYOffset:e.clientY;_66f=(typeof _66a=="object"?_66a.x:(typeof _66a=="number"?_66a:0))||4;_670=(typeof _66a=="object"?_66a.y:(typeof _66a=="number"?_66a:0))||4;if(!_669){_669=true;function _681(e){if(_66b){_66a=dom.isDescendant(win.doc.elementFromPoint((e.changedTouches?e.changedTouches[0].pageX-win.global.pageXOffset:e.clientX),(e.changedTouches?e.changedTouches[0].pageY-win.global.pageYOffset:e.clientY)),_66c);}else{_66a=_66a&&(e.changedTouches?e.changedTouches[0].target:e.target)==_66c&&Math.abs((e.changedTouches?e.changedTouches[0].pageX-win.global.pageXOffset:e.clientX)-_66d)<=_66f&&Math.abs((e.changedTouches?e.changedTouches[0].pageY-win.global.pageYOffset:e.clientY)-_66e)<=_670;}};win.doc.addEventListener(_67e,function(e){_681(e);if(_66b){e.preventDefault();}},true);win.doc.addEventListener(_67f,function(e){_681(e);if(_66a){_671=(new Date()).getTime();var _682=(_66b?_66c:e.target);if(_682.tagName==="LABEL"){_682=dom.byId(_682.getAttribute("for"))||_682;}var src=(e.changedTouches)?e.changedTouches[0]:e;var _683=document.createEvent("MouseEvents");_683._dojo_click=true;_683.initMouseEvent("click",true,true,e.view,e.detail,src.screenX,src.screenY,src.clientX,src.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);setTimeout(function(){on.emit(_682,"click",_683);_671=(new Date()).getTime();},0);}},true);function _684(type){win.doc.addEventListener(type,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_671+1000&&!(e.target.tagName=="INPUT"&&_662.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(type=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){e.preventDefault();}}},true);};_684("click");_684("mousedown");_684("mouseup");}}};var _685;if(_665){_664(function(){win.doc.addEventListener(_666.down,function(evt){_67d(evt,_666.move,_666.up);},true);});}else{if(_668){_664(function(){_685=win.body();win.doc.addEventListener("touchstart",function(evt){_672=(new Date()).getTime();var _686=_685;_685=evt.target;on.emit(_686,"dojotouchout",{relatedTarget:_685,bubbles:true});on.emit(_685,"dojotouchover",{relatedTarget:_686,bubbles:true});_67d(evt,"touchmove","touchend");},true);function _687(evt){var _688=lang.delegate(evt,{bubbles:true});if(has("ios")>=6){_688.touches=evt.touches;_688.altKey=evt.altKey;_688.changedTouches=evt.changedTouches;_688.ctrlKey=evt.ctrlKey;_688.metaKey=evt.metaKey;_688.shiftKey=evt.shiftKey;_688.targetTouches=evt.targetTouches;}return _688;};on(win.doc,"touchmove",function(evt){_672=(new Date()).getTime();var _689=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_689){if(_685!==_689){on.emit(_685,"dojotouchout",{relatedTarget:_689,bubbles:true});on.emit(_689,"dojotouchover",{relatedTarget:_685,bubbles:true});_685=_689;}if(!on.emit(_689,"dojotouchmove",_687(evt))){evt.preventDefault();}}});on(win.doc,"touchend",function(evt){_672=(new Date()).getTime();var node=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset))||win.body();on.emit(node,"dojotouchend",_687(evt));});});}}var _68a={press:_673("mousedown","touchstart",_666.down),move:_673("mousemove","dojotouchmove",_666.move),release:_673("mouseup","dojotouchend",_666.up),cancel:_673(_663.leave,"touchcancel",_665?_666.cancel:null),over:_673("mouseover","dojotouchover",_666.over),out:_673("mouseout","dojotouchout",_666.out),enter:_663._eventHandler(_673("mouseover","dojotouchover",_666.over)),leave:_663._eventHandler(_673("mouseout","dojotouchout",_666.out))};1&&(dojo.touch=_68a);return _68a;});},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_68b,_68c,_68d,lang){lang.extend(_68c,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _68d("dijit._FocusMixin",null,{_focusManager:_68b});});},"mxui/widget/_FormWidget":function(){define(["mxui/widget/_LabeledWidget","mxui/mixin/_ValidationHelper","mxui/lib/InputMask","mxui/dom","mendix/lib/Error","mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_68e,_68f,_690,dom,_691,_692,_693,_694){var $=dom.create;var _695=_694([_68e,_68f],{declaredClass:"mxui.widget._FormWidget",attributePath:"",events:null,editNode:null,readNode:null,_mxObject:null,_rootSubs:null,_objsub:null,_attrsub:null,_path:null,_attribute:"",_entity:"",postMixInProperties:function(){var path=this._path=this.attributePath.split("/");this._attribute=path.pop();this._entity=path.slice(-1)[0]||this.entity;path.shift();var meta=window.mx.meta.getEntity(this._entity);if(!meta||!meta.has(this._attribute)){throw new Error("No permission to read or write attribute "+this._attribute+" of entity "+this._entity+", check security.");}this._rootSubs=[];},buildRendering:function(){this.readNode=this.insideFormGroup?$("p",{"class":"form-control-static"}):$("label");this.readNode.innerHTML="&nbsp;";if(!this.domNode){this.domNode=$("div",this.editNode);}if(this.mask){var mask=new _690(this.editNode,this.mask);this.addOnDestroy(_693.hitch(mask,"destroy"));}},startup:function(){this.inherited(arguments);this.set("disabled",this.readOnly);this.setupValidation(this._attribute);this.connectEvents();},update:function(obj,_696){while(this._rootSubs.length>0){this.unsubscribe(this._rootSubs.shift());}var self=this,_697=function(){window.mx.data.fetch(obj,self._path,{usexpath:true},function(obj){self.updateObject(obj,_696);},function(e){window.mx.onError(e);self.updateObject(null,_696);});};if(obj){if(this._path.length>0){this._rootSubs.push(this.subscribe({guid:obj.getGuid(),callback:function(guid){_697();}}));this._rootSubs.push(this.subscribe({guid:obj.getGuid(),attr:this._path[0],callback:function(guid,attr,val){_697();}}));}_697();}else{this.updateObject(null,_696);}},updateObject:function(obj,_698){if(obj!=this._mxObject){this._mxObject=obj;this.setValidationObject(obj);}this.removeError();this.updateDisabled();if(this._objsub){this.unsubscribe(this._objsub);this._objsub=null;}if(this._attrsub){this.unsubscribe(this._attrsub);this._attrsub=null;}if(obj){var _699=_693.hitch(this,function(val){this.removeError();if(this.get("value")!=val){this.set("value",val);}});this._objsub=this.subscribe({guid:obj.getGuid(),callback:function(){_699(this._mxObject.get2(this._attribute));}});this._attrsub=this.subscribe({guid:obj.getGuid(),attr:this._attribute,callback:function(guid,attr,val){_699(val);}});this.set("value",obj.get2(this._attribute));}else{this.set("value","");}if(_698){_698();}},connectEvents:function(){var node=this.editNode||this.domNode;this.connect(node,"change","onChange");for(var evt in this.events){if(evt!="change"){this.connect(node,evt,_693.hitch(this,"handleEvent",evt));}}},handleEvent:function(evt){var ev=this.events&&this.events[evt];if(ev){this.validatedMicroflow(ev);}},onChange:function(e){var ev=this.events&&this.events.change,_69a=this.get("value");if(this.isValid()){this._mxObject.set(this._attribute,_69a);this.set("value",_69a);}if(ev){this.validatedMicroflow(ev);}},enable:function(){if(this.editNode&&this.readNode){this.domNode.replaceChild(this.editNode,this.readNode);}else{this.domNode.removeAttribute("disabled");}},disable:function(){if(this.editNode&&this.readNode){var _69b=this.get("value");if(_69b!=null){this.set("value",_69b);}this.domNode.replaceChild(this.readNode,this.editNode);}else{this.domNode.setAttribute("disabled","disabled");}},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._attribute));},getType:function(){return window.mx.meta.getEntity(this._entity).getAttributeType(this._attribute);}});return _695;});},"mxui/widget/_LabeledWidget":function(){define(["mxui/widget/_WidgetBase","dojo/_base/array","dojo/_base/declare"],function(_69c,_69d,_69e){var _69f=_69e(_69c,{declaredClass:"mxui.widget._LabeledWidget",insideFormGroup:false,startup:function(){if(!this.insideFormGroup){return;}var _6a0=this.domNode.querySelectorAll("input,textarea,select");if(_6a0.length>1){return;}var _6a1=_6a0[0]||this.domNode.querySelector("button");if(!_6a1.id){_6a1.id=this.id+"_input";}var _6a2=this.domNode.previousSibling;_6a2.setAttribute("for",_6a1.id);}});return _69f;});},"mxui/mixin/_ValidationHelper":function(){define(["mxui/dom","mxui/lib/errorMessage","dojo/dom-class","dojo/_base/declare"],function(_6a3,_6a4,_6a5,_6a6){var _6a7=_6a6(null,{required:false,requiredMsg:"",validator:null,_errorNode:null,_valsub:null,_valattr:null,_hasError:false,setupValidation:function(attr){this._valattr=attr||null;},setValidationObject:function(obj){if(this._valsub){this.unsubscribe(this._valsub);}if(obj){this._valsub=this.subscribe({guid:obj.getGuid(),callback:this.onValidation,val:true});}this.removeError();},validatedMicroflow:function(_6a8){var self=this;var run=function(){window.mx.ui.execute({microflow:_6a8},{context:self.mxcontext,store:{caller:self.mxform}});};switch(_6a8.validate){case "node":if(this.isValid()){run();}break;case "view":this.mxform.validate(run);break;default:run();break;}},onValidation:function(list){var val=list[0],attr=this._valattr,msg=val.getReasonByAttribute(attr);if(msg!=null){this.addError(msg);val.removeAttribute(attr);}else{this.removeError();}},validate:function(){if(this.checkValidations&&!this.checkValidations()){return "";}if(this.required&&this.get("value")===""){return (this.requiredMessage||this.requiredMsg||window.mx.ui.translate("mendix.lib.Validations","required_field"));}},isValid:function(){var _6a9=this.validate();if(_6a9!=null){this.addError(_6a9);return false;}else{this.removeError();return true;}},addError:function(msg){this.removeError();this._hasError=true;if(msg){_6a4.show(this.domNode,msg);this.mxform.resize();}_6a5.add(this.domNode,"has-error");if(this.validator){this.validator.addNotification();}},removeError:function(){_6a4.hide(this.domNode);_6a5.remove(this.domNode,"has-error");if(this.validator&&this._hasError){this.validator.removeNotification();}this._hasError=false;}});return _6a7;});},"mxui/lib/errorMessage":function(){define(["mxui/dom"],function(dom){var _6aa={show:function(_6ab,_6ac){var _6ad=_6ab.querySelector(".mx-validation-message");if(!_6ad){_6ad=dom.create("div",{"class":"alert alert-danger mx-validation-message"},_6ac);_6ab.appendChild(_6ad);}else{dom.text(_6ad,_6ac);}},hide:function(_6ae){var _6af=_6ae.querySelector(".mx-validation-message");if(_6af){_6ae.removeChild(_6af);}}};return _6aa;});},"mxui/widget/Underlay":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Floatable","mxui/dom","mendix/logger","dojo/dom-style","dojo/_base/fx","dojo/_base/window","dojo/_base/declare"],function(_6b0,_6b1,dom,_6b2,_6b3,_6b4,_6b5,_6b6){var _6b7=_6b6([_6b0,_6b1],{declaredClass:"mxui.widget.Underlay",_count:0,buildRendering:function(){this.domNode=dom.create("div",{"class":"mx-underlay"});},postCreate:function(){this.createBackgroundIframe();},show:function(_6b8){if(this._count++===0){var node=this.domNode;if(_6b8){_6b3.set(node,"opacity","0");_6b5.body().appendChild(node);_6b4.fadeIn({end:0.5,node:node,duration:_6b8}).play();}else{_6b5.body().appendChild(node);}}},hide:function(_6b9){if(--this._count===0){var node=this.domNode;if(_6b9){_6b4.fadeOut({node:node,duration:_6b9,onEnd:function(){dom.orphan(node);}}).play();}else{dom.orphan(node);}}},setZIndex:function(_6ba){this.domNode.style.zIndex=_6ba;}});return _6b7;});},"mxui/mixin/_Floatable":function(){define(["dijit/BackgroundIframe","dojo/has","dojo/_base/declare"],function(_6bb,_6bc,_6bd){var _6be=_6bd(null,{createBackgroundIframe:function(){if(_6bc("ie")||_6bc("trident")){var _6bf=new _6bb(this.domNode);this.addOnDestroy(function(){_6bf.destroy();});}}});return _6be;});},"mxui/widget/Dialog":function(){define(["mxui/widget/_Popup","mxui/wm/focus","mxui/dom","dojo/dom-geometry","dojo/dom-style","dojo/touch","dojo/sniff","dojo/_base/event","dojo/_base/declare"],function(_6c0,_6c1,dom,_6c2,_6c3,_6c4,_6c5,_6c6,_6c7){var _6c8=_6c7(_6c0,{declaredClass:"mxui.widget.Dialog",caption:"",content:"",buttons:null,closable:true,resizable:true,_handler:null,_headerNode:null,_bodyNode:null,_footerNode:null,_captionNode:null,_closeButton:null,buildRendering:function(){this.buildDialog();this.setCaption(this.caption);this.setContent(this.content);this.setButtons(this.buttons);this.inherited(arguments);},buildDialog:function(){var $=dom.create;this.domNode=$("div",{"class":"modal-dialog mx-dialog"},this._contentNode=$("div",{"class":"modal-content mx-dialog-content"},this._headerNode=$("div",{focusindex:"-1","class":"modal-header mx-dialog-header"},this._captionNode=$("h4",{"class":"caption mx-dialog-caption"})),this._bodyNode=$("div",{"class":"modal-body mx-dialog-body"}),this._footerNode=$("div",{"class":"modal-footer mx-dialog-footer",style:"display: none"})));_6c3.set(this.domNode,"opacity",0);if(this.closable){var _6c9=this._closeButton=$("button",{type:"button","class":"close mx-dialog-close"});_6c9.innerHTML="&times;";this.connect(_6c9,"click",function(e){this.hide();if(_6c5("ie")==8){_6c6.stop(e);}});this._headerNode.insertBefore(_6c9,this._captionNode);}_6c1.addBox(this._footerNode);},onBeforeShow:function(){this.inherited(arguments);dom.moveFocusTo(this.domNode);this.connect(window,"orientationchange","center");this.resize();},getLayerName:function(){return "dialog";},getPositionName:function(){return "center";},layout:function(){var _6ca=_6c2.getContentBox(this.domNode).h,_6cb=_6c2.getMarginBox(this._headerNode).h,_6cc=_6c2.getMarginBox(this._footerNode).h,_6cd=dom.getNodeExtents(this._contentNode).h;_6c2.setContentSize(this._bodyNode,{h:_6ca-_6cd-_6cb-_6cc});},setCaption:function(_6ce){var _6cf=dom.escapeString(_6ce);this._captionNode.innerHTML=_6cf||"&nbsp;";},setContent:function(_6d0){dom.empty(this._bodyNode);if(_6d0){this._bodyNode.appendChild(dom.create("#",_6d0));}},setButtons:function(_6d1){dom.empty(this._footerNode);if(_6d1){for(var i=0,_6d2;_6d2=_6d1[i];i++){this._footerNode.appendChild(_6d2);}this._footerNode.style.display="";}}});return _6c8;});},"mxui/widget/_Popup":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Floatable","mxui/lib/Moveable","mxui/lib/Resizable","mxui/lib/popupManager","mxui/dom","dojo/window","dojo/dom-style","dojo/dom-geometry","dojo/_base/fx","dojo/_base/lang","dojo/_base/declare"],function(_6d3,_6d4,_6d5,_6d6,_6d7,_6d8,_6d9,_6da,_6db,_6dc,_6dd,_6de){var _6df=_6de([_6d3,_6d4],{delay:200,_mover:null,_resizer:null,_prevBox:null,_maximized:false,_visible:false,_minWidth:300,_minHeight:200,_margin:20,getLayerName:function(){return "popup";},getPositionName:function(){return "stack";},buildRendering:function(){this.capture(this.domNode,"mousedown",function(){_6d7.focus(this);});},postCreate:function(){this.createBackgroundIframe();this._mover=new _6d5(this.domNode,{handle:this._headerNode,margin:this._margin,delay:5});this.connect(this._mover,"onMoveStart",function(e){if(this._maximized){var box=this._prevBox;this.resize({l:e.pageX-box.w/2,w:box.w,h:box.h});}});_6d7.add(this);this._setDimensions({});},show:function(_6e0){_6d7.show(this,_6e0);this.connect(window.mx.ui,"resize",function(){this.resize(null,true);});},onBeforeShow:function(){this._visible=true;var _6e1=_6d8.getNodeExtents(this.domNode);this._minWidth+=_6e1.w;this._minHeight+=_6e1.h;if(this.resizable){this._resizer=new _6d6(this.domNode,{margin:this._margin,resizer:_6dd.hitch(this,"resize"),minWidth:this._minWidth,minHeight:this._minHeight});this.connect(this._headerNode,"dblclick",function(){this.maximize();});}},onShow:function(done){if(this.delay){_6dc.fadeIn({node:this.domNode,duration:this.delay,onEnd:done}).play();}else{_6da.set(this.domNode,"opacity",1);done();}},onAfterShow:function(){},hide:function(){_6d7.hide(this);},onHide:function(done){if(this.delay){_6dc.fadeOut({node:this.domNode,duration:this.delay,onEnd:done}).play();}else{done();}},center:function(){var node=this.domNode,box=_6db.getMarginBox(node),port=_6d9.getBox();_6da.set(node,{top:Math.max(0,0.7*(port.h/2-box.h/2))+"px",left:Math.max(0,port.w/2-box.w/2)+"px"});},maximize:function(redo){if(this._maximized&&!redo){this._maximized=false;this.resize(this._prevBox);}else{var _6e2=_6d9.getBox(),box=redo?this._prevBox:_6db.getMarginBox(this.domNode);this.resize({t:0,l:0,w:_6e2.w,h:_6e2.h});this._prevBox=box;this._maximized=true;}},_setDimensions:function(box){var _6e3=this._getMaximumSize(),_6e4=_6dd.mixin(_6db.getMarginBox(this.domNode),box);if(_6e4.w>_6e3.w){box.w=_6e3.w;}if(_6e4.h>_6e3.h){box.h=_6e3.h;}if(box.w){this.domNode.style.width=box.w+"px";}if(this._visible){if(box.h){this.domNode.style.height=box.h+"px";}if(box.w||box.h){this.layout();}}},resize:function(box,_6e5){if(!this._visible){return;}if(this._maximized){if(_6e5){this.maximize(true);return;}else{this._maximized=false;}}box=box||{};this._setDimensions(box);if(box.l){this.domNode.style.left=box.l+"px";}if(box.t){this.domNode.style.top=box.t+"px";}this.moveIntoView();},moveIntoView:function(){_6d8.moveIntoView(this.domNode,this._margin);},uninitialize:function(){this._mover.destroy();if(this._resizer){this._resizer.destroy();}},_getMaximumSize:function(){var _6e6=_6d9.getBox();return {w:_6e6.w-this._margin*2,h:_6e6.h-this._margin*2};}});return _6df;});},"mxui/lib/Moveable":function(){define(["mxui/dom","dojo/on","dojo/touch","dojo/dom","dojo/dom-geometry","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(_6e7,_6e8,_6e9,_6ea,_6eb,_6ec,_6ed,_6ee){var _6ef=_6ee(null,{declaredClass:"mxui.lib.Moveable",node:null,handle:null,margin:0,delay:0,_events:null,_start:null,_moving:false,constructor:function(node,_6f0){_6f0=_6f0||{};this.node=node;this.handle=_6f0.handle||node;this.margin=_6f0.margin||0;this.delay=_6f0.delay||0;this._events=[_6e8(this.handle,"dragstart",_6ec.stop),_6e8(this.handle,"selectstart",_6ec.stop)];_6ea.setSelectable(this.handle,false);this._reset();},_reset:function(){this._clean();this._events.push(_6e8(this.handle,_6e9.press,_6ed.hitch(this,"_onMouseDown")));},_clean:function(){while(this._events.length>3){this._events.pop().remove();}},_prepare:function(e){var pos=_6eb.position(this.node);this._start={t:pos.y,l:pos.x,x:e.pageX,y:e.pageY};},_onMouseDown:function(e){if(!this.delay){this.onMoveStart(e);}this._clean();this._prepare(e);this._events.push(_6e8(document,_6e9.move,_6ed.hitch(this,"_onMouseMove")),_6e8(document,_6e9.release,_6ed.hitch(this,"_onMouseUp")));},_onMouseMove:function(e){var _6f1=this.node.style,_6f2=this._start,dims={};if(!this._moving){if(Math.sqrt(Math.pow(e.pageX-_6f2.x,2)+Math.pow(e.pageY-_6f2.y,2))>this.delay){this.onMoveStart(e);this._prepare(e);}return;}_6f1.top=dims.t=_6f2.t+(e.pageY-_6f2.y)+"px";_6f1.left=dims.l=_6f2.l+(e.pageX-_6f2.x)+"px";this.onMoving(dims);e.preventDefault();},_onMouseUp:function(e){if(this._moving){this.onMoveStop(e);}this._reset();},onMoveStart:function(){this._moving=true;},onMoving:function(e){},onMoveStop:function(){this._moving=false;_6e7.moveIntoView(this.node,this.margin);},destroy:function(){while(this._events.length){this._events.pop().remove();}}});return _6ef;});},"mxui/lib/Resizable":function(){define(["mxui/dom","dojo/on","dojo/touch","dojo/window","dojo/dom","dojo/dom-geometry","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(_6f3,_6f4,_6f5,_6f6,_6f7,_6f8,_6f9,_6fa,_6fb){var $=_6f3.create;var _6fc=_6fb(null,{declaredClass:"mxui.lib.Resizable",node:null,margin:0,resizer:null,minWidth:0,minHeight:0,_events:null,_start:null,_resizing:false,constructor:function(node,_6fd){_6fd=_6fd||{};this.node=node;this.margin=_6fd.margin||0;this.resizer=_6fd.resizer;this.minWidth=_6fd.minWidth||0;this.minHeight=_6fd.minHeight||0;var frag=$("#"),dirs=["n","e","s","w","ne","se","sw","nw"];for(var i=0,dir;dir=dirs[i];i++){var _6fe=$("div",{"class":"mx-resizer mx-resizer-"+dir,"data-resize-dir":dir});_6f7.setSelectable(_6fe,false);frag.appendChild(_6fe);}node.appendChild(frag);this._events=[];this.reset();},reset:function(){this.clean();var self=this;this._events=[_6f4(this.node,_6f5.press,function(e){var dir=e.target.getAttribute("data-resize-dir");if(dir){self.onMouseDown(dir,e);}})];},clean:function(){while(this._events.length){this._events.pop().remove();}},onMouseDown:function(dir,e){this.onResizeStart(e);this.clean();var box=_6f8.getMarginBox(this.node);this._start={box:box,viewport:_6f6.getBox(),pageX:e.pageX,pageY:e.pageY,minWidth:Math.min(this.minWidth,box.w),minHeight:Math.min(this.minHeight,box.h)};this._events.push(_6f4(document,_6f5.move,_6fa.hitch(this,"onMouseMove",dir)),_6f4(document,_6f5.release,_6fa.hitch(this,"onMouseUp")));_6f9.stop(e);},onMouseMove:function(dir,e){var _6ff=this._start,box=_6ff.box,_700=this.margin,dims={};if(/e|w/.test(dir)){var _701=/w/.test(dir),_702=_701?_6ff.pageX-e.pageX:e.pageX-_6ff.pageX,_703=(_701?box.l+box.w:_6ff.viewport.w-box.l)-_700;dims.w=Math.max(_6ff.minWidth,Math.min(_703,box.w+_702));if(_701){dims.l=Math.max(_700,box.l+box.w-dims.w);}}if(/n|s/.test(dir)){var _704=/n/.test(dir),_705=_704?_6ff.pageY-e.pageY:e.pageY-_6ff.pageY,_706=(_704?box.t+box.h:_6ff.viewport.h-box.t)-_700;dims.h=Math.max(_6ff.minHeight,Math.min(_706,box.h+_705));if(_704){dims.t=Math.max(_700,box.t+box.h-dims.h);}}if(this.resizer){this.resizer(dims);}else{_6f8.setMarginBox(this.node,dims);}this.onResizing();_6f9.stop(e);},onMouseUp:function(e){this.onResizeStop(e);this.reset();},onResizeStart:function(){this._resizing=true;},onResizing:function(e){},onResizeStop:function(){this._resizing=false;},destroy:function(){this.clean();}});return _6fc;});},"mxui/lib/popupManager":function(){define(["mxui/lib/overflowHelper","mxui/wm/focus","mxui/widget/Underlay","mendix/lang","dojo/_base/array","dojo/window","dojo/dom-geometry","dojo/_base/declare","dojo/dom-style"],function(_707,_708,_709,lang,_70a,_70b,_70c,_70d,_70e){var _70f=0,_710=new _709(),_711={},_712=[{name:"popup",index:100,stack:[]},{name:"dialog",index:1000,stack:[]}];var _713={add:function(_714){_707.hideOverflow(document.body);document.body.appendChild(_714.domNode);},show:function(_715,_716){if(_711[_715.id]){return;}if(_70f>0){_716=true;}_717(_715,_716);_713.focus(_715);_715.onBeforeShow();_707.showOverflow(document.body);if(_716||_715.getPositionName()=="center"){_715.center();}else{_718(_715);_715.moveIntoView();}_715.onShow(function(){_715.onAfterShow();});},hide:function(_719){var _71a=_711[_719.id];if(!_71a){return;}_71b(_719,_71a.focus);_71c(_719,_71a.modal);_719.onHide(function(){var _71d=_71e(_719);if(_71d){_713.focus(_71d);}_719.destroy();});},focus:function(_71f){if(!_711[_71f.id]){return;}var _720=_721(_71f),_722=_720.index,_723=[];_70a.forEach(_720.stack,function(elem){if(elem.id!=_71f.id){_723.push(elem);if(elem.deactivate){elem.deactivate();}}else{if(elem.activate){elem.activate();}}});_723.sort(function(a,b){return a.domNode.style.zIndex-b.domNode.style.zIndex;});_723.push(_71f);_720.stack=_723;for(var x=0,pane;pane=_720.stack[x];x++){_722=_722+2;pane.domNode.style.zIndex=_722;}if(_711[_71f.id].modal&&!_724(_71f)){_710.setZIndex(_722-1);}}};function _71e(_725){var _726=_70a.indexOf(_712,_721(_725));do{var _727=_712[_726].stack;for(var i=_727.length-1;i>=0;i--){if(_711[_727[i].id]){return _727[i];}}}while(_726-->0);return null;};function _721(_728){return lang.find(_712,function(elem){return elem.name==_728.getLayerName();});};function _729(_72a){return _721(_72a).stack;};function _718(_72b){var _72c=_729(_72b),port=_70b.getBox(),box=_70c.getMarginBox(_72b.domNode),posX=(port.w-box.w)/2,posY=(port.h-box.h)/2*0.7,gap=20;var _72d=_72c.slice();_72d.sort(function(_72e,_72f){return _72e.domNode.offsetLeft-_72f.domNode.offsetLeft;});for(var i=0;i<_72c.length;i++){if(_72d[i]===_72b){continue;}var node=_72d[i].domNode,minX=posX-(0.5*gap),maxX=minX+gap;if(minX<node.offsetLeft&&node.offsetLeft<maxX){posX+=gap;posY+=gap;}}_70e.set(_72b.domNode,{left:posX+"px",top:posY+"px"});};function _724(_730){var _731=_70a.indexOf(_712,_721(_730));return _70a.some(_712.slice(_731+1),function(_732){return _70a.some(_732.stack,function(elem){return _711[elem.id].modal;});});};function _71b(_733,_734){if(!_734){return;}var _735=_708.get(),_736=true;if(_735){_736=false;while(_735=_735.parentNode){if(_735===_733.domNode){_736=true;break;}}}if(_736){_708.put(_734);}};function _717(_737,_738){if(_738){if(_70f===0){_710.show();}_70f++;}_711[_737.id]={modal:_738,focus:_708.get()};var _739=_729(_737);_739.push(_737);};function _71c(_73a,_73b){if(_73b){_70f--;if(_70f===0){_710.hide();}}delete _711[_73a.id];var _73c=_729(_73a);_73c.splice(_70a.indexOf(_73c,_73a),1);};return _713;});},"mxui/lib/overflowHelper":function(){define(["dojo/dom-style"],function(_73d){var _73e={showOverflow:function(node){_73f(node,true);},hideOverflow:function(node){_73f(node,false);}};function _740(node,_741){var doc=document.documentElement;while(node=node.parentNode){if(node===doc||_73d.get(node,"overflow")===_741){return node;}}};function _73f(node,_742){var _743=_740(node,_742?"hidden":"auto");if(_743){if(_743.clientHeight>=_743.scrollHeight){_73d.set(_743,"overflow",_742?"auto":"hidden");}}};return _73e;});},"mxui/widget/DialogMessage":function(){define(["mxui/widget/Dialog","mxui/dom","mendix/logger","dojo/dom-class","dojo/keys","dojo/_base/declare"],function(_744,_745,_746,_747,_748,_749){var _74a=_749(_744,{declaredClass:"mxui.widget.DialogMessage",type:"",content:null,buildRendering:function(){this.caption=this.caption||this.translate(this.type,null,"Message");var _74b=_745.create("p");_74b.innerHTML=_745.convertNlToBr(_745.escapeString(this.content));this.content=_74b;var _74c=_745.create("button",{"class":"btn btn-primary"},this.translate("ok",null,"Ok"));this.connect(_74c,"click",function(){this.hide();});this.connect(_74c,"keyup",function(e){if(e.keyCode===_748.ESCAPE){this.hide();}});this.buttons=[_74c];this.inherited(arguments);_747.add(this.domNode,"mx-dialog-"+this.type);}});return _74a;});},"mxui/widget/Window":function(){define(["mxui/widget/_Popup","mxui/widget/DataView","mxui/dom","mxui/widget","dojo/sniff","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/touch","dojo/_base/event","dojo/_base/declare","dijit/registry"],function(_74d,_74e,dom,_74f,_750,_751,_752,_753,_754,_755,_756,_757,_758){var $=dom.create;var _759=_757(_74d,{declaredClass:"mxui.widget.Window",title:"",width:0,height:0,resizable:true,content:null,cssStyle:"",cssClass:"",_headerNode:null,buildRendering:function(){this.domNode=$("div",{"class":"modal-dialog mx-window "+this.cssClass,"style":this.cssStyle},this._contentNode=$("div",{"class":"modal-content mx-window-content"},this._headerNode=$("div",{focusindex:"-1","class":"modal-header mx-window-header"},$("h4",this.title||"...")),this.content));_753.add(this.content,"modal-body mx-window-body");var _75a=$("button",{type:"button","class":"close"});_75a.innerHTML="&times;";_751.place(_75a,this._headerNode,"first");this.connect(_75a,"click",function(e){this.onClose();if(_750("ie")==8){_756.stop(e);}});this.inherited(arguments);_752.set(this.domNode,"opacity","0");},onBeforeShow:function(){this.inherited(arguments);dom.moveFocusTo(this.content);var _75b=_758.findWidgets(this.content);if(_75b.length==1&&_75b[0] instanceof _74e&&_74f.findNonPlaceholderParent(_75b[0].domNode)==this.content){_753.add(this.domNode,"mx-window-view");}var box={};if(this.width){box.w=this.width;}if(this.height){box.h=this.height;}this.resize(box);},layout:function(){var _75c=_754.getContentBox(this.domNode).h,_75d=_754.getMarginBox(this._headerNode).h,_75e=dom.getNodeExtents(this._contentNode).h;_754.setContentSize(this.content,{h:Math.max(0,_75c-_75e-_75d)});this.resizeChildren(this.content);},activate:function(){_753.add(this.domNode,"mx-window-active");},deactivate:function(){_753.remove(this.domNode,"mx-window-active");},_setTitleAttr:function(){},onClose:function(){}});return _759;});},"mxui/widget/DataView":function(){define(["mxui/widget/_WidgetBase","mxui/widget","mxui/dom","mxui/html/parser","webcore/objectsource/DirectObjectSource","webcore/objectsource/MicroflowObjectSource","webcore/objectsource/SchemaObjectSource","mendix/logger","mxui/store/asyncValueStore","dijit/registry","dojo/dom-geometry","dojo/topic","dojo/aspect","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_75f,_760,_761,_762,_763,_764,_765,_766,_767,_768,_769,_76a,_76b,_76c,_76d,_76e){var _76f=_76e(_75f,{declaredClass:"mxui.widget.DataView",entity:"",schema:"",autoLoad:false,datasource:null,conditions:null,contextsource:"",closeButton:"",hideControls:false,useSchema:false,noEntityMessage:"",_mxObject:null,_tempSubs:null,_mxidMap:null,_delayMap:null,_source:null,_contentNode:null,_controlsNode:null,_messageNode:null,_doUpdate:false,constructor:function(){this._tempSubs=[];},postMixInProperties:function(){this.doParse=true;},buildRendering:function(){var $=_761.create,_770=this.getTemplate("content"),_771=this.getTemplate("buttons");this.domNode=$("div",{"class":"mx-dataview"},$("div",{"class":"mx-dataview-content"},_770));this._contentNode=this.domNode.firstChild;if(this.noEntityMessage){this._messageNode=$("div",{"class":"mx-dataview-message","style":"display: none"},$("div",$("p",this.noEntityMessage)));this.domNode.appendChild(this._messageNode);}if(_771){var _772=this._controlsNode=$("div",{"class":"mx-dataview-controls"},_771);if(this.hideControls){_772.style.display="none";}this.domNode.appendChild(_772);}},postCreate:function(){var map=this._mxidMap={},_773=this._delayMap={};for(var _774 in this.conditions){var _775=this.conditions[_774];for(var _776 in _775){var _777=_776===""?"_empty_":_776,_778=_775[_776];_76c.forEach(_778,function(_779){if(_779.action==="show"||_779.action==="hide"){_773[_779.mxid]=1;}_76d.setObject([_779.mxid,_774,_777,_779.action].join("."),1,map);});}}if(!this.readOnly){this.listen("validate",this.validate);this.listen("save",this.save);this.listen("commit",this.commit);this.listen("rollback",this.rollback);this.own(_76b.after(this.mxform,"onResume",_76d.hitch(this,"resume")));}this.listen("close",this.close);this.createSource();},createSource:function(){var _77a=this.datasource;if(_77a){switch(_77a.type){case "listen":case "direct":if(this.useSchema){_77a.type="schema";this._source=new _765({schema:this.schema,context:this.mxcontext});}else{this._source=new _763({schema:this.schema,context:this.mxcontext,path:_77a.path||this.entity});}break;case "microflow":this._source=new _764({context:this.mxcontext,microflow:_77a.microflow});break;default:throw new Error(this.id+".createSource : unknown datasource type: "+_77a);}}if(_77a.type==="listen"){var _77b=window.mx.ui.makeShareId(this.mxform,this.datasource.contextsource),_77c=_76d.hitch(this,function(_77d){this.applyContext(_77d,function(){});});this.own(_76a.subscribe(_77b,_77c));this.addOnLoad(function(){_767.retrieve(_77b,_77c);});}},parseNode:function(node){var _77e=[],_77f=true;var _780=function(node){var root=_77f,mxid=node.getAttribute("data-mendix-id");_77f=false;if(mxid){if(!root&&mxid in this._delayMap){node.setAttribute("data-mendix-not-parsed",true);window.mx.ui.applyToNode("hide",node);}else{var type=node.getAttribute("data-mendix-type");if(type){var _781={doParse:false};if(this.schema===""&&type===this.declaredClass){_781.schema="";}var _782=this.parseContent(node,_781,true)[0];if(_782){this._patchWidget(_782);_77e.push(_782);node=_782.domNode;}}if(this._shouldBeVisited(node)){_76c.forEach(node.children,_780,this);}}}else{_76c.forEach(node.children,_780,this);}};_780.call(this,node);return _77e;},startup:function(){var _783=this.parseNode(this.domNode);_760.ready(_783,_76d.hitch(this,"actLoaded"));},applyContext:function(_784,_785){this.mxcontext.mixin(_784);this.update(this.mxcontext.getTrackId(),_785);},update:function(guid,_786){var self=this;this._sourceGuid=guid;var _787=function(obj,_788){self.mxcontext.setObject(obj);self.updateObject(obj,_788);};this._source.fetch(function(obj){_787(obj,_786);},function(e){window.mx.onError(e);_787(null,_786);});},updateObject:function(obj,_789){if(obj!=this._mxObject){this._mxObject=obj;}this.setSubscriptions();this.refresh(_789);},setSubscriptions:function(){var obj=this._mxObject,subs=this._tempSubs,_78a=this._sourceGuid,sub;var _78b=function(){this.mxcontext.setTrackId(_78a);this.update(_78a);};var _78c=_76d.hitch(this,"applyConditions",null);while((sub=subs.pop())){this.unsubscribe(sub);}if(obj){var guid=obj.getGuid();subs.push(this.subscribe({guid:guid,callback:_78c}));for(var attr in this.conditions){subs.push(this.subscribe({guid:guid,attr:attr,callback:_78c}));}}if(this._source.hasRoot()&&_78a){subs.push(this.subscribe({guid:_78a,callback:_78b}));subs.push(this.subscribe({guid:_78a,attr:this._source.getRoot(),callback:_78b}));}},refresh:function(_78d){this.set("disabled",!this._mxObject);if(this.mxform.isSuspended()){this._doUpdate=true;if(_78d){_78d();}return;}else{this._doUpdate=false;}if(this._messageNode){if(!this._mxObject){this._messageNode.style.display="block";}else{this._messageNode.style.display="none";}}this.passContext(_768.findWidgets(this.domNode),_76d.hitch(this,"applyConditions",_78d));},validate:function(_78e,_78f){var _790=this._mxObject;if(!_790||this.get("disabled")){if(_78e){_78e();}}else{var _791=this.getChildren(true),_792=true;for(var i=0,_793;_793=_791[i];i++){if(_793.isValid&&!_793.isValid()){_792=false;}}if(_792){if(_78e){_78e();}}else{if(_78f){_78f();}else{if(window.mx.ui.getProfile()==="phone"){window.mx.ui.error(this.translate("validation_error"));}}}}},save:function(_794,_795){var _796=this._mxObject;if(!_796||this.get("disabled")){if(_794){_794();}}else{window.mx.data.save({mxobj:this._mxObject,callback:_794,error:_795},this);}},commit:function(_797,_798){var _799=this._mxObject;if(!_799||this.get("disabled")){_797();}else{window.mx.data.commit({mxobj:_799,callback:_797,error:_798});}},resume:function(){if(this._doUpdate){this.refresh();this._doUpdate=false;}},rollback:function(_79a,_79b){var obj=this._mxObject;if(!obj||this.get("disabled")){_79a();}else{if(obj.getGuid()!==0){window.mx.data.rollback({mxobj:obj,callback:_79a,error:_79b});}else{if(_79a){_79a();}}}},close:function(_79c){var _79d=this.closeButton&&this.domNode.querySelector("[data-mendix-id='"+this.closeButton+"']"),_79e=_79d&&_768.byNode(_79d);if(_79e){_79e.onClick();}else{if(_79c){_79c();}}},getCFActions:function(node){var mxid=node.getAttribute("data-mendix-id")||node.getAttribute("mxid"),_79f=[];if(mxid){if(this._mxObject){var _7a0=this._mxidMap[mxid];for(var attr in _7a0){var _7a1=this._mxObject.get2(attr),_7a2=_7a0[attr][_7a1===""?"_empty_":_7a1];for(var _7a3 in _7a2){if(_7a3==="show"){_79f.unshift("show");}else{_79f.push(_7a3);}}}}else{if(mxid in this._delayMap){_79f.push("hide");}}}return _79f;},applyConditions:function(_7a4){var _7a5=[],_7a6=false;var _7a7=function(node){var _7a8=!node.getAttribute("data-mendix-not-parsed"),_7a9=this.getCFActions(node);dojo.forEach(_7a9,function(_7aa){if(_7aa=="show"){_7a6=true;if(!_7a8){var _7ab=this.parseNode(node);_7a5.push.apply(_7a5,_7ab);if(_761.isOrphan(node)){node=_7ab[0].domNode;}node.removeAttribute("data-mendix-not-parsed");_7a8=true;}}window.mx.ui.applyToNode(_7aa,node);},this);if(_7a8&&this._shouldBeVisited(node)){_76c.forEach(node.children,_7a7,this);}};_7a7.call(this,this.domNode);_760.ready(_7a5,function(){this.passContext(_7a5,function(){if(_7a5.length||_7a6){this.mxform.resize();}if(_7a4){_7a4();}});},this);},resize:function(box){if(box){var _7ac=box.h-_761.getNodeExtents(this.domNode).h;if(this._controlsNode){_7ac-=_769.getMarginBox(this._controlsNode).h;}_769.setContentSize(this._contentNode,{h:_7ac});}else{this._contentNode.style.height="auto";}this._contentNode.style.overflow=box?"auto":"";this.resizeChildren(this._contentNode,!box);},uninitialize:function(){this._source.destroy();},getChildren:function(_7ad){if(_7ad){var _7ae=[];_761.walkNode(this.domNode,function(node){var _7af=node.nodeType===_761.nodeTypes.ELEMENT_NODE&&_768.byNode(node);if(!_7af||_7af==this){return true;}_7ae.push(_7af);return !(_7af instanceof this.constructor);});return _7ae;}else{this.inherited(arguments);}},_patchWidget:function(_7b0){var attr=_7b0.name;if(!(_7b0 instanceof _75f)&&(typeof _7b0.onChange=="function")&&attr){this.connect(_7b0,"onChange",function(){var _7b1=_7b0.get("value");this._mxObject.set(attr,_7b1);});}},_shouldBeVisited:function(node){return node==this.domNode||!(_768.byNode(node) instanceof this.constructor);}});return _76f;});},"mxui/store/asyncValueStore":function(){define([],function(){var _7b2={};var _7b3={};return {register:function(id,_7b4){_7b2[id]=_7b4;if(_7b3[id]){for(var i=0;i<_7b3[id].length;i++){_7b3[id][i](_7b4);}_7b3[id]=null;}},retrieve:function(id,_7b5){if(_7b2[id]){_7b5(_7b2[id]);}else{if(!_7b3[id]){_7b3[id]=[];}_7b3[id].push(_7b5);}},remove:function(id){delete _7b2[id];delete _7b3[id];},hasValue:function(id){return id in _7b2;}};});},"mxui/widget/LoginDialog":function(){define(["mxui/widget/Dialog","mxui/dom","dojo/dom-class","dojo/json","dojo/_base/declare","dojo/_base/event"],function(_7b6,_7b7,_7b8,_7b9,_7ba,_7bb){var _7bc=_7ba(_7b6,{declaredClass:"mxui.widget.LoginDialog",messageCode:0,closable:false,_userNode:null,_passNode:null,_cancelBtn:null,_loginCallback:null,buildRendering:function(){var $=_7b7.create,form,user,pass;this.caption=this.translate("loginButton");this.inherited(arguments);_7b8.add(this.domNode,"mx-login");this.domNode.removeChild(this._contentNode);this._contentNode=form=$("form",{"class":"modal-content mx-dialog-content"},this._headerNode,this._bodyNode,this._footerNode);this.domNode.appendChild(form);this.setContent($("#",user=this._userNode=$("input",{"class":"form-control",name:"username",type:"text",autocorrect:"off",autocapitalize:"none",placeholder:this.translate("username")}),pass=this._passNode=$("input",{"class":"form-control",name:"password",type:"password",autocorrect:"off",autocapitalize:"none",placeholder:this.translate("password")})));var _7bd=$("button",{type:"submit","class":"btn btn-primary"},this.translate("loginButton")),_7be=this._cancelBtn=$("button",{type:"button","class":"btn"},window.mx.ui.translate("mendix.widget.DialogMessage","cancel"));this.setButtons([_7bd,_7be]);this.connect(user,"keydown","reset");this.connect(pass,"keydown","reset");this.connect(form,"submit","submit");this.connect(_7be,"click","hide");},translate:function(str){return window.i18nMap[str];},getStatusMessage:function(code){return this.translate("http"+code)||this.translate("httpdefault");},submit:function(e){_7bb.stop(e);var self=this;mx.login(this._userNode.value,this._passNode.value,function(){self.hide();},function(code){self.setCaption(self.getStatusMessage(code));_7b8.add(self.domNode,"error");});},onShow:function(done){if(this.messageCode){this.setCaption(this.getStatusMessage(this.messageCode));}this._cancelBtn.style.display=window.mx.isLoaded()?"":"none";this.inherited(arguments,[done]);},reset:function(){this.setCaption(this.translate("loginButton"));_7b8.remove(this.domNode,"error");}});return _7bc;});},"mxui/widget/Progress":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/lang","mendix/logger","dojo/dom-class","dojo/dom-style","dojo/_base/lang","dojo/_base/declare"],function(_7bf,dom,lang,_7c0,_7c1,_7c2,_7c3,_7c4){"use strict";var _7c5=_7c4(_7bf,{declaredClass:"mxui.widget.Progress",showDelay:500,_showing:false,_messageId:0,_messages:null,_showTimer:null,_msgNode:null,_hideCon:null,constructor:function(){this._messages=[];},buildRendering:function(){this.domNode=dom.create("div",{"class":"mx-progress mx-progress-hidden"},this._msgNode=dom.create("div",{"class":"mx-progress-message"}),dom.create("div",{"class":"mx-progress-indicator"}));},add:function(text,_7c6){var id=this._messageId++;this._messages.push({id:id,text:text,modal:_7c6});this._updateMessage();if(!this._showing){this._show(_7c6);}else{if(_7c6){if(this._showTimer){clearTimeout(this._showTimer);this._showTimer=null;this._show(true);}else{window.mx.ui.showUnderlay();}}}return id;},remove:function(id){var _7c7=lang.find(this._messages,function(_7c8){return _7c8.id==id;});if(_7c7){if(_7c7.modal){window.mx.ui.hideUnderlay();}this._removeMessage(id);if(this._messages.length>0){this._updateMessage();}else{this._hide();}}else{_7c0.error(this.id+".remove: Message id not found!");}},_show:function(_7c9){this._showing=true;if(_7c9){window.mx.ui.showUnderlay();}var _7ca=_7c3.hitch(this,function(){this._showTimer=null;if(this._hideCon){this._hideCon.remove();this._hideCon=null;}else{document.body.appendChild(this.domNode);_7c2.get(this.domNode,"width");}_7c1.remove(this.domNode,"mx-progress-hidden");});if(this._hideCon||_7c9){_7ca();}else{this._showTimer=setTimeout(_7ca,this.showDelay);}},_hide:function(_7cb){this._showing=false;if(this._showTimer){clearTimeout(this._showTimer);this._showTimer=null;}else{if(_7cb){window.mx.ui.hideUnderlay();}var _7cc=_7c2.get(this.domNode,"opacity")==="0";if(dom.supports("transition")&&!_7cc){this._hideCon=this.connect(this.domNode,"transitionend",function(){this._hideCon.remove();this._hideCon=null;document.body.removeChild(this.domNode);});}else{document.body.removeChild(this.domNode);}_7c1.add(this.domNode,"mx-progress-hidden");}},_updateMessage:function(){var _7cd=lang.findLast(this._messages,function(_7ce){return _7ce.text;});if(_7cd){_7c1.remove(this.domNode,"mx-progress-empty");}else{_7c1.add(this.domNode,"mx-progress-empty");}dom.text(this._msgNode,_7cd?_7cd.text:"");},_removeMessage:function(id){var _7cf=lang.findIndex(this._messages,function(_7d0){return _7d0.id==id;});this._messages.splice(_7cf,1);}});return _7c5;});},"mxui/widget/DataGrid":function(){define(["mxui/widget/_Grid","mxui/widget","mxui/wm/focus","mxui/dom","mxui/lib/ColumnResizer","mendix/lang","mendix/logger","webcore/url-helpers","dojo/query","dojo/on","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/text!mxui/widget/templates/DataGrid.html"],function(_7d1,_7d2,_7d3,_7d4,_7d5,_7d6,_7d7,_7d8,_7d9,_7da,_7db,_7dc,_7dd,_7de,_7df){var _7e0=_7de(_7d1,{declaredClass:"mxui.widget.DataGrid",templateString:_7df,subClass:"mx-datagrid",cssmap:_7d2.createCSSMap("mx-datagrid",{sortText:"sort-text",sortIcon:"sort-icon",headCaption:"head-caption",headWrapper:"head-wrapper",columnResizer:"column-resizer",dataWrapper:"data-wrapper"}),readOnly:false,gridBodyNode:null,gridFootNode:null,_deferSyncQueue:0,_deferSyncCallback:null,_mxObjects:null,_gridColumnNodes:null,_gridRowNodes:null,_gridMatrix:null,_visibleColumns:null,_hiddenAggregates:null,constructor:function(){this._mxObjects=[];this._gridColumnNodes=[];this._gridRowNodes=[];this._gridMatrix=[];this._visibleColumns=[];this._hiddenAggregates=[];this._gridState={sortable:true,selectable:true,selectionmode:"single",searchbar:true,controlbar:true,pagingbar:true,inDenial:false,searchBarVisible:false,searchBarTogglable:true,xpathConstraint:"",loading:false,invertedSelection:false};},postCreate:function(){this.inherited(arguments);if(this._metaEntity){this._addFocusBoxForTable();this.setupScroll();this.buildGridBody();this.loadPlugins();this.doGridAttributes();this.triggerOnLoad();}this.loaded();},setColumnStyle:function(node,_7e1){var _7e2=_7e1.display,_7e3=_7e2.align||"left";if(window.mx.ui.isRtl()){_7e3=(_7e3==="right"?"left":"right");}if(_7e2.cssStyle){node.setAttribute("style",_7e2.cssStyle);}else{node.removeAttribute("style");}_7db.add(node,[_7e1.name?"mx-name-"+_7e1.name:"","mx-"+_7e3+"-aligned"]);_7db.add(node,_7e2.cssClass);},buildGridRow:function(_7e4,_7e5){var $=_7d4.create,tr=$("tr",{"class":"mx-name-index-"+_7e5}),row;this.domData(tr,"gridrow",_7e5);row=_7dc.map(_7e4,function(_7e6,i){var td=$("td");this.domData(td,{row:_7e5,column:i,key:_7e6.tag});this.setColumnStyle(td,_7e6);td.appendChild($("div",{"class":this.cssmap.dataWrapper}));tr.appendChild(td);return td;},this);this._gridMatrix.push(row);return tr;},setNodeTitle:function(_7e7,_7e8){if(!_7e7){return;}var _7e9=_7d4.text(_7e8||_7e7);_7e7.setAttribute("title",_7dd.trim(_7e9));},gridbodyFillCell:function(_7ea,_7eb,_7ec){var _7ed;if(!_7eb.has(_7ec)){return "&nbsp;";}switch(_7ea.render.toLowerCase()){case "icon":case "enumicon":var src=_7ea.display.mapping[_7eb.get2(_7ec)];_7ed=src?"<img src='"+_7d8.getStaticResourceUrlFromPath(src)+"'>":"";break;case "weblink":_7ed=_7eb.get2(_7ec);break;default:var _7ee=_7ea.display,_7ef=_7ee.dateFormat||"date";_7ed=window.mx.parser.formatAttribute(_7eb,_7ec,{selector:_7ef.toLowerCase().replace("custom","date"),datePattern:_7ee.format,groups:_7ee.formatted,places:_7ee.precision});_7ed=_7d4.escapeString(_7ed.replace(/\n/g," "));}return _7ed||"&nbsp;";},disableRow:function(tr){tr.style.display="";this.domData(tr,"mendixguid",null);_7dc.forEach(tr.getElementsByTagName("td"),function(td){td.firstChild.innerHTML="&nbsp";td.setAttribute("title","");});},setupGridState:function(){this.inherited(arguments);this._gridState.sortable=this._gridConfig.gridSetting("sortable");},loadPlugins:function(){this.hideFootNode();if(this._gridState.editable){this.loadPlugin("GridEditor");_7d3.removeBox(this.contentNode);}var _7f0=this._gridConfig.getPlugins();for(var name in _7f0){this.loadPlugin(name,_7f0[name]);}},setupScroll:function(){var _7f1=this.headTable,_7f2=this.contentNode;this.connect(_7f2,"scroll",function(){_7f1.style.top=_7f2.scrollTop+"px";});},resize:function(box){this.inherited(arguments);this._resizer.recalculate();},buildGridBody:function(){var self=this,$=_7d4.create,_7f3=this._gridConfig.gridAttributes(),_7f4=[],_7f5=[],row=$("tr",{"class":"mx-name-head-row"}),_7f6=$("div",{"class":this.cssmap.headCaption}),_7f7=$("div",{"class":this.cssmap.headWrapper}),_7f8={},_7f9=this._gridConfig.getPlugins()["Calculations"]||{};_7d4.disableSelection(row);_7dc.forEach(this.getState("sortOptions",this._gridConfig.gridSetting("sortparams")),function(_7fa){_7f8[_7fa[0]]=_7fa;});_7dc.forEach(_7f3,function(_7fb,i){var _7fc=_7fb.display.width,_7fd=_7fb.tag in _7f9,_7fe=_7fc!=null&&(_7fc=="0px"||_7fc=="0%");if(_7fd){_7f5.push(_7fe);}if(!_7fe){this._visibleColumns.push(_7fb);}},this);_7dc.forEach(_7f5,function(_7ff,i){if(_7ff){this._hiddenAggregates.push(i);}},this);_7dc.forEach(this._visibleColumns,function(_800,i){var _801=$("th");this.domData(_801,{datakey:_800.tag,index:i});this.setColumnStyle(_801,_800);var _802=$("span",{"class":this.cssmap.sortText});var _803=$("div",{"class":this.cssmap.sortIcon,style:"display: none"},_802);var _804=_7f8[_800.tag];if(_804){var _805=_804[1];this.domData(_801,"sortorder",_805);_802.innerHTML=_805==="asc"?"&#9650;":"&#9660;";_803.style.display="";}var _806=_7f6.cloneNode(true);_806.innerHTML=_800.display.string||"&nbsp;";var _807=_7f7.cloneNode(true);_807.appendChild(_803);_807.appendChild(_806);_801.appendChild(_807);this.setNodeTitle(_801,_806);var _808=$("col",{style:"width:"+_800.display.width}),_809=_808.cloneNode(true);this.headTableGroupNode.appendChild(_808);this.bodyTableGroupNode.appendChild(_809);_7f4.push([_808,_809]);this._gridColumnNodes.push(_801);row.appendChild(_801);},this);this.gridHeadNode.appendChild(row);if(this._gridState.sortable){this.own(_7da(this.gridHeadNode,"th:click",function(e){var key=self.domData(this,"index");if(_7f3[key].sortable!==false){self.eventColumnClicked(e,this);}}));}this._resizer=new _7d5({thNodes:_7d4.toArray(row.children),colNodes:_7f4,colUnits:_7f3[0].display.width.indexOf("%")>0?"%":"px",rtl:!this.isLeftToRight(),tableNode:this.headTable,gridNode:this.gridTable});if(this._gridState.showemptyrows){var _80a=this._gridConfig.gridSetting("rows");for(var i=0;i<_80a;i++){this.addNewRow();}}this.own(_7da(this.gridBodyNode,"tr:click",function(e){self.eventItemClicked(e,this);}));this.liveConnect(this.gridBodyNode,"onclick",{td:"eventCellClicked"});this.liveConnect(this.gridBodyNode,"onmouseover",{tr:"eventRowMouseOver"});this.liveConnect(this.gridBodyNode,"onmouseout",{tr:"eventRowMouseOut"});var _80b=function(e){self.eventActionBindingHandler(this,e.type);};var _80c=this._gridConfig.gridActionBindings();for(var _80d in _80c){this.own(_7da(this.gridBodyNode,"tr:"+_80d.replace(/^on/,""),_80b));}},addNewRow:function(){var _80e=this._visibleColumns,_80f=this._gridConfig.gridSetting("rows"),_810=this._gridRowNodes.length;if(_810>_80f){return null;}var tr=this.buildGridRow(_80e,_810);this._gridRowNodes.push(tr);this.gridBodyNode.appendChild(tr);var box=this.getFocusBox(this.contentNode);box.add&&box.add(tr);return tr;},doGridAttributes:function(){var _811=this._visibleColumns;_7dc.forEach(_811,function(_812){var path=_812.tag.split("/");if(path.length==2||path.length==4){path.shift();}_812.attrs=path;},this);},fillGrid:function(){this._mxObjects=this._dataSource.getObjects()||[];var _813=this._visibleColumns,_814=false,_815=(this._gridState.selectfirst&&!this._gridState.invertedSelection&&this._mxObjects.length>0&&!this._hasSelection());if(_815){this._addToSelection(this._mxObjects[0].getGuid());}this._shareSelection(this._metaEntity.getEntity());var _816=this._mxObjects.length-this._gridRowNodes.length;if(_816>0){while(_816--){this.addNewRow();}_814=true;}else{if(_816<0){_7dc.forEach(this._gridRowNodes.slice(this._mxObjects.length),function(node){_7db.remove(node,"selected");if(this._gridState.showemptyrows){this.disableRow(node);}else{node.style.display="none";}},this);}}_7dc.forEach(this._mxObjects,function(_817,i){var _818=_817.getGuid(),_819=this._gridRowNodes[i];this.domData(_819,"mendixguid",_818);this._gridbodyFillRow(_817,this._gridMatrix[i],_813);if(!this._isSelected(_818)){this.deselectRow(_819);}else{this.selectRow(_819);}_819.style.display="";},this);if(_814){this.mxform.resize();}},refreshGrid:function(){this.triggerPreRefresh();this.inherited(arguments);this.triggerOnRefresh();},triggerOnLoad:function(){this.triggerPluginEvent("onLoad");},triggerOnSync:function(){this.triggerPluginEvent("onSync");},triggerOnRefresh:function(){this.triggerPluginEvent("onRefresh");},triggerPreRefresh:function(){this.triggerPluginEvent("preRefresh");},triggerOnSearchChanged:function(){this.triggerPluginEvent("onSearchChanged");},actDeferSyncAction:function(_81a){if(this._deferSyncQueue===0){_81a&&_81a();}else{if(this._deferSyncCallback==null){this._deferSyncCallback=_81a;}else{}}},eventCellClicked:function(e){this.triggerPluginEvent("onCellClicked",e);},eventRowMouseOver:function(e){this.triggerPluginEvent("onRowMouseOver",e);},eventRowMouseOut:function(e){this.triggerPluginEvent("onRowMouseOut",e);},eventCellMouseOut:function(e){this.triggerPluginEvent("onCellMouseOut",e);},eventCellMouseOver:function(e){this.triggerPluginEvent("onCellMouseOver",e);},eventSelectRow:function(e){this.triggerPluginEvent("onSelectRow",e);},eventColumnClicked:function(e,node){var push=e.shiftKey;if(!push){_7dc.forEach(this._gridColumnNodes,function(node){node.querySelector("."+this.cssmap.sortIcon).style.display="none";},this);}else{_7d4.clearSelection();}var _81b=this.domData(node,"datakey"),_81c="asc";if(this.domData(node,"sortorder")){_81c=this.domData(node,"sortorder");_81c=(_81c==="asc")?"desc":"asc";}this.domData(node,"sortorder",_81c);var _81d=node.querySelector("."+this.cssmap.sortText);_81d.innerHTML=(_81c==="asc"?"&#9650;":"&#9660;");_81d.parentNode.style.display="";this._dataSource.setSortOptions(_81b,_81c,push);if(this.constraintsFilled()){this._dataSource.refresh(_7dd.hitch(this,"refreshGrid"));}},deselectGridRows:function(){_7dc.forEach(this._gridRowNodes,function(node){this.deselectRow(node);},this);},getAggregates:function(){return this._dataSource.getAggregates();},actionExport:function(_81e){if(this.constraintsFilled()){var _81f=window.mx.ui.getProgress("",true);_81f.start();this._dataSource.generateExport({params:_81e,callback:function(){_81f.stop();},error:function(e){_81f.stop();window.mx.onError(e);}});}},actionInsertNewAtTop:function(_820){var _821=this._getEntity(_820);if(_821){this._insertNewFirstOrLast(_821,_820[_821],false);}},actionInsertNewAtBottom:function(_822){var _823=this._getEntity(_822);if(_823){this._insertNewFirstOrLast(_823,_822[_823],true);}},getCellNode:function(_824,key){var row=this._gridMatrix[_824];if(row){for(var i=0;i<row.length;i++){if(this.domData(row[i],"key")===key){return row[i];}}}return null;},getMxObjectAtRow:function(_825){return (this._mxObjects.length>=_825)?this._mxObjects[_825]:false;},getRowForMxObject:function(_826){var _827=this._mxObjects;for(var i=0;i<_827.length;++i){if(_827[i].getGuid()===_826.getGuid()){return i;}}},getEntityProperties:function(){return this._visibleColumns;},getHiddenAggregates:function(){return this._hiddenAggregates.slice();},getActionProperties:function(_828,_829){var _82a=this._gridConfig.dataEntityConfigs(),act=null;if(_82a[_828]){act=_82a[_828][_829];}return act;},getCurrentGridSize:function(){return this._mxObjects.length;},getGridNodeHash:function(){return this._gridMatrix;},getCurrentXPath:function(){var _82b=this._dataSource?this._dataSource.getCurrentXPath()||"":"";return _82b+this._gridState.xpathConstraint;},preventUpdates:function(){this._gridState.inDenial=true;},acceptUpdates:function(){this._gridState.inDenial=false;},acceptingUpdates:function(){return !this._gridState.inDenial;},updateMxObject:function(_82c,_82d){var row=this.getRowForMxObject(_82c);if(!row){this._gridbodyFillRow(_82c,this._gridMatrix[row],this._visibleColumns);}_82d&&_82d();},showFootNode:function(){this.gridFootNode.style.display="";},hideFootNode:function(){this.gridFootNode.style.display="none";},addToSyncDeferQueue:function(){this._deferSyncQueue++;},removeFromSyncDeferQueue:function(){this._deferSyncQueue--;if(this._deferSyncQueue===0){if(this._deferSyncCallback!=null){this._deferSyncCallback();this._deferSyncCallback=null;}else{}}},uninitialize:function(){this._resizer.destroy();this.triggerPluginEvent("onDestroy");this.inherited(arguments);},_setSelectableAttr:function(_82e){this._gridState.selectable=!!_82e;},_setDisabledAttr:function(_82f){},_setReadOnlyAttr:function(_830){var self=this;function _831(_832,_833){_7dc.forEach(_832,function(tool){if(tool.mxid){var _834=this._gridConfig.getActionsByKey(tool.mxid);if(_834&&/AddRef|DeleteRef|CreateRef/.test(_834.actionCall)){_833&&_833(tool);}}},self);};if(this._gridState.controlbar&&_830!=this.readOnly){var _835=this._gridConfig.gridTools();if(_830){_831(_835,function(tool){self.toolBarNode.removeChild(tool._domNode);});}else{_831(_835,function(tool){if(tool._nextNode){self.toolBarNode.insertBefore(tool._domNode,tool._nextNode);}else{self.toolBarNode.appendChild(tool._domNode);}});}this.readOnly=!!_830;}},_renderObjectsToCell:function(_836,td,_837){var _838=_837.attrs.slice(-1)[0],_839=td.firstChild,_83a=[],_83b=[];td.firstChild.innerHTML="";_7dc.forEach(_836,function(obj){var _83c=this.gridbodyFillCell(_837,obj,_838);if(_83c!=null){_83a.push(_83c);}else{_7d7.error(this.id+".gridBodyFillRow: received no content");}if(/^(enum)?icon$/i.test(_837.render)){_83b.push(obj.getEnumCaption(_838));}},this);_839.innerHTML=_83a.join(", ");if(_839.childNodes.length===0){_839.innerHTML="&nbsp;";}if(_83b.length!==0){td.setAttribute("title",_83b.join(";"));}else{this.setNodeTitle(td);}},_gridbodyFillRow:function(_83d,_83e,_83f){_7dc.forEach(_83e,function(td,i){var _840=[],_841=_83f[i],_842=false,_843=_841.attrs;if(_843.length===1){_840.push(_83d);}else{var _844=_83d,_845;for(var j=0;j<_843.length-1;j+=2){var _846=_843[j],_847=_843[j+1];_845=_844.getChildren(_846);if(_845.length>0){if(j>0&&!_845[0].isA(_847)){_7d7.error(this.id+".gridBodyFillRow: entity and reference do not match");_845=[];break;}_844=_845[0];}else{if(_843.length===3){_842=!!_83d.get2(_846);break;}else{break;}}}[].push.apply(_840,_845);}if(!_842){this._renderObjectsToCell(_840,td,_841);}else{if(_83d.isReference(_843[0])){var self=this;window.mx.data.get({guids:_83d.getReferences(_843[0]),callback:function(_848){self._renderObjectsToCell(_848,td,_841);},error:window.mx.onError},this);}else{_7d7.error(this.id+".gridBodyFillRow: attribute '"+_843[0]+"' is not a reference(set)");}}},this);},_insertNewFirstOrLast:function(_849,_84a,last){var _84b=function(_84c){window.mx.data.create({entity:_849,context:this.mxcontext,persistent:_84a.persistent,callback:function(obj){if(!last){this._dataSource.insertMxObjectAtStart(obj);}else{this._dataSource.insertMxObjectAtEnd(obj);}_84c();},error:window.mx.onError},this);};this.triggerOnSync();this.sequence([_84b,"actDeferSyncAction",function(){this.refreshGrid();var row=last?this._dataSource.getObjects().length-1:0;this.eventSelectRow({row:row});}]);},_getEntity:function(_84d){return _7d6.firstKey(_84d);},_getCurrentGuid:function(){return this.selection[this.selection.length-1];},_getNodeFromEvent:function(e){return _7d4.getAncestorNode(e.target,"TR");},_getActionFromEvent:function(e){var _84e=this._gridConfig.gridActionBindings(),_84f=_84e["on"+e.type];return this._gridConfig.getActionsByKey(_84f);},_getObjectFromNode:function(node){return this._mxObjects[this.domData(node,"gridrow")];},_addFocusBoxForTable:function(){var box=this.addFocusBox(this.contentNode);box.pressed({DOWN_ARROW:box.FOCUS_NEXT,UP_ARROW:box.FOCUS_PREV,SPACE:function(e){this.eventItemClicked(e,e.target);},ENTER:function(e,_850){if(_850){this.eventActionBindingHandler(_850,"dblclick");}},LEFT_ARROW:function(){if(!this._dataSource.atBeginning()){this._dataSource.previous(_7dd.hitch(this,function(){this.refreshGrid();_7d3.restore();}));}},RIGHT_ARROW:function(){if(!this._dataSource.atEnd()){this._dataSource.next(_7dd.hitch(this,function(){this.refreshGrid();_7d3.restore();}));}}},this);}});return _7e0;});},"mxui/widget/_Grid":function(){define(["require","mxui/mixin/_Contextable","mxui/mixin/_Scriptable","mxui/mixin/_Stateful","mxui/mixin/_Pluggable","mxui/lib/overflowHelper","mxui/mixin/_ContainingSelection","mxui/mixin/_Templated","mxui/lib/MxGridConfig","mxui/widget/SearchInput","mxui/widget/Button","mxui/widget/_DynamicButton","mxui/widget","mxui/dom","mendix/lib/MxContext","mendix/lib/ValidationError","webcore/dataSourceFactory","webcore/datasource/XPathSource","mendix/logger","dojo/fx","dojo/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/fx/Toggler"],function(_851,_852,_853,_854,_855,_856,_857,_858,_859,_85a,_85b,_85c,_85d,_85e,_85f,_860,_861,_862,_863,_864,_865,_866,_867,_868,_869,_86a,_86b){var _86c=_85d.declare("mxui.widget._Grid",{mixins:[_858,_852,_853,_854,_855,_857],baseClass:"mx-grid",css:_85d.createCSSMap("mx-grid",{pagingStatus:"paging-status",searchButton:"search-button",resetButton:"reset-button"}),entity:"",schema:"",useContext:false,customDataSource:null,dataSourceMixin:null,_previousSearchConstraints:"",pagingBarNode:null,searchNode:null,toolBarNode:null,messageNode:null,searchButton:null,resetButton:null,_dataSource:null,_gridConfig:null,_gridState:null,_metaEntity:null,_toolWidgets:null,_pagingStatusNode:null,_preserveSelection:false,constructor:function(_86d){this._preserveSelection="selection" in _86d;},fetchMetaObject:function(){this._metaEntity=window.mx.meta.getEntity(this.entity);if(this._metaEntity==null){_863.error(this.id+": This grid has been configured for an entity the current user doesn't have access to.");return false;}return true;},setupGridConfig:function(){this._gridConfig=new _859({config:this.config,nested:this.nested});},setupGridState:function(){var _86e=this._gridConfig,_86f=this._gridState;_86f.updateperiod=_86e.gridSetting("refresh");_86f.searchbar=_86e.gridSetting("searchbar");_86f.controlbar=_86e.gridSetting("controlbar");_86f.pagingbar=_86e.gridSetting("pagingbar");_86f.selectionmode=_86e.gridSetting("selectionmode");_86f.selectable=(_86f.selectionmode!=="none");_86f.editable=_86e.gridSetting("editable");_86f.showemptyrows=_86e.gridSetting("showemptyrows");_86f.selectfirst=_86e.gridSetting("selectfirst");},setupDataSource:function(){var _870=this._gridConfig,_871=_870.getDataSource(),_872=this.getState("pageOffset",0),_873=_870.gridSetting("pageSize"),_874;if(this.customDataSource){_874=this.customDataSource;_874.setPageSize(_873);_874.setOffset(_872);var _875=this.getState("sortOptions",_870.gridSetting("sortparams"));if(_875){_874.setSortOptions(_875[0][0],_875[0][1]);}}else{if(_871){_874=_861.create(_86a.mixin({sort:this.getState("sortOptions",_870.gridSetting("sortparams")),aggregates:"Calculations" in this._gridConfig.getPlugins(),queryid:this instanceof _851("mxui/widget/DataGrid")?this.schema:"",context:this.mxcontext,page:_873,offset:_872,useContext:this.useContext},_871,this.dataSourceMixin));}}this._dataSource=_874;},resizeGrid:function(){this.contentNode.scrollTop=0;},setUpdateInterval:function(){var _876=this._gridState.updateperiod;if(_876&&_876.toString()!="0"){this.clearInterval();this._gridState.update=setInterval(_86a.hitch(this,"reload"),parseInt(_876*1000,10));}},clearInterval:function(){if(this._gridState.update!=null){clearInterval(this._gridState.update);}},actionSelectPage:function(opts){if(!this._gridState.invertedSelection){for(var i=0,_877=this._dataSource.getObjects(),_878;_878=_877[i];i++){this._addToSelection(_878.getGuid());}}this.refreshGrid();},actionSelectAllPages:function(opts){this.selection=[];this._gridState.invertedSelection=true;this.refreshGrid();},actionClearSelection:function(opts){if(this._hasSelection()||this._gridState.invertedSelection){this.selection=[];this._gridState.invertedSelection=false;this.refreshGrid();}},actionEditSelection:function(_879){if(!this._hasSelection()&&!this._gridState.invertedSelection){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{for(var i=0,obj;obj=this.selection[i];i++){var _87a=this._dataSource.getObject(obj),_87b=_879[_87a.getEntity()];if(_87b){var _87c=this.createContext();_87c.dupFrom(this.mxcontext);_87c.setObject(null,_87a.getEntity(),_87a.getGuid());window.mx.ui.execute(_87b,{context:_87c});}}}},actionInsertNew:function(_87d){var _87e=this._getEntity(_87d),_87f=_87d[_87e];if(_87f&&_87e){window.mx.data.create({entity:_87e,context:this.useContext?this.mxcontext:null,persistent:_87f.persistent,callback:function(obj){if(!this.useContext){var _880=this._gridConfig.getDataSource(),_881=_880.path||"",_882=_881.split("/"),guid=this.mxcontext.getTrackId();if(_882.length==2&&guid){var attr=_882[0];if(obj.isReference(attr)){obj.set(attr,guid);}}}var _883=this.createContext();_883.setContext(obj);window.mx.ui.execute(_87f,{context:_883});},error:function(e){window.mx.onError(e);}},this);}},selectRow:function(row){if(this._gridState.invertedSelection){_866.remove(row,"selected");}else{_866.add(row,"selected");}},deselectRow:function(row){if(!this._gridState.invertedSelection){_866.remove(row,"selected");}else{_866.add(row,"selected");}},postCreate:function(){var box=this.addFocusBox(this.controlNode);box.pressed({RIGHT_ARROW:box.FOCUS_NEXT,LEFT_ARROW:box.FOCUS_PREV});this.offerInterfaces(["close"]);this.initContext();this._previousSearchConstraints=this.getState("searchConstraints","");if(this.fetchMetaObject()){this.setupGridConfig();this.setupGridState();this.buildSearchBar();this.buildControlBar();this.buildToolBar();this.buildPagingBar();this.setupDataSource();}},getSchemaId:function(){return this.schema;},deselectAll:function(){this.selection=[];this.deselectGridRows();},registerSubscriptions:function(){this.removeSubscriptions();var guid=this.mxcontext.getTrackId();if(guid){this.subscribe({guid:this.mxcontext.getTrackId(),callback:_86a.hitch(this,"objectUpdate")});}this.subscribe({entity:this.entity,callback:_86a.hitch(this,"objectUpdate")});},eventItemClicked:function(e,node){if(!this._gridState.selectable){return;}var mode=this._gridState.selectionmode,guid=this.domData(node,"mendixguid"),_884=_869.indexOf(this.selection,guid),_885=mode!="singleandmaintain"||this.selection.length>1;if(guid){var obj=this._dataSource.getObject(guid);if(mode=="simplemulti"||mode=="multi"&&(_865("mac")&&e.metaKey||e.ctrlKey)){if(_884==-1){this.selectRow(node);this._addToSelection(obj.getGuid());}else{if(_885){this.deselectRow(node);this._removeFromSelection(obj.getGuid());}}}else{if(_884==-1){this.deselectAll();this.selectRow(node);this._addToSelection(obj.getGuid());}else{if(_885){this.deselectRow(node);this._removeFromSelection(obj.getGuid());}}}this._shareSelection(this._metaEntity.getEntity());}},eventActionBindingHandler:function(_886,_887){var _888=this._gridConfig.gridActionBindings(),_889=this._gridConfig.getActionsByKey(_888["on"+_887]),_88a=_889?this["action"+_889.actionCall]:null,_88b=this._getObjectFromNode(_886);if(this._gridState.invertedSelection){return;}if(_889&&_88a&&_886&&_88b){if(this._gridState.selectable){this.deselectAll();_85e.clearSelection();this.selectRow(_886);}this._addToSelection(_88b.getGuid());if(_88a){_88a.call(this,_889.params);}if(!this._gridState.selectable){this.deselectAll();}}else{}},eventControlBarButtonClicked:function(e){var node=e.currentTarget,_88c=node.getAttribute("data-mendix-id");if(_88c){var _88d=this._gridConfig.getActionsByKey(_88c);if(_88d){if(_88d.actionCall==="ActionSelected"){_88d.actionCall="EditSelection";}else{if(_88d.actionCall==="Create"){_88d.actionCall="InsertNew";}}var _88e="action"+_88d.actionCall;if(this[_88e]){this[_88e](_88d.params);}else{_863.error(this.id+".eventControlBarButtonClicked: Called function '"+_88e+"' does not exist in this component");}}else{_863.error(this.id+".eventControlBarButtonClicked: Action with action key '"+_88c+"' is not defined");}}else{_863.error(this.id+".eventControlBarButtonClicked: No action key defined!");}},actionInvokeAction:function(_88f){this.triggerPluginEvent("invokeAction",null,_86a.hitch(this,"invokeAction",_88f));},_getPlainSelection:function(){if(!this._gridState.invertedSelection){return this.selection;}var self=this,_890=[];this._dataSource.each(function(obj){var guid=obj.getGuid();if(_869.indexOf(self.selection,guid)===-1){_890.push(guid);}});return _890;},_getXpathSelection:function(){var _891,_892,_893,_894=this._gridState.invertedSelection;if(_894){_893=this._dataSource.getSetSize()-this.selection.length;_891=this._dataSource.getCurrentXPath();}else{_893=this.selection.length;_891="//"+this.entity;}if(_893===0){return null;}var _895=[];_869.forEach(this.selection,function(id){_895.push("id"+(_894?"!=":"=")+"\""+id+"\"");});if(_895.length===0){_892="";}else{_892="["+_895.join(_894?" and ":" or ")+"]";}return {xpath:_891,constraints:_892,sort:this._dataSource.getSortSettings()};},_getMicroflowParameters:function(_896){var _897={gridid:this.schema};if(!_896){_897.applyto="none";}else{if(_896=="selection"){if(this._dataSource instanceof _862){var _898=this._getXpathSelection();if(!_898){return null;}_897.applyto="selectionset";_86a.mixin(_897,_898);}else{var _899=this._getPlainSelection();if(_899.length===0){return null;}_897.applyto="selection";_897.guids=_899;}}else{if(_896=="allPages"){if(this._dataSource instanceof _862){if(this._dataSource.getSetSize()===0){_897.applyto="none";}_86a.mixin(_897,{xpath:this._dataSource.getCurrentXPath(),sort:this._dataSource.getSortSettings(),applyto:"set"});}else{var _89a=_869.map(this._dataSource.getObjects(),function(obj){return obj.getGuid();});_897.applyto="selection";_897.guids=_89a;}}}}return _897;},invokeAction:function(_89b){var _89c=_89b[this.entity],_89d=_89c.action,self=this,_89e=[];if(!_89d){return;}if(this.actDeferSyncAction){_89e.push("actDeferSyncAction");}if(_89d.microflow&&_89d.microflow.confirmation){var conf=_89d.microflow.confirmation;_89e.push(function(_89f){window.mx.ui.confirmation({cancel:conf.cancel,proceed:conf.proceed,content:conf.question,handler:_89f});});}if(_89d.form||(_89d.microflow&&_89d.microflow.validate==="view")){_89e.push(_86a.hitch(this.mxform,"validate"));}_89e.push(function(_8a0){self.mxform.save(_8a0,function(err){if(!(err instanceof mendix.lib.ValidationError)){window.mx.onError(err);}});});function _8a1(){if(!(self._destroyed||_89c.maintainSelection||self._gridState.selectionmode=="singleandmaintain")){self.deselectAll();self._shareSelection(self._metaEntity.getEntity());}};if(_89d.microflow){var _8a2=this._getMicroflowParameters(_89d.microflow.applyTo);if(!_8a2){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));return;}_89e.push(function(){window.mx.ui.execute(_89d,{params:_8a2,context:self.mxcontext,store:{caller:self},callback:_8a1});});}else{var _8a3=new _85f();if(_89d.form.passContext){var _8a4=this._getPlainSelection();if(!_8a4.length){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));return;}_8a3.setTrackId(_8a4[0]);_8a3.setTrackEntity(this.entity);}_89e.push(function(){window.mx.ui.execute(_89d,{context:_8a3});_8a1();});}this.sequence(_89e);},actionReturnSelection:function(opts){var form=this.mxform;form.validate(function(){var _8a5=function(e){if(!(e instanceof _860)){window.mx.onError(e);}};form.save(function(){form.commit(function(){form.dispose();},_8a5);},_8a5);});},controlNode:null,_setToolbarAttr:function(_8a6){for(var i=0,btn;btn=this._toolWidgets[i++];){btn.set("disabled",_8a6);}},buildControlBar:function(){if(!this._gridState.controlbar&&!this._gridState.pagingbar){this.controlNode.style.display="none";}},buildToolBar:function(){this._toolWidgets=[];if(!this._gridState.controlbar){this.toolBarNode.style.display="none";return;}var _8a7=this._gridConfig.gridTools(),box=this.getFocusBox(this.controlNode),frag=document.createDocumentFragment();for(var i in _8a7){var tool=_8a7[i];var _8a8={"mxid":tool.mxid,"caption":tool.caption,"title":tool.title,"onClick":_86a.hitch(this,"eventControlBarButtonClicked"),"cssClasses":"mx-name-"+tool.name+(tool.cssClass?(" "+tool.cssClass):""),"cssStyle":tool.cssStyle};if(tool.iconClass){_8a8.iconClass=tool.iconClass;}else{if(tool.iconUrl){_8a8.iconUrl=tool.iconUrl;}}var _8a9=new _85c(_8a8),_8aa=_8a9.domNode;_8a9.applyContext(this.mxcontext);this._toolWidgets.push(_8a9);try{if(_8a7[i].gridFunction){_8aa.setAttribute("gridFunction",_8a7[i].gridFunction);_8aa.setAttribute("param",_8a7[i].param);if(_8a7[i].background){_8aa.setAttribute("background-job",_8a7[i].background);}if(_8a7[i].progress){_8aa.setAttribute("progress",_8a7[i].progress);}if(_8a7[i].message){_8aa.setAttribute("message",_8a7[i].message);}}if(i>0){_8a7[i-1]._nextNode=_8aa;}_8a7[i]._domNode=_8aa;frag.appendChild(_8aa);frag.appendChild(document.createTextNode(" "));box.add(_8aa);_8a9.startup();}catch(e){}}this.toolBarNode.appendChild(frag);_85e.disableSelection(this.toolBarNode);},buildPagingBar:function(){if(!this._gridState.pagingbar){this.pagingBarNode.style.display="none";return;}var ltr=this.isLeftToRight(),frag=document.createDocumentFragment(),box=this.getFocusBox(this.controlNode),$=_85e.create;this.btFirst=new _85b({iconClass:ltr?"glyphicon-step-backward":"glyphicon-step-forward","onClick":_86a.hitch(this,"eventPagingFirstClicked"),"class":"mx-name-paging-first"});frag.appendChild($("#",this.btFirst.domNode," "));box.add(this.btFirst.domNode);this.btPrevious=new _85b({iconClass:ltr?"glyphicon-backward":"glyphicon-forward","onClick":_86a.hitch(this,"eventPagingPreviousClicked"),"class":"mx-name-paging-previous"});frag.appendChild($("#",this.btPrevious.domNode," "));box.add(this.btPrevious.domNode);this._pagingStatusNode=$("div",{"class":"dijitInline "+this.css.pagingStatus});frag.appendChild($("#",this._pagingStatusNode," "));this.btNext=new _85b({iconClass:ltr?"glyphicon-forward":"glyphicon-backward","onClick":_86a.hitch(this,"eventPagingNextClicked"),"class":"mx-name-paging-next"});frag.appendChild($("#",this.btNext.domNode," "));box.add(this.btNext.domNode);this.btLast=new _85b({iconClass:ltr?"glyphicon-step-forward":"glyphicon-step-backward","onClick":_86a.hitch(this,"eventPagingLastClicked"),"class":"mx-name-paging-last"});frag.appendChild($("#",this.btLast.domNode," "));box.add(this.btLast.domNode);this.pagingBarNode.appendChild(frag);_85e.disableSelection(this.pagingBarNode);},updatePagingStatus:function(_8ab){if(!this._gridState.pagingbar){return;}var _8ac=this._dataSource.getStatusMessage();_85e.text(this._pagingStatusNode,_8ac);if(this._dataSource.atBeginning()){this.btFirst.set("disabled",true);this.btPrevious.set("disabled",true);}else{this.btFirst.set("disabled",false);this.btPrevious.set("disabled",false);}if(this._dataSource.atEnd()){this.btNext.set("disabled",true);this.btLast.set("disabled",true);}else{this.btNext.set("disabled",false);this.btLast.set("disabled",false);}},eventPagingFirstClicked:function(){if(!this._dataSource.atBeginning()){this._dataSource.first(_86a.hitch(this,"refreshGrid"));}},eventPagingPreviousClicked:function(){if(!this._dataSource.atBeginning()){this._dataSource.previous(_86a.hitch(this,"refreshGrid"));}},eventPagingNextClicked:function(){if(!this._dataSource.atEnd()){this._dataSource.next(_86a.hitch(this,"refreshGrid"));}},eventPagingLastClicked:function(){if(!this._dataSource.atEnd()){this._dataSource.last(_86a.hitch(this,"refreshGrid"));}},_searchElements:null,_searchFilled:false,searchArgumentNode:null,searchControlNode:null,_searchGetConstraints:function(){var _8ad="";var _8ae=[];_869.forEach(this._searchElements,function(elem){var _8af=elem.get("query");if(_8af!==""){_8ae.push(_8af);}});if(_8ae.length){_8ad="["+_8ae.join(" and ")+"]";}return _8ad+this._gridState.xpathConstraint;},buildSearchBlock:function(){var $=_85e.create;if(this._gridState.isSearchBuild){return;}this._gridState.isSearchBuild=true;var _8b0=this.searchButton=new _85b({"caption":window.mx.ui.translate("mxui.widget.DataGrid",["search"]),"onClick":_86a.hitch(this,"eventSearchActivated"),"class":"btn-default mx-name-search "+this.css.searchButton});this.searchControlNode.appendChild($("#",_8b0.domNode," "));var _8b1=this.resetButton=new _85b({"caption":window.mx.ui.translate("mxui.widget.DataGrid",["reset"]),"onClick":_86a.hitch(this,"eventSearchResetClicked"),"class":"btn-default mx-name-reset "+this.css.resetButton});this.searchControlNode.appendChild($("#",_8b1.domNode," "));var _8b2=document.createDocumentFragment();this._searchElements=_869.map(this._gridConfig.searchBarItems(),_86a.hitch(this,function(_8b3){var _8b4=new _85a(_86a.mixin({entity:this.entity,mxcontext:this.mxcontext},_8b3));var _8b5=this.getState("searchInput",{});_8b4.set("value",_8b5[_8b3.path]||_8b4.get("value"));this.connect(_8b4,"onKeyUp","eventSearchActivated");_8b2.appendChild(_8b4.domNode);_8b4.startup();return _8b4;}));this.searchArgumentNode.appendChild(_8b2);},buildSearchBar:function(){if(!this._gridState.searchbar){this.searchNode.style.display="none";this._searchFilled=true;return;}var _8b6=this._gridConfig.searchBarConfig();if(_8b6){this._gridState.searchBarVisible=this.getState("searchBarVisible",!_8b6.toggledByDefault);this._gridState.searchBarTogglable=!!_8b6.toggleable;}else{this._gridState.searchBarVisible=true;}if(!this._gridState.searchBarVisible){var _8b7=false;var opts=this._gridConfig.searchBarItems();for(var i in opts){var item=opts[i];if(item.defaults){this.buildSearchBlock();_8b7=true;break;}}this.searchNode.style.display="none";this._gridState.isSearchBuild=_8b7;}else{this.buildSearchBlock();this.searchNode.style.display="";}this.checkSearchFields();},eventSearchActivated:function(e){_86b.stop(e);if(!(e.type==="click"||(e.keyCode===13&&!e.shiftKey))){return;}var self=this,_8b8=this.searchButton;this.checkSearchFields();if(!this.constraintsFilled()){return;}_8b8.set("disabled",true);this._dataSource.isValid(function(_8b9){if(_8b9){self._dataSource.setConstraints(self._searchGetConstraints(),function(){if(!self._preserveSelection){self.selection=[];}self.refreshGrid();if(self.triggerOnSearchChanged){self.triggerOnSearchChanged();}_8b8.set("disabled",false);});}else{_8b8.set("disabled",false);}});},eventSearchResetClicked:function(){var _8ba=this._dataSource;_869.forEach(this._searchElements,function(elem){elem.reset();});this.checkSearchFields();_8ba.setConstraints(this._searchGetConstraints());var _8bb=_86a.hitch(this,function(){this.refreshGrid();if(this.triggerOnSearchChanged){this.triggerOnSearchChanged();}});if(this.constraintsFilled()){_8ba.isValid(function(_8bc){if(_8bc){_8ba.refresh(_8bb);}else{_8ba.clean(_8bb);}});}},checkSearchFields:function(){var _8bd=this._gridConfig.gridSetting("waitforsearch");if(!_8bd){this._searchFilled=true;return;}this._searchFilled=_869.some(this._searchElements,_86a.hitch(this,function(elem){if(elem.get("query")!==""){this.messageNode.innerHTML="";this.messageNode.style.display="none";return true;}}));if(!this._searchFilled){this.messageNode.innerHTML=window.mx.ui.translate("mxui.widget.DataGrid","waitForSearch");this.messageNode.style.display="block";}},constraintsFilled:function(){return this._searchFilled;},reload:function(_8be){if(this.constraintsFilled()){var self=this;this._dataSource.isValid(function(_8bf){if(_8bf){self._dataSource.refresh(function(){self.refreshGrid();if(_8be){_8be();}});}});}},actionToggleSearch:function(opts){var self=this;if(!this._gridState.searchBarTogglable){return;}this.buildSearchBlock();this._gridState.searchBarVisible=!this._gridState.searchBarVisible;if(!this._gridState.searchBarVisible){this._searchWipeOut=this._searchWipeOut||_864.wipeOut({node:this.searchNode,duration:200,onEnd:function(){setTimeout(function(){self.resize(self._resizeBox);},0);_869.forEach(self._searchElements,function(elem){elem.cleanup();});}});this._searchWipeOut.play();}else{this._searchWipeIn=this._searchWipeIn||_864.wipeIn({node:this.searchNode,duration:200,onEnd:function(){setTimeout(function(){_856.showOverflow(self.domNode);self.resize(self._resizeBox);},0);try{_869.some(self._searchElements,function(elem){if(!elem.get("hidden")){elem.focus();return true;}});}catch(e){}}});_856.hideOverflow(this.domNode);this._searchWipeIn.play();}},applyContext:function(_8c0,_8c1){if(this._metaEntity==null){if(_8c1){_8c1();}return;}if(!this._dataSource){_863.error(this.id+".applyContext: Applying context before rendered!!!");if(_8c1){_8c1();}return;}this.cloneContext(_8c0);this.setUpdateInterval();_869.forEach(this._toolWidgets,function(_8c2){_8c2.applyContext(this.mxcontext);},this);this._gridState.xpathConstraint="";var _8c3=this.mxcontext.getParam("xpathConstraint");if(_8c3){this._gridState.xpathConstraint+=_8c3;}this.removeSubscriptions();this.registerSubscriptions();if(!this._gridState.inDenial){var _8c4=[];if(this.constraintsFilled()){var _8c5=[];var _8c6=function(item){return function(_8c7){item.reinit(_8c7);};};_869.forEach(this._searchElements,function(elem){_8c5.push(_8c6(elem));});_8c4.push(function(_8c8){this.collect(_8c5,_8c8);});_8c4.push(function(_8c9){if(this._dataSource.setConstraints){var _8ca=this._previousSearchConstraints?this._previousSearchConstraints:this._searchGetConstraints();this._previousSearchConstraints="";this._dataSource.setConstraints(_8ca);}this._dataSource.setOffset(this.getState("pageOffset",0));this._dataSource.reload(_8c9);});}else{_8c4.push("actCleanDS");}this.sequence(_8c4,function(){if(!this._preserveSelection){this.selection=this.getState("selectedGuids",[]);this.filterSelected();}this.refreshGrid();_8c1();});}else{if(_8c1){_8c1();}}},filterSelected:function(){this.selection=_869.filter(this.selection,function(guid){return this._dataSource.getObject(guid)!=null;},this);},objectUpdateNotification:function(){var self=this;if(!this._gridState.inDenial&&this.constraintsFilled()){this._dataSource.isValid(function(_8cb){if(_8cb){self.sequence([_86a.hitch(self._dataSource,"entityUpdate"),function(_8cc){this.filterSelected();this.refreshGrid();if(_8cc){_8cc();}}]);}});}},refreshGrid:function(){if(this._dataSource.afterEnd()){this._dataSource.first(_86a.hitch(this,"refreshGrid"));return;}this.updatePagingStatus();this.fillGrid();this.resizeGrid();},actCleanDS:function(_8cd){this.selection=[];this._dataSource.clean(_8cd);},actionDeleteSelection:function(_8ce){if(this._gridState.invertedSelection){}else{if(!this._hasSelection()){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{var self=this;var _8cf=function(){var _8d0=self.selection;self.deselectAll();self._shareSelection(self._metaEntity.getEntity());window.mx.data.remove({guids:_8d0,callback:function(){window.mx.data.sendClassUpdate(self.entity);},error:function(e){window.mx.onError(e);}});};if(_8ce===true){_8cf();}else{window.mx.ui.confirmation({content:window.mx.ui.translate("mxui.widget.DataGrid","confirm_delete",this.selection.length),handler:_8cf});}}}},resize:function(box){var _8d1=false;if(box){var _8d2=_868.getMarginBox(this.domNode),_8d3=_868.getMarginBox(this.contentNode),_8d4=box.h-(_8d2.h-_8d3.h);if(_8d4>_85e.minContainerHeight){_867.set(this.contentNode,"height",_8d4+"px");_8d1=true;if(this.headTable){_867.set(this.headTable,"top","0px");}}}this.contentNode.style.overflow=_8d1?"auto":"";if(!_8d1){_867.set(this.contentNode,"height","auto");}this._resizeBox=box;},close:function(){this.disposeContent();},onHide:function(e){_869.forEach(this._searchElements,function(elem){elem.cleanup();});},storeState:function(_8d5){_8d5("searchBarVisible",this._gridState.searchBarVisible);_8d5("searchConstraints",this._dataSource.getConstraints&&this._dataSource.getConstraints());_8d5("pageOffset",this._dataSource.getOffset());_8d5("selectedGuids",this.selection);if(this._dataSource.getSortSettings){_8d5("sortOptions",this._dataSource.getSortSettings());}var _8d6={};_869.forEach(this._searchElements,function(_8d7){_8d6[_8d7.path]=_8d7.get("value");});_8d5("searchInput",_8d6);},uninitialize:function(){this.clearInterval();this.removeSubscriptions();this._clearSelectionStore();_85d.destroyWidgetsIn(this.searchControlNode);_85d.destroyWidgetsIn(this.toolBarNode);_85d.destroyWidgetsIn(this.pagingBarNode);if(this.itemNode){_85d.destroyWidgetsIn(this.itemNode);}if(this._dataSource){this._dataSource.destroy();}_869.forEach(this._searchElements,function(elem){elem.destroy();});}});return _86c;});},"mxui/mixin/_Contextable":function(){define(["mendix/logger","dojo/_base/declare"],function(_8d8,_8d9){var _8da=_8d9(null,{dropContext:"",contextsource:"",initContext:function(){if(!this.mxcontext){this.mxcontext=this.createContext();}},cloneContext:function(_8db){if(this.mxcontext==null||this.mxcontext===""){this.mxcontext=this.createContext();}this.mxcontext.dupFrom(_8db);this.applyContextDrop();this.applyContextAction();if(this.backtrackconstraints){this.mxcontext.setConstraints(this.backtrackconstraints);}},applyContextDrop:function(){var _8dc=this.dropContext;if(_8dc){for(var i=0,drop;drop=_8dc[i];i++){if(this.mxcontext.hasContext(drop)){this.mxcontext.unsetContext(drop);}}}},applyContextAction:function(){if(this.contextAction==="reset"){this.mxcontext.reset();}},createContext:function(){var ctxt=new mendix.lib.MxContext();ctxt.setAppFlowId(this.app_flow_id);return ctxt;},removeOpenContext:function(){var _8dd=this.mxcontext;if(_8dd&&_8dd.listeners){_8dd.listeners[this.id]=null;delete _8dd.listeners[this.id];}delete this.mxcontext;},uninitialize:function(){this.removeOpenContext();}});return _8da;});},"mxui/mixin/_Scriptable":function(){define(["mendix/logger","dojo/_base/declare"],function(_8de,_8df){var _8e0=_8df(null,{offeredInterfaces:null,offerInterface:function(_8e1){if(this.offeredInterfaces==null){this.offeredInterfaces={};}if(this[_8e1]){this.offeredInterfaces[_8e1]=true;return true;}else{return false;}},offerInterfaces:function(_8e2){for(var i=0;i<_8e2.length;i++){this.offerInterface(_8e2[i]);}},deleteInterface:function(_8e3){if(this.offeredInterfaces&&this.offeredInterfaces[_8e3]){this.offeredInterfaces[_8e3]=null;delete this.offeredInterfaces[_8e3];}},hasInterface:function(_8e4){return (this.offeredInterfaces&&this.offeredInterfaces[_8e4])?true:false;},invokeCall:function(call,args){if(!this.hasInterface(call)){_8de.error(this.id+".invokeCall: ERROR: attempt to invoke a function not specified as Scriptable");}else{this[call](args);}}});return _8e0;});},"mxui/mixin/_Stateful":function(){define(["dojo/aspect","dojo/_base/lang","dojo/_base/declare"],function(_8e5,_8e6,_8e7){var _8e8=_8e7(null,{constructor:function(){_8e5.before(this,"postCreate",_8e6.hitch(this,"_registerStoreState"));},_registerStoreState:function(){if(!this.uniqueid){throw new Error("All _Stateful widgets must have a deterministic uniqueid provided. See _WidgetBase#uniqueid.");}this.connect(this.mxform,"onPersistViewState",function(_8e9){var _8ea=_8e9[this.uniqueid]||(_8e9[this.uniqueid]={});this.storeState(function(key,_8eb){_8ea[key]=_8eb;});});},getState:function(key,def){var _8ec=this.mxform&&this.mxform.viewState?this.mxform.viewState[this.uniqueid]:undefined;if(arguments.length===0){return _8ec;}return _8ec&&key in _8ec?_8ec[key]:def;},storeState:function(_8ed){throw new Error("All stateful widgets must implement storeState method, "+"as it is the only method where their state can be stored");}});return _8e8;});},"mxui/mixin/_Pluggable":function(){define(["mxui/widget/plugins/DataGrid/Calculations","mxui/widget/plugins/DataGrid/GridEditor","mxui/widget/plugins/DataGrid/HoverPreview","mendix/logger","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_8ee,_8ef,_8f0,_8f1,_8f2,_8f3,_8f4){var _8f5=_8f4(null,{plugins:null,pluginEvents:null,_normalizePluginName:function(name){if(name.indexOf(".")==-1){name="mxui.widget.plugins."+this.declaredClass.split(".").pop()+"."+name;}return name;},loadPlugin:function(name,_8f6){this.plugins=this.plugins||{};var _8f7={"mxui.widget.plugins.DataGrid.Calculations":_8ee,"mxui.widget.plugins.DataGrid.GridEditor":_8ef,"mxui.widget.plugins.DataGrid.HoverPreview":_8f0}[this._normalizePluginName(name)];this.plugins[name]=new _8f7({parent:this,config:_8f6});},hasPlugin:function(name){return this.plugins&&this._normalizePluginName(name) in this.plugins;},registerToPluginEvent:function(name,_8f8,_8f9){this.pluginEvents=this.pluginEvents||{};if(!this.pluginEvents[name]){this.pluginEvents[name]=[];}_8f8._async=_8f9;this.pluginEvents[name].push(_8f8);},triggerPluginEvent:function(name,args,_8fa){var _8fb=this.pluginEvents&&this.pluginEvents[name];var _8fc=1;var _8fd=function(){if(--_8fc===0){if(_8fa){_8fa();}}};if(_8fb){_8f2.forEach(_8fb,function(_8fe){try{if(_8fe._async){_8fc++;_8fe(args,_8fd);}else{_8fe(args);}}catch(e){_8f1.error(this.id+".triggerPluginEvent: An error occurred in listener of event '"+name+"': "+e);}},this);}_8fd();},uninitialize:function(){for(var name in this.plugins){try{this.plugins[name].destroy();}catch(e){}}}});return _8f5;});},"mxui/widget/plugins/DataGrid/Calculations":function(){define(["mxui/dom","mendix/logger","dojo/_base/lang","dojo/_base/array","big/big"],function(dom,_8ff,_900,_901,Big){var $=dom.create;function _902(_903){var name="mxui.widget.plugins.DataGrid.Calculations";var _904=[];var _905=_903.parent;var _906=_903.config;if(!_905&&(_905.widgetType!="DataGrid")){throw new Error(name+".initialize : can only register to DataGrid!");}var _907={onDestroy:"plugineventOnDestroy",onRefresh:"plugineventOnRefresh"};var _908={};var _909=_905.getEntityProperties();var _90a=function(){_905.showFootNode();var tr1=$("tr");var tr2=$("tr");_905.gridFootNode.appendChild(tr1);_905.gridFootNode.appendChild(tr2);var th,td=null;for(var i=0,_90b;_90b=_909[i];i++){var tag=_90b.tag;th=$("th");td=$("td");_905.setColumnStyle(th,_90b);_905.setColumnStyle(td,_90b);if(_906[tag]){th.innerHTML=_906[tag].title||"";var _90c=_90b.render.toLowerCase();_906[tag].usesPrecision=(_90c!=="integer"&&_90c!=="long");}td.innerHTML="&nbsp;";_908[i]=td;tr1.appendChild(th);tr2.appendChild(td);}};var _90d=function(){for(var i=0,_90e;_90e=_909[i];i++){_908[i].innerHTML="&nbsp;";}};var _90f=function(){if(!_905.constraintsFilled()){_90d();return;}window.mx.server.request({request:{action:"retrieve_aggregates",params:{id:_905.schema,xpath:_905.getCurrentXPath()}},options:{callback:function(code,json){_910(_901.map(json.aggregates,function(agg){return agg===""?agg:new Big(agg);}));},useCache:false,preventCache:true}});};var _910=function(data){if(!data){return;}var _911=0,_912=_905.getHiddenAggregates().reverse();for(var h=0;h<_912.length;h++){data.splice(_912[h],1);}for(var i=0,_913;_913=_909[i];i++){var tag=_913.tag;if(_906[tag]){var _914=data[_911++],opts=_909[i].display,_915=opts.precision;if(_914==null){continue;}if(_914==""){_914=0;}if(!_906[tag].usesPrecision){_915=0;}_908[i].innerHTML=window.mx.parser.formatValue(_914,"decimal",{groups:opts.formatted,places:_915});}}};this.plugineventOnDestroy=function(){this.destroy();};this.plugineventOnRefresh=function(){if(_905.constraintsFilled()){_910(_905.getAggregates());}else{_90d();}};this.destroy=function(){while(_904.length!=0){window.mx.data.unsubscribe(_904.shift());}_905=null;};this.objectUpdate=function(){if(!_905.acceptingUpdates()){_90f();}};_90a();for(var i in _907){_905.registerToPluginEvent(i,_900.hitch(this,_907[i]));}var zork={};zork[_905.entity]=true;metaEntity=window.mx.meta.getEntity(_905.entity);if(metaEntity.hasSuperEntities()){var _916=metaEntity.getSuperEntities();for(var i=0;i<_916.length;i++){zork[_916[i]]=true;}}if(metaEntity.hasSubEntities()){var _917=metaEntity.getSubEntities();for(var i=0;i<_917.length;i++){zork[_917[i]]=true;}}for(var i in zork){_904.push(window.mx.data.subscribe({entity:i,callback:_900.hitch(this,"objectUpdate")}));}};return _902;});},"mxui/widget/plugins/DataGrid/GridEditor":function(){define(["mxui/widget/MxInlineEditor","mxui/wm/focus","mxui/dom","mendix/logger","dojo/Deferred","dojo/keys","dojo/number","dojo/on","dojo/_base/event","dojo/_base/lang"],function(_918,_919,dom,_91a,_91b,_91c,_91d,_91e,_91f,_920){function _921(_922){var name="plugins.GridEditor";this._connects=[];var _923=null;var _924=null;var _925=false;var _926,_927=null;var _928={mxobject:null,node:null,row:-1,key:"",attr:"",attrclass:"",valid:true,invalidmsg:"",saving:false};var grid=_922.parent;var _929=null;name=grid.id+"."+name;var _92a=null;var _92b={};var _92c="";var _92d="";var _92e=false;if(grid&&(grid.declaredClass!="mxui.widget.DataGrid")){_91a.error(name+".initialize : can only register to DataGrid!");}else{}var _92f={},_930=[];var _931=function(){_929.stopEditing();_929.endEdit();if(_928.saving){grid.acceptUpdates();}else{if(_925){grid.objectUpdate();}}_925=false;};var _932=function(_933){var guid=_933.getGuid();var _934=function(){if(_92f[guid]){window.mx.data.unsubscribe(_92f[guid].sub);window.mx.data.unsubscribe(_92f[guid].val);delete _92f[guid];}};var func=_92f[guid];if(func){clearTimeout(func.timer);}else{func=_92f[guid]=new function(){this.objectUpdate=function(guid){if(typeof guid=="object"){return;}var _935=_933&&_933.getGuid();if(guid!=_935){clearTimeout(this.timer);_934();window.mx.data.get({xpath:"//"+_933.getEntity()+"[id="+guid+"]",filter:{id:grid.getSchemaId()},noCache:true,callback:function(objs){grid.updateMxObject(objs[0]);},error:function(e){window.mx.onError(e);}});}};this.validationUpdate=function(vals){_928.invalidmsg=vals[0].getErrorReason(_928.key);};};}func.timer=setTimeout(_934,5000);func.sub=window.mx.data.subscribe({guid:guid,callback:_920.hitch(func,"objectUpdate")});func.val=window.mx.data.subscribe({guid:guid,val:true,callback:_920.hitch(func,"validationUpdate")});};var _936={onLoad:"plugineventOnLoad",preRefresh:"plugineventPreRefresh",onRefresh:"plugineventOnRefresh",onSync:"plugineventOnSync",onCellClicked:"plugineventCellClicked",onSelectRow:"plugineventSelectRow"};var _937=function(_938){var _939=null;if(_928.mxobject){_939=_928.mxobject.getGuid();_928.mxobject=null;}if(_938){_928.mxobject=_938;var guid=_928.mxobject.getGuid();if(_939!=guid){_928.valid=true;_928.invalidmsg="";}}};var _93a=function(){return _928.mxobject;};var _93b=function(node){_928.node=node;_928.row=grid.domData(node,"row");_928.key=grid.domData(node,"key");_928.col=grid.domData(node,"column");_928.datakey=_928.key;_928.gridsize=grid.getCurrentGridSize();var attr=_928.key;if(attr.match("/")!=null){attr=attr.split("/")[0];}_928.attrclass=_923.getAttributeType(attr);_928.attr=attr;_928.row=parseInt(_928.row,10);if(_928.key.match(/\//)){_928.key=_928.key.replace(/^.*\//,"");}_937(grid.getMxObjectAtRow(_928.row));};var _93c=function(_93d){var _93e=_93d.mxObject;var attr=_93d.attribute;var _93f=_93d.value;if(typeof (_93f)!="string"){_93f=_93f.toString();}if(_93f==""){return true;}switch(_93e.getAttributeType(attr)){case "Enum":var map=_93e.getEnumMap(attr);for(var i=0;i<map.length;i++){if(map[i].key==_93f){return true;}}return false;break;case "Integer":case "Long":case "Float":case "Currency":var _940=_93f.replace(/^-/,"").replace(/(\,|\.)/g,"").replace(/\d/g,"");return (_940=="");break;case "Date":case "DateTime":if(_93f.match(/^\d+[\/-]\d+[\/-]\d+$/)!=null){var _941=window.mx.parser.parseDate(_93f);return isNaN(_941)?false:true;}else{return false;}break;default:return true;break;}};_924=function(){var obj=_93a();if(!obj){return true;}if(_929.getEditorStatus()!="active"){return true;}if(_929.hasChanges()){var _942=_929.getValue();var _943=_942;var ref=_928.attr;if(_923.isReference(ref)){return true;}else{if(_93c({mxObject:obj,attribute:ref,value:_943})){return true;}else{return false;}}}return true;};_926=function(){var _944=_93a();if(!_944){return false;}if(_929.hasChanges()){var _945=_929.getValue();var _946=_945;var ref=_928.attr;if(_923.isReference(ref)){_944.set(ref,_946);}else{if(_93c({mxObject:_944,attribute:ref,value:_946})){_928.valid=true;_928.invalidmsg="";switch(_928.attrclass){case "Date":case "DateTime":_946=(_945=="")?"":window.mx.parser.parseDate(_945);break;case "Enum":_946=_945;break;case "Long":case "Integer":_946=window.mx.parser.parseValue2(_945,"integer");_946=_946===null?"":_946;break;case "Currency":case "Decimal":case "Float":_946=window.mx.parser.parseValue2(_945,"float",{places:_92a[_928.col].display.precision});_946=_946===null?"":_946;break;case "String":case "Text":_946=dom.unescapeString(_945);break;case "Boolean":_946=(_945==="true");break;default:break;}_944.set(ref,_946);}else{_928.valid=false;_929.undoChanges();var msg=_928.invalidmsg=window.mx.ui.translate("mendix.lib.Validations","invalid_attribute",[_945,_944.getEntity()+"/"+_928.key]);window.mx.ui.error(msg);}}}return _944.hasChanges();};var _947=function(){if(!_92e){grid.addToSyncDeferQueue();_92e=true;}else{}};var _948=function(){if(_92e){grid.removeFromSyncDeferQueue();_92e=false;}else{}};var _949=function(e){if(_928._def){_928._def.reject(new Error(""));_928._def=null;}_930=[];_928.valid=false;_928.saving=false;grid.acceptUpdates();_948();};_927=function(_94a){if(_94a){_930.push(_94a);}if(!_928.saving){var _94b=_93a();if(_94b&&_94b.hasChanges()){grid.preventUpdates();_928.saving=true;_925=true;_932(_94b);window.mx.data.save({mxobj:_94b,callback:function(){window.mx.data.commit({mxobj:_94b,callback:function(){_928.valid=true;_928.invalidmsg="";_928.saving=false;if(_928._def){_928._def.resolve();_928._def=null;}grid.acceptUpdates();_948();mendix.lang.collect(_930);},error:_949});},error:_949});}else{mendix.lang.collect(_930);}}else{}};var _94c=false;var _94d=[];var _94e=function(node,_94f){var div,td=dom.getAncestorNode(node,"TD");if(node.nodeName.toLowerCase()==="div"){div=node;}else{div=node.querySelector("div:first-child");}if(_929.getEditorStatus()=="active"){if(_926()){_927();}}if(div&&td){_93b(td);if(_928.row>=_928.gridsize){return;}var attr=_928.datakey,_950=attr.split("/"),ref;if(_950.length>1){attr=_950[0];ref=_950[2];}var _951=_93a();if(!_92a[_928.col].editable){_931();_937(null);}else{if(_923.isReference(attr)){var _952=function(_953){var _954={selected:_951.getReference(attr),items:{}};_92b[_928.datakey].source.each(function(o){var _955;switch(o.getAttributeType(ref)){case "Boolean":_954.items[o.getGuid()]=window.mx.ui.translate("mxui.widget.DataGrid",o.get2(ref)+"");break;case "DateTime":_954.items[o.getGuid()]=window.mx.parser.formatDate(o.get2(ref));break;case "Enum":_954.items[o.getGuid()]=o.getEnumCaption(ref);break;default:_954.items[o.getGuid()]=o.get2(ref);}});_929.editNode(div,"reference",_954);_94f&&_929.startEditing();_953&&_953();};if(!_94c){_94d.push(_952);}else{_952();}}else{switch(_923.getAttributeType(attr)){case "Boolean":_929.editNode(div,"boolean",{selected:_951.get2(attr)+"",items:{"false":window.mx.ui.translate("mxui.widget.DataGrid","false"),"true":window.mx.ui.translate("mxui.widget.DataGrid","true")}});_94f&&_929.startEditing();break;case "Date":case "DateTime":_929.editNode(div,"date");break;case "Enum":_929.editNode(div,"enum",{selected:_951.get2(attr),items:_923.getEnumKVPairs(attr)});_94f&&_929.startEditing();break;case "Currency":case "Decimal":case "Float":_929.editNode(div,"text",{hasDecimalPoint:true});break;default:_929.editNode(div,"text");break;}}}}else{}};var _956=function(){var _957=false;for(var i=0,_958;_958=_92a[i];i++){if(_957){if(_958.editable){return _958.tag;}}if(i==_928.col){_957=true;}}};var _959=function(){var key="";for(var i=0,_95a;_95a=_92a[i];i++){if(i==_928.col){return key;}if(_95a.editable){key=_95a.tag;}}};var _95b=function(){if(grid.getCurrentGridSize()==0){return;}var row=0;var _95c=_93a();if(_95c!=null){var row=grid.getRowForMxObject(_95c);if(row==null){row=0;}}var node=grid.getCellNode(row,_928.datakey||_92c);if(node){_94e(node);}};var _95d=function(){if(grid.getCurrentGridSize()==0){return;}var node=grid.getCellNode(0,_928.datakey||_92c);if(node){_94e(node);}};var _95e=function(){_926()&&_927();if(_928.row!=0){var node=grid.getCellNode((_928.row-1),_928.datakey);_94e(node);}};var _95f=function(){_926()&&_927();if(_928.row!=(_928.gridsize-1)){var node=grid.getCellNode((_928.row+1),_928.datakey);if(node&&(node!=_928.node)){_94e(node);}}};var _960=function(){if((_928.datakey==_92c)&&(_928.row!=0)){_928.datakey=_92d;_95e();}else{if(_928.datakey!=_92c){_926();var node=grid.getCellNode(_928.row,_959());if(node){_94e(node);}}}};var _961=function(){if(_928.datakey==_92d){if(_928.row!=(_928.gridsize-1)){_928.datakey=_92c;_95f();}else{_926()&&_927();_919.next();_931();_937(null);}}else{if(_928.datakey!=_92d){_926();var node=grid.getCellNode(_928.row,_956());if(node){_94e(node);}}}};var _962=function(){grid.domNode.className+=" inlineGrid";};this.plugineventOnLoad=function(e){_962();};this.plugineventOnSync=function(e){if(_929.hasChanges()){_947();_929.stopEditing();if(_926()){_927();}else{_948();}}};this.plugineventOnDestroy=function(e){_931();if(_929.hasChanges()){_926();}var _963=_93a();if(_963&&_963.hasChanges()){_927();}};this.plugineventSelectRow=function(e){var row=e.row;var node=grid.getCellNode(row,_928.datakey||_92c);if(node){_94e(node);}};this.plugineventOnRefresh=function(e){if(grid.getCurrentGridSize()==0){return;}switch(_929.getEditorStatus()){case "inactive":break;case "active":case "ready":_95b();break;}};this.plugineventPreRefresh=function(e){if(_929.hasChanges()){_926();}var _964=_93a();if(_964&&_964.hasChanges()){_927();}_931();};this.plugineventCellClicked=function(e){if(_929.hasChanges()){_926();}_94e(e.target,true);if(e.target.nodeName.toLowerCase()=="select"){_91f.stop(e);}else{this._editorClicked=true;}};this.editorClickHandler=function(e){if(!this._editorClicked){try{if(_928.valid&&_926()){_927();}}catch(e){_91a.error(name+".editorClickHandler:"+e.message);}_931();_937(null);}this._editorClicked=false;};this.editorKeyHandler=function(_965){var _966=_965.keyCode;switch(_929.getEditorStatus()){case "inactive":break;case "ready":switch(_966){case 37:_960();break;case 38:_95e();break;case 9:_965.stopPropagation();_965.preventDefault();if(_965.shiftKey===true){_960();break;}case 39:_961();break;case 40:_95f();break;case 13:case 18:case 32:case 27:case 113:_929.startEditing();break;case _91c.BACKSPACE:_929.startEditing("");break;default:if((_966>=48)&&(_966<=110)){_929.startEditing();}break;}break;case "active":switch(_966){case 9:_965.stopPropagation();_965.preventDefault();case 13:_929.stopEditing();_961();break;case 27:_929.undoChanges();_961();break;default:break;}break;}return false;};this.destroy=function(){try{while(this._connects.length!=0){this._connects.pop().remove();}this.plugineventOnDestroy();_929.destroy();for(var i in _92b){_92b[i].source.destroy();}_92b=null;}catch(e){}grid=null;};try{_929=new _918();}catch(e){}_929.eventKeyHandler=this.editorKeyHandler;_923=window.mx.meta.getEntity(grid.entity);_92a=grid.getEntityProperties();var _967=[];for(var i=0,_968;_968=_92a[i];i++){var tag=_968.tag;_967=tag.split(/\//);if(_968.editable){if(_92c==""){_92c=tag;}_92d=tag;}if(_968.editable){try{if(_923.isReference(_967[0])){_92b[tag]={key:_967[_967.length],source:new webcore.datasource.XPathSource({entity:_967[_967.length-2],page:100})};var ds=_92b[tag].source;ds.reload(function(){_94c=true;mendix.lang.sequence(_94d);});}}catch(e){}}}for(var i in _936){grid.registerToPluginEvent(i,_920.hitch(this,_936[i]));}this._connects.push(_91e(document.body,"click",_920.hitch(this,"editorClickHandler")));grid.registerToPluginEvent("invokeAction",function(args,_969){_927(_969);},true);};return _921;});},"mxui/widget/MxInlineEditor":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Templated","mxui/dom","mendix/logger","dojo/sniff","dojo/_base/event","dojo/dom","dojo/dom-geometry","dojo/_base/lang","dojo/i18n","dojo/_base/kernel","dojo/_base/declare","dojo/text!mxui/widget/templates/MxInlineEditor.html"],function(_96a,_96b,dom,_96c,_96d,_96e,_96f,_970,_971,_972,_973,_974,_975){var _976=function(node,prop){return (parseInt(node.getAttribute(prop)));};var _977=function(node,prop){return node.getAttribute(prop);};var _978=_974([_96a,_96b],{declaredClass:"mxui.widget.MxInlineEditor",domNode:null,form:null,text:null,enumtext:null,select:null,minWidth:40,minHeight:200,templateString:_975,textValue:"",targetNode:null,_options:null,_nodeList:[],_status:"inactive",_previousValue:"",_editingmode:"text",constructor:function(){this.boolOptions={};this.boolOptions[window.mx.ui.translate("mxui.widget.DataGrid","true")]="true";this.boolOptions[window.mx.ui.translate("mxui.widget.DataGrid","false")]="false";this._locale=_972.getLocalization("dojo.cldr","number",_973.locale);},postCreate:function(){this._nodeList=[this.text,this.select,this.readonly,this.enumtext];this.connect(document.body,"onkeydown","eventOnKeyDown");this.connect(this.form,"onsubmit","eventOnSubmit");this.connect(this.form,"onclick","eventOnClick");this.connect(this.select,"onclick","selectClicked");this.connect(this.text,"keydown","onKeyDown");},selectClicked:function(e){_96e.stop(e);return false;},_hideNodes:function(){for(var i=0;i<this._nodeList.length;i++){this._nodeList[i].style.display="none";}},editNode:function(node,_979,opts){this._options=opts;this._editingmode=_979.toLowerCase();var _97a=this.targetNode&&this.targetNode.parentNode;if(_97a){this.targetNode.style.display="";_96f.setSelectable(_97a,false);}this.targetNode=node;this._hideNodes();var td=this.targetNode.parentNode;td.appendChild(this.form);_96f.setSelectable(td,true);this.textValue=dom.unescapeString(this.targetNode.innerHTML);if(this.textValue==="&nbsp;"){this.textValue="";}if(this.textValue.length===0){this.targetNode.innerHTML="&nbsp;";}this._previousValue=this.textValue;this.setupEditNode();},setStyleFromTarget:function(node){node.value=_971.trim(this.textValue);if(!_96d("ie")){node.style.fontSize=_976(this.targetNode,"font-size");node.style.fontWeight=_977(this.targetNode,"font-weight");node.style.fontStyle=_977(this.targetNode,"font-style");}var bb=_970.getMarginBox(this.targetNode);node.style.width="100%";return bb;},setupTextNode:function(){this.text.style.textAlign=this.targetNode.parentNode.style.textAlign;var ee=this.text;ee.value=_971.trim(this.textValue);ee.style.display="";this.setStyleFromTarget(ee);this.form.style.display="";this.targetNode.style.display="none";try{ee.select();ee.focus();ee.setAttribute("readonly","readonly");}catch(e){}},setupEditNode:function(){switch(this._editingmode){case "text":case "date":this.setupTextNode();break;case "reference":case "boolean":case "enum":this.setupEnumNode();break;case "readonly":this.setupReadOnlyNode();break;}this._status="ready";},setupEnumNode:function(){this.setStyleFromTarget(this.enumtext);this.setStyleFromTarget(this.select);this.enumtext.style.display="";this.enumtext.value=this._options.items[this._options.selected];this.enumtext.setAttribute("readonly","readonly");dom.setSelectOptions(this.select,this._options.items,this._options.selected);this.form.style.display="";this.targetNode.style.display="none";try{this.enumtext.select();this.enumtext.focus();}catch(e){}},setupReadOnlyNode:function(){this.setStyleFromTarget(this.readonly);this.targetNode.style.display="none";this.readonly.style.display="";this.readonly.value=this.textValue;this.form.style.display="";this.readonly.focus();this.readonly.setAttribute("readonly","readonly");},undoChanges:function(){if(this._status==="active"||this._status==="ready"){if(this.targetNode){this.targetNode.innerHTML=this._previousValue;}if((this._editingmode==="enum")||(this._editingmode==="reference")||this._editingmode==="boolean"){dom.selectOptionByText(this.select,this._previousValue);}else{if(this._editingmode==="readonly"){}else{this.text.value=dom.unescapeString(this._previousValue);}}}},startEditing:function(str){switch(this._editingmode){case "date":case "text":this.text.removeAttribute("readonly");if(str){this.text.value=dom.unescapeString(str);}try{this.text.select();this.text.focus();this._status="active";}catch(e){this.endEdit();}break;case "boolean":case "reference":case "enum":this.enumtext.style.display="none";this.select.style.display="";this.select.removeAttribute("readonly");this.select.focus();this._status="active";break;case "readonly":this._status="ready";break;default:break;}},stopEditing:function(){switch(this._editingmode){case "text":case "date":this.text.setAttribute("readonly","readonly");break;case "boolean":case "reference":case "enum":this.select.setAttribute("readonly","readonly");break;case "readonly":break;default:break;}this._status="ready";},endEdit:function(){if(this._status==="ready"||this._status==="active"){this.domNode.appendChild(this.form);if(this.targetNode){this.targetNode.style.display="";}this._status="inactive";}},eventOnClick:function(){if(this._status==="ready"){this.startEditing();}},eventOnKeyDown:function(e){this.eventKeyHandler(e);},onKeyDown:function(_97b){if(this._options&&this._options.hasDecimalPoint&&_97b.keyCode===110){_97b.preventDefault();var _97c=this._locale.decimal;dom.insertAtCaret(this.text,_97c);}},hasChanges:function(){if(this._editingmode==="readonly"||this._status==="inactive"){return false;}var _97d="";switch(this._editingmode){case "boolean":case "reference":case "enum":_97d=dom.getSelectedText(this.select);break;default:_97d=this.text.value;break;}return (this._previousValue!=_97d);},getValue:function(){if((this._editingmode==="enum")||(this._editingmode==="reference")||this._editingmode==="boolean"){this.targetNode.innerHTML=dom.getSelectedText(this.select);return (this.textValue=dom.getSelectedValue(this.select));}else{if(this._editingmode==="readonly"){return false;}else{this.textValue=this.text.value;dom.text(this.targetNode,this.textValue);return this.textValue;}}},getEditorStatus:function(){return this._status;},isActive:function(){return this._status==="active";},isInActive:function(){return this._status==="inactive";},isReady:function(){return this._status==="ready";},eventKeyHandler:function(){},eventOnSubmit:function(){return false;}});return _978;});},"mxui/mixin/_Templated":function(){define(["dijit/_TemplatedMixin","dojo/_base/declare"],function(_97e,_97f){var _980=_97f(_97e,{destroyRendering:function(){this._attachPoints=[];this.inherited(arguments);}});return _980;});},"dijit/_TemplatedMixin":function(){define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(_981,_982,_983,lang,on,has,_984,_985){var _986=_982("dijit._TemplatedMixin",_985,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(tmpl){var _987=this.declaredClass,_988=this;return _984.substitute(tmpl,this,function(_989,key){if(key.charAt(0)=="!"){_989=lang.getObject(key.substr(1),false,_988);}if(typeof _989=="undefined"){throw new Error(_987+" template:"+key);}if(_989==null){return "";}return key.charAt(0)=="!"?_989:this._escapeValue(""+_989);},this);},_escapeValue:function(val){return val.replace(/["'<>&]/g,function(val){return {"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#x27;"}[val];});},buildRendering:function(){if(!this._rendered){if(!this.templateString){this.templateString=_981(this.templatePath,{sanitize:true});}var _98a=_986.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_98a)){node=_983.toDom(this._stringRepl(_98a),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_98a);}}else{node=_98a.cloneNode(true);}this.domNode=node;}this.inherited(arguments);if(!this._rendered){this._fillContent(this.srcNodeRef);}this._rendered=true;},_fillContent:function(_98b){var dest=this.containerNode;if(_98b&&dest){while(_98b.hasChildNodes()){dest.appendChild(_98b.firstChild);}}}});_986._templateCache={};_986.getCachedTemplate=function(_98c,_98d,doc){var _98e=_986._templateCache;var key=_98c;var _98f=_98e[key];if(_98f){try{if(!_98f.ownerDocument||_98f.ownerDocument==(doc||document)){return _98f;}}catch(e){}_983.destroy(_98f);}_98c=_984.trim(_98c);if(_98d||_98c.match(/\$\{([^\}]+)\}/g)){return (_98e[key]=_98c);}else{var node=_983.toDom(_98c,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_98c);}return (_98e[key]=node);}};if(has("ie")){on(window,"unload",function(){var _990=_986._templateCache;for(var key in _990){var _991=_990[key];if(typeof _991=="object"){_983.destroy(_991);}delete _990[key];}});}return _986;});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(dojo,_992,has,_993){var _994;if(1){_994=function(url,sync,load){_993(url,{sync:!!sync,headers:{"X-Requested-With":null}}).then(load);};}else{if(_992.getText){_994=_992.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _995={},_996=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _997=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_997){text=_997[1];}}else{text="";}return text;},_998={},_999={};dojo.cache=function(_99a,url,_99b){var key;if(typeof _99a=="string"){if(/\//.test(_99a)){key=_99a;_99b=url;}else{key=_992.toUrl(_99a.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_99a+"";_99b=url;}var val=(_99b!=undefined&&typeof _99b!="string")?_99b.value:_99b,_99c=_99b&&_99b.sanitize;if(typeof val=="string"){_995[key]=val;return _99c?_996(val):val;}else{if(val===null){delete _995[key];return null;}else{if(!(key in _995)){_994(key,true,function(text){_995[key]=text;});}return _99c?_996(_995[key]):_995[key];}}};return {dynamic:true,normalize:function(id,_99d){var _99e=id.split("!"),url=_99e[0];return (/^\./.test(url)?_99d(url):url)+(_99e[1]?"!"+_99e[1]:"");},load:function(id,_99f,load){var _9a0=id.split("!"),_9a1=_9a0.length>1,_9a2=_9a0[0],url=_99f.toUrl(_9a0[0]),_9a3="url:"+url,text=_998,_9a4=function(text){load(_9a1?_996(text):text);};if(_9a2 in _995){text=_995[_9a2];}else{if(_99f.cache&&_9a3 in _99f.cache){text=_99f.cache[_9a3];}else{if(url in _995){text=_995[url];}}}if(text===_998){if(_999[url]){_999[url].push(_9a4);}else{var _9a5=_999[url]=[_9a4];_994(url,!_99f.async,function(text){_995[_9a2]=_995[url]=text;for(var i=0;i<_9a5.length;){_9a5[i++](text);}delete _999[url];});}}else{_9a4(text);}}};});},"dojo/request":function(){define(["./request/default!"],function(_9a6){return _9a6;});},"dojo/request/default":function(){define(["exports","require","../has"],function(_9a7,_9a8,has){var _9a9=has("config-requestProvider"),_9aa;if(1||has("host-webworker")){_9aa="./xhr";}else{if(0){_9aa="./node";}}if(!_9a9){_9a9=_9aa;}_9a7.getPlatformDefaultId=function(){return _9aa;};_9a7.load=function(id,_9ab,_9ac,_9ad){_9a8([id=="platform"?_9aa:_9a9],function(_9ae){_9ac(_9ae);});};});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(_9af,lang){var _9b0=/[&<>'"\/]/g;var _9b1={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#x27;","/":"&#x2F;"};var _9b2={};lang.setObject("dojo.string",_9b2);_9b2.escape=function(str){if(!str){return "";}return str.replace(_9b0,function(c){return _9b1[c];});};_9b2.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};_9b2.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=_9b2.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};_9b2.substitute=function(_9b3,map,_9b4,_9b5){_9b5=_9b5||_9af.global;_9b4=_9b4?lang.hitch(_9b5,_9b4):function(v){return v;};return _9b3.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_9b6,key,_9b7){var _9b8=lang.getObject(key,false,map);if(_9b7){_9b8=lang.getObject(_9b7,false,_9b5).call(_9b5,_9b8,key);}return _9b4(_9b8,key).toString();});};_9b2.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return _9b2;});},"dijit/_AttachMixin":function(){define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_9b9,_9ba,_9bb,_9bc,lang,_9bd,on,_9be,_9bf){var _9c0=lang.delegate(_9be,{"mouseenter":_9bd.enter,"mouseleave":_9bd.leave,"keypress":_9bb._keypress});var _9c1;var _9c2=_9bc("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent();},_beforeFillContent:function(){},_attachTemplateNodes:function(_9c3){var node=_9c3;while(true){if(node.nodeType==1&&(this._processTemplateNode(node,function(n,p){return n.getAttribute(p);},this._attach)||this.searchContainerNode)&&node.firstChild){node=node.firstChild;}else{if(node==_9c3){return;}while(!node.nextSibling){node=node.parentNode;if(node==_9c3){return;}}node=node.nextSibling;}}},_processTemplateNode:function(_9c4,_9c5,_9c6){var ret=true;var _9c7=this.attachScope||this,_9c8=_9c5(_9c4,"dojoAttachPoint")||_9c5(_9c4,"data-dojo-attach-point");if(_9c8){var _9c9,_9ca=_9c8.split(/\s*,\s*/);while((_9c9=_9ca.shift())){if(lang.isArray(_9c7[_9c9])){_9c7[_9c9].push(_9c4);}else{_9c7[_9c9]=_9c4;}ret=(_9c9!="containerNode");this._attachPoints.push(_9c9);}}var _9cb=_9c5(_9c4,"dojoAttachEvent")||_9c5(_9c4,"data-dojo-attach-event");if(_9cb){var _9cc,_9cd=_9cb.split(/\s*,\s*/);var trim=lang.trim;while((_9cc=_9cd.shift())){if(_9cc){var _9ce=null;if(_9cc.indexOf(":")!=-1){var _9cf=_9cc.split(":");_9cc=trim(_9cf[0]);_9ce=trim(_9cf[1]);}else{_9cc=trim(_9cc);}if(!_9ce){_9ce=_9cc;}this._attachEvents.push(_9c6(_9c4,_9cc,lang.hitch(_9c7,_9ce)));}}}return ret;},_attach:function(node,type,func){type=type.replace(/^on/,"").toLowerCase();if(type=="dijitclick"){type=_9c1||(_9c1=_9b9("./a11yclick"));}else{type=_9c0[type]||type;}return on(node,type,func);},_detachTemplateNodes:function(){var _9d0=this.attachScope||this;_9ba.forEach(this._attachPoints,function(_9d1){delete _9d0[_9d1];});this._attachPoints=[];_9ba.forEach(this._attachEvents,function(_9d2){_9d2.remove();});this._attachEvents=[];},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments);}});lang.extend(_9bf,{dojoAttachEvent:"",dojoAttachPoint:""});return _9c2;});},"dojo/i18n":function(){define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(dojo,_9d3,has,_9d4,_9d5,lang,xhr,json,_9d6){has.add("dojo-preload-i18n-Api",1);1||has.add("dojo-v1x-i18n-Api",1);var _9d7=dojo.i18n={},_9d8=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_9d9=function(root,_9da,_9db,_9dc){for(var _9dd=[_9db+_9dc],_9de=_9da.split("-"),_9df="",i=0;i<_9de.length;i++){_9df+=(_9df?"-":"")+_9de[i];if(!root||root[_9df]){_9dd.push(_9db+_9df+"/"+_9dc);_9dd.specificity=_9df;}}return _9dd;},_9e0={},_9e1=function(_9e2,_9e3,_9e4){_9e4=_9e4?_9e4.toLowerCase():dojo.locale;_9e2=_9e2.replace(/\./g,"/");_9e3=_9e3.replace(/\./g,"/");return (/root/i.test(_9e4))?(_9e2+"/nls/"+_9e3):(_9e2+"/nls/"+_9e4+"/"+_9e3);},_9e5=dojo.getL10nName=function(_9e6,_9e7,_9e8){return _9e6=_9d6.id+"!"+_9e1(_9e6,_9e7,_9e8);},_9e9=function(_9ea,_9eb,_9ec,_9ed,_9ee,load){_9ea([_9eb],function(root){var _9ef=lang.clone(root.root||root.ROOT),_9f0=_9d9(!root._v1x&&root,_9ee,_9ec,_9ed);_9ea(_9f0,function(){for(var i=1;i<_9f0.length;i++){_9ef=lang.mixin(lang.clone(_9ef),arguments[i]);}var _9f1=_9eb+"/"+_9ee;_9e0[_9f1]=_9ef;_9ef.$locale=_9f0.specificity;load();});});},_9f2=function(id,_9f3){return /^\./.test(id)?_9f3(id):id;},_9f4=function(_9f5){var list=_9d5.extraLocale||[];list=lang.isArray(list)?list:[list];list.push(_9f5);return list;},load=function(id,_9f6,load){if(has("dojo-preload-i18n-Api")){var _9f7=id.split("*"),_9f8=_9f7[1]=="preload";if(_9f8){if(!_9e0[id]){_9e0[id]=1;_9f9(_9f7[2],json.parse(_9f7[3]),1,_9f6);}load(1);}if(_9f8||_9fa(id,_9f6,load)){return;}}var _9fb=_9d8.exec(id),_9fc=_9fb[1]+"/",_9fd=_9fb[5]||_9fb[4],_9fe=_9fc+_9fd,_9ff=(_9fb[5]&&_9fb[4]),_a00=_9ff||dojo.locale||"",_a01=_9fe+"/"+_a00,_a02=_9ff?[_a00]:_9f4(_a00),_a03=_a02.length,_a04=function(){if(!--_a03){load(lang.delegate(_9e0[_a01]));}};_9d4.forEach(_a02,function(_a05){var _a06=_9fe+"/"+_a05;if(has("dojo-preload-i18n-Api")){_a07(_a06);}if(!_9e0[_a06]){_9e9(_9f6,_9fe,_9fc,_9fd,_a05,_a04);}else{_a04();}});};if(has("dojo-unit-tests")){var _a08=_9d7.unitTests=[];}if(has("dojo-preload-i18n-Api")||1){var _a09=_9d7.normalizeLocale=function(_a0a){var _a0b=_a0a?_a0a.toLowerCase():dojo.locale;return _a0b=="root"?"ROOT":_a0b;},isXd=function(mid,_a0c){return (1&&1)?_a0c.isXdUrl(_9d3.toUrl(mid+".js")):true;},_a0d=0,_a0e=[],_9f9=_9d7._preloadLocalizations=function(_a0f,_a10,_a11,_a12){_a12=_a12||_9d3;function _a13(mid,_a14){if(isXd(mid,_a12)||_a11){_a12([mid],_a14);}else{_a2e([mid],_a14,_a12);}};function _a15(_a16,func){var _a17=_a16.split("-");while(_a17.length){if(func(_a17.join("-"))){return;}_a17.pop();}func("ROOT");};function _a18(){_a0d++;};function _a19(){--_a0d;while(!_a0d&&_a0e.length){load.apply(null,_a0e.shift());}};function _a1a(path,name,loc,_a1b){return _a1b.toAbsMid(path+name+"/"+loc);};function _a1c(_a1d){_a1d=_a09(_a1d);_a15(_a1d,function(loc){if(_9d4.indexOf(_a10,loc)>=0){var mid=_a0f.replace(/\./g,"/")+"_"+loc;_a18();_a13(mid,function(_a1e){for(var p in _a1e){var _a1f=_a1e[p],_a20=p.match(/(.+)\/([^\/]+)$/),_a21,_a22;if(!_a20){continue;}_a21=_a20[2];_a22=_a20[1]+"/";_a1f._localized=_a1f._localized||{};var _a23;if(loc==="ROOT"){var root=_a23=_a1f._localized;delete _a1f._localized;root.root=_a1f;_9e0[_9d3.toAbsMid(p)]=root;}else{_a23=_a1f._localized;_9e0[_a1a(_a22,_a21,loc,_9d3)]=_a1f;}if(loc!==_a1d){function _a24(_a25,_a26,_a27,_a28){var _a29=[],_a2a=[];_a15(_a1d,function(loc){if(_a28[loc]){_a29.push(_9d3.toAbsMid(_a25+loc+"/"+_a26));_a2a.push(_a1a(_a25,_a26,loc,_9d3));}});if(_a29.length){_a18();_a12(_a29,function(){for(var i=0;i<_a29.length;i++){_a27=lang.mixin(lang.clone(_a27),arguments[i]);_9e0[_a2a[i]]=_a27;}_9e0[_a1a(_a25,_a26,_a1d,_9d3)]=lang.clone(_a27);_a19();});}else{_9e0[_a1a(_a25,_a26,_a1d,_9d3)]=_a27;}};_a24(_a22,_a21,_a1f,_a23);}}_a19();});return true;}return false;});};_a1c();_9d4.forEach(dojo.config.extraLocale,_a1c);},_9fa=function(id,_a2b,load){if(_a0d){_a0e.push([id,_a2b,load]);}return _a0d;},_a07=function(){};}if(1){var _a2c={},_a2d=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},"+"\t   require = function(){define.called = 1;};"+"try{"+"define.called = 0;"+"eval(__bundle);"+"if(define.called==1)"+"return __amdValue;"+"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))"+"return __checkForLegacyModules;"+"}catch(e){}"+"try{"+"return eval('('+__bundle+')');"+"}catch(e){"+"return e;"+"}"),_a2e=function(deps,_a2f,_a30){var _a31=[];_9d4.forEach(deps,function(mid){var url=_a30.toUrl(mid+".js");function load(text){var _a32=_a2d(text,_a07,mid,_a2c);if(_a32===_a2c){_a31.push(_9e0[url]=_a2c.result);}else{if(_a32 instanceof Error){console.error("failed to evaluate i18n bundle; url="+url,_a32);_a32={};}_a31.push(_9e0[url]=(/nls\/[^\/]+\/[^\/]+$/.test(url)?_a32:{root:_a32,_v1x:1}));}};if(_9e0[url]){_a31.push(_9e0[url]);}else{var _a33=_a30.syncLoadNls(mid);if(_a33){_a31.push(_a33);}else{if(!xhr){try{_a30.getText(url,true,load);}catch(e){_a31.push(_9e0[url]={});}}else{xhr.get({url:url,sync:true,load:load,error:function(){_a31.push(_9e0[url]={});}});}}}});_a2f&&_a2f.apply(null,_a31);};_a07=function(_a34){for(var _a35,_a36=_a34.split("/"),_a37=dojo.global[_a36[0]],i=1;_a37&&i<_a36.length-1;_a37=_a37[_a36[i++]]){}if(_a37){_a35=_a37[_a36[i]];if(!_a35){_a35=_a37[_a36[i].replace(/-/g,"_")];}if(_a35){_9e0[_a34]=_a35;}}return _a35;};_9d7.getLocalization=function(_a38,_a39,_a3a){var _a3b,_a3c=_9e1(_a38,_a39,_a3a);load(_a3c,(!isXd(_a3c,_9d3)?function(deps,_a3d){_a2e(deps,_a3d,_9d3);}:_9d3),function(_a3e){_a3b=_a3e;});return _a3b;};if(has("dojo-unit-tests")){_a08.push(function(doh){doh.register("tests.i18n.unit",function(t){var _a3f;_a3f=_a2d("{prop:1}",_a07,"nonsense",_a2c);t.is({prop:1},_a3f);t.is(undefined,_a3f[1]);_a3f=_a2d("({prop:1})",_a07,"nonsense",_a2c);t.is({prop:1},_a3f);t.is(undefined,_a3f[1]);_a3f=_a2d("{'prop-x':1}",_a07,"nonsense",_a2c);t.is({"prop-x":1},_a3f);t.is(undefined,_a3f[1]);_a3f=_a2d("({'prop-x':1})",_a07,"nonsense",_a2c);t.is({"prop-x":1},_a3f);t.is(undefined,_a3f[1]);_a3f=_a2d("define({'prop-x':1})",_a07,"nonsense",_a2c);t.is(_a2c,_a3f);t.is({"prop-x":1},_a2c.result);_a3f=_a2d("define('some/module', {'prop-x':1})",_a07,"nonsense",_a2c);t.is(_a2c,_a3f);t.is({"prop-x":1},_a2c.result);_a3f=_a2d("this is total nonsense and should throw an error",_a07,"nonsense",_a2c);t.is(_a3f instanceof Error,true);});});}}return lang.mixin(_9d7,{dynamic:true,normalize:_9f2,load:load,cache:_9e0,getL10nName:_9e5});});},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_a40,_a41,_a42){var _a43={};lang.setObject("dojo.number",_a43);_a43.format=function(_a44,_a45){_a45=lang.mixin({},_a45||{});var _a46=i18n.normalizeLocale(_a45.locale),_a47=i18n.getLocalization("dojo.cldr","number",_a46);_a45.customs=_a47;var _a48=_a45.pattern||_a47[(_a45.type||"decimal")+"Format"];if(isNaN(_a44)||Math.abs(_a44)==Infinity){return null;}return _a43._applyPattern(_a44,_a48,_a45);};_a43._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_a43._applyPattern=function(_a49,_a4a,_a4b){_a4b=_a4b||{};var _a4c=_a4b.customs.group,_a4d=_a4b.customs.decimal,_a4e=_a4a.split(";"),_a4f=_a4e[0];_a4a=_a4e[(_a49<0)?1:0]||("-"+_a4f);if(_a4a.indexOf("%")!=-1){_a49*=100;}else{if(_a4a.indexOf("")!=-1){_a49*=1000;}else{if(_a4a.indexOf("")!=-1){_a4c=_a4b.customs.currencyGroup||_a4c;_a4d=_a4b.customs.currencyDecimal||_a4d;_a4a=_a4a.replace(/\u00a4{1,3}/,function(_a50){var prop=["symbol","currency","displayName"][_a50.length-1];return _a4b[prop]||_a4b.currency||"";});}else{if(_a4a.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _a51=_a43._numberPatternRE;var _a52=_a4f.match(_a51);if(!_a52){throw new Error("unable to find a number expression in pattern: "+_a4a);}if(_a4b.fractional===false){_a4b.places=0;}return _a4a.replace(_a51,_a43._formatAbsolute(_a49,_a52[0],{decimal:_a4d,group:_a4c,places:_a4b.places,round:_a4b.round}));};_a43.round=function(_a53,_a54,_a55){var _a56=10/(_a55||10);return (_a56*+_a53).toFixed(_a54)/_a56;};if((0.9).toFixed()==0){var _a57=_a43.round;_a43.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _a57(v,p,m)+(v>0?d:-d);};}_a43._formatAbsolute=function(_a58,_a59,_a5a){_a5a=_a5a||{};if(_a5a.places===true){_a5a.places=0;}if(_a5a.places===Infinity){_a5a.places=6;}var _a5b=_a59.split("."),_a5c=typeof _a5a.places=="string"&&_a5a.places.indexOf(","),_a5d=_a5a.places;if(_a5c){_a5d=_a5a.places.substring(_a5c+1);}else{if(!(_a5d>=0)){_a5d=(_a5b[1]||[]).length;}}if(!(_a5a.round<0)){_a58=_a43.round(_a58,_a5d,_a5a.round);}var _a5e=String(Math.abs(_a58)).split("."),_a5f=_a5e[1]||"";if(_a5b[1]||_a5a.places){if(_a5c){_a5a.places=_a5a.places.substring(0,_a5c);}var pad=_a5a.places!==undefined?_a5a.places:(_a5b[1]&&_a5b[1].lastIndexOf("0")+1);if(pad>_a5f.length){_a5e[1]=_a41.pad(_a5f,pad,"0",true);}if(_a5d<_a5f.length){_a5e[1]=_a5f.substr(0,_a5d);}}else{if(_a5e[1]){_a5e.pop();}}var _a60=_a5b[0].replace(",","");pad=_a60.indexOf("0");if(pad!=-1){pad=_a60.length-pad;if(pad>_a5e[0].length){_a5e[0]=_a41.pad(_a5e[0],pad);}if(_a60.indexOf("#")==-1){_a5e[0]=_a5e[0].substr(_a5e[0].length-pad);}}var _a61=_a5b[0].lastIndexOf(","),_a62,_a63;if(_a61!=-1){_a62=_a5b[0].length-_a61-1;var _a64=_a5b[0].substr(0,_a61);_a61=_a64.lastIndexOf(",");if(_a61!=-1){_a63=_a64.length-_a61-1;}}var _a65=[];for(var _a66=_a5e[0];_a66;){var off=_a66.length-_a62;_a65.push((off>0)?_a66.substr(off):_a66);_a66=(off>0)?_a66.slice(0,off):"";if(_a63){_a62=_a63;delete _a63;}}_a5e[0]=_a65.reverse().join(_a5a.group||",");return _a5e.join(_a5a.decimal||".");};_a43.regexp=function(_a67){return _a43._parseInfo(_a67).regexp;};_a43._parseInfo=function(_a68){_a68=_a68||{};var _a69=i18n.normalizeLocale(_a68.locale),_a6a=i18n.getLocalization("dojo.cldr","number",_a69),_a6b=_a68.pattern||_a6a[(_a68.type||"decimal")+"Format"],_a6c=_a6a.group,_a6d=_a6a.decimal,_a6e=1;if(_a6b.indexOf("%")!=-1){_a6e/=100;}else{if(_a6b.indexOf("")!=-1){_a6e/=1000;}else{var _a6f=_a6b.indexOf("")!=-1;if(_a6f){_a6c=_a6a.currencyGroup||_a6c;_a6d=_a6a.currencyDecimal||_a6d;}}}var _a70=_a6b.split(";");if(_a70.length==1){_a70.push("-"+_a70[0]);}var re=_a42.buildGroupRE(_a70,function(_a71){_a71="(?:"+_a42.escapeString(_a71,".")+")";return _a71.replace(_a43._numberPatternRE,function(_a72){var _a73={signed:false,separator:_a68.strict?_a6c:[_a6c,""],fractional:_a68.fractional,decimal:_a6d,exponent:false},_a74=_a72.split("."),_a75=_a68.places;if(_a74.length==1&&_a6e!=1){_a74[1]="###";}if(_a74.length==1||_a75===0){_a73.fractional=false;}else{if(_a75===undefined){_a75=_a68.pattern?_a74[1].lastIndexOf("0")+1:Infinity;}if(_a75&&_a68.fractional==undefined){_a73.fractional=true;}if(!_a68.places&&(_a75<_a74[1].length)){_a75+=","+_a74[1].length;}_a73.places=_a75;}var _a76=_a74[0].split(",");if(_a76.length>1){_a73.groupSize=_a76.pop().length;if(_a76.length>1){_a73.groupSize2=_a76.pop().length;}}return "("+_a43._realNumberRegexp(_a73)+")";});},true);if(_a6f){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_a77,_a78,_a79,_a7a){var prop=["symbol","currency","displayName"][_a79.length-1],_a7b=_a42.escapeString(_a68[prop]||_a68.currency||"");_a78=_a78?"[\\s\\xa0]":"";_a7a=_a7a?"[\\s\\xa0]":"";if(!_a68.strict){if(_a78){_a78+="*";}if(_a7a){_a7a+="*";}return "(?:"+_a78+_a7b+_a7a+")?";}return _a78+_a7b+_a7a;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_a6c,decimal:_a6d,factor:_a6e};};_a43.parse=function(_a7c,_a7d){var info=_a43._parseInfo(_a7d),_a7e=(new RegExp("^"+info.regexp+"$")).exec(_a7c);if(!_a7e){return NaN;}var _a7f=_a7e[1];if(!_a7e[1]){if(!_a7e[2]){return NaN;}_a7f=_a7e[2];info.factor*=-1;}_a7f=_a7f.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _a7f*info.factor;};_a43._realNumberRegexp=function(_a80){_a80=_a80||{};if(!("places" in _a80)){_a80.places=Infinity;}if(typeof _a80.decimal!="string"){_a80.decimal=".";}if(!("fractional" in _a80)||/^0/.test(_a80.places)){_a80.fractional=[true,false];}if(!("exponent" in _a80)){_a80.exponent=[true,false];}if(!("eSigned" in _a80)){_a80.eSigned=[true,false];}var _a81=_a43._integerRegexp(_a80),_a82=_a42.buildGroupRE(_a80.fractional,function(q){var re="";if(q&&(_a80.places!==0)){re="\\"+_a80.decimal;if(_a80.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_a80.places+"}";}}return re;},true);var _a83=_a42.buildGroupRE(_a80.exponent,function(q){if(q){return "([eE]"+_a43._integerRegexp({signed:_a80.eSigned})+")";}return "";});var _a84=_a81+_a82;if(_a82){_a84="(?:(?:"+_a84+")|(?:"+_a82+"))";}return _a84+_a83;};_a43._integerRegexp=function(_a85){_a85=_a85||{};if(!("signed" in _a85)){_a85.signed=[true,false];}if(!("separator" in _a85)){_a85.separator="";}else{if(!("groupSize" in _a85)){_a85.groupSize=3;}}var _a86=_a42.buildGroupRE(_a85.signed,function(q){return q?"[-+]":"";},true);var _a87=_a42.buildGroupRE(_a85.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_a42.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_a85.groupSize,grp2=_a85.groupSize2;if(grp2){var _a88="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_a88+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_a88;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _a86+_a87;};return _a43;});},"dojo/cldr/nls/number":function(){define({root:{"scientificFormat":"#E0","currencySpacing-afterCurrency-currencyMatch":"[:^S:]","infinity":"","superscriptingExponent":"","list":";","percentSign":"%","minusSign":"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":"","nan":"NaN","plusSign":"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]","currencyFormat":"#,##0.00","perMille":"","group":",","percentFormat":"#,##0%","decimalFormat-long":"000T","decimalFormat":"#,##0.###","decimal":".","currencySpacing-beforeCurrency-insertBetween":"","exponential":"E"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-au":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});},"dojo/cldr/nls/en/number":function(){define({"group":",","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"","minusSign":"-","decimal":".","superscriptingExponent":"","nan":"NaN","perMille":"","decimalFormat":"#,##0.###","currencyFormat":"#,##0.00;(#,##0.00)","plusSign":"+","decimalFormat-long":"000 trillion","decimalFormat-short":"000T"});},"dojo/cldr/nls/nl/number":function(){define({"group":".","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"","minusSign":"-","decimal":",","superscriptingExponent":"","nan":"NaN","perMille":"","decimalFormat":"#,##0.###","currencyFormat":"#,##0.00;(#,##0.00)","plusSign":"+","decimalFormat-long":"000 biljoen","decimalFormat-short":"000bln'.'"});},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(dojo,lang){var _a89={};lang.setObject("dojo.regexp",_a89);_a89.escapeString=function(str,_a8a){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(ch){if(_a8a&&_a8a.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};_a89.buildGroupRE=function(arr,re,_a8b){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return _a89.group(b.join("|"),_a8b);};_a89.group=function(_a8c,_a8d){return "("+(_a8d?"?:":"")+_a8c+")";};return _a89;});},"mxui/widget/plugins/DataGrid/HoverPreview":function(){define(["mxui/widget/_MasterTooltip","mendix/lib/MxContext","mxui/widget","mxui/dom","mendix/lang","dojo/aspect","dojo/on","dojo/_base/lang","dojo/dom-geometry"],function(_a8e,_a8f,_a90,dom,lang,_a91,_a92,_a93,_a94){function _a95(_a96){var name="mxui.widget.plugins.DataGrid.HoverPreview";var self=this;var _a97=_a96.parent;var _a98=_a96.config;var _a99=null;var _a9a=0;var _a9b={onLoad:"plugineventOnLoad",onRefresh:"plugineventOnRefresh",onDestroy:"plugineventOnDestroy",onRowMouseOver:"plugineventOnRowMouseOver",onRowMouseOut:"plugineventOnRowMouseOut"};var _a9c=null;var _a9d={active:false,node:null,mxobject:null,oldNode:null,firstTime:true,closable:true,closeTimer:null,openTimer:null,tooltip:null};var _a9e=null;var _a9f;var _aa0=function(){var b=_a9d.mxobject;var _aa1=new _a8f();_aa1.setTrackId(b.getGuid());_aa1.setTrackEntity(_a97.entity);_aa1.setContext(_a97.entity,b.getGuid());var _aa2=+new Date();_a9a=_aa2;_a99.applyContext(_aa1,function(){if(_aa2==_a9a&&b==_a9d.mxobject){_a9d.tooltip.show(_a99.domNode,_a9d.node);}});};var _aa3=function(e){e.stopPropagation();_aa4();};var _aa5=function(e){e.stopPropagation();_aa6();};var _aa7=function(){_a9e=_a92(_a99.domNode,"mouseover",_aa3);_a9f=_a92(_a99.domNode,"mouseleave",_aa5);};var _aa8=function(){_a9e.remove();_a9f.remove();_a9e=_a9f=null;};var _aa9=function(){_a9d.active=false;_a9d.firstTime=true;if(_a9d.oldNode!=null){_aa8();_a9d.tooltip.hide(_a9d.oldNode);_a9d.tooltip=null;_a9d.oldNode=null;_a9d.mxobject=null;}};var _aaa=function(){var _aab=_a94.position(_a9d.node);if(!_aab.x&&!_aab.y){return;}if(_a9d.oldNode!=_a9d.node){_a9d.oldNode=_a9d.node;if(!_a9d.active){_a9d.active=true;_aa7();var _aac=_a9d.tooltip=new _a8e();_a91.after(_aac,"onHide",function(){if(_aac.domNode.contains(_a99.domNode)){dom.orphan(_a99.domNode);_a99.applyContext(new _a8f());}});}_a9d.tooltip.show(null,_a9d.node);_aa0();}};this.plugineventOnLoad=function(){};this.plugineventOnDestroy=function(){this.destroy();if(_a9d.active){_aa9();}};this.plugineventOnRefresh=function(){if(_a9d.active){_aa9();}};var _aa6=function(){_a9d.closable=true;if(!_a9d.closeTimer){_a9d.closeTimer=setTimeout(_aad,200);}};var _aa4=function(){_a9d.closable=false;if(_a9d.closeTimer){clearTimeout(_a9d.closeTimer);_a9d.closeTimer=null;}};this.plugineventOnRowMouseOver=function(e){var node=e.currentTarget;var _aae=e.target;if(!_a97.domData(_aae,"key")){_aae=dom.getAncestorNode(_aae,"TD",3);}var attr=_a97.domData(_aae,"key");var _aaf=_a98.hoveron||"";if(_aaf.match(attr)==null){return true;}_aae.setAttribute("title","");_aa4();var _ab0=_a97.getMxObjectAtRow(parseInt(_a97.domData(node,"gridrow")));var guid=_ab0.getGuid();if(_a9d.mxobject==null||guid!=_a9d.mxobject.getGuid()){node=_aae;_a9d.mxobject=_ab0;_a9d.node=node;}_a9d.openTimer=setTimeout(_aaa,200);};var _aad=_a93.hitch(this,function(){_a9d.closeTimer=null;if(_a9d.closable){if(_a9c){clearTimeout(_a9c);}_aa9();}});this.plugineventOnRowMouseOut=function(e){_aa6();var _ab1=_a97.getMxObjectAtRow(parseInt(_a97.domData(e.currentTarget,"gridrow")));if(_a9d.mxobject==_ab1){clearTimeout(_a9d.openTimer);}};this.destroy=function(){_aad();_a97=_a98=null;if(_a99){_a99.destroy();}};var _ab2=function(_ab3){var _ab4=dom.create("div",{"style":"height: 0; overflow: hidden;"});_a97.domNode.appendChild(_ab4);window.mx.ui.openFormInNode(_a98.form,_ab4,new _a8f(),{readOnly:true,hideControls:true},function(form){_a99=form;_ab3();});};var _ab5=function(_ab6){for(var i in _a9b){_a97.registerToPluginEvent(i,_a93.hitch(self,_a9b[i]));}_ab6();};if(!_a97&&(_a97.widgetType!="DataGrid")){throw new Error(name+".initialize : can only register to DataGrid!");}if(!_a98.form){throw new Error(name+".initialize : Requires a path parameter!");}lang.sequence([_ab2,_ab5]);};return _a95;});},"mxui/widget/_MasterTooltip":function(){define(["mxui/mixin/_Templated","mxui/widget","mendix/lang","mendix/logger","dojo/window","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/_base/declare","dijit/Tooltip","dojo/text!mxui/widget/templates/Tooltip.html"],function(_ab7,_ab8,lang,_ab9,_aba,_abb,_abc,_abd,_abe,_abf,_ac0){var _ac1=_abe([_abf._MasterTooltip,_ab7],{declaredClass:"mxui.widget._MasterTooltip",constructor:function(){this.templateString=_ac0;},postCreate:function(){this.inherited(arguments);this.connect(window.mx.ui,"resize",this.resize);},show:function(_ac2,_ac3,_ac4){var cn=this.contentNode;var pn=this.prepareNode;if(!_ac2){cn.style.display="none";pn.style.display="block";}else{cn.style.display="block";pn.style.display="none";if(typeof (_ac2)=="string"){cn.innerHTML=_ac2;}else{if(_ac2.nodeName!=null){while(cn.firstChild){cn.removeChild(cn.firstChild);}cn.appendChild(_ac2);}}}this.inherited(arguments,[_ac2,_ac3,_ac4]);_abb.add(this.domNode,"mx-tooltip");if(_ac2){this.resize();}},_onHide:function(){this.inherited(arguments);this.onHide();this.destroy();},onHide:function(){},resize:function(){var _ac5=_aba.getBox().h-parseInt(this.domNode.style.top);lang.forEach([this.domNode,this.contentNode.parentNode],function(node){var cs=_abc.getComputedStyle(node),me=_abd.getMarginExtents(node,cs),be=_abd.getBorderExtents(node,cs);_ac5-=me.h+be.h;});this.contentNode.style.maxHeight=_ac5+"px";_ab8.resizeWidgetsIn(this.contentNode,true);}});return _ac1;});},"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_ac6,_ac7,fx,dom,_ac8,_ac9,_aca,lang,_acb,on,has,_acc,_acd,_ace,_acf,_ad0,_ad1,_ad2){var _ad3=_ac7("dijit._MasterTooltip",[_ace,_acf],{duration:_acc.defaultDuration,templateString:_ad1,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _ad0(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_ad4,_ad5,_ad6,rtl,_ad7,_ad8,_ad9){if(this.aroundNode&&this.aroundNode===_ad5&&this.containerNode.innerHTML==_ad4){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_ad4;if(_ad7){this.set("textDir",_ad7);}this.containerNode.align=rtl?"right":"left";var pos=_acd.around(this.domNode,_ad5,_ad6&&_ad6.length?_ad6:_ada.defaultPosition,!rtl,lang.hitch(this,"orient"));var _adb=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_adb.y+((_adb.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_adb.x+((_adb.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_aca.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_ad5;this.onMouseEnter=_ad8||noop;this.onMouseLeave=_ad9||noop;},orient:function(node,_adc,_add,_ade,_adf){this.connectorNode.style.top="";var _ae0=_ade.h,_ae1=_ade.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_adc+"-"+_add];this.domNode.style.width="auto";var size=_ac9.position(this.domNode);if(has("ie")||has("trident")){size.w+=2;}var _ae2=Math.min((Math.max(_ae1,1)),size.w);_ac9.setMarginBox(this.domNode,{w:_ae2});if(_add.charAt(0)=="B"&&_adc.charAt(0)=="B"){var bb=_ac9.position(node);var _ae3=this.connectorNode.offsetHeight;if(bb.h>_ae0){var _ae4=_ae0-((_adf.h+_ae3)>>1);this.connectorNode.style.top=_ae4+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_adf.h/2-_ae3/2,0),bb.h-_ae3)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_ae1);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_ae5){if(this._onDeck&&this._onDeck[1]==_ae5){this._onDeck=null;}else{if(this.aroundNode===_ae5){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}this.onMouseEnter=this.onMouseLeave=noop;},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});if(has("dojo-bidi")){_ad3.extend({_setAutoTextDir:function(node){this.applyTextDir(node);_ac6.forEach(node.children,function(_ae6){this._setAutoTextDir(_ae6);},this);},_setTextDirAttr:function(_ae7){this._set("textDir",_ae7);if(_ae7=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});}_ad2.showTooltip=function(_ae8,_ae9,_aea,rtl,_aeb,_aec,_aed){if(_aea){_aea=_ac6.map(_aea,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_ada._masterTT){_ad2._masterTT=_ada._masterTT=new _ad3();}return _ada._masterTT.show(_ae8,_ae9,_aea,rtl,_aeb,_aec,_aed);};_ad2.hideTooltip=function(_aee){return _ada._masterTT&&_ada._masterTT.hide(_aee);};var _aef="DORMANT",_af0="SHOW TIMER",_af1="SHOWING",_af2="HIDE TIMER";function noop(){};var _ada=_ac7("dijit.Tooltip",_ace,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_af3){_ac6.forEach(this._connections||[],function(_af4){_ac6.forEach(_af4,function(_af5){_af5.remove();});},this);this._connectIds=_ac6.filter(lang.isArrayLike(_af3)?_af3:(_af3?[_af3]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_ac6.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_af6=this.selector,_af7=_af6?function(_af8){return on.selector(_af6,_af8);}:function(_af9){return _af9;},self=this;return [on(node,_af7(_acb.enter),function(){self._onHover(this);}),on(node,_af7("focusin"),function(){self._onHover(this);}),on(node,_af7(_acb.leave),lang.hitch(self,"_onUnHover")),on(node,_af7("focusout"),lang.hitch(self,"set","state",_aef))];},this);this._set("connectId",_af3);},addTarget:function(node){var id=node.id||node;if(_ac6.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_ac6.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_ac8.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_ac6.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},state:_aef,_setStateAttr:function(val){if(this.state==val||(val==_af0&&this.state==_af1)||(val==_af2&&this.state==_aef)){return;}if(this._hideTimer){this._hideTimer.remove();delete this._hideTimer;}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}switch(val){case _aef:if(this._connectNode){_ada.hide(this._connectNode);delete this._connectNode;this.onHide();}break;case _af0:if(this.state!=_af1){this._showTimer=this.defer(function(){this.set("state",_af1);},this.showDelay);}break;case _af1:var _afa=this.getContent(this._connectNode);if(!_afa){this.set("state",_aef);return;}_ada.show(_afa,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,lang.hitch(this,"set","state",_af1),lang.hitch(this,"set","state",_af2));this.onShow(this._connectNode,this.position);break;case _af2:this._hideTimer=this.defer(function(){this.set("state",_aef);},this.hideDelay);break;}this._set("state",val);},_onHover:function(_afb){if(this._connectNode&&_afb!=this._connectNode){this.set("state",_aef);}this._connectNode=_afb;this.set("state",_af0);},_onUnHover:function(_afc){this.set("state",_af2);},open:function(_afd){this.set("state",_aef);this._connectNode=_afd;this.set("state",_af1);},close:function(){this.set("state",_aef);},onShow:function(){},onHide:function(){},destroy:function(){this.set("state",_aef);_ac6.forEach(this._connections||[],function(_afe){_ac6.forEach(_afe,function(_aff){_aff.remove();});},this);this.inherited(arguments);}});_ada._MasterTooltip=_ad3;_ada.show=_ad2.showTooltip;_ada.hide=_ad2.hideTooltip;_ada.defaultPosition=["after-centered","before-centered"];return _ada;});},"mxui/mixin/_ContainingSelection":function(){define(["mendix/lib/MxContext","mxui/store/asyncValueStore","dojo/topic","dojo/_base/array","dojo/_base/declare"],function(_b00,_b01,_b02,_b03,_b04){var _b05=_b04(null,{selection:null,_shareId:"",constructor:function(){this.selection=[];},getSelected:function(){return this.selection;},_addToSelection:function(guid){if(_b03.indexOf(this.selection,guid)==-1){this.selection.push(guid);}},_removeFromSelection:function(guid){var _b06=_b03.indexOf(this.selection,guid);if(_b06!=-1){this.selection.splice(_b06,1);}},_isSelected:function(guid){return _b03.indexOf(this.selection,guid)>-1;},_hasSelection:function(){return this.selection.length>0;},_shareSelection:function(_b07){var _b08=new _b00();_b08.setTrackEntity(_b07);_b08.setContext(_b07,this.selection.length?this.selection[this.selection.length-1]:null);_b08.freeze();this._shareId=this._shareId||window.mx.ui.makeShareId(this.mxform,this.mxid);if(_b01.hasValue(this._shareId)){_b02.publish(this._shareId,_b08);}_b01.register(this._shareId,_b08);},_clearSelectionStore:function(){if(this._shareId){_b01.remove(this._shareId);}}});return _b05;});},"mxui/lib/MxGridConfig":function(){define(["mxui/html","dojo/_base/lang"],function(_b09,_b0a){var _b0b=function(_b0c){var _b0d=_b0c.config;var _b0e={};var _b0f=[];var _b10={};var _b11={};var _b12=function(){var _b13=_b0d.controlBar.gridTools;for(var i=0,tool;tool=_b13[i];i++){if(window.mx.session.hasSomeRole(tool[_b09.attrs.ForRole]||null)){_b0f.push(_b0a.mixin({mxid:tool.actionKey},tool));}else{_b11[tool.actionKey]=true;}}};var _b14=function(){var _b15=_b0d.controlBar.gridActions;for(var i=0,_b16;_b16=_b15[i];i++){_b0e[_b16.keyValue]={actionCall:_b16.gridFunction,params:_b16.params};}};var _b17=function(){var _b18=_b0d.actionBindings,_b19,ev;if(_b18){for(ev in _b18){_b19=_b18[ev];if(!_b11[_b19]){_b10[ev]=_b19;}}}};this.gridSetting=function(str){var _b1a=_b0d.gridpresentation,_b1b=_b0a.mixin({pageSize:_b1a.rows*_b1a.columns},_b1a);return _b1b[str];};this.gridTools=function(){return _b0f;};this.getActionsByKey=function(key){var _b1c=_b0e[key];return _b1c&&_b1c.params?_b0a.clone(_b1c):_b1c;};this.searchBarItems=function(){return _b0d.searchElements;};this.gridAttributes=function(){return _b0d.griddata;};this.searchBarConfig=function(){return _b0d.searchOptions;};this.getDataSource=function(){return _b0d.datasource;};this.gridActionBindings=function(){return _b10||{};};this.getPlugins=function(){return _b0d.plugins||{};};this.toString=function(){return "mxui.lib.MxGridConfig";};_b12();_b14();_b17();};return _b0b;});},"mxui/widget/SearchInput":function(){define(["mxui/widget/_WidgetBase","mxui/wm/focus","mxui/dom","mxui/lib/errorMessage","big/big","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/declare"],function(_b1d,_b1e,dom,_b1f,Big,_b20,_b21,_b22,_b23,_b24){var $=dom.create;var _b25=_b24(_b1d,{declaredClass:"mxui.widget.SearchInput",path:"",operator:"",caption:"",entity:"",defaults:"",hidden:false,disabled:false,defaultsParser:"",queryBuilder:"",retriever:"",datasource:"",widget:"",mxcontext:null,_MS_IN_DAY:24*60*60*1000,_attribute:"",_metaObject:null,_input:null,_widget:null,_datasource:null,_defaultsValue:null,_doDefaultsParser:null,_doQueryBuilder:null,_doRetriever:null,postMixInProperties:function(){var _b26=this.path.split("/");if(_b26.length>1){this.entity=_b26[_b26.length-2];}this._attribute=_b26[_b26.length-1];this._metaObject=window.mx.meta.getEntity(this.entity);this._doRetriever=this.retriever?_b22.hitch(this,"_retrieve"+this.retriever+"Options"):null;this._doQueryBuilder=this["_build"+((this.queryBuilder&&this.queryBuilder.name)||"Simple")+"Query"];this._initDataSource();this._initDefaultsValue();},buildRendering:function(){var _b27,_b28;if(this.widget){_b27=_b22.getObject(this.widget.type);this._widget=new _b27(this.widget.params);_b28=this._widget.domNode;this.connect(this._widget,"onKeyUp","onKeyUp");this.connect(this._widget,"onChange","onChange");}else{if(this.retriever||this.datasource){this._input=$("select",{"class":"form-control"});}else{this._input=$("input",{type:"text","class":"form-control"});}_b28=this._input;this.connect(this._input,"keyup","onKeyUp");this.connect(this._input,"blur","onChange");}if(this.retriever){this._fillInput(this._doRetriever());}this.domNode=$("div",{"class":"mx-grid-search-item"},$("div",{"class":"mx-grid-search-label"},$("label",this.caption||"")),$("div",{"class":"mx-grid-search-input mx-name-"+this.searchInputName},_b28));if(!this._datasource){this.reset();}if(this.get("hidden")){this.domNode.style.display="none";}},startup:function(){this.inherited(arguments);this.reinit();this.set("disabled",this.disabled);},reset:function(){this._hideValidationMessage();if(this._widget){this._widget.set("value",this._defaultsValue);}else{if(this.retriever){dom.selectOptionByValue(this._input,this._defaultsValue);}else{this._input.value=this._defaultsValue;}}},reinit:function(_b29){var self=this;if(this._datasource){this._datasource.reload(function(){var _b2a={};_b21.forEach(self._datasource.getObjects(),function(obj){var _b2b=obj.get2(self._attribute);_b2a[_b2b]=window.mx.parser.formatAttribute(obj,self._attribute);});self._fillInput(_b2a);self.reset();_b29&&_b29();});}else{_b29&&_b29();}},focus:function(){if(this._widget){if(this._widget.focus){this._widget.focus();}else{_b1e.put(this._widget.domNode);}}else{_b1e.put(this._input);}},onChange:function(){if(!this.get("valid")){this._showValidationMessage();}else{this._hideValidationMessage();}},onKeyUp:function(){},cleanup:function(){this._hideValidationMessage();},uninitialize:function(){if(this._widget){this._widget.destroy();}},_retrieveBoolOptions:function(){return {"true":window.mx.ui.translate("mxui.widget.DataGrid","true"),"false":window.mx.ui.translate("mxui.widget.DataGrid","false")};},_retrieveEnumOptions:function(){return this._metaObject.getEnumKVPairs(this._attribute);},_defaultSimpleValue:function(_b2c){return _b2c||"";},_defaultJsonValue:function(_b2d){return _b23.fromJson(_b2d||"''");},_defaultDateValue:function(_b2e){var _b2f="";if(_b2e){if(_b2e==="[%CurrentDateTime%]"){_b2f=+new Date();}else{if(_b2e==="[%BeginOfCurrentDay%]"){_b2f=+new Date().setHours(0,0,0,0);}else{_b2f=window.mx.parser.localizeEpoch(+_b2e);}}}return _b2f;},_buildRangeQuery:function(_b30){return [this._xpWithEmptyString(this._xpString(_b30.path,_b30.operator,_b30.value),_b30.path),this._xpWithEmptyString(this._xpString(_b30.toPath,_b30.toOperator,_b30.value),_b30.toPath)].join(" and ");},_buildSimpleQuery:function(_b31){return this._xpString(_b31.path,_b31.operator,_b31.value);},_buildDateQuery:function(_b32){var _b33=_b32.operator,_b34=0;if(_b32.operator=="="){return "("+["("+this._xpString(_b32.path,">=",_b32.value)+")","("+this._xpString(_b32.path,"<",_b32.value+this._MS_IN_DAY)+")"].join(" and ")+")";}else{switch(_b32.operator){case ">":_b33=">=";_b34=this._MS_IN_DAY;break;case "<=":_b33="<";_b34=this._MS_IN_DAY;break;}return this._xpString(_b32.path,_b33,(_b32.value+_b34)+"");}},_buildDateRangeQuery:function(_b35){return "("+[this._xpWithEmptyString(this._xpString(_b35.path,_b35.operator,_b35.value+this._MS_IN_DAY),_b35.path),this._xpWithEmptyString(this._xpString(_b35.toPath,_b35.toOperator,_b35.value),_b35.toPath)].join(" and ")+")";},_initDefaultsValue:function(){var _b36=this["_default"+(this.defaultsParser||"Simple")+"Value"];this._defaultsValue=_b36.call(this,this.defaults);},_initDataSource:function(){var _b37={xpath:"webcore.datasource.XPathSource"},_b38;if(this.datasource){_b38=_b22.getObject(_b37[this.datasource.type]);if(_b38){this._datasource=new _b38(_b22.mixin({},{entity:this.entity,attributes:[this._attribute],useContext:false,context:this.mxcontext,page:1000,aggregates:false,distinct:true},this.datasource.params));}}},_showValidationMessage:function(){var _b39=this._metaObject.isDate(this._attribute)?"invalid_date":"invalid_number";_b1f.show(this.domNode,window.mx.ui.translate("mendix.lib.Validations",_b39));},_hideValidationMessage:function(){_b1f.hide(this.domNode);},_fillInput:function(_b3a){var _b3b,key;if(this._widget){_b3b=[];for(key in _b3a){_b3b.push({value:key,caption:_b3a[key]});}this._widget.set("items",_b3b);}else{_b3b={};for(key in _b3a){_b3b[key]=_b3a[key] instanceof Big?_b3a[key].toFixed():_b3a[key];}dom.setSelectOptions(this._input,_b3b);}},_stringForOperator:function(key,_b3c,_b3d){return key+_b3c+_b3d;},_stringForContains:function(key,_b3e,_b3f){return _b3e+"("+key+","+_b3f+")";},_xpString:function(key,_b40,_b41){return (/contains|starts-with/.test(_b40))?this._stringForContains(key,_b40,_b41):this._stringForOperator(key,_b40,_b41);},_xpWithEmptyString:function(expr,key){return "("+expr+" or "+key+"=empty)";},_setValueAttr:function(_b42){if(this._widget){this._widget.set("value",_b42);}else{if(this.retriever){dom.selectOptionByValue(this._input,_b42);}else{this._input.value=_b42;}}},_getValueAttr:function(){if(!this.get("valid")){return "";}if(this._widget){return this._widget.get("value");}if(this.retriever||this.datasource){return dom.getSelectedValue(this._input);}return this._input.value;},_getQueryAttr:function(){var _b43=this.get("value"),_b44;if(_b22.isArray(_b43)){_b44=_b43;}else{if(_b43===""||_b43===null){_b44=[];}else{_b44=[_b43];}}if(_b44.length===0){return "";}return "("+_b21.map(_b44,_b22.hitch(this,function(_b45){var _b46=this._metaObject;if(_b46.isDate(this._attribute)){_b45=+_b45;if(!_b46.isLocalizedDate(this._attribute)){_b45=window.mx.parser.delocalizeEpoch(_b45);}}else{if(!(_b46.isNumeric(this._attribute)||_b46.getAttributeType(this._attribute).toLowerCase()==="autonumber")){_b45="'"+dom.escapeHTMLQuotes(_b45)+"'";}}return this._doQueryBuilder(_b22.mixin({},this.queryBuilder.params,{path:this.path,operator:this.operator,value:_b45}));})).join(" or ")+")";},_getValidAttr:function(){var _b47;if(this._widget){_b47=this._widget.get("value");if(_b47==null){return false;}}else{_b47=this._input.value;}if(this._metaObject.isNumeric(this._attribute)||this._metaObject.getAttributeType(this._attribute).toLowerCase()==="autonumber"){if(this._metaObject.getAttributeType(this._attribute).toLowerCase()==="integer"&&_b47>2147483647){return false;}return (/^[-+]?\d*(\.\d+)?$/).test(_b47);}return true;},_getHiddenAttr:function(){return this.hidden;},_setHiddenAttr:function(_b48){this.hidden=_b48;},_setDisabledAttr:function(_b49){var node;this.disabled=_b49;if(this._widget){node=this._widget.domNode;this._widget.set("disabled",_b49);}else{node=this._input;if(_b49){node.setAttribute("readonly","readonly");dom.disableNode(node);}else{node.removeAttribute("readonly","readonly");dom.enableNode(node);}}if(_b49){_b20.add(node,"MxClient_formDisabled");}else{_b20.remove(node,"MxClient_formDisabled");}},_getDisabledAttr:function(){return this.disabled;}});return _b25;});},"mxui/widget/Button":function(){define(["mxui/widget/_Button","dojo/_base/declare"],function(_b4a,_b4b){var _b4c=_b4b(_b4a,{declaredClass:"mxui.widget.Button"});return _b4c;});},"mxui/widget/_DynamicButton":function(){define(["mxui/widget/_Button","mxui/lib/TextTemplate","dojo/_base/lang","dojo/_base/declare"],function(_b4d,_b4e,_b4f,_b50){var _b51=_b50(_b4d,{caption:null,needsObject:false,_captionTextTemplate:null,postCreate:function(){var self=this;this._captionTextTemplate=new _b4e(this.caption,function(text){self.set("caption",text);});},checkDisabled:function(){return this.inherited(arguments)||(this.needsObject&&!this.mxcontext.hasTrackId());},update:function(obj,_b52){this.unsubscribeAll();this._mxObject=obj;if(obj){var self=this;this.subscribe({guid:obj.getGuid(),callback:function(){self.refresh();}});}this.updateDisabled();this._captionTextTemplate.update(obj,_b4f.hitch(this,"refresh",_b52));},refresh:function(_b53){if(_b53){_b53();}},uninitialize:function(){this._captionTextTemplate.destroy();}});return _b51;});},"mxui/lib/TextTemplate":function(){define(["mendix/lang","mxui/dom","dojo/Deferred","dojo/promise/all","dojo/_base/array","dojo/_base/declare"],function(lang,dom,_b54,_b55,_b56,_b57){var _b58=_b57(null,{_template:null,_callback:null,_rootObject:null,_subscriptions:null,_pendingFetch:null,constructor:function(_b59,_b5a){this._template=_b59;this._callback=_b5a;this._subscriptions=[];},update:function(_b5b,done){this._rootObject=_b5b;this._clearSubscriptions();if(!this._template.parameters){this._callback(this._template.text);if(done){done();}}else{if(!_b5b){this._callback("");if(done){done();}}else{this._reload(done);}}},destroy:function(){this._clearSubscriptions();},_reload:function(done){var self=this;if(this._pendingFetch){this._pendingFetch.cancel();}this._pendingFetch=this._fetchObjects();this._pendingFetch.then(function(_b5c){self._pendingFetch=null;self._addSubscriptions(_b5c);self._callback(self._fillTemplate(_b5c));if(done){done();}});},_fetchObjects:function(){var _b5d={};lang.forEach(this._template.parameters,function(path,key){_b5d[key]=new _b54();var _b5e=path.split("/"),attr=_b5e.pop();this._rootObject.fetch(_b5e,function(obj){var _b5f={obj:obj,attr:attr,path:path};_b5d[key].resolve(_b5f);});},this);return _b55(_b5d);},_fillTemplate:function(_b60){var self=this;return this._template.text.replace(/(?:^|[^\{])(?:\{\{)*(\{(\d+)\})/g,function(_b61,_b62,_b63){var arg=_b60[_b63];return _b61.replace(_b62,self._renderAttrValue(arg.obj,arg.attr));}).replace(/\{\{/g,"{");},_renderAttrValue:function(obj,attr){return obj?window.mx.parser.formatAttribute(obj,attr):"";},_addSubscriptions:function(_b64){this._addSubscription(this._rootObject);lang.forEach(_b64,function(arg){var _b65=arg.path.split("/");if(_b65.length>2){this._addSubscription(this._rootObject,_b65[1]);}if(arg.obj){this._addSubscription(arg.obj);this._addSubscription(arg.obj,arg.attr);}},this);},_addSubscription:function(obj,attr){var _b66=_b56.some(this._subscriptions,function(sub){return sub.guid===obj.getGuid()&&sub.attr===attr;});if(_b66){return;}var self=this;var _b67={attr:attr,guid:obj.getGuid(),callback:function(){self._reload();}};this._subscriptions.push({attr:attr,guid:obj.getGuid(),handle:window.mx.data.subscribe(_b67)});},_clearSubscriptions:function(){while(this._subscriptions.length){window.mx.data.unsubscribe(this._subscriptions.pop().handle);}}});return _b58;});},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(_b68,_b69,when){"use strict";var some=_b68.some;return function all(_b6a){var _b6b,_b68;if(_b6a instanceof Array){_b68=_b6a;}else{if(_b6a&&typeof _b6a==="object"){_b6b=_b6a;}}var _b6c;var _b6d=[];if(_b6b){_b68=[];for(var key in _b6b){if(Object.hasOwnProperty.call(_b6b,key)){_b6d.push(key);_b68.push(_b6b[key]);}}_b6c={};}else{if(_b68){_b6c=[];}}if(!_b68||!_b68.length){return new _b69().resolve(_b6c);}var _b6e=new _b69();_b6e.promise.always(function(){_b6c=_b6d=null;});var _b6f=_b68.length;some(_b68,function(_b70,_b71){if(!_b6b){_b6d.push(_b71);}when(_b70,function(_b72){if(!_b6e.isFulfilled()){_b6c[_b6d[_b71]]=_b72;if(--_b6f===0){_b6e.resolve(_b6c);}}},_b6e.reject);return _b6e.isFulfilled();});return _b6e.promise;};});},"webcore/dataSourceFactory":function(){define(["mendix/lib/dataSourceTypes","./datasource/OfflineSource","./datasource/OfflineByReferenceSource","./datasource/EntityPathSource","./datasource/MicroflowSource","./datasource/XPathSource","dojo/_base/config"],function(_b73,_b74,_b75,_b76,_b77,_b78,_b79){var _b7a={create:function(_b7b){if(_b7b.type===_b73.database&&_b79.offline){if(_b7b.path.split("/").length===1){return new _b74({entity:_b7b.path,sort:_b7b.sort,page:_b7b.page,offset:_b7b.offset,filter:_b7b.offlineConstraints});}else{return new _b75({path:_b7b.path,sort:_b7b.sort,page:_b7b.page,offset:_b7b.offset,filter:_b7b.offlineConstraints,context:_b7b.context});}}if(_b7b.type===_b73.database&&!_b79.offline){return new _b78({path:_b7b.path,constraint:_b7b.xpathConstraints,attributes:_b7b.attributes,sortparams:_b7b.sort,page:_b7b.page,offset:_b7b.offset,context:_b7b.context,queryid:_b7b.queryid});}if(_b7b.type===_b73.microflow){return new _b77({microflow:_b7b.microflow,page:_b7b.page,offset:_b7b.offset,context:_b7b.context,queryid:_b7b.queryid});}if(_b7b.type===_b73.entityPath){return new _b76({path:_b7b.path,page:_b7b.page,offset:_b7b.offset,context:_b7b.context,queryid:_b7b.queryid});}return new _b78({path:_b7b.path,sortparams:_b7b.sort,aggregates:_b7b.aggregates,attributes:_b7b.attributes,constraint:_b7b.constraint,page:_b7b.page,offset:_b7b.offset,context:_b7b.context,queryid:_b7b.queryid,useContext:_b7b.useContext});}};return _b7a;});},"mendix/lib/dataSourceTypes":function(){define({database:"database",xpath:"xpath",microflow:"microflow",entityPath:"entityPath",referenceSet:"referenceSet",direct:"direct",listen:"listen"});},"webcore/datasource/OfflineSource":function(){define(["./_DataSource","dojo/_base/lang","dojo/_base/declare"],function(_b7c,_b7d,_b7e){var _b7f=_b7e(_b7c,{name:"webcore.datasource.OfflineSource",_entity:"",_sort:null,constructor:function(args){this._entity=args.entity;this._sort=args.sort||[];this._constraints=args.filter||[];},reload:function(_b80){var self=this;mx.data.getSlice(this._entity,this._constraints,{offset:this.getOffset(),limit:this.getPageSize(),sort:this._sort},function(_b81,_b82){self._setObjects(_b81);self._setSetSize(_b82);if(_b80){_b80();}},function(e){mx.onError(e);if(_b80){_b80();}});},refresh:function(_b83){this.reload(_b83);},entityUpdate:function(_b84){this.reload(_b84);},setSortOptions:function(_b85,_b86,push){this._offset=0;_b86=(_b86===""||_b86==null)?"asc":_b86;this._sort=[[_b85,_b86]];}});return _b7f;});},"webcore/datasource/OfflineByReferenceSource":function(){define(["./_DataSource","dojo/_base/lang","dojo/_base/declare"],function(_b87,_b88,_b89){var _b8a=_b89(_b87,{name:"webcore.datasource.OfflineByReferenceSource",_attribute:"",_entity:"",_constraints:null,_referenceConstraint:"",_sort:null,constructor:function(args){var _b8b=args.path.split("/");this._attribute=_b8b[0];this._entity=_b8b[1];this._constraints=args.filter||[];this._sort=args.sort||[];},reload:function(_b8c){var self=this;var guid=this.context.getTrackId();if(guid){var _b8d=this._constraints.concat([{attribute:this._attribute,operator:"equals",value:guid}]);mx.data.getSlice(this._entity,_b8d,{offset:this.getOffset(),limit:this.getPageSize(),sort:this._sort},function(_b8e,_b8f){self._setObjects(_b8e);self._setSetSize(_b8f);if(_b8c){_b8c();}},function(e){mx.onError(e);if(_b8c){_b8c();}});}else{self._setObjects([]);self._setSetSize(0);if(_b8c){_b8c();}}},refresh:function(_b90){this.reload(_b90);},entityUpdate:function(_b91){this.reload(_b91);},setSortOptions:function(_b92,_b93,push){this._offset=0;_b93=(_b93===""||_b93==null)?"asc":_b93;this._sort=[[_b92,_b93]];}});return _b8a;});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_b94,dojo,_b95,_b96,_b97,dom,_b98,geom,_b99,_b9a){if(!dojo.isAsync){_b99(0,function(){var _b9b=["./fx/Toggler"];_b9a(_b9b);});}var _b9c=dojo.fx={};var _b9d={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _b9e=function(_b9f){this._index=-1;this._animations=_b9f||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_b95.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_b9e.prototype=new _b94();lang.extend(_b9e,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_b96.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);this._onEndCtx=_b96.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play(0,true);}},play:function(_ba0,_ba1){if(!this._current){this._current=this._animations[this._index=0];}if(!_ba1&&this._current.status()=="playing"){return this;}var _ba2=_b96.after(this._current,"beforeBegin",lang.hitch(this,function(){this._fire("beforeBegin");}),true),_ba3=_b96.after(this._current,"onBegin",lang.hitch(this,function(arg){this._fire("onBegin",arguments);}),true),_ba4=_b96.after(this._current,"onPlay",lang.hitch(this,function(arg){this._fire("onPlay",arguments);_ba2.remove();_ba3.remove();_ba4.remove();}));if(this._onAnimateCtx){this._onAnimateCtx.remove();}this._onAnimateCtx=_b96.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);if(this._onEndCtx){this._onEndCtx.remove();}this._onEndCtx=_b96.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_b96.after(this._current,"onPause",lang.hitch(this,function(arg){this._fire("onPause",arguments);e.remove();}),true);this._current.pause();}return this;},gotoPercent:function(_ba5,_ba6){this.pause();var _ba7=this.duration*_ba5;this._current=null;_b95.some(this._animations,function(a,_ba8){if(_ba7<=a.duration){this._current=a;this._index=_ba8;return true;}_ba7-=a.duration;return false;},this);if(this._current){this._current.gotoPercent(_ba7/this._current.duration);}if(_ba6){this.play();}return this;},stop:function(_ba9){if(this._current){if(_ba9){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_b96.after(this._current,"onStop",lang.hitch(this,function(arg){this._fire("onStop",arguments);e.remove();}),true);this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){this.stop();if(this._onAnimateCtx){this._onAnimateCtx.remove();}if(this._onEndCtx){this._onEndCtx.remove();}}});lang.extend(_b9e,_b9d);_b9c.chain=function(_baa){return new _b9e(_baa);};var _bab=function(_bac){this._animations=_bac||[];this._connects=[];this._finished=0;this.duration=0;_b95.forEach(_bac,function(a){var _bad=a.duration;if(a.delay){_bad+=a.delay;}if(this.duration<_bad){this.duration=_bad;}this._connects.push(_b96.after(a,"onEnd",lang.hitch(this,"_onEnd"),true));},this);this._pseudoAnimation=new _b97.Animation({curve:[0,1],duration:this.duration});var self=this;_b95.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_b96.after(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);},true));});};lang.extend(_bab,{_doAction:function(_bae,args){_b95.forEach(this._animations,function(a){a[_bae].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_baf,args){var t=this._pseudoAnimation;t[_baf].apply(t,args);},play:function(_bb0,_bb1){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_bb2,_bb3){var ms=this.duration*_bb2;_b95.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_bb3);});this._call("gotoPercent",arguments);return this;},stop:function(_bb4){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){this.stop();_b95.forEach(this._connects,function(_bb5){_bb5.remove();});}});lang.extend(_bab,_b9d);_b9c.combine=function(_bb6){return new _bab(_bb6);};_b9c.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_b97.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _bb7=_b98.get(node,"height");return Math.max(_bb7,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_b96.after(anim,"onStop",fini,true);_b96.after(anim,"onEnd",fini,true);return anim;};_b9c.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_b97.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_b96.after(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";},true);var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_b96.after(anim,"onStop",fini,true);_b96.after(anim,"onEnd",fini,true);return anim;};_b9c.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_b98.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_b97.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_b96.after(anim,"beforeBegin",init,true);return anim;};return _b9c;});},"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare","../_base/fx","../aspect"],function(lang,_bb8,_bb9,_bba){return _bb8("dojo.fx.Toggler",null,{node:null,showFunc:_bb9.fadeIn,hideFunc:_bb9.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _bbb=this;lang.mixin(_bbb,args);_bbb.node=args.node;_bbb._showArgs=lang.mixin({},args);_bbb._showArgs.node=_bbb.node;_bbb._showArgs.duration=_bbb.showDuration;_bbb.showAnim=_bbb.showFunc(_bbb._showArgs);_bbb._hideArgs=lang.mixin({},args);_bbb._hideArgs.node=_bbb.node;_bbb._hideArgs.duration=_bbb.hideDuration;_bbb.hideAnim=_bbb.hideFunc(_bbb._hideArgs);_bba.after(_bbb.showAnim,"beforeBegin",lang.hitch(_bbb.hideAnim,"stop",true),true);_bba.after(_bbb.hideAnim,"beforeBegin",lang.hitch(_bbb.showAnim,"stop",true),true);},show:function(_bbc){return this.showAnim.play(_bbc||0);},hide:function(_bbd){return this.hideAnim.play(_bbd||0);}});});},"mxui/lib/ColumnResizer":function(){define(["mxui/dom","dojo/dom-geometry","dojo/dom-style","dojo/on","dojo/_base/event","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_bbe,_bbf,_bc0,_bc1,_bc2,_bc3,_bc4,_bc5){var _bc6=_bc5(null,{declaredClass:"mxui.lib.ColumnResizer",columns:null,thNodes:null,colUnits:"",tableNode:null,gridNode:null,rowNode:null,minWidth:40,cssClass:"mx-datagrid-column-resizer",rtl:false,autoColums:null,active:0,startPos:0,startWidth:0,totalWidth:0,bodyCursor:"",handles:null,connects:null,resizing:false,constructor:function(_bc7){_bc7=_bc7||{};var ths=_bc7.thNodes,cols=_bc7.colNodes;this.columns=[];this.autoColumns=[];this.thNodes=ths;this.colUnits=_bc7.colUnits;this.tableNode=_bc7.tableNode;this.gridNode=_bc7.gridNode;this.rowNode=ths[0].parentNode;this.minWidth=_bc7.minWidth||40;this.rtl=_bc7.rtl;this.prepareTable(ths,cols);},prepareTable:function(ths,cols){var _bc8=0,_bc9=false;_bc3.forEach(ths,function(th,_bca){if(_bca>0){var _bcb=_bbe.create("div",{"class":this.cssClass});_bbe.data(_bcb,"index",_bca);th.firstChild.appendChild(_bcb);}var _bcc=cols[_bca][0].style.width,_bcd=_bcc=="auto";var _bce=this.columns[_bca]={node:th,cols:cols[_bca],width:0,rounded:0,minWidth:0,startWidth:0,isAuto:_bcd};if(this.colUnits=="px"){if(_bcd){_bc9=true;this.autoColumns.push(_bce);}else{_bc8+=parseInt(_bcc,10);}}else{_bc9=true;}},this);if(!_bc9){this.tableNode.style.width=this.gridNode.style.width=_bc8+"px";}_bc3.forEach(this.columns,function(_bcf){_bcf.width=this.getColWidth(_bcf);},this);this.setRatios();var self=this;this.connects=[_bc1(this.rowNode,"."+this.cssClass+":click",_bc2.stop),_bc1(this.rowNode,"."+this.cssClass+":mousedown",function(e){var _bd0=_bbe.data(this,"index");self.startResize(_bd0-1,e);})];},startResize:function(_bd1,e){if(this.resizing){this.endResize();return;}this.resizing=true;this.active=_bd1;this.startPos=e.pageX;this.startWidth=0;this.totalWidth=this.rowNode.offsetWidth;this.bodyCursor=_bc0.get(document.body,"cursor");_bc0.set(document.body,"cursor","col-resize");_bc3.forEach(this.columns,function(_bd2,i){var _bd3=this.getColWidth(_bd2);_bd2.width=_bd2.startWidth=_bd3;_bd2.minWidth=Math.min(_bd3,this.minWidth);if(i<=_bd1){this.startWidth+=_bd3;}},this);this.handles=[_bc1(document,"mousemove",_bc4.hitch(this,"moveResize")),_bc1(document,"mouseup",_bc4.hitch(this,"endResize"))];e.preventDefault();},moveResize:function(e){var _bd4=0,_bd5=this.active,_bd6=this.columns,_bd7=this.startWidth+(this.rtl?-1:1)*(e.pageX-this.startPos);this.scaleColumns(_bd5,_bd7);for(var i=0,_bd8;_bd8=_bd6[i];i++){var _bd9=Math.round(_bd8.width);this.setColWidth(_bd8,_bd9);_bd4+=_bd9;}var diff=this.totalWidth-_bd4;this.setColWidth(_bd6[_bd5],_bd6[_bd5].rounded+diff);e.preventDefault();},endResize:function(){this.resizing=false;while(this.handles.length){this.handles.pop().remove();}var _bda=this.columns;_bc3.forEach(_bda,function(_bdb){if(this.colUnits=="%"){var _bdc=_bdb.rounded/this.totalWidth*100;this.setColWidth(_bdb,_bdc,"%");}else{this.setRatios();}},this);_bc0.set(document.body,"cursor",this.bodyCursor);},recalculate:function(){if(this.colUnits=="px"){var _bdd=0,_bde=false;_bc3.forEach(this.columns,function(_bdf){if(_bdf.isAuto){_bde=true;}else{_bdd+=_bdf.width;}});if(_bde){var _be0=_bbf.getContentBox(this.tableNode.parentNode).w-_bbf.getBorderExtents(this.tableNode).w,_be1=_be0-_bdd,_be2=_be1;_bc3.forEach(this.autoColumns,function(_be3){var _be4=Math.max(Math.min(Math.round(_be3.ratio*_be1),_be2),this.minWidth);_be2-=_be4;_be3.width=_be4;this.setColWidth(_be3,_be4);},this);}}},getColWidth:function(_be5){return _be5.node.offsetWidth;},setColWidth:function(_be6,_be7,unit){unit=unit||"px";if(unit==="px"){_be6.rounded=_be7;}_be6.cols[0].style.width=_be6.cols[1].style.width=_be7+unit;},setRatios:function(){var _be8=0;_bc3.forEach(this.autoColumns,function(_be9){_be8+=this.getColWidth(_be9);},this);_bc3.forEach(this.autoColumns,function(_bea){_bea.ratio=_bea.width/_be8;},this);},scaleColumns:function(_beb,_bec){var _bed=this.columns,_bee=_bed.slice(0,_beb+1),_bef=_bed.slice(_beb+1).reverse(),_bf0=this.totalWidth,_bf1=0,_bf2;for(var i=0;i<=_beb;i++){_bf1+=_bed[i].width;}if(_bec<_bf1){_bf2=this.calcScale(_bee,_bec);this.calcScale(_bef,_bf0-_bf2);}else{if(_bec>_bf1){_bf2=this.calcScale(_bef,_bf0-_bec);this.calcScale(_bee,_bf0-_bf2);}}},calcScale:function(_bf3,_bf4){var _bf5=0,_bf6=0,_bf7=0,_bf8=_bf3.pop();_bc3.forEach(_bf3,function(_bf9){_bf5+=_bf9.minWidth;_bf6+=_bf9.startWidth;});_bf8.width=Math.max(_bf8.minWidth,_bf4-_bf6);_bf4-=_bf8.width;_bc3.forEach(_bf3,function(_bfa){_bf5-=_bfa.minWidth;var _bfb=Math.min(_bfa.startWidth,_bf4-_bf7-_bf5),_bfc=Math.min(_bfb,_bfa.startWidth/_bf6*_bf4);_bfa.width=Math.max(_bfa.minWidth,_bfc);_bf7+=_bfa.width;});return _bf7+_bf8.width;},destroy:function(){while(this.connects.length){this.connects.pop().remove();}_bc3.forEach(this.thNodes,function(th){_bbe.data(th,"index",null);});}});return _bc6;});},"mxui/widget/TemplateGrid":function(){define(["mxui/widget/_Grid","mxui/widget/TemplateGridItem","mendix/lib/MxContext","mxui/widget","mxui/dom","mendix/logger","mendix/lang","dojo/sniff","dojo/on","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/text!mxui/widget/templates/TemplateGrid.html"],function(_bfd,_bfe,_bff,_c00,dom,_c01,lang,_c02,_c03,_c04,_c05,_c06,_c07){var $=dom.create;var _c08=_c05(_bfd,{declaredClass:"mxui.widget.TemplateGrid",templateString:_c07,subClass:"mx-templategrid",cssmap:_c00.createCSSMap("mx-templategrid",{row:"row",item:"item",empty:"empty"}),itemNode:null,_mxObjects:[],_itemCache:[],constructor:function(){this._mxObjects=[];this._itemCache=[];this._gridState={selectable:true,selectionmode:"single",searchbar:true,controlbar:true,pagingbar:true,inDenial:false,searchBarVisible:false,searchBarTogglable:true,xpathConstraint:"",dynamicconstraint:"",loading:false,invertedSelection:false};},postCreate:function(){this.inherited(arguments);if(this._metaEntity){this.connectEvents();}this.loaded();},setupGridState:function(){this.inherited(arguments);this._gridState.columns=this._gridConfig.gridSetting("columns");this._gridState.rows=this._gridConfig.gridSetting("rows");this._gridState.cellwidth=String(_c02("ie")?(100/this._gridState.columns-0.05):(100/this._gridState.columns))+"%";},connectEvents:function(){var self=this;this.own(_c03(this.itemNode,_c03.selector("."+this.cssmap.item,"click"),function(e){self.eventItemClicked(e,this);}));var _c09=function(e){self.eventActionBindingHandler(this,e.type);};for(var _c0a in this._gridConfig.gridActionBindings()){this.own(_c03(this.itemNode,_c03.selector("."+this.cssmap.item,_c0a.replace(/^on/,"")),_c09));}},fillGrid:function(){this._mxObjects=this._dataSource.getObjects();if(this._gridState.selectfirst&&!this._gridState.invertedSelection&&this._mxObjects.length>0&&!this._hasSelection()){this._addToSelection(this._mxObjects[0].getGuid());}this._shareSelection(this._metaEntity.getEntity());var _c0b=$("#"),_c0c=this._itemCache.length,_c0d=0,_c0e=false,_c0f=[],_c10;for(var row=0;row<this._gridState.rows;++row){var _c11=$("div",{"class":this.cssmap.row});_c0b.appendChild(_c11);for(var col=0;col<this._gridState.columns;++col){if(_c0d<this._mxObjects.length){if(_c0d>=this._itemCache.length){this._itemCache[_c0d]=new _bfe({uniqueid:this.uniqueid+"_obj"+this._mxObjects[_c0d].getGuid(),name:"mx-name-index-"+_c0d,mxform:this.mxform,template:window.mx.ui.getTemplate(this.mxid,"content"),cssClass:this.cssmap.item});_c0e=true;}_c10=this._itemCache[_c0d].domNode;_c10.style.width=this._gridState.cellwidth;this.domData(_c10,{gridrow:_c0d,mendixguid:this._mxObjects[_c0d].getGuid()});this.addFocusBox(_c10);_c11.appendChild(_c10);if(this._isSelected(this._mxObjects[_c0d].getGuid())){this.selectRow(_c10);}else{this.deselectRow(_c10);}}else{var _c12=$("div",{"class":this.cssmap.empty},$("br"));_c11.appendChild(_c12);}++_c0d;}if(_c0d>=this._mxObjects.length&&!this._gridState.showemptyrows){break;}}dom.empty(this.itemNode);this.itemNode.appendChild(_c0b);for(_c0d=0;_c0d<this._mxObjects.length;++_c0d){var _c13=new _bff({mxcontext:this.mxcontext});_c13.setObject(this._mxObjects[_c0d]);if(_c0d>=_c0c){this._itemCache[_c0d].startup();}this._itemCache[_c0d].set("disabled",false);_c0f.push(_c04.hitch(this._itemCache[_c0d],"applyContext",_c13));}for(_c0d=this._mxObjects.length;_c0d<this._itemCache.length;_c0d++){this._itemCache[_c0d].set("disabled",true);}lang.collect(_c0f,function(){if(_c0e){this.mxform.resize();}},this);},deselectGridRows:function(){for(var i=0,l=this._itemCache.length;i<l;++i){this.deselectRow(this._itemCache[i].domNode);}},_getEntity:function(_c14){return lang.firstKey(_c14);},_getCurrentGuid:function(){return this.selection[0];},_getObjectFromNode:function(node){return this._mxObjects[this.domData(node,"gridrow")];}});return _c08;});},"mxui/widget/TemplateGridItem":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/_base/declare"],function(_c15,dom,_c16,_c17){var _c18=_c17(_c15,{declaredClass:"mxui.widget.TemplateGridItem",name:"",cssClass:"",template:null,root:null,buildRendering:function(){this.domNode=dom.div({"class":[this.name,this.cssClass].join(" ")});if(this.template){this.domNode.appendChild(this.template);}},startup:function(){var _c19=this.parseContent(this.domNode,{schema:"",ignoreUpdates:true});this.root=_c19[0]||null;},_setDisabledAttr:function(_c1a){this.root&&this.root.set("disabled",_c1a);}});return _c18;});},"mxui/widget/TabContainer":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/dom","mendix/logger","dojo/on","dojo/dom-class","dojo/dom-geometry","dojo/_base/array","dojo/_base/declare"],function(_c1b,_c1c,dom,_c1d,_c1e,_c1f,_c20,_c21,_c22){var $=dom.create;var _c23=_c22([_c1b,_c1c],{declaredClass:"mxui.widget.TabContainer",validator:null,_active:null,_tabList:null,_tabPanes:null,_tabContent:null,_clickHandler:null,postMixInProperties:function(){this.doParse=true;},buildRendering:function(){var _c24=this._tabList=$("ul",{"class":"nav nav-tabs mx-tabcontainer-tabs"}),_c25=this._tabContent=$("div",{"class":"tab-content mx-tabcontainer-content"},this.getTemplate("pages"));this.domNode=$("div",{"class":"mx-tabcontainer"},_c24,_c25);var self=this;this._clickHandler=_c1e(_c24,_c1e.selector("li","click"),function(e){self.showTab(self.domData(this,"tab"));e.preventDefault();});},startup:function(){var _c26=this._tabList,_c27=this._tabContent.childNodes,_c28=0,tabs=this._tabPanes=[];for(var i=0,_c29;_c29=_c27[i];i++){var li=$("li"),tab=this.parseContent(_c29,{index:i,button:li,container:this,validator:this})[0];this.domData(li,"tab",tab);if(tab.selected){_c28=i;}li.appendChild($("a",{href:"#","class":"mx-name-"+tab.tabName},tab.title));li.appendChild(tab.indicator);_c26.appendChild(li);tabs.push(tab);}this.showTab(tabs[this.getState("selected",_c28)]);},showTab:function(tab){var self=this,_c2a=this._active;if(_c2a){_c2a.hideTab();}this._active=tab;_c1f.add(this._tabContent,"loading");tab.showTab(function(){if(self._active===tab){_c1f.remove(self._tabContent,"loading");}self.mxform.resize();});},onShowTab:function(tab){if(!this._active){this.showTab(tab);this.domNode.style.display="";}},onHideTab:function(tab){if(tab===this._active){var _c2b=tab.index,_c2c=this._tabPanes,_c2d=_c2c.slice(_c2b+1).concat(_c2c.slice(0,_c2b)),_c2e;for(var i=0,pane;pane=_c2d[i];i++){if(!pane._hidden){_c2e=pane;break;}}tab.hideTab();if(_c2e){this.showTab(_c2e);}else{this._active=null;this.domNode.style.display="none";}}},resize:function(box){var _c2f=true,tabs=this._tabPanes;if(box){var _c30=box.h-_c20.getMarginBox(this._tabList,null).h;if(_c30>dom.minContainerHeight){_c2f=false;_c20.setMarginBox(this._tabContent,{h:_c30});}else{this._tabContent.style.height="auto";}}this._tabContent.style.overflow=_c2f?"":"auto";for(var i=0,tab;tab=tabs[i];i++){tab.resize(_c2f);}},isValid:function(){return _c21.every(this._tabPanes,function(tab){return tab.isValid?tab.isValid():true;});},uninitialize:function(){this._clickHandler.remove();},storeState:function(_c31){_c31("selected",this._active&&this._active.index);}});return _c23;});},"mxui/widget/TabContent":function(){define(["mxui/widget/_WidgetBase","mxui/widget/TabContainer","mxui/widget","mxui/dom","mendix/logger","dojo/dom-class","dojo/dom-style","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dijit"],function(_c32,_c33,_c34,dom,_c35,_c36,_c37,_c38,_c39,_c3a,_c3b){var $=dom.create;var _c3c=_c3a(_c32,{declaredClass:"mxui.widget.TabContent",index:0,title:"",button:null,container:null,indicator:null,delayLoading:false,refreshOnShow:false,_hidden:false,_parsed:false,_loading:false,_visible:false,_cachedResize:null,_notifies:0,_children:null,_contextInitialized:false,buildRendering:function(){this.indicator=$("span",{"class":"mx-tabcontainer-indicator"});this.domNode=$("div",{"class":"tab-pane mx-tabcontainer-pane"});},startup:function(){if(!this.delayLoading){this.parse();}this._updateNotification();},applyContext:function(){this._contextInitialized=true;return this.inherited(arguments);},parse:function(){var _c3d=this.getTemplate("content");this.domNode.appendChild($("#",_c3d||""));this._children=this.parseContent(this.domNode,{validator:this});this._parsed=true;if(_c3d&&this.domNode.firstChild&&_c3b.byNode(this.domNode.firstChild) instanceof _c33){_c36.add(this.domNode.firstChild,"mx-tabcontainer-nested");}},refresh:function(_c3e){this._loading=true;var _c3f=this.getChildren();_c34.ready(_c3f,_c39.hitch(this,"passContext",_c3f,_c39.hitch(this,function(){this._loading=false;_c3e&&_c3e();})));},show:function(){this._hidden=false;_c37.set(this.button,"display","");_c37.set(this.domNode,"display","");this.container.onShowTab(this);},hide:function(){this._hidden=true;_c37.set(this.button,"display","none");_c37.set(this.domNode,"display","none");if(this._contextInitialized){this.container.onHideTab(this);}},showTab:function(_c40){this._visible=true;if(this._loading){return;}var self=this,done=function(){if(self._visible){_c36.add(self.domNode,"active");if(self._cachedResize!=null){self.resize(self._cachedResize);self._cachedResize=null;}}if(_c40){_c40();}};_c36.add(this.button,"active");if(!this._parsed){this.parse();this.refresh(done);}else{if(this.refreshOnShow&&this._contextInitialized){this.refresh();}done();}},hideTab:function(){this._visible=false;_c36.remove(this.button,"active");_c36.remove(this.domNode,"active");},resize:function(_c41){if(this._visible){this.resizeChildren(this.domNode,_c41);}else{this._cachedResize=_c41;}},isValid:function(){return _c38.every(this._children,function(_c42){return _c42.isValid?_c42.isValid():true;});},addNotification:function(){++this._notifies;this._updateNotification();var _c43=this.container.validator;if(_c43){_c43.addNotification();}return true;},removeNotification:function(){--this._notifies;this._updateNotification();var _c44=this.container.validator;if(_c44){_c44.removeNotification();}},_updateNotification:function(){if(this._notifies===0){_c37.set(this.indicator,"display","none");}else{if(this.domNode.style.display=="none"){window.mx.ui.error(this.translate("hidden_validations",[this.index+1]));}_c37.set(this.indicator,"display","");}dom.text(this.indicator,this._notifies+"");},_setTitleAttr:function(){}});return _c3c;});},"mxui/widget/ReferenceSetSelector":function(){define(["mxui/widget/DataGrid","webcore/datasource/ReferenceSetSource","mxui/widget/_WidgetBase","mxui/mixin/_Contextable","mxui/dom","mendix/lang","mendix/logger","dojo/dom-class","dojo/_base/lang","dojo/_base/declare","dijit/_Container","dijit/_Contained"],function(_c45,_c46,_c47,_c48,dom,lang,_c49,_c4a,_c4b,_c4c,_c4d,_c4e){var _c4f=_c4c([_c47,_c4d,_c4e,_c48],{declaredClass:"mxui.widget.ReferenceSetSelector",entity:"",xpathConstraint:"",config:null,_datasource:null,_datagrid:null,_sourceObject:null,_mendixGuid:null,_oldXPath:null,_gridBacktrack:null,_errorNode:null,_oldActionDeleteSelection:null,_hasError:false,postCreate:function(){this._gridBacktrack=this.backtrackconstraints;delete this.backtrackconstraints;this.initContext();var path=this.config.datasource.path.split("/");this.entity=path.pop();this.sourceReference=path.pop();this.createGrid();},createGrid:function(){this._datasource=new _c46(_c4b.mixin({queryid:this.schema},this.config.datasource));this._datagrid=new _c45({mxid:this.mxid,uniqueid:this.uniqueid+"_grid",mxform:this.mxform,contextname:this.contextname,entity:this.entity,schema:this.schema,customDataSource:this._datasource,config:this.config});this._datagrid.addOnLoad(_c4b.hitch(this,"actLoaded"));this._oldActionDeleteSelection=this._datagrid.actionDeleteSelection;_c4b.mixin(this._datagrid,{actionAddRef:_c4b.hitch(this,"handlerAdd"),actionCreateRef:_c4b.hitch(this,"handlerCreate"),actionDeleteRef:this.makeRemoveHandler(false),actionDeleteSelection:this.makeRemoveHandler(true),registerSubscriptions:_c4b.hitch(this,"registerSubscriptions")});this.domNode.appendChild(this._datagrid.domNode);},handlerAdd:function(_c50){this._sourceObject&&this._openAddForm(_c50[this.entity]);},handlerCreate:function(_c51){var _c52=this._getEntity(_c51),_c53=_c51[_c52];if(_c53==null){return;}if(!this._sourceObject){return;}var _c54=this.createContext();window.mx.data.create({entity:_c52,persistent:_c53.persistent,callback:function(_c55){var ent,guid;ent=_c55.getEntity();guid=_c55.getGuid();_c54.setTrackEntity(ent);_c54.setTrackId(guid);this.onChange();window.mx.ui.execute(_c53,{context:_c54,callback:function(form){form.listen("save",_c4b.hitch(this,function(_c56){this._sourceObject.addReferences(this.sourceReference,[guid]);_c56();}));}},this);},error:function(e){window.mx.onError(e);}},this);},makeRemoveHandler:function(_c57){var self=this;return function(){var _c58=self._datagrid.getSelected();if(_c58.length===0){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{window.mx.ui.confirmation({content:window.mx.ui.translate("mxui.widget.DataGrid","confirm_delete",[_c58.length]),handler:function(){if(_c57){self._oldActionDeleteSelection.call(self._datagrid,true);}self._sourceObject.removeReferences(self.sourceReference,_c58);self.onChange();if(!_c57){self._datagrid.deselectAll();self._datagrid.reload();}}});}};},registerSubscriptions:function(){this.unsubscribeAll();this.subscribe({guid:this._mendixguid,attr:this.sourceReference,callback:function(guid){this.objectUpdate(guid);}});this.subscribe({entity:this.entity,callback:_c4b.hitch(this,function(){this.objectUpdate.apply(this,arguments);})});this.subscribe({guid:this._mendixguid,callback:_c4b.hitch(this,"objectUpdate")});this.subscribe({guid:this._mendixguid,val:true,callback:_c4b.hitch(this,"onValidation")});},applyContext:function(_c59,_c5a){if(_c59!=null&&_c59.hasTrackId()){this.cloneContext(_c59);var _c5b=(this._mendixguid==null||this._mendixguid!=_c59.getTrackId());this._mendixguid=_c59.getTrackId();this.mxcontext.setConstraints(this.constrainedBy);this.registerSubscriptions();this.updateSequence(_c5b,_c5a);}else{this.unsubscribeAll();this.removeContext(_c5a);}},removeContext:function(_c5c){if(this._datagrid.removeContext){this._datagrid.removeContext(_c5c);}else{_c5c&&_c5c();}},updateSequence:function(_c5d,_c5e){var _c5f=[];if(_c5d){_c5f.push("actFetchSourceObject");}_c5f.push("actUpdateGrid");if(!_c5d){_c5f.push("actCompareSet");}_c5e&&_c5f.push(_c5e);this.sequence(_c5f);},actFetchSourceObject:function(_c60){var self=this;if(this._mendixguid){window.mx.data.get({guid:this._mendixguid,callback:function(obj){self._sourceObject=obj;self._datasource.setObject(obj);self._datagrid.set("readOnly",self._sourceObject.isReadonlyAttr(self.sourceReference));_c60();},error:function(e){window.mx.onError(e);_c60&&_c60();}});}else{_c60&&_c60();}},actUpdateGrid:function(_c61){this._oldXPath=this._datagrid.getCurrentXPath();this._datagrid.applyContext(this.mxcontext,_c61);},actCompareSet:function(_c62){var _c63=this._datagrid.getCurrentXPath();if(!this._oldXPath.match("[1=0]")&&this._oldXPath!=_c63){this._sourceObject.set(this.sourceReference,"");this.onChange();}else{_c62&&_c62();}},objectUpdate:function(guid,_c64){this.updateSequence();_c64&&_c64();},_setDisabledAttr:function(_c65){var grid=this._datagrid,_c66=_c65===true;grid.set("disabled",_c65);grid.set("selectable",!_c66);grid.set("toolbar",_c66);},_getDisabledAttr:function(){return this._datagrid.get("disabled");},onChange:function(){var ev=this.events&&this.events.change;this.validateForMicroflow(ev,_c4b.hitch(this,"callMicroflow",ev));},validateForMicroflow:function(_c67,_c68){if(_c67&&_c67.validate=="view"){this.mxform.save(_c68);}else{_c68&&_c68();}},onValidation:function(list){var val=list[0],attr=this.sourceReference,msg=val.getReasonByAttribute(attr);if(msg){this.addError(msg);val.removeAttribute(attr);}},callMicroflow:function(_c69){if(_c69){window.mx.ui.execute({microflow:_c69},{context:this.mxcontext});}},addError:function(msg){this.removeError();this._hasError=true;if(msg){this._errorNode=dom.create("div",{"class":"alert alert-danger"},msg);this.domNode.parentNode.appendChild(this._errorNode);this.mxform.resize();}_c4a.add(this.domNode,"has-error");if(this.validator){this.validator.addNotification();}},removeError:function(){if(this._errorNode){dom.orphan(this._errorNode);this._errorNode=null;}_c4a.remove(this.domNode,"has-error");if(this.validator&&this._hasError){this.validator.removeNotification();}this._hasError=false;},_openAddForm:function(_c6a){var self=this;var _c6b=this.createContext();_c6b.dupFrom(this.mxcontext);_c6b.unsetContext(this.entity);_c6b.setConstraints(this._gridBacktrack);window.mx.ui.execute(_c6a,{context:_c6b,params:{selection:[],listViewSelectionMode:"multi",dataSourceMixin:{constraint:this.xpathConstraint}},callback:function(form){form.listen("save",function(_c6c){var _c6d=lang.find(form.getChildren(true),function(_c6e){return "getSelected" in _c6e;}),_c6f=_c6d.getSelected();self._sourceObject.addReferences(self.sourceReference,_c6f);self.onChange();_c6c();});}});},_getEntity:function(_c70){for(var i in _c70){return i;}}});return _c4f;});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_c71,_c72,_c73,_c74){return _c72("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_c75,_c76){var _c77=this.containerNode;if(_c76>0){_c77=_c77.firstChild;while(_c76>0){if(_c77.nodeType==1){_c76--;}_c77=_c77.nextSibling;}if(_c77){_c76="before";}else{_c77=this.containerNode;_c76="last";}}_c73.place(_c75.domNode,_c77,_c76);if(this._started&&!_c75._started){_c75.startup();}},removeChild:function(_c78){if(typeof _c78=="number"){_c78=this.getChildren()[_c78];}if(_c78){var node=_c78.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_c79,dir){_c74.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var _c7a=this.getChildren(),idx=_c71.indexOf(_c7a,_c79);return _c7a[idx+dir];},getIndexOfChild:function(_c7b){return _c71.indexOf(this.getChildren(),_c7b);}});});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_c7c,_c7d){return _c7c("dijit._Contained",null,{_getSibling:function(_c7e){var node=this.domNode;do{node=node[_c7e+"Sibling"];}while(node&&node.nodeType!=1);return node&&_c7d.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"mxui/widget/BoolSelect":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/_base/declare"],function(_c7f,_c80,_c81){var _c82=_c81(_c7f,{declaredClass:"mxui.widget.BoolSelect",_value:false,buildRendering:function(){var $=_c80.create,node=this.editNode=$("input",{type:"checkbox"});this.inherited(arguments);},onChange:function(e){if(this._value!=this.editNode.checked){this._value=this.editNode.checked;this.inherited(arguments);}},_getValueAttr:function(){return this.editNode.checked;},_setValueAttr:function(_c83){this.editNode.checked=this._value=_c83;_c80.text(this.readNode,window.mx.parser.formatValue(_c83,"Boolean"));}});return _c82;});},"mxui/widget/RadioButtonGroup":function(){define(["mxui/widget/_FormWidget","mxui/dom","mendix/lang","dojo/_base/declare"],function(_c84,dom,lang,_c85){var $=dom.create;var _c86=_c85(_c84,{declaredClass:"mxui.widget.RadioButtonGroup",horizontal:true,options:null,_inputMap:null,_inputName:"",_attrType:"",_value:"",postMixInProperties:function(){this.inherited(arguments);this._inputMap={};this._inputName=lang.getUniqueId();this._attrType=mx.meta.getEntity(this._entity).getAttributeType(this._attribute);},buildRendering:function(){this.editNode=$("div");lang.forEach(this.options,this._addRadioButton,this);this.inherited(arguments);},connectEvents:function(){},_addRadioButton:function(_c87){var _c88=$("input",{type:"radio",name:this._inputName,value:_c87.key});this._inputMap[_c87.key]=_c88;this.editNode.appendChild(this.horizontal?$("label",{"class":"radio-inline"},_c88,_c87.caption):$("div",{"class":"radio"},$("label",_c88,_c87.caption)));this.connect(_c88,"change",function(e){var _c89=e.target.value;if(_c89!==this._value){this._value=this._attrType==="Boolean"?_c89==="true":_c89;this.onChange(e);}});},_getValueAttr:function(){return this._value;},_setValueAttr:function(_c8a){if(_c8a in this._inputMap){this._inputMap[_c8a].checked=true;this._value=_c8a;}else{if(this._value){this._inputMap[this._value].checked=false;}this._value="";}var _c8b=lang.find(this.options,function(_c8c){return _c8c.key===_c8a.toString();});this.readNode.innerHTML=_c8b?dom.escapeString(_c8b.caption):"&nbsp;";}});return _c86;});},"mxui/widget/DatePicker":function(){define(["mxui/widget/Button","mxui/widget/_WidgetBase","mxui/dom","dijit/focus","dijit/Calendar","dojo/sniff","dojo/i18n","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/dom-geometry","dojo/keys","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(_c8d,_c8e,_c8f,_c90,_c91,_c92,_c93,_c94,_c95,_c96,_c97,_c98,_c99,_c9a,_c9b,_c9c){var _c9d=_c9c(_c8e,{declaredClass:"mxui.widget.DatePicker",placeholder:"",selector:"date",format:"",_value:"",_native:false,_params:null,_calendar:null,_rescon:null,_leavecon:null,_blurcon:null,_foccon:null,_capture:null,_chgcon:null,_inputPos:null,_inputNode:null,_inputPane:null,_calButton:null,_calUpdateOn:true,buildRendering:function(){var $=_c8f.create,_c9e=":)",type=this.selector=="datetime"?"datetime-local":this.selector,_c9f;var _ca0=this._inputPane=$("div",{"class":"mx-dateinput-input-wrapper"},_c9f=this._inputNode=$("input",{"class":"form-control mx-dateinput-input",type:type,value:_c9e,placeholder:this._getPlaceholder()}));this.domNode=$("div",{"class":"mx-dateinput"},_ca0);this._native=_c92("mobile")&&_c9f.type===type&&_c9f.value!==_c9e;_c9f.value="";this._params={selector:this.selector=="custom"?"date":this.selector,datePattern:this.format};if(this._native){this._params=this._getNativeParseOpts();}else{_c9f.type="text";if(this._formatContainsDate()){this._calButton=new _c8d({"class":"mx-dateinput-select-button",iconClass:"glyphicon-calendar"});_c94.set(this._calButton.domNode,"tabindex","-1");_c97.place(this._calButton.domNode,_ca0,"before");}}},startup:function(){this.inherited(arguments);var node=this._inputNode;this._connectChangeEvent();this._blurcon=this.connect(node,"blur","onBlur");this._foccon=this.connect(node,"focus","onFocus");this.connect(node,"keyup","onKeyUp");if(this._calButton){this.connect(this._calButton,"onClick","_handleButtonClicked");this.connect(node,"keyup","_handleInputKey");}},enable:function(){if(this._calButton){this._calButton.set("disabled",false);}_c94.remove(this._inputNode,"disabled");},disable:function(){if(this._calButton){this._calButton.set("disabled",true);}_c94.set(this._inputNode,"disabled","disabled");},focus:function(){_c90.focus(this._inputNode);},onChange:function(){},onKeyUp:function(e){},onFocus:function(e){},onBlur:function(e){},uninitialize:function(){if(this._calendar){this._calendar.destroy();}if(this._capture){this._capture.remove();}},_formatContainsDate:function(){return (this.selector=="date"||this.selector=="datetime"||(this.selector=="custom"&&this.format.indexOf("d")!=-1&&this.format.indexOf("M")!=-1&&this.format.indexOf("y")!=-1));},_connectChangeEvent:function(){if(this._native){this._chgcon=this.connect(this._inputNode,"blur",function(){if(this._inputNode.value!=this._value){this.onChange();}});}else{this._chgcon=this.connect(this._inputNode,"change","onChange");}},_disconnectEvents:function(_ca1){for(var i=0,name;name=_ca1[i];++i){if(this[name]){this.disconnect(this[name]);this[name]=null;}}},_showCalendar:function(){var _ca2=this._calendar;if(!this._isCalendarVisible()){if(!_ca2){_ca2=this._calendar=new _c91(_c9b.mixin({datePackage:window.mx.ui.getDatePackage(),onChange:_c9b.hitch(this,"_handleCalendarChange"),onKeyDown:_c9b.hitch(this,"_handleCalendarKey")},this._calendarPatch));_ca2.domNode.style.position="absolute";document.body.appendChild(_ca2.domNode);}var _ca3=this.get("value");if(_ca3===""){_ca3=new Date();}this._setCalendarValue(_ca3);_ca2.domNode.style.display="block";this._rescon=this.connect(this.mxform,"resize","_handleResizeWindow");this._capture=_c8f.capture(document.body,"mousedown",_c9b.hitch(this,"_handleBodyClicked"));}this._handleResizeWindow();this._disconnectEvents(["_chgcon","_leavecon","_blurcon"]);_ca2.focus();setTimeout(_c9b.hitch(this,function(){this._connectChangeEvent();this._leavecon=this.connect(this._inputNode,"blur","_handleInputBlur");this._blurcon=this.connect(this._inputNode,"blur","onBlur");}),0);},_hideCalendar:function(){if(this._isCalendarVisible()){var _ca4=this._calendar.domNode;this._calendar.domNode.style.display="none";this._inputPos=null;this._disconnectEvents(["_rescon","_leavecon"]);this._capture.remove();this._capture=null;}this._disconnectEvents(["_foccon"]);this.focus();setTimeout(_c9b.hitch(this,function(){this._foccon=this.connect(this._inputNode,"focus","onFocus");}),0);},_handleCalendarChange:function(_ca5){if(!this._calUpdateOn){return;}if(_ca5.toGregorian){_ca5=_ca5.toGregorian();}this.set("value",this._mergeDates(_ca5));this._hideCalendar();this.onChange();},_handleInputKey:function(e){if(e.keyCode===_c99.DOWN_ARROW){this._showCalendar();}else{if(e.keyCode==_c99.ENTER){this._hideCalendar();}else{var _ca6=this.get("value");if(_ca6&&this._isCalendarVisible()){this._setCalendarValue(_ca6);}}}},_handleInputBlur:function(e){this._hideCalendar();},_handleBodyClicked:function(e){var _ca7=function(e,_ca8){var pos=_c98.position(_ca8.domNode);return (e.clientX>=pos.x&&e.clientX<pos.x+pos.w&&e.clientY>=pos.y&&e.clientY<pos.y+pos.h);};var _ca9=[this,this._calendar,this._calendar.monthWidget,this._calendar.monthWidget.dropDown];if(e){for(var i=0,w;w=_ca9[i];++i){if(_ca7(e,w)){return;}}}this._hideCalendar();this.onBlur();},_handleButtonClicked:function(e){if(this._isCalendarVisible()){this._hideCalendar();}else{this._showCalendar();}},_handleCalendarKey:function(e){if(e.keyCode==_c99.ESCAPE||e.keyCode==_c99.TAB){this._hideCalendar();}},_handleResizeWindow:function(){var box=_c98.position(this._inputNode,true),pos={x:box.x,y:box.y},_caa=this._inputPos;if(!this.isLeftToRight()){pos.x+=box.w;}if(_caa==null||pos.x!=_caa.x||pos.y!=_caa.y){var _cab={left:pos.x+"px",top:pos.y+box.h+"px",zIndex:1000};if(!this.isLeftToRight()){var _cac=_c98.position(this._calendar.domNode,true);_cab.left=pos.x-_cac.w+"px";}_c96.set(this._calendar.domNode,_cab);this._inputPos=pos;}},_isCalendarVisible:function(){return this._calendar&&this._calendar.domNode.style.display!="none";},_setCalendarValue:function(_cad){this._calUpdateOn=false;this._calendar.set("value",_cad);this._calUpdateOn=true;},_getNativeParseOpts:function(){var _cae;switch(this.selector){case "date":_cae="yyyy-MM-dd";break;case "time":_cae="HH:mm";break;case "datetime":_cae="yyyy-MM-dd HH:mm";}return {selector:"date",datePattern:_cae};},_getPlaceholder:function(){if(this.placeholder){return this.placeholder;}else{var _caf=_c93.getLocalization("dojo.cldr",mx.ui.getCalendarSystem()),_cb0;switch(this.selector){case "date":_cb0=_caf["dateFormat-short"];break;case "time":_cb0=_caf["timeFormat-short"];break;case "datetime":_cb0=_caf["dateFormat-short"]+" "+_caf["timeFormat-short"];break;case "custom":_cb0=this.format;}_cb0=_cb0.toLowerCase();return _cb0.replace(/(\w)+/g,function(_cb1,_cb2){switch(_cb2){case "y":return new Array(5).join(_cb2);case "a":return _caf["field-dayperiod"];default:return new Array(3).join(_cb2);}});}},_mergeDates:function(_cb3){var _cb4=new Date(this._value===""?window.mx.parser.localizeEpoch(0):this._value);return window.mx.parser.mergeDates(_cb4,_cb3,this.selector);},_getValueAttr:function(){var _cb5=this._inputNode.value;if(_cb5===""){return "";}if(this._native){_cb5=_cb5.slice(0,16).replace("T"," ");}var _cb6=window.mx.parser.parseValue2(_cb5,"datetime",this._params);return _cb6?this._mergeDates(_cb6):null;},_setValueAttr:function(_cb7){var _cb8=window.mx.parser.formatValue(_cb7,"datetime",this._params);this._inputNode.value=this._native?_cb8.replace(" ","T"):_cb8;this._value=_cb7;},_calendarPatch:{_onDayMouseDown:function(e){var node=e.target.parentNode;if(node&&node.dijitDateValue!=null&&!_c95.contains(node,"dijitCalendarDisabledDate")){this._currentNode=node;}},_onDayClick:function(e){_c9a.stop(e);for(var node=e.target;node&&(node.dijitDateValue==null);node=node.parentNode){}if(node&&!_c95.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_patchDate:function(_cb9){if(_cb9!=null){_cb9=new this.dateClassObj(_cb9);_cb9.setHours(1,0,0,0);}return _cb9;}}});return _c9d;});},"dijit/Calendar":function(){define(["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(_cba,date,_cbb,_cbc,_cbd,_cbe,_cbf,_cc0,keys,lang,on,has,_cc1,_cc2,_cc3,_cc4,_cc5){var _cc6=_cbc("dijit.Calendar",[_cc1,_cc2,_cc3],{baseClass:"dijitCalendar",cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(_cc7){_cc0.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_cc7);},_createMonthWidget:function(){return new _cc6._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")),on(this.dateRowsNode,"mouseover",lang.hitch(this,"_onDayMouseOver")),on(this.dateRowsNode,"mouseout",lang.hitch(this,"_onDayMouseOut")),on(this.dateRowsNode,"mousedown",lang.hitch(this,"_onDayMouseDown")),on(this.dateRowsNode,"mouseup",lang.hitch(this,"_onDayMouseUp")));},_onMonthSelect:function(_cc8){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_cc8);var _cc9=this.dateModule.getDaysInMonth(date);var _cca=this.currentFocus.getDate();date.setDate(Math.min(_cca,_cc9));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_cbe.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_cbe.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_cbe.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_cbe.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_cbe.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_cbe.contains(node,"dijitCalendarDisabledDate")){_cbe.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_cbe.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _ccb=-1,_ccc,_ccd=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_ccb=1;case keys.LEFT_ARROW:_ccc="day";if(!this.isLeftToRight()){_ccb*=-1;}break;case keys.DOWN_ARROW:_ccb=1;case keys.UP_ARROW:_ccc="week";break;case keys.PAGE_DOWN:_ccb=1;case keys.PAGE_UP:_ccc=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_ccd=this.dateModule.add(_ccd,"month",1);_ccc="day";case keys.HOME:_ccd=new this.dateClassObj(_ccd);_ccd.setDate(1);break;default:return true;}if(_ccc){_ccd=this.dateModule.add(_ccd,_ccc,_ccb);}this._setCurrentFocusAttr(_ccd);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){evt.stopPropagation();evt.preventDefault();}},onValueSelected:function(){},onChange:function(_cce){this.onValueSelected(_cce);},getClassForDate:function(){}});_cc6._MonthDropDownButton=_cbc("dijit.Calendar._MonthDropDownButton",_cc5,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _cc6._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(_ccf){var _cd0=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_ccf);this.dropDown.set("months",_cd0);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_cd0[_ccf.getMonth()]+"</div>";}});_cc6._MonthDropDown=_cbc("dijit.Calendar._MonthDropDown",[_cc2,_cc4,_cc3],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"<div data-dojo-attach-event='ondijitclick:_onClick'></div>",_setMonthsAttr:function(_cd1){this.domNode.innerHTML="";_cba.forEach(_cd1,function(_cd2,idx){var div=_cbf.create("div",{className:"dijitCalendarMonthLabel",month:idx,innerHTML:_cd2},this.domNode);div._cssState="dijitCalendarMonthLabel";},this);},_onClick:function(evt){this.onChange(_cbd.get(evt.target,"month"));},onChange:function(){}});return _cc6;});},"dojo/date":function(){define(["./has","./_base/lang"],function(has,lang){var date={};date.getDaysInMonth=function(_cd3){var _cd4=_cd3.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_cd4==1&&date.isLeapYear(_cd3)){return 29;}return days[_cd4];};date.isLeapYear=function(_cd5){var year=_cd5.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};date.getTimezoneName=function(_cd6){var str=_cd6.toString();var tz="";var _cd7;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_cd7=str.match(pat))){tz=_cd7[1];}else{str=_cd6.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_cd7=str.match(pat))){tz=_cd7[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};date.compare=function(_cd8,_cd9,_cda){_cd8=new Date(+_cd8);_cd9=new Date(+(_cd9||new Date()));if(_cda=="date"){_cd8.setHours(0,0,0,0);_cd9.setHours(0,0,0,0);}else{if(_cda=="time"){_cd8.setFullYear(0,0,0);_cd9.setFullYear(0,0,0);}}if(_cd8>_cd9){return 1;}if(_cd8<_cd9){return -1;}return 0;};date.add=function(date,_cdb,_cdc){var sum=new Date(+date);var _cdd=false;var _cde="Date";switch(_cdb){case "day":break;case "weekday":var days,_cdf;var mod=_cdc%5;if(!mod){days=(_cdc>0)?5:-5;_cdf=(_cdc>0)?((_cdc-5)/5):((_cdc+5)/5);}else{days=mod;_cdf=parseInt(_cdc/5);}var strt=date.getDay();var adj=0;if(strt==6&&_cdc>0){adj=1;}else{if(strt==0&&_cdc<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_cdc>0)?2:-2;}_cdc=(7*_cdf)+days+adj;break;case "year":_cde="FullYear";_cdd=true;break;case "week":_cdc*=7;break;case "quarter":_cdc*=3;case "month":_cdd=true;_cde="Month";break;default:_cde="UTC"+_cdb.charAt(0).toUpperCase()+_cdb.substring(1)+"s";}if(_cde){sum["set"+_cde](sum["get"+_cde]()+_cdc);}if(_cdd&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};date.difference=function(_ce0,_ce1,_ce2){_ce1=_ce1||new Date();_ce2=_ce2||"day";var _ce3=_ce1.getFullYear()-_ce0.getFullYear();var _ce4=1;switch(_ce2){case "quarter":var m1=_ce0.getMonth();var m2=_ce1.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_ce3*4);_ce4=q2-q1;break;case "weekday":var days=Math.round(date.difference(_ce0,_ce1,"day"));var _ce5=parseInt(date.difference(_ce0,_ce1,"week"));var mod=days%7;if(mod==0){days=_ce5*5;}else{var adj=0;var aDay=_ce0.getDay();var bDay=_ce1.getDay();_ce5=parseInt(days/7);mod=days%7;var _ce6=new Date(_ce0);_ce6.setDate(_ce6.getDate()+(_ce5*7));var _ce7=_ce6.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_ce7+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_ce7+mod)<0:adj=2;}}}days+=adj;days-=(_ce5*2);}_ce4=days;break;case "year":_ce4=_ce3;break;case "month":_ce4=(_ce1.getMonth()-_ce0.getMonth())+(_ce3*12);break;case "week":_ce4=parseInt(date.difference(_ce0,_ce1,"day")/7);break;case "day":_ce4/=24;case "hour":_ce4/=60;case "minute":_ce4/=60;case "second":_ce4/=1000;case "millisecond":_ce4*=_ce1.getTime()-_ce0.getTime();}return Math.round(_ce4);};1&&lang.mixin(lang.getObject("dojo.date",true),date);return date;});},"dojo/date/locale":function(){define(["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(lang,_ce8,date,_ce9,i18n,_cea,_ceb,_cec,_ced){var _cee={};lang.setObject(_ced.id.replace(/\//g,"."),_cee);function _cef(_cf0,_cf1,_cf2,_cf3){return _cf3.replace(/([a-z])\1*/ig,function(_cf4){var s,pad,c=_cf4.charAt(0),l=_cf4.length,_cf5=["abbr","wide","narrow"];switch(c){case "G":s=_cf1[(l<4)?"eraAbbr":"eraNames"][_cf0.getFullYear()<0?0:1];break;case "y":s=_cf0.getFullYear();switch(l){case 1:break;case 2:if(!_cf2.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_cf0.getMonth()+1)/3);pad=true;break;case "M":case "L":var m=_cf0.getMonth();if(l<3){s=m+1;pad=true;}else{var _cf6=["months",c=="L"?"standAlone":"format",_cf5[l-3]].join("-");s=_cf1[_cf6][m];}break;case "w":var _cf7=0;s=_cee._getWeekOfYear(_cf0,_cf7);pad=true;break;case "d":s=_cf0.getDate();pad=true;break;case "D":s=_cee._getDayOfYear(_cf0);pad=true;break;case "e":case "c":var d=_cf0.getDay();if(l<2){s=(d-_ce9.getFirstDayOfWeek(_cf2.locale)+8)%7;break;}case "E":d=_cf0.getDay();if(l<3){s=d+1;pad=true;}else{var _cf8=["days",c=="c"?"standAlone":"format",_cf5[l-3]].join("-");s=_cf1[_cf8][d];}break;case "a":var _cf9=_cf0.getHours()<12?"am":"pm";s=_cf2[_cf9]||_cf1["dayPeriods-format-wide-"+_cf9];break;case "h":case "H":case "K":case "k":var h=_cf0.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_cf0.getMinutes();pad=true;break;case "s":s=_cf0.getSeconds();pad=true;break;case "S":s=Math.round(_cf0.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=_cee._getZone(_cf0,true,_cf2);if(s){break;}l=4;case "Z":var _cfa=_cee._getZone(_cf0,false,_cf2);var tz=[(_cfa<=0?"+":"-"),_ceb.pad(Math.floor(Math.abs(_cfa)/60),2),_ceb.pad(Math.abs(_cfa)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_cf3);}if(pad){s=_ceb.pad(s,l);}return s;});};_cee._getZone=function(_cfb,_cfc,_cfd){if(_cfc){return date.getTimezoneName(_cfb);}else{return _cfb.getTimezoneOffset();}};_cee.format=function(_cfe,_cff){_cff=_cff||{};var _d00=i18n.normalizeLocale(_cff.locale),_d01=_cff.formatLength||"short",_d02=_cee._getGregorianBundle(_d00),str=[],_d03=lang.hitch(this,_cef,_cfe,_d02,_cff);if(_cff.selector=="year"){return _d04(_d02["dateFormatItem-yyyy"]||"yyyy",_d03);}var _d05;if(_cff.selector!="date"){_d05=_cff.timePattern||_d02["timeFormat-"+_d01];if(_d05){str.push(_d04(_d05,_d03));}}if(_cff.selector!="time"){_d05=_cff.datePattern||_d02["dateFormat-"+_d01];if(_d05){str.push(_d04(_d05,_d03));}}return str.length==1?str[0]:_d02["dateTimeFormat-"+_d01].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(_d06,key){return str[key];});};_cee.regexp=function(_d07){return _cee._parseInfo(_d07).regexp;};_cee._parseInfo=function(_d08){_d08=_d08||{};var _d09=i18n.normalizeLocale(_d08.locale),_d0a=_cee._getGregorianBundle(_d09),_d0b=_d08.formatLength||"short",_d0c=_d08.datePattern||_d0a["dateFormat-"+_d0b],_d0d=_d08.timePattern||_d0a["timeFormat-"+_d0b],_d0e;if(_d08.selector=="date"){_d0e=_d0c;}else{if(_d08.selector=="time"){_d0e=_d0d;}else{_d0e=_d0a["dateTimeFormat-"+_d0b].replace(/\{(\d+)\}/g,function(_d0f,key){return [_d0d,_d0c][key];});}}var _d10=[],re=_d04(_d0e,lang.hitch(this,_d11,_d10,_d0a,_d08));return {regexp:re,tokens:_d10,bundle:_d0a};};_cee.parse=function(_d12,_d13){var _d14=/[\u200E\u200F\u202A\u202E]/g,info=_cee._parseInfo(_d13),_d15=info.tokens,_d16=info.bundle,re=new RegExp("^"+info.regexp.replace(_d14,"")+"$",info.strict?"":"i"),_d17=re.exec(_d12&&_d12.replace(_d14,""));if(!_d17){return null;}var _d18=["abbr","wide","narrow"],_d19=[1970,0,1,0,0,0,0],amPm="",_d1a=_ce8.every(_d17,function(v,i){if(!i){return true;}var _d1b=_d15[i-1],l=_d1b.length,c=_d1b.charAt(0);switch(c){case "y":if(l!=2&&_d13.strict){_d19[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_d1c=year.substring(0,2)*100,_d1d=Math.min(Number(year.substring(2,4))+20,99);_d19[0]=(v<_d1d)?_d1c+v:_d1c-100+v;}else{if(_d13.strict){return false;}_d19[0]=v;}}break;case "M":case "L":if(l>2){var _d1e=_d16["months-"+(c=="L"?"standAlone":"format")+"-"+_d18[l-3]].concat();if(!_d13.strict){v=v.replace(".","").toLowerCase();_d1e=_ce8.map(_d1e,function(s){return s.replace(".","").toLowerCase();});}v=_ce8.indexOf(_d1e,v);if(v==-1){return false;}}else{v--;}_d19[1]=v;break;case "E":case "e":case "c":var days=_d16["days-"+(c=="c"?"standAlone":"format")+"-"+_d18[l-3]].concat();if(!_d13.strict){v=v.toLowerCase();days=_ce8.map(days,function(d){return d.toLowerCase();});}v=_ce8.indexOf(days,v);if(v==-1){return false;}break;case "D":_d19[1]=0;case "d":_d19[2]=v;break;case "a":var am=_d13.am||_d16["dayPeriods-format-wide-am"],pm=_d13.pm||_d16["dayPeriods-format-wide-pm"];if(!_d13.strict){var _d1f=/\./g;v=v.replace(_d1f,"").toLowerCase();am=am.replace(_d1f,"").toLowerCase();pm=pm.replace(_d1f,"").toLowerCase();}if(_d13.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_d19[3]=v;break;case "m":_d19[4]=v;break;case "s":_d19[5]=v;break;case "S":_d19[6]=v;}return true;});var _d20=+_d19[3];if(amPm==="p"&&_d20<12){_d19[3]=_d20+12;}else{if(amPm==="a"&&_d20==12){_d19[3]=0;}}var _d21=new Date(_d19[0],_d19[1],_d19[2],_d19[3],_d19[4],_d19[5],_d19[6]);if(_d13.strict){_d21.setFullYear(_d19[0]);}var _d22=_d15.join(""),_d23=_d22.indexOf("d")!=-1,_d24=_d22.indexOf("M")!=-1;if(!_d1a||(_d24&&_d21.getMonth()>_d19[1])||(_d23&&_d21.getDate()>_d19[2])){return null;}if((_d24&&_d21.getMonth()<_d19[1])||(_d23&&_d21.getDate()<_d19[2])){_d21=date.add(_d21,"hour",1);}return _d21;};function _d04(_d25,_d26,_d27,_d28){var _d29=function(x){return x;};_d26=_d26||_d29;_d27=_d27||_d29;_d28=_d28||_d29;var _d2a=_d25.match(/(''|[^'])+/g),_d2b=_d25.charAt(0)=="'";_ce8.forEach(_d2a,function(_d2c,i){if(!_d2c){_d2a[i]="";}else{_d2a[i]=(_d2b?_d27:_d26)(_d2c.replace(/''/g,"'"));_d2b=!_d2b;}});return _d28(_d2a.join(""));};function _d11(_d2d,_d2e,_d2f,_d30){_d30=_cea.escapeString(_d30);if(!_d2f.strict){_d30=_d30.replace(" a"," ?a");}return _d30.replace(/([a-z])\1*/ig,function(_d31){var s,c=_d31.charAt(0),l=_d31.length,p2="",p3="";if(_d2f.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":case "L":s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";break;case "D":s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p2+"[1-9][0-9]|"+p3+"[1-9]";break;case "d":s="3[01]|[12]\\d|"+p2+"[1-9]";break;case "w":s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";break;case "E":case "e":case "c":s=".+?";break;case "h":s="1[0-2]|"+p2+"[1-9]";break;case "k":s="1[01]|"+p2+"\\d";break;case "H":s="1\\d|2[0-3]|"+p2+"\\d";break;case "K":s="1\\d|2[0-4]|"+p2+"[1-9]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_d2f.am||_d2e["dayPeriods-format-wide-am"],pm=_d2f.pm||_d2e["dayPeriods-format-wide-pm"];s=am+"|"+pm;if(!_d2f.strict){if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_d2d){_d2d.push(_d31);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _d32=[];_cee.addCustomFormats=function(_d33,_d34){_d32.push({pkg:_d33,name:_d34});};_cee._getGregorianBundle=function(_d35){var _d36={};_ce8.forEach(_d32,function(desc){var _d37=i18n.getLocalization(desc.pkg,desc.name,_d35);_d36=lang.mixin(_d36,_d37);},this);return _d36;};_cee.addCustomFormats(_ced.id.replace(/\/date\/locale$/,".cldr"),"gregorian");_cee.getNames=function(item,type,_d38,_d39){var _d3a,_d3b=_cee._getGregorianBundle(_d39),_d3c=[item,_d38,type];if(_d38=="standAlone"){var key=_d3c.join("-");_d3a=_d3b[key];if(_d3a[0]==1){_d3a=undefined;}}_d3c[1]="format";return (_d3a||_d3b[_d3c.join("-")]).concat();};_cee.isWeekend=function(_d3d,_d3e){var _d3f=_ce9.getWeekend(_d3e),day=(_d3d||new Date()).getDay();if(_d3f.end<_d3f.start){_d3f.end+=7;if(day<_d3f.start){day+=7;}}return day>=_d3f.start&&day<=_d3f.end;};_cee._getDayOfYear=function(_d40){return date.difference(new Date(_d40.getFullYear(),0,1,_d40.getHours()),_d40)+1;};_cee._getWeekOfYear=function(_d41,_d42){if(arguments.length==1){_d42=0;}var _d43=new Date(_d41.getFullYear(),0,1).getDay(),adj=(_d43-_d42+7)%7,week=Math.floor((_cee._getDayOfYear(_d41)+adj-1)/7);if(_d43==_d42){week++;}return week;};return _cee;});},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(lang,i18n){var _d44={};lang.setObject("dojo.cldr.supplemental",_d44);_d44.getFirstDayOfWeek=function(_d45){var _d46={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0};var _d47=_d44._region(_d45);var dow=_d46[_d47];return (dow===undefined)?1:dow;};_d44._region=function(_d48){_d48=i18n.normalizeLocale(_d48);var tags=_d48.split("-");var _d49=tags[1];if(!_d49){_d49={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[tags[0]];}else{if(_d49.length==4){_d49=tags[2];}}return _d49;};_d44.getWeekend=function(_d4a){var _d4b={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5},_d4c={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6},_d4d=_d44._region(_d4a),_d4e=_d4b[_d4d],end=_d4c[_d4d];if(_d4e===undefined){_d4e=6;}if(end===undefined){end=0;}return {start:_d4e,end:end};};return _d44;});},"dojo/cldr/nls/gregorian":function(){define({root:{"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"months-format-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"field-second-relative+0":"now","quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"y-MM-dd, E","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday","dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"MMM d, E","eraNarrow":["BCE","CE"],"field-tue-relative+-1":"last Tuesday","days-format-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"y MMMM d","field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"y MMMM d, EEEE","field-thu-relative+-1":"last Thursday","dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"y-MM-dd","field-era":"Era","dateFormatItem-yM":"y-MM","months-standAlone-wide":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Year","dateFormatItem-yMMM":"y MMM","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday","timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday","dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-M":"L","days-standAlone-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dayPeriods-format-abbr-noon":"noon","timeFormat-medium":"HH:mm:ss","field-sun-relative+0":"this Sunday","dateFormatItem-Hm":"HH:mm","field-sun-relative+1":"next Sunday","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraAbbr":["BCE","CE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-h":"h a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E","dateTimeFormat-full":"{1} {0}","field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"field-zone":"Zone","months-standAlone-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"dateFormatItem-y":"y","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{1} {0}","dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"eraNames":["BCE","CE"],"dateFormatItem-yMMMd":"y MMM d","days-format-narrow":["S","M","T","W","T","F","S"],"field-month":"Month","days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","field-tue-relative+0":"this Tuesday","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","field-tue-relative+1":"next Tuesday","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormatItem-EHm":"E HH:mm","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday","dateFormat-short":"y-MM-dd","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","field-sat-relative+-1":"last Saturday","dateFormatItem-yMMMEd":"y MMM d, E","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateTimeFormats-appendItem-Timezone":"{0} {1}","dateFormatItem-Ed":"d, E","field-week":"Week","dateFormat-medium":"y MMM d","field-week-relative+-1":"last week","field-year-relative+0":"this year","field-year-relative+1":"next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM","field-mon-relative+-1":"last Monday","field-week-relative+0":"this week","field-week-relative+1":"next week"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-au":true,"en-ca":true,"en-gb":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});},"dojo/cldr/nls/en/gregorian":function(){define({"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-yMEd":"E, M/d/y","dateFormatItem-MMMEd":"E, MMM d","eraNarrow":["B","A"],"days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"dateFormat-long":"MMMM d, y","months-format-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"dateTimeFormat-medium":"{1}, {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, MMMM d, y","dateFormatItem-Md":"M/d","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"M/d/y","field-era":"Era","dateFormatItem-yM":"M/y","months-standAlone-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"timeFormat-short":"h:mm a","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"timeFormat-long":"h:mm:ss a z","field-year":"Year","dateFormatItem-yMMM":"MMM y","dateFormatItem-yQ":"Q y","field-hour":"Hour","months-format-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"timeFormat-full":"h:mm:ss a zzzz","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","months-standAlone-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateFormatItem-M":"L","days-standAlone-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"timeFormat-medium":"h:mm:ss a","dateFormatItem-Hm":"HH:mm","eraAbbr":["BC","AD"],"field-minute":"Minute","field-dayperiod":"AM/PM","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","field-day-relative+-1":"Yesterday","dateTimeFormat-long":"{1} 'at' {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"E, M/d","dateTimeFormat-full":"{1} 'at' {0}","field-day":"Day","days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"field-zone":"Time Zone","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Last year","field-month-relative+-1":"Last month","dateFormatItem-hm":"h:mm a","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-yMMMd":"MMM d, y","eraNames":["Before Christ","Anno Domini"],"days-format-narrow":["S","M","T","W","T","F","S"],"field-month":"Month","days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","dayPeriods-format-wide-am":"AM","dateFormatItem-EHm":"E HH:mm","dateFormat-short":"M/d/yyyy","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","dateFormatItem-yMMMEd":"E, MMM d, y","field-month-relative+0":"This month","field-month-relative+1":"Next month","dateFormatItem-Ed":"d E","field-week":"Week","dateFormat-medium":"MMM d, y","field-year-relative+0":"This year","field-week-relative+-1":"Last week","field-year-relative+1":"Next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1}, {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","field-week-relative+0":"This week","field-week-relative+1":"Next week"});},"dojo/cldr/nls/nl/gregorian":function(){define({"days-standAlone-short":["zo","ma","di","wo","do","vr","za"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Dag van de week","dateFormatItem-yyQQQQ":"QQQQ yy","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-yMEd":"E d-M-y","dateFormatItem-MMMEd":"E d MMM","eraNarrow":["v.Chr.","n.Chr."],"days-format-short":["zo","ma","di","wo","do","vr","za"],"dateFormat-long":"d MMMM y","months-format-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE d MMMM y","dateFormatItem-Md":"d-M","dayPeriods-format-wide-noon":"12 uur 's middags","dateFormatItem-yMd":"d-M-y","field-era":"Tijdperk","dateFormatItem-yM":"M-y","months-standAlone-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"timeFormat-short":"HH:mm","quarters-format-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"timeFormat-long":"HH:mm:ss z","field-year":"Jaar","dateFormatItem-yMMM":"MMM y","dateFormatItem-yQ":"Q yyyy","dateFormatItem-yyyyMMMM":"MMMM y","field-hour":"Uur","dateFormatItem-MMdd":"dd-MM","months-format-abbr":["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],"dateFormatItem-yyQ":"Q yy","timeFormat-full":"HH:mm:ss zzzz","field-day-relative+0":"Vandaag","field-day-relative+1":"Morgen","field-day-relative+2":"Overmorgen","dateFormatItem-H":"HH","months-standAlone-abbr":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],"quarters-format-abbr":["K1","K2","K3","K4"],"quarters-standAlone-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"dateFormatItem-M":"L","days-standAlone-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"dateFormatItem-MMMMd":"d MMMM","dayPeriods-format-abbr-noon":"12 uur 's middags","dateFormatItem-yyMMM":"MMM yy","timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["K1","K2","K3","K4"],"eraAbbr":["v.Chr.","n.Chr."],"field-minute":"Minuut","field-dayperiod":"AM/PM","days-standAlone-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Gisteren","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","field-day-relative+-2":"Eergisteren","dateFormatItem-MMMd":"d-MMM","dateFormatItem-MEd":"E d-M","dateTimeFormat-full":"{1} {0}","field-day":"Dag","days-format-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"field-zone":"Zone","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Vorig jaar","field-month-relative+-1":"Vorige maand","dateFormatItem-yyMM":"MM-yy","dateFormatItem-hm":"h:mm a","days-format-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-yMMMd":"d MMM y","eraNames":["Voor Christus","na Christus"],"days-format-narrow":["Z","M","D","W","D","V","Z"],"days-standAlone-narrow":["Z","M","D","W","D","V","Z"],"dateFormatItem-MMM":"LLL","field-month":"Maand","dayPeriods-format-wide-am":"AM","dateFormat-short":"dd-MM-yyyy","dateFormatItem-MMd":"d-MM","dayPeriods-format-narrow-noon":"n","field-second":"Seconde","dateFormatItem-yMMMEd":"E d MMM y","field-month-relative+0":"Deze maand","field-month-relative+1":"Volgende maand","dateFormatItem-Ed":"E d","field-week":"week","dateFormat-medium":"d MMM y","field-year-relative+0":"Dit jaar","field-week-relative+-1":"Vorige week","field-year-relative+1":"Volgend jaar","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","field-week-relative+0":"Deze week","field-week-relative+1":"Volgende week"});},"dijit/CalendarLite":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./a11yclick","./hccss"],function(_d4f,_d50,_d51,date,_d52,_d53,dom,_d54,lang,on,has,_d55,_d56,_d57,_d58){var _d59=_d50("dijit.CalendarLite",[_d56,_d57],{templateString:_d58,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(_d5a){return _d5a&&!isNaN(_d5a)&&typeof _d5a=="object"&&_d5a.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){var _d5b=this._get("value");if(_d5b&&!isNaN(_d5b)){var _d5c=new this.dateClassObj(_d5b);_d5c.setHours(0,0,0,0);if(_d5c.getDate()<_d5b.getDate()){_d5c=this.dateModule.add(_d5c,"hour",1);}return _d5c;}else{return null;}},_setValueAttr:function(_d5d,_d5e){if(typeof _d5d=="string"){_d5d=_d53.fromISOString(_d5d);}_d5d=this._patchDate(_d5d);if(this._isValidDate(_d5d)&&!this.isDisabledDate(_d5d,this.lang)){this._set("value",_d5d);this.set("currentFocus",_d5d);this._markSelectedDates([_d5d]);if(this._created&&(_d5e||typeof _d5e=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(_d5f){if(_d5f){_d5f=new this.dateClassObj(_d5f);_d5f.setHours(1,0,0,0);}return _d5f;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var _d60=new this.dateClassObj(this.currentFocus);_d60.setDate(1);_d60=this._patchDate(_d60);var _d61=_d60.getDay(),_d62=this.dateModule.getDaysInMonth(_d60),_d63=this.dateModule.getDaysInMonth(this.dateModule.add(_d60,"month",-1)),_d64=new this.dateClassObj(),_d65=_d51.getFirstDayOfWeek(this.lang);if(_d65>_d61){_d65-=7;}if(!this.summary){var _d66=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_d60);this.gridNode.setAttribute("summary",_d66[_d60.getMonth()]);}this._date2cell={};_d4f.forEach(this.dateCells,function(_d67,idx){var i=idx+_d65;var date=new this.dateClassObj(_d60),_d68,_d69="dijitCalendar",adj=0;if(i<_d61){_d68=_d63-_d61+i+1;adj=-1;_d69+="Previous";}else{if(i>=(_d61+_d62)){_d68=i-_d61-_d62+1;adj=1;_d69+="Next";}else{_d68=i-_d61+1;_d69+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_d68);if(!this.dateModule.compare(date,_d64,"date")){_d69="dijitCalendarCurrentDate "+_d69;}if(this.isDisabledDate(date,this.lang)){_d69="dijitCalendarDisabledDate "+_d69;_d67.setAttribute("aria-disabled","true");}else{_d69="dijitCalendarEnabledDate "+_d69;_d67.removeAttribute("aria-disabled");_d67.setAttribute("aria-selected","false");}var _d6a=this.getClassForDate(date,this.lang);if(_d6a){_d69=_d6a+" "+_d69;}_d67.className=_d69+"Month dijitCalendarDateTemplate";var _d6b=date.valueOf();this._date2cell[_d6b]=_d67;_d67.dijitDateValue=_d6b;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var _d6c=new this.dateClassObj(this.currentFocus);_d6c.setDate(1);this.monthWidget.set("month",_d6c);var y=_d6c.getFullYear()-1;var d=new this.dateClassObj();_d4f.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_d6d){this.dateModule=_d6d.datePackage?lang.getObject(_d6d.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_d6d.datePackage?lang.getObject(_d6d.datePackage+".locale",false):_d52;},_createMonthWidget:function(){return _d59._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_d6e=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_d6f=_d51.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_d55.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _d6e[_d6f++%7];});var r=_d55.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _d70=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_d70,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _d71=lang.hitch(this,function(_d72,part,_d73){this[_d72].dojoClick=true;return on(this[_d72],"click",lang.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_d73));}));});this.own(_d71("incrementMonth","month",1),_d71("decrementMonth","month",-1),_d71("nextYearLabelNode","year",1),_d71("previousYearLabelNode","year",-1));},_setCurrentFocusAttr:function(date,_d74){var _d75=this.currentFocus,_d76=this._getNodeByDate(_d75);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_d75,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _d77=this._getNodeByDate(date);_d77.setAttribute("tabIndex",this.tabIndex);if(this.focused||_d74){_d77.focus();}if(_d76&&_d76!=_d77){if(has("webkit")){_d76.setAttribute("tabIndex","-1");}else{_d76.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){evt.stopPropagation();evt.preventDefault();for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_d54.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(_d78){_d78=this._patchDate(_d78);return _d78&&this._date2cell?this._date2cell[_d78.valueOf()]:null;},_markSelectedDates:function(_d79){function mark(_d7a,cell){_d54.toggle(cell,"dijitCalendarSelectedDate",_d7a);cell.setAttribute("aria-selected",_d7a?"true":"false");};_d4f.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=_d4f.filter(_d4f.map(_d79,this._getNodeByDate,this),function(n){return n;});_d4f.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_d59._MonthWidget=_d50("dijit.CalendarLite._MonthWidget",_d56,{_setMonthAttr:function(_d7b){var _d7c=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_d7b),_d7d=(has("ie")==6?"":"<div class='dijitSpacer'>"+_d4f.map(_d7c,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_d7d+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_d7c[_d7b.getMonth()]+"</div>";}});return _d59;});},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(lang,_d7e){var _d7f={};lang.setObject("dojo.date.stamp",_d7f);_d7f.fromISOString=function(_d80,_d81){if(!_d7f._isoRegExp){_d7f._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _d82=_d7f._isoRegExp.exec(_d80),_d83=null;if(_d82){_d82.shift();if(_d82[1]){_d82[1]--;}if(_d82[6]){_d82[6]*=1000;}if(_d81){_d81=new Date(_d81);_d7e.forEach(_d7e.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _d81["get"+prop]();}),function(_d84,_d85){_d82[_d85]=_d82[_d85]||_d84;});}_d83=new Date(_d82[0]||1970,_d82[1]||0,_d82[2]||1,_d82[3]||0,_d82[4]||0,_d82[5]||0,_d82[6]||0);if(_d82[0]<100){_d83.setFullYear(_d82[0]||1970);}var _d86=0,_d87=_d82[7]&&_d82[7].charAt(0);if(_d87!="Z"){_d86=((_d82[8]||0)*60)+(Number(_d82[9])||0);if(_d87!="-"){_d86*=-1;}}if(_d87){_d86-=_d83.getTimezoneOffset();}if(_d86){_d83.setTime(_d83.getTime()+_d86*60000);}}return _d83;};_d7f.toISOString=function(_d88,_d89){var _d8a=function(n){return (n<10)?"0"+n:n;};_d89=_d89||{};var _d8b=[],_d8c=_d89.zulu?"getUTC":"get",date="";if(_d89.selector!="time"){var year=_d88[_d8c+"FullYear"]();date=["0000".substr((year+"").length)+year,_d8a(_d88[_d8c+"Month"]()+1),_d8a(_d88[_d8c+"Date"]())].join("-");}_d8b.push(date);if(_d89.selector!="date"){var time=[_d8a(_d88[_d8c+"Hours"]()),_d8a(_d88[_d8c+"Minutes"]()),_d8a(_d88[_d8c+"Seconds"]())].join(":");var _d8d=_d88[_d8c+"Milliseconds"]();if(_d89.milliseconds){time+="."+(_d8d<100?"0":"")+_d8a(_d8d);}if(_d89.zulu){time+="Z";}else{if(_d89.selector!="time"){var _d8e=_d88.getTimezoneOffset();var _d8f=Math.abs(_d8e);time+=(_d8e>0?"-":"+")+_d8a(Math.floor(_d8f/60))+":"+_d8a(_d8f%60);}}_d8b.push(time);}return _d8b.join("T");};return _d7f;});},"dijit/_CssStateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(_d90,_d91,dom,_d92,has,lang,on,_d93,_d94,win,_d95,_d96){var _d97=_d91("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_d90.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes||{}){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_d98){if(!this.disabled){switch(_d98.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",true);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",false);break;}}},_setStateClass:function(){var _d99=this.baseClass.split(" ");function _d9a(_d9b){_d99=_d99.concat(_d90.map(_d99,function(c){return c+_d9b;}),"dijit"+_d9b);};if(!this.isLeftToRight()){_d9a("Rtl");}var _d9c=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_d9a(_d9c);}if(this.state){_d9a(this.state);}if(this.selected){_d9a("Selected");}if(this._opened){_d9a("Opened");}if(this.disabled){_d9a("Disabled");}else{if(this.readOnly){_d9a("ReadOnly");}else{if(this.active){_d9a("Active");}else{if(this.hovering){_d9a("Hover");}}}}if(this.focused){_d9a("Focused");}var tn=this.stateNode||this.domNode,_d9d={};_d90.forEach(tn.className.split(" "),function(c){_d9d[c]=true;});if("_stateClasses" in this){_d90.forEach(this._stateClasses,function(c){delete _d9d[c];});}_d90.forEach(_d99,function(c){_d9d[c]=true;});var _d9e=[];for(var c in _d9d){_d9e.push(c);}tn.className=_d9e.join(" ");this._stateClasses=_d99;},_subnodeCssMouseEvent:function(node,_d9f,evt){if(this.disabled||this.readOnly){return;}function _da0(_da1){_d92.toggle(node,_d9f+"Hover",_da1);};function _da2(_da3){_d92.toggle(node,_d9f+"Active",_da3);};function _da4(_da5){_d92.toggle(node,_d9f+"Focused",_da5);};switch(evt.type){case "mouseover":case "MSPointerOver":case "pointerover":_da0(true);break;case "mouseout":case "MSPointerOut":case "pointerout":_da0(false);_da2(false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":_da2(true);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":_da2(false);break;case "focus":case "focusin":_da4(true);break;case "blur":case "focusout":_da4(false);break;}},_trackMouseState:function(node,_da6){node._cssState=_da6;}});_d93(function(){function _da7(evt,_da8,_da9){if(_da9&&dom.isDescendant(_da9,_da8)){return;}for(var node=_da8;node&&node!=_da9;node=node.parentNode){if(node._cssState){var _daa=_d96.getEnclosingWidget(node);if(_daa){if(node==_daa.domNode){_daa._cssMouseEvent(evt);}else{_daa._subnodeCssMouseEvent(node,node._cssState,evt);}}}}};var body=win.body(),_dab;on(body,_d94.over,function(evt){_da7(evt,evt.target,evt.relatedTarget);});on(body,_d94.out,function(evt){_da7(evt,evt.target,evt.relatedTarget);});on(body,_d95.press,function(evt){_dab=evt.target;_da7(evt,_dab);});on(body,_d95.release,function(evt){_da7(evt,_dab);_dab=null;});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _dac=_d96.getEnclosingWidget(node);if(_dac){_dac._subnodeCssMouseEvent(node,node._cssState,evt);}}});});return _d97;});},"dijit/form/DropDownButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html","../a11yclick"],function(_dad,lang,_dae,_daf,_db0,_db1,_db2,_db3,_db4){return _dad("dijit.form.DropDownButton",[_db1,_db2,_db3],{baseClass:"dijitDropDownButton",templateString:_db4,_fillContent:function(){if(this.srcNodeRef){var _db5=_dae("*",this.srcNodeRef);this.inherited(arguments,[_db5[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _db6=_dae("[widgetId]",this.dropDownContainer)[0];if(_db6){this.dropDown=_daf.byNode(_db6);}delete this.dropDownContainer;}if(this.dropDown){_db0.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _db7=this.dropDown;return (!!_db7&&(!_db7.href||_db7.isLoaded));},loadDropDown:function(_db8){var _db9=this.dropDown;var _dba=_db9.on("load",lang.hitch(this,function(){_dba.remove();_db8();}));_db9.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html","../a11yclick"],function(_dbb,_dbc,_dbd,has,_dbe,lang,_dbf,_dc0,_dc1,_dc2){if(has("dijit-legacy-requires")){_dbf(0,function(){var _dc3=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_dbb(_dc3);});}var _dc4=_dbc("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_dc0,_dc1],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_dc2,_setValueAttr:"valueNode",_setNameAttr:function(name){if(this.valueNode){this.valueNode.setAttribute("name",name);}},_fillContent:function(_dc5){if(_dc5&&(!this.params||!("label" in this.params))){var _dc6=lang.trim(_dc5.innerHTML);if(_dc6){this.label=_dc6;}}},_setShowLabelAttr:function(val){if(this.containerNode){_dbd.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_dc7){_dbe.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_dc7);},_setLabelAttr:function(_dc8){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_dc4=_dbc("dijit.form.Button",_dc4,{_setLabelAttr:function(_dc9){this.inherited(arguments);if(this.titleNode.title){this.applyTextDir(this.titleNode,this.titleNode.title);}},_setTextDirAttr:function(_dca){if(this._created&&this.textDir!=_dca){this._set("textDir",_dca);this._setLabelAttr(this.label);}}});}return _dc4;});},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_dcb,has,_dcc,_dcd,_dce,_dcf,_dd0,_dd1){if(has("dijit-legacy-requires")){_dcd(0,function(){var _dd2=["dijit/form/_FormValueWidget"];require(_dd2);});}return _dcb("dijit.form._FormWidget",[_dce,_dd0,_dcf,_dd1],{setDisabled:function(_dd3){_dcc.deprecated("setDisabled("+_dd3+") is deprecated. Use set('disabled',"+_dd3+") instead.","","2.0");this.set("disabled",_dd3);},setValue:function(_dd4){_dcc.deprecated("dijit.form._FormWidget:setValue("+_dd4+") is deprecated.  Use set('value',"+_dd4+") instead.","","2.0");this.set("value",_dd4);},getValue:function(){_dcc.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);}});});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_dd5,_dd6,_dd7,_dd8,lang,_dd9,on,has,_dda,a11y){return _dd6("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_ddb){this._set("disabled",_ddb);_dd7.set(this.focusNode,"disabled",_ddb);if(this.valueNode){_dd7.set(this.valueNode,"disabled",_ddb);}this.focusNode.setAttribute("aria-disabled",_ddb?"true":"false");if(_ddb){this._set("hovering",false);this._set("active",false);var _ddc="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_dd5.forEach(lang.isArray(_ddc)?_ddc:[_ddc],function(_ddd){var node=this[_ddd];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _dde=this.own(on(this.focusNode,"focus",function(){_ddf.remove();_dde.remove();}))[0];var _de0=has("pointer-events")?"pointerup":has("MSPointer")?"MSPointerUp":has("touch-events")?"touchend, mouseup":"mouseup";var _ddf=this.own(on(this.ownerDocumentBody,_de0,lang.hitch(this,function(evt){_ddf.remove();_dde.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_dda.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_dd8.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_de1,_de2){if(this._lastValueReported==undefined&&(_de2===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_de1;}this._pendingOnChange=this._pendingOnChange||(typeof _de1!=typeof this._lastValueReported)||(this.compare(_de1,this._lastValueReported)!=0);if((this.intermediateChanges||_de2||_de2===undefined)&&this._pendingOnChange){this._lastValueReported=_de1;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_de1);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_de3,dom,has,_de4){var _de5=_de3("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}var _de6=e.defaultPrevented;if(!_de6&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _de7=_de4.byNode(node);if(_de7&&typeof _de7._onSubmit=="function"){_de7._onSubmit(e);e.preventDefault();_de6=true;break;}}}return !_de6;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_de8){this._set("label",_de8);var _de9=this.containerNode||this.focusNode;_de9.innerHTML=_de8;}});if(has("dojo-bidi")){_de5=_de3("dijit.form._ButtonMixin",_de5,{_setLabelAttr:function(){this.inherited(arguments);var _dea=this.containerNode||this.focusNode;this.applyTextDir(_dea);}});}return _de5;});},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_deb,_dec,dom,_ded,_dee,_def,_df0,has,keys,lang,on,_df1,_df2,_df3,_df4,_df5){return _deb("dijit._HasDropDown",_df5,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"&&e.type!="pointerdown"){e.preventDefault();}this.own(on.once(this.ownerDocument,_df1.release,lang.hitch(this,"_onDropDownMouseUp")));this.toggleDropDown();},_onDropDownMouseUp:function(e){var _df6=this.dropDown,_df7=false;if(e&&this._opened){var c=_def.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_df7){if(_dee.contains(t,"dijitPopup")){_df7=true;}else{t=t.parentNode;}}if(_df7){t=e.target;if(_df6.onItemClick){var _df8;while(t&&!(_df8=_df2.byNode(t))){t=t.parentNode;}if(_df8&&_df8.onClick&&_df8.getParent){_df8.getParent().onItemClick(_df8,e);}}return;}}}if(this._opened){if(_df6.focus&&(_df6.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_df6.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}},_onDropDownClick:function(e){if(this._stopClickEvents){e.stopPropagation();e.preventDefault();}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _df9={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_dee.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_df9+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _dfa=this.focusNode||this.domNode;this.own(on(this._buttonNode,_df1.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_dfa,"keydown",lang.hitch(this,"_onKey")),on(_dfa,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_dfb=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){e.stopPropagation();e.preventDefault();return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();e.stopPropagation();e.preventDefault();}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_dfb.tagName||"").toLowerCase()!=="input"||(_dfb.type&&_dfb.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;e.stopPropagation();e.preventDefault();}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_dfc){_dfc();},loadAndOpenDropDown:function(){var d=new _dec(),_dfd=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_dfd);}else{_dfd();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown(true);}},openDropDown:function(){var _dfe=this.dropDown,_dff=_dfe.domNode,_e00=this._aroundNode||this.domNode,self=this;var _e01=_df4.open({parent:this,popup:_dfe,around:_e00,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_ded.set(self._popupStateNode,"popupActive",false);_dee.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});if(this.forceWidth||(this.autoWidth&&_e00.offsetWidth>_dfe._popupWrapper.offsetWidth)){var _e02=_e00.offsetWidth-_dfe._popupWrapper.offsetWidth;var _e03={w:_dfe.domNode.offsetWidth+_e02};if(lang.isFunction(_dfe.resize)){_dfe.resize(_e03);}else{_def.setMarginBox(_dff,_e03);}if(_e01.corner[1]=="R"){_dfe._popupWrapper.style.left=(_dfe._popupWrapper.style.left.replace("px","")-_e02)+"px";}}_ded.set(this._popupStateNode,"popupActive","true");_dee.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_dfe.id);if(_dff.getAttribute("role")!=="presentation"&&!_dff.getAttribute("aria-labelledby")){_dff.setAttribute("aria-labelledby",this.id);}return _e01;},closeDropDown:function(_e04){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(_e04&&this.focus){this.focus();}_df4.close(this.dropDown);this._opened=false;}}});});},"mxui/widget/DateInput":function(){define(["mxui/widget/_FormWidget","mxui/widget/DatePicker","mxui/dom","mendix/lang","dojo/_base/lang","dojo/_base/declare"],function(_e05,_e06,_e07,_e08,_e09,_e0a){var _e0b=_e0a(_e05,{declaredClass:"mxui.widget.DateInput",placeholder:"",selector:"",format:"",_datepicker:null,_rdparams:null,buildRendering:function(){this._datepicker=new _e06({placeholder:this.placeholder,selector:this.selector,format:this.format});this.editNode=this._datepicker.domNode;this._rdparams={selector:this.selector=="custom"?"date":this.selector,datePattern:this.format};this.inherited(arguments);},startup:function(){this.inherited(arguments);this._datepicker.startup();},connectEvents:function(){this.connect(this._datepicker,"onChange","onChange");for(var evt in this.events){if(evt!="change"){this.connect(this._datepicker,"on"+_e08.capitalize(evt),_e09.hitch(this,"handleEvent",evt));}}},validate:function(){var _e0c=this.inherited(arguments);if(_e0c!=null){return _e0c;}else{if(this.get("value")==null){return window.mx.ui.translate("mendix.lib.Validations","invalid_date");}}},uninitialize:function(){this._datepicker.destroy();},_getValueAttr:function(){return this._datepicker.get("value");},_setValueAttr:function(_e0d){this._datepicker.set("value",_e0d);var _e0e=window.mx.parser.formatValue(_e0d,"datetime",this._rdparams);this.readNode.innerHTML=_e0e||"&nbsp;";}});return _e0b;});},"mxui/widget/EnumSelect":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/_base/declare"],function(_e0f,_e10,_e11){var _e12=_e11(_e0f,{declaredClass:"mxui.widget.EnumSelect",_keys:null,buildRendering:function(){var $=_e10.create,meta=window.mx.meta.getEntity(this._entity),keys=this._keys=meta.getEnumKVPairs(this._attribute),node=this.editNode=$("select",{"class":"form-control"},$("option",{value:""},""));for(var key in keys){node.appendChild($("option",{value:key},keys[key]));}this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(_e13){this.editNode.value=_e13;var key=this._keys[_e13];if(key){_e10.text(this.readNode,key);}else{this.readNode.innerHTML="&nbsp;";}}});return _e12;});},"mxui/widget/NumberInput":function(){define(["mxui/widget/_FormWidget","mxui/dom","mendix/logger","mendix/validator","dojo/i18n","dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare"],function(_e14,dom,_e15,_e16,_e17,_e18,_e19,_e1a){var $=dom.create;var _e1b=_e1a(_e14,{declaredClass:"mxui.widget.NumberInput",formatted:false,precision:"",placeholder:"",_type:"",_opts:null,_numloc:null,_mouseupcon:null,_previousValue:"",_mouseDown:false,buildRendering:function(){this.editNode=$("input",{"class":"form-control",type:"text",placeholder:this.placeholder});var meta=window.mx.meta.getEntity(this._entity);this._type=meta.getAttributeType(this._attribute);this._opts={groups:this.formatted};if(this.precision!==""){this._opts.places=this.precision;}this._locale=_e17.getLocalization("dojo.cldr","number",_e18.locale);this.inherited(arguments);},connectEvents:function(){this.connect(this.editNode,"focus","onFocus");this.connect(this.editNode,"blur","onBlur");this.connect(this.editNode,"mousedown","onMouseDown");this.connect(this.editNode,"keydown","onKeyDown");},_getValueAttr:function(){return window.mx.parser.parseValue2(this.editNode.value,this._type,this._opts);},_setValueAttr:function(_e1c){var _e1d=window.mx.parser.formatValue(_e1c,this._type,this._opts);this.editNode.value=_e1d;this.readNode.innerHTML=_e1d||"&nbsp;";this._previousValue=this.get("value");},_match:function(_e1e,_e1f,pos){if(_e1e==_e1f){return Math.min(_e1e.length,pos);}var _e20=0,len=Math.min(_e1f.length,pos),_e21,_e22;for(var i=0;i<len&&_e20<_e1e.length;++i){_e21=_e1f[i];_e22=_e1e[_e20];if(_e21==_e22){++_e20;}}return _e20;},onMouseDown:function(){var self=this,_e23,_e24;this._mouseDown=true;var _e25=function(){self._mouseDown=false;self.disconnect(_e24);self.disconnect(_e23);};_e23=this.connect(document,"mouseup",_e25);_e24=this.connect(window,"blur",function(){_e25();this._disconnectFocusMouseUp();});},onFocus:function(){this.handleEvent("focus");var node=this.editNode,_e26=node.value,_e27=window.mx.parser.parseValue2(_e26,this._type);if(_e27===null){return;}var _e28=_e26.split(this._locale.group).join("");if(_e28!=_e26){setTimeout(_e19.hitch(this,function(){this._disconnectFocusMouseUp();var sel=dom.getSelection(node);if(sel.start===0&&sel.end==_e26.length){node.value=_e28;dom.selectTextRange(node,0,_e28.length);}else{if(this._mouseDown){this._mouseupcon=this.connect(document,"mouseup",function(){setTimeout(_e19.hitch(this,function(){sel=dom.getSelection(node);node.value=_e28;var _e29=this._match(_e28,_e26,sel.start),end=this._match(_e28,_e26,sel.end);dom.selectTextRange(node,_e29,end);}),0);this._disconnectFocusMouseUp();});}else{node.value=_e28;}}}),0);}},onKeyDown:function(_e2a){if(_e2a.keyCode===110){_e2a.preventDefault();var _e2b=this._locale["decimal"];dom.insertAtCaret(this.editNode,_e2b);}},onBlur:function(){var _e2c=this.get("value");if(_e2c===null){this.onChange();}else{var _e2d=_e2c===""?this._previousValue==="":(this._previousValue!==""&&_e2c.eq(this._previousValue));if(!_e2d){this.onChange();}else{this.set("value",this._previousValue);}}this.handleEvent("blur");},validate:function(){var _e2e=this.inherited(arguments),_e2f=this.get("value");if(_e2e!=null){return _e2e;}else{if(_e2f==null){return window.mx.ui.translate("mendix.lib.Validations",this.getType()=="Currency"?"invalid_currency":"invalid_number");}else{return window.mx.ui.validate(_e2f,this.getType());}}},_disconnectFocusMouseUp:function(){if(this._mouseupcon){this.disconnect(this._mouseupcon);this._mouseupcon=null;}}});return _e1b;});},"mxui/widget/PasswordInput":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/dom-attr","dojo/_base/declare"],function(_e30,dom,_e31,_e32){var $=dom.create;var _e33=_e32(_e30,{declaredClass:"mxui.widget.PasswordInput",maxLength:0,placeholder:"",buildRendering:function(){var _e34=this.editNode=$("input",{"class":"form-control",type:"password",placeholder:this.placeholder});if(this.maxLength>0){_e31.set(_e34,"maxlength",this.maxLength);}this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(_e35){this.editNode.value=_e35;}});return _e33;});},"mxui/widget/TextArea":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/dom-geometry","dojo/sniff","dojo/_base/lang","dojo/_base/declare"],function(_e36,dom,_e37,_e38,_e39,_e3a,_e3b,_e3c,_e3d,_e3e){var $=dom.create;var _e3f=_e3e(_e36,{declaredClass:"mxui.widget.TextArea",placeholder:"",counterMsg:"",textTooLongMsg:"",rows:0,maxLength:0,_cloneNode:null,_countNode:null,buildRendering:function(){var _e40=this.editNode=$("textarea",{"class":"form-control mx-textarea-input",placeholder:this.placeholder});this.inherited(arguments);if(this.counterMsg){var _e41=this._countNode=$("label",{"class":"mx-textarea-counter"});_e37.place(_e41,_e40,"after");this._updateCount();this.connect(_e40,"keyup","_updateCount");}_e38.add(this.domNode,"mx-textarea");if(this.maxLength>0){_e39.set(_e40,"maxlength",this.maxLength);}if(this.rows===0){var _e42=this._cloneNode=_e3d.clone(_e40);_e38.add(_e42,"mx-textarea-clone");_e39.set(_e42,"tabindex",-1);this.connect(_e40,"keyup","resize");this.connect(this.mxform,"resize","resize");}else{_e38.add(_e40,"mx-textarea-input-noresize");_e39.set(_e40,"rows",this.rows);}},resize:function(){if(!this._cloneNode){return;}this._cloneNode.value=this.editNode.value+"\n\n";_e37.place(this._cloneNode,this.domNode,"first");this._cloneNode.scrollTop=100000;var _e43=Math.max(this._cloneNode.scrollHeight,28);_e3a.set(this.editNode,"height",_e43+"px");dom.orphan(this._cloneNode);},validate:function(){var _e44=this.inherited(arguments);if(_e44!=null){return _e44;}else{if(this.get("value")==null){return this.textTooLongMsg||window.mx.ui.translate("mendix.lib.Validations","value_too_long");}}},_updateCount:function(){dom.text(this._countNode,this.counterMsg.replace("{1}",this.editNode.value.length).replace("{2}",this.maxLength));},_getValueAttr:function(){var _e45=this.editNode.value;return this.maxLength&&_e45.length>this.maxLength?null:_e45;},_setValueAttr:function(_e46){this.editNode.value=_e46;this.readNode.innerHTML=_e46?dom.convertNlToBr(dom.escapeString(_e46)):"&nbsp;";this.resize();}});return _e3f;});},"mxui/widget/TextInput":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/dom-attr","dojo/_base/declare"],function(_e47,dom,_e48,_e49){var $=dom.create;var _e4a=_e49(_e47,{declaredClass:"mxui.widget.TextInput",maxLength:0,placeholder:"",mask:"",buildRendering:function(){this.editNode=$("input",{"class":"form-control",type:"text",placeholder:this.placeholder});if(this.maxLength>0){_e48.set(this.editNode,"maxlength",this.maxLength);}this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(_e4b){this.editNode.value=_e4b;this.readNode.innerHTML=_e4b?dom.escapeString(_e4b):"&nbsp;";}});return _e4a;});},"mxui/widget/Navbar":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/lib/menuAnchorFactory","mxui/dom","mendix/lang","dojo/_base/event","dojo/dom-class","dojo/on","dojo/aspect","dojo/_base/lang","dojo/_base/declare"],function(_e4c,_e4d,_e4e,_e4f,lang,_e50,_e51,_e52,_e53,_e54,_e55){var $=_e4f.create;function _e56(_e57){var map={};_e58(_e57);return map;function _e58(_e59){lang.forEach(_e59,function(item){map[item.id]=item;_e58(item.items);});};};var _e5a=_e55([_e4c,_e4d],{declaredClass:"mxui.widget.Navbar",menuID:"",_view:null,_itemMap:null,_expandedItem:"",_currentSelection:"",_initialSelection:"",buildRendering:function(){var _e5b=window.mx.ui.getMenu(this.menuID);this._itemMap=_e56(_e5b);this._view=new View(this,_e5b);this.domNode=this._view.domNode;this._view.subscribeToClick(_e54.hitch(this,"_onClick"));this._view.subscribeToGlobalClick(_e54.hitch(this,"_onClickOutside"));this._restoreSelection();this.connect(this.mxform,"onNavigation",this._restoreSelection);},_onClickOutside:function(){this._view.collapseAll();this._expandedItem="";},_onClick:function(_e5c){var item=this._itemMap[_e5c];var _e5d=this._expandedItem;this._view.collapseAll();this._expandedItem="";if(item.action){this._view.deselectAll();this._view.select(_e5c);this._currentSelection=_e5c;if(typeof item.action==="function"){item.action();}else{window.mx.ui.execute(item.action);}}else{if(_e5d!=_e5c){this._expandedItem=_e5c;this._view.expand(_e5c);}}},_restoreSelection:function(){this._currentSelection=this.getState("selectedItem",this._currentSelection);this._initialSelection=this._currentSelection;this._view.deselectAll();this._view.select(this._currentSelection);},storeState:function(_e5e){_e5e("selectedItem",this._initialSelection);}});var View=_e55(null,{_handlerScope:null,domNode:null,constructor:function(_e5f,_e60){this._handlerScope=_e5f;this._render(_e60);},_render:function(_e61){var _e62=$("ul",{"class":"nav navbar-nav"});lang.forEach(_e61,function(item,_e63){_e62.appendChild(_e64(item,_e63));});this.domNode=$("div",{"class":"navbar navbar-default mx-navbar",tabindex:-1},_e62);function _e64(item){var _e65=$("li",{"class":"mx-navbar-item"},_e66(item));if(item.items){var _e67=$("ul",{"class":"dropdown-menu mx-navbar-submenu"});lang.forEach(item.items,function(_e68){_e67.appendChild($("li",{"class":"mx-navbar-subitem"},_e66(_e68)));});_e51.add(_e65,"dropdown");_e65.appendChild(_e67);}return _e65;};function _e66(item){var _e69=_e4e.create(item);_e69.setAttribute("data-item-id",item.id);if(item.items){_e69.appendChild($("b",{"class":"caret"}));}return _e69;};},subscribeToClick:function(_e6a){this._handlerScope.own(_e52(this.domNode,"a:click",function(e){_e50.stop(e);_e6a(this.getAttribute("data-item-id"));}));},subscribeToGlobalClick:function(_e6b){this._handlerScope.own(_e52(window.document,"click",function(){_e6b();}));},expand:function(_e6c){var _e6d=this.domNode.querySelector("[data-item-id='"+_e6c+"']");if(_e6d){_e51.add(_e6d.parentNode,"open");}},deselectAll:function(){var _e6e=this.domNode.querySelector("li.active");if(_e6e){_e51.remove(_e6e,"active");}},select:function(_e6f){var _e70=this.domNode.querySelector("[data-item-id='"+_e6f+"']");if(_e70){_e51.add(_e70.parentNode,"active");}},collapseAll:function(){var _e71=this.domNode.querySelector("li.open");if(_e71){_e51.remove(_e71,"open");}}});return _e5a;});},"mxui/lib/menuAnchorFactory":function(){define(["mxui/dom","webcore/url-helpers"],function(dom,_e72){var $=dom.create;var _e73={create:function(item){var _e74=$("a",{href:"#","class":"mx-name-"+item.id});if(item.iconClass){_e74.appendChild($("span",{"class":"glyphicon "+item.iconClass}));}else{if(item.iconUrl){_e74.appendChild($("img",{src:_e72.getStaticResourceUrlFromPath(item.iconUrl)}));}}_e74.appendChild(document.createTextNode(" "+item.caption));return _e74;}};return _e73;});},"mxui/widget/NavigationTree":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/lib/menuAnchorFactory","mxui/dom","mendix/lang","dojo/_base/event","dojo/on","dojo/dom-class","dojo/_base/lang","dojo/_base/declare"],function(_e75,_e76,_e77,dom,lang,_e78,_e79,_e7a,_e7b,_e7c){var $=dom.create;function _e7d(_e7e){var map={};_e7f(_e7e);return map;function _e7f(_e80){lang.forEach(_e80,function(item){map[item.id]=item;_e7f(item.items);});};};var _e81=_e7c([_e75,_e76],{declaredClass:"mxui.widget.NavigationTree",menuID:"",_view:null,_itemMap:{},_expandedItems:{},_currentActive:null,_initialActive:null,buildRendering:function(){var _e82=window.mx.ui.getMenu(this.menuID);this._itemMap=_e7d(_e82);this._view=new View(this,_e82);this.domNode=this._view.domNode;this._view.subscribeToClick(_e7b.hitch(this,"_onClick"));this._expandedItems=this.getState("expandedItems",{});lang.forEach(this._expandedItems,function(_e83,_e84){this._view.expand(_e84);},this);this._restoreSelection();this.connect(this.mxform,"onNavigation",this._restoreSelection);},_onClick:function(_e85){var item=this._itemMap[_e85];if(item.action){this._view.deactivateAll();this._view.activate(_e85);this._currentActive=_e85;if(typeof item.action==="function"){item.action();}else{window.mx.ui.execute(item.action,{context:this.mxcontext});}}else{if(_e85 in this._expandedItems){this._view.collapse(_e85);delete this._expandedItems[_e85];}else{this._view.expand(_e85);this._expandedItems[_e85]=true;}}},_restoreSelection:function(){this._currentActive=this.getState("activeItem",this._currentActive);this._initialActive=this._currentActive;this._view.deactivateAll();if(this._currentActive){this._view.activate(this._currentActive);}},storeState:function(_e86){_e86("expandedItems",this._expandedItems);_e86("activeItem",this._initialActive);}});var View=_e7c(null,{_handlerScope:null,domNode:null,constructor:function(_e87,_e88){this._handlerScope=_e87;this._render(_e88);},_render:function(_e89){this.domNode=$("div",{"class":"mx-navigationtree",tabindex:-1},$("div",{"class":"navbar-inner"},this._buildMenu(_e89)));},_buildMenu:function(_e8a){var _e8b=$("ul");lang.forEach(_e8a,function(item){var _e8c=_e77.create(item);_e7a.add(_e8c,"dropdown");_e8c.setAttribute("data-item-id",item.id);var _e8d=$("li",_e8c);_e8b.appendChild(_e8d);if(item.items){_e7a.add(_e8d,"mx-navigationtree-has-items mx-navigationtree-collapsed");_e8d.appendChild(this._buildMenu(item.items));_e8c.appendChild($("span",{"class":"caret"}));}},this);return _e8b;},subscribeToClick:function(_e8e){this._handlerScope.own(_e79(this.domNode,"a:click",function(e){_e78.stop(e);_e8e(this.getAttribute("data-item-id"));}));},expand:function(_e8f){_e7a.remove(this._getItemById(_e8f).parentNode,"mx-navigationtree-collapsed");},collapse:function(_e90){_e7a.add(this._getItemById(_e90).parentNode,"mx-navigationtree-collapsed");},deactivateAll:function(){lang.forEach(this.domNode.querySelectorAll(".active"),function(item){_e7a.remove(item,"active");});},activate:function(_e91){_e7a.add(this._getItemById(_e91),"active");},_getItemById:function(_e92){return this.domNode.querySelector("[data-item-id='"+_e92+"']");}});return _e81;});},"mxui/widget/HorizontalScrollContainer":function(){define(["mxui/widget/_ScrollContainer","mxui/mixin/_Stateful","dojo/_base/declare","dojo/_base/lang","mxui/lib/sidebarRenderer/PushContentAside","mxui/lib/sidebarRenderer/SlideOverContent","mxui/lib/sidebarRenderer/ShrinkContent"],function(_e93,_e94,_e95,_e96,_e97,_e98,_e99){var _e9a={pushContentAside:_e97,slideOverContent:_e98,shrinkContent:_e99};var _e9b=_e95([_e93,_e94],{declaredClass:"mxui.widget.HorizontalScrollContainer",_toggleRegion:null,_sidebarRenderer:null,startup:function(){this.inherited(arguments);for(var _e9c in this._regions){var _e9d=this._regions[_e9c];_e9d.width=_e9d.node.offsetWidth;if(_e9d.toggleMode){this._toggleRegion=_e9d;}}if(this._toggleRegion&&this.mxform.place==="content"){var _e9e=_e9a[this._toggleRegion.toggleMode];this._sidebarRenderer=new _e9e(this.domNode,this._toggleRegion.position,this._regions);if(this.getState("sidebarVisible",this._toggleRegion.initiallyOpen)){this._sidebarRenderer.show(true);}this.listen("toggleSidebar",this._toggleSidebar);if(this._sidebarRenderer.closeOnBlur){this.connect(this.mxform,"onPersistViewState",function(){this._sidebarRenderer.hide();});}}},resize:function(box){if(this._sidebarRenderer){this._sidebarRenderer.resize();}var _e9f=box?box.h:undefined;this._resizeRegions(this._regions,_e9f);if(this._sidebarRenderer){this._sidebarRenderer.resize();}},_toggleSidebar:function(){if(this._sidebarRenderer.isVisible()){this._sidebarRenderer.hide();}else{this._sidebarRenderer.show();}},storeState:function(_ea0){if(this._sidebarRenderer&&!this._sidebarRenderer.closeOnBlur){_ea0("sidebarVisible",this._sidebarRenderer.isVisible());}},uninitialize:function(){if(this._sidebarRenderer){this._sidebarRenderer.destroy();}}});return _e9b;});},"mxui/widget/_ScrollContainer":function(){define(["dojo/_base/lang","mendix/lang","mxui/widget/_WidgetBase","dojo/_base/declare"],function(_ea1,lang,_ea2,_ea3){var _ea4=_ea3(_ea2,{config:null,fixed:false,_regions:null,startup:function(){this._regions={};lang.forEach(this.domNode.children,function(_ea5,i){var _ea6=this.config[i],_ea7=_ea5.children[0];this._regions[_ea6.position]=_ea1.mixin({node:_ea5,wrapper:_ea7},_ea6);},this);},_resizeRegions:function(_ea8,_ea9){for(var _eaa in _ea8){var _eab=_ea8[_eaa].wrapper;if(_ea9!=null){var _eac=_ea9>=100,_ead=Math.max(0,_ea9)+"px";if(this.fixed){_eab.style.height=_eac?_ead:"auto";this.resizeChildren(_eab,!_eac);}else{_eab.style.minHeight=_eac?_ead:"";this.resizeChildren(_eab,true);}}else{_eab.style.height="auto";this.resizeChildren(_eab,true);}}}});return _ea4;});},"mxui/lib/sidebarRenderer/PushContentAside":function(){define(["dojo/dom-style","dojo/dom-class","dojo/_base/declare","mxui/lib/sidebarRenderer/_SidebarRenderer"],function(_eae,_eaf,_eb0,_eb1){var _eb2=_eb0(_eb1,{containerClass:"push",_oppositeRegion:null,constructor:function(){this._toggleNode=this._containerNode;var _eb3=this._regions[this._toggleRegion.position==="left"?"right":"left"];if(_eb3){var _eb4=_eb3.node.style.width;_eb3.cssWidth=parseInt(_eb4,10);_eb3.cssUnit=_eb4.indexOf("%")!=-1?"%":"px";this._oppositeRegion=_eb3;}},show:function(){this.inherited(arguments);this._transitionTo(this._containerNode,"left",this._computeLeftPosition(true));},hide:function(){this.inherited(arguments);this._transitionTo(this._containerNode,"left",this._computeLeftPosition(false));},resize:function(){this.inherited(arguments);_eae.set(this._containerNode,"width","");_eae.set(this._toggleRegion.node,"display","none");var _eb5=this._containerNode.offsetWidth;if(this._oppositeRegion&&this._oppositeRegion.cssUnit==="%"){_eae.set(this._oppositeRegion.node,"width",this._oppositeRegion.cssWidth*_eb5/100+"px");}var _eb6=this._computeRegionWidth();_eae.set(this._toggleRegion.node,{display:"",width:_eb6+"px"});this._toggleRegion.width=this._toggleRegion.node.offsetWidth;_eae.set(this._containerNode,{width:_eb5+this._toggleRegion.width+"px",left:this._computeLeftPosition(this.isVisible())});}});return _eb2;});},"mxui/lib/sidebarRenderer/_SidebarRenderer":function(){define(["mxui/dom","dojo/on","dojo/touch","dojo/dom-geometry","dojo/dom-class","dojo/dom-style","dojo/_base/declare","dijit/Destroyable"],function(dom,_eb7,_eb8,_eb9,_eba,_ebb,_ebc,_ebd){var _ebe=_ebc(_ebd,{_containerNode:null,_toggleNode:null,_toggleRegion:null,_regions:null,_isVisible:false,closeOnBlur:true,containerClass:"",constructor:function(_ebf,_ec0,_ec1){this._toggleRegion=_ec1[_ec0];this._containerNode=_ebf;this._regions=_ec1;var _ec2=this._toggleRegion.node.style.width;this._toggleRegion.cssWidth=parseInt(_ec2,10);this._toggleRegion.cssUnit=_ec2.indexOf("%")!=-1?"%":"px";_eba.add(this._toggleRegion.node,"mx-scrollcontainer-toggleable");_eba.add(this._containerNode,"mx-scrollcontainer-"+this.containerClass);_ebb.set(_ebf.parentNode,"overflowX","hidden");this._toggleRegion.node.setAttribute("focusIndex",-1);if(this.closeOnBlur){var self=this;this.own(_eb7(_ebf,_eb8.press,function(e){var _ec3=e.target||e.srcElement;if(self.isVisible()&&!self._toggleRegion.node.contains(_ec3)){self.hide();}}));}},show:function(_ec4){this._isVisible=true;_eba.add(this._containerNode,"mx-scrollcontainer-open");_eba.remove(this._toggleNode,"mx-scrollcontainer-move-out");if(!_ec4){_eba.add(this._toggleNode,"mx-scrollcontainer-move-in");}},hide:function(){this._isVisible=false;_eba.remove(this._containerNode,"mx-scrollcontainer-open");_eba.replace(this._toggleNode,"mx-scrollcontainer-move-out","mx-scrollcontainer-move-in");},resize:function(){},_computeRegionWidth:function(){if(this._toggleRegion.cssUnit==="%"){var _ec5=this._containerNode.offsetWidth;return this._toggleRegion.cssWidth*_ec5/100;}else{return this._toggleRegion.cssWidth;}},_computeLeftPosition:function(_ec6){var rtl=window.mx.ui.isRtl(),_ec7;if(this._toggleRegion.position==="left"){if(_ec6){_ec7=0;}else{_ec7=rtl?this._toggleRegion.width:-this._toggleRegion.width;}}else{if(!_ec6){_ec7=0;}else{_ec7=rtl?this._toggleRegion.width:-this._toggleRegion.width;}}return _ec7+"px";},_triggersTransition:function(node,_ec8,_ec9){if(node.style[_ec8]===_ec9){return false;}var _eca=_ebb.get(node,"transitionProperty");return _eca===_ec8||_eca==="all";},_transitionTo:function(node,_ecb,_ecc){var self=this,_ecd=this._triggersTransition(node,_ecb,_ecc);node.style[_ecb]=_ecc;if(this._transitionEndHandler){_ece();}if(_ecd){this._transitionEndHandler=_eb7(node,"transitionend",function(e){if(e.target!==node){return;}_ece();_ecf();});}else{_ecf();}function _ecf(){_eba.remove(self._toggleNode,"mx-scrollcontainer-move-in mx-scrollcontainer-move-out");};function _ece(){self._transitionEndHandler.remove();self._transitionEndHandler=null;};},isVisible:function(){return this._isVisible;}});return _ebe;});},"mxui/lib/sidebarRenderer/SlideOverContent":function(){define(["dojo/dom-style","dojo/dom-class","dojo/_base/declare","mxui/lib/sidebarRenderer/_SidebarRenderer"],function(_ed0,_ed1,_ed2,_ed3){var _ed4=_ed2(_ed3,{containerClass:"slide",constructor:function(){this._toggleNode=this._toggleRegion.wrapper;_ed0.set(this._toggleRegion.node,"width","0");},show:function(){this.inherited(arguments);this._transitionTo(this._toggleRegion.wrapper,"left",this._computeLeftPosition(true));},hide:function(){this.inherited(arguments);this._transitionTo(this._toggleRegion.wrapper,"left",this._computeLeftPosition(false));},resize:function(){this.inherited(arguments);this._toggleRegion.width=this._computeRegionWidth();_ed0.set(this._toggleRegion.wrapper,"height","");_ed0.set(this._toggleRegion.wrapper,{width:this._toggleRegion.width+"px",height:this._toggleRegion.node.offsetHeight+"px",left:this._computeLeftPosition(this.isVisible())});}});return _ed4;});},"mxui/lib/sidebarRenderer/ShrinkContent":function(){define(["dojo/dom-style","dojo/dom-class","dojo/_base/declare","mxui/lib/sidebarRenderer/_SidebarRenderer"],function(_ed5,_ed6,_ed7,_ed8){var _ed9=_ed7(_ed8,{closeOnBlur:false,containerClass:"shrink",constructor:function(){this._toggleNode=this._toggleRegion.node;_ed5.set(this._toggleRegion.node,"width","0");},show:function(){this.inherited(arguments);this._transitionTo(this._toggleRegion.node,"width",this._toggleRegion.width+"px");},hide:function(){this.inherited(arguments);this._transitionTo(this._toggleRegion.node,"width","0");},resize:function(){this.inherited(arguments);this._toggleRegion.width=this._computeRegionWidth();if(this.isVisible()){_ed5.set(this._toggleRegion.node,"width",this._toggleRegion.width+"px");}_ed5.set(this._toggleRegion.wrapper,"width",this._toggleRegion.width+"px");}});return _ed9;});},"mxui/widget/VerticalScrollContainer":function(){define(["mendix/lang","mxui/widget/_ScrollContainer","dojo/_base/declare"],function(lang,_eda,_edb){var _edc=_edb(_eda,{declaredClass:"mxui.widget.VerticalScrollContainer",startup:function(){this.inherited(arguments);lang.forEach(["top","bottom"],function(_edd){var _ede=this._regions[_edd];if(_ede&&_ede.wrapper.style.height){_ede.heightSpecified=true;_ede.wrapper.style.overflow="auto";}},this);},resize:function(box){var _edf=box?box.h:undefined;lang.forEach(["top","bottom"],function(_ee0){var _ee1=this._regions[_ee0];if(_ee1){this.resizeChildren(_ee1.wrapper,!_ee1.heightSpecified);_edf-=_ee1.node.offsetHeight;}},this);this._resizeRegions({middle:this._regions.middle},_edf);}});return _edc;});},"mxui/widget/BorderContainer":function(){define(["mxui/mixin/_Stateful","mxui/html/parser","mendix/lang","dojo/_base/lang","dojo/_base/declare","dijit/layout/BorderContainer"],function(_ee2,_ee3,lang,_ee4,_ee5,_ee6){var _ee7=_ee5([_ee6,_ee2],{startup:function(){if(this.doParse===false){_ee3.parseTopLevel(this.domNode,{mxform:this.mxform},this.uniqueid);}this.inherited(arguments);var _ee8=this.getState("splitterPosition",""),_ee9=this._getSplitter();if(_ee8){_ee9.child.domNode.style[_ee9.horizontal?"height":"width"]=_ee8;}},storeState:function(_eea){var _eeb=this._getSplitter(),size=_eeb.child.domNode.style[_eeb.horizontal?"height":"width"];_eea("splitterPosition",size);},_getSplitter:function(){var _eec=lang.find(this.getChildren(),function(_eed){return _eed._splitterWidget!==undefined;});return _eec._splitterWidget;}});return _ee7;});},"dijit/layout/BorderContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(_eee,_eef,_ef0,_ef1,_ef2,_ef3,_ef4,keys,lang,on,_ef5,_ef6,_ef7,_ef8,_ef9,_efa){var _efb=_ef0("dijit.layout._Splitter",[_ef7,_ef8],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_ef1.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _efc=_eef(this._cookieName);if(_efc){this.child.domNode.style[this.horizontal?"height":"width"]=_efc;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_efd=_ef3.getMarginBox(this.child.domNode)[dim],_efe=_eee.filter(this.container.getChildren(),function(_eff){return _eff.region=="center";})[0];var _f00=_ef3.getContentBox(_efe.domNode)[dim]-10;return Math.min(this.child.maxSize,_efd+_f00);},_startDrag:function(e){if(!this.cover){this.cover=_ef2.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_ef1.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_ef2.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_ef1.add(this.domNode,"dijitSplitterShadow");_ef2.place(this.fake,this.domNode,"after");}_ef1.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_ef1.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _f01=this._factor,_f02=this.horizontal,axis=_f02?"pageY":"pageX",_f03=e[axis],_f04=this.domNode.style,dim=_f02?"h":"w",_f05=_ef4.getComputedStyle(this.child.domNode),_f06=_ef3.getMarginBox(this.child.domNode,_f05)[dim],max=this._computeMaxSize(),min=Math.max(this.child.minSize,_ef3.getPadBorderExtents(this.child.domNode,_f05)[dim]+10),_f07=this.region,_f08=_f07=="top"||_f07=="bottom"?"top":"left",_f09=parseInt(_f04[_f08],10),_f0a=this._resize,_f0b=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,_ef5.move,this._drag=function(e,_f0c){var _f0d=e[axis]-_f03,_f0e=_f01*_f0d+_f06,_f0f=Math.max(Math.min(_f0e,max),min);if(_f0a||_f0c){_f0b(_f0f);}_f04[_f08]=_f0d+_f09+_f01*(_f0f-_f0e)+"px";}),on(de,"dragstart",function(e){e.stopPropagation();e.preventDefault();}),on(this.ownerDocumentBody,"selectstart",function(e){e.stopPropagation();e.preventDefault();}),on(de,_ef5.release,lang.hitch(this,"_stopDrag"))]);e.stopPropagation();e.preventDefault();},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_ef1.toggle(this.domNode,"dijitSplitterHover",o);_ef1.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_ef1.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_ef2.destroy(this.fake);}_ef1.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_eef(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyDown:function(e){this._resize=true;var _f10=this.horizontal;var tick=1;switch(e.keyCode){case _f10?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _f10?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _f11=_ef3.getMarginSize(this.child.domNode)[_f10?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_f11,this._computeMaxSize()),this.child.minSize));e.stopPropagation();e.preventDefault();},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _f12=_ef0("dijit.layout._Gutter",[_ef7,_ef8],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_ef1.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _f13=_ef0("dijit.layout.BorderContainer",_ef9,{gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_efb,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},_setupChild:function(_f14){this.inherited(arguments);var _f15=_f14.region,ltr=_f14.isLeftToRight();if(_f15=="leading"){_f15=ltr?"left":"right";}if(_f15=="trailing"){_f15=ltr?"right":"left";}if(_f15){if(_f15!="center"&&(_f14.splitter||this.gutters)&&!_f14._splitterWidget){var _f16=_f14.splitter?this._splitterClass:_f12;if(lang.isString(_f16)){_f16=lang.getObject(_f16);}var _f17=new _f16({id:_f14.id+"_splitter",container:this,child:_f14,region:_f15,live:this.liveSplitters});_f17.isSplitter=true;_f14._splitterWidget=_f17;var _f18=_f15=="bottom"||_f15==(this.isLeftToRight()?"right":"left");_ef2.place(_f17.domNode,_f14.domNode,_f18?"before":"after");_f17.startup();}}},layout:function(){this._layoutChildren();},removeChild:function(_f19){var _f1a=_f19._splitterWidget;if(_f1a){_f1a.destroy();delete _f19._splitterWidget;}this.inherited(arguments);},getChildren:function(){return _eee.filter(this.inherited(arguments),function(_f1b){return !_f1b.isSplitter;});},getSplitter:function(_f1c){return _eee.filter(this.getChildren(),function(_f1d){return _f1d.region==_f1c;})[0]._splitterWidget;},resize:function(_f1e,_f1f){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_ef4.getComputedStyle(node);this.pe=_ef3.getPadExtents(node,this.cs);this.pe.r=_ef4.toPixelValue(node,this.cs.paddingRight);this.pe.b=_ef4.toPixelValue(node,this.cs.paddingBottom);_ef4.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_f20,_f21){if(!this._borderBox||!this._borderBox.h){return;}var _f22=[];_eee.forEach(this._getOrderedChildren(),function(pane){_f22.push(pane);if(pane._splitterWidget){_f22.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_efa.layoutChildren(this.domNode,dim,_f22,_f20,_f21);},destroyRecursive:function(){_eee.forEach(this.getChildren(),function(_f23){var _f24=_f23._splitterWidget;if(_f24){_f24.destroy();}delete _f23._splitterWidget;});this.inherited(arguments);}});_f13.ChildWidgetProperties={splitter:false,minSize:0,maxSize:Infinity};lang.mixin(_f13.ChildWidgetProperties,_ef9.ChildWidgetProperties);lang.extend(_ef6,_f13.ChildWidgetProperties);_f13._Splitter=_efb;_f13._Gutter=_f12;return _f13;});},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(dojo,_f25){dojo.cookie=function(name,_f26,_f27){var c=document.cookie,ret;if(arguments.length==1){var _f28=c.match(new RegExp("(?:^|; )"+_f25.escapeString(name)+"=([^;]*)"));ret=_f28?decodeURIComponent(_f28[1]):undefined;}else{_f27=_f27||{};var exp=_f27.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_f27.expires=d;}if(exp&&exp.toUTCString){_f27.expires=exp.toUTCString();}_f26=encodeURIComponent(_f26);var _f29=name+"="+_f26,_f2a;for(_f2a in _f27){_f29+="; "+_f2a;var _f2b=_f27[_f2a];if(_f2b!==true){_f29+="="+_f2b;}}document.cookie=_f29;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"dijit/layout/LayoutContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(_f2c,_f2d,_f2e,_f2f,lang,_f30,_f31,_f32){var _f33=_f2d("dijit.layout.LayoutContainer",_f31,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){if(this._started){return;}_f2c.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_f34){this.inherited(arguments);var _f35=_f34.region;if(_f35){_f2e.add(_f34.domNode,this.baseClass+"Pane");}},_getOrderedChildren:function(){var _f36=_f2c.map(this.getChildren(),function(_f37,idx){return {pane:_f37,weight:[_f37.region=="center"?Infinity:0,_f37.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(_f37.region)?1:-1),idx]};},this);_f36.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});return _f2c.map(_f36,function(w){return w.pane;});},layout:function(){_f32.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren());},addChild:function(_f38,_f39){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(_f3a){this.inherited(arguments);if(this._started){this.layout();}_f2e.remove(_f3a.domNode,this.baseClass+"Pane");_f2f.set(_f3a.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_f2f.set(_f3a.domNode,/top|bottom/.test(_f3a.region)?"width":"height","auto");}});_f33.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};lang.extend(_f30,_f33.ChildWidgetProperties);return _f33;});},"dijit/layout/_LayoutWidget":function(){define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_f3b,_f3c,_f3d,_f3e,_f3f,_f40,_f41,_f42){return _f3f("dijit.layout._LayoutWidget",[_f3b,_f3c,_f3d],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);_f40.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _f43=this.getParent&&this.getParent();if(!(_f43&&_f43.isLayoutContainer)){this.resize();this.own(_f3e.on("resize",lang.hitch(this,"resize")));}},resize:function(_f44,_f45){var node=this.domNode;if(_f44){_f41.setMarginBox(node,_f44);}var mb=_f45||{};lang.mixin(mb,_f44||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_f41.getMarginBox(node),mb);}var cs=_f42.getComputedStyle(node);var me=_f41.getMarginExtents(node,cs);var be=_f41.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_f41.getPadExtents(node,cs);this._contentBox={l:_f42.toPixelValue(node,cs.paddingLeft),t:_f42.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_f46){var cls=this.baseClass+"-child "+(_f46.baseClass?this.baseClass+"-"+_f46.baseClass:"");_f40.add(_f46.domNode,cls);},addChild:function(_f47,_f48){this.inherited(arguments);if(this._started){this._setupChild(_f47);}},removeChild:function(_f49){var cls=this.baseClass+"-child"+(_f49.baseClass?" "+this.baseClass+"-"+_f49.baseClass:"");_f40.remove(_f49.domNode,cls);this.inherited(arguments);}});});},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(_f4a,_f4b,_f4c,_f4d,lang){function _f4e(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_f4f,dim){var _f50=_f4f.resize?_f4f.resize(dim):_f4c.setMarginBox(_f4f.domNode,dim);if(_f50){lang.mixin(_f4f,_f50);}else{lang.mixin(_f4f,_f4c.getMarginBox(_f4f.domNode));lang.mixin(_f4f,dim);}};var _f51={marginBox2contentBox:function(node,mb){var cs=_f4d.getComputedStyle(node);var me=_f4c.getMarginExtents(node,cs);var pb=_f4c.getPadBorderExtents(node,cs);return {l:_f4d.toPixelValue(node,cs.paddingLeft),t:_f4d.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};},layoutChildren:function(_f52,dim,_f53,_f54,_f55){dim=lang.mixin({},dim);_f4b.add(_f52,"dijitLayoutContainer");_f53=_f4a.filter(_f53,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_f4a.filter(_f53,function(item){return item.region=="center"||item.layoutAlign=="client";}));_f4a.forEach(_f53,function(_f56){var elm=_f56.domNode,pos=(_f56.region||_f56.layoutAlign);if(!pos){throw new Error("No region setting for "+_f56.id);}var _f57=elm.style;_f57.left=dim.l+"px";_f57.top=dim.t+"px";_f57.position="absolute";_f4b.add(elm,"dijitAlign"+_f4e(pos));var _f58={};if(_f54&&_f54==_f56.id){_f58[_f56.region=="top"||_f56.region=="bottom"?"h":"w"]=_f55;}if(pos=="leading"){pos=_f56.isLeftToRight()?"left":"right";}if(pos=="trailing"){pos=_f56.isLeftToRight()?"right":"left";}if(pos=="top"||pos=="bottom"){_f58.w=dim.w;size(_f56,_f58);dim.h-=_f56.h;if(pos=="top"){dim.t+=_f56.h;}else{_f57.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_f58.h=dim.h;size(_f56,_f58);dim.w-=_f56.w;if(pos=="left"){dim.l+=_f56.w;}else{_f57.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_f56,dim);}}}});}};lang.setObject("dijit.layout.utils",_f51);return _f51;});},"mxui/widget/ActionButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","mendix/lib/ValidationError","dojo/_base/lang","dojo/_base/declare"],function(_f59,_f5a,_f5b,_f5c,_f5d){var _f5e=_f5d(_f59,{declaredClass:"mxui.widget.ActionButton",action:null,needsObject:false,disableDuringAction:false,constructor:function(_f5f){if(_f5f.action&&_f5f.action.microflow&&_f5f.action.microflow.applyTo){this.needsObject=true;}if(_f5f.action&&_f5f.action.form&&_f5f.action.form.passContext){this.needsObject=true;}},onClick:function(){var self=this,_f60=[];if(!this.action){return;}if(this.action.microflow&&this.action.microflow.confirmation){_f60.push(function(cb){var conf=self.action.microflow.confirmation;window.mx.ui.confirmation({cancel:conf.cancel,proceed:conf.proceed,content:conf.question,handler:cb});});}if(this.action.form||(this.action.microflow&&this.action.microflow.validate=="view")){_f60.push(_f5c.hitch(this.mxform,"validate"));}_f60.push(function(_f61){self.mxform.save(_f61,function(err){if(!(err instanceof mendix.lib.ValidationError)){window.mx.onError(err);}});});_f60.push(function(){this.onBeforeAction();window.mx.ui.execute(self.action,{context:self.mxcontext,store:{caller:self.mxform},complete:function(){this.onAfterAction();}},this);});this.sequence(_f60);},onBeforeAction:function(){if(this.disableDuringAction){this.disable();}},onAfterAction:function(){if(this.disableDuringAction){this.enable();}}});return _f5e;});},"mxui/widget/BackButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","dojo/_base/declare"],function(_f62,_f63,_f64){var _f65=_f64(_f62,{declaredClass:"mxui.widget.BackButton",onClick:function(e){this.mxform.dispose();}});return _f65;});},"mxui/widget/CancelButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","dojo/_base/declare"],function(_f66,_f67,_f68){var _f69=_f68(_f66,{declaredClass:"mxui.widget.CancelButton",closeForm:true,needsObject:undefined,onClick:function(e){var self=this,form=this.mxform;form.rollback(function(){if(self.closeForm||form.place==="popup"){form.dispose();}});}});return _f69;});},"mxui/widget/ConfirmationDialog":function(){define(["mxui/widget/Dialog","mxui/dom","mendix/logger","dojo/_base/declare"],function(_f6a,_f6b,_f6c,_f6d){var $=_f6b.create;var _f6e=_f6d(_f6a,{declaredClass:"mxui.widget.ConfirmationDialog",cancel:"",proceed:"",handler:null,buildRendering:function(){this.caption=this.caption||this.translate("caption");this.inherited(arguments);var _f6f=$("button",{"class":"btn"},this.cancel),_f70=$("button",{"class":"btn btn-primary"},this.proceed),_f71=$("p");_f71.innerHTML=_f6b.convertNlToBr(_f6b.escapeString(this.content));this.setContent(_f71);this.setButtons([_f70,_f6f]);this.connect(_f6f,"click",function(){this.hide();});this.connect(_f70,"click",function(){this.hide();this.handler();});},show:function(){this.inherited(arguments,[true]);}});return _f6e;});},"mxui/widget/LogoutButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","dojo/_base/declare"],function(_f72,_f73,_f74){var _f75=_f74(_f72,{declaredClass:"mxui.widget.LogoutButton",postCreate:function(){if(window.mx.session.isGuest()){this.domNode.style.display="none";}this.inherited(arguments);},onClick:function(e){window.mx.logout();}});return _f75;});},"mxui/widget/SyncButton":function(){define(["mxui/widget/_DynamicButton","dojo/cookie","dojo/_base/declare"],function(_f76,_f77,_f78){var _f79=_f78(_f76,{declaredClass:"mxui.widget.SyncButton",onClick:function(e){var _f7a=mx.ui.showProgress(null,true);mx.data.synchronize(function(_f7b){_f7b=_f7b||{};var form=mx.ui.getCurrentForm(),_f7c=form.getContext(),guid=_f7c.getTrackId();var _f7d=_f7b[guid]||guid;var _f7e=null;if(!/^GUID:/.test(_f7d)){_f7e={path:form.path,entity:_f7c.getTrackEntity(),guid:_f7d};}window.sessionStorage.setItem("refreshData",JSON.stringify(_f7e));mx.reload();},function(e){mx.ui.hideProgress(_f7a);window.mx.onError(e);});}});return _f79;});},"mxui/widget/DropDownButton":function(){define(["mxui/widget/_DynamicButton","mxui/widget/Dialog","mxui/html/parser","mxui/dom","dojo/dom-class","dojo/dom-construct","dojo/_base/declare"],function(_f7f,_f80,_f81,_f82,_f83,_f84,_f85){var _f86=_f85(_f7f,{declaredClass:"mxui.widget.DropDownButton",items:null,_dialog:null,buildRendering:function(){this.inherited(arguments);_f84.place(_f82.create("span",{"class":"caret"}),this.domNode);},onClick:function(e){if(this._dialog){this._dialog.hide();this._dialog=null;}var $=_f82.create,list=$("ul",{"class":"mx-list mx-dropdown-list"},this.getTemplate("content")),_f87=$("button",{"class":"btn primary"},"Close"),_f88=this._dialog=new _f80();_f83.add(_f88.domNode,"mx-dropdown");_f88.setContent(list);_f88.setButtons([_f87]);this.connect(_f87,"click",function(){_f88.hide();});_f81.parse(list,{dialog:_f88,mxform:this.mxform,parent:this});_f88.show();},uninitialize:function(){if(this._dialog){this._dialog.hide();}}});return _f86;});},"mxui/widget/DropDownItem":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","webcore/url-helpers","dojo/dom-construct","dojo/_base/lang","dojo/_base/declare"],function(_f89,_f8a,_f8b,_f8c,_f8d,_f8e,_f8f){var _f90=_f8f(_f89,{declaredClass:"mxui.widget.DropDownItem",icon:"",caption:"",action:null,dialog:null,parent:null,buildRendering:function(){var $=_f8a.create,node=this.domNode=$("li",$("label",this.caption));if(this.icon){_f8d.place($("img",{src:_f8c.getStaticResourceUrlFromPath(this.icon)}),node,"first");}this.connect(node,"click","onClick");},onClick:function(guid){this.dialog.hide();var _f91=this.action,_f92=this.parent.mxcontext;if(!_f91){return;}var run=function(){window.mx.ui.execute(_f91,{context:_f92});};if(_f91.microflow&&_f91.microflow.validate=="view"){this.mxform.validate(run);}else{run();}}});return _f90;});},"mxui/widget/SaveButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","dojo/_base/declare"],function(_f93,_f94,_f95){var _f96=_f95(_f93,{declaredClass:"mxui.widget.SaveButton",closeForm:true,needsObject:undefined,onClick:function(){var self=this,form=this.mxform;form.validate(function(){var _f97=function(e){if(!(e instanceof mendix.lib.ValidationError)){window.mx.onError(e);}};form.save(function(){form.commit(function(){if(self.closeForm||form.place=="popup"){form.dispose();}},_f97);},_f97);});}});return _f96;});},"mxui/widget/SidebarToggleButton":function(){define(["mxui/widget/_DynamicButton","dojo/_base/declare"],function(_f98,_f99){var _f9a=_f99(_f98,{declaredClass:"mxui.widget.SidebarToggleButton",onClick:function(){this.mxform.publish("toggleSidebar");}});return _f9a;});},"mxui/widget/GroupBox":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/lib/TextTemplate","mxui/widget","mxui/dom","dijit/registry","dojo/dom-class","dojo/dom-construct","dojo/_base/declare"],function(_f9b,_f9c,_f9d,_f9e,_f9f,_fa0,_fa1,_fa2,_fa3){var _fa4=_fa3([_f9b,_f9c],{declaredClass:"mxui.widget.GroupBox",caption:null,collapsed:false,collapsable:false,_iconNode:null,_captionTextTemplate:null,buildRendering:function(){this.inherited(arguments);if(this.collapsable){this._iconNode=this.domNode.querySelector("i");this.collapsed=this.getState("collapsed",this.collapsed);this._doCollapse();this.connect(this.domNode.querySelector("h2"),"click",function(e){this.toggleCollapsed();e.stopPropagation();});}if(this.caption){var _fa5=this.domNode.querySelector("h2");var _fa6=document.createTextNode("");_fa5.appendChild(_fa6);this._captionTextTemplate=new _f9d(this.caption,function(text){_fa6.nodeValue=text||"";});}},update:function(obj,_fa7){var self=this;if(this._captionTextTemplate){this._captionTextTemplate.update(obj,_fa8);}else{_fa8();}function _fa8(){self.passContext(_fa0.findWidgets(self.domNode),_fa7);};},toggleCollapsed:function(){this.set("collapsed",!this.collapsed);},_setCollapsedAttr:function(_fa9){if(this.collapsed!=_fa9){this.collapsed=_fa9;this._doCollapse();}},_doCollapse:function(){if(this.collapsed){_fa1.add(this.domNode,"collapsed");if(this._iconNode){_fa1.replace(this._iconNode,"glyphicon-plus","glyphicon-minus");}}else{_fa1.remove(this.domNode,"collapsed");if(this._iconNode){_fa1.replace(this._iconNode,"glyphicon-minus","glyphicon-plus");}this.mxform.resize();}},storeState:function(_faa){_faa("collapsed",this.collapsed);},uninitialize:function(){if(this._captionTextTemplate){this._captionTextTemplate.destroy();}}});return _fa4;});},"mxui/widget/Title":function(){define(["mxui/widget/_WidgetBase","mxui/dom","dojo/_base/declare"],function(_fab,dom,_fac){var _fad=_fac(_fab,{declaredClass:"mxui.widget.Title",buildRendering:function(){this.domNode=dom.create("h1",{"class":"mx-title"});this._setTitle();this.connect(this.mxform,"onNavigation",this._setTitle);},_setTitle:function(){dom.text(this.domNode,this.mxform.getTitle());}});return _fad;});},"mxui/widget/StaticImage":function(){define(["mxui/widget/_WidgetBase","mxui/widget/ImageZoom","mxui/dom","mendix/logger","webcore/url-helpers","dojo/on","dojo/_base/event","dojo/_base/declare"],function(_fae,_faf,dom,_fb0,_fb1,_fb2,_fb3,_fb4){var $=dom.create;var _fb5=_fb4(_fae,{declaredClass:"mxui.widget.StaticImage",url:"",width:"",height:"",action:null,_overlay:null,_absUrl:"",buildRendering:function(){var _fb6=this.width,_fb7=this.height,_fb8=parseInt(_fb6,10),_fb9=parseInt(_fb7,10),_fba=this.domNode=$("img",{"class":"mx-image"}),_fbb=_fba.style;var _fbc=_fb6.indexOf("px")!==-1&&_fb7.indexOf("px")!==-1;if(_fbc&&_fb8>0&&_fb9>0){this.connect(_fba,"load",function(){var _fbd=_fba.width/_fba.height,_fbe=_fb8/_fb9;if(_fbd<_fbe){_fbb.width="";_fbb.height=_fb7;}else{_fbb.width=_fb6;_fbb.height="";}});}else{if(_fb8){_fba.style.width=_fb6;}if(_fb9){_fba.style.height=_fb7;}}if(this.action){this.connect(_fba,"click","onClick");_fba.style.cursor="pointer";}if(this.url){this._absUrl=_fb1.getStaticResourceUrlFromPath(this.url);}this.setUrl("");},applyContext:function(_fbf,_fc0){this.mxcontext.mixin(_fbf);this.setUrl(this._absUrl,_fc0);},setUrl:function(url,_fc1){this.domNode.removeAttribute("width");this.domNode.removeAttribute("height");if(!url){this.domNode.style.display="none";this.domNode.src=_fb1.getStaticResourceUrlFromPath(this._blankGif);if(_fc1){_fc1();}}else{if(this.domNode.src===url){if(_fc1){_fc1();}}else{if(_fc1){var _fc2=_fb2(this.domNode,"load",function(){_fc2.remove();_fc1();});var _fc3=_fb2(this.domNode,"error",function(){_fb0.error(this.id+": Failed to load image with url "+url);_fc3.remove();_fc1();});}this.domNode.style.display="";this.domNode.src=url;}}},onClick:function(e){var _fc4=this.action,_fc5=this.mxcontext,run,_fc6;if("microflow" in _fc4||"form" in _fc4){_fc6={caller:this.mxform};run=function(){window.mx.ui.execute(_fc4,{context:_fc5,store:_fc6});};if(_fc4.microflow&&_fc4.microflow.validate=="view"){this.mxform.validate(run);}else{run();}}else{if(_fc4.type=="enlarge"){if(!this._overlay){this._overlay=new _faf({src:this.domNode.src});}else{this._overlay.set("src",this.domNode.src);}this._overlay.show();}}_fb3.stop(e);},uninitialize:function(){if(this._overlay){this._overlay.destroy();}},_setWidthAttr:function(){},_setHeightAttr:function(){}});return _fb5;});},"mxui/widget/ImageZoom":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/_base/declare"],function(_fc7,_fc8,_fc9,_fca){var _fcb=_fca(_fc7,{declaredClass:"mxui.widget.ImageZoom",src:"",_image:null,_offset:0,_content:null,buildRendering:function(){var $=_fc8.create;this.domNode=$("div",{"class":"mx-imagezoom"},$("div",{"class":"mx-imagezoom-wrapper"},this._image=$("img",{"class":"mx-imagezoom-image",src:this.src})));this._content=document.getElementById("content");this.connect(this.domNode,"click","hide");},show:function(){this._offset=window.pageYOffset;this._content.style.display="none";document.body.appendChild(this.domNode);},hide:function(e){document.body.removeChild(this.domNode);var self=this;setTimeout(function(){window.scrollTo(0,self._offset);self._content.style.display="";});},_setSrcAttr:function(src){this._image.src=this.src=src;}});return _fcb;});},"mxui/widget/Image":function(){define(["mxui/widget/StaticImage","mendix/logger","webcore/url-helpers","dojo/_base/declare"],function(_fcc,_fcd,_fce,_fcf){var _fd0=_fcf(_fcc,{declaredClass:"mxui.widget.Image",datasource:null,defaultUrl:"",thumb:false,_entity:"",_xpath:"",_referred:"",_absDefaultUrl:"",postCreate:function(){this.inherited(arguments);var _fd1=this.datasource.path.split("/");this._entity=_fd1.pop();this._referred=!!_fd1.length;this._xpath="//"+this._entity;if(this._referred){this._xpath+="["+_fd1.reverse().join("/")+"=[%CurrentObject%]]";}if(this.defaultUrl){this._absDefaultUrl=_fce.getStaticResourceUrlFromPath(this.defaultUrl);}},applyContext:function(_fd2,_fd3){this.unsubscribeAll();this.mxcontext.mixin(_fd2);var _fd4=this.mxcontext.getTrackId();var _fd5=function(e){window.mx.onError(e);_fd3&&_fd3();};if(!_fd4){this.update(null,_fd3);}else{if(this._referred){window.mx.data.get({xpath:this._xpath.replace("[%CurrentObject%]",_fd4),callback:function(objs){this.updateReferred(objs[0],_fd3,_fd2);},error:_fd5},this);}else{window.mx.data.get({guid:_fd4,callback:function(obj){this.update(obj,_fd3);},error:_fd5},this);}}},update:function(obj,_fd6){if(obj){this.subscribe({guid:obj.getGuid(),callback:function(){this.update(obj);}});}this._setImage(obj,_fd6);},updateReferred:function(obj,_fd7,_fd8){if(obj){this.subscribe({guid:_fd8.getTrackId(),callback:function(){this.applyContext(_fd8);}});}this.mxcontext.setContext(this._entity,obj?obj.getGuid():"");this.update(obj,_fd7);},_setImage:function(obj,_fd9){var url;if(obj&&obj.get2("HasContents")){url=mx.data.getDocumentUrl(obj.getGuid(),obj.get2("changedDate"),this.thumb);}else{url=this._absDefaultUrl;}this.setUrl(url,_fd9);}});return _fd0;});},"mxui/widget/LinkButton":function(){define(["mxui/widget/_DynamicButton","mxui/mixin/_DynamicOptionHelper","mxui/dom","mendix/logger","dojo/_base/declare"],function(_fda,_fdb,_fdc,_fdd,_fde){var _fdf=_fde([_fda,_fdb],{declaredClass:"mxui.widget.LinkButton",action:"",address:"",subject:"",cc:"",bcc:"",body:"",_argNames:{email:["subject","cc","bcc","body"]},_target:"",_url:"",buildRendering:function(){this.inherited(arguments);this._target=(this.action=="open"?"_blank":"_self");},onClick:function(e){window.open(this._url,this._target);},refresh:function(_fe0){this.updateOptions(["address","subject","cc","bcc","body"],this._mxObject,function(_fe1){this.setUrl(_fe1);if(_fe0){_fe0();}});},setUrl:function(_fe2){var _fe3=_fe2.address,url;switch(this.action){case "open":url=_fe3;break;case "email":url="mailto:"+window.escape(_fe3);break;case "call":url="tel:"+window.escape(_fe3);break;case "text":url="sms:"+window.escape(_fe3);break;default:throw new Error(this.id+".setUrl : invalid action");}var _fe4=[],_fe5=this._argNames[this.action];if(_fe5){for(var i=0,_fe6;_fe6=_fe5[i];++i){var val=_fe2[_fe6];if(val){_fe4.push(_fe6+"="+window.escape(val));}}if(_fe4.length>0){url+="?"+_fe4.join("&");}}this._url=url;}});return _fdf;});},"mxui/mixin/_DynamicOptionHelper":function(){define(["mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_fe7,_fe8,_fe9){var _fea=function(obj,_feb,_fec){var _fed={},len=_feb.length,_fee=len;var _fef=function(_ff0,v){_fed[_ff0]=v;if(--_fee===0){_fec&&_fec(_fed);}};if(len===0){_fec&&_fec(_fed);}else{for(var i=0;i<len;++i){obj.fetch(_feb[i][0],_fe8.hitch(null,_fef,_feb[i][1]));}}};var _ff1=_fe9(null,{updateOptions:function(_ff2,obj,_ff3){if(typeof _ff3!="function"){throw new Error(this.name+".updateOptions : invalid callback");}var self=this,_ff4={},_ff5=[];for(var i=0,_ff6;_ff6=_ff2[i];++i){var _ff7=this[_ff6+"Attribute"];if(_ff7){_ff5.push([_ff7,_ff6]);}else{_ff4[_ff6]=this[_ff6];}}if(obj){_fea(obj,_ff5,function(_ff8){_ff3.call(self,_fe8.mixin({},_ff8,_ff4));});}else{_ff3.call(this,_ff4);}}});return _ff1;});},"mxui/widget/ListView":function(){define(["mxui/widget/Button","mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/mixin/_ContainingSelection","mxui/dom","mendix/lib/MxContext","mendix/lang","webcore/dataSourceFactory","dojo/dom-class","dojo/dom-construct","dojo/aspect","dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_ff9,_ffa,_ffb,_ffc,_ffd,_ffe,lang,_fff,_1000,_1001,_1002,_1003,_1004,_1005){var $=_ffd.create;var _1006=_1004(_ffa,{declaredClass:"mxui.widget.ListViewItem",datasource:null,listview:null,template:null,action:null,selectable:"",name:"",_selected:false,_checknode:null,buildRendering:function(){var node=this.domNode=$("li",{"class":this.name+" mx-listview-item"}),_1007=this.selectable;if(_1007){var item=$("#");if(_1007!="singleandmaintain"){item.appendChild($("div",{"class":"mx-listview-selection"},this._checknode=_1007=="multi"?$("input",{type:"checkbox"}):$("input",{type:"radio"})));}item.appendChild($("div",{"class":"mx-listview-content"},this.template||""));node.appendChild(item);}else{if(this.template){node.appendChild(this.template);}}this.connect(this.domNode,"click","onClick");},startup:function(){this.parseContent(this.domNode,{schema:""});},select:function(){_1000.add(this.domNode,"selected");if(this._checknode){this._checknode.checked=true;}this._selected=true;},deselect:function(){_1000.remove(this.domNode,"selected");if(this._checknode){this._checknode.checked=false;}this._selected=false;},getGuid:function(){return this.mxcontext.getTrackId();},onClick:function(event){if(this.selectable){if(this._selected){this.listview._deselectItem(this);}else{this.listview._selectItem(this);}}else{if(this.action){event.stopPropagation();var self=this,_1008=this.action,_1009=new _ffe();var run=function(){window.mx.ui.execute(_1008,{context:_1009});self.listview._shareSelection(self.listview._entity);};_1009.mixin(this.mxcontext);_1009.setTrackObject(null);if(_1008.microflow&&_1008.microflow.validate){this.mxform.validate(run);}else{run();}}}}});var _100a=_1004([_ffa,_ffb,_ffc],{declaredClass:"mxui.widget.ListView",datasource:null,dataSourceMixin:null,page:5,search:null,action:null,sort:null,selectable:"",templateMap:null,_entity:"",_itemIndex:0,_itemList:null,_loadButton:null,_clearButton:null,_searchNode:null,_listNode:null,_emptyNode:null,_loadNode:null,_datasource:null,_lastRenderId:0,_preserveSelection:false,constructor:function(_100b){if(_100b.selection){this._preserveSelection=true;}},postMixInProperties:function(){if(this.listViewSelectionMode){this.selectable=this.listViewSelectionMode;}},buildRendering:function(){this._loadButton=new _ff9({caption:this.translate("load_more"),iconClass:"glyphicon-repeat",onClick:_1005.hitch(this,"_loadMore"),"class":"mx-listview-loadMore"});this.domNode=$("div",{"class":"mx-listview"},this._listNode=$("ul",{"class":"mx-list mx-list-striped mx-listview-list"}),this._loadButton.domNode);if(this.selectable!="singleandmaintain"){_1000.add(this.domNode,"mx-listview-selectable");}if(this.action){_1000.add(this.domNode,"mx-listview-clickable");}this._emptyNode=$("li",{"class":"mx-listview-empty"},$("label",this.translate("no_items")));this._loadNode=$("li",{"class":"mx-listview-loading"},$("img",{src:require.toUrl("mxui/ui/widget/images/loading.gif")}));if(this.search){this._clearButton=new _ff9({iconClass:"glyphicon-refresh",onClick:_1005.hitch(this,"_clearSearchNode"),"class":"mx-listview-clear-button"});_1001.place($("div",{"class":"mx-listview-searchbar clearfix"},this._clearButton.domNode,$("div",{"class":"mx-listview-search-input"},this._searchNode=$("input",{type:"text",placeholder:this.translate("search"),"class":"form-control",value:this.getState("searchValue","")}))),this.domNode,"first");this.connect(this._searchNode,"keyup","_searchKeyDown");}},postCreate:function(){this._createSource();this._itemList=[];this.templateMap=this.templateMap||[];this.selection=this.getState("selection",this.selection);},_onLoad:function(_100c){if(this.selectable){if(!this._preserveSelection){var _100d=_1003.map(this._datasource.getObjects(),function(obj){return obj.getGuid();});this.selection=_1003.filter(this.selection,function(guid){return _1003.indexOf(_100d,guid)!=-1;});}this._ensureSelection();this._shareSelection(this._entity);}if(_100c){_100c();}},update:function(obj,_100e){this._registerSubscriptions();_ffd.orphan(this._emptyNode);this._loadData(_100e);},_registerSubscriptions:function(){this.unsubscribeAll();this.subscribe({entity:this._entity,callback:function(){this.update();}});var _100f=this.mxcontext.getTrackId();if(_100f){this.subscribe({guid:_100f,callback:function(){this.update();}});}},storeState:function(store){if(this._searchNode){store("searchValue",this._searchNode.value);}store("datasourceOffset",this._datasource.getOffset());store("selection",this.selection);},uninitialize:function(){this._clearData();this._datasource.destroy();},_createSource:function(){this._datasource=_fff.create(_1005.mixin({sort:this.sort,context:this.mxcontext,page:this.page},this.datasource,this.dataSourceMixin));this._entity="entity" in this.datasource?this.datasource.entity:this.datasource.path.split("/").pop();if(this.search){this._datasource.setConstraints(this._getSearchConstraint());}var _1010=this.getState("datasourceOffset",0);if(_1010){this._datasource.setPageSize(_1010+this.page);this._datasource.setOffset(0);var self=this,_1011=_1002.after(this,"_onLoad",function(){self._datasource.setPageSize(self.page);self._datasource.setOffset(_1010);_1011.remove();});}},_clearData:function(){while(this._itemList.length){var item=this._itemList.pop();if(item.domNode){item.destroy();}}},_showLoadingIcon:function(){this._listNode.appendChild(this._loadNode);},_hideLoadingIcon:function(){_ffd.orphan(this._loadNode);},_showLoadMoreButton:function(){this.domNode.appendChild(this._loadButton.domNode);},_hideLoadMoreButton:function(){_ffd.orphan(this._loadButton.domNode);},_updateLoadMoreButton:function(){if(!this._datasource.atEnd()){this._showLoadMoreButton();}else{this._hideLoadMoreButton();}},_searchKeyDown:function(){var self=this,_1012=this._datasource;this._clearButton.set("iconClass",this._searchNode.value?"glyphicon-remove":"glyphicon-refresh");clearTimeout(this._searchTimeout);this._searchTimeout=setTimeout(function(){self._clearData();self._showLoadingIcon();self._hideLoadMoreButton();_1012.setConstraints(self._getSearchConstraint());self.update();},500);},_clearSearchNode:function(){clearTimeout(this._searchTimeout);this._clearButton.set("iconClass","glyphicon-refresh");this._searchNode.value="";this._datasource.setConstraints("");this.update();},_selectItem:function(item){var guid=item.getGuid();if(/^(single|singleandmaintain)$/.test(this.selectable)){var _1013=this.selection[0],_1014=lang.find(this._itemList,function(item){return item.getGuid()==_1013;});if(_1014){_1014.deselect();}this.selection=[guid];}else{this._addToSelection(guid);}this._shareSelection(this._entity);item.select();},_deselectItem:function(item){if(this.selectable!=="singleandmaintain"){this._removeFromSelection(item.getGuid());this._shareSelection(this._entity);item.deselect();}},_getSearchConstraint:function(){var value=_ffd.escapeHTMLQuotes(this._searchNode.value),_1015=[],_1016=this.search.attributes,_1017=this.search.method;if(value){for(var i=0,attr;attr=_1016[i];++i){_1015.push(_1017+"("+attr+",'"+value+"')");}return "["+_1015.join(" or ")+"]";}return "";},_loadData:function(_1018){this._datasource.first();this.sequence(["_sourceReload","_onLoad","_renderData"],function(){this._updateLoadMoreButton();if(_1018){_1018();}});},_loadMore:function(){this._showLoadingIcon();this._hideLoadMoreButton();this.sequence(["_sourceNext","_renderData"],function(){this._updateLoadMoreButton();});},_sourceReload:function(_1019){this._datasource.reload(_1019);},_sourceNext:function(_101a){this._datasource.next(_101a);},_renderData:function(_101b){var objs=this._datasource.getObjects(),index=this._datasource.getOffset()===0?0:this._itemIndex,_101c=this._createListItems(objs,index),_101d=$("div",{"class":"mx-offscreen"}),_101e=this._lastRenderId=lang.getUniqueId();this.domNode.appendChild(_101d);_1003.forEach(_101c,function(item){_101d.appendChild(item.domNode);item.startup();});this._loadListItems(_101c,objs,_1005.hitch(this,function(){_ffd.orphan(_101d);if(_101e!=this._lastRenderId){_1003.forEach(_101c,function(item){item.destroy();});if(_101b){_101b();}return;}this._hideLoadingIcon();if(this._datasource.getOffset()===0){this._clearData();}this._itemList=this._itemList.concat(_101c);this._itemIndex=this._itemList.length;_1003.forEach(_101c,function(item){this._listNode.appendChild(item.domNode);},this);if(this._itemList.length===0){this._listNode.appendChild(this._emptyNode);}if(_101b){_101b();}}));},_createListItems:function(objs,index){return _1003.map(objs,function(obj){var _101f=this.templateMap[obj.getEntity()];if(!_101f){_1003.some(obj.getSuperEntities(),function(_1020){return _101f=this.templateMap[_1020];},this);}var item=new _1006({uniqueid:this.uniqueid+"_obj"+obj.getGuid(),listview:this,name:"mx-name-index-"+index++,mxform:this.mxform,template:this.getTemplate(_101f),action:this.action,selectable:this.selectable});if(this.selectable&&this._isSelected(obj.getGuid())){item.select();}return item;},this);},_loadListItems:function(items,objs,_1021){this.collect(_1003.map(items,function(item,i){return function(cb){var _1022=new _ffe({mxcontext:this.mxcontext});_1022.setObject(objs[i]);item.applyContext(_1022,cb);};}),_1021);},_ensureSelection:function(){var objs=this._datasource.getObjects();if(this.selectable==="singleandmaintain"&&!this._hasSelection()&&objs.length>0){this._addToSelection(objs[0].getGuid());}}});return _100a;});},"mxui/widget/MenuBar":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/lib/menuAnchorFactory","mxui/dom","mendix/lang","dojo/aspect","dojo/dom-class","dojo/on","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(_1023,_1024,_1025,_1026,lang,_1027,_1028,_1029,_102a,_102b,_102c){var $=_1026.create;var _102d=_102c([_1023,_1024],{declaredClass:"mxui.widget.MenuBar",menuID:"",orientation:"horizontal",_view:null,_items:null,_currentSelection:-1,_initialSelection:-1,buildRendering:function(){this._items=window.mx.ui.getMenu(this.menuID);this._view=new View(this,this.orientation,this._items);this.domNode=this._view.domNode;this._view.subscribeToClick(_102b.hitch(this,"_onClick"));this._restoreSelection();this.connect(this.mxform,"onNavigation",this._restoreSelection);},_restoreSelection:function(){this._currentSelection=this.getState("selectedIndex",this._currentSelection);this._initialSelection=this._currentSelection;this._view.select(this._currentSelection);},_onClick:function(_102e){var self=this,_102f=this._items[_102e].action;if(_102f.microflow&&_102f.microflow.validate=="view"){this.mxform.validate(_102b.hitch(this,_1030));}else{_1030();}function _1030(){self._currentSelection=_102e;self._view.select(self._currentSelection);window.mx.ui.execute(_102f);};},storeState:function(store){store("selectedIndex",this._initialSelection);}});var View=_102c(null,{_handlerScope:null,_orientation:"",_list:null,domNode:null,constructor:function(_1031,_1032,items){this._handlerScope=_1031;this._orientation=_1032;this._render(items);},_render:function(items){var self=this;this._list=$("ul",{"class":"nav nav-pills mx-menubar-list"});if(this._orientation=="vertical"){_1028.add(this._list,"nav-stacked");}lang.forEach(items,function(item,index){var _1033=_1025.create(item);self._list.appendChild($("li",{"class":"mx-menubar-item mx-name-index-"+index},_1033));});this.domNode=$("div",{"class":"mx-menubar mx-menubar-"+this._orientation},this._list);},subscribeToClick:function(_1034){var _1035=this._handlerScope;lang.forEach(this.domNode.querySelectorAll(".mx-menubar-item>a"),function(_1036,index){_1035.own(_1029(_1036,"click",function(event){_102a.stop(event);_1034(index);}));});},select:function(index){var _1037=this.domNode.querySelector(".mx-menubar-item.active");if(_1037){_1028.remove(_1037,"active");}if(index!=-1){_1028.add(this._list.children[index],"active");}}});return _102d;});},"mxui/widget/NavigationList":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mendix/lang","dojo/_base/array","dojo/on","dojo/dom-class","dojo/_base/declare"],function(_1038,_1039,lang,_103a,_103b,_103c,_103d){var _103e=_103d([_1038,_1039],{declaredClass:"mxui.widget.NavigationList",_view:null,_currentActive:-1,_initialActive:-1,buildRendering:function(){this._view=new View(this.srcNodeRef,this);this.domNode=this._view.domNode;var self=this;this._view.subscribeToClick(function(_103f){self._currentActive=_103f;self._view.deactivateAll();self._view.activate(_103f);});this._restoreSelection();this.connect(this.mxform,"onNavigation",this._restoreSelection);},_restoreSelection:function(){this._currentActive=this.getState("activeItem",this._currentActive);this._initialActive=this._currentActive;this._view.deactivateAll();this._view.activate(this._currentActive);},storeState:function(store){store("activeItem",this._initialActive);}});var View=_103d(null,{_list:null,_handlerScope:null,constructor:function(_1040,_1041){this.domNode=_1040;this._list=_1040;this._handlerScope=_1041;},subscribeToClick:function(_1042){var self=this;this._handlerScope.own(_103b(this._list,"li.mx-navigationlist-item:click",function(){_1042(_103a.indexOf(self._list.childNodes,this));}));},activate:function(_1043){if(_1043!=-1){_103c.add(this._list.childNodes[_1043],"active");}},deactivateAll:function(){lang.forEach(this._list.querySelectorAll("li.mx-navigationlist-item.active"),function(item){_103c.remove(item,"active");});}});return _103e;});},"mxui/widget/NavigationListItem":function(){define(["mxui/widget/_WidgetBase","dojo/_base/declare"],function(_1044,_1045){var _1046=_1045(_1044,{declaredClass:"mxui.widget.NavigationListItem",action:null,buildRendering:function(){this.inherited(arguments);if(this.action){this.connect(this.domNode,"click","onClick");}},onClick:function(){var self=this;var run=function(){window.mx.ui.execute(self.action,{context:self.mxcontext});};if(this.action.microflow&&this.action.microflow.validate=="view"){this.mxform.validate(run);}else{run();}}});return _1046;});},"mxui/widget/NewButton":function(){define(["mxui/widget/_DynamicButton","mendix/lib/MxContext","mendix/logger","dojo/_base/declare"],function(_1047,_1048,_1049,_104a){var _104b=_104a(_1047,{declaredClass:"mxui.widget.NewButton",form:null,path:"",_entity:"",_association:"",constructor:function(args){var path=args.path.split("/");this._entity=path.pop();this._association=path.pop();if(this._association){this.needsObject=true;}},onClick:function(){var pid=window.mx.ui.showProgress();window.mx.data.create({entity:this._entity,callback:function(obj){if(this._association){obj.set(this._association,this.mxcontext.getTrackId());}var _104c=new _1048();_104c.setContext(obj);window.mx.ui.execute({form:this.form},{context:_104c});window.mx.ui.hideProgress(pid);},error:function(e){window.mx.ui.hideProgress(pid);window.mx.onError(e);}},this);}});return _104b;});},"mxui/widget/ReferenceSelector":function(){define(["mxui/widget/_LabeledWidget","mxui/mixin/_ValidationHelper","mxui/widget/Button","webcore/dataSourceFactory","mendix/lib/MxContext","mxui/dom","mendix/lang","mendix/logger","dojo/sniff","dojo/dom-construct","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/_base/declare"],function(_104d,_104e,_104f,_1050,_1051,dom,lang,_1052,_1053,_1054,_1055,_1056,_1057,_1058){var $=dom.create;var _1059=_1058([_104d,_104e],{declaredClass:"mxui.widget.ReferenceSelector",attributePath:"",datasource:null,selectForm:null,gotoForm:null,events:null,useContext:false,contextAction:"",preserveTrackObject:true,precision:-1,formatted:false,_mxObject:null,_readNode:null,_editNode:null,_inputPane:null,_gotoButton:null,_assoc:"",_entity:"",_attr:"",_datasource:null,_objsubs:null,_opts:null,postMixInProperties:function(){_1057.mixin(this,this.selectForm?_105a:_105b);},postCreate:function(){var path=this.attributePath.split("/");this._assoc=path[1];this._entity=path[2];this._attr=path[3];if(this.datasource.constrainedBy){this.mxcontext.setConstraints(this.datasource.constrainedBy);}this._datasource=_1050.create(_1057.mixin({context:this.mxcontext,useContext:this.useContext,attributes:[this._attr]},this.datasource));this._objsubs=[];if(this.precision!==-1){this._opts={groups:this.formatted,places:this.precision};}},startup:function(){this.inherited(arguments);this.setupValidation(this._assoc);},onChange:function(){var ev=this.events&&this.events.change;if(ev){this.validatedMicroflow(ev);}},update:function(obj,_105c){this._mxObject=obj;this.setValidationObject(obj);this._removeObjectSubscriptions();if(obj){this._addObjectSubscriptions();}this.updateDisabled();this.updateObject(obj,_105c);},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._assoc));},renderObject:function(_105d){var _105e=this._mxObject,ref=_105e&&_105e.get2(this._assoc),self=this;if(ref){var _105f=this._datasource.getObject(ref);if(_105f){_1060(_105f);}else{window.mx.data.fetch(_105e,[this._assoc,this._entity],{usexpath:true},_1060,function(e){window.mx.onError(e);if(_105d){_105d();}});}}else{_1060(null);}function _1060(obj){if(self._mxObject==_105e&&(!self._mxObject||self._mxObject.get2(self._assoc)==ref)){self.setValue(obj);}if(_105d){_105d();}};},setTextValue:function(obj){var value=obj?window.mx.parser.formatAttribute(obj,this._attr,this._opts):"";if(value){dom.text(this._readNode,value);}else{this._readNode.innerHTML="&nbsp;";}if(this._gotoButton){this._gotoButton.set("disabled",!obj);}},openGotoForm:function(){var obj=this._mxObject,ref=obj&&obj.get2(this._assoc);if(ref){var _1061=new _1051();_1061.mixin(this.mxcontext);_1061.setContext(this._entity,ref);_1061.setTrackObject(null);window.mx.ui.execute({form:this.gotoForm},{context:_1061});}},_getValueAttr:function(){return this._editNode.value;},_createGoToButton:function(){var _1062=this._gotoButton=new _104f({"class":"mx-referenceselector-goto-button",iconClass:"glyphicon-eye-open"});this.connect(_1062,"onClick","openGotoForm");return _1062.domNode;},_addObjectSubscriptions:function(){var obj=this._mxObject,ref;var _1063=function(){this.removeError();this.updateObject(obj);};this._objsubs.push(this.subscribe({guid:obj.getGuid(),callback:_1063}));this._objsubs.push(this.subscribe({guid:obj.getGuid(),attr:this._assoc,callback:this.selectForm?_1063:function(){this.removeError();var value=obj.get2(this._assoc),found=!value||this._datasource.getObject(value);if(found||this.get("disabled")){this.renderObject();}else{this.renderSet();}}}));ref=obj.getReference(this._assoc);if(ref){this._objsubs.push(this.subscribe({guid:ref,attr:this._attr,callback:_1063}));}},_removeObjectSubscriptions:function(){var subs=this._objsubs;while(subs.length>0){this.unsubscribe(subs.shift());}},_createReadNode:function(){var _1064=this.insideFormGroup?$("p",{"class":"form-control-static"}):$("label");_1064.innerHTML="&nbsp;";return _1064;}});var _105b={_subs:null,_currentValue:"",buildRendering:function(){this._readNode=this._createReadNode();this._editNode=$("select",{"class":"form-control"});this.connect(this._editNode,"change",function(){var value=this.get("value");if(value===this._currentValue){return;}this._currentValue=value;if(this.isValid()&&this._mxObject.get2(this._assoc)!=value){this._mxObject.set(this._assoc,value);if(this._gotoButton){this._gotoButton.set("disabled",!value);}this.onChange();}});var _1065;this.domNode=$("div",{"class":"mx-referenceselector"},_1065=$("div",{"class":"mx-referenceselector-input-wrapper"},this._editNode));if(this.gotoForm){_1054.place(this._createGoToButton(),_1065,"before");}this._inputPane=_1065;},enable:function(){var self=this;this.renderSet(function(){self._inputPane.replaceChild(self._editNode,self._readNode);});},disable:function(){var self=this;this.renderObject(function(){self._inputPane.replaceChild(self._readNode,self._editNode);});},setValue:function(obj){this._currentValue=this._editNode.value=obj?obj.getGuid():"";this.setTextValue(obj);},updateObject:function(obj,_1066){this._removeSubscriptions();this._subscribeToConstraints();if(this.get("disabled")){this.renderObject(_1066);}else{this._subscribeToEntity();this.renderSet(_1066);}},renderSet:function(_1067){var self=this,obj=this._mxObject,_1068=this._datasource,_1069=obj&&obj.get2(self._assoc),_106a=false;var _106b=function(objs){self._renderOptions(objs);if(_1067){_1067();}};if(obj){_1068.reload(function(){_106b(_1068.getObjects());if(_1069){var objs=_1068.getObjects();for(var i=0,obj;obj=objs[i];i++){if(_1069===obj.getGuid()){self.setValue(obj);_106a=true;break;}}if(!_106a){self._mxObject.set(self._assoc,"");self.onChange();}}});}else{_106b();}if(this._gotoButton){this._gotoButton.set("disabled",!_106a);}},_renderOptions:function(objs){var node=this._editNode;objs=objs||[];dom.empty(node);node.appendChild($("option",{value:""},""));for(var i=0,obj;obj=objs[i];i++){node.appendChild($("option",{value:obj.getGuid()},window.mx.parser.formatAttribute(obj,this._attr,this._opts)||""));}},_subscribeToConstraints:function(){var _106c=this.datasource.constrainedBy||[];if(!_106c.length){return;}if(this._mxObject){for(var i=0,len=_106c.length;i<len;++i){var path=_106c[i].split("/");if(path[1]){this._subs.push(this.subscribe({guid:this._mxObject.getGuid(),attr:path[1],callback:function(){this.updateObject(this._mxObject);}}));}}}},_subscribeToEntity:function(){var _106d=this._mxObject.metaData.getSelectorEntity(this._assoc);this._subs.push(this.subscribe({entity:_106d,callback:function(){this.updateObject(this._mxObject);}}));},_removeSubscriptions:function(){if(this._subs){while(this._subs.length){this.unsubscribe(this._subs.shift());}}this._subs=[];}};var _105a={_selectButton:null,buildRendering:function(){this._readNode=this._createReadNode();this._editNode=$("input",{type:"text",readonly:"readonly","class":"form-control"});var _106e=this._selectButton=new _104f({"class":"mx-referenceselector-select-button",iconClass:"glyphicon-share-alt"});this.connect(_106e,"onClick","openSelectForm");if(_1053("mobile")){this.connect(this._editNode,"click","openSelectForm");}else{this.connect(this._editNode,"keypress","_onKeyPress");}this.connect(_106e.domNode,"keypress","_onKeyPress");this.domNode=$("div",{"class":"mx-referenceselector"},_106e.domNode,this._inputPane=$("div",{"class":"mx-referenceselector-input-wrapper"},this._editNode));if(this.gotoForm){_1054.place(this._createGoToButton(),_106e.domNode,"before");}},enable:function(){_1054.place(this._selectButton.domNode,this.domNode,"first");this._readNode.parentNode.replaceChild(this._editNode,this._readNode);},disable:function(){this.domNode.removeChild(this._selectButton.domNode);this._editNode.parentNode.replaceChild(this._readNode,this._editNode);},setValue:function(obj){this._editNode.value=obj?window.mx.parser.formatAttribute(obj,this._attr,this._opts):"";this.setTextValue(obj);},updateObject:function(obj,_106f){this.renderObject(_106f);},openSelectForm:function(){var ref=this._mxObject.get2(this._assoc),self=this,_1070=(this.datasource.constraint||"").replace("[%CurrentObject%]",this._mxObject.getGuid());window.mx.ui.execute({form:this.selectForm},{context:new _1051({mxcontext:this.mxcontext}),params:{selection:ref?[ref]:[],listViewSelectionMode:"single",dataSourceMixin:{constraint:_1070,xpathConstraints:this.datasource.xpathConstraints||"",offlineConstraints:this.datasource.offlineConstraints||[]}},callback:function(form){form.listen("save",function(_1071){var _1072=lang.find(form.getChildren(true),function(_1073){return "getSelected" in _1073;}),_1074=_1072.getSelected()[0]||"";if(self._mxObject.getReference(self._assoc)!=_1074){self._mxObject.set(self._assoc,_1074);self.renderObject();self.onChange();}_1071();});}});},_onKeyPress:function(e){if(e.keyCode==_1056.DELETE){if(this.get("disabled")||(e.ctrlKey&&e.shiftKey)){return;}_1055.stop(e);if(!this.get("value")){return;}var self=this;window.mx.ui.confirmation({content:this.translate("clean_confirmation"),handler:function(){self._mxObject.set(self._assoc,"");}});}}};return _1059;});},"mxui/widget/InputReferenceSetSelector":function(){define(["mxui/widget/Button","mxui/widget/_LabeledWidget","mxui/mixin/_ValidationHelper","mxui/dom","mendix/lang","dojo/dom-construct","dojo/_base/lang","dojo/_base/declare"],function(_1075,_1076,_1077,_1078,lang,_1079,_107a,_107b){var _107c=_107b([_1076,_1077],{declaredClass:"mxui.widget.InputReferenceSetSelector",attributePath:"",datasource:null,selectForm:"",events:null,_mxObject:null,_readNode:null,_editNode:null,_selectButton:null,_assoc:"",_entity:"",_attr:"",_constraint:"",postCreate:function(){var path=this.attributePath.split("/");this._assoc=path[1];this._entity=path[2];this._attr=path[3];},buildRendering:function(){var $=_1078.create;this._readNode=this.insideFormGroup?$("p",{"class":"form-control-static"}):$("label");this._readNode.innerHTML="&nbsp;";this._editNode=$("input",{type:"text",readonly:"readonly","class":"form-control"});var _107d=this._selectButton=new _1075({"class":"mx-referencesetselector-select-button",iconClass:"glyphicon-share-alt"});this.connect(_107d,"onClick","openSelectForm");this.connect(this._editNode,"click","openSelectForm");this.domNode=$("div",{"class":"mx-referencesetselector"},_107d.domNode,$("div",{"class":"mx-referencesetselector-input-wrapper"},this._editNode));},startup:function(){this.inherited(arguments);this.setupValidation(this._assoc);},onChange:function(){var ev=this.events&&this.events.change;ev&&this.validatedMicroflow(ev);},enable:function(){_1079.place(this._selectButton.domNode,this.domNode,"first");this._readNode.parentNode.replaceChild(this._editNode,this._readNode);},disable:function(){this.domNode.removeChild(this._selectButton.domNode);this._editNode.parentNode.replaceChild(this._readNode,this._editNode);},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._assoc));},update:function(obj,_107e){this._mxObject=obj;this.unsubscribeAll();this.setValidationObject(obj);var _107f=function(_1080){this.updateDisabled();this.renderObject(_1080);};if(obj){this._constraint=(this.datasource.constraint||"").replace("[%CurrentObject%]",obj.getGuid());this.subscribe({guid:obj.getGuid(),callback:_107a.partial(_107f,null)});this.subscribe({guid:obj.getGuid(),attr:this._assoc,callback:_107a.partial(_107f,null)});}_107f.call(this,_107e);},renderObject:function(_1081){var self=this,obj=this._mxObject,refs=obj&&obj.get2(this._assoc);var _1082=function(val){self.setValue(val||"");_1081&&_1081();};if(refs&&refs.length){window.mx.data.get({guids:refs,callback:function(objs){var _1083=[];for(var i=0,obj;obj=objs[i];i++){_1083.push(window.mx.parser.formatAttribute(obj,this._attr));}_1082(_1083.join(", "));},error:function(e){window.mx.onError(e);_1081&&_1081();}},this);}else{_1082();}},openSelectForm:function(){var self=this;window.mx.data.getBacktrack(this._mxObject.getGuid(),this.datasource.constrainedBy,function(_1084,_1085){window.mx.ui.execute({form:self.selectForm},{params:{selection:self._mxObject.getReferences(self._assoc),listViewSelectionMode:"multi",dataSourceMixin:{constraint:_1085?_1084+self._constraint:"[0=1]"}},callback:function(form){form.listen("save",function(_1086){var _1087=lang.find(form.getChildren(true),function(_1088){return "getSelected" in _1088;}),_1089=_1087.getSelected();self._mxObject.set(self._assoc,_1089);self.renderObject();self.onChange();_1086();});}});});},setValue:function(value){this._editNode.value=value;if(value){_1078.text(this._readNode,value);}else{this._readNode.innerHTML="&nbsp;";}}});return _107c;});},"mxui/widget/FileInput":function(){define(["mxui/widget/Button","mxui/widget/_LabeledWidget","mxui/mixin/_ValidationHelper","mxui/dom","mendix/lang","mendix/lib/ConnectionError","mendix/lib/Upload","mendix/logger","dijit/focus","dojo/sniff","dojo/dom-class","dojo/keys","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang"],function(_108a,_108b,_108c,_108d,_108e,_108f,_1090,_1091,_1092,_1093,_1094,_1095,_1096,_1097,_1098,_1099){var _109a="...";var _109b=_1097([_108b,_108c],{declaredClass:"mxui.widget.FileInput",input:null,maxFileSize:0,restrictions:"",accept:"",uploadable:false,downloadable:false,target:"internal",_allowedExts:null,_labelNode:null,_uploadButton:null,_formNode:null,_selectState:"none",buildRendering:function(){var $=_108d.create,_109c=!_1093("mobile");if(_109c){this._sendFile=this._sendFileReal;}this.domNode=$("div",{"class":"mx-fileinput"});if(this.uploadable){if(_109c){var _109d=this._uploadButton=new _108a({caption:window.mx.ui.translate("mxui.widget.MxFormView","upload"),cssClasses:["mx-fileinput-upload-button"]});this.domNode.appendChild($("#",this._labelNode=$("input",{"class":"form-control mx-wrapped-label",type:"text",readonly:"readonly",value:_109a})," ",this._formNode=$("form",{"class":"mx-wrapped-form",enctype:"multipart/form-data",method:"POST"},this.input=$("input",{"class":"mx-wrapped-input",type:"file",name:"mxdocument",accept:this.accept,tabindex:-1}),_109d.domNode)));this.connect(this._uploadButton.domNode,"focus",function(){_1094.add(this._labelNode,"mx-focus");});this.connect(this._uploadButton.domNode,"blur",function(){_1094.remove(this._labelNode,"mx-focus");});this.connect(this._labelNode,"click",function(){_1092.focus(this._uploadButton.domNode);});this.connect(this._formNode,"keyup",function(e){if(e.keyCode==_1095.DELETE||e.keycode==_1095.BACKSPACE){this._reset();_1098.stop(e);}});}else{this.domNode.appendChild(this._formNode=$("form",{"class":"mx-normal-form",enctype:"multipart/form-data",method:"POST"},this.input=$("input",{type:"file",name:"mxdocument",accept:this.accept})));}this.connect(this._formNode,"submit",function(){return false;});this.connect(this.input,"click",function(){this._selectState="selecting";});this.connect(this.input,"change","_handleFileSelected");}if(this.downloadable){var _109e=this._downloadButton=new _108a({caption:window.mx.ui.translate("mxui.widget.MxFormView","download"),onClick:_1099.hitch(this,"_handleDownloadClick"),cssClasses:["mx-fileinput-download-button"]});this.domNode.appendChild($("#"," ",_109e.domNode));}},postCreate:function(){this._allowedExts=this.restrictions.toLowerCase().split(";");this.listen("save",this._sendFile);},update:function(obj,_109f){this._mxObject=obj;this._reset();this.updateDisabled();this._updateDownloadDisabled();_109f&&_109f();},_updateDownloadDisabled:function(){if(this._downloadButton){this._downloadButton.set("disabled",!this._mxObject||!this._mxObject.get2("HasContents"));}},checkDisabled:function(){return this.inherited(arguments)||!this._mxObject;},_setDisabledState:function(_10a0){if(this.uploadable){if(this._uploadButton){this._uploadButton.set("disabled",_10a0);}if(_10a0){this.input.setAttribute("disabled","disabled");}else{this.input.removeAttribute("disabled");}}},enable:function(){this._setDisabledState(false);},disable:function(){this._setDisabledState(true);},validate:function(){if(!this.input||!this.input.value){return null;}if(this.restrictions!==""){var _10a1=this.input.value;var _10a2=_10a1.lastIndexOf(".");var _10a3=_10a1.substring(_10a2+1).toLowerCase();if(_10a2==-1||_1096.indexOf(this._allowedExts,_10a3)==-1){return window.mx.ui.translate("mendix.widget.MxFileinput","incorrect_extension",this.restrictions.replace(/;/g,", "));}}if(this.maxFileSize&&this.input.files){var _10a4=this.input.files[0].size/1048576;if(_10a4>this.maxFileSize){return window.mx.ui.translate("mendix.widget.MxFileinput","file_too_large",[_10a4.toFixed(2),this.maxFileSize.toString()]);}}return null;},uninitialize:function(){this._uploadButton&&this._uploadButton.destroy();this._downloadButton&&this._downloadButton.destroy();},_handleDownloadClick:function(e){this._downloadFile();_1098.stop(e);},_handleFileSelected:function(e){this._selectState="selected";this.isValid();if(this._labelNode){this._labelNode.value=this.input.value?this.input.value.replace(/^.*\//,""):_109a;}},_reset:function(){this.removeError();if(this._formNode){this.input.value="";this._formNode.reset();}if(this._labelNode){this._labelNode.value=_109a;}},_sendFile:function(_10a5){var self=this,ready=function(){return self._selectState!=="selecting";};var pid=window.mx.ui.showProgress();_108e.waitUntilPredicateHolds(ready,function(){window.mx.ui.hideProgress(pid);self._sendFileReal(_10a5);},[100,200,500,500,500,500]);},_sendFileReal:function(_10a6){if(this._selectState==="none"||this.input.value===""||this.validate()!=null){_10a6();return;}var self=this,pid;var _10a7=new _1090({form:this._formNode,width:this.thumbnailWidth,height:this.thumbnailHeight,objectGuid:this._mxObject.getGuid(),maxFileSize:this.maxFileSize,callback:function(){self._selectState="none";self._getObject(_10a6,function(e){_1091.error(this.id+"._sendFileReal: "+e.message);window.mx.onError(e);});},error:function(e){self._selectState="selected";if(e){_1091.error(self.id+"._sendFileReal: "+e.message);window.mx.onError(e);}else{_1091.error(self.id+"._sendFileReal: upload error");window.mx.onError(new _108f("Connection error"));}},startUpload:function(){pid=window.mx.ui.showProgress();},finishUpload:function(){window.mx.ui.hideProgress(pid);}});window.mx.data.flush(function(){_10a7.upload();});},_getObject:function(_10a8,error){window.mx.data.get({guid:this._mxObject.getGuid(),noCache:true,callback:_10a8,error:error});},_downloadFile:function(){if(this._mxObject){window.mx.ui.downloadFile({mxobject:this._mxObject,target:this.target});}}});return _109b;});},"mxui/widget/ImageUploader":function(){define(["mxui/widget/FileInput","dojo/_base/declare"],function(_10a9,_10aa){var _10ab=_10aa([_10a9],{declaredClass:"mxui.widget.ImageUploader",thumbnailWidth:100,thumbnailHeight:75,uploadable:true,accept:"image/*"});return _10ab;});},"mxui/widget/SelectBox":function(){define(["mxui/widget/_WidgetBase","mxui/wm/focus","mxui/dom","dojo/dom-construct","dojo/dom-geometry","dojo/dom-class","dojo/dom-style","dojo/on","dojo/window","dojo/keys","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_10ac,focus,dom,_10ad,_10ae,_10af,_10b0,_10b1,_10b2,_10b3,_10b4,_10b5,_10b6){var $=dom.create;var _10b7=_10b6(_10ac,{declaredClass:"mxui.widget.SelectBox",items:null,_dropDown:null,_isVisible:false,_docMouseDown:null,_focusBox:null,_textNode:null,buildRendering:function(){this._textNode=document.createTextNode("");this.domNode=$("button",{"type":"button","class":"form-control mx-selectbox"},$("div",{"class":"mx-selectbox-caret-wrapper"},$("span",{"class":"caret"})),this._textNode);this.connect(this.domNode,"keydown","_buttonKeyDown");this.connect(this.domNode,"mouseup","_toggleDropDown");this.connect(this.mxform,"onBeforeHide","_hideDropDown");this._createDropDown();},_buttonKeyDown:function(e){if(e.keyCode===_10b3.DOWN_ARROW){this._showDropDown();e.preventDefault();}},_toggleDropDown:function(){if(this._isVisible){this._hideDropDown();}else{this._showDropDown();}},_showDropDown:function(){if(this._isVisible){return;}this._isVisible=true;var box=_10ae.position(this.domNode),style={top:box.y+box.h+"px"};if(window.mx.ui.isRtl()){style.right=_10b2.getBox().w-box.x-box.w+"px";}else{style.left=box.x+"px";}_10b0.set(this._dropDown,style);document.body.appendChild(this._dropDown);this._docMouseDown=this.connect(document,"mousedown",function(e){if(e.target!=this.domNode){this._hideDropDown();}});focus.put(this._dropDown.firstChild);},_hideDropDown:function(){if(!this._isVisible){return;}this._isVisible=false;this._docMouseDown.remove();dom.orphan(this._dropDown);},_createDropDown:function(){var list=$("ul",{"class":"mx-dropdown dropdown-menu"}),self=this;this.own(_10b1(list,_10b1.selector("li","click"),function(e){self._selectItem(this);}));this.connect(list,"mousedown",function(e){e.stopPropagation();});this._dropDown=list;list.style.display="block";},_selectItem:function(node){var item=this.items[dom.data(node,"index")];item.checkbox.checked=item.selected=!item.selected;_10af.toggle(node,"selected");focus.put(node);this._updateCaption();},_setItemsAttr:function(items){this.items=items;_10ad.empty(this._dropDown);if(this._focusBox){this._focusBox.destroy();}this._focusBox=focus.addBox(this._dropDown);this._focusBox.pressed({DOWN_ARROW:this._focusBox.FOCUS_NEXT,UP_ARROW:this._focusBox.FOCUS_PREV,ESCAPE:_10b5.hitch(this,function(e){this._hideDropDown();focus.put(this.domNode);}),SPACE:_10b5.hitch(this,function(e){if(e.target.nodeName!="INPUT"){this._selectItem(e.target);}}),ENTER:_10b5.hitch(this,function(e){this._hideDropDown();focus.put(this.domNode);})});_10b4.forEach(this.items,function(item,index){var _10b8=item.checkbox=$("input",{type:"checkbox"}),_10b9=$("li",{tabIndex:-1},_10b8," ",$("label",item.caption));if(item.selected){_10b8.checked=true;_10af.add(_10b9,"selected");}dom.data(_10b9,"index",index);this._focusBox.add(_10b9);this._dropDown.appendChild(_10b9);},this);this._updateCaption();},_getValueAttr:function(){var _10ba=[];_10b4.forEach(this.items,function(item){if(item.checkbox.checked){_10ba.push(item.value);}});return _10ba;},_setValueAttr:function(_10bb){if(typeof _10bb=="string"){_10bb=[_10bb];}_10b4.forEach(this.items,function(item){item.checkbox.checked=item.selected=_10b4.indexOf(_10bb,item.value)>=0;});this._updateCaption();},_updateCaption:function(){var _10bc=[],_10bd;_10b4.forEach(this.items,function(item){if(item.checkbox.checked){_10bc.push(item.caption);}});if(_10bc.length===0){_10bd="";}else{if(_10bc.length===1){_10bd=_10bc[0];}else{_10bd=this.translate("itemsSelected",[_10bc.length]);}}this._textNode.nodeValue=_10bd;},uninitialize:function(){this._hideDropDown();_10b4.forEach(this._dropDown.children,function(child){dom.data(child,null);});if(this._focusBox){this._focusBox.destroy();}}});return _10b7;});},"mxui/widget/DynamicText":function(){define(["mxui/dom","mxui/lib/TextTemplate","mxui/widget/_WidgetBase","dojo/_base/declare"],function(dom,_10be,_10bf,_10c0){var _10c1=_10c0(_10bf,{declaredClass:"mxui.widget.DynamicText",content:null,_contentText:null,postCreate:function(){var self=this;this._contentText=new _10be(this.content,function(text){dom.text(self.domNode,text||"");});},update:function(obj,_10c2){this._contentText.update(obj,_10c2);},uninitialize:function(){this._contentText.destroy();}});return _10c1;});},"mxui/widget/ReactWidgetWrapper":function(){define(["mxui/widget/_WidgetBase","dojo/_base/lang","dojo/_base/declare"],function(_10c3,_10c4,_10c5){var _10c6=_10c5(_10c3,{type:null,props:null,autoLoad:false,_reactClient:null,constructor:function(){var self=this,_10c7="react-client/shims",_10c8="react-client/index";require([_10c7],function(){require([_10c8],function(_10c9){self._reactClient=_10c9;self.set("loaded",true);});});},update:function(_10ca,done){this._reactClient.mountComponent(this.domNode,this.type,_10c4.mixin({},this.props,{id:this.uniqueid+"_"+this.props.mxid}));if(done){done();}},uninitialize:function(){this._reactClient.unmountComponent(this.domNode);}});return _10c6;});},"mxui/polyfill/placeholder/placeholder":function(){define(["mxui/dom","dojo/dom-style","dojo/dom-geometry","dojo/on","dojo/sniff","dojo/_base/array","dojo/_base/lang","require"],function(dom,_10cb,_10cc,_10cd,_10ce,_10cf,_10d0,_10d1){"use strict";var $=dom.create;if(_10ce("ie")!=8&&_10ce("ie")!=9){return;}if(_10ce("ie")==9){_10ce.add("dom-parser",false,undefined,true);}_10d2("input[placeholder], textarea[placeholder]","behavior: url('"+_10d1.toUrl("./placeholder.htc")+"')");_10d0.setObject("mxui.polyfill.placeholder",{initialize:function(input){if(input._placeholder){return;}_10d3(input);},destroy:function(input){if(!input._placeholder){return;}_10d4(input);}});function _10d3(input){input._placeholder=_10d5(input);input.parentNode.appendChild(input._placeholder);if(input.parentNode&&_10cb.get(input.parentNode,"position")=="static"){input.parentNode.style.position="relative";}_10d6(input);input.onpropertychange=function(e){e=e||window.event;if(e.propertyName=="value"){_10d7(input);}else{if(e.propertyName=="placeholder"||e.propertyName=="className"||e.propertyName=="rows"||e.propertyName.indexOf("style")==0){_10d6(input);}}};input._placeholder._events.push(_10cd(input,"keyup",_10d0.partial(_10d7,input)));};function _10d4(input){input.onpropertychange=null;_10cf.forEach(input._placeholder._events,function(_10d8){_10d8.remove();});dom.orphan(input._placeholder);delete input._placeholder;};function _10d5(input){var _10d9=$(input.tagName,{tabindex:-1});_10d9._events=[];_10d9._events.push(_10cd(_10d9,"focus",_10d0.hitch(input,"focus")),_10cd(input,"resize",_10d0.partial(_10da,input)));return _10d9;};function _10da(input){var _10db=_10cb.getComputedStyle(input),_10dc=_10cc.getMarginBox(input,_10db),_10dd=_10cc.getPadBorderExtents(input,_10db),_10de=_10cc.getContentBox(input,_10db);input._placeholder.style.left=_10dc.l+"px";input._placeholder.style.top=_10dc.t+"px";input._placeholder.style.width=(_10dd.w+_10de.w)+"px";input._placeholder.style.height=(_10dd.h+_10de.h)+"px";};function _10d7(input){input._placeholder.style.display=input.value.length?"none":"";};function _10df(_10e0){_10e0.style.position="absolute";_10e0.style.overflow="hidden";_10e0.style.background="transparent";_10e0.style.borderColor="transparent";_10e0.style.boxShadow="none";_10e0.style.color="#888";};function _10d6(input){var rows=input.getAttribute("rows");if(rows){input._placeholder.rows=rows;}input._placeholder.value=input.getAttribute("placeholder")||"";input._placeholder.className=input.className;input._placeholder.style.cssText=input.style.cssText;_10df(input._placeholder);_10da(input);if(_10cb.get(input,"display")!="none"){_10d7(input);}};function _10d2(_10e1,style){document.getElementsByTagName("head")[0].appendChild($("style"));var _10e2=document.styleSheets[document.styleSheets.length-1];if(_10e2.insertRule){_10e2.insertRule(_10e1+"{"+style+"}",0);}else{_10e2.addRule(_10e1,style,0);}};});},"mxui/widget/PrimitiveWidgetWrapper":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_ValidationHelper","mxui/dom","mendix/logger","dojo/dom-class","dojo/_base/declare"],function(_10e3,_10e4,dom,_10e5,_10e6,_10e7){var $=dom.create;var _10e8=_10e7([_10e3,_10e4],{declaredClass:"mxui.widget.PrimitiveWidgetWrapper",widget:null,_mxobject:null,buildRendering:function(){this.domNode=$("div");this.widget.domNode.parentNode.replaceChild(this.domNode,this.widget.domNode);this.domNode.appendChild(this.widget.domNode);this.connect(this.widget,"onChange",this.onChange);},startup:function(){this.widget.startup();},update:function(obj,_10e9){var self=this;this.unsubscribeAll();this._mxobject=obj;if(this.widget.name){if(obj){this.subscribe({guid:obj.getGuid(),callback:function(){this.update(obj);}});window.mx.data.fetch(obj,this.widget.name,{usexpath:true},_10ea,function(e){window.mx.onError(e);if(_10e9){_10e9();}});}else{_10ea("");}}else{_10e5.error(this.id+".update: wrapped widget does not have name property");_10eb();}function _10ea(value){self.widget.set("value",value);_10eb();};function _10eb(){self.widget.applyContext(self.mxcontext,_10e9||function(){});};},enable:function(){var node=this.widget.domNode,_10ec=node.nodeName;if(_10ec=="SELECT"||(_10ec=="INPUT"&&node.type=="checkbox")){node.disabled=false;}else{if(_10ec=="INPUT"||_10ec=="TEXTAREA"||_10ec=="BUTTON"){node.removeAttribute("readonly");node.readOnly=false;}}_10e6.remove(node,"MxClient_formDisabled");},disable:function(){var node=this.widget.domNode,_10ed=node.nodeName;if(_10ed=="SELECT"||(_10ed=="INPUT"&&node.type=="checkbox")){node.disabled=true;}else{if(_10ed=="INPUT"||_10ed=="TEXTAREA"||_10ed=="BUTTON"){node.setAttribute("readonly","true");node.readOnly=true;}}_10e6.add(node,"MxClient_formDisabled");},onChange:function(){this._mxobject.set(this.widget.get("name"),this.widget.get("value"));},validate:function(){var value=this.get("value"),_10ee=this.widget;if(value===null){return _10ee.getInvalidCause?_10ee.getInvalidCause():"Invalid input";}if(value===""&&_10ee.obligatory){return _10ee.obligatorycause||window.mx.ui.translate("mendix.lib.Validations","required_field");}},_setValueAttr:function(value){return this.widget.set("value",value);},_getValueAttr:function(){return this.widget.get("value");}});return _10e8;});},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_10ef,lang,_10f0,_10f1,_10f2,_10f3,html,_10f4,array,_10f5,_10f6,dom,_10f7,_10f8,xhr,i18n,when){return _10f5("dijit.layout.ContentPane",[_10f0,_10f1,_10f2],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_10ef._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_10f9,node,ctor){var self=new ctor(_10f9,node);return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){return self;}):self;},create:function(_10fa,_10fb){if((!_10fa||!_10fa.template)&&_10fb&&!("href" in _10fa)&&!("content" in _10fa)){_10fb=dom.byId(_10fb);var df=_10fb.ownerDocument.createDocumentFragment();while(_10fb.firstChild){df.appendChild(_10fb.firstChild);}_10fa=lang.delegate(_10fa,{content:df});}this.inherited(arguments,[_10fa,_10fb]);},postMixInProperties:function(){this.inherited(arguments);var _10fc=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_10f3.substitute(this.loadingMessage,_10fc);this.errorMessage=_10f3.substitute(this.errorMessage,_10fc);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){array.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){array.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){array.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_10ef.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _10f6(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_10ef.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _10f6(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_10fd){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _10f6(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _10fe={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_10fe,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_10fe)),_10ff;hand.then(function(html){_10ff=html;try{self._isDownloaded=true;return self._setContent(html,false);}catch(err){self._onError("Content",err);}},function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;}).then(function(){self.onDownloadEnd();delete self._xhrDfd;return _10ff;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_1100){if(this.isLoaded){this._onUnloadHandler();}var _1101=this._contentSetter;array.forEach(this.getChildren(),function(_1102){if(_1102.destroyRecursive){_1102.destroyRecursive(_1100);}else{if(_1102.destroy){_1102.destroy(_1100);}}_1102._destroyed=true;});if(_1101){array.forEach(_1101.parseResults,function(_1103){if(!_1103._destroyed){if(_1103.destroyRecursive){_1103.destroyRecursive(_1100);}else{if(_1103.destroy){_1103.destroy(_1100);}}_1103._destroyed=true;}});delete _1101.parseResults;}if(!_1100){_10f8.empty(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_1104){this.destroyDescendants();var _1105=this._contentSetter;if(!(_1105&&_1105 instanceof html._ContentSetter)){_1105=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _1106=this.onContentError(e);try{this.containerNode.innerHTML=_1106;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _1107=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_1105.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_1107);var self=this;return when(p&&p.then?p:_1105.parseDeferred,function(){delete self._contentSetterParams;if(!_1104){if(self._started){self._startChildren();self._scheduleLayout();}self._onLoadHandler(cont);}});},_onError:function(type,err,_1108){this.onLoadDeferred.reject(err);var _1109=this["on"+type+"Error"].call(this,err);if(_1108){console.error(_1108,err);}else{if(_1109){this._setContent(_1109,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dijit/layout/_ContentPaneResizeMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","../registry","../Viewport","./utils"],function(array,_110a,_110b,_110c,_110d,lang,query,_110e,_110f,_1110){return _110a("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _1111=this.getParent();this._childOfLayoutWidget=_1111&&_1111.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_110f.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){if(!this.doLayout){return;}var _1112=[],_1113=false;query("> *",this.containerNode).some(function(node){var _1114=_110e.byNode(node);if(_1114&&_1114.resize){_1112.push(_1114);}else{if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){_1113=true;}}});this._singleChild=_1112.length==1&&!_1113?_1112[0]:null;_110b.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_1115,_1116){this._resizeCalled=true;this._scheduleLayout(_1115,_1116);},_scheduleLayout:function(_1117,_1118){if(this._isShown()){this._layout(_1117,_1118);}else{this._needLayout=true;this._changeSize=_1117;this._resultSize=_1118;}},_layout:function(_1119,_111a){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_1119){_110c.setMarginBox(this.domNode,_1119);}var cn=this.containerNode;if(cn===this.domNode){var mb=_111a||{};lang.mixin(mb,_1119||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_110c.getMarginBox(cn),mb);}this._contentBox=_1110.marginBox2contentBox(cn,mb);}else{this._contentBox=_110c.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_110c.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{var _111b=this.getChildren(),_111c,i=0;while(_111c=_111b[i++]){if(_111c.resize){_111c.resize();}}}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_111d=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_110b.contains(node,"dijitHidden")&&_111d&&_111d.style&&(_111d.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_111e,lang,_111f,_1120,dom,_1121,_1122){var _1123=0;var html={_secureForInnerHtml:function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");},_emptyNode:_1121.empty,_setNodeContent:function(node,cont){_1121.empty(node);if(cont){if(typeof cont=="string"){cont=_1121.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _1124=cont.length,i=0;i<cont.length;i=_1124==cont.length?i+1:0){_1121.place(cont[i],node,"last");}}else{_1121.place(cont,node,"last");}}return node;},_ContentSetter:_1120("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_111e._scopeName,startup:true,constructor:function(_1125,node){lang.mixin(this,_1125||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_1123++].join("_");}},set:function(cont,_1126){if(undefined!==cont){this.content=cont;}if(_1126){this._mixin(_1126);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _1127=this.onContentError(e);try{node.innerHTML=_1127;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_111f.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_1121.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var match=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(match){cont=match[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_1128){var empty={},key;for(key in _1128){if(key in empty){continue;}this[key]=_1128[key];}},_parse:function(){var _1129=this.node;try{var _112a={};_111f.forEach(["dir","lang","textDir"],function(name){if(this[name]){_112a[name]=this[name];}},this);var self=this;this.parseDeferred=_1122.parse({rootNode:_1129,noStart:!this.startup,inherited:_112a,scope:this.parserScope}).then(function(_112b){return self.parseResults=_112b;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_112c){var _112d=this["on"+type+"Error"].call(this,err);if(_112c){console.error(_112c,err);}else{if(_112d){html._setNodeContent(this.node,_112d,true);}}}}),set:function(node,cont,_112e){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_112e){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_112e,{content:cont,node:node}));return op.set();}}};lang.setObject("dojo.html",html);return html;});},"dojo/parser":function(){define(["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_112f,dojo,dlang,_1130,_1131,dom,_1132,_1133,_1134,all,dates,_1135,has,query,don,ready){new Date("X");function _1136(text){return eval("("+text+")");};var _1137=0;_1134.after(dlang,"extend",function(){_1137++;},true);function _1138(ctor){var map=ctor._nameCaseMap,proto=ctor.prototype;if(!map||map._extendCnt<_1137){map=ctor._nameCaseMap={};for(var name in proto){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_1137;}return map;};var _1139={};function _113a(types,_113b){var ts=types.join();if(!_1139[ts]){var _113c=[];for(var i=0,l=types.length;i<l;i++){var t=types[i];_113c[_113c.length]=(_1139[t]=_1139[t]||(dlang.getObject(t)||(~t.indexOf("/")&&(_113b?_113b(t):_112f(t)))));}var ctor=_113c.shift();_1139[ts]=_113c.length?(ctor.createSubclass?ctor.createSubclass(_113c):ctor.extend.apply(ctor,_113c)):ctor;}return _1139[ts];};var _113d={_clearCache:function(){_1137++;_1139={};},_functionFromScript:function(_113e,_113f){var _1140="",_1141="",_1142=(_113e.getAttribute(_113f+"args")||_113e.getAttribute("args")),_1143=_113e.getAttribute("with");var _1144=(_1142||"").split(/\s*,\s*/);if(_1143&&_1143.length){_1130.forEach(_1143.split(/\s*,\s*/),function(part){_1140+="with("+part+"){";_1141+="}";});}return new Function(_1144,_1140+_113e.innerHTML+_1141);},instantiate:function(nodes,mixin,_1145){mixin=mixin||{};_1145=_1145||{};var _1146=(_1145.scope||dojo._scopeName)+"Type",_1147="data-"+(_1145.scope||dojo._scopeName)+"-",_1148=_1147+"type",_1149=_1147+"mixins";var list=[];_1130.forEach(nodes,function(node){var type=_1146 in mixin?mixin[_1146]:node.getAttribute(_1148)||node.getAttribute(_1146);if(type){var _114a=node.getAttribute(_1149),types=_114a?[type].concat(_114a.split(/\s*,\s*/)):[type];list.push({node:node,types:types});}});return this._instantiate(list,mixin,_1145);},_instantiate:function(nodes,mixin,_114b,_114c){var _114d=_1130.map(nodes,function(obj){var ctor=obj.ctor||_113a(obj.types,_114b.contextRequire);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,mixin,_114b,obj.scripts,obj.inherited);},this);function _114e(_114f){if(!mixin._started&&!_114b.noStart){_1130.forEach(_114f,function(_1150){if(typeof _1150.startup==="function"&&!_1150._started){_1150.startup();}});}return _114f;};if(_114c){return all(_114d).then(_114e);}else{return _114e(_114d);}},construct:function(ctor,node,mixin,_1151,_1152,_1153){var proto=ctor&&ctor.prototype;_1151=_1151||{};var _1154={};if(_1151.defaults){dlang.mixin(_1154,_1151.defaults);}if(_1153){dlang.mixin(_1154,_1153);}var _1155;if(has("dom-attributes-explicit")){_1155=node.attributes;}else{if(has("dom-attributes-specified-flag")){_1155=_1130.filter(node.attributes,function(a){return a.specified;});}else{var clone=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),attrs=clone.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_1155=_1130.map(attrs.split(/\s+/),function(name){var _1156=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_1156=="enctype"?node.getAttribute(_1156):node.getAttributeNode(_1156).value};});}}var scope=_1151.scope||dojo._scopeName,_1157="data-"+scope+"-",hash={};if(scope!=="dojo"){hash[_1157+"props"]="data-dojo-props";hash[_1157+"type"]="data-dojo-type";hash[_1157+"mixins"]="data-dojo-mixins";hash[scope+"type"]="dojoType";hash[_1157+"id"]="data-dojo-id";}var i=0,item,_1158=[],_1159,extra;while(item=_1155[i++]){var name=item.name,_115a=name.toLowerCase(),value=item.value;switch(hash[_115a]||_115a){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":extra=value;break;case "data-dojo-id":case "jsid":_1159=value;break;case "data-dojo-attach-point":case "dojoattachpoint":_1154.dojoAttachPoint=value;break;case "data-dojo-attach-event":case "dojoattachevent":_1154.dojoAttachEvent=value;break;case "class":_1154["class"]=node.className;break;case "style":_1154["style"]=node.style&&node.style.cssText;break;default:if(!(name in proto)){var map=_1138(ctor);name=map[_115a]||name;}if(name in proto){switch(typeof proto[name]){case "string":_1154[name]=value;break;case "number":_1154[name]=value.length?Number(value):NaN;break;case "boolean":_1154[name]=value.toLowerCase()!="false";break;case "function":if(value===""||value.search(/[^\w\.]+/i)!=-1){_1154[name]=new Function(value);}else{_1154[name]=dlang.getObject(value,false)||new Function(value);}_1158.push(name);break;default:var pVal=proto[name];_1154[name]=(pVal&&"length" in pVal)?(value?value.split(/\s*,\s*/):[]):(pVal instanceof Date)?(value==""?new Date(""):value=="now"?new Date():dates.fromISOString(value)):(pVal instanceof _1133)?(dojo.baseUrl+value):_1136(value);}}else{_1154[name]=value;}}}for(var j=0;j<_1158.length;j++){var _115b=_1158[j].toLowerCase();node.removeAttribute(_115b);node[_115b]=null;}if(extra){try{extra=_1136.call(_1151.propsThis,"{"+extra+"}");dlang.mixin(_1154,extra);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+extra+"'");}}dlang.mixin(_1154,mixin);if(!_1152){_1152=(ctor&&(ctor._noScript||proto._noScript)?[]:query("> script[type^='dojo/']",node));}var _115c=[],calls=[],_115d=[],ons=[];if(_1152){for(i=0;i<_1152.length;i++){var _115e=_1152[i];node.removeChild(_115e);var event=(_115e.getAttribute(_1157+"event")||_115e.getAttribute("event")),prop=_115e.getAttribute(_1157+"prop"),_115f=_115e.getAttribute(_1157+"method"),_1160=_115e.getAttribute(_1157+"advice"),_1161=_115e.getAttribute("type"),nf=this._functionFromScript(_115e,_1157);if(event){if(_1161=="dojo/connect"){_115c.push({method:event,func:nf});}else{if(_1161=="dojo/on"){ons.push({event:event,func:nf});}else{_1154[event]=nf;}}}else{if(_1161=="dojo/aspect"){_115c.push({method:_115f,advice:_1160,func:nf});}else{if(_1161=="dojo/watch"){_115d.push({prop:prop,func:nf});}else{calls.push(nf);}}}}}var _1162=ctor.markupFactory||proto.markupFactory;var _1163=_1162?_1162(_1154,node,ctor):new ctor(_1154,node);function _1164(_1165){if(_1159){dlang.setObject(_1159,_1165);}for(i=0;i<_115c.length;i++){_1134[_115c[i].advice||"after"](_1165,_115c[i].method,dlang.hitch(_1165,_115c[i].func),true);}for(i=0;i<calls.length;i++){calls[i].call(_1165);}for(i=0;i<_115d.length;i++){_1165.watch(_115d[i].prop,_115d[i].func);}for(i=0;i<ons.length;i++){don(_1165,ons[i].event,ons[i].func);}return _1165;};if(_1163.then){return _1163.then(_1164);}else{return _1164(_1163);}},scan:function(root,_1166){var list=[],mids=[],_1167={};var _1168=(_1166.scope||dojo._scopeName)+"Type",_1169="data-"+(_1166.scope||dojo._scopeName)+"-",_116a=_1169+"type",_116b=_1169+"textdir",_116c=_1169+"mixins";var node=root.firstChild;var _116d=_1166.inherited;if(!_116d){function _116e(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_116e(node.parentNode,attr));};_116d={dir:_116e(root,"dir"),lang:_116e(root,"lang"),textDir:_116e(root,_116b)};for(var key in _116d){if(!_116d[key]){delete _116d[key];}}}var _116f={inherited:_116d};var _1170;var _1171;function _1172(_1173){if(!_1173.inherited){_1173.inherited={};var node=_1173.node,_1174=_1172(_1173.parent);var _1175={dir:node.getAttribute("dir")||_1174.dir,lang:node.getAttribute("lang")||_1174.lang,textDir:node.getAttribute(_116b)||_1174.textDir};for(var key in _1175){if(_1175[key]){_1173.inherited[key]=_1175[key];}}}return _1173.inherited;};while(true){if(!node){if(!_116f||!_116f.node){break;}node=_116f.node.nextSibling;_1171=false;_116f=_116f.parent;_1170=_116f.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_1170&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_1170.push(node);}node=node.nextSibling;continue;}if(_1171){node=node.nextSibling;continue;}var type=node.getAttribute(_116a)||node.getAttribute(_1168);var _1176=node.firstChild;if(!type&&(!_1176||(_1176.nodeType==3&&!_1176.nextSibling))){node=node.nextSibling;continue;}var _1177;var ctor=null;if(type){var _1178=node.getAttribute(_116c),types=_1178?[type].concat(_1178.split(/\s*,\s*/)):[type];try{ctor=_113a(types,_1166.contextRequire);}catch(e){}if(!ctor){_1130.forEach(types,function(t){if(~t.indexOf("/")&&!_1167[t]){_1167[t]=true;mids[mids.length]=t;}});}var _1179=ctor&&!ctor.prototype._noScript?[]:null;_1177={types:types,ctor:ctor,parent:_116f,node:node,scripts:_1179};_1177.inherited=_1172(_1177);list.push(_1177);}else{_1177={node:node,scripts:_1170,parent:_116f};}_1170=_1179;_1171=node.stopParser||(ctor&&ctor.prototype.stopParser&&!(_1166.template));_116f=_1177;node=_1176;}var d=new _1135();if(mids.length){if(has("dojo-debug-messages")){console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));}var r=_1166.contextRequire||_112f;r(mids,function(){d.resolve(_1130.filter(list,function(_117a){if(!_117a.ctor){try{_117a.ctor=_113a(_117a.types,_1166.contextRequire);}catch(e){}}var _117b=_117a.parent;while(_117b&&!_117b.types){_117b=_117b.parent;}var proto=_117a.ctor&&_117a.ctor.prototype;_117a.instantiateChildren=!(proto&&proto.stopParser&&!(_1166.template));_117a.instantiate=!_117b||(_117b.instantiate&&_117b.instantiateChildren);return _117a.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_117c,_117d){var hash=_1136("{"+_117c.innerHTML+"}"),vars=[],mids=[],d=new _1135();var _117e=(_117d&&_117d.contextRequire)||_112f;for(var name in hash){vars.push(name);mids.push(hash[name]);}_117e(mids,function(){for(var i=0;i<vars.length;i++){dlang.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root,_117f){var _1180=new _1135(),_1181=_1180.promise;_1180.resolve(true);var self=this;query("script[type='dojo/require']",root).forEach(function(node){_1181=_1181.then(function(){return self._require(node,_117f);});node.parentNode.removeChild(node);});return _1181;},parse:function(_1182,_1183){var root;if(!_1183&&_1182&&_1182.rootNode){_1183=_1182;root=_1183.rootNode;}else{if(_1182&&dlang.isObject(_1182)&&!("nodeType" in _1182)){_1183=_1182;}else{root=_1182;}}root=root?dom.byId(root):_1132.body();_1183=_1183||{};var mixin=_1183.template?{template:true}:{},_1184=[],self=this;var p=this._scanAmd(root,_1183).then(function(){return self.scan(root,_1183);}).then(function(_1185){return self._instantiate(_1185,mixin,_1183,true);}).then(function(_1186){return _1184=_1184.concat(_1186);}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});dlang.mixin(_1184,p);return _1184;}};if(1){dojo.parser=_113d;}if(_1131.parseOnLoad){ready(100,_113d,"parse");}return _113d;});},"dojo/_base/url":function(){define(["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_1187=function(){var n=null,_1188=arguments,uri=[_1188[0]];for(var i=1;i<_1188.length;i++){if(!_1188[i]){continue;}var _1189=new _1187(_1188[i]+""),_118a=new _1187(uri[0]+"");if(_1189.path==""&&!_1189.scheme&&!_1189.authority&&!_1189.query){if(_1189.fragment!=n){_118a.fragment=_1189.fragment;}_1189=_118a;}else{if(!_1189.scheme){_1189.scheme=_118a.scheme;if(!_1189.authority){_1189.authority=_118a.authority;if(_1189.path.charAt(0)!="/"){var path=_118a.path.substring(0,_118a.path.lastIndexOf("/")+1)+_1189.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_1189.path=segs.join("/");}}}}uri=[];if(_1189.scheme){uri.push(_1189.scheme,":");}if(_1189.authority){uri.push("//",_1189.authority);}uri.push(_1189.path);if(_1189.query){uri.push("?",_1189.query);}if(_1189.fragment){uri.push("#",_1189.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_1187.prototype.toString=function(){return this.uri;};return dojo._Url=_1187;});},"dijit/nls/loading":function(){define({root:({loadingState:"Loading...",errorState:"Sorry, an error occurred"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"id":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});},"dijit/nls/nl/loading":function(){define(({loadingState:"Bezig met laden...",errorState:"Er is een fout opgetreden"}));},"mxui/startup":function(){define(["mxui/Client","mendix/lib/MxContext","dojo/hash","dojo/aspect","dojo/cookie","dojo/_base/config"],function(_118b,_118c,_118d,_118e,_118f,_1190){var _1191=/(?:\?|&)(profile=[^&]+)/.exec(window.location.search),_1192=_1191?"?"+_1191[1]:"",hash=_118d();window.mx=new _118b(_1190);_118e.before(window.mx,"reload",function(){window.location.replace(window.location.pathname+_1192);});_118e.before(window.mx,"redirect",function(_1193){window.location.href=_1193+_1192;});if(!("cacheBust" in _1190)){window.alert("The 'cacheBust' parameter is missing. Update the index page in the theme by adding the cachebust to the 'dojoConfig' and to every url pointing to a static resource (e.g. scripts and stylesheets). See index-example.html in the deployment/web directory for an example of what the index page should look like.");return;}if(!_1194()){window.alert("This application requires cookies to be enabled.");return;}if(!_1190.preventStartup){window.mx.startup();}window.mx.addOnLoad(function(){var perma=window.mx.ui.decodeUrlHash(hash);if(perma){perma();return;}var _1195=_1196();if(_1195){var _1197=new _118c();_1197.setContext(_1195.entity,_1195.guid);window.mx.ui.openFormInContent(_1195.path,"",_1197);return;}window.mx.remote.execute(window.mx.session.getConfig());function _1196(){var _1198=window.sessionStorage.getItem("refreshData");if(_1198){window.sessionStorage.removeItem("refreshData");return JSON.parse(_1198);}else{return null;}};});function _1194(){if(!/^https?:/.test(window.location.protocol)){return navigator.cookieEnabled;}else{if(navigator.cookieEnabled===false){return false;}else{_118f("mx-cookie-test","allowed");var _1199=_118f("mx-cookie-test")==="allowed";_118f("mx-cookie-test","",{expires:-1});return _1199;}}};});},"mxui/Client":function(){define(["mxui/sys/Parser","mxui/sys/UI","mendix/sys/Data","mendix/sys/Meta","mendix/sys/Remote","mendix/sys/Server","mendix/sys/Session","mendix/lang","mendix/logger","webcore/sql/Store","dojo/cookie","dojo/aspect","dojo/_base/array","dojo/_base/lang"],function(_119a,UI,Data,Meta,_119b,_119c,_119d,lang,_119e,_119f,_11a0,_11a1,_11a2,_11a3){function _11a4(_11a5){_11a5=_11a5||{};var self=this,name="mendix.Client",_11a6=false,_11a7=[];this.appUrl=_11a5.appbase||_11a8();this.remoteUrl=_11a5.remotebase||this.appUrl;this.baseUrl=_11a5.xasbase||(this.remoteUrl+"xas/");this.modulePath=_11a5.modulePath||"../../widgets/";this.server=new _119c(_11a3.mixin({timeout:_11a5.timeout},_11a5.server));this.session=new _119d();this.remote=new _119b();this.meta=new Meta();this.data=new Data(_11a5.data);this.ui=new UI(_11a5.ui);this.parser=new _119a();_11a9();function _11a8(){var href=window.location.href,hash=href.indexOf("#");if(hash!=-1){href=href.slice(0,hash);}return href.slice(0,href.lastIndexOf("/")+1);};function _11aa(_11ab){self.ui.startup(function(){self.parser.startup(_11ab);});};this.toString=function(){return name;};this.isLoaded=function(){return _11a6;};this.addOnLoad=function(fnc){_11a6?fnc():_11a7.push(fnc);};this.reload=function(){};this.redirect=function(_11ac){};this.startup=function(){if(_11a6){throw new Error("Client has already been started up!");}this.session.authorized({params:{offline:_11a5.offline||false},no:function(args){var _11ad=args&&lang.inArray(args.http_code,["402","404","500","503"])?args.http_code:0;var _11ae=_11b9("reloginReason");self.ui.showLogin(_11ae||_11ad);},yes:function(_11af){self.meta.startup();var _11b0=mx.session.getConfig("sync_config");var _11b1=_11a5.store||{};if(_11b0){self.data.setOfflineStore(new _119f(_11b0.schema,_11b1.createStoreFn),_11b0.fetch);}self.data.startup();self.session.startup();var _11b2=[];if(_11af&&_11b0&&_11b0.fetch){_11b2.push(function(_11b3){mx.data.synchronize(_11b3,function(e){mx.onError(e);if(_11b3){_11b3();}});});}_11b2=_11b2.concat([_11aa,_11b4]);lang.sequence(_11b2);function _11b4(){_11a6=true;while(_11a7.length!=0){_11a7.pop()();}};}});};this.login=function(_11b5,_11b6,_11b7,_11b8){this.session.login({username:_11b5,password:_11b6,success:function(){if(_11a6){self.reload();}else{_11b7&&_11b7();self.startup();}},error:_11b8});};this.logout=function(){this.session.logout(_11a3.hitch(this,"reload"));};function _11a9(){_11a1.before(self.server,"onUnauthorized",function(code){if(code=="401"){code="419";}_11a0("reloginReason",code,{expires:10/(24*60*60)});self.reload();});};this.onError=function(err){_119e.error("Error: "+err.message);};function _11b9(_11ba){var _11bb=_11a0(_11ba);_11a0(_11ba,null,{expires:-1});return _11bb;};};return _11a4;});},"mxui/sys/Parser":function(){define(["mendix/logger","big/big","dojo/i18n","dojo/date/locale","dojo/_base/lang"],function(_11bc,Big,_11bd,_11be,_11bf){var name="mxui.sys.Parser";var _11c0=function(_11c1,_11c2){_11c1.setFullYear(_11c2.getFullYear(),_11c2.getMonth(),_11c2.getDate());};var _11c3=function(_11c4,_11c5){_11c4.setHours(_11c5.getHours(),_11c5.getMinutes(),_11c5.getSeconds(),_11c5.getMilliseconds());};var _11c6=function(_11c7,_11c8,_11c9){return _11c9.dateLocale.format(new _11c9.Date(_11c7),_11c8);};var _11ca=function(_11cb,_11cc,_11cd){var date=_11cd.dateLocale.parse(_11cb,_11cc);if(date&&date.toGregorian){date=date.toGregorian();}if(!date){if(_11cb.indexOf("")==-1){if(!_11cc.datePattern){_11cc.datePattern=_11cd.datePattern;}_11cc.datePattern=_11cc.datePattern.replace(/\u200f/g,"");date=_11be.parse(_11cb,_11cc);}}return date;};function _11ce(_11cf,times){return new Array(times+1).join(_11cf);};function _11d0(str,_11d1,_11d2){return str.length<_11d2?str+_11ce(_11d1,_11d2-str.length):str;};function _11d3(_11d4,_11d5,_11d6){var _11d7={name:_11d4,decimalSeparator:_11d5.decimal,groupSeparator:_11d5.group,groupSize:3,datePattern:_11d6["dateFormat-short"]};var _11d8="\\d+"+"|"+"\\d"+_11ce("\\d?",_11d7.groupSize-1)+"(?:\\"+_11d7.groupSeparator+_11ce("\\d",_11d7.groupSize)+")*",_11d9="\\"+_11d7.decimalSeparator+"\\d+",_11da="^"+"(-)?"+"("+_11d8+")"+"("+_11d9+")?"+"$";_11d7.numberPattern=new RegExp(_11da);var _11db=_11bf.getObject(window.mx.ui.getDatePackage());_11d7.dateLocale=_11db.locale||_11be;_11d7.Date=_11db.Date||Date;return _11d7;};function _11dc(value,_11dd,_11de,_11df){var _11e0=_11de>=0?value.round(_11de):value,_11e1=_11e0.lt(0),_11e2=_11e0.toFixed().split("."),_11e3=_11e1?_11e2[0].slice(1):_11e2[0],_11e4=_11e2[1],_11e5=_11e3,_11e6=_11e4;if(_11de>=0){_11e6=_11d0(_11e4||"","0",_11de);}if(_11dd){var i=_11e3.length%_11df.groupSize||_11df.groupSize;_11e5=_11e3.substr(0,i);for(;i<_11e3.length;i+=_11df.groupSize){_11e5+=_11df.groupSeparator+_11e3.substr(i,_11df.groupSize);}}return (_11e1?"-":"")+_11e5+(_11e6?_11df.decimalSeparator+_11e6:"");};function _11e7(_11e8,_11e9,_11ea){var match=_11ea.numberPattern.exec(_11e8);if(!match){return null;}var _11eb=new Big(_11e8.split(_11ea.groupSeparator).join("").split(_11ea.decimalSeparator).join("."));return _11e9>=0?_11eb.round(_11e9):_11eb;};function _11ec(){var self=this,_11ed;this.toString=function(){return name;};this.startup=function(_11ee){require([_11bd.getL10nName("dojo.cldr","number",window.dojo.locale),_11bd.getL10nName("dojo.cldr","gregorian",window.dojo.locale)],function(_11ef,_11f0){_11ed=_11d3(window.dojo.locale,_11ef,_11f0);if(_11ee){_11ee();}});};this.parseDate=function(_11f1,opts){if(!_11f1){return null;}opts=opts||{};var _11f2={selector:opts.selector||"date",formatLength:opts.format||"short",datePattern:opts.datepattern||opts.datePattern,timePattern:opts.timePattern};var _11f3=_11ca(_11f1,_11f2,_11ed);if(_11f3){if(_11f2.selector=="time"){var now=new Date();now.setMilliseconds(_11f3.getMilliseconds());now.setSeconds(_11f3.getSeconds());now.setMinutes(_11f3.getMinutes());now.setHours(_11f3.getHours());return +now;}}return _11f3&&_11f3.getTime();};this.formatDate=function(epoch,opts){var _11f4=Number(epoch);if(epoch===""){return epoch;}else{if(isNaN(_11f4)){return null;}}opts=opts||{};var _11f5=new Date(_11f4),_11f6={locale:_11ed.name,selector:opts.selector||"date",formatLength:opts.format||"short",datePattern:opts.datepattern||opts.datePattern,timePattern:opts.timePattern};if(_11f6.selector=="time"){var now=new Date(0);now.setMilliseconds(_11f5.getMilliseconds());now.setSeconds(_11f5.getSeconds());now.setMinutes(_11f5.getMinutes());now.setHours(_11f5.getHours());_11f5=now;}return _11c6(_11f5,_11f6,_11ed);};this.formatValue=function(value,type,props){props=props||{};if(value===""){return "";}switch(type.toLowerCase()){case "decimal":case "float":return _11dc(new Big(value),!!props.groups,"places" in props&&props.places>=0?props.places:-1,_11ed);case "currency":return _11dc(new Big(value),!!props.groups,"places" in props&&props.places>=0?props.places:2,_11ed);case "autonumber":case "integer":case "long":return _11dc(new Big(value),!!props.groups,props.places||0,_11ed);case "datetime":return _11c6(new Date(value),_11bf.mixin({selector:"date"},props),_11ed);case "boolean":return mx.ui.translate("mxui.common",value);default:return value;}};this.formatAttribute=function(obj,attr,props){var type=obj.getAttributeType(attr),value=obj.get2(attr);if(type=="Enum"){value=obj.getEnumCaption(attr,value);}return self.formatValue(value,type,props);};this.parseValue2=function(value,type,props){props=props||{};if(value===""){return "";}switch(type.toLowerCase()){case "float":case "currency":case "integer":case "long":case "decimal":return _11e7(value,props.places,_11ed);case "datetime":return _11ca(value,_11bf.mixin({selector:"date"},props),_11ed);case "enum":return value;case "boolean":return value==mx.ui.translate("mxui.common",true);default:return value;}};this.localizeEpoch=function(epoch){var obj=new Date(Number(epoch));return new Date(obj.getUTCFullYear(),obj.getUTCMonth(),obj.getUTCDate(),obj.getUTCHours(),obj.getUTCMinutes(),obj.getUTCSeconds(),obj.getUTCMilliseconds()).getTime();};this.delocalizeEpoch=function(epoch){var obj=new Date(Number(epoch));return Date.UTC(obj.getFullYear(),obj.getMonth(),obj.getDate(),obj.getHours(),obj.getMinutes(),obj.getSeconds(),obj.getMilliseconds());};this.mergeDates=function(_11f7,_11f8,part){var _11f9=new Date(_11f7);switch(part){case "date":_11c0(_11f9,_11f8);break;case "time":_11c3(_11f9,_11f8);break;case "datetime":_11c0(_11f9,_11f8);_11c3(_11f9,_11f8);break;default:_11f9=_11f8;}return _11f9;};this.replaceXPathTokens=function(_11fa,_11fb){if(_11fb&&_11fb.hasTrackId()){_11fa=_11fa.replace(/\[%CurrentObject%\]/g,_11fb.getTrackId());}else{if(/\[%CurrentObject%\]/.test(_11fa)){}}return _11fa;};};return _11ec;});},"mxui/sys/UI":function(){define(["mxui/lib/form/FormFactory","mxui/lib/form/ContentForm","mxui/widget/DialogMessage","mxui/widget/Progress","mxui/widget/Underlay","mxui/widget/LoginDialog","mxui/widget/DemoUserSwitcher","mxui/widget/ConfirmationDialog","mxui/sys/history","mxui/io/iframe","mxui/dom","mendix/validator","mendix/lib/ServerError","mendix/lib/ConnectionError","mendix/lib/DescribedError","mendix/lib/DescribedServerError","mendix/lib/NavigationError","mendix/lib/ValidationError","mendix/lib/Error","mendix/lib/MxContext","mendix/lang","mendix/logger","webcore/url-helpers","big/big","fastclick/fastclick","dijit/registry","dojo/dom-class","dojo/on","dojo/aspect","dojo/cookie","dojo/has","dojo/ready","dojo/i18n","dojo/_base/array","dojo/_base/kernel","dojo/_base/lang","dojo/_base/config","require","dojox/date/buddhist","dojox/date/buddhist/locale"],function(_11fc,_11fd,_11fe,_11ff,_1200,_1201,_1202,_1203,_1204,_1205,_1206,_1207,_1208,_1209,_120a,_120b,_120c,_120d,_120e,_120f,lang,_1210,_1211,Big,_1212,_1213,_1214,_1215,_1216,_1217,_1218,_1219,_121a,_121b,_121c,_121d,_121e,_121f){function UI(_1220){_1220=_1220||{};var self=this,name="mxui.sys.UI",_1221=false,_1222=null,_1223=null,_1224=null,isRtl=false,_1225="en_US",_1226=null,menus=null,_1227="",_1228="desktop",_1229="Mendix 6",_122a=null,_122b,_122c={"HALF_UP":1,"HALF_EVEN":2};var _122d={buddhist:/th$/,hebrew:null,islamic:null};var _122e=_1220.openUrlFn||function(url,_122f,_1230){window.open(url,_1230);};this.startup=function(_1231){var _1232=window.mx.session.getConfig().uiconfig;_1233(_1232);_1234(_1232);_1235(_1232);_1236(_1232);_1237(_1232.roundingmode);_1238();_1215(window,"resize",_121d.hitch(self,"resize"));_1239();_123a();_123b(_1232.modules);_123c();_123d(function(){isRtl=document.body.dir.toLowerCase()=="rtl";_123e();_1221=true;_1231();});};function _1233(_123f){menus=_123f.menubars;lang.forEach(menus,function(menu,_1240){_1241(menu,_1240+"-");});function _1241(menu,_1242){_121b.forEach(menu,function(item,index){item.id=_1242+index;if(item.items){_1241(item.items,item.id+"-");}});};};function _1234(_1243){_1225=_1243.locale;_121c.locale=_121a.normalizeLocale(_1225.replace("_","-"));_1226=_1243.translations;_1244();_1245();};function _1235(_1246){_1228=_1246.profile.name.toLowerCase();_1229=_1246.profile.title;document.title=_1229;_1214.add(document.body,"profile-"+_1228);};function _1236(){var _1247=_121b.map(window.mx.session.getUserRoles("Name"),function(role){return "role-"+role.toLowerCase();});_1214.add(document.body,_1247);};function _1237(_1248){Big.RM=_1248?_122c[_1248]:_122c.HALF_EVEN;};function _1238(){_1216.before(window.mx,"onError",function(e){var msg;if(e instanceof _120a||e instanceof _120b){msg=e.message;}else{if(e instanceof _1209){msg=self.translate("mxui.sys.UI","connection_error");}else{if(e instanceof _1208){msg=self.translate("mxui.sys.UI","internal_error");}else{msg=self.translate("mxui.sys.UI","internal_error");}}}_1222&&_1222.hide();_1222=_1249(msg,"error");_1222.show(true);});};function _1239(){_122b=new _11fc();_122a=new _11fd();_1216.after(_122a,"onNavigation",function(){document.title=_1229+" - "+_122a.title;});_1223=new _11ff();_1224=new _1200();var _124a=mx.session.getConfig("demoUsers");if(_124a){_121b.forEach(_124a,function(user){user.active=(user.name==window.mx.session.getUserName());});var _124b=new _1202({demoUsers:_124a});document.body.appendChild(_124b.domNode);_124b.startup();}};function _123e(){var _124c=document.getElementById("content");if(!_124c){self.exception("You are using an outdated index page. Please update your index page. See index-example.html in the deployment directory for an example of what the index page should look like.");return;}_124c.appendChild(_122a.domNode);};function _123a(){_1204.init();_1216.after(_122a,"dispose",_1204.back);var _124d=null;_1216.after(_1204,"onNavigation",function(_124e,_124f){if(!_124f){return;}var _1250=_124f.formParams;if(!_124d){_124d=self.showProgress();}if(_124e){_122a.onPersistViewState(_124e.viewState);}if(!_124f.viewState){_124f.viewState={};}_122a.navigateTo(_1250.path,_1250.title,_1250.context,_1250.params,_121d.clone(_124f.viewState),function(){self.hideProgress(_124d);_124d=null;},function(e){if(e instanceof _120c){}else{self.hideProgress(_124d);_124d=null;window.mx.onError(e);}});},true);};function _123d(_1251){var _1252=window.mx.session.getConfig("uiconfig.widgets");if(_1252.length>0){_1253();dojo.registerModulePath("widgets",window.mx.modulePath);_121b.forEach(_1252,function(_1254){var _1255=_1254.split(".")[0];dojo.registerModulePath(_1255,window.mx.modulePath+_1255);});var _1256=["widgets/widgets"];_121f(_1256);}_1219(_1251);};function _1253(){var head=document.getElementsByTagName("head")[0],_1257=head.querySelector("link[href*='css/theme.css']"),_1258=_1206.createCssLink("widgets/widgets.css");if(_1257){head.insertBefore(_1258,_1257);}else{head.appendChild(_1258);}};function _123b(_1259){for(var i=0,_125a;_125a=_1259[i];i++){try{dojo["require"](_125a+"."+_125a);}catch(e){_1210.error(name+".getModules: failed loading module "+_125a);}}};function _1245(){var _125b=self.getCalendarSystem();switch(_125b){case "gregorian":_1227="dojo.date";return;case "buddhist":_1227="dojox.date.buddhist";dojo["require"](_1227);dojo["require"](_1227+".locale");return;default:throw new Error("Unsupported date package: "+_125b);}};function _123c(){if(!_1218("windowsphone")){_1212.attach(document.body);}if(_1218("ie")){if(JSON.stringify(document.createElement("input").value)==="\"null\""){var _125c=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value").get;Object.defineProperty(HTMLInputElement.prototype,"value",{get:function(){var value=_125c.call(this);return value===""?"":value;}});}_1215(document,"click",function(e){var node=e.target;if(node.nodeName=="TEXTAREA"||node.nodeName=="INPUT"&&(node.type=="text"||node.type=="password")){if(document.activeElement!=node){var sel=_1206.getSelection(node);try{node.focus();}catch(ex){}_1206.selectTextRange(node,sel.start,sel.end);}}if(_1218("ie")<=8){if(node.nodeName=="INPUT"&&(node.type==="checkbox"||node.type==="radio")){_1206.dispatchEvent(node,"onchange");}}});}};function _1244(){var map={"mendix":"mxui","mendix.core.MxServer":"mendix.core.Server","mendix.widget.MxDataView":"mendix.widget.MxFormView","mendix.widget.MxNavigator":"mendix.widget.Navigator","mendix.widget.MxDataGrid":"mendix.widget.DataGrid","mendix.widget.DataGrid.true":"mxui.common.true","mendix.widget.DataGrid.false":"mxui.common.false","mendix.core.MxServer.invalid_session":"mendix.session.session_expired","mobile.widget.Dialog.ok":"mxui.widget.DialogMessage.ok","mxui.widget.Dialog.error":"mxui.widget.DialogMessage.error","mxui.widget.Dialog.information":"mxui.widget.DialogMessage.info","mxui.widget.Dialog.warning":"mxui.widget.DialogMessage.warning","mxui.widget.Dialog.confirmation":"mxui.widget.ConfirmationDialog.caption","mobile.widget":"mxui.widget","mobile.sys":"mxui.sys"};for(var _125d in map){var spath=_125d.split("."),dpath=map[_125d].split("."),skey=spath.pop(),dkey=dpath.pop(),stree=_1226,dtree=stree,step;while(stree&&(step=spath.shift())){stree=stree[step];}if(stree){while(step=dpath.shift()){dtree=dtree[step]=dtree[step]||{};}if(dtree[dkey]){_121d.mixin(dtree[dkey],stree[skey]);}else{dtree[dkey]=stree[skey];}}}};function _1249(msg,type){return new _11fe({type:type,content:""+self.extractMessage(msg)});};this.openFormInContent=function(path,title,_125e,_125f){_1204.push({formParams:{path:path,title:title,context:_125e||new _120f(),params:_125f||{}}});};this.openFormInPopup=function(path,args,_1260,_1261,_1262,error){var self=this,pid=this.showProgress();_122b.openPopupForm(path,args,(_1260||new _120f()),(_1261||{}),function(form){self.hideProgress(pid);_1262&&_1262(form);},function(e){self.hideProgress(pid);error?error(e):window.mx.onError(e);});};this.openFormInNode=function(path,_1263,_1264,_1265,_1266,error){var self=this,pid=this.showProgress();_122b.openInlineForm(path,_1263,(_1264||new _120f()),(_1265||{}),function(form){self.hideProgress(pid);_1266&&_1266(form);},function(e){self.hideProgress(pid);error?error(e):window.mx.onError(e);});};function _1267(fmt,args){if(!args){return fmt;}else{if(!(args instanceof Array)){args=[args];}}return fmt.replace(/\{(\d+)\}/g,function(match,n){var value=args[n-1];if(value!=null){return value;}else{return match;}});};this.toString=function(){return name;};this.getCurrentForm=function(){return _122a;};this.getProfile=function(){return _1228;};this.getMenu=function(_1268){return menus[_1268]||[];};this.getDatePackage=function(){return _1227;};this.getCalendarSystem=function(){for(var m in _122d){var re=_122d[m];if(re&&re.test(_121c.locale.toLowerCase())){return m;}}return "gregorian";};this.isRtl=function(){return isRtl;};this.resize=function(){_122a.resize();};this.execute=function(_1269,args,scope){var _126a=_121d.mixin({},_1269.microflow||_1269.form,args);if(_126a.allowedRoles&&!window.mx.session.hasSomeRole(_126a.allowedRoles)){if(window.mx.session.isGuest()){this.showLogin();}else{window.mx.onError(new _120a("Unable to execute action because you do not have sufficient permissions."));}return;}if(_1269.microflow){this.action(_126a.name,_126a,scope);}else{if(_1269.form){this.openForm(_126a.path,_126a,scope);}else{_1210.error(name+".execute: unknown action type");}}};this.action=function(name,_126b,scope){_126b=_126b||{};_121d.setObject("params.actionname",name,_126b);var _126c;if("progress" in _126b){_126c=this.getProgress(_126b.progressMsg,_126b.progress=="modal");_126c.start();}window.mx.data.action({callback:_126d(_126b.callback),error:_126d(function(e){if(_126b.error){_126b.error.call(scope,e);}else{if(!(e instanceof _120d)){window.mx.onError(e);}}}),context:_126b.context,async:_126b.async,params:_126b.params,store:_121d.mixin({caller:_122a},_126b.store)});function _126d(_126e){return function(){try{if(_126e){_126e.apply(scope,arguments);}}finally{if(_126c){_126c.stop();}if(_126b.complete){_126b.complete.apply(scope);}}};};};this.back=function(){_1204.back();};this.showProgress=function(msg,modal){return _1223.add(msg||"",modal);};this.hideProgress=function(id){return _1223.remove(id);};this.showUnderlay=function(delay){_1224.show(delay);};this.hideUnderlay=function(delay){_1224.hide(delay);};this.getProgress=function(msg,modal){var id,_126f;return {start:function(){if(_126f){return id;}else{_126f=true;return id=self.showProgress(msg,modal);}},stop:function(){if(_126f){_126f=false;self.hideProgress(id);}}};};function _1270(_1271){if(!_1221){var _1272=window.mx.session.getConfig("profile");if(_1272){_1228=_1272.name.toLowerCase();_1214.add(document.body,"profile-"+_1228);document.title=_1272.title;}}if(!window.i18nMap){window.mx.server.get({url:"js/login_i18n.js",handleAs:"javascript",load:_1271});}else{_1271();}};this.showLogin=function(_1273){if(_1273=="402"){this.exception(window.i18nMap.http402);return;}var _1274=_1217("originURI");if(_1274){_1217("originURI",null,{expires:-1});window.mx.redirect(_1274);return;}_1270(function(){new _1201({messageCode:_1273}).show();});};this.openForm=function(path,args,scope){if(args.domNode){this.openFormInNode(path,args.domNode,args.context,args.params,args.callback?_121d.hitch(scope,args.callback):null,args.error?_121d.hitch(scope,args.error):null);}else{if(/popup|modal/.test(args.location)){args.modal=args.location=="modal";this.openFormInPopup(path,args,args.context,args.params,args.callback?_121d.hitch(scope,args.callback):null,args.error?_121d.hitch(scope,args.error):null);}else{if(args.callback||args.error){throw new Error("Success and error callbacks are not supported for openFormInContent");}this.openFormInContent(path,args.title,args.context,args.params);}}};this.reload=function(_1275){var form=mxui.currentForm;if(!form){throw new _120e("Trying to refresh the content form but no form is yet available.");}form.reload(_1275);};this.getTemplate=function(id,name){var data=_122a.widgetTemplates[id];return data&&_121d.clone(data[name]);};this.applyToNode=function(_1276,node){var _1277=_1213.byNode(node);switch(_1276){case "show":if(_1277&&_1277.show){_1277.show();}else{node.style.display="";}break;case "hide":if(_1277&&_1277.hide){_1277.hide();}else{node.style.display="none";}break;case "disable":_1278(true);break;case "enable":_1278(false);break;}function _1278(_1279){if(_1277){_1277.set("disabled",_1279);}else{var _127a=_1213.findWidgets(node);_121b.forEach(_127a,function(_127b){_127b.set("disabled",_1279);});}};};this.makeShareId=function(form,mxid){return "context_seed_"+mxid+"_"+form.hash;};var _127c={};_127c[_1207.validation.NOT_INTEGER]="invalid_number";_127c[_1207.validation.RANGE_INTEGER]="range_integer";_127c[_1207.validation.RANGE_LONG]="range_long";_127c[_1207.validation.RANGE_DECIMAL]="range_decimal";_127c[_1207.validation.RANGE_NUMBER]="range_number";this.validate=function(value,type){var _127d=_1207.validate(value,type);if(_127d===_1207.validation.OK){return null;}return this.translate("mendix.lib.Validations",_127c[_127d]);};this.validations=function(vals){if(vals.length){var list=[];for(var i=0,val;val=vals[i];i++){var _127e=val.getFields();for(var x=0,field;field=_127e[x];x++){list.push(field.reason);}}this.error(list.join("\n"));}};this.translate=function(_127f,str,args,_1280){var map=_121d.getObject(_127f,false,_1226);if(!map||!map[str]){return _1280||"[No translation]";}return _1267(map[str],args);};this.extractMessage=function(msg){if(typeof msg=="object"){if(msg.description){return msg.description;}else{if(msg.message){return msg.message;}}}return msg;};this.info=function(msg,modal){_1249(msg,"info").show(modal);};this.warning=function(msg,modal){_1249(msg,"warning").show(modal);};this.error=function(msg,modal){_1249(msg,"error").show(modal);};this.exception=function(msg){this.error(msg,true);};this.confirmation=function(args){new _1203({content:args.content,proceed:args.proceed||this.translate("mxui.widget.DialogMessage","ok"),cancel:args.cancel||this.translate("mxui.widget.DialogMessage","cancel"),handler:args.handler}).show();};this.encodeUrlHash=function(form,_1281,_1282){var path=form.substr(0,form.lastIndexOf(".")),query=_1281.toQuery();return "!/"+path+(query?"?"+query:"")+";"+_1282;};this.decodeUrlHash=function(hash){if(hash.charAt(0)=="!"){var index=hash.lastIndexOf(";");hash=hash.slice(2,index!=-1?index:hash.length);if(/^\w+(\/\w+(\?\w+\.\w+\=\d+(&\w+\.\w+\=\d+)*)?|\.\w+(\?\d+(&\d+)*)?)$/.test(hash)){var split=hash.split("?"),_1283=split[0],query=split[1],_1284=new _120f(),items,item;if(_1283.indexOf("/")!=-1){if(query){items=query.split("&");for(var i=items.length;item=items[--i];){var pair=item.split("=");_1284.setContext(pair[0],pair[1]);}}return function(_1285){window.mx.ui.openFormInContent(_1283+".page.xml","",_1284);_1285&&_1285();};}else{if(query){items=query.split("&");for(var j=0;item=items[j++];){_1284.setContext(" ",item);}}return function(_1286){window.mx.data.action({context:_1284,params:{actionname:_1283},callback:_1286,error:function(e){window.mx.onError(e);_1286&&_1286();}});};}}else{return null;}}else{return null;}};this.canMoveBack=function(){return !_1204.isAtBeginning();};this.downloadFile=function(_1287){var url;var obj=_1287&&_1287.mxobject;if(obj&&obj.get2("HasContents")){url=_1211.getDynamicResourceUrl(obj.getGuid(),obj.get2("changedDate"));}else{return;}if(_1287.target==="window"||_1288()){url+="&target=window";if(_1289()){new _1203({caption:this.translate("mendix.widget.DialogMessage","file_download"),content:this.translate("mendix.widget.DialogMessage","file_download_message"),proceed:this.translate("mendix.widget.MxDataView","download"),cancel:this.translate("mendix.widget.DialogMessage","cancel"),handler:_128a}).show();}else{_128a();}}else{_1205.download({url:url+"&target=internal",target:_1287.target,error:function(err){if(_1287.error){_1287.error(err);}else{window.mx.onError(err);}}});}function _128a(){_122e(url,obj.get2("Name"),"mendix_file");};function _1288(){var _128b=_1218("chrome")&&typeof window.externalHost!=="undefined";var _128c=_1218("mobile");return _128b||_128c;};function _1289(){return _1218("ie")==8||((_1218("iphone")||_1218("ipad"))&&(_1218("safari")||window.navigator.standalone))||_1218("windowsphone");};};this.getFirstDayOfWeek=function(){return window.mx.session.getConfig("uiconfig.firstDayOfWeek");};};return UI;});},"mxui/lib/form/FormFactory":function(){define(["mxui/lib/form/InlineForm","mxui/lib/pageTemplating/pageProvider","mxui/lib/pageTemplating/pageComponentComposer","mxui/widget/Window","mxui/dom","mendix/lang","dojo/on","dojo/aspect","dojo/dom-class","dojo/_base/lang"],function(_128d,_128e,_128f,_1290,_1291,lang,_1292,_1293,_1294,_1295){"use strict";function _1296(path,_1297,error){_128e.get(path,function(page){if(page.isBasedOnLegacyLayout){var _1298=lang.find(page.components,function(_1299){return _1299.isMain;});page.components=[_1298];_1297(page);}else{_128f.composeAllComponentsIn(page,_1297,error);}},error);};function _129a(){};_129a.prototype.openPopupForm=function(path,_129b,_129c,_129d,_129e,error){var self=this;_1296(path,function(page){_1295.mixin(window.mx.ui.getCurrentForm().widgetTemplates,page.widgetTemplates);var form=new _128d("popup",page,_129d,_129b.title),wnd=new _1290({title:form.title,width:_129b.width,height:_129b.height,resizable:"resizable" in _129b?_129b.resizable:true,content:form.domNode,cssClass:page["class"],cssStyle:page.style});_1293.after(form,"dispose",_1295.hitch(wnd,"hide"));_1293.after(form,"onResize",_1295.hitch(wnd,"resize"));_1293.after(wnd,"onClose",_1295.hitch(form,"close"));_1293.before(wnd,"onShow",_1295.hitch(form,"onBeforeShow"));_1293.before(wnd,"onAfterShow",_1295.hitch(form,"onAfterShow"));_1293.before(wnd,"onHide",_1295.hitch(form,"onBeforeHide"));_1293.before(wnd,"destroy",function(){form.onAfterHide();form.destroy();});form.loadWidgets(_129c,function(){wnd.show(_129b.modal);_129e&&_129e(form);});},error);};_129a.prototype.openInlineForm=function(path,_129f,_12a0,_12a1,_12a2,error){_1296(path,function(page){_1295.mixin(window.mx.ui.getCurrentForm().widgetTemplates,page.widgetTemplates);var form=new _128d("custom",page,_12a1);_1294.add(form.domNode,"mx-offscreen");_129f.appendChild(form.domNode);_1293.before(form,"destroy",function(){form.onBeforeHide();_1294.add(form.domNode,"mx-offscreen");form.onAfterHide();});_1293.after(form,"destroy",function(){_1291.orphan(form.domNode);});_1293.after(form,"dispose",_1295.hitch(form,"destroy"));form.loadWidgets(_12a0,function(){form.onBeforeShow();_1294.remove(form.domNode,"mx-offscreen");form.onAfterShow();_12a2&&_12a2(form);});},error);};return _129a;});},"mxui/lib/form/InlineForm":function(){define(["mxui/lib/form/_FormBase","mxui/widget","mxui/wm/focus","mxui/dom","mendix/lib/Error","dojo/_base/lang","dojo/_base/declare"],function(_12a3,_12a4,focus,dom,Error,_12a5,_12a6){"use strict";var _12a7=_12a6(_12a3,{_params:null,constructor:function(place,page,_12a8,_12a9){this.place=place;this.path=page.path;this.title=_12a9||page.title;this._params=_12a5.mixin({},_12a8,{mxform:this});this.domNode=dom.create("div");if(page.components.length!=1){throw new Error("Got "+page.components.length+" top level templates while expecting only one, on page "+this.path);}page.components[0].appendTo(this.domNode);},loadWidgets:function(_12aa,_12ab){this._context=_12aa;_12a4.loadWidgetsIn(this.domNode,this._params,_12aa,_12ab);},destroy:function(){focus.removeBox(this.domNode);dom.orphan(this.domNode);_12a4.destroyWidgetsIn(this.domNode);}});return _12a7;});},"mxui/lib/form/_FormBase":function(){define(["mxui/wm/focus","mxui/widget","mendix/lang","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dijit/registry"],function(focus,_12ac,lang,_12ad,_12ae,_12af,_12b0,_12b1){"use strict";var _12b2=_12b0(null,{id:"",hash:"",title:"",place:"",path:"",viewState:null,_suspended:false,_listeners:null,_context:null,domNode:null,constructor:function(){this.hash=lang.getUniqueId();this._listeners={};},postscript:function(){focus.addBox(this.domNode);focus.cyclic(this.domNode,true);},getTitle:function(){return this.title;},getContext:function(){return this._context;},reload:function(_12b3){_12ac.applyContext(_12b1.findWidgets(this.domNode),this._context,_12b3);},dispose:function(){},onBeforeShow:function(){},onBeforeHide:function(){},onAfterShow:function(){},onAfterHide:function(){},onPersistViewState:function(_12b4){},onResume:function(){},close:function(){this.publish("close",_12af.hitch(this,"dispose"));},validate:function(_12b5,error){this.publish("validate",_12b5,error);},save:function(_12b6,error){this.publish("save",_12b6,error);},commit:function(_12b7,error){this._suspended=true;this.publish("commit",this._resumeCallback(_12b7),this._resumeCallback(error));},rollback:function(_12b8,error){this._suspended=true;this.publish("rollback",this._resumeCallback(_12b8),this._resumeCallback(error));},publish:function(_12b9,_12ba,error,data){var list=this._listeners[_12b9];if(list){var chain=[];for(var item in list){chain.unshift(_12af.partial(function(func,next){func(next,error,data);},list[item]));}lang.sequence(chain,_12ba);}else{if(_12ba){_12ba();}}},listen:function(_12bb,_12bc){var sid=lang.getUniqueId(),list=this._listeners[_12bb]||(this._listeners[_12bb]={});list[sid]=_12bc;return [_12bb,sid];},unlisten:function(_12bd){var sid=_12bd[1],msg=_12bd[0],list=this._listeners[msg];if(list){delete list[sid];for(var i in list){return;}delete this._listeners[msg];}},isSuspended:function(){return this._suspended;},hasInterface:function(name){return name=="close";},invokeCall:function(name){if(name=="close"){this.dispose();}},getChildren:function(_12be){if(_12be){return _12ac.getDescendantWidgets(this.domNode);}else{return _12b1.findWidgets(this.domNode);}},callRecursive:function(_12bf,_12c0){var _12c1=this.getChildren(),args=Array.prototype.slice.call(arguments,1);for(var i=0,child;child=_12c1[i];i++){if(child[_12bf]){child[_12bf].apply(child,args);}}},enable:function(){this.callRecursive("set","disabled",true);},disable:function(){this.callRecursive("set","disabled",false);},resize:_12c2(function(){_12ad.add(document.body,"mx-no-scroll");this.onResize();_12ad.remove(document.body,"mx-no-scroll");}),onResize:function(){},_resumeCallback:function(_12c3){var self=this;return function(){self._suspended=false;self.onResume();if(_12c3){_12c3.apply(null,arguments);}};}});function _12c2(func){var timer;return function(){clearTimeout(timer);var scope=this,args=arguments;timer=setTimeout(function(){func.apply(scope,args);},0);};};return _12b2;});},"mxui/lib/pageTemplating/pageProvider":function(){define(["mxui/lib/pageTemplating/roleFilter","mxui/lib/pageTemplating/PageComponent","mxui/dom","mendix/lib/Error","dojo/sniff","dojo/_base/array","dojo/_base/lang"],function(_12c4,_12c5,dom,Error,_12c6,_12c7,_12c8){"use strict";function _12c9(_12ca){var _12cb=[];if(document.adoptNode&&_12c6("dom-parser")){while(_12ca.firstChild){_12cb.push(document.adoptNode(_12ca.firstChild));}}else{_12c7.forEach(_12ca.childNodes,function(child){var temp=dom.create("div");temp.innerHTML=child.xml;_12cb.push(temp.firstChild);});}return _12c7.filter(_12c7.map(_12cb,function(_12cc){return _12c4.filterDom(_12cc);}),function(node){return node!=null;});};function _12cd(nodes){var _12ce=document.createDocumentFragment();_12c7.forEach(nodes,_12c8.hitch(_12ce,_12ce.appendChild));return _12ce;};function _12cf(xml){return _12c7.map(dom.getElementsByTagNameNoNS(xml,"layout"),function(elem){return elem.getAttribute("path");}).reverse();};function _12d0(xml){return _12c7.map(dom.getElementsByTagNameNoNS(xml,"argument"),function(elem){return new _12c5((elem.getAttribute("parameterName")||"main"),_12c9(elem),(elem.getAttribute("isMain")=="true"));});};function _12d1(xml){var _12d2={};_12c7.forEach(dom.getElementsByTagNameNoNS(xml,"template"),function(elem){var data={widgetId:elem.getAttribute("widget-id"),templateName:elem.getAttribute("name"),content:_12cd(_12c9(elem))};if(!_12d2[data.widgetId]){_12d2[data.widgetId]={};}_12d2[data.widgetId][data.templateName]=data.content;});return _12d2;};function _12d3(xml,_12d4){var _12d5=xml.documentElement;return {id:_12d5.getAttribute("id")||"",title:_12d5.getAttribute("title")||"","class":_12d5.getAttribute("class")||"",style:_12d5.getAttribute("style")||"",path:_12d4,isBasedOnLegacyLayout:_12d5.getAttribute("isBasedOnLegacyLayout")=="true",layouts:_12cf(xml),components:_12d0(xml),widgetTemplates:_12d1(xml)};};var _12d6={get:function(path,_12d7,error){var _12d8="pages/"+window.mx.session.getConfig("uiconfig.locale");window.mx.server.get({url:_12d8+"/"+path,failOk:false,handleAs:"xml",load:function(_12d9){_12d7(_12d3(_12d9,path));},error:error});}};return _12d6;});},"mxui/lib/pageTemplating/roleFilter":function(){define(["mxui/dom","mendix/lang","dojo/_base/array"],function(_12da,lang,_12db){"use strict";var _12dc="data-mendix-roles";function _12dd(_12de,_12df){var value=_12de.getAttribute(_12df);_12de.removeAttribute(_12df);return value;};function _12e0(_12e1,_12e2){var _12e3=_12dd(_12e1,_12dc).split(","),_12e4=_12db.some(_12e3,function(role){return lang.inArray(_12e2,role);});return !_12e4;};return {filterDom:function(_12e5){if(!(_12e5 instanceof Element)){return _12e5;}var _12e6=window.mx.session.getUserRoles("Name");if(_12e5.hasAttribute(_12dc)&&_12e0(_12e5,_12e6)){return null;}_12db.forEach(_12e5.querySelectorAll("["+_12dc+"]"),function(_12e7){if(_12e0(_12e7,_12e6)){_12da.orphan(_12e7);}});return _12e5;}};});},"mxui/lib/pageTemplating/PageComponent":function(){define(["dojo/_base/array","dojo/_base/lang"],function(_12e8,_12e9){"use strict";function _12ea(id,_12eb,_12ec){this._id=id;this._content=_12eb;this.isMain=_12ec;};_12ea.prototype.findPlaceholder=function(root){return root.querySelector("[data-mx-placeholder='"+this._id+"']");};_12ea.prototype.appendTo=function(_12ed){_12e8.forEach(this._content,_12e9.hitch(_12ed,_12ed.appendChild));};return _12ea;});},"mxui/lib/pageTemplating/pageComponentComposer":function(){define(["mxui/lib/pageTemplating/pageProvider","mendix/lang","dojo/_base/array","dojo/_base/lang"],function(_12ee,lang,_12ef,_12f0){"use strict";function _12f1(_12f2,_12f3){for(var i=0;i<_12f3.length;++i){if(_12f3[i]!=_12f2[i]){return _12f3.slice(i);}}return [];};function _12f4(_12f5,_12f6){var _12f7=document.createDocumentFragment();_12ef.forEach(_12f5,function(_12f8){_12f8.appendTo(_12f7);});_12ef.forEach(_12f6,function(_12f9){_12f9.appendTo(_12f9.findPlaceholder(_12f7));});return _12f5;};function _12fa(_12fb,page,_12fc,error){var _12fd=[],_12fe=_12f0.mixin({},page.widgetTemplates),err;_12fd[_12fb.length]=page.components;lang.collect(_12ef.map(_12fb,function(_12ff,_1300){return function(_1301){_12ee.get(_12ff,function(_1302){_12fd[_1300]=_1302.components;_12fe=_12f0.mixin(_12fe,_1302.widgetTemplates);_1301();},function(e){err=e;_1301();});};}),function(){if(err){error(err);return;}var _1303=_12fd[0],_1304=lang.flatten(_12fd.slice(1)),_1305=_12f4(_1303,_1304);_12fc(_1305,_12fe);});};var _1306={composeNewComponentsIn:function(page,_1307,_1308,error){var _1309=_12f1(_1307,page.layouts);_12fa(_1309,page,function(_130a,_130b){_1308(_12f0.mixin({},page,{components:_130a,widgetTemplates:_130b}));},error);},composeAllComponentsIn:function(page,_130c,error){_1306.composeNewComponentsIn(page,[],_130c,error);}};return _1306;});},"mxui/lib/form/ContentForm":function(){define(["mxui/lib/pageTemplating/pageProvider","mxui/lib/pageTemplating/pageComponentComposer","mxui/lib/incubator","mxui/lib/form/_FormBase","mxui/wm/focus","mxui/widget","mxui/dom","mendix/lang","mendix/lib/NavigationError","dojo/Deferred","dojo/promise/all","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_130d,_130e,_130f,_1310,focus,_1311,dom,lang,_1312,_1313,_1314,_1315,_1316,_1317,_1318){"use strict";var $=dom.create;function _1319(_131a,_131b){var _131c=_131a.findPlaceholder(_131b);var _131d=_130f.conceiveSuccessor(_131c);_131a.appendTo(_131d);return _131d;};var _131e=_1318(_1310,{_currentLayouts:null,_pendingRequest:null,widgetTemplates:null,constructor:function(){this.widgetTemplates={};this._currentLayouts=[];this.place="content";this.id="ContentForm";this.domNode=$("div",{"class":"mx-page"},$("div",{"class":"mx-placeholder","data-mx-placeholder":"main"}));},_updatePropertiesFrom:function(page,_131f,_1320){this._context=_131f;this.id=page.id;this.path=page.path;this.hash=lang.getUniqueId();this.title=_1320||page.title;this.domNode.className="mx-page "+page["class"];this.domNode.style.cssText=page.style||"";},navigateTo:function(path,_1321,_1322,_1323,_1324,_1325,error){var self=this,_1326=[];if(this._pendingRequest){this._pendingRequest.cancel(new _1312("Loading of a page has been superseded by request for "+path));}this._pendingRequest=(function(){var _1327=new _1313();_130d.get(path,_1327.resolve,_1327.reject);return _1327;})().then(function(page){var _1328=new _1313();_130e.composeNewComponentsIn(page,self._currentLayouts,_1328.resolve,_1328.reject);return _1328;}).then(function(page){_1326=lang.map(page.components,function(_1329){return _1319(_1329,self.domNode);});self.widgetTemplates=_1317.mixin(self.widgetTemplates,page.widgetTemplates);self.viewState=_1324;self._updatePropertiesFrom(page,_1322,_1321);_1323=_1317.mixin({},_1323,{mxform:self});return _1314(lang.map(_1326,function(_132a){var _132b=new _1313();_1311.loadWidgetsIn(_132a,_1323,_1322,_132b.resolve);return _132b;})).then(function(){return page;});}).then(function(page){self._currentLayouts=page.layouts;lang.forEach(_1326,function(_132c){_130f.hatch(_132c);dom.scrollOverflowParentTo(_132c,0);});self.onNavigation();self.resize();if(!focus.get()){focus.first(self.domNode);}self._pendingRequest=null;if(_1325){_1325();}}).otherwise(function(e){lang.forEach(_1326,function(_132d){_130f.abort(_132d);});error?error(e):window.mx.onError(e);});},onResize:function(){this.domNode.style.height="100%";_1311.resizeWidgetsIn(this.domNode);this.domNode.style.height="";},onNavigation:function(){}});return _131e;});},"mxui/lib/incubator":function(){define(["mxui/widget","mxui/dom","mendix/lang"],function(_132e,dom,lang){"use strict";var _132f=null,data=[];function _1330(){if(!_132f){_132f=dom.create("div",{"class":"mx-incubator mx-offscreen"});document.body.appendChild(_132f);}return _132f;};var _1331={conceiveSuccessor:function(_1332){var _1333=_1332.cloneNode(false);data.push({predecessor:_1332,embryo:_1333});_1330().appendChild(_1333);return _1333;},abort:function(_1334){var index=lang.findIndex(data,function(item){return item&&item.embryo==_1334;});if(index!=-1){delete data[index];_132e.destroyWidgetsIn(_1334);dom.orphan(_1334);}},hatch:function(_1335){var index=lang.findIndex(data,function(item){return item&&item.embryo==_1335;});if(index!=-1){var _1336=data[index].predecessor;_132e.destroyWidgetsIn(_1336);_1336.parentNode.replaceChild(_1335,_1336);delete data[index];}}};return _1331;});},"mxui/widget/DemoUserSwitcher":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Templated","mxui/dom","dojo/on","dojo/_base/fx","dojo/_base/array","dojo/_base/declare","dojo/text!mxui/widget/templates/DemoUserSwitcher.html"],function(_1337,_1338,dom,_1339,_133a,_133b,_133c,_133d){"use strict";var _133e=_133c([_1337,_1338],{declaredClass:"mxui.widget.DemoUserSwitcher",templateString:_133d,demoUsers:null,_listNode:null,_toggleNode:null,_collapsed:true,postCreate:function(){var self=this;this.on(".mx-demouserswitcher-toggle:click",function(){self._toggleVisibility();});this.on("li:click",function(e){self._onUserClick(dom.data(this));e.preventDefault();});this._renderList();},startup:function(){this.domNode.style.right=-this.domNode.offsetWidth+"px";},_renderList:function(){_133b.forEach(this.demoUsers,function(user){var item=dom.create("li",dom.create("a",{"href":"#"},dom.create("h3",user.name),dom.create("p",user.roles.join(", "))));if(user.active){item.setAttribute("class","active");}dom.data(item,user);this._listNode.appendChild(item);},this);},_onUserClick:function(user){mx.session.logout(function(){mx.login(user.name,user.password,null,function(){mx.reload();});});},_toggleVisibility:function(){var right=this._collapsed?0:-this.domNode.offsetWidth;_133a.animateProperty({node:this.domNode,duration:150,properties:{right:{end:right,units:"px"}}}).play();this._collapsed=!this._collapsed;document.documentElement.style.overflow=document.body.style.overflow=this._collapsed?"":"hidden";}});return _133e;});},"mxui/sys/history":function(){define(["mxui/lib/browserBackend","mendix/lang","dojo/_base/array"],function(_133f,lang,_1340){var _1341={_stack:[],_counter:0,begin:function(){this._counter++;},end:function(){if(this._counter>0){this._counter--;}if(this._counter===0){_1340.forEach(this._stack,function(func){func();});this._stack=[];}},add:function(func){if(this._counter>0){this._stack.push(func);}else{func();}},empty:function(){return this._stack.length===0;}};var _1342={},_1343=[],_1344="",_1345=!!_133f.history.pushState;var _1346={init:function(){_1344=_1347();_1343.push(_1344);_1342[_1344]=null;if(_1345){_133f.history.replaceState(_1344,"",_133f.location.pathname());_133f.on(window,"popstate",function(e){_133f.setTimeout(function(){if(_1341.empty()){_1349(e.state);}_1341.end();},0);});}else{_133f.location.replace("#"+_1344);_133f.on(window,"hashchange",function(e){var _1348=_133f.location.hash().slice(1);if(_1341.empty()){if(_1344!==_1348){_1349(_1348);}}_1341.end();});}},back:function(){_1341.begin();_133f.history.back();},forward:function(){_1341.begin();_133f.history.forward();},push:function(state){_1341.add(function(){_134a(_1344);var hash=_1347();_1343.push(hash);_1342[hash]=state;if(_1345){var _134b=_133f.location.pathname();if(_134b.charAt(0)!=="/"){_134b="/"+_134b;}_133f.history.pushState(hash,"",_134b);_1349(hash);}else{_133f.location.hash(hash);}});},isAtBeginning:function(){var index=_1340.indexOf(_1343,_1344);return index===0||index===1;},onNavigation:function(){}};function _1347(){return lang.getUniqueId();};function _134a(hash){var index=_1340.indexOf(_1343,hash),_134c=_1343.splice(index+1,_1343.length);_1340.forEach(_134c,function(hash){delete _1342[hash];});};function _1349(_134d){var index=_1340.indexOf(_1343,_134d);if(index!=-1){var _134e=_1342[_1344],_134f=_1342[_134d];_1346.onNavigation(_134e,_134f);}else{_134a(_1344);_1343.push(_134d);_1342[_134d]=_1342[_1344];}_1344=_134d;};return _1346;});},"mxui/lib/browserBackend":function(){define([],function(){"use strict";var _1350={history:{back:function(){window.history.back();},forward:function(){window.history.forward();}},location:{hash:function(hash){if(hash){window.location.hash=hash;}return window.location.hash;},replace:function(href){return window.location.replace(href);},pathname:function(_1351){if(_1351){window.location.pathname=_1351;}return window.location.pathname;}},setTimeout:function(fn,_1352){return window.setTimeout(fn,_1352);},on:function(obj,_1353,_1354,_1355){if(window.addEventListener){return obj["addEventListener"](_1353,_1354,_1355);}else{return obj["attachEvent"]("on"+_1353,_1354);}},off:function(obj,_1356,_1357,_1358){if(window.addEventListener){obj["removeEventListener"](_1356,_1357,_1358);}else{obj["detachEvent"](_1356,_1357);}}};if("pushState" in window.history){_1350.history.pushState=function(state,title,url){window.history.pushState(state,title,url);};_1350.history.replaceState=function(state,title,url){window.history.replaceState(state,title,url);};}return _1350;});},"mendix/lib/DescribedError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_1359,_135a){return _135a(_1359,{});});},"fastclick/fastclick":function(){(function(){"use strict";function _135b(layer,_135c){var _135d;_135c=_135c||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=_135c.touchBoundary||10;this.layer=layer;this.tapDelay=_135c.tapDelay||200;this.tapTimeout=_135c.tapTimeout||700;if(_135b.notNeeded(layer)){return;}function bind(_135e,_135f){return function(){return _135e.apply(_135f,arguments);};};var _1360=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var _1361=this;for(var i=0,l=_1360.length;i<l;i++){_1361[_1360[i]]=bind(_1361[_1360[i]],_1361);}if(_1367){layer.addEventListener("mouseover",this.onMouse,true);layer.addEventListener("mousedown",this.onMouse,true);layer.addEventListener("mouseup",this.onMouse,true);}layer.addEventListener("click",this.onClick,true);layer.addEventListener("touchstart",this.onTouchStart,false);layer.addEventListener("touchmove",this.onTouchMove,false);layer.addEventListener("touchend",this.onTouchEnd,false);layer.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){layer.removeEventListener=function(type,_1362,_1363){var rmv=Node.prototype.removeEventListener;if(type==="click"){rmv.call(layer,type,_1362.hijacked||_1362,_1363);}else{rmv.call(layer,type,_1362,_1363);}};layer.addEventListener=function(type,_1364,_1365){var adv=Node.prototype.addEventListener;if(type==="click"){adv.call(layer,type,_1364.hijacked||(_1364.hijacked=function(event){if(!event.propagationStopped){_1364(event);}}),_1365);}else{adv.call(layer,type,_1364,_1365);}};}if(typeof layer.onclick==="function"){_135d=layer.onclick;layer.addEventListener("click",function(event){_135d(event);},false);layer.onclick=null;}};var _1366=navigator.userAgent.indexOf("Windows Phone")>=0;var _1367=navigator.userAgent.indexOf("Android")>0&&!_1366;var _1368=/iP(ad|hone|od)/.test(navigator.userAgent)&&!_1366;var _1369=_1368&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);var _136a=_1368&&(/OS [6-7]_\d/).test(navigator.userAgent);var _136b=navigator.userAgent.indexOf("BB10")>0;_135b.prototype.needsClick=function(_136c){switch(_136c.nodeName.toLowerCase()){case "button":case "select":case "textarea":if(_136c.disabled){return true;}break;case "input":if((_1368&&_136c.type==="file")||_136c.disabled){return true;}break;case "label":case "iframe":case "video":return true;}return (/\bneedsclick\b/).test(_136c.className);};_135b.prototype.needsFocus=function(_136d){switch(_136d.nodeName.toLowerCase()){case "textarea":return true;case "select":return !_1367;case "input":switch(_136d.type){case "button":case "checkbox":case "file":case "image":case "radio":case "submit":return false;}return !_136d.disabled&&!_136d.readOnly;default:return (/\bneedsfocus\b/).test(_136d.className);}};_135b.prototype.sendClick=function(_136e,event){var _136f,touch;if(document.activeElement&&document.activeElement!==_136e){document.activeElement.blur();}touch=event.changedTouches[0];_136f=document.createEvent("MouseEvents");_136f.initMouseEvent(this.determineEventType(_136e),true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);_136f.forwardedTouchEvent=true;_136e.dispatchEvent(_136f);};_135b.prototype.determineEventType=function(_1370){if(_1367&&_1370.tagName.toLowerCase()==="select"){return "mousedown";}return "click";};_135b.prototype.focus=function(_1371){var _1372;if(_1368&&_1371.setSelectionRange&&_1371.type.indexOf("date")!==0&&_1371.type!=="time"&&_1371.type!=="month"){_1372=_1371.value.length;_1371.setSelectionRange(_1372,_1372);}else{_1371.focus();}};_135b.prototype.updateScrollParent=function(_1373){var _1374,_1375;_1374=_1373.fastClickScrollParent;if(!_1374||!_1374.contains(_1373)){_1375=_1373;do{if(_1375.scrollHeight>_1375.offsetHeight){_1374=_1375;_1373.fastClickScrollParent=_1375;break;}_1375=_1375.parentElement;}while(_1375);}if(_1374){_1374.fastClickLastScrollTop=_1374.scrollTop;}};_135b.prototype.getTargetElementFromEventTarget=function(_1376){if(_1376.nodeType===Node.TEXT_NODE){return _1376.parentNode;}return _1376;};_135b.prototype.onTouchStart=function(event){var _1377,touch,_1378;if(event.targetTouches.length>1){return true;}_1377=this.getTargetElementFromEventTarget(event.target);touch=event.targetTouches[0];if(_1368){_1378=window.getSelection();if(_1378.rangeCount&&!_1378.isCollapsed){return true;}if(!_1369){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier){event.preventDefault();return false;}this.lastTouchIdentifier=touch.identifier;this.updateScrollParent(_1377);}}this.trackingClick=true;this.trackingClickStart=event.timeStamp;this.targetElement=_1377;this.touchStartX=touch.pageX;this.touchStartY=touch.pageY;if((event.timeStamp-this.lastClickTime)<this.tapDelay){event.preventDefault();}return true;};_135b.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],_1379=this.touchBoundary;if(Math.abs(touch.pageX-this.touchStartX)>_1379||Math.abs(touch.pageY-this.touchStartY)>_1379){return true;}return false;};_135b.prototype.onTouchMove=function(event){if(!this.trackingClick){return true;}if(this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event)){this.trackingClick=false;this.targetElement=null;}return true;};_135b.prototype.findControl=function(_137a){if(_137a.control!==undefined){return _137a.control;}if(_137a.htmlFor){return document.getElementById(_137a.htmlFor);}return _137a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea");};_135b.prototype.onTouchEnd=function(event){var _137b,_137c,_137d,_137e,touch,_137f=this.targetElement;if(!this.trackingClick){return true;}if((event.timeStamp-this.lastClickTime)<this.tapDelay){this.cancelNextClick=true;return true;}if((event.timeStamp-this.trackingClickStart)>this.tapTimeout){return true;}this.cancelNextClick=false;this.lastClickTime=event.timeStamp;_137c=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(_136a){touch=event.changedTouches[0];_137f=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||_137f;_137f.fastClickScrollParent=this.targetElement.fastClickScrollParent;}_137d=_137f.tagName.toLowerCase();if(_137d==="label"){_137b=this.findControl(_137f);if(_137b){this.focus(_137f);if(_1367){return false;}_137f=_137b;}}else{if(this.needsFocus(_137f)){if((event.timeStamp-_137c)>100||(_1368&&window.top!==window&&_137d==="input")){this.targetElement=null;return false;}this.focus(_137f);this.sendClick(_137f,event);if(!_1368||_137d!=="select"){this.targetElement=null;event.preventDefault();}return false;}}if(_1368&&!_1369){_137e=_137f.fastClickScrollParent;if(_137e&&_137e.fastClickLastScrollTop!==_137e.scrollTop){return true;}}if(!this.needsClick(_137f)){event.preventDefault();this.sendClick(_137f,event);}return false;};_135b.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null;};_135b.prototype.onMouse=function(event){if(!this.targetElement){return true;}if(event.forwardedTouchEvent){return true;}if(!event.cancelable){return true;}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(event.stopImmediatePropagation){event.stopImmediatePropagation();}else{event.propagationStopped=true;}event.stopPropagation();event.preventDefault();return false;}return true;};_135b.prototype.onClick=function(event){var _1380;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true;}if(event.target.type==="submit"&&event.detail===0){return true;}_1380=this.onMouse(event);if(!_1380){this.targetElement=null;}return _1380;};_135b.prototype.destroy=function(){var layer=this.layer;if(_1367){layer.removeEventListener("mouseover",this.onMouse,true);layer.removeEventListener("mousedown",this.onMouse,true);layer.removeEventListener("mouseup",this.onMouse,true);}layer.removeEventListener("click",this.onClick,true);layer.removeEventListener("touchstart",this.onTouchStart,false);layer.removeEventListener("touchmove",this.onTouchMove,false);layer.removeEventListener("touchend",this.onTouchEnd,false);layer.removeEventListener("touchcancel",this.onTouchCancel,false);};_135b.notNeeded=function(layer){var _1381;var _1382;var _1383;var _1384;if(typeof window.ontouchstart==="undefined"){return true;}_1382=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(_1382){if(_1367){_1381=document.querySelector("meta[name=viewport]");if(_1381){if(_1381.content.indexOf("user-scalable=no")!==-1){return true;}if(_1382>31&&document.documentElement.scrollWidth<=window.outerWidth){return true;}}}else{return true;}}if(_136b){_1383=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(_1383[1]>=10&&_1383[2]>=3){_1381=document.querySelector("meta[name=viewport]");if(_1381){if(_1381.content.indexOf("user-scalable=no")!==-1){return true;}if(document.documentElement.scrollWidth<=window.outerWidth){return true;}}}}if(layer.style.msTouchAction==="none"||layer.style.touchAction==="manipulation"){return true;}_1384=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(_1384>=27){_1381=document.querySelector("meta[name=viewport]");if(_1381&&(_1381.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true;}}if(layer.style.touchAction==="none"||layer.style.touchAction==="manipulation"){return true;}return false;};_135b.attach=function(layer,_1385){return new _135b(layer,_1385);};if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define(function(){return _135b;});}else{if(typeof module!=="undefined"&&module.exports){module.exports=_135b.attach;module.exports.FastClick=_135b;}else{window.FastClick=_135b;}}}());},"dojox/date/buddhist":function(){define(["..","dojo/_base/lang","dojo/date","./buddhist/Date"],function(dojox,lang,dd,BDate){var _1386=lang.getObject("date.buddhist",true,dojox);_1386.getDaysInMonth=function(_1387){return dd.getDaysInMonth(_1387.toGregorian());};_1386.isLeapYear=function(_1388){return dd.isLeapYear(_1388.toGregorian());};_1386.compare=function(date1,date2,_1389){return dd.compare(date1,date2,_1389);};_1386.add=function(date,_138a,_138b){var _138c=new BDate(date);switch(_138a){case "day":_138c.setDate(date.getDate(true)+_138b);break;case "weekday":var days,weeks;var mod=_138b%5;if(!mod){days=(_138b>0)?5:-5;weeks=(_138b>0)?((_138b-5)/5):((_138b+5)/5);}else{days=mod;weeks=parseInt(_138b/5);}var strt=date.getDay();var adj=0;if(strt==6&&_138b>0){adj=1;}else{if(strt==0&&_138b<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_138b>0)?2:-2;}_138b=(7*weeks)+days+adj;_138c.setDate(date.getDate(true)+_138b);break;case "year":_138c.setFullYear(date.getFullYear()+_138b);break;case "week":_138b*=7;_138c.setDate(date.getDate(true)+_138b);break;case "month":_138c.setMonth(date.getMonth()+_138b);break;case "hour":_138c.setHours(date.getHours()+_138b);break;case "minute":_138c._addMinutes(_138b);break;case "second":_138c._addSeconds(_138b);break;case "millisecond":_138c._addMilliseconds(_138b);break;}return _138c;};_1386.difference=function(date1,date2,_138d){date2=date2||new BDate();_138d=_138d||"day";var _138e=date2.getFullYear()-date1.getFullYear();var delta=1;switch(_138d){case "weekday":var days=Math.round(_1386.difference(date1,date2,"day"));var weeks=parseInt(_1386.difference(date1,date2,"week"));var mod=days%7;if(mod==0){days=weeks*5;}else{var adj=0;var aDay=date1.getDay();var bDay=date2.getDay();weeks=parseInt(days/7);mod=days%7;var _138f=new BDate(date2);_138f.setDate(_138f.getDate(true)+(weeks*7));var _1390=_138f.getDay();if(days>0){switch(true){case aDay==5:adj=-1;break;case aDay==6:adj=0;break;case bDay==5:adj=-1;break;case bDay==6:adj=-2;break;case (_1390+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==5:adj=0;break;case aDay==6:adj=1;break;case bDay==5:adj=2;break;case bDay==6:adj=1;break;case (_1390+mod)<0:adj=2;}}}days+=adj;days-=(weeks*2);}delta=days;break;case "year":delta=_138e;break;case "month":var _1391=(date2.toGregorian()>date1.toGregorian())?date2:date1;var _1392=(date2.toGregorian()>date1.toGregorian())?date1:date2;var _1393=_1391.getMonth();var _1394=_1392.getMonth();if(_138e==0){delta=_1391.getMonth()-_1392.getMonth();}else{delta=12-_1394;delta+=_1393;var i=_1392.getFullYear()+1;var e=_1391.getFullYear();for(i;i<e;i++){delta+=12;}}if(date2.toGregorian()<date1.toGregorian()){delta=-delta;}break;case "week":delta=parseInt(_1386.difference(date1,date2,"day")/7);break;case "day":delta/=24;case "hour":delta/=60;case "minute":delta/=60;case "second":delta/=1000;case "millisecond":delta*=date2.toGregorian().getTime()-date1.toGregorian().getTime();}return Math.round(delta);};return _1386;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"dojox/date/buddhist/Date":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/date"],function(lang,_1395,dd){var BDate=_1395("dojox.date.buddhist.Date",null,{_date:0,_month:0,_year:0,_hours:0,_minutes:0,_seconds:0,_milliseconds:0,_day:0,constructor:function(){var len=arguments.length;if(!len){this.fromGregorian(new Date());}else{if(len==1){var arg0=arguments[0];if(typeof arg0=="number"){arg0=new Date(arg0);}if(arg0 instanceof Date){this.fromGregorian(arg0);}else{if(arg0==""){this._date=new Date("");}else{this._year=arg0._year;this._month=arg0._month;this._date=arg0._date;this._hours=arg0._hours;this._minutes=arg0._minutes;this._seconds=arg0._seconds;this._milliseconds=arg0._milliseconds;}}}else{if(len>=3){this._year+=arguments[0];this._month+=arguments[1];this._date+=arguments[2];if(this._month>11){console.warn("the month is incorrect , set 0");this._month=0;}this._hours+=arguments[3]||0;this._minutes+=arguments[4]||0;this._seconds+=arguments[5]||0;this._milliseconds+=arguments[6]||0;}}}},getDate:function(_1396){return parseInt(this._date);},getMonth:function(){return parseInt(this._month);},getFullYear:function(){return parseInt(this._year);},getHours:function(){return this._hours;},getMinutes:function(){return this._minutes;},getSeconds:function(){return this._seconds;},getMilliseconds:function(){return this._milliseconds;},setDate:function(date){date=parseInt(date);if(date>0&&date<=this._getDaysInMonth(this._month,this._year)){this._date=date;}else{var mdays;if(date>0){for(mdays=this._getDaysInMonth(this._month,this._year);date>mdays;date-=mdays,mdays=this._getDaysInMonth(this._month,this._year)){this._month++;if(this._month>=12){this._year++;this._month-=12;}}this._date=date;}else{for(mdays=this._getDaysInMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1);date<=0;mdays=this._getDaysInMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1)){this._month--;if(this._month<0){this._year--;this._month+=12;}date+=mdays;}this._date=date;}}return this;},setFullYear:function(year,month,date){this._year=parseInt(year);},setMonth:function(month){this._year+=Math.floor(month/12);this._month=Math.floor(month%12);for(;this._month<0;this._month=this._month+12){}},setHours:function(){var _1397=arguments.length;var hours=0;if(_1397>=1){hours=parseInt(arguments[0]);}if(_1397>=2){this._minutes=parseInt(arguments[1]);}if(_1397>=3){this._seconds=parseInt(arguments[2]);}if(_1397==4){this._milliseconds=parseInt(arguments[3]);}while(hours>=24){this._date++;var mdays=this._getDaysInMonth(this._month,this._year);if(this._date>mdays){this._month++;if(this._month>=12){this._year++;this._month-=12;}this._date-=mdays;}hours-=24;}this._hours=hours;},_addMinutes:function(_1398){_1398+=this._minutes;this.setMinutes(_1398);this.setHours(this._hours+parseInt(_1398/60));return this;},_addSeconds:function(_1399){_1399+=this._seconds;this.setSeconds(_1399);this._addMinutes(parseInt(_1399/60));return this;},_addMilliseconds:function(_139a){_139a+=this._milliseconds;this.setMilliseconds(_139a);this._addSeconds(parseInt(_139a/1000));return this;},setMinutes:function(_139b){this._minutes=_139b%60;return this;},setSeconds:function(_139c){this._seconds=_139c%60;return this;},setMilliseconds:function(_139d){this._milliseconds=_139d%1000;return this;},toString:function(){return isNaN(this._date)?"Invalid Date":this._date+", "+this._month+", "+this._year+"  "+this._hours+":"+this._minutes+":"+this._seconds;},_getDaysInMonth:function(month,year){return dd.getDaysInMonth(new Date(year-543,month));},fromGregorian:function(gdate){var date=new Date(gdate);this._date=date.getDate();this._month=date.getMonth();this._year=date.getFullYear()+543;this._hours=date.getHours();this._minutes=date.getMinutes();this._seconds=date.getSeconds();this._milliseconds=date.getMilliseconds();this._day=date.getDay();return this;},toGregorian:function(){return new Date(this._year-543,this._month,this._date,this._hours,this._minutes,this._seconds,this._milliseconds);},getDay:function(){return this.toGregorian().getDay();}});BDate.prototype.valueOf=function(){return this.toGregorian().valueOf();};return BDate;});},"dojox/date/buddhist/locale":function(){define(["../..","dojo/_base/lang","dojo/_base/array","dojo/date","dojo/i18n","dojo/regexp","dojo/string","./Date","dojo/i18n!dojo/cldr/nls/buddhist"],function(dojox,lang,arr,dd,i18n,_139e,_139f,BDate){var _13a0=lang.getObject("date.buddhist.locale",true,dojox);function _13a1(_13a2,_13a3,_13a4,_13a5,_13a6){return _13a6.replace(/([a-z])\1*/ig,function(match){var s,pad;var c=match.charAt(0);var l=match.length;var _13a7=["abbr","wide","narrow"];switch(c){case "G":s=_13a3["eraAbbr"][0];break;case "y":s=String(_13a2.getFullYear());break;case "M":var m=_13a2.getMonth();if(l<3){s=m+1;pad=true;}else{var propM=["months","format",_13a7[l-3]].join("-");s=_13a3[propM][m];}break;case "d":s=_13a2.getDate(true);pad=true;break;case "E":var d=_13a2.getDay();if(l<3){s=d+1;pad=true;}else{var propD=["days","format",_13a7[l-3]].join("-");s=_13a3[propD][d];}break;case "a":var _13a8=(_13a2.getHours()<12)?"am":"pm";s=_13a3["dayPeriods-format-wide-"+_13a8];break;case "h":case "H":case "K":case "k":var h=_13a2.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_13a2.getMinutes();pad=true;break;case "s":s=_13a2.getSeconds();pad=true;break;case "S":s=Math.round(_13a2.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "z":s=dd.getTimezoneName(_13a2.toGregorian());if(s){break;}l=4;case "Z":var _13a9=_13a2.toGregorian().getTimezoneOffset();var tz=[(_13a9<=0?"+":"-"),_139f.pad(Math.floor(Math.abs(_13a9)/60),2),_139f.pad(Math.abs(_13a9)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojox.date.buddhist.locale.formatPattern: invalid pattern char: "+_13a6);}if(pad){s=_139f.pad(s,l);}return s;});};_13a0.format=function(_13aa,_13ab){_13ab=_13ab||{};var _13ac=i18n.normalizeLocale(_13ab.locale);var _13ad=_13ab.formatLength||"short";var _13ae=_13a0._getBuddhistBundle(_13ac);var str=[];var sauce=lang.hitch(this,_13a1,_13aa,_13ae,_13ac,_13ab.fullYear);if(_13ab.selector=="year"){var year=_13aa.getFullYear();return year;}if(_13ab.selector!="time"){var _13af=_13ab.datePattern||_13ae["dateFormat-"+_13ad];if(_13af){str.push(_13b0(_13af,sauce));}}if(_13ab.selector!="date"){var _13b1=_13ab.timePattern||_13ae["timeFormat-"+_13ad];if(_13b1){str.push(_13b0(_13b1,sauce));}}var _13b2=str.join(" ");return _13b2;};_13a0.regexp=function(_13b3){return _13a0._parseInfo(_13b3).regexp;};_13a0._parseInfo=function(_13b4){_13b4=_13b4||{};var _13b5=i18n.normalizeLocale(_13b4.locale);var _13b6=_13a0._getBuddhistBundle(_13b5);var _13b7=_13b4.formatLength||"short";var _13b8=_13b4.datePattern||_13b6["dateFormat-"+_13b7];var _13b9=_13b4.timePattern||_13b6["timeFormat-"+_13b7];var _13ba;if(_13b4.selector=="date"){_13ba=_13b8;}else{if(_13b4.selector=="time"){_13ba=_13b9;}else{_13ba=(typeof (_13b9)=="undefined")?_13b8:_13b8+" "+_13b9;}}var _13bb=[];var re=_13b0(_13ba,lang.hitch(this,_13bc,_13bb,_13b6,_13b4));return {regexp:re,tokens:_13bb,bundle:_13b6};};_13a0.parse=function(value,_13bd){value=value.replace(/[\u200E\u200F\u202A-\u202E]/g,"");if(!_13bd){_13bd={};}var info=_13a0._parseInfo(_13bd);var _13be=info.tokens,_13bf=info.bundle;var re=new RegExp("^"+info.regexp+"$");var match=re.exec(value);var _13c0=i18n.normalizeLocale(_13bd.locale);if(!match){return null;}var date,date1;var _13c1=[2513,0,1,0,0,0,0];var amPm="";var _13c2=0;var _13c3=["abbr","wide","narrow"];var valid=arr.every(match,function(v,i){if(!i){return true;}var token=_13be[i-1];var l=token.length;switch(token.charAt(0)){case "y":_13c1[0]=Number(v);break;case "M":if(l>2){var _13c4=_13bf["months-format-"+_13c3[l-3]].concat();if(!_13bd.strict){v=v.replace(".","").toLowerCase();_13c4=arr.map(_13c4,function(s){return s?s.replace(".","").toLowerCase():s;});}v=arr.indexOf(_13c4,v);if(v==-1){return false;}_13c2=l;}else{v--;}_13c1[1]=Number(v);break;case "D":_13c1[1]=0;case "d":_13c1[2]=Number(v);break;case "a":var am=_13bd.am||_13bf["dayPeriods-format-wide-am"],pm=_13bd.pm||_13bf["dayPeriods-format-wide-pm"];if(!_13bd.strict){var _13c5=/\./g;v=v.replace(_13c5,"").toLowerCase();am=am.replace(_13c5,"").toLowerCase();pm=pm.replace(_13c5,"").toLowerCase();}if(_13bd.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":_13c1[3]=Number(v);break;case "m":_13c1[4]=Number(v);break;case "s":_13c1[5]=Number(v);break;case "S":_13c1[6]=Number(v);}return true;});var hours=+_13c1[3];if(amPm==="p"&&hours<12){_13c1[3]=hours+12;}else{if(amPm==="a"&&hours==12){_13c1[3]=0;}}var _13c6=new BDate(_13c1[0],_13c1[1],_13c1[2],_13c1[3],_13c1[4],_13c1[5],_13c1[6]);return _13c6;};function _13b0(_13c7,_13c8,_13c9,_13ca){var _13cb=function(x){return x;};_13c8=_13c8||_13cb;_13c9=_13c9||_13cb;_13ca=_13ca||_13cb;var _13cc=_13c7.match(/(''|[^'])+/g);var _13cd=_13c7.charAt(0)=="'";arr.forEach(_13cc,function(chunk,i){if(!chunk){_13cc[i]="";}else{_13cc[i]=(_13cd?_13c9:_13c8)(chunk);_13cd=!_13cd;}});return _13ca(_13cc.join(""));};function _13bc(_13ce,_13cf,_13d0,_13d1){_13d1=_139e.escapeString(_13d1);var _13d2=i18n.normalizeLocale(_13d0.locale);return _13d1.replace(/([a-z])\1*/ig,function(match){var s;var c=match.charAt(0);var l=match.length;var p2="",p3="";if(_13d0.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d+";break;case "M":s=(l>2)?"\\S+":p2+"[1-9]|1[0-2]";break;case "d":s="[12]\\d|"+p2+"[1-9]|3[01]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s=p2+"\\d|[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_13d0.am||_13cf["dayPeriods-format-wide-am"],pm=_13d0.pm||_13cf["dayPeriods-format-wide-pm"];if(_13d0.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}}break;default:s=".*";}if(_13ce){_13ce.push(match);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _13d3=[];_13a0.addCustomFormats=function(_13d4,_13d5){_13d3.push({pkg:_13d4,name:_13d5});};_13a0._getBuddhistBundle=function(_13d6){var _13d7={};arr.forEach(_13d3,function(desc){var _13d8=i18n.getLocalization(desc.pkg,desc.name,_13d6);_13d7=lang.mixin(_13d7,_13d8);},this);return _13d7;};_13a0.addCustomFormats("dojo.cldr","buddhist");_13a0.getNames=function(item,type,_13d9,_13da,date){var label;var _13db=_13a0._getBuddhistBundle(_13da);var props=[item,_13d9,type];if(_13d9=="standAlone"){var key=props.join("-");label=_13db[key];if(label[0]==1){label=undefined;}}props[1]="format";return (label||_13db[props.join("-")]).concat();};return _13a0;});},"dojo/cldr/nls/buddhist":function(){define({root:{"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"months-format-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"field-second-relative+0":"now","quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday","dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"MMM d, E","eraNarrow":["BE"],"field-tue-relative+-1":"last Tuesday","days-format-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"G y MMMM d","field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"dateFormatItem-yyyyQQQ":"G y QQQ","dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"G y MMMM d, EEEE","dateFormatItem-yyyyMEd":"GGGGG y-MM-dd, E","field-thu-relative+-1":"last Thursday","dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","field-era":"Era","months-standAlone-wide":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"timeFormat-long":"HH:mm:ss z","field-year":"Year","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday","timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday","dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-yyyyMMMEd":"G y MMM d, E","dateFormatItem-M":"L","days-standAlone-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-yyyyMMM":"G y MMM","dateFormatItem-yyyyMMMd":"G y MMM d","dayPeriods-format-abbr-noon":"noon","timeFormat-medium":"HH:mm:ss","field-sun-relative+0":"this Sunday","dateFormatItem-Hm":"HH:mm","field-sun-relative+1":"next Sunday","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraAbbr":["BE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-h":"h a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E","dateTimeFormat-full":"{1} {0}","field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"field-zone":"Zone","months-standAlone-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"dateFormatItem-y":"G y","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{1} {0}","dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"eraNames":["BE"],"days-format-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-yyyyMd":"GGGGG y-MM-dd","field-month":"Month","days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","field-tue-relative+0":"this Tuesday","field-tue-relative+1":"next Tuesday","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormatItem-EHm":"E HH:mm","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday","dateFormat-short":"GGGGG y-MM-dd","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","field-sat-relative+-1":"last Saturday","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateTimeFormats-appendItem-Timezone":"{0} {1}","dateFormatItem-Ed":"d, E","field-week":"Week","dateFormat-medium":"G y MMM d","field-week-relative+-1":"last week","field-year-relative+0":"this year","dateFormatItem-yyyyM":"GGGGG y-MM","field-year-relative+1":"next year","dayPeriods-format-narrow-pm":"p","dateFormatItem-yyyyQQQQ":"G y QQQQ","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM","field-mon-relative+-1":"last Monday","dateFormatItem-yyyy":"G y","field-week-relative+0":"this week","field-week-relative+1":"next week"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"es":true,"fi":true,"fr":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true});},"dojo/cldr/nls/en/buddhist":function(){define({"field-second-relative+0":"now","field-weekday":"Day of the Week","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday","dateFormatItem-GyMMMEd":"E, MMM d, y G","dateFormatItem-MMMEd":"E, MMM d","field-tue-relative+-1":"last Tuesday","days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"dateFormat-long":"MMMM d, y G","field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"dateFormatItem-yyyyQQQ":"QQQ y G","dateTimeFormat-medium":"{1}, {0}","dateFormat-full":"EEEE, MMMM d, y G","dateFormatItem-yyyyMEd":"E, M/d/y GGGGG","field-thu-relative+-1":"last Thursday","dateFormatItem-Md":"M/d","field-era":"Era","timeFormat-short":"h:mm a","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"timeFormat-long":"h:mm:ss a z","field-year":"Year","dateTimeFormats-appendItem-Era":"{0} {1}","field-hour":"Hour","months-format-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday","timeFormat-full":"h:mm:ss a zzzz","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday","dateFormatItem-GyMMMd":"MMM d, y G","dateFormatItem-Gy":"y G","dateFormatItem-yyyyMMMEd":"E, MMM d, y G","dateFormatItem-yyyyMMM":"MMM y G","dateFormatItem-yyyyMMMd":"MMM d, y G","timeFormat-medium":"h:mm:ss a","field-sun-relative+0":"this Sunday","field-sun-relative+1":"next Sunday","eraAbbr":["BE"],"field-minute":"Minute","field-dayperiod":"AM/PM","field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} 'at' {0}","dateFormatItem-MEd":"E, M/d","dateTimeFormat-full":"{1} 'at' {0}","field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"field-zone":"Time Zone","dateFormatItem-y":"y G","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{0} {1}","dateFormatItem-yyyyMd":"M/d/y GGGGG","field-month":"Month","field-tue-relative+0":"this Tuesday","field-tue-relative+1":"next Tuesday","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday","dateFormat-short":"M/d/y GGGGG","field-second":"Second","field-sat-relative+-1":"last Saturday","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateFormatItem-Ed":"d E","field-week":"Week","dateFormat-medium":"MMM d, y G","field-year-relative+0":"this year","field-week-relative+-1":"last week","dateFormatItem-yyyyM":"M/y GGGGG","field-year-relative+1":"next year","dateFormatItem-yyyyQQQQ":"QQQQ y G","dateTimeFormat-short":"{1}, {0}","dateFormatItem-GyMMM":"MMM y G","field-mon-relative+-1":"last Monday","dateFormatItem-yyyy":"y G","field-week-relative+0":"this week","field-week-relative+1":"next week"});},"dojo/cldr/nls/nl/buddhist":function(){define({"days-standAlone-short":["zo","ma","di","wo","do","vr","za"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-second-relative+0":"nu","field-weekday":"Dag van de week","field-wed-relative+0":"deze woensdag","field-wed-relative+1":"volgende week woensdag","dateFormatItem-GyMMMEd":"E d MMM y G","dateFormatItem-MMMEd":"E d MMM","field-tue-relative+-1":"afgelopen dinsdag","days-format-short":["zo","ma","di","wo","do","vr","za"],"dateFormat-long":"d MMMM y G","field-fri-relative+-1":"afgelopen vrijdag","field-wed-relative+-1":"afgelopen woensdag","months-format-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"dateFormatItem-yyyyQQQ":"QQQ y G","dateFormat-full":"EEEE d MMMM y G","dateFormatItem-yyyyMEd":"E d-M-y GGGGG","field-thu-relative+-1":"afgelopen donderdag","dateFormatItem-Md":"d-M","dayPeriods-format-wide-noon":"12 uur 's middags","field-era":"Tijdperk","months-standAlone-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"quarters-format-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"field-year":"Jaar","dateFormatItem-yyyyMMMM":"MMMM y G","field-hour":"Uur","months-format-abbr":["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],"field-sat-relative+0":"deze zaterdag","field-sat-relative+1":"volgende week zaterdag","field-day-relative+0":"vandaag","field-thu-relative+0":"deze donderdag","field-day-relative+1":"morgen","field-thu-relative+1":"volgende week donderdag","dateFormatItem-GyMMMd":"d MMM y G","field-day-relative+2":"overmorgen","months-standAlone-abbr":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],"quarters-format-abbr":["K1","K2","K3","K4"],"quarters-standAlone-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"dateFormatItem-Gy":"y G","dateFormatItem-yyyyMMMEd":"E d MMM y G","dateFormatItem-M":"L","days-standAlone-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"dateFormatItem-yyyyMMM":"MMM y G","dateFormatItem-yyyyMMMd":"d MMM y G","dateFormatItem-MMMMd":"d MMMM","dayPeriods-format-abbr-noon":"12 uur 's middags","field-sun-relative+0":"deze zondag","field-sun-relative+1":"volgende week zondag","quarters-standAlone-abbr":["K1","K2","K3","K4"],"eraAbbr":["BE"],"field-minute":"Minuut","field-dayperiod":"AM/PM","days-standAlone-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-d":"d","field-day-relative+-1":"gisteren","dayPeriods-format-narrow-am":"AM","field-day-relative+-2":"eergisteren","dateFormatItem-MMMd":"d MMM","dateFormatItem-MEd":"E d-M","field-fri-relative+0":"deze vrijdag","field-fri-relative+1":"volgende week vrijdag","field-day":"Dag","days-format-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"field-zone":"Zone","dateFormatItem-y":"y G","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"vorig jaar","field-month-relative+-1":"vorige maand","days-format-abbr":["zo","ma","di","wo","do","vr","za"],"days-format-narrow":["Z","M","D","W","D","V","Z"],"dateFormatItem-yyyyMd":"d-M-y GGGGG","field-month":"Maand","dateFormatItem-MMM":"LLL","days-standAlone-narrow":["Z","M","D","W","D","V","Z"],"field-tue-relative+0":"deze dinsdag","field-tue-relative+1":"volgende week dinsdag","field-mon-relative+0":"deze maandag","field-mon-relative+1":"volgende week maandag","dateFormat-short":"dd-MM-yy GGGGG","field-second":"Seconde","field-sat-relative+-1":"afgelopen zaterdag","field-sun-relative+-1":"afgelopen zondag","field-month-relative+0":"deze maand","field-month-relative+1":"volgende maand","dateFormatItem-Ed":"E d","field-week":"Week","dateFormat-medium":"d MMM y G","field-year-relative+0":"dit jaar","field-week-relative+-1":"vorige week","dateFormatItem-yyyyM":"M-y GGGGG","field-year-relative+1":"volgend jaar","dayPeriods-format-narrow-pm":"PM","dateFormatItem-yyyyQQQQ":"QQQQ y G","dateFormatItem-GyMMM":"MMM y G","field-mon-relative+-1":"afgelopen maandag","dateFormatItem-yyyy":"y G","field-week-relative+0":"deze week","field-week-relative+1":"volgende week"});},"mendix/sys/Data":function(){define(["mendix/lib/ConnectionError","mendix/lib/Error","mendix/lib/ValidationError","mendix/lib/MxObject","mendix/lang","mendix/logger","webcore/data-backend/OnlineDataBackend","webcore/data-backend/OfflineDataBackend","webcore/MxObjectCache","webcore/MxObjectBackend","dojo/_base/array","dojo/_base/lang"],function(_13dc,_13dd,_13de,_13df,lang,_13e0,_13e1,_13e2,_13e3,_13e4,_13e5,_13e6){function Data(_13e7){_13e7=_13e7||{};var self=this,name="mendix.sys.Data",subs={entities:{},guids:{},attrs:{},vals:{}};var _13e8=new _13e1();var _13e9=new _13e4(_13e8,new _13e3(),function(guid){return !_13ea(guid);});var _13eb=_13e8;var _13ec=function(_13ed,_13ee,map){if(!_13ee){return _13ed;}for(var i in map){if((i in _13ee)&&(_13ee[i]!=null)){_13ed[i]=_13ee[i];}}return _13ed;};var _13ef=function(_13f0,_13f1,args,_13f2){try{_13f0&&_13f0.apply(_13f1,args||[]);}catch(e){_13e0.error(name+_13f2+" : "+e.message+" "+(_13f1?"("+_13f1+")":""));}};var _13f3=function(_13f4,_13f5,e,fname){try{if(_13f4){_13f4.call(_13f5,e);}else{_13e0.error("unhandled error: "+e.message);window.mx.onError(e);}}catch(err){_13e0.error("error in "+name+"."+fname+" while calling error handler: "+err.message);}};var _13ea=function(guid){var _13f6=lang.itemCount;return (_13f6(subs.guids[guid])||_13f6(subs.attrs[guid]));};var _13f7=function(meta,_13f8){var _13f9={};_13e5.forEach(meta.getAttributes(),function(ref){if(!meta.isReference(ref)){return;}var value=_13f8.getContext(meta.getSelectorEntity(ref));if(value){_13f9[ref]=value;}});return _13f9;};var _13fa=function(mxobj,path,_13fb,error){var split=path.split("/");var _13fc=function(objs){var _13fd=split.shift(),ref=split.shift(),_13fe;if(objs==null||objs.length==null||objs.length===0){_13fb(null);return;}var carr=[];for(var i=0;i<objs.length;i++){if(objs[i]==null){continue;}carr.push("id='"+objs[i].getGuid()+"'");}if(!carr.length){_13fb(null);return;}var ids=carr.join(" or ");_13fe="["+ref+"/"+_13fd+"["+ids+"]]";if(split.length==1){_13fb(_13fe);}else{var child=split[0];_13fd=split.shift();ref=split.shift();_13fb("["+ref+"/"+_13fd+""+_13fe+"]");}};var _13ff=function(){var _1400=split.shift(),ref=split.shift();if(split.length==1){var _1401="["+ref+"='"+mxobj.getGuid()+"']";_13fb(_1401);return;}if(window.mx.meta.getEntity(_1400)==null){_13f3(error,null,new _13dd(name+".runMapPath: entity"+_1400+" does not exist"),"runMapPath");return;}if(!mxobj.isA(_1400)){_13f3(error,null,new _13dd(name+".runMapPath: entity "+mxobj.getEntity()+" is not a "+_1400+" or one of its subclasses"),"runMapPath");return;}if(!mxobj.has(ref)){_13f3(error,null,new _13dd(name+".runMapPath: reference "+ref+" not found in entity "+_1400),"runMapPath");return;}if(mxobj.get2(ref)!==""){self.get({guids:mxobj.getReferences(ref),callback:_13fc,error:error});}else{_13fb(null);}};_13ff();};this.getBacktrackConstraints=function(_1402,_1403,_1404,error,scope){if(!_13e6.isFunction(error)){scope=error;error=null;}self.getBacktrack(_1403.getTrackId(),_1403.getConstraints(),_1404,error,scope);};var _1405=this.getBacktrackConstraints;this.getBacktrack=function(guid,paths,_1406,error,scope){if(!_13e6.isFunction(error)){scope=error;error=null;}if(!paths||paths.length===0){_1406.call(scope,"",true);return;}var mxobj=null,_1407=[],_1408=0,_1409=true;var _140a=function(){var path=paths[_1408++];if(path){_13fa(mxobj,path,function(_140b){if(_140b){_1407.push(_140b);}else{_1409=false;}_140a();},function(e){_13f3(error,scope,e,"getBacktrack");});}else{_1406.call(scope,_1407.join(""),_1409);}};if(!guid){_1406.call(scope,"",false);}else{self.get({guid:guid,callback:function(obj){mxobj=obj;_140a();},error:function(e){_13f3(error,scope,e,"getBacktrack");}});}};var _140c=function(meta,_140d){var _140e=[],_140f=_13f7(meta,_140d);for(var m in _140f){if(m=="System.changedBy"||m=="System.owner"){continue;}if(meta.has(m)){var attr=meta.getAttributeType(m);switch(attr){case "ObjectReference":_140e.push("["+m+"='"+_140f[m]+"']");break;case "ObjectReferenceSet":_140e.push("["+m+"='"+_140f[m]+"']");break;default:}}}return _140e.join("");};var _1410=function(_1411){var _1412=_1411.entity||_1411.className,meta=window.mx.meta.getEntity(_1412),_1413=_1411.context,xpath="//"+_1412,_1414=_140c(meta,_1413);var _1415=function(_1416,_1417){if(_1411.callback){_1411.callback(xpath+_1414+_1416,_1417);}};if(_1413.getConstraints().length!==0){_1405(meta,_1413,_1415,_1411.error);}else{_1415("",true);}};var _1418=function(_1419){window.mx.server.request({request:{action:"retrieve_xpath_aggregate",params:{xpath:_1419.type+"("+_1419.xpath+")",resulttype:_1419.resulttype||"integer"}},options:{callback:function(code,json){var value;if(json){if(_1419.resulttype=="float"){value=parseFloat(json.value).toFixed(2)||"0.00";}else{value=json.value||0;}}else{value=0;}_1419.callback&&_1419.callback(value);},error:function(e){_13f3(_1419.error,null,e,"numericXPathResult");},useCache:false,preventCache:true}});};var _141a=function(_141b){var _141c;if(_141b===""){return;}else{if(_141b.match(/^\[[^=\[]+=.[0-9]+./)){_141c=_13e5.map(_141b.match(/\[.+?\]/g),function(part){part=part.substr(1,part.length-2);return {ref:part.match(/[^=]+/)[0],ref_ids:part.match(/\d+/)[0]};});}else{_141c=_13e5.map(_141b.match(/\[.+?\]]/g),function(part){part=part.substr(1,part.length-3);var split=part.split("[");return {ref:split[0].split("/")[0],ref_ids:split[1]};});}}return _141c;};this.toString=function(){return name;};this.setOfflineStore=function(_141d,_141e){_13eb=new _13e2(_141d,_141e,_13e7.offlineBackend);_13e9=new _13e4(_13eb,new _13e3(),function(guid){return !_13ea(guid);});};this.startup=function(){window.mx.server.registerCaller(_13e6.hitch(_13e9,"flush"));window.setInterval(_13e6.hitch(_13e9,"cleanup"),10000);};this.subscribe=function(args,scope){var id=lang.getUniqueId(),_141f=args.entity,guid=args.guid,val=args.val,attr=args.attr,_1420=scope?function(){args.callback.apply(scope,arguments);}:args.callback;if(attr){if(!subs.attrs[guid]){subs.attrs[guid]={};}if(!subs.attrs[guid][attr]){subs.attrs[guid][attr]={};}subs.attrs[guid][attr][id]=_1420;}else{if(val){if(!subs.vals[guid]){subs.vals[guid]={};}subs.vals[guid][id]=_1420;}else{if(guid){if(!subs.guids[guid]){subs.guids[guid]={};}subs.guids[guid][id]=_1420;}else{if(_141f){if(!subs.entities[_141f]){subs.entities[_141f]={};}subs.entities[_141f][id]=_1420;}else{_13e0.error(name+".subscribe: no 'entity' or 'guid' parameter found");}}}}return {entity:_141f,guid:guid,val:val,attr:attr,id:id};};this.unsubscribe=function(args){if(args==null){return;}var id=args.id,_1421=args.entity,guid=args.guid,val=args.val,attr=args.attr,count=lang.itemCount;if(attr){var _1422=subs.attrs[guid];if(!_1422){}else{if(!_1422[attr]){}else{delete _1422[attr][id];if(count(_1422[attr])===0){delete _1422[attr];}if(count(_1422)===0){delete subs.attrs[guid];}}}}else{if(val){if(!subs.vals[guid]){}else{delete subs.vals[guid][id];if(count(subs.vals[guid])===0){delete subs.vals[guid];}}}else{if(guid){var _1423=subs.guids[guid];if(!_1423){}else{delete _1423[id];if(count(_1423)===0){delete subs.guids[guid];}}}else{if(_1421){var _1424=subs.entities[_1421];if(!_1424){}else{delete _1424[id];if(count(_1424)===0){delete subs.entities[_1421];}}}}}}};this.update=function(args){var guid=args.guid,_1425=args.entity,attr=args.attr,val=args.val,value=args.value,_1426=args.callback;var _1427=function(funcs,args){var map=funcs?_13e6.clone(funcs):{};for(var key in map){map[key].apply(null,args);}};if(attr){_1427(subs.attrs[guid]&&subs.attrs[guid][attr],[guid,attr,value]);}else{if(guid){_1427(subs.guids[guid],[guid]);}else{if(val){_1427(subs.vals[guid],[guid]);}else{if(_1425){_1427(subs.entities[_1425],[_1425]);}else{_13e0.error(name+".update: no 'entity' or 'guid' parameter found");}}}}_1426&&_1426();};this.objectUpdateNotification=function(mxobj){self.sendClassUpdate(mxobj.getEntity());self.update({guid:mxobj.getGuid()});};this.sendClassUpdate=function(_1428){var meta=window.mx.meta.getEntity(_1428);if(!meta){throw new _13dd("No permission to read or write entity "+_1428+", check security!");}_13e5.forEach([_1428].concat(meta.getSuperEntities()),function(ent){self.update({entity:ent});});};this.objectPing=function(mxobj,_1429){var guid=mxobj.getGuid(),list=_13e6.clone(subs.guids[guid]),chain=[];if(list){for(var sub in list){chain.push((function(list,sub){return function(cb){try{var _142a=list[sub];if(_142a.length==2){_142a(guid,cb);}else{_142a(guid);cb();}}catch(e){if(list){delete list[sub];}cb();}};})(list,sub));}lang.collect(chain,_1429);}else{_1429&&_1429();}};this.sendValidationUpdates=function(_142b){var list,_142c=[];for(var i=0,_142d;_142d=_142b[i];i++){list=subs.vals[_142d.getGuid()];var cp=_142d.clone(),_142e=cp.getAttributes();if(list){for(var x in list){var _142f=_142d.clone();try{list[x]([_142f]);}catch(e){_13e0.error(name+".sendValidationUpdates: trouble triggering validation update: "+e.message);delete list[x];}var attrs=_142f.getAttributes();_13e5.forEach(_142e,function(attr){var name=attr.name,_1430=_13e5.some(attrs,function(item){return item.name==name;});if(!_1430){cp.removeAttribute(attr.name);}},this);}}else{}if(cp.getAttributes().length){_142c.push(cp);}}window.mx.ui.validations(_142c);};this.action=function(_1431){_13e9.action(_1431.params,_1431.context,_1431.store,!!_1431.async,_1431.onValidation,function(value,_1432){if(_1431.callback){_1431.callback(value,_1432);}},function(e){_13f3(_1431.error,null,e,"action");});};this.setOrRetrieveMxObject=function(json){return _13e9.setOrRetrieveMxObject(json);};this.get=function(_1433,_1434){var xpath=_1433.xpath,path=_1433.path,id=_1433.guid,ids=(!("guids" in _1433)&&id)?[id]:_1433.guids,_1435=_1433.callback,error=_1433.error,_1436=!!_1433.noCache,count=!!_1433.count,_1437=_1433.filter,_1438=!!_1433.aggregates,_1439=_1433.context,_143a=_1433.microflow,err;if(("guid" in _1433)&&id==null){_13ef(_1435,_1434,[null],"");return;}if(!xpath&&!ids&&!_143a){err=name+".get: xpath, guid|guids and microflow arguments are undefined";_13e0.error(err);throw new _13dd(err);}if(path&&ids.length!=1){throw new _13dd(name+".get : path can only be used with a single guid");}if(typeof _1435!="function"){err=name+".get: callback is not a function";_13e0.error(err);throw new _13dd(err);}else{if(error&&typeof error!="function"){err=name+".get: error is not a function";_13e0.error(err);throw new _13dd(err);}}if(_1437){if(_1437.limit){_1437.amount=_1437.limit;delete _1437.limit;}if(_1437.references){for(var r in _1437.references){var ref=_1437.references[r];if(ref.limit){ref.amount=ref.limit;delete ref.limit;}}}}var val=null,_143b=_13ec({},_1437,!id?{"id":val,"attributes":val,"offset":val,"sort":val,"amount":val,"distinct":val,"references":val,"depth":val}:{"id":val}),_143c=function(e){_13f3(error,_1434,e,"get");};if(_143b.id&&ids&&!id){delete _143b.id;}if(_143b.id){delete _143b.attributes;delete _143b.distinct;}if(_143a){var _143d=ids?"selection":(xpath?"set":"none"),_143e={actionname:_143a,applyto:_143d};if(_143d=="selection"){_143e.guids=ids;}else{if(_143d=="set"){_143e.xpath=xpath;if(_143b.sort){_143e.sort=_143b.sort;}}}this.action({params:_143e,context:_1439,callback:function(value,extra){_1435&&_1435.call(_1434,value,extra);},error:_143c});}else{if(path&&ids){_13e9.getByPath(ids[0],path,_1433.entity,function(_143f,count){try{if(_1435){_1435.call(_1434,_143f,{count:count});}}catch(e){_13e0.error(name+".get: error in handler for "+(id?id:"["+ids+"]")+": "+e.message+" "+(_1434?"("+_1434+")":""));}},function(e){_13f3(error,_1434,e,"get");});}else{if(ids){if(ids.length===0){_13ef(_1435,_1434,[id?null:[],{count:0}],".get: error in handler");return;}_13e9.getByGuid(ids,_143b,!_1436,function(_1440,count){var _1441;if(id){if(_143b.id){_1441=_13e5.filter(_1440,function(mxobj){return mxobj.getGuid()===id;})[0];if(_1441===undefined){_13f3(error,_1434,new _13dd("Returned objects do not contain requested one"),"get");return;}}else{_1441=_1440[0]||null;}}else{_1441=_1440;}try{if(_1435){_1435.call(_1434,_1441,{count:count});}}catch(e){_13e0.error(name+".get: error in handler for "+(id?id:"["+ids+"]")+": "+e.message+" "+(_1434?"("+_1434+")":""));}},function(e){_13f3(error,_1434,e,"get");});return true;}else{_13e9.getByXPath(xpath,_143b,count,_1438,function(_1442,count,_1443){_13ef(_1435,_1434,[_1442,{count:count,aggregates:_1443}],".get: error in error handler for xpath "+xpath);},_143c);return true;}}}};this.getBySchema=function(_1444,_1445){var guid=_1444.id,_1446=_1444.callback;window.mx.server.request({request:{action:"retrieve_by_id_with_schema",params:_1444},options:{callback:function(code,json){var _1447=[],_1448;_13e5.forEach(json.mxobjects,function(_1449){var _144a=new _13df({json:_1449,meta:window.mx.meta.getEntity(_1449.objectType)});if(_1449.guid==guid){_1448=_144a;}_1447.push(_144a);});_1448.attachReferences(_1447);_1446&&_1446(_1448,false);},error:function(e){_13f3(_1444.error,_1445,e,"getBySchema");}}});};this.getSlice=function(_144b,_144c,_144d,_144e,error){_13e9.getSlice(_144b,_144c,_144d).spread(function(_144f,count){if(_144e){_144e(_144f,count);}}).caught(function(e){if(error){error(e);}else{mx.onError(e);}});};this.fetch=function(obj,path,_1450,_1451,error){if(_13e6.isFunction(_1450)){error=_1451;_1451=_1450;}var _1452;if(!path){_1452=[];}else{if(path instanceof Array){_1452=path.slice();}else{_1452=path.split("/");}}if(obj&&obj.isA(_1452[0])){_1452.shift();}var attr;if(_1452.length%2==1){attr=_1452.pop();}else{attr="";}_13e9.fetch(obj,_1452,attr,_1450,_1451,_1453);function _1453(e){_13f3(error,null,e,"fetch");};};this.release=function(objs){if(!objs){return;}objs=objs instanceof Array?objs:[objs];for(var i=0,len=objs.length;i<len;++i){if(objs[i]){_13e9.release(objs[i].getGuid());}}};this.create=function(_1454,_1455){if(typeof _1454.callback!="function"){throw new _13dd(name+".create: callback is not a function");}else{if(_1454.error&&typeof _1454.error!="function"){throw new _13dd(name+".create: error is not a function");}else{if(typeof _1454.entity!="string"){throw new _13dd(name+".create: entity is not a string");}}}_13e9.create(_1454.entity,_1454.persistent,function(obj){if(_1454.context){self.setObjectToContext(obj,_1454.context);}_1454.callback.call(_1455,obj);},function(e){_13f3(_1454.error,_1455,e,"create");});};this.jsonToMxObject=function(json){return new _13df({json:json,meta:window.mx.meta.getEntity(json.objectType)});};this.remove=function(_1456){var guids=("guid" in _1456)?[_1456.guid]:_1456.guids;if(("guids" in _1456)&&!(_1456.guids instanceof Array)){throw new _13dd(name+".remove: parameter guids set but not of type Array");}else{if(_1456.error&&typeof _1456.error!="function"){throw new _13dd(name+".remove: parameter error set but not of type Function");}else{if(_1456.callback&&typeof _1456.callback!="function"){throw new _13dd(name+".remove: parameter callback set but not of type Function");}}}_13e9.remove(guids,_1456.callback,_1457);function _1457(e){_13f3(_1456.error,null,e,"remove");};};this.save=function(_1458,_1459){if(typeof _1458.callback!="function"){throw new _13dd(name+".save: callback is not a function");}else{if(_1458.mxobj!=null&&!(_1458.mxobj instanceof _13df)){throw new _13dd(name+".save: mxobj is not an MxObject");}}_13e9.save(_1458.mxobj,_1458.standalone,_1458.onValidation,_145a,_145b);function _145a(){var msg=".save: error calling handler";if(_1458.mxobj){msg+=" for ["+_1458.mxobj.getGuid()+"]";}_13ef(_1458.callback,_1459,null,msg);};function _145b(_145c){var err;if(_145c instanceof Error){err=_145c;}else{if(_145c){err=new _13de();self.sendValidationUpdates([_145c.clone()]);}}_13f3(_1458.error,_1459,err,"save");};};this.commit=function(_145d,_145e){if(typeof _145d!="object"){throw new _13dd(name+".commit: args is not an object");}else{if(typeof _145d.callback!="function"){throw new _13dd(name+".commit: callback is not a function");}else{if(_145d.mxobj!=null&&!(_145d.mxobj instanceof _13df)){throw new _13dd(name+".commit: mxobj is not a MxObject");}}}if(!_145d.mxobj&&_145d.callback){_13ef(_145d.callback,_145e,null,".commit: error when executing handler without object");return;}_13e9.commit(_145d.mxobj.getGuid(),_145d.context,_145d.store,_145d.onValidation,_145f,_1460);function _145f(){self.objectUpdateNotification(_145d.mxobj);_13ef(_145d.callback,_145e,null,".commit: error when executing handler for ["+_145d.mxobj.getGuid()+"]");};function _1460(e){_13f3(_145d.error,null,e,"commit");};};this.rollback=function(_1461,_1462){if(typeof _1461!="object"){throw new _13dd(name+".rollback: args is not an object");}else{if(typeof _1461.callback!="function"){throw new _13dd(name+".rollback: callback is not a function");}else{if(_1461.mxobj!=null&&!(_1461.mxobj instanceof _13df)){throw new _13dd(name+".rollback: mxobj is not a MxObject");}}}if(!_1461.mxobj){_13ef(_1461.callback,_1462,null,".rollback: error in handler");return;}var _1463=_1461.mxobj;var _1464=_1463.getEntity();var guid=_1463.getGuid();_13e9.rollback(_1463,_1465,_1466);function _1465(_1467){if(_1467){_1463.resetFromJSON(_1467.jsonData);self.objectUpdateNotification(_1467);}_1463.reset();self.sendClassUpdate(_1464);_13ef(_1461.callback,_1462,null,name+".rollback: error in handler for ["+guid+"]");};function _1466(e){_13f3(_1461.error,null,e,"rollback");};};this.synchronize=function(_1468,error){return _13eb.upload(_13e8).caught(function(e){if(!(e instanceof _13dc)){return _13eb.cleanupDirtyObjects().then(function(){return null;});}else{throw e;}}).then(function(_1469){return _13eb.download().then(function(){if(_1468){_1468(_1469);}});}).caught(function(e){if(error){error(e);}});};this.invalidateCaches=function(guid){_13e9.invalidateCaches(guid);};this.saveDocument=function(guid,_146a,blob,_146b,error){_13eb.saveDocument(guid,_146a,blob,_146b,error);};this.matchObjectsToContext=function(_146c){var _146d=_146c.entity,_146e=_146c.context,_146f=_146c.mxobjs,_1470=_146c.callback,_1471=[];_1405(window.mx.meta.getEntity(_146d),_146e,function(_1472){var _1473=_141a(_1472);for(var i=0,obj;obj=_146f[i];i++){var _1474=0;for(var x=0,match;match=_1473[x];x++){var ref=match.ref,_1475=match.ref_ids,ids=obj.getReferences(ref),found=false;if(ids!==false){for(var j=0;j<ids.length;j++){if(_1475.match(ids[j])){found=true;break;}}}found&&_1474++;}if(_1474==_1473.length){_1471.push(obj);}}_1470(_1471);});};this.createXPathString=function(_1476){var _1477=_1476.callback,_1478=_1476.entity||_1476.className,_1479=_1476.context;var _147a=_1479&&_1479.getContexts();if(!_147a||_147a.length===0){_1477("//"+_1478);return;}_1410(_1476);};this.generateExport=function(_147b){window.mx.server.request({request:{action:"export",params:_147b.params},options:{callback:_147b.callback,error:function(e){_13f3(_147b.error,null,e,"generateExport");},useCache:false,async:true}});};this.setObjectToContext=function(mxObj,_147c){if(typeof mxObj!="object"){throw new _13dd(name+".setObjectToContext: parameter mxObj is not of type Object");}else{if(typeof _147c!="object"){throw new _13dd(name+".setObjectToContext: parameter context is not of type Object");}}try{var _147d=mxObj.getAttributes();for(var e=0;e<_147d.length;e++){if(mxObj.isReference(_147d[e])){var _147e=mxObj.getSelectorEntity(_147d[e]);if((_147d[e]=="System.owner")||(_147d[e]=="System.changedBy")){continue;}if(_147c.hasContext(_147e)){mxObj.addReference(_147d[e],_147c.getContext(_147e));}var meta=window.mx.meta.getEntity(_147e);if(meta){if(meta.hasSubEntities()){var _147f=meta.getSubEntities();for(var i=0;i<_147f.length;i++){if(_147c.hasContext(_147f[i])){mxObj.addReference(_147d[e],_147c.getContext(_147f[i]));}}}}}}}catch(err){}};this.sumOfXPathSet=function(_1480){_1480.type="sum";_1418(_1480);};this.countOfXPathSet=function(_1481){_1481.type="count";_1418(_1481);};this.sizeOfXPathSet=function(_1482){_1482.type="count";_1418(_1482);};this.avgOfXPathSet=function(_1483){_1483.type="avg";_1418(_1483);};this.maxOfXPathSet=function(_1484){_1484.type="max";_1418(_1484);};this.minOfXPathSet=function(_1485){_1485.type="min";_1418(_1485);};this.makeChange=function(mxobj,attr,value){_13e9.makeChange(mxobj,attr,value);this.update({guid:mxobj.getGuid(),attr:attr,value:mxobj.get(attr)});};this.flush=function(_1486){_13e9.flush(_1486);};this.getDocumentUrl=function(guid,_1487,_1488){return _13eb.getDocumentUrl(guid,_1487,_1488);};};return Data;});},"webcore/data-backend/OnlineDataBackend":function(){define(["./_DataBackend","../url-helpers","mendix/lang","mendix/lib/MxObject","mendix/lib/Error","mendix/logger","dojo/_base/array","dojo/_base/lang"],function(_1489,_148a,lang,_148b,_148c,_148d,_148e,_148f){function _1490(_1491,_1492){_1489.call(this,_1491);this._objectCache=_1492;};_1490.prototype=new _1489();_1490.prototype.getByGuid=function(guids,_1493,_1494,error){window.mx.server.request({request:{action:"retrieve_by_ids",params:{ids:guids,schema:_1493}},options:{callback:function(type,json){if(_1494){_1494(json.mxobjects||[]);}},error:error}});};_1490.prototype.getByPath=function(guid,path,_1495,_1496,error){window.mx.server.request({request:{action:"retrieve_by_path",params:{id:guid,path:path,entity:_1495}},options:{callback:function(type,json){if(_1496){_1496(json.mxobjects||[]);}},error:error}});};_1490.prototype.getByXPath=function(xpath,_1497,_1498,_1499,_149a,error){window.mx.server.request({request:{action:"retrieve_by_xpath",params:{xpath:xpath,schema:_1497,count:_1498,aggregates:_1499}},options:{callback:function(type,json){if(_149a){_149a(json.mxobjects,json.count,json.aggregates);}},error:error}});};_1490.prototype.release=function(guid){mx.server.release(guid);};_1490.prototype.action=function(_149b,_149c,store,async,_149d,_149e,error){window.mx.server.request({request:{action:"executeaction",params:_149b,context:_149c},options:{store:store,async:async,onValidation:_149d,callback:function(_149f,_14a0,_14a1){if(_149e){_149e(_14a0.actionResult,_14a1);}},error:error}});};_1490.prototype.create=function(_14a2,_14a3,_14a4,error){window.mx.server.request({request:{action:_14a3?"create":"instantiate",params:{objecttype:_14a2,preventCache:(new Date()).getTime()}},options:{callback:function(type,json){if(_14a4){_14a4(json.mxobject);}},error:error}});};_1490.prototype.save=function(_14a5,_14a6,_14a7,error){window.mx.server.request({request:{action:"change",params:_14a5},options:{onValidation:_14a6,sync:true,unique:true,callback:_14a7,error:error}});};_1490.prototype.commit=function(guid,_14a8,store,_14a9,_14aa,error){window.mx.server.request({request:{action:"commit",params:{guid:guid},context:_14a8},options:{onValidation:_14a9,store:store,callback:_14aa,error:error}});};_1490.prototype.rollback=function(guid,_14ab,error){window.mx.server.request({request:{action:"rollback",params:{guid:guid}},options:{unique:true,standalone:true,callback:function(type,json){if(_14ab){_14ab(json.mxobject||null);}},error:error}});};_1490.prototype.remove=function(guids,_14ac,error){window.mx.server.request({request:{action:"delete",params:{guids:guids}},options:{callback:function(){if(_14ac){_14ac();}},error:error}});};_1490.prototype.saveDocument=function(guid,_14ad,blob,_14ae,error){var _14af=new FormData();_14af.append("mxdocument",blob);var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status==200){if(_14ae){_14ae();}return;}var _14b0=_14b1(xhr.response);if(error){error(_14b0||undefined);}}};xhr.open("post",_14b2(),true);xhr.responseType="document";xhr.send(_14af);function _14b2(){var _14b3=_148f.mixin({},_14ad,{guid:guid,csrfToken:window.mx.session.getCSRFToken()});return window.mx.remoteUrl+"file?"+Object.keys(_14b3).map(function(name){return name+"="+_14b3[name];}).join("&");};function _14b1(doc){var err;if(doc){err=lang.getFileError(doc,"mendix/lib/Upload._getError");}else{err=new Error("mendix/lib/Upload._getError: connection error");}return err;};};_1490.prototype.getDocumentUrl=_148a.getDynamicResourceUrl;return _1490;});},"webcore/data-backend/_DataBackend":function(){define(["mendix/ov","mendix/lang","mendix/lib/Error","dojo/_base/array","dojo/_base/lang","bluebird/bluebird"],function(ov,lang,_14b4,_14b5,_14b6,_14b7){function _14b8(){};_14b8.prototype.getByGuid=function(guids,_14b9,_14ba,_14bb,error){if(error){error(new _14b4("Not implemented yet"));}};_14b8.prototype.getByPath=function(guid,path,_14bc,_14bd,error){if(error){error(new _14b4("Not implemented yet"));}};_14b8.prototype.getByXPath=function(xpath,_14be,_14bf,_14c0,_14c1,error){if(error){error(new _14b4("Not implemented yet"));}};_14b8.prototype.getSlice=function(_14c2,_14c3,_14c4){return _14b7.reject(new _14b4("Not implemented yet"));};_14b8.prototype.release=function(guid){throw new _14b4("Not implemented yet");};_14b8.prototype.action=function(_14c5,_14c6,store,async,_14c7,_14c8,error){throw new _14b4("Not implemented yet");};_14b8.prototype.upload=function(_14c9){return _14b7.reject(new _14b4("Not implemented yet"));};_14b8.prototype.download=function(){return _14b7.reject(new _14b4("Not implemented yet"));};_14b8.prototype.cleanupDirtyObjects=function(){return _14b7.reject(new _14b4("Not implemented yet"));};_14b8.prototype.create=function(_14ca,_14cb,_14cc,error){throw new _14b4("Not implemented yet");};_14b8.prototype.save=function(_14cd,_14ce,_14cf,error){if(error){error(new _14b4("Not implemented yet"));}};_14b8.prototype.commit=function(guid,_14d0,store,_14d1,_14d2,error){if(error){error(new _14b4("Not implemented yet"));}};_14b8.prototype.rollback=function(guid,_14d3,error){if(error){error(new _14b4("Not implemented yet"));}};_14b8.prototype.remove=function(guids,_14d4,error){if(error){error(new _14b4("Not implemented yet"));}};_14b8.prototype.saveDocument=function(guid,blob,_14d5,error){if(error){error(new _14b4("Not implemented yet"));}};_14b8.prototype.getDocumentUrl=function(guid,_14d6,_14d7){throw new _14b4("Not implemented yet");};return _14b8;});},"bluebird/bluebird":function(){define(function(){var _14d8,_14d9,_14da;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_=="function"&&_dereq_;if(!u&&a){return a(o,!0);}if(i){return i(o,!0);}var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e);},l,l.exports,e,t,n,r);}return n[o].exports;};var i=typeof _dereq_=="function"&&_dereq_;for(var o=0;o<r.length;o++){s(r[o]);}return s;})({1:[function(_14db,_14dc,_14dd){"use strict";_14dc.exports=function(_14de){var _14df=_14de._SomePromiseArray;function any(_14e0){var ret=new _14df(_14e0);var _14e1=ret.promise();ret.setHowMany(1);ret.setUnwrap();ret.init();return _14e1;};_14de.any=function(_14e2){return any(_14e2);};_14de.prototype.any=function(){return any(this);};};},{}],2:[function(_14e3,_14e4,_14e5){"use strict";var _14e6;try{throw new Error();}catch(e){_14e6=e;}var _14e7=_14e3("./schedule.js");var Queue=_14e3("./queue.js");var util=_14e3("./util.js");function Async(){this._isTickUsed=false;this._lateQueue=new Queue(16);this._normalQueue=new Queue(16);this._trampolineEnabled=true;var self=this;this.drainQueues=function(){self._drainQueues();};this._schedule=_14e7.isStatic?_14e7(this.drainQueues):_14e7;};Async.prototype.disableTrampolineIfNecessary=function(){if(util.hasDevTools){this._trampolineEnabled=false;}};Async.prototype.enableTrampoline=function(){if(!this._trampolineEnabled){this._trampolineEnabled=true;this._schedule=function(fn){setTimeout(fn,0);};}};Async.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0;};Async.prototype.throwLater=function(fn,arg){if(arguments.length===1){arg=fn;fn=function(){throw arg;};}if(typeof setTimeout!=="undefined"){setTimeout(function(){fn(arg);},0);}else{try{this._schedule(function(){fn(arg);});}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n");}}};function _14e8(fn,_14e9,arg){this._lateQueue.push(fn,_14e9,arg);this._queueTick();};function _14ea(fn,_14eb,arg){this._normalQueue.push(fn,_14eb,arg);this._queueTick();};function _14ec(_14ed){this._normalQueue._pushOne(_14ed);this._queueTick();};if(!util.hasDevTools){Async.prototype.invokeLater=_14e8;Async.prototype.invoke=_14ea;Async.prototype.settlePromises=_14ec;}else{if(_14e7.isStatic){_14e7=function(fn){setTimeout(fn,0);};}Async.prototype.invokeLater=function(fn,_14ee,arg){if(this._trampolineEnabled){_14e8.call(this,fn,_14ee,arg);}else{this._schedule(function(){setTimeout(function(){fn.call(_14ee,arg);},100);});}};Async.prototype.invoke=function(fn,_14ef,arg){if(this._trampolineEnabled){_14ea.call(this,fn,_14ef,arg);}else{this._schedule(function(){fn.call(_14ef,arg);});}};Async.prototype.settlePromises=function(_14f0){if(this._trampolineEnabled){_14ec.call(this,_14f0);}else{this._schedule(function(){_14f0._settlePromises();});}};}Async.prototype.invokeFirst=function(fn,_14f1,arg){this._normalQueue.unshift(fn,_14f1,arg);this._queueTick();};Async.prototype._drainQueue=function(queue){while(queue.length()>0){var fn=queue.shift();if(typeof fn!=="function"){fn._settlePromises();continue;}var _14f2=queue.shift();var arg=queue.shift();fn.call(_14f2,arg);}};Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._drainQueue(this._lateQueue);};Async.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=true;this._schedule(this.drainQueues);}};Async.prototype._reset=function(){this._isTickUsed=false;};_14e4.exports=new Async();_14e4.exports.firstLineError=_14e6;},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(_14f3,_14f4,_14f5){"use strict";_14f4.exports=function(_14f6,_14f7,_14f8){var _14f9=function(_14fa,e){this._reject(e);};var _14fb=function(e,_14fc){_14fc.promiseRejectionQueued=true;_14fc.bindingPromise._then(_14f9,_14f9,null,this,e);};var _14fd=function(_14fe,_14ff){if(this._isPending()){this._resolveCallback(_14ff.target);}};var _1500=function(e,_1501){if(!_1501.promiseRejectionQueued){this._reject(e);}};_14f6.prototype.bind=function(_1502){var _1503=_14f8(_1502);var ret=new _14f6(_14f7);ret._propagateFrom(this,1);var _1504=this._target();ret._setBoundTo(_1503);if(_1503 instanceof _14f6){var _1505={promiseRejectionQueued:false,promise:ret,target:_1504,bindingPromise:_1503};_1504._then(_14f7,_14fb,ret._progress,ret,_1505);_1503._then(_14fd,_1500,ret._progress,ret,_1505);}else{ret._resolveCallback(_1504);}return ret;};_14f6.prototype._setBoundTo=function(obj){if(obj!==undefined){this._bitField=this._bitField|131072;this._boundTo=obj;}else{this._bitField=this._bitField&(~131072);}};_14f6.prototype._isBound=function(){return (this._bitField&131072)===131072;};_14f6.bind=function(_1506,value){var _1507=_14f8(_1506);var ret=new _14f6(_14f7);ret._setBoundTo(_1507);if(_1507 instanceof _14f6){_1507._then(function(){ret._resolveCallback(value);},ret._reject,ret._progress,ret,null);}else{ret._resolveCallback(value);}return ret;};};},{}],4:[function(_1508,_1509,_150a){"use strict";var old;if(typeof Promise!=="undefined"){old=Promise;}function _150b(){try{if(Promise===_150c){Promise=old;}}catch(e){}return _150c;};var _150c=_1508("./promise.js")();_150c.noConflict=_150b;_1509.exports=_150c;},{"./promise.js":23}],5:[function(_150d,_150e,_150f){"use strict";var cr=Object.create;if(cr){var _1510=cr(null);var _1511=cr(null);_1510[" size"]=_1511[" size"]=0;}_150e.exports=function(_1512){var util=_150d("./util.js");var _1513=util.canEvaluate;var _1514=util.isIdentifier;var _1515;var _1516;if(!true){var _1517=function(_1518){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,_1518))(_1519);};var _151a=function(_151b){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",_151b));};var _151c=function(name,_151d,cache){var ret=cache[name];if(typeof ret!=="function"){if(!_1514(name)){return null;}ret=_151d(name);cache[name]=ret;cache[" size"]++;if(cache[" size"]>512){var keys=Object.keys(cache);for(var i=0;i<256;++i){delete cache[keys[i]];}cache[" size"]=keys.length-256;}}return ret;};_1515=function(name){return _151c(name,_1517,_1510);};_1516=function(name){return _151c(name,_151a,_1511);};}function _1519(obj,_151e){var fn;if(obj!=null){fn=obj[_151e];}if(typeof fn!=="function"){var _151f="Object "+util.classString(obj)+" has no method '"+util.toString(_151e)+"'";throw new _1512.TypeError(_151f);}return fn;};function _1520(obj){var _1521=this.pop();var fn=_1519(obj,_1521);return fn.apply(obj,this);};_1512.prototype.call=function(_1522){var $_len=arguments.length;var args=new Array($_len-1);for(var $_i=1;$_i<$_len;++$_i){args[$_i-1]=arguments[$_i];}if(!true){if(_1513){var _1523=_1515(_1522);if(_1523!==null){return this._then(_1523,undefined,undefined,args,undefined);}}}args.push(_1522);return this._then(_1520,undefined,undefined,args,undefined);};function _1524(obj){return obj[this];};function _1525(obj){var index=+this;if(index<0){index=Math.max(0,index+obj.length);}return obj[index];};_1512.prototype.get=function(_1526){var _1527=(typeof _1526==="number");var _1528;if(!_1527){if(_1513){var _1529=_1516(_1526);_1528=_1529!==null?_1529:_1524;}else{_1528=_1524;}}else{_1528=_1525;}return this._then(_1528,undefined,undefined,_1526,undefined);};};},{"./util.js":38}],6:[function(_152a,_152b,_152c){"use strict";_152b.exports=function(_152d){var _152e=_152a("./errors.js");var async=_152a("./async.js");var _152f=_152e.CancellationError;_152d.prototype._cancel=function(_1530){if(!this.isCancellable()){return this;}var _1531;var _1532=this;while((_1531=_1532._cancellationParent)!==undefined&&_1531.isCancellable()){_1532=_1531;}this._unsetCancellable();_1532._target()._rejectCallback(_1530,false,true);};_152d.prototype.cancel=function(_1533){if(!this.isCancellable()){return this;}if(_1533===undefined){_1533=new _152f();}async.invokeLater(this._cancel,this,_1533);return this;};_152d.prototype.cancellable=function(){if(this._cancellable()){return this;}async.enableTrampoline();this._setCancellable();this._cancellationParent=undefined;return this;};_152d.prototype.uncancellable=function(){var ret=this.then();ret._unsetCancellable();return ret;};_152d.prototype.fork=function(_1534,_1535,_1536){var ret=this._then(_1534,_1535,_1536,undefined,undefined);ret._setCancellable();ret._cancellationParent=undefined;return ret;};};},{"./async.js":2,"./errors.js":13}],7:[function(_1537,_1538,_1539){"use strict";_1538.exports=function(){var async=_1537("./async.js");var util=_1537("./util.js");var _153a=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/;var _153b=null;var _153c=null;var _153d=false;var warn;function _153e(_153f){this._parent=_153f;var _1540=this._length=1+(_153f===undefined?0:_153f._length);_1541(this,_153e);if(_1540>32){this.uncycle();}};util.inherits(_153e,Error);_153e.prototype.uncycle=function(){var _1542=this._length;if(_1542<2){return;}var nodes=[];var _1543={};for(var i=0,node=this;node!==undefined;++i){nodes.push(node);node=node._parent;}_1542=this._length=i;for(var i=_1542-1;i>=0;--i){var stack=nodes[i].stack;if(_1543[stack]===undefined){_1543[stack]=i;}}for(var i=0;i<_1542;++i){var _1544=nodes[i].stack;var index=_1543[_1544];if(index!==undefined&&index!==i){if(index>0){nodes[index-1]._parent=undefined;nodes[index-1]._length=1;}nodes[i]._parent=undefined;nodes[i]._length=1;var _1545=i>0?nodes[i-1]:this;if(index<_1542-1){_1545._parent=nodes[index+1];_1545._parent.uncycle();_1545._length=_1545._parent._length+1;}else{_1545._parent=undefined;_1545._length=1;}var _1546=_1545._length+1;for(var j=i-2;j>=0;--j){nodes[j]._length=_1546;_1546++;}return;}}};_153e.prototype.parent=function(){return this._parent;};_153e.prototype.hasParent=function(){return this._parent!==undefined;};_153e.prototype.attachExtraTrace=function(error){if(error.__stackCleaned__){return;}this.uncycle();var _1547=_153e.parseStackAndMessage(error);var _1548=_1547.message;var _1549=[_1547.stack];var trace=this;while(trace!==undefined){_1549.push(_154a(trace.stack.split("\n")));trace=trace._parent;}_154b(_1549);_154c(_1549);util.notEnumerableProp(error,"stack",_154d(_1548,_1549));util.notEnumerableProp(error,"__stackCleaned__",true);};function _154d(_154e,_154f){for(var i=0;i<_154f.length-1;++i){_154f[i].push("From previous event:");_154f[i]=_154f[i].join("\n");}if(i<_154f.length){_154f[i]=_154f[i].join("\n");}return _154e+"\n"+_154f.join("\n");};function _154c(_1550){for(var i=0;i<_1550.length;++i){if(_1550[i].length===0||((i+1<_1550.length)&&_1550[i][0]===_1550[i+1][0])){_1550.splice(i,1);i--;}}};function _154b(_1551){var _1552=_1551[0];for(var i=1;i<_1551.length;++i){var prev=_1551[i];var _1553=_1552.length-1;var _1554=_1552[_1553];var _1555=-1;for(var j=prev.length-1;j>=0;--j){if(prev[j]===_1554){_1555=j;break;}}for(var j=_1555;j>=0;--j){var line=prev[j];if(_1552[_1553]===line){_1552.pop();_1553--;}else{break;}}_1552=prev;}};function _154a(stack){var ret=[];for(var i=0;i<stack.length;++i){var line=stack[i];var _1556=_153b.test(line)||"    (No stack trace)"===line;var _1557=_1556&&_1558(line);if(_1556&&!_1557){if(_153d&&line.charAt(0)!==" "){line="    "+line;}ret.push(line);}}return ret;};function _1559(error){var stack=error.stack.replace(/\s+$/g,"").split("\n");for(var i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||_153b.test(line)){break;}}if(i>0){stack=stack.slice(i);}return stack;};_153e.parseStackAndMessage=function(error){var stack=error.stack;var _155a=error.toString();stack=typeof stack==="string"&&stack.length>0?_1559(error):["    (No stack trace)"];return {message:_155a,stack:_154a(stack)};};_153e.formatAndLogError=function(error,title){if(typeof console!=="undefined"){var _155b;if(typeof error==="object"||typeof error==="function"){var stack=error.stack;_155b=title+_153c(stack,error);}else{_155b=title+String(error);}if(typeof warn==="function"){warn(_155b);}else{if(typeof console.log==="function"||typeof console.log==="object"){}}}};_153e.unhandledRejection=function(_155c){_153e.formatAndLogError(_155c,"^--- With additional stack trace: ");};_153e.isSupported=function(){return typeof _1541==="function";};_153e.fireRejectionEvent=function(name,_155d,_155e,_155f){var _1560=false;try{if(typeof _155d==="function"){_1560=true;if(name==="rejectionHandled"){_155d(_155f);}else{_155d(_155e,_155f);}}}catch(e){async.throwLater(e);}var _1561=false;try{_1561=_1562(name,_155e,_155f);}catch(e){_1561=true;async.throwLater(e);}var _1563=false;if(_1564){try{_1563=_1564(name.toLowerCase(),{reason:_155e,promise:_155f});}catch(e){_1563=true;async.throwLater(e);}}if(!_1561&&!_1560&&!_1563&&name==="unhandledRejection"){_153e.formatAndLogError(_155e,"Unhandled rejection ");}};function _1565(obj){var str;if(typeof obj==="function"){str="[function "+(obj.name||"anonymous")+"]";}else{str=obj.toString();var _1566=/\[object [a-zA-Z0-9$_]+\]/;if(_1566.test(str)){try{var _1567=JSON.stringify(obj);str=_1567;}catch(e){}}if(str.length===0){str="(empty array)";}}return ("(<"+snip(str)+">, no stack trace)");};function snip(str){var _1568=41;if(str.length<_1568){return str;}return str.substr(0,_1568-3)+"...";};var _1558=function(){return false;};var _1569=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function _156a(line){var _156b=line.match(_1569);if(_156b){return {fileName:_156b[1],line:parseInt(_156b[2],10)};}};_153e.setBounds=function(_156c,_156d){if(!_153e.isSupported()){return;}var _156e=_156c.stack.split("\n");var _156f=_156d.stack.split("\n");var _1570=-1;var _1571=-1;var _1572;var _1573;for(var i=0;i<_156e.length;++i){var _1574=_156a(_156e[i]);if(_1574){_1572=_1574.fileName;_1570=_1574.line;break;}}for(var i=0;i<_156f.length;++i){var _1574=_156a(_156f[i]);if(_1574){_1573=_1574.fileName;_1571=_1574.line;break;}}if(_1570<0||_1571<0||!_1572||!_1573||_1572!==_1573||_1570>=_1571){return;}_1558=function(line){if(_153a.test(line)){return true;}var info=_156a(line);if(info){if(info.fileName===_1572&&(_1570<=info.line&&info.line<=_1571)){return true;}}return false;};};var _1541=(function stackDetection(){var _1575=/^\s*at\s*/;var _1576=function(stack,error){if(typeof stack==="string"){return stack;}if(error.name!==undefined&&error.message!==undefined){return error.toString();}return _1565(error);};if(typeof Error.stackTraceLimit==="number"&&typeof Error.captureStackTrace==="function"){Error.stackTraceLimit=Error.stackTraceLimit+6;_153b=_1575;_153c=_1576;var _1577=Error.captureStackTrace;_1558=function(line){return _153a.test(line);};return function(_1578,_1579){Error.stackTraceLimit=Error.stackTraceLimit+6;_1577(_1578,_1579);Error.stackTraceLimit=Error.stackTraceLimit-6;};}var err=new Error();if(typeof err.stack==="string"&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0){_153b=/@/;_153c=_1576;_153d=true;return function _1577(o){o.stack=new Error().stack;};}var _157a;try{throw new Error();}catch(e){_157a=("stack" in e);}if(!("stack" in err)&&_157a&&typeof Error.stackTraceLimit==="number"){_153b=_1575;_153c=_1576;return function _1577(o){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error();}catch(e){o.stack=e.stack;}Error.stackTraceLimit=Error.stackTraceLimit-6;};}_153c=function(stack,error){if(typeof stack==="string"){return stack;}if((typeof error==="object"||typeof error==="function")&&error.name!==undefined&&error.message!==undefined){return error.toString();}return _1565(error);};return null;})([]);var _1564;var _1562=(function(){if(util.isNode){return function(name,_157b,_157c){if(name==="rejectionHandled"){return process.emit(name,_157c);}else{return process.emit(name,_157b,_157c);}};}else{var _157d=false;var _157e=true;try{var ev=new self.CustomEvent("test");_157d=ev instanceof CustomEvent;}catch(e){}if(!_157d){try{var event=document.createEvent("CustomEvent");event.initCustomEvent("testingtheevent",false,true,{});self.dispatchEvent(event);}catch(e){_157e=false;}}if(_157e){_1564=function(type,_157f){var event;if(_157d){event=new self.CustomEvent(type,{detail:_157f,bubbles:false,cancelable:true});}else{if(self.dispatchEvent){event=document.createEvent("CustomEvent");event.initCustomEvent(type,false,true,_157f);}}return event?!self.dispatchEvent(event):false;};}var _1580={};_1580["unhandledRejection"]=("on"+"unhandledRejection").toLowerCase();_1580["rejectionHandled"]=("on"+"rejectionHandled").toLowerCase();return function(name,_1581,_1582){var _1583=_1580[name];var _1584=self[_1583];if(!_1584){return false;}if(name==="rejectionHandled"){_1584.call(self,_1582);}else{_1584.call(self,_1581,_1582);}return true;};}})();if(typeof console!=="undefined"&&typeof console.warn!=="undefined"){warn=function(_1585){console.warn(_1585);};if(util.isNode&&process.stderr.isTTY){warn=function(_1586){process.stderr.write("[31m"+_1586+"[39m\n");};}else{if(!util.isNode&&typeof (new Error().stack)==="string"){warn=function(_1587){console.warn("%c"+_1587,"color: red");};}}}return _153e;};},{"./async.js":2,"./util.js":38}],8:[function(_1588,_1589,_158a){"use strict";_1589.exports=function(_158b){var util=_1588("./util.js");var _158c=_1588("./errors.js");var _158d=util.tryCatch;var _158e=util.errorObj;var keys=_1588("./es5.js").keys;var _158f=_158c.TypeError;function _1590(_1591,_1592,_1593){this._instances=_1591;this._callback=_1592;this._promise=_1593;};function _1594(_1595,e){var _1596={};var _1597=_158d(_1595).call(_1596,e);if(_1597===_158e){return _1597;}var _1598=keys(_1596);if(_1598.length){_158e.e=new _158f("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n");return _158e;}return _1597;};_1590.prototype.doFilter=function(e){var cb=this._callback;var _1599=this._promise;var _159a=_1599._boundValue();for(var i=0,len=this._instances.length;i<len;++i){var item=this._instances[i];var _159b=item===Error||(item!=null&&item.prototype instanceof Error);if(_159b&&e instanceof item){var ret=_158d(cb).call(_159a,e);if(ret===_158e){_158b.e=ret.e;return _158b;}return ret;}else{if(typeof item==="function"&&!_159b){var _159c=_1594(item,e);if(_159c===_158e){e=_158e.e;break;}else{if(_159c){var ret=_158d(cb).call(_159a,e);if(ret===_158e){_158b.e=ret.e;return _158b;}return ret;}}}}}_158b.e=e;return _158b;};return _1590;};},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(_159d,_159e,_159f){"use strict";_159e.exports=function(_15a0,_15a1,_15a2){var _15a3=[];function _15a4(){this._trace=new _15a1(_15a5());};_15a4.prototype._pushContext=function(){if(!_15a2()){return;}if(this._trace!==undefined){_15a3.push(this._trace);}};_15a4.prototype._popContext=function(){if(!_15a2()){return;}if(this._trace!==undefined){_15a3.pop();}};function _15a6(){if(_15a2()){return new _15a4();}};function _15a5(){var _15a7=_15a3.length-1;if(_15a7>=0){return _15a3[_15a7];}return undefined;};_15a0.prototype._peekContext=_15a5;_15a0.prototype._pushContext=_15a4.prototype._pushContext;_15a0.prototype._popContext=_15a4.prototype._popContext;return _15a6;};},{}],10:[function(_15a8,_15a9,_15aa){"use strict";_15a9.exports=function(_15ab,_15ac){var _15ad=_15ab._getDomain;var async=_15a8("./async.js");var _15ae=_15a8("./errors.js").Warning;var util=_15a8("./util.js");var _15af=util.canAttachTrace;var _15b0;var _15b1;var _15b2=false||(util.isNode&&(!!process.env["BLUEBIRD_DEBUG"]||process.env["NODE_ENV"]==="development"));if(_15b2){async.disableTrampolineIfNecessary();}_15ab.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled();this._bitField=this._bitField|16777216;};_15ab.prototype._ensurePossibleRejectionHandled=function(){if((this._bitField&16777216)!==0){return;}this._setRejectionIsUnhandled();async.invokeLater(this._notifyUnhandledRejection,this,undefined);};_15ab.prototype._notifyUnhandledRejectionIsHandled=function(){_15ac.fireRejectionEvent("rejectionHandled",_15b0,undefined,this);};_15ab.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var _15b3=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified();_15ac.fireRejectionEvent("unhandledRejection",_15b1,_15b3,this);}};_15ab.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|524288;};_15ab.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&(~524288);};_15ab.prototype._isUnhandledRejectionNotified=function(){return (this._bitField&524288)>0;};_15ab.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|2097152;};_15ab.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&(~2097152);if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled();}};_15ab.prototype._isRejectionUnhandled=function(){return (this._bitField&2097152)>0;};_15ab.prototype._setCarriedStackTrace=function(_15b4){this._bitField=this._bitField|1048576;this._fulfillmentHandler0=_15b4;};_15ab.prototype._isCarryingStackTrace=function(){return (this._bitField&1048576)>0;};_15ab.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:undefined;};_15ab.prototype._captureStackTrace=function(){if(_15b2){this._trace=new _15ac(this._peekContext());}return this;};_15ab.prototype._attachExtraTrace=function(error,_15b5){if(_15b2&&_15af(error)){var trace=this._trace;if(trace!==undefined){if(_15b5){trace=trace._parent;}}if(trace!==undefined){trace.attachExtraTrace(error);}else{if(!error.__stackCleaned__){var _15b6=_15ac.parseStackAndMessage(error);util.notEnumerableProp(error,"stack",_15b6.message+"\n"+_15b6.stack.join("\n"));util.notEnumerableProp(error,"__stackCleaned__",true);}}}};_15ab.prototype._warn=function(_15b7){var _15b8=new _15ae(_15b7);var ctx=this._peekContext();if(ctx){ctx.attachExtraTrace(_15b8);}else{var _15b9=_15ac.parseStackAndMessage(_15b8);_15b8.stack=_15b9.message+"\n"+_15b9.stack.join("\n");}_15ac.formatAndLogError(_15b8,"");};_15ab.onPossiblyUnhandledRejection=function(fn){var _15ba=_15ad();_15b1=typeof fn==="function"?(_15ba===null?fn:_15ba.bind(fn)):undefined;};_15ab.onUnhandledRejectionHandled=function(fn){var _15bb=_15ad();_15b0=typeof fn==="function"?(_15bb===null?fn:_15bb.bind(fn)):undefined;};_15ab.longStackTraces=function(){if(async.haveItemsQueued()&&_15b2===false){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");}_15b2=_15ac.isSupported();if(_15b2){async.disableTrampolineIfNecessary();}};_15ab.hasLongStackTraces=function(){return _15b2&&_15ac.isSupported();};if(!_15ac.isSupported()){_15ab.longStackTraces=function(){};_15b2=false;}return function(){return _15b2;};};},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(_15bc,_15bd,_15be){"use strict";var util=_15bc("./util.js");var _15bf=util.isPrimitive;_15bd.exports=function(_15c0){var _15c1=function(){return this;};var _15c2=function(){throw this;};var _15c3=function(){};var _15c4=function(){throw undefined;};var _15c5=function(value,_15c6){if(_15c6===1){return function(){throw value;};}else{if(_15c6===2){return function(){return value;};}}};_15c0.prototype["return"]=_15c0.prototype.thenReturn=function(value){if(value===undefined){return this.then(_15c3);}if(_15bf(value)){return this._then(_15c5(value,2),undefined,undefined,undefined,undefined);}return this._then(_15c1,undefined,undefined,value,undefined);};_15c0.prototype["throw"]=_15c0.prototype.thenThrow=function(_15c7){if(_15c7===undefined){return this.then(_15c4);}if(_15bf(_15c7)){return this._then(_15c5(_15c7,1),undefined,undefined,undefined,undefined);}return this._then(_15c2,undefined,undefined,_15c7,undefined);};};},{"./util.js":38}],12:[function(_15c8,_15c9,_15ca){"use strict";_15c9.exports=function(_15cb,_15cc){var _15cd=_15cb.reduce;_15cb.prototype.each=function(fn){return _15cd(this,fn,null,_15cc);};_15cb.each=function(_15ce,fn){return _15cd(_15ce,fn,null,_15cc);};};},{}],13:[function(_15cf,_15d0,_15d1){"use strict";var es5=_15cf("./es5.js");var _15d2=es5.freeze;var util=_15cf("./util.js");var _15d3=util.inherits;var _15d4=util.notEnumerableProp;function _15d5(_15d6,_15d7){function _15d8(_15d9){if(!(this instanceof _15d8)){return new _15d8(_15d9);}_15d4(this,"message",typeof _15d9==="string"?_15d9:_15d7);_15d4(this,"name",_15d6);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor);}else{Error.call(this);}};_15d3(_15d8,Error);return _15d8;};var _15da,_15db;var _15dc=_15d5("Warning","warning");var _15dd=_15d5("CancellationError","cancellation error");var _15de=_15d5("TimeoutError","timeout error");var _15df=_15d5("AggregateError","aggregate error");try{_15da=TypeError;_15db=RangeError;}catch(e){_15da=_15d5("TypeError","type error");_15db=_15d5("RangeError","range error");}var _15e0=("join pop push shift unshift slice filter forEach some "+"every map indexOf lastIndexOf reduce reduceRight sort reverse").split(" ");for(var i=0;i<_15e0.length;++i){if(typeof Array.prototype[_15e0[i]]==="function"){_15df.prototype[_15e0[i]]=Array.prototype[_15e0[i]];}}es5.defineProperty(_15df.prototype,"length",{value:0,configurable:false,writable:true,enumerable:true});_15df.prototype["isOperational"]=true;var level=0;_15df.prototype.toString=function(){var _15e1=Array(level*4+1).join(" ");var ret="\n"+_15e1+"AggregateError of:"+"\n";level++;_15e1=Array(level*4+1).join(" ");for(var i=0;i<this.length;++i){var str=this[i]===this?"[Circular AggregateError]":this[i]+"";var lines=str.split("\n");for(var j=0;j<lines.length;++j){lines[j]=_15e1+lines[j];}str=lines.join("\n");ret+=str+"\n";}level--;return ret;};function _15e2(_15e3){if(!(this instanceof _15e2)){return new _15e2(_15e3);}_15d4(this,"name","OperationalError");_15d4(this,"message",_15e3);this.cause=_15e3;this["isOperational"]=true;if(_15e3 instanceof Error){_15d4(this,"message",_15e3.message);_15d4(this,"stack",_15e3.stack);}else{if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor);}}};_15d3(_15e2,Error);var _15e4=Error["__BluebirdErrorTypes__"];if(!_15e4){_15e4=_15d2({CancellationError:_15dd,TimeoutError:_15de,OperationalError:_15e2,RejectionError:_15e2,AggregateError:_15df});_15d4(Error,"__BluebirdErrorTypes__",_15e4);}_15d0.exports={Error:Error,TypeError:_15da,RangeError:_15db,CancellationError:_15e4.CancellationError,OperationalError:_15e4.OperationalError,TimeoutError:_15e4.TimeoutError,AggregateError:_15e4.AggregateError,Warning:_15dc};},{"./es5.js":14,"./util.js":38}],14:[function(_15e5,_15e6,_15e7){var isES5=(function(){"use strict";return this===undefined;})();if(isES5){_15e6.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var _15e8=Object.getOwnPropertyDescriptor(obj,prop);return !!(!_15e8||_15e8.writable||_15e8.set);}};}else{var has={}.hasOwnProperty;var str={}.toString;var proto={}.constructor.prototype;var _15e9=function(o){var ret=[];for(var key in o){if(has.call(o,key)){ret.push(key);}}return ret;};var _15ea=function(o,key){return {value:o[key]};};var _15eb=function(o,key,desc){o[key]=desc.value;return o;};var _15ec=function(obj){return obj;};var _15ed=function(obj){try{return Object(obj).constructor.prototype;}catch(e){return proto;}};var _15ee=function(obj){try{return str.call(obj)==="[object Array]";}catch(e){return false;}};_15e6.exports={isArray:_15ee,keys:_15e9,names:_15e9,defineProperty:_15eb,getDescriptor:_15ea,freeze:_15ec,getPrototypeOf:_15ed,isES5:isES5,propertyIsWritable:function(){return true;}};}},{}],15:[function(_15ef,_15f0,_15f1){"use strict";_15f0.exports=function(_15f2,_15f3){var _15f4=_15f2.map;_15f2.prototype.filter=function(fn,_15f5){return _15f4(this,fn,_15f5,_15f3);};_15f2.filter=function(_15f6,fn,_15f7){return _15f4(_15f6,fn,_15f7,_15f3);};};},{}],16:[function(_15f8,_15f9,_15fa){"use strict";_15f9.exports=function(_15fb,_15fc,_15fd){var util=_15f8("./util.js");var _15fe=util.isPrimitive;var _15ff=util.thrower;function _1600(){return this;};function _1601(){throw this;};function _1602(r){return function(){return r;};};function _1603(r){return function(){throw r;};};function _1604(ret,_1605,_1606){var then;if(_15fe(_1605)){then=_1606?_1602(_1605):_1603(_1605);}else{then=_1606?_1600:_1601;}return ret._then(then,_15ff,undefined,_1605,undefined);};function _1607(_1608){var _1609=this.promise;var _160a=this.handler;var ret=_1609._isBound()?_160a.call(_1609._boundValue()):_160a();if(ret!==undefined){var _160b=_15fd(ret,_1609);if(_160b instanceof _15fb){_160b=_160b._target();return _1604(_160b,_1608,_1609.isFulfilled());}}if(_1609.isRejected()){_15fc.e=_1608;return _15fc;}else{return _1608;}};function _160c(value){var _160d=this.promise;var _160e=this.handler;var ret=_160d._isBound()?_160e.call(_160d._boundValue(),value):_160e(value);if(ret!==undefined){var _160f=_15fd(ret,_160d);if(_160f instanceof _15fb){_160f=_160f._target();return _1604(_160f,value,true);}}return value;};_15fb.prototype._passThroughHandler=function(_1610,_1611){if(typeof _1610!=="function"){return this.then();}var _1612={promise:this,handler:_1610};return this._then(_1611?_1607:_160c,_1611?_1607:undefined,undefined,_1612,undefined);};_15fb.prototype.lastly=_15fb.prototype["finally"]=function(_1613){return this._passThroughHandler(_1613,true);};_15fb.prototype.tap=function(_1614){return this._passThroughHandler(_1614,false);};};},{"./util.js":38}],17:[function(_1615,_1616,_1617){"use strict";_1616.exports=function(_1618,_1619,_161a,_161b){var _161c=_1615("./errors.js");var _161d=_161c.TypeError;var util=_1615("./util.js");var _161e=util.errorObj;var _161f=util.tryCatch;var _1620=[];function _1621(value,_1622,_1623){for(var i=0;i<_1622.length;++i){_1623._pushContext();var _1624=_161f(_1622[i])(value);_1623._popContext();if(_1624===_161e){_1623._pushContext();var ret=_1618.reject(_161e.e);_1623._popContext();return ret;}var _1625=_161b(_1624,_1623);if(_1625 instanceof _1618){return _1625;}}return null;};function _1626(_1627,_1628,_1629,stack){var _162a=this._promise=new _1618(_161a);_162a._captureStackTrace();this._stack=stack;this._generatorFunction=_1627;this._receiver=_1628;this._generator=undefined;this._yieldHandlers=typeof _1629==="function"?[_1629].concat(_1620):_1620;};_1626.prototype.promise=function(){return this._promise;};_1626.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=undefined;this._next(undefined);};_1626.prototype._continue=function(_162b){if(_162b===_161e){return this._promise._rejectCallback(_162b.e,false,true);}var value=_162b.value;if(_162b.done===true){this._promise._resolveCallback(value);}else{var _162c=_161b(value,this._promise);if(!(_162c instanceof _1618)){_162c=_1621(_162c,this._yieldHandlers,this._promise);if(_162c===null){this._throw(new _161d("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",value)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return;}}_162c._then(this._next,this._throw,undefined,this,null);}};_1626.prototype._throw=function(_162d){this._promise._attachExtraTrace(_162d);this._promise._pushContext();var _162e=_161f(this._generator["throw"]).call(this._generator,_162d);this._promise._popContext();this._continue(_162e);};_1626.prototype._next=function(value){this._promise._pushContext();var _162f=_161f(this._generator.next).call(this._generator,value);this._promise._popContext();this._continue(_162f);};_1618.coroutine=function(_1630,_1631){if(typeof _1630!=="function"){throw new _161d("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");}var _1632=Object(_1631).yieldHandler;var _1633=_1626;var stack=new Error().stack;return function(){var _1634=_1630.apply(this,arguments);var spawn=new _1633(undefined,undefined,_1632,stack);spawn._generator=_1634;spawn._next(undefined);return spawn.promise();};};_1618.coroutine.addYieldHandler=function(fn){if(typeof fn!=="function"){throw new _161d("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}_1620.push(fn);};_1618.spawn=function(_1635){if(typeof _1635!=="function"){return _1619("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");}var spawn=new _1626(_1635,this);var ret=spawn.promise();spawn._run(_1618.spawn);return ret;};};},{"./errors.js":13,"./util.js":38}],18:[function(_1636,_1637,_1638){"use strict";_1637.exports=function(_1639,_163a,_163b,_163c){var util=_1636("./util.js");var _163d=util.canEvaluate;var _163e=util.tryCatch;var _163f=util.errorObj;var _1640;if(!true){if(_163d){var _1641=function(i){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,i));};var _1642=function(count){var _1643=[];for(var i=1;i<=count;++i){_1643.push("holder.p"+i);}return new Function("holder","                                      \n            'use strict';                                                    \n            var callback = holder.fn;                                        \n            return callback(values);                                         \n            ".replace(/values/g,_1643.join(", ")));};var _1644=[];var _1645=[undefined];for(var i=1;i<=5;++i){_1644.push(_1641(i));_1645.push(_1642(i));}var _1646=function(total,fn){this.p1=this.p2=this.p3=this.p4=this.p5=null;this.fn=fn;this.total=total;this.now=0;};_1646.prototype.callers=_1645;_1646.prototype.checkFulfillment=function(_1647){var now=this.now;now++;var total=this.total;if(now>=total){var _1648=this.callers[total];_1647._pushContext();var ret=_163e(_1648)(this);_1647._popContext();if(ret===_163f){_1647._rejectCallback(ret.e,false,true);}else{_1647._resolveCallback(ret);}}else{this.now=now;}};var _1640=function(_1649){this._reject(_1649);};}}_1639.join=function(){var last=arguments.length-1;var fn;if(last>0&&typeof arguments[last]==="function"){fn=arguments[last];if(!true){if(last<6&&_163d){var ret=new _1639(_163c);ret._captureStackTrace();var _164a=new _1646(last,fn);var _164b=_1644;for(var i=0;i<last;++i){var _164c=_163b(arguments[i],ret);if(_164c instanceof _1639){_164c=_164c._target();if(_164c._isPending()){_164c._then(_164b[i],_1640,undefined,ret,_164a);}else{if(_164c._isFulfilled()){_164b[i].call(ret,_164c._value(),_164a);}else{ret._reject(_164c._reason());}}}else{_164b[i].call(ret,_164c,_164a);}}return ret;}}}var $_len=arguments.length;var args=new Array($_len);for(var $_i=0;$_i<$_len;++$_i){args[$_i]=arguments[$_i];}if(fn){args.pop();}var ret=new _163a(args).promise();return fn!==undefined?ret.spread(fn):ret;};};},{"./util.js":38}],19:[function(_164d,_164e,_164f){"use strict";_164e.exports=function(_1650,_1651,_1652,_1653,_1654){var _1655=_1650._getDomain;var async=_164d("./async.js");var util=_164d("./util.js");var _1656=util.tryCatch;var _1657=util.errorObj;var _1658={};var _1659=[];function _165a(_165b,fn,limit,_165c){this.constructor$(_165b);this._promise._captureStackTrace();var _165d=_1655();this._callback=_165d===null?fn:_165d.bind(fn);this._preservedValues=_165c===_1654?new Array(this.length()):null;this._limit=limit;this._inFlight=0;this._queue=limit>=1?[]:_1659;async.invoke(init,this,undefined);};util.inherits(_165a,_1651);function init(){this._init$(undefined,-2);};_165a.prototype._init=function(){};_165a.prototype._promiseFulfilled=function(value,index){var _165e=this._values;var _165f=this.length();var _1660=this._preservedValues;var limit=this._limit;if(_165e[index]===_1658){_165e[index]=value;if(limit>=1){this._inFlight--;this._drainQueue();if(this._isResolved()){return;}}}else{if(limit>=1&&this._inFlight>=limit){_165e[index]=value;this._queue.push(index);return;}if(_1660!==null){_1660[index]=value;}var _1661=this._callback;var _1662=this._promise._boundValue();this._promise._pushContext();var ret=_1656(_1661).call(_1662,value,index,_165f);this._promise._popContext();if(ret===_1657){return this._reject(ret.e);}var _1663=_1653(ret,this._promise);if(_1663 instanceof _1650){_1663=_1663._target();if(_1663._isPending()){if(limit>=1){this._inFlight++;}_165e[index]=_1658;return _1663._proxyPromiseArray(this,index);}else{if(_1663._isFulfilled()){ret=_1663._value();}else{return this._reject(_1663._reason());}}}_165e[index]=ret;}var _1664=++this._totalResolved;if(_1664>=_165f){if(_1660!==null){this._filter(_165e,_1660);}else{this._resolve(_165e);}}};_165a.prototype._drainQueue=function(){var queue=this._queue;var limit=this._limit;var _1665=this._values;while(queue.length>0&&this._inFlight<limit){if(this._isResolved()){return;}var index=queue.pop();this._promiseFulfilled(_1665[index],index);}};_165a.prototype._filter=function(_1666,_1667){var len=_1667.length;var ret=new Array(len);var j=0;for(var i=0;i<len;++i){if(_1666[i]){ret[j++]=_1667[i];}}ret.length=j;this._resolve(ret);};_165a.prototype.preservedValues=function(){return this._preservedValues;};function map(_1668,fn,_1669,_166a){var limit=typeof _1669==="object"&&_1669!==null?_1669.concurrency:0;limit=typeof limit==="number"&&isFinite(limit)&&limit>=1?limit:0;return new _165a(_1668,fn,limit,_166a);};_1650.prototype.map=function(fn,_166b){if(typeof fn!=="function"){return _1652("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}return map(this,fn,_166b,null).promise();};_1650.map=function(_166c,fn,_166d,_166e){if(typeof fn!=="function"){return _1652("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}return map(_166c,fn,_166d,_166e).promise();};};},{"./async.js":2,"./util.js":38}],20:[function(_166f,_1670,_1671){"use strict";_1670.exports=function(_1672,_1673,_1674,_1675){var util=_166f("./util.js");var _1676=util.tryCatch;_1672.method=function(fn){if(typeof fn!=="function"){throw new _1672.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}return function(){var ret=new _1672(_1673);ret._captureStackTrace();ret._pushContext();var value=_1676(fn).apply(this,arguments);ret._popContext();ret._resolveFromSyncValue(value);return ret;};};_1672.attempt=_1672["try"]=function(fn,args,ctx){if(typeof fn!=="function"){return _1675("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}var ret=new _1672(_1673);ret._captureStackTrace();ret._pushContext();var value=util.isArray(args)?_1676(fn).apply(ctx,args):_1676(fn).call(ctx,args);ret._popContext();ret._resolveFromSyncValue(value);return ret;};_1672.prototype._resolveFromSyncValue=function(value){if(value===util.errorObj){this._rejectCallback(value.e,false,true);}else{this._resolveCallback(value,true);}};};},{"./util.js":38}],21:[function(_1677,_1678,_1679){"use strict";_1678.exports=function(_167a){var util=_1677("./util.js");var async=_1677("./async.js");var _167b=util.tryCatch;var _167c=util.errorObj;function _167d(val,_167e){var _167f=this;if(!util.isArray(val)){return _1680.call(_167f,val,_167e);}var ret=_167b(_167e).apply(_167f._boundValue(),[null].concat(val));if(ret===_167c){async.throwLater(ret.e);}};function _1680(val,_1681){var _1682=this;var _1683=_1682._boundValue();var ret=val===undefined?_167b(_1681).call(_1683,null):_167b(_1681).call(_1683,null,val);if(ret===_167c){async.throwLater(ret.e);}};function _1684(_1685,_1686){var _1687=this;if(!_1685){var _1688=_1687._target();var _1689=_1688._getCarriedStackTrace();_1689.cause=_1685;_1685=_1689;}var ret=_167b(_1686).call(_1687._boundValue(),_1685);if(ret===_167c){async.throwLater(ret.e);}};_167a.prototype.asCallback=_167a.prototype.nodeify=function(_168a,_168b){if(typeof _168a=="function"){var _168c=_1680;if(_168b!==undefined&&Object(_168b).spread){_168c=_167d;}this._then(_168c,_1684,undefined,this,_168a);}return this;};};},{"./async.js":2,"./util.js":38}],22:[function(_168d,_168e,_168f){"use strict";_168e.exports=function(_1690,_1691){var util=_168d("./util.js");var async=_168d("./async.js");var _1692=util.tryCatch;var _1693=util.errorObj;_1690.prototype.progressed=function(_1694){return this._then(undefined,undefined,_1694,undefined,undefined);};_1690.prototype._progress=function(_1695){if(this._isFollowingOrFulfilledOrRejected()){return;}this._target()._progressUnchecked(_1695);};_1690.prototype._progressHandlerAt=function(index){return index===0?this._progressHandler0:this[(index<<2)+index-5+2];};_1690.prototype._doProgressWith=function(_1696){var _1697=_1696.value;var _1698=_1696.handler;var _1699=_1696.promise;var _169a=_1696.receiver;var ret=_1692(_1698).call(_169a,_1697);if(ret===_1693){if(ret.e!=null&&ret.e.name!=="StopProgressPropagation"){var trace=util.canAttachTrace(ret.e)?ret.e:new Error(util.toString(ret.e));_1699._attachExtraTrace(trace);_1699._progress(ret.e);}}else{if(ret instanceof _1690){ret._then(_1699._progress,null,null,_1699,undefined);}else{_1699._progress(ret);}}};_1690.prototype._progressUnchecked=function(_169b){var len=this._length();var _169c=this._progress;for(var i=0;i<len;i++){var _169d=this._progressHandlerAt(i);var _169e=this._promiseAt(i);if(!(_169e instanceof _1690)){var _169f=this._receiverAt(i);if(typeof _169d==="function"){_169d.call(_169f,_169b,_169e);}else{if(_169f instanceof _1691&&!_169f._isResolved()){_169f._promiseProgressed(_169b,_169e);}}continue;}if(typeof _169d==="function"){async.invoke(this._doProgressWith,this,{handler:_169d,promise:_169e,receiver:this._receiverAt(i),value:_169b});}else{async.invoke(_169c,_169e,_169b);}}};};},{"./async.js":2,"./util.js":38}],23:[function(_16a0,_16a1,_16a2){"use strict";_16a1.exports=function(){var _16a3=function(){return new _16a4("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n");};var _16a5=function(){return new _16a6.PromiseInspection(this._target());};var _16a7=function(msg){return _16a6.reject(new _16a4(msg));};var util=_16a0("./util.js");var _16a8;if(util.isNode){_16a8=function(){var ret=process.domain;if(ret===undefined){ret=null;}return ret;};}else{_16a8=function(){return null;};}util.notEnumerableProp(_16a6,"_getDomain",_16a8);var async=_16a0("./async.js");var _16a9=_16a0("./errors.js");var _16a4=_16a6.TypeError=_16a9.TypeError;_16a6.RangeError=_16a9.RangeError;_16a6.CancellationError=_16a9.CancellationError;_16a6.TimeoutError=_16a9.TimeoutError;_16a6.OperationalError=_16a9.OperationalError;_16a6.RejectionError=_16a9.OperationalError;_16a6.AggregateError=_16a9.AggregateError;var _16aa=function(){};var APPLY={};var _16ab={e:null};var _16ac=_16a0("./thenables.js")(_16a6,_16aa);var _16ad=_16a0("./promise_array.js")(_16a6,_16aa,_16ac,_16a7);var _16ae=_16a0("./captured_trace.js")();var _16af=_16a0("./debuggability.js")(_16a6,_16ae);var _16b0=_16a0("./context.js")(_16a6,_16ae,_16af);var _16b1=_16a0("./catch_filter.js")(_16ab);var _16b2=_16a0("./promise_resolver.js");var _16b3=_16b2._nodebackForPromise;var _16b4=util.errorObj;var _16b5=util.tryCatch;function _16a6(_16b6){if(typeof _16b6!=="function"){throw new _16a4("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");}if(this.constructor!==_16a6){throw new _16a4("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");}this._bitField=0;this._fulfillmentHandler0=undefined;this._rejectionHandler0=undefined;this._progressHandler0=undefined;this._promise0=undefined;this._receiver0=undefined;this._settledValue=undefined;if(_16b6!==_16aa){this._resolveFromResolver(_16b6);}};_16a6.prototype.toString=function(){return "[object Promise]";};_16a6.prototype.caught=_16a6.prototype["catch"]=function(fn){var len=arguments.length;if(len>1){var _16b7=new Array(len-1),j=0,i;for(i=0;i<len-1;++i){var item=arguments[i];if(typeof item==="function"){_16b7[j++]=item;}else{return _16a6.reject(new _16a4("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));}}_16b7.length=j;fn=arguments[i];var _16b8=new _16b1(_16b7,fn,this);return this._then(undefined,_16b8.doFilter,undefined,_16b8,undefined);}return this._then(undefined,fn,undefined,undefined,undefined);};_16a6.prototype.reflect=function(){return this._then(_16a5,_16a5,undefined,this,undefined);};_16a6.prototype.then=function(_16b9,_16ba,_16bb){if(_16af()&&arguments.length>0&&typeof _16b9!=="function"&&typeof _16ba!=="function"){var msg=".then() only accepts functions but was passed: "+util.classString(_16b9);if(arguments.length>1){msg+=", "+util.classString(_16ba);}this._warn(msg);}return this._then(_16b9,_16ba,_16bb,undefined,undefined);};_16a6.prototype.done=function(_16bc,_16bd,_16be){var _16bf=this._then(_16bc,_16bd,_16be,undefined,undefined);_16bf._setIsFinal();};_16a6.prototype.spread=function(_16c0,_16c1){return this.all()._then(_16c0,_16c1,undefined,APPLY,undefined);};_16a6.prototype.isCancellable=function(){return !this.isResolved()&&this._cancellable();};_16a6.prototype.toJSON=function(){var ret={isFulfilled:false,isRejected:false,fulfillmentValue:undefined,rejectionReason:undefined};if(this.isFulfilled()){ret.fulfillmentValue=this.value();ret.isFulfilled=true;}else{if(this.isRejected()){ret.rejectionReason=this.reason();ret.isRejected=true;}}return ret;};_16a6.prototype.all=function(){return new _16ad(this).promise();};_16a6.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn);};_16a6.is=function(val){return val instanceof _16a6;};_16a6.fromNode=function(fn){var ret=new _16a6(_16aa);var _16c2=_16b5(fn)(_16b3(ret));if(_16c2===_16b4){ret._rejectCallback(_16c2.e,true,true);}return ret;};_16a6.all=function(_16c3){return new _16ad(_16c3).promise();};_16a6.defer=_16a6.pending=function(){var _16c4=new _16a6(_16aa);return new _16b2(_16c4);};_16a6.cast=function(obj){var ret=_16ac(obj);if(!(ret instanceof _16a6)){var val=ret;ret=new _16a6(_16aa);ret._fulfillUnchecked(val);}return ret;};_16a6.resolve=_16a6.fulfilled=_16a6.cast;_16a6.reject=_16a6.rejected=function(_16c5){var ret=new _16a6(_16aa);ret._captureStackTrace();ret._rejectCallback(_16c5,true);return ret;};_16a6.setScheduler=function(fn){if(typeof fn!=="function"){throw new _16a4("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}var prev=async._schedule;async._schedule=fn;return prev;};_16a6.prototype._then=function(_16c6,_16c7,_16c8,_16c9,_16ca){var _16cb=_16ca!==undefined;var ret=_16cb?_16ca:new _16a6(_16aa);if(!_16cb){ret._propagateFrom(this,4|1);ret._captureStackTrace();}var _16cc=this._target();if(_16cc!==this){if(_16c9===undefined){_16c9=this._boundTo;}if(!_16cb){ret._setIsMigrated();}}var _16cd=_16cc._addCallbacks(_16c6,_16c7,_16c8,ret,_16c9,_16a8());if(_16cc._isResolved()&&!_16cc._isSettlePromisesQueued()){async.invoke(_16cc._settlePromiseAtPostResolution,_16cc,_16cd);}return ret;};_16a6.prototype._settlePromiseAtPostResolution=function(index){if(this._isRejectionUnhandled()){this._unsetRejectionIsUnhandled();}this._settlePromiseAt(index);};_16a6.prototype._length=function(){return this._bitField&131071;};_16a6.prototype._isFollowingOrFulfilledOrRejected=function(){return (this._bitField&939524096)>0;};_16a6.prototype._isFollowing=function(){return (this._bitField&536870912)===536870912;};_16a6.prototype._setLength=function(len){this._bitField=(this._bitField&-131072)|(len&131071);};_16a6.prototype._setFulfilled=function(){this._bitField=this._bitField|268435456;};_16a6.prototype._setRejected=function(){this._bitField=this._bitField|134217728;};_16a6.prototype._setFollowing=function(){this._bitField=this._bitField|536870912;};_16a6.prototype._setIsFinal=function(){this._bitField=this._bitField|33554432;};_16a6.prototype._isFinal=function(){return (this._bitField&33554432)>0;};_16a6.prototype._cancellable=function(){return (this._bitField&67108864)>0;};_16a6.prototype._setCancellable=function(){this._bitField=this._bitField|67108864;};_16a6.prototype._unsetCancellable=function(){this._bitField=this._bitField&(~67108864);};_16a6.prototype._setIsMigrated=function(){this._bitField=this._bitField|4194304;};_16a6.prototype._unsetIsMigrated=function(){this._bitField=this._bitField&(~4194304);};_16a6.prototype._isMigrated=function(){return (this._bitField&4194304)>0;};_16a6.prototype._receiverAt=function(index){var ret=index===0?this._receiver0:this[index*5-5+4];if(ret===undefined&&this._isBound()){return this._boundValue();}return ret;};_16a6.prototype._promiseAt=function(index){return index===0?this._promise0:this[index*5-5+3];};_16a6.prototype._fulfillmentHandlerAt=function(index){return index===0?this._fulfillmentHandler0:this[index*5-5+0];};_16a6.prototype._rejectionHandlerAt=function(index){return index===0?this._rejectionHandler0:this[index*5-5+1];};_16a6.prototype._boundValue=function(){var ret=this._boundTo;if(ret!==undefined){if(ret instanceof _16a6){if(ret.isFulfilled()){return ret.value();}else{return undefined;}}}return ret;};_16a6.prototype._migrateCallbacks=function(_16ce,index){var _16cf=_16ce._fulfillmentHandlerAt(index);var _16d0=_16ce._rejectionHandlerAt(index);var _16d1=_16ce._progressHandlerAt(index);var _16d2=_16ce._promiseAt(index);var _16d3=_16ce._receiverAt(index);if(_16d2 instanceof _16a6){_16d2._setIsMigrated();}this._addCallbacks(_16cf,_16d0,_16d1,_16d2,_16d3,null);};_16a6.prototype._addCallbacks=function(_16d4,_16d5,_16d6,_16d7,_16d8,_16d9){var index=this._length();if(index>=131071-5){index=0;this._setLength(0);}if(index===0){this._promise0=_16d7;if(_16d8!==undefined){this._receiver0=_16d8;}if(typeof _16d4==="function"&&!this._isCarryingStackTrace()){this._fulfillmentHandler0=_16d9===null?_16d4:_16d9.bind(_16d4);}if(typeof _16d5==="function"){this._rejectionHandler0=_16d9===null?_16d5:_16d9.bind(_16d5);}if(typeof _16d6==="function"){this._progressHandler0=_16d9===null?_16d6:_16d9.bind(_16d6);}}else{var base=index*5-5;this[base+3]=_16d7;this[base+4]=_16d8;if(typeof _16d4==="function"){this[base+0]=_16d9===null?_16d4:_16d9.bind(_16d4);}if(typeof _16d5==="function"){this[base+1]=_16d9===null?_16d5:_16d9.bind(_16d5);}if(typeof _16d6==="function"){this[base+2]=_16d9===null?_16d6:_16d9.bind(_16d6);}}this._setLength(index+1);return index;};_16a6.prototype._setProxyHandlers=function(_16da,_16db){var index=this._length();if(index>=131071-5){index=0;this._setLength(0);}if(index===0){this._promise0=_16db;this._receiver0=_16da;}else{var base=index*5-5;this[base+3]=_16db;this[base+4]=_16da;}this._setLength(index+1);};_16a6.prototype._proxyPromiseArray=function(_16dc,index){this._setProxyHandlers(_16dc,index);};_16a6.prototype._resolveCallback=function(value,_16dd){if(this._isFollowingOrFulfilledOrRejected()){return;}if(value===this){return this._rejectCallback(_16a3(),false,true);}var _16de=_16ac(value,this);if(!(_16de instanceof _16a6)){return this._fulfill(value);}var _16df=1|(_16dd?4:0);this._propagateFrom(_16de,_16df);var _16e0=_16de._target();if(_16e0._isPending()){var len=this._length();for(var i=0;i<len;++i){_16e0._migrateCallbacks(this,i);}this._setFollowing();this._setLength(0);this._setFollowee(_16e0);}else{if(_16e0._isFulfilled()){this._fulfillUnchecked(_16e0._value());}else{this._rejectUnchecked(_16e0._reason(),_16e0._getCarriedStackTrace());}}};_16a6.prototype._rejectCallback=function(_16e1,_16e2,_16e3){if(!_16e3){util.markAsOriginatingFromRejection(_16e1);}var trace=util.ensureErrorObject(_16e1);var _16e4=trace===_16e1;this._attachExtraTrace(trace,_16e2?_16e4:false);this._reject(_16e1,_16e4?undefined:trace);};_16a6.prototype._resolveFromResolver=function(_16e5){var _16e6=this;this._captureStackTrace();this._pushContext();var _16e7=true;var r=_16b5(_16e5)(function(value){if(_16e6===null){return;}_16e6._resolveCallback(value);_16e6=null;},function(_16e8){if(_16e6===null){return;}_16e6._rejectCallback(_16e8,_16e7);_16e6=null;});_16e7=false;this._popContext();if(r!==undefined&&r===_16b4&&_16e6!==null){_16e6._rejectCallback(r.e,true,true);_16e6=null;}};_16a6.prototype._settlePromiseFromHandler=function(_16e9,_16ea,value,_16eb){if(_16eb._isRejected()){return;}_16eb._pushContext();var x;if(_16ea===APPLY&&!this._isRejected()){x=_16b5(_16e9).apply(this._boundValue(),value);}else{x=_16b5(_16e9).call(_16ea,value);}_16eb._popContext();if(x===_16b4||x===_16eb||x===_16ab){var err=x===_16eb?_16a3():x.e;_16eb._rejectCallback(err,false,true);}else{_16eb._resolveCallback(x);}};_16a6.prototype._target=function(){var ret=this;while(ret._isFollowing()){ret=ret._followee();}return ret;};_16a6.prototype._followee=function(){return this._rejectionHandler0;};_16a6.prototype._setFollowee=function(_16ec){this._rejectionHandler0=_16ec;};_16a6.prototype._cleanValues=function(){if(this._cancellable()){this._cancellationParent=undefined;}};_16a6.prototype._propagateFrom=function(_16ed,flags){if((flags&1)>0&&_16ed._cancellable()){this._setCancellable();this._cancellationParent=_16ed;}if((flags&4)>0&&_16ed._isBound()){this._setBoundTo(_16ed._boundTo);}};_16a6.prototype._fulfill=function(value){if(this._isFollowingOrFulfilledOrRejected()){return;}this._fulfillUnchecked(value);};_16a6.prototype._reject=function(_16ee,_16ef){if(this._isFollowingOrFulfilledOrRejected()){return;}this._rejectUnchecked(_16ee,_16ef);};_16a6.prototype._settlePromiseAt=function(index){var _16f0=this._promiseAt(index);var _16f1=_16f0 instanceof _16a6;if(_16f1&&_16f0._isMigrated()){_16f0._unsetIsMigrated();return async.invoke(this._settlePromiseAt,this,index);}var _16f2=this._isFulfilled()?this._fulfillmentHandlerAt(index):this._rejectionHandlerAt(index);var _16f3=this._isCarryingStackTrace()?this._getCarriedStackTrace():undefined;var value=this._settledValue;var _16f4=this._receiverAt(index);this._clearCallbackDataAtIndex(index);if(typeof _16f2==="function"){if(!_16f1){_16f2.call(_16f4,value,_16f0);}else{this._settlePromiseFromHandler(_16f2,_16f4,value,_16f0);}}else{if(_16f4 instanceof _16ad){if(!_16f4._isResolved()){if(this._isFulfilled()){_16f4._promiseFulfilled(value,_16f0);}else{_16f4._promiseRejected(value,_16f0);}}}else{if(_16f1){if(this._isFulfilled()){_16f0._fulfill(value);}else{_16f0._reject(value,_16f3);}}}}if(index>=4&&(index&31)===4){async.invokeLater(this._setLength,this,0);}};_16a6.prototype._clearCallbackDataAtIndex=function(index){if(index===0){if(!this._isCarryingStackTrace()){this._fulfillmentHandler0=undefined;}this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=undefined;}else{var base=index*5-5;this[base+3]=this[base+4]=this[base+0]=this[base+1]=this[base+2]=undefined;}};_16a6.prototype._isSettlePromisesQueued=function(){return (this._bitField&-1073741824)===-1073741824;};_16a6.prototype._setSettlePromisesQueued=function(){this._bitField=this._bitField|-1073741824;};_16a6.prototype._unsetSettlePromisesQueued=function(){this._bitField=this._bitField&(~-1073741824);};_16a6.prototype._queueSettlePromises=function(){async.settlePromises(this);this._setSettlePromisesQueued();};_16a6.prototype._fulfillUnchecked=function(value){if(value===this){var err=_16a3();this._attachExtraTrace(err);return this._rejectUnchecked(err,undefined);}this._setFulfilled();this._settledValue=value;this._cleanValues();if(this._length()>0){this._queueSettlePromises();}};_16a6.prototype._rejectUncheckedCheckError=function(_16f5){var trace=util.ensureErrorObject(_16f5);this._rejectUnchecked(_16f5,trace===_16f5?undefined:trace);};_16a6.prototype._rejectUnchecked=function(_16f6,trace){if(_16f6===this){var err=_16a3();this._attachExtraTrace(err);return this._rejectUnchecked(err);}this._setRejected();this._settledValue=_16f6;this._cleanValues();if(this._isFinal()){async.throwLater(function(e){if("stack" in e){async.invokeFirst(_16ae.unhandledRejection,undefined,e);}throw e;},trace===undefined?_16f6:trace);return;}if(trace!==undefined&&trace!==_16f6){this._setCarriedStackTrace(trace);}if(this._length()>0){this._queueSettlePromises();}else{this._ensurePossibleRejectionHandled();}};_16a6.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();var len=this._length();for(var i=0;i<len;i++){this._settlePromiseAt(i);}};util.notEnumerableProp(_16a6,"_makeSelfResolutionError",_16a3);_16a0("./progress.js")(_16a6,_16ad);_16a0("./method.js")(_16a6,_16aa,_16ac,_16a7);_16a0("./bind.js")(_16a6,_16aa,_16ac);_16a0("./finally.js")(_16a6,_16ab,_16ac);_16a0("./direct_resolve.js")(_16a6);_16a0("./synchronous_inspection.js")(_16a6);_16a0("./join.js")(_16a6,_16ad,_16ac,_16aa);_16a6.Promise=_16a6;_16a0("./map.js")(_16a6,_16ad,_16a7,_16ac,_16aa);_16a0("./cancel.js")(_16a6);_16a0("./using.js")(_16a6,_16a7,_16ac,_16b0);_16a0("./generators.js")(_16a6,_16a7,_16aa,_16ac);_16a0("./nodeify.js")(_16a6);_16a0("./call_get.js")(_16a6);_16a0("./props.js")(_16a6,_16ad,_16ac,_16a7);_16a0("./race.js")(_16a6,_16aa,_16ac,_16a7);_16a0("./reduce.js")(_16a6,_16ad,_16a7,_16ac,_16aa);_16a0("./settle.js")(_16a6,_16ad);_16a0("./some.js")(_16a6,_16ad,_16a7);_16a0("./promisify.js")(_16a6,_16aa);_16a0("./any.js")(_16a6);_16a0("./each.js")(_16a6,_16aa);_16a0("./timers.js")(_16a6,_16aa);_16a0("./filter.js")(_16a6,_16aa);util.toFastProperties(_16a6);util.toFastProperties(_16a6.prototype);function _16f7(value){var p=new _16a6(_16aa);p._fulfillmentHandler0=value;p._rejectionHandler0=value;p._progressHandler0=value;p._promise0=value;p._receiver0=value;p._settledValue=value;};_16f7({a:1});_16f7({b:2});_16f7({c:3});_16f7(1);_16f7(function(){});_16f7(undefined);_16f7(false);_16f7(new _16a6(_16aa));_16ae.setBounds(async.firstLineError,util.lastLineError);return _16a6;};},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(_16f8,_16f9,_16fa){"use strict";_16f9.exports=function(_16fb,_16fc,_16fd,_16fe){var util=_16f8("./util.js");var _16ff=util.isArray;function _1700(val){switch(val){case -2:return [];case -3:return {};}};function _1701(_1702){var _1703=this._promise=new _16fb(_16fc);var _1704;if(_1702 instanceof _16fb){_1704=_1702;_1703._propagateFrom(_1704,1|4);}this._values=_1702;this._length=0;this._totalResolved=0;this._init(undefined,-2);};_1701.prototype.length=function(){return this._length;};_1701.prototype.promise=function(){return this._promise;};_1701.prototype._init=function init(_1705,_1706){var _1707=_16fd(this._values,this._promise);if(_1707 instanceof _16fb){_1707=_1707._target();this._values=_1707;if(_1707._isFulfilled()){_1707=_1707._value();if(!_16ff(_1707)){var err=new _16fb.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");this.__hardReject__(err);return;}}else{if(_1707._isPending()){_1707._then(init,this._reject,undefined,this,_1706);return;}else{this._reject(_1707._reason());return;}}}else{if(!_16ff(_1707)){this._promise._reject(_16fe("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());return;}}if(_1707.length===0){if(_1706===-5){this._resolveEmptyArray();}else{this._resolve(_1700(_1706));}return;}var len=this.getActualLength(_1707.length);this._length=len;this._values=this.shouldCopyValues()?new Array(len):this._values;var _1708=this._promise;for(var i=0;i<len;++i){var _1709=this._isResolved();var _170a=_16fd(_1707[i],_1708);if(_170a instanceof _16fb){_170a=_170a._target();if(_1709){_170a._ignoreRejections();}else{if(_170a._isPending()){_170a._proxyPromiseArray(this,i);}else{if(_170a._isFulfilled()){this._promiseFulfilled(_170a._value(),i);}else{this._promiseRejected(_170a._reason(),i);}}}}else{if(!_1709){this._promiseFulfilled(_170a,i);}}}};_1701.prototype._isResolved=function(){return this._values===null;};_1701.prototype._resolve=function(value){this._values=null;this._promise._fulfill(value);};_1701.prototype.__hardReject__=_1701.prototype._reject=function(_170b){this._values=null;this._promise._rejectCallback(_170b,false,true);};_1701.prototype._promiseProgressed=function(_170c,index){this._promise._progress({index:index,value:_170c});};_1701.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var _170d=++this._totalResolved;if(_170d>=this._length){this._resolve(this._values);}};_1701.prototype._promiseRejected=function(_170e,index){this._totalResolved++;this._reject(_170e);};_1701.prototype.shouldCopyValues=function(){return true;};_1701.prototype.getActualLength=function(len){return len;};return _1701;};},{"./util.js":38}],25:[function(_170f,_1710,_1711){"use strict";var util=_170f("./util.js");var _1712=util.maybeWrapAsError;var _1713=_170f("./errors.js");var _1714=_1713.TimeoutError;var _1715=_1713.OperationalError;var _1716=util.haveGetters;var es5=_170f("./es5.js");function _1717(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype;};var _1718=/^(?:name|message|stack|cause)$/;function _1719(obj){var ret;if(_1717(obj)){ret=new _1715(obj);ret.name=obj.name;ret.message=obj.message;ret.stack=obj.stack;var keys=es5.keys(obj);for(var i=0;i<keys.length;++i){var key=keys[i];if(!_1718.test(key)){ret[key]=obj[key];}}return ret;}util.markAsOriginatingFromRejection(obj);return obj;};function _171a(_171b){return function(err,value){if(_171b===null){return;}if(err){var _171c=_1719(_1712(err));_171b._attachExtraTrace(_171c);_171b._reject(_171c);}else{if(arguments.length>2){var $_len=arguments.length;var args=new Array($_len-1);for(var $_i=1;$_i<$_len;++$_i){args[$_i-1]=arguments[$_i];}_171b._fulfill(args);}else{_171b._fulfill(value);}}_171b=null;};};var _171d;if(!_1716){_171d=function(_171e){this.promise=_171e;this.asCallback=_171a(_171e);this.callback=this.asCallback;};}else{_171d=function(_171f){this.promise=_171f;};}if(_1716){var prop={get:function(){return _171a(this.promise);}};es5.defineProperty(_171d.prototype,"asCallback",prop);es5.defineProperty(_171d.prototype,"callback",prop);}_171d._nodebackForPromise=_171a;_171d.prototype.toString=function(){return "[object PromiseResolver]";};_171d.prototype.resolve=_171d.prototype.fulfill=function(value){if(!(this instanceof _171d)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");}this.promise._resolveCallback(value);};_171d.prototype.reject=function(_1720){if(!(this instanceof _171d)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");}this.promise._rejectCallback(_1720);};_171d.prototype.progress=function(value){if(!(this instanceof _171d)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");}this.promise._progress(value);};_171d.prototype.cancel=function(err){this.promise.cancel(err);};_171d.prototype.timeout=function(){this.reject(new _1714("timeout"));};_171d.prototype.isResolved=function(){return this.promise.isResolved();};_171d.prototype.toJSON=function(){return this.promise.toJSON();};_1710.exports=_171d;},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(_1721,_1722,_1723){"use strict";_1722.exports=function(_1724,_1725){var THIS={};var util=_1721("./util.js");var _1726=_1721("./promise_resolver.js")._nodebackForPromise;var _1727=util.withAppended;var _1728=util.maybeWrapAsError;var _1729=util.canEvaluate;var _172a=_1721("./errors").TypeError;var _172b="Async";var _172c={__isPromisified__:true};var _172d=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"];var _172e=new RegExp("^(?:"+_172d.join("|")+")$");var _172f=function(name){return util.isIdentifier(name)&&name.charAt(0)!=="_"&&name!=="constructor";};function _1730(key){return !_172e.test(key);};function _1731(fn){try{return fn.__isPromisified__===true;}catch(e){return false;}};function _1732(obj,key,_1733){var val=util.getDataPropertyOrDefault(obj,key+_1733,_172c);return val?_1731(val):false;};function _1734(ret,_1735,_1736){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(_1736.test(key)){var _1737=key.replace(_1736,"");for(var j=0;j<ret.length;j+=2){if(ret[j]===_1737){throw new _172a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",_1735));}}}}};function _1738(obj,_1739,_173a,_173b){var keys=util.inheritedDataKeys(obj);var ret=[];for(var i=0;i<keys.length;++i){var key=keys[i];var value=obj[key];var _173c=_173b===_172f?true:_172f(key,value,obj);if(typeof value==="function"&&!_1731(value)&&!_1732(obj,key,_1739)&&_173b(key,value,obj,_173c)){ret.push(key,value);}}_1734(ret,_1739,_173a);return ret;};var _173d=function(str){return str.replace(/([$])/,"\\$");};var _173e;if(!true){var _173f=function(_1740){var ret=[_1740];var min=Math.max(0,_1740-1-3);for(var i=_1740-1;i>=min;--i){ret.push(i);}for(var i=_1740+1;i<=3;++i){ret.push(i);}return ret;};var _1741=function(_1742){return util.filledRange(_1742,"_arg","");};var _1743=function(_1744){return util.filledRange(Math.max(_1744,3),"_arg","");};var _1745=function(fn){if(typeof fn.length==="number"){return Math.max(Math.min(fn.length,1023+1),0);}return 0;};_173e=function(_1746,_1747,_1748,fn){var _1749=Math.max(0,_1745(fn)-1);var _174a=_173f(_1749);var _174b=typeof _1746==="string"||_1747===THIS;function _174c(count){var args=_1741(count).join(", ");var comma=count>0?", ":"";var ret;if(_174b){ret="ret = callback.call(this, {{args}}, nodeback); break;\n";}else{ret=_1747===undefined?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n";}return ret.replace("{{args}}",args).replace(", ",comma);};function _174d(){var ret="";for(var i=0;i<_174a.length;++i){ret+="case "+_174a[i]+":"+_174c(_174a[i]);}ret+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",(_174b?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n"));return ret;};var _174e=typeof _1746==="string"?("this != null ? this['"+_1746+"'] : fn"):"fn";return new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL","'use strict';                            \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise);                      \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n        ".replace("Parameters",_1743(_1749)).replace("[CodeForSwitchCase]",_174d()).replace("[GetFunctionCode]",_174e))(_1724,fn,_1747,_1727,_1728,_1726,util.tryCatch,util.errorObj,util.notEnumerableProp,_1725);};}function _174f(_1750,_1751,_1752,fn){var _1753=(function(){return this;})();var _1754=_1750;if(typeof _1754==="string"){_1750=fn;}function _1755(){var _1756=_1751;if(_1751===THIS){_1756=this;}var _1757=new _1724(_1725);_1757._captureStackTrace();var cb=typeof _1754==="string"&&this!==_1753?this[_1754]:_1750;var fn=_1726(_1757);try{cb.apply(_1756,_1727(arguments,fn));}catch(e){_1757._rejectCallback(_1728(e),true,true);}return _1757;};util.notEnumerableProp(_1755,"__isPromisified__",true);return _1755;};var _1758=_1729?_173e:_174f;function _1759(obj,_175a,_175b,_175c){var _175d=new RegExp(_173d(_175a)+"$");var _175e=_1738(obj,_175a,_175d,_175b);for(var i=0,len=_175e.length;i<len;i+=2){var key=_175e[i];var fn=_175e[i+1];var _175f=key+_175a;obj[_175f]=_175c===_1758?_1758(key,THIS,key,fn,_175a):_175c(fn,function(){return _1758(key,THIS,key,fn,_175a);});}util.toFastProperties(obj);return obj;};function _1760(_1761,_1762){return _1758(_1761,_1762,undefined,_1761);};_1724.promisify=function(fn,_1763){if(typeof fn!=="function"){throw new _172a("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}if(_1731(fn)){return fn;}var ret=_1760(fn,arguments.length<2?THIS:_1763);util.copyDescriptors(fn,ret,_1730);return ret;};_1724.promisifyAll=function(_1764,_1765){if(typeof _1764!=="function"&&typeof _1764!=="object"){throw new _172a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");}_1765=Object(_1765);var _1766=_1765.suffix;if(typeof _1766!=="string"){_1766=_172b;}var _1767=_1765.filter;if(typeof _1767!=="function"){_1767=_172f;}var _1768=_1765.promisifier;if(typeof _1768!=="function"){_1768=_1758;}if(!util.isIdentifier(_1766)){throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");}var keys=util.inheritedDataKeys(_1764);for(var i=0;i<keys.length;++i){var value=_1764[keys[i]];if(keys[i]!=="constructor"&&util.isClass(value)){_1759(value.prototype,_1766,_1767,_1768);_1759(value,_1766,_1767,_1768);}}return _1759(_1764,_1766,_1767,_1768);};};},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(_1769,_176a,_176b){"use strict";_176a.exports=function(_176c,_176d,_176e,_176f){var util=_1769("./util.js");var _1770=util.isObject;var es5=_1769("./es5.js");function _1771(obj){var keys=es5.keys(obj);var len=keys.length;var _1772=new Array(len*2);for(var i=0;i<len;++i){var key=keys[i];_1772[i]=obj[key];_1772[i+len]=key;}this.constructor$(_1772);};util.inherits(_1771,_176d);_1771.prototype._init=function(){this._init$(undefined,-3);};_1771.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var _1773=++this._totalResolved;if(_1773>=this._length){var val={};var _1774=this.length();for(var i=0,len=this.length();i<len;++i){val[this._values[i+_1774]]=this._values[i];}this._resolve(val);}};_1771.prototype._promiseProgressed=function(value,index){this._promise._progress({key:this._values[index+this.length()],value:value});};_1771.prototype.shouldCopyValues=function(){return false;};_1771.prototype.getActualLength=function(len){return len>>1;};function props(_1775){var ret;var _1776=_176e(_1775);if(!_1770(_1776)){return _176f("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n");}else{if(_1776 instanceof _176c){ret=_1776._then(_176c.props,undefined,undefined,undefined,undefined);}else{ret=new _1771(_1776).promise();}}if(_1776 instanceof _176c){ret._propagateFrom(_1776,4);}return ret;};_176c.prototype.props=function(){return props(this);};_176c.props=function(_1777){return props(_1777);};};},{"./es5.js":14,"./util.js":38}],28:[function(_1778,_1779,_177a){"use strict";function _177b(src,_177c,dst,_177d,len){for(var j=0;j<len;++j){dst[j+_177d]=src[j+_177c];src[j+_177c]=void 0;}};function Queue(_177e){this._capacity=_177e;this._length=0;this._front=0;};Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size;};Queue.prototype._pushOne=function(arg){var _177f=this.length();this._checkCapacity(_177f+1);var i=(this._front+_177f)&(this._capacity-1);this[i]=arg;this._length=_177f+1;};Queue.prototype._unshiftOne=function(value){var _1780=this._capacity;this._checkCapacity(this.length()+1);var front=this._front;var i=((((front-1)&(_1780-1))^_1780)-_1780);this[i]=value;this._front=i;this._length=this.length()+1;};Queue.prototype.unshift=function(fn,_1781,arg){this._unshiftOne(arg);this._unshiftOne(_1781);this._unshiftOne(fn);};Queue.prototype.push=function(fn,_1782,arg){var _1783=this.length()+3;if(this._willBeOverCapacity(_1783)){this._pushOne(fn);this._pushOne(_1782);this._pushOne(arg);return;}var j=this._front+_1783-3;this._checkCapacity(_1783);var _1784=this._capacity-1;this[(j+0)&_1784]=fn;this[(j+1)&_1784]=_1782;this[(j+2)&_1784]=arg;this._length=_1783;};Queue.prototype.shift=function(){var front=this._front,ret=this[front];this[front]=undefined;this._front=(front+1)&(this._capacity-1);this._length--;return ret;};Queue.prototype.length=function(){return this._length;};Queue.prototype._checkCapacity=function(size){if(this._capacity<size){this._resizeTo(this._capacity<<1);}};Queue.prototype._resizeTo=function(_1785){var _1786=this._capacity;this._capacity=_1785;var front=this._front;var _1787=this._length;var _1788=(front+_1787)&(_1786-1);_177b(this,0,this,_1786,_1788);};_1779.exports=Queue;},{}],29:[function(_1789,_178a,_178b){"use strict";_178a.exports=function(_178c,_178d,_178e,_178f){var _1790=_1789("./util.js").isArray;var _1791=function(_1792){return _1792.then(function(array){return race(array,_1792);});};function race(_1793,_1794){var _1795=_178e(_1793);if(_1795 instanceof _178c){return _1791(_1795);}else{if(!_1790(_1793)){return _178f("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");}}var ret=new _178c(_178d);if(_1794!==undefined){ret._propagateFrom(_1794,4|1);}var _1796=ret._fulfill;var _1797=ret._reject;for(var i=0,len=_1793.length;i<len;++i){var val=_1793[i];if(val===undefined&&!(i in _1793)){continue;}_178c.cast(val)._then(_1796,_1797,undefined,ret,null);}return ret;};_178c.race=function(_1798){return race(_1798,undefined);};_178c.prototype.race=function(){return race(this,undefined);};};},{"./util.js":38}],30:[function(_1799,_179a,_179b){"use strict";_179a.exports=function(_179c,_179d,_179e,_179f,_17a0){var _17a1=_179c._getDomain;var async=_1799("./async.js");var util=_1799("./util.js");var _17a2=util.tryCatch;var _17a3=util.errorObj;function _17a4(_17a5,fn,accum,_17a6){this.constructor$(_17a5);this._promise._captureStackTrace();this._preservedValues=_17a6===_17a0?[]:null;this._zerothIsAccum=(accum===undefined);this._gotAccum=false;this._reducingIndex=(this._zerothIsAccum?1:0);this._valuesPhase=undefined;var _17a7=_179f(accum,this._promise);var _17a8=false;var _17a9=_17a7 instanceof _179c;if(_17a9){_17a7=_17a7._target();if(_17a7._isPending()){_17a7._proxyPromiseArray(this,-1);}else{if(_17a7._isFulfilled()){accum=_17a7._value();this._gotAccum=true;}else{this._reject(_17a7._reason());_17a8=true;}}}if(!(_17a9||this._zerothIsAccum)){this._gotAccum=true;}var _17aa=_17a1();this._callback=_17aa===null?fn:_17aa.bind(fn);this._accum=accum;if(!_17a8){async.invoke(init,this,undefined);}};function init(){this._init$(undefined,-5);};util.inherits(_17a4,_179d);_17a4.prototype._init=function(){};_17a4.prototype._resolveEmptyArray=function(){if(this._gotAccum||this._zerothIsAccum){this._resolve(this._preservedValues!==null?[]:this._accum);}};_17a4.prototype._promiseFulfilled=function(value,index){var _17ab=this._values;_17ab[index]=value;var _17ac=this.length();var _17ad=this._preservedValues;var _17ae=_17ad!==null;var _17af=this._gotAccum;var _17b0=this._valuesPhase;var _17b1;if(!_17b0){_17b0=this._valuesPhase=new Array(_17ac);for(_17b1=0;_17b1<_17ac;++_17b1){_17b0[_17b1]=0;}}_17b1=_17b0[index];if(index===0&&this._zerothIsAccum){this._accum=value;this._gotAccum=_17af=true;_17b0[index]=((_17b1===0)?1:2);}else{if(index===-1){this._accum=value;this._gotAccum=_17af=true;}else{if(_17b1===0){_17b0[index]=1;}else{_17b0[index]=2;this._accum=value;}}}if(!_17af){return;}var _17b2=this._callback;var _17b3=this._promise._boundValue();var ret;for(var i=this._reducingIndex;i<_17ac;++i){_17b1=_17b0[i];if(_17b1===2){this._reducingIndex=i+1;continue;}if(_17b1!==1){return;}value=_17ab[i];this._promise._pushContext();if(_17ae){_17ad.push(value);ret=_17a2(_17b2).call(_17b3,value,i,_17ac);}else{ret=_17a2(_17b2).call(_17b3,this._accum,value,i,_17ac);}this._promise._popContext();if(ret===_17a3){return this._reject(ret.e);}var _17b4=_179f(ret,this._promise);if(_17b4 instanceof _179c){_17b4=_17b4._target();if(_17b4._isPending()){_17b0[i]=4;return _17b4._proxyPromiseArray(this,i);}else{if(_17b4._isFulfilled()){ret=_17b4._value();}else{return this._reject(_17b4._reason());}}}this._reducingIndex=i+1;this._accum=ret;}this._resolve(_17ae?_17ad:this._accum);};function _17b5(_17b6,fn,_17b7,_17b8){if(typeof fn!=="function"){return _179e("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}var array=new _17a4(_17b6,fn,_17b7,_17b8);return array.promise();};_179c.prototype.reduce=function(fn,_17b9){return _17b5(this,fn,_17b9,null);};_179c.reduce=function(_17ba,fn,_17bb,_17bc){return _17b5(_17ba,fn,_17bb,_17bc);};};},{"./async.js":2,"./util.js":38}],31:[function(_17bd,_17be,_17bf){"use strict";var _17c0;var util=_17bd("./util");var _17c1=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n");};if(util.isNode&&typeof MutationObserver==="undefined"){var _17c2=global.setImmediate;var _17c3=process.nextTick;_17c0=util.isRecentNode?function(fn){_17c2.call(global,fn);}:function(fn){_17c3.call(process,fn);};}else{if((typeof MutationObserver!=="undefined")&&!(typeof window!=="undefined"&&window.navigator&&window.navigator.standalone)){_17c0=function(fn){var div=document.createElement("div");var _17c4=new MutationObserver(fn);_17c4.observe(div,{attributes:true});return function(){div.classList.toggle("foo");};};_17c0.isStatic=true;}else{if(typeof setImmediate!=="undefined"){_17c0=function(fn){setImmediate(fn);};}else{if(typeof setTimeout!=="undefined"){_17c0=function(fn){setTimeout(fn,0);};}else{_17c0=_17c1;}}}}_17be.exports=_17c0;},{"./util":38}],32:[function(_17c5,_17c6,_17c7){"use strict";_17c6.exports=function(_17c8,_17c9){var _17ca=_17c8.PromiseInspection;var util=_17c5("./util.js");function _17cb(_17cc){this.constructor$(_17cc);};util.inherits(_17cb,_17c9);_17cb.prototype._promiseResolved=function(index,_17cd){this._values[index]=_17cd;var _17ce=++this._totalResolved;if(_17ce>=this._length){this._resolve(this._values);}};_17cb.prototype._promiseFulfilled=function(value,index){var ret=new _17ca();ret._bitField=268435456;ret._settledValue=value;this._promiseResolved(index,ret);};_17cb.prototype._promiseRejected=function(_17cf,index){var ret=new _17ca();ret._bitField=134217728;ret._settledValue=_17cf;this._promiseResolved(index,ret);};_17c8.settle=function(_17d0){return new _17cb(_17d0).promise();};_17c8.prototype.settle=function(){return new _17cb(this).promise();};};},{"./util.js":38}],33:[function(_17d1,_17d2,_17d3){"use strict";_17d2.exports=function(_17d4,_17d5,_17d6){var util=_17d1("./util.js");var _17d7=_17d1("./errors.js").RangeError;var _17d8=_17d1("./errors.js").AggregateError;var _17d9=util.isArray;function _17da(_17db){this.constructor$(_17db);this._howMany=0;this._unwrap=false;this._initialized=false;};util.inherits(_17da,_17d5);_17da.prototype._init=function(){if(!this._initialized){return;}if(this._howMany===0){this._resolve([]);return;}this._init$(undefined,-5);var _17dc=_17d9(this._values);if(!this._isResolved()&&_17dc&&this._howMany>this._canPossiblyFulfill()){this._reject(this._getRangeError(this.length()));}};_17da.prototype.init=function(){this._initialized=true;this._init();};_17da.prototype.setUnwrap=function(){this._unwrap=true;};_17da.prototype.howMany=function(){return this._howMany;};_17da.prototype.setHowMany=function(count){this._howMany=count;};_17da.prototype._promiseFulfilled=function(value){this._addFulfilled(value);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();if(this.howMany()===1&&this._unwrap){this._resolve(this._values[0]);}else{this._resolve(this._values);}}};_17da.prototype._promiseRejected=function(_17dd){this._addRejected(_17dd);if(this.howMany()>this._canPossiblyFulfill()){var e=new _17d8();for(var i=this.length();i<this._values.length;++i){e.push(this._values[i]);}this._reject(e);}};_17da.prototype._fulfilled=function(){return this._totalResolved;};_17da.prototype._rejected=function(){return this._values.length-this.length();};_17da.prototype._addRejected=function(_17de){this._values.push(_17de);};_17da.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value;};_17da.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected();};_17da.prototype._getRangeError=function(count){var _17df="Input array must contain at least "+this._howMany+" items but contains only "+count+" items";return new _17d7(_17df);};_17da.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0));};function some(_17e0,_17e1){if((_17e1|0)!==_17e1||_17e1<0){return _17d6("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");}var ret=new _17da(_17e0);var _17e2=ret.promise();ret.setHowMany(_17e1);ret.init();return _17e2;};_17d4.some=function(_17e3,_17e4){return some(_17e3,_17e4);};_17d4.prototype.some=function(_17e5){return some(this,_17e5);};_17d4._SomePromiseArray=_17da;};},{"./errors.js":13,"./util.js":38}],34:[function(_17e6,_17e7,_17e8){"use strict";_17e7.exports=function(_17e9){function _17ea(_17eb){if(_17eb!==undefined){_17eb=_17eb._target();this._bitField=_17eb._bitField;this._settledValue=_17eb._settledValue;}else{this._bitField=0;this._settledValue=undefined;}};_17ea.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");}return this._settledValue;};_17ea.prototype.error=_17ea.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");}return this._settledValue;};_17ea.prototype.isFulfilled=_17e9.prototype._isFulfilled=function(){return (this._bitField&268435456)>0;};_17ea.prototype.isRejected=_17e9.prototype._isRejected=function(){return (this._bitField&134217728)>0;};_17ea.prototype.isPending=_17e9.prototype._isPending=function(){return (this._bitField&402653184)===0;};_17ea.prototype.isResolved=_17e9.prototype._isResolved=function(){return (this._bitField&402653184)>0;};_17e9.prototype.isPending=function(){return this._target()._isPending();};_17e9.prototype.isRejected=function(){return this._target()._isRejected();};_17e9.prototype.isFulfilled=function(){return this._target()._isFulfilled();};_17e9.prototype.isResolved=function(){return this._target()._isResolved();};_17e9.prototype._value=function(){return this._settledValue;};_17e9.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue;};_17e9.prototype.value=function(){var _17ec=this._target();if(!_17ec.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");}return _17ec._settledValue;};_17e9.prototype.reason=function(){var _17ed=this._target();if(!_17ed.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");}_17ed._unsetRejectionIsUnhandled();return _17ed._settledValue;};_17e9.PromiseInspection=_17ea;};},{}],35:[function(_17ee,_17ef,_17f0){"use strict";_17ef.exports=function(_17f1,_17f2){var util=_17ee("./util.js");var _17f3=util.errorObj;var _17f4=util.isObject;function _17f5(obj,_17f6){if(_17f4(obj)){if(obj instanceof _17f1){return obj;}else{if(_17f7(obj)){var ret=new _17f1(_17f2);obj._then(ret._fulfillUnchecked,ret._rejectUncheckedCheckError,ret._progressUnchecked,ret,null);return ret;}}var then=util.tryCatch(_17f8)(obj);if(then===_17f3){if(_17f6){_17f6._pushContext();}var ret=_17f1.reject(then.e);if(_17f6){_17f6._popContext();}return ret;}else{if(typeof then==="function"){return _17f9(obj,then,_17f6);}}}return obj;};function _17f8(obj){return obj.then;};var _17fa={}.hasOwnProperty;function _17f7(obj){return _17fa.call(obj,"_promise0");};function _17f9(x,then,_17fb){var _17fc=new _17f1(_17f2);var ret=_17fc;if(_17fb){_17fb._pushContext();}_17fc._captureStackTrace();if(_17fb){_17fb._popContext();}var _17fd=true;var _17fe=util.tryCatch(then).call(x,_17ff,_1800,_1801);_17fd=false;if(_17fc&&_17fe===_17f3){_17fc._rejectCallback(_17fe.e,true,true);_17fc=null;}function _17ff(value){if(!_17fc){return;}_17fc._resolveCallback(value);_17fc=null;};function _1800(_1802){if(!_17fc){return;}_17fc._rejectCallback(_1802,_17fd,true);_17fc=null;};function _1801(value){if(!_17fc){return;}if(typeof _17fc._progress==="function"){_17fc._progress(value);}};return ret;};return _17f5;};},{"./util.js":38}],36:[function(_1803,_1804,_1805){"use strict";_1804.exports=function(_1806,_1807){var util=_1803("./util.js");var _1808=_1806.TimeoutError;var _1809=function(_180a,_180b){if(!_180a.isPending()){return;}if(typeof _180b!=="string"){_180b="operation timed out";}var err=new _1808(_180b);util.markAsOriginatingFromRejection(err);_180a._attachExtraTrace(err);_180a._cancel(err);};var _180c=function(value){return delay(+this).thenReturn(value);};var delay=_1806.delay=function(value,ms){if(ms===undefined){ms=value;value=undefined;var ret=new _1806(_1807);setTimeout(function(){ret._fulfill();},ms);return ret;}ms=+ms;return _1806.resolve(value)._then(_180c,null,null,ms,undefined);};_1806.prototype.delay=function(ms){return delay(this,ms);};function _180d(value){var _180e=this;if(_180e instanceof Number){_180e=+_180e;}clearTimeout(_180e);return value;};function _180f(_1810){var _1811=this;if(_1811 instanceof Number){_1811=+_1811;}clearTimeout(_1811);throw _1810;};_1806.prototype.timeout=function(ms,_1812){ms=+ms;var ret=this.then().cancellable();ret._cancellationParent=this;var _1813=setTimeout(function timeoutTimeout(){_1809(ret,_1812);},ms);return ret._then(_180d,_180f,undefined,_1813,undefined);};};},{"./util.js":38}],37:[function(_1814,_1815,_1816){"use strict";_1815.exports=function(_1817,_1818,_1819,_181a){var _181b=_1814("./errors.js").TypeError;var _181c=_1814("./util.js").inherits;var _181d=_1817.PromiseInspection;function _181e(_181f){var len=_181f.length;for(var i=0;i<len;++i){var _1820=_181f[i];if(_1820.isRejected()){return _1817.reject(_1820.error());}_181f[i]=_1820._settledValue;}return _181f;};function _1821(e){setTimeout(function(){throw e;},0);};function _1822(_1823){var _1824=_1819(_1823);if(_1824!==_1823&&typeof _1823._isDisposable==="function"&&typeof _1823._getDisposer==="function"&&_1823._isDisposable()){_1824._setDisposable(_1823._getDisposer());}return _1824;};function _1825(_1826,_1827){var i=0;var len=_1826.length;var ret=_1817.defer();function _1828(){if(i>=len){return ret.resolve();}var _1829=_1822(_1826[i++]);if(_1829 instanceof _1817&&_1829._isDisposable()){try{_1829=_1819(_1829._getDisposer().tryDispose(_1827),_1826.promise);}catch(e){return _1821(e);}if(_1829 instanceof _1817){return _1829._then(_1828,_1821,null,null,null);}}_1828();};_1828();return ret.promise;};function _182a(value){var _182b=new _181d();_182b._settledValue=value;_182b._bitField=268435456;return _1825(this,_182b).thenReturn(value);};function _182c(_182d){var _182e=new _181d();_182e._settledValue=_182d;_182e._bitField=134217728;return _1825(this,_182e).thenThrow(_182d);};function _182f(data,_1830,_1831){this._data=data;this._promise=_1830;this._context=_1831;};_182f.prototype.data=function(){return this._data;};_182f.prototype.promise=function(){return this._promise;};_182f.prototype.resource=function(){if(this.promise().isFulfilled()){return this.promise().value();}return null;};_182f.prototype.tryDispose=function(_1832){var _1833=this.resource();var _1834=this._context;if(_1834!==undefined){_1834._pushContext();}var ret=_1833!==null?this.doDispose(_1833,_1832):null;if(_1834!==undefined){_1834._popContext();}this._promise._unsetDisposable();this._data=null;return ret;};_182f.isDisposer=function(d){return (d!=null&&typeof d.resource==="function"&&typeof d.tryDispose==="function");};function _1835(fn,_1836,_1837){this.constructor$(fn,_1836,_1837);};_181c(_1835,_182f);_1835.prototype.doDispose=function(_1838,_1839){var fn=this.data();return fn.call(_1838,_1838,_1839);};function _183a(value){if(_182f.isDisposer(value)){this.resources[this.index]._setDisposable(value);return value.promise();}return value;};_1817.using=function(){var len=arguments.length;if(len<2){return _1818("you must pass at least 2 arguments to Promise.using");}var fn=arguments[len-1];if(typeof fn!=="function"){return _1818("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}len--;var _183b=new Array(len);for(var i=0;i<len;++i){var _183c=arguments[i];if(_182f.isDisposer(_183c)){var _183d=_183c;_183c=_183c.promise();_183c._setDisposable(_183d);}else{var _183e=_1819(_183c);if(_183e instanceof _1817){_183c=_183e._then(_183a,null,null,{resources:_183b,index:i},undefined);}}_183b[i]=_183c;}var _183f=_1817.settle(_183b).then(_181e).then(function(vals){_183f._pushContext();var ret;try{ret=fn.apply(undefined,vals);}finally{_183f._popContext();}return ret;})._then(_182a,_182c,undefined,_183b,undefined);_183b.promise=_183f;return _183f;};_1817.prototype._setDisposable=function(_1840){this._bitField=this._bitField|262144;this._disposer=_1840;};_1817.prototype._isDisposable=function(){return (this._bitField&262144)>0;};_1817.prototype._getDisposer=function(){return this._disposer;};_1817.prototype._unsetDisposable=function(){this._bitField=this._bitField&(~262144);this._disposer=undefined;};_1817.prototype.disposer=function(fn){if(typeof fn==="function"){return new _1835(fn,this,_181a());}throw new _181b();};};},{"./errors.js":13,"./util.js":38}],38:[function(_1841,_1842,_1843){"use strict";var es5=_1841("./es5.js");var _1844=typeof navigator=="undefined";var _1845=(function(){try{var o={};es5.defineProperty(o,"f",{get:function(){return 3;}});return o.f===3;}catch(e){return false;}})();var _1846={e:{}};var _1847;function _1848(){try{var _1849=_1847;_1847=null;return _1849.apply(this,arguments);}catch(e){_1846.e=e;return _1846;}};function _184a(fn){_1847=fn;return _1848;};var _184b=function(Child,_184c){var _184d={}.hasOwnProperty;function T(){this.constructor=Child;this.constructor$=_184c;for(var _184e in _184c.prototype){if(_184d.call(_184c.prototype,_184e)&&_184e.charAt(_184e.length-1)!=="$"){this[_184e+"$"]=_184c.prototype[_184e];}}};T.prototype=_184c.prototype;Child.prototype=new T();return Child.prototype;};function _184f(val){return val==null||val===true||val===false||typeof val==="string"||typeof val==="number";};function _1850(value){return !_184f(value);};function _1851(_1852){if(!_184f(_1852)){return _1852;}return new Error(_1853(_1852));};function _1854(_1855,_1856){var len=_1855.length;var ret=new Array(len+1);var i;for(i=0;i<len;++i){ret[i]=_1855[i];}ret[i]=_1856;return ret;};function _1857(obj,key,_1858){if(es5.isES5){var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null){return desc.get==null&&desc.set==null?desc.value:_1858;}}else{return {}.hasOwnProperty.call(obj,key)?obj[key]:undefined;}};function _1859(obj,name,value){if(_184f(obj)){return obj;}var _185a={value:value,configurable:true,enumerable:false,writable:true};es5.defineProperty(obj,name,_185a);return obj;};function _185b(r){throw r;};var _185c=(function(){var _185d=[Array.prototype,Object.prototype,Function.prototype];var _185e=function(val){for(var i=0;i<_185d.length;++i){if(_185d[i]===val){return true;}}return false;};if(es5.isES5){var _185f=Object.getOwnPropertyNames;return function(obj){var ret=[];var _1860=Object.create(null);while(obj!=null&&!_185e(obj)){var keys;try{keys=_185f(obj);}catch(e){return ret;}for(var i=0;i<keys.length;++i){var key=keys[i];if(_1860[key]){continue;}_1860[key]=true;var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null&&desc.get==null&&desc.set==null){ret.push(key);}}obj=es5.getPrototypeOf(obj);}return ret;};}else{var _1861={}.hasOwnProperty;return function(obj){if(_185e(obj)){return [];}var ret=[];enumeration:for(var key in obj){if(_1861.call(obj,key)){ret.push(key);}else{for(var i=0;i<_185d.length;++i){if(_1861.call(_185d[i],key)){continue enumeration;}}ret.push(key);}}return ret;};}})();var _1862=/this\s*\.\s*\S+\s*=/;function _1863(fn){try{if(typeof fn==="function"){var keys=es5.names(fn.prototype);var _1864=es5.isES5&&keys.length>1;var _1865=keys.length>0&&!(keys.length===1&&keys[0]==="constructor");var _1866=_1862.test(fn+"")&&es5.names(fn).length>0;if(_1864||_1865||_1866){return true;}}return false;}catch(e){return false;}};function _1867(obj){function f(){};f.prototype=obj;var l=8;while(l--){new f();}return obj;eval(obj);};var _1868=/^[a-z$_][a-z$_0-9]*$/i;function _1869(str){return _1868.test(str);};function _186a(count,_186b,_186c){var ret=new Array(count);for(var i=0;i<count;++i){ret[i]=_186b+i+_186c;}return ret;};function _1853(obj){try{return obj+"";}catch(e){return "[no string representation]";}};function _186d(e){try{_1859(e,"isOperational",true);}catch(ignore){}};function _186e(e){if(e==null){return false;}return ((e instanceof Error["__BluebirdErrorTypes__"].OperationalError)||e["isOperational"]===true);};function _186f(obj){return obj instanceof Error&&es5.propertyIsWritable(obj,"stack");};var _1870=(function(){if(!("stack" in new Error())){return function(value){if(_186f(value)){return value;}try{throw new Error(_1853(value));}catch(err){return err;}};}else{return function(value){if(_186f(value)){return value;}return new Error(_1853(value));};}})();function _1871(obj){return {}.toString.call(obj);};function _1872(from,to,_1873){var keys=es5.names(from);for(var i=0;i<keys.length;++i){var key=keys[i];if(_1873(key)){try{es5.defineProperty(to,key,es5.getDescriptor(from,key));}catch(ignore){}}}};var ret={isClass:_1863,isIdentifier:_1869,inheritedDataKeys:_185c,getDataPropertyOrDefault:_1857,thrower:_185b,isArray:es5.isArray,haveGetters:_1845,notEnumerableProp:_1859,isPrimitive:_184f,isObject:_1850,canEvaluate:_1844,errorObj:_1846,tryCatch:_184a,inherits:_184b,withAppended:_1854,maybeWrapAsError:_1851,toFastProperties:_1867,filledRange:_186a,toString:_1853,canAttachTrace:_186f,ensureErrorObject:_1870,originatesFromRejection:_186e,markAsOriginatingFromRejection:_186d,classString:_1871,copyDescriptors:_1872,hasDevTools:typeof chrome!=="undefined"&&chrome&&typeof chrome.loadTimes==="function",isNode:typeof process!=="undefined"&&_1871(process).toLowerCase()==="[object process]"};ret.isRecentNode=ret.isNode&&(function(){var _1874=process.versions.node.split(".").map(Number);return (_1874[0]===0&&_1874[1]>10)||(_1874[0]>0);})();if(ret.isNode){ret.toFastProperties(process);}try{throw new Error();}catch(e){ret.lastLineError=e;}_1842.exports=ret;},{"./es5.js":14}]},{},[4])(4);});},"webcore/data-backend/OfflineDataBackend":function(){define(["../applicative","../file-helpers","../file-transfer","../guid","../monad","./_DataBackend","../Task","../task-helpers","../url-helpers","mendix/lang","mendix/lib/MxObject","mendix/logger","bluebird/bluebird"],function(_1875,_1876,_1877,_1878,monad,_1879,Task,_187a,_187b,lang,_187c,_187d,_187e){var _187f={"String":"","Integer":"0","Long":"0","Decimal":"0","Float":"0","Currency":"0","Enum":"","HashString":"","ObjectReference":"","DateTime":null,"Boolean":false,"AutoNumber":"0","Binary":""};var _1880={"String":String,"Integer":String,"Long":String,"Decimal":String,"Float":String,"Currency":String,"Enum":String,"HashString":String,"ObjectReference":String,"DateTime":_1881,"Boolean":_1882,"AutoNumber":null,"Binary":String};function _1883(store,_1884,_1885){_1885=_1885||{};this._store=store;this._objectCache={};this._getStorageDir=_1885.getStorageDirFn||_1886;this._getDocumentUrl=_1885.getDocumentUrlFn||_1887;this._downloadFileFn=_1885.downloadFileFn||_1888;this._fetchConfig=_1884;};_1883.prototype=new _1879();_1883.prototype.getByGuid=function(guids,_1889,_188a,error){_187e.all(guids.map(this._getByGuid.bind(this))).then(function(objs){if(_188a){_188a(objs.map(_188b));}}).caught(error);};_1883.prototype.getSlice=function(_188c,_188d,_188e){return this._store.getSlice(_188c,_188d,_188e).spread(function(objs,count){return [objs.map(_188b),count];});};_1883.prototype.create=function(_188f,_1890,_1891,error){var guid=_1878.create();var meta=mx.meta.getEntity(_188f);this._objectCache[guid]=mixin({guid:guid,$objectType:_188f,$readonlyAttrs:[]},_1892(meta));if(_1891){_1891(_188b(this._objectCache[guid]));}};_1883.prototype.save=function(_1893,_1894,_1895,error){var self=this;var _1896=Object.keys(_1893).map(function(guid){return self._getByGuid(guid);});_187e.all(_1896).then(function(objs){objs.forEach(function(obj){var guid=obj.guid;if(!self._objectCache[guid]){self._objectCache[guid]=mixin({},obj);}mixin(self._objectCache[guid],_1893[guid]);});if(_1895){_1895();}});};_1883.prototype.commit=function(guid,_1897,store,_1898,_1899,error){var self=this;var obj=this._objectCache[guid];var _189a;if(obj){_189a=this._store.insertOrReplace(obj.$objectType,obj);}else{_189a=_187e.resolve();}_189a.then(function(){delete self._objectCache[guid];if(_1899){_1899();}},error);};_1883.prototype.rollback=function(guid,_189b,error){delete this._objectCache[guid];this._store.getByGuid(guid).then(function(obj){if(_189b){_189b(_188b(obj));}},function(e){if(_189b){_189b(null);}});};_1883.prototype.release=function(guid){};_1883.prototype.saveDocument=function(guid,_189c,blob,_189d,error){var self=this;var _189e="files/documents/"+_189f(guid);_18a0(blob,_189c.maxFileSize,_189e,{create:true}).then(function(){var _18a1={};_18a1[guid]={"HasContents":true};self.save(_18a1,null,function(){self.commit(guid,null,null,null,_189d,error);},error);},error);function _18a0(file,_18a2,_18a3,_18a4){if(file.size/(1024*1024)>_18a2){_187e.rejected(new Error("File too large"));return;}return new _187e(function(_18a5,_18a6){self._getStorageDir(_18a5,_18a6);}).then(function(_18a7){var split=_18a3.split("/");var _18a8=split.pop();var _18a9=_1876.openDirectory(_18a7,split).chain(function(de){return _1876.createFileTask(de,_18a8,_18a4).chain(function(fe){return _1876.createWriterTask(fe).chain(function(fw){return _1876.createWriteTask(fw,blob);});});});return _187a.promiseFromTask(_18a9);});};};_1883.prototype.upload=function(_18aa){var self=this;var _18ab=this._store.upload(_18aa).chain(_18ac(_18aa)).chain(function(_18ad){var _18ae=_18ad[0];var _18af=_18ad[1];return new Task(function(_18b0,_18b1){self._getStorageDir(_18b1,_18b0);}).chain(_18b2(_18aa,_18ae,_18af));});return _187a.promiseFromTask(_18ab);};_1883.prototype.download=function(){var self=this;var _18b3=this._fetchConfig.map(function(fc){return _18bc(fc.xpath).chain(function(_18b4){var objs=_18b4.map(_18f4);var _18b5=_18b4.map(function(obj){return new _187c({json:obj,meta:window.mx.meta.getEntity(obj.objectType)});});var _18b6=_18f9(_18b5.map(function(mxobj){var tasks=[];var guid=mxobj.getGuid();var src="file?guid="+guid;if(mxobj.isA("System.FileDocument")&&mxobj.get2("HasContents")){tasks.push(_18b7(src,"documents/"+guid));if(mxobj.isA("System.Image")){tasks.push(_18b7(src+"&thumb=true","thumbnails/"+guid));}}return tasks;}));return _1875.sequence_([self._store.fillBulk(fc.store,objs)].concat(_18b6),Task);});});return _187a.promiseFromTask(monad.sequence_([this._store.resetDatabase()].concat(_18b3),Task));function _18b7(src,dst){return new Task(function(_18b8,_18b9){self._downloadFileFn(src,dst,_18b9,_18b8);});};};_1883.prototype.cleanupDirtyObjects=function(){return this._store.cleanupDirtyObjects();};_1883.prototype.getDocumentUrl=function(guid,_18ba,_18bb){return this._getDocumentUrl(_189f(guid),_18ba,_18bb);};_1883.prototype._getByGuid=function(guid){if(this._objectCache[guid]){return _187e.resolve(this._objectCache[guid]);}else{return this._store.getByGuid(guid);}};return _1883;function _18bc(xpath){return new Task(function(_18bd,_18be){window.mx.server.request({request:{action:"retrieve_by_xpath",params:{xpath:xpath,schema:{}}},options:{callback:function(type,json){_18be(json.mxobjects||[]);},error:_18bd}});});};function _18ac(_18bf){return function(_18c0){var _18c1=_18c0.map(function(_18c2){var _18c3=new Task(function(_18c4,_18c5){return _18bf.create(_18c2.$objectType,false,_18c5,_18c4);});return _18c3.map(function(_18c6){return [_18c2.guid,_18c6.guid];});});var _18c7=_18c0.filter(function(_18c8){var meta=window.mx.meta.getEntity(_18c8.$objectType);return meta.isA("System.FileDocument")&&_18c8.HasContents;}).map(function(_18c9){return _18c9.guid;});return Task.parallel(_18c1).map(_18ee).chain(function(_18ca){var _18cb=new Task(function(_18cc,_18cd){var _18ce=_18e0(_18ca,_18c0);_18bf.save(_18ce,null,_18cd,_18cc);});var _18cf=_18c0.map(function(_18d0){return new Task(function(_18d1,_18d2){_18bf.commit(_18ca[_18d0.guid],null,null,null,_18d2,_18d1);});});var _18d3=Task.parallel(_18cf);return Task.sequence([_18cb,_18d3]).chain(function(_18d4){return Task.of([_18ca,_18c7]);});});};};function _18b2(_18d5,_18d6,_18d7){return function(_18d8){var _18d9=_18d7.map(function(_18da){var _18db=_189f(_18da);return _1876.openDirectory(_18d8,"files/documents").chain(function(de){return _1876.createFileTask(de,_18db,{create:false}).chain(function(fe){return _1876.createGetFileBlobTask(fe).chain(function(blob){return _1876.createReadAsArrayBufferTask(blob).chain(function(ab){return _18dc(_18d6[_18da],{},new Blob([ab]));});});});});});function _18dc(guid,_18dd,blob){return new Task(function(_18de,_18df){_18d5.saveDocument(guid,_18dd,blob,_18df,_18de);});};return _1875.sequence(_18d9,Task);};};function _18e0(_18e1,_18e2){return _18e2.reduce(function(_18e3,_18e4){var meta=window.mx.meta.getEntity(_18e4.$objectType);var _18e5=meta.getAttributes().filter(_18e6(meta));var _18e7=_18e1[_18e4.guid];_18e3[_18e7]=_18e5.reduce(function(_18e8,attr){var _18e9=meta.getAttributeType(attr);var _18ea=_1880[_18e9];if(!_18ea){return _18e8;}if(meta.isReference(attr)){var _18eb=_18e4[attr];var _18ec=_18e1[_18eb];if(_18ec){_18e8[attr]=_18ea(_18ec);}else{_18e8[attr]=_18ea(_18eb);}}else{_18e8[attr]=_18ea(_18e4[attr]);}return _18e8;},{});return _18e3;},{});function _18e6(meta){return function(_18ed){if(/^System\./.test(_18ed)){return false;}if(_18ed==="changedDate"||_18ed==="createdDate"){return false;}if(meta.isA("System.FileDocument")){return _18ed!=="HasContents"&&_18ed!=="Contents"&&_18ed!=="__UUID__"&&_18ed!=="PublicThumbnailPath";}return true;};};};function _18ee(arr){var _18ef=arr.reduce(function(acc,pair){acc[pair[0]]=pair[1];return acc;},{});return _18ef;};function _188b(obj){var _18f0=Object.keys(obj).filter(function(_18f1){return !_18f2(_18f1);}).reduce(function(acc,key){acc[key]={value:obj[key]===null?"":obj[key],readonly:obj.$readonlyAttrs.indexOf(key)!==-1};return acc;},{});return {guid:obj.guid,objectType:obj.$objectType,attributes:_18f0};function _18f2(_18f3){return (_18f3==="guid"||_18f3==="$objectType"||_18f3==="$readonlyAttrs");};};function _18f4(_18f5){var dbObj={guid:_18f5.guid};for(var key in _18f5.attributes){dbObj[key]=_18f5.attributes[key].value;}return dbObj;};function _1892(meta){return meta.getAttributes().reduce(function(acc,attr){acc[attr]=_18f6(meta,attr);return acc;},{});};function _18f6(meta,attr){var _18f7=meta.getAttributeType(attr);return _187f[_18f7];};function _1888(src,dst,_18f8,error){_1877.downloadFile(_187b.getStaticResourceUrlFromPath(src),{location:window.TEMPORARY,path:"files/"+dst},_18f8,error);};function mixin(dst,src){for(var key in src){dst[key]=src[key];}return dst;};function _18f9(a){return [].concat.apply([],a);};function _1886(_18fa,error){_1876.getFileSystem(window.TEMPORARY).then(function(fs){if(_18fa){_18fa(fs.root);}},error);};function _1887(_18fb,_18fc,_18fd){var dir=_18fd?"thumbnails":"documents";return "filesystem:"+window.mx.appUrl+"temporary/files/"+dir+"/"+_18fb+"?"+(+new Date());};function _189f(guid){return guid.replace(/:/g,"_");};function _1881(d){if(d==null){return "";}else{return String(d);}};function _1882(b){return String(!!b);};});},"webcore/applicative":function(){define([],function(){var _18fe={};var lift2=_18fe.lift2=function(f,Ax,Ay){return Ax.map(function(x){return function(y){return f(x,y);};}).ap(Ay);};_18fe.sequence=function(as,A){return as.reduce(function(acc,ax){return lift2(_18ff,acc,ax);},A.of([]));};_18fe.sequence_=function(as,A){return _18fe.sequence(as,A).map(function(_1900){return;});};return _18fe;function _18ff(xs,x){return xs.concat([x]);};});},"webcore/file-helpers":function(){define(["./Task","bluebird/bluebird"],function(Task,_1901){var _1902={};var _1903=[];_1902.getFileSystem=function(_1904){if(!_1903[_1904]){_1903[_1904]=new _1901(function(_1905,_1906){window.webkitRequestFileSystem(_1904,1024*1024,_1905,_1906);});}return _1903[_1904];};_1902.openDirectory=function(re,path){if(typeof path==="string"){path=path.split("/");}var _1907=path.map(function(pc){return function(de){return new Task(function(_1908,_1909){de.getDirectory(pc,{create:true},function(nde){_1909(nde);},_1908);});};});return _1907.reduce(function(acc,fmx){return acc.chain(function(de){return fmx(de);});},Task.of(re));};_1902.createFileTask=function(de,_190a,_190b){return new Task(function(_190c,_190d){de.getFile(_190a,_190b,_190d,_190c);});};_1902.createGetFileBlobTask=function(fe){return new Task(function(_190e,_190f){fe.file(_190f,_190e);});};_1902.createReadAsArrayBufferTask=function(blob){return new Task(function(_1910,_1911){var fr=new FileReader();fr.onload=function(e){_1911(e.target.result);};fr.onerror=function(e){_1910(e.target.error);};fr.readAsArrayBuffer(blob);});};_1902.createWriterTask=function(fe){return new Task(function(_1912,_1913){fe.createWriter(_1913,_1912);});};_1902.createWriteTask=function(fw,blob){return new Task(function(_1914,_1915){fw.onwrite=_1915;fw.onerror=_1914;fw.write(blob);});};_1902.saveBlob=function(blob,de,_1916,_1917){return _1902.createFileTask(de,_1916,_1917).chain(function(fe){return _1902.createWriterTask(fe).chain(function(fw){return _1902.createWriteTask(fw,blob);});});};return _1902;});},"webcore/Task":function(){define([],function(){function Task(f){this.fork=f;};Task.of=function(x){return new Task(function(_1918,_1919){_1919(x);});};Task.prototype.chain=function(f){var self=this;return new Task(function(_191a,_191b){self.fork(_191a,function(x){f(x).fork(_191a,_191b);});});};Task.prototype.ap=function(a){var self=this;var _191c=2;var func,value,error;return new Task(function(_191d,_191e){self.fork(_191f,function(f){func=f;_1920();});a.fork(_191f,function(x){value=x;_1920();});function _1920(){if(--_191c===0){_191e(func(value));}};function _191f(e){if(error===undefined){error=e;_191d(error);}};});};Task.prototype.map=function(f){return this.chain(function(x){return Task.of(f(x));});};Task.rejected=Task.prototype.rejected=function(e){return new Task(function(_1921,_1922){_1921(e);});};Task.parallel=function(tasks){return new Task(function(_1923,_1924){var _1925=tasks.length;var _1926=new Array(tasks.length);var error;if(tasks.length===0){_1924(_1926);return;}tasks.forEach(function(task,i){task.fork(function(e){if(error===undefined){error=e;_1923(e);}},_1927(i));});function _1927(i){return function(x){_1926[i]=x;if(error===undefined&&--_1925===0){_1924(_1926);}};};});};Task.sequence=function(tasks){return tasks.reduce(function(acc,task){return acc.chain(function(_1928){return task;});},Task.of(null));};return Task;});},"webcore/file-transfer":function(){define(["bluebird/bluebird","./applicative","./file-helpers","./monad","./Task"],function(_1929,_192a,_192b,monad,Task){var _192c={};_192c.downloadFile=function(src,_192d,_192e,error){var split=_192d.path.split("/");var file=split.pop();var _192f=_1930(src,{"X-Csrf-Token":window.mx.session.getCSRFToken()},{responseType:"blob"});_192b.getFileSystem(_192d.location).then(function(fs){var _1931=_192b.openDirectory(fs.root,split);_192a.sequence([_192f,_1931],Task).chain(function(res){var blob=res[0];var de=res[1];return _192b.saveBlob(blob,de,file,{create:true});}).fork(error,_192e);});};return _192c;function _1930(url,_1932,_1933){return new Task(function(_1934,_1935){var xhr=new XMLHttpRequest();xhr.open("GET",url);Object.keys(_1933).forEach(function(key){xhr[key]=_1933[key];});Object.keys(_1932).forEach(function(key){xhr.setRequestHeader(key,_1932[key]);});xhr.onreadystatechange=function(e){var xhr=e.target;if(xhr.readyState===4){if(xhr.status>=200&&xhr.status<300){_1935(xhr.response);}else{_1934(xhr.response);}}};xhr.onerror=_1934;xhr.send();});};});},"webcore/monad":function(){define([],function(){var monad={};var lift2=monad.lift2=function(f,Mx,My){return Mx.chain(function(x){return My.map(function(y){return f(x,y);});});};monad.sequence=function(ms,M){return ms.reduce(function(acc,mx){return lift2(_1936,acc,mx);},M.of([]));};monad.sequence_=function(ms,M){return monad.sequence(ms,M).map(function(_1937){return;});};return monad;function _1936(xs,x){return xs.concat([x]);};});},"webcore/guid":function(){define([],function(){var _1938="GUID:";return {create:function(){return _1938+(+new Date());}};});},"webcore/task-helpers":function(){define(["./Task","bluebird/bluebird"],function(Task,_1939){var _193a={};_193a.promiseFromTask=function(t){return new _1939(function(_193b,_193c){t.fork(_193c,_193b);});};_193a.taskFromPromise=function(p){return new Task(function(_193d,_193e){p.then(_193e,_193d);});};return _193a;});},"webcore/MxObjectCache":function(){define(["dojo/_base/array"],function(_193f){function _1940(){this._objectCache={};this._refCounts={};};_1940.prototype.getObject=function(guid){return this._objectCache[guid]||null;};_1940.prototype.removeObject=function(guid){if(this._objectCache[guid]){delete this._objectCache[guid];delete this._refCounts[guid];}};_1940.prototype.reset=function(json){var obj=this.getObject(json.guid);if(!obj){throw new Error("Attempt to reset uncached object");}obj.resetFromJSON(json);};_1940.prototype.blacklist=function(guid){var obj=this.getObject(guid);this._objectCache[guid]=null;if(obj){obj.resetFromJSON(null);}};_1940.prototype.isBlacklisted=function(guid){return this._objectCache[guid]===null;};_1940.prototype.add=function(mxobj){if(this.has(mxobj.getGuid())){throw new Error("Attempt to overwrite existing object in cache");}this._objectCache[mxobj.getGuid()]=mxobj;this._refCounts[mxobj.getGuid()]=0;};_1940.prototype.has=function(guid){return !!this.getObject(guid);};_1940.prototype.filter=function(_1941){var guids=[];for(var guid in this._objectCache){if(_1941(guid)){guids.push(guid);}}return guids;};_1940.prototype.reference=function(guid){++this._refCounts[guid];};_1940.prototype.unreference=function(guid){if(!this.has(guid)){throw new Error("Attempt to decrease reference count of uncached object");}--this._refCounts[guid];};_1940.prototype.isReferenced=function(guid){if(!this.has(guid)){throw new Error("Attempt to check reference count of uncached object");}return !!this._refCounts[guid];};return _1940;});},"webcore/MxObjectBackend":function(){define(["mendix/ov","mendix/lang","mendix/lib/MxObject","mendix/lib/Error","dojo/_base/array","dojo/_base/lang","big/big"],function(ov,lang,_1942,_1943,_1944,_1945,Big){function _1946(_1947,_1948,_1949){this._backend=_1947;this._objectCache=_1948;this._shouldRemoveObjectImmediately=_1949;this._objErrorQueue={};this._objSaveQueue={};};_1946.prototype.getByGuid=function(guids,_194a,_194b,_194c,error){var self=this;if(_194b){var objs=_1944.filter(_1944.map(guids,this._objectCache.getObject,this._objectCache),function(mxobj){return mxobj!=null;});var _194d=_1944.every(guids,function(guid){return self._objectCache.has(guid)||self._objectCache.isBlacklisted(guid);});if(_194d){var _194e=objs;if(_194a.sort){_1944.forEach(_194a.sort,function(sort){var attr=sort[0],dir=sort[1];_194e=_194e.sort(dir=="asc"?function(a,b){a=a.get2(attr);b=b.get2(attr);if(a<b){return -1;}else{if(a>b){return 1;}}return 0;}:function(a,b){a=a.get2(attr);b=b.get2(attr);if(a<b){return 1;}else{if(a>b){return -1;}}return 0;});});}var _194f=_194a.offset;if(_194f){var limit=_194a.amount;if(limit){_194e=_194e.slice(_194f,_194f+limit);}else{_194e=_194e.slice(_194f);}}_1944.forEach(_194e,this._objectCache.reference,this._objectCache);if(_194c){_194c(_194e,objs.length);}return;}}var _1950=_194a.attributes==null;this._backend.getByGuid(guids,_194a,function(_1951){var _1952=_1944.map(_1951,function(obj){return self._setMxObject(true,_1950,true,obj);});if(_194c){_194c(_1952,_1952.length);}},error);};_1946.prototype.getByXPath=function(xpath,_1953,_1954,_1955,_1956,error){var self=this;this._backend.getByXPath(xpath,_1953,_1954,_1955,function(_1957,count,_1958){var _1959=_1944.map(_1957,function(obj){return self._setMxObject(true,false,false,obj);});var _195a=_1944.map(_1958,function(agg){return agg===""?agg:new Big(agg);});if(_1956){_1956(_1959,count,_195a);}},error);};_1946.prototype.getByPath=function(guid,path,_195b,_195c,error){var self=this;this._backend.getByPath(guid,path,_195b,_195d,error);function _195d(_195e){var _195f=_1944.map(_195e,function(obj){return self._setMxObject(true,true,true,obj);});if(_195c){_195c(_195f,_195f.length);}};};_1946.prototype.getSlice=function(_1960,_1961,_1962){var meta=window.mx.meta.getEntity(_1960);return this._backend.getSlice(_1960,_1961,_1962).spread(function(_1963,count){var _1964=_1963.map(function(_1965){return new _1942({json:_1965,meta:meta});});return [_1964,count];});};_1946.prototype.fetch=function(obj,_1966,attr,_1967,_1968,error){var self=this;var _1969=obj;var _196a=false;var _196b;if(_1967.schema){_196b=_1966.splice(-2,_1966.length);}else{_196b=[];}var _196c=function(_196d,ref){if(_196d.isObjectReference(ref)){return _196d.getReference(ref);}else{if(_196d.isObjectReferenceSet(ref)){return _196d.getReferences(ref);}else{return _196d.get2(ref);}}};var _196e=function(){if(_1969==null){_1968(null,false);}else{if(!attr){_1968(_1969,_196a);}else{if(attr){_1968(_196c(_1969,attr),false);}}}};var _196f=function(ref){if(_1969.getReferences(ref).length===0){_1968([],false);}else{if(_1969.hasChildren(ref)){_1968(_1969.getChildren(ref),false);}else{window.mx.data.get({guids:_1969.getReferences(ref),filter:{id:_1967.schema},callback:function(objs){_1968(objs,true);},error:error});}}};var _1970=function(ref,_1971){var guid=_1969.getReference(ref);if(guid){window.mx.data.get({guid:guid,filter:{id:_1971},callback:function(obj){if(obj){_1969=obj;_196a=true;_1972();}else{_1968(null,false);}},error:error});}else{_1968(null,false);}};var _1973=function(path){var _1974,_1975;if(path.length<3){return false;}_1974=window.mx.meta.getEntity(path.slice(-3)[0]),_1975=_1966.slice(-2)[0];return _1974.isObjectReferenceSet(_1975);};var _1976=function(_1977,type){var _1978=["//"+type+"[id="+_1977+"]"],isSet=_1973([type].concat(_1966));Array.prototype.push.apply(_1978,_1966);_1966=[];window.mx.data.get({xpath:_1978.join("/"),callback:function(objs){if(objs.length===0){_1968(null,false);}else{if(attr&&objs.length==1){_1969=objs[0];_196e();}else{if(!attr){if(isSet){_1968(objs,false);}else{_1969=objs[0];_1972();}}else{if(error){error(new _1943(attr+" is not a reference type"));}}}}},error:error});};var _1972=function(){var ref,type,child,_1979;if(_1966.length+_196b.length===0){_196e();}else{if(_1966.length===0&&_196b.length>0){ref=_196b.shift();type=_196b.shift();if(_1969.isObjectReferenceSet(ref)){_196f(ref);}else{_1970(ref,_1967.schema);}}else{if(_196a){window.mx.data.release(_1969);_196a=false;}ref=_1966.shift();type=_1966.shift();if(_1969.isObjectReferenceSet(ref)){if(_1966.length>0||_196b>0){if(error){error(new _1943("reference set should be at end of path"));}}else{_196f(ref);}}else{if(_1969.isObjectReference(ref)){child=_1969.getChild(ref);if(child){_1969=child;_1972();}else{_1979=_1969.getReference(ref);if(!_1979){_1968(null,false);}else{if(self._objectCache.has(_1979)){_1969=self._objectCache.getObject(_1979);self._objectCache.reference(_1979);_196a=true;_1972();}else{if(_1967.usexpath&&_1966.length>0){_1976(_1979,type);}else{_1970(ref);}}}}}else{if(error){error(new _1943("attribute "+ref+" is not a reference type"));}}}}}};_1972();};_1946.prototype.action=function(_197a,_197b,store,async,_197c,_197d,error){var self=this;this._backend.action(_197a,_197b,store,async,_197c,_197e,error);function _197e(_197f,_1980){var value;if(_197f instanceof Array){value=_1944.map(_197f,function(obj){return self._setMxObject(false,true,true,obj);});}else{if(typeof _197f=="object"&&_197f.guid){value=[self._setMxObject(false,true,true,_197f)];}else{value=_197f;}}if(value instanceof Array){_1944.forEach(value,function(mxobj){delete self._objErrorQueue[mxobj.getGuid()];});}if(_197d){_197d(value,_1980);}};};_1946.prototype.create=function(_1981,_1982,_1983,error){var self=this;this._backend.create(_1981,_1982,_1984,error);function _1984(_1985){var mxobj=self._setMxObject(true,true,true,_1985);if(_1983){_1983(mxobj);}};};_1946.prototype.save=function(mxobj,_1986,_1987,_1988,error){var self=this;if(mxobj){var _1989=this._objErrorQueue[mxobj.getGuid()];if(_1989){if(error){error(_1989);}return;}else{if(!mxobj.hasChanges()){if(_1988){_1988();}return;}}}var _198a={};var _198b;if(!_1986){var _198c=false;_198b=this._objSaveQueue;this._objSaveQueue={};for(var guid in _198b){var _198d=_198b[guid];if(_198d.hasChanges()){_198a[guid]=_198d._collectChanges();_198c=true;}delete this._objErrorQueue[guid];}if(!_198c){if(_1988){_1988();}return;}}if(mxobj&&!_198b[mxobj.getGuid()]){_198a[mxobj.getGuid()]=mxobj._collectChanges();_198b={guid:mxobj};delete this._objSaveQueue[mxobj.getGuid()];delete this._objErrorQueue[mxobj.getGuid()];}this._backend.save(_198a,_1987,_198e,_198f);function _198e(){for(var guid in _198b){_198b[guid]._applyChangeSet();}if(_1988){_1988();}};function _198f(e){var _1990=e.original||{};var _1991=false;if(ov.hasValidations(_1990)){_1944.forEach(ov.getValidations(_1990),function(_1992){var guid=_1992.getGuid();if(_198b[guid]){self._objErrorQueue[guid]=_1992;delete _198b[guid];}_1991=!!mxobj&&guid==mxobj.getGuid();});for(var id in _198b){_198b[id]._applyChangeSet();}}else{_1945.mixin(self._objSaveQueue,_198b);_1991=true;}if(mxobj&&_1991){if(error){error(e);}}else{if(_1988){_1988();}}};};_1946.prototype.commit=function(guid,_1993,store,_1994,_1995,error){var self=this;this._backend.commit(guid,_1993,store,_1994,_1996,error);function _1996(){delete self._objErrorQueue[guid];delete self._objSaveQueue[guid];if(_1995){_1995();}};};_1946.prototype.rollback=function(_1997,_1998,error){var self=this;var guid=_1997.getGuid();delete this._objErrorQueue[guid];delete this._objSaveQueue[guid];this._backend.rollback(guid,_1999,error);function _1999(_199a){var _199b;if(_199a){_199b=self._setMxObject(true,false,false,_199a);}self._rollbackCache(_1997,_199b);if(_1998){_1998(_199b);}};};_1946.prototype.remove=function(guids,_199c,error){var self=this;this._backend.remove(guids,_199d,error);function _199d(){_1944.forEach(guids,self._clearDataForObject,self);if(_199c){_199c();}};};_1946.prototype.makeChange=function(mxobj,attr,value){var guid=mxobj.getGuid();this._objSaveQueue[guid]=mxobj;delete this._objErrorQueue[guid];var _199e=this._objectCache.getObject(guid);if(_199e){_199e.setWithoutEvent(attr,value);}};_1946.prototype.flush=function(_199f){if(lang.itemCount(this._objSaveQueue)===0){if(_199f){_199f();}}else{this.save(null,false,null,_199f);}};_1946.prototype.setOrRetrieveMxObject=function(json){delete this._objErrorQueue[json.guid];return this._setMxObject(false,true,false,json);};_1946.prototype.cleanup=function(){var self=this;var _19a0=this._objectCache.filter(function(guid){return !self._objectCache.isBlacklisted(guid)&&!self._objectCache.isReferenced(guid);});_1944.forEach(_19a0,this._clearDataForObject,this);};_1946.prototype.invalidateCaches=function(guid){if(this._objectCache.has(guid)){this._clearDataForObject(guid);}};_1946.prototype._setMxObject=function(keep,_19a1,_19a2,_19a3){var _19a4=this._objectCache.getObject(_19a3.guid);if(_19a1&&_19a4){if(!keep||!_19a4.hasChanges()){this._objectCache.reset(_19a3);}if(_19a2){this._objectCache.reference(_19a3.guid);}return _19a4;}else{var obj=new _1942({json:_19a3,meta:window.mx.meta.getEntity(_19a3.objectType)});if(_19a1&&!_19a4){this._objectCache.add(obj);if(_19a2){this._objectCache.reference(_19a3.guid);}}else{if(!_19a1&&_19a4){this._clearDataForObject(_19a3.guid);}}return obj;}};_1946.prototype._clearDataForObject=function(guid){if(!this._shouldRemoveObjectImmediately||this._shouldRemoveObjectImmediately(guid)){delete this._objErrorQueue[guid];this._objectCache.removeObject(guid);this._backend.release(guid);}};_1946.prototype.release=function(guid){if(this._objectCache.has(guid)&&this._objectCache.isReferenced(guid)){this._objectCache.unreference(guid);if(!this._objectCache.isReferenced(guid)){this._clearDataForObject(guid);}}};_1946.prototype._rollbackCache=function(_19a5,_19a6){var guid=_19a5.getGuid();var _19a7=this._objectCache.getObject(guid);if(_19a6){if(_19a7){if(_19a5!==_19a7){this._objectCache.reset(_19a6.jsonData);}}else{this._objectCache.add(_19a6);}}else{this._objectCache.blacklist(guid);}};return _1946;});},"mendix/sys/Meta":function(){define(["mendix/lib/MxMetaObject","mendix/logger"],function(_19a8,_19a9){function Meta(){var name="mendix.sys.Meta",_19aa=null;this.toString=function(){return name;};this.startup=function(){_19aa={};dojo.forEach(window.mx.session.getConfig("metadata"),function(_19ab){var _19ac=new _19a8({json:_19ab});_19aa[_19ac.getEntity()]=_19ac;});};this.getMap=function(){return _19aa;};this.getEntity=function(_19ad){var meta=_19aa[_19ad];if(!meta){_19a9.error("No permission to read or write entity "+_19ad+", check security!");}return meta;};};return Meta;});},"mendix/sys/Remote":function(){define(["mendix/lang","mendix/ov","mendix/logger","dojo/_base/lang"],function(lang,ov,_19ae,_19af){function _19b0(){var name="mendix.sys.Remote",_19b1={system:new _19b0.SystemCall(),component:new _19b0.ComponentCall(),application:new _19b0.ApplicationCall()};var _19b2=function(json,_19b3){var _19b4=_19af.clone(json.instructions),_19b5=[];for(var i=0,item;item=_19b4[i];){if(/(open_form|close)/.test(item.type)){_19b5.push(item);_19b4.splice(i,1);}else{i++;}}if(_19b3){}else{_19b4=_19b5.concat(_19b4);}return _19b4;};this.toString=function(){return name;};this.hasInstructions=function(json){return !!(json&&json.instructions!=null&&json.instructions.length);};this.execute=function(json,store,_19b6,_19b7){if(this.hasInstructions(json)){var chain=[],list=_19b2(json,_19b6);if(list.length>10){}for(var i=0,_19b8;_19b8=list[i];i++){var _19b9=_19b8.target;if(_19b1[_19b9]){chain.push(_19b1[_19b9].buildInstruction(_19b8,store||{}));}else{}}lang.sequence(chain,_19b7);}else{_19b7&&_19b7();}};this.hasValidation=function(_19ba){return ov.hasValidations(_19ba);};this.getValidations=function(_19bb){return ov.getValidations(_19bb);};};_19b0.SystemCall=function(){var name="mendix.sys.Remote.SystemCall",_19bc={text_message:"actTextMessage",refresh_object_list:"actRefreshObjectList",refresh_class:"actRefreshClass",open_form:"actOpenForm",download_file:"actDownloadFile",show_login:"actShowLogin",logout:"logout"};var _19bd=function(_19be){var _19bf=new mendix.lib.MxContext();if(!_19be){return _19bf;}var _19c0="",items=_19be.items||[];for(var i=0,cntx;cntx=items[i];i++){var guid=cntx.guid,clazz=cntx.classname;if(clazz&&guid){_19bf.setContext(clazz,guid);if(guid==_19be.activeguid){_19c0=clazz;}}}if(_19c0){_19bf.setTrackEntity(_19c0);}return _19bf;};this.actTextMessage=function(_19c1,store,_19c2){var args=_19c1.args,_19c3=args.MessageContent,_19c4=args.MessageType,_19c5=String(args.MessageBlock)=="true";if(_19c3!=null&&_19c4!=null){(mx.ui[_19c4.toLowerCase()]||mx.ui.info)(_19c3,_19c5);}else{throw new Error(name+".actTextMessage: message content is null");}_19c2&&_19c2();};this.actRefreshObjectList=function(_19c6,store,_19c7){var _19c8=_19c6.args.mxobjects,chain=[];if(_19c8&&_19c8.length){var _19c9={},count=_19c8.length;while(count--){var obj=_19c8[count];if(typeof obj=="object"&&obj.objectType){var mxobj=mx.data.setOrRetrieveMxObject(obj);_19c9[mxobj.getEntity()]=true;chain.push((function(mxobj){return function(cb){mx.data.objectPing(mxobj,cb);};})(mxobj));}else{_19ae.error(name+"actRefreshObjectList: invalid json object");}}chain.push(function(cb){for(var klass in _19c9){mx.data.sendClassUpdate(klass);}cb();});lang.collect(chain,_19c7);}else{_19c7&&_19c7();}};this.actRefreshClass=function(_19ca,store,_19cb){var _19cc=_19ca.args.ObjectClass;if(_19cc!=null){mx.data.sendClassUpdate(_19cc);}else{}_19cb&&_19cb();};this.actOpenForm=function(_19cd,store,_19ce){var _19cf=_19bd(_19cd.context),args=_19cd.args,_19d0=args.FormTarget;if(args.FormGuid){_19cf.setContext(args.FormEntity,args.FormGuid);}else{_19cf.setTrackId(null);_19cf.setTrackEntity(null);}if(_19d0=="popup"||_19d0=="modal"){mx.ui.openFormInPopup(args.FormPath,{title:args.FormTitle,width:args.FormWidth,height:args.FormHeight,resizable:args.FormResizable,modal:_19d0=="modal"},_19cf,null,_19ce);}else{mx.ui.openFormInContent(args.FormPath,args.FormTitle,_19cf);_19ce&&_19ce();}};this.actDownloadFile=function(_19d1,store,_19d2){var mxobj=_19d1.args.FileDocument,_19d3=_19d1.args.Target;if(!mxobj){_19d2&&_19d2();return;}mx.ui.downloadFile({mxobject:mx.data.setOrRetrieveMxObject(mxobj),target:_19d3});_19d2&&_19d2();};this.actShowLogin=function(_19d4,store,_19d5){mx.ui.showLogin();_19d5&&_19d5();};this.logout=function(_19d6,store,_19d7){mx.logout();_19d7();};this.buildInstruction=function(_19d8,store){var _19d9=_19bc[_19d8.type];if(_19d9){return _19af.hitch(this,_19bc[_19d8.type],_19d8,store);}else{return function(_19da){_19da&&_19da();};}};};_19b0.ComponentCall=function(){var name="mendix.sys.Remote.ComponentCall";this.buildInstruction=function(_19db,store){var _19dc=store.caller;if(_19dc&&_19dc.hasInterface&&_19dc.hasInterface(_19db.type)){return function(_19dd){try{_19dc.invokeCall(_19db.type,_19db.args);}catch(e){_19ae.error(name+".buildInstruction: error occurred while executing instruction: "+e.message);}_19dd&&_19dd();};}else{return function(_19de){_19de&&_19de();};}};};_19b0.ApplicationCall=function(){var name="mendix.sys.Remote.ApplicationCall";this.buildInstruction=function(_19df,store){return function(_19e0){_19e0&&_19e0();};};};return _19b0;});},"mendix/sys/Server":function(){define(["mendix/lib/ServerError","mendix/lib/ConnectionError","mendix/lib/ValidationError","mendix/lib/DescribedServerError","mendix/lib/MxContext","mendix/lang","mendix/logger","webcore/url-helpers","dojo/sniff","dojo/_base/array","dojo/_base/json","dojo/_base/lang","dojo"],function(_19e1,_19e2,_19e3,_19e4,_19e5,lang,_19e6,_19e7,_19e8,_19e9,_19ea,_19eb,dojo){function _19ec(_19ed){var self=this,name="mendix.sys.Server",_19ee=0,_19ef=[],_19f0=[],_19f1={},_19f2={},_19f3={},_19f4={},_19f5="",_19f6=_19ed&&_19ed.timeout||0,_19f7=true,seqno=0;var _19f8=function(){return Number(+new Date()+""+(_19ee++%10));};var _19f9=function(_19fa){var _19fb=_19fa.asyncid;if(_19f3[_19fb]){_19e6.error(name+".executeBackgroundJob: job "+_19fb+" already exists, aborting");_19fa.callback&&_19fa.callback();return;}if(!_19fa.callback){}var ival=500,imin=500,imax=8000,job=_19f3[_19fb]={callback:_19fa.callback,error:_19fa.error},_19fc=function(){window.mx.server.request({request:{action:"poll_background_job",params:{asyncid:_19fb}},options:{store:_19fa.store,callback:function(_19fd,_19fe,_19ff){if(_19fe.response&&_19fe.response.finished){delete _19f3[_19fb];job.callback&&job.callback(_19fd,_19fe,_19ff);}else{setTimeout(_19fc,(ival<imax)?Math.min(ival+=imin,imax):imax);}},error:function(e){_19e6.error(name+".executeBackgroundJob: "+e.message);_1a00(job.error,e);delete _19f3[_19fb];}}});};job.timer=setTimeout(_19fc,ival);};var _1a01=function(state){if(!state){self.connectionDown(_19f7);_19f7=false;}else{if(_19f7===false){_19f7=true;self.connectionUp();}}};var _1a02=function(req,_1a03,_1a04){var stat,err,_1a05,_1a06;try{stat=_1a04.xhr.status;if(stat==12029){stat=0;}}catch(e){stat=0;}_1a05=_1a04.xhr.responseText;switch(stat){case 401:case 500:case 550:case 551:case 560:try{if(_1a05!==""){_1a06=_19ea.fromJson(_1a05);}else{_1a06=null;}}catch(e){if(req.error){req.error(new _19e1(name+".handleQueued: JSON is incorrect",e));}}_19e6.error(name+": loadHandler: server error: "+_19ea.toJson(_1a04.xhr.responseText));}switch(stat){case 0:case 502:_1a01(false);if(req.error){req.error(new _19e2(name+".handleQueued: "+(_1a05||"connection error"),_1a03));}return;default:_1a01(true);}switch(stat){case 200:if(window.mx.remote.hasInstructions(_1a03)){window.mx.remote.execute(_1a03,req.store,null,function(){if(req.callback){req.callback(_1a03,_1a04);}});}else{if(req.callback){req.callback(_1a03,_1a04);}}break;case 400:case 401:case 402:case 403:case 460:self.onUnauthorized(stat);break;case 500:case 550:if(req.error){req.error(new _19e1(name+".handleQueued: "+_1a06.description,_1a03));}break;case 504:if(req.error){req.error(new _19e1(name+".handleQueued: gateway timeout",_1a03));}break;case 551:window.mx.remote.execute(_1a06,req.store,true,function(){if(window.mx.remote.hasValidation(_1a06)){var _1a07=window.mx.remote.getValidations(_1a06);window.mx.data.sendValidationUpdates(_1a07);req.onValidation&&req.onValidation(_1a07);}});delete _1a06.instructions;if(window.mx.remote.hasValidation(_1a06)){if(req.error){req.error(new _19e3(name+".handleQueued: validation error",_1a06));}}else{if(req.error){req.error(new _19e1(name+".handleQueued: "+_1a06.description,_1a03));}}break;case 560:if(window.mx.remote.hasInstructions(_1a06)){window.mx.remote.execute(_1a06,req.store);delete _1a06.instructions;}if(req.error){req.error(new _19e4(_1a06.description,_1a03));}break;default:if(req.error){req.error(new _19e1(name+".handleQueued: "+_1a06.description,_1a03));}}};var _1a08=function(){var ms=function(n){return "MSXML"+n+".DOMDocument";},res=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)],dom=null;_19e9.some(res,function(name){try{dom=new ActiveXObject(name);}catch(e){return false;}_1a08=function(){return new ActiveXObject(name);};return true;});return dom;};function _1a09(_1a0a,_1a0b){var _1a0c=_1a0a.retryOnDisconnect?2:1;function _1a0d(){var _1a0e=dojo.xhr("POST",_19eb.mixin({},_1a0a.options,{postData:JSON.stringify(_1a0a.data),timeout:_19f6,handle:function(_1a0f,_1a10){var _1a11=_1a10.xhr.status===0||_1a10.xhr.status===12029;if(_1a11&&--_1a0c>0){_1a0d();return;}if(_1a0b){_1a0b(_1a0f,_1a10);}}}),true);var xhr=_1a0e.ioArgs.xhr;if(!_19e8("ie")){var _1a12=xhr.onerror;xhr.onerror=function(e){_1a0e.cancel();_1a12&&_1a12();};}};_1a0d();};var _1a13=function(_1a14){var data=_1a14.data,hash=_19ea.toJson(data),cbq;_1a14.seqno=seqno++;if(_1a14.unique){cbq=[_1a14];}else{if(_19f1[hash]){cbq=_19f1[hash];cbq.push(_1a14);return;}else{_19f1[hash]=cbq=[_1a14];}}for(var guid in _19f4){data.releaseids=lang.objectToArray(_19f4);_19f4={};break;}_1a09(_1a14,function(_1a15,_1a16){_1a15=_1a15||{};if(_19f1[hash]){delete _19f1[hash];}while(cbq.length>0){try{_1a02(cbq.shift(),_1a15,_1a16);}catch(e){_19e6.error("An error occurred while handling queued requests:",e.message);}}});};var _1a17=function(_1a18){var _1a19=[];for(var i=0,_1a1a;_1a1a=_19ef[i];i++){_1a19.unshift(_1a1a);}lang.sequence(_1a19,_1a18);};var _1a1b=function(_1a1c){if(_1a1c.async){delete _1a1c.async;var _1a1d=_19eb.getObject("data.params",true,_1a1c),_1a1e=_1a1d.asyncid=_19f8();_1a1c.callback=_19eb.hitch(this,_19f9,{asyncid:_1a1e,callback:_1a1c.callback,error:_1a1c.error,store:_1a1c.store});}var _1a1f=_1a1c.data,_1a20=_1a1f.context;if(_1a20){if(_1a20 instanceof _19e5){_1a1f.context=_1a20.getGuidS();}else{if(!isNaN(parseFloat(_1a20))){_1a1f.context=[parseFloat(_1a20)];}}}else{_1a1f.context=[];}if(_1a1c.standalone){_1a13(_1a1c);}else{_1a17(_19eb.hitch(null,_1a13,_1a1c));}};var _1a00=function(error,e,_1a21){if(error){error(e);}else{if(!_1a21){window.mx.onError(e);}}};this.toString=function(){return name;};this.setCacheBust=function(bust){_19f5=bust;};this.getCacheBust=function(){return _19f5;};this.flushLog=function(){var log=_19f2;_19f2={};return log;};this.connectionUp=function(){};this.connectionDown=function(_1a22,error){};this.isConnectionUp=function(){return _19f7;};this.onUnauthorized=function(code){};this.registerCaller=function(_1a23){if(_1a23&&typeof _1a23=="function"){_19ef.push(_1a23);var id=lang.getUniqueId();_19f0.push([id,_1a23]);return id;}return null;};this.request=function(_1a24){var _1a25="",_1a26=_1a24.options;if(_1a24.request&&_1a24.request.action){_1a25=_1a24.request.action;}var _1a27=_1a28();var start=+new Date();var log=self.flushLog();_1a1b({options:{url:_19e8("ie")?window.mx.baseUrl:window.mx.baseUrl+"#"+_1a25,headers:{"Content-Type":"application/json","X-Mx-ReqToken":_1a27,"X-Csrf-Token":window.mx.session.getCSRFToken()},handleAs:"json",sync:_1a26.sync,failOk:_1a26.failOk},data:_19eb.mixin({},_1a24.request,Object.keys(log).length>0?{profiledata:log}:{}),unique:_1a26.unique,store:_1a26.store,async:_1a26.async,standalone:_1a26.standalone,retryOnDisconnect:!!_19e8("trident"),onValidation:_1a26.onValidation,callback:function(_1a29,_1a2a){_19f2[_1a27]=+new Date()-start;if(_1a26.callback){_1a26.callback("load",_1a29,_1a2a);}},error:function(e){_19f2[_1a27]=+new Date()-start;_1a00(_1a26.error,e,_1a26.failOk||e instanceof _19e3);}});function _1a28(){return Number((+new Date())+""+~~(Math.random()*100000)).toString(16);};};this.release=function(guid){_19f4[guid]=true;};this.xhr=function(_1a2b,args,_1a2c){var url=_19e7.getAbsoluteUrl(args.url),_1a2d=args.failOk,_1a2e=args.handleAs,load=args.load,error=args.error;dojo.xhr(_1a2b,_19eb.mixin(args,{url:url,failOk:true,timeout:_19f6,headers:{"X-Csrf-Token":window.mx.session.getCSRFToken()},error:function(e){var _1a2f;if(e.status===0){_1a2f=new _19e2(name+".xhr: "+"connection error",e);}else{_1a2f=new _19e1(name+".xhr: "+e.message,e);}_1a00(error,_1a2f,_1a2d);},load:function(_1a30,_1a31){if(_1a2e=="xml"&&_1a30==null){var text=_1a31.xhr.responseText;if(_19e8("dom-parser")){var _1a32=new DOMParser();_1a30=_1a32.parseFromString(text,"text/xml");if(!_1a30.documentElement||_1a30.querySelector("parsererror")){_1a00(error,new _19e1(name+".xhr: invalid XML received"));return;}}else{_1a30=_1a08();_1a30.async=false;if(!_1a30.loadXML(text)){_1a00(error,new _19e1(name+".xhr: invalid XML received"));return;}}}load&&load(_1a30);}}),_1a2c);};this.get=function(args){args.url+="?"+_19f5;this.xhr("GET",args);};this.post=function(args){this.xhr("POST",args,true);};};return _19ec;});},"mendix/sys/Session":function(){define(["mendix/lang","mendix/logger","dojo/_base/array","dojo/_base/json","dojo/_base/lang","dojo/_base/window","dojo/io-query","dojo/_base/config","dojo"],function(lang,_1a33,_1a34,_1a35,_1a36,_1a37,_1a38,_1a39,dojo){function _1a3a(){var self=this,name="mendix.sys.Session",_1a3b=null,_1a3c=[],_1a3d=null,_1a3e=0,_1a3f=false,_1a40={},_1a41=null;var _1a42=function(){window.mx.server.request({request:{action:"keepalive",params:{preventCache:+new Date()}},options:{failOk:true,standalone:true}});};var _1a43=function(){_1a3d=window.mx.data.jsonToMxObject(_1a3b.user);_1a3c=_1a34.map(_1a3b.roles,function(role){return window.mx.data.jsonToMxObject(role);});};this.toString=function(){return name;};this.startup=function(){if(_1a3e){setInterval(_1a42,_1a3e);}_1a43();};this.getConfig=function(path){if(!path){return _1a3b;}else{return _1a36.getObject(path,false,_1a3b);}};this.inDevMode=function(){return _1a3f;};this.toggleDevMode=function(){_1a3f=!_1a3f;};this.isGuest=function(){if(!_1a3d||!_1a3d.has("IsAnonymous")){return true;}else{return _1a3d.get2("IsAnonymous");}};this.getUserId=function(){return _1a3d&&_1a3d.getGuid();};this.getUserClass=function(){return _1a3d&&_1a3d.getEntity();};this.getUserName=function(){return _1a3d&&_1a3d.get2("Name");};this.getUserAttribute=function(attr){if(_1a3d&&_1a3d.has(attr)){return _1a3d.get2(attr);}return null;};this.getUserRoles=function(attr){if(attr==null){return _1a3c;}else{return lang.map(_1a3c,function(o){return o.get2(attr);});}};this.getCSRFToken=function(){return this.getConfig("csrftoken");};this.getLicenseInfo=function(){return _1a40;};this.login=function(args){dojo.xhrPost({url:window.mx.baseUrl,handleAs:"json",contentType:"application/json",postData:_1a35.toJson({action:"login",params:{username:args.username,password:args.password}}),load:function(){args.success();},error:function(e){args.error(e.response.status);}});};this.logout=function(_1a44){window.mx.server.request({request:{action:"logout",params:{log:window.mx.server.flushLog()}},options:{sync:true,callback:_1a44}});};this.authorized=function(_1a45){var _1a46=_1a37.doc.location.search,query=_1a38.queryToObject(_1a46.substr((_1a46[0]==="?"?1:0)));var _1a47={profile:query.profile||"",timezoneoffset:new Date().getTimezoneOffset()};if(typeof navigator!="undefined"&&navigator.standalone){_1a47.longLiveTheCookie=true;}dojo.xhrPost({url:window.mx.baseUrl,handleAs:"json",contentType:"application/json",postData:_1a35.toJson({action:"get_session_data",params:_1a36.mixin({},_1a47,_1a45&&_1a45.params)}),load:_1a48(true),timeout:_1a39.timeout||0,error:function(e,_1a49){if(_1a49.xhr.status==401){_1a3b=_1a35.fromJson(_1a49.xhr.responseText);}else{if(window.localStorage.session){var _1a4a=_1a48(false);_1a4a(JSON.parse(window.localStorage.session));return;}}if(_1a45.no){_1a45.no({http_code:_1a49.xhr.status});}}});function _1a48(_1a4b){return function onLoad(data){_1a3b=data;if(_1a4b){window.localStorage.session=JSON.stringify(_1a3b);}var _1a4c=self.getConfig("uiconfig.direction")=="rtl"?_1a39.rtlRedirect:_1a39.ltrRedirect;if(_1a4c){window.mx.redirect(_1a4c);return;}if(_1a41&&_1a41!=_1a3b.cachebust){window.mx.reload();return;}window.mx.server.setCacheBust(_1a3b.cachebust);_1a41=_1a3b.cachebust;_1a3e=_1a3b.keepalive;if(_1a45.yes){try{_1a45.yes(_1a4b);}catch(e){throw e;}}};};};this.hasSomeRole=function(roles){if(roles===null){return true;}else{if(!roles){return false;}else{if(!(roles instanceof Array)){roles=roles.split(",");}}}var _1a4d=this.getUserRoles("Name");for(var i=0;i<roles.length;i++){var role=roles[i];for(var j=0;j<_1a4d.length;j++){var _1a4e=_1a4d[j];if(role==_1a4e){return true;}}}return false;};};return _1a3a;});},"webcore/sql/Store":function(){define(["bluebird/bluebird","big/big","./transaction-creators","./runners","../Store","../TaskReader","../task-helpers"],function(_1a4f,Big,_1a50,_1a51,Store,_1a52,_1a53){function _1a54(){return window.openDatabase("MendixDatabase","1","Mendix Database",10*1024*1024);};function _1a55(_1a56,_1a57){Store.call(this);_1a57=_1a57||_1a54;this._tableNames=Object.keys(_1a56);this._db=_1a57();this._initialize()(this._db);};_1a55.prototype=Object.create(Store.prototype);_1a55.prototype._getDatabase=function(){return this._databasePromise;};_1a55.prototype._initialize=function(){return function(db){var _1a58=_1a50.createCreateTransaction(this._tableNames);this._databasePromise=_1a53.promiseFromTask(_1a51.runWriteTransaction(db,_1a58)).then(function(){return db;});return this._databasePromise;}.bind(this);};_1a55.prototype._deleteDatabase=function(){return function(db){var _1a59=_1a50.createDropAllTablesTransaction(this._tableNames);this._databasePromise=_1a53.promiseFromTask(_1a51.runWriteTransaction(db,_1a59)).then(function(){return db;});return this._databasePromise;}.bind(this);};_1a55.prototype._fetch=function(guid){return function(db){var _1a5a=_1a50.createFetchByGuidTransaction(guid);return _1a53.promiseFromTask(_1a51.runReadTransaction(db,_1a5a));};};_1a55.prototype._fetchSlice=function(_1a5b,_1a5c,_1a5d){return function(db){var _1a5e=_1a50.createFetchSliceTransaction(_1a5b,_1a5c,_1a5d.offset,_1a5d.limit,_1a5d.sort);return _1a53.promiseFromTask(_1a51.runReadTransaction(db,_1a5e));};};_1a55.prototype._fillBulk=function(_1a5f,objs){return _1a52.ask().chain(function(db){var _1a60=_1a50.createFillBulkTransaction(_1a5f,objs);return new _1a52(function(_1a61){return _1a51.runWriteTransaction(db,_1a60);});});};_1a55.prototype._insertOrReplace=function(_1a62,obj){return function(db){var _1a63=_1a50.createInsertOrReplaceTransaction(_1a62,obj);return _1a53.promiseFromTask(_1a51.runWriteTransaction(db,_1a63));};};_1a55.prototype._upload=function(_1a64){return _1a52.ask().chain(function(db){var _1a65=_1a50.createUploadTransaction(_1a64);return new _1a52(function(_1a66){return _1a51.runWriteTransaction(db,_1a65);});});};_1a55.prototype._cleanupDirtyObjects=function(){return function(db){var _1a67=_1a50.createDirtyCleanupTransaction();return _1a53.promiseFromTask(_1a51.runWriteTransaction(db,_1a67));};};return _1a55;});},"webcore/sql/transaction-creators":function(){define(["./constants","./SelectBuilder","./Column","./InsertBuilder","../applicative","../monad","../TaskReader","../Task","big/big"],function(_1a68,_1a69,_1a6a,_1a6b,_1a6c,monad,_1a6d,Task,Big){var _1a6e=_1a6d;var _1a6f={"String":"text","Integer":"text","Long":"text","Decimal":"text","Float":"text","Currency":"text","Enum":"text","HashString":"text","ObjectReference":"text","DateTime":"integer","Boolean":"integer","AutoNumber":"integer","Binary":"blob"};var _1a70={"String":false,"Integer":false,"Long":false,"Decimal":false,"Float":false,"Currency":false,"Enum":false,"HashString":false,"ObjectReference":false,"DateTime":true,"Boolean":true,"AutoNumber":true,"Binary":false};var _1a71={"String":String,"Integer":_1a72,"Long":_1a72,"Decimal":_1a72,"Float":_1a72,"Currency":_1a72,"Enum":String,"HashString":String,"ObjectReference":String,"DateTime":_1a73,"Boolean":Number,"AutoNumber":String,"Binary":String};var _1a74={"String":String,"Integer":String,"Long":String,"Decimal":String,"Float":String,"Currency":String,"Enum":String,"HashString":String,"ObjectReference":String,"DateTime":_1a75,"Boolean":Boolean,"AutoNumber":String,"Binary":String};var _1a76={"String":_1a75,"Integer":_1a75,"Long":_1a75,"Decimal":_1a75,"Float":_1a75,"Currency":_1a75,"Enum":_1a75,"HashString":_1a75,"ObjectReference":_1a75,"DateTime":Number,"Boolean":_1a77,"AutoNumber":_1a75,"Binary":_1a75};var _1a78={"String":"UPPER","Enum":"UPPER"};var _1a79={createCreateTransaction:function(_1a7a){var _1a7b=["CREATE TABLE IF NOT EXISTS _guidToTable (guid text primary key, tableName text, dirty boolean)"].concat(_1a7a.map(_1a7c)).map(function(_1a7d){return _1a89(_1a7d,[]);});return _1a6c.sequence(_1a7b,_1a6e);function _1a7c(_1a7e){var _1a7f=[{attr:"guid",type:"text",isPrimaryKey:true}].concat(_1a80(_1a7e)).map(function(_1a81){return [_1a86(_1a81.attr),_1a81.type,_1a81.isPrimaryKey?"PRIMARY KEY":""].join(" ");}).join(", ");return "CREATE TABLE IF NOT EXISTS "+_1a86(_1a7e)+" ("+_1a7f+")";};function _1a80(_1a82){var meta=mx.meta.getEntity(_1a82);return meta.getAttributes().map(function(attr){var _1a83=meta.getAttributeType(attr);return {attr:attr,type:_1a6f[_1a83]};});};},createDropAllTablesTransaction:function(_1a84){var _1a85=["_guidToTable"].concat(_1a84).map(_1a86).map(function(_1a87){return "DROP TABLE IF EXISTS '"+_1a87+"'";}).map(function(_1a88){return _1a89(_1a88,[]);});return _1a6c.sequence(_1a85,_1a6e);},createFetchByGuidTransaction:function(guid){var _1a8a=_1a69().from("_guidToTable").where("guid","equals").select("*");return _1a89(_1a8a,[guid]).chain(function(res){if(res.rows.length===0){return _1a6e.rejected(new Error("guid not found"));}if(res.rows.length!==1){return _1a6e.rejected(new Error("db consistency error"));}return _1a6e.of(res.rows.item(0));}).chain(function(row){var _1a8b=row.tableName;var _1a8c=!row.dirty;var _1a8d=_1a69().from(_1a86(_1a8b)).where("guid","equals").select("*");return _1a89(_1a8d,[guid]).map(function(res){if(res.rows.length===0){return Task.rejected(new Error("entity not found"));}if(res.rows.length!==1){return Task.rejected(new Error("db consistency error"));}return _1a8e(window.mx.meta.getEntity(_1a8b),_1a8c,res.rows.item(0));});});},createFetchSliceTransaction:function(_1a8f,_1a90,_1a91,limit,sort){_1a90=_1a90||[];sort=sort||[];var meta=mx.meta.getEntity(_1a8f);var _1a92=_1a93(meta,_1a90);var _1a94=_1a92.builder.from(_1a86(_1a8f));var _1a95=_1a92.args;var _1a96=sort.reduce(function(acc,_1a97){var _1a98=meta.getAttributeType(_1a97[0]);var _1a99=_1a6a(_1a97[0]);var _1a9a=_1a78[_1a98];if(_1a9a){_1a99=_1a99.apply1(_1a9a);}return acc.order(_1a99,_1a97[1]);},_1a94.offset(_1a91).limit(limit));var _1a9b=_1a89(_1a96.select("*"),_1a95).map(function(res){var objs=[];for(var i=0;i<res.rows.length;++i){var _1a9c=!/^GUID:/.test(res.rows.item(i).guid);objs.push(_1a8e(meta,_1a9c,res.rows.item(i)));}return objs;});var _1a9d=_1a89(_1a94.select("COUNT(*)","cnt"),_1a95).map(function(res){return res.rows.item(0).cnt;});return _1a6c.lift2(function(x,y){return [x,y];},_1a9b,_1a9d);},createInsertOrReplaceTransaction:function(_1a9e,obj){var _1a9f=_1aa0();var _1aa1=_1aa2(_1a9e,obj);return _1a6c.sequence([_1a89(_1a9f.insertOrReplace(),[obj.guid,_1a9e,1]),_1a89(_1aa1.builder.insertOrReplace(),_1aa1.values)],_1a6e);},createFillBulkTransaction:function(_1aa3,objs){var _1aa4=objs.reduce(function(acc,obj){var _1aa5=_1aa0();var _1aa6=_1aa2(_1aa3,obj);return acc.concat([_1a89(_1aa5.insert(),[obj.guid,_1aa3,0]),_1a89(_1aa6.builder.insert(),_1aa6.values)]);},[]);return _1a6c.sequence(_1aa4,_1a6e);},createUploadTransaction:function(_1aa7){var _1aa8=_1a69().from("_guidToTable").where("dirty","equals");var sql=_1aa8.select("*");return _1a89(sql,[1]).chain(function(res){var _1aa9=_1ac6(res.rows).map(function(row){return _1a79.createFetchByGuidTransaction(row.guid);});return _1a6c.sequence(_1aa9,_1a6e);});},createDirtyCleanupTransaction:function(){return _1a89("SELECT DISTINCT tableName FROM _guidToTable WHERE dirty = 1").chain(function(res){var _1aaa=_1ac6(res.rows).map(function(row){var _1aab=row.tableName;return _1a89("DELETE FROM "+_1a86(_1aab)+" WHERE guid IN ("+"SELECT guid FROM _guidToTable WHERE tableName = ? AND dirty = 1)",[_1aab]);});return monad.sequence([_1a6c.sequence(_1aaa,_1a6e),_1a89("DELETE FROM _guidToTable WHERE dirty = 1")],_1a6e);});}};return _1a79;function _1aac(meta,_1aad){if(_1aad==="guid"){return "String";}else{return meta.getAttributeType(_1aad);}};function _1aa0(){return _1a6b().into("_guidToTable").column("guid").column("tableName").column("dirty");};function _1a93(meta,_1aae){return _1aae.reduce(function(acc,_1aaf){var _1ab0=meta.getAttributeType(_1aaf.attribute);var _1ab1=_1a70[_1ab0];var empty=_1aaf.value===""||_1aaf.value==null;var _1ab2=_1a76[_1ab0];var _1ab3=_1a71[_1ab0];if(_1ab1==null||!_1ab3){return acc;}var _1ab4=_1ab3(_1ab2(_1aaf.value));if(empty&&_1ab1&&_1aaf.operator==="equals"){var _1ab5=_1aaf.negate?acc.builder.whereNotNull:acc.builder.whereNull;return {constraintString:_1ab5.call(acc.builder,_1a86(_1aaf.attribute)),args:acc.args};}else{if(empty&&_1ab1&&_1aaf.operator==="contains"){return acc;}else{var _1ab6=_1aaf.negate?acc.builder.whereNot:acc.builder.where;var _1ab7=_1aaf.operator==="contains"?_1ab8(_1ab4):_1ab4;return {builder:_1ab6.call(acc.builder,_1a86(_1aaf.attribute),_1aaf.operator),args:acc.args.concat([_1ab7])};}}},{builder:_1a69(),args:[]});};function _1aa2(_1ab9,obj){var meta=mx.meta.getEntity(_1ab9);var _1aba=meta.getAttributes();var _1abb=_1aba.reduce(function(acc,_1abc){var _1abd=meta.getAttributeType(_1abc);var _1abe=_1a71[_1abd];if(!_1abe){return acc;}var value=_1abe(obj[_1abc]);return {attrs:acc.attrs.concat([_1abc]),values:acc.values.concat([value])};},{attrs:["guid"],values:[obj.guid]});var _1abf=_1abb.attrs.reduce(function(_1ac0,attr){return _1ac0.column(_1a86(attr));},_1a6b().into(_1a86(_1ab9)));return {builder:_1abf,values:_1abb.values};};function _1a72(x){if(x===""){return "";}var _1ac1=20;var _1ac2=new Big(x);var _1ac3=_1ac1-Math.max(0,_1ac2.e)-1;var sign=_1ac2.s<0?"-":"";var _1ac4=new Array(_1ac3+1).join("0");var _1ac5=_1ac2.abs().toFixed();return sign+_1ac4+_1ac5;};function _1a73(x){if(x==null){return null;}else{return Number(x);}};function _1a77(s){return s!=="false";};function _1a75(x){return x;};function _1ac6(rows){var arr=[];for(var i=0;i<rows.length;++i){arr.push(rows.item(i));}return arr;};function _1ab8(s){var _1ac7=_1a68.LIKE_ESCAPE_CHAR;return s.replace(new RegExp(_1ac7,"g"),_1ac7+_1ac7).replace(/%/g,_1ac7+"%").replace(/_/g,_1ac7+"_");};function _1a86(key){return key.replace(".","$");};function _1ac8(_1ac9){return _1ac9.replace("$",".");};function _1a8e(meta,_1aca,row){var _1acb={guid:row.guid,$objectType:meta.getEntity(),$readonlyAttrs:[]};for(var _1acc in row){var attr=_1ac8(_1acc);if(attr==="guid"){continue;}var _1acd=meta.getAttributeType(attr);var _1ace=_1a74[_1acd];if(!_1ace){continue;}_1acb[attr]=_1ace(row[_1acc]);if(_1aca){_1acb.$readonlyAttrs.push(attr);}}return _1acb;};function _1a89(sql,args){args=args||[];return new _1a6e(function(tx){return new Task(function(_1acf,_1ad0){tx.executeSql(sql,args,function(tx,res){_1ad0(res);},function(tx,e){_1acf(e);});});});};});},"webcore/sql/constants":function(){define([],{LIKE_ESCAPE_CHAR:"~"});},"webcore/sql/SelectBuilder":function(){define(["./constants"],function(_1ad1){var _1ad2={"equals":_1ad3("="),"lessThan":_1ad3("<"),"lessThanOrEquals":_1ad3("<="),"greaterThan":_1ad3(">"),"greaterThanOrEquals":_1ad3(">="),"contains":_1ad4};function _1ad5(other,_1ad6){if(!(this instanceof _1ad5)){return new _1ad5();}this._select=_1ad6&&_1ad6.select||other&&other._select||null;this._from=_1ad6&&_1ad6.from||other&&other._from||{};this._constraints=_1ad6&&_1ad6.constraints||other&&other._constraints||[];this._orderBy=_1ad6&&_1ad6.orderBy||other&&other._orderBy||[];this._limit=_1ad6&&_1ad6.limit||other&&other._limit||null;this._offset=_1ad6&&_1ad6.offset||other&&other._offset||null;};_1ad5.prototype.from=function(_1ad7,alias){return new _1ad5(this,{from:{name:_1ad7,alias:alias}});};_1ad5.prototype.where=function(_1ad8,_1ad9){return this._where(_1ad8,false,_1ad9);};_1ad5.prototype.whereNot=function(_1ada,_1adb){return this._where(_1ada,true,_1adb);};_1ad5.prototype.whereNull=function(_1adc,_1add){return this._whereNull(_1adc,false,_1add);};_1ad5.prototype.whereNotNull=function(_1ade,_1adf){return this._whereNull(_1ade,true,_1adf);};_1ad5.prototype.order=function(_1ae0,_1ae1){return new _1ad5(this,{orderBy:this._orderBy.concat([[_1ae0,_1ae1]])});};_1ad5.prototype.limit=function(n){return new _1ad5(this,{limit:n});};_1ad5.prototype.offset=function(n){return new _1ad5(this,{offset:n});};_1ad5.prototype.select=function(what,alias){var sql="SELECT "+what;if(alias){sql+=" AS "+alias;}sql+=this._buildSql();return sql;};_1ad5.prototype._where=function(_1ae2,_1ae3,_1ae4){return new _1ad5(this,{constraints:this._constraints.concat([new _1ae5(_1ae2,_1ae4,_1ae3)])});};_1ad5.prototype._whereNull=function(_1ae6,_1ae7){return new _1ad5(this,{constraints:this._constraints.concat([new _1ae8(_1ae6,_1ae7)])});};_1ad5.prototype._buildSql=function(){var sql="";sql+=" FROM "+this._from.name;if(this._from.alias){sql+=" AS "+this._from.alias;}if(this._constraints.length>0){sql+=" WHERE "+this._constraints.map(function(_1ae9){return _1ae9.toString();}).join(" AND ");}if(this._orderBy.length>0){sql+=" ORDER BY "+this._orderBy.map(function(_1aea){return _1aea[0]+" "+_1aea[1];}).join(", ");}if(this._limit){sql+=" LIMIT "+this._limit;}if(this._offset){sql+=" OFFSET "+this._offset;}return sql;};function _1ae8(_1aeb,_1aec){this._column=_1aeb;this._negate=!!_1aec;};_1ae8.prototype.toString=function(){return this._column+" IS "+(this._negate?"NOT ":"")+"NULL";};function _1ae5(_1aed,_1aee,_1aef){this._column=_1aed;this._operator=_1aee;this._negate=!!_1aef;};_1ae5.prototype.toString=function(){var _1af0=_1ad2[this._operator];return (this._negate?"NOT ":"")+_1af0(this._column);};return _1ad5;function _1ad3(_1af1){return function(_1af2){return _1af2+" "+_1af1+" ?";};};function _1ad4(_1af3){var _1af4="";_1af4+=_1af3;_1af4+=" LIKE '%' || ? || '%'";_1af4+=" ESCAPE '"+_1ad1.LIKE_ESCAPE_CHAR+"'";return _1af4;};});},"webcore/sql/Column":function(){define([],function(){function _1af5(_1af6){if(!(this instanceof _1af5)){return new _1af5(_1af6);}if(_1af6 instanceof _1af5){this._column=_1af6._column;}else{this._column=_1af6;}};_1af5.prototype.apply1=function(_1af7){return new _1af5(_1af7+"("+this._column+")");};_1af5.prototype.toString=function(){return this._column;};return _1af5;});},"webcore/sql/InsertBuilder":function(){define([],function(){function _1af8(other,_1af9){if(!(this instanceof _1af8)){return new _1af8();}this._tableName=_1af9&&_1af9.tableName||other&&other._tableName||null;this._columnNames=_1af9&&_1af9.columnNames||other&&other._columnNames||[];};_1af8.prototype.into=function(_1afa){return new _1af8(this,{tableName:_1afa});};_1af8.prototype.column=function(_1afb){return new _1af8(this,{columnNames:this._columnNames.concat(_1afb)});};_1af8.prototype.insert=function(){var _1afc="";_1afc+="INSERT INTO "+this._tableName;_1afc+=this._buildSql();return _1afc;};_1af8.prototype.insertOrReplace=function(){var _1afd="";_1afd+="INSERT OR REPLACE INTO "+this._tableName;_1afd+=this._buildSql();return _1afd;};_1af8.prototype._buildSql=function(){var _1afe="";if(this._columnNames.length>0){_1afe+=" ("+this._columnNames.join(", ")+")";}_1afe+=" VALUES (";_1afe+="?"+new Array(this._columnNames.length).join(", ?");_1afe+=")";return _1afe;};return _1af8;});},"webcore/TaskReader":function(){define(["./ReaderT","./Task"],function(_1aff,Task){var _1b00=_1aff(Task);_1b00.rejected=function(e){return new _1b00(function(_1b01){return Task.rejected(e);});};return _1b00;});},"webcore/ReaderT":function(){define([],function(){function _1b02(M){function _1b03(f){this.run=f;};_1b03.prototype.chain=function(f){return new _1b03(function(r){return this.run(r).chain(function(a){return f(a).run(r);});}.bind(this));};_1b03.prototype.ap=function(ma){return new _1b03(function(r){return this.run(r).ap(ma.run(r));}.bind(this));};_1b03.prototype.map=function(f){return this.chain(function(x){return _1b03.of(f(x));});};_1b03.of=function(x){return new _1b03(function(_1b04){return M.of(x);});};_1b03.ask=function(){return new _1b03(M.of);};return _1b03;};return _1b02;});},"webcore/sql/runners":function(){define(["../Task"],function(Task){return {runReadTransaction:_1b05("readTransaction"),runWriteTransaction:_1b05("transaction")};function _1b05(name){return function(db,_1b06){return new Task(function(_1b07,_1b08){var _1b09=2;var _1b0a;db[name](function(tx){_1b06.run(tx).fork(_1b07,function(r){_1b0a=r;if(--_1b09===0){_1b08(_1b0a);}});},_1b07,function(){if(--_1b09===0){_1b08(_1b0a);}});});};};});},"webcore/Store":function(){define(["mendix/lib/MxObject","bluebird/bluebird","./applicative","./file-transfer","./Task","./task-helpers","./TaskReader"],function(_1b0b,_1b0c,_1b0d,_1b0e,Task,_1b0f,_1b10){function Store(){};Store.prototype.getSlice=function(_1b11,_1b12,_1b13){return _1b14(this._getDatabase().then(this._fetchSlice(_1b11,_1b12,_1b13)));};Store.prototype.getByGuid=function(guid){return _1b14(this._getDatabase().then(this._fetch(guid)));};Store.prototype.insertOrReplace=function(_1b15,obj){return _1b14(this._getDatabase().then(this._insertOrReplace(_1b15,obj)));};Store.prototype.resetDatabase=function(){return _1b0f.taskFromPromise(this._getDatabase().then(this._deleteDatabase()).then(this._initialize()));};Store.prototype.fillBulk=function(_1b16,objs){var self=this;return _1b0f.taskFromPromise(this._getDatabase().then(function(db){return _1b0f.promiseFromTask(self._fillBulk(_1b16,objs).run(db));}));};Store.prototype.upload=function(_1b17){var self=this;var p=this._getDatabase().then(function(db){var _1b18=self._upload(_1b17).run(db);return _1b0f.promiseFromTask(_1b18);});return _1b0f.taskFromPromise(p);};Store.prototype.cleanupDirtyObjects=function(){return _1b14(this._getDatabase().then(this._cleanupDirtyObjects()));};Store.prototype._getDatabase=function(){return _1b0c.reject(new Error("not implemented"));};Store.prototype._initialize=function(){return _1b0c.reject(new Error("not implemented"));};Store.prototype._deleteDatabase=function(){return _1b0c.reject(new Error("not implemented"));};Store.prototype._fetch=function(guid){return function(db){return _1b0c.reject(new Error("not implemented"));};};Store.prototype._fetchSlice=function(_1b19,_1b1a,_1b1b){return function(db){return _1b0c.reject(new Error("not implemented"));};};Store.prototype._insertOrReplace=function(_1b1c,obj){return function(db){return _1b0c.reject(new Error("not implemented"));};};Store.prototype._fillBulk=function(_1b1d,objs){return _1b10.rejected(new Error("not implemented"));};Store.prototype._upload=function(_1b1e){return _1b10.rejected(new Error("not implemented"));};Store.prototype._cleanupDirtyObjects=function(){return _1b0c.reject(new Error("not implemented"));};return Store;function _1b14(_1b1f){return new _1b0c(function(_1b20,_1b21){return _1b1f.then(_1b20,_1b21);});};});},"dojo/hash":function(){define(["./_base/kernel","require","./_base/config","./aspect","./_base/lang","./topic","./domReady","./sniff"],function(dojo,_1b22,_1b23,_1b24,lang,topic,_1b25,has){dojo.hash=function(hash,_1b26){if(!arguments.length){return _1b27();}if(hash.charAt(0)=="#"){hash=hash.substring(1);}if(_1b26){_1b28(hash);}else{location.href="#"+hash;}return hash;};var _1b29,_1b2a,_1b2b,_1b2c=_1b23.hashPollFrequency||100;function _1b2d(str,_1b2e){var i=str.indexOf(_1b2e);return (i>=0)?str.substring(i+1):"";};function _1b27(){return _1b2d(location.href,"#");};function _1b2f(){topic.publish("/dojo/hashchange",_1b27());};function _1b30(){if(_1b27()===_1b29){return;}_1b29=_1b27();_1b2f();};function _1b28(hash){if(_1b2a){if(_1b2a.isTransitioning()){setTimeout(lang.hitch(null,_1b28,hash),_1b2c);return;}var href=_1b2a.iframe.location.href;var index=href.indexOf("?");_1b2a.iframe.location.replace(href.substring(0,index)+"?"+hash);return;}location.replace("#"+hash);!_1b2b&&_1b30();};function _1b31(){var ifr=document.createElement("iframe"),_1b32="dojo-hash-iframe",_1b33=_1b23.dojoBlankHtmlUrl||_1b22.toUrl("./resources/blank.html");if(_1b23.useXDomain&&!_1b23.dojoBlankHtmlUrl){console.warn("dojo/hash: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}ifr.id=_1b32;ifr.src=_1b33+"?"+_1b27();ifr.style.display="none";document.body.appendChild(ifr);this.iframe=dojo.global[_1b32];var _1b34,_1b35,_1b36,_1b37,_1b38,_1b39=this.iframe.location;function _1b3a(){_1b29=_1b27();_1b34=_1b38?_1b29:_1b2d(_1b39.href,"?");_1b35=false;_1b36=null;};this.isTransitioning=function(){return _1b35;};this.pollLocation=function(){if(!_1b38){try{var _1b3b=_1b2d(_1b39.href,"?");if(document.title!=_1b37){_1b37=this.iframe.document.title=document.title;}}catch(e){_1b38=true;console.error("dojo/hash: Error adding history entry. Server unreachable.");}}var hash=_1b27();if(_1b35&&_1b29===hash){if(_1b38||_1b3b===_1b36){_1b3a();_1b2f();}else{setTimeout(lang.hitch(this,this.pollLocation),0);return;}}else{if(_1b29===hash&&(_1b38||_1b34===_1b3b)){}else{if(_1b29!==hash){_1b29=hash;_1b35=true;_1b36=hash;ifr.src=_1b33+"?"+_1b36;_1b38=false;setTimeout(lang.hitch(this,this.pollLocation),0);return;}else{if(!_1b38){location.href="#"+_1b39.search.substring(1);_1b3a();_1b2f();}}}}setTimeout(lang.hitch(this,this.pollLocation),_1b2c);};_1b3a();setTimeout(lang.hitch(this,this.pollLocation),_1b2c);};_1b25(function(){if("onhashchange" in dojo.global&&(!has("ie")||(has("ie")>=8&&document.compatMode!="BackCompat"))){_1b2b=_1b24.after(dojo.global,"onhashchange",_1b2f,true);}else{if(document.addEventListener){_1b29=_1b27();setInterval(_1b30,_1b2c);}else{if(document.attachEvent){_1b2a=new _1b31();}}}});return dojo.hash;});},"mendix/compat-5":function(){define(["dojo/_base/kernel","dojo/_base/lang","mendix/lib/MxMetaObject","mendix/lib/MxObject","mendix/exposed","mxui/startup"],function(_1b3c,_1b3d,_1b3e,_1b3f){var _1b40="7.0",_1b41=window.mx.login;window.mx.login=function(){if(arguments.length===0||(arguments.length===1&&typeof arguments[0]=="object")){_1b3c.deprecated("mx.login(args) is deprecated. Use mx.login(username, password, onLoginSucceed, onLoginFailure) instead","",_1b40);window.mx.reload();}else{_1b41.apply(window.mx,arguments);}};_1b3d.mixin(_1b3e.prototype,{isNumber:function(attr){_1b3c.deprecated("MxMetaObject.isNumber","Use MxMetaObject.isNumeric instead",_1b40);if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isNumber : parameter attr is not of type String.");}return (/^(Integer|Decimal|Float|Long|AutoNumber)$/).test(this.getAttributeType(attr));}});_1b3d.mixin(_1b3f.prototype,{get:function(attr){if(/^(Integer|Long|Float|Currency)$/.test(this.metaData.getAttributeType(attr))){return this.get2(attr).toString();}else{return this.get2(attr);}},isNumber:function(attr){_1b3c.deprecated("MxObject.isNumber","Use MxObject.isNumeric instead",_1b40);return this.metaData.isNumber(attr);}});});},"mxui/compat-5":function(){define(["mxui/widget/LoginDialog","mxui/widget/_WidgetBase","mxui/lib/form/_FormBase","mxui/sys/Parser","mxui/widget","mxui/dom","mendix/lang","dojo/aspect","dojo/_base/kernel","dojo/_base/array","dojo/_base/lang","dijit/_Templated","dijit/Calendar","mxui/exposed","mxui/startup","dijit/form/_FormValueWidget","dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"],function(_1b42,_1b43,_1b44,_1b45,_1b46,_1b47,lang,_1b48,_1b49,_1b4a,_1b4b){var _1b4c="7.0";dojo.require("dijit._Templated");dojo.require("dijit.Calendar");_1b4b.mixin(_1b47,{copyChildren:function(src,_1b4d){_1b49.deprecated("mxui.dom.copyChildren","Use dojo/_base/lang::clone instead",_1b4c);var node=src.cloneNode(true);while(node.firstChild){_1b4d.appendChild(node.removeChild(node.firstChild));}},insertBefore:function(src,_1b4e){_1b49.deprecated("mxui.dom.insertBefore","Use dojo/dom-construct::place instead",_1b4c);if(_1b4e.parentNode){_1b4e.parentNode.insertBefore(src,_1b4e);}},insertAfter:function(src,_1b4f){_1b49.deprecated("mxui.dom.insertAfter","Use dojo/dom-construct::place instead",_1b4c);if(_1b4f.parentNode){if(_1b4f.nextSibling){_1b4f.nextSibling.parentNode.insertBefore(src,_1b4f.nextSibling);}else{_1b4f.parentNode.appendChild(src);}}},getForm:function(path,args,scope){_1b49.deprecated("mx.ui.getForm() is deprecated, use openForm and pass domNode to open initialized form inline","",_1b4c);var _1b50=_1b47.create("div",{"style":"height: 0; overflow: hidden;"});document.body.appendChild(_1b50);window.mx.ui.openFormInNode(path,_1b50,null,args.params,function(form){_1b47.orphan(_1b50);args.callback&&args.callback.call(scope,form);},args.error);}});var _1b51=window.mx.ui.showLogin;window.mx.ui.showLogin=function(args){if(args&&args.http_code!==undefined){_1b49.deprecated("Use mx.ui.showLogin(messageCode) instead of mx.ui.showLogin({ http_code: '..', no_alert: true/false })","",_1b4c);var _1b52=args.http_code;if(args.no_alert&&!lang.inArray(args.http_code,["402","404","500","503"])){_1b52=undefined;}_1b51.call(this,_1b52);}else{_1b51.apply(this,arguments);}};var _1b53=null;_1b48.after(_1b42.prototype,"show",function(){_1b53=this;},true);window.mx.ui.hideLogin=function(){_1b49.deprecated("mx.ui.hideLogin is deprecated","",_1b4c);_1b53&&_1b53.destroy();_1b53=null;};_1b4b.mixin(_1b43.prototype,{resume:function(){_1b49.deprecated("mxui.widget._WidgetBase.resume","You can stop calling it",_1b4c);},suspend:function(){_1b49.deprecated("mxui.widget._WidgetBase.resume","You can stop calling it",_1b4c);}});_1b4b.mixin(_1b44.prototype,{startup:function(){_1b49.deprecated("mxui.lib._Form.startup","You can stop calling it",_1b4c);},applyContext:function(_1b54,_1b55){_1b49.deprecated("mxui.lib._Form.applyContext","Use mx.ui.openForm instead",_1b4c);this._context=_1b54;_1b46.applyContext(this.getChildren(),_1b54,_1b55);}});mxui.dom.builder={IE_TRANSLATIONS:{"class":"className","for":"htmlFor","type":"type","href":"href"},ieAttrSet:function(attrs,attr,el){_1b49.deprecated("mxui.dom.builder.ieAttrSet","",_1b4c);var trans;if(trans=this.IE_TRANSLATIONS[attr]){el[trans]=attrs[attr];}else{if(attr=="style"){el.style.cssText=attrs[attr];}else{if(attr.match(/^on/)){el[attr]=new Function(attrs[attr]);}else{el.setAttribute(attr,attrs[attr]);}}}},tagFunc:function(tag){return function(){_1b49.deprecated("mxui.dom.{tagName}","Use mxui.dom.create API for creating elements",_1b4c);var attrs,_1b56;if(arguments.length>0){if(arguments[0].nodeName||typeof arguments[0]=="string"){_1b56=arguments;}else{attrs=arguments[0];_1b56=[].slice.call(arguments,1);}}return mxui.dom.builder.create(tag,attrs,_1b56);};},create:function(tag,attrs,_1b57){_1b49.deprecated("mxui.dom.builder.create","Use mxui.dom.create instead",_1b4c);attrs=attrs||{};_1b57=_1b57||[];var _1b58=dojo.isIE<9;var el=document.createElement((_1b58&&attrs.name)?"<"+tag+" name="+attrs.name+">":tag);for(var attr in attrs){if(typeof attrs[attr]!="function"){if(_1b58){this.ieAttrSet(attrs,attr,el);}else{el.setAttribute(attr,attrs[attr]);}}}for(var i=0;i<_1b57.length;i++){if(typeof _1b57[i]!="object"){_1b57[i]=document.createTextNode(_1b57[i]);}el.appendChild(_1b57[i]);}return el;}};_1b4a.forEach(("p|div|span|strong|em|img|table|tr|td|th|thead|tbody|tfoot|pre|code|"+"h1|h2|h3|h4|h5|h6|ul|ol|li|form|input|textarea|legend|fieldset|"+"select|option|blockquote|cite|br|hr|dd|dl|dt|address|a|button|abbr|acronym|"+"script|link|style|bdo|ins|del|object|param|col|colgroup|optgroup|caption|"+"label|dfn|kbd|samp|var").split("|"),function(elem){mxui.dom[elem]=mxui.dom.builder.tagFunc(elem);});_1b45.prototype.parseValue=function(value,type,props){var _1b59;switch(type.toLowerCase()){case "autonumber":_1b59=this.parseValue2(value,"integer",props);return _1b59!=null?Number(_1b59.valueOf()):NaN;case "float":case "currency":case "integer":case "long":_1b59=this.parseValue2(value,type,props);return _1b59!=null?Number(_1b59.valueOf()):NaN;default:_1b59=this.parseValue2(value,type,props);return _1b59;}};});},"dijit/_Templated":function(){define(["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(_1b5a,_1b5b,_1b5c,array,_1b5d,lang,_1b5e){lang.extend(_1b5a,{waiRole:"",waiState:""});return _1b5d("dijit._Templated",[_1b5b,_1b5c],{widgetsInTemplate:false,constructor:function(){_1b5e.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0");},_processNode:function(_1b5f,_1b60){var ret=this.inherited(arguments);var role=_1b60(_1b5f,"waiRole");if(role){_1b5f.setAttribute("role",role);}var _1b61=_1b60(_1b5f,"waiState");if(_1b61){array.forEach(_1b61.split(/\s*,\s*/),function(_1b62){if(_1b62.indexOf("-")!=-1){var pair=_1b62.split("-");_1b5f.setAttribute("aria-"+pair[0],pair[1]);}});}return ret;}});});},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(array,_1b63,_1b64,lang,_1b65){return _1b64("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;if(this.containerNode&&!this.searchContainerNode){this.containerNode.stopParser=true;}_1b65.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(lang.hitch(this,function(_1b66){this._startupWidgets=_1b66;for(var i=0;i<_1b66.length;i++){this._processTemplateNode(_1b66[i],function(n,p){return n[p];},function(_1b67,type,_1b68){if(type in _1b67){return _1b67.connect(_1b67,type,_1b68);}else{return _1b67.on(type,_1b68,true);}});}if(this.containerNode&&this.containerNode.stopParser){delete this.containerNode.stopParser;}}));if(!this._startupWidgets){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}}},_processTemplateNode:function(_1b69,_1b6a,_1b6b){if(_1b6a(_1b69,"dojoType")||_1b6a(_1b69,"data-dojo-type")){return true;}return this.inherited(arguments);},startup:function(){array.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this._startupWidgets=null;this.inherited(arguments);}});});},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_1b6c,has,_1b6d,_1b6e){return _1b6c("dijit.form._FormValueWidget",[_1b6d,_1b6e],{_layoutHackIE7:function(){if(has("ie")==7){var _1b6f=this.domNode;var _1b70=_1b6f.parentNode;var _1b71=_1b6f.firstChild||_1b6f;var _1b72=_1b71.style.filter;var _1b73=this;while(_1b70&&_1b70.clientHeight==0){(function ping(){var _1b74=_1b73.connect(_1b70,"onscroll",function(){_1b73.disconnect(_1b74);_1b71.style.filter=(new Date()).getMilliseconds();_1b73.defer(function(){_1b71.style.filter=_1b72;});});})();_1b70=_1b70.parentNode;}}}});});},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","./_FormWidgetMixin"],function(_1b75,_1b76,keys,lang,on,_1b77){return _1b75("dijit.form._FormValueMixin",_1b77,{readOnly:false,_setReadOnlyAttr:function(value){_1b76.set(this.focusNode,"readOnly",value);this._set("readOnly",value);},postCreate:function(){this.inherited(arguments);if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_1b78,_1b79){this._handleOnChange(_1b78,_1b79);},_handleOnChange:function(_1b7a,_1b7b){this._set("value",_1b7a);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);}});});},"dijit/form/ComboButton":function(){define(["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html","../a11yclick"],function(_1b7c,keys,focus,_1b7d,_1b7e){return _1b7c("dijit.form.ComboButton",_1b7d,{templateString:_1b7e,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){focus.focus(this._popupStateNode);evt.stopPropagation();evt.preventDefault();}},_onArrowKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){focus.focus(this.titleNode);evt.stopPropagation();evt.preventDefault();}},focus:function(_1b7f){if(!this.disabled){focus.focus(_1b7f=="start"?this.titleNode:this._popupStateNode);}}});});},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_1b80,_1b81,_1b82,_1b83){return _1b80("dijit.form.ToggleButton",[_1b82,_1b83],{baseClass:"dijitToggleButton",setChecked:function(_1b84){_1b81.deprecated("setChecked("+_1b84+") is deprecated. Use set('checked',"+_1b84+") instead.","","2.0");this.set("checked",_1b84);}});});},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_1b85,_1b86){return _1b85("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _1b87=this.checked;this._set("checked",!_1b87);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_1b87);return ret;},_setCheckedAttr:function(value,_1b88){this._set("checked",value);var node=this.focusNode||this.domNode;if(this._created){if(_1b86.get(node,"checked")!=!!value){_1b86.set(node,"checked",!!value);}}node.setAttribute(this._aria_attr,String(value));this._handleOnChange(value,_1b88);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.checked;}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"url:mxui/widget/templates/MxInlineEditor.html":"<div class=\"MxInlineEditor\">\n    <form class=\"inlineEditBox\" style=\"display: none;\" dojoAttachPoint=\"form\" onsubmit=\"return false;\">\n        <input type=\"text\" dojoAttachPoint=\"readonly\" style=\"display: none;\" class=\"inlineEditBox_readOnly form-control\"/>\n        <input type=\"text\" dojoAttachPoint=\"enumtext\" style=\"display: none;\" class=\"inlineEditBox_focusEnum form-control\"/>\n        <input type=\"text\" dojoAttachPoint=\"text\" style=\"display: none;\" class=\"inlineEditBox_editable form-control\"/>\n        <select type=\"select\" dojoAttachPoint=\"select\" style=\"display: none;\" class=\"inlineEditBox_selectbox form-control\"></select>\n    </form>\n</div>\n","url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\" data-dojo-attach-event=\"mouseenter:onMouseEnter,mouseleave:onMouseLeave\"\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n></div>\n","url:mxui/widget/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=dojoTooltip>\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" style=\"display:none\" dojoAttachPoint=\"containerNode\" role='alert'></div>\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\">\n\t\t<div class=\"mx-tooltip-content\" dojoAttachPoint=\"contentNode\"></div>\n\t\t<div class=\"mx-tooltip-prepare\" dojoAttachPoint=\"prepareNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div>\n</div>\n","url:mxui/widget/templates/DataGrid.html":"<div class=\"${baseClass} mx-datagrid\">\n    <div class=\"${baseClass}-searchbar clearfix\" dojoAttachPoint=\"searchNode\" focusIndex=\"0\">\n        <div class=\"${baseClass}-search-controls\" focusIndex=\"1\" dojoAttachPoint=\"searchControlNode\"></div>\n        <div class=\"${baseClass}-search-inputs\" focusIndex=\"0\" dojoAttachPoint=\"searchArgumentNode\"></div>\n        <div class=\"${baseClass}-search-message\" dojoAttachPoint=\"messageNode\"></div>\n    </div>\n    \n    <div class=\"${baseClass}-controlbar clearfix\" dojoAttachPoint=\"controlNode\" focusIndex=\"1\">\n        <div class=\"${baseClass}-pagingbar\" dojoAttachPoint=\"pagingBarNode\"></div>\n        <div class=\"${baseClass}-toolbar\" dojoAttachPoint=\"toolBarNode\"></div>\n    </div>\n        \n    <div class=\"${baseClass}-content\" dojoAttachPoint=\"contentNode\" focusIndex=\"2\">\n        <div class=\"${subClass}-content-wrapper\" dojoAttachPoint=\"tableWrapper\">\n            <table class=\"table table-bordered ${subClass}-head-table\" dojoAttachPoint=\"headTable\">\n                <colgroup dojoAttachPoint=\"headTableGroupNode\"></colgroup>\n                <thead class=\"${subClass}-head\" dojoAttachPoint=\"gridHeadNode\"></thead>\n            </table>\n            <table class=\"table table-striped table-bordered ${subClass}-body-table\" dojoAttachPoint=\"gridTable\">\n                <colgroup dojoAttachPoint=\"bodyTableGroupNode\"></colgroup>\n                <tbody class=\"${subClass}-body\" dojoAttachPoint=\"gridBodyNode\"></tbody>\n                <tfoot class=\"${subClass}-foot\" dojoAttachPoint=\"gridFootNode\"></tfoot>\n            </table>\n        </div>\n    </div>\n</div>\n","url:mxui/widget/templates/TemplateGrid.html":"<div class=\"${baseClass} mx-templategrid\">\n    <div class=\"${baseClass}-searchbar clearfix\" dojoAttachPoint=\"searchNode\" focusIndex=\"0\">\n        <div class=\"${baseClass}-search-controls\" focusIndex=\"1\" dojoAttachPoint=\"searchControlNode\"></div>\n        <div class=\"${baseClass}-search-inputs\" focusIndex=\"0\" dojoAttachPoint=\"searchArgumentNode\"></div>\n        <div class=\"${baseClass}-search-message\" dojoAttachPoint=\"messageNode\"></div>\n    </div>\n    \n    <div class=\"${baseClass}-controlbar clearfix\" dojoAttachPoint=\"controlNode\" focusIndex=\"1\">\n        <div class=\"${baseClass}-pagingbar\" dojoAttachPoint=\"pagingBarNode\"></div>\n        <div class=\"${baseClass}-toolbar\" dojoAttachPoint=\"toolBarNode\"></div>\n    </div>\n\t\n    <div class=\"${baseClass}-content\" dojoAttachPoint=\"contentNode\" focusIndex=\"2\">\n        <div class=\"${subClass}-content-wrapper\" dojoAttachPoint=\"itemNode\"></div>\n    </div>\n</div>\n","url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"ondijitclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\ttabIndex=\"-1\" role=\"presentation\" aria-hidden=\"true\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\" aria-hidden=\"true\"\n/></span>\n","url:mxui/widget/templates/DemoUserSwitcher.html":"<div class=\"mx-demouserswitcher\">\n    <div class=\"mx-demouserswitcher-toggle\" data-dojo-attach-point=\"_toggleNode\"></div>\n    <div class=\"mx-demouserswitcher-content\">\n        <h2>Select user</h2>\n        <p>Select one of the demo users to view the application with the associated user roles.</p>\n        <ul data-dojo-attach-point=\"_listNode\"></ul>\n    </div>\n</div>\n","url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:__onClick,onkeydown:_onButtonKeyDown\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeydown:_onArrowKeyDown\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\"\n\t\t\t\tclass=\"dijitOffScreen\"\n\t\t\t\trole=\"presentation\" aria-hidden=\"true\"\n\t\t\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\t/></td></tr></tbody\n></table>\n","*now":function(r){r(["dojo/i18n!*preload*mxui/nls/mxui*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\"]"]);},"*noref":1}});require(["mxui/initialize"],function(){require(["mendix/exposed","mxui/exposed"],function(){require(["mxui/polyfill/placeholder/placeholder","mxui/widget/PrimitiveWidgetWrapper","dijit/layout/ContentPane"],function(){dojo.require("dijit.layout.ContentPane");require(["mxui/startup","mendix/compat-5","mxui/compat-5"]);});});});