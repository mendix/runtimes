/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

if (typeof dojo === 'undefined') {
/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
(function(_1,_2){var _3=function(){},_4=function(it){for(var p in it){return 0;}return 1;},_5={}.toString,_6=function(it){return _5.call(it)=="[object Function]";},_7=function(it){return _5.call(it)=="[object String]";},_8=function(it){return _5.call(it)=="[object Array]";},_9=function(_a,_b){if(_a){for(var i=0;i<_a.length;){_b(_a[i++]);}}},_c=function(_d,_e){for(var p in _e){_d[p]=_e[p];}return _d;},_f=function(_10,_11){return _c(new Error(_10),{src:"dojoLoader",info:_11});},_12=1,uid=function(){return "_"+_12++;},req=function(_13,_14,_15){return _16(_13,_14,_15,0,req);},_17=this,doc=_17.document,_18=doc&&doc.createElement("DiV"),has=req.has=function(_19){return _6(_1a[_19])?(_1a[_19]=_1a[_19](_17,doc,_18)):_1a[_19];},_1a=has.cache=_2.hasCache;has.add=function(_1b,_1c,now,_1d){(_1a[_1b]===undefined||_1d)&&(_1a[_1b]=_1c);return now&&has(_1b);};0&&has.add("host-node",_1.has&&"host-node" in _1.has?_1.has["host-node"]:(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8));if(0){require("./_base/configNode.js").config(_2);_2.loaderPatch.nodeRequire=require;}0&&has.add("host-rhino",_1.has&&"host-rhino" in _1.has?_1.has["host-rhino"]:(typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")));if(0){for(var _1e=_1.baseUrl||".",arg,_1f=this.arguments,i=0;i<_1f.length;){arg=(_1f[i++]+"").split("=");if(arg[0]=="baseUrl"){_1e=arg[1];break;}}load(_1e+"/_base/configRhino.js");rhinoDojoConfig(_2,_1e,_1f);}has.add("host-webworker",((typeof WorkerGlobalScope!=="undefined")&&(self instanceof WorkerGlobalScope)));if(has("host-webworker")){_c(_2.hasCache,{"host-browser":0,"dom":0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1});_2.loaderPatch={injectUrl:function(url,_20){try{importScripts(url);_20();}catch(e){console.error(e);}}};}for(var p in _1.has){has.add(p,_1.has[p],0,1);}var _21=1,_22=2,_23=3,_24=4,_25=5;if(0){_21="requested";_22="arrived";_23="not-a-module";_24="executing";_25="executed";}var _26=0,_27="sync",xd="xd",_28=[],_29=0,_2a=_3,_2b=_3,_2c;if(1){req.isXdUrl=_3;req.initSyncLoader=function(_2d,_2e,_2f){if(!_29){_29=_2d;_2a=_2e;_2b=_2f;}return {sync:_27,requested:_21,arrived:_22,nonmodule:_23,executing:_24,executed:_25,syncExecStack:_28,modules:_30,execQ:_31,getModule:_32,injectModule:_33,setArrived:_34,signal:_35,finishExec:_36,execModule:_37,dojoRequirePlugin:_29,getLegacyMode:function(){return _26;},guardCheckComplete:_38};};if(1||has("host-webworker")){var _39=location.protocol,_3a=location.host;req.isXdUrl=function(url){if(/^\./.test(url)){return false;}if(/^\/\//.test(url)){return true;}var _3b=url.match(/^([^\/\:]+\:)\/+([^\/]+)/);return _3b&&(_3b[1]!=_39||(_3a&&_3b[2]!=_3a));};1||has.add("dojo-xhr-factory",1);has.add("dojo-force-activex-xhr",1&&!doc.addEventListener&&window.location.protocol=="file:");has.add("native-xhr",typeof XMLHttpRequest!="undefined");if(has("native-xhr")&&!has("dojo-force-activex-xhr")){_2c=function(){return new XMLHttpRequest();};}else{for(var _3c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],_3d,i=0;i<3;){try{_3d=_3c[i++];if(new ActiveXObject(_3d)){break;}}catch(e){}}_2c=function(){return new ActiveXObject(_3d);};}req.getXhr=_2c;has.add("dojo-gettext-api",1);req.getText=function(url,_3e,_3f){var xhr=_2c();xhr.open("GET",_40(url),false);xhr.send(null);if(xhr.status==200||(!location.host&&!xhr.status)){if(_3f){_3f(xhr.responseText,_3e);}}else{throw _f("xhrFailed",xhr.status);}return xhr.responseText;};}}else{req.async=1;}var _41=new Function("return eval(arguments[0]);");req.eval=function(_42,_43){return _41(_42+"\r\n//# sourceURL="+_43);};var _44={},_45="error",_35=req.signal=function(_46,_47){var _48=_44[_46];_9(_48&&_48.slice(0),function(_49){_49.apply(null,_8(_47)?_47:[_47]);});},on=req.on=function(_4a,_4b){var _4c=_44[_4a]||(_44[_4a]=[]);_4c.push(_4b);return {remove:function(){for(var i=0;i<_4c.length;i++){if(_4c[i]===_4b){_4c.splice(i,1);return;}}}};};var _4d=[],_4e={},_4f=[],_50={},map=req.map={},_51=[],_30={},_52="",_53={},_54="url:",_55={},_56={},_57=0;if(1){var _58=function(_59){var p,_5a,_5b,now,m;for(p in _55){_5a=_55[p];_5b=p.match(/^url\:(.+)/);if(_5b){_53[_54+_5c(_5b[1],_59)]=_5a;}else{if(p=="*now"){now=_5a;}else{if(p!="*noref"){m=_5d(p,_59,true);_53[m.mid]=_53[_54+m.url]=_5a;}}}}if(now){now(_5e(_59));}_55={};},_5f=function(s){return s.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(c){return "\\"+c;});},_60=function(map,_61){_61.splice(0,_61.length);for(var p in map){_61.push([p,map[p],new RegExp("^"+_5f(p)+"(/|$)"),p.length]);}_61.sort(function(lhs,rhs){return rhs[3]-lhs[3];});return _61;},_62=function(_63,_64){_9(_63,function(_65){_64.push([_7(_65[0])?new RegExp("^"+_5f(_65[0])+"$"):_65[0],_65[1]]);});},_66=function(_67){var _68=_67.name;if(!_68){_68=_67;_67={name:_68};}_67=_c({main:"main"},_67);_67.location=_67.location?_67.location:_68;if(_67.packageMap){map[_68]=_67.packageMap;}if(!_67.main.indexOf("./")){_67.main=_67.main.substring(2);}_50[_68]=_67;},_69=[],_6a=function(_6b,_6c,_6d){for(var p in _6b){if(p=="waitSeconds"){req.waitms=(_6b[p]||0)*1000;}if(p=="cacheBust"){_52=_6b[p]?(_7(_6b[p])?_6b[p]:(new Date()).getTime()+""):"";}if(p=="baseUrl"||p=="combo"){req[p]=_6b[p];}if(1&&p=="async"){var _6e=_6b[p];req.legacyMode=_26=(_7(_6e)&&/sync|legacyAsync/.test(_6e)?_6e:(!_6e?_27:false));req.async=!_26;}if(_6b[p]!==_1a){req.rawConfig[p]=_6b[p];p!="has"&&has.add("config-"+p,_6b[p],0,_6c);}}if(!req.baseUrl){req.baseUrl="./";}if(!/\/$/.test(req.baseUrl)){req.baseUrl+="/";}for(p in _6b.has){has.add(p,_6b.has[p],0,_6c);}_9(_6b.packages,_66);for(var _6f in _6b.packagePaths){_9(_6b.packagePaths[_6f],function(_70){var _71=_6f+"/"+_70;if(_7(_70)){_70={name:_70};}_70.location=_71;_66(_70);});}_60(_c(map,_6b.map),_51);_9(_51,function(_72){_72[1]=_60(_72[1],[]);if(_72[0]=="*"){_51.star=_72;}});_60(_c(_4e,_6b.paths),_4f);_62(_6b.aliases,_4d);if(_6c){_69.push({config:_6b.config});}else{for(p in _6b.config){var _73=_32(p,_6d);_73.config=_c(_73.config||{},_6b.config[p]);}}if(_6b.cache){_58();_55=_6b.cache;if(_6b.cache["*noref"]){_58();}}_35("config",[_6b,req.rawConfig]);};if(has("dojo-cdn")||1){var _74=doc.getElementsByTagName("script"),i=0,_75,_76,src,_77;while(i<_74.length){_75=_74[i++];if((src=_75.getAttribute("src"))&&(_77=src.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){_76=_77[3]||"";_2.baseUrl=_2.baseUrl||_76;_57=_75;}if((src=(_75.getAttribute("data-dojo-config")||_75.getAttribute("djConfig")))){_56=req.eval("({ "+src+" })","data-dojo-config");_57=_75;}if(0){if((src=_75.getAttribute("data-main"))){_56.deps=_56.deps||[src];}}}}if(0){try{if(window.parent!=window&&window.parent.require){var doh=window.parent.require("doh");doh&&_c(_56,doh.testConfig);}}catch(e){}}req.rawConfig={};_6a(_2,1);if(has("dojo-cdn")){_50.dojo.location=_76;if(_76){_76+="/";}_50.dijit.location=_76+"../dijit/";_50.dojox.location=_76+"../dojox/";}_6a(_1,1);_6a(_56,1);}else{_4e=_2.paths;_4f=_2.pathsMapProg;_50=_2.packs;_4d=_2.aliases;_51=_2.mapProgs;_30=_2.modules;_53=_2.cache;_52=_2.cacheBust;req.rawConfig=_2;}if(0){req.combo=req.combo||{add:_3};var _78=0,_79=[],_7a=null;}var _7b=function(_7c){_38(function(){_9(_7c.deps,_33);if(0&&_78&&!_7a){_7a=setTimeout(function(){_78=0;_7a=null;req.combo.done(function(_7d,url){var _7e=function(){_7f(0,_7d);_80();};_79.push(_7d);_81=_7d;req.injectUrl(url,_7e,_7d);_81=0;},req);},0);}});},_16=function(a1,a2,a3,_82,_83){var _84,_85;if(_7(a1)){_84=_32(a1,_82,true);if(_84&&_84.executed){return _84.result;}throw _f("undefinedModule",a1);}if(!_8(a1)){_6a(a1,0,_82);a1=a2;a2=a3;}if(_8(a1)){if(!a1.length){a2&&a2();}else{_85="require*"+uid();for(var mid,_86=[],i=0;i<a1.length;){mid=a1[i++];_86.push(_32(mid,_82));}_84=_c(_87("",_85,0,""),{injected:_22,deps:_86,def:a2||_3,require:_82?_82.require:req,gc:1});_30[_84.mid]=_84;_7b(_84);var _88=_89&&_26!=_27;_38(function(){_37(_84,_88);});if(!_84.executed){_31.push(_84);}_80();}}return _83;},_5e=function(_8a){if(!_8a){return req;}var _8b=_8a.require;if(!_8b){_8b=function(a1,a2,a3){return _16(a1,a2,a3,_8a,_8b);};_8a.require=_c(_8b,req);_8b.module=_8a;_8b.toUrl=function(_8c){return _5c(_8c,_8a);};_8b.toAbsMid=function(mid){return _ba(mid,_8a);};if(0){_8b.undef=function(mid){req.undef(mid,_8a);};}if(1){_8b.syncLoadNls=function(mid){var _8d=_5d(mid,_8a),_8e=_30[_8d.mid];if(!_8e||!_8e.executed){_8f=_53[_8d.mid]||_53[_54+_8d.url];if(_8f){_90(_8f);_8e=_30[_8d.mid];}}return _8e&&_8e.executed&&_8e.result;};}}return _8b;},_31=[],_91=[],_92={},_93=function(_94){_94.injected=_21;_92[_94.mid]=1;if(_94.url){_92[_94.url]=_94.pack||1;}_95();},_34=function(_96){_96.injected=_22;delete _92[_96.mid];if(_96.url){delete _92[_96.url];}if(_4(_92)){_97();1&&_26==xd&&(_26=_27);}},_98=req.idle=function(){return !_91.length&&_4(_92)&&!_31.length&&!_89;},_99=function(_9a,map){if(map){for(var i=0;i<map.length;i++){if(map[i][2].test(_9a)){return map[i];}}}return 0;},_9b=function(_9c){var _9d=[],_9e,_9f;_9c=_9c.replace(/\\/g,"/").split("/");while(_9c.length){_9e=_9c.shift();if(_9e==".."&&_9d.length&&_9f!=".."){_9d.pop();_9f=_9d[_9d.length-1];}else{if(_9e!="."){_9d.push(_9f=_9e);}}}return _9d.join("/");},_87=function(pid,mid,_a0,url){if(1){var xd=req.isXdUrl(url);return {pid:pid,mid:mid,pack:_a0,url:url,executed:0,def:0,isXd:xd,isAmd:!!(xd||(_50[pid]&&_50[pid].isAmd))};}else{return {pid:pid,mid:mid,pack:_a0,url:url,executed:0,def:0};}},_a1=function(mid,_a2,_a3,_a4,_a5,_a6,_a7,_a8,_a9){var pid,_aa,_ab,_ac,url,_ad,_ae,_af;_af=mid;_ae=/^\./.test(mid);if(/(^\/)|(\:)|(\.js$)/.test(mid)||(_ae&&!_a2)){return _87(0,mid,0,mid);}else{mid=_9b(_ae?(_a2.mid+"/../"+mid):mid);if(/^\./.test(mid)){throw _f("irrationalPath",mid);}if(_a2){_ac=_99(_a2.mid,_a6);}_ac=_ac||_a6.star;_ac=_ac&&_99(mid,_ac[1]);if(_ac){mid=_ac[1]+mid.substring(_ac[3]);}_77=mid.match(/^([^\/]+)(\/(.+))?$/);pid=_77?_77[1]:"";if((_aa=_a3[pid])){mid=pid+"/"+(_ab=(_77[3]||_aa.main));}else{pid="";}var _b0=0,_b1=0;_9(_a8,function(_b2){var _b3=mid.match(_b2[0]);if(_b3&&_b3.length>_b0){_b1=_6(_b2[1])?mid.replace(_b2[0],_b2[1]):_b2[1];}});if(_b1){return _a1(_b1,0,_a3,_a4,_a5,_a6,_a7,_a8,_a9);}_ad=_a4[mid];if(_ad){return _a9?_87(_ad.pid,_ad.mid,_ad.pack,_ad.url):_a4[mid];}}_ac=_99(mid,_a7);if(_ac){url=_ac[1]+mid.substring(_ac[3]);}else{if(pid){url=_aa.location+"/"+_ab;}else{if(has("config-tlmSiblingOfDojo")){url="../"+mid;}else{url=mid;}}}if(!(/(^\/)|(\:)/.test(url))){url=_a5+url;}url+=".js";return _87(pid,mid,_aa,_9b(url));},_5d=function(mid,_b4,_b5){return _a1(mid,_b4,_50,_30,req.baseUrl,_b5?[]:_51,_b5?[]:_4f,_b5?[]:_4d);},_b6=function(_b7,_b8,_b9){return _b7.normalize?_b7.normalize(_b8,function(mid){return _ba(mid,_b9);}):_ba(_b8,_b9);},_bb=0,_32=function(mid,_bc,_bd){var _be,_bf,_c0,_c1;_be=mid.match(/^(.+?)\!(.*)$/);if(_be){_bf=_32(_be[1],_bc,_bd);if(1&&_26==_27&&!_bf.executed){_33(_bf);if(_bf.injected===_22&&!_bf.executed){_38(function(){_37(_bf);});}if(_bf.executed){_c2(_bf);}else{_31.unshift(_bf);}}if(_bf.executed===_25&&!_bf.load){_c2(_bf);}if(_bf.load){_c0=_b6(_bf,_be[2],_bc);mid=(_bf.mid+"!"+(_bf.dynamic?++_bb+"!":"")+_c0);}else{_c0=_be[2];mid=_bf.mid+"!"+(++_bb)+"!waitingForPlugin";}_c1={plugin:_bf,mid:mid,req:_5e(_bc),prid:_c0};}else{_c1=_5d(mid,_bc);}return _30[_c1.mid]||(!_bd&&(_30[_c1.mid]=_c1));},_ba=req.toAbsMid=function(mid,_c3){return _5d(mid,_c3).mid;},_5c=req.toUrl=function(_c4,_c5){var _c6=_5d(_c4+"/x",_c5),url=_c6.url;return _40(_c6.pid===0?_c4:url.substring(0,url.length-5));},_c7={injected:_22,executed:_25,def:_23,result:_23},_c8=function(mid){return _30[mid]=_c({mid:mid},_c7);},_c9=_c8("require"),_ca=_c8("exports"),_cb=_c8("module"),_cc=function(_cd,_ce){req.trace("loader-run-factory",[_cd.mid]);var _cf=_cd.def,_d0;1&&_28.unshift(_cd);if(has("config-dojo-loader-catches")){try{_d0=_6(_cf)?_cf.apply(null,_ce):_cf;}catch(e){_35(_45,_cd.result=_f("factoryThrew",[_cd,e]));}}else{_d0=_6(_cf)?_cf.apply(null,_ce):_cf;}_cd.result=_d0===undefined&&_cd.cjs?_cd.cjs.exports:_d0;1&&_28.shift(_cd);},_d1={},_d2=0,_c2=function(_d3){var _d4=_d3.result;_d3.dynamic=_d4.dynamic;_d3.normalize=_d4.normalize;_d3.load=_d4.load;return _d3;},_d5=function(_d6){var map={};_9(_d6.loadQ,function(_d7){var _d8=_b6(_d6,_d7.prid,_d7.req.module),mid=_d6.dynamic?_d7.mid.replace(/waitingForPlugin$/,_d8):(_d6.mid+"!"+_d8),_d9=_c(_c({},_d7),{mid:mid,prid:_d8,injected:0});if(!_30[mid]){_eb(_30[mid]=_d9);}map[_d7.mid]=_30[mid];_34(_d7);delete _30[_d7.mid];});_d6.loadQ=0;var _da=function(_db){for(var _dc,_dd=_db.deps||[],i=0;i<_dd.length;i++){_dc=map[_dd[i].mid];if(_dc){_dd[i]=_dc;}}};for(var p in _30){_da(_30[p]);}_9(_31,_da);},_36=function(_de){req.trace("loader-finish-exec",[_de.mid]);_de.executed=_25;_de.defOrder=_d2++;1&&_9(_de.provides,function(cb){cb();});if(_de.loadQ){_c2(_de);_d5(_de);}for(i=0;i<_31.length;){if(_31[i]===_de){_31.splice(i,1);}else{i++;}}if(/^require\*/.test(_de.mid)){delete _30[_de.mid];}},_df=[],_37=function(_e0,_e1){if(_e0.executed===_24){req.trace("loader-circular-dependency",[_df.concat(_e0.mid).join("->")]);return (!_e0.def||_e1)?_d1:(_e0.cjs&&_e0.cjs.exports);}if(!_e0.executed){if(!_e0.def){return _d1;}var mid=_e0.mid,_e2=_e0.deps||[],arg,_e3,_e4=[],i=0;if(0){_df.push(mid);req.trace("loader-exec-module",["exec",_df.length,mid]);}_e0.executed=_24;while((arg=_e2[i++])){_e3=((arg===_c9)?_5e(_e0):((arg===_ca)?_e0.cjs.exports:((arg===_cb)?_e0.cjs:_37(arg,_e1))));if(_e3===_d1){_e0.executed=0;req.trace("loader-exec-module",["abort",mid]);0&&_df.pop();return _d1;}_e4.push(_e3);}_cc(_e0,_e4);_36(_e0);0&&_df.pop();}return _e0.result;},_89=0,_38=function(_e5){try{_89++;_e5();}finally{_89--;}if(_98()){_35("idle",[]);}},_80=function(){if(_89){return;}_38(function(){_2a();for(var _e6,_e7,i=0;i<_31.length;){_e6=_d2;_e7=_31[i];_37(_e7);if(_e6!=_d2){_2a();i=0;}else{i++;}}});};if(0){req.undef=function(_e8,_e9){var _ea=_32(_e8,_e9);_34(_ea);_c(_ea,{def:0,executed:0,injected:0,node:0});};}if(1){if(has("dojo-loader-eval-hint-url")===undefined){has.add("dojo-loader-eval-hint-url",1);}var _40=typeof _1.fixupUrl=="function"?_1.fixupUrl:function(url){url+="";return url+(_52?((/\?/.test(url)?"&":"?")+_52):"");},_eb=function(_ec){var _ed=_ec.plugin;if(_ed.executed===_25&&!_ed.load){_c2(_ed);}var _ee=function(def){_ec.result=def;_34(_ec);_36(_ec);_80();};if(_ed.load){_ed.load(_ec.prid,_ec.req,_ee);}else{if(_ed.loadQ){_ed.loadQ.push(_ec);}else{_ed.loadQ=[_ec];_31.unshift(_ed);_33(_ed);}}},_8f=0,_81=0,_ef=0,_90=function(_f0,_f1){if(has("config-stripStrict")){_f0=_f0.replace(/"use strict"/g,"");}_ef=1;if(has("config-dojo-loader-catches")){try{if(_f0===_8f){_8f.call(null);}else{req.eval(_f0,has("dojo-loader-eval-hint-url")?_f1.url:_f1.mid);}}catch(e){_35(_45,_f("evalModuleThrew",_f1));}}else{if(_f0===_8f){_8f.call(null);}else{req.eval(_f0,has("dojo-loader-eval-hint-url")?_f1.url:_f1.mid);}}_ef=0;},_33=function(_f2){var mid=_f2.mid,url=_f2.url;if(_f2.executed||_f2.injected||_92[mid]||(_f2.url&&((_f2.pack&&_92[_f2.url]===_f2.pack)||_92[_f2.url]==1))){return;}_93(_f2);if(0){var _f3=0;if(_f2.plugin&&_f2.plugin.isCombo){req.combo.add(_f2.plugin.mid,_f2.prid,0,req);_f3=1;}else{if(!_f2.plugin){_f3=req.combo.add(0,_f2.mid,_f2.url,req);}}if(_f3){_78=1;return;}}if(_f2.plugin){_eb(_f2);return;}var _f4=function(){_7f(_f2);if(_f2.injected!==_22){if(has("dojo-enforceDefine")){_35(_45,_f("noDefine",_f2));return;}_34(_f2);_c(_f2,_c7);req.trace("loader-define-nonmodule",[_f2.url]);}if(1&&_26){!_28.length&&_80();}else{_80();}};_8f=_53[mid]||_53[_54+_f2.url];if(_8f){req.trace("loader-inject",["cache",_f2.mid,url]);_90(_8f,_f2);_f4();return;}if(1&&_26){if(_f2.isXd){_26==_27&&(_26=xd);}else{if(_f2.isAmd&&_26!=_27){}else{var _f5=function(_f6){if(_26==_27){_28.unshift(_f2);_90(_f6,_f2);_28.shift();_7f(_f2);if(!_f2.cjs){_34(_f2);_36(_f2);}if(_f2.finish){var _f7=mid+"*finish",_f8=_f2.finish;delete _f2.finish;def(_f7,["dojo",("dojo/require!"+_f8.join(",")).replace(/\./g,"/")],function(_f9){_9(_f8,function(mid){_f9.require(mid);});});_31.unshift(_32(_f7));}_f4();}else{_f6=_2b(_f2,_f6);if(_f6){_90(_f6,_f2);_f4();}else{_81=_f2;req.injectUrl(_40(url),_f4,_f2);_81=0;}}};req.trace("loader-inject",["xhr",_f2.mid,url,_26!=_27]);if(has("config-dojo-loader-catches")){try{req.getText(url,_26!=_27,_f5);}catch(e){_35(_45,_f("xhrInjectFailed",[_f2,e]));}}else{req.getText(url,_26!=_27,_f5);}return;}}}req.trace("loader-inject",["script",_f2.mid,url]);_81=_f2;req.injectUrl(_40(url),_f4,_f2);_81=0;},_fa=function(_fb,_fc,def){req.trace("loader-define-module",[_fb.mid,_fc]);if(0&&_fb.plugin&&_fb.plugin.isCombo){_fb.result=_6(def)?def():def;_34(_fb);_36(_fb);return _fb;}var mid=_fb.mid;if(_fb.injected===_22){_35(_45,_f("multipleDefine",_fb));return _fb;}_c(_fb,{deps:_fc,def:def,cjs:{id:_fb.mid,uri:_fb.url,exports:(_fb.result={}),setExports:function(_fd){_fb.cjs.exports=_fd;},config:function(){return _fb.config;}}});for(var i=0;_fc[i];i++){_fc[i]=_32(_fc[i],_fb);}if(1&&_26&&!_92[mid]){_7b(_fb);_31.push(_fb);_80();}_34(_fb);if(!_6(def)&&!_fc.length){_fb.result=def;_36(_fb);}return _fb;},_7f=function(_fe,_ff){var _100=[],_101,args;while(_91.length){args=_91.shift();_ff&&(args[0]=_ff.shift());_101=(args[0]&&_32(args[0]))||_fe;_100.push([_101,args[1],args[2]]);}_58(_fe);_9(_100,function(args){_7b(_fa.apply(null,args));});};}var _102=0,_97=_3,_95=_3;if(1){_97=function(){_102&&clearTimeout(_102);_102=0;};_95=function(){_97();if(req.waitms){_102=_17.setTimeout(function(){_97();_35(_45,_f("timeout",_92));},req.waitms);}};}if(1){has.add("ie-event-behavior",doc.attachEvent&&typeof Windows==="undefined"&&(typeof opera==="undefined"||opera.toString()!="[object Opera]"));}if(1&&(1||1)){var _103=function(node,_104,_105,_106){if(!has("ie-event-behavior")){node.addEventListener(_104,_106,false);return function(){node.removeEventListener(_104,_106,false);};}else{node.attachEvent(_105,_106);return function(){node.detachEvent(_105,_106);};}},_107=_103(window,"load","onload",function(){req.pageLoaded=1;doc.readyState!="complete"&&(doc.readyState="complete");_107();});if(1){var _74=doc.getElementsByTagName("script"),i=0,_75;while(!_57){if(!/^dojo/.test((_75=_74[i++])&&_75.type)){_57=_75;}}req.injectUrl=function(url,_108,_109){var node=_109.node=doc.createElement("script"),_10a=function(e){e=e||window.event;var node=e.target||e.srcElement;if(e.type==="load"||/complete|loaded/.test(node.readyState)){_10b();_10c();_108&&_108();}},_10b=_103(node,"load","onreadystatechange",_10a),_10c=_103(node,"error","onerror",function(e){_10b();_10c();_35(_45,_f("scriptError",[url,e]));});node.type="text/javascript";node.charset="utf-8";node.src=url;_57.parentNode.insertBefore(node,_57);return node;};}}if(1){req.log=function(){try{for(var i=0;i<arguments.length;i++){}}catch(e){}};}else{req.log=_3;}if(0){var _10d=req.trace=function(_10e,args){if(_10d.on&&_10d.group[_10e]){_35("trace",[_10e,args]);for(var arg,dump=[],text="trace:"+_10e+(args.length?(":"+args[0]):""),i=1;i<args.length;){arg=args[i++];if(_7(arg)){text+=", "+arg;}else{dump.push(arg);}}req.log(text);dump.length&&dump.push(".");req.log.apply(req,dump);}};_c(_10d,{on:1,group:{},set:function(_10f,_110){if(_7(_10f)){_10d.group[_10f]=_110;}else{_c(_10d.group,_10f);}}});_10d.set(_c(_c(_c({},_2.trace),_1.trace),_56.trace));on("config",function(_111){_111.trace&&_10d.set(_111.trace);});}else{req.trace=_3;}var def=function(mid,_112,_113){var _114=arguments.length,_115=["require","exports","module"],args=[0,mid,_112];if(_114==1){args=[0,(_6(mid)?_115:[]),mid];}else{if(_114==2&&_7(mid)){args=[mid,(_6(_112)?_115:[]),_112];}else{if(_114==3){args=[mid,_112,_113];}}}if(0&&args[1]===_115){args[2].toString().replace(/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,"").replace(/require\(["']([\w\!\-_\.\/]+)["']\)/g,function(_116,dep){args[1].push(dep);});}req.trace("loader-define",args.slice(0,2));var _117=args[0]&&_32(args[0]),_118;if(_117&&!_92[_117.mid]){_7b(_fa(_117,args[1],args[2]));}else{if(!has("ie-event-behavior")||!1||_ef){_91.push(args);}else{_117=_117||_81;if(!_117){for(mid in _92){_118=_30[mid];if(_118&&_118.node&&_118.node.readyState==="interactive"){_117=_118;break;}}if(0&&!_117){for(var i=0;i<_79.length;i++){_117=_79[i];if(_117.node&&_117.node.readyState==="interactive"){break;}_117=0;}}}if(0&&_8(_117)){_7b(_fa(_32(_117.shift()),args[1],args[2]));if(!_117.length){_79.splice(i,1);}}else{if(_117){_58(_117);_7b(_fa(_117,args[1],args[2]));}else{_35(_45,_f("ieDefineFailed",args[0]));}}_80();}}};def.amd={vendor:"dojotoolkit.org"};if(0){req.def=def;}_c(_c(req,_2.loaderPatch),_1.loaderPatch);on(_45,function(arg){try{console.error(arg);if(arg instanceof Error){for(var p in arg){}}}catch(e){}});_c(req,{uid:uid,cache:_53,packs:_50});if(0){_c(req,{paths:_4e,aliases:_4d,modules:_30,legacyMode:_26,execQ:_31,defQ:_91,waiting:_92,packs:_50,mapProgs:_51,pathsMapProg:_4f,listenerQueues:_44,computeMapProg:_60,computeAliases:_62,runMapProg:_99,compactPath:_9b,getModuleInfo:_a1});}if(_17.define){if(1){_35(_45,_f("defineAlreadyDefined",0));}return;}else{_17.define=def;_17.require=req;if(0){require=req;}}if(0&&req.combo&&req.combo.plugins){var _119=req.combo.plugins,_11a;for(_11a in _119){_c(_c(_32(_11a),_119[_11a]),{isCombo:1,executed:"executed",load:1});}}if(1){_9(_69,function(c){_6a(c);});var _11b=_56.deps||_1.deps||_2.deps,_11c=_56.callback||_1.callback||_2.callback;req.boot=(_11b||_11c)?[_11b||[],_11c]:0;}if(!1){!req.async&&req(["dojo"]);req.boot&&req.apply(null,req.boot);}})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../mendix",name:"mendix"},{location:"../mxui",name:"mxui"},{location:"../reporting",name:"reporting"},{location:"../webcore",name:"webcore"},{location:"../big",main:"big",name:"big"},{location:"../fastclick",name:"fastclick"},{location:"../react-client",name:"react-client"},{location:"../bluebird",name:"bluebird"},{location:".",name:"dojo"}]});require({cache:{"dojo/main":function(){define(["./_base/kernel","./has","require","./sniff","./_base/lang","./_base/array","./_base/config","./ready","./_base/declare","./_base/connect","./_base/Deferred","./_base/json","./_base/Color","./has!dojo-firebug?./_firebug/firebug","./_base/browser","./_base/loader"],function(_11d,has,_11e,_11f,lang,_120,_121,_122){if(_121.isDebug){_11e(["./_firebug/firebug"]);}1||has.add("dojo-config-require",1);if(1){var deps=_121.require;if(deps){deps=_120.map(lang.isArray(deps)?deps:[deps],function(item){return item.replace(/\./g,"/");});if(_11d.isAsync){_11e(deps);}else{_122(1,function(){_11e(deps);});}}}return _11d;});},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(has,_123,_124,_125){var i,p,_126=(function(){return this;})(),_127={},_128={},dojo={config:_123,global:_126,dijit:_127,dojox:_128};var _129={dojo:["dojo",dojo],dijit:["dijit",_127],dojox:["dojox",_128]},_12a=(_124.map&&_124.map[_125.id.match(/[^\/]+/)[0]]),item;for(p in _12a){if(_129[p]){_129[p][0]=_12a[p];}else{_129[p]=[_12a[p],{}];}}for(p in _129){item=_129[p];item[1]._scopeName=item[0];if(!_123.noGlobals){_126[item[0]]=item[1];}}dojo.scopeMap=_129;dojo.baseUrl=dojo.config.baseUrl=_124.baseUrl;dojo.isAsync=!1||_124.async;dojo.locale=_123.locale;var rev="$Rev: 18f9767 $".match(/[0-9a-f]{7,}/);dojo.version={major:1,minor:10,patch:2,flag:"",revision:rev?rev[0]:NaN,toString:function(){var v=dojo.version;return v.major+"."+v.minor+"."+v.patch+v.flag+" ("+v.revision+")";}};1||has.add("extend-dojo",1);(Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}"))(dojo);if(0){dojo.exit=function(_12b){quit(_12b);};}else{dojo.exit=function(){};}1||has.add("dojo-guarantee-console",1);if(1){typeof console!="undefined"||(console={});var cn=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];var tn;i=0;while((tn=cn[i++])){if(!console[tn]){(function(){var tcn=tn+"";console[tcn]=("log" in console)?function(){var a=Array.prototype.slice.call(arguments);a.unshift(tcn+":");console["log"](a.join(" "));}:function(){};console[tcn]._fake=true;})();}}}has.add("dojo-debug-messages",!!_123.isDebug);dojo.deprecated=dojo.experimental=function(){};if(has("dojo-debug-messages")){dojo.deprecated=function(_12c,_12d,_12e){var _12f="DEPRECATED: "+_12c;if(_12d){_12f+=" "+_12d;}if(_12e){_12f+=" -- will be removed in version: "+_12e;}console.warn(_12f);};dojo.experimental=function(_130,_131){var _132="EXPERIMENTAL: "+_130+" -- APIs subject to change without notice.";if(_131){_132+=" "+_131;}console.warn(_132);};}1||has.add("dojo-modulePaths",1);if(1){if(_123.modulePaths){dojo.deprecated("dojo.modulePaths","use paths configuration");var _133={};for(p in _123.modulePaths){_133[p.replace(/\./g,"/")]=_123.modulePaths[p];}_124({paths:_133});}}1||has.add("dojo-moduleUrl",1);if(1){dojo.moduleUrl=function(_134,url){dojo.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var _135=null;if(_134){_135=_124.toUrl(_134.replace(/\./g,"/")+(url?("/"+url):"")+"/*.*").replace(/\/\*\.\*/,"")+(url?"":"/");}return _135;};}dojo._hasResource={};return dojo;});},"dojo/has":function(){define(["require","module"],function(_136,_137){var has=_136.has||function(){};if(!1){var _138=typeof window!="undefined"&&typeof location!="undefined"&&typeof document!="undefined"&&window.location==location&&window.document==document,_139=(function(){return this;})(),doc=_138&&document,_13a=doc&&doc.createElement("DiV"),_13b=(_137.config&&_137.config())||{};has=function(name){return typeof _13b[name]=="function"?(_13b[name]=_13b[name](_139,doc,_13a)):_13b[name];};has.cache=_13b;has.add=function(name,test,now,_13c){(typeof _13b[name]=="undefined"||_13c)&&(_13b[name]=test);return now&&has(name);};1||has.add("host-browser",_138);0&&has.add("host-node",(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8));0&&has.add("host-rhino",(typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")));1||has.add("dom",_138);1||has.add("dojo-dom-ready-api",1);1||has.add("dojo-sniff",1);}if(1){has.add("dom-addeventlistener",!!document.addEventListener);has.add("touch","ontouchstart" in document||("onpointerdown" in document&&navigator.maxTouchPoints>0)||window.navigator.msMaxTouchPoints);has.add("touch-events","ontouchstart" in document);has.add("pointer-events","onpointerdown" in document);has.add("MSPointer","msMaxTouchPoints" in navigator);has.add("device-width",screen.availWidth||innerWidth);var form=document.createElement("form");has.add("dom-attributes-explicit",form.attributes.length==0);has.add("dom-attributes-specified-flag",form.attributes.length>0&&form.attributes.length<40);}has.clearElement=function(_13d){_13d.innerHTML="";return _13d;};has.normalize=function(id,_13e){var _13f=id.match(/[\?:]|[^:\?]*/g),i=0,get=function(skip){var term=_13f[i++];if(term==":"){return 0;}else{if(_13f[i++]=="?"){if(!skip&&has(term)){return get();}else{get(true);return get(skip);}}return term||0;}};id=get();return id&&_13e(id);};has.load=function(id,_140,_141){if(id){_140([id],_141);}else{_141();}};return has;});},"dojo/_base/config":function(){define(["../has","require"],function(has,_142){var _143={};if(1){var src=_142.rawConfig,p;for(p in src){_143[p]=src[p];}}else{var _144=function(_145,_146,_147){for(p in _145){p!="has"&&has.add(_146+p,_145[p],0,_147);}};var _148=(function(){return this;})();_143=1?_142.rawConfig:_148.dojoConfig||_148.djConfig||{};_144(_143,"config",1);_144(_143.has,"",1);}if(!_143.locale&&typeof navigator!="undefined"){var _149=(navigator.language||navigator.userLanguage);if(_149){_143.locale=_149.toLowerCase();}}return _143;});},"dojo/sniff":function(){define(["./has"],function(has){if(1){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);has.add("air",dua.indexOf("AdobeAIR")>=0);has.add("msapp",parseFloat(dua.split("MSAppHost/")[1])||undefined);has.add("khtml",dav.indexOf("Konqueror")>=0?tv:undefined);has.add("webkit",parseFloat(dua.split("WebKit/")[1])||undefined);has.add("chrome",parseFloat(dua.split("Chrome/")[1])||undefined);has.add("safari",dav.indexOf("Safari")>=0&&!has("chrome")?parseFloat(dav.split("Version/")[1]):undefined);has.add("mac",dav.indexOf("Macintosh")>=0);has.add("quirks",document.compatMode=="BackCompat");if(dua.match(/(iPhone|iPod|iPad)/)){var p=RegExp.$1.replace(/P/,"p");var v=dua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));has.add(p,os);has.add("ios",os);}has.add("android",parseFloat(dua.split("Android ")[1])||undefined);has.add("bb",(dua.indexOf("BlackBerry")>=0||dua.indexOf("BB10")>=0)&&parseFloat(dua.split("Version/")[1])||undefined);has.add("trident",parseFloat(dav.split("Trident/")[1])||undefined);has.add("svg",typeof SVGAngle!=="undefined");if(!has("webkit")){if(dua.indexOf("Opera")>=0){has.add("opera",tv>=9.8?parseFloat(dua.split("Version/")[1])||tv:tv);}if(dua.indexOf("Gecko")>=0&&!has("khtml")&&!has("webkit")&&!has("trident")){has.add("mozilla",tv);}if(has("mozilla")){has.add("ff",parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||undefined);}if(document.all&&!has("opera")){var isIE=parseFloat(dav.split("MSIE ")[1])||undefined;var mode=document.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}has.add("ie",isIE);}has.add("wii",typeof opera!="undefined"&&opera.wiiremote);}}return has;});},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(dojo,has){has.add("bug-for-in-skips-shadowed",function(){for(var i in {toString:1}){return 0;}return 1;});var _14a=has("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],_14b=_14a.length,_14c=function(_14d,_14e,_14f){if(!_14f){if(_14d[0]&&dojo.scopeMap[_14d[0]]){_14f=dojo.scopeMap[_14d.shift()][1];}else{_14f=dojo.global;}}try{for(var i=0;i<_14d.length;i++){var p=_14d[i];if(!(p in _14f)){if(_14e){_14f[p]={};}else{return;}}_14f=_14f[p];}return _14f;}catch(e){}},opts=Object.prototype.toString,_150=function(obj,_151,_152){return (_152||[]).concat(Array.prototype.slice.call(obj,_151||0));},_153=/\{([^\}]+)\}/g;var lang={_extraNames:_14a,_mixin:function(dest,_154,_155){var name,s,i,_156={};for(name in _154){s=_154[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _156)||_156[name]!==s))){dest[name]=_155?_155(s):s;}}if(has("bug-for-in-skips-shadowed")){if(_154){for(i=0;i<_14b;++i){name=_14a[i];s=_154[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _156)||_156[name]!==s))){dest[name]=_155?_155(s):s;}}}}return dest;},mixin:function(dest,_157){if(!dest){dest={};}for(var i=1,l=arguments.length;i<l;i++){lang._mixin(dest,arguments[i]);}return dest;},setObject:function(name,_158,_159){var _15a=name.split("."),p=_15a.pop(),obj=_14c(_15a,true,_159);return obj&&p?(obj[p]=_158):undefined;},getObject:function(name,_15b,_15c){return _14c(name?name.split("."):[],_15b,_15c);},exists:function(name,obj){return lang.getObject(name,false,obj)!==undefined;},isString:function(it){return (typeof it=="string"||it instanceof String);},isArray:function(it){return it&&(it instanceof Array||typeof it=="array");},isFunction:function(it){return opts.call(it)==="[object Function]";},isObject:function(it){return it!==undefined&&(it===null||typeof it=="object"||lang.isArray(it)||lang.isFunction(it));},isArrayLike:function(it){return it&&it!==undefined&&!lang.isString(it)&&!lang.isFunction(it)&&!(it.tagName&&it.tagName.toLowerCase()=="form")&&(lang.isArray(it)||isFinite(it.length));},isAlien:function(it){return it&&!lang.isFunction(it)&&/\{\s*\[native code\]\s*\}/.test(String(it));},extend:function(ctor,_15d){for(var i=1,l=arguments.length;i<l;i++){lang._mixin(ctor.prototype,arguments[i]);}return ctor;},_hitchArgs:function(_15e,_15f){var pre=lang._toArray(arguments,2);var _160=lang.isString(_15f);return function(){var args=lang._toArray(arguments);var f=_160?(_15e||dojo.global)[_15f]:_15f;return f&&f.apply(_15e||this,pre.concat(args));};},hitch:function(_161,_162){if(arguments.length>2){return lang._hitchArgs.apply(dojo,arguments);}if(!_162){_162=_161;_161=null;}if(lang.isString(_162)){_161=_161||dojo.global;if(!_161[_162]){throw (["lang.hitch: scope[\"",_162,"\"] is null (scope=\"",_161,"\")"].join(""));}return function(){return _161[_162].apply(_161,arguments||[]);};}return !_161?_162:function(){return _162.apply(_161,arguments||[]);};},delegate:(function(){function TMP(){};return function(obj,_163){TMP.prototype=obj;var tmp=new TMP();TMP.prototype=null;if(_163){lang._mixin(tmp,_163);}return tmp;};})(),_toArray:has("ie")?(function(){function slow(obj,_164,_165){var arr=_165||[];for(var x=_164||0;x<obj.length;x++){arr.push(obj[x]);}return arr;};return function(obj){return ((obj.item)?slow:_150).apply(this,arguments);};})():_150,partial:function(_166){var arr=[null];return lang.hitch.apply(dojo,arr.concat(lang._toArray(arguments)));},clone:function(src){if(!src||typeof src!="object"||lang.isFunction(src)){return src;}if(src.nodeType&&"cloneNode" in src){return src.cloneNode(true);}if(src instanceof Date){return new Date(src.getTime());}if(src instanceof RegExp){return new RegExp(src);}var r,i,l;if(lang.isArray(src)){r=[];for(i=0,l=src.length;i<l;++i){if(i in src){r.push(lang.clone(src[i]));}}}else{r=src.constructor?new src.constructor():{};}return lang._mixin(r,src,lang.clone);},trim:String.prototype.trim?function(str){return str.trim();}:function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");},replace:function(tmpl,map,_167){return tmpl.replace(_167||_153,lang.isFunction(map)?map:function(_168,k){return lang.getObject(k,false,map);});}};1&&lang.mixin(dojo,lang);return lang;});},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var _169={},u;function _16a(fn){return _169[fn]=new Function("item","index","array",fn);};function _16b(some){var _16c=!some;return function(a,fn,o){var i=0,l=a&&a.length||0,_16d;if(l&&typeof a=="string"){a=a.split("");}if(typeof fn=="string"){fn=_169[fn]||_16a(fn);}if(o){for(;i<l;++i){_16d=!fn.call(o,a[i],i,a);if(some^_16d){return !_16d;}}}else{for(;i<l;++i){_16d=!fn(a[i],i,a);if(some^_16d){return !_16d;}}}return _16c;};};function _16e(up){var _16f=1,_170=0,_171=0;if(!up){_16f=_170=_171=-1;}return function(a,x,from,last){if(last&&_16f>0){return _172.lastIndexOf(a,x,from);}var l=a&&a.length||0,end=up?l+_171:_170,i;if(from===u){i=up?_170:l+_171;}else{if(from<0){i=l+from;if(i<0){i=_170;}}else{i=from>=l?l+_171:from;}}if(l&&typeof a=="string"){a=a.split("");}for(;i!=end;i+=_16f){if(a[i]==x){return i;}}return -1;};};var _172={every:_16b(false),some:_16b(true),indexOf:_16e(true),lastIndexOf:_16e(false),forEach:function(arr,_173,_174){var i=0,l=arr&&arr.length||0;if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _173=="string"){_173=_169[_173]||_16a(_173);}if(_174){for(;i<l;++i){_173.call(_174,arr[i],i,arr);}}else{for(;i<l;++i){_173(arr[i],i,arr);}}},map:function(arr,_175,_176,Ctr){var i=0,l=arr&&arr.length||0,out=new (Ctr||Array)(l);if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _175=="string"){_175=_169[_175]||_16a(_175);}if(_176){for(;i<l;++i){out[i]=_175.call(_176,arr[i],i,arr);}}else{for(;i<l;++i){out[i]=_175(arr[i],i,arr);}}return out;},filter:function(arr,_177,_178){var i=0,l=arr&&arr.length||0,out=[],_179;if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _177=="string"){_177=_169[_177]||_16a(_177);}if(_178){for(;i<l;++i){_179=arr[i];if(_177.call(_178,_179,i,arr)){out.push(_179);}}}else{for(;i<l;++i){_179=arr[i];if(_177(_179,i,arr)){out.push(_179);}}}return out;},clearCache:function(){_169={};}};1&&lang.mixin(dojo,_172);return _172;});},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(dojo,has,_17a,_17b,lang){var _17c=0,_17d=[],_17e=0,_17f=function(){_17c=1;dojo._postLoad=dojo.config.afterOnLoad=true;_180();},_180=function(){if(_17e){return;}_17e=1;while(_17c&&(!_17b||_17b._Q.length==0)&&(_17a.idle?_17a.idle():true)&&_17d.length){var f=_17d.shift();try{f();}catch(e){e.info=e.message;if(_17a.signal){_17a.signal("error",e);}else{throw e;}}}_17e=0;};_17a.on&&_17a.on("idle",_180);if(_17b){_17b._onQEmpty=_180;}var _181=dojo.ready=dojo.addOnLoad=function(_182,_183,_184){var _185=lang._toArray(arguments);if(typeof _182!="number"){_184=_183;_183=_182;_182=1000;}else{_185.shift();}_184=_184?lang.hitch.apply(dojo,_185):function(){_183();};_184.priority=_182;for(var i=0;i<_17d.length&&_182>=_17d[i].priority;i++){}_17d.splice(i,0,_184);_180();};1||has.add("dojo-config-addOnLoad",1);if(1){var dca=dojo.config.addOnLoad;if(dca){_181[(lang.isArray(dca)?"apply":"call")](dojo,dca);}}if(1&&dojo.config.parseOnLoad&&!dojo.isAsync){_181(99,function(){if(!dojo.parser){dojo.deprecated("Add explicit require(['dojo/parser']);","","2.0");_17a(["dojo/parser"]);}});}if(_17b){_17b(_17f);}else{_17f();}return _181;});},"dojo/domReady":function(){define(["./has"],function(has){var _186=(function(){return this;})(),doc=document,_187={"loaded":1,"complete":1},_188=typeof doc.readyState!="string",_189=!!_187[doc.readyState],_18a=[],_18b;function _18c(_18d){_18a.push(_18d);if(_189){_18e();}};_18c.load=function(id,req,load){_18c(load);};_18c._Q=_18a;_18c._onQEmpty=function(){};if(_188){doc.readyState="loading";}function _18e(){if(_18b){return;}_18b=true;while(_18a.length){try{(_18a.shift())(doc);}catch(err){console.error(err,"in domReady callback",err.stack);}}_18b=false;_18c._onQEmpty();};if(!_189){var _18f=[],_190=function(evt){evt=evt||_186.event;if(_189||(evt.type=="readystatechange"&&!_187[doc.readyState])){return;}if(_188){doc.readyState="complete";}_189=1;_18e();},on=function(node,_191){node.addEventListener(_191,_190,false);_18a.push(function(){node.removeEventListener(_191,_190,false);});};if(!has("dom-addeventlistener")){on=function(node,_192){_192="on"+_192;node.attachEvent(_192,_190);_18a.push(function(){node.detachEvent(_192,_190);});};var div=doc.createElement("div");try{if(div.doScroll&&_186.frameElement===null){_18f.push(function(){try{div.doScroll("left");return 1;}catch(e){}});}}catch(e){}}on(doc,"DOMContentLoaded");on(_186,"load");if("onreadystatechange" in doc){on(doc,"readystatechange");}else{if(!_188){_18f.push(function(){return _187[doc.readyState];});}}if(_18f.length){var _193=function(){if(_189){return;}var i=_18f.length;while(i--){if(_18f[i]()){_190("poller");return;}}setTimeout(_193,30);};_193();}}return _18c;});},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var mix=lang.mixin,op=Object.prototype,opts=op.toString,xtor=new Function,_194=0,_195="constructor";function err(msg,cls){throw new Error("declare"+(cls?" "+cls:"")+": "+msg);};function _196(_197,_198){var _199=[],_19a=[{cls:0,refs:[]}],_19b={},_19c=1,l=_197.length,i=0,j,lin,base,top,_19d,rec,name,refs;for(;i<l;++i){base=_197[i];if(!base){err("mixin #"+i+" is unknown. Did you use dojo.require to pull it in?",_198);}else{if(opts.call(base)!="[object Function]"){err("mixin #"+i+" is not a callable constructor.",_198);}}lin=base._meta?base._meta.bases:[base];top=0;for(j=lin.length-1;j>=0;--j){_19d=lin[j].prototype;if(!_19d.hasOwnProperty("declaredClass")){_19d.declaredClass="uniqName_"+(_194++);}name=_19d.declaredClass;if(!_19b.hasOwnProperty(name)){_19b[name]={count:0,refs:[],cls:lin[j]};++_19c;}rec=_19b[name];if(top&&top!==rec){rec.refs.push(top);++top.count;}top=rec;}++top.count;_19a[0].refs.push(top);}while(_19a.length){top=_19a.pop();_199.push(top.cls);--_19c;while(refs=top.refs,refs.length==1){top=refs[0];if(!top||--top.count){top=0;break;}_199.push(top.cls);--_19c;}if(top){for(i=0,l=refs.length;i<l;++i){top=refs[i];if(!--top.count){_19a.push(top);}}}}if(_19c){err("can't build consistent linearization",_198);}base=_197[0];_199[0]=base?base._meta&&base===_199[_199.length-base._meta.bases.length]?base._meta.bases.length:1:0;return _199;};function _19e(args,a,f){var name,_19f,_1a0,_1a1,meta,base,_1a2,opf,pos,_1a3=this._inherited=this._inherited||{};if(typeof args=="string"){name=args;args=a;a=f;}f=0;_1a1=args.callee;name=name||_1a1.nom;if(!name){err("can't deduce a name to call inherited()",this.declaredClass);}meta=this.constructor._meta;_1a0=meta.bases;pos=_1a3.p;if(name!=_195){if(_1a3.c!==_1a1){pos=0;base=_1a0[0];meta=base._meta;if(meta.hidden[name]!==_1a1){_19f=meta.chains;if(_19f&&typeof _19f[name]=="string"){err("calling chained method with inherited: "+name,this.declaredClass);}do{meta=base._meta;_1a2=base.prototype;if(meta&&(_1a2[name]===_1a1&&_1a2.hasOwnProperty(name)||meta.hidden[name]===_1a1)){break;}}while(base=_1a0[++pos]);pos=base?pos:-1;}}base=_1a0[++pos];if(base){_1a2=base.prototype;if(base._meta&&_1a2.hasOwnProperty(name)){f=_1a2[name];}else{opf=op[name];do{_1a2=base.prototype;f=_1a2[name];if(f&&(base._meta?_1a2.hasOwnProperty(name):f!==opf)){break;}}while(base=_1a0[++pos]);}}f=base&&f||op[name];}else{if(_1a3.c!==_1a1){pos=0;meta=_1a0[0]._meta;if(meta&&meta.ctor!==_1a1){_19f=meta.chains;if(!_19f||_19f.constructor!=="manual"){err("calling chained constructor with inherited",this.declaredClass);}while(base=_1a0[++pos]){meta=base._meta;if(meta&&meta.ctor===_1a1){break;}}pos=base?pos:-1;}}while(base=_1a0[++pos]){meta=base._meta;f=meta?meta.ctor:base;if(f){break;}}f=base&&f;}_1a3.c=f;_1a3.p=pos;if(f){return a===true?f:f.apply(this,a||args);}};function _1a4(name,args){if(typeof name=="string"){return this.__inherited(name,args,true);}return this.__inherited(name,true);};function _1a5(args,a1,a2){var f=this.getInherited(args,a1);if(f){return f.apply(this,a2||a1||args);}};var _1a6=dojo.config.isDebug?_1a5:_19e;function _1a7(cls){var _1a8=this.constructor._meta.bases;for(var i=0,l=_1a8.length;i<l;++i){if(_1a8[i]===cls){return true;}}return this instanceof cls;};function _1a9(_1aa,_1ab){for(var name in _1ab){if(name!=_195&&_1ab.hasOwnProperty(name)){_1aa[name]=_1ab[name];}}if(has("bug-for-in-skips-shadowed")){for(var _1ac=lang._extraNames,i=_1ac.length;i;){name=_1ac[--i];if(name!=_195&&_1ab.hasOwnProperty(name)){_1aa[name]=_1ab[name];}}}};function _1ad(_1ae,_1af){var name,t;for(name in _1af){t=_1af[name];if((t!==op[name]||!(name in op))&&name!=_195){if(opts.call(t)=="[object Function]"){t.nom=name;}_1ae[name]=t;}}if(has("bug-for-in-skips-shadowed")){for(var _1b0=lang._extraNames,i=_1b0.length;i;){name=_1b0[--i];t=_1af[name];if((t!==op[name]||!(name in op))&&name!=_195){if(opts.call(t)=="[object Function]"){t.nom=name;}_1ae[name]=t;}}}return _1ae;};function _1b1(_1b2){_1b3.safeMixin(this.prototype,_1b2);return this;};function _1b4(_1b5,_1b6){if(!(_1b5 instanceof Array||typeof _1b5=="function")){_1b6=_1b5;_1b5=undefined;}_1b6=_1b6||{};_1b5=_1b5||[];return _1b3([this].concat(_1b5),_1b6);};function _1b7(_1b8,_1b9){return function(){var a=arguments,args=a,a0=a[0],f,i,m,l=_1b8.length,_1ba;if(!(this instanceof a.callee)){return _1bb(a);}if(_1b9&&(a0&&a0.preamble||this.preamble)){_1ba=new Array(_1b8.length);_1ba[0]=a;for(i=0;;){a0=a[0];if(a0){f=a0.preamble;if(f){a=f.apply(this,a)||a;}}f=_1b8[i].prototype;f=f.hasOwnProperty("preamble")&&f.preamble;if(f){a=f.apply(this,a)||a;}if(++i==l){break;}_1ba[i]=a;}}for(i=l-1;i>=0;--i){f=_1b8[i];m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,_1ba?_1ba[i]:a);}}f=this.postscript;if(f){f.apply(this,args);}};};function _1bc(ctor,_1bd){return function(){var a=arguments,t=a,a0=a[0],f;if(!(this instanceof a.callee)){return _1bb(a);}if(_1bd){if(a0){f=a0.preamble;if(f){t=f.apply(this,t)||t;}}f=this.preamble;if(f){f.apply(this,t);}}if(ctor){ctor.apply(this,a);}f=this.postscript;if(f){f.apply(this,a);}};};function _1be(_1bf){return function(){var a=arguments,i=0,f,m;if(!(this instanceof a.callee)){return _1bb(a);}for(;f=_1bf[i];++i){m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,a);break;}}f=this.postscript;if(f){f.apply(this,a);}};};function _1c0(name,_1c1,_1c2){return function(){var b,m,f,i=0,step=1;if(_1c2){i=_1c1.length-1;step=-1;}for(;b=_1c1[i];i+=step){m=b._meta;f=(m?m.hidden:b.prototype)[name];if(f){f.apply(this,arguments);}}};};function _1c3(ctor){xtor.prototype=ctor.prototype;var t=new xtor;xtor.prototype=null;return t;};function _1bb(args){var ctor=args.callee,t=_1c3(ctor);ctor.apply(t,args);return t;};function _1b3(_1c4,_1c5,_1c6){if(typeof _1c4!="string"){_1c6=_1c5;_1c5=_1c4;_1c4="";}_1c6=_1c6||{};var _1c7,i,t,ctor,name,_1c8,_1c9,_1ca=1,_1cb=_1c5;if(opts.call(_1c5)=="[object Array]"){_1c8=_196(_1c5,_1c4);t=_1c8[0];_1ca=_1c8.length-t;_1c5=_1c8[_1ca];}else{_1c8=[0];if(_1c5){if(opts.call(_1c5)=="[object Function]"){t=_1c5._meta;_1c8=_1c8.concat(t?t.bases:_1c5);}else{err("base class is not a callable constructor.",_1c4);}}else{if(_1c5!==null){err("unknown base class. Did you use dojo.require to pull it in?",_1c4);}}}if(_1c5){for(i=_1ca-1;;--i){_1c7=_1c3(_1c5);if(!i){break;}t=_1c8[i];(t._meta?_1a9:mix)(_1c7,t.prototype);ctor=new Function;ctor.superclass=_1c5;ctor.prototype=_1c7;_1c5=_1c7.constructor=ctor;}}else{_1c7={};}_1b3.safeMixin(_1c7,_1c6);t=_1c6.constructor;if(t!==op.constructor){t.nom=_195;_1c7.constructor=t;}for(i=_1ca-1;i;--i){t=_1c8[i]._meta;if(t&&t.chains){_1c9=mix(_1c9||{},t.chains);}}if(_1c7["-chains-"]){_1c9=mix(_1c9||{},_1c7["-chains-"]);}t=!_1c9||!_1c9.hasOwnProperty(_195);_1c8[0]=ctor=(_1c9&&_1c9.constructor==="manual")?_1be(_1c8):(_1c8.length==1?_1bc(_1c6.constructor,t):_1b7(_1c8,t));ctor._meta={bases:_1c8,hidden:_1c6,chains:_1c9,parents:_1cb,ctor:_1c6.constructor};ctor.superclass=_1c5&&_1c5.prototype;ctor.extend=_1b1;ctor.createSubclass=_1b4;ctor.prototype=_1c7;_1c7.constructor=ctor;_1c7.getInherited=_1a4;_1c7.isInstanceOf=_1a7;_1c7.inherited=_1a6;_1c7.__inherited=_19e;if(_1c4){_1c7.declaredClass=_1c4;lang.setObject(_1c4,ctor);}if(_1c9){for(name in _1c9){if(_1c7[name]&&typeof _1c9[name]=="string"&&name!=_195){t=_1c7[name]=_1c0(name,_1c8,_1c9[name]==="after");t.nom=name;}}}return ctor;};dojo.safeMixin=_1b3.safeMixin=_1ad;dojo.declare=_1b3;return _1b3;});},"dojo/_base/connect":function(){define(["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(dojo,on,hub,_1cc,_1cd,_1ce,has,lang){has.add("events-keypress-typed",function(){var _1cf={charCode:0};try{_1cf=document.createEvent("KeyboardEvent");(_1cf.initKeyboardEvent||_1cf.initKeyEvent).call(_1cf,"keypress",true,true,null,false,false,false,false,9,3);}catch(e){}return _1cf.charCode==0&&!has("opera");});function _1d0(obj,_1d1,_1d2,_1d3,_1d4){_1d3=lang.hitch(_1d2,_1d3);if(!obj||!(obj.addEventListener||obj.attachEvent)){return _1cc.after(obj||dojo.global,_1d1,_1d3,true);}if(typeof _1d1=="string"&&_1d1.substring(0,2)=="on"){_1d1=_1d1.substring(2);}if(!obj){obj=dojo.global;}if(!_1d4){switch(_1d1){case "keypress":_1d1=_1d5;break;case "mouseenter":_1d1=_1ce.enter;break;case "mouseleave":_1d1=_1ce.leave;break;}}return on(obj,_1d1,_1d3,_1d4);};var _1d6={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113};var _1d7=has("mac")?"metaKey":"ctrlKey";var _1d8=function(evt,_1d9){var faux=lang.mixin({},evt,_1d9);_1da(faux);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;};function _1da(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _1d5;if(has("events-keypress-typed")){var _1db=function(e,code){try{return (e.keyCode=code);}catch(e){return 0;}};_1d5=function(_1dc,_1dd){var _1de=on(_1dc,"keydown",function(evt){var k=evt.keyCode;var _1df=(k!=13)&&k!=32&&(k!=27||!has("ie"))&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222)&&k!=229;if(_1df||evt.ctrlKey){var c=_1df?0:k;if(evt.ctrlKey){if(k==3||k==13){return _1dd.call(evt.currentTarget,evt);}else{if(c>95&&c<106){c-=48;}else{if((!evt.shiftKey)&&(c>=65&&c<=90)){c+=32;}else{c=_1d6[c]||c;}}}}var faux=_1d8(evt,{type:"keypress",faux:true,charCode:c});_1dd.call(evt.currentTarget,faux);if(has("ie")){_1db(evt,faux.keyCode);}}});var _1e0=on(_1dc,"keypress",function(evt){var c=evt.charCode;c=c>=32?c:0;evt=_1d8(evt,{charCode:c,faux:true});return _1dd.call(this,evt);});return {remove:function(){_1de.remove();_1e0.remove();}};};}else{if(has("opera")){_1d5=function(_1e1,_1e2){return on(_1e1,"keypress",function(evt){var c=evt.which;if(c==3){c=99;}c=c<32&&!evt.shiftKey?0:c;if(evt.ctrlKey&&!evt.shiftKey&&c>=65&&c<=90){c+=32;}return _1e2.call(this,_1d8(evt,{charCode:c}));});};}else{_1d5=function(_1e3,_1e4){return on(_1e3,"keypress",function(evt){_1da(evt);return _1e4.call(this,evt);});};}}var _1e5={_keypress:_1d5,connect:function(obj,_1e6,_1e7,_1e8,_1e9){var a=arguments,args=[],i=0;args.push(typeof a[0]=="string"?null:a[i++],a[i++]);var a1=a[i+1];args.push(typeof a1=="string"||typeof a1=="function"?a[i++]:null,a[i++]);for(var l=a.length;i<l;i++){args.push(a[i]);}return _1d0.apply(this,args);},disconnect:function(_1ea){if(_1ea){_1ea.remove();}},subscribe:function(_1eb,_1ec,_1ed){return hub.subscribe(_1eb,lang.hitch(_1ec,_1ed));},publish:function(_1ee,args){return hub.publish.apply(hub,[_1ee].concat(args));},connectPublisher:function(_1ef,obj,_1f0){var pf=function(){_1e5.publish(_1ef,arguments);};return _1f0?_1e5.connect(obj,_1f0,pf):_1e5.connect(obj,pf);},isCopyKey:function(e){return e[_1d7];}};_1e5.unsubscribe=_1e5.disconnect;1&&lang.mixin(dojo,_1e5);return _1e5;});},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(_1f1,dojo,has){"use strict";if(1){var _1f2=window.ScriptEngineMajorVersion;has.add("jscript",_1f2&&(_1f2()+ScriptEngineMinorVersion()/10));has.add("event-orientationchange",has("touch")&&!has("android"));has.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);has.add("event-focusin",function(_1f3,doc,_1f4){return "onfocusin" in _1f4;});if(has("touch")){has.add("touch-can-modify-event-delegate",function(){var _1f5=function(){};_1f5.prototype=document.createEvent("MouseEvents");try{var _1f6=new _1f5;_1f6.target=null;return _1f6.target===null;}catch(e){return false;}});}}var on=function(_1f7,type,_1f8,_1f9){if(typeof _1f7.on=="function"&&typeof type!="function"&&!_1f7.nodeType){return _1f7.on(type,_1f8);}return on.parse(_1f7,type,_1f8,_1fa,_1f9,this);};on.pausable=function(_1fb,type,_1fc,_1fd){var _1fe;var _1ff=on(_1fb,type,function(){if(!_1fe){return _1fc.apply(this,arguments);}},_1fd);_1ff.pause=function(){_1fe=true;};_1ff.resume=function(){_1fe=false;};return _1ff;};on.once=function(_200,type,_201,_202){var _203=on(_200,type,function(){_203.remove();return _201.apply(this,arguments);});return _203;};on.parse=function(_204,type,_205,_206,_207,_208){if(type.call){return type.call(_208,_204,_205);}if(type instanceof Array){_209=type;}else{if(type.indexOf(",")>-1){var _209=type.split(/\s*,\s*/);}}if(_209){var _20a=[];var i=0;var _20b;while(_20b=_209[i++]){_20a.push(on.parse(_204,_20b,_205,_206,_207,_208));}_20a.remove=function(){for(var i=0;i<_20a.length;i++){_20a[i].remove();}};return _20a;}return _206(_204,type,_205,_207,_208);};var _20c=/^touch/;function _1fa(_20d,type,_20e,_20f,_210){var _211=type.match(/(.*):(.*)/);if(_211){type=_211[2];_211=_211[1];return on.selector(_211,type).call(_210,_20d,_20e);}if(has("touch")){if(_20c.test(type)){_20e=_212(_20e);}if(!has("event-orientationchange")&&(type=="orientationchange")){type="resize";_20d=window;_20e=_212(_20e);}}if(_213){_20e=_213(_20e);}if(_20d.addEventListener){var _214=type in _215,_216=_214?_215[type]:type;_20d.addEventListener(_216,_20e,_214);return {remove:function(){_20d.removeEventListener(_216,_20e,_214);}};}type="on"+type;if(_217&&_20d.attachEvent){return _217(_20d,type,_20e);}throw new Error("Target must be an event emitter");};on.matches=function(node,_218,_219,_21a,_21b){_21b=_21b&&_21b.matches?_21b:dojo.query;_21a=_21a!==false;if(node.nodeType!=1){node=node.parentNode;}while(!_21b.matches(node,_218,_219)){if(node==_219||_21a===false||!(node=node.parentNode)||node.nodeType!=1){return false;}}return node;};on.selector=function(_21c,_21d,_21e){return function(_21f,_220){var _221=typeof _21c=="function"?{matches:_21c}:this,_222=_21d.bubble;function _223(_224){return on.matches(_224,_21c,_21f,_21e,_221);};if(_222){return on(_21f,_222(_223),_220);}return on(_21f,_21d,function(_225){var _226=_223(_225.target);if(_226){return _220.call(_226,_225);}});};};function _227(){this.cancelable=false;this.defaultPrevented=true;};function _228(){this.bubbles=false;};var _229=[].slice,_22a=on.emit=function(_22b,type,_22c){var args=_229.call(arguments,2);var _22d="on"+type;if("parentNode" in _22b){var _22e=args[0]={};for(var i in _22c){_22e[i]=_22c[i];}_22e.preventDefault=_227;_22e.stopPropagation=_228;_22e.target=_22b;_22e.type=type;_22c=_22e;}do{_22b[_22d]&&_22b[_22d].apply(_22b,args);}while(_22c&&_22c.bubbles&&(_22b=_22b.parentNode));return _22c&&_22c.cancelable&&_22c;};var _215=has("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!has("event-stopimmediatepropagation")){var _22f=function(){this.immediatelyStopped=true;this.modified=true;};var _213=function(_230){return function(_231){if(!_231.immediatelyStopped){_231.stopImmediatePropagation=_22f;return _230.apply(this,arguments);}};};}if(has("dom-addeventlistener")){on.emit=function(_232,type,_233){if(_232.dispatchEvent&&document.createEvent){var _234=_232.ownerDocument||document;var _235=_234.createEvent("HTMLEvents");_235.initEvent(type,!!_233.bubbles,!!_233.cancelable);for(var i in _233){if(!(i in _235)){_235[i]=_233[i];}}return _232.dispatchEvent(_235)&&_235;}return _22a.apply(on,arguments);};}else{on._fixEvent=function(evt,_236){if(!evt){var w=_236&&(_236.ownerDocument||_236.document||_236).parentWindow||window;evt=w.event;}if(!evt){return evt;}try{if(_237&&evt.type==_237.type&&evt.srcElement==_237.target){evt=_237;}}catch(e){}if(!evt.target){evt.target=evt.srcElement;evt.currentTarget=(_236||evt.srcElement);if(evt.type=="mouseover"){evt.relatedTarget=evt.fromElement;}if(evt.type=="mouseout"){evt.relatedTarget=evt.toElement;}if(!evt.stopPropagation){evt.stopPropagation=_238;evt.preventDefault=_239;}switch(evt.type){case "keypress":var c=("charCode" in evt?evt.charCode:evt.keyCode);if(c==10){c=0;evt.keyCode=13;}else{if(c==13||c==27){c=0;}else{if(c==3){c=99;}}}evt.charCode=c;_23a(evt);break;}}return evt;};var _237,_23b=function(_23c){this.handle=_23c;};_23b.prototype.remove=function(){delete _dojoIEListeners_[this.handle];};var _23d=function(_23e){return function(evt){evt=on._fixEvent(evt,this);var _23f=_23e.call(this,evt);if(evt.modified){if(!_237){setTimeout(function(){_237=null;});}_237=evt;}return _23f;};};var _217=function(_240,type,_241){_241=_23d(_241);if(((_240.ownerDocument?_240.ownerDocument.parentWindow:_240.parentWindow||_240.window||window)!=top||has("jscript")<5.8)&&!has("config-_allow_leaks")){if(typeof _dojoIEListeners_=="undefined"){_dojoIEListeners_=[];}var _242=_240[type];if(!_242||!_242.listeners){var _243=_242;_242=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");_242.listeners=[];_240[type]=_242;_242.global=this;if(_243){_242.listeners.push(_dojoIEListeners_.push(_243)-1);}}var _244;_242.listeners.push(_244=(_242.global._dojoIEListeners_.push(_241)-1));return new _23b(_244);}return _1f1.after(_240,type,_241,true);};var _23a=function(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _238=function(){this.cancelBubble=true;};var _239=on._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey){try{this.keyCode=0;}catch(e){}}this.defaultPrevented=true;this.returnValue=false;this.modified=true;};}if(has("touch")){var _245=function(){};var _246=window.orientation;var _212=function(_247){return function(_248){var _249=_248.corrected;if(!_249){var type=_248.type;try{delete _248.type;}catch(e){}if(_248.type){if(has("touch-can-modify-event-delegate")){_245.prototype=_248;_249=new _245;}else{_249={};for(var name in _248){_249[name]=_248[name];}}_249.preventDefault=function(){_248.preventDefault();};_249.stopPropagation=function(){_248.stopPropagation();};}else{_249=_248;_249.type=type;}_248.corrected=_249;if(type=="resize"){if(_246==window.orientation){return null;}_246=window.orientation;_249.type="orientationchange";return _247.call(this,_249);}if(!("rotation" in _249)){_249.rotation=0;_249.scale=1;}var _24a=_249.changedTouches[0];for(var i in _24a){delete _249[i];_249[i]=_24a[i];}}return _247.call(this,_249);};};}return on;});},"dojo/topic":function(){define(["./Evented"],function(_24b){var hub=new _24b;return {publish:function(_24c,_24d){return hub.emit.apply(hub,arguments);},subscribe:function(_24e,_24f){return hub.on.apply(hub,arguments);}};});},"dojo/Evented":function(){define(["./aspect","./on"],function(_250,on){"use strict";var _251=_250.after;function _252(){};_252.prototype={on:function(type,_253){return on.parse(this,type,_253,function(_254,type){return _251(_254,"on"+type,_253,true);});},emit:function(type,_255){var args=[this];args.push.apply(args,arguments);return on.emit.apply(on,args);}};return _252;});},"dojo/aspect":function(){define([],function(){"use strict";var _256,_257=0;function _258(_259,type,_25a,_25b){var _25c=_259[type];var _25d=type=="around";var _25e;if(_25d){var _25f=_25a(function(){return _25c.advice(this,arguments);});_25e={remove:function(){if(_25f){_25f=_259=_25a=null;}},advice:function(_260,args){return _25f?_25f.apply(_260,args):_25c.advice(_260,args);}};}else{_25e={remove:function(){if(_25e.advice){var _261=_25e.previous;var next=_25e.next;if(!next&&!_261){delete _259[type];}else{if(_261){_261.next=next;}else{_259[type]=next;}if(next){next.previous=_261;}}_259=_25a=_25e.advice=null;}},id:_257++,advice:_25a,receiveArguments:_25b};}if(_25c&&!_25d){if(type=="after"){while(_25c.next&&(_25c=_25c.next)){}_25c.next=_25e;_25e.previous=_25c;}else{if(type=="before"){_259[type]=_25e;_25e.next=_25c;_25c.previous=_25e;}}}else{_259[type]=_25e;}return _25e;};function _262(type){return function(_263,_264,_265,_266){var _267=_263[_264],_268;if(!_267||_267.target!=_263){_263[_264]=_268=function(){var _269=_257;var args=arguments;var _26a=_268.before;while(_26a){args=_26a.advice.apply(this,args)||args;_26a=_26a.next;}if(_268.around){var _26b=_268.around.advice(this,args);}var _26c=_268.after;while(_26c&&_26c.id<_269){if(_26c.receiveArguments){var _26d=_26c.advice.apply(this,args);_26b=_26d===_256?_26b:_26d;}else{_26b=_26c.advice.call(this,_26b,args);}_26c=_26c.next;}return _26b;};if(_267){_268.around={advice:function(_26e,args){return _267.apply(_26e,args);}};}_268.target=_263;}var _26f=_258((_268||_267),type,_265,_266);_265=null;return _26f;};};var _270=_262("after");var _271=_262("before");var _272=_262("around");return {before:_271,around:_272,after:_270};});},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(dojo,on,has,dom){if(on._fixEvent){var _273=on._fixEvent;on._fixEvent=function(evt,se){evt=_273(evt,se);if(evt){dom.normalizeEvent(evt);}return evt;};}var ret={fix:function(evt,_274){if(on._fixEvent){return on._fixEvent(evt,_274);}return evt;},stop:function(evt){if(has("dom-addeventlistener")||(evt&&evt.preventDefault)){evt.preventDefault();evt.stopPropagation();}else{evt=evt||window.event;evt.cancelBubble=true;on._preventDefault.call(evt);}}};if(1){dojo.fixEvent=ret.fix;dojo.stopEvent=ret.stop;}return ret;});},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(has,win,dom,_275){var geom={};geom.boxModel="content-box";if(has("ie")){geom.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box";}geom.getPadExtents=function getPadExtents(node,_276){node=dom.byId(node);var s=_276||_275.getComputedStyle(node),px=_275.toPixelValue,l=px(node,s.paddingLeft),t=px(node,s.paddingTop),r=px(node,s.paddingRight),b=px(node,s.paddingBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};var none="none";geom.getBorderExtents=function getBorderExtents(node,_277){node=dom.byId(node);var px=_275.toPixelValue,s=_277||_275.getComputedStyle(node),l=s.borderLeftStyle!=none?px(node,s.borderLeftWidth):0,t=s.borderTopStyle!=none?px(node,s.borderTopWidth):0,r=s.borderRightStyle!=none?px(node,s.borderRightWidth):0,b=s.borderBottomStyle!=none?px(node,s.borderBottomWidth):0;return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getPadBorderExtents=function getPadBorderExtents(node,_278){node=dom.byId(node);var s=_278||_275.getComputedStyle(node),p=geom.getPadExtents(node,s),b=geom.getBorderExtents(node,s);return {l:p.l+b.l,t:p.t+b.t,r:p.r+b.r,b:p.b+b.b,w:p.w+b.w,h:p.h+b.h};};geom.getMarginExtents=function getMarginExtents(node,_279){node=dom.byId(node);var s=_279||_275.getComputedStyle(node),px=_275.toPixelValue,l=px(node,s.marginLeft),t=px(node,s.marginTop),r=px(node,s.marginRight),b=px(node,s.marginBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getMarginBox=function getMarginBox(node,_27a){node=dom.byId(node);var s=_27a||_275.getComputedStyle(node),me=geom.getMarginExtents(node,s),l=node.offsetLeft-me.l,t=node.offsetTop-me.t,p=node.parentNode,px=_275.toPixelValue,pcs;if(has("mozilla")){var sl=parseFloat(s.left),st=parseFloat(s.top);if(!isNaN(sl)&&!isNaN(st)){l=sl;t=st;}else{if(p&&p.style){pcs=_275.getComputedStyle(p);if(pcs.overflow!="visible"){l+=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t+=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}}else{if(has("opera")||(has("ie")==8&&!has("quirks"))){if(p){pcs=_275.getComputedStyle(p);l-=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t-=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}return {l:l,t:t,w:node.offsetWidth+me.w,h:node.offsetHeight+me.h};};geom.getContentBox=function getContentBox(node,_27b){node=dom.byId(node);var s=_27b||_275.getComputedStyle(node),w=node.clientWidth,h,pe=geom.getPadExtents(node,s),be=geom.getBorderExtents(node,s);if(!w){w=node.offsetWidth;h=node.offsetHeight;}else{h=node.clientHeight;be.w=be.h=0;}if(has("opera")){pe.l+=be.l;pe.t+=be.t;}return {l:pe.l,t:pe.t,w:w-pe.w-be.w,h:h-pe.h-be.h};};function _27c(node,l,t,w,h,u){u=u||"px";var s=node.style;if(!isNaN(l)){s.left=l+u;}if(!isNaN(t)){s.top=t+u;}if(w>=0){s.width=w+u;}if(h>=0){s.height=h+u;}};function _27d(node){return node.tagName.toLowerCase()=="button"||node.tagName.toLowerCase()=="input"&&(node.getAttribute("type")||"").toLowerCase()=="button";};function _27e(node){return geom.boxModel=="border-box"||node.tagName.toLowerCase()=="table"||_27d(node);};geom.setContentSize=function setContentSize(node,box,_27f){node=dom.byId(node);var w=box.w,h=box.h;if(_27e(node)){var pb=geom.getPadBorderExtents(node,_27f);if(w>=0){w+=pb.w;}if(h>=0){h+=pb.h;}}_27c(node,NaN,NaN,w,h);};var _280={l:0,t:0,w:0,h:0};geom.setMarginBox=function setMarginBox(node,box,_281){node=dom.byId(node);var s=_281||_275.getComputedStyle(node),w=box.w,h=box.h,pb=_27e(node)?_280:geom.getPadBorderExtents(node,s),mb=geom.getMarginExtents(node,s);if(has("webkit")){if(_27d(node)){var ns=node.style;if(w>=0&&!ns.width){ns.width="4px";}if(h>=0&&!ns.height){ns.height="4px";}}}if(w>=0){w=Math.max(w-pb.w-mb.w,0);}if(h>=0){h=Math.max(h-pb.h-mb.h,0);}_27c(node,box.l,box.t,w,h);};geom.isBodyLtr=function isBodyLtr(doc){doc=doc||win.doc;return (win.body(doc).dir||doc.documentElement.dir||"ltr").toLowerCase()=="ltr";};geom.docScroll=function docScroll(doc){doc=doc||win.doc;var node=win.doc.parentWindow||win.doc.defaultView;return "pageXOffset" in node?{x:node.pageXOffset,y:node.pageYOffset}:(node=has("quirks")?win.body(doc):doc.documentElement)&&{x:geom.fixIeBiDiScrollLeft(node.scrollLeft||0,doc),y:node.scrollTop||0};};if(has("ie")){geom.getIeDocumentElementOffset=function getIeDocumentElementOffset(doc){doc=doc||win.doc;var de=doc.documentElement;if(has("ie")<8){var r=de.getBoundingClientRect(),l=r.left,t=r.top;if(has("ie")<7){l+=de.clientLeft;t+=de.clientTop;}return {x:l<0?0:l,y:t<0?0:t};}else{return {x:0,y:0};}};}geom.fixIeBiDiScrollLeft=function fixIeBiDiScrollLeft(_282,doc){doc=doc||win.doc;var ie=has("ie");if(ie&&!geom.isBodyLtr(doc)){var qk=has("quirks"),de=qk?win.body(doc):doc.documentElement,pwin=win.global;if(ie==6&&!qk&&pwin.frameElement&&de.scrollHeight>de.clientHeight){_282+=de.clientLeft;}return (ie<8||qk)?(_282+de.clientWidth-de.scrollWidth):-_282;}return _282;};geom.position=function(node,_283){node=dom.byId(node);var db=win.body(node.ownerDocument),ret=node.getBoundingClientRect();ret={x:ret.left,y:ret.top,w:ret.right-ret.left,h:ret.bottom-ret.top};if(has("ie")<9){var _284=geom.getIeDocumentElementOffset(node.ownerDocument);ret.x-=_284.x+(has("quirks")?db.clientLeft+db.offsetLeft:0);ret.y-=_284.y+(has("quirks")?db.clientTop+db.offsetTop:0);}if(_283){var _285=geom.docScroll(node.ownerDocument);ret.x+=_285.x;ret.y+=_285.y;}return ret;};geom.getMarginSize=function getMarginSize(node,_286){node=dom.byId(node);var me=geom.getMarginExtents(node,_286||_275.getComputedStyle(node));var size=node.getBoundingClientRect();return {w:(size.right-size.left)+me.w,h:(size.bottom-size.top)+me.h};};geom.normalizeEvent=function(_287){if(!("layerX" in _287)){_287.layerX=_287.offsetX;_287.layerY=_287.offsetY;}if(!has("dom-addeventlistener")){var se=_287.target;var doc=(se&&se.ownerDocument)||document;var _288=has("quirks")?doc.body:doc.documentElement;var _289=geom.getIeDocumentElementOffset(doc);_287.pageX=_287.clientX+geom.fixIeBiDiScrollLeft(_288.scrollLeft||0,doc)-_289.x;_287.pageY=_287.clientY+(_288.scrollTop||0)-_289.y;}};return geom;});},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(dojo,lang,has){var ret={global:dojo.global,doc:dojo.global["document"]||null,body:function(doc){doc=doc||dojo.doc;return doc.body||doc.getElementsByTagName("body")[0];},setContext:function(_28a,_28b){dojo.global=ret.global=_28a;dojo.doc=ret.doc=_28b;},withGlobal:function(_28c,_28d,_28e,_28f){var _290=dojo.global;try{dojo.global=ret.global=_28c;return ret.withDoc.call(null,_28c.document,_28d,_28e,_28f);}finally{dojo.global=ret.global=_290;}},withDoc:function(_291,_292,_293,_294){var _295=ret.doc,oldQ=has("quirks"),_296=has("ie"),isIE,mode,pwin;try{dojo.doc=ret.doc=_291;dojo.isQuirks=has.add("quirks",dojo.doc.compatMode=="BackCompat",true,true);if(has("ie")){if((pwin=_291.parentWindow)&&pwin.navigator){isIE=parseFloat(pwin.navigator.appVersion.split("MSIE ")[1])||undefined;mode=_291.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}dojo.isIE=has.add("ie",isIE,true,true);}}if(_293&&typeof _292=="string"){_292=_293[_292];}return _292.apply(_293,_294||[]);}finally{dojo.doc=ret.doc=_295;dojo.isQuirks=has.add("quirks",oldQ,true,true);dojo.isIE=has.add("ie",_296,true,true);}}};1&&lang.mixin(dojo,ret);return ret;});},"dojo/dom":function(){define(["./sniff","./_base/window"],function(has,win){if(has("ie")<=7){try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}}var dom={};if(has("ie")){dom.byId=function(id,doc){if(typeof id!="string"){return id;}var _297=doc||win.doc,te=id&&_297.getElementById(id);if(te&&(te.attributes.id.value==id||te.id==id)){return te;}else{var eles=_297.all[id];if(!eles||eles.nodeName){eles=[eles];}var i=0;while((te=eles[i++])){if((te.attributes&&te.attributes.id&&te.attributes.id.value==id)||te.id==id){return te;}}}};}else{dom.byId=function(id,doc){return ((typeof id=="string")?(doc||win.doc).getElementById(id):id)||null;};}dom.isDescendant=function(node,_298){try{node=dom.byId(node);_298=dom.byId(_298);while(node){if(node==_298){return true;}node=node.parentNode;}}catch(e){}return false;};has.add("css-user-select",function(_299,doc,_29a){if(!_29a){return false;}var _29b=_29a.style;var _29c=["Khtml","O","Moz","Webkit"],i=_29c.length,name="userSelect",_29d;do{if(typeof _29b[name]!=="undefined"){return name;}}while(i--&&(name=_29c[i]+"UserSelect"));return false;});var _29e=has("css-user-select");dom.setSelectable=_29e?function(node,_29f){dom.byId(node).style[_29e]=_29f?"":"none";}:function(node,_2a0){node=dom.byId(node);var _2a1=node.getElementsByTagName("*"),i=_2a1.length;if(_2a0){node.removeAttribute("unselectable");while(i--){_2a1[i].removeAttribute("unselectable");}}else{node.setAttribute("unselectable","on");while(i--){_2a1[i].setAttribute("unselectable","on");}}};return dom;});},"dojo/dom-style":function(){define(["./sniff","./dom"],function(has,dom){var _2a2,_2a3={};if(has("webkit")){_2a2=function(node){var s;if(node.nodeType==1){var dv=node.ownerDocument.defaultView;s=dv.getComputedStyle(node,null);if(!s&&node.style){node.style.display="";s=dv.getComputedStyle(node,null);}}return s||{};};}else{if(has("ie")&&(has("ie")<9||has("quirks"))){_2a2=function(node){return node.nodeType==1&&node.currentStyle?node.currentStyle:{};};}else{_2a2=function(node){return node.nodeType==1?node.ownerDocument.defaultView.getComputedStyle(node,null):{};};}}_2a3.getComputedStyle=_2a2;var _2a4;if(!has("ie")){_2a4=function(_2a5,_2a6){return parseFloat(_2a6)||0;};}else{_2a4=function(_2a7,_2a8){if(!_2a8){return 0;}if(_2a8=="medium"){return 4;}if(_2a8.slice&&_2a8.slice(-2)=="px"){return parseFloat(_2a8);}var s=_2a7.style,rs=_2a7.runtimeStyle,cs=_2a7.currentStyle,_2a9=s.left,_2aa=rs.left;rs.left=cs.left;try{s.left=_2a8;_2a8=s.pixelLeft;}catch(e){_2a8=0;}s.left=_2a9;rs.left=_2aa;return _2a8;};}_2a3.toPixelValue=_2a4;var astr="DXImageTransform.Microsoft.Alpha";var af=function(n,f){try{return n.filters.item(astr);}catch(e){return f?{}:null;}};var _2ab=has("ie")<9||(has("ie")<10&&has("quirks"))?function(node){try{return af(node).Opacity/100;}catch(e){return 1;}}:function(node){return _2a2(node).opacity;};var _2ac=has("ie")<9||(has("ie")<10&&has("quirks"))?function(node,_2ad){if(_2ad===""){_2ad=1;}var ov=_2ad*100,_2ae=_2ad===1;if(_2ae){node.style.zoom="";if(af(node)){node.style.filter=node.style.filter.replace(new RegExp("\\s*progid:"+astr+"\\([^\\)]+?\\)","i"),"");}}else{node.style.zoom=1;if(af(node)){af(node,1).Opacity=ov;}else{node.style.filter+=" progid:"+astr+"(Opacity="+ov+")";}af(node,1).Enabled=true;}if(node.tagName.toLowerCase()=="tr"){for(var td=node.firstChild;td;td=td.nextSibling){if(td.tagName.toLowerCase()=="td"){_2ac(td,_2ad);}}}return _2ad;}:function(node,_2af){return node.style.opacity=_2af;};var _2b0={left:true,top:true};var _2b1=/margin|padding|width|height|max|min|offset/;function _2b2(node,type,_2b3){type=type.toLowerCase();if(has("ie")||has("trident")){if(_2b3=="auto"){if(type=="height"){return node.offsetHeight;}if(type=="width"){return node.offsetWidth;}}if(type=="fontweight"){switch(_2b3){case 700:return "bold";case 400:default:return "normal";}}}if(!(type in _2b0)){_2b0[type]=_2b1.test(type);}return _2b0[type]?_2a4(node,_2b3):_2b3;};var _2b4={cssFloat:1,styleFloat:1,"float":1};_2a3.get=function getStyle(node,name){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");if(l==2&&op){return _2ab(n);}name=_2b4[name]?"cssFloat" in n.style?"cssFloat":"styleFloat":name;var s=_2a3.getComputedStyle(n);return (l==1)?s:_2b2(n,name,s[name]||n.style[name]);};_2a3.set=function setStyle(node,name,_2b5){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");name=_2b4[name]?"cssFloat" in n.style?"cssFloat":"styleFloat":name;if(l==3){return op?_2ac(n,_2b5):n.style[name]=_2b5;}for(var x in name){_2a3.set(node,x,name[x]);}return _2a3.getComputedStyle(n);};return _2a3;});},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(dojo,on,has,dom,win){has.add("dom-quirks",win.doc&&win.doc.compatMode=="BackCompat");has.add("events-mouseenter",win.doc&&"onmouseenter" in win.doc.createElement("div"));has.add("events-mousewheel",win.doc&&"onmousewheel" in win.doc);var _2b6;if((has("dom-quirks")&&has("ie"))||!has("dom-addeventlistener")){_2b6={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,_2b7){return e.button&_2b7;},isLeft:function(e){return e.button&1;},isMiddle:function(e){return e.button&4;},isRight:function(e){return e.button&2;}};}else{_2b6={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,_2b8){return e.button==_2b8;},isLeft:function(e){return e.button==0;},isMiddle:function(e){return e.button==1;},isRight:function(e){return e.button==2;}};}dojo.mouseButtons=_2b6;function _2b9(type,_2ba){var _2bb=function(node,_2bc){return on(node,type,function(evt){if(_2ba){return _2ba(evt,_2bc);}if(!dom.isDescendant(evt.relatedTarget,node)){return _2bc.call(this,evt);}});};_2bb.bubble=function(_2bd){return _2b9(type,function(evt,_2be){var _2bf=_2bd(evt.target);var _2c0=evt.relatedTarget;if(_2bf&&(_2bf!=(_2c0&&_2c0.nodeType==1&&_2bd(_2c0)))){return _2be.call(_2bf,evt);}});};return _2bb;};var _2c1;if(has("events-mousewheel")){_2c1="mousewheel";}else{_2c1=function(node,_2c2){return on(node,"DOMMouseScroll",function(evt){evt.wheelDelta=-evt.detail;_2c2.call(this,evt);});};}return {_eventHandler:_2b9,enter:_2b9("mouseover"),leave:_2b9("mouseout"),wheel:_2c1,isLeft:_2b6.isLeft,isMiddle:_2b6.isMiddle,isRight:_2b6.isRight};});},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(dojo,lang,has){if(!1){return has;}dojo._name="browser";lang.mixin(dojo,{isBrowser:true,isFF:has("ff"),isIE:has("ie"),isKhtml:has("khtml"),isWebKit:has("webkit"),isMozilla:has("mozilla"),isMoz:has("mozilla"),isOpera:has("opera"),isSafari:has("safari"),isChrome:has("chrome"),isMac:has("mac"),isIos:has("ios"),isAndroid:has("android"),isWii:has("wii"),isQuirks:has("quirks"),isAir:has("air")});return has;});},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(dojo,has){return dojo.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:has("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:has("mac")&&!has("air")?(has("safari")?91:224):17};});},"dojo/_base/Deferred":function(){define(["./kernel","../Deferred","../promise/Promise","../errors/CancelError","../has","./lang","../when"],function(dojo,_2c3,_2c4,_2c5,has,lang,when){var _2c6=function(){};var _2c7=Object.freeze||function(){};var _2c8=dojo.Deferred=function(_2c9){var _2ca,_2cb,_2cc,_2cd,_2ce,head,_2cf;var _2d0=(this.promise=new _2c4());function _2d1(_2d2){if(_2cb){throw new Error("This deferred has already been resolved");}_2ca=_2d2;_2cb=true;_2d3();};function _2d3(){var _2d4;while(!_2d4&&_2cf){var _2d5=_2cf;_2cf=_2cf.next;if((_2d4=(_2d5.progress==_2c6))){_2cb=false;}var func=(_2ce?_2d5.error:_2d5.resolved);if(has("config-useDeferredInstrumentation")){if(_2ce&&_2c3.instrumentRejected){_2c3.instrumentRejected(_2ca,!!func);}}if(func){try{var _2d6=func(_2ca);if(_2d6&&typeof _2d6.then==="function"){_2d6.then(lang.hitch(_2d5.deferred,"resolve"),lang.hitch(_2d5.deferred,"reject"),lang.hitch(_2d5.deferred,"progress"));continue;}var _2d7=_2d4&&_2d6===undefined;if(_2d4&&!_2d7){_2ce=_2d6 instanceof Error;}_2d5.deferred[_2d7&&_2ce?"reject":"resolve"](_2d7?_2ca:_2d6);}catch(e){_2d5.deferred.reject(e);}}else{if(_2ce){_2d5.deferred.reject(_2ca);}else{_2d5.deferred.resolve(_2ca);}}}};this.isResolved=_2d0.isResolved=function(){return _2cd==0;};this.isRejected=_2d0.isRejected=function(){return _2cd==1;};this.isFulfilled=_2d0.isFulfilled=function(){return _2cd>=0;};this.isCanceled=_2d0.isCanceled=function(){return _2cc;};this.resolve=this.callback=function(_2d8){this.fired=_2cd=0;this.results=[_2d8,null];_2d1(_2d8);};this.reject=this.errback=function(_2d9){_2ce=true;this.fired=_2cd=1;if(has("config-useDeferredInstrumentation")){if(_2c3.instrumentRejected){_2c3.instrumentRejected(_2d9,!!_2cf);}}_2d1(_2d9);this.results=[null,_2d9];};this.progress=function(_2da){var _2db=_2cf;while(_2db){var _2dc=_2db.progress;_2dc&&_2dc(_2da);_2db=_2db.next;}};this.addCallbacks=function(_2dd,_2de){this.then(_2dd,_2de,_2c6);return this;};_2d0.then=this.then=function(_2df,_2e0,_2e1){var _2e2=_2e1==_2c6?this:new _2c8(_2d0.cancel);var _2e3={resolved:_2df,error:_2e0,progress:_2e1,deferred:_2e2};if(_2cf){head=head.next=_2e3;}else{_2cf=head=_2e3;}if(_2cb){_2d3();}return _2e2.promise;};var _2e4=this;_2d0.cancel=this.cancel=function(){if(!_2cb){var _2e5=_2c9&&_2c9(_2e4);if(!_2cb){if(!(_2e5 instanceof Error)){_2e5=new _2c5(_2e5);}_2e5.log=false;_2e4.reject(_2e5);}}_2cc=true;};_2c7(_2d0);};lang.extend(_2c8,{addCallback:function(_2e6){return this.addCallbacks(lang.hitch.apply(dojo,arguments));},addErrback:function(_2e7){return this.addCallbacks(null,lang.hitch.apply(dojo,arguments));},addBoth:function(_2e8){var _2e9=lang.hitch.apply(dojo,arguments);return this.addCallbacks(_2e9,_2e9);},fired:-1});_2c8.when=dojo.when=when;return _2c8;});},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(has,lang,_2ea,_2eb,_2ec){"use strict";var _2ed=0,_2ee=1,_2ef=2;var _2f0="This deferred has already been fulfilled.";var _2f1=Object.freeze||function(){};var _2f2=function(_2f3,type,_2f4,_2f5,_2f6){if(1){if(type===_2ef&&_2f7.instrumentRejected&&_2f3.length===0){_2f7.instrumentRejected(_2f4,false,_2f5,_2f6);}}for(var i=0;i<_2f3.length;i++){_2f8(_2f3[i],type,_2f4,_2f5);}};var _2f8=function(_2f9,type,_2fa,_2fb){var func=_2f9[type];var _2fc=_2f9.deferred;if(func){try{var _2fd=func(_2fa);if(type===_2ed){if(typeof _2fd!=="undefined"){_2fe(_2fc,type,_2fd);}}else{if(_2fd&&typeof _2fd.then==="function"){_2f9.cancel=_2fd.cancel;_2fd.then(_2ff(_2fc,_2ee),_2ff(_2fc,_2ef),_2ff(_2fc,_2ed));return;}_2fe(_2fc,_2ee,_2fd);}}catch(error){_2fe(_2fc,_2ef,error);}}else{_2fe(_2fc,type,_2fa);}if(1){if(type===_2ef&&_2f7.instrumentRejected){_2f7.instrumentRejected(_2fa,!!func,_2fb,_2fc.promise);}}};var _2ff=function(_300,type){return function(_301){_2fe(_300,type,_301);};};var _2fe=function(_302,type,_303){if(!_302.isCanceled()){switch(type){case _2ed:_302.progress(_303);break;case _2ee:_302.resolve(_303);break;case _2ef:_302.reject(_303);break;}}};var _2f7=function(_304){var _305=this.promise=new _2eb();var _306=this;var _307,_308,_309;var _30a=false;var _30b=[];if(1&&Error.captureStackTrace){Error.captureStackTrace(_306,_2f7);Error.captureStackTrace(_305,_2f7);}this.isResolved=_305.isResolved=function(){return _307===_2ee;};this.isRejected=_305.isRejected=function(){return _307===_2ef;};this.isFulfilled=_305.isFulfilled=function(){return !!_307;};this.isCanceled=_305.isCanceled=function(){return _30a;};this.progress=function(_30c,_30d){if(!_307){_2f2(_30b,_2ed,_30c,null,_306);return _305;}else{if(_30d===true){throw new Error(_2f0);}else{return _305;}}};this.resolve=function(_30e,_30f){if(!_307){_2f2(_30b,_307=_2ee,_308=_30e,null,_306);_30b=null;return _305;}else{if(_30f===true){throw new Error(_2f0);}else{return _305;}}};var _310=this.reject=function(_311,_312){if(!_307){if(1&&Error.captureStackTrace){Error.captureStackTrace(_309={},_310);}_2f2(_30b,_307=_2ef,_308=_311,_309,_306);_30b=null;return _305;}else{if(_312===true){throw new Error(_2f0);}else{return _305;}}};this.then=_305.then=function(_313,_314,_315){var _316=[_315,_313,_314];_316.cancel=_305.cancel;_316.deferred=new _2f7(function(_317){return _316.cancel&&_316.cancel(_317);});if(_307&&!_30b){_2f8(_316,_307,_308,_309);}else{_30b.push(_316);}return _316.deferred.promise;};this.cancel=_305.cancel=function(_318,_319){if(!_307){if(_304){var _31a=_304(_318);_318=typeof _31a==="undefined"?_318:_31a;}_30a=true;if(!_307){if(typeof _318==="undefined"){_318=new _2ea();}_310(_318);return _318;}else{if(_307===_2ef&&_308===_318){return _318;}}}else{if(_319===true){throw new Error(_2f0);}}};_2f1(_305);};_2f7.prototype.toString=function(){return "[object Deferred]";};if(_2ec){_2ec(_2f7);}return _2f7;});},"dojo/errors/CancelError":function(){define(["./create"],function(_31b){return _31b("CancelError",null,null,{dojoType:"cancel"});});},"dojo/errors/create":function(){define(["../_base/lang"],function(lang){return function(name,ctor,base,_31c){base=base||Error;var _31d=function(_31e){if(base===Error){if(Error.captureStackTrace){Error.captureStackTrace(this,_31d);}var err=Error.call(this,_31e),prop;for(prop in err){if(err.hasOwnProperty(prop)){this[prop]=err[prop];}}this.message=_31e;this.stack=err.stack;}else{base.apply(this,arguments);}if(ctor){ctor.apply(this,arguments);}};_31d.prototype=lang.delegate(base.prototype,_31c);_31d.prototype.name=name;_31d.prototype.constructor=_31d;return _31d;};});},"dojo/promise/Promise":function(){define(["../_base/lang"],function(lang){"use strict";function _31f(){throw new TypeError("abstract");};return lang.extend(function Promise(){},{then:function(_320,_321,_322){_31f();},cancel:function(_323,_324){_31f();},isResolved:function(){_31f();},isRejected:function(){_31f();},isFulfilled:function(){_31f();},isCanceled:function(){_31f();},always:function(_325){return this.then(_325,_325);},otherwise:function(_326){return this.then(null,_326);},trace:function(){return this;},traceRejected:function(){return this;},toString:function(){return "[object Promise]";}});});},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(_327,has,lang,_328){has.add("config-useDeferredInstrumentation","report-unhandled-rejections");function _329(_32a,_32b,_32c){var _32d="";if(_32a&&_32a.stack){_32d+=_32a.stack;}if(_32b&&_32b.stack){_32d+="\n    ----------------------------------------\n    rejected"+_32b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," ");}if(_32c&&_32c.stack){_32d+="\n    ----------------------------------------\n"+_32c.stack;}console.error(_32a,_32d);};function _32e(_32f,_330,_331,_332){if(!_330){_329(_32f,_331,_332);}};var _333=[];var _334=false;var _335=1000;function _336(_337,_338,_339,_33a){if(!_328.some(_333,function(obj){if(obj.error===_337){if(_338){obj.handled=true;}return true;}})){_333.push({error:_337,rejection:_339,handled:_338,deferred:_33a,timestamp:new Date().getTime()});}if(!_334){_334=setTimeout(_33b,_335);}};function _33b(){var now=new Date().getTime();var _33c=now-_335;_333=_328.filter(_333,function(obj){if(obj.timestamp<_33c){if(!obj.handled){_329(obj.error,obj.rejection,obj.deferred);}return false;}return true;});if(_333.length){_334=setTimeout(_33b,_333[0].timestamp+_335-now);}else{_334=false;}};return function(_33d){var _33e=has("config-useDeferredInstrumentation");if(_33e){_327.on("resolved",lang.hitch(console,"log","resolved"));_327.on("rejected",lang.hitch(console,"log","rejected"));_327.on("progress",lang.hitch(console,"log","progress"));var args=[];if(typeof _33e==="string"){args=_33e.split(",");_33e=args.shift();}if(_33e==="report-rejections"){_33d.instrumentRejected=_32e;}else{if(_33e==="report-unhandled-rejections"||_33e===true||_33e===1){_33d.instrumentRejected=_336;_335=parseInt(args[0],10)||_335;}else{throw new Error("Unsupported instrumentation usage <"+_33e+">");}}}};});},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(lang,_33f,_340){"use strict";var _341=new _340;var emit=_341.emit;_341.emit=null;function _342(args){setTimeout(function(){emit.apply(_341,args);},0);};_33f.prototype.trace=function(){var args=lang._toArray(arguments);this.then(function(_343){_342(["resolved",_343].concat(args));},function(_344){_342(["rejected",_344].concat(args));},function(_345){_342(["progress",_345].concat(args));});return this;};_33f.prototype.traceRejected=function(){var args=lang._toArray(arguments);this.otherwise(function(_346){_342(["rejected",_346].concat(args));});return this;};return _341;});},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(_347,_348){"use strict";return function when(_349,_34a,_34b,_34c){var _34d=_349&&typeof _349.then==="function";var _34e=_34d&&_349 instanceof _348;if(!_34d){if(arguments.length>1){return _34a?_34a(_349):_349;}else{return new _347().resolve(_349);}}else{if(!_34e){var _34f=new _347(_349.cancel);_349.then(_34f.resolve,_34f.reject,_34f.progress);_349=_34f.promise;}}if(_34a||_34b||_34c){return _349.then(_34a,_34b,_34c);}return _349;};});},"dojo/_base/json":function(){define(["./kernel","../json"],function(dojo,json){dojo.fromJson=function(js){return eval("("+js+")");};dojo._escapeString=json.stringify;dojo.toJsonIndentStr="\t";dojo.toJson=function(it,_350){return json.stringify(it,function(key,_351){if(_351){var tf=_351.__json__||_351.json;if(typeof tf=="function"){return tf.call(_351);}}return _351;},_350&&dojo.toJsonIndentStr);};return dojo;});},"dojo/json":function(){define(["./has"],function(has){"use strict";var _352=typeof JSON!="undefined";has.add("json-parse",_352);has.add("json-stringify",_352&&JSON.stringify({a:0},function(k,v){return v||1;})=="{\"a\":1}");if(has("json-stringify")){return JSON;}else{var _353=function(str){return ("\""+str.replace(/(["\\])/g,"\\$1")+"\"").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r");};return {parse:has("json-parse")?JSON.parse:function(str,_354){if(_354&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str)){throw new SyntaxError("Invalid characters in JSON");}return eval("("+str+")");},stringify:function(_355,_356,_357){var _358;if(typeof _356=="string"){_357=_356;_356=null;}function _359(it,_35a,key){if(_356){it=_356(key,it);}var val,_35b=typeof it;if(_35b=="number"){return isFinite(it)?it+"":"null";}if(_35b=="boolean"){return it+"";}if(it===null){return "null";}if(typeof it=="string"){return _353(it);}if(_35b=="function"||_35b=="undefined"){return _358;}if(typeof it.toJSON=="function"){return _359(it.toJSON(key),_35a,key);}if(it instanceof Date){return "\"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z\"".replace(/\{(\w+)(\+)?\}/g,function(t,prop,plus){var num=it["getUTC"+prop]()+(plus?1:0);return num<10?"0"+num:num;});}if(it.valueOf()!==it){return _359(it.valueOf(),_35a,key);}var _35c=_357?(_35a+_357):"";var sep=_357?" ":"";var _35d=_357?"\n":"";if(it instanceof Array){var itl=it.length,res=[];for(key=0;key<itl;key++){var obj=it[key];val=_359(obj,_35c,key);if(typeof val!="string"){val="null";}res.push(_35d+_35c+val);}return "["+res.join(",")+_35d+_35a+"]";}var _35e=[];for(key in it){var _35f;if(it.hasOwnProperty(key)){if(typeof key=="number"){_35f="\""+key+"\"";}else{if(typeof key=="string"){_35f=_353(key);}else{continue;}}val=_359(it[key],_35c,key);if(typeof val!="string"){continue;}_35e.push(_35d+_35c+_35f+":"+sep+val);}}return "{"+_35e.join(",")+_35d+_35a+"}";};return _359(_355,"","");}};}});},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(dojo,lang,_360,_361){var _362=dojo.Color=function(_363){if(_363){this.setColor(_363);}};_362.named={"black":[0,0,0],"silver":[192,192,192],"gray":[128,128,128],"white":[255,255,255],"maroon":[128,0,0],"red":[255,0,0],"purple":[128,0,128],"fuchsia":[255,0,255],"green":[0,128,0],"lime":[0,255,0],"olive":[128,128,0],"yellow":[255,255,0],"navy":[0,0,128],"blue":[0,0,255],"teal":[0,128,128],"aqua":[0,255,255],"transparent":_361.transparentColor||[0,0,0,0]};lang.extend(_362,{r:255,g:255,b:255,a:1,_set:function(r,g,b,a){var t=this;t.r=r;t.g=g;t.b=b;t.a=a;},setColor:function(_364){if(lang.isString(_364)){_362.fromString(_364,this);}else{if(lang.isArray(_364)){_362.fromArray(_364,this);}else{this._set(_364.r,_364.g,_364.b,_364.a);if(!(_364 instanceof _362)){this.sanitize();}}}return this;},sanitize:function(){return this;},toRgb:function(){var t=this;return [t.r,t.g,t.b];},toRgba:function(){var t=this;return [t.r,t.g,t.b,t.a];},toHex:function(){var arr=_360.map(["r","g","b"],function(x){var s=this[x].toString(16);return s.length<2?"0"+s:s;},this);return "#"+arr.join("");},toCss:function(_365){var t=this,rgb=t.r+", "+t.g+", "+t.b;return (_365?"rgba("+rgb+", "+t.a:"rgb("+rgb)+")";},toString:function(){return this.toCss(true);}});_362.blendColors=dojo.blendColors=function(_366,end,_367,obj){var t=obj||new _362();_360.forEach(["r","g","b","a"],function(x){t[x]=_366[x]+(end[x]-_366[x])*_367;if(x!="a"){t[x]=Math.round(t[x]);}});return t.sanitize();};_362.fromRgb=dojo.colorFromRgb=function(_368,obj){var m=_368.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return m&&_362.fromArray(m[1].split(/\s*,\s*/),obj);};_362.fromHex=dojo.colorFromHex=function(_369,obj){var t=obj||new _362(),bits=(_369.length==4)?4:8,mask=(1<<bits)-1;_369=Number("0x"+_369.substr(1));if(isNaN(_369)){return null;}_360.forEach(["b","g","r"],function(x){var c=_369&mask;_369>>=bits;t[x]=bits==4?17*c:c;});t.a=1;return t;};_362.fromArray=dojo.colorFromArray=function(a,obj){var t=obj||new _362();t._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));if(isNaN(t.a)){t.a=1;}return t.sanitize();};_362.fromString=dojo.colorFromString=function(str,obj){var a=_362.named[str];return a&&_362.fromArray(a,obj)||_362.fromRgb(str,obj)||_362.fromHex(str,obj);};return _362;});},"dojo/_base/browser":function(){if(require.has){require.has.add("config-selectorEngine","acme");}define(["../ready","./kernel","./connect","./unload","./window","./event","./html","./NodeList","../query","./xhr","./fx"],function(dojo){return dojo;});},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(dojo,lang,on){var win=window;var _36a={addOnWindowUnload:function(obj,_36b){if(!dojo.windowUnloaded){on(win,"unload",(dojo.windowUnloaded=function(){}));}on(win,"unload",lang.hitch(obj,_36b));},addOnUnload:function(obj,_36c){on(win,"beforeunload",lang.hitch(obj,_36c));}};dojo.addOnWindowUnload=_36a.addOnWindowUnload;dojo.addOnUnload=_36a.addOnUnload;return _36a;});},"dojo/_base/html":function(){define(["./kernel","../dom","../dom-style","../dom-attr","../dom-prop","../dom-class","../dom-construct","../dom-geometry"],function(dojo,dom,_36d,attr,prop,cls,ctr,geom){dojo.byId=dom.byId;dojo.isDescendant=dom.isDescendant;dojo.setSelectable=dom.setSelectable;dojo.getAttr=attr.get;dojo.setAttr=attr.set;dojo.hasAttr=attr.has;dojo.removeAttr=attr.remove;dojo.getNodeProp=attr.getNodeProp;dojo.attr=function(node,name,_36e){if(arguments.length==2){return attr[typeof name=="string"?"get":"set"](node,name);}return attr.set(node,name,_36e);};dojo.hasClass=cls.contains;dojo.addClass=cls.add;dojo.removeClass=cls.remove;dojo.toggleClass=cls.toggle;dojo.replaceClass=cls.replace;dojo._toDom=dojo.toDom=ctr.toDom;dojo.place=ctr.place;dojo.create=ctr.create;dojo.empty=function(node){ctr.empty(node);};dojo._destroyElement=dojo.destroy=function(node){ctr.destroy(node);};dojo._getPadExtents=dojo.getPadExtents=geom.getPadExtents;dojo._getBorderExtents=dojo.getBorderExtents=geom.getBorderExtents;dojo._getPadBorderExtents=dojo.getPadBorderExtents=geom.getPadBorderExtents;dojo._getMarginExtents=dojo.getMarginExtents=geom.getMarginExtents;dojo._getMarginSize=dojo.getMarginSize=geom.getMarginSize;dojo._getMarginBox=dojo.getMarginBox=geom.getMarginBox;dojo.setMarginBox=geom.setMarginBox;dojo._getContentBox=dojo.getContentBox=geom.getContentBox;dojo.setContentSize=geom.setContentSize;dojo._isBodyLtr=dojo.isBodyLtr=geom.isBodyLtr;dojo._docScroll=dojo.docScroll=geom.docScroll;dojo._getIeDocumentElementOffset=dojo.getIeDocumentElementOffset=geom.getIeDocumentElementOffset;dojo._fixIeBiDiScrollLeft=dojo.fixIeBiDiScrollLeft=geom.fixIeBiDiScrollLeft;dojo.position=geom.position;dojo.marginBox=function marginBox(node,box){return box?geom.setMarginBox(node,box):geom.getMarginBox(node);};dojo.contentBox=function contentBox(node,box){return box?geom.setContentSize(node,box):geom.getContentBox(node);};dojo.coords=function(node,_36f){dojo.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");node=dom.byId(node);var s=_36d.getComputedStyle(node),mb=geom.getMarginBox(node,s);var abs=geom.position(node,_36f);mb.x=abs.x;mb.y=abs.y;return mb;};dojo.getProp=prop.get;dojo.setProp=prop.set;dojo.prop=function(node,name,_370){if(arguments.length==2){return prop[typeof name=="string"?"get":"set"](node,name);}return prop.set(node,name,_370);};dojo.getStyle=_36d.get;dojo.setStyle=_36d.set;dojo.getComputedStyle=_36d.getComputedStyle;dojo.__toPixelValue=dojo.toPixelValue=_36d.toPixelValue;dojo.style=function(node,name,_371){switch(arguments.length){case 1:return _36d.get(node);case 2:return _36d[typeof name=="string"?"get":"set"](node,name);}return _36d.set(node,name,_371);};return dojo;});},"dojo/dom-attr":function(){define(["exports","./sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(_372,has,lang,dom,_373,prop){var _374={innerHTML:1,textContent:1,className:1,htmlFor:has("ie"),value:1},_375={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};function _376(node,name){var attr=node.getAttributeNode&&node.getAttributeNode(name);return !!attr&&attr.specified;};_372.has=function hasAttr(node,name){var lc=name.toLowerCase();return _374[prop.names[lc]||name]||_376(dom.byId(node),_375[lc]||name);};_372.get=function getAttr(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_377=prop.names[lc]||name,_378=_374[_377],_379=node[_377];if(_378&&typeof _379!="undefined"){return _379;}if(_377=="textContent"){return prop.get(node,_377);}if(_377!="href"&&(typeof _379=="boolean"||lang.isFunction(_379))){return _379;}var _37a=_375[lc]||name;return _376(node,_37a)?node.getAttribute(_37a):null;};_372.set=function setAttr(node,name,_37b){node=dom.byId(node);if(arguments.length==2){for(var x in name){_372.set(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_37c=prop.names[lc]||name,_37d=_374[_37c];if(_37c=="style"&&typeof _37b!="string"){_373.set(node,_37b);return node;}if(_37d||typeof _37b=="boolean"||lang.isFunction(_37b)){return prop.set(node,name,_37b);}node.setAttribute(_375[lc]||name,_37b);return node;};_372.remove=function removeAttr(node,name){dom.byId(node).removeAttribute(_375[name.toLowerCase()]||name);};_372.getNodeProp=function getNodeProp(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_37e=prop.names[lc]||name;if((_37e in node)&&_37e!="href"){return node[_37e];}var _37f=_375[lc]||name;return _376(node,_37f)?node.getAttribute(_37f):null;};});},"dojo/dom-prop":function(){define(["exports","./_base/kernel","./sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(_380,dojo,has,lang,dom,_381,ctr,conn){var _382={},_383=0,_384=dojo._scopeName+"attrid";has.add("dom-textContent",function(_385,doc,_386){return "textContent" in _386;});_380.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};function _387(node){var text="",ch=node.childNodes;for(var i=0,n;n=ch[i];i++){if(n.nodeType!=8){if(n.nodeType==1){text+=_387(n);}else{text+=n.nodeValue;}}}return text;};_380.get=function getProp(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_388=_380.names[lc]||name;if(_388=="textContent"&&!has("dom-textContent")){return _387(node);}return node[_388];};_380.set=function setProp(node,name,_389){node=dom.byId(node);var l=arguments.length;if(l==2&&typeof name!="string"){for(var x in name){_380.set(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_38a=_380.names[lc]||name;if(_38a=="style"&&typeof _389!="string"){_381.set(node,_389);return node;}if(_38a=="innerHTML"){if(has("ie")&&node.tagName.toLowerCase() in {col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}){ctr.empty(node);node.appendChild(ctr.toDom(_389,node.ownerDocument));}else{node[_38a]=_389;}return node;}if(_38a=="textContent"&&!has("dom-textContent")){ctr.empty(node);node.appendChild(node.ownerDocument.createTextNode(_389));return node;}if(lang.isFunction(_389)){var _38b=node[_384];if(!_38b){_38b=_383++;node[_384]=_38b;}if(!_382[_38b]){_382[_38b]={};}var h=_382[_38b][_38a];if(h){conn.disconnect(h);}else{try{delete node[_38a];}catch(e){}}if(_389){_382[_38b][_38a]=conn.connect(node,_38a,_389);}else{node[_38a]=null;}return node;}node[_38a]=_389;return node;};});},"dojo/dom-construct":function(){define(["exports","./_base/kernel","./sniff","./_base/window","./dom","./dom-attr"],function(_38c,dojo,has,win,dom,attr){var _38d={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},_38e=/<\s*([\w\:]+)/,_38f={},_390=0,_391="__"+dojo._scopeName+"ToDomId";for(var _392 in _38d){if(_38d.hasOwnProperty(_392)){var tw=_38d[_392];tw.pre=_392=="option"?"<select multiple=\"multiple\">":"<"+tw.join("><")+">";tw.post="</"+tw.reverse().join("></")+">";}}var _393;if(has("ie")<=8){_393=function(doc){doc.__dojo_html5_tested="yes";var div=_394("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},doc.body);if(div.childNodes.length!==1){("abbr article aside audio canvas details figcaption figure footer header "+"hgroup mark meter nav output progress section summary time video").replace(/\b\w+\b/g,function(n){doc.createElement(n);});}_395(div);};}function _396(node,ref){var _397=ref.parentNode;if(_397){_397.insertBefore(node,ref);}};function _398(node,ref){var _399=ref.parentNode;if(_399){if(_399.lastChild==ref){_399.appendChild(node);}else{_399.insertBefore(node,ref.nextSibling);}}};_38c.toDom=function toDom(frag,doc){doc=doc||win.doc;var _39a=doc[_391];if(!_39a){doc[_391]=_39a=++_390+"";_38f[_39a]=doc.createElement("div");}if(has("ie")<=8){if(!doc.__dojo_html5_tested&&doc.body){_393(doc);}}frag+="";var _39b=frag.match(_38e),tag=_39b?_39b[1].toLowerCase():"",_39c=_38f[_39a],wrap,i,fc,df;if(_39b&&_38d[tag]){wrap=_38d[tag];_39c.innerHTML=wrap.pre+frag+wrap.post;for(i=wrap.length;i;--i){_39c=_39c.firstChild;}}else{_39c.innerHTML=frag;}if(_39c.childNodes.length==1){return _39c.removeChild(_39c.firstChild);}df=doc.createDocumentFragment();while((fc=_39c.firstChild)){df.appendChild(fc);}return df;};_38c.place=function place(node,_39d,_39e){_39d=dom.byId(_39d);if(typeof node=="string"){node=/^\s*</.test(node)?_38c.toDom(node,_39d.ownerDocument):dom.byId(node);}if(typeof _39e=="number"){var cn=_39d.childNodes;if(!cn.length||cn.length<=_39e){_39d.appendChild(node);}else{_396(node,cn[_39e<0?0:_39e]);}}else{switch(_39e){case "before":_396(node,_39d);break;case "after":_398(node,_39d);break;case "replace":_39d.parentNode.replaceChild(node,_39d);break;case "only":_38c.empty(_39d);_39d.appendChild(node);break;case "first":if(_39d.firstChild){_396(node,_39d.firstChild);break;}default:_39d.appendChild(node);}}return node;};var _394=_38c.create=function _394(tag,_39f,_3a0,pos){var doc=win.doc;if(_3a0){_3a0=dom.byId(_3a0);doc=_3a0.ownerDocument;}if(typeof tag=="string"){tag=doc.createElement(tag);}if(_39f){attr.set(tag,_39f);}if(_3a0){_38c.place(tag,_3a0,pos);}return tag;};function _3a1(node){if("innerHTML" in node){try{node.innerHTML="";return;}catch(e){}}for(var c;c=node.lastChild;){node.removeChild(c);}};_38c.empty=function empty(node){_3a1(dom.byId(node));};function _3a2(node,_3a3){if(node.firstChild){_3a1(node);}if(_3a3){has("ie")&&_3a3.canHaveChildren&&"removeNode" in node?node.removeNode(false):_3a3.removeChild(node);}};var _395=_38c.destroy=function _395(node){node=dom.byId(node);if(!node){return;}_3a2(node,node.parentNode);};});},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(lang,_3a4,dom){var _3a5="className";var cls,_3a6=/\s+/,a1=[""];function _3a7(s){if(typeof s=="string"||s instanceof String){if(s&&!_3a6.test(s)){a1[0]=s;return a1;}var a=s.split(_3a6);if(a.length&&!a[0]){a.shift();}if(a.length&&!a[a.length-1]){a.pop();}return a;}if(!s){return [];}return _3a4.filter(s,function(x){return x;});};var _3a8={};cls={contains:function containsClass(node,_3a9){return ((" "+dom.byId(node)[_3a5]+" ").indexOf(" "+_3a9+" ")>=0);},add:function addClass(node,_3aa){node=dom.byId(node);_3aa=_3a7(_3aa);var cls=node[_3a5],_3ab;cls=cls?" "+cls+" ":" ";_3ab=cls.length;for(var i=0,len=_3aa.length,c;i<len;++i){c=_3aa[i];if(c&&cls.indexOf(" "+c+" ")<0){cls+=c+" ";}}if(_3ab<cls.length){node[_3a5]=cls.substr(1,cls.length-2);}},remove:function removeClass(node,_3ac){node=dom.byId(node);var cls;if(_3ac!==undefined){_3ac=_3a7(_3ac);cls=" "+node[_3a5]+" ";for(var i=0,len=_3ac.length;i<len;++i){cls=cls.replace(" "+_3ac[i]+" "," ");}cls=lang.trim(cls);}else{cls="";}if(node[_3a5]!=cls){node[_3a5]=cls;}},replace:function replaceClass(node,_3ad,_3ae){node=dom.byId(node);_3a8[_3a5]=node[_3a5];cls.remove(_3a8,_3ae);cls.add(_3a8,_3ad);if(node[_3a5]!==_3a8[_3a5]){node[_3a5]=_3a8[_3a5];}},toggle:function toggleClass(node,_3af,_3b0){node=dom.byId(node);if(_3b0===undefined){_3af=_3a7(_3af);for(var i=0,len=_3af.length,c;i<len;++i){c=_3af[i];cls[cls.contains(node,c)?"remove":"add"](node,c);}}else{cls[_3b0?"add":"remove"](node,_3af);}return _3b0;}};return cls;});},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(dojo,_3b1,_3b2){var _3b3=_3b1.NodeList,nlp=_3b3.prototype;nlp.connect=_3b3._adaptAsForEach(function(){return dojo.connect.apply(this,arguments);});nlp.coords=_3b3._adaptAsMap(dojo.coords);_3b3.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"];_3b2.forEach(_3b3.events,function(evt){var _3b4="on"+evt;nlp[_3b4]=function(a,b){return this.connect(_3b4,a,b);};});dojo.NodeList=_3b3;return _3b3;});},"dojo/query":function(){define(["./_base/kernel","./has","./dom","./on","./_base/array","./_base/lang","./selector/_loader","./selector/_loader!default"],function(dojo,has,dom,on,_3b5,lang,_3b6,_3b7){"use strict";has.add("array-extensible",function(){return lang.delegate([],{length:1}).length==1&&!has("bug-for-in-skips-shadowed");});var ap=Array.prototype,aps=ap.slice,apc=ap.concat,_3b8=_3b5.forEach;var tnl=function(a,_3b9,_3ba){var _3bb=new (_3ba||this._NodeListCtor||nl)(a);return _3b9?_3bb._stash(_3b9):_3bb;};var _3bc=function(f,a,o){a=[0].concat(aps.call(a,0));o=o||dojo.global;return function(node){a[0]=node;return f.apply(o,a);};};var _3bd=function(f,o){return function(){this.forEach(_3bc(f,arguments,o));return this;};};var _3be=function(f,o){return function(){return this.map(_3bc(f,arguments,o));};};var _3bf=function(f,o){return function(){return this.filter(_3bc(f,arguments,o));};};var _3c0=function(f,g,o){return function(){var a=arguments,body=_3bc(f,a,o);if(g.call(o||dojo.global,a)){return this.map(body);}this.forEach(body);return this;};};var _3c1=function(_3c2){var _3c3=this instanceof nl&&has("array-extensible");if(typeof _3c2=="number"){_3c2=Array(_3c2);}var _3c4=(_3c2&&"length" in _3c2)?_3c2:arguments;if(_3c3||!_3c4.sort){var _3c5=_3c3?this:[],l=_3c5.length=_3c4.length;for(var i=0;i<l;i++){_3c5[i]=_3c4[i];}if(_3c3){return _3c5;}_3c4=_3c5;}lang._mixin(_3c4,nlp);_3c4._NodeListCtor=function(_3c6){return nl(_3c6);};return _3c4;};var nl=_3c1,nlp=nl.prototype=has("array-extensible")?[]:{};nl._wrap=nlp._wrap=tnl;nl._adaptAsMap=_3be;nl._adaptAsForEach=_3bd;nl._adaptAsFilter=_3bf;nl._adaptWithCondition=_3c0;_3b8(["slice","splice"],function(name){var f=ap[name];nlp[name]=function(){return this._wrap(f.apply(this,arguments),name=="slice"?this:null);};});_3b8(["indexOf","lastIndexOf","every","some"],function(name){var f=_3b5[name];nlp[name]=function(){return f.apply(dojo,[this].concat(aps.call(arguments,0)));};});lang.extend(_3c1,{constructor:nl,_NodeListCtor:nl,toString:function(){return this.join(",");},_stash:function(_3c7){this._parent=_3c7;return this;},on:function(_3c8,_3c9){var _3ca=this.map(function(node){return on(node,_3c8,_3c9);});_3ca.remove=function(){for(var i=0;i<_3ca.length;i++){_3ca[i].remove();}};return _3ca;},end:function(){if(this._parent){return this._parent;}else{return new this._NodeListCtor(0);}},concat:function(item){var t=aps.call(this,0),m=_3b5.map(arguments,function(a){return aps.call(a,0);});return this._wrap(apc.apply(t,m),this);},map:function(func,obj){return this._wrap(_3b5.map(this,func,obj),this);},forEach:function(_3cb,_3cc){_3b8(this,_3cb,_3cc);return this;},filter:function(_3cd){var a=arguments,_3ce=this,_3cf=0;if(typeof _3cd=="string"){_3ce=_3d0._filterResult(this,a[0]);if(a.length==1){return _3ce._stash(this);}_3cf=1;}return this._wrap(_3b5.filter(_3ce,a[_3cf],a[_3cf+1]),this);},instantiate:function(_3d1,_3d2){var c=lang.isFunction(_3d1)?_3d1:lang.getObject(_3d1);_3d2=_3d2||{};return this.forEach(function(node){new c(_3d2,node);});},at:function(){var t=new this._NodeListCtor(0);_3b8(arguments,function(i){if(i<0){i=this.length+i;}if(this[i]){t.push(this[i]);}},this);return t._stash(this);}});function _3d3(_3d4,_3d5){var _3d6=function(_3d7,root){if(typeof root=="string"){root=dom.byId(root);if(!root){return new _3d5([]);}}var _3d8=typeof _3d7=="string"?_3d4(_3d7,root):_3d7?(_3d7.end&&_3d7.on)?_3d7:[_3d7]:[];if(_3d8.end&&_3d8.on){return _3d8;}return new _3d5(_3d8);};_3d6.matches=_3d4.match||function(node,_3d9,root){return _3d6.filter([node],_3d9,root).length>0;};_3d6.filter=_3d4.filter||function(_3da,_3db,root){return _3d6(_3db,root).filter(function(node){return _3b5.indexOf(_3da,node)>-1;});};if(typeof _3d4!="function"){var _3dc=_3d4.search;_3d4=function(_3dd,root){return _3dc(root||document,_3dd);};}return _3d6;};var _3d0=_3d3(_3b7,_3c1);dojo.query=_3d3(_3b7,function(_3de){return _3c1(_3de);});_3d0.load=function(id,_3df,_3e0){_3b6.load(id,_3df,function(_3e1){_3e0(_3d3(_3e1,_3c1));});};dojo._filterQueryResult=_3d0._filterResult=function(_3e2,_3e3,root){return new _3c1(_3d0.filter(_3e2,_3e3,root));};dojo.NodeList=_3d0.NodeList=_3c1;return _3d0;});},"dojo/selector/_loader":function(){define(["../has","require"],function(has,_3e4){"use strict";var _3e5=document.createElement("div");has.add("dom-qsa2.1",!!_3e5.querySelectorAll);has.add("dom-qsa3",function(){try{_3e5.innerHTML="<p class='TEST'></p>";return _3e5.querySelectorAll(".TEST:empty").length==1;}catch(e){}});var _3e6;var acme="./acme",lite="./lite";return {load:function(id,_3e7,_3e8,_3e9){var req=_3e4;id=id=="default"?has("config-selectorEngine")||"css3":id;id=id=="css2"||id=="lite"?lite:id=="css2.1"?has("dom-qsa2.1")?lite:acme:id=="css3"?has("dom-qsa3")?lite:acme:id=="acme"?acme:(req=_3e7)&&id;if(id.charAt(id.length-1)=="?"){id=id.substring(0,id.length-1);var _3ea=true;}if(_3ea&&(has("dom-compliant-qsa")||_3e6)){return _3e8(_3e6);}req([id],function(_3eb){if(id!="./lite"){_3e6=_3eb;}_3e8(_3eb);});}};});},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(dom,has,_3ec,lang,win){var trim=lang.trim;var each=_3ec.forEach;var _3ed=function(){return win.doc;};var _3ee=(_3ed().compatMode)=="BackCompat";var _3ef=">~+";var _3f0=false;var _3f1=function(){return true;};var _3f2=function(_3f3){if(_3ef.indexOf(_3f3.slice(-1))>=0){_3f3+=" * ";}else{_3f3+=" ";}var ts=function(s,e){return trim(_3f3.slice(s,e));};var _3f4=[];var _3f5=-1,_3f6=-1,_3f7=-1,_3f8=-1,_3f9=-1,inId=-1,_3fa=-1,_3fb,lc="",cc="",_3fc;var x=0,ql=_3f3.length,_3fd=null,_3fe=null;var _3ff=function(){if(_3fa>=0){var tv=(_3fa==x)?null:ts(_3fa,x);_3fd[(_3ef.indexOf(tv)<0)?"tag":"oper"]=tv;_3fa=-1;}};var _400=function(){if(inId>=0){_3fd.id=ts(inId,x).replace(/\\/g,"");inId=-1;}};var _401=function(){if(_3f9>=0){_3fd.classes.push(ts(_3f9+1,x).replace(/\\/g,""));_3f9=-1;}};var _402=function(){_400();_3ff();_401();};var _403=function(){_402();if(_3f8>=0){_3fd.pseudos.push({name:ts(_3f8+1,x)});}_3fd.loops=(_3fd.pseudos.length||_3fd.attrs.length||_3fd.classes.length);_3fd.oquery=_3fd.query=ts(_3fc,x);_3fd.otag=_3fd.tag=(_3fd["oper"])?null:(_3fd.tag||"*");if(_3fd.tag){_3fd.tag=_3fd.tag.toUpperCase();}if(_3f4.length&&(_3f4[_3f4.length-1].oper)){_3fd.infixOper=_3f4.pop();_3fd.query=_3fd.infixOper.query+" "+_3fd.query;}_3f4.push(_3fd);_3fd=null;};for(;lc=cc,cc=_3f3.charAt(x),x<ql;x++){if(lc=="\\"){continue;}if(!_3fd){_3fc=x;_3fd={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return _3f0?this.otag:this.tag;}};_3fa=x;}if(_3fb){if(cc==_3fb){_3fb=null;}continue;}else{if(cc=="'"||cc=="\""){_3fb=cc;continue;}}if(_3f5>=0){if(cc=="]"){if(!_3fe.attr){_3fe.attr=ts(_3f5+1,x);}else{_3fe.matchFor=ts((_3f7||_3f5+1),x);}var cmf=_3fe.matchFor;if(cmf){if((cmf.charAt(0)=="\"")||(cmf.charAt(0)=="'")){_3fe.matchFor=cmf.slice(1,-1);}}if(_3fe.matchFor){_3fe.matchFor=_3fe.matchFor.replace(/\\/g,"");}_3fd.attrs.push(_3fe);_3fe=null;_3f5=_3f7=-1;}else{if(cc=="="){var _404=("|~^$*".indexOf(lc)>=0)?lc:"";_3fe.type=_404+cc;_3fe.attr=ts(_3f5+1,x-_404.length);_3f7=x+1;}}}else{if(_3f6>=0){if(cc==")"){if(_3f8>=0){_3fe.value=ts(_3f6+1,x);}_3f8=_3f6=-1;}}else{if(cc=="#"){_402();inId=x+1;}else{if(cc=="."){_402();_3f9=x;}else{if(cc==":"){_402();_3f8=x;}else{if(cc=="["){_402();_3f5=x;_3fe={};}else{if(cc=="("){if(_3f8>=0){_3fe={name:ts(_3f8+1,x),value:null};_3fd.pseudos.push(_3fe);}_3f6=x;}else{if((cc==" ")&&(lc!=cc)){_403();}}}}}}}}}return _3f4;};var _405=function(_406,_407){if(!_406){return _407;}if(!_407){return _406;}return function(){return _406.apply(window,arguments)&&_407.apply(window,arguments);};};var _408=function(i,arr){var r=arr||[];if(i){r.push(i);}return r;};var _409=function(n){return (1==n.nodeType);};var _40a="";var _40b=function(elem,attr){if(!elem){return _40a;}if(attr=="class"){return elem.className||_40a;}if(attr=="for"){return elem.htmlFor||_40a;}if(attr=="style"){return elem.style.cssText||_40a;}return (_3f0?elem.getAttribute(attr):elem.getAttribute(attr,2))||_40a;};var _40c={"*=":function(attr,_40d){return function(elem){return (_40b(elem,attr).indexOf(_40d)>=0);};},"^=":function(attr,_40e){return function(elem){return (_40b(elem,attr).indexOf(_40e)==0);};},"$=":function(attr,_40f){return function(elem){var ea=" "+_40b(elem,attr);var _410=ea.lastIndexOf(_40f);return _410>-1&&(_410==(ea.length-_40f.length));};},"~=":function(attr,_411){var tval=" "+_411+" ";return function(elem){var ea=" "+_40b(elem,attr)+" ";return (ea.indexOf(tval)>=0);};},"|=":function(attr,_412){var _413=_412+"-";return function(elem){var ea=_40b(elem,attr);return ((ea==_412)||(ea.indexOf(_413)==0));};},"=":function(attr,_414){return function(elem){return (_40b(elem,attr)==_414);};}};var _415=(typeof _3ed().firstChild.nextElementSibling=="undefined");var _416=!_415?"nextElementSibling":"nextSibling";var _417=!_415?"previousElementSibling":"previousSibling";var _418=(_415?_409:_3f1);var _419=function(node){while(node=node[_417]){if(_418(node)){return false;}}return true;};var _41a=function(node){while(node=node[_416]){if(_418(node)){return false;}}return true;};var _41b=function(node){var root=node.parentNode;root=root.nodeType!=7?root:root.nextSibling;var i=0,tret=root.children||root.childNodes,ci=(node["_i"]||node.getAttribute("_i")||-1),cl=(root["_l"]||(typeof root.getAttribute!=="undefined"?root.getAttribute("_l"):-1));if(!tret){return -1;}var l=tret.length;if(cl==l&&ci>=0&&cl>=0){return ci;}if(has("ie")&&typeof root.setAttribute!=="undefined"){root.setAttribute("_l",l);}else{root["_l"]=l;}ci=-1;for(var te=root["firstElementChild"]||root["firstChild"];te;te=te[_416]){if(_418(te)){if(has("ie")){te.setAttribute("_i",++i);}else{te["_i"]=++i;}if(node===te){ci=i;}}}return ci;};var _41c=function(elem){return !((_41b(elem))%2);};var _41d=function(elem){return ((_41b(elem))%2);};var _41e={"checked":function(name,_41f){return function(elem){return !!("checked" in elem?elem.checked:elem.selected);};},"disabled":function(name,_420){return function(elem){return elem.disabled;};},"enabled":function(name,_421){return function(elem){return !elem.disabled;};},"first-child":function(){return _419;},"last-child":function(){return _41a;},"only-child":function(name,_422){return function(node){return _419(node)&&_41a(node);};},"empty":function(name,_423){return function(elem){var cn=elem.childNodes;var cnl=elem.childNodes.length;for(var x=cnl-1;x>=0;x--){var nt=cn[x].nodeType;if((nt===1)||(nt==3)){return false;}}return true;};},"contains":function(name,_424){var cz=_424.charAt(0);if(cz=="\""||cz=="'"){_424=_424.slice(1,-1);}return function(elem){return (elem.innerHTML.indexOf(_424)>=0);};},"not":function(name,_425){var p=_3f2(_425)[0];var _426={el:1};if(p.tag!="*"){_426.tag=1;}if(!p.classes.length){_426.classes=1;}var ntf=_427(p,_426);return function(elem){return (!ntf(elem));};},"nth-child":function(name,_428){var pi=parseInt;if(_428=="odd"){return _41d;}else{if(_428=="even"){return _41c;}}if(_428.indexOf("n")!=-1){var _429=_428.split("n",2);var pred=_429[0]?((_429[0]=="-")?-1:pi(_429[0])):1;var idx=_429[1]?pi(_429[1]):0;var lb=0,ub=-1;if(pred>0){if(idx<0){idx=(idx%pred)&&(pred+(idx%pred));}else{if(idx>0){if(idx>=pred){lb=idx-idx%pred;}idx=idx%pred;}}}else{if(pred<0){pred*=-1;if(idx>0){ub=idx;idx=idx%pred;}}}if(pred>0){return function(elem){var i=_41b(elem);return (i>=lb)&&(ub<0||i<=ub)&&((i%pred)==idx);};}else{_428=idx;}}var _42a=pi(_428);return function(elem){return (_41b(elem)==_42a);};}};var _42b=(has("ie")<9||has("ie")==9&&has("quirks"))?function(cond){var clc=cond.toLowerCase();if(clc=="class"){cond="className";}return function(elem){return (_3f0?elem.getAttribute(cond):elem[cond]||elem[clc]);};}:function(cond){return function(elem){return (elem&&elem.getAttribute&&elem.hasAttribute(cond));};};var _427=function(_42c,_42d){if(!_42c){return _3f1;}_42d=_42d||{};var ff=null;if(!("el" in _42d)){ff=_405(ff,_409);}if(!("tag" in _42d)){if(_42c.tag!="*"){ff=_405(ff,function(elem){return (elem&&((_3f0?elem.tagName:elem.tagName.toUpperCase())==_42c.getTag()));});}}if(!("classes" in _42d)){each(_42c.classes,function(_42e,idx,arr){var re=new RegExp("(?:^|\\s)"+_42e+"(?:\\s|$)");ff=_405(ff,function(elem){return re.test(elem.className);});ff.count=idx;});}if(!("pseudos" in _42d)){each(_42c.pseudos,function(_42f){var pn=_42f.name;if(_41e[pn]){ff=_405(ff,_41e[pn](pn,_42f.value));}});}if(!("attrs" in _42d)){each(_42c.attrs,function(attr){var _430;var a=attr.attr;if(attr.type&&_40c[attr.type]){_430=_40c[attr.type](a,attr.matchFor);}else{if(a.length){_430=_42b(a);}}if(_430){ff=_405(ff,_430);}});}if(!("id" in _42d)){if(_42c.id){ff=_405(ff,function(elem){return (!!elem&&(elem.id==_42c.id));});}}if(!ff){if(!("default" in _42d)){ff=_3f1;}}return ff;};var _431=function(_432){return function(node,ret,bag){while(node=node[_416]){if(_415&&(!_409(node))){continue;}if((!bag||_433(node,bag))&&_432(node)){ret.push(node);}break;}return ret;};};var _434=function(_435){return function(root,ret,bag){var te=root[_416];while(te){if(_418(te)){if(bag&&!_433(te,bag)){break;}if(_435(te)){ret.push(te);}}te=te[_416];}return ret;};};var _436=function(_437){_437=_437||_3f1;return function(root,ret,bag){var te,x=0,tret=root.children||root.childNodes;while(te=tret[x++]){if(_418(te)&&(!bag||_433(te,bag))&&(_437(te,x))){ret.push(te);}}return ret;};};var _438=function(node,root){var pn=node.parentNode;while(pn){if(pn==root){break;}pn=pn.parentNode;}return !!pn;};var _439={};var _43a=function(_43b){var _43c=_439[_43b.query];if(_43c){return _43c;}var io=_43b.infixOper;var oper=(io?io.oper:"");var _43d=_427(_43b,{el:1});var qt=_43b.tag;var _43e=("*"==qt);var ecs=_3ed()["getElementsByClassName"];if(!oper){if(_43b.id){_43d=(!_43b.loops&&_43e)?_3f1:_427(_43b,{el:1,id:1});_43c=function(root,arr){var te=dom.byId(_43b.id,(root.ownerDocument||root));if(!te||!_43d(te)){return;}if(9==root.nodeType){return _408(te,arr);}else{if(_438(te,root)){return _408(te,arr);}}};}else{if(ecs&&/\{\s*\[native code\]\s*\}/.test(String(ecs))&&_43b.classes.length&&!_3ee){_43d=_427(_43b,{el:1,classes:1,id:1});var _43f=_43b.classes.join(" ");_43c=function(root,arr,bag){var ret=_408(0,arr),te,x=0;var tret=root.getElementsByClassName(_43f);while((te=tret[x++])){if(_43d(te,root)&&_433(te,bag)){ret.push(te);}}return ret;};}else{if(!_43e&&!_43b.loops){_43c=function(root,arr,bag){var ret=_408(0,arr),te,x=0;var tag=_43b.getTag(),tret=tag?root.getElementsByTagName(tag):[];while((te=tret[x++])){if(_433(te,bag)){ret.push(te);}}return ret;};}else{_43d=_427(_43b,{el:1,tag:1,id:1});_43c=function(root,arr,bag){var ret=_408(0,arr),te,x=0;var tag=_43b.getTag(),tret=tag?root.getElementsByTagName(tag):[];while((te=tret[x++])){if(_43d(te,root)&&_433(te,bag)){ret.push(te);}}return ret;};}}}}else{var _440={el:1};if(_43e){_440.tag=1;}_43d=_427(_43b,_440);if("+"==oper){_43c=_431(_43d);}else{if("~"==oper){_43c=_434(_43d);}else{if(">"==oper){_43c=_436(_43d);}}}}return _439[_43b.query]=_43c;};var _441=function(root,_442){var _443=_408(root),qp,x,te,qpl=_442.length,bag,ret;for(var i=0;i<qpl;i++){ret=[];qp=_442[i];x=_443.length-1;if(x>0){bag={};ret.nozip=true;}var gef=_43a(qp);for(var j=0;(te=_443[j]);j++){gef(te,ret,bag);}if(!ret.length){break;}_443=ret;}return ret;};var _444={},_445={};var _446=function(_447){var _448=_3f2(trim(_447));if(_448.length==1){var tef=_43a(_448[0]);return function(root){var r=tef(root,[]);if(r){r.nozip=true;}return r;};}return function(root){return _441(root,_448);};};var _449=has("ie")?"commentStrip":"nozip";var qsa="querySelectorAll";var _44a=!!_3ed()[qsa];var _44b=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g;var _44c=function(_44d,pre,ch,post){return ch?(pre?pre+" ":"")+ch+(post?" "+post:""):_44d;};var _44e=/([^[]*)([^\]]*])?/g;var _44f=function(_450,_451,att){return _451.replace(_44b,_44c)+(att||"");};var _452=function(_453,_454){_453=_453.replace(_44e,_44f);if(_44a){var _455=_445[_453];if(_455&&!_454){return _455;}}var _456=_444[_453];if(_456){return _456;}var qcz=_453.charAt(0);var _457=(-1==_453.indexOf(" "));if((_453.indexOf("#")>=0)&&(_457)){_454=true;}var _458=(_44a&&(!_454)&&(_3ef.indexOf(qcz)==-1)&&(!has("ie")||(_453.indexOf(":")==-1))&&(!(_3ee&&(_453.indexOf(".")>=0)))&&(_453.indexOf(":contains")==-1)&&(_453.indexOf(":checked")==-1)&&(_453.indexOf("|=")==-1));if(_458){var tq=(_3ef.indexOf(_453.charAt(_453.length-1))>=0)?(_453+" *"):_453;return _445[_453]=function(root){try{if(!((9==root.nodeType)||_457)){throw "";}var r=root[qsa](tq);r[_449]=true;return r;}catch(e){return _452(_453,true)(root);}};}else{var _459=_453.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return _444[_453]=((_459.length<2)?_446(_453):function(root){var _45a=0,ret=[],tp;while((tp=_459[_45a++])){ret=ret.concat(_446(tp)(root));}return ret;});}};var _45b=0;var _45c=has("ie")?function(node){if(_3f0){return (node.getAttribute("_uid")||node.setAttribute("_uid",++_45b)||_45b);}else{return node.uniqueID;}}:function(node){return (node._uid||(node._uid=++_45b));};var _433=function(node,bag){if(!bag){return 1;}var id=_45c(node);if(!bag[id]){return bag[id]=1;}return 0;};var _45d="_zipIdx";var _45e=function(arr){if(arr&&arr.nozip){return arr;}if(!arr||!arr.length){return [];}if(arr.length<2){return [arr[0]];}var ret=[];_45b++;var x,te;if(has("ie")&&_3f0){var _45f=_45b+"";for(x=0;x<arr.length;x++){if((te=arr[x])&&te.getAttribute(_45d)!=_45f){ret.push(te);te.setAttribute(_45d,_45f);}}}else{if(has("ie")&&arr.commentStrip){try{for(x=0;x<arr.length;x++){if((te=arr[x])&&_409(te)){ret.push(te);}}}catch(e){}}else{for(x=0;x<arr.length;x++){if((te=arr[x])&&te[_45d]!=_45b){ret.push(te);te[_45d]=_45b;}}}}return ret;};var _460=function(_461,root){root=root||_3ed();var od=root.ownerDocument||root;_3f0=(od.createElement("div").tagName==="div");var r=_452(_461)(root);if(r&&r.nozip){return r;}return _45e(r);};_460.filter=function(_462,_463,root){var _464=[],_465=_3f2(_463),_466=(_465.length==1&&!/[^\w#\.]/.test(_463))?_427(_465[0]):function(node){return _3ec.indexOf(_460(_463,dom.byId(root)),node)!=-1;};for(var x=0,te;te=_462[x];x++){if(_466(te)){_464.push(te);}}return _464;};return _460;});},"dojo/NodeList-dom":function(){define(["./_base/kernel","./query","./_base/array","./_base/lang","./dom-class","./dom-construct","./dom-geometry","./dom-attr","./dom-style"],function(dojo,_467,_468,lang,_469,_46a,_46b,_46c,_46d){var _46e=function(a){return a.length==1&&(typeof a[0]=="string");};var _46f=function(node){var p=node.parentNode;if(p){p.removeChild(node);}};var _470=_467.NodeList,awc=_470._adaptWithCondition,aafe=_470._adaptAsForEach,aam=_470._adaptAsMap;function _471(_472){return function(node,name,_473){if(arguments.length==2){return _472[typeof name=="string"?"get":"set"](node,name);}return _472.set(node,name,_473);};};lang.extend(_470,{_normalize:function(_474,_475){var _476=_474.parse===true;if(typeof _474.template=="string"){var _477=_474.templateFunc||(dojo.string&&dojo.string.substitute);_474=_477?_477(_474.template,_474):_474;}var type=(typeof _474);if(type=="string"||type=="number"){_474=_46a.toDom(_474,(_475&&_475.ownerDocument));if(_474.nodeType==11){_474=lang._toArray(_474.childNodes);}else{_474=[_474];}}else{if(!lang.isArrayLike(_474)){_474=[_474];}else{if(!lang.isArray(_474)){_474=lang._toArray(_474);}}}if(_476){_474._runParse=true;}return _474;},_cloneNode:function(node){return node.cloneNode(true);},_place:function(ary,_478,_479,_47a){if(_478.nodeType!=1&&_479=="only"){return;}var _47b=_478,_47c;var _47d=ary.length;for(var i=_47d-1;i>=0;i--){var node=(_47a?this._cloneNode(ary[i]):ary[i]);if(ary._runParse&&dojo.parser&&dojo.parser.parse){if(!_47c){_47c=_47b.ownerDocument.createElement("div");}_47c.appendChild(node);dojo.parser.parse(_47c);node=_47c.firstChild;while(_47c.firstChild){_47c.removeChild(_47c.firstChild);}}if(i==_47d-1){_46a.place(node,_47b,_479);}else{_47b.parentNode.insertBefore(node,_47b);}_47b=node;}},position:aam(_46b.position),attr:awc(_471(_46c),_46e),style:awc(_471(_46d),_46e),addClass:aafe(_469.add),removeClass:aafe(_469.remove),toggleClass:aafe(_469.toggle),replaceClass:aafe(_469.replace),empty:aafe(_46a.empty),removeAttr:aafe(_46c.remove),marginBox:aam(_46b.getMarginBox),place:function(_47e,_47f){var item=_467(_47e)[0];return this.forEach(function(node){_46a.place(node,item,_47f);});},orphan:function(_480){return (_480?_467._filterResult(this,_480):this).forEach(_46f);},adopt:function(_481,_482){return _467(_481).place(this[0],_482)._stash(this);},query:function(_483){if(!_483){return this;}var ret=new _470;this.map(function(node){_467(_483,node).forEach(function(_484){if(_484!==undefined){ret.push(_484);}});});return ret._stash(this);},filter:function(_485){var a=arguments,_486=this,_487=0;if(typeof _485=="string"){_486=_467._filterResult(this,a[0]);if(a.length==1){return _486._stash(this);}_487=1;}return this._wrap(_468.filter(_486,a[_487],a[_487+1]),this);},addContent:function(_488,_489){_488=this._normalize(_488,this[0]);for(var i=0,node;(node=this[i]);i++){if(_488.length){this._place(_488,node,_489,i>0);}else{_46a.empty(node);}}return this;}});return _470;});},"dojo/_base/xhr":function(){define(["./kernel","./sniff","require","../io-query","../dom","../dom-form","./Deferred","./config","./json","./lang","./array","../on","../aspect","../request/watch","../request/xhr","../request/util"],function(dojo,has,_48a,ioq,dom,_48b,_48c,_48d,json,lang,_48e,on,_48f,_490,_491,util){dojo._xhrObj=_491._create;var cfg=dojo.config;dojo.objectToQuery=ioq.objectToQuery;dojo.queryToObject=ioq.queryToObject;dojo.fieldToObject=_48b.fieldToObject;dojo.formToObject=_48b.toObject;dojo.formToQuery=_48b.toQuery;dojo.formToJson=_48b.toJson;dojo._blockAsync=false;var _492=dojo._contentHandlers=dojo.contentHandlers={"text":function(xhr){return xhr.responseText;},"json":function(xhr){return json.fromJson(xhr.responseText||null);},"json-comment-filtered":function(xhr){if(!_48d.useCommentedJson){console.warn("Consider using the standard mimetype:application/json."+" json-commenting can introduce security issues. To"+" decrease the chances of hijacking, use the standard the 'json' handler and"+" prefix your json with: {}&&\n"+"Use djConfig.useCommentedJson=true to turn off this message.");}var _493=xhr.responseText;var _494=_493.indexOf("/*");var _495=_493.lastIndexOf("*/");if(_494==-1||_495==-1){throw new Error("JSON was not comment filtered");}return json.fromJson(_493.substring(_494+2,_495));},"javascript":function(xhr){return dojo.eval(xhr.responseText);},"xml":function(xhr){var _496=xhr.responseXML;if(_496&&has("dom-qsa2.1")&&!_496.querySelectorAll&&has("dom-parser")){_496=new DOMParser().parseFromString(xhr.responseText,"application/xml");}if(has("ie")){if((!_496||!_496.documentElement)){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];_48e.some(dp,function(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(xhr.responseText);_496=dom;}catch(e){return false;}return true;});}}return _496;},"json-comment-optional":function(xhr){if(xhr.responseText&&/^[^{\[]*\/\*/.test(xhr.responseText)){return _492["json-comment-filtered"](xhr);}else{return _492["json"](xhr);}}};dojo._ioSetArgs=function(args,_497,_498,_499){var _49a={args:args,url:args.url};var _49b=null;if(args.form){var form=dom.byId(args.form);var _49c=form.getAttributeNode("action");_49a.url=_49a.url||(_49c?_49c.value:null);_49b=_48b.toObject(form);}var _49d=[{}];if(_49b){_49d.push(_49b);}if(args.content){_49d.push(args.content);}if(args.preventCache){_49d.push({"dojo.preventCache":new Date().valueOf()});}_49a.query=ioq.objectToQuery(lang.mixin.apply(null,_49d));_49a.handleAs=args.handleAs||"text";var d=new _48c(function(dfd){dfd.canceled=true;_497&&_497(dfd);var err=dfd.ioArgs.error;if(!err){err=new Error("request cancelled");err.dojoType="cancel";dfd.ioArgs.error=err;}return err;});d.addCallback(_498);var ld=args.load;if(ld&&lang.isFunction(ld)){d.addCallback(function(_49e){return ld.call(args,_49e,_49a);});}var err=args.error;if(err&&lang.isFunction(err)){d.addErrback(function(_49f){return err.call(args,_49f,_49a);});}var _4a0=args.handle;if(_4a0&&lang.isFunction(_4a0)){d.addBoth(function(_4a1){return _4a0.call(args,_4a1,_49a);});}d.addErrback(function(_4a2){return _499(_4a2,d);});if(cfg.ioPublish&&dojo.publish&&_49a.args.ioPublish!==false){d.addCallbacks(function(res){dojo.publish("/dojo/io/load",[d,res]);return res;},function(res){dojo.publish("/dojo/io/error",[d,res]);return res;});d.addBoth(function(res){dojo.publish("/dojo/io/done",[d,res]);return res;});}d.ioArgs=_49a;return d;};var _4a3=function(dfd){var ret=_492[dfd.ioArgs.handleAs](dfd.ioArgs.xhr);return ret===undefined?null:ret;};var _4a4=function(_4a5,dfd){if(!dfd.ioArgs.args.failOk){console.error(_4a5);}return _4a5;};var _4a6=function(dfd){if(_4a7<=0){_4a7=0;if(cfg.ioPublish&&dojo.publish&&(!dfd||dfd&&dfd.ioArgs.args.ioPublish!==false)){dojo.publish("/dojo/io/stop");}}};var _4a7=0;_48f.after(_490,"_onAction",function(){_4a7-=1;});_48f.after(_490,"_onInFlight",_4a6);dojo._ioCancelAll=_490.cancelAll;dojo._ioNotifyStart=function(dfd){if(cfg.ioPublish&&dojo.publish&&dfd.ioArgs.args.ioPublish!==false){if(!_4a7){dojo.publish("/dojo/io/start");}_4a7+=1;dojo.publish("/dojo/io/send",[dfd]);}};dojo._ioWatch=function(dfd,_4a8,_4a9,_4aa){var args=dfd.ioArgs.options=dfd.ioArgs.args;lang.mixin(dfd,{response:dfd.ioArgs,isValid:function(_4ab){return _4a8(dfd);},isReady:function(_4ac){return _4a9(dfd);},handleResponse:function(_4ad){return _4aa(dfd);}});_490(dfd);_4a6(dfd);};var _4ae="application/x-www-form-urlencoded";dojo._ioAddQueryToUrl=function(_4af){if(_4af.query.length){_4af.url+=(_4af.url.indexOf("?")==-1?"?":"&")+_4af.query;_4af.query=null;}};dojo.xhr=function(_4b0,args,_4b1){var rDfd;var dfd=dojo._ioSetArgs(args,function(dfd){rDfd&&rDfd.cancel();},_4a3,_4a4);var _4b2=dfd.ioArgs;if("postData" in args){_4b2.query=args.postData;}else{if("putData" in args){_4b2.query=args.putData;}else{if("rawBody" in args){_4b2.query=args.rawBody;}else{if((arguments.length>2&&!_4b1)||"POST|PUT".indexOf(_4b0.toUpperCase())===-1){dojo._ioAddQueryToUrl(_4b2);}}}}var _4b3={method:_4b0,handleAs:"text",timeout:args.timeout,withCredentials:args.withCredentials,ioArgs:_4b2};if(typeof args.headers!=="undefined"){_4b3.headers=args.headers;}if(typeof args.contentType!=="undefined"){if(!_4b3.headers){_4b3.headers={};}_4b3.headers["Content-Type"]=args.contentType;}if(typeof _4b2.query!=="undefined"){_4b3.data=_4b2.query;}if(typeof args.sync!=="undefined"){_4b3.sync=args.sync;}dojo._ioNotifyStart(dfd);try{rDfd=_491(_4b2.url,_4b3,true);}catch(e){dfd.cancel();return dfd;}dfd.ioArgs.xhr=rDfd.response.xhr;rDfd.then(function(){dfd.resolve(dfd);}).otherwise(function(_4b4){_4b2.error=_4b4;if(_4b4.response){_4b4.status=_4b4.response.status;_4b4.responseText=_4b4.response.text;_4b4.xhr=_4b4.response.xhr;}dfd.reject(_4b4);});return dfd;};dojo.xhrGet=function(args){return dojo.xhr("GET",args);};dojo.rawXhrPost=dojo.xhrPost=function(args){return dojo.xhr("POST",args,true);};dojo.rawXhrPut=dojo.xhrPut=function(args){return dojo.xhr("PUT",args,true);};dojo.xhrDelete=function(args){return dojo.xhr("DELETE",args);};dojo._isDocumentOk=function(x){return util.checkStatus(x.status);};dojo._getText=function(url){var _4b5;dojo.xhrGet({url:url,sync:true,load:function(text){_4b5=text;}});return _4b5;};lang.mixin(dojo.xhr,{_xhrObj:dojo._xhrObj,fieldToObject:_48b.fieldToObject,formToObject:_48b.toObject,objectToQuery:ioq.objectToQuery,formToQuery:_48b.toQuery,formToJson:_48b.toJson,queryToObject:ioq.queryToObject,contentHandlers:_492,_ioSetArgs:dojo._ioSetArgs,_ioCancelAll:dojo._ioCancelAll,_ioNotifyStart:dojo._ioNotifyStart,_ioWatch:dojo._ioWatch,_ioAddQueryToUrl:dojo._ioAddQueryToUrl,_isDocumentOk:dojo._isDocumentOk,_getText:dojo._getText,get:dojo.xhrGet,post:dojo.xhrPost,put:dojo.xhrPut,del:dojo.xhrDelete});return dojo.xhr;});},"dojo/io-query":function(){define(["./_base/lang"],function(lang){var _4b6={};return {objectToQuery:function objectToQuery(map){var enc=encodeURIComponent,_4b7=[];for(var name in map){var _4b8=map[name];if(_4b8!=_4b6[name]){var _4b9=enc(name)+"=";if(lang.isArray(_4b8)){for(var i=0,l=_4b8.length;i<l;++i){_4b7.push(_4b9+enc(_4b8[i]));}}else{_4b7.push(_4b9+enc(_4b8));}}}return _4b7.join("&");},queryToObject:function queryToObject(str){var dec=decodeURIComponent,qp=str.split("&"),ret={},name,val;for(var i=0,l=qp.length,item;i<l;++i){item=qp[i];if(item.length){var s=item.indexOf("=");if(s<0){name=dec(item);val="";}else{name=dec(item.slice(0,s));val=dec(item.slice(s+1));}if(typeof ret[name]=="string"){ret[name]=[ret[name]];}if(lang.isArray(ret[name])){ret[name].push(val);}else{ret[name]=val;}}}return ret;}};});},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(lang,dom,ioq,json){function _4ba(obj,name,_4bb){if(_4bb===null){return;}var val=obj[name];if(typeof val=="string"){obj[name]=[val,_4bb];}else{if(lang.isArray(val)){val.push(_4bb);}else{obj[name]=_4bb;}}};var _4bc="file|submit|image|reset|button";var form={fieldToObject:function fieldToObject(_4bd){var ret=null;_4bd=dom.byId(_4bd);if(_4bd){var _4be=_4bd.name,type=(_4bd.type||"").toLowerCase();if(_4be&&type&&!_4bd.disabled){if(type=="radio"||type=="checkbox"){if(_4bd.checked){ret=_4bd.value;}}else{if(_4bd.multiple){ret=[];var _4bf=[_4bd.firstChild];while(_4bf.length){for(var node=_4bf.pop();node;node=node.nextSibling){if(node.nodeType==1&&node.tagName.toLowerCase()=="option"){if(node.selected){ret.push(node.value);}}else{if(node.nextSibling){_4bf.push(node.nextSibling);}if(node.firstChild){_4bf.push(node.firstChild);}break;}}}}else{ret=_4bd.value;}}}}return ret;},toObject:function formToObject(_4c0){var ret={},_4c1=dom.byId(_4c0).elements;for(var i=0,l=_4c1.length;i<l;++i){var item=_4c1[i],_4c2=item.name,type=(item.type||"").toLowerCase();if(_4c2&&type&&_4bc.indexOf(type)<0&&!item.disabled){_4ba(ret,_4c2,form.fieldToObject(item));if(type=="image"){ret[_4c2+".x"]=ret[_4c2+".y"]=ret[_4c2].x=ret[_4c2].y=0;}}}return ret;},toQuery:function formToQuery(_4c3){return ioq.objectToQuery(form.toObject(_4c3));},toJson:function formToJson(_4c4,_4c5){return json.stringify(form.toObject(_4c4),null,_4c5?4:0);}};return form;});},"dojo/request/watch":function(){define(["./util","../errors/RequestTimeoutError","../errors/CancelError","../_base/array","../_base/window","../has!host-browser?dom-addeventlistener?:../on:"],function(util,_4c6,_4c7,_4c8,win,on){var _4c9=null,_4ca=[];function _4cb(){var now=+(new Date);for(var i=0,dfd;i<_4ca.length&&(dfd=_4ca[i]);i++){var _4cc=dfd.response,_4cd=_4cc.options;if((dfd.isCanceled&&dfd.isCanceled())||(dfd.isValid&&!dfd.isValid(_4cc))){_4ca.splice(i--,1);_4ce._onAction&&_4ce._onAction();}else{if(dfd.isReady&&dfd.isReady(_4cc)){_4ca.splice(i--,1);dfd.handleResponse(_4cc);_4ce._onAction&&_4ce._onAction();}else{if(dfd.startTime){if(dfd.startTime+(_4cd.timeout||0)<now){_4ca.splice(i--,1);dfd.cancel(new _4c6("Timeout exceeded",_4cc));_4ce._onAction&&_4ce._onAction();}}}}}_4ce._onInFlight&&_4ce._onInFlight(dfd);if(!_4ca.length){clearInterval(_4c9);_4c9=null;}};function _4ce(dfd){if(dfd.response.options.timeout){dfd.startTime=+(new Date);}if(dfd.isFulfilled()){return;}_4ca.push(dfd);if(!_4c9){_4c9=setInterval(_4cb,50);}if(dfd.response.options.sync){_4cb();}};_4ce.cancelAll=function cancelAll(){try{_4c8.forEach(_4ca,function(dfd){try{dfd.cancel(new _4c7("All requests canceled."));}catch(e){}});}catch(e){}};if(win&&on&&win.doc.attachEvent){on(win.global,"unload",function(){_4ce.cancelAll();});}return _4ce;});},"dojo/request/util":function(){define(["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(_4cf,_4d0,_4d1,_4d2,_4d3,_4d4,lang,_4d5){_4cf.deepCopy=function deepCopy(_4d6,_4d7){for(var name in _4d7){var tval=_4d6[name],sval=_4d7[name];if(tval!==sval){if(tval&&typeof tval==="object"&&sval&&typeof sval==="object"){_4cf.deepCopy(tval,sval);}else{_4d6[name]=sval;}}}return _4d6;};_4cf.deepCreate=function deepCreate(_4d8,_4d9){_4d9=_4d9||{};var _4da=lang.delegate(_4d8),name,_4db;for(name in _4d8){_4db=_4d8[name];if(_4db&&typeof _4db==="object"){_4da[name]=_4cf.deepCreate(_4db,_4d9[name]);}}return _4cf.deepCopy(_4da,_4d9);};var _4dc=Object.freeze||function(obj){return obj;};function _4dd(_4de){return _4dc(_4de);};function _4df(_4e0){return _4e0.data||_4e0.text;};_4cf.deferred=function deferred(_4e1,_4e2,_4e3,_4e4,_4e5,last){var def=new _4d2(function(_4e6){_4e2&&_4e2(def,_4e1);if(!_4e6||!(_4e6 instanceof _4d0)&&!(_4e6 instanceof _4d1)){return new _4d1("Request canceled",_4e1);}return _4e6;});def.response=_4e1;def.isValid=_4e3;def.isReady=_4e4;def.handleResponse=_4e5;function _4e7(_4e8){_4e8.response=_4e1;throw _4e8;};var _4e9=def.then(_4dd).otherwise(_4e7);if(_4cf.notify){_4e9.then(lang.hitch(_4cf.notify,"emit","load"),lang.hitch(_4cf.notify,"emit","error"));}var _4ea=_4e9.then(_4df);var _4eb=new _4d5();for(var prop in _4ea){if(_4ea.hasOwnProperty(prop)){_4eb[prop]=_4ea[prop];}}_4eb.response=_4e9;_4dc(_4eb);if(last){def.then(function(_4ec){last.call(def,_4ec);},function(_4ed){last.call(def,_4e1,_4ed);});}def.promise=_4eb;def.then=_4eb.then;return def;};_4cf.addCommonMethods=function addCommonMethods(_4ee,_4ef){_4d4.forEach(_4ef||["GET","POST","PUT","DELETE"],function(_4f0){_4ee[(_4f0==="DELETE"?"DEL":_4f0).toLowerCase()]=function(url,_4f1){_4f1=lang.delegate(_4f1||{});_4f1.method=_4f0;return _4ee(url,_4f1);};});};_4cf.parseArgs=function parseArgs(url,_4f2,_4f3){var data=_4f2.data,_4f4=_4f2.query;if(data&&!_4f3){if(typeof data==="object"){_4f2.data=_4d3.objectToQuery(data);}}if(_4f4){if(typeof _4f4==="object"){_4f4=_4d3.objectToQuery(_4f4);}if(_4f2.preventCache){_4f4+=(_4f4?"&":"")+"request.preventCache="+(+(new Date));}}else{if(_4f2.preventCache){_4f4="request.preventCache="+(+(new Date));}}if(url&&_4f4){url+=(~url.indexOf("?")?"&":"?")+_4f4;}return {url:url,options:_4f2,getHeader:function(_4f5){return null;}};};_4cf.checkStatus=function(stat){stat=stat||0;return (stat>=200&&stat<300)||stat===304||stat===1223||!stat;};});},"dojo/errors/RequestError":function(){define(["./create"],function(_4f6){return _4f6("RequestError",function(_4f7,_4f8){this.response=_4f8;});});},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(_4f9,_4fa){return _4f9("RequestTimeoutError",null,_4fa,{dojoType:"timeout"});});},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(_4fb,_4fc,_4fd,util,has){has.add("native-xhr",function(){return typeof XMLHttpRequest!=="undefined";});has.add("dojo-force-activex-xhr",function(){return has("activex")&&!document.addEventListener&&window.location.protocol==="file:";});has.add("native-xhr2",function(){if(!has("native-xhr")){return;}var x=new XMLHttpRequest();return typeof x["addEventListener"]!=="undefined"&&(typeof opera==="undefined"||typeof x["upload"]!=="undefined");});has.add("native-formdata",function(){return typeof FormData!=="undefined";});has.add("native-response-type",function(){return has("native-xhr")&&typeof new XMLHttpRequest().responseType!=="undefined";});has.add("native-xhr2-blob",function(){if(!has("native-response-type")){return;}var x=new XMLHttpRequest();x.open("GET","/",true);x.responseType="blob";var _4fe=x.responseType;x.abort();return _4fe==="blob";});var _4ff={"blob":has("native-xhr2-blob")?"blob":"arraybuffer","document":"document","arraybuffer":"arraybuffer"};function _500(_501,_502){var _503=_501.xhr;_501.status=_501.xhr.status;try{_501.text=_503.responseText;}catch(e){}if(_501.options.handleAs==="xml"){_501.data=_503.responseXML;}if(!_502){try{_4fd(_501);}catch(e){_502=e;}}if(_502){this.reject(_502);}else{if(util.checkStatus(_503.status)){this.resolve(_501);}else{_502=new _4fb("Unable to load "+_501.url+" status: "+_503.status,_501);this.reject(_502);}}};var _504,_505,_506,_507;if(has("native-xhr2")){_504=function(_508){return !this.isFulfilled();};_507=function(dfd,_509){_509.xhr.abort();};_506=function(_50a,dfd,_50b){function _50c(evt){dfd.handleResponse(_50b);};function _50d(evt){var _50e=evt.target;var _50f=new _4fb("Unable to load "+_50b.url+" status: "+_50e.status,_50b);dfd.handleResponse(_50b,_50f);};function _510(evt){if(evt.lengthComputable){_50b.loaded=evt.loaded;_50b.total=evt.total;dfd.progress(_50b);}else{if(_50b.xhr.readyState===3){_50b.loaded=evt.position;dfd.progress(_50b);}}};_50a.addEventListener("load",_50c,false);_50a.addEventListener("error",_50d,false);_50a.addEventListener("progress",_510,false);return function(){_50a.removeEventListener("load",_50c,false);_50a.removeEventListener("error",_50d,false);_50a.removeEventListener("progress",_510,false);_50a=null;};};}else{_504=function(_511){return _511.xhr.readyState;};_505=function(_512){return 4===_512.xhr.readyState;};_507=function(dfd,_513){var xhr=_513.xhr;var _514=typeof xhr.abort;if(_514==="function"||_514==="object"||_514==="unknown"){xhr.abort();}};}function _515(_516){return this.xhr.getResponseHeader(_516);};var _517,_518={data:null,query:null,sync:false,method:"GET"};function xhr(url,_519,_51a){var _51b=has("native-formdata")&&_519&&_519.data&&_519.data instanceof FormData;var _51c=util.parseArgs(url,util.deepCreate(_518,_519),_51b);url=_51c.url;_519=_51c.options;var _51d,last=function(){_51d&&_51d();};var dfd=util.deferred(_51c,_507,_504,_505,_500,last);var _51e=_51c.xhr=xhr._create();if(!_51e){dfd.cancel(new _4fb("XHR was not created"));return _51a?dfd:dfd.promise;}_51c.getHeader=_515;if(_506){_51d=_506(_51e,dfd,_51c);}var data=_519.data,_51f=!_519.sync,_520=_519.method;try{_51e.open(_520,url,_51f,_519.user||_517,_519.password||_517);if(_519.withCredentials){_51e.withCredentials=_519.withCredentials;}if(has("native-response-type")&&_519.handleAs in _4ff){_51e.responseType=_4ff[_519.handleAs];}var _521=_519.headers,_522=_51b?false:"application/x-www-form-urlencoded";if(_521){for(var hdr in _521){if(hdr.toLowerCase()==="content-type"){_522=_521[hdr];}else{if(_521[hdr]){_51e.setRequestHeader(hdr,_521[hdr]);}}}}if(_522&&_522!==false){_51e.setRequestHeader("Content-Type",_522);}if(!_521||!("X-Requested-With" in _521)){_51e.setRequestHeader("X-Requested-With","XMLHttpRequest");}if(util.notify){util.notify.emit("send",_51c,dfd.promise.cancel);}_51e.send(data);}catch(e){dfd.reject(e);}_4fc(dfd);_51e=null;return _51a?dfd:dfd.promise;};xhr._create=function(){throw new Error("XMLHTTP not available");};if(has("native-xhr")&&!has("dojo-force-activex-xhr")){xhr._create=function(){return new XMLHttpRequest();};}else{if(has("activex")){try{new ActiveXObject("Msxml2.XMLHTTP");xhr._create=function(){return new ActiveXObject("Msxml2.XMLHTTP");};}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP");xhr._create=function(){return new ActiveXObject("Microsoft.XMLHTTP");};}catch(e){}}}}util.addCommonMethods(xhr);return xhr;});},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(JSON,_523,_524,has){has.add("activex",typeof ActiveXObject!=="undefined");has.add("dom-parser",function(_525){return "DOMParser" in _525;});var _526;if(has("activex")){var dp=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];var _527;_526=function(_528){var _529=_528.data;var text=_528.text;if(_529&&has("dom-qsa2.1")&&!_529.querySelectorAll&&has("dom-parser")){_529=new DOMParser().parseFromString(text,"application/xml");}function _52a(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(text);_529=dom;_527=p;}catch(e){return false;}return true;};if(!_529||!_529.documentElement){if(!_527||!_52a(_527)){_524.some(dp,_52a);}}return _529;};}var _52b=function(_52c){if(!has("native-xhr2-blob")&&_52c.options.handleAs==="blob"&&typeof Blob!=="undefined"){return new Blob([_52c.xhr.response],{type:_52c.xhr.getResponseHeader("Content-Type")});}return _52c.xhr.response;};var _52d={"javascript":function(_52e){return _523.eval(_52e.text||"");},"json":function(_52f){return JSON.parse(_52f.text||null);},"xml":_526,"blob":_52b,"arraybuffer":_52b,"document":_52b};function _530(_531){var _532=_52d[_531.options.handleAs];_531.data=_532?_532(_531):(_531.data||_531.text);return _531;};_530.register=function(name,_533){_52d[name]=_533;};return _530;});},"dojo/_base/fx":function(){define(["./kernel","./config","./lang","../Evented","./Color","../aspect","../sniff","../dom","../dom-style"],function(dojo,_534,lang,_535,_536,_537,has,dom,_538){var _539=lang.mixin;var _53a={};var _53b=_53a._Line=function(_53c,end){this.start=_53c;this.end=end;};_53b.prototype.getValue=function(n){return ((this.end-this.start)*n)+this.start;};var _53d=_53a.Animation=function(args){_539(this,args);if(lang.isArray(this.curve)){this.curve=new _53b(this.curve[0],this.curve[1]);}};_53d.prototype=new _535();lang.extend(_53d,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var _53e=this._percent,_53f=this.easing;return _53f?_53f(_53e):_53e;},_fire:function(evt,args){var a=args||[];if(this[evt]){if(_534.debugAtAllCosts){this[evt].apply(this,a);}else{try{this[evt].apply(this,a);}catch(e){console.error("exception in animation handler for:",evt);console.error(e);}}}return this;},play:function(_540,_541){var _542=this;if(_542._delayTimer){_542._clearTimer();}if(_541){_542._stopTimer();_542._active=_542._paused=false;_542._percent=0;}else{if(_542._active&&!_542._paused){return _542;}}_542._fire("beforeBegin",[_542.node]);var de=_540||_542.delay,_543=lang.hitch(_542,"_play",_541);if(de>0){_542._delayTimer=setTimeout(_543,de);return _542;}_543();return _542;},_play:function(_544){var _545=this;if(_545._delayTimer){_545._clearTimer();}_545._startTime=new Date().valueOf();if(_545._paused){_545._startTime-=_545.duration*_545._percent;}_545._active=true;_545._paused=false;var _546=_545.curve.getValue(_545._getStep());if(!_545._percent){if(!_545._startRepeatCount){_545._startRepeatCount=_545.repeat;}_545._fire("onBegin",[_546]);}_545._fire("onPlay",[_546]);_545._cycle();return _545;},pause:function(){var _547=this;if(_547._delayTimer){_547._clearTimer();}_547._stopTimer();if(!_547._active){return _547;}_547._paused=true;_547._fire("onPause",[_547.curve.getValue(_547._getStep())]);return _547;},gotoPercent:function(_548,_549){var _54a=this;_54a._stopTimer();_54a._active=_54a._paused=true;_54a._percent=_548;if(_549){_54a.play();}return _54a;},stop:function(_54b){var _54c=this;if(_54c._delayTimer){_54c._clearTimer();}if(!_54c._timer){return _54c;}_54c._stopTimer();if(_54b){_54c._percent=1;}_54c._fire("onStop",[_54c.curve.getValue(_54c._getStep())]);_54c._active=_54c._paused=false;return _54c;},destroy:function(){this.stop();},status:function(){if(this._active){return this._paused?"paused":"playing";}return "stopped";},_cycle:function(){var _54d=this;if(_54d._active){var curr=new Date().valueOf();var step=_54d.duration===0?1:(curr-_54d._startTime)/(_54d.duration);if(step>=1){step=1;}_54d._percent=step;if(_54d.easing){step=_54d.easing(step);}_54d._fire("onAnimate",[_54d.curve.getValue(step)]);if(_54d._percent<1){_54d._startTimer();}else{_54d._active=false;if(_54d.repeat>0){_54d.repeat--;_54d.play(null,true);}else{if(_54d.repeat==-1){_54d.play(null,true);}else{if(_54d._startRepeatCount){_54d.repeat=_54d._startRepeatCount;_54d._startRepeatCount=0;}}}_54d._percent=0;_54d._fire("onEnd",[_54d.node]);!_54d.repeat&&_54d._stopTimer();}}return _54d;},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer;}});var ctr=0,_54e=null,_54f={run:function(){}};lang.extend(_53d,{_startTimer:function(){if(!this._timer){this._timer=_537.after(_54f,"run",lang.hitch(this,"_cycle"),true);ctr++;}if(!_54e){_54e=setInterval(lang.hitch(_54f,"run"),this.rate);}},_stopTimer:function(){if(this._timer){this._timer.remove();this._timer=null;ctr--;}if(ctr<=0){clearInterval(_54e);_54e=null;ctr=0;}}});var _550=has("ie")?function(node){var ns=node.style;if(!ns.width.length&&_538.get(node,"width")=="auto"){ns.width="auto";}}:function(){};_53a._fade=function(args){args.node=dom.byId(args.node);var _551=_539({properties:{}},args),_552=(_551.properties.opacity={});_552.start=!("start" in _551)?function(){return +_538.get(_551.node,"opacity")||0;}:_551.start;_552.end=_551.end;var anim=_53a.animateProperty(_551);_537.after(anim,"beforeBegin",lang.partial(_550,_551.node),true);return anim;};_53a.fadeIn=function(args){return _53a._fade(_539({end:1},args));};_53a.fadeOut=function(args){return _53a._fade(_539({end:0},args));};_53a._defaultEasing=function(n){return 0.5+((Math.sin((n+1.5)*Math.PI))/2);};var _553=function(_554){this._properties=_554;for(var p in _554){var prop=_554[p];if(prop.start instanceof _536){prop.tempColor=new _536();}}};_553.prototype.getValue=function(r){var ret={};for(var p in this._properties){var prop=this._properties[p],_555=prop.start;if(_555 instanceof _536){ret[p]=_536.blendColors(_555,prop.end,r,prop.tempColor).toCss();}else{if(!lang.isArray(_555)){ret[p]=((prop.end-_555)*r)+_555+(p!="opacity"?prop.units||"px":0);}}}return ret;};_53a.animateProperty=function(args){var n=args.node=dom.byId(args.node);if(!args.easing){args.easing=dojo._defaultEasing;}var anim=new _53d(args);_537.after(anim,"beforeBegin",lang.hitch(anim,function(){var pm={};for(var p in this.properties){if(p=="width"||p=="height"){this.node.display="block";}var prop=this.properties[p];if(lang.isFunction(prop)){prop=prop(n);}prop=pm[p]=_539({},(lang.isObject(prop)?prop:{end:prop}));if(lang.isFunction(prop.start)){prop.start=prop.start(n);}if(lang.isFunction(prop.end)){prop.end=prop.end(n);}var _556=(p.toLowerCase().indexOf("color")>=0);function _557(node,p){var v={height:node.offsetHeight,width:node.offsetWidth}[p];if(v!==undefined){return v;}v=_538.get(node,p);return (p=="opacity")?+v:(_556?v:parseFloat(v));};if(!("end" in prop)){prop.end=_557(n,p);}else{if(!("start" in prop)){prop.start=_557(n,p);}}if(_556){prop.start=new _536(prop.start);prop.end=new _536(prop.end);}else{prop.start=(p=="opacity")?+prop.start:parseFloat(prop.start);}}this.curve=new _553(pm);}),true);_537.after(anim,"onAnimate",lang.hitch(_538,"set",anim.node),true);return anim;};_53a.anim=function(node,_558,_559,_55a,_55b,_55c){return _53a.animateProperty({node:node,duration:_559||_53d.prototype.duration,properties:_558,easing:_55a,onEnd:_55b}).play(_55c||0);};if(1){_539(dojo,_53a);dojo._Animation=_53d;}return _53a;});},"dojo/_base/loader":function(){define(["./kernel","../has","require","module","../json","./lang","./array"],function(dojo,has,_55d,_55e,json,lang,_55f){if(!1){console.error("cannot load the Dojo v1.x loader with a foreign loader");return 0;}1||has.add("dojo-fast-sync-require",1);var _560=function(id){return {src:_55e.id,id:id};},_561=function(name){return name.replace(/\./g,"/");},_562=/\/\/>>built/,_563=[],_564=[],_565=function(mid,_566,_567){_563.push(_567);_55f.forEach(mid.split(","),function(mid){var _568=_569(mid,_566.module);_564.push(_568);_56a(_568);});_56b();},_56b=(1?function(){var _56c,mid;for(mid in _56d){_56c=_56d[mid];if(_56c.noReqPluginCheck===undefined){_56c.noReqPluginCheck=/loadInit\!/.test(mid)||/require\!/.test(mid)?1:0;}if(!_56c.executed&&!_56c.noReqPluginCheck&&_56c.injected==_56e){return;}}_56f(function(){var _570=_563;_563=[];_55f.forEach(_570,function(cb){cb(1);});});}:(function(){var _571,_572=function(m){_571[m.mid]=1;for(var t,_573,deps=m.deps||[],i=0;i<deps.length;i++){_573=deps[i];if(!(t=_571[_573.mid])){if(t===0||!_572(_573)){_571[m.mid]=0;return false;}}}return true;};return function(){var _574,mid;_571={};for(mid in _56d){_574=_56d[mid];if(_574.executed||_574.noReqPluginCheck){_571[mid]=1;}else{if(_574.noReqPluginCheck!==0){_574.noReqPluginCheck=/loadInit\!/.test(mid)||/require\!/.test(mid)?1:0;}if(_574.noReqPluginCheck){_571[mid]=1;}else{if(_574.injected!==_5a0){_571[mid]=0;}}}}for(var t,i=0,end=_564.length;i<end;i++){_574=_564[i];if(!(t=_571[_574.mid])){if(t===0||!_572(_574)){return;}}}_56f(function(){var _575=_563;_563=[];_55f.forEach(_575,function(cb){cb(1);});});};})()),_576=function(mid,_577,_578){_577([mid],function(_579){_577(_579.names,function(){for(var _57a="",args=[],i=0;i<arguments.length;i++){_57a+="var "+_579.names[i]+"= arguments["+i+"]; ";args.push(arguments[i]);}eval(_57a);var _57b=_577.module,_57c=[],_57d,_57e={provide:function(_57f){_57f=_561(_57f);var _580=_569(_57f,_57b);if(_580!==_57b){_5a6(_580);}},require:function(_581,_582){_581=_561(_581);_582&&(_569(_581,_57b).result=_5a1);_57c.push(_581);},requireLocalization:function(_583,_584,_585){if(!_57d){_57d=["dojo/i18n"];}_585=(_585||dojo.locale).toLowerCase();_583=_561(_583)+"/nls/"+(/root/i.test(_585)?"":_585+"/")+_561(_584);if(_569(_583,_57b).isXd){_57d.push("dojo/i18n!"+_583);}},loadInit:function(f){f();}},hold={},p;try{for(p in _57e){hold[p]=dojo[p];dojo[p]=_57e[p];}_579.def.apply(null,args);}catch(e){_586("error",[_560("failedDojoLoadInit"),e]);}finally{for(p in _57e){dojo[p]=hold[p];}}if(_57d){_57c=_57c.concat(_57d);}if(_57c.length){_565(_57c.join(","),_577,_578);}else{_578();}});});},_587=function(text,_588,_589){var _58a=/\(|\)/g,_58b=1,_58c;_58a.lastIndex=_588;while((_58c=_58a.exec(text))){if(_58c[0]==")"){_58b-=1;}else{_58b+=1;}if(_58b==0){break;}}if(_58b!=0){throw "unmatched paren around character "+_58a.lastIndex+" in: "+text;}return [dojo.trim(text.substring(_589,_58a.lastIndex))+";\n",_58a.lastIndex];},_58d=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,_58e=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,_58f=/(^|\s)(require|define)\s*\(/m,_590=function(text,_591){var _592,_593,_594,_595,_596=[],_597=[],_598=[];_591=_591||text.replace(_58d,function(_599){_58e.lastIndex=_58f.lastIndex=0;return (_58e.test(_599)||_58f.test(_599))?"":_599;});while((_592=_58e.exec(_591))){_593=_58e.lastIndex;_594=_593-_592[0].length;_595=_587(_591,_593,_594);if(_592[2]=="loadInit"){_596.push(_595[0]);}else{_597.push(_595[0]);}_58e.lastIndex=_595[1];}_598=_596.concat(_597);if(_598.length||!_58f.test(_591)){return [text.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),_598.join(""),_598];}else{return 0;}},_59a=function(_59b,text){var _59c,id,_59d=[],_59e=[];if(_562.test(text)||!(_59c=_590(text))){return 0;}id=_59b.mid+"-*loadInit";for(var p in _569("dojo",_59b).result.scopeMap){_59d.push(p);_59e.push("\""+p+"\"");}return "// xdomain rewrite of "+_59b.mid+"\n"+"define('"+id+"',{\n"+"\tnames:"+json.stringify(_59d)+",\n"+"\tdef:function("+_59d.join(",")+"){"+_59c[1]+"}"+"});\n\n"+"define("+json.stringify(_59d.concat(["dojo/loadInit!"+id]))+", function("+_59d.join(",")+"){\n"+_59c[0]+"});";},_59f=_55d.initSyncLoader(_565,_56b,_59a),sync=_59f.sync,_56e=_59f.requested,_5a0=_59f.arrived,_5a1=_59f.nonmodule,_5a2=_59f.executing,_5a3=_59f.executed,_5a4=_59f.syncExecStack,_56d=_59f.modules,_5a5=_59f.execQ,_569=_59f.getModule,_56a=_59f.injectModule,_5a6=_59f.setArrived,_586=_59f.signal,_5a7=_59f.finishExec,_5a8=_59f.execModule,_5a9=_59f.getLegacyMode,_56f=_59f.guardCheckComplete;_565=_59f.dojoRequirePlugin;dojo.provide=function(mid){var _5aa=_5a4[0],_5ab=lang.mixin(_569(_561(mid),_55d.module),{executed:_5a2,result:lang.getObject(mid,true)});_5a6(_5ab);if(_5aa){(_5aa.provides||(_5aa.provides=[])).push(function(){_5ab.result=lang.getObject(mid);delete _5ab.provides;_5ab.executed!==_5a3&&_5a7(_5ab);});}return _5ab.result;};has.add("config-publishRequireResult",1,0,0);dojo.require=function(_5ac,_5ad){function _5ae(mid,_5af){var _5b0=_569(_561(mid),_55d.module);if(_5a4.length&&_5a4[0].finish){_5a4[0].finish.push(mid);return undefined;}if(_5b0.executed){return _5b0.result;}_5af&&(_5b0.result=_5a1);var _5b1=_5a9();_56a(_5b0);_5b1=_5a9();if(_5b0.executed!==_5a3&&_5b0.injected===_5a0){_59f.guardCheckComplete(function(){_5a8(_5b0);});}if(_5b0.executed){return _5b0.result;}if(_5b1==sync){if(_5b0.cjs){_5a5.unshift(_5b0);}else{_5a4.length&&(_5a4[0].finish=[mid]);}}else{_5a5.push(_5b0);}return undefined;};var _5b2=_5ae(_5ac,_5ad);if(has("config-publishRequireResult")&&!lang.exists(_5ac)&&_5b2!==undefined){lang.setObject(_5ac,_5b2);}return _5b2;};dojo.loadInit=function(f){f();};dojo.registerModulePath=function(_5b3,_5b4){var _5b5={};_5b5[_5b3.replace(/\./g,"/")]=_5b4;_55d({paths:_5b5});};dojo.platformRequire=function(_5b6){var _5b7=(_5b6.common||[]).concat(_5b6[dojo._name]||_5b6["default"]||[]),temp;while(_5b7.length){if(lang.isArray(temp=_5b7.shift())){dojo.require.apply(dojo,temp);}else{dojo.require(temp);}}};dojo.requireIf=dojo.requireAfterIf=function(_5b8,_5b9,_5ba){if(_5b8){dojo.require(_5b9,_5ba);}};dojo.requireLocalization=function(_5bb,_5bc,_5bd){_55d(["../i18n"],function(i18n){i18n.getLocalization(_5bb,_5bc,_5bd);});};return {extractLegacyApiApplications:_590,require:_565,loadInit:_576};});}}});(function(){var _5be=this.require;_5be({cache:{}});!_5be.async&&_5be(["dojo"]);_5be.boot&&_5be.apply(null,_5be.boot);})();
}
/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
require({cache:{"mxui/initialize":function(){define(["dojo/sniff","dojo/aspect","dojo/_base/config","dojo/_base/loader"],function(_1,_2,_3){_1.add("windowsphone",parseFloat(window.navigator.userAgent.split("Windows Phone ")[1])||undefined);_1.add("mobile",_1("ios")||_1("android")||_1("windowsphone")||undefined);_1.add("edge",parseFloat(window.navigator.userAgent.split("Edge/")[1])||undefined);window.require.baseUrl=_4(window.require.baseUrl);if(_3.isDebug){_1.add("config-dojo-loader-catches",true,true,true);window.require.on("error",function(ex){var _5;if(ex.message==="evalModuleThrew"){_5=ex.info.mid;}else{if(ex.message==="factoryThrew"){_5=ex.info[0].mid;}}console.error(_5?"Loading module "+_5+" failed! Check script file for syntax errors.":"Loading module failed! Check console log for more detailed debug information.");});}var _6=window.require.initSyncLoader();_2.after(dojo,"provide",function(_7){if(!_6.syncExecStack[0]){var _8=_7.replace(/\./g,"/"),_9=_6.getModule(_8,window.require.module);_6.finishExec(_9);}},true);function _4(_a){if(/^(\w+:\/\/|\/)/.test(_a)){return _a;}var _b=window.location.origin||(window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),_c=window.location.pathname;return _b+_c.slice(0,_c.lastIndexOf("/")+1)+_a;};});},"webcore/assign":function(){define([],function(){if(typeof Object.assign!="function"){Object.assign=function(_d){"use strict";if(_d==null){throw new TypeError("Cannot convert undefined or null to object");}_d=Object(_d);for(var _e=1;_e<arguments.length;_e++){var _f=arguments[_e];if(_f!=null){for(var key in _f){if(Object.prototype.hasOwnProperty.call(_f,key)){_d[key]=_f[key];}}}}return _d;};}});},"mendix/exposed":function(){define(["mendix/lang","mendix/ov","mendix/logger","mendix/lib/MxObject","mendix/lib/MxMetaObject","mendix/lib/MxContext","mendix/lib/ObjectValidation","webcore/datasource/_DataSource","webcore/datasource/_XPathSourceBase","webcore/datasource/XPathSource","webcore/datasource/EntityPathSource","webcore/datasource/MicroflowSource","webcore/datasource/ReferenceSetSource","webcore/objectsource/DirectObjectSource","webcore/objectsource/SchemaObjectSource","webcore/objectsource/MicroflowObjectSource","mendix/lib/Upload","mendix/lib/Error","mendix/lib/ServerError","mendix/lib/ConnectionError","mendix/lib/DescribedServerError","mendix/lib/NavigationError","mendix/lib/ValidationError","mendix/next/dataLayer"],function(_10,ov,_11,_12,_13,_14,_15,_16,_17,_18,_19,_1a,_1b,_1c,_1d,_1e,_1f,_20,_21,_22,_23,_24,_25,_26){window.logger=_11;window.mendix={lang:_10,ov:ov,lib:{MxObject:_12,MxMetaObject:_13,MxContext:_14,ObjectValidation:_15,MxValidator:_15,Upload:_1f,Error:_20,ServerError:_21,ConnectionError:_22,DescribedServerError:_23,NavigationError:_24,ValidationError:_25},next:{dataLayer:_26}};window.webcore={datasource:{_DataSource:_16,_XPathSourceBase:_17,XPathSource:_18,EntityPathSource:_19,MicroflowSource:_1a,ReferenceSetSource:_1b},objectsource:{DirectObjectSource:_1c,SchemaObjectSource:_1d,MicroflowObjectSource:_1e}};});},"mendix/lang":function(){define(["mendix/lib/DescribedServerError","mendix/logger","dojo/_base/kernel","dojo/sniff","dojo/_base/json","dojo/_base/array","dojo/_base/lang","exports"],function(_27,_28,_29,_2a,_2b,_2c,_2d,_2e){var _2f=0;var _30=function(_31,_32,_33,_34,_35,_36,_37){var _38=_34[_36],_39=_32+"."+_33+" is deprecated, use "+(_35!=_32?_35+".":"")+_36+" instead",_3a=function(){_29.deprecated(_39,"",_37);var _3b=typeof _34=="function"&&this instanceof _34;return (_3b?this:_34)[_36].apply(this,arguments);};if(!_38){_31.prototype[_33]=_3a;}else{if(typeof _38=="function"&&_38.prototype&&!_38.prototype.declaredClass){if(typeof _31=="function"){_31.prototype[_33]=_3a;}else{_31[_33]=_3a;}}else{_31[_33]=_38;}}};_2e.map=function(_3c,_3d,_3e){var _3f=[];_2e.forEach(_3c,function(){_3f.push(_3d.apply(this,arguments));},_3e);return _3f;};_2e.forEach=function(_40,_41,_42){if(_40==null){return;}if(_40.length===+_40.length){for(var i=0;i<_40.length;i++){_41.call(_42,_40[i],i,_40);}}else{for(var j in _40){if(_40.hasOwnProperty(j)){_41.call(_42,_40[j],j,_40);}}}};_2e.nullExec=function(_43){if(_43){_43();}};_2e.sequence=function(_44,_45,_46){if(_45&&typeof _45=="object"){_46=_45;_45=null;}if(_44 instanceof Array){var _47=0,_48,_49,_4a,_4b=function(){_48=true;if(_49){_4a();}};_4a=function(){while(_47<_44.length){_48=false;_49=false;var _4c=_44[_47++];if(typeof _4c=="function"){_4c.call(_46,_4b);}else{if(_46&&typeof _46[_4c]=="function"){_46[_4c](_4b);}else{throw new Error("mendix/lang.sequence: #"+_47+" is not a function");}}if(!_48){_49=true;return;}}if(_45){_45.call(_46);}};_4a();}else{throw new Error("mendix/lang.sequence: sequence is not an array");}};_2e.collect=function(_4d,_4e,_4f){if(_4e&&typeof _4e=="object"){_4f=_4e;_4e=null;}if(_4d instanceof Array){var _50=0,_51=_4d.length+1,_52=function(){if(--_51===0&&_4e){_4e.call(_4f);}};while(_50<_4d.length){var _53=_4d[_50++];if(typeof _53=="function"){_53.call(_4f,_52);}else{if(_4f&&typeof _4f[_53]=="function"){_4f[_53](_52);}else{throw new Error("mendix/lang.collect: #"+_50+" is not a function");}}}_52();}else{throw new Error("mendix/lang.collect: collection is not an array");}};_2e.find=function(_54,_55,_56){for(var i=0;i<_54.length;i++){if(_55.call(_56,_54[i],i,_54)){return _54[i];}}return undefined;};_2e.findLast=function(_57,_58,_59){for(var i=_57.length-1;i>=0;i--){if(_58.call(_59,_57[i],i,_57)){return _57[i];}}return undefined;};_2e.findIndex=function(_5a,_5b){for(var i=0;i<_5a.length;i++){if(_5b(_5a[i],i)){return i;}}return -1;};_2e.flatten=function(arr){var _5c=[];_2c.forEach(arr,function(_5d){_5c.push.apply(_5c,_5d);});return _5c;};if(_2a("ie")==8){_2e.toArray=function(_5e){var _5f=[];for(var i=0;i<_5e.length;i++){_5f.push(_5e[i]);}return _5f;};}else{_2e.toArray=function(_60){return [].slice.call(_60);};}_2e.objectToArray=function(obj){var arr=[];for(var i in obj){arr.push(i);}return (arr);};_2e.arrayFromObject=function(obj){return Object.keys(obj).map(function(k){return [k,obj[k]];});};_2e.objectFromArray=function(arr){return arr.reduce(function(acc,_61){acc[_61[0]]=_61[1];return acc;},{});};_2e.clone=function(obj){return JSON.parse(JSON.stringify(obj));};_2e.thread=function(_62,_63){return setTimeout(_2d.hitch(_63,_62),1);};_2e.delay=function(_64,_65,_66){return setTimeout(function(){if(_65()){_64();}else{setTimeout(arguments.callee,_66);}},(_66||500));};_2e.runOrDelay=function(_67,_68,_69){if(!_69){_69=500;}if(_68()){return _67();}else{return setTimeout(function(){if(_68()){_67();}else{setTimeout(arguments.callee,_69);}},_69);}};_2e.waitUntilPredicateHolds=function(_6a,_6b,_6c){if(_6c.length===0||_6a()){_6b();return;}var _6d=_6c.shift();setTimeout(function(){_2e.waitUntilPredicateHolds(_6a,_6b,_6c);},_6d);};_2e.arraySubtract=function(_6e,_6f){for(var i=0;i<_6f.length;i++){for(var j=_6e.length-1;0<=j;j--){if(_6e[j].toString()==_6f[i].toString()){_6e.splice(j,1);}}}return _6e;};_2e.objectIsEmpty=function(obj){for(var i in obj){return false;}return true;};_2e.firstKey=function(obj){for(var key in obj){return key;}return null;};_2e.itemCount=function(obj){var _70=0;for(var i in obj){_70++;}return _70;};_2e.inArray=function(arr,_71){for(var i=0;i<arr.length;i++){if(arr[i]==_71){return true;}}return false;};_2e.unique=function(arr){return arr.filter(function(el,i){return arr.indexOf(el)===i;});};_2e.startsWith=function(str,_72){return str.indexOf(_72)===0;};_2e.endsWith=function(str,_73){return str.indexOf(_73,str.length-_73.length)!==-1;};_2e.trim=function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");};_2e.capitalize=function(str){return str.length>0?str[0].toUpperCase()+str.slice(1):"";};_2e.getUniqueId=function(){return +new Date()+"-"+_2f++;};_2e.getFileError=function(doc,_74){var _75=null,_76,_77;_76=doc.getElementsByTagName("textarea")[0];if(_76){_77=_2b.fromJson(_76.value);if(_77.type&&_77.type==="exception"){_75=new _27(_77.description);_28.error((_74?(_74+": "):"")+_75.message);_75._type="exception";}}return _75;};_2e.deprecate=function(){var _78=arguments,_79=_78[0],_7a=_2d.getObject(_79,true),_7b=_78[_78.length-1];var _7c,_7d,_7e;if(_78.length<4){if(typeof _78[1]=="object"){var _7f=_78[1];for(_7e in _7f){_30(_7a,_79,_7e,_7a,_79,_7f[_7e],_7b);}}else{_7d=_78[1];_7c=_2d.getObject(_7d);for(_7e in _7c){_30(_7a,_79,_7e,_7c,_7d,_7e,_7b);}}}else{_7d=_78[2];_7c=_2d.getObject(_7d);var _80=_78[1],_81=_78[3];_30(_7a,_79,_80,_7c,_7d,_81,_7b);}};});},"mendix/lib/DescribedServerError":function(){define(["mendix/lib/ServerError","dojo/_base/declare"],function(_82,_83){return _83(_82,{});});},"mendix/lib/ServerError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_84,_85){return _85(_84,{});});},"mendix/lib/Error":function(){define(["dojo/_base/declare"],function(_86){return _86(window.Error,{constructor:function(_87,_88){this.message=_87;this.original=_88;}});});},"mendix/logger":function(){define(["dojo/_base/config"],function(_89){var ALL=0,_8a=1,_8b=2,_8c=3,_8d=4;var _8e=_89.isDebug?_8c:_8d,_8f=null;function _90(str,lvl){return lvl===_8d||lvl>=_8e&&(_8f==null||str.match(_8f)!=null);};function _91(_92){return function(_93){Function.prototype.apply.call(console[_92],console,_93);};};return {ALL:ALL,DEBUG:_8a,INFO:_8b,WARN:_8c,ERROR:_8d,level:function(lvl){_8e=lvl;},filter:function(_94){if(typeof _94=="object"){_94=_94.id||_94.name;}_8f=new RegExp(_94);},error:function(str){if(_90(str,_8d)){_91("error")(arguments);}},debug:function(str){if(_90(str,_8a)){_91("debug")(arguments);}},info:function(str){if(_90(str,_8b)){_91("info")(arguments);}},warn:function(str){if(_90(str,_8c)){_91("warn")(arguments);}},exception:function(str){if(_90(str,_8d)){_91("error")(arguments);}},scream:function(str){_91("error")(arguments);}};});},"mendix/ov":function(){define(["mendix/lib/ObjectValidation","mendix/logger","dojo/_base/array","dojo/_base/json","exports"],function(_95,_96,_97,_98,_99){var _9a=function(_9b){if(typeof _9b.datavalidation=="string"){_96.error("Server message error : validations included as type String instead of Array, compensating via eval");_9b.datavalidation=_98.fromJson(_9b.datavalidation);}return _9b.datavalidation;};_99.getGuid=function(msg){return (msg instanceof _95)?msg.getGuid():msg.guid;};_99.getValidationByGUID=function(_9c,g){var raw=_9a(_9c)||_9c;var _9d=null;_97.forEach(raw,function(msg){var _9e=_99.getGuid(msg);if(_9e==g){if(_9d){_9d._addFields(msg);}else{_9d=new _95({msg:msg});}}});return _9d;};_99.hasValidations=function(_9f){return (_9f.datavalidation!=null);};_99.getValidations=function(_a0){var _a1=[];var map={};var raw=_9a(_a0)||_a0;if(raw){_97.forEach(raw,function(msg){var _a2=_99.getGuid(msg);if(!map[_a2]){map[_a2]=new _95({msg:msg});_a1.push(map[_a2]);}else{map[_a2]._addFields(msg);}});}map=null;return _a1;};_99.getValidation=function(msg){return new _95(msg);};});},"mendix/lib/ObjectValidation":function(){define(["mendix/ov","dojo/_base/lang"],function(ov,_a3){function _a4(_a5){var _a6=_a5.msg,_a7={};this.getGuid=function(){return ov.getGuid(_a6);};this.getAttributes=function(){var _a8=[];for(var i in _a7){_a8.push({name:i,reason:_a7[i]});}return _a8;};this.getFields=this.getAttributes;this.addAttribute=function(_a9,_aa){if(_a7[_a9]!=undefined){return false;}else{_a7[_a9]=_aa;}};this.addField=this.addAttribute;this._addFields=function(msg){var _ab=msg.errorFields;if((this.getGuid()==this.constructor.getGuid(msg))&&_ab){for(var i=0;i<_ab.length;i++){_a7[_ab[i].name]=_ab[i].message;}}};this.removeAttribute=function(_ac){if(_a7[_ac]!=undefined){delete _a7[_ac];return true;}else{return false;}};this.removeField=this.removeAttribute;this.getErrorReason=function(_ad){return _a7[_ad];};this.getReasonByAttribute=this.getErrorReason;this.clone=function(){var s=new _a4({msg:_a3.clone(_a6)});for(var i in _a7){s.addField(i,_a7[i]);}return s;};this.toString=function(){var _ae="";var _af="";for(var i in _a7){_ae=_ae+""+i+" "+_a7[i]+_af;_af="; ";}return _ae;};this._addFields(_a6);};_a4.getGuid=function(msg){return ov.getGuid(msg);};return _a4;});},"mendix/lib/MxObject":function(){define(["mendix/lang","mendix/validator","mendix/logger","dojo/_base/json","dojo/_base/array","dojo/_base/lang","big/big","dojo/_base/declare"],function(_b0,_b1,_b2,_b3,_b4,_b5,Big,_b6){var _b7=_b6(null,{_guid:"0",_references:null,metaData:null,jsonData:null,id:"mendix.lib.MxObject",constructor:function(_b8){if(!(_b8.meta&&_b8.json&&_b8.json.objectType)){var _b9=this.metaData&&this.metaData.getEntity();throw new Error("new MxObject(): cannot create Mendix object.  Check entity access"+(_b9?" for entity "+_b9:""));}this.metaData=_b8.meta;this.resetFromJSON(_b8.json);this._guid=this.jsonData.guid;this.id+="("+this.jsonData.objectType+":"+this._guid+")";},attachReferences:function(_ba){if(_ba&&_ba.length>0){this._references={};_b4.forEach(_ba,function(_bb){this._references[_bb.getGuid()]=_bb;},this);}},resetFromJSON:function(_bc){this.jsonData=_bc;this._guid=this.jsonData?this.jsonData.guid:"0";if(this.jsonData&&this.metaData){for(var _bd in this.jsonData.attributes){this._setAttributeValue(_bd,this._convertValue(_bd,this._getAttributeValue(_bd)));}}},getGuid:function(){return this._guid;},hasChanges:function(){return !_b0.objectIsEmpty(window.mx.data.getChanges(this._guid));},set:function(_be,_bf){try{return this._setContent(_be,_bf);}catch(e){throw new Error("Validate values using validator#validate(value, attr) before calling MxObject#set.");}},isReadonlyAttr:function(_c0){if(this.has(_c0)){return !!this.jsonData.attributes[_c0].readonly;}else{if(this.metaData.has(_c0)){return false;}else{return true;}}},fetch:function(_c1,_c2){var _c3=this,obj=this,_c4=null,_c5;if(!_c1){_c5=[];}else{if(_c1 instanceof Array){_c5=_c1.slice();}else{_c5=_c1.split("/");}}if(this.isA(_c5[0])){_c5.shift();}if(typeof _c2!="function"){throw new Error(_c3.id+".fetch : callback is not a function");}var _c6=function(){if(_c5.length===0){_c2(obj);}else{if(_c5.length==1){if(_c4){window.mx.data.release(_c4);}_c2(obj.get2(_c5[0]));}else{if(_c4){window.mx.data.release(_c4);}var ref=_c5.shift(),_c7=false,_c8,_c9;if(obj.isObjectReference(ref)){var _ca=obj.get2(ref);if(_ca===""){_c2(null);return;}if(typeof _ca=="object"){_c8=[_ca.guid];}else{_c8=[_ca];}}else{if(obj.isObjectReferenceSet(ref)){if(_c5.length==1){_c7=true;var _cb=obj.get2(ref);if(_cb.length===0){_c2(null);return;}if(typeof _cb[0]=="object"){_c8=[];while(_cb.length>0){_c8.push(_cb.shift().guid);}}else{_c8=_cb;}}else{throw new Error(_c3.id+".fetch : "+obj+" reference set should be last reference in path");}}else{return _c2(null);}}_c9=_c5.shift();if(!_c9){throw new Error(_c3.id+".fetch : no type specified");}if(_c8){window.mx.data.get({guids:_c8,callback:function(_cc){if(_c7){if(_cc.length===0||_cc[0].isA(_c9)){_c2(_cc);}else{_c2(null);}}else{_c4=obj=_cc[0];if(_cc.length>1){window.mx.data.release(_cc.slice(1));}if(obj){if(obj.isA(_c9)){_c6();}else{_c2(null);}}else{_c2(null);}}},error:function(e){throw new Error(_c3.id+".fetch : could not get objects with GUIDs "+_c8);}});}else{throw new Error(_c3.id+".fetch : "+obj+"'s '"+ref+"' attribute is empty");}}}};_c6();},get2:function(_cd){if(typeof _cd!=="string"){throw new Error(this.id+".get : parameter attr "+_cd+" is not of type String");}if(!this.metaData.has(_cd)){return null;}var _ce=window.mx.data.getChanges(this._guid);var _cf=(_ce[_cd]!=null)?_ce[_cd]:this._getAttributeValue(_cd);if(this.isDate(_cd)){var _d0=this.isLocalizedDate(_cd);if(_cf===""||_cf==null){_cf="";}else{_cf=_d0?Number(_cf):window.mx.parser.localizeEpoch(_cf);}}else{if(this.isBoolean(_cd)){if(typeof _cf=="string"&&_cf!==""){_cf=/^true$/.test(_cf);}}}if(_cf instanceof Big){return new Big(_cf);}if(typeof _cf=="object"){return _b5.clone(_cf);}return _cf;},has:function(_d1){if(typeof _d1!=="string"){throw new Error(this.id+".has: attribute parameter is not a string");}return _d1 in this.jsonData.attributes;},getReferences:function(_d2){var e;if(typeof _d2!=="string"){throw new Error(this.id+".getReferences : parameter attr "+_d2+" is not of type String.");}var _d3=[];if(this.has(_d2)){if(this.isReference(_d2)){var _d4=window.mx.data.getChanges(this._guid);if(this._hasChildren(_d2)){var _d5=this.getChildren(_d2);var _d6=[];for(var i=0;i<_d5.length;i++){_d6.push(_d5[i].getGuid());}_d3=_d6;}else{_d3=this.get2(_d2);}if(_d3===""){_d3=[];}else{if(typeof (_d3)=="string"||typeof (_d3)=="number"){_d3=[_d3];}else{if((typeof (_d3)=="object")&&(_d3.length==null)){_d3=_b0.objectToArray(_d3);}}}}else{throw new Error(this.id+".getReferences: attribute "+_d2+" is not an ObjectReference(Set).");}}else{}return _d3;},getReference:function(_d7){var e;if(typeof _d7!=="string"){throw new Error(this.id+".getReference : parameter attr is not of type String.");}if(this.has(_d7)){if(!this.metaData.isObjectReference(_d7)){throw new Error(this.id+".getReference: attribute "+_d7+" is not an ObjectReference.");}}else{return null;}if(this._hasChildren(_d7)){return this.getChild(_d7).getGuid();}else{return this.get2(_d7);}},isEnum:function(_d8){return this.metaData.isEnum(_d8);},isNumeric:function(_d9){return this.metaData.isNumeric(_d9);},isCurrency:function(_da){return this.metaData.isCurrency(_da);},isPassword:function(_db){return this.metaData.isPassword(_db);},isDate:function(_dc){return this.metaData.isDate(_dc);},isLocalizedDate:function(_dd){return this.metaData.isLocalizedDate(_dd);},isBoolean:function(_de){return this.metaData.isBoolean(_de);},isReference:function(_df){return this.metaData.isReference(_df);},isObjectReference:function(_e0){return this.metaData.isObjectReference(_e0);},isObjectReferenceSet:function(_e1){return this.metaData.isObjectReferenceSet(_e1);},getOptions:function(_e2){return this.metaData.getOptions(_e2);},getEnumMap:function(_e3){return this.metaData.getEnumMap(_e3);},getEnumKVPairs:function(_e4){return this.metaData.getEnumKVPairs(_e4);},getEnumCaption:function(_e5){return this.metaData.getEnumCaption(_e5,this.get2(_e5));},hasChildren:function(_e6){if(typeof _e6!=="string"){throw new Error(this.id+".hasChildren : parameter attr ("+_e6+") is not of type String.");}return (this.isReference(_e6)&&this._hasChildren(_e6));},getChildren:function(_e7){if(typeof _e7!=="string"){throw new Error(this.id+".getChildren : parameter attr ("+_e7+") is not of type String.");}var _e8=[],_e9=null,_ea;if(this.has(_e7)){if(this.isReference(_e7)){if(this._hasChildren(_e7)){_e9=this.get2(_e7);if(this.isObjectReference(_e7)){if(this._references&&this._references[_e9]){_ea=this._references[_e9];_ea._references=this._references;_e8.push(_ea);}else{_e8.push(new _b7({meta:window.mx.meta.getEntity(_e9.objectType),json:_e9}));}}else{for(var i in _e9){if(this._references&&this._references[_e9]){_ea=this._references[i];_ea._references=this._references;_e8.push(_ea);}else{_e8.push(new _b7({meta:window.mx.meta.getEntity(_e9[i].objectType),json:_e9[i]}));}}}}}else{var e=this.id+".getChildren: attribute "+_e7+" is not an ObjectReference(Set).";_b2.exception(e);throw new Error(e);}}else{}return _e8;},getChild:function(_eb){if(typeof _eb!=="string"){throw new Error(this.id+".getChild : parameter attr("+_eb+") is not of type String.");}if(this.has(_eb)&&this.isObjectReference(_eb)){var _ec=this.get2(_eb);if(this._references&&this._references[_ec]){var _ed=this._references[_ec];_ed._references=this._references;return _ed;}else{if(typeof _ec=="object"){return new _b7({json:_ec,meta:window.mx.meta.getEntity(_ec.objectType)});}else{return null;}}}},removeReferences:function(_ee,_ef){var e;if(typeof _ee!=="string"){throw new Error(this.id+".removeReference : parameter attr is not of type String.");}else{if(this.has(_ee)){if(!this.isReference(_ee)){throw new Error(this.id+".removeReference : attempt to remove Reference from non-Reference attribute : "+_ee);}}else{return false;}}if(!(_b5.isArray(_ef))){_ef=[_ef];}if(!this._hasChildren(_ee)){if(this.isObjectReference(_ee)){this._setContent(_ee,"");}else{this._setContent(_ee,_b0.arraySubtract(this.getReferences(_ee),_ef));}}else{if(this.isObjectReference(_ee)){this._setContent(_ee,"");}else{for(var i=0;i<_ef.length;i++){delete this.jsonData.attributes[_ee].value[_ef[i]];}var val=_b0.arraySubtract(this.getReferences(_ee),_ef);return this._makeChange(_ee,val);}}},addReference:function(_f0,_f1){var e;if(typeof _f0!=="string"){throw new Error(this.id+".addReference : parameter attr is not of type String.");}else{if(!_f1){throw new Error(this.id+".addReference : parameter guid is not set.");}else{if(this.has(_f0)){if(!this.isReference(_f0)){throw new Error(this.id+".addReference : attempt to add Reference to non-Reference attribute : "+_f0);}}else{return false;}}}if(this.isObjectReference(_f0)){this._setContent(_f0,_f1);}else{var _f2=this.getReferences(_f0);var _f3=_f2.join(";");if(!(_f3.match(_f1))){_f2.push(_f1);this._setContent(_f0,_f2);}}},addReferences:function(_f4,_f5){for(var i=0;i<_f5.length;i++){var _f6=_f5[i];if(_f6!==0&&!isNaN(_f6)){this.addReference(_f4,_f6);}}},getReferenceAttributes:function(){return this.metaData.getReferenceAttributes();},getAttributes:function(){return this.metaData.getAttributes();},getPrimitives:function(){return this.metaData.getAttributesWithoutReferences();},getAttributeType:function(_f7){return this.metaData.getAttributeType(_f7);},getSelectorEntity:function(_f8){return this.metaData.getSelectorEntity(_f8);},getEntity:function(){return (this.jsonData&&this.jsonData.objectType);},isA:function(_f9){return this.metaData.isA(_f9);},hasSuperEntities:function(){return this.metaData.hasSuperEntities();},getSuperEntities:function(){return this.metaData.getSuperEntities();},hasSubEntities:function(){return this.metaData.hasSubEntities();},getSubEntities:function(){return this.metaData.getSubEntities();},inheritsFrom:function(_fa){return this.metaData.inheritsFrom(_fa);},compare:function(_fb){if(_fb.getEntity()!=this.getEntity()){return false;}var _fc=this.metaData.getAttributesWithoutReferences();for(var i=0,_fd;_fd=_fc[i];i++){var _fe=this.get2(_fd);var _ff=_fb.get2(_fd);if(_fe!==_ff){if(typeof _fe=="object"){if(typeof _ff!="object"){throw new Error("non matching value types for attribute "+_fd);}if(_fe.valueOf&&_ff.valueOf&&_fe.valueOf()!==_ff.valueOf()){return false;}}else{return false;}}}var refs=this.getReferenceAttributes(),ref;for(i=0,ref;ref=refs[i];i++){if((ref=="System.changedBy")||(ref=="System.owner")){continue;}var _100=_fb.getReferences(ref);var _101=this.getReferences(ref);var _102=_101.join(",");for(var j=0,id;id=_100[j];j++){if(!_102.match(id)){return false;}}}return true;},toString:function(){return this.getGuid();},_validateNumber:function(attr,_103){var code=_b1.validate(_103,this.metaData.getAttributeType(attr));if(code!==_b1.validation.OK){throw new Error("Cannot set invalid value to MxObject attribute "+attr);}},_convertValue:function(attr,_104){if(_104){if(this.isNumeric(attr)){if(!(_104 instanceof Big)){_104=new Big(_104);}this._validateNumber(attr,_104);}}return _104;},_setContent:function(attr,_105){if(typeof attr!=="string"){throw new Error(this.id+"._setContent : parameter attr ("+attr+") is not of type String.");}if(!this.metaData.has(attr)){return false;}var _106=this.get2(attr);if(_106==null&&_105===""){return false;}if(this.isDate(attr)){var _107=this.isLocalizedDate(attr);if(_105!==""){if(_107){_105=Number(_105);}else{_105=window.mx.parser.delocalizeEpoch(_105);}}}else{if(this.isPassword(attr)){_105=_105.replace(/[\s\t]+$/,"").replace(/^[\s\t]+/,"");}else{if(this.isBoolean(attr)){_105=!!_105;}else{if(this.isObjectReference(attr)&&_b5.isArray(_105)){throw new Error("mendix/lib/MxObject._setContent : trying to set single object reference to multiple values");}else{if(this.isObjectReferenceSet(attr)&&!_b5.isArray(_105)){throw new Error("mendix/lib/MxObject._setContent : trying to set object reference set to single value");}}}}}if(_105!==_106){return this._makeChange(attr,_105);}},_hasChildren:function(attr){var _108=window.mx.data.getChanges(this._guid);if(_108[attr]!=null){return false;}var _109=this._getAttributeValue(attr);if(this._references&&this._references[_109]){return true;}return (_109&&(typeof _109=="object")&&(_109.length==null));},_getAttributeValue:function(attr){var val=this.jsonData.attributes[attr];if(val===undefined){val=null;}return (val&&(typeof val=="object")&&("value" in val))?val.value:val;},_setAttributeValue:function(attr,_10a){var val=this.jsonData.attributes[attr];if(_10a===undefined){_10a=null;}if(val&&(typeof (val)=="object")&&"value" in val){val.value=_10a;}else{this.jsonData.attributes[attr]=_10a;}},_makeChange:function(attr,_10b){window.mx.data.makeChange(this._guid,attr,this._convertValue(attr,_10b));window.mx.data.updateMxObjectSubscribers(this._guid,attr,this.get(attr));},_applyChangeSet:function(_10c){if(!_10c){return;}for(var attr in _10c){this._setAttributeValue(attr,_10c[attr]);}}});return _b7;});},"mendix/validator":function(){define(["big/big"],function(Big){var _10d=new Big("1e20");var _10e=(new Big(2)).pow(31).times(-1),_10f=(new Big(2)).pow(31).minus(1);var _110=(new Big(2)).pow(63).times(-1),_111=(new Big(2)).pow(63).minus(1);var _112=(new Big(2)).pow(53);function _113(_114,min,max){return _114.gte(min)&&_114.lte(max);};function _115(_116){return !_116.mod(1).eq(0);};var _117={validation:{OK:0,NOT_INTEGER:1,RANGE_INTEGER:2,RANGE_LONG:3,RANGE_DECIMAL:4,RANGE_NUMBER:5},validate:function(_118,type){if(/^(Integer|Long|Decimal|Float|Currency)$/.test(type)){if(_118===""){return _117.validation.OK;}if(!(_118 instanceof Big)){_118=new Big(_118);}if((type=="Integer"||type=="Long")&&_115(_118)){return _117.validation.NOT_INTEGER;}if(type==="Integer"&&!_113(_118,_10e,_10f)){return _117.validation.RANGE_INTEGER;}if(type==="Long"&&!_113(_118,_110,_111)){return _117.validation.RANGE_LONG;}if(type==="Decimal"&&_118.abs().gte(_10d)){return _117.validation.RANGE_DECIMAL;}if(type==="Decimal"&&!_118.mod(1e-8).eq(0)){return _117.validation.RANGE_DECIMAL;}if(/^(Float|Currency)$/.test(type)&&_118.abs().gt(_112)){return _117.validation.RANGE_NUMBER;}}return _117.validation.OK;}};return _117;});},"big/big":function(){(function(_119){"use strict";var DP=20,RM=1,_11a=1000000,_11b=1000000,_11c=-7,_11d=21,P={},_11e=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Big;function _11f(){function Big(n){var x=this;if(!(x instanceof Big)){return n===void 0?_11f():new Big(n);}if(n instanceof Big){x["s"]=n["s"];x["e"]=n["e"];x["c"]=n["c"].slice();}else{_120(x,n);}x["constructor"]=Big;};Big.prototype=P;Big["DP"]=DP;Big["RM"]=RM;return Big;};function _121(x,dp,toE){var Big=x["constructor"],i=dp-(x=new Big(x))["e"],c=x["c"];if(c.length>++dp){rnd(x,i,Big["RM"]);}if(!c[0]){++i;}else{if(toE){i=dp;}else{c=x["c"];i=x["e"]+i+1;}}for(;c.length<i;c.push(0)){}i=x["e"];return toE===1||toE&&(dp<=i||i<=_11c)?(x["s"]<0&&c[0]?"-":"")+(c.length>1?c[0]+"."+c.join("").slice(1):c[0])+(i<0?"e":"e+")+i:x.toString();};function _120(x,n){var e,i,nL;if(n===0&&1/n<0){n="-0";}else{if(!_11e.test(n+="")){_122(NaN);}}x["s"]=n.charAt(0)=="-"?(n=n.slice(1),-1):1;if((e=n.indexOf("."))>-1){n=n.replace(".","");}if((i=n.search(/e/i))>0){if(e<0){e=i;}e+=+n.slice(i+1);n=n.substring(0,i);}else{if(e<0){e=n.length;}}for(i=0;n.charAt(i)=="0";i++){}if(i==(nL=n.length)){x["c"]=[x["e"]=0];}else{for(;n.charAt(--nL)=="0";){}x["e"]=e-i-1;x["c"]=[];for(e=0;i<=nL;x["c"][e++]=+n.charAt(i++)){}}return x;};function rnd(x,dp,rm,more){var u,xc=x["c"],i=x["e"]+dp+1;if(rm===1){more=xc[i]>=5;}else{if(rm===2){more=xc[i]>5||xc[i]==5&&(more||i<0||xc[i+1]!==u||xc[i-1]&1);}else{if(rm===3){more=more||xc[i]!==u||i<0;}else{more=false;if(rm!==0){_122("!Big.RM!");}}}}if(i<1||!xc[0]){if(more){x["e"]=-dp;x["c"]=[1];}else{x["c"]=[x["e"]=0];}}else{xc.length=i--;if(more){for(;++xc[i]>9;){xc[i]=0;if(!i--){++x["e"];xc.unshift(1);}}}for(i=xc.length;!xc[--i];xc.pop()){}}return x;};function _122(_123){var err=new Error(_123);err["name"]="BigError";throw err;};P["abs"]=function(){var x=new this["constructor"](this);x["s"]=1;return x;};P["cmp"]=function(y){var xNeg,x=this,xc=x["c"],yc=(y=new x["constructor"](y))["c"],i=x["s"],j=y["s"],k=x["e"],l=y["e"];if(!xc[0]||!yc[0]){return !xc[0]?!yc[0]?0:-j:i;}if(i!=j){return i;}xNeg=i<0;if(k!=l){return k>l^xNeg?1:-1;}i=-1;j=(k=xc.length)<(l=yc.length)?k:l;for(;++i<j;){if(xc[i]!=yc[i]){return xc[i]>yc[i]^xNeg?1:-1;}}return k==l?0:k>l^xNeg?1:-1;};P["div"]=function(y){var x=this,Big=x["constructor"],dvd=x["c"],dvs=(y=new Big(y))["c"],s=x["s"]==y["s"]?1:-1,dp=Big["DP"];if(dp!==~~dp||dp<0||dp>_11a){_122("!Big.DP!");}if(!dvd[0]||!dvs[0]){if(dvd[0]==dvs[0]){_122(NaN);}if(!dvs[0]){_122(s/0);}return new Big(s*0);}var dvsL,dvsT,next,cmp,remI,u,dvsZ=dvs.slice(),dvdI=dvsL=dvs.length,dvdL=dvd.length,rem=dvd.slice(0,dvsL),remL=rem.length,q=y,qc=q["c"]=[],qi=0,_124=dp+(q["e"]=x["e"]-y["e"])+1;q["s"]=s;s=_124<0?0:_124;dvsZ.unshift(0);for(;remL++<dvsL;rem.push(0)){}do{for(next=0;next<10;next++){if(dvsL!=(remL=rem.length)){cmp=dvsL>remL?1:-1;}else{for(remI=-1,cmp=0;++remI<dvsL;){if(dvs[remI]!=rem[remI]){cmp=dvs[remI]>rem[remI]?1:-1;break;}}}if(cmp<0){for(dvsT=remL==dvsL?dvs:dvsZ;remL;){if(rem[--remL]<dvsT[remL]){remI=remL;for(;remI&&!rem[--remI];rem[remI]=9){}--rem[remI];rem[remL]+=10;}rem[remL]-=dvsT[remL];}for(;!rem[0];rem.shift()){}}else{break;}}qc[qi++]=cmp?next:++next;if(rem[0]&&cmp){rem[remL]=dvd[dvdI]||0;}else{rem=[dvd[dvdI]];}}while((dvdI++<dvdL||rem[0]!==u)&&s--);if(!qc[0]&&qi!=1){qc.shift();q["e"]--;}if(qi>_124){rnd(q,dp,Big["RM"],rem[0]!==u);}return q;};P["eq"]=function(y){return !this.cmp(y);};P["gt"]=function(y){return this.cmp(y)>0;};P["gte"]=function(y){return this.cmp(y)>-1;};P["lt"]=function(y){return this.cmp(y)<0;};P["lte"]=function(y){return this.cmp(y)<1;};P["minus"]=function(y){var i,j,t,xLTy,x=this,Big=x["constructor"],a=x["s"],b=(y=new Big(y))["s"];if(a!=b){y["s"]=-b;return x["plus"](y);}var xc=x["c"].slice(),xe=x["e"],yc=y["c"],ye=y["e"];if(!xc[0]||!yc[0]){return yc[0]?(y["s"]=-b,y):new Big(xc[0]?x:0);}if(a=xe-ye){if(xLTy=a<0){a=-a;t=xc;}else{ye=xe;t=yc;}t.reverse();for(b=a;b--;t.push(0)){}t.reverse();}else{j=((xLTy=xc.length<yc.length)?xc:yc).length;for(a=b=0;b<j;b++){if(xc[b]!=yc[b]){xLTy=xc[b]<yc[b];break;}}}if(xLTy){t=xc;xc=yc;yc=t;y["s"]=-y["s"];}if((b=(j=yc.length)-(i=xc.length))>0){for(;b--;xc[i++]=0){}}for(b=i;j>a;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];xc[i]=9){}--xc[i];xc[j]+=10;}xc[j]-=yc[j];}for(;xc[--b]==0;xc.pop()){}for(;xc[0]==0;){xc.shift();--ye;}if(!xc[0]){y["s"]=1;xc=[ye=0];}y["c"]=xc;y["e"]=ye;return y;};P["mod"]=function(y){var yGTx,x=this,Big=x["constructor"],a=x["s"],b=(y=new Big(y))["s"];if(!y["c"][0]){_122(NaN);}x["s"]=y["s"]=1;yGTx=y.cmp(x)==1;x["s"]=a;y["s"]=b;if(yGTx){return new Big(x);}a=Big["DP"];b=Big["RM"];Big["DP"]=Big["RM"]=0;x=x["div"](y);Big["DP"]=a;Big["RM"]=b;return this["minus"](x["times"](y));};P["plus"]=function(y){var t,x=this,Big=x["constructor"],a=x["s"],b=(y=new Big(y))["s"];if(a!=b){y["s"]=-b;return x["minus"](y);}var xe=x["e"],xc=x["c"],ye=y["e"],yc=y["c"];if(!xc[0]||!yc[0]){return yc[0]?y:new Big(xc[0]?x:a*0);}xc=xc.slice();if(a=xe-ye){if(a>0){ye=xe;t=yc;}else{a=-a;t=xc;}t.reverse();for(;a--;t.push(0)){}t.reverse();}if(xc.length-yc.length<0){t=yc;yc=xc;xc=t;}a=yc.length;for(b=0;a;){b=(xc[--a]=xc[a]+yc[a]+b)/10|0;xc[a]%=10;}if(b){xc.unshift(b);++ye;}for(a=xc.length;xc[--a]==0;xc.pop()){}y["c"]=xc;y["e"]=ye;return y;};P["pow"]=function(n){var x=this,one=new x["constructor"](1),y=one,_125=n<0;if(n!==~~n||n<-_11b||n>_11b){_122("!pow!");}n=_125?-n:n;for(;;){if(n&1){y=y["times"](x);}n>>=1;if(!n){break;}x=x["times"](x);}return _125?one["div"](y):y;};P["round"]=function(dp,rm){var x=this,Big=x["constructor"];if(dp==null){dp=0;}else{if(dp!==~~dp||dp<0||dp>_11a){_122("!round!");}}rnd(x=new Big(x),dp,rm==null?Big["RM"]:rm);return x;};P["sqrt"]=function(){var _126,r,_127,x=this,Big=x["constructor"],xc=x["c"],i=x["s"],e=x["e"],half=new Big("0.5");if(!xc[0]){return new Big(x);}if(i<0){_122(NaN);}i=Math.sqrt(x.toString());if(i==0||i==1/0){_126=xc.join("");if(!(_126.length+e&1)){_126+="0";}r=new Big(Math.sqrt(_126).toString());r["e"]=((e+1)/2|0)-(e<0||e&1);}else{r=new Big(i.toString());}i=r["e"]+(Big["DP"]+=4);do{_127=r;r=half["times"](_127["plus"](x["div"](_127)));}while(_127["c"].slice(0,i).join("")!==r["c"].slice(0,i).join(""));rnd(r,Big["DP"]-=4,Big["RM"]);return r;};P["times"]=function(y){var c,x=this,Big=x["constructor"],xc=x["c"],yc=(y=new Big(y))["c"],a=xc.length,b=yc.length,i=x["e"],j=y["e"];y["s"]=x["s"]==y["s"]?1:-1;if(!xc[0]||!yc[0]){return new Big(y["s"]*0);}y["e"]=i+j;if(a<b){c=xc;xc=yc;yc=c;j=a;a=b;b=j;}for(c=new Array(j=a+b);j--;c[j]=0){}for(i=b;i--;){b=0;for(j=a+i;j>i;){b=c[j]+yc[i]*xc[j-i-1]+b;c[j--]=b%10;b=b/10|0;}c[j]=(c[j]+b)%10;}if(b){++y["e"];}if(!c[0]){c.shift();}for(i=c.length;!c[--i];c.pop()){}y["c"]=c;return y;};P["toString"]=P["valueOf"]=P["toJSON"]=function(){var x=this,e=x["e"],str=x["c"].join(""),strL=str.length;if(e<=_11c||e>=_11d){str=str.charAt(0)+(strL>1?"."+str.slice(1):"")+(e<0?"e":"e+")+e;}else{if(e<0){for(;++e;str="0"+str){}str="0."+str;}else{if(e>0){if(++e>strL){for(e-=strL;e--;str+="0"){}}else{if(e<strL){str=str.slice(0,e)+"."+str.slice(e);}}}else{if(strL>1){str=str.charAt(0)+"."+str.slice(1);}}}}return x["s"]<0&&x["c"][0]?"-"+str:str;};P["toExponential"]=function(dp){if(dp==null){dp=this["c"].length-1;}else{if(dp!==~~dp||dp<0||dp>_11a){_122("!toExp!");}}return _121(this,dp,1);};P["toFixed"]=function(dp){var str,x=this,neg=_11c,pos=_11d;_11c=-(_11d=1/0);if(dp==null){str=x.toString();}else{if(dp===~~dp&&dp>=0&&dp<=_11a){str=_121(x,x["e"]+dp);if(x["s"]<0&&x["c"][0]&&str.indexOf("-")<0){str="-"+str;}}}_11c=neg;_11d=pos;if(!str){_122("!toFix!");}return str;};P["toPrecision"]=function(sd){if(sd==null){return this.toString();}else{if(sd!==~~sd||sd<1||sd>_11a){_122("!toPre!");}}return _121(this,sd-1,2);};Big=_11f();if(typeof define==="function"&&define.amd){define(function(){return Big;});}else{if(typeof module!=="undefined"&&module.exports){module.exports=Big;}else{_119["Big"]=Big;}}})(this);},"mendix/lib/MxMetaObject":function(){define(["dojo/_base/json"],function(_128){function _129(_12a){var _12b=_12a.json;if(!(_12b&&_12b.attributes&&_12b.objectType&&_12b.properties)){throw new Error("MxMetaObject: invalid initialization");}this.has=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.has: parameter attr is not of type String.");}return _12b.attributes[attr]!=null;};this.isEnum=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isEnum : parameter attr is not of type String.");}return (/^(Enum|EnumSet)$/).test(this.getAttributeType(attr));};this.isNumeric=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isNumeric : parameter attr is not of type String.");}return (/^(Integer|Long|Decimal|Float|Currency)$/).test(this.getAttributeType(attr));};this.isPassword=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isDate : parameter attr is not of type String.");}return this.getAttributeType(attr)=="HashString";};this.isCurrency=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isCurrency : parameter attr is not of type String.");}return this.getAttributeType(attr)=="Currency";};this.isDate=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isDate : parameter attr is not of type String.");}return (/^(Date|DateTime)$/).test(this.getAttributeType(attr));};this.isLocalizedDate=function(attr){if(this.isDate(attr)){return (/true/).test(_12b.attributes[attr].localize);}else{return null;}};this.isBoolean=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isBoolean : parameter attr is not of type String.");}return this.getAttributeType(attr)=="Boolean";};this.isReference=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isReference : parameter attr is not of type String.");}return (/^(ObjectReference|ObjectReferenceSet)$/).test(this.getAttributeType(attr));};this.isObjectReference=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isObjectReference : parameter attr is not of type String.");}return this.getAttributeType(attr)=="ObjectReference";};this.isObjectReferenceSet=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isObjectReferenceSet : parameter attr is not of type String.");}return this.getAttributeType(attr)=="ObjectReferenceSet";};this.getOptions=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.getOptions : parameter attr is not of type String.");}else{if(!this.isEnum(attr)){throw new Error("mendix/lib/MxMetaObject.getOptions : attribute '"+attr+"' is not an Enumeration.");}}try{var opts=false;if(_12b.attributes[attr]){var arr=_12b.attributes[attr].options;if(arr&&arr.length){opts=[];for(var i=0;i<arr.length;i++){for(var j in arr[i]){opts.push(arr[i][j]);}}}return opts;}}catch(e){return false;}};this.getEnumMap=function(attr){if(!this.isEnum(attr)){return null;}var map=[];var arr=_12b.attributes[attr].options;for(var i=0;i<arr.length;i++){for(var j in arr[i]){map.push({key:j,caption:arr[i][j]});break;}}return map;};this.getEnumKVPairs=function(attr){if(!this.isEnum(attr)){return null;}var map={};var arr=_12b.attributes[attr].options;for(var i=0;i<arr.length;i++){for(var j in arr[i]){map[j]=arr[i][j];}}return map;};this.getEnumCaption=function(attr,_12c){if(!this.isEnum(attr)){return null;}var arr=_12b.attributes[attr].options;for(var i=0;i<arr.length;i++){var item=arr[i];for(var key in item){if(key==_12c){return item[key];}}}return _12c;};this.getReferenceAttributes=function(){var refs=[];for(var i in _12b.attributes){if(this.isReference(i)){refs.push(i);}}return refs;};this.getAttributes=function(){var _12d=[];for(var i in _12b.attributes){_12d.push(i);}return _12d;};this.getAttributesWithoutReferences=function(){var _12e=[];for(var i in _12b.attributes){if(!this.isReference(i)){_12e.push(i);}}return _12e;};this.getAttributeType=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.getAttributeType : parameter attr is not of type String.");}if(this.has(attr)){return _12b.attributes[attr].type;}else{return false;}};this.getSelectorEntity=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.getSelectorEntity : parameter attr is not of type String.");}if(this.has(attr)){return _12b.attributes[attr].klass;}else{return false;}};this.getEntity=function(){return _12b.objectType;};this.isA=function(_12f){if(this.getEntity()==_12f){return true;}else{return this.inheritsFrom(_12f);}};this.hasSuperEntities=function(){return _12b.properties["superclasses"].length!==0;};this.getSuperEntities=function(){var _130=_12b.properties["superclasses"];if(typeof _130=="string"){return [_130];}else{return _130;}};this.hasSubEntities=function(){return _12b.properties["subclasses"].length!==0;};this.getSubEntities=function(){var subs=_12b.properties["subclasses"];return (typeof subs=="string")?[subs]:subs;};this.inheritsFrom=function(_131){var _132=this.getSuperEntities()||[];for(var i=0,_133;_133=_132[i];i++){if(_131==_133){return true;}}return false;};this.isSyncable=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isObjectReferenceSet : parameter attr is not of type String.");}if(this.has(attr)){return _12b.attributes[attr].sync===undefined?true:_12b.attributes[attr].sync;}else{return false;}};};return _129;});},"mendix/lib/MxContext":function(){define(["mendix/lib/MxObject","mendix/logger","dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/_base/declare"],function(_134,_135,_136,_137,_138,_139){var _13a=0;var _13b=_139(null,{constructor:function(_13c){this.id=this.ident=++_13a;this.trackId="";this.trackClass="";this.trackObject=null;this.localParams={};this.constraintby=[];this._contextStore={};if(_13c){if(_13c.mxcontext){this.dupFrom(_13c.mxcontext);}if(_13c.classname&&_13c.mendixguid){this.setContext(_13c.classname,_13c.mendixguid);}else{if(_13c.entity&&_13c.guid){this.setContext(_13c.entity,_13c.guid);}}}},hasTrackEntity:function(){return this.trackClass!=="";},hasTrackId:function(){return !!this.trackId;},hasTrackObject:function(){return !!this.trackObject;},getTrackEntity:function(){return this.trackClass;},getTrackId:function(){return this.trackId;},getTrackObject:function(){return this.trackObject;},setTrackEntity:function(_13d){if(_13d==null){this.trackClass="";}else{if(typeof _13d=="string"){this.trackClass=_13d;}else{throw new Error("mendix/lib/MxContext.setTrackEntity: entity should be a string");}}},setTrackId:function(guid){this.trackId=guid;this.trackObject=null;},setTrackObject:function(obj){if(obj){this.setContext(obj.getEntity(),obj.getGuid());}this.trackObject=obj;},setObject:function(obj,_13e,guid){if(obj){this.setContext(obj.getEntity(),obj.getGuid());}else{this.trackId=guid||"";if(_13e){this.trackClass=_13e;}}this.trackObject=obj;},getObject:function(){return this.trackObject;},setConstraints:function(_13f){if(_13f==null||_13f===""||_13f.length===0){return;}if(typeof _13f=="string"){this.constraintby=_13f.split(",");}else{this.constraintby=_13f;}},getConstraints:function(){var t=[];for(var i=0;i<this.constraintby.length;i++){t.push(this.constraintby[i]);}return t;},hasBacktrack:function(){return this.constraintby.length!==0;},getContexts:function(){var c=[];for(var i in this._contextStore){if(typeof i!="undefined"&&this._contextStore[i]!==""){c.push(i);}}return c;},setContext:function(_140,guid){if((arguments.length==1)&&(arguments[0] instanceof _134)){var _141=arguments[0];_140=_141.getEntity(),guid=_141.getGuid();}if(typeof _140!="string"){throw new Error("mendix/lib/MxContext.setContext: parameter entity is not of type String");}if(guid==null){guid="";}this.setTrackId(guid);this.setTrackEntity(_140);this._contextStore[_140]=guid;},unsetContext:function(_142){if(typeof _142!="string"){throw new Error("mendix/lib/MxContext.unsetContext: parameter entity is not of type String");}delete this._contextStore[_142];},getContext:function(_143){if(typeof _143!="string"){throw new Error("mendix/lib/MxContext.getContext: parameter entity is not of type String");}if(_143 in this._contextStore){return this._contextStore[_143];}var meta=window.mx.meta.getEntity(_143),_144=null;_137.some(meta.getSubEntities(),function(_145){if(_145 in this._contextStore){_144=this._contextStore[_145];return true;}},this);return _144;},hasContext:function(_146){if(typeof _146!="string"){throw new Error("mendix/lib/MxContext.hasContext: parameter entity is not of type String");}return this.getContext(_146)!=null;},reset:function(){this._contextStore={};this.trackId=null;this.trackClass="";this.trackObject=null;},dupFrom:function(_147){this.reset();this.mixin(_147);},mixin:function(_148){if(_148){var _149=_148.getContexts();for(var i=0,c;c=_149[i];i++){this.setContext(c,_148.getContext(c));}this.setParams(_148.getParams());this.setConstraints(_148.getConstraints());this.setContext(_148.getTrackEntity(),_148.getTrackId());this.setTrackObject(_148.getTrackObject());}else{var _14a=this.getTrackEntity();if(_14a){this.unsetContext(_14a);}this.setTrackId("");this.setTrackEntity("");this.setTrackObject(null);}},hasParam:function(key){return key in this.localParams;},getParam:function(key){if(!this.hasParam(key)){return null;}return this.localParams[key];},getParams:function(){return this.localParams;},setParam:function(key,_14b){if(key==null){throw new Error("mendix/lib/MxContext["+this.ident+"].setParam key is null");}this.localParams[key]=_14b;},setParams:function(obj){if(typeof obj!="object"){throw new Error("mendix/lib/MxContext["+this.ident+"].setParams requires an Object.");}for(var i in obj){this.localParams[i]=obj[i];}},unsetParam:function(key){delete this.localParams[key];},resetParams:function(){this.localParams={};},isEmpty:function(){for(var j in this._contextStore){return true;}},getGuidS:function(){var _14c=this.getContexts();var _14d=this.getTrackId();var _14e=_14d?[_14d]:[];for(var i=0,l=_14c.length;i<l;i++){var c=_14c[i];if(c!="System.owner"&&c!="System.changedBy"){var guid=this.getContext(c);if(guid!=_14d){_14e.push(guid);}}}return _14e;},freeze:function(){this.setTrackEntity=this.setTrackId=this.setTrackObject=this.setConstraints=this.setBacktrack=this.setContext=this.unsetContext=this.unsetBacktrack=this.reset=this.dupFrom=this.setParam=this.setParams=this.unsetParam=this.resetParams=function(){_135.error("mendix/lib/MxContext["+this.ident+"].freeze: context is readonly");return false;};},toString:function(){return this.ident;},toJSON:function(){var _14f=_136.mixin({},this);delete _14f.trackObject;delete _14f.toJSON;return JSON.stringify(_14f);}});_13b.fromJSON=function(json){var _150=new _13b();_136.mixin(_150,JSON.parse(json));return _150;};return _13b;});},"webcore/datasource/_DataSource":function(){define(["mendix/lang","mendix/logger","dojo/_base/array","dojo/_base/declare"],function(lang,_151,_152,_153){var _154=_153(null,{name:"webcore.datasource.DataSource",context:null,_pageSize:0,_offset:0,_pageObjs:null,_setsize:0,_holdObjs:null,_schemaId:"",constructor:function(args){this.context=args.context;this._pageSize=args.page||0;this._offset=args.offset||0;this._pageObjs=[];this._holdObjs=[];this._schemaId=args.queryid||"";if(args.load){_151.scream(this.name+".constructor : Do not pass callbacks into a constructor! Stop doing this!");lang.thread(args.load);}},reload:function(_155){_155&&_155();},refresh:function(_156){_156&&_156();},update:function(_157){_157&&_157();},entityUpdate:function(_158){_158&&_158();},isValid:function(_159){_159&&_159(true);},_setSetSize:function(n){this._setsize=n;},_setObjects:function(objs){this._pageObjs=objs;},getSetSize:function(){return this._setsize||0;},getObjects:function(){return this._pageObjs||[];},getPageSize:function(){return this._pageSize;},setPageSize:function(n,_15a){this._pageSize=n;if(_15a){this.refresh(_15a);}},getOffset:function(){return this._offset;},setOffset:function(n,_15b){this._offset=n;if(_15b){this.refresh(_15b);}},first:function(_15c){this._offset=0;if(_15c){this.refresh(_15c);}},last:function(_15d){var _15e=this.getSetSize();if(this._pageSize>=_15e){this._offset=0;}else{this._offset=Math.floor((_15e-1)/this._pageSize)*this._pageSize;}if(_15d){this.refresh(_15d);}},toPage:function(n,_15f){var off=(n-1)*this._pageSize;if(off>=0&&off<this.getSetSize()){this._offset=off;}if(_15f){this.refresh(_15f);}},next:function(_160){if(this.atEnd()){this._offset=this.getSetSize()-this._pageSize;}else{this._offset=this._offset+this._pageSize;}if(_160){this.refresh(_160);}},previous:function(_161){if((this.getSetSize()<this._pageSize)||((this._offset-this._pageSize)<=0)){this._offset=0;}else{this._offset-=this._pageSize;}if(_161){this.refresh(_161);}},getStatusMessage:function(){var st=0,en=0,_162=this.getSetSize();if(_162!=0){st=this._offset+1;en=Math.min(this._offset+this._pageSize,_162);}return window.mx.ui.translate("mxui.lib.MxDataSource","status",[st,en,_162]);},generateExport:function(args){args.callback&&args.callback();},atBeginning:function(){return (this._offset==0);},atEnd:function(){return !this._hasPaging()||(this._offset>=(this.getSetSize()-this._pageSize));},afterEnd:function(){return this._hasPaging()&&this.getSetSize()>0&&this._offset>=this.getSetSize();},getAttributes:function(attr){return _152.map(this.getObjects(),function(obj){return obj.get2(attr);});},getObject:function(guid){var objs=this.getObjects();for(var i=0,obj;obj=objs[i];++i){if(obj.getGuid()==guid){return obj;}}return null;},each:function(func){return _152.map(this.getObjects(),func);},insertMxObjectAtStart:function(obj){var objs=this._pageObjs;objs.unshift(obj);if(this._hasPaging()&&this._pageSize<objs.length){objs.pop();}this._setsize++;},insertMxObjectAtEnd:function(_163){var objs=this._pageObjs;objs.push(_163);if(this._hasPaging()!=0&&this._pageSize<objs.length){objs.shift();}this._setsize++;},clean:function(_164){this._setsize=0;this._offset=0;this._pageObjs=[];_164&&_164();},hold:function(objs){if(this._holdObjs.length){this.release();}this._holdObjs=this._holdObjs.concat(objs);},release:function(){window.mx.data.release(this._holdObjs);this._holdObjs=[];},destroy:function(){this.release();},toString:function(){return this.name;},_hasPaging:function(){return this._pageSize!=0;},_pageUpdate:function(_165){var _166=this.getOffset(),_167=this._hasPaging()?this._objs.slice(_166,_166+this.getPageSize()):this._objs;this._setObjects(_167);this._setSetSize(this._objs.length);lang.nullExec(_165);},size:function(){this.getSetSize.apply(this,arguments);},getSize:function(){this.getSetSize.apply(this,arguments);},getGeneratedXPath:function(){this.getCurrentXPath.apply(this,arguments);}});return _154;});},"webcore/datasource/_XPathSourceBase":function(){define(["./_DataSource","mendix/logger","dojo/_base/declare"],function(_168,_169,_16a){var _16b=_16a(_168,{name:"webcore.datasource.XPathSourceBase",_sorting:null,_constraints:"",_staticconstraint:"",_aggData:null,_aggregates:false,_distinct:false,constructor:function(args){this._sorting=args.sortparams||[];this._aggregates=args.aggregates||false;this._attributes=args.attributes||null;this._depth=args.depth||0;this._staticconstraint=args.constraint||"";this._distinct=args.distinct||false;},setConstraints:function(c,_16c){this._constraints=c;this.first();if(_16c){this.refresh(_16c);}},getConstraints:function(){return this._constraints;},getStaticConstraint:function(){return this._staticconstraint;},getFilterOptions:function(){var _16d={sort:this._sorting};if(this._hasPaging()){_16d.offset=this.getOffset();_16d.limit=this.getPageSize();}if(this._attributes){_16d.attributes=this._attributes;}if(this._schemaId){_16d.id=this._schemaId;}if(this._depth){_16d.depth=this._depth;}if(this._distinct){_16d.distinct=this._distinct;}return _16d;},getSortSettings:function(){return this._sorting;},setSortOptions:function(_16e,_16f,push){this._offset=0;if(_16e==null||_16e===""){throw new Error(this.name+".setSortOptions : illegal sorton parameter!");}else{_16f=(_16f===""||_16f==null)?"asc":_16f;if(push){this._sortFilter(_16e,_16f);}else{this._sorting=[[_16e,_16f]];}}},getAggregates:function(){return this._aggData;},getCurrentXPath:function(){return "";},_sortFilter:function(_170,_171){var _172=false;for(var i=0,e;e=this._sorting[i];++i){if(e[0]==_170){this._sorting[i]=[_170,_171];_172=true;continue;}}if(!_172){this._sorting.push([_170,_171]);}},_setAggregates:function(obj){this._aggData=obj;}});return _16b;});},"webcore/datasource/XPathSource":function(){define(["./_XPathSourceBase","mendix/lang","mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_173,lang,_174,_175,_176){var _177=_176(_173,{name:"webcore.datasource.XPathSource",_entity:"",_xpath:"",_pathConstraint:"",_useContext:false,constructor:function(args){var path=args.path?args.path.split("/"):[];this._useContext=args.useContext;this._entity=path.length?path.pop():args.entity;if(path.length){this._pathConstraint="["+path.reverse().join("/")+"=\"[%CurrentObject%]\"]";}},reload:function(_178){this._xpath="";this._runSafeQuery(_178);},refresh:function(_179){this._runSafeQuery(_179);},update:function(_17a){var _17b=this._xpath;this._actGetXPath(_175.hitch(this,function(){if(_17b==this._xpath){lang.nullExec(_17a);}else{if(_17a){this._runQuery(_17a);}}}));},entityUpdate:function(_17c){this._runSafeQuery(_17c);},generateExport:function(args){args.params=_175.mixin({},args.params,{xpath:this.getCurrentXPath(),sort:this.getSortSettings(),gridid:this._schemaId});window.mx.data.generateExport(args);},getCurrentXPath:function(){return this._xpathString();},isValid:function(_17d){if(this.context.hasBacktrack()){window.mx.data.getBacktrackConstraints(null,this.context,_175.hitch(this,function(_17e,_17f){_17d&&_17d(_17f);}),function(e){window.mx.onError(e);_17d&&_17d(false);});}else{_17d&&_17d(true);}},_actGetXPath:function(_180){var exec=lang.nullExec;if(this._useContext){window.mx.data.createXPathString({entity:this._entity,context:this.context,callback:_175.hitch(this,function(_181){this._xpath=_181;exec(_180);}),error:function(e){window.mx.onError(e);_180&&_180();}});}else{if(this.context&&this.context.hasBacktrack()){window.mx.data.getBacktrackConstraints(null,this.context,_175.hitch(this,function(_182,_183){if(_183){this._xpath="//"+this._entity+_182;}else{this._xpath="";}exec(_180);}),function(e){window.mx.onError(e);_180&&_180();});}else{this._xpath="//"+this._entity;exec(_180);}}},_runSafeQuery:function(_184){var _185=["_runQuery"];if(!this._xpath){_185.unshift("_actGetXPath");}lang.sequence(_185,_184,this);},_runQuery:function(_186){var _187=this._xpathString();if(_187){window.mx.data.get({xpath:this.getCurrentXPath(),filter:this.getFilterOptions(),count:true,aggregates:this._aggregates,callback:function(objs,_188){this._handleObjects(objs,_188.count,_188.aggregates,_186);},error:function(e){window.mx.onError(e);_186&&_186();}},this);}else{this._handleObjects([],0,null,_186);}},_handleObjects:function(objs,_189,_18a,_18b){this._setObjects(objs);this._setSetSize(_189);this._setAggregates(_18a);_18b&&_18b();},_xpathString:function(){var _18c=[this._pathConstraint,this.getStaticConstraint(),this.getConstraints()].join(""),_18d="";if(this._xpath){var _18e=this._xpath+_18c;if(/\[%CurrentObject%\]/.test(_18e)){var guid=this.context.getTrackId();if(guid){_18d=window.mx.parser.replaceXPathTokens(_18e,this.context);}}else{_18d=_18e;}}return _18d;}});return _177;});},"webcore/datasource/EntityPathSource":function(){define(["./_DataSource","mendix/logger","dojo/_base/lang","dojo/_base/array","dojo/_base/declare"],function(_18f,_190,_191,_192,_193){var _194=_193(_18f,{name:"webcore.datasource.EntityPathSource",_pathElements:null,_objs:null,constructor:function(args){this._pathElements=args.path.split("/");},reload:function(_195){this._runQuery(_195);},refresh:function(_196){this._pageUpdate(_196);},entityUpdate:function(_197){this._runQuery(_197);},generateExport:function(args){var _198=_192.map(this._objs,function(obj){return obj.getGuid();});args.params=_191.mixin({},args.params,{guids:_198,gridid:this._schemaId});window.mx.data.generateExport(args);},_runQuery:function(_199){this.release();var guid=this.context.getTrackId();if(guid){window.mx.data.get({guid:guid,path:this._pathElements[0],entity:this._pathElements[1],callback:function(objs){objs=(objs instanceof Array)?objs:[];this._objs=objs;this.hold(objs);this._pageUpdate(_199);},error:function(e){window.mx.onError(e);_199&&_199();}},this);}else{this._objs=[];this._pageUpdate(_199);}}});return _194;});},"webcore/datasource/MicroflowSource":function(){define(["./_DataSource","mendix/lang","mendix/logger","dojo/_base/lang","dojo/_base/array","dojo/_base/declare"],function(_19a,lang,_19b,_19c,_19d,_19e){var _19f=_19e(_19a,{name:"webcore.datasource.MicroflowSource",_microflow:"",_objs:null,constructor:function(args){this._microflow=args.microflow;},reload:function(_1a0){lang.sequence(["_callMicroflow"],_1a0,this);},refresh:function(_1a1){this._pageUpdate(_1a1);},entityUpdate:function(_1a2){lang.sequence(["_callMicroflow"],_1a2,this);},generateExport:function(args){var _1a3=_19d.map(this._objs,function(obj){return obj.getGuid();});args.params=_19c.mixin({},args.params,{guids:_1a3,gridid:this._schemaId});window.mx.data.generateExport(args);},_callMicroflow:function(_1a4){this.release();window.mx.data.get({microflow:this._microflow,context:this.context,callback:function(objs){this._objs=(objs instanceof Array)?objs:[];this.hold(this._objs);this._pageUpdate(_1a4);},error:function(e){window.mx.onError(e);_1a4&&_1a4();}},this);}});return _19f;});},"webcore/datasource/ReferenceSetSource":function(){define(["./_XPathSourceBase","mendix/lang","mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_1a5,lang,_1a6,_1a7,_1a8){var _1a9=_1a8(_1a5,{name:"webcore.datasource.ReferenceSetSource",_xpath:"",_reference:"",_sourceObject:null,constructor:function(args){this.inherited(arguments);var path=args.path.split("/"),_1aa=path.pop(),_1ab=path.pop();this._xpath="//"+_1aa;this._reference=_1ab;this._selectconstraints="[1=0]";},reload:function(_1ac){this._runQuery(_1ac);},refresh:function(_1ad){this._runQuery(_1ad);},update:function(_1ae){this._runQuery(_1ae);},entityUpdate:function(_1af){this._runQuery(_1af);},generateExport:function(args){args.params=_1a7.mixin({},args.params,{xpath:this.getCurrentXPath(),sort:this.getSortSettings(),gridid:this._schemaId});window.mx.data.generateExport(args);},getCurrentXPath:function(){return this._xpathString()+this._selectconstraints;},setObject:function(obj){this._sourceObject=obj;},_runQuery:function(_1b0){var exec=lang.nullExec;if(this._sourceObject){var refs=this._sourceObject.getReferences(this._reference);if(refs.length>0){var _1b1=[];for(var i=0,guid;guid=refs[i];++i){_1b1.push("id=\""+guid+"\"");}this._selectconstraints="["+_1b1.join(" or ")+"]";window.mx.data.get({xpath:this.getCurrentXPath(),filter:this.getFilterOptions(),count:true,callback:function(objs,_1b2){this._setObjects(objs);this._setSetSize(_1b2.count);exec(_1b0);},error:function(e){window.mx.onError(e);exec(_1b0);}},this);}else{this._selectconstraints="[1=0]";this._setObjects([]);this._setSetSize(0);exec(_1b0);}}else{exec(_1b0);}},_xpathString:function(){return this._xpath+this.getStaticConstraint()+this.getConstraints();}});return _1a9;});},"webcore/objectsource/DirectObjectSource":function(){define(["webcore/objectsource/_ObjectSource","dojo/_base/declare"],function(_1b3,_1b4){var _1b5=_1b4(_1b3,{name:"webcore.objectsource.DirectObjectSource",_path:"",_entity:"",constructor:function(args){this.inherited(arguments);var _1b6=args.path.split("/");this._path=_1b6.length>1?_1b6:[];this._entity=_1b6.slice(-1)[0];},fetch:function(_1b7,_1b8){var self=this;var _1b9=function(obj){if(obj&&obj.isA(self._entity)){_1b7(obj);}else{_1b7(null);}};var _1ba=function(obj){window.mx.data.fetch(obj,self._path,{usexpath:true,schema:self.schema},function(obj,_1bb){if(_1bb){self.hold(obj);}_1b9(obj);},_1b8);};this.release();var guid=this.context.getTrackId();if(guid){if(this.context.hasTrackObject()){_1ba(this.context.getTrackObject());}else{if(this._path.length>0){window.mx.data.get({guid:guid,callback:function(obj){self.hold(obj);_1ba(obj);},error:_1b8});}else{var meta=window.mx.meta.getEntity(this.context.getTrackEntity());if(meta.isA(this._entity)){window.mx.data.get({guid:guid,filter:{id:this.schema},callback:function(obj){self.hold(obj);_1b9(obj);},error:_1b8});}else{this.hold(null);_1b7(null);}}}}else{this.hold(null);_1b7(null);}},getDependencies:function(){var _1bc=this._path.length>0?this._path[0]:"";var _1bd=this.context.getTrackId();return _1bc&&_1bd?[{guid:_1bd},{guid:_1bd,attr:_1bc}]:[];}});return _1b5;});},"webcore/objectsource/_ObjectSource":function(){define(["mendix/logger","dojo/_base/declare"],function(_1be,_1bf){var _1c0=_1bf(null,{name:"webcore.objectsource._ObjectSource",context:null,schema:"",_holdObj:null,constructor:function(args){this.context=args.context;this.schema=args.schema;},fetch:function(_1c1,_1c2){},getDependencies:function(){return [];},destroy:function(){this.release();},hold:function(obj){if(this._holdObj){this.release();}this._holdObj=obj;},release:function(){if(this._holdObj){window.mx.data.release([this._holdObj]);}this._holdObj=null;}});return _1c0;});},"webcore/objectsource/SchemaObjectSource":function(){define(["./_ObjectSource","dojo/_base/declare"],function(_1c3,_1c4){return _1c4(_1c3,{name:"webcore.objectsource.SchemaObjectSource",fetch:function(_1c5,_1c6){if(this.context.hasTrackId()){window.mx.data.getBySchema({id:this.context.getTrackId(),schema:this.schema,callback:_1c5,error:_1c6});}else{_1c5&&_1c5();}}});});},"webcore/objectsource/MicroflowObjectSource":function(){define(["webcore/objectsource/_ObjectSource","mendix/logger","dojo/_base/declare"],function(_1c7,_1c8,_1c9){var _1ca=_1c9(_1c7,{name:"webcore.objectsource.MicroflowObjectSource",_microflow:"",_parameters:null,constructor:function(args){this.inherited(arguments);this._microflow=args.microflow;this._parameters=args.parameters;},fetch:function(_1cb,_1cc){var self=this;this.release();window.mx.data.get({microflow:this._microflow,context:this.context,callback:function(objs){objs=(objs instanceof Array)?objs:[];if(objs.length>1){window.mx.data.release(objs.slice(1));}if(objs.length==1){self.hold(objs[0]);_1cb(objs[0]);}else{_1cb(null);}},error:_1cc});},getDependencies:function(){return this._parameters.map(function(type){return this.context.getContext(type);},this).filter(function(guid){return !!guid;}).map(function(guid){return {guid:guid};});}});return _1ca;});},"mendix/lib/Upload":function(){define(["mendix/lib/Error","mendix/lang","dojo/_base/lang","dojo/_base/declare"],function(_1cd,lang,_1ce,_1cf){var _1d0=_1cf(null,{constructor:function(args){_1ce.mixin(this,args);},upload:function(){var self=this;var file=this.form.mxdocument.files[0];var _1d1={maxFileSize:this.maxFileSize};if(this.width!=null){_1d1.width=this.width;}if(this.height!=null){_1d1.height=this.height;}this.startUpload();mx.data.saveDocument(this.objectGuid,null,_1d1,file,function(){if(self.finishUpload){self.finishUpload();}if(self.callback){self.callback();}},function(e){if(self.finishUpload){self.finishUpload();}if(self.error){self.error(e);}});}});return _1d0;});},"mendix/lib/ConnectionError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_1d2,_1d3){return _1d3(_1d2,{});});},"mendix/lib/NavigationError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_1d4,_1d5){return _1d5(_1d4,{});});},"mendix/lib/ValidationError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_1d6,_1d7){return _1d7(_1d6,{});});},"mendix/next/dataLayer":function(){define(["webcore/datasource/MicroflowSource","dojo/_base/Deferred","dojo/_base/array","exports"],function(_1d8,_1d9,_1da,_1db){_1db.loadData=function(_1dc){var _1dd=new _1d9();switch(_1dc.type){case "microflow":var _1de=new _1d8({microflow:_1dc.microflowId});_1de.reload(function(){_1dd.resolve(_1da.map(_1de.getObjects(),_1db.toJson));});break;default:throw new Error("Unsupported dataSpec type: "+_1dc.type);}return _1dd.promise;};_1db.release=function(_1df){window.mx.data.release(_1da.map(_1df,function(obj){return {getGuid:function(){return obj._guid;}};}));};_1db.toJson=function(_1e0){return {_guid:_1e0.getGuid()};};});},"mxui/exposed":function(){define(["mxui/wm/focus","mxui/html","mxui/html/parser","mxui/dom","mxui/lib/InputMask","mxui/widget","mxui/widget/_Widget","mxui/widget/_WidgetBase","mxui/widget/_Button","mxui/widget/_FormWidget","mxui/widget/Underlay","mxui/widget/Dialog","mxui/widget/DialogMessage","mxui/widget/Window","mxui/widget/LoginDialog","mxui/widget/Progress","mxui/widget/DataGrid","mxui/widget/TemplateGrid","mxui/widget/TabContainer","mxui/widget/TabContent","mxui/widget/ReferenceSetSelector","mxui/widget/BoolSelect","mxui/widget/RadioButtonGroup","mxui/widget/DatePicker","mxui/widget/DateInput","mxui/widget/EnumSelect","mxui/widget/NumberInput","mxui/widget/PasswordInput","mxui/widget/TextArea","mxui/widget/TextInput","mxui/widget/SearchInput","mxui/widget/Navbar","mxui/widget/NavigationTree","mxui/widget/HorizontalScrollContainer","mxui/widget/VerticalScrollContainer","mxui/widget/BorderContainer","mxui/widget/ActionButton","mxui/widget/BackButton","mxui/widget/CancelButton","mxui/widget/ConfirmationDialog","mxui/widget/LogoutButton","mxui/widget/SyncButton","mxui/widget/DropDownButton","mxui/widget/DropDownItem","mxui/widget/SaveButton","mxui/widget/SidebarToggleButton","mxui/widget/Button","mxui/widget/GroupBox","mxui/widget/DataView","mxui/widget/Title","mxui/widget/StaticImage","mxui/widget/Image","mxui/widget/ImageZoom","mxui/widget/LinkButton","mxui/widget/ListView","mxui/widget/MenuBar","mxui/widget/NavigationList","mxui/widget/NavigationListItem","mxui/widget/NewButton","mxui/widget/ReferenceSelector","mxui/widget/InputReferenceSetSelector","mxui/widget/FileInput","mxui/widget/ImageUploader","mxui/widget/SelectBox","mxui/widget/DynamicText","mxui/widget/ReactWidgetWrapper","mxui/mixin/_ValidationHelper","mxui/mixin/_Pluggable","mxui/mixin/_Contextable","mxui/mixin/_Stateful","dojo/_base/lang"],function(_1e1,_1e2,_1e3,_1e4,_1e5,_1e6,_1e7,_1e8,_1e9,_1ea,_1eb,_1ec,_1ed,_1ee,_1ef,_1f0,_1f1,_1f2,_1f3,_1f4,_1f5,_1f6,_1f7,_1f8,_1f9,_1fa,_1fb,_1fc,_1fd,_1fe,_1ff,_200,_201,_202,_203,_204,_205,_206,_207,_208,_209,_20a,_20b,_20c,_20d,_20e,_20f,_210,_211,_212,_213,_214,_215,_216,_217,_218,_219,_21a,_21b,_21c,_21d,_21e,_21f,_220,_221,_222,_223,_224,_225,_226,_227){window.mxui={html:_227.mixin(_1e2,{parser:_1e3}),dom:_1e4,wm:{focus:_1e1},lib:{InputMask:_1e5},widget:_227.mixin(_1e6,{_Widget:_1e7,_WidgetBase:_1e8,_Button:_1e9,_FormWidget:_1ea,Underlay:_1eb,Dialog:_1ec,DialogMessage:_1ed,Window:_1ee,LoginDialog:_1ef,Progress:_1f0,DataGrid:_1f1,TemplateGrid:_1f2,TabContainer:_1f3,TabContent:_1f4,ReferenceSetSelector:_1f5,BoolSelect:_1f6,RadioButtonGroup:_1f7,DatePicker:_1f8,DateInput:_1f9,EnumSelect:_1fa,NumberInput:_1fb,PasswordInput:_1fc,TextArea:_1fd,TextInput:_1fe,SearchInput:_1ff,Navbar:_200,NavigationTree:_201,HorizontalScrollContainer:_202,VerticalScrollContainer:_203,BorderContainer:_204,ActionButton:_205,BackButton:_206,CancelButton:_207,ConfirmationDialog:_208,LogoutButton:_209,SyncButton:_20a,DropDownButton:_20b,DropDownItem:_20c,SaveButton:_20d,SidebarToggleButton:_20e,Button:_20f,GroupBox:_210,DataView:_211,Title:_212,StaticImage:_213,Image:_214,ImageZoom:_215,LinkButton:_216,ListView:_217,MenuBar:_218,NavigationList:_219,NavigationListItem:_21a,NewButton:_21b,ReferenceSelector:_21c,InputReferenceSetSelector:_21d,FileInput:_21e,ImageUploader:_21f,SelectBox:_220,DynamicText:_221,ReactWidgetWrapper:_222}),mixin:{_ValidationHelper:_223,_Pluggable:_224,_Contextable:_225,_Stateful:_226}};});},"mxui/wm/focus":function(){define(["mxui/wm/_FocusBox","mxui/wm/_FocusStack","mxui/dom","dojo/keys","dojo/_base/connect","dojo/has","dojo/aspect","dojo/ready","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/_base/declare","dijit/focus","dijit/_base/focus","dijit/registry","exports"],function(_228,_229,dom,_22a,_22b,_22c,_22d,_22e,_22f,_230,_231,_232,_233,_234,_235,_236){_236.getFocusIndex=function(node){var _237=dom.getTabIndex(node);return _237>=0?_237:null;};_236.name="mxui.wm.focus";_236.state={};_236.registry={};_236.start=function(){if(this._started){return;}this._started=true;_22b.connect(window.document,"onkeypress",_231.hitch(this,"onkeypress"));_22b.connect(window.document,"onkeydown",_231.hitch(this,"keydownpatch"));_22d.after(_233,"_onFocusNode",_231.hitch(this,"onfocus"),true);_22d.after(_233,"_onBlurNode",_231.hitch(this,"_onBlurNode"),true);_22b.connect(document,"onmousedown",_231.hitch(this,"_onBlur"));var _238=this.state;this.timer_clear=function(){_238._timer=null;_238._shift=false;};};_236.get=function(){var f=_234.getFocus();return f.node&&!dom.isOrphan(f.node)?f.node:null;};_236.put=function(node){if(!node||node.nodeType!=1){return false;}if(_22c("ie")){try{document.selection.empty();}catch(e){}}setTimeout(function(){try{node.focus();}catch(e){}var _239=node.nodeName.toLowerCase();if((_239=="input"&&node.type=="text")||_239=="textarea"){if(node.select){node.select();}}},0);};_236.restore=function(){var _23a=_234.getFocus();if(_23a.node){var node=_23a.node;var _23b=this._getStack(node);var _23c=_23b._curr;node=_23c?this._tryNode(_23c,"next"):null;if(node){this.put(node);}}};_236.first=function(node){this.put(this._getFirst(node,"next"));};_236.next=function(node){this.put(this._getNextNode(node,false));};_236.blur=function(){var _23d=this.get();if(_23d){_23d.blur();}};_236.getFirst=function(node){return this._getFirst(node,"next");};_236._onBlur=function(e){this.state_clear();this._clickedNode=e.target;};_236._ontab=function(){this.timer_clear();var box=null;if(box){}else{this.state_clear();}};_236.onfocus=function(node){if(_22c("ie")){if(!dom.getTabIndex(node)){return;}}if(node.nodeType!=1){return;}var _23e=this.state;_23e.active=node;if(_23e._timer){this._ontab(node);}else{_22f.add(node,"mx-focus");}};_236._onBlurNode=function(node){_22f.remove(node,"mx-focus");};_236.state_clear=function(){var _23f=this.state;_23f.node=null;_23f.box=null;};_236.timer_clear=function(){};_236.next=function(){var _240=this.state;if(_240.active&&_240.active.nodeType==1){var _241=_240.active;var _242=this.byNode(_241);if(_242){var next=this._getNextNode(_241);if(next){this.put(next);}else{}}}};_236.keydownpatch=function(e){if(e.keyCode==_22a.UP_ARROW||e.keyCode==_22a.DOWN_ARROW){var _243=this.state;this.onkeypress(e);_243._patch_inWork=true;setTimeout(function(){_243._patch_inWork=null;},10);}};_236.onkeypress=function(e){var _244=this.state;if(_244._patch_inWork){return;}var _245=e.shiftKey;var _246=e.target;if(e.keyCode===_22a.TAB){if(_246.nodeName.toLowerCase()=="html"){if(this._clickedNode){_246=this._clickedNode;}else{return;}}var next=this._getNextNode(_246,_245);if(next){this.put(next);}_230.stop(e);}else{var box=this.byNode(_246);if(box){var _247=_246,nn=null;do{if(box.onFocusPress&&!box.onFocusPress(e,_247)){_230.stop(e);break;}var _248=box.domNode;_247=_248;nn=_248.parentNode;}while(nn&&(box=this.byNode(nn))!=null);}}};_236._getStack=function(_249,box){box=(box||this.byNode(_249));if(box.getFocusStack){try{return box.getFocusStack(_249);}catch(e){var _24a=_229.create();_24a.box=box;return _24a;}}return _229.buildStack(_249,box);};_236._getFirst=function(node,dir,_24b){if(this.isBox(node)){var _24c=_24b||this._getStack(node);if(_24c.length===0){if(_236.getFocusIndex(node)){return node;}return null;}var _24d=_24c[dir=="next"?"first":"last"];return _24d?this._tryNode(_24d,dir):null;}return node;};_236._tryNode=function(_24e,dir){var node=_24e.node;if(this.isBox(node)){var _24f=this._getFirst(node,dir);if(_24f){return _24f;}else{return this._doNext(_24e,dir);}}return node;};_236._doNext=function(_250,dir){if(!_250){return null;}var _251=_250[dir];if(!_251){return null;}return this._tryNode(_251,dir);};_236._getNextNode=function(node,_252){var box=null,_253=null,dir=!_252?"next":"prev";if(this.isBox(node)){box=this.byNode(node.parentNode);}else{box=this.byNode(node);}if(!box){return null;}var _254=this._getStack(node,box),next=this._doNext(_254.find(node),dir);if(!next){_253=_254.box.domNode;if(this.cyclic(_253)){return this._getFirst(_253,dir,_254);}else{next=this._getNextNode(box.domNode,_252);if(!next){}}}return next;};_236.skip=function(node,_255){if(node&&node.setAttribute){if(arguments.length==2){_255=!!_255;node.setAttribute("focusNoSkip",_255);return _255;}var _256=/true/.test(node.getAttribute("focusNoSkip"));return _256?!_256:node.readOnly;}return true;};_236.focusable=function(node){if(!node||node.nodeType!=1||node.disabled||_236.skip(node)){return false;}var _257=node.style;if(_257.display=="none"||_257.visibility=="hidden"){return false;}if(node.offsetWidth===0&&node.offsetHeight===0){return 0;}return true;};_236.cyclic=function(node,_258){if(node&&node.setAttribute){if(arguments.length==2){var s=/true/.test(_258);node.setAttribute("focusCycle",s);return s;}return /true/.test(node.getAttribute("focusCycle"));}return false;};_236.focusIndex=function(node,_259){if(node&&node.getAttribute){if(arguments.length==2){node.setAttribute("focusIndex",_259);return _259;}return node.getAttribute("focusIndex");}return null;};_236.addBox=function(node){var box=new _228(node);this.register(box);return box;};_236.removeBox=function(node){var box=this.byNode(node);if(box){this.unregister(box);return true;}return false;};_236.isBox=function(node){if(node&&node.getAttribute){var fi=this.focusIndex(node);if(_235.byNode(node)){return fi!=-2;}else{if(fi){return true;}}return !!(node.getAttribute("focus-id"));}return false;};_236.byNode=function(node){var fi,id,w;do{if(node&&node.getAttribute){fi=this.focusIndex(node);if(fi==-2){continue;}w=_235.byNode(node);if(w){return w;}id=node.getAttribute("focus-id");if(id){return this.byId(id);}if(fi){return {domNode:node};}}}while(node&&(node=node.parentNode));return null;};_236.byId=function(_25a){return this.registry[_25a];};_236.register=function(box){var id=box.id;if(this.registry[id]){return false;}else{this.registry[id]=box;return true;}};_236.unregister=function(box){if(this.registry[box.id]){box.domNode.removeAttribute("focus-id");delete this.registry[box.id];box.destroy();}};_22e(function(){_236.start();});});},"mxui/wm/_FocusBox":function(){define(["mxui/dom","mxui/wm/_FocusStack","mxui/wm/focus","mendix/lang","dojo/keys","dojo/_base/connect","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(dom,_25b,_25c,lang,_25d,_25e,_25f,_260,_261){var _262={getFocusStack:function(){var _263=_25b.create();_263.box=this;var _264=null;var _265=null;var _266=false;var _267=this.nodes;for(var i=0,l=_267.length;i<l;i++){var node=_267[i].node;var tab=_25c.getFocusIndex(node);var vi=_25c.focusable(node);if(tab){if(vi){_264=node;break;}else{_266=true;node.tabIndex=-1;}}else{if(vi){if(_266){_264=node;_264.tabIndex=1;break;}_265=node;}}}if(!_264){_264=_265;_264&&(_264.tabIndex=1);}if(_264){_263.push(_264);_263.last=_263.first=_263._curr={prev:null,next:null,node:_264,stack:_263};}return _263;},_onmousedown:function(e){var _268=e.target;if(_268.nodeName.toLowerCase()=="option"){_268=_268.parentNode;}var node=_268;var s=null;var _269=this.domNode;do{s=dom.data(node,"box-node");if(s&&s.box==this){break;}}while((node!=null)&&(node!=_269)&&(node=node.parentNode)!=null);if(s){var _26a=dom.getTabIndex(_268);this._focus(s.node,_26a!=null);}},_focus:function(_26b,_26c){var _26d=this.getFocusStack();var _26e=_26d._curr;if(_26e){_26e.node.tabIndex=-1;}_26b.tabIndex=1;_26b=_25c._tryNode({node:_26b,stack:_26d},"next");if(!_26c){_25c.put(_26b);}},next:function(_26f,dir){var data=dom.data(_26f,"box-node");if(data){var _270=this._getNextNode(data,dir);if(_270){var next=_270.node;next.tabIndex=0;_26f.tabIndex=-1;return next;}}else{}return null;},_getNextNode:function(_271,dir){if(!_271){return null;}var data=_271;while((data=data[dir])!=null){var node=data.node;if(_25c.focusable(node)){return data;}}return null;}};var _272=_261(null,{declaredClass:"mxui.wm.focus.Box",id:null,domNode:null,nested:false,FOCUS_NEXT:"FOCUS_NEXT",FOCUS_PREV:"FOCUS_PREV",constructor:function(node){this.id=lang.getUniqueId();this.domNode=node;this.nodes=[];this.keys={};this.handlers={};node.setAttribute("focus-id",this.id);},add:function(node){var s=dom.data(node,"box-node",{box:this,next:null,prev:null,node:node});var _273=this.nodes.length;if(_273!=0){var prev=this.nodes[_273-1];s.prev=prev;prev.next=s;node.tabIndex=-1;}else{node.tabIndex=0;}if(!this.converted){this.converted=true;_260.mixin(this,_262);this._boxhandler=_25e.connect(this.domNode,"onmousedown",_260.hitch(this,"_onmousedown"));}this.nodes.push(s);},pressed:function(_274,_275){var keys=this.keys;var hs=this.handlers;for(var key in _274){var code=_25d[key]||key;var fnc=_274[key];if(fnc==this.FOCUS_NEXT){keys[code]="next";}else{if(fnc==this.FOCUS_PREV){keys[code]="prev";}else{if(typeof fnc=="string"){fnc=_275[fnc];}if(typeof fnc!="function"){logger.error(this.id+".pressed: Passed stuff is not a function: "+key);}else{if(hs[code]){}hs[code]=[_275,fnc];}}}}},destroy:function(){if(!this._destroyed){var _276=this.nodes;for(var i=0,l=_276.length;i<l;i++){var node=_276[i].node;dom.data(node,"box-node",null);}this.nodes=null;this.keys=null;this.handlers=null;this._boxhandler&&this._boxhandler.remove();this._destroyed=true;}},getHandler:function(e){var code=typeof (e.charOrCode)!="undefined"?e.charOrCode:e.keyCode;return this.handlers[(code==" ")?_25d.SPACE:code];},getFocusDirection:function(e){var nav=this.domNode.getAttribute("focuskeys");if(nav){var up,lr;if(nav=="up-down"){if(e.keyCode==_25d.UP_ARROW){up="prev";}else{if(e.keyCode==_25d.DOWN_ARROW){up="next";}}}if(nav=="left-right"){if(e.keyCode==_25d.LEFT_ARROW){lr="prev";}else{if(e.keyCode==_25d.RIGHT_ARROW){lr="next";}}}return up||lr;}else{var code=typeof (e.charOrCode)!="undefined"?e.charOrCode:e.keyCode;code=(code==" ")?_25d.SPACE:code;var key=this.keys[code];if(key){return key;}}return null;},onFocusPress:function(e,_277){var dir=this.getFocusDirection(e);if(e.altKey||e.shiftKey||e.ctrlKey){return true;}if(dir){var data=dom.data(_277,"box-node");if(data){var next=this.next(_277,dir);if(next){_25c.put(next);return false;}_25f.stop(e);}else{}}else{var h=this.getHandler(e);if(h){try{return h[1].call(h[0],e,_277);}catch(error){logger.error(this.id+".onFocusPress: Error when executing handler: "+error.message);return true;}}}return true;},next:function(_278,dir){var _279=_25c._getStack(_278,this);var next=_25c._doNext(_279.find(_278),dir);return next;}});return _272;});},"mxui/dom":function(){define(["mxui/wm/focus","mendix/lang","webcore/url-helpers","dojo/sniff","dojo/_base/lang","dojo/_base/kernel","dojo/_base/connect","dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/window","mendix/logger"],function(_27a,lang,_27b,_27c,_27d,_27e,_27f,_280,_281,_282,_283,_284,_285){var _286=0,_287=document.createElement("p");function _288(_289){_289=_289||{};var _28a=function(id,node){if(!id){id=_286++;node.setAttribute("data-id",id);}return id;};return function(node,key,_28b){var id=typeof node==="string"?node:node.getAttribute("data-id"),map=_289[id];switch(arguments.length){case 1:return map;case 2:if(key===null){delete _289[id];return;}else{if(typeof key=="object"){if(!map){return _289[_28a(id,node)]=key;}else{return _27d.mixin(map,key);}}else{return map&&map[key];}}break;case 3:if(_28b===null){if(map){delete map[key];}if(lang.objectIsEmpty(map)){delete _289[id];}return;}else{if(!map){map=_289[_28a(id,node)]={};}return map[key]=_28b;}}};};var dom={minContainerHeight:100,nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},walkNode:function(root,_28c,_28d){var _28e=[0],_28f;var _290=function(node){try{_28f=node?_28c.call(_28d,node,_28e.slice())!==false:false;}catch(e){_285.error("mxui.dom.walkNode: Unable to execute action on node: "+e.message);_28f=false;}if(_28f&&node.hasChildNodes){var i=_28e.push(0)-1;var _291=null,_292=node.firstChild;while(_292){_292=(_291=_292).nextSibling;_290(_291);_28e[i]++;}_28e.pop();}};_290(root);},nextNode:function(_293,_294){if(!_293||!_294){return true;}var cl=_294.length,sl=_293.length,_295=_294.length-1;return (sl>cl)||(cl==sl&&_294[_295]>_293[_295]);},getAncestorNode:function(node,name,_296){return node&&((node.nodeName==name)?node:((--_296===0)?false:arguments.callee(node.parentNode,name,_296)));},findOverflowParent:function(node){while(node=node.parentNode){if(node===document.body){break;}var _297=_283.get(node,"overflow");if(_297==="auto"||_297==="scroll"){return node;}}return document.documentElement.scrollTop>0?document.documentElement:document.body;},scrollOverflowParentTo:function(node,to){var _298=dom.findOverflowParent(node);if(_298){_298.scrollTop=to;}},getElementsByTagNameNoNS:function(doc,_299){if(doc.getElementsByTagNameNS){return doc.getElementsByTagNameNS("*",_299);}else{if("selectNodes" in doc){doc.setProperty("SelectionLanguage","XPath");return doc.selectNodes("//*[local-name() = '"+_299+"']");}else{throw new Error("mxui.dom.getElementsByTagNameNoNS not supported");}}},escapeHTMLQuotes:function(str){return str.replace(/'/g,"&#39;").replace(/\"/g,"&#34;");},convertNlToBr:function(str){return str.replace(/\n/g,"<br />");},setSelectOptions:function(node,_29a,_29b){var $=dom.create;if(!node){return;}_29a=_29a||{};dom.empty(node);node.appendChild($("option",{value:""},""));for(var key in _29a){var _29c=$("option",{value:key},_29a[key]);node.appendChild(_29c);if(key==_29b){_29c.selected=true;}}},getSelectedValue:function(node){if(node.nodeName.toLowerCase()=="select"){return (node.selectedIndex!=-1)?node.options[node.selectedIndex].value:null;}else{return null;}},getSelectedText:function(node){return node.options[node.selectedIndex].text;},selectOptionByValue:function(node,_29d){for(var i=0;i<node.length;++i){if(node.options[i].value==_29d){node.options[i].selected=true;}}},selectOptionByText:function(node,text){for(var i=0;i<node.length;++i){if(node.options[i].text==text){node.options[i].selected=true;}}},enableNode:function(node){node.removeAttribute("readonly");node.removeAttribute("disabled");},disableNode:function(node){node.setAttribute("disabled","disabled");node.setAttribute("readonly","readonly");},disableSelection:function(e){if(!_27c("ie")){e.style.MozUserSelect="none";}else{e.unselectable="on";}return true;},clearSelection:function(){var w=window,s=document.selection;if(s){try{if(s.empty){s.empty();}}catch(e){}}else{s=w.getSelection&&w.getSelection();if(s&&s.removeAllRanges){s.removeAllRanges();}}},selectTextRange:function(_29e,_29f,_2a0){if(_29e.createTextRange){var _2a1=_29e.createTextRange();_2a1.collapse(true);_2a1.moveEnd("character",_2a0);_2a1.moveStart("character",_29f);_2a1.select();}else{if(_29e.setSelectionRange){_29e.setSelectionRange(_29f,_2a0);}}},getCursorPosition:function(_2a2){if(document.selection){var _2a3=Math.abs(document.selection.createRange().moveStart("character",-1000000));document.selection.createRange().moveEnd("character",-1000000);return _2a3;}else{if(_2a2.setSelectionRange){return _2a2.selectionStart;}}},getSelection:function(_2a4){if(document.selection){var _2a5=Math.abs(document.selection.createRange().moveStart("character",-1000000));var end=Math.abs(document.selection.createRange().moveEnd("character",-1000000));return {start:_2a5,end:end};}else{if(_2a4.setSelectionRange){return {start:_2a4.selectionStart,end:_2a4.selectionEnd};}}},insertAtCaret:function(_2a6,text){var _2a7=this.getSelection(_2a6),_2a8=_2a7.start+text.length,_2a9=_2a6.value;_2a6.value=_2a9.substring(0,_2a7.start)+text+_2a9.substring(_2a7.end,_2a9.length);this.selectTextRange(_2a6,_2a8,_2a8);},liveConnect:function(node,evt,_2aa,r,_2ab){if(arguments.length==3){r=_2aa;_2aa=null;}var tags={},_2ac=[];for(var i in r){var _2ad=i.split(".");var tag=_2ad[0];var _2ae=_2ad[1];var item=r[i];if((typeof item=="string"&&_2aa[item])||typeof item=="function"){var _2af={fnc:item};if(tag){tags[String(tag).toUpperCase()]=_2af;}else{if(_2ae){_2ac.push(_2af);}}if(_2ae){_2af.clazz=_2ae;}}}var _2b0=function(node){for(var i=0,item;item=_2ac[i];i++){if(_281.contains(node,item.clazz)){return item;}}return null;};var run=function(fnc,e){if(typeof (fnc)=="function"){fnc(e);}else{if(_2aa&&_2aa[fnc]){_2aa[fnc](e);}}};return _27f.connect(node,evt,function(e){var _2b1=e.target;var _2b2=node;var e2={target:e.target};for(var i in e){var val=e[i];if(val==null||!(val instanceof Object)){e2[i]=val;}}while(_2b1!=_2b2&&_2b1!=null){var _2b3=tags[_2b1.nodeName];var _2b4=_2b0(_2b1);if(_2b3){var _2b5=_2b3.clazz;_2b3=((!_2b5)||(_281.contains(_2b1,_2b5)))?_2b3:null;}e2.currentTarget=_2b1;if(_2b3){run(_2b3.fnc,e2);}if(_2b4){run(_2b4.fnc,e2);}if(_2ab&&(_2b3||_2b4)){break;}_2b1=_2b1.parentNode;}});},liveDisconnect:function(_2b6){_27f.disconnect(_2b6);},create:function(_2b7,_2b8,_2b9){var elem,args=[].slice.call(arguments,1);_2b8=_2b8||{};if(_2b8.nodeName||typeof _2b8=="string"){_2b9=args;_2b8={};}else{_2b9=args.slice(1);}if(_2b7=="#"){elem=document.createDocumentFragment();}else{elem=document.createElement(_2b7);for(var attr in _2b8){var _2ba=_2b8[attr];if(attr=="style"&&typeof _2ba!="string"){var _2bb=elem.style;for(var i in _2ba){_2bb[i]=_2ba[i];}}else{elem.setAttribute(attr,_2ba);}}}_280.forEach(_2b9,function(_2bc){if(typeof _2bc=="string"){_280.forEach(_2bc.split("\r\n"),function(line,i){if(i>0){elem.appendChild(dom.create("br"));}elem.appendChild(document.createTextNode(line));});}else{elem.appendChild(_2bc);}});return elem;},synthesizeEvent:function(evt,_2bd){var faux=_27d.mixin({},evt,_2bd);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;},capture:function(_2be,evt,_2bf){var _2c0=!_2be.addEventListener,_2c1=_2be[_2c0?"attachEvent":"addEventListener"],_2c2=_2be[_2c0?"detachEvent":"removeEventListener"],_2c3=_2c0?"on"+evt:evt;_2c1.call(_2be,_2c3,_2bf,true);return {remove:function(){_2c2.call(_2be,_2c3,_2bf,true);}};},supports:function(prop){var _2c4=document.body.style;if(prop in _2c4){return prop;}},text:function(node,str){if(typeof str!=="undefined"){node.innerHTML="";node.appendChild(document.createTextNode(str));}else{return "textContent" in node?node.textContent:node.innerText;}},html:function(node,str){if(typeof str!=="undefined"){node.innerHTML=str;}else{return node.innerHTML;}},orphan:function(node){var p=node.parentNode;if(p){p.removeChild(node);}},isOrphan:function(node){return !node.parentNode||node.parentNode.nodeType==dom.nodeTypes.DOCUMENT_FRAGMENT_NODE;},empty:function(node){var _2c5;while(_2c5=node.firstChild){node.removeChild(_2c5);}},toArray:function(_2c6){return _280.map(_2c6,function(_2c7){return _2c7;});},escapeString:function(str){var _2c8=str.split(/\r\n|\n/),out=[];for(var i=0;i<_2c8.length;++i){dom.text(_287,_2c8[i]);out.push(_287.innerHTML);}return out.join("\n");},unescapeString:function(str){return str.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,"\"").replace(/&amp;/g,"&");},getCss:function(path,doc){doc=doc||document;path=_27b.getStaticResourceUrl(path);return lang.find(doc.getElementsByTagName("link"),function(node){return node.href==path;});},createCssLink:function(path,_2c9){var _2ca={rel:"stylesheet",href:_27b.getStaticResourceUrl(path)};if(_2c9){_2ca.media=_2c9;}return dom.create("link",_2ca);},addCss:function(path,doc,_2cb){doc=doc||document;var link=dom.getCss(path,doc);if(link){return link;}var node=dom.createCssLink(path,_2cb);doc.querySelector("head").appendChild(node);return node;},removeCss:function(_2cc,doc){var file=dom.getCss(_2cc,doc);if(file){file.parentNode.removeChild(file);return true;}return false;},ieFocusable:{"a":true,"body":true,"button":true,"frame":true,"iframe":true,"input":true,"isIndex":true,"object":true,"select":true,"textarea":true},getTabIndex:function(node){if(!node||!node.getAttribute){return null;}var _2cd;if(_27c("ie")||_27c("trident")||_27c("edge")){_2cd=node.tabIndex;if(_2cd===0){var _2ce=node.nodeName.toLowerCase(),_2cf=node.attributes.tabIndex,_2d0=_2cf&&_2cf.specified===true;return _2d0||dom.ieFocusable[_2ce]?"0":null;}else{return ""+_2cd;}}else{var _2d1=node.getAttribute("tabindex");_2cd=String(node.tabIndex);if(_2d1!=null||_2cd>=0){if(!_27c("ff")){return (_2d1==="")?null:_2cd;}else{return _2cd;}}else{return null;}}},moveFocusTo:function(node){if(_27c("mobile")){_27a.blur();}else{_27a.put(node);}},data:_288(),getScopedData:_288,moveIntoView:function(node,_2d2){_2d2=_2d2||0;var pos=_282.position(node),_2d3=_284.getBox(),_2d4=node.style,_2d5=pos.y+pos.h+_2d2,_2d6=pos.x+pos.w+_2d2;if(pos.y<_2d2||pos.h+_2d2*2>_2d3.h){_2d4.top=_2d2+"px";}else{if(_2d5>_2d3.h){_2d4.top=pos.y-(_2d5-_2d3.h)+"px";}}if(pos.x<_2d2||pos.w+_2d2*2>_2d3.w){_2d4.left=_2d2+"px";}else{if(_2d6>_2d3.w){_2d4.left=pos.x-(_2d6-_2d3.w)+"px";}}},getNodeExtents:function(node){var cs=_283.getComputedStyle(node),me=_282.getMarginExtents(node,cs),be=_282.getBorderExtents(node,cs),pe=_282.getPadExtents(node,cs);return {w:me.w+be.w+pe.w,h:me.h+be.h+pe.h};},dispatchEvent:function(node,_2d7){if("createEvent" in document){var evt=document.createEvent("HTMLEvents");evt.initEvent(_2d7.substr(2,_2d7.length),true,true);node.dispatchEvent(evt);}else{if(node.fireEvent){node.fireEvent([_2d7]);}}}};return dom;});},"webcore/url-helpers":function(){define(["mendix/lang"],function(lang){var _2d8={};_2d8.getAbsoluteUrl=function(_2d9){return mx.appUrl+_2d9;};_2d8.getStaticResourceUrlFromPath=function(path){return _2d8.getAbsoluteUrl(path);};_2d8.getStaticResourceUrl=function(url){if(!/^\w+:\/\//.test(url)){url=_2d8.getStaticResourceUrlFromPath(url);}var _2da=mx.server.getCacheBust();if(lang.startsWith(url,mx.appUrl)&&!lang.endsWith(url,_2da)){url+=(/\?/.test(url)?"&":"?")+_2da;}return url;};_2d8.getDynamicResourcePath=function(guid,_2db,_2dc){var url="file?"+["guid="+guid,"changedDate="+_2db].join("&");if(_2dc){url+="&thumb=true";}return url;};_2d8.getDynamicResourceUrl=function(guid,_2dd,_2de){return _2d8.getAbsoluteUrl(_2d8.getDynamicResourcePath(guid,_2dd,_2de));};return _2d8;});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_2df,dom,geom,_2e0,_2e1){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_2df.body(doc),_2e2=_2e1.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_2e1.create("div",{style:{overflow:"hidden",direction:"ltr"}},_2e2,"last"),ret=geom.position(div).x!=0;_2e2.removeChild(div);body.removeChild(_2e2);return ret;});has.add("position-fixed-support",function(win,doc){var body=_2df.body(doc),_2e3=_2e1.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_2e4=_2e1.create("span",{style:{position:"fixed",left:"0",top:"0"}},_2e3,"last"),ret=geom.position(_2e4).x!=geom.position(_2e3).x;_2e3.removeChild(_2e4);body.removeChild(_2e3);return ret;});var _2e5={getBox:function(doc){doc=doc||_2df.doc;var _2e6=(doc.compatMode=="BackCompat")?_2df.body(doc):doc.documentElement,_2e7=geom.docScroll(doc),w,h;if(has("touch")){var _2e8=_2e5.get(doc);w=_2e8.innerWidth||_2e6.clientWidth;h=_2e8.innerHeight||_2e6.clientHeight;}else{w=_2e6.clientWidth;h=_2e6.clientHeight;}return {l:_2e7.x,t:_2e7.y,w:w,h:h};},get:function(doc){if(has("ie")&&_2e5!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_2df.doc,body=_2df.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera")||has("trident"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _2e9=doc.compatMode=="BackCompat",_2ea=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_2eb=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_2ec=(isWK||_2e9)?body:html,_2ed=pos||geom.position(node),el=node.parentNode,_2ee=function(el){return (isIE<=6||(isIE==7&&_2e9))?false:(has("position-fixed-support")&&(_2e0.get(el,"position").toLowerCase()=="fixed"));},self=this,_2ef=function(el,x,y){if(el.tagName=="BODY"||el.tagName=="HTML"){self.get(el.ownerDocument).scrollBy(x,y);}else{x&&(el.scrollLeft+=x);y&&(el.scrollTop+=y);}};if(_2ee(node)){return;}while(el){if(el==body){el=_2ec;}var _2f0=geom.position(el),_2f1=_2ee(el),rtl=_2e0.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_2ec){_2f0.w=_2ea;_2f0.h=_2eb;if(_2ec==html&&(isIE||has("trident"))&&rtl){_2f0.x+=_2ec.offsetWidth-_2f0.w;}if(_2f0.x<0||!isIE||isIE>=9||has("trident")){_2f0.x=0;}if(_2f0.y<0||!isIE||isIE>=9||has("trident")){_2f0.y=0;}}else{var pb=geom.getPadBorderExtents(el);_2f0.w-=pb.w;_2f0.h-=pb.h;_2f0.x+=pb.l;_2f0.y+=pb.t;var _2f2=el.clientWidth,_2f3=_2f0.w-_2f2;if(_2f2>0&&_2f3>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_2f0.x+=_2f3;}_2f0.w=_2f2;}_2f2=el.clientHeight;_2f3=_2f0.h-_2f2;if(_2f2>0&&_2f3>0){_2f0.h=_2f2;}}if(_2f1){if(_2f0.y<0){_2f0.h+=_2f0.y;_2f0.y=0;}if(_2f0.x<0){_2f0.w+=_2f0.x;_2f0.x=0;}if(_2f0.y+_2f0.h>_2eb){_2f0.h=_2eb-_2f0.y;}if(_2f0.x+_2f0.w>_2ea){_2f0.w=_2ea-_2f0.x;}}var l=_2ed.x-_2f0.x,t=_2ed.y-_2f0.y,r=l+_2ed.w-_2f0.w,bot=t+_2ed.h-_2f0.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_2ec||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_2e9)||isIE>=9||has("trident"))){s=-s;}old=el.scrollLeft;_2ef(el,s,0);s=el.scrollLeft-old;_2ed.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_2ec||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;_2ef(el,0,s);s=el.scrollTop-old;_2ed.y-=s;}el=(el!=_2ec)&&!_2f1&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_2e5);return _2e5;});},"mxui/wm/_FocusStack":function(){define(["mxui/dom","mxui/wm/focus"],function(dom,_2f4){var _2f5={create:function(){var _2f6=[];_2f6.find=this.find;_2f6.each=this.each;_2f6.box=null;_2f6.last=null;_2f6.first=null;_2f6.f_first=null;_2f6.f_last=null;return _2f6;},buildStack:function(_2f7,box){var _2f8=null;var _2f9=null;var _2fa=null;var _2fb=null;var _2fc=null;var _2fd=this.create();_2fd.box=box=(box||_2f4.byNode(_2f7));var _2fe=_2f7==box.domNode;var ni=_2fe?"0":dom.getTabIndex(_2f7);var _2ff=box.domNode;var _300=null;var _301=null;var _302=null;var _303=null;if(!_2fe&&!_2f4.focusable(_2f7)){_300=_2f7;while((_300=_300.parentNode)!=null){var vi=_2f4.focusable(_300);if(vi||_300==_2ff){_301=_302;break;}_302=_300;}}dom.walkNode(_2ff,function(node,_304){if(node==_2ff){return true;}var one=(node==_2f7);if(!one){var vi=_2f4.focusable(node);if(!vi){if(_301){if(_303){if(dom.nextNode(_303,_304)){_303=false;}else{return true;}}else{if(node==_301){_303=_304;return true;}}}return vi===0;}}var _305=this.isBox(node);var ci=_2f4.getFocusIndex(node);if(!ci&&_305){if(dom.getTabIndex(node)<0){return false;}ci=node.getAttribute("focusIndex")||"0";}if(one||ci){var item={node:node,stack:_2fd,next:null,prev:null};if(ni==-1){if(_2fa){if(_2fb==null||(_2fb>ci)){_2fb=ci;_2fc=item;}}else{if(one){_2fa=true;}}}if(ci){if(!_2f8){_2f8=item;}_2f9=item;var _306=_2fd[ci];if(!_306){_306=_2fd[ci]=[];}_306.push(item);}else{_2fd._curr=item;}return false;}},_2f4);if(ni==-1){var curr=_2fd._curr;if(curr){curr.prev=curr.next=_2fc;}}_2fd.each(function(node,_307){if(!this.first){this.first=_307;}var prev=_307.prev=this.last;if(prev){prev.next=_307;}this.last=_307;if(_2f7==node){this._curr=_307;}},null,_2fd);_2fd.f_first=_2f8;_2fd.f_last=_2f9;return _2fd;},each:function(fnc,_308,_309){if(_308=="prev"){var i=this.length;while(0<=--i){var _30a=this[i];var l=_30a&&_30a.length;if(l){for(var c=l-1;0<=c;c--){var stop=fnc.call(_309,_30a[c].node,_30a[c],i);if(stop!=null){return stop;}}}}}else{var i=-1;while(++i<this.length){var _30a=this[i];var l=_30a&&_30a.length;if(l){for(var c=0;c<l;c++){var stop=fnc.call(_309,_30a[c].node,_30a[c],i);if(stop!=null){return stop;}}}}}return null;},find:function(_30b){if(this._curr&&this._curr.node==_30b){return this._curr;}var ni=dom.getTabIndex(_30b)||"0";if(ni!=-1){var i=ni;do{var _30c=this[i];if(_30c){for(var c=0,l=_30c.length;c<l;c++){var n=_30c[c];if(n.node==_30b){return n;}}}}while(++i<this.length);}var _30d=null;var _30e=this.box.domNode;var node=_30b;while((node=node.parentNode)!=null&&node!=_30e){if(!_2f4.focusable(node)){continue;}if(_2f4.getFocusIndex(node)){_30d=node;}}return _30d?this.find(_30d):null;}};return _2f5;});},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_30f,_310,dom,_311,_312,_313,_314,lang,on,_315,has,_316,win,_317,a11y,_318,_319){var _31a;var _31b;var _31c=_310([_316,_314],{curNode:null,activeStack:[],constructor:function(){var _31d=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_30f.before(_313,"empty",_31d);_30f.before(_313,"destroy",_31d);},registerIframe:function(_31e){return this.registerWin(_31e.contentWindow,_31e);},registerWin:function(_31f,_320){var _321=this,body=_31f.document&&_31f.document.body;if(body){var _322=has("pointer-events")?"pointerdown":has("MSPointer")?"MSPointerDown":has("touch-events")?"mousedown, touchstart":"mousedown";var mdh=on(_31f.document,_322,function(evt){if(evt&&evt.target&&evt.target.parentNode==null){return;}_321._onTouchNode(_320||evt.target,"mouse");});var fih=on(body,"focusin",function(evt){if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isFocusable(evt.target)){_321._onFocusNode(_320||evt.target);}else{_321._onTouchNode(_320||evt.target);}});var foh=on(body,"focusout",function(evt){_321._onBlurNode(_320||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;body=null;}};}},_onBlurNode:function(node){var now=(new Date()).getTime();if(now<_31a+100){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}if(now<_31b+100){return;}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){_31b=(new Date()).getTime();if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}if(_312.contains(node,"dijitPopup")){node=node.firstChild;}var _323=[];try{while(node){var _324=_311.get(node,"dijitPopupParent");if(_324){node=_318.byId(_324).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_317.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_325=id&&_318.byId(id);if(_325&&!(by=="mouse"&&_325.get("disabled"))){_323.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_323,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}_31a=(new Date()).getTime();if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_326,by){var _327=this.activeStack,_328=_327.length-1,_329=_326.length-1;if(_326[_329]==_327[_328]){return;}this.set("activeStack",_326);var _32a,i;for(i=_328;i>=0&&_327[i]!=_326[i];i--){_32a=_318.byId(_327[i]);if(_32a){_32a._hasBeenBlurred=true;_32a.set("focused",false);if(_32a._focusManager==this){_32a._onBlur(by);}this.emit("widget-blur",_32a,by);}}for(i++;i<=_329;i++){_32a=_318.byId(_326[i]);if(_32a){_32a.set("focused",true);if(_32a._focusManager==this){_32a._onFocus(by);}this.emit("widget-focus",_32a,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _32b=new _31c();_315(function(){var _32c=_32b.registerWin(_317.get(document));if(has("ie")){on(window,"unload",function(){if(_32c){_32c.remove();_32c=null;}});}});_319.focus=function(node){_32b.focus(node);};for(var attr in _32b){if(!/^_/.test(attr)){_319.focus[attr]=typeof _32b[attr]=="function"?lang.hitch(_32b,attr):_32b[attr];}}_32b.watch(function(attr,_32d,_32e){_319.focus[attr]=_32e;});return _32b;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_32f,lang,_330,when){return _32f("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});},postscript:function(_331){if(_331){this.set(_331);}},_get:function(name,_332){return typeof this[_332.g]==="function"?this[_332.g]():this[name];},get:function(name){return this._get(name,this._getAttrNames(name));},set:function(name,_333){if(typeof name==="object"){for(var x in name){if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,name[x]);}}return this;}var _334=this._getAttrNames(name),_335=this._get(name,_334),_336=this[_334.s],_337;if(typeof _336==="function"){_337=_336.apply(this,Array.prototype.slice.call(arguments,1));}else{this[name]=_333;}if(this._watchCallbacks){var self=this;when(_337,function(){self._watchCallbacks(name,_335,_333);});}return this;},_changeAttrValue:function(name,_338){var _339=this.get(name);this[name]=_338;if(this._watchCallbacks){this._watchCallbacks(name,_339,_338);}return this;},watch:function(name,_33a){var _33b=this._watchCallbacks;if(!_33b){var self=this;_33b=this._watchCallbacks=function(name,_33c,_33d,_33e){var _33f=function(_340){if(_340){_340=_340.slice();for(var i=0,l=_340.length;i<l;i++){_340[i].call(self,name,_33c,_33d);}}};_33f(_33b["_"+name]);if(!_33e){_33f(_33b["*"]);}};}if(!_33a&&typeof name==="function"){_33a=name;name="*";}else{name="_"+name;}var _341=_33b[name];if(typeof _341!=="object"){_341=_33b[name]=[];}_341.push(_33a);var _342={};_342.unwatch=_342.remove=function(){var _343=_330.indexOf(_341,_33a);if(_343>-1){_341.splice(_343,1);}};return _342;}});});},"dijit/a11y":function(){define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_344,dom,_345,_346,lang,has,_347){var _348;var a11y={_isElementShown:function(elem){var s=_346.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_345.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _345.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _349=elem.contentDocument;if("designMode" in _349&&_349.designMode=="on"){return true;}body=_349.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_345.get(elem,"disabled")){return _348;}else{if(_345.has(elem,"tabIndex")){return +_345.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_348;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _34a,last,_34b,_34c,_34d,_34e,_34f={};function _350(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _351=a11y._isElementShown,_352=a11y.effectiveTabIndex;var _353=function(_354){for(var _355=_354.firstChild;_355;_355=_355.nextSibling){if(_355.nodeType!=1||(has("ie")<=9&&_355.scopeName!=="HTML")||!_351(_355)){continue;}var _356=_352(_355);if(_356>=0){if(_356==0){if(!_34a){_34a=_355;}last=_355;}else{if(_356>0){if(!_34b||_356<_34c){_34c=_356;_34b=_355;}if(!_34d||_356>=_34e){_34e=_356;_34d=_355;}}}var rn=_350(_355);if(_345.get(_355,"checked")&&rn){_34f[rn]=_355;}}if(_355.nodeName.toUpperCase()!="SELECT"){_353(_355);}}};if(_351(root)){_353(root);}function rs(node){return _34f[_350(node)]||node;};return {first:rs(_34a),last:rs(last),lowest:rs(_34b),highest:rs(_34d)};},getFirstInTabbingOrder:function(root,doc){var _357=a11y._getTabNavigable(dom.byId(root,doc));return _357.lowest?_357.lowest:_357.first;},getLastInTabbingOrder:function(root,doc){var _358=a11y._getTabNavigable(dom.byId(root,doc));return _358.last?_358.last:_358.highest;}};1&&lang.mixin(_347,a11y);return a11y;});},"dijit/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dijit;});},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(_359,win,_35a){var _35b={},hash={};var _35c={length:0,add:function(_35d){if(hash[_35d.id]){throw new Error("Tried to register widget with id=="+_35d.id+" but that id is already registered");}hash[_35d.id]=_35d;this.length++;},remove:function(id){if(hash[id]){delete hash[id];this.length--;}},byId:function(id){return typeof id=="string"?hash[id]:id;},byNode:function(node){return hash[node.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in hash){ar.push(hash[id]);}return ar;},getUniqueId:function(_35e){var id;do{id=_35e+"_"+(_35e in _35b?++_35b[_35e]:_35b[_35e]=0);}while(hash[id]);return _35a._scopeName=="dijit"?id:_35a._scopeName+"_"+id;},findWidgets:function(root,_35f){var _360=[];function _361(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _362=node.getAttribute("widgetId");if(_362){var _363=hash[_362];if(_363){_360.push(_363);}}else{if(node!==_35f){_361(node);}}}}};_361(root);return _360;},_destroyAll:function(){_35a._curFocus=null;_35a._prevFocus=null;_35a._activeStack=[];_359.forEach(_35c.findWidgets(win.body()),function(_364){if(!_364._destroyed){if(_364.destroyRecursive){_364.destroyRecursive();}else{if(_364.destroy){_364.destroy();}}}});},getEnclosingWidget:function(node){while(node){var id=node.nodeType==1&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;},_hash:hash};_35a.registry=_35c;return _35c;});},"dijit/_base/focus":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(_365,dom,lang,_366,win,_367,_368,_369){var _36a={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _369.getBookmark().isCollapsed;},getBookmark:function(){var sel=win.global==window?_368:new _368.SelectionManager(win.global);return sel.getBookmark();},moveToBookmark:function(_36b){var sel=win.global==window?_368:new _368.SelectionManager(win.global);return sel.moveToBookmark(_36b);},getFocus:function(menu,_36c){var node=!_367.curNode||(menu&&dom.isDescendant(_367.curNode,menu.domNode))?_369._prevFocus:_367.curNode;return {node:node,bookmark:node&&(node==_367.curNode)&&win.withGlobal(_36c||win.global,_369.getBookmark),openedForWindow:_36c};},_activeStack:[],registerIframe:function(_36d){return _367.registerIframe(_36d);},unregisterIframe:function(_36e){_36e&&_36e.remove();},registerWin:function(_36f,_370){return _367.registerWin(_36f,_370);},unregisterWin:function(_371){_371&&_371.remove();}};_367.focus=function(_372){if(!_372){return;}var node="node" in _372?_372.node:_372,_373=_372.bookmark,_374=_372.openedForWindow,_375=_373?_373.isCollapsed:false;if(node){var _376=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_376&&_376.focus){try{_376.focus();}catch(e){}}_367._onFocusNode(node);}if(_373&&win.withGlobal(_374||win.global,_369.isCollapsed)&&!_375){if(_374){_374.focus();}try{win.withGlobal(_374||win.global,_369.moveToBookmark,null,[_373]);}catch(e2){}}};_367.watch("curNode",function(name,_377,_378){_369._curFocus=_378;_369._prevFocus=_377;if(_378){_366.publish("focusNode",_378);}});_367.watch("activeStack",function(name,_379,_37a){_369._activeStack=_37a;});_367.on("widget-blur",function(_37b,by){_366.publish("widgetBlur",_37b,by);});_367.on("widget-focus",function(_37c,by){_366.publish("widgetFocus",_37c,by);});lang.mixin(_369,_36a);return _369;});},"dijit/selection":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(_37d,dom,lang,has,_37e,_37f){var _380=function(win){var doc=win.document;this.getType=function(){if(doc.getSelection){var _381="text";var oSel;try{oSel=win.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _382=oSel.getRangeAt(0);if((_382.startContainer==_382.endContainer)&&((_382.endOffset-_382.startOffset)==1)&&(_382.startContainer.nodeType!=3)){_381="control";}}return _381;}else{return doc.selection.type.toLowerCase();}};this.getSelectedText=function(){if(doc.getSelection){var _383=win.getSelection();return _383?_383.toString():"";}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().text;}};this.getSelectedHtml=function(){if(doc.getSelection){var _384=win.getSelection();if(_384&&_384.rangeCount){var i;var html="";for(i=0;i<_384.rangeCount;i++){var frag=_384.getRangeAt(i).cloneContents();var div=doc.createElement("div");div.appendChild(frag);html+=div.innerHTML;}return html;}return null;}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().htmlText;}};this.getSelectedElement=function(){if(this.getType()=="control"){if(doc.getSelection){var _385=win.getSelection();return _385.anchorNode.childNodes[_385.anchorOffset];}else{var _386=doc.selection.createRange();if(_386&&_386.item){return doc.selection.createRange().item(0);}}}return null;};this.getParentElement=function(){if(this.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(doc.getSelection){var _387=doc.getSelection();if(_387){var node=_387.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}else{var r=doc.selection.createRange();r.collapse(true);return r.parentElement();}}return null;};this.hasAncestorElement=function(_388){return this.getAncestorElement.apply(this,arguments)!=null;};this.getAncestorElement=function(_389){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);};this.isTag=function(node,tags){if(node&&node.tagName){var _38a=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _38b=String(tags[i]).toLowerCase();if(_38a==_38b){return _38b;}}}return "";};this.getParentOfType=function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;};this.collapse=function(_38c){if(doc.getSelection){var _38d=win.getSelection();if(_38d.removeAllRanges){if(_38c){_38d.collapseToStart();}else{_38d.collapseToEnd();}}else{_38d.collapse(_38c);}}else{var _38e=doc.selection.createRange();_38e.collapse(_38c);_38e.select();}};this.remove=function(){var sel=doc.selection;if(doc.getSelection){sel=win.getSelection();sel.deleteFromDocument();return sel;}else{if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}};this.selectElementChildren=function(_38f,_390){var _391;_38f=dom.byId(_38f);if(doc.getSelection){var _392=win.getSelection();if(has("opera")){if(_392.rangeCount){_391=_392.getRangeAt(0);}else{_391=doc.createRange();}_391.setStart(_38f,0);_391.setEnd(_38f,(_38f.nodeType==3)?_38f.length:_38f.childNodes.length);_392.addRange(_391);}else{_392.selectAllChildren(_38f);}}else{_391=_38f.ownerDocument.body.createTextRange();_391.moveToElementText(_38f);if(!_390){try{_391.select();}catch(e){}}}};this.selectElement=function(_393,_394){var _395;_393=dom.byId(_393);if(doc.getSelection){var _396=doc.getSelection();_395=doc.createRange();if(_396.removeAllRanges){if(has("opera")){if(_396.getRangeAt(0)){_395=_396.getRangeAt(0);}}_395.selectNode(_393);_396.removeAllRanges();_396.addRange(_395);}}else{try{var tg=_393.tagName?_393.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_395=_37e.body(doc).createControlRange();}else{_395=_37e.body(doc).createRange();}_395.addElement(_393);if(!_394){_395.select();}}catch(e){this.selectElementChildren(_393,_394);}}};this.inSelection=function(node){if(node){var _397;var _398;if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.rangeCount>0){_398=sel.getRangeAt(0);}if(_398&&_398.compareBoundaryPoints&&doc.createRange){try{_397=doc.createRange();_397.setStart(node,0);if(_398.compareBoundaryPoints(_398.START_TO_END,_397)===1){return true;}}catch(e){}}}else{_398=doc.selection.createRange();try{_397=node.ownerDocument.body.createTextRange();_397.moveToElementText(node);}catch(e2){}if(_398&&_397){if(_398.compareEndPoints("EndToStart",_397)===1){return true;}}}}return false;};this.getBookmark=function(){var bm,rg,tg,sel=doc.selection,cf=_37f.curNode;if(doc.getSelection){sel=win.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;};this.moveToBookmark=function(_399){var mark=_399.mark;if(mark){if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(doc.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=doc.body.createControlRange();_37d.forEach(mark,function(n){rg.addElement(n);});}else{rg=doc.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}};this.isCollapsed=function(){return this.getBookmark().isCollapsed;};};var _39a=new _380(window);_39a.SelectionManager=_380;return _39a;});},"mxui/html":function(){define([],function(){return {attrs:{"ForRole":"visibleForRoles","FormTitle":"formTitle"},stripTags:function(_39b){if(typeof _39b=="string"){return _39b.replace(/<[a-zA-Z\/][^>]*>/g," ");}else{return _39b;}},escapeQuotes:function(str){return str.replace(/\'/g,"&#39;").replace(/\"/g,"&#34;");}};});},"mxui/html/parser":function(){define(["mxui/dom","mendix/lang","dojo/json","dojo/_base/array","dojo/_base/lang","require"],function(_39c,lang,_39d,_39e,_39f,_3a0){function _3a1(_3a2,_3a3,_3a4){var _3a5="data-mendix-",_3a6=_3a5+"id",_3a7=_3a5+"type",_3a8=_3a5+"props",_3a9=[];_3a4=_3a4?(_3a4+"_"):"";_39e.forEach(_3a2,function(node){var mxid=node.getAttribute(_3a6),_3aa=node.getAttribute(_3a8),type=node.getAttribute(_3a7),Clas=_39f.getObject(type),_3ab=_3aa&&_39d.parse("{"+_3aa+"}"),_3ac=_39f.mixin(_3ab,_3a3,{mxid:mxid,uniqueid:_3a4+mxid,"class":node.className,style:node.style.cssText,focusIndex:_39c.getTabIndex(node)});node.removeAttribute(_3a7);node.removeAttribute(_3a8);if(Clas){try{var _3ad=new Clas(_3ac,node);if(_3ad.name){var _3ae=_3a0("mxui/widget/PrimitiveWidgetWrapper");_3ad=new _3ae({widget:_3ad,mxform:_3ad.mxform});}_3a9.push(_3ad);}catch(e){_3af(node,"Could not create widget "+type+": "+e);}}else{_3af(node,"No constructor found for widget "+type);}});_39e.forEach(_3a9,function(_3b0){if(_3b0.startup){if(!_3b0._started){try{_3b0.startup();}catch(e){_3b0.actLoaded();_3af(_3b0.domNode,"Could not create widget "+_3b0.declaredClass+": "+e);}}}});function _3af(node,_3b1){logger.error(_3b1);if(node.parentNode){node.parentNode.replaceChild(_39c.create("div",{style:"color:red"},_3b1),node);}};return _3a9;};function _3b2(root,_3b3,_3b4){root=root||document.body;var _3b5=lang.toArray(root.querySelectorAll("[data-mendix-type]"));if(root.getAttribute("data-mendix-type")){_3b5.unshift(root);}return _3a1(_3b5,_3b3,_3b4);};function _3b6(root,_3b7,_3b8){var _3b9=[];_39c.walkNode(root,function(node){if(node.getAttribute&&node.getAttribute("data-mendix-type")){_3b9.push(node);return false;}return true;});return _3a1(_3b9,_3b7,_3b8);};var _3ba={instantiate:_3a1,parse:_3b2,parseTopLevel:_3b6};return _3ba;});},"mxui/lib/InputMask":function(){define(["mendix/logger","mxui/wm/focus","mxui/dom","dojo/sniff","dojo/on","dojo/keys","dojo/_base/lang","dojo/_base/array","dojo/_base/declare"],function(_3bb,_3bc,dom,_3bd,_3be,_3bf,_3c0,_3c1,_3c2){function _3c3(_3c4,_3c5,_3c6){var _3c7=(_3c4.length-(_3c5.length-(_3c6)));for(var i=0;i<_3c7;i++){if(_3c4.charAt(i)!=_3c5.charAt(i)){_3c7=i;break;}}return _3c7;};function _3c8(_3c9,_3ca){switch(_3c9){case "9":return _3ca.match(/^[0-9]$/g)!=null;case "U":return _3ca.match(/^[A-Z]$/g)!=null;case "L":return _3ca.match(/^[a-z]$/g)!=null;case "Z":return _3ca.match(/^[a-zA-Z]$/g)!=null;case "*":return _3ca.match(/^[a-zA-Z0-9]$/g)!=null;default:return false;}};var _3cb=_3c2(null,{mask:"",displayMask:"",spanMask:null,domNode:null,_connects:null,_selection:null,oldValue:"",constructor:function(node,mask){this.domNode=node;this.mask=mask;this.displayMask=this.mask.replace(/[9ZUL*]/g,"_");this._connects=[_3be(this.domNode,"focus",_3c0.hitch(this,"onFocus")),_3be(this.domNode,"keypress",_3c0.hitch(this,"onKeyPress")),_3be(this.domNode,"blur",_3c0.hitch(this,"onBlur")),_3be(this.domNode,_3bd("ie")?"paste":"input",_3c0.hitch(this,"onInput")),_3be(this.domNode,"select",_3c0.hitch(this,"onSelect")),_3be(this.domNode,"click",_3c0.hitch(this,"onClick"))];var self=this;if(_3bd("ie")||_3bd("trident")||_3bd("chrome")){this._connects.push(_3be(this.domNode,"keydown",function(evt){var _3cc=(evt.keyCode===0)?evt.which:evt.keyCode;if(_3cc===46||_3cc===8){self.onKeyPress(evt);}}));}},onFocus:function(e){if(this.isReadOnly()){return;}var _3cd=this.oldValue=this.domNode.value;if(_3cd===""){this.domNode.value=this.displayMask;this.spanMask=this.displayMask;setTimeout(_3c0.hitch(this,this.goToFirstEditableCharacter),0);}else{var real="";for(var i=0,cc;i<this.displayMask.length,cc=this.mask.charAt(i);i++){var val=_3cd.charAt(i);if(_3c8(cc,val)){real+=val;}else{real+=this.displayMask.charAt(i);}}setTimeout(_3c0.hitch(this,function(){var sel=dom.getSelection(this.domNode);this.spanMask=this.domNode.value=real;dom.selectTextRange(this.domNode,sel.start,sel.end);}),0);}},goToFirstEditableCharacter:function(){var _3ce=this.domNode.value;var _3cf=-1;for(var i=0;i<_3ce.length;i++){if(this.isEditable(this.mask.charAt(i))&&_3ce.charAt(i)==="_"){_3cf=i;break;}}if(_3cf!==-1){dom.selectTextRange(this.domNode,_3cf,_3cf);}},onBlur:function(e){if(this.isReadOnly()){return;}this.spanMask=null;if(this.displayMask===this.domNode.value){this.domNode.value="";}if(this.oldValue!=this.domNode.value){dom.dispatchEvent(this.domNode,"onchange");}this.oldValue=null;},onClick:function(){if(this.isReadOnly()){return;}this._selection=dom.getSelection(this.domNode);},onSelect:function(){if(this.isReadOnly()){return;}this._selection=dom.getSelection(this.domNode);},onInput:function(e){if(this.isReadOnly()){return;}if(_3bd("ie")&&e!=null){try{setTimeout(_3c0.hitch(this,"onInput",null),1);return;}catch(e){}}var pos=dom.getCursorPosition(this.domNode);var _3d0=this.domNode.value;var _3d1=this.spanMask;this.domNode.value="";if(this._selection&&this._selection.start!=this._selection.end){_3d1="";for(var i=0;i<this.spanMask.length;i++){_3d1+=(i>=this._selection.start&&i<this._selection.end)?"":this.spanMask.charAt(i);}}var _3d2=_3c3(_3d1,_3d0,pos);var _3d3=_3d0.substring(_3d2,pos);if(this._selection&&this._selection.start!=this._selection.end){var _3d4=this._selection.end-this._selection.start;_3d3=_3d3.substr(0,_3d4);}var _3d5=this.mask.length;var newv="";var _3d6=-1;for(var i=0;i<_3d5;i++){if(i===_3d2){for(var j=0;j<_3d3.length;j++){_3d6=i;var _3d7=this.mask.charAt(i);var _3d8=_3d3.charAt(j);if(this.isEditable(_3d7)){var _3d9=_3c8(_3d7,_3d8);if(_3d9){newv+=_3d8;}else{break;}}else{if(_3d8===_3d7){newv+=_3d7;}else{break;}}i++;}}newv+=this.spanMask.charAt(i);}this.spanMask=newv;this.domNode.value=newv;dom.selectTextRange(this.domNode,_3d6+1,_3d6+1);},onKeyPress:function(evt){if(this.isReadOnly()){return;}var _3da=(evt.keyCode===0)?evt.which:evt.keyCode;var ctrl=evt.metaKey?evt.metaKey:evt.ctrlKey;if(ctrl){return true;}this._selection=null;switch(_3da){case 13:break;case 27:break;case _3bf.TAB:break;case 46:this.performDelete(evt);evt.preventDefault();return false;break;case 8:this.performBackspace(evt);evt.preventDefault();return false;break;default:if(this.performKeyPress(evt)){evt.preventDefault();return false;}}},performBackspace:function(){var poss=dom.getSelection(this.domNode);var _3db="";var _3dc=this.domNode.value;var _3dd=(poss.start===poss.end);for(var i=this.displayMask.length;0<=i;i--){var _3de=_3dc.charAt(i);var _3df=this.displayMask.charAt(i);if((_3dd&&(i===poss.start-1))||(i>=(poss.start)&&i<(poss.end))||_3de==null){_3db=_3df+_3db;}else{_3db=_3de+_3db;}}this.domNode.value=this.spanMask=_3db;var _3e0=(poss.start<=0)?0:_3dd?poss.start-1:poss.start;dom.selectTextRange(this.domNode,_3e0,_3e0);},performDelete:function(){var _3e1=dom.getSelection(this.domNode);if(_3e1.start===_3e1.end){_3e1.end=_3e1.start+1;}var _3e2="";var _3e3=this.domNode.value;for(var i=0;i<this.displayMask.length;i++){if(i>=_3e1.start&&i<_3e1.end){_3e2+=this.displayMask.substr(i,1);}else{_3e2+=_3e3.substr(i,1);}}this.domNode.value=this.spanMask=_3e2;dom.selectTextRange(this.domNode,_3e1.start,_3e1.start);},_findFirstEditablePosition:function(_3e4){for(var i=_3e4;i<this.mask.length;i++){if(this.isEditable(this.mask.charAt(i))){return i;}}return -1;},performKeyPress:function(evt){var _3e5=(evt.keyCode===0)?evt.which:evt.keyCode;if(evt.charCode==null){var _3e6=evt.shiftKey;switch(evt.keyCode){case 9:case 8:case 13:case 16:case 17:case 18:case 20:case 27:case 33:case 34:if(_3e6){break;}case 35:case 36:return false;}}else{if(evt.charCode===0){return false;}}var _3e7=(String.fromCharCode(_3e5));if(_3e7.match(/[a-zA-Z0-9]/)!=null){var _3e8="";var pos=dom.getCursorPosition(this.domNode);var _3e9=this.spanMask;var _3ea=this._findFirstEditablePosition(pos);if(_3ea!==-1&&_3c8(this.mask.substr(_3ea,1),_3e7)){pos=_3ea;}var _3eb=pos;for(var i=0;i<this.displayMask.length;i++){var _3ec=_3e9.substr(i,1);var _3ed=this.mask.substr(i,1);if(i!=pos){if(this.isEditable(_3ed)){_3e8+=_3ec;}else{_3e8+=_3ed;}}else{if(_3c8(_3ed,_3e7)){++_3eb;_3e8+=_3e7;var _3ee;var _3ef=i;while((_3ee=this.mask.substr(++_3ef,1))!=""){if(!this.isEditable(_3ee)){++_3eb;}else{break;}}}else{_3e8+=_3ec;}}}this.spanMask=_3e8;this.domNode.value=_3e8;dom.selectTextRange(this.domNode,_3eb,_3eb);}return true;},isEditable:function(str){return (str==="9"||str==="U"||str==="L"||str==="Z"||str==="*");},isReadOnly:function(){return this.domNode.readOnly;},destroy:function(){_3c1.forEach(this._connects,function(_3f0){_3f0.remove();});this._connects=null;}});return _3cb;});},"mxui/widget":function(){define(["mxui/widget/_Button","mxui/widget/_WidgetBase","mxui/widget/_Widget","mxui/html/parser","mxui/dom","mendix/lang","mendix/logger","dijit/_Widget","dijit/registry","dojo/dom-geometry","dojo/_base/kernel","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","exports"],function(_3f1,_3f2,_3f3,_3f4,dom,lang,_3f5,_3f6,_3f7,_3f8,_3f9,_3fa,_3fb,_3fc,_3fd){_3fd.findWidgetByMxId=function(mxid,root){var node=root.querySelector("[data-mendix-id='"+mxid+"']");return node?_3f7.byNode(node)||null:null;};_3fd.getDisableables=function(node){var list=[];var run=function(node){var _3fe=node.childNodes;for(var i=0,_3ff;_3ff=_3fe[i];i++){if(_3ff.nodeType!=1){continue;}var id=_3ff.getAttribute("widgetId"),_400=_3f7.byId(id);if(_400&&!(/^dijit/.test(id)||_400._btn_||_400 instanceof _3f1)){list.push(_400);}if(!(_400 instanceof _3f2)){run(_3ff);}}};run(node);return list;};_3fd.findNonPlaceholderParent=function(node){var pn=node.parentNode;while(pn&&pn.hasAttribute("data-mx-placeholder")){pn=pn.parentNode;}return pn;};_3fd.resizeWidgetsIn=function(root,_401){var _402=_3f7.findWidgets(root);if(!_401&&_402.length==1&&root.children.length==1&&_402[0].domNode.parentNode.children.length==1){var _403=_402[0],_404=_3fd.findNonPlaceholderParent(_403.domNode);if(_404==root||_404==_403.mxform.domNode){var box=_3f8.getContentBox(root);var _405=_403.domNode.style;_405.marginTop=_405.marginBottom="0";_403.resize({w:box.w,h:box.h});return;}}_3fa.forEach(_402,function(_406){_406.resize();});};_3fd.fireOnReady=function(_407,_408){var _409=[];dojo.forEach(_407,function(w){if(w.addOnLoad){_409.push(function(h){w.addOnLoad(h);});}});lang.sequence(_409,_408);};_3fd.destroyWidgetsIn=function(node){var _40a=_3f7.findWidgets(node),_40b=_3fd.getDescendantWidgets(node);_3fa.forEach(_40a,function(_40c){try{_40c.destroyRecursive();}catch(e){_3f5.error(_40c.id+".destroy: Unable to destroy:"+e.message);}});_3fa.forEach(_40b,function(_40d){if(!_40d._destroyed){_3f5.error(_40d.id+": widget not destroyed, check parent's uninitialize method");}});};function _40e(_40f,_410,_411){var _412=[],i=_40f.length;while(i--){var _413=_40f[i].prototype,fnc=_413[_411];if(fnc){_412.push(fnc);}}return _412.length?function(){for(var i=0,_414;_414=_412[i];i++){try{_414.call(this);}catch(e){var _415=_414.ctor&&_414.ctor.prototype,_416=(_415&&_415.declaredClass)||"some";_3f5.error(this.id+"."+_410+": Can not execute "+_411+" function of "+_416+" addon :"+e.message);}}}:function(){};};function _417(_418,_419,_41a){var _41b=function(args){if(this instanceof arguments.callee){var _41c=(args&&args.callee==arguments.callee)?args:arguments;try{if(_418){_418.apply(this,_41c);}}catch(e){var _41d=typeof e=="string"?e:e.message;_3f5.error(this.id+".Unable to render widget. ERROR: "+_41d);this.loaded();this._broken=true;this._brokenError=_41d;var _41e=this.domNode&&this.domNode.parentNode,_41f=dom.div({refWidgetId:this.id,style:"color:red"},"Unable to render "+this.id+" widget: "+_41d);if(_41e){_41e.removeChild(this.domNode);_41e.appendChild(_41f);}else{var node=(arguments.length==2&&arguments[1].nodeName)?arguments[1]:null;if(node&&node.parentNode){node.parentNode.appendChild(_41f);}}}}else{if(_419){var _420=(arguments.callee.caller)?"from scope "+arguments.callee.caller.toString():"from unknown scope";}return new arguments.callee(arguments);}};if(_418){for(var x in _418){_41b[x]=_418[x];}_41b.prototype=_418.prototype;_41b.prototype.constructor=_41b;}return _41b;};function _421(_422){var _423=[];for(var i=0,l=_422.length;i<l;i++){var _424=_422[i],cons=(typeof _424=="string")?_3fb.getObject(_424):_424;if(cons==null||typeof (cons)=="object"){throw new Error("mxui/widget/declare: Mixin '"+_424.toString()+"' is not loaded! Maybe it's broken???");}_423.push(cons);}return _423;};function _425(_426,_427,_428){var _429=function(_42a){var _42b=_42a.inputargs,_42c=false;if(_42b instanceof Array){var _42d={};for(var i=0,l=_42b.length;i<l;i++){if(typeof _42b[i]=="object"){for(var x in _42b[i]){_42d[x]=_42b[i][x];break;}_42c=true;}else{_42d[_42b[i]]="";}}if(_42c){}_42b=_42d;}if(_42b){var _42e=_426.__inputargs?_426.__inputargs:(_426.__inputargs={});for(var j in _42b){_42e[j]=_426[j]=_42b[j];}}};for(var k=0,l=_427.length;k<l;k++){var _42f=_427[k].prototype;_429(_42f);}_429(_426);for(var m=0,n=_428.length;m<n;m++){var _430=_428[m].prototype;_429(_430);}};_3fd.declare=function(_431,_432){var _433=_432.superclass||_3f6,_434=_432.mixins||[],_435=_431.split(".");if(_435.length==1){_431="mxui.widget."+_435;_435=_431.split(".");}var _436=_433.prototype._mx_?[_433]:[_433,_3f3];var _437=_436.concat(_421(_434)),_438=_435.pop();_432.moduleName=_435.join(".");_432.className=_438;_432.initializer=_40e(_437,"create","initialize");_432.uninitializer=_40e(_437,"destroy","uninitialize");_425(_432,_436,_434);var _439=_3fc(_431,_437,_432);var _43a=_417(_439,true,_431);return _3fb.setObject(_431,_43a);};_3fd.createCSSMap=function(_43b,css){for(var i in css){css[i]=_43b+"-"+css[i];}css.baseClass=_43b;return css;};_3fd.getDescendantWidgets=function(node){return node?_3fa.map(node.querySelectorAll("[widgetid]"),_3f7.byNode):[];};_3fd.loadWidgetsIn=function(_43c,_43d,_43e,_43f){_3f4.parse(_43c,_43d);var _440=_3f7.findWidgets(_43c);lang.collect(_3fa.map(_440,function(_441){var _442=_3fd.getDescendantWidgets(_441.domNode),_443=_442.concat([_441]);return function(_444){_3fd.fireOnReady(_443,function(){_3fd.applyContext([_441],_43e,_444);});};}),_43f);};_3fd.ready=function(_445,_446,_447){var _448=[];_3fa.forEach(_445,function(_449){if(_449.addOnLoad){_448.push(function(_44a){_449.addOnLoad(_44a);});}});lang.collect(_448,_446,_447);};_3fd.applyContext=function(_44b,_44c,_44d){lang.collect(_3fa.map(_44b,function(_44e){if(_44e.applyContext){return function(cb){try{_44e.applyContext(_44c,cb);}catch(e){throw new Error(_44e.id+".applyContext: "+e);}};}else{return function(cb){try{var _44f=_3f7.findWidgets(_44e.domNode);_3fd.applyContext(_44f,_44c,cb);}catch(e){throw new Error(_44e.id+".applyContext: "+e);}};}}),_44d);};});},"mxui/widget/_Button":function(){define(["mxui/widget/_WidgetBase","mxui/dom","webcore/url-helpers","dojo/_base/lang","dojo/_base/event","dojo/_base/declare"],function(_450,_451,_452,_453,_454,_455){var $=_451.create;var _456=_455(_450,{declaredClass:"mxui.widget._Button",renderType:"button",iconUrl:"",iconClass:"",cssClasses:null,cssStyle:"",_textNode:null,_iconNode:null,_isCls:false,buildRendering:function(){this._textNode=document.createTextNode("");var _457={};if(this.cssStyle){_457={"style":this.cssStyle};}var _458=this.cssClasses||[];if(typeof _458==="string"){_458=[_458];}var _459=_458.join(" ");if(this.renderType==="link"){this.domNode=$("span",_453.mixin(_457,{"class":"mx-link"+" "+_459})," ",$("a",{tabindex:-1},this._textNode)," ");}else{this.domNode=$("button",_453.mixin(_457,{"type":"button","class":"btn mx-button "+_459})," ",this._textNode," ");}this._connectEvents();},_connectEvents:function(){this.connect(this.domNode,"click","_onClick");this.connect(this.domNode,"keyup","onKeyUp");},onClick:function(e){},onKeyUp:function(e){},_onClick:function(e){_454.stop(e);this.domNode.focus();this.onClick(e);},checkDisabled:function(){return this._disabled;},enable:function(){if(this.renderType=="button"){this.domNode.removeAttribute("disabled");}},disable:function(){if(this.renderType=="button"){this.domNode.setAttribute("disabled","disabled");}},_setCaptionAttr:function(_45a){this._textNode.nodeValue=_45a;},_setIconClassAttr:function(cls){this._setIcon(cls,true);},_setIconUrlAttr:function(img){this._setIcon(img,false);},_setIconVisibleAttr:function(_45b){this._iconNode.style.display=_45b?"":"none";},_setIcon:function(name,_45c){if(this._iconNode){_451.orphan(this._iconNode);this._iconNode=null;}if(name){this._iconNode=_45c?$("span",{"class":"glyphicon "+name}):$("img",{src:_452.getStaticResourceUrlFromPath(name)});this.domNode.insertBefore(this._iconNode,this.domNode.firstChild);}},_setFocusIndexAttr:function(_45d){this.domNode.setAttribute("tabindex",_45d);}});return _456;});},"mxui/widget/_WidgetBase":function(){define(["mxui/dom","mxui/widget","mxui/html/parser","mendix/lang","mendix/lib/MxContext","mendix/logger","dijit/_WidgetBase","dijit/registry","dojo/dom-attr","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dijit/_base"],function(_45e,_45f,_460,_461,_462,_463,_464,_465,_466,_467,_468,_469){var _46a=_469(_464,{declaredClass:"mxui.widget._WidgetBase",mxid:"",uniqueid:"",mxform:null,mxcontext:null,doParse:true,readOnly:false,ignoreUpdates:false,autoLoad:true,_loaded:false,_destroyed:false,_disabled:false,_cachedDisabled:false,_loadCalls:null,_destroyCalls:null,_listeners:null,_subscriptions:null,"-chains-":{constructor:"after",uninitialize:"before"},constructor:function(_46b,node){this._loadCalls=[];this._destroyCalls=[];this._listeners=[];this._subscriptions=[];this.mxcontext=new _462();if(this.autoLoad){this.set("loaded",true);}this._cachedDisabled=this.readOnly;},getTemplate:function(name){return window.mx.ui.getTemplate(this.mxid,name);},parseContent:function(node,_46c,_46d){var _46e={mxform:this.mxform,validator:this.validator,ignoreUpdates:this.ignoreUpdates};if(this.readOnly){_46e.readOnly=true;}if(this.doParse){return _460[_46d?"parseTopLevel":"parse"](node||this.domNode,_468.mixin(_46e,_46c),this.uniqueid);}else{return [];}},getChildren:function(_46f){if(_46f){return _45f.getDescendantWidgets(this.domNode);}else{return _465.findWidgets(this.domNode);}},resizeChildren:function(node,_470){return _45f.resizeWidgetsIn(node,_470);},applyContext:function(_471,_472){var _473=this.mxcontext;if(this.contextAction!=="reset"){_473.mixin(_471);if(this.dropContext){for(var i=0,_474;_474=this.dropContext[i];i++){_473.unsetContext(_474);}}}else{if(this.preserveTrackObject){if(_471){_473.setObject(_471.getTrackObject(),_471.getTrackEntity(),_471.getTrackId());}else{_473.setObject(null);}}}if(typeof this.update=="function"){var self=this;window.mx.data.getObjectFromContext(_473,function(obj){try{self.update(obj,_472);}catch(e){throw new Error(self.id+".applyContext: "+e);}});}else{var _475=_465.findWidgets(this.domNode);this.passContext(_475,_471,_472);}},passContext:function(_476,_477,_478){if(typeof _477=="function"){_478=_477;_477=this.mxcontext;}else{_477=_477||this.mxcontext;}_45f.applyContext(_476,_477,_468.hitch(this,_478));},subscribe:function(sub){if(this.ignoreUpdates){return;}var _479=window.mx.data.subscribe(sub,this);this._subscriptions.push(_479);return _479;},unsubscribe:function(_47a){if(this.ignoreUpdates){return;}var list=this._subscriptions;for(var i=0,_47b;_47b=list[i];i++){if(_47b==_47a){window.mx.data.unsubscribe(_47a);list.splice(i,1);break;}}},unsubscribeAll:function(){var subs=this._subscriptions;while(subs.length){window.mx.data.unsubscribe(subs.pop());}},listen:function(_47c,_47d){var _47e=this.mxform.listen(_47c,_468.hitch(this,_47d));this._listeners.push(_47e);return _47e;},unlisten:function(_47f){var list=this._listeners;for(var i=0,_480;_480=list[i];i++){if(_480==_47f){this.mxform.unlisten(_47f);list.splice(i,1);break;}}},capture:function(_481,evt,_482){var _483=_45e.capture(_481,evt,_468.hitch(this,_482));this.addOnDestroy(_483.remove);},collect:function(_484,_485){_461.collect(_484,_485,this);},sequence:function(_486,_487){_461.sequence(_486,_487,this);},translate:function(str,args,_488){return window.mx.ui.translate(this.declaredClass,str,args,_488);},domData:function(){this.domData=_45e.getScopedData();return this.domData.apply(this,arguments);},checkDisabled:function(){return this.readOnly||this._disabled;},updateDisabled:function(){this.set("disabled",undefined);},_getDisabledAttr:function(){return this._cachedDisabled;},_setDisabledAttr:function(_489){if(_489!=null){this._disabled=!!_489;}_489=this.checkDisabled();if(_489!==this._cachedDisabled){this._cachedDisabled=_489;if(_489){this.disable();}else{this.enable();}}},enable:function(){},disable:function(){},resize:function(box){this.resizeChildren(this.domNode,!box);},_setMxidAttr:function(_48a){_466.set(this.domNode,"data-mendix-id",_48a);},_setFocusIndexAttr:function(_48b){if(_48b!=null){_466.set(this.domNode,"focusindex",_48b);}},_getLoadedAttr:function(){return this._loaded;},_setLoadedAttr:function(_48c){this._loaded=!!_48c;if(_48c){var _48d=this._loadCalls;while(_48d.length){_48d.shift()();}}},actLoaded:function(_48e){this.set("loaded",true);_48e&&_48e();},addOnLoad:function(func){this._loaded?func():this._loadCalls.push(func);},addOnDestroy:function(func){this._destroyed?func():this._destroyCalls.push(func);},destroy:function(_48f){this._beingDestroyed=true;try{this.uninitialize();}catch(e){throw new Error(this.id+".uninitialize: "+e);}function _490(w){if(w.destroyRecursive){w.destroyRecursive(_48f);}else{if(w.destroy){w.destroy(_48f);}}};_467.forEach(this._connects,_468.hitch(this,"disconnect"));_467.forEach(this._supportingWidgets,_490);if(this.domNode){_467.forEach(_465.findWidgets(this.domNode),_490);}this.destroyRendering(_48f);_465.remove(this.id);this._destroyed=true;},destroyRendering:function(){var _491=this.domNode,_492=this.srcNodeRef;this.inherited(arguments,[true]);if(_491){_45e.orphan(_491);}this.domNode=_491;this.srcNodeRef=_492;},uninitialize:function(){if(this._loaded){var list=this._listeners,_493=this._destroyCalls;while(list.length){this.mxform.unlisten(list.pop());}this.unsubscribeAll();while(_493.length){_493.shift().call(this);}}else{_463.error(this.id+".uninitialize: widget not loaded yet, check widget structure");this.addOnLoad(_468.hitch(this,function(){try{this.uninitialize();}catch(e){throw new Error(this.id+".unitialize: "+e);}}));}}});return _46a;});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_494,_495,_496,_497,_498,_499,dom,_49a,_49b,_49c,_49d,_49e,has,_49f,lang,on,_4a0,_4a1,_4a2,win,_4a3,_4a4,_4a5){has.add("dijit-legacy-requires",!_49f.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){_4a0(0,function(){var _4a6=["dijit/_base/manager"];_494(_4a6);});}var _4a7={};function _4a8(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;};function _4a9(attr){return function(val){_49a[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};};function _4aa(a,b){return a===b||(a!==a&&b!==b);};var _4ab=_499("dijit._WidgetBase",[_4a1,_4a3],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_4a9("lang"),dir:"",_setDirAttr:_4a9("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_497.blankGif||_494.toUrl("dojo/resources/blank.gif"),_introspect:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var _4ac=ctor.prototype,_4ad=ctor._setterAttrs=[],_4ae=(ctor._onMap={});for(var name in _4ac.attributeMap){_4ad.push(name);}for(name in _4ac){if(/^on/.test(name)){_4ae[name.substring(2).toLowerCase()]=name;}if(/^_set[A-Z](.*)Attr$/.test(name)){name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);if(!_4ac.attributeMap||!(name in _4ac.attributeMap)){_4ad.push(name);}}}}},postscript:function(_4af,_4b0){this.create(_4af,_4b0);},create:function(_4b1,_4b2){this._introspect();this.srcNodeRef=dom.byId(_4b2);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_4b1){this.params=_4b1;lang.mixin(this,_4b1);}this.postMixInProperties();if(!this.id){this.id=_4a5.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_4a5.add(this);this.buildRendering();var _4b3;if(this.domNode){this._applyAttributes();var _4b4=this.srcNodeRef;if(_4b4&&_4b4.parentNode&&this.domNode!==_4b4){_4b4.parentNode.replaceChild(this.domNode,_4b4);_4b3=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_4b3){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _4b5={};for(var key in this.params||{}){_4b5[key]=this._get(key);}_495.forEach(this.constructor._setterAttrs,function(key){if(!(key in _4b5)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _4b5){this.set(key,_4b5[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _4b6=this.baseClass.split(" ");if(!this.isLeftToRight()){_4b6=_4b6.concat(_495.map(_4b6,function(name){return name+"Rtl";}));}_49b.add(this.domNode,_4b6);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_495.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_4b7){this._beingDestroyed=true;this.destroyDescendants(_4b7);this.destroy(_4b7);},destroy:function(_4b8){this._beingDestroyed=true;this.uninitialize();function _4b9(w){if(w.destroyRecursive){w.destroyRecursive(_4b8);}else{if(w.destroy){w.destroy(_4b8);}}};_495.forEach(this._connects,lang.hitch(this,"disconnect"));_495.forEach(this._supportingWidgets,_4b9);if(this.domNode){_495.forEach(_4a5.findWidgets(this.domNode,this.containerNode),_4b9);}this.destroyRendering(_4b8);_4a5.remove(this.id);this._destroyed=true;},destroyRendering:function(_4ba){if(this.bgIframe){this.bgIframe.destroy(_4ba);delete this.bgIframe;}if(this.domNode){if(_4ba){_49a.remove(this.domNode,"widgetId");}else{_49c.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_4ba){_49c.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_4bb){_495.forEach(this.getChildren(),function(_4bc){if(_4bc.destroyRecursive){_4bc.destroyRecursive(_4bb);}});},uninitialize:function(){return false;},_setStyleAttr:function(_4bd){var _4be=this.domNode;if(lang.isObject(_4bd)){_49e.set(_4be,_4bd);}else{if(_4be.style.cssText){_4be.style.cssText+="; "+_4bd;}else{_4be.style.cssText=_4bd;}}this._set("style",_4bd);},_attrToDom:function(attr,_4bf,_4c0){_4c0=arguments.length>=3?_4c0:this.attributeMap[attr];_495.forEach(lang.isArray(_4c0)?_4c0:[_4c0],function(_4c1){var _4c2=this[_4c1.node||_4c1||"domNode"];var type=_4c1.type||"attribute";switch(type){case "attribute":if(lang.isFunction(_4bf)){_4bf=lang.hitch(this,_4bf);}var _4c3=_4c1.attribute?_4c1.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);if(_4c2.tagName){_49a.set(_4c2,_4c3,_4bf);}else{_4c2.set(_4c3,_4bf);}break;case "innerText":_4c2.innerHTML="";_4c2.appendChild(this.ownerDocument.createTextNode(_4bf));break;case "innerHTML":_4c2.innerHTML=_4bf;break;case "class":_49b.replace(_4c2,_4bf,this[attr]);break;}},this);},get:function(name){var _4c4=this._getAttrNames(name);return this[_4c4.g]?this[_4c4.g]():this._get(name);},set:function(name,_4c5){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _4c6=this._getAttrNames(name),_4c7=this[_4c6.s];if(lang.isFunction(_4c7)){var _4c8=_4c7.apply(this,Array.prototype.slice.call(arguments,1));}else{var _4c9=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_4c9]&&this[_4c9].tagName,_4ca=tag&&(_4a7[tag]||(_4a7[tag]=_4a8(this[_4c9]))),map=name in this.attributeMap?this.attributeMap[name]:_4c6.s in this?this[_4c6.s]:((_4ca&&_4c6.l in _4ca&&typeof _4c5!="function")||/^aria-|^data-|^role$/.test(name))?_4c9:null;if(map!=null){this._attrToDom(name,_4c5,map);}this._set(name,_4c5);}return _4c8||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_4cb){var _4cc=this[name];this[name]=_4cb;if(this._created&&!_4aa(_4cc,_4cb)){if(this._watchCallbacks){this._watchCallbacks(name,_4cc,_4cb);}this.emit("attrmodified-"+name,{detail:{prevValue:_4cc,newValue:_4cb}});}},_get:function(name){return this[name];},emit:function(type,_4cd,_4ce){_4cd=_4cd||{};if(_4cd.bubbles===undefined){_4cd.bubbles=true;}if(_4cd.cancelable===undefined){_4cd.cancelable=true;}if(!_4cd.detail){_4cd.detail={};}_4cd.detail.widget=this;var ret,_4cf=this["on"+type];if(_4cf){ret=_4cf.apply(this,_4ce?_4ce:[_4cd]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,type.toLowerCase(),_4cd);}return ret;},on:function(type,func){var _4d0=this._onMap(type);if(_4d0){return _496.after(this,_4d0,func,true);}return this.own(on(this.domNode,type,func))[0];},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[typeof type=="string"&&type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_4a5.findWidgets(this.containerNode):[];},getParent:function(){return _4a5.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_4d1,_4d2){return this.own(_498.connect(obj,_4d1,this,_4d2))[0];},disconnect:function(_4d3){_4d3.remove();},subscribe:function(t,_4d4){return this.own(_4a2.subscribe(t,lang.hitch(this,_4d4)))[0];},unsubscribe:function(_4d5){_4d5.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_49d.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_49e.get(this.domNode,"display")!="none");},placeAt:function(_4d6,_4d7){var _4d8=!_4d6.tagName&&_4a5.byId(_4d6);if(_4d8&&_4d8.addChild&&(!_4d7||typeof _4d7==="number")){_4d8.addChild(this,_4d7);}else{var ref=_4d8&&("domNode" in _4d8)?(_4d8.containerNode&&!/after|before|replace/.test(_4d7||"")?_4d8.containerNode:_4d8.domNode):dom.byId(_4d6,this.ownerDocument);_49c.place(this.domNode,ref,_4d7);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,_4d9){var _4da=setTimeout(lang.hitch(this,function(){if(!_4da){return;}_4da=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),_4d9||0);return {remove:function(){if(_4da){clearTimeout(_4da);_4da=null;}return null;}};}});if(has("dojo-bidi")){_4ab.extend(_4a4);}return _4ab;});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_4db,_4dc,_4dd){return _4dd("dijit.Destroyable",null,{destroy:function(_4de){this._destroyed=true;},own:function(){var _4df=["destroyRecursive","destroy","remove"];_4db.forEach(arguments,function(_4e0){var _4e1;var odh=_4dc.before(this,"destroy",function(_4e2){_4e0[_4e1](_4e2);});var hdhs=[];function _4e3(){odh.remove();_4db.forEach(hdhs,function(hdh){hdh.remove();});};if(_4e0.then){_4e1="cancel";_4e0.then(_4e3,_4e3);}else{_4db.forEach(_4df,function(_4e4){if(typeof _4e0[_4e4]==="function"){if(!_4e1){_4e1=_4e4;}hdhs.push(_4dc.after(_4e0,_4e4,_4e3,true));}});}},this);return arguments;}});});},"dijit/_base":function(){define(["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_4e5){return _4e5._base;});},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(_4e6,_4e7,_4e8,_4e9){var _4ea=_4e7("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_4eb){if(this._hash[_4eb.id]){throw new Error("Tried to register widget with id=="+_4eb.id+" but that id is already registered");}this._hash[_4eb.id]=_4eb;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_4ec){_4ec=_4ec||_4e8.global;var i=0,id;for(id in this._hash){func.call(_4ec,this._hash[id],i++,this._hash);}return this;},filter:function(_4ed,_4ee){_4ee=_4ee||_4e8.global;var res=new _4ea(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_4ed.call(_4ee,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new _4ea(),id,_4ef;for(id in this._hash){_4ef=this._hash[id];if(_4ef.declaredClass==cls){res.add(_4ef);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_4f0){return _4e6.map(this.toArray(),func,_4f0);},every:function(func,_4f1){_4f1=_4f1||_4e8.global;var x=0,i;for(i in this._hash){if(!func.call(_4f1,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_4f2){_4f2=_4f2||_4e8.global;var x=0,i;for(i in this._hash){if(func.call(_4f2,this._hash[i],x++,this._hash)){return true;}}return false;}});_4e6.forEach(["forEach","filter","byClass","map","every","some"],function(func){_4e9[func]=_4ea.prototype[func];});return _4ea;});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_4f3,_4f4,lang,_4f5,_4f6){var _4f7={};_4f3.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_4f7[name]=_4f5[name];});lang.mixin(_4f7,{defaultDuration:_4f4["defaultDuration"]||200});lang.mixin(_4f6,_4f7);return _4f6;});},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(_4f8,lang,_4f9,_4fa,_4fb){var _4fc={};_4fc.getViewport=function(){return _4f9.getBox();};_4fc.placeOnScreen=_4fa.at;_4fc.placeOnScreenAroundElement=function(node,_4fd,_4fe,_4ff){var _500;if(lang.isArray(_4fe)){_500=_4fe;}else{_500=[];for(var key in _4fe){_500.push({aroundCorner:key,corner:_4fe[key]});}}return _4fa.around(node,_4fd,_500,true,_4ff);};_4fc.placeOnScreenAroundNode=_4fc.placeOnScreenAroundElement;_4fc.placeOnScreenAroundRectangle=_4fc.placeOnScreenAroundElement;_4fc.getPopupAroundAlignment=function(_501,_502){var _503={};_4f8.forEach(_501,function(pos){var ltr=_502;switch(pos){case "after":_503[_502?"BR":"BL"]=_502?"BL":"BR";break;case "before":_503[_502?"BL":"BR"]=_502?"BR":"BL";break;case "below-alt":ltr=!ltr;case "below":_503[ltr?"BL":"BR"]=ltr?"TL":"TR";_503[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above-alt":ltr=!ltr;case "above":default:_503[ltr?"TL":"TR"]=ltr?"BL":"BR";_503[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});return _503;};lang.mixin(_4fb,_4fc);return _4fb;});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_504,_505,_506,_507,win,_508,_509){function _50a(node,_50b,_50c,_50d){var view=_508.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_504.some(_50b,function(_50e){var _50f=_50e.corner;var pos=_50e.pos;var _510=0;var _511={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_50f.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_50f.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_50c){var res=_50c(node,_50e.aroundCorner,_50f,_511,_50d);_510=typeof res=="undefined"?0:res;}var _512=node.style;var _513=_512.display;var _514=_512.visibility;if(_512.display=="none"){_512.visibility="hidden";_512.display="";}var bb=_505.position(node);_512.display=_513;_512.visibility=_514;var _515={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_50f.charAt(1)],_516={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_50f.charAt(0)],_517=Math.max(view.l,_515),_518=Math.max(view.t,_516),endX=Math.min(view.l+view.w,_515+bb.w),endY=Math.min(view.t+view.h,_516+bb.h),_519=endX-_517,_51a=endY-_518;_510+=(bb.w-_519)+(bb.h-_51a);if(best==null||_510<best.overflow){best={corner:_50f,aroundCorner:_50e.aroundCorner,x:_517,y:_518,w:_519,h:_51a,overflow:_510,spaceAvailable:_511};}return !_510;});if(best.overflow&&_50c){_50c(node,best.aroundCorner,best.corner,best.spaceAvailable,_50d);}var top=best.y,side=best.x,body=win.body(node.ownerDocument);if(/relative|absolute/.test(_506.get(body,"position"))){top-=_506.get(body,"marginTop");side-=_506.get(body,"marginLeft");}var s=node.style;s.top=top+"px";s.left=side+"px";s.right="auto";return best;};var _51b={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};var _51c={at:function(node,pos,_51d,_51e,_51f){var _520=_504.map(_51d,function(_521){var c={corner:_521,aroundCorner:_51b[_521],pos:{x:pos.x,y:pos.y}};if(_51e){c.pos.x+=_521.charAt(1)=="L"?_51e.x:-_51e.x;c.pos.y+=_521.charAt(0)=="T"?_51e.y:-_51e.y;}return c;});return _50a(node,_520,_51f);},around:function(node,_522,_523,_524,_525){var _526;if(typeof _522=="string"||"offsetWidth" in _522||"ownerSVGElement" in _522){_526=_505.position(_522,true);if(/^(above|below)/.test(_523[0])){var _527=_505.getBorderExtents(_522),_528=_522.firstChild?_505.getBorderExtents(_522.firstChild):{t:0,l:0,b:0,r:0},_529=_505.getBorderExtents(node),_52a=node.firstChild?_505.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};_526.y+=Math.min(_527.t+_528.t,_529.t+_52a.t);_526.h-=Math.min(_527.t+_528.t,_529.t+_52a.t)+Math.min(_527.b+_528.b,_529.b+_52a.b);}}else{_526=_522;}if(_522.parentNode){var _52b=_506.getComputedStyle(_522).position=="absolute";var _52c=_522.parentNode;while(_52c&&_52c.nodeType==1&&_52c.nodeName!="BODY"){var _52d=_505.position(_52c,true),pcs=_506.getComputedStyle(_52c);if(/relative|absolute/.test(pcs.position)){_52b=false;}if(!_52b&&/hidden|auto|scroll/.test(pcs.overflow)){var _52e=Math.min(_526.y+_526.h,_52d.y+_52d.h);var _52f=Math.min(_526.x+_526.w,_52d.x+_52d.w);_526.x=Math.max(_526.x,_52d.x);_526.y=Math.max(_526.y,_52d.y);_526.h=_52e-_526.y;_526.w=_52f-_526.x;}if(pcs.position=="absolute"){_52b=true;}_52c=_52c.parentNode;}}var x=_526.x,y=_526.y,_530="w" in _526?_526.w:(_526.w=_526.width),_531="h" in _526?_526.h:(_507.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_526.height+", width:"+_530+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_526.height+", w:"+_530+" }","","2.0"),_526.h=_526.height);var _532=[];function push(_533,_534){_532.push({aroundCorner:_533,corner:_534,pos:{x:{"L":x,"R":x+_530,"M":x+(_530>>1)}[_533.charAt(1)],y:{"T":y,"B":y+_531,"M":y+(_531>>1)}[_533.charAt(0)]}});};_504.forEach(_523,function(pos){var ltr=_524;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _535=_50a(node,_532,_525,{w:_530,h:_531});_535.aroundNodePos=_526;return _535;}};return _509.place=_51c;});},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_536,on,_537,has,_538){var _539=new _536();var _53a;_537(function(){var _53b=_538.getBox();_539._rlh=on(window,"resize",function(){var _53c=_538.getBox();if(_53b.h==_53c.h&&_53b.w==_53c.w){return;}_53b=_53c;_539.emit("resize");});if(has("ie")==8){var _53d=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_53d){_53d=screen.deviceXDPI;_539.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_53a=evt.target;});on(document,"focusout",function(evt){_53a=null;});}});_539.getEffectiveBox=function(doc){var box=_538.getBox(doc);var tag=_53a&&_53a.tagName&&_53a.tagName.toLowerCase();if(has("ios")&&_53a&&!_53a.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_53a.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_53a.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _539;});},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_53e,win,_53f){var _540=_53f._createWrapper;_53f._createWrapper=function(_541){if(!_541.declaredClass){_541={_popupWrapper:(_541.parentNode&&_53e.contains(_541.parentNode,"dijitPopup"))?_541.parentNode:null,domNode:_541,destroy:function(){},ownerDocument:_541.ownerDocument,ownerDocumentBody:win.body(_541.ownerDocument)};}return _540.call(this,_541);};var _542=_53f.open;_53f.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _542.call(this,args);};return _53f;});},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(_543,_544,_545,dom,_546,_547,_548,_549,has,keys,lang,on,_54a,_54b,_54c,_54d){function _54e(){if(this._popupWrapper){_547.destroy(this._popupWrapper);delete this._popupWrapper;}};var _54f=_545(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var _550=this._firstAroundPosition,_551=_548.position(this._firstAroundNode,true),dx=_551.x-_550.x,dy=_551.y-_550.y;if(dx||dy){this._firstAroundPosition=_551;for(var i=0;i<this._stack.length;i++){var _552=this._stack[i].wrapper.style;_552.top=(parseFloat(_552.top)+dy)+"px";if(_552.right=="auto"){_552.left=(parseFloat(_552.left)+dx)+"px";}else{_552.right=(parseFloat(_552.right)-dx)+"px";}}}this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);}},_createWrapper:function(_553){var _554=_553._popupWrapper,node=_553.domNode;if(!_554){_554=_547.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_553["aria-label"]||_553.label||_553.name||_553.id},_553.ownerDocumentBody);_554.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_553._popupWrapper=_554;_544.after(_553,"destroy",_54e,true);if("ontouchend" in document){on(_554,"touchend",function(evt){if(!/^(input|button|textarea)$/i.test(evt.target.tagName)){evt.preventDefault();}});}}return _554;},moveOffScreen:function(_555){var _556=this._createWrapper(_555);var ltr=_548.isBodyLtr(_555.ownerDocument),_557={visibility:"hidden",top:"-9999px",display:""};_557[ltr?"left":"right"]="-9999px";_557[ltr?"right":"left"]="auto";_549.set(_556,_557);return _556;},hide:function(_558){var _559=this._createWrapper(_558);_549.set(_559,{display:"none",height:"auto",overflow:"visible",border:""});var node=_558.domNode;if("_originalStyle" in node){node.style.cssText=node._originalStyle;}},getTopPopup:function(){var _55a=this._stack;for(var pi=_55a.length-1;pi>0&&_55a[pi].parent===_55a[pi-1].widget;pi--){}return _55a[pi];},open:function(args){var _55b=this._stack,_55c=args.popup,node=_55c.domNode,_55d=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_548.isBodyLtr(_55c.ownerDocument),_55e=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_55b.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_55b[_55b.length-1].widget.domNode))){this.close(_55b[_55b.length-1].widget);}var _55f=this.moveOffScreen(_55c);if(_55c.startup&&!_55c._started){_55c.startup();}var _560,_561=_548.position(node);if("maxHeight" in args&&args.maxHeight!=-1){_560=args.maxHeight||Infinity;}else{var _562=_54c.getEffectiveBox(this.ownerDocument),_563=_55e?_548.position(_55e,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};_560=Math.floor(Math.max(_563.y,_562.h-(_563.y+_563.h)));}if(_561.h>_560){var cs=_549.getComputedStyle(node),_564=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;_549.set(_55f,{overflowY:"scroll",height:_560+"px",border:_564});node._originalStyle=node.style.cssText;node.style.border="none";}_546.set(_55f,{id:id,style:{zIndex:this._beginZIndex+_55b.length},"class":"dijitPopup "+(_55c.baseClass||_55c["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(_55b.length==0&&_55e){this._firstAroundNode=_55e;this._firstAroundPosition=_548.position(_55e,true);this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);}if(has("config-bgIframe")&&!_55c.bgIframe){_55c.bgIframe=new _54b(_55f);}var _565=_55c.orient?lang.hitch(_55c,"orient"):null,best=_55e?_54a.around(_55f,_55e,_55d,ltr,_565):_54a.at(_55f,args,_55d=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_565);_55f.style.visibility="visible";node.style.visibility="visible";var _566=[];_566.push(on(_55f,"keydown",lang.hitch(this,function(evt){if(evt.keyCode==keys.ESCAPE&&args.onCancel){evt.stopPropagation();evt.preventDefault();args.onCancel();}else{if(evt.keyCode==keys.TAB){evt.stopPropagation();evt.preventDefault();var _567=this.getTopPopup();if(_567&&_567.onCancel){_567.onCancel();}}}})));if(_55c.onCancel&&args.onCancel){_566.push(_55c.on("cancel",args.onCancel));}_566.push(_55c.on(_55c.onExecute?"execute":"change",lang.hitch(this,function(){var _568=this.getTopPopup();if(_568&&_568.onExecute){_568.onExecute();}})));_55b.push({widget:_55c,wrapper:_55f,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_566});if(_55c.onOpen){_55c.onOpen(best);}return best;},close:function(_569){var _56a=this._stack;while((_569&&_543.some(_56a,function(elem){return elem.widget==_569;}))||(!_569&&_56a.length)){var top=_56a.pop(),_56b=top.widget,_56c=top.onClose;if(_56b.bgIframe){_56b.bgIframe.destroy();delete _56b.bgIframe;}if(_56b.onClose){_56b.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_56b&&_56b.domNode){this.hide(_56b);}if(_56c){_56c();}}if(_56a.length==0&&this._aroundMoveListener){clearTimeout(this._aroundMoveListener);this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;}}});return (_54d.popup=new _54f());});},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_56d,_56e,_56f,_570,_571,lang,on,has){has.add("config-bgIframe",(has("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent))||(has("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent)));var _572=new function(){var _573=[];this.pop=function(){var _574;if(_573.length){_574=_573.pop();_574.style.display="";}else{if(has("ie")<9){var burl=_56f["dojoBlankHtmlUrl"]||_56d.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_574=document.createElement(html);}else{_574=_570.create("iframe");_574.src="javascript:\"\"";_574.className="dijitBackgroundIframe";_574.setAttribute("role","presentation");_571.set(_574,"opacity",0.1);}_574.tabIndex=-1;}return _574;};this.push=function(_575){_575.style.display="none";_573.push(_575);};}();_56e.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("config-bgIframe")){var _576=(this.iframe=_572.pop());node.appendChild(_576);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,"resize",node));}else{_571.set(_576,{width:"100%",height:"100%"});}}};lang.extend(_56e.BackgroundIframe,{resize:function(node){if(this.iframe){_571.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){this.iframe.parentNode.removeChild(this.iframe);_572.push(this.iframe);delete this.iframe;}}});return _56e.BackgroundIframe;});},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(_577,_578){_578.scrollIntoView=function(node,pos){_577.scrollIntoView(node,pos);};});},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_579,lang,_57a,has,_57b){var html=_57b.doc.documentElement,ie=has("ie"),_57c=has("opera"),maj=Math.floor,ff=has("ff"),_57d=_579.boxModel.replace(/-/,""),_57e={"dj_quirks":has("quirks"),"dj_opera":_57c,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};if(ie){_57e["dj_ie"]=true;_57e["dj_ie"+maj(ie)]=true;_57e["dj_iequirks"]=has("quirks");}if(ff){_57e["dj_ff"+maj(ff)]=true;}_57e["dj_"+_57d]=true;var _57f="";for(var clz in _57e){if(_57e[clz]){_57f+=clz+" ";}}html.className=lang.trim(html.className+" "+_57f);_57a(function(){if(!_579.isBodyLtr()){var _580="dj_rtl dijitRtl "+_57f.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_580+"dj_rtl dijitRtl "+_57f.replace(/ /g,"-rtl "));}});return has;});},"dijit/_base/typematic":function(){define(["../typematic"],function(){});},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_581,_582,lang,on,has,_583){var _584=(_583.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_585,node,_586,obj,_587,_588,_589){if(obj!=this._obj){this.stop();this._initialDelay=_588||500;this._subsequentDelay=_587||0.9;this._minDelay=_589||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_585,_586);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_58a,_58b,_58c,_58d,_58e,_58f){var type="keyCode" in _58a?"keydown":"charCode" in _58a?"keypress":_582._keypress,attr="keyCode" in _58a?"keyCode":"charCode" in _58a?"charCode":"charOrCode";var _590=[on(node,type,lang.hitch(this,function(evt){if(evt[attr]==_58a[attr]&&(_58a.ctrlKey===undefined||_58a.ctrlKey==evt.ctrlKey)&&(_58a.altKey===undefined||_58a.altKey==evt.altKey)&&(_58a.metaKey===undefined||_58a.metaKey==(evt.metaKey||false))&&(_58a.shiftKey===undefined||_58a.shiftKey==evt.shiftKey)){evt.stopPropagation();evt.preventDefault();_584.trigger(evt,_58b,node,_58c,_58a,_58d,_58e,_58f);}else{if(_584._obj==_58a){_584.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_584._obj==_58a){_584.stop();}}))];return {remove:function(){_581.forEach(_590,function(h){h.remove();});}};},addMouseListener:function(node,_591,_592,_593,_594,_595){var _596=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_584.trigger(evt,_591,node,_592,node,_593,_594,_595);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_584.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_584.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_584.trigger(evt,_591,node,_592,node,_593,_594,_595);setTimeout(lang.hitch(this,_584.stop),50);}}))];return {remove:function(){_581.forEach(_596,function(h){h.remove();});}};},addListener:function(_597,_598,_599,_59a,_59b,_59c,_59d,_59e){var _59f=[this.addKeyListener(_598,_599,_59a,_59b,_59c,_59d,_59e),this.addMouseListener(_597,_59a,_59b,_59c,_59d,_59e)];return {remove:function(){_581.forEach(_59f,function(h){h.remove();});}};}});return _584;});},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_5a0,lang,_5a1){var _5a2={hasWaiRole:function(elem,role){var _5a3=this.getWaiRole(elem);return role?(_5a3.indexOf(role)>-1):(_5a3.length>0);},getWaiRole:function(elem){return lang.trim((_5a0.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_5a0.set(elem,"role",role);},removeWaiRole:function(elem,role){var _5a4=_5a0.get(elem,"role");if(!_5a4){return;}if(role){var t=lang.trim((" "+_5a4+" ").replace(" "+role+" "," "));_5a0.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_5a5){return elem.hasAttribute?elem.hasAttribute("aria-"+_5a5):!!elem.getAttribute("aria-"+_5a5);},getWaiState:function(elem,_5a6){return elem.getAttribute("aria-"+_5a6)||"";},setWaiState:function(elem,_5a7,_5a8){elem.setAttribute("aria-"+_5a7,_5a8);},removeWaiState:function(elem,_5a9){elem.removeAttribute("aria-"+_5a9);}};lang.mixin(_5a1,_5a2);return _5a1;});},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_5aa,has,_5ab,win){_5ab(function(){if(has("highcontrast")){_5aa.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_5ac,_5ad,_5ae,_5af,has,_5b0,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url(\""+(_5ad.blankGif||_5ac.toUrl("./resources/blank.gif"))+"\");";win.body().appendChild(div);var cs=_5af.getComputedStyle(div),_5b1=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_5b1&&(_5b1=="none"||_5b1=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_5b0(function(){if(has("highcontrast")){_5ae.add(win.body(),"dj_a11y");}});return has;});},"dijit/_base/window":function(){define(["dojo/window","../main"],function(_5b2,_5b3){_5b3.getDocumentWindow=function(doc){return _5b2.get(doc);};});},"mxui/widget/_Widget":function(){define(["mxui/wm/focus","mxui/dom","mendix/lang","mendix/logger","dijit/_Widget","dijit/registry","dojo/query","dojo/_base/array","dojo/_base/lang","dojo/_base/kernel","dojo/_base/declare"],function(_5b4,_5b5,_5b6,_5b7,_5b8,_5b9,_5ba,_5bb,_5bc,_5bd,_5be){_5b8.prototype.destroy=function(_5bf){this._beingDestroyed=true;if(this.uninitializer){this.uninitializer();}try{this.uninitialize();}catch(e){throw new Error(this.id+".uninitialize: "+e);}function _5c0(w){if(w.destroyRecursive){w.destroyRecursive(_5bf);}else{if(w.destroy){w.destroy(_5bf);}}};_5bb.forEach(this._connects,_5bc.hitch(this,"disconnect"));_5bb.forEach(this._supportingWidgets,_5c0);if(this.domNode){_5bb.forEach(_5b9.findWidgets(this.domNode),_5c0);}this.destroyRendering(_5bf);_5b9.remove(this.id);this._destroyed=true;};var _5c1=_5be(null,{applyContext:function(_5c2,_5c3){this.mxcontext=_5c2;if(this.isContainer){this.applyContextRecursive(_5c3);}else{if(typeof this.update=="function"){var _5c4=_5c2.getTrackObject(),_5c5=_5c2.getTrackId();if(_5c4){this.update(_5c4,_5c3);}else{if(_5c5){window.mx.data.get({guid:_5c5,callback:function(obj){if(!obj){_5b7.error(this.id+".applyContext: error while fetching object with guid "+_5c5);}this.update(obj,_5c3);},error:function(e){window.mx.onError(e);this.update(null,_5c3);}},this);}else{this.update(null,_5c3);}}}else{_5c3&&_5c3();}}},applyContextRecursive:function(_5c6){var _5c7=_5b9.findWidgets(this.domNode);if(_5c7.length==0){_5c6&&_5c6();return;}this.callFetchOnChildren(this.mxcontext,_5c7,_5c6);},patchChildImpl:function(_5c8){if(_5c8.applyContext==null){if(_5c8.constructor){_5bc.extend(_5c8.constructor,_5c1.prototype);}else{_5bc.mixin(_5c8,_5c1.prototype);}}},callFetchOnChildren:function(_5c9,_5ca,_5cb){var id=this.id,_5cc=[],_5cd=null;if(this.createContext){_5cd=this.createContext();_5cd.dupFrom(_5c9);}else{_5cd=_5c9;}_5cd.freeze();_5bb.forEach(_5ca,function(_5ce,i){this.patchChildImpl(_5ce);_5cc.push(function(_5cf){var _5d0=function(){try{_5ce.applyContext(_5cd,_5cf);}catch(e){_5b7.error(id+".applyContextRecursive: ERROR:"+_5ce.id+": "+e.message,e);_5cf();}};if((i+1)%10===0){setTimeout(_5d0,0);}else{_5d0();}});},this);var _5d1=_5bc.hitch(window.mx.ui,"cleanContext",_5cd.ident,this);_5b6.sequence(_5cc,function(){_5d1();_5cb&&_5cb();});},isLoadedRecursive:function(_5d2,node){var _5d3=_5ba("[widgetId]",(node!=null?node:this.domNode)),_5d4=_5d3.map(_5b9.byNode),_5d5=[],id=this.id;_5bb.forEach(_5d4,function(kid){if(kid.addOnLoad){_5d5.push(function(_5d6){kid.addOnLoad(_5d6);});}else{}});_5b6.collect(_5d5,function(){_5d2&&_5d2();});}});var _5d7=_5be([_5c1],{declaredClass:"mxui.widget._Widget",_mx_:true,_loaded:false,_loadCalls:null,_destroyCalls:null,_liveConnects:null,_subscriptions:null,mxid:"",uniqueid:"",content_id:"",tabIndex:"",focusIndex:"",isInactive:false,attributeMap:_5bc.delegate(_5b8.prototype.attributeMap,{mxid:"",isInactive:"",focusIndex:""}),constructor:function(){this._loadCalls=[];this._destroyCalls=[];this._liveConnects=[];this._subscriptions=[];},_getDisabledAttr:function(){return this.isInactive;},_setDisabledAttr:function(_5d8){this.isInactive=!!_5d8;},loaded:function(){this._loaded=true;var _5d9=this._loadCalls;while(_5d9.length!=0){try{(_5d9.shift())();}catch(e){_5b7.error(this.id+".loaded/actLoaded: Broken onLoad function!!! "+e.message);}}this.loaded=function(){return false;};return true;},actLoaded:function(_5da){this.loaded();_5da&&_5da();},isLoaded:function(){return this._loaded;},addOnLoad:function(fnc){this._loaded?fnc():this._loadCalls.push(fnc);},addOnDestroy:function(fnc){this._destroyCalls.push(fnc);},subscribe:function(sub){var subs=this._subscriptions,guid=sub.guid,val=sub.val,attr=sub.attr,_5db=sub.entity;if(sub.attr){if(_5bb.some(subs,function(sub){return ((sub.guid==guid)&&(sub.attr==attr));})){return;}}else{if(sub.val){if(_5bb.some(subs,function(sub){return sub.guid==guid&&sub.val;})){return;}}else{if(sub.guid){if(_5bb.some(subs,function(sub){return ((sub.guid==guid)&&(sub.attr==null));})){return;}}else{if(sub.entity){if(_5bb.some(subs,function(sub){return (sub.entity&&sub.entity==_5db);})){return;}}}}}var _5dc=window.mx.data.subscribe(sub,this);subs.push(_5dc);return _5dc;},unsubscribe:function(_5dd){var subs=this._subscriptions;for(var i=subs.length-1,sub;sub=subs[i];i--){if(sub==_5dd){window.mx.data.unsubscribe(sub);subs.splice(i,1);break;}}},removeSubscriptions:function(){var _5de=this._subscriptions;while(_5de.length!=0){window.mx.data.unsubscribe(_5de.shift());}this._subscriptions=[];},liveConnect:function(node,evt,map){this._liveConnects.push(_5b5.liveConnect(node,evt,this,map));},liveDisconnect:function(_5df){var _5e0=this._liveConnects;for(var i=0,_5e1;_5e1=_5e0[i];i++){if(_5e1==_5df){_5b5.liveDisconnect(_5df);_5e0.splice(i,1);return;}}},domData:function(){this.domData=_5b5.getScopedData();return this.domData.apply(this,arguments);},markupFactory:function(_5e2,node,_5e3){var _5e4=_5b5.getTabIndex(node);if(_5e4){_5e2.focusIndex=_5e4;}_5e2.content_id=_5e2.content_id?_5e2.content_id:node.getAttribute("content_id");return new _5e3(_5e2,node);},resizeContent:function(){this.mxform.resize();},disposeContent:function(){this.mxform.close();},getTitle:function(){return this.mxform.getTitle();},getUIPlace:function(){return this.mxform.place;},getContent:function(){return this.content_id;},objectUpdate:function(obj,_5e5){if(this.objectUpdateNotification.length==2){this.objectUpdateNotification(obj,_5e5);}else{this.objectUpdateNotification(obj);_5e5&&_5e5();}},objectUpdateNotification:function(obj){},validationUpdate:function(){return this.refresh();},sequence:function(_5e6,_5e7){_5b6.sequence(_5e6,_5e7,this);},collect:function(_5e8,_5e9){_5b6.collect(_5e8,_5e9,this);},addFocusBox:function(node){var box=_5b4.addBox(node);this.addOnDestroy(function(){_5b4.unregister(box);});return box;},getFocusBox:function(node){return _5b4.byNode(node);},resize:function(box){},uninitialize:function(){if(!_5d7.prototype.isLoaded.call(this)){_5b7.error("Looks like "+this.id+" never loads up, check the structure of the widget");this.addOnLoad(_5bc.hitch(this,function(){try{this.uninitialize();}catch(e){_5b7.error(this.id+".uninitialize: ERROR when calling uninitialize");}}));}else{this.removeSubscriptions();var _5ea=this._liveConnects,_5eb=this._destroyCalls;while(_5ea.length){_5b5.liveDisconnect(_5ea.pop());}while(_5eb.length){(_5eb.shift()).call(this);}}}});return _5d7;});},"dijit/_Widget":function(){define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_5ec,_5ed,_5ee,_5ef,has,_5f0,lang,_5f1,_5f2,_5f3,_5f4,_5f5,_5f6){function _5f7(){};function _5f8(_5f9){return function(obj,_5fa,_5fb,_5fc){if(obj&&typeof _5fa=="string"&&obj[_5fa]==_5f7){return obj.on(_5fa.substring(2).toLowerCase(),lang.hitch(_5fb,_5fc));}return _5f9.apply(_5ee,arguments);};};_5ec.around(_5ee,"connect",_5f8);if(_5f0.connect){_5ec.around(_5f0,"connect",_5f8);}var _5fd=_5ef("dijit._Widget",[_5f4,_5f5,_5f6],{onClick:_5f7,onDblClick:_5f7,onKeyDown:_5f7,onKeyPress:_5f7,onKeyUp:_5f7,onMouseDown:_5f7,onMouseMove:_5f7,onMouseOut:_5f7,onMouseOver:_5f7,onMouseLeave:_5f7,onMouseEnter:_5f7,onMouseUp:_5f7,constructor:function(_5fe){this._toConnect={};for(var name in _5fe){if(this[name]===_5f7){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_5fe[name];delete _5fe[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_5f7){return _5ee.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_5ff){_5f0.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_5ff);},attr:function(name,_600){var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_5f0.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_5f1("[widgetId]",this.containerNode).map(_5f3.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_5f2(0,function(){var _601=["dijit/_base"];require(_601);});}return _5fd;});},"dijit/_OnDijitClickMixin":function(){define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_602,keys,_603,has,_604){var ret=_603("dijit._OnDijitClickMixin",null,{connect:function(obj,_605,_606){return this.inherited(arguments,[obj,_605=="ondijitclick"?_604:_605,_606]);}});ret.a11yclick=_604;return ret;});},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(keys,_607,on,_608){function _609(e){if((e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){for(var node=e.target;node;node=node.parentNode){if(node.dojoClick){return true;}}}};var _60a;on(document,"keydown",function(e){if(_609(e)){_60a=e.target;e.preventDefault();}else{_60a=null;}});on(document,"keyup",function(e){if(_609(e)&&e.target==_60a){_60a=null;on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});}});var _60b=function(node,_60c){node.dojoClick=true;return on(node,"click",_60c);};_60b.click=_60b;_60b.press=function(node,_60d){var _60e=on(node,_608.press,function(evt){if(evt.type=="mousedown"&&!_607.isLeft(evt)){return;}_60d(evt);}),_60f=on(node,"keydown",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_60d(evt);}});return {remove:function(){_60e.remove();_60f.remove();}};};_60b.release=function(node,_610){var _611=on(node,_608.release,function(evt){if(evt.type=="mouseup"&&!_607.isLeft(evt)){return;}_610(evt);}),_612=on(node,"keyup",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_610(evt);}});return {remove:function(){_611.remove();_612.remove();}};};_60b.move=_608.move;return _60b;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(dojo,_613,dom,_614,lang,on,has,_615,_616,win){var ios4=has("ios")<5;var _617=has("pointer-events")||has("MSPointer"),_618=(function(){var _619={};for(var type in {down:1,move:1,up:1,cancel:1,over:1,out:1}){_619[type]=has("MSPointer")?"MSPointer"+type.charAt(0).toUpperCase()+type.slice(1):"pointer"+type;}return _619;})();var _61a=has("touch-events");var _61b,_61c,_61d=false,_61e,_61f,_620,_621,_622,_623;var _624;function _625(_626,_627,_628){if(_617&&_628){return function(node,_629){return on(node,_628,_629);};}else{if(_61a){return function(node,_62a){var _62b=on(node,_627,function(evt){_62a.call(this,evt);_624=(new Date()).getTime();}),_62c=on(node,_626,function(evt){if(!_624||(new Date()).getTime()>_624+1000){_62a.call(this,evt);}});return {remove:function(){_62b.remove();_62c.remove();}};};}else{return function(node,_62d){return on(node,_626,_62d);};}}};function _62e(node){do{if(node.dojoClick!==undefined){return node;}}while(node=node.parentNode);};function _62f(e,_630,_631){var _632=_62e(e.target);_61c=!e.target.disabled&&_632&&_632.dojoClick;if(_61c){_61d=(_61c=="useTarget");_61e=(_61d?_632:e.target);if(_61d){e.preventDefault();}_61f=e.changedTouches?e.changedTouches[0].pageX-win.global.pageXOffset:e.clientX;_620=e.changedTouches?e.changedTouches[0].pageY-win.global.pageYOffset:e.clientY;_621=(typeof _61c=="object"?_61c.x:(typeof _61c=="number"?_61c:0))||4;_622=(typeof _61c=="object"?_61c.y:(typeof _61c=="number"?_61c:0))||4;if(!_61b){_61b=true;function _633(e){if(_61d){_61c=dom.isDescendant(win.doc.elementFromPoint((e.changedTouches?e.changedTouches[0].pageX-win.global.pageXOffset:e.clientX),(e.changedTouches?e.changedTouches[0].pageY-win.global.pageYOffset:e.clientY)),_61e);}else{_61c=_61c&&(e.changedTouches?e.changedTouches[0].target:e.target)==_61e&&Math.abs((e.changedTouches?e.changedTouches[0].pageX-win.global.pageXOffset:e.clientX)-_61f)<=_621&&Math.abs((e.changedTouches?e.changedTouches[0].pageY-win.global.pageYOffset:e.clientY)-_620)<=_622;}};win.doc.addEventListener(_630,function(e){_633(e);if(_61d){e.preventDefault();}},true);win.doc.addEventListener(_631,function(e){_633(e);if(_61c){_623=(new Date()).getTime();var _634=(_61d?_61e:e.target);if(_634.tagName==="LABEL"){_634=dom.byId(_634.getAttribute("for"))||_634;}var src=(e.changedTouches)?e.changedTouches[0]:e;var _635=document.createEvent("MouseEvents");_635._dojo_click=true;_635.initMouseEvent("click",true,true,e.view,e.detail,src.screenX,src.screenY,src.clientX,src.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);setTimeout(function(){on.emit(_634,"click",_635);_623=(new Date()).getTime();},0);}},true);function _636(type){win.doc.addEventListener(type,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_623+1000&&!(e.target.tagName=="INPUT"&&_614.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(type=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){e.preventDefault();}}},true);};_636("click");_636("mousedown");_636("mouseup");}}};var _637;if(_617){_616(function(){win.doc.addEventListener(_618.down,function(evt){_62f(evt,_618.move,_618.up);},true);});}else{if(_61a){_616(function(){_637=win.body();win.doc.addEventListener("touchstart",function(evt){_624=(new Date()).getTime();var _638=_637;_637=evt.target;on.emit(_638,"dojotouchout",{relatedTarget:_637,bubbles:true});on.emit(_637,"dojotouchover",{relatedTarget:_638,bubbles:true});_62f(evt,"touchmove","touchend");},true);function _639(evt){var _63a=lang.delegate(evt,{bubbles:true});if(has("ios")>=6){_63a.touches=evt.touches;_63a.altKey=evt.altKey;_63a.changedTouches=evt.changedTouches;_63a.ctrlKey=evt.ctrlKey;_63a.metaKey=evt.metaKey;_63a.shiftKey=evt.shiftKey;_63a.targetTouches=evt.targetTouches;}return _63a;};on(win.doc,"touchmove",function(evt){_624=(new Date()).getTime();var _63b=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_63b){if(_637!==_63b){on.emit(_637,"dojotouchout",{relatedTarget:_63b,bubbles:true});on.emit(_63b,"dojotouchover",{relatedTarget:_637,bubbles:true});_637=_63b;}if(!on.emit(_63b,"dojotouchmove",_639(evt))){evt.preventDefault();}}});on(win.doc,"touchend",function(evt){_624=(new Date()).getTime();var node=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset))||win.body();on.emit(node,"dojotouchend",_639(evt));});});}}var _63c={press:_625("mousedown","touchstart",_618.down),move:_625("mousemove","dojotouchmove",_618.move),release:_625("mouseup","dojotouchend",_618.up),cancel:_625(_615.leave,"touchcancel",_617?_618.cancel:null),over:_625("mouseover","dojotouchover",_618.over),out:_625("mouseout","dojotouchout",_618.out),enter:_615._eventHandler(_625("mouseover","dojotouchover",_618.over)),leave:_615._eventHandler(_625("mouseout","dojotouchout",_618.out))};1&&(dojo.touch=_63c);return _63c;});},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_63d,_63e,_63f,lang){lang.extend(_63e,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _63f("dijit._FocusMixin",null,{_focusManager:_63d});});},"mxui/widget/_FormWidget":function(){define(["mxui/widget/_LabeledWidget","mxui/mixin/_ValidationHelper","mxui/lib/InputMask","mxui/dom","mendix/lib/Error","mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_640,_641,_642,dom,_643,_644,_645,_646){var $=dom.create;var _647=_646([_640,_641],{declaredClass:"mxui.widget._FormWidget",attributePath:"",events:null,editNode:null,readNode:null,_mxObject:null,_rootSubs:null,_objsub:null,_attrsub:null,_path:null,_attribute:"",_entity:"",postMixInProperties:function(){var path=this._path=this.attributePath.split("/");this._attribute=path.pop();this._entity=path.slice(-1)[0]||this.entity;path.shift();var meta=window.mx.meta.getEntity(this._entity);if(!meta||!meta.has(this._attribute)){throw new Error("No permission to read or write attribute "+this._attribute+" of entity "+this._entity+", check security.");}this._rootSubs=[];},buildRendering:function(){this.readNode=this.insideFormGroup?$("p",{"class":"form-control-static"}):$("label");this.readNode.innerHTML="&nbsp;";if(!this.domNode){this.domNode=$("div",this.editNode);}if(this.mask){var mask=new _642(this.editNode,this.mask);this.addOnDestroy(_645.hitch(mask,"destroy"));}},startup:function(){this.inherited(arguments);this.set("disabled",this.readOnly);this.setupValidation(this._attribute);this.connectEvents();},update:function(obj,_648){while(this._rootSubs.length>0){this.unsubscribe(this._rootSubs.shift());}var self=this,_649=function(){window.mx.data.fetch(obj,self._path,{usexpath:true},function(obj){self.updateObject(obj,_648);},function(e){window.mx.onError(e);self.updateObject(null,_648);});};if(obj){if(this._path.length>0){this._rootSubs.push(this.subscribe({guid:obj.getGuid(),callback:function(guid){_649();}}));this._rootSubs.push(this.subscribe({guid:obj.getGuid(),attr:this._path[0],callback:function(guid,attr,val){_649();}}));}_649();}else{this.updateObject(null,_648);}},updateObject:function(obj,_64a){if(obj!=this._mxObject){this._mxObject=obj;this.setValidationObject(obj);}this.removeError();this.updateDisabled();if(this._objsub){this.unsubscribe(this._objsub);this._objsub=null;}if(this._attrsub){this.unsubscribe(this._attrsub);this._attrsub=null;}var _64b=_645.hitch(this,function(_64c){var _64d=this.get("value");if(_64c!==_64d){this.set("value",_64c);}});if(obj){var _64e=_645.hitch(this,function(val){this.removeError();_64b(val);});this._objsub=this.subscribe({guid:obj.getGuid(),callback:function(){_64e(this._mxObject.get2(this._attribute));}});this._attrsub=this.subscribe({guid:obj.getGuid(),attr:this._attribute,callback:function(guid,attr,val){_64e(val);}});_64b(obj.get2(this._attribute));}else{_64b("");}if(_64a){_64a();}},connectEvents:function(){var node=this.editNode||this.domNode;this.connect(node,"change","onChange");for(var evt in this.events){if(evt!="change"){this.connect(node,evt,_645.hitch(this,"handleEvent",evt));}}},handleEvent:function(evt){var ev=this.events&&this.events[evt];if(ev){this.validatedMicroflow(ev);}},onChange:function(e){var ev=this.events&&this.events.change,_64f=this.get("value");if(this.isValid()){this._mxObject.set(this._attribute,_64f);this.set("value",_64f);}if(ev){this.validatedMicroflow(ev);}},enable:function(){if(this.editNode&&this.readNode){this.domNode.replaceChild(this.editNode,this.readNode);}else{this.domNode.removeAttribute("disabled");}},disable:function(){if(this.editNode&&this.readNode){var _650=this.get("value");if(_650!=null){this.set("value",_650);}this.domNode.replaceChild(this.readNode,this.editNode);}else{this.domNode.setAttribute("disabled","disabled");}},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._attribute));},getType:function(){return window.mx.meta.getEntity(this._entity).getAttributeType(this._attribute);}});return _647;});},"mxui/widget/_LabeledWidget":function(){define(["mxui/widget/_WidgetBase","dojo/_base/array","dojo/_base/declare"],function(_651,_652,_653){var _654=_653(_651,{declaredClass:"mxui.widget._LabeledWidget",insideFormGroup:false,startup:function(){if(!this.insideFormGroup){return;}var _655=this.domNode.querySelectorAll("input,textarea,select");if(_655.length>1){return;}var _656=_655[0]||this.domNode.querySelector("button");if(!_656.id){_656.id=this.id+"_input";}var _657=this.domNode.previousSibling;_657.setAttribute("for",_656.id);}});return _654;});},"mxui/mixin/_ValidationHelper":function(){define(["mxui/dom","mxui/lib/errorMessage","dojo/dom-class","dojo/_base/declare"],function(_658,_659,_65a,_65b){var _65c=_65b(null,{required:false,requiredMsg:"",validator:null,_errorNode:null,_valsub:null,_valattr:null,_hasError:false,setupValidation:function(attr){this._valattr=attr||null;},setValidationObject:function(obj){if(this._valsub){this.unsubscribe(this._valsub);}if(obj){this._valsub=this.subscribe({guid:obj.getGuid(),callback:this.onValidation,val:true});}this.removeError();},validatedMicroflow:function(_65d){if(_65d.validate==="node"&&!this.isValid()){return;}window.mx.ui.execute({type:"callMicroflow",params:_65d},{origin:this.mxform,context:this.mxcontext,abortOnClientValidations:true});},onValidation:function(list){var val=list[0],attr=this._valattr,msg=val.getReasonByAttribute(attr);if(msg!=null){this.addError(msg);val.removeAttribute(attr);}else{this.removeError();}},validate:function(){if(this.checkValidations&&!this.checkValidations()){return "";}if(this.required&&this.get("value")===""){return (this.requiredMessage||this.requiredMsg||window.mx.ui.translate("mendix.lib.Validations","required_field"));}},isValid:function(){var _65e=this.validate();if(_65e!=null){this.addError(_65e);return false;}else{this.removeError();return true;}},addError:function(msg){this.removeError();this._hasError=true;if(msg){_659.show(this.domNode,msg);this.mxform.resize();}_65a.add(this.domNode,"has-error");if(this.validator){this.validator.addNotification();}},removeError:function(){_659.hide(this.domNode);_65a.remove(this.domNode,"has-error");if(this.validator&&this._hasError){this.validator.removeNotification();}this._hasError=false;}});return _65c;});},"mxui/lib/errorMessage":function(){define(["mxui/dom"],function(dom){var _65f={show:function(_660,_661){var _662=_660.querySelector(".mx-validation-message");if(!_662){_662=dom.create("div",{"class":"alert alert-danger mx-validation-message"},_661);_660.appendChild(_662);}else{dom.text(_662,_661);}},hide:function(_663){var _664=_663.querySelector(".mx-validation-message");if(_664){_663.removeChild(_664);}}};return _65f;});},"mxui/widget/Underlay":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Floatable","mxui/dom","mendix/logger","dojo/dom-style","dojo/_base/fx","dojo/_base/window","dojo/_base/declare"],function(_665,_666,dom,_667,_668,_669,_66a,_66b){var _66c=_66b([_665,_666],{declaredClass:"mxui.widget.Underlay",_count:0,buildRendering:function(){this.domNode=dom.create("div",{"class":"mx-underlay"});},postCreate:function(){this.createBackgroundIframe();},show:function(_66d){if(this._count++===0){var node=this.domNode;if(_66d){_668.set(node,"opacity","0");_66a.body().appendChild(node);_669.fadeIn({end:0.5,node:node,duration:_66d}).play();}else{_66a.body().appendChild(node);}}},hide:function(_66e){if(--this._count===0){var node=this.domNode;if(_66e){_669.fadeOut({node:node,duration:_66e,onEnd:function(){dom.orphan(node);}}).play();}else{dom.orphan(node);}}},setZIndex:function(_66f){this.domNode.style.zIndex=_66f;}});return _66c;});},"mxui/mixin/_Floatable":function(){define(["mxui/dom","dijit/BackgroundIframe","dojo/has","dojo/_base/declare"],function(dom,_670,_671,_672){_671.add("config-bgIframe",_671("ie")||_671("trident"),false,true);var _673=_672(null,{createBackgroundIframe:function(){if(_671("config-bgIframe")){var _674=new _670(this.domNode);this.addOnDestroy(function(){_674.destroy();});this.domNode.appendChild(dom.create("div",{"class":"mx-ie-event-shield"}));}}});return _673;});},"mxui/widget/Dialog":function(){define(["mxui/widget/_Popup","mxui/wm/focus","mxui/dom","dojo/dom-geometry","dojo/dom-style","dojo/touch","dojo/sniff","dojo/_base/event","dojo/_base/declare"],function(_675,_676,dom,_677,_678,_679,_67a,_67b,_67c){var _67d=_67c(_675,{declaredClass:"mxui.widget.Dialog",caption:"",content:"",buttons:null,closable:true,resizable:true,_handler:null,_headerNode:null,_bodyNode:null,_footerNode:null,_captionNode:null,_closeButton:null,buildRendering:function(){this.buildDialog();this.setCaption(this.caption);this.setContent(this.content);this.setButtons(this.buttons);this.inherited(arguments);},buildDialog:function(){var $=dom.create;this.domNode=$("div",{"class":"modal-dialog mx-dialog"},this._contentNode=$("div",{"class":"modal-content mx-dialog-content"},this._headerNode=$("div",{focusindex:"-1","class":"modal-header mx-dialog-header"},this._captionNode=$("h4",{"class":"caption mx-dialog-caption"})),this._bodyNode=$("div",{"class":"modal-body mx-dialog-body"}),this._footerNode=$("div",{"class":"modal-footer mx-dialog-footer",style:"display: none"})));_678.set(this.domNode,"opacity",0);if(this.closable){var _67e=this._closeButton=$("button",{type:"button","class":"close mx-dialog-close"});_67e.innerHTML="&times;";this._headerNode.insertBefore(_67e,this._captionNode);this.connect(_67e,"click",function(){this.onClose();});}_676.addBox(this._footerNode);},onBeforeShow:function(){this.inherited(arguments);dom.moveFocusTo(_676.getFirst(this.domNode)||this.domNode);this.connect(window,"orientationchange","center");this.resize();},onClose:function(){this.hide();},getLayerName:function(){return "dialog";},getPositionName:function(){return "center";},layout:function(){var _67f=_677.getContentBox(this.domNode).h,_680=_677.getMarginBox(this._headerNode).h,_681=_677.getMarginBox(this._footerNode).h,_682=dom.getNodeExtents(this._contentNode).h;_677.setContentSize(this._bodyNode,{h:_67f-_682-_680-_681});},setCaption:function(_683){var _684=dom.escapeString(_683);this._captionNode.innerHTML=_684||"&nbsp;";},setContent:function(_685){dom.empty(this._bodyNode);if(_685){this._bodyNode.appendChild(dom.create("#",_685));}},setButtons:function(_686){dom.empty(this._footerNode);if(_686){for(var i=0,_687;_687=_686[i];i++){this._footerNode.appendChild(_687);}this._footerNode.style.display="";}}});return _67d;});},"mxui/widget/_Popup":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Floatable","mxui/lib/Moveable","mxui/lib/Resizable","mxui/lib/popupManager","mxui/dom","dojo/keys","dojo/window","dojo/dom-style","dojo/dom-geometry","dojo/_base/fx","dojo/_base/lang","dojo/_base/declare"],function(_688,_689,_68a,_68b,_68c,dom,_68d,_68e,_68f,_690,_691,_692,_693){var _694=_693([_688,_689],{delay:200,_mover:null,_resizer:null,_prevBox:null,_maximized:false,_visible:false,_minWidth:300,_minHeight:200,_margin:20,getLayerName:function(){return "popup";},getPositionName:function(){return "stack";},buildRendering:function(){this.capture(this.domNode,"mousedown",function(){_68c.focus(this);});this.domNode.setAttribute("tabindex",-1);this.connect(this.domNode,"keyup",function(e){if(e.keyCode===_68d.ESCAPE&&e.target.nodeName!=="SELECT"){this.onClose();}});},postCreate:function(){this.createBackgroundIframe();this._mover=new _68a(this.domNode,{handle:this._headerNode,margin:this._margin,delay:5});this.connect(this._mover,"onMoveStart",function(e){if(this._maximized){var box=this._prevBox;this.resize({l:e.pageX-box.w/2,w:box.w,h:box.h});}});_68c.add(this);this._setDimensions({});},show:function(_695,_696){_68c.show(this,_695,_696);this.connect(window.mx.ui,"resize",function(){this.resize(null,true);});},onBeforeShow:function(){this._visible=true;var _697=dom.getNodeExtents(this.domNode);this._minWidth+=_697.w;this._minHeight+=_697.h;if(this.resizable){this._resizer=new _68b(this.domNode,{margin:this._margin,resizer:_692.hitch(this,"resize"),minWidth:this._minWidth,minHeight:this._minHeight});this.connect(this._headerNode,"dblclick",function(){this.maximize();});}},onShow:function(done){if(this.delay){_691.fadeIn({node:this.domNode,duration:this.delay,onEnd:done}).play();}else{_68f.set(this.domNode,"opacity",1);done();}},onAfterShow:function(){},hide:function(_698){_68c.hide(this,_698);},onHide:function(done){if(this.delay){_691.fadeOut({node:this.domNode,duration:this.delay,onEnd:done}).play();}else{done();}},center:function(){var node=this.domNode,box=_690.getMarginBox(node),port=_68e.getBox();_68f.set(node,{top:Math.max(0,0.7*(port.h/2-box.h/2))+"px",left:Math.max(0,port.w/2-box.w/2)+"px"});},maximize:function(redo){if(this._maximized&&!redo){this._maximized=false;this.resize(this._prevBox);}else{var _699=_68e.getBox(),box=redo?this._prevBox:_690.getMarginBox(this.domNode);this.resize({t:0,l:0,w:_699.w,h:_699.h});this._prevBox=box;this._maximized=true;}},_setDimensions:function(box){var _69a=this._getMaximumSize(),_69b=_692.mixin(_690.getMarginBox(this.domNode),box);if(_69b.w>_69a.w){box.w=_69a.w;}if(_69b.h>_69a.h){box.h=_69a.h;}if(box.w){this.domNode.style.width=box.w+"px";}if(this._visible){if(box.h){this.domNode.style.height=box.h+"px";}if(box.w||box.h){this.layout();}}},resize:function(box,_69c){if(!this._visible){return;}if(this._maximized){if(_69c){this.maximize(true);return;}else{this._maximized=false;}}box=box||{};this._setDimensions(box);if(box.l){this.domNode.style.left=box.l+"px";}if(box.t){this.domNode.style.top=box.t+"px";}this.moveIntoView();},moveIntoView:function(){dom.moveIntoView(this.domNode,this._margin);},uninitialize:function(){this._mover.destroy();if(this._resizer){this._resizer.destroy();}},_getMaximumSize:function(){var _69d=_68e.getBox();return {w:_69d.w-this._margin*2,h:_69d.h-this._margin*2};}});return _694;});},"mxui/lib/Moveable":function(){define(["mxui/dom","dojo/on","dojo/touch","dojo/dom","dojo/dom-geometry","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(_69e,_69f,_6a0,_6a1,_6a2,_6a3,_6a4,_6a5){var _6a6=_6a5(null,{declaredClass:"mxui.lib.Moveable",node:null,handle:null,margin:0,delay:0,_events:null,_start:null,_moving:false,constructor:function(node,_6a7){_6a7=_6a7||{};this.node=node;this.handle=_6a7.handle||node;this.margin=_6a7.margin||0;this.delay=_6a7.delay||0;this._events=[_69f(this.handle,"dragstart",_6a3.stop),_69f(this.handle,"selectstart",_6a3.stop)];_6a1.setSelectable(this.handle,false);this._reset();},_reset:function(){this._clean();this._events.push(_69f(this.handle,_6a0.press,_6a4.hitch(this,"_onMouseDown")));},_clean:function(){while(this._events.length>3){this._events.pop().remove();}},_prepare:function(e){var pos=_6a2.position(this.node);this._start={t:pos.y,l:pos.x,x:e.pageX,y:e.pageY};},_onMouseDown:function(e){if(!this.delay){this.onMoveStart(e);}this._clean();this._prepare(e);this._events.push(_69f(document,_6a0.move,_6a4.hitch(this,"_onMouseMove")),_69f(document,_6a0.release,_6a4.hitch(this,"_onMouseUp")));},_onMouseMove:function(e){var _6a8=this.node.style,_6a9=this._start,dims={};if(!this._moving){if(Math.sqrt(Math.pow(e.pageX-_6a9.x,2)+Math.pow(e.pageY-_6a9.y,2))>this.delay){this.onMoveStart(e);this._prepare(e);}return;}_6a8.top=dims.t=_6a9.t+(e.pageY-_6a9.y)+"px";_6a8.left=dims.l=_6a9.l+(e.pageX-_6a9.x)+"px";this.onMoving(dims);e.preventDefault();},_onMouseUp:function(e){if(this._moving){this.onMoveStop(e);}this._reset();},onMoveStart:function(){this._moving=true;},onMoving:function(e){},onMoveStop:function(){this._moving=false;_69e.moveIntoView(this.node,this.margin);},destroy:function(){while(this._events.length){this._events.pop().remove();}}});return _6a6;});},"mxui/lib/Resizable":function(){define(["mxui/dom","dojo/on","dojo/touch","dojo/window","dojo/dom","dojo/dom-geometry","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(_6aa,_6ab,_6ac,_6ad,_6ae,_6af,_6b0,_6b1,_6b2){var $=_6aa.create;var _6b3=_6b2(null,{declaredClass:"mxui.lib.Resizable",node:null,margin:0,resizer:null,minWidth:0,minHeight:0,_events:null,_start:null,_resizing:false,constructor:function(node,_6b4){_6b4=_6b4||{};this.node=node;this.margin=_6b4.margin||0;this.resizer=_6b4.resizer;this.minWidth=_6b4.minWidth||0;this.minHeight=_6b4.minHeight||0;var frag=$("#"),dirs=["n","e","s","w","ne","se","sw","nw"];for(var i=0,dir;dir=dirs[i];i++){var _6b5=$("div",{"class":"mx-resizer mx-resizer-"+dir,"data-resize-dir":dir});_6ae.setSelectable(_6b5,false);frag.appendChild(_6b5);}node.appendChild(frag);this._events=[];this.reset();},reset:function(){this.clean();var self=this;this._events=[_6ab(this.node,_6ac.press,function(e){var dir=e.target.getAttribute("data-resize-dir");if(dir){self.onMouseDown(dir,e);}})];},clean:function(){while(this._events.length){this._events.pop().remove();}},onMouseDown:function(dir,e){this.onResizeStart(e);this.clean();var box=_6af.getMarginBox(this.node);this._start={box:box,viewport:_6ad.getBox(),pageX:e.pageX,pageY:e.pageY,minWidth:Math.min(this.minWidth,box.w),minHeight:Math.min(this.minHeight,box.h)};this._events.push(_6ab(document,_6ac.move,_6b1.hitch(this,"onMouseMove",dir)),_6ab(document,_6ac.release,_6b1.hitch(this,"onMouseUp")));_6b0.stop(e);},onMouseMove:function(dir,e){var _6b6=this._start,box=_6b6.box,_6b7=this.margin,dims={};if(/e|w/.test(dir)){var _6b8=/w/.test(dir),_6b9=_6b8?_6b6.pageX-e.pageX:e.pageX-_6b6.pageX,_6ba=(_6b8?box.l+box.w:_6b6.viewport.w-box.l)-_6b7;dims.w=Math.max(_6b6.minWidth,Math.min(_6ba,box.w+_6b9));if(_6b8){dims.l=Math.max(_6b7,box.l+box.w-dims.w);}}if(/n|s/.test(dir)){var _6bb=/n/.test(dir),_6bc=_6bb?_6b6.pageY-e.pageY:e.pageY-_6b6.pageY,_6bd=(_6bb?box.t+box.h:_6b6.viewport.h-box.t)-_6b7;dims.h=Math.max(_6b6.minHeight,Math.min(_6bd,box.h+_6bc));if(_6bb){dims.t=Math.max(_6b7,box.t+box.h-dims.h);}}if(this.resizer){this.resizer(dims);}else{_6af.setMarginBox(this.node,dims);}this.onResizing();_6b0.stop(e);},onMouseUp:function(e){this.onResizeStop(e);this.reset();},onResizeStart:function(){this._resizing=true;},onResizing:function(e){},onResizeStop:function(){this._resizing=false;},destroy:function(){this.clean();}});return _6b3;});},"mxui/lib/popupManager":function(){define(["mxui/lib/overflowHelper","mxui/wm/focus","mxui/widget/Underlay","mendix/lang","dojo/_base/array","dojo/window","dojo/dom-geometry","dojo/_base/declare","dojo/dom-style"],function(_6be,_6bf,_6c0,lang,_6c1,_6c2,_6c3,_6c4,_6c5){var _6c6=0,_6c7=new _6c0(),_6c8={},_6c9=[{name:"popup",index:100,stack:[]},{name:"dialog",index:1000,stack:[]}];var _6ca={add:function(_6cb){_6be.hideOverflow(document.body);document.body.appendChild(_6cb.domNode);},show:function(_6cc,_6cd,_6ce){if(_6c8[_6cc.id]){return;}if(_6c6>0){_6cd=true;}_6cf(_6cc,_6cd);_6ca.focus(_6cc);_6cc.onBeforeShow();_6be.showOverflow(document.body);if(_6cd||_6cc.getPositionName()=="center"){_6cc.center();}else{_6d0(_6cc);_6cc.moveIntoView();}_6cc.onShow(function(){_6cc.onAfterShow();if(_6ce){_6ce();}});},hide:function(_6d1,_6d2){var _6d3=_6c8[_6d1.id];if(!_6d3){return;}_6d4(_6d1,_6d3.focus);_6d5(_6d1,_6d3.modal);_6d1.onHide(function(){var _6d6=_6d7(_6d1);if(_6d6){_6ca.focus(_6d6);}_6d1.destroy();if(_6d2){_6d2();}});},focus:function(_6d8){if(!_6c8[_6d8.id]){return;}var _6d9=_6da(_6d8),_6db=_6d9.index,_6dc=[];_6c1.forEach(_6d9.stack,function(elem){if(elem.id!=_6d8.id){_6dc.push(elem);if(elem.deactivate){elem.deactivate();}}else{if(elem.activate){elem.activate();}}});_6dc.sort(function(a,b){return a.domNode.style.zIndex-b.domNode.style.zIndex;});_6dc.push(_6d8);_6d9.stack=_6dc;for(var x=0,pane;pane=_6d9.stack[x];x++){_6db=_6db+2;pane.domNode.style.zIndex=_6db;}if(_6c8[_6d8.id].modal&&!_6dd(_6d8)){_6c7.setZIndex(_6db-1);}}};function _6d7(_6de){var _6df=_6c1.indexOf(_6c9,_6da(_6de));do{var _6e0=_6c9[_6df].stack;for(var i=_6e0.length-1;i>=0;i--){if(_6c8[_6e0[i].id]){return _6e0[i];}}}while(_6df-->0);return null;};function _6da(_6e1){return lang.find(_6c9,function(elem){return elem.name==_6e1.getLayerName();});};function _6e2(_6e3){return _6da(_6e3).stack;};function _6d0(_6e4){var _6e5=_6e2(_6e4),port=_6c2.getBox(),box=_6c3.getMarginBox(_6e4.domNode),posX=(port.w-box.w)/2,posY=(port.h-box.h)/2*0.7,gap=20;var _6e6=_6e5.slice();_6e6.sort(function(_6e7,_6e8){return _6e7.domNode.offsetLeft-_6e8.domNode.offsetLeft;});for(var i=0;i<_6e5.length;i++){if(_6e6[i]===_6e4){continue;}var node=_6e6[i].domNode,minX=posX-(0.5*gap),maxX=minX+gap;if(minX<node.offsetLeft&&node.offsetLeft<maxX){posX+=gap;posY+=gap;}}_6c5.set(_6e4.domNode,{left:posX+"px",top:posY+"px"});};function _6dd(_6e9){var _6ea=_6c1.indexOf(_6c9,_6da(_6e9));return _6c1.some(_6c9.slice(_6ea+1),function(_6eb){return _6c1.some(_6eb.stack,function(elem){return _6c8[elem.id].modal;});});};function _6d4(_6ec,_6ed){if(!_6ed){return;}var _6ee=_6bf.get();if(_6ee&&_6ec.domNode.contains(_6ee)){_6bf.put(_6ed);}};function _6cf(_6ef,_6f0){if(_6f0){if(_6c6===0){_6c7.show();}_6c6++;}_6c8[_6ef.id]={modal:_6f0,focus:_6bf.get()};var _6f1=_6e2(_6ef);_6f1.push(_6ef);};function _6d5(_6f2,_6f3){if(_6f3){_6c6--;if(_6c6===0){_6c7.hide();}}delete _6c8[_6f2.id];var _6f4=_6e2(_6f2);_6f4.splice(_6c1.indexOf(_6f4,_6f2),1);};return _6ca;});},"mxui/lib/overflowHelper":function(){define(["dojo/dom-style"],function(_6f5){var _6f6={showOverflow:function(node){_6f7(node,true);},hideOverflow:function(node){_6f7(node,false);}};function _6f8(node,_6f9){var doc=document.documentElement;while(node=node.parentNode){if(node===doc||_6f5.get(node,"overflow")===_6f9){return node;}}};function _6f7(node,_6fa){var _6fb=_6f8(node,_6fa?"hidden":"auto");if(_6fb){if(_6fb.clientHeight>=_6fb.scrollHeight){_6f5.set(_6fb,"overflow",_6fa?"auto":"hidden");}}};return _6f6;});},"mxui/widget/DialogMessage":function(){define(["mxui/widget/Dialog","mxui/dom","mendix/logger","dojo/dom-class","dojo/_base/declare"],function(_6fc,_6fd,_6fe,_6ff,_700){var _701=_700(_6fc,{declaredClass:"mxui.widget.DialogMessage",type:"",content:null,buildRendering:function(){this.caption=this.caption||this.translate(this.type,null,"Message");var _702=_6fd.create("p");_702.innerHTML=_6fd.convertNlToBr(_6fd.escapeString(this.content));this.content=_702;var _703=_6fd.create("button",{"class":"btn btn-primary"},this.translate("ok",null,"Ok"));this.connect(_703,"click",function(){this.hide();});this.buttons=[_703];this.inherited(arguments);_6ff.add(this.domNode,"mx-dialog-"+this.type);}});return _701;});},"mxui/widget/Window":function(){define(["mxui/widget/_Popup","mxui/widget/DataView","mxui/dom","mxui/wm/focus","mxui/widget","dojo/sniff","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/touch","dojo/_base/event","dojo/_base/declare","dijit/registry"],function(_704,_705,dom,_706,_707,_708,_709,_70a,_70b,_70c,_70d,_70e,_70f,_710){var $=dom.create;var _711=_70f(_704,{declaredClass:"mxui.widget.Window",title:"",width:0,height:0,resizable:true,content:null,cssStyle:"",cssClass:"",_headerNode:null,buildRendering:function(){this.domNode=$("div",{"class":"modal-dialog mx-window "+this.cssClass,"style":this.cssStyle},this._contentNode=$("div",{"class":"modal-content mx-window-content"},this._headerNode=$("div",{focusindex:"-1","class":"modal-header mx-window-header"},$("h4",this.title||"...")),this.content));_70b.add(this.content,"modal-body mx-window-body");var _712=$("button",{type:"button","class":"close"});_712.innerHTML="&times;";_709.place(_712,this._headerNode,"first");this.connect(_712,"click",function(){this.onClose();});this.inherited(arguments);_70a.set(this.domNode,"opacity","0");},onBeforeShow:function(){this.inherited(arguments);dom.moveFocusTo(_706.getFirst(this.content)||this.domNode);var _713=_710.findWidgets(this.content);if(_713.length==1&&_713[0] instanceof _705&&_707.findNonPlaceholderParent(_713[0].domNode)==this.content){_70b.add(this.domNode,"mx-window-view");}var box={};if(this.width){box.w=this.width;}if(this.height){box.h=this.height;}this.resize(box);},onClose:function(){},layout:function(){var _714=_70c.getContentBox(this.domNode).h,_715=_70c.getMarginBox(this._headerNode).h,_716=dom.getNodeExtents(this._contentNode).h;_70c.setContentSize(this.content,{h:Math.max(0,_714-_716-_715)});this.resizeChildren(this.content);},activate:function(){_70b.add(this.domNode,"mx-window-active");},deactivate:function(){_70b.remove(this.domNode,"mx-window-active");},_setTitleAttr:function(){}});return _711;});},"mxui/widget/DataView":function(){define(["mxui/widget/_WidgetBase","mxui/widget","mxui/dom","mxui/html/parser","webcore/objectsource/DirectObjectSource","webcore/objectsource/MicroflowObjectSource","webcore/objectsource/SchemaObjectSource","mendix/lib/MxContext","mendix/lib/ValidationError","mxui/store/asyncValueStore","dijit/registry","dojo/dom-geometry","dojo/topic","dojo/aspect","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_717,_718,_719,_71a,_71b,_71c,_71d,_71e,_71f,_720,_721,_722,_723,_724,_725,_726,_727){var _728=_727(_717,{declaredClass:"mxui.widget.DataView",entity:"",schema:"",autoLoad:false,datasource:null,conditions:null,hideFooter:false,useSchema:false,noEntityMessage:"",_mxObject:undefined,_mxidMap:null,_delayMap:null,_source:null,_parentContext:null,_contentNode:null,_controlsNode:null,_messageNode:null,_doUpdate:false,constructor:function(){this._parentContext=new _71e();},postMixInProperties:function(){this.doParse=true;},buildRendering:function(){var $=_719.create,_729=this.getTemplate("content"),_72a=this.getTemplate("footer");this.domNode=$("div",{"class":"mx-dataview"},$("div",{"class":"mx-dataview-content"},_729));this._contentNode=this.domNode.firstChild;if(this.noEntityMessage){this._messageNode=$("div",{"class":"mx-dataview-message","style":"display: none"},$("div",$("p",this.noEntityMessage)));this.domNode.appendChild(this._messageNode);}if(_72a){var _72b=this._controlsNode=$("div",{"class":"mx-dataview-controls"},_72a);if(this.hideFooter){_72b.style.display="none";}this.domNode.appendChild(_72b);}},postCreate:function(){var map=this._mxidMap={},_72c=this._delayMap={};for(var _72d in this.conditions){var _72e=this.conditions[_72d];for(var _72f in _72e){var _730=_72f===""?"_empty_":_72f,_731=_72e[_72f];_725.forEach(_731,function(_732){if(_732.action==="show"||_732.action==="hide"){_72c[_732.mxid]=1;}_726.setObject([_732.mxid,_72d,_730,_732.action].join("."),1,map);});}}if(!this.readOnly){this.listen("validate",this.validate);this.own(this.mxform.addSubmitProvider(this.id,this._getSubmitObjects.bind(this)));this.own(_724.after(this.mxform,"onResume",_726.hitch(this,"resume")));}this.createSource();},createSource:function(){var _733=this.datasource;if(_733){switch(_733.type){case "listen":case "direct":if(this.useSchema){_733.type="schema";this._source=new _71d({schema:this.schema,context:this._parentContext});}else{this._source=new _71b({schema:this.schema,context:this._parentContext,path:_733.path||this.entity});}break;case "microflow":this._source=new _71c({context:this._parentContext,microflow:_733.microflow,parameters:_733.parameters});break;default:throw new Error(this.id+".createSource : unknown datasource type: "+_733);}}if(_733.type==="listen"){var _734=window.mx.ui.makeShareId(this.mxform,this.datasource.contextsource),_735=_726.hitch(this,function(_736){this.applyContext(_736,function(){});});this.own(_723.subscribe(_734,_735));this.addOnLoad(function(){_720.retrieve(_734,_735);});}},parseNode:function(node){var _737=[],_738=true;var _739=function(node){var root=_738,mxid=node.getAttribute("data-mendix-id");_738=false;if(mxid){if(!root&&mxid in this._delayMap){node.setAttribute("data-mendix-not-parsed",true);window.mx.ui.applyToNode("hide",node);}else{var type=node.getAttribute("data-mendix-type");if(type){var _73a={doParse:false};if(this.schema===""&&type===this.declaredClass){_73a.schema="";}var _73b=this.parseContent(node,_73a,true)[0];if(_73b){this._patchWidget(_73b);_737.push(_73b);node=_73b.domNode;}}if(this._shouldBeVisited(node)){_725.forEach(node.children,_739,this);}}}else{_725.forEach(node.children,_739,this);}};_739.call(this,node);return _737;},startup:function(){var _73c=this.parseNode(this.domNode);_718.ready(_73c,_726.hitch(this,"actLoaded"));},applyContext:function(_73d,_73e){this.mxcontext.mixin(_73d);this._parentContext.mixin(_73d);this._update(_73e);},_update:function(_73f){var self=this;this._source.fetch(function(obj){_740(obj);},function(e){window.mx.onError(e);_740(null);});function _740(obj){if(obj===self._mxObject){self.applyConditions(_73f);}else{self._mxObject=obj;self.mxcontext.setObject(obj);self._setSubscriptions();self.refresh(_73f);}};},_setSubscriptions:function(){this.unsubscribeAll();if(this._mxObject){var guid=this._mxObject.getGuid();this.subscribe({guid:guid,callback:this.applyConditions.bind(this,null)});for(var attr in this.conditions){this.subscribe({guid:guid,attr:attr,callback:this.applyConditions.bind(this,null)});}}this._source.getDependencies().forEach(function(_741){_741.callback=this._update.bind(this,null);this.subscribe(_741);},this);},refresh:function(_742){this.set("disabled",!this._mxObject);if(this.mxform.isSuspended()){this._doUpdate=true;if(_742){_742();}return;}else{this._doUpdate=false;}if(this._messageNode){if(!this._mxObject){this._messageNode.style.display="block";}else{this._messageNode.style.display="none";}}this.passContext(_721.findWidgets(this.domNode),_726.hitch(this,"applyConditions",_742));},validate:function(_743,_744){var _745=this._mxObject;if(!_745||this.get("disabled")){if(_743){_743();}}else{var _746=this.getChildren(true),_747=true;for(var i=0,_748;_748=_746[i];i++){if(_748.isValid&&!_748.isValid()){_747=false;}}if(_747){if(_743){_743();}}else{var _749=this.translate("validation_error");if(_744){_744(new _71f(_749));}else{if(window.mx.ui.getProfile()==="phone"){window.mx.ui.error(_749);}}}}},resume:function(){if(this._doUpdate){this.refresh();this._doUpdate=false;}},getCFActions:function(node){var mxid=node.getAttribute("data-mendix-id")||node.getAttribute("mxid"),_74a=[];if(mxid){if(this._mxObject){var _74b=this._mxidMap[mxid];for(var attr in _74b){var _74c=this._mxObject.get2(attr),_74d=_74b[attr][_74c===""?"_empty_":_74c];for(var _74e in _74d){if(_74e==="show"){_74a.unshift("show");}else{_74a.push(_74e);}}}}else{if(mxid in this._delayMap){_74a.push("hide");}}}return _74a;},applyConditions:function(_74f){var _750=[],_751=false;var _752=function(node){var _753=!node.getAttribute("data-mendix-not-parsed"),_754=this.getCFActions(node);_754.forEach(function(_755){if(_755=="show"){_751=true;if(!_753){var _756=this.parseNode(node);_750.push.apply(_750,_756);if(_719.isOrphan(node)){node=_756[0].domNode;}node.removeAttribute("data-mendix-not-parsed");_753=true;}}window.mx.ui.applyToNode(_755,node);},this);if(_753&&this._shouldBeVisited(node)){_725.forEach(node.children,_752,this);}};_752.call(this,this.domNode);_718.ready(_750,function(){this.passContext(_750,function(){if(_750.length||_751){this.mxform.resize();}if(_74f){_74f();}});},this);},resize:function(box){if(box){var _757=box.h-_719.getNodeExtents(this.domNode).h;if(this._controlsNode){_757-=_722.getMarginBox(this._controlsNode).h;}_722.setContentSize(this._contentNode,{h:_757});}else{this._contentNode.style.height="auto";}this._contentNode.style.overflow=box?"auto":"";this.resizeChildren(this._contentNode,!box);},uninitialize:function(){this._source.destroy();},getChildren:function(_758){if(_758){var _759=[];_719.walkNode(this.domNode,function(node){var _75a=node.nodeType===_719.nodeTypes.ELEMENT_NODE&&_721.byNode(node);if(!_75a||_75a==this){return true;}_759.push(_75a);return !(_75a instanceof this.constructor);});return _759;}else{this.inherited(arguments);}},_patchWidget:function(_75b){var attr=_75b.name;if(!(_75b instanceof _717)&&(typeof _75b.onChange=="function")&&attr){this.connect(_75b,"onChange",function(){var _75c=_75b.get("value");this._mxObject.set(attr,_75c);});}},_shouldBeVisited:function(node){return node==this.domNode||!(_721.byNode(node) instanceof this.constructor);},_getSubmitObjects:function(){var _75d=this._mxObject&&this._mxObject.getGuid()!=="0"&&!this.get("disabled");var _75e=_75d?[this._mxObject]:[];return _75e;}});return _728;});},"mxui/store/asyncValueStore":function(){define([],function(){var _75f={};var _760={};return {register:function(id,_761){_75f[id]=_761;if(_760[id]){for(var i=0;i<_760[id].length;i++){_760[id][i](_761);}_760[id]=null;}},retrieve:function(id,_762){if(_75f[id]){_762(_75f[id]);}else{if(!_760[id]){_760[id]=[];}_760[id].push(_762);}},remove:function(id){delete _75f[id];delete _760[id];},hasValue:function(id){return id in _75f;}};});},"mxui/widget/LoginDialog":function(){define(["mxui/widget/Dialog","mxui/dom","dojo/dom-class","dojo/json","dojo/_base/declare","dojo/_base/event"],function(_763,_764,_765,_766,_767,_768){var _769=_767(_763,{declaredClass:"mxui.widget.LoginDialog",messageCode:0,closable:false,_userNode:null,_passNode:null,_cancelBtn:null,_loginCallback:null,buildRendering:function(){var $=_764.create,form,user,pass;this.caption=this.translate("loginButton");this.inherited(arguments);_765.add(this.domNode,"mx-login");this.domNode.removeChild(this._contentNode);this._contentNode=form=$("form",{"class":"modal-content mx-dialog-content"},this._headerNode,this._bodyNode,this._footerNode);this.domNode.appendChild(form);this.setContent($("#",user=this._userNode=$("input",{"class":"form-control",name:"username",type:"text",autocorrect:"off",autocapitalize:"none",placeholder:this.translate("username")}),pass=this._passNode=$("input",{"class":"form-control",name:"password",type:"password",autocorrect:"off",autocapitalize:"none",placeholder:this.translate("password")})));var _76a=$("button",{type:"submit","class":"btn btn-primary"},this.translate("loginButton")),_76b=this._cancelBtn=$("button",{type:"button","class":"btn"},window.mx.ui.translate("mendix.widget.DialogMessage","cancel"));this.setButtons([_76a,_76b]);this.connect(user,"keydown","reset");this.connect(pass,"keydown","reset");this.connect(form,"submit","submit");this.connect(_76b,"click",this.hide.bind(this,null));},translate:function(str){return window.i18nMap[str];},getStatusMessage:function(code){return this.translate("http"+code)||this.translate("httpdefault");},submit:function(e){_768.stop(e);var self=this;mx.login(this._userNode.value,this._passNode.value,function(){self.hide();},function(code){self.setCaption(self.getStatusMessage(code));_765.add(self.domNode,"error");});},onShow:function(done){if(this.messageCode){this.setCaption(this.getStatusMessage(this.messageCode));}this._cancelBtn.style.display=window.mx.isLoaded()?"":"none";this.inherited(arguments,[done]);},reset:function(){this.setCaption(this.translate("loginButton"));_765.remove(this.domNode,"error");}});return _769;});},"mxui/widget/Progress":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/lang","mendix/logger","dojo/dom-class","dojo/dom-style","dojo/_base/lang","dojo/_base/declare"],function(_76c,dom,lang,_76d,_76e,_76f,_770,_771){"use strict";var _772=_771(_76c,{declaredClass:"mxui.widget.Progress",showDelay:500,_showing:false,_messageId:0,_messages:null,_showTimer:null,_msgNode:null,_hideCon:null,constructor:function(){this._messages=[];},buildRendering:function(){this.domNode=dom.create("div",{"class":"mx-progress mx-progress-hidden"},this._msgNode=dom.create("div",{"class":"mx-progress-message"}),dom.create("div",{"class":"mx-progress-indicator"}));},add:function(text,_773){var id=this._messageId++;this._messages.push({id:id,text:text,modal:_773});this._updateMessage();if(!this._showing){this._show(_773);}else{if(_773){if(this._showTimer){clearTimeout(this._showTimer);this._showTimer=null;this._show(true);}else{window.mx.ui.showUnderlay();}}}return id;},remove:function(id){var _774=lang.find(this._messages,function(_775){return _775.id==id;});if(_774){if(_774.modal){window.mx.ui.hideUnderlay();}this._removeMessage(id);if(this._messages.length>0){this._updateMessage();}else{this._hide();}}else{_76d.error(this.id+".remove: Message id not found!");}},_show:function(_776){this._showing=true;if(_776){window.mx.ui.showUnderlay();}var _777=_770.hitch(this,function(){this._showTimer=null;if(this._hideCon){this._hideCon.remove();this._hideCon=null;}else{document.body.appendChild(this.domNode);_76f.get(this.domNode,"width");}_76e.remove(this.domNode,"mx-progress-hidden");});if(this._hideCon||_776){_777();}else{this._showTimer=setTimeout(_777,this.showDelay);}},_hide:function(_778){this._showing=false;if(this._showTimer){clearTimeout(this._showTimer);this._showTimer=null;}else{if(_778){window.mx.ui.hideUnderlay();}var _779=_76f.get(this.domNode,"opacity")==="0";if(dom.supports("transition")&&!_779){this._hideCon=this.connect(this.domNode,"transitionend",function(){this._hideCon.remove();this._hideCon=null;document.body.removeChild(this.domNode);});}else{document.body.removeChild(this.domNode);}_76e.add(this.domNode,"mx-progress-hidden");}},_updateMessage:function(){var _77a=lang.findLast(this._messages,function(_77b){return _77b.text;});if(_77a){_76e.remove(this.domNode,"mx-progress-empty");}else{_76e.add(this.domNode,"mx-progress-empty");}dom.text(this._msgNode,_77a?_77a.text:"");},_removeMessage:function(id){var _77c=lang.findIndex(this._messages,function(_77d){return _77d.id==id;});this._messages.splice(_77c,1);}});return _772;});},"mxui/widget/DataGrid":function(){define(["mxui/widget/_Grid","mxui/widget","mxui/wm/focus","mxui/dom","mxui/lib/ColumnResizer","mendix/lang","mendix/logger","webcore/url-helpers","dojo/query","dojo/on","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/text!mxui/widget/templates/DataGrid.html"],function(_77e,_77f,_780,_781,_782,_783,_784,_785,_786,_787,_788,_789,_78a,_78b,_78c){var _78d=_78b(_77e,{declaredClass:"mxui.widget.DataGrid",templateString:_78c,subClass:"mx-datagrid",cssmap:_77f.createCSSMap("mx-datagrid",{sortText:"sort-text",sortIcon:"sort-icon",headCaption:"head-caption",headWrapper:"head-wrapper",columnResizer:"column-resizer",dataWrapper:"data-wrapper"}),readOnly:false,gridBodyNode:null,gridFootNode:null,_deferSyncQueue:0,_deferSyncCallback:null,_mxObjects:null,_gridColumnNodes:null,_gridRowNodes:null,_gridMatrix:null,_visibleColumns:null,_hiddenAggregates:null,constructor:function(){this._mxObjects=[];this._gridColumnNodes=[];this._gridRowNodes=[];this._gridMatrix=[];this._visibleColumns=[];this._hiddenAggregates=[];this._gridState={sortable:true,selectable:true,selectionmode:"single",searchbar:true,controlbar:true,pagingbar:true,inDenial:false,searchBarVisible:false,searchBarTogglable:true,xpathConstraint:"",loading:false,invertedSelection:false};},postCreate:function(){this.inherited(arguments);if(this._metaEntity){this._addFocusBoxForTable();this.setupScroll();this.buildGridBody();this.loadPlugins();this.doGridAttributes();this.triggerOnLoad();}this.loaded();},setColumnStyle:function(node,_78e){var _78f=_78e.display,_790=_78f.align||"left";if(window.mx.ui.isRtl()){_790=(_790==="right"?"left":"right");}if(_78f.cssStyle){node.setAttribute("style",_78f.cssStyle);}else{node.removeAttribute("style");}_788.add(node,[_78e.name?"mx-name-"+_78e.name:"","mx-"+_790+"-aligned"]);_788.add(node,_78f.cssClass);},buildGridRow:function(_791,_792){var $=_781.create,tr=$("tr",{"class":"mx-name-index-"+_792}),row;this.domData(tr,"gridrow",_792);row=_789.map(_791,function(_793,i){var td=$("td");this.domData(td,{row:_792,column:i,key:_793.tag});this.setColumnStyle(td,_793);td.appendChild($("div",{"class":this.cssmap.dataWrapper}));tr.appendChild(td);return td;},this);this._gridMatrix.push(row);return tr;},setNodeTitle:function(_794,_795){if(!_794){return;}var _796=_781.text(_795||_794);_794.setAttribute("title",_78a.trim(_796));},gridbodyFillCell:function(_797,_798,_799){var _79a;if(!_798.has(_799)){return "&nbsp;";}switch(_797.render.toLowerCase()){case "icon":case "enumicon":var src=_797.display.mapping[_798.get2(_799)];_79a=src?"<img src='"+_785.getStaticResourceUrlFromPath(src)+"'>":"";break;case "weblink":_79a=_798.get2(_799);break;default:var _79b=_797.display,_79c=_79b.dateFormat||"date";_79a=window.mx.parser.formatAttribute(_798,_799,{selector:_79c.toLowerCase().replace("custom","date"),datePattern:_79b.format,groups:_79b.formatted,places:_79b.precision});_79a=_781.escapeString(_79a.replace(/\n/g," "));}return _79a||"&nbsp;";},disableRow:function(tr){tr.style.display="";_789.forEach(tr.getElementsByTagName("td"),function(td){td.firstChild.innerHTML="&nbsp";td.setAttribute("title","");});},setupGridState:function(){this.inherited(arguments);this._gridState.sortable=this._gridConfig.gridSetting("sortable");},loadPlugins:function(){this.hideFootNode();if(this._gridState.editable){this.loadPlugin("GridEditor");_780.removeBox(this.contentNode);}var _79d=this._gridConfig.getPlugins();for(var name in _79d){this.loadPlugin(name,_79d[name]);}},setupScroll:function(){var _79e=this.headTable,_79f=this.contentNode;this.connect(_79f,"scroll",function(){_79e.style.top=_79f.scrollTop+"px";});},resize:function(box){this.inherited(arguments);this._resizer.recalculate();},buildGridBody:function(){var self=this,$=_781.create,_7a0=this._gridConfig.gridAttributes(),_7a1=[],_7a2=[],row=$("tr",{"class":"mx-name-head-row"}),_7a3=$("div",{"class":this.cssmap.headCaption}),_7a4=$("div",{"class":this.cssmap.headWrapper}),_7a5={},_7a6=this._gridConfig.getPlugins()["Calculations"]||{};_781.disableSelection(row);_789.forEach(this.getState("sortOptions",this._gridConfig.gridSetting("sortparams")),function(_7a7){_7a5[_7a7[0]]=_7a7;});_789.forEach(_7a0,function(_7a8,i){var _7a9=_7a8.display.width,_7aa=_7a8.tag in _7a6,_7ab=_7a9!=null&&(_7a9=="0px"||_7a9=="0%");if(_7aa){_7a2.push(_7ab);}if(!_7ab){this._visibleColumns.push(_7a8);}},this);_789.forEach(_7a2,function(_7ac,i){if(_7ac){this._hiddenAggregates.push(i);}},this);_789.forEach(this._visibleColumns,function(_7ad,i){var _7ae=$("th");this.domData(_7ae,{datakey:_7ad.tag,index:i});this.setColumnStyle(_7ae,_7ad);var _7af=$("span",{"class":this.cssmap.sortText});var _7b0=$("div",{"class":this.cssmap.sortIcon,style:"display: none"},_7af);var _7b1=_7a5[_7ad.tag];if(_7b1){var _7b2=_7b1[1];this.domData(_7ae,"sortorder",_7b2);_7af.innerHTML=_7b2==="asc"?"&#9650;":"&#9660;";_7b0.style.display="";}var _7b3=_7a3.cloneNode(true);_7b3.innerHTML=_7ad.display.string||"&nbsp;";var _7b4=_7a4.cloneNode(true);_7b4.appendChild(_7b0);_7b4.appendChild(_7b3);_7ae.appendChild(_7b4);this.setNodeTitle(_7ae,_7b3);var _7b5=$("col",{style:"width: "+_7ad.display.width}),_7b6="width: "+_7ad.display.width+";";if(_7ad.display.cssClass){_788.add(_7b5,_7ad.display.cssClass);}if(_7ad.display.cssStyle){_7b6+=" "+_7ad.display.cssStyle;}_7b5.setAttribute("style",_7b6);var _7b7=_7b5.cloneNode(true);this.headTableGroupNode.appendChild(_7b5);this.bodyTableGroupNode.appendChild(_7b7);_7a1.push([_7b5,_7b7]);this._gridColumnNodes.push(_7ae);row.appendChild(_7ae);},this);this.gridHeadNode.appendChild(row);if(this._gridState.sortable){this.own(_787(this.gridHeadNode,"th:click",function(e){var key=self.domData(this,"index");if(_7a0[key].sortable!==false){self.eventColumnClicked(e,this);}}));}this._resizer=new _782({thNodes:_781.toArray(row.children),colNodes:_7a1,colUnits:_7a0[0].display.width.indexOf("%")>0?"%":"px",rtl:!this.isLeftToRight(),tableNode:this.headTable,gridNode:this.gridTable});if(this._gridState.showemptyrows){var _7b8=this._gridConfig.gridSetting("rows");for(var i=0;i<_7b8;i++){this.addNewRow();}}this.own(_787(this.gridBodyNode,"tr:click",function(e){self.eventItemClicked(e,this);}));this.liveConnect(this.gridBodyNode,"onclick",{td:"eventCellClicked"});this.liveConnect(this.gridBodyNode,"onmouseover",{tr:"eventRowMouseOver"});this.liveConnect(this.gridBodyNode,"onmouseout",{tr:"eventRowMouseOut"});var _7b9=this._gridConfig.getDefaultButton();if(_7b9){var evt=_7b9.clickType==="single"?"click":"dblclick";this.own(_787(this.gridBodyNode,"tr:"+evt,function(){self.triggerDefaultAction(this);}));}},addNewRow:function(){var _7ba=this._visibleColumns,_7bb=this._gridConfig.gridSetting("rows"),_7bc=this._gridRowNodes.length;if(_7bc>_7bb){return null;}var tr=this.buildGridRow(_7ba,_7bc);this._gridRowNodes.push(tr);this.gridBodyNode.appendChild(tr);var box=this.getFocusBox(this.contentNode);box.add&&box.add(tr);return tr;},doGridAttributes:function(){var _7bd=this._visibleColumns;_789.forEach(_7bd,function(_7be){var path=_7be.tag.split("/");if(path.length==2||path.length==4){path.shift();}_7be.attrs=path;},this);},fillGrid:function(){this._mxObjects=this._dataSource.getObjects()||[];var _7bf=this._visibleColumns,_7c0=false,_7c1=(this._gridState.selectfirst&&!this._gridState.invertedSelection&&this._mxObjects.length>0&&!this._hasSelection());if(_7c1){this._addToSelection(this._mxObjects[0].getGuid());}this._shareSelection(this._metaEntity.getEntity());var _7c2=this._mxObjects.length-this._gridRowNodes.length;if(_7c2>0){while(_7c2--){this.addNewRow();}_7c0=true;}else{if(_7c2<0){_789.forEach(this._gridRowNodes.slice(this._mxObjects.length),function(node){_788.remove(node,"selected");if(this._gridState.showemptyrows){this.disableRow(node);}else{node.style.display="none";}},this);}}_789.forEach(this._mxObjects,function(_7c3,i){var _7c4=_7c3.getGuid(),_7c5=this._gridRowNodes[i];this._gridbodyFillRow(_7c3,this._gridMatrix[i],_7bf);if(!this._isSelected(_7c4)){this.deselectRow(_7c5);}else{this.selectRow(_7c5);}_7c5.style.display="";},this);if(_7c0){this.mxform.resize();}},refreshGrid:function(){this.triggerPreRefresh();this.inherited(arguments);this.triggerOnRefresh();},triggerOnLoad:function(){this.triggerPluginEvent("onLoad");},triggerOnSync:function(){this.triggerPluginEvent("onSync");},triggerOnRefresh:function(){this.triggerPluginEvent("onRefresh");},triggerPreRefresh:function(){this.triggerPluginEvent("preRefresh");},triggerOnSearchChanged:function(){this.triggerPluginEvent("onSearchChanged");},actDeferSyncAction:function(_7c6){if(this._deferSyncQueue===0){_7c6&&_7c6();}else{if(this._deferSyncCallback==null){this._deferSyncCallback=_7c6;}else{}}},eventCellClicked:function(e){this.triggerPluginEvent("onCellClicked",e);},eventRowMouseOver:function(e){this.triggerPluginEvent("onRowMouseOver",e);},eventRowMouseOut:function(e){this.triggerPluginEvent("onRowMouseOut",e);},eventCellMouseOut:function(e){this.triggerPluginEvent("onCellMouseOut",e);},eventCellMouseOver:function(e){this.triggerPluginEvent("onCellMouseOver",e);},eventSelectRow:function(e){this.triggerPluginEvent("onSelectRow",e);},eventColumnClicked:function(e,node){var push=e.shiftKey;if(!push){_789.forEach(this._gridColumnNodes,function(node){node.querySelector("."+this.cssmap.sortIcon).style.display="none";},this);}else{_781.clearSelection();}var _7c7=this.domData(node,"datakey"),_7c8="asc";if(this.domData(node,"sortorder")){_7c8=this.domData(node,"sortorder");_7c8=(_7c8==="asc")?"desc":"asc";}this.domData(node,"sortorder",_7c8);var _7c9=node.querySelector("."+this.cssmap.sortText);_7c9.innerHTML=(_7c8==="asc"?"&#9650;":"&#9660;");_7c9.parentNode.style.display="";this._dataSource.setSortOptions(_7c7,_7c8,push);if(this.constraintsFilled()){this._dataSource.refresh(_78a.hitch(this,"refreshGrid"));}},deselectGridRows:function(){_789.forEach(this._gridRowNodes,function(node){this.deselectRow(node);},this);},getAggregates:function(){return this._dataSource.getAggregates();},actionExport:function(_7ca){if(this.constraintsFilled()){var _7cb=window.mx.ui.getProgress("",true);_7cb.start();this._dataSource.generateExport({params:_7ca,callback:function(){_7cb.stop();},error:function(e){_7cb.stop();window.mx.onError(e);}});}},actionInsertNewAtTop:function(_7cc){var _7cd=this._getEntity(_7cc);if(_7cd){this._insertNewFirstOrLast(_7cd,_7cc[_7cd],false);}},actionInsertNewAtBottom:function(_7ce){var _7cf=this._getEntity(_7ce);if(_7cf){this._insertNewFirstOrLast(_7cf,_7ce[_7cf],true);}},getCellNode:function(_7d0,key){var row=this._gridMatrix[_7d0];if(row){for(var i=0;i<row.length;i++){if(this.domData(row[i],"key")===key){return row[i];}}}return null;},getMxObjectAtRow:function(_7d1){return (this._mxObjects.length>=_7d1)?this._mxObjects[_7d1]:false;},getRowForMxObject:function(_7d2){var _7d3=this._mxObjects;for(var i=0;i<_7d3.length;++i){if(_7d3[i].getGuid()===_7d2.getGuid()){return i;}}},getEntityProperties:function(){return this._visibleColumns;},getHiddenAggregates:function(){return this._hiddenAggregates.slice();},getActionProperties:function(_7d4,_7d5){var _7d6=this._gridConfig.dataEntityConfigs(),act=null;if(_7d6[_7d4]){act=_7d6[_7d4][_7d5];}return act;},getCurrentGridSize:function(){return this._mxObjects.length;},getGridNodeHash:function(){return this._gridMatrix;},getCurrentXPath:function(){var _7d7=this._dataSource?this._dataSource.getCurrentXPath()||"":"";return _7d7+this._gridState.xpathConstraint;},preventUpdates:function(){this._gridState.inDenial=true;},acceptUpdates:function(){this._gridState.inDenial=false;},acceptingUpdates:function(){return !this._gridState.inDenial;},updateMxObject:function(_7d8,_7d9){var row=this.getRowForMxObject(_7d8);if(!row){this._gridbodyFillRow(_7d8,this._gridMatrix[row],this._visibleColumns);}_7d9&&_7d9();},showFootNode:function(){this.gridFootNode.style.display="";},hideFootNode:function(){this.gridFootNode.style.display="none";},addToSyncDeferQueue:function(){this._deferSyncQueue++;},removeFromSyncDeferQueue:function(){this._deferSyncQueue--;if(this._deferSyncQueue===0){if(this._deferSyncCallback!=null){this._deferSyncCallback();this._deferSyncCallback=null;}else{}}},uninitialize:function(){this._resizer.destroy();this.triggerPluginEvent("onDestroy");this.inherited(arguments);},_setSelectableAttr:function(_7da){this._gridState.selectable=!!_7da;},_setDisabledAttr:function(_7db){},_setReadOnlyAttr:function(_7dc){var self=this;function _7dd(_7de,_7df){_789.forEach(_7de,function(tool){if(tool.mxid){var _7e0=this._gridConfig.getActionsByKey(tool.mxid);if(_7e0&&/AddRef|DeleteRef|CreateRef/.test(_7e0.actionCall)){_7df&&_7df(tool);}}},self);};if(this._gridState.controlbar&&_7dc!=this.readOnly){var _7e1=this._gridConfig.gridTools();if(_7dc){_7dd(_7e1,function(tool){self.toolBarNode.removeChild(tool._domNode);});}else{_7dd(_7e1,function(tool){if(tool._nextNode){self.toolBarNode.insertBefore(tool._domNode,tool._nextNode);}else{self.toolBarNode.appendChild(tool._domNode);}});}this.readOnly=!!_7dc;}},_renderObjectsToCell:function(_7e2,td,_7e3){var _7e4=_7e3.attrs.slice(-1)[0],_7e5=td.firstChild,_7e6=[],_7e7=[];td.firstChild.innerHTML="";_789.forEach(_7e2,function(obj){var _7e8=this.gridbodyFillCell(_7e3,obj,_7e4);if(_7e8!=null){_7e6.push(_7e8);}else{_784.error(this.id+".gridBodyFillRow: received no content");}if(/^(enum)?icon$/i.test(_7e3.render)){_7e7.push(obj.getEnumCaption(_7e4));}},this);_7e5.innerHTML=_7e6.join(", ");if(_7e5.childNodes.length===0){_7e5.innerHTML="&nbsp;";}if(_7e7.length!==0){td.setAttribute("title",_7e7.join(";"));}else{this.setNodeTitle(td);}},_gridbodyFillRow:function(_7e9,_7ea,_7eb){_789.forEach(_7ea,function(td,i){var _7ec=[],_7ed=_7eb[i],_7ee=false,_7ef=_7ed.attrs;if(_7ef.length===1){_7ec.push(_7e9);}else{var _7f0=_7e9,_7f1;for(var j=0;j<_7ef.length-1;j+=2){var _7f2=_7ef[j],_7f3=_7ef[j+1];_7f1=_7f0.getChildren(_7f2);if(_7f1.length>0){if(j>0&&!_7f1[0].isA(_7f3)){_784.error(this.id+".gridBodyFillRow: entity and reference do not match");_7f1=[];break;}_7f0=_7f1[0];}else{if(_7ef.length===3){_7ee=!!_7e9.get2(_7f2);break;}else{break;}}}[].push.apply(_7ec,_7f1);}if(!_7ee){this._renderObjectsToCell(_7ec,td,_7ed);}else{if(_7e9.isReference(_7ef[0])){var self=this;window.mx.data.get({guids:_7e9.getReferences(_7ef[0]),callback:function(_7f4){self._renderObjectsToCell(_7f4,td,_7ed);},error:window.mx.onError},this);}else{_784.error(this.id+".gridBodyFillRow: attribute '"+_7ef[0]+"' is not a reference(set)");}}},this);},_insertNewFirstOrLast:function(_7f5,_7f6,last){var _7f7=function(_7f8){window.mx.data.create({entity:_7f5,context:this.mxcontext,callback:function(obj){if(!last){this._dataSource.insertMxObjectAtStart(obj);}else{this._dataSource.insertMxObjectAtEnd(obj);}_7f8();},error:window.mx.onError},this);};this.triggerOnSync();this.sequence([_7f7,"actDeferSyncAction",function(){this.refreshGrid();var row=last?this._dataSource.getObjects().length-1:0;this.eventSelectRow({row:row});}]);},_getEntity:function(_7f9){return _783.firstKey(_7f9);},_getCurrentGuid:function(){return this.selection[this.selection.length-1];},_getNodeFromEvent:function(e){return _781.getAncestorNode(e.target,"TR");},_getObjectFromNode:function(node){return this._mxObjects[this.domData(node,"gridrow")];},_addFocusBoxForTable:function(){var box=this.addFocusBox(this.contentNode);box.pressed({DOWN_ARROW:box.FOCUS_NEXT,UP_ARROW:box.FOCUS_PREV,SPACE:function(e){this.eventItemClicked(e,e.target);},ENTER:function(e,_7fa){var _7fb=this._gridConfig.getDefaultButton();if(_7fb&&_7fa){this.triggerDefaultAction(_7fa);}},LEFT_ARROW:function(){if(!this._dataSource.atBeginning()){this._dataSource.previous(_78a.hitch(this,function(){this.refreshGrid();_780.restore();}));}},RIGHT_ARROW:function(){if(!this._dataSource.atEnd()){this._dataSource.next(_78a.hitch(this,function(){this.refreshGrid();_780.restore();}));}}},this);}});return _78d;});},"mxui/widget/_Grid":function(){define(["require","mxui/mixin/_Contextable","mxui/mixin/_Stateful","mxui/mixin/_Pluggable","mxui/lib/overflowHelper","mxui/mixin/_ContainingSelection","mxui/mixin/_Templated","mxui/lib/MxGridConfig","mxui/widget/SearchInput","mxui/widget/Button","mxui/widget/ControlBarButton","mxui/widget","mxui/dom","mendix/lib/MxContext","mendix/lib/ValidationError","webcore/dataSourceFactory","webcore/datasource/XPathSource","mendix/logger","dojo/fx","dojo/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/fx/Toggler"],function(_7fc,_7fd,_7fe,_7ff,_800,_801,_802,_803,_804,_805,_806,_807,_808,_809,_80a,_80b,_80c,_80d,_80e,_80f,_810,_811,_812,_813,_814,_815){var _816=_807.declare("mxui.widget._Grid",{mixins:[_802,_7fd,_7fe,_7ff,_801],baseClass:"mx-grid",css:_807.createCSSMap("mx-grid",{pagingStatus:"paging-status",searchButton:"search-button",resetButton:"reset-button"}),entity:"",schema:"",useContext:false,customDataSource:null,dataSourceMixin:null,_previousSearchConstraints:"",pagingBarNode:null,searchNode:null,toolBarNode:null,messageNode:null,searchButton:null,resetButton:null,_dataSource:null,_gridConfig:null,_gridState:null,_metaEntity:null,_toolWidgets:null,_pagingStatusNode:null,_preserveSelection:false,_defaultButtonWidget:null,_restoreSearchState:true,constructor:function(_817){this._preserveSelection="selection" in _817;},fetchMetaObject:function(){this._metaEntity=window.mx.meta.getEntity(this.entity);if(this._metaEntity==null){_80d.error(this.id+": This grid has been configured for an entity the current user doesn't have access to.");return false;}return true;},setupGridConfig:function(){this._gridConfig=new _803({config:this.config,nested:this.nested});},setupGridState:function(){var _818=this._gridConfig,_819=this._gridState;_819.updateperiod=_818.gridSetting("refresh");_819.searchbar=_818.gridSetting("searchbar");_819.controlbar=_818.gridSetting("controlbar");_819.pagingbar=_818.gridSetting("pagingbar");_819.selectionmode=_818.gridSetting("selectionmode");_819.selectable=(_819.selectionmode!=="none");_819.editable=_818.gridSetting("editable");_819.showemptyrows=_818.gridSetting("showemptyrows");_819.selectfirst=_818.gridSetting("selectfirst");},setupDataSource:function(){var _81a=this._gridConfig,_81b=_81a.getDataSource(),_81c=this.getState("pageOffset",0),_81d=_81a.gridSetting("pageSize"),_81e;if(this.customDataSource){_81e=this.customDataSource;_81e.setPageSize(_81d);_81e.setOffset(_81c);var _81f=this.getState("sortOptions",_81a.gridSetting("sortparams"));if(_81f){_81e.setSortOptions(_81f[0][0],_81f[0][1]);}}else{if(_81b){_81e=_80b.create(_814.mixin({sort:this.getState("sortOptions",_81a.gridSetting("sortparams")),aggregates:"Calculations" in this._gridConfig.getPlugins(),queryid:this instanceof _7fc("mxui/widget/DataGrid")?this.schema:"",context:this.mxcontext,page:_81d,offset:_81c,useContext:this.useContext},_81b,this.dataSourceMixin));}}this._dataSource=_81e;},resizeGrid:function(){this.contentNode.scrollTop=0;},setUpdateInterval:function(){var _820=this._gridState.updateperiod;if(_820&&_820.toString()!="0"){this.clearInterval();this._gridState.update=setInterval(_814.hitch(this,"reload"),parseInt(_820*1000,10));}},clearInterval:function(){if(this._gridState.update!=null){clearInterval(this._gridState.update);}},actionSelectPage:function(){if(!this._gridState.invertedSelection){for(var i=0,_821=this._dataSource.getObjects(),_822;_822=_821[i];i++){this._addToSelection(_822.getGuid());}}this.refreshGrid();},actionSelectAllPages:function(){this.selection=[];this._gridState.invertedSelection=true;this.refreshGrid();},actionClearSelection:function(){if(this._hasSelection()||this._gridState.invertedSelection){this.selection=[];this._gridState.invertedSelection=false;this.refreshGrid();}},actionEditSelection:function(_823){if(!this._hasSelection()&&!this._gridState.invertedSelection){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{for(var i=0,obj;obj=this.selection[i];i++){var _824=this._dataSource.getObject(obj),_825=_823[_824.getEntity()],_826=this.createContext();_826.dupFrom(this.mxcontext);_826.setObject(null,_824.getEntity(),_824.getGuid());window.mx.ui.execute({type:"openPage",params:_825.pageSettings},{origin:this.mxform,context:_826});}}},actionInsertNew:function(_827){var _828=this._getEntity(_827),_829=_827[_828];window.mx.data.create({entity:_828,context:this.useContext?this.mxcontext:null,callback:function(obj){if(!this.useContext){var _82a=this._gridConfig.getDataSource(),_82b=_82a.path||"",_82c=_82b.split("/"),guid=this.mxcontext.getTrackId();if(_82c.length==2&&guid){var attr=_82c[0];if(obj.isReference(attr)){obj.set(attr,guid);}}}var _82d=this.createContext();_82d.setContext(obj);window.mx.ui.execute({type:"openPage",params:_829.pageSettings},{origin:this.mxform,context:_82d});},error:function(e){window.mx.onError(e);}},this);},selectRow:function(row){if(this._gridState.invertedSelection){_810.remove(row,"selected");}else{_810.add(row,"selected");}},deselectRow:function(row){if(!this._gridState.invertedSelection){_810.remove(row,"selected");}else{_810.add(row,"selected");}},postCreate:function(){var box=this.addFocusBox(this.controlNode);box.pressed({RIGHT_ARROW:box.FOCUS_NEXT,LEFT_ARROW:box.FOCUS_PREV});this.initContext();this._previousSearchConstraints=this.getState("searchConstraints","");if(this.fetchMetaObject()){this.setupGridConfig();this.setupGridState();this.buildSearchBar();this.buildControlBar();this.buildToolBar();this.buildPagingBar();this.setupDataSource();}},getSchemaId:function(){return this.schema;},deselectAll:function(){this.selection=[];this.deselectGridRows();},registerSubscriptions:function(){this.removeSubscriptions();var guid=this.mxcontext.getTrackId();if(guid){this.subscribe({guid:this.mxcontext.getTrackId(),callback:_814.hitch(this,"objectUpdate")});}this.subscribe({entity:this.entity,callback:_814.hitch(this,"objectUpdate")});},eventItemClicked:function(e,node){if(!this._gridState.selectable){return;}var obj=this._getObjectFromNode(node);if(!obj){return;}var _82e=_813.indexOf(this.selection,obj),mode=this._gridState.selectionmode,_82f=mode!="singleandmaintain"||this.selection.length>1;if(mode=="simplemulti"||mode=="multi"&&(_80f("mac")&&e.metaKey||e.ctrlKey)){if(_82e==-1){this.selectRow(node);this._addToSelection(obj.getGuid());}else{if(_82f){this.deselectRow(node);this._removeFromSelection(obj.getGuid());}}}else{if(_82e==-1){this.deselectAll();this.selectRow(node);this._addToSelection(obj.getGuid());}else{if(_82f){this.deselectRow(node);this._removeFromSelection(obj.getGuid());}}}this._shareSelection(this._metaEntity.getEntity());},triggerDefaultAction:function(_830){var _831=this._getObjectFromNode(_830);if(!_831){return;}if(!this._defaultButtonWidget||!this._defaultButtonWidget.isConditionallyVisible()){return;}this.deselectAll();if(this._gridState.selectable){this.selectRow(_830);_808.clearSelection();}this._addToSelection(_831.getGuid());this.eventControlBarButtonClicked(this._defaultButtonWidget.domNode);if(!this._gridState.selectable){this.deselectAll();}},eventControlBarButtonClicked:function(_832){var _833=_832.getAttribute("data-mendix-id"),_834=this._gridConfig.getActionsByKey(_833);if(_834.actionCall==="ActionSelected"){_834.actionCall="EditSelection";}else{if(_834.actionCall==="Create"){_834.actionCall="InsertNew";}}var _835="action"+_834.actionCall;if(this[_835]){this[_835](_834.params);}else{_80d.error(this.id+".eventControlBarButtonClicked: Called function '"+_835+"' does not exist in this component");}},actionInvokeAction:function(_836){this.triggerPluginEvent("invokeAction",null,_814.hitch(this,"invokeAction",_836));},_getPlainSelection:function(){if(!this._gridState.invertedSelection){return this.selection;}var self=this,_837=[];this._dataSource.each(function(obj){var guid=obj.getGuid();if(_813.indexOf(self.selection,guid)===-1){_837.push(guid);}});return _837;},_getXpathSelection:function(){var _838,_839,_83a,_83b=this._gridState.invertedSelection;if(_83b){_83a=this._dataSource.getSetSize()-this.selection.length;_838=this._dataSource.getCurrentXPath();}else{_83a=this.selection.length;_838="//"+this.entity;}if(_83a===0){return null;}var _83c=[];_813.forEach(this.selection,function(id){_83c.push("id"+(_83b?"!=":"=")+"\""+id+"\"");});if(_83c.length===0){_839="";}else{_839="["+_83c.join(_83b?" and ":" or ")+"]";}return {xpath:_838,constraints:_839,sort:this._dataSource.getSortSettings()};},_getMicroflowParameters:function(_83d){var _83e={gridid:this.schema};if(!_83d){_83e.applyto="none";}else{if(_83d=="selection"){if(this._dataSource instanceof _80c){var _83f=this._getXpathSelection();if(!_83f){return null;}_83e.applyto="selectionset";_814.mixin(_83e,_83f);}else{var _840=this._getPlainSelection();if(_840.length===0){return null;}_83e.applyto="selection";_83e.guids=_840;}}else{if(_83d=="allPages"){if(this._dataSource instanceof _80c){if(this._dataSource.getSetSize()===0){_83e.applyto="none";}_814.mixin(_83e,{xpath:this._dataSource.getCurrentXPath(),sort:this._dataSource.getSortSettings(),applyto:"set"});}else{var _841=_813.map(this._dataSource.getObjects(),function(obj){return obj.getGuid();});_83e.applyto="selection";_83e.guids=_841;}}}}return _83e;},invokeAction:function(_842){var self=this,_843=_842[this.entity],_844=_843.action,_845;if(_844.type==="callMicroflow"){var _846=this._getMicroflowParameters(_844.params.applyTo);if(!_846){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));return;}_845={origin:this.mxform,context:this.mxcontext,params:_846,abortOnClientValidations:true,abortOnServerValidations:true,callback:_847};}else{if(_844.type==="openPage"){var _848=new _809();if(_844.hasParameter){var _849=this._getPlainSelection();if(!_849.length){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));return;}_848.setTrackId(_849[0]);_848.setTrackEntity(this.entity);}_845={origin:this.mxform,context:_848,callback:_847};}}if(this.actDeferSyncAction){this.actDeferSyncAction(_84a);}else{_84a();}function _84a(){window.mx.ui.execute(_844,_845);};function _847(){if(!(self._destroyed||_843.maintainSelection||self._gridState.selectionmode=="singleandmaintain")){self.deselectAll();self._shareSelection(self._metaEntity.getEntity());}};},actionReturnSelection:function(){var form=this.mxform;form.validate(function(){var _84b=function(e){if(!(e instanceof _80a)){window.mx.onError(e);}};form.commit(function(){form.close();},_84b);});},controlNode:null,_setToolbarAttr:function(_84c){for(var i=0,btn;btn=this._toolWidgets[i++];){btn.set("disabled",_84c);}},buildControlBar:function(){if(!this._gridState.controlbar&&!this._gridState.pagingbar){this.controlNode.style.display="none";}},buildToolBar:function(){this._toolWidgets=[];if(!this._gridState.controlbar){this.toolBarNode.style.display="none";}var _84d=this._gridConfig.gridTools(),box=this.getFocusBox(this.controlNode),frag=document.createDocumentFragment(),_84e=this._gridConfig.getDefaultButton();for(var i in _84d){var tool=_84d[i];var _84f={mxid:tool.mxid,caption:tool.caption,title:tool.title,onClick:_814.hitch(this,function(e){this.eventControlBarButtonClicked(e.currentTarget);}),cssClasses:"mx-name-"+tool.name+(tool.cssClass?(" "+tool.cssClass):""),cssStyle:tool.cssStyle,alwaysHidden:tool.alwaysHidden};if(tool.iconClass){_84f.iconClass=tool.iconClass;}else{if(tool.iconUrl){_84f.iconUrl=tool.iconUrl;}}var _850=new _806(_84f),_851=_850.domNode;if(_84e&&tool.mxid===_84e.mxid){this._defaultButtonWidget=_850;}_850.applyContext(this.mxcontext);this._toolWidgets.push(_850);try{if(_84d[i].gridFunction){_851.setAttribute("gridFunction",_84d[i].gridFunction);_851.setAttribute("param",_84d[i].param);if(_84d[i].background){_851.setAttribute("background-job",_84d[i].background);}if(_84d[i].progress){_851.setAttribute("progress",_84d[i].progress);}if(_84d[i].message){_851.setAttribute("message",_84d[i].message);}}if(i>0){_84d[i-1]._nextNode=_851;}_84d[i]._domNode=_851;frag.appendChild(_851);frag.appendChild(document.createTextNode(" "));box.add(_851);_850.startup();}catch(e){}}this.toolBarNode.appendChild(frag);_808.disableSelection(this.toolBarNode);},buildPagingBar:function(){if(!this._gridState.pagingbar){this.pagingBarNode.style.display="none";return;}var ltr=this.isLeftToRight(),frag=document.createDocumentFragment(),box=this.getFocusBox(this.controlNode),$=_808.create;this.btFirst=new _805({iconClass:ltr?"glyphicon-step-backward":"glyphicon-step-forward","onClick":_814.hitch(this,"eventPagingFirstClicked"),"class":"mx-name-paging-first"});frag.appendChild($("#",this.btFirst.domNode," "));box.add(this.btFirst.domNode);this.btPrevious=new _805({iconClass:ltr?"glyphicon-backward":"glyphicon-forward","onClick":_814.hitch(this,"eventPagingPreviousClicked"),"class":"mx-name-paging-previous"});frag.appendChild($("#",this.btPrevious.domNode," "));box.add(this.btPrevious.domNode);this._pagingStatusNode=$("div",{"class":"dijitInline "+this.css.pagingStatus});frag.appendChild($("#",this._pagingStatusNode," "));this.btNext=new _805({iconClass:ltr?"glyphicon-forward":"glyphicon-backward","onClick":_814.hitch(this,"eventPagingNextClicked"),"class":"mx-name-paging-next"});frag.appendChild($("#",this.btNext.domNode," "));box.add(this.btNext.domNode);this.btLast=new _805({iconClass:ltr?"glyphicon-step-forward":"glyphicon-step-backward","onClick":_814.hitch(this,"eventPagingLastClicked"),"class":"mx-name-paging-last"});frag.appendChild($("#",this.btLast.domNode," "));box.add(this.btLast.domNode);this.pagingBarNode.appendChild(frag);_808.disableSelection(this.pagingBarNode);},updatePagingStatus:function(){if(!this._gridState.pagingbar){return;}var _852=this._dataSource.getStatusMessage();_808.text(this._pagingStatusNode,_852);if(this._dataSource.atBeginning()){this.btFirst.set("disabled",true);this.btPrevious.set("disabled",true);}else{this.btFirst.set("disabled",false);this.btPrevious.set("disabled",false);}if(this._dataSource.atEnd()){this.btNext.set("disabled",true);this.btLast.set("disabled",true);}else{this.btNext.set("disabled",false);this.btLast.set("disabled",false);}},eventPagingFirstClicked:function(){if(!this._dataSource.atBeginning()){this._dataSource.first(_814.hitch(this,"refreshGrid"));}},eventPagingPreviousClicked:function(){if(!this._dataSource.atBeginning()){this._dataSource.previous(_814.hitch(this,"refreshGrid"));}},eventPagingNextClicked:function(){if(!this._dataSource.atEnd()){this._dataSource.next(_814.hitch(this,"refreshGrid"));}},eventPagingLastClicked:function(){if(!this._dataSource.atEnd()){this._dataSource.last(_814.hitch(this,"refreshGrid"));}},_searchElements:null,_searchFilled:false,searchArgumentNode:null,searchControlNode:null,_searchGetConstraints:function(){var _853="";var _854=[];_813.forEach(this._searchElements,function(elem){var _855=elem.get("query");if(_855!==""){_854.push(_855);}});if(_854.length){_853="["+_854.join(" and ")+"]";}return _853+this._gridState.xpathConstraint;},buildSearchBlock:function(){var $=_808.create;var _856=this.searchButton=new _805({"caption":window.mx.ui.translate("mxui.widget.DataGrid",["search"]),"onClick":_814.hitch(this,"eventSearchActivated"),"class":"btn-default mx-name-search "+this.css.searchButton});this.searchControlNode.appendChild($("#",_856.domNode," "));var _857=this.resetButton=new _805({"caption":window.mx.ui.translate("mxui.widget.DataGrid",["reset"]),"onClick":_814.hitch(this,"eventSearchResetClicked"),"class":"btn-default mx-name-reset "+this.css.resetButton});this.searchControlNode.appendChild($("#",_857.domNode," "));var _858=document.createDocumentFragment();this._searchElements=_813.map(this._gridConfig.searchBarItems(),_814.hitch(this,function(_859){var _85a=new _804(_814.mixin({entity:this.entity,mxcontext:this.mxcontext},_859));this.connect(_85a,"onKeyUp","eventSearchActivated");_858.appendChild(_85a.domNode);_85a.startup();return _85a;}));this.searchArgumentNode.appendChild(_858);},buildSearchBar:function(){if(!this._gridState.searchbar){this.searchNode.style.display="none";this._searchFilled=true;return;}var _85b=this._gridConfig.searchBarConfig();this._gridState.searchBarVisible=this.getState("searchBarVisible",!_85b.toggledByDefault);this._gridState.searchBarTogglable=!!_85b.toggleable;this.buildSearchBlock();if(!this._gridState.searchBarVisible){this.searchNode.style.display="none";}this.checkSearchFields();},eventSearchActivated:function(e){_815.stop(e);if(!(e.type==="click"||(e.keyCode===13&&!e.shiftKey))){return;}var self=this,_85c=this.searchButton;this.checkSearchFields();if(!this.constraintsFilled()){return;}_85c.set("disabled",true);this._dataSource.isValid(function(_85d){if(_85d){self._dataSource.setConstraints(self._searchGetConstraints(),function(){if(!self._preserveSelection){self.selection=[];}self.refreshGrid();if(self.triggerOnSearchChanged){self.triggerOnSearchChanged();}_85c.set("disabled",false);});}else{_85c.set("disabled",false);}});},eventSearchResetClicked:function(){var _85e=this._dataSource;_813.forEach(this._searchElements,function(elem){elem.reset();});this.checkSearchFields();_85e.setConstraints(this._searchGetConstraints());var _85f=_814.hitch(this,function(){this.refreshGrid();if(this.triggerOnSearchChanged){this.triggerOnSearchChanged();}});if(this.constraintsFilled()){_85e.isValid(function(_860){if(_860){_85e.refresh(_85f);}else{_85e.clean(_85f);}});}},checkSearchFields:function(){if(!this._gridConfig.gridSetting("waitforsearch")){this._searchFilled=true;return;}this._searchFilled=_813.some(this._searchElements,function(elem){return elem.get("query")!=="";});if(this._searchFilled){this.messageNode.innerHTML="";this.messageNode.style.display="none";}else{this.messageNode.innerHTML=window.mx.ui.translate("mxui.widget.DataGrid","waitForSearch");this.messageNode.style.display="block";}},constraintsFilled:function(){return this._searchFilled;},reload:function(_861){if(this.constraintsFilled()){var self=this;this._dataSource.isValid(function(_862){if(_862){self._dataSource.refresh(function(){self.refreshGrid();if(_861){_861();}});}});}},actionToggleSearch:function(){var self=this;this._gridState.searchBarVisible=!this._gridState.searchBarVisible;if(!this._gridState.searchBarVisible){this._searchWipeOut=this._searchWipeOut||_80e.wipeOut({node:this.searchNode,duration:200,onEnd:function(){setTimeout(function(){self.resize(self._resizeBox);},0);_813.forEach(self._searchElements,function(elem){elem.cleanup();});}});this._searchWipeOut.play();}else{this._searchWipeIn=this._searchWipeIn||_80e.wipeIn({node:this.searchNode,duration:200,onEnd:function(){setTimeout(function(){_800.showOverflow(self.domNode);self.resize(self._resizeBox);},0);try{_813.some(self._searchElements,function(elem){if(!elem.get("hidden")){elem.focus();return true;}});}catch(e){}}});_800.hideOverflow(this.domNode);this._searchWipeIn.play();}},applyContext:function(_863,_864){if(this._metaEntity==null){if(_864){_864();}return;}if(!this._dataSource){_80d.error(this.id+".applyContext: Applying context before rendered!!!");if(_864){_864();}return;}this.cloneContext(_863);this.setUpdateInterval();_813.forEach(this._toolWidgets,function(_865){_865.applyContext(this.mxcontext);},this);this._gridState.xpathConstraint="";var _866=this.mxcontext.getParam("xpathConstraint");if(_866){this._gridState.xpathConstraint+=_866;}this.removeSubscriptions();this.registerSubscriptions();if(!this._gridState.inDenial){var _867=[this.reinitSearchFields];if(this.constraintsFilled()){_867.push(function(_868){if(this._dataSource.setConstraints){var _869=this._previousSearchConstraints?this._previousSearchConstraints:this._searchGetConstraints();this._previousSearchConstraints="";this._dataSource.setConstraints(_869);}this._dataSource.setOffset(this.getState("pageOffset",0));this._dataSource.reload(_868);});}else{_867.push(this.actCleanDS);}this.sequence(_867,function(){if(!this._preserveSelection){this.selection=this.getState("selectedGuids",[]);this.filterSelected();}this.refreshGrid();_864();},this);}else{_864();}},reinitSearchFields:function(_86a){var _86b=this._restoreSearchState&&this.getState("searchInput")||{};this._restoreSearchState=false;this.collect(_813.map(this._searchElements,function(_86c){return function(cb){_86d(_86c,cb);};}),_86a);function _86d(_86e,cb){_86e.reinit(function(){if(_86e.path in _86b){_86e.set("value",_86b[_86e.path]);}cb();});};},filterSelected:function(){this.selection=_813.filter(this.selection,function(guid){return this._dataSource.getObject(guid)!=null;},this);},objectUpdateNotification:function(){var self=this;if(!this._gridState.inDenial&&this.constraintsFilled()){this._dataSource.isValid(function(_86f){if(_86f){self.sequence([_814.hitch(self._dataSource,"entityUpdate"),function(_870){this.filterSelected();this.refreshGrid();if(_870){_870();}}]);}});}},refreshGrid:function(){if(this._dataSource.afterEnd()){this._dataSource.first(_814.hitch(this,"refreshGrid"));return;}this.updatePagingStatus();this.fillGrid();this.resizeGrid();},actCleanDS:function(_871){this.selection=[];this._dataSource.clean(_871);},actionDeleteSelection:function(_872){if(this._gridState.invertedSelection){}else{if(!this._hasSelection()){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{var self=this;var _873=function(){var _874=self.selection;self.deselectAll();self._shareSelection(self._metaEntity.getEntity());window.mx.data.remove({guids:_874,callback:function(){window.mx.data.sendClassUpdate(self.entity);},error:function(e){window.mx.onError(e);}});};if(_872===true){_873();}else{window.mx.ui.confirmation({content:window.mx.ui.translate("mxui.widget.DataGrid","confirm_delete",this.selection.length),handler:_873});}}}},resize:function(box){var _875=false;if(box){var _876=_812.getMarginBox(this.domNode),_877=_812.getMarginBox(this.contentNode),_878=box.h-(_876.h-_877.h);if(_878>_808.minContainerHeight){_811.set(this.contentNode,"height",_878+"px");_875=true;if(this.headTable){_811.set(this.headTable,"top","0px");}}}this.contentNode.style.overflow=_875?"auto":"";if(!_875){_811.set(this.contentNode,"height","auto");}this._resizeBox=box;},onHide:function(){_813.forEach(this._searchElements,function(elem){elem.cleanup();});},storeState:function(_879){_879("searchBarVisible",this._gridState.searchBarVisible);_879("searchConstraints",this._dataSource.getConstraints&&this._dataSource.getConstraints());_879("pageOffset",this._dataSource.getOffset());if(this._gridState.selectable){_879("selectedGuids",this.selection);}if(this._dataSource.getSortSettings){_879("sortOptions",this._dataSource.getSortSettings());}var _87a={};_813.forEach(this._searchElements,function(_87b){_87a[_87b.path]=_87b.get("value");});_879("searchInput",_87a);},uninitialize:function(){this.clearInterval();this.removeSubscriptions();this._clearSelectionStore();_807.destroyWidgetsIn(this.searchControlNode);_807.destroyWidgetsIn(this.toolBarNode);_807.destroyWidgetsIn(this.pagingBarNode);if(this.itemNode){_807.destroyWidgetsIn(this.itemNode);}if(this._dataSource){this._dataSource.destroy();}_813.forEach(this._searchElements,function(elem){elem.destroy();});}});return _816;});},"mxui/mixin/_Contextable":function(){define(["mendix/logger","dojo/_base/declare"],function(_87c,_87d){var _87e=_87d(null,{dropContext:"",contextsource:"",initContext:function(){if(!this.mxcontext){this.mxcontext=this.createContext();}},cloneContext:function(_87f){if(this.mxcontext==null||this.mxcontext===""){this.mxcontext=this.createContext();}this.mxcontext.dupFrom(_87f);this.applyContextDrop();this.applyContextAction();if(this.backtrackconstraints){this.mxcontext.setConstraints(this.backtrackconstraints);}},applyContextDrop:function(){var _880=this.dropContext;if(_880){for(var i=0,drop;drop=_880[i];i++){if(this.mxcontext.hasContext(drop)){this.mxcontext.unsetContext(drop);}}}},applyContextAction:function(){if(this.contextAction==="reset"){this.mxcontext.reset();}},createContext:function(){var ctxt=new mendix.lib.MxContext();return ctxt;},removeOpenContext:function(){var _881=this.mxcontext;if(_881&&_881.listeners){_881.listeners[this.id]=null;delete _881.listeners[this.id];}delete this.mxcontext;},uninitialize:function(){this.removeOpenContext();}});return _87e;});},"mxui/mixin/_Stateful":function(){define(["dojo/aspect","dojo/_base/lang","dojo/_base/declare"],function(_882,_883,_884){var _885=_884(null,{constructor:function(){_882.before(this,"postCreate",_883.hitch(this,"_registerStoreState"));},_registerStoreState:function(){if(!this.uniqueid){throw new Error("All _Stateful widgets must have a deterministic uniqueid provided. See _WidgetBase#uniqueid.");}this.connect(this.mxform,"onPersistViewState",function(_886){var _887=_886[this.uniqueid]||(_886[this.uniqueid]={});this.storeState(function(key,_888){_887[key]=_888;});});},getState:function(key,def){var _889=this.mxform&&this.mxform.viewState?this.mxform.viewState[this.uniqueid]:undefined;if(arguments.length===0){return _889;}return _889&&key in _889?_889[key]:def;},storeState:function(_88a){throw new Error("All stateful widgets must implement storeState method, "+"as it is the only method where their state can be stored");}});return _885;});},"mxui/mixin/_Pluggable":function(){define(["mxui/widget/plugins/DataGrid/Calculations","mxui/widget/plugins/DataGrid/GridEditor","mxui/widget/plugins/DataGrid/HoverPreview","mendix/logger","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_88b,_88c,_88d,_88e,_88f,_890,_891){var _892=_891(null,{plugins:null,pluginEvents:null,_normalizePluginName:function(name){if(name.indexOf(".")==-1){name="mxui.widget.plugins."+this.declaredClass.split(".").pop()+"."+name;}return name;},loadPlugin:function(name,_893){this.plugins=this.plugins||{};var _894={"mxui.widget.plugins.DataGrid.Calculations":_88b,"mxui.widget.plugins.DataGrid.GridEditor":_88c,"mxui.widget.plugins.DataGrid.HoverPreview":_88d}[this._normalizePluginName(name)];this.plugins[name]=new _894({parent:this,config:_893});},hasPlugin:function(name){return this.plugins&&this._normalizePluginName(name) in this.plugins;},registerToPluginEvent:function(name,_895,_896){this.pluginEvents=this.pluginEvents||{};if(!this.pluginEvents[name]){this.pluginEvents[name]=[];}_895._async=_896;this.pluginEvents[name].push(_895);},triggerPluginEvent:function(name,args,_897){var _898=this.pluginEvents&&this.pluginEvents[name];var _899=1;var _89a=function(){if(--_899===0){if(_897){_897();}}};if(_898){_88f.forEach(_898,function(_89b){try{if(_89b._async){_899++;_89b(args,_89a);}else{_89b(args);}}catch(e){_88e.error(this.id+".triggerPluginEvent: An error occurred in listener of event '"+name+"': "+e);}},this);}_89a();},uninitialize:function(){for(var name in this.plugins){try{this.plugins[name].destroy();}catch(e){}}}});return _892;});},"mxui/widget/plugins/DataGrid/Calculations":function(){define(["mxui/dom","mendix/logger","dojo/_base/lang","dojo/_base/array","big/big"],function(dom,_89c,_89d,_89e,Big){var $=dom.create;function _89f(_8a0){var name="mxui.widget.plugins.DataGrid.Calculations";var _8a1=[];var _8a2=_8a0.parent;var _8a3=_8a0.config;if(!_8a2&&(_8a2.widgetType!="DataGrid")){throw new Error(name+".initialize : can only register to DataGrid!");}var _8a4={onDestroy:"plugineventOnDestroy",onRefresh:"plugineventOnRefresh"};var _8a5={};var _8a6=_8a2.getEntityProperties();var _8a7=function(){_8a2.showFootNode();var tr1=$("tr");var tr2=$("tr");_8a2.gridFootNode.appendChild(tr1);_8a2.gridFootNode.appendChild(tr2);var th,td=null;for(var i=0,_8a8;_8a8=_8a6[i];i++){var tag=_8a8.tag;th=$("th");td=$("td");_8a2.setColumnStyle(th,_8a8);_8a2.setColumnStyle(td,_8a8);if(_8a3[tag]){th.innerHTML=_8a3[tag].title||"";var _8a9=_8a8.render.toLowerCase();_8a3[tag].usesPrecision=(_8a9!=="integer"&&_8a9!=="long");}td.innerHTML="&nbsp;";_8a5[i]=td;tr1.appendChild(th);tr2.appendChild(td);}};var _8aa=function(){for(var i=0,_8ab;_8ab=_8a6[i];i++){_8a5[i].innerHTML="&nbsp;";}};var _8ac=function(){if(!_8a2.constraintsFilled()){_8aa();return;}window.mx.server.request({request:{action:"retrieve_aggregates",params:{id:_8a2.schema,xpath:_8a2.getCurrentXPath()}},options:{callback:function(code,json){_8ad(_89e.map(json.aggregates,function(agg){return agg===""?agg:new Big(agg);}));},useCache:false,preventCache:true}});};var _8ad=function(data){if(!data){return;}var _8ae=0,_8af=_8a2.getHiddenAggregates().reverse();for(var h=0;h<_8af.length;h++){data.splice(_8af[h],1);}for(var i=0,_8b0;_8b0=_8a6[i];i++){var tag=_8b0.tag;if(_8a3[tag]){var _8b1=data[_8ae++],opts=_8a6[i].display,_8b2=opts.precision;if(_8b1==null){continue;}if(_8b1==""){_8b1=0;}if(!_8a3[tag].usesPrecision){_8b2=0;}_8a5[i].innerHTML=window.mx.parser.formatValue(_8b1,"decimal",{groups:opts.formatted,places:_8b2});}}};this.plugineventOnDestroy=function(){this.destroy();};this.plugineventOnRefresh=function(){if(_8a2.constraintsFilled()){_8ad(_8a2.getAggregates());}else{_8aa();}};this.destroy=function(){while(_8a1.length!=0){window.mx.data.unsubscribe(_8a1.shift());}_8a2=null;};this.objectUpdate=function(){if(!_8a2.acceptingUpdates()){_8ac();}};_8a7();for(var i in _8a4){_8a2.registerToPluginEvent(i,_89d.hitch(this,_8a4[i]));}var zork={};zork[_8a2.entity]=true;metaEntity=window.mx.meta.getEntity(_8a2.entity);if(metaEntity.hasSuperEntities()){var _8b3=metaEntity.getSuperEntities();for(var i=0;i<_8b3.length;i++){zork[_8b3[i]]=true;}}if(metaEntity.hasSubEntities()){var _8b4=metaEntity.getSubEntities();for(var i=0;i<_8b4.length;i++){zork[_8b4[i]]=true;}}for(var i in zork){_8a1.push(window.mx.data.subscribe({entity:i,callback:_89d.hitch(this,"objectUpdate")}));}};return _89f;});},"mxui/widget/plugins/DataGrid/GridEditor":function(){define(["mxui/widget/MxInlineEditor","mxui/wm/focus","mxui/dom","mendix/logger","dojo/Deferred","dojo/keys","dojo/number","dojo/on","dojo/_base/event","dojo/_base/lang"],function(_8b5,_8b6,dom,_8b7,_8b8,_8b9,_8ba,_8bb,_8bc,_8bd){function _8be(_8bf){var name="plugins.GridEditor";this._connects=[];var _8c0=null;var _8c1=null;var _8c2,_8c3=null;var _8c4={mxobject:null,node:null,row:-1,key:"",attr:"",attrclass:"",valid:true,invalidmsg:"",saving:false};var grid=_8bf.parent;var _8c5=null;name=grid.id+"."+name;var _8c6=null;var _8c7={};var _8c8="";var _8c9="";var _8ca=false;if(grid&&(grid.declaredClass!="mxui.widget.DataGrid")){_8b7.error(name+".initialize : can only register to DataGrid!");}else{}var _8cb={},_8cc=[];var _8cd=function(){_8c5.stopEditing();_8c5.endEdit();if(_8c4.saving){grid.acceptUpdates();}};var _8ce=function(_8cf){var guid=_8cf.getGuid();var _8d0=function(){if(_8cb[guid]){window.mx.data.unsubscribe(_8cb[guid].sub);window.mx.data.unsubscribe(_8cb[guid].val);delete _8cb[guid];}};var func=_8cb[guid];if(func){clearTimeout(func.timer);}else{func=_8cb[guid]=new function(){this.objectUpdate=function(guid){if(typeof guid=="object"){return;}var _8d1=_8cf&&_8cf.getGuid();if(guid!=_8d1){clearTimeout(this.timer);_8d0();window.mx.data.get({xpath:"//"+_8cf.getEntity()+"[id="+guid+"]",filter:{id:grid.getSchemaId()},noCache:true,callback:function(objs){grid.updateMxObject(objs[0]);},error:function(e){window.mx.onError(e);}});}};this.validationUpdate=function(vals){_8c4.invalidmsg=vals[0].getErrorReason(_8c4.key);};};}func.timer=setTimeout(_8d0,5000);func.sub=window.mx.data.subscribe({guid:guid,callback:_8bd.hitch(func,"objectUpdate")});func.val=window.mx.data.subscribe({guid:guid,val:true,callback:_8bd.hitch(func,"validationUpdate")});};var _8d2={onLoad:"plugineventOnLoad",preRefresh:"plugineventPreRefresh",onRefresh:"plugineventOnRefresh",onSync:"plugineventOnSync",onCellClicked:"plugineventCellClicked",onSelectRow:"plugineventSelectRow"};var _8d3=function(_8d4){var _8d5=null;if(_8c4.mxobject){_8d5=_8c4.mxobject.getGuid();_8c4.mxobject=null;}if(_8d4){_8c4.mxobject=_8d4;var guid=_8c4.mxobject.getGuid();if(_8d5!=guid){_8c4.valid=true;_8c4.invalidmsg="";}}};var _8d6=function(){return _8c4.mxobject;};var _8d7=function(node){_8c4.node=node;_8c4.row=grid.domData(node,"row");_8c4.key=grid.domData(node,"key");_8c4.col=grid.domData(node,"column");_8c4.datakey=_8c4.key;_8c4.gridsize=grid.getCurrentGridSize();var attr=_8c4.key;if(attr.match("/")!=null){attr=attr.split("/")[0];}_8c4.attrclass=_8c0.getAttributeType(attr);_8c4.attr=attr;_8c4.row=parseInt(_8c4.row,10);if(_8c4.key.match(/\//)){_8c4.key=_8c4.key.replace(/^.*\//,"");}_8d3(grid.getMxObjectAtRow(_8c4.row));};var _8d8=function(_8d9){var _8da=_8d9.mxObject;var attr=_8d9.attribute;var _8db=_8d9.value;if(typeof (_8db)!="string"){_8db=_8db.toString();}if(_8db==""){return true;}switch(_8da.getAttributeType(attr)){case "Enum":var map=_8da.getEnumMap(attr);for(var i=0;i<map.length;i++){if(map[i].key==_8db){return true;}}return false;break;case "Integer":case "Long":case "Float":case "Currency":var _8dc=_8db.replace(/^-/,"").replace(/(\,|\.)/g,"").replace(/\d/g,"");return (_8dc=="");break;case "Date":case "DateTime":if(_8db.match(/^\d+[\/-]\d+[\/-]\d+$/)!=null){var _8dd=window.mx.parser.parseDate(_8db);return isNaN(_8dd)?false:true;}else{return false;}break;default:return true;break;}};_8c1=function(){var obj=_8d6();if(!obj){return true;}if(_8c5.getEditorStatus()!="active"){return true;}if(_8c5.hasChanges()){var _8de=_8c5.getValue();var _8df=_8de;var ref=_8c4.attr;if(_8c0.isReference(ref)){return true;}else{if(_8d8({mxObject:obj,attribute:ref,value:_8df})){return true;}else{return false;}}}return true;};_8c2=function(){var _8e0=_8d6();if(!_8e0){return false;}if(_8c5.hasChanges()){var _8e1=_8c5.getValue();var _8e2=_8e1;var ref=_8c4.attr;if(_8c0.isReference(ref)){_8e0.set(ref,_8e2);}else{if(_8d8({mxObject:_8e0,attribute:ref,value:_8e2})){_8c4.valid=true;_8c4.invalidmsg="";switch(_8c4.attrclass){case "Date":case "DateTime":_8e2=(_8e1=="")?"":window.mx.parser.parseDate(_8e1);break;case "Enum":_8e2=_8e1;break;case "Long":case "Integer":_8e2=window.mx.parser.parseValue2(_8e1,"integer");_8e2=_8e2===null?"":_8e2;break;case "Currency":case "Decimal":case "Float":_8e2=window.mx.parser.parseValue2(_8e1,"float",{places:_8c6[_8c4.col].display.precision});_8e2=_8e2===null?"":_8e2;break;case "String":case "Text":_8e2=dom.unescapeString(_8e1);break;case "Boolean":_8e2=(_8e1==="true");break;default:break;}_8e0.set(ref,_8e2);}else{_8c4.valid=false;_8c5.undoChanges();var msg=_8c4.invalidmsg=window.mx.ui.translate("mendix.lib.Validations","invalid_attribute",[_8e1,_8e0.getEntity()+"/"+_8c4.key]);window.mx.ui.error(msg);}}}return _8e0.hasChanges();};var _8e3=function(){if(!_8ca){grid.addToSyncDeferQueue();_8ca=true;}else{}};var _8e4=function(){if(_8ca){grid.removeFromSyncDeferQueue();_8ca=false;}else{}};var _8e5=function(e){if(_8c4._def){_8c4._def.reject(new Error(""));_8c4._def=null;}_8cc=[];_8c4.valid=false;_8c4.saving=false;grid.acceptUpdates();grid.objectUpdate();_8e4();};_8c3=function(_8e6){if(_8e6){_8cc.push(_8e6);}if(!_8c4.saving){var _8e7=_8d6();if(_8e7&&_8e7.hasChanges()){grid.preventUpdates();_8c4.saving=true;_8ce(_8e7);window.mx.data.commit({mxobjs:[_8e7],callback:function(){_8c4.valid=true;_8c4.invalidmsg="";_8c4.saving=false;if(_8c4._def){_8c4._def.resolve();_8c4._def=null;}grid.acceptUpdates();_8e4();mendix.lang.collect(_8cc);},error:_8e5});}else{mendix.lang.collect(_8cc);}}else{}};var _8e8=false;var _8e9=[];var _8ea=function(node,_8eb){var div,td=dom.getAncestorNode(node,"TD");if(node.nodeName.toLowerCase()==="div"){div=node;}else{div=node.querySelector("div:first-child");}if(_8c5.getEditorStatus()=="active"){if(_8c2()){_8c3();}}if(div&&td){_8d7(td);if(_8c4.row>=_8c4.gridsize){return;}var attr=_8c4.datakey,_8ec=attr.split("/"),ref;if(_8ec.length>1){attr=_8ec[0];ref=_8ec[2];}var _8ed=_8d6();if(!_8c6[_8c4.col].editable){_8cd();_8d3(null);}else{if(_8c0.isReference(attr)){var _8ee=function(_8ef){var _8f0={selected:_8ed.getReference(attr),items:{}};_8c7[_8c4.datakey].source.each(function(o){var _8f1;switch(o.getAttributeType(ref)){case "Boolean":_8f0.items[o.getGuid()]=window.mx.ui.translate("mxui.widget.DataGrid",o.get2(ref)+"");break;case "DateTime":_8f0.items[o.getGuid()]=window.mx.parser.formatDate(o.get2(ref));break;case "Enum":_8f0.items[o.getGuid()]=o.getEnumCaption(ref);break;default:_8f0.items[o.getGuid()]=o.get2(ref);}});_8c5.editNode(div,"reference",_8f0);_8eb&&_8c5.startEditing();_8ef&&_8ef();};if(!_8e8){_8e9.push(_8ee);}else{_8ee();}}else{switch(_8c0.getAttributeType(attr)){case "Boolean":_8c5.editNode(div,"boolean",{selected:_8ed.get2(attr)+"",items:{"false":window.mx.ui.translate("mxui.widget.DataGrid","false"),"true":window.mx.ui.translate("mxui.widget.DataGrid","true")}});_8eb&&_8c5.startEditing();break;case "Date":case "DateTime":_8c5.editNode(div,"date");break;case "Enum":_8c5.editNode(div,"enum",{selected:_8ed.get2(attr),items:_8c0.getEnumKVPairs(attr)});_8eb&&_8c5.startEditing();break;case "Currency":case "Decimal":case "Float":_8c5.editNode(div,"text",{hasDecimalPoint:true});break;default:_8c5.editNode(div,"text");break;}}}}else{}};var _8f2=function(){var _8f3=false;for(var i=0,_8f4;_8f4=_8c6[i];i++){if(_8f3){if(_8f4.editable){return _8f4.tag;}}if(i==_8c4.col){_8f3=true;}}};var _8f5=function(){var key="";for(var i=0,_8f6;_8f6=_8c6[i];i++){if(i==_8c4.col){return key;}if(_8f6.editable){key=_8f6.tag;}}};var _8f7=function(){if(grid.getCurrentGridSize()==0){return;}var row=0;var _8f8=_8d6();if(_8f8!=null){var row=grid.getRowForMxObject(_8f8);if(row==null){row=0;}}var node=grid.getCellNode(row,_8c4.datakey||_8c8);if(node){_8ea(node);}};var _8f9=function(){if(grid.getCurrentGridSize()==0){return;}var node=grid.getCellNode(0,_8c4.datakey||_8c8);if(node){_8ea(node);}};var _8fa=function(){_8c2()&&_8c3();if(_8c4.row!=0){var node=grid.getCellNode((_8c4.row-1),_8c4.datakey);_8ea(node);}};var _8fb=function(){_8c2()&&_8c3();if(_8c4.row!=(_8c4.gridsize-1)){var node=grid.getCellNode((_8c4.row+1),_8c4.datakey);if(node&&(node!=_8c4.node)){_8ea(node);}}};var _8fc=function(){if((_8c4.datakey==_8c8)&&(_8c4.row!=0)){_8c4.datakey=_8c9;_8fa();}else{if(_8c4.datakey!=_8c8){_8c2();var node=grid.getCellNode(_8c4.row,_8f5());if(node){_8ea(node);}}}};var _8fd=function(){if(_8c4.datakey==_8c9){if(_8c4.row!=(_8c4.gridsize-1)){_8c4.datakey=_8c8;_8fb();}else{_8c2()&&_8c3();_8b6.next();_8cd();_8d3(null);}}else{if(_8c4.datakey!=_8c9){_8c2();var node=grid.getCellNode(_8c4.row,_8f2());if(node){_8ea(node);}}}};var _8fe=function(){grid.domNode.className+=" inlineGrid";};this.plugineventOnLoad=function(e){_8fe();};this.plugineventOnSync=function(e){if(_8c5.hasChanges()){_8e3();_8c5.stopEditing();if(_8c2()){_8c3();}else{_8e4();}}};this.plugineventOnDestroy=function(e){_8cd();if(_8c5.hasChanges()){_8c2();}var _8ff=_8d6();if(_8ff&&_8ff.hasChanges()){_8c3();}};this.plugineventSelectRow=function(e){var row=e.row;var node=grid.getCellNode(row,_8c4.datakey||_8c8);if(node){_8ea(node);}};this.plugineventOnRefresh=function(e){if(grid.getCurrentGridSize()==0){return;}switch(_8c5.getEditorStatus()){case "inactive":break;case "active":case "ready":_8f7();break;}};this.plugineventPreRefresh=function(e){if(_8c5.hasChanges()){_8c2();}var _900=_8d6();if(_900&&_900.hasChanges()){_8c3();}_8cd();};this.plugineventCellClicked=function(e){if(_8c5.hasChanges()){_8c2();}_8ea(e.target,true);if(e.target.nodeName.toLowerCase()=="select"){_8bc.stop(e);}else{this._editorClicked=true;}};this.editorClickHandler=function(e){if(!this._editorClicked){try{if(_8c4.valid&&_8c2()){_8c3();}}catch(e){_8b7.error(name+".editorClickHandler:"+e.message);}_8cd();_8d3(null);}this._editorClicked=false;};this.editorKeyHandler=function(_901){var _902=_901.keyCode;switch(_8c5.getEditorStatus()){case "inactive":break;case "ready":switch(_902){case 37:_8fc();break;case 38:_8fa();break;case 9:_901.stopPropagation();_901.preventDefault();if(_901.shiftKey===true){_8fc();break;}case 39:_8fd();break;case 40:_8fb();break;case 13:case 18:case 32:case 27:case 113:_8c5.startEditing();break;case _8b9.BACKSPACE:_8c5.startEditing("");break;default:if((_902>=48)&&(_902<=110)){_8c5.startEditing();}break;}break;case "active":switch(_902){case 9:_901.stopPropagation();_901.preventDefault();case 13:_8c5.stopEditing();_8fd();break;case 27:_8c5.undoChanges();_8fd();break;default:break;}break;}return false;};this.destroy=function(){try{while(this._connects.length!=0){this._connects.pop().remove();}this.plugineventOnDestroy();_8c5.destroy();for(var i in _8c7){_8c7[i].source.destroy();}_8c7=null;}catch(e){}grid=null;};try{_8c5=new _8b5();}catch(e){}_8c5.eventKeyHandler=this.editorKeyHandler;_8c0=window.mx.meta.getEntity(grid.entity);_8c6=grid.getEntityProperties();var _903=[];for(var i=0,_904;_904=_8c6[i];i++){var tag=_904.tag;_903=tag.split(/\//);if(_904.editable){if(_8c8==""){_8c8=tag;}_8c9=tag;}if(_904.editable){try{if(_8c0.isReference(_903[0])){_8c7[tag]={key:_903[_903.length],source:new webcore.datasource.XPathSource({entity:_903[_903.length-2],page:100})};var ds=_8c7[tag].source;ds.reload(function(){_8e8=true;mendix.lang.sequence(_8e9);});}}catch(e){}}}for(var i in _8d2){grid.registerToPluginEvent(i,_8bd.hitch(this,_8d2[i]));}this._connects.push(_8bb(document.body,"click",_8bd.hitch(this,"editorClickHandler")));grid.registerToPluginEvent("invokeAction",function(args,_905){_8c3(_905);},true);};return _8be;});},"mxui/widget/MxInlineEditor":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Templated","mxui/dom","mendix/logger","dojo/sniff","dojo/_base/event","dojo/dom","dojo/dom-geometry","dojo/_base/lang","dojo/i18n","dojo/_base/kernel","dojo/_base/declare","dojo/text!mxui/widget/templates/MxInlineEditor.html"],function(_906,_907,dom,_908,_909,_90a,_90b,_90c,_90d,_90e,_90f,_910,_911){var _912=function(node,prop){return (parseInt(node.getAttribute(prop)));};var _913=function(node,prop){return node.getAttribute(prop);};var _914=_910([_906,_907],{declaredClass:"mxui.widget.MxInlineEditor",domNode:null,form:null,text:null,enumtext:null,select:null,minWidth:40,minHeight:200,templateString:_911,textValue:"",targetNode:null,_options:null,_nodeList:[],_status:"inactive",_previousValue:"",_editingmode:"text",constructor:function(){this.boolOptions={};this.boolOptions[window.mx.ui.translate("mxui.widget.DataGrid","true")]="true";this.boolOptions[window.mx.ui.translate("mxui.widget.DataGrid","false")]="false";this._locale=_90e.getLocalization("dojo.cldr","number",_90f.locale);},postCreate:function(){this._nodeList=[this.text,this.select,this.readonly,this.enumtext];this.connect(document.body,"onkeydown","eventOnKeyDown");this.connect(this.form,"onsubmit","eventOnSubmit");this.connect(this.form,"onclick","eventOnClick");this.connect(this.select,"onclick","selectClicked");this.connect(this.text,"keydown","onKeyDown");},selectClicked:function(e){_90a.stop(e);return false;},_hideNodes:function(){for(var i=0;i<this._nodeList.length;i++){this._nodeList[i].style.display="none";}},editNode:function(node,_915,opts){this._options=opts;this._editingmode=_915.toLowerCase();var _916=this.targetNode&&this.targetNode.parentNode;if(_916){this.targetNode.style.display="";_90b.setSelectable(_916,false);}this.targetNode=node;this._hideNodes();var td=this.targetNode.parentNode;td.appendChild(this.form);_90b.setSelectable(td,true);this.textValue=dom.unescapeString(this.targetNode.innerHTML);if(this.textValue==="&nbsp;"){this.textValue="";}if(this.textValue.length===0){this.targetNode.innerHTML="&nbsp;";}this._previousValue=this.textValue;this.setupEditNode();},setStyleFromTarget:function(node){node.value=_90d.trim(this.textValue);if(!_909("ie")){node.style.fontSize=_912(this.targetNode,"font-size");node.style.fontWeight=_913(this.targetNode,"font-weight");node.style.fontStyle=_913(this.targetNode,"font-style");}var bb=_90c.getMarginBox(this.targetNode);node.style.width="100%";return bb;},setupTextNode:function(){this.text.style.textAlign=this.targetNode.parentNode.style.textAlign;var ee=this.text;ee.value=_90d.trim(this.textValue);ee.style.display="";this.setStyleFromTarget(ee);this.form.style.display="";this.targetNode.style.display="none";try{ee.select();ee.focus();ee.setAttribute("readonly","readonly");}catch(e){}},setupEditNode:function(){switch(this._editingmode){case "text":case "date":this.setupTextNode();break;case "reference":case "boolean":case "enum":this.setupEnumNode();break;case "readonly":this.setupReadOnlyNode();break;}this._status="ready";},setupEnumNode:function(){this.setStyleFromTarget(this.enumtext);this.setStyleFromTarget(this.select);this.enumtext.style.display="";this.enumtext.value=this._options.items[this._options.selected];this.enumtext.setAttribute("readonly","readonly");dom.setSelectOptions(this.select,this._options.items,this._options.selected);this.form.style.display="";this.targetNode.style.display="none";try{this.enumtext.select();this.enumtext.focus();}catch(e){}},setupReadOnlyNode:function(){this.setStyleFromTarget(this.readonly);this.targetNode.style.display="none";this.readonly.style.display="";this.readonly.value=this.textValue;this.form.style.display="";this.readonly.focus();this.readonly.setAttribute("readonly","readonly");},undoChanges:function(){if(this._status==="active"||this._status==="ready"){if(this.targetNode){this.targetNode.innerHTML=this._previousValue;}if((this._editingmode==="enum")||(this._editingmode==="reference")||this._editingmode==="boolean"){dom.selectOptionByText(this.select,this._previousValue);}else{if(this._editingmode==="readonly"){}else{this.text.value=dom.unescapeString(this._previousValue);}}}},startEditing:function(str){switch(this._editingmode){case "date":case "text":this.text.removeAttribute("readonly");if(str){this.text.value=dom.unescapeString(str);}try{this.text.select();this.text.focus();this._status="active";}catch(e){this.endEdit();}break;case "boolean":case "reference":case "enum":this.enumtext.style.display="none";this.select.style.display="";this.select.removeAttribute("readonly");this.select.focus();this._status="active";break;case "readonly":this._status="ready";break;default:break;}},stopEditing:function(){switch(this._editingmode){case "text":case "date":this.text.setAttribute("readonly","readonly");break;case "boolean":case "reference":case "enum":this.select.setAttribute("readonly","readonly");break;case "readonly":break;default:break;}this._status="ready";},endEdit:function(){if(this._status==="ready"||this._status==="active"){this.domNode.appendChild(this.form);if(this.targetNode){this.targetNode.style.display="";}this._status="inactive";}},eventOnClick:function(){if(this._status==="ready"){this.startEditing();}},eventOnKeyDown:function(e){this.eventKeyHandler(e);},onKeyDown:function(_917){if(this._options&&this._options.hasDecimalPoint&&_917.keyCode===110){_917.preventDefault();var _918=this._locale.decimal;dom.insertAtCaret(this.text,_918);}},hasChanges:function(){if(this._editingmode==="readonly"||this._status==="inactive"){return false;}var _919="";switch(this._editingmode){case "boolean":case "reference":case "enum":_919=dom.getSelectedText(this.select);break;default:_919=this.text.value;break;}return (this._previousValue!=_919);},getValue:function(){if((this._editingmode==="enum")||(this._editingmode==="reference")||this._editingmode==="boolean"){this.targetNode.innerHTML=dom.getSelectedText(this.select);return (this.textValue=dom.getSelectedValue(this.select));}else{if(this._editingmode==="readonly"){return false;}else{this.textValue=this.text.value;dom.text(this.targetNode,this.textValue);return this.textValue;}}},getEditorStatus:function(){return this._status;},isActive:function(){return this._status==="active";},isInActive:function(){return this._status==="inactive";},isReady:function(){return this._status==="ready";},eventKeyHandler:function(){},eventOnSubmit:function(){return false;}});return _914;});},"mxui/mixin/_Templated":function(){define(["dijit/_TemplatedMixin","dojo/_base/declare"],function(_91a,_91b){var _91c=_91b(_91a,{destroyRendering:function(){this._attachPoints=[];this.inherited(arguments);}});return _91c;});},"dijit/_TemplatedMixin":function(){define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(_91d,_91e,_91f,lang,on,has,_920,_921){var _922=_91e("dijit._TemplatedMixin",_921,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(tmpl){var _923=this.declaredClass,_924=this;return _920.substitute(tmpl,this,function(_925,key){if(key.charAt(0)=="!"){_925=lang.getObject(key.substr(1),false,_924);}if(typeof _925=="undefined"){throw new Error(_923+" template:"+key);}if(_925==null){return "";}return key.charAt(0)=="!"?_925:this._escapeValue(""+_925);},this);},_escapeValue:function(val){return val.replace(/["'<>&]/g,function(val){return {"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#x27;"}[val];});},buildRendering:function(){if(!this._rendered){if(!this.templateString){this.templateString=_91d(this.templatePath,{sanitize:true});}var _926=_922.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_926)){node=_91f.toDom(this._stringRepl(_926),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_926);}}else{node=_926.cloneNode(true);}this.domNode=node;}this.inherited(arguments);if(!this._rendered){this._fillContent(this.srcNodeRef);}this._rendered=true;},_fillContent:function(_927){var dest=this.containerNode;if(_927&&dest){while(_927.hasChildNodes()){dest.appendChild(_927.firstChild);}}}});_922._templateCache={};_922.getCachedTemplate=function(_928,_929,doc){var _92a=_922._templateCache;var key=_928;var _92b=_92a[key];if(_92b){try{if(!_92b.ownerDocument||_92b.ownerDocument==(doc||document)){return _92b;}}catch(e){}_91f.destroy(_92b);}_928=_920.trim(_928);if(_929||_928.match(/\$\{([^\}]+)\}/g)){return (_92a[key]=_928);}else{var node=_91f.toDom(_928,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_928);}return (_92a[key]=node);}};if(has("ie")){on(window,"unload",function(){var _92c=_922._templateCache;for(var key in _92c){var _92d=_92c[key];if(typeof _92d=="object"){_91f.destroy(_92d);}delete _92c[key];}});}return _922;});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(dojo,_92e,has,_92f){var _930;if(1){_930=function(url,sync,load){_92f(url,{sync:!!sync,headers:{"X-Requested-With":null}}).then(load);};}else{if(_92e.getText){_930=_92e.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _931={},_932=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _933=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_933){text=_933[1];}}else{text="";}return text;},_934={},_935={};dojo.cache=function(_936,url,_937){var key;if(typeof _936=="string"){if(/\//.test(_936)){key=_936;_937=url;}else{key=_92e.toUrl(_936.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_936+"";_937=url;}var val=(_937!=undefined&&typeof _937!="string")?_937.value:_937,_938=_937&&_937.sanitize;if(typeof val=="string"){_931[key]=val;return _938?_932(val):val;}else{if(val===null){delete _931[key];return null;}else{if(!(key in _931)){_930(key,true,function(text){_931[key]=text;});}return _938?_932(_931[key]):_931[key];}}};return {dynamic:true,normalize:function(id,_939){var _93a=id.split("!"),url=_93a[0];return (/^\./.test(url)?_939(url):url)+(_93a[1]?"!"+_93a[1]:"");},load:function(id,_93b,load){var _93c=id.split("!"),_93d=_93c.length>1,_93e=_93c[0],url=_93b.toUrl(_93c[0]),_93f="url:"+url,text=_934,_940=function(text){load(_93d?_932(text):text);};if(_93e in _931){text=_931[_93e];}else{if(_93b.cache&&_93f in _93b.cache){text=_93b.cache[_93f];}else{if(url in _931){text=_931[url];}}}if(text===_934){if(_935[url]){_935[url].push(_940);}else{var _941=_935[url]=[_940];_930(url,!_93b.async,function(text){_931[_93e]=_931[url]=text;for(var i=0;i<_941.length;){_941[i++](text);}delete _935[url];});}}else{_940(text);}}};});},"dojo/request":function(){define(["./request/default!"],function(_942){return _942;});},"dojo/request/default":function(){define(["exports","require","../has"],function(_943,_944,has){var _945=has("config-requestProvider"),_946;if(1||has("host-webworker")){_946="./xhr";}else{if(0){_946="./node";}}if(!_945){_945=_946;}_943.getPlatformDefaultId=function(){return _946;};_943.load=function(id,_947,_948,_949){_944([id=="platform"?_946:_945],function(_94a){_948(_94a);});};});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(_94b,lang){var _94c=/[&<>'"\/]/g;var _94d={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#x27;","/":"&#x2F;"};var _94e={};lang.setObject("dojo.string",_94e);_94e.escape=function(str){if(!str){return "";}return str.replace(_94c,function(c){return _94d[c];});};_94e.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};_94e.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=_94e.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};_94e.substitute=function(_94f,map,_950,_951){_951=_951||_94b.global;_950=_950?lang.hitch(_951,_950):function(v){return v;};return _94f.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_952,key,_953){var _954=lang.getObject(key,false,map);if(_953){_954=lang.getObject(_953,false,_951).call(_951,_954,key);}return _950(_954,key).toString();});};_94e.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return _94e;});},"dijit/_AttachMixin":function(){define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_955,_956,_957,_958,lang,_959,on,_95a,_95b){var _95c=lang.delegate(_95a,{"mouseenter":_959.enter,"mouseleave":_959.leave,"keypress":_957._keypress});var _95d;var _95e=_958("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent();},_beforeFillContent:function(){},_attachTemplateNodes:function(_95f){var node=_95f;while(true){if(node.nodeType==1&&(this._processTemplateNode(node,function(n,p){return n.getAttribute(p);},this._attach)||this.searchContainerNode)&&node.firstChild){node=node.firstChild;}else{if(node==_95f){return;}while(!node.nextSibling){node=node.parentNode;if(node==_95f){return;}}node=node.nextSibling;}}},_processTemplateNode:function(_960,_961,_962){var ret=true;var _963=this.attachScope||this,_964=_961(_960,"dojoAttachPoint")||_961(_960,"data-dojo-attach-point");if(_964){var _965,_966=_964.split(/\s*,\s*/);while((_965=_966.shift())){if(lang.isArray(_963[_965])){_963[_965].push(_960);}else{_963[_965]=_960;}ret=(_965!="containerNode");this._attachPoints.push(_965);}}var _967=_961(_960,"dojoAttachEvent")||_961(_960,"data-dojo-attach-event");if(_967){var _968,_969=_967.split(/\s*,\s*/);var trim=lang.trim;while((_968=_969.shift())){if(_968){var _96a=null;if(_968.indexOf(":")!=-1){var _96b=_968.split(":");_968=trim(_96b[0]);_96a=trim(_96b[1]);}else{_968=trim(_968);}if(!_96a){_96a=_968;}this._attachEvents.push(_962(_960,_968,lang.hitch(_963,_96a)));}}}return ret;},_attach:function(node,type,func){type=type.replace(/^on/,"").toLowerCase();if(type=="dijitclick"){type=_95d||(_95d=_955("./a11yclick"));}else{type=_95c[type]||type;}return on(node,type,func);},_detachTemplateNodes:function(){var _96c=this.attachScope||this;_956.forEach(this._attachPoints,function(_96d){delete _96c[_96d];});this._attachPoints=[];_956.forEach(this._attachEvents,function(_96e){_96e.remove();});this._attachEvents=[];},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments);}});lang.extend(_95b,{dojoAttachEvent:"",dojoAttachPoint:""});return _95e;});},"dojo/i18n":function(){define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(dojo,_96f,has,_970,_971,lang,xhr,json,_972){has.add("dojo-preload-i18n-Api",1);1||has.add("dojo-v1x-i18n-Api",1);var _973=dojo.i18n={},_974=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_975=function(root,_976,_977,_978){for(var _979=[_977+_978],_97a=_976.split("-"),_97b="",i=0;i<_97a.length;i++){_97b+=(_97b?"-":"")+_97a[i];if(!root||root[_97b]){_979.push(_977+_97b+"/"+_978);_979.specificity=_97b;}}return _979;},_97c={},_97d=function(_97e,_97f,_980){_980=_980?_980.toLowerCase():dojo.locale;_97e=_97e.replace(/\./g,"/");_97f=_97f.replace(/\./g,"/");return (/root/i.test(_980))?(_97e+"/nls/"+_97f):(_97e+"/nls/"+_980+"/"+_97f);},_981=dojo.getL10nName=function(_982,_983,_984){return _982=_972.id+"!"+_97d(_982,_983,_984);},_985=function(_986,_987,_988,_989,_98a,load){_986([_987],function(root){var _98b=lang.clone(root.root||root.ROOT),_98c=_975(!root._v1x&&root,_98a,_988,_989);_986(_98c,function(){for(var i=1;i<_98c.length;i++){_98b=lang.mixin(lang.clone(_98b),arguments[i]);}var _98d=_987+"/"+_98a;_97c[_98d]=_98b;_98b.$locale=_98c.specificity;load();});});},_98e=function(id,_98f){return /^\./.test(id)?_98f(id):id;},_990=function(_991){var list=_971.extraLocale||[];list=lang.isArray(list)?list:[list];list.push(_991);return list;},load=function(id,_992,load){if(has("dojo-preload-i18n-Api")){var _993=id.split("*"),_994=_993[1]=="preload";if(_994){if(!_97c[id]){_97c[id]=1;_995(_993[2],json.parse(_993[3]),1,_992);}load(1);}if(_994||_996(id,_992,load)){return;}}var _997=_974.exec(id),_998=_997[1]+"/",_999=_997[5]||_997[4],_99a=_998+_999,_99b=(_997[5]&&_997[4]),_99c=_99b||dojo.locale||"",_99d=_99a+"/"+_99c,_99e=_99b?[_99c]:_990(_99c),_99f=_99e.length,_9a0=function(){if(!--_99f){load(lang.delegate(_97c[_99d]));}};_970.forEach(_99e,function(_9a1){var _9a2=_99a+"/"+_9a1;if(has("dojo-preload-i18n-Api")){_9a3(_9a2);}if(!_97c[_9a2]){_985(_992,_99a,_998,_999,_9a1,_9a0);}else{_9a0();}});};if(has("dojo-unit-tests")){var _9a4=_973.unitTests=[];}if(has("dojo-preload-i18n-Api")||1){var _9a5=_973.normalizeLocale=function(_9a6){var _9a7=_9a6?_9a6.toLowerCase():dojo.locale;return _9a7=="root"?"ROOT":_9a7;},isXd=function(mid,_9a8){return (1&&1)?_9a8.isXdUrl(_96f.toUrl(mid+".js")):true;},_9a9=0,_9aa=[],_995=_973._preloadLocalizations=function(_9ab,_9ac,_9ad,_9ae){_9ae=_9ae||_96f;function _9af(mid,_9b0){if(isXd(mid,_9ae)||_9ad){_9ae([mid],_9b0);}else{_9ca([mid],_9b0,_9ae);}};function _9b1(_9b2,func){var _9b3=_9b2.split("-");while(_9b3.length){if(func(_9b3.join("-"))){return;}_9b3.pop();}func("ROOT");};function _9b4(){_9a9++;};function _9b5(){--_9a9;while(!_9a9&&_9aa.length){load.apply(null,_9aa.shift());}};function _9b6(path,name,loc,_9b7){return _9b7.toAbsMid(path+name+"/"+loc);};function _9b8(_9b9){_9b9=_9a5(_9b9);_9b1(_9b9,function(loc){if(_970.indexOf(_9ac,loc)>=0){var mid=_9ab.replace(/\./g,"/")+"_"+loc;_9b4();_9af(mid,function(_9ba){for(var p in _9ba){var _9bb=_9ba[p],_9bc=p.match(/(.+)\/([^\/]+)$/),_9bd,_9be;if(!_9bc){continue;}_9bd=_9bc[2];_9be=_9bc[1]+"/";_9bb._localized=_9bb._localized||{};var _9bf;if(loc==="ROOT"){var root=_9bf=_9bb._localized;delete _9bb._localized;root.root=_9bb;_97c[_96f.toAbsMid(p)]=root;}else{_9bf=_9bb._localized;_97c[_9b6(_9be,_9bd,loc,_96f)]=_9bb;}if(loc!==_9b9){function _9c0(_9c1,_9c2,_9c3,_9c4){var _9c5=[],_9c6=[];_9b1(_9b9,function(loc){if(_9c4[loc]){_9c5.push(_96f.toAbsMid(_9c1+loc+"/"+_9c2));_9c6.push(_9b6(_9c1,_9c2,loc,_96f));}});if(_9c5.length){_9b4();_9ae(_9c5,function(){for(var i=0;i<_9c5.length;i++){_9c3=lang.mixin(lang.clone(_9c3),arguments[i]);_97c[_9c6[i]]=_9c3;}_97c[_9b6(_9c1,_9c2,_9b9,_96f)]=lang.clone(_9c3);_9b5();});}else{_97c[_9b6(_9c1,_9c2,_9b9,_96f)]=_9c3;}};_9c0(_9be,_9bd,_9bb,_9bf);}}_9b5();});return true;}return false;});};_9b8();_970.forEach(dojo.config.extraLocale,_9b8);},_996=function(id,_9c7,load){if(_9a9){_9aa.push([id,_9c7,load]);}return _9a9;},_9a3=function(){};}if(1){var _9c8={},_9c9=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},"+"\t   require = function(){define.called = 1;};"+"try{"+"define.called = 0;"+"eval(__bundle);"+"if(define.called==1)"+"return __amdValue;"+"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))"+"return __checkForLegacyModules;"+"}catch(e){}"+"try{"+"return eval('('+__bundle+')');"+"}catch(e){"+"return e;"+"}"),_9ca=function(deps,_9cb,_9cc){var _9cd=[];_970.forEach(deps,function(mid){var url=_9cc.toUrl(mid+".js");function load(text){var _9ce=_9c9(text,_9a3,mid,_9c8);if(_9ce===_9c8){_9cd.push(_97c[url]=_9c8.result);}else{if(_9ce instanceof Error){console.error("failed to evaluate i18n bundle; url="+url,_9ce);_9ce={};}_9cd.push(_97c[url]=(/nls\/[^\/]+\/[^\/]+$/.test(url)?_9ce:{root:_9ce,_v1x:1}));}};if(_97c[url]){_9cd.push(_97c[url]);}else{var _9cf=_9cc.syncLoadNls(mid);if(_9cf){_9cd.push(_9cf);}else{if(!xhr){try{_9cc.getText(url,true,load);}catch(e){_9cd.push(_97c[url]={});}}else{xhr.get({url:url,sync:true,load:load,error:function(){_9cd.push(_97c[url]={});}});}}}});_9cb&&_9cb.apply(null,_9cd);};_9a3=function(_9d0){for(var _9d1,_9d2=_9d0.split("/"),_9d3=dojo.global[_9d2[0]],i=1;_9d3&&i<_9d2.length-1;_9d3=_9d3[_9d2[i++]]){}if(_9d3){_9d1=_9d3[_9d2[i]];if(!_9d1){_9d1=_9d3[_9d2[i].replace(/-/g,"_")];}if(_9d1){_97c[_9d0]=_9d1;}}return _9d1;};_973.getLocalization=function(_9d4,_9d5,_9d6){var _9d7,_9d8=_97d(_9d4,_9d5,_9d6);load(_9d8,(!isXd(_9d8,_96f)?function(deps,_9d9){_9ca(deps,_9d9,_96f);}:_96f),function(_9da){_9d7=_9da;});return _9d7;};if(has("dojo-unit-tests")){_9a4.push(function(doh){doh.register("tests.i18n.unit",function(t){var _9db;_9db=_9c9("{prop:1}",_9a3,"nonsense",_9c8);t.is({prop:1},_9db);t.is(undefined,_9db[1]);_9db=_9c9("({prop:1})",_9a3,"nonsense",_9c8);t.is({prop:1},_9db);t.is(undefined,_9db[1]);_9db=_9c9("{'prop-x':1}",_9a3,"nonsense",_9c8);t.is({"prop-x":1},_9db);t.is(undefined,_9db[1]);_9db=_9c9("({'prop-x':1})",_9a3,"nonsense",_9c8);t.is({"prop-x":1},_9db);t.is(undefined,_9db[1]);_9db=_9c9("define({'prop-x':1})",_9a3,"nonsense",_9c8);t.is(_9c8,_9db);t.is({"prop-x":1},_9c8.result);_9db=_9c9("define('some/module', {'prop-x':1})",_9a3,"nonsense",_9c8);t.is(_9c8,_9db);t.is({"prop-x":1},_9c8.result);_9db=_9c9("this is total nonsense and should throw an error",_9a3,"nonsense",_9c8);t.is(_9db instanceof Error,true);});});}}return lang.mixin(_973,{dynamic:true,normalize:_98e,load:load,cache:_97c,getL10nName:_981});});},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_9dc,_9dd,_9de){var _9df={};lang.setObject("dojo.number",_9df);_9df.format=function(_9e0,_9e1){_9e1=lang.mixin({},_9e1||{});var _9e2=i18n.normalizeLocale(_9e1.locale),_9e3=i18n.getLocalization("dojo.cldr","number",_9e2);_9e1.customs=_9e3;var _9e4=_9e1.pattern||_9e3[(_9e1.type||"decimal")+"Format"];if(isNaN(_9e0)||Math.abs(_9e0)==Infinity){return null;}return _9df._applyPattern(_9e0,_9e4,_9e1);};_9df._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_9df._applyPattern=function(_9e5,_9e6,_9e7){_9e7=_9e7||{};var _9e8=_9e7.customs.group,_9e9=_9e7.customs.decimal,_9ea=_9e6.split(";"),_9eb=_9ea[0];_9e6=_9ea[(_9e5<0)?1:0]||("-"+_9eb);if(_9e6.indexOf("%")!=-1){_9e5*=100;}else{if(_9e6.indexOf("")!=-1){_9e5*=1000;}else{if(_9e6.indexOf("")!=-1){_9e8=_9e7.customs.currencyGroup||_9e8;_9e9=_9e7.customs.currencyDecimal||_9e9;_9e6=_9e6.replace(/\u00a4{1,3}/,function(_9ec){var prop=["symbol","currency","displayName"][_9ec.length-1];return _9e7[prop]||_9e7.currency||"";});}else{if(_9e6.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _9ed=_9df._numberPatternRE;var _9ee=_9eb.match(_9ed);if(!_9ee){throw new Error("unable to find a number expression in pattern: "+_9e6);}if(_9e7.fractional===false){_9e7.places=0;}return _9e6.replace(_9ed,_9df._formatAbsolute(_9e5,_9ee[0],{decimal:_9e9,group:_9e8,places:_9e7.places,round:_9e7.round}));};_9df.round=function(_9ef,_9f0,_9f1){var _9f2=10/(_9f1||10);return (_9f2*+_9ef).toFixed(_9f0)/_9f2;};if((0.9).toFixed()==0){var _9f3=_9df.round;_9df.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _9f3(v,p,m)+(v>0?d:-d);};}_9df._formatAbsolute=function(_9f4,_9f5,_9f6){_9f6=_9f6||{};if(_9f6.places===true){_9f6.places=0;}if(_9f6.places===Infinity){_9f6.places=6;}var _9f7=_9f5.split("."),_9f8=typeof _9f6.places=="string"&&_9f6.places.indexOf(","),_9f9=_9f6.places;if(_9f8){_9f9=_9f6.places.substring(_9f8+1);}else{if(!(_9f9>=0)){_9f9=(_9f7[1]||[]).length;}}if(!(_9f6.round<0)){_9f4=_9df.round(_9f4,_9f9,_9f6.round);}var _9fa=String(Math.abs(_9f4)).split("."),_9fb=_9fa[1]||"";if(_9f7[1]||_9f6.places){if(_9f8){_9f6.places=_9f6.places.substring(0,_9f8);}var pad=_9f6.places!==undefined?_9f6.places:(_9f7[1]&&_9f7[1].lastIndexOf("0")+1);if(pad>_9fb.length){_9fa[1]=_9dd.pad(_9fb,pad,"0",true);}if(_9f9<_9fb.length){_9fa[1]=_9fb.substr(0,_9f9);}}else{if(_9fa[1]){_9fa.pop();}}var _9fc=_9f7[0].replace(",","");pad=_9fc.indexOf("0");if(pad!=-1){pad=_9fc.length-pad;if(pad>_9fa[0].length){_9fa[0]=_9dd.pad(_9fa[0],pad);}if(_9fc.indexOf("#")==-1){_9fa[0]=_9fa[0].substr(_9fa[0].length-pad);}}var _9fd=_9f7[0].lastIndexOf(","),_9fe,_9ff;if(_9fd!=-1){_9fe=_9f7[0].length-_9fd-1;var _a00=_9f7[0].substr(0,_9fd);_9fd=_a00.lastIndexOf(",");if(_9fd!=-1){_9ff=_a00.length-_9fd-1;}}var _a01=[];for(var _a02=_9fa[0];_a02;){var off=_a02.length-_9fe;_a01.push((off>0)?_a02.substr(off):_a02);_a02=(off>0)?_a02.slice(0,off):"";if(_9ff){_9fe=_9ff;delete _9ff;}}_9fa[0]=_a01.reverse().join(_9f6.group||",");return _9fa.join(_9f6.decimal||".");};_9df.regexp=function(_a03){return _9df._parseInfo(_a03).regexp;};_9df._parseInfo=function(_a04){_a04=_a04||{};var _a05=i18n.normalizeLocale(_a04.locale),_a06=i18n.getLocalization("dojo.cldr","number",_a05),_a07=_a04.pattern||_a06[(_a04.type||"decimal")+"Format"],_a08=_a06.group,_a09=_a06.decimal,_a0a=1;if(_a07.indexOf("%")!=-1){_a0a/=100;}else{if(_a07.indexOf("")!=-1){_a0a/=1000;}else{var _a0b=_a07.indexOf("")!=-1;if(_a0b){_a08=_a06.currencyGroup||_a08;_a09=_a06.currencyDecimal||_a09;}}}var _a0c=_a07.split(";");if(_a0c.length==1){_a0c.push("-"+_a0c[0]);}var re=_9de.buildGroupRE(_a0c,function(_a0d){_a0d="(?:"+_9de.escapeString(_a0d,".")+")";return _a0d.replace(_9df._numberPatternRE,function(_a0e){var _a0f={signed:false,separator:_a04.strict?_a08:[_a08,""],fractional:_a04.fractional,decimal:_a09,exponent:false},_a10=_a0e.split("."),_a11=_a04.places;if(_a10.length==1&&_a0a!=1){_a10[1]="###";}if(_a10.length==1||_a11===0){_a0f.fractional=false;}else{if(_a11===undefined){_a11=_a04.pattern?_a10[1].lastIndexOf("0")+1:Infinity;}if(_a11&&_a04.fractional==undefined){_a0f.fractional=true;}if(!_a04.places&&(_a11<_a10[1].length)){_a11+=","+_a10[1].length;}_a0f.places=_a11;}var _a12=_a10[0].split(",");if(_a12.length>1){_a0f.groupSize=_a12.pop().length;if(_a12.length>1){_a0f.groupSize2=_a12.pop().length;}}return "("+_9df._realNumberRegexp(_a0f)+")";});},true);if(_a0b){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_a13,_a14,_a15,_a16){var prop=["symbol","currency","displayName"][_a15.length-1],_a17=_9de.escapeString(_a04[prop]||_a04.currency||"");_a14=_a14?"[\\s\\xa0]":"";_a16=_a16?"[\\s\\xa0]":"";if(!_a04.strict){if(_a14){_a14+="*";}if(_a16){_a16+="*";}return "(?:"+_a14+_a17+_a16+")?";}return _a14+_a17+_a16;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_a08,decimal:_a09,factor:_a0a};};_9df.parse=function(_a18,_a19){var info=_9df._parseInfo(_a19),_a1a=(new RegExp("^"+info.regexp+"$")).exec(_a18);if(!_a1a){return NaN;}var _a1b=_a1a[1];if(!_a1a[1]){if(!_a1a[2]){return NaN;}_a1b=_a1a[2];info.factor*=-1;}_a1b=_a1b.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _a1b*info.factor;};_9df._realNumberRegexp=function(_a1c){_a1c=_a1c||{};if(!("places" in _a1c)){_a1c.places=Infinity;}if(typeof _a1c.decimal!="string"){_a1c.decimal=".";}if(!("fractional" in _a1c)||/^0/.test(_a1c.places)){_a1c.fractional=[true,false];}if(!("exponent" in _a1c)){_a1c.exponent=[true,false];}if(!("eSigned" in _a1c)){_a1c.eSigned=[true,false];}var _a1d=_9df._integerRegexp(_a1c),_a1e=_9de.buildGroupRE(_a1c.fractional,function(q){var re="";if(q&&(_a1c.places!==0)){re="\\"+_a1c.decimal;if(_a1c.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_a1c.places+"}";}}return re;},true);var _a1f=_9de.buildGroupRE(_a1c.exponent,function(q){if(q){return "([eE]"+_9df._integerRegexp({signed:_a1c.eSigned})+")";}return "";});var _a20=_a1d+_a1e;if(_a1e){_a20="(?:(?:"+_a20+")|(?:"+_a1e+"))";}return _a20+_a1f;};_9df._integerRegexp=function(_a21){_a21=_a21||{};if(!("signed" in _a21)){_a21.signed=[true,false];}if(!("separator" in _a21)){_a21.separator="";}else{if(!("groupSize" in _a21)){_a21.groupSize=3;}}var _a22=_9de.buildGroupRE(_a21.signed,function(q){return q?"[-+]":"";},true);var _a23=_9de.buildGroupRE(_a21.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_9de.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_a21.groupSize,grp2=_a21.groupSize2;if(grp2){var _a24="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_a24+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_a24;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _a22+_a23;};return _9df;});},"dojo/cldr/nls/number":function(){define({root:{"scientificFormat":"#E0","currencySpacing-afterCurrency-currencyMatch":"[:^S:]","infinity":"","superscriptingExponent":"","list":";","percentSign":"%","minusSign":"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":"","nan":"NaN","plusSign":"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]","currencyFormat":"#,##0.00","perMille":"","group":",","percentFormat":"#,##0%","decimalFormat-long":"000T","decimalFormat":"#,##0.###","decimal":".","currencySpacing-beforeCurrency-insertBetween":"","exponential":"E"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-au":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});},"dojo/cldr/nls/en/number":function(){define({"group":",","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"","minusSign":"-","decimal":".","superscriptingExponent":"","nan":"NaN","perMille":"","decimalFormat":"#,##0.###","currencyFormat":"#,##0.00;(#,##0.00)","plusSign":"+","decimalFormat-long":"000 trillion","decimalFormat-short":"000T"});},"dojo/cldr/nls/nl/number":function(){define({"group":".","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"","minusSign":"-","decimal":",","superscriptingExponent":"","nan":"NaN","perMille":"","decimalFormat":"#,##0.###","currencyFormat":"#,##0.00;(#,##0.00)","plusSign":"+","decimalFormat-long":"000 biljoen","decimalFormat-short":"000bln'.'"});},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(dojo,lang){var _a25={};lang.setObject("dojo.regexp",_a25);_a25.escapeString=function(str,_a26){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(ch){if(_a26&&_a26.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};_a25.buildGroupRE=function(arr,re,_a27){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return _a25.group(b.join("|"),_a27);};_a25.group=function(_a28,_a29){return "("+(_a29?"?:":"")+_a28+")";};return _a25;});},"mxui/widget/plugins/DataGrid/HoverPreview":function(){define(["mxui/widget/_MasterTooltip","mendix/lib/MxContext","mxui/widget","mxui/dom","mendix/lang","dojo/aspect","dojo/on","dojo/_base/lang","dojo/dom-geometry"],function(_a2a,_a2b,_a2c,dom,lang,_a2d,_a2e,_a2f,_a30){function _a31(_a32){var name="mxui.widget.plugins.DataGrid.HoverPreview";var self=this;var _a33=_a32.parent;var _a34=_a32.config;var _a35=null;var _a36=0;var _a37={onLoad:"plugineventOnLoad",onRefresh:"plugineventOnRefresh",onDestroy:"plugineventOnDestroy",onRowMouseOver:"plugineventOnRowMouseOver",onRowMouseOut:"plugineventOnRowMouseOut"};var _a38=null;var _a39={active:false,node:null,mxobject:null,oldNode:null,firstTime:true,closable:true,closeTimer:null,openTimer:null,tooltip:null};var _a3a=null;var _a3b;var _a3c=function(){var b=_a39.mxobject;var _a3d=new _a2b();_a3d.setTrackId(b.getGuid());_a3d.setTrackEntity(_a33.entity);_a3d.setContext(_a33.entity,b.getGuid());var _a3e=+new Date();_a36=_a3e;_a35.applyContext(_a3d,function(){if(_a3e==_a36&&b==_a39.mxobject){_a39.tooltip.show(_a35.domNode,_a39.node);}});};var _a3f=function(e){e.stopPropagation();_a40();};var _a41=function(e){e.stopPropagation();_a42();};var _a43=function(){_a3a=_a2e(_a35.domNode,"mouseover",_a3f);_a3b=_a2e(_a35.domNode,"mouseleave",_a41);};var _a44=function(){_a3a.remove();_a3b.remove();_a3a=_a3b=null;};var _a45=function(){_a39.active=false;_a39.firstTime=true;if(_a39.oldNode!=null){_a44();_a39.tooltip.hide(_a39.oldNode);_a39.tooltip=null;_a39.oldNode=null;_a39.mxobject=null;}};var _a46=function(){var _a47=_a30.position(_a39.node);if(!_a47.x&&!_a47.y){return;}if(_a39.oldNode!=_a39.node){_a39.oldNode=_a39.node;if(!_a39.active){_a39.active=true;_a43();var _a48=_a39.tooltip=new _a2a();_a2d.after(_a48,"onHide",function(){if(_a48.domNode.contains(_a35.domNode)){dom.orphan(_a35.domNode);_a35.applyContext(new _a2b());}});}_a39.tooltip.show(null,_a39.node);_a3c();}};this.plugineventOnLoad=function(){};this.plugineventOnDestroy=function(){this.destroy();if(_a39.active){_a45();}};this.plugineventOnRefresh=function(){if(_a39.active){_a45();}};var _a42=function(){_a39.closable=true;if(!_a39.closeTimer){_a39.closeTimer=setTimeout(_a49,200);}};var _a40=function(){_a39.closable=false;if(_a39.closeTimer){clearTimeout(_a39.closeTimer);_a39.closeTimer=null;}};this.plugineventOnRowMouseOver=function(e){var node=e.currentTarget;var _a4a=e.target;if(!_a33.domData(_a4a,"key")){_a4a=dom.getAncestorNode(_a4a,"TD",3);}var attr=_a33.domData(_a4a,"key");var _a4b=_a34.hoveron||"";if(_a4b.match(attr)==null){return true;}_a4a.setAttribute("title","");_a40();var _a4c=_a33.getMxObjectAtRow(parseInt(_a33.domData(node,"gridrow")));var guid=_a4c.getGuid();if(_a39.mxobject==null||guid!=_a39.mxobject.getGuid()){node=_a4a;_a39.mxobject=_a4c;_a39.node=node;}_a39.openTimer=setTimeout(_a46,200);};var _a49=_a2f.hitch(this,function(){_a39.closeTimer=null;if(_a39.closable){if(_a38){clearTimeout(_a38);}_a45();}});this.plugineventOnRowMouseOut=function(e){_a42();var _a4d=_a33.getMxObjectAtRow(parseInt(_a33.domData(e.currentTarget,"gridrow")));if(_a39.mxobject==_a4d){clearTimeout(_a39.openTimer);}};this.destroy=function(){_a49();_a33=_a34=null;if(_a35){_a35.destroy();}};var _a4e=function(_a4f){var _a50=dom.create("div",{"style":"height: 0; overflow: hidden;"});_a33.domNode.appendChild(_a50);window.mx.router.openFormInNode(_a34.form,_a50,new _a2b(),{readOnly:true,hideFooter:true},function(form){_a35=form;_a4f();});};var _a51=function(_a52){for(var i in _a37){_a33.registerToPluginEvent(i,_a2f.hitch(self,_a37[i]));}_a52();};if(!_a33&&(_a33.widgetType!="DataGrid")){throw new Error(name+".initialize : can only register to DataGrid!");}if(!_a34.form){throw new Error(name+".initialize : Requires a path parameter!");}lang.sequence([_a4e,_a51]);};return _a31;});},"mxui/widget/_MasterTooltip":function(){define(["mxui/mixin/_Templated","mxui/widget","mendix/lang","mendix/logger","dojo/window","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/_base/declare","dijit/Tooltip","dojo/text!mxui/widget/templates/Tooltip.html"],function(_a53,_a54,lang,_a55,_a56,_a57,_a58,_a59,_a5a,_a5b,_a5c){var _a5d=_a5a([_a5b._MasterTooltip,_a53],{declaredClass:"mxui.widget._MasterTooltip",constructor:function(){this.templateString=_a5c;},postCreate:function(){this.inherited(arguments);this.connect(window.mx.ui,"resize",this.resize);},show:function(_a5e,_a5f,_a60){var cn=this.contentNode;var pn=this.prepareNode;if(!_a5e){cn.style.display="none";pn.style.display="block";}else{cn.style.display="block";pn.style.display="none";if(typeof (_a5e)=="string"){cn.innerHTML=_a5e;}else{if(_a5e.nodeName!=null){while(cn.firstChild){cn.removeChild(cn.firstChild);}cn.appendChild(_a5e);}}}this.inherited(arguments,[_a5e,_a5f,_a60]);_a57.add(this.domNode,"mx-tooltip");if(_a5e){this.resize();}},_onHide:function(){this.inherited(arguments);this.onHide();this.destroy();},onHide:function(){},resize:function(){var _a61=_a56.getBox().h-parseInt(this.domNode.style.top);lang.forEach([this.domNode,this.contentNode.parentNode],function(node){var cs=_a58.getComputedStyle(node),me=_a59.getMarginExtents(node,cs),be=_a59.getBorderExtents(node,cs);_a61-=me.h+be.h;});this.contentNode.style.maxHeight=_a61+"px";_a54.resizeWidgetsIn(this.contentNode,true);}});return _a5d;});},"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_a62,_a63,fx,dom,_a64,_a65,_a66,lang,_a67,on,has,_a68,_a69,_a6a,_a6b,_a6c,_a6d,_a6e){var _a6f=_a63("dijit._MasterTooltip",[_a6a,_a6b],{duration:_a68.defaultDuration,templateString:_a6d,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _a6c(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_a70,_a71,_a72,rtl,_a73,_a74,_a75){if(this.aroundNode&&this.aroundNode===_a71&&this.containerNode.innerHTML==_a70){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_a70;if(_a73){this.set("textDir",_a73);}this.containerNode.align=rtl?"right":"left";var pos=_a69.around(this.domNode,_a71,_a72&&_a72.length?_a72:_a76.defaultPosition,!rtl,lang.hitch(this,"orient"));var _a77=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_a77.y+((_a77.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_a77.x+((_a77.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_a66.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_a71;this.onMouseEnter=_a74||noop;this.onMouseLeave=_a75||noop;},orient:function(node,_a78,_a79,_a7a,_a7b){this.connectorNode.style.top="";var _a7c=_a7a.h,_a7d=_a7a.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_a78+"-"+_a79];this.domNode.style.width="auto";var size=_a65.position(this.domNode);if(has("ie")||has("trident")){size.w+=2;}var _a7e=Math.min((Math.max(_a7d,1)),size.w);_a65.setMarginBox(this.domNode,{w:_a7e});if(_a79.charAt(0)=="B"&&_a78.charAt(0)=="B"){var bb=_a65.position(node);var _a7f=this.connectorNode.offsetHeight;if(bb.h>_a7c){var _a80=_a7c-((_a7b.h+_a7f)>>1);this.connectorNode.style.top=_a80+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_a7b.h/2-_a7f/2,0),bb.h-_a7f)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_a7d);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_a81){if(this._onDeck&&this._onDeck[1]==_a81){this._onDeck=null;}else{if(this.aroundNode===_a81){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}this.onMouseEnter=this.onMouseLeave=noop;},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});if(has("dojo-bidi")){_a6f.extend({_setAutoTextDir:function(node){this.applyTextDir(node);_a62.forEach(node.children,function(_a82){this._setAutoTextDir(_a82);},this);},_setTextDirAttr:function(_a83){this._set("textDir",_a83);if(_a83=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});}_a6e.showTooltip=function(_a84,_a85,_a86,rtl,_a87,_a88,_a89){if(_a86){_a86=_a62.map(_a86,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_a76._masterTT){_a6e._masterTT=_a76._masterTT=new _a6f();}return _a76._masterTT.show(_a84,_a85,_a86,rtl,_a87,_a88,_a89);};_a6e.hideTooltip=function(_a8a){return _a76._masterTT&&_a76._masterTT.hide(_a8a);};var _a8b="DORMANT",_a8c="SHOW TIMER",_a8d="SHOWING",_a8e="HIDE TIMER";function noop(){};var _a76=_a63("dijit.Tooltip",_a6a,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_a8f){_a62.forEach(this._connections||[],function(_a90){_a62.forEach(_a90,function(_a91){_a91.remove();});},this);this._connectIds=_a62.filter(lang.isArrayLike(_a8f)?_a8f:(_a8f?[_a8f]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_a62.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_a92=this.selector,_a93=_a92?function(_a94){return on.selector(_a92,_a94);}:function(_a95){return _a95;},self=this;return [on(node,_a93(_a67.enter),function(){self._onHover(this);}),on(node,_a93("focusin"),function(){self._onHover(this);}),on(node,_a93(_a67.leave),lang.hitch(self,"_onUnHover")),on(node,_a93("focusout"),lang.hitch(self,"set","state",_a8b))];},this);this._set("connectId",_a8f);},addTarget:function(node){var id=node.id||node;if(_a62.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_a62.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_a64.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_a62.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},state:_a8b,_setStateAttr:function(val){if(this.state==val||(val==_a8c&&this.state==_a8d)||(val==_a8e&&this.state==_a8b)){return;}if(this._hideTimer){this._hideTimer.remove();delete this._hideTimer;}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}switch(val){case _a8b:if(this._connectNode){_a76.hide(this._connectNode);delete this._connectNode;this.onHide();}break;case _a8c:if(this.state!=_a8d){this._showTimer=this.defer(function(){this.set("state",_a8d);},this.showDelay);}break;case _a8d:var _a96=this.getContent(this._connectNode);if(!_a96){this.set("state",_a8b);return;}_a76.show(_a96,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,lang.hitch(this,"set","state",_a8d),lang.hitch(this,"set","state",_a8e));this.onShow(this._connectNode,this.position);break;case _a8e:this._hideTimer=this.defer(function(){this.set("state",_a8b);},this.hideDelay);break;}this._set("state",val);},_onHover:function(_a97){if(this._connectNode&&_a97!=this._connectNode){this.set("state",_a8b);}this._connectNode=_a97;this.set("state",_a8c);},_onUnHover:function(_a98){this.set("state",_a8e);},open:function(_a99){this.set("state",_a8b);this._connectNode=_a99;this.set("state",_a8d);},close:function(){this.set("state",_a8b);},onShow:function(){},onHide:function(){},destroy:function(){this.set("state",_a8b);_a62.forEach(this._connections||[],function(_a9a){_a62.forEach(_a9a,function(_a9b){_a9b.remove();});},this);this.inherited(arguments);}});_a76._MasterTooltip=_a6f;_a76.show=_a6e.showTooltip;_a76.hide=_a6e.hideTooltip;_a76.defaultPosition=["after-centered","before-centered"];return _a76;});},"mxui/mixin/_ContainingSelection":function(){define(["mendix/lib/MxContext","mxui/store/asyncValueStore","dojo/topic","dojo/_base/array","dojo/_base/declare"],function(_a9c,_a9d,_a9e,_a9f,_aa0){var _aa1=_aa0(null,{selection:null,_shareId:"",constructor:function(){this.selection=[];},getSelected:function(){return this.selection;},_addToSelection:function(guid){if(_a9f.indexOf(this.selection,guid)==-1){this.selection.push(guid);}},_removeFromSelection:function(guid){var _aa2=_a9f.indexOf(this.selection,guid);if(_aa2!=-1){this.selection.splice(_aa2,1);}},_isSelected:function(guid){return _a9f.indexOf(this.selection,guid)>-1;},_hasSelection:function(){return this.selection.length>0;},_shareSelection:function(_aa3){var _aa4=new _a9c();_aa4.setTrackEntity(_aa3);_aa4.setContext(_aa3,this.selection.length?this.selection[this.selection.length-1]:null);_aa4.freeze();this._shareId=this._shareId||window.mx.ui.makeShareId(this.mxform,this.mxid);if(_a9d.hasValue(this._shareId)){_a9e.publish(this._shareId,_aa4);}_a9d.register(this._shareId,_aa4);},_clearSelectionStore:function(){if(this._shareId){_a9d.remove(this._shareId);}}});return _aa1;});},"mxui/lib/MxGridConfig":function(){define(["mxui/html","dojo/_base/lang"],function(_aa5,_aa6){var _aa7=function(_aa8){var _aa9=_aa8.config;var _aaa={};var _aab=[];var _aac=function(){var _aad=_aa9.controlBar.gridTools,_aae=_aa9.defaultButton;for(var i=0,tool;tool=_aad[i];i++){if(window.mx.session.hasSomeRole(tool[_aa5.attrs.ForRole]||null)){var _aaf=_aae&&tool.mxid===_aae.mxid&&_aae.clickType==="single";_aab.push(_aa6.mixin({alwaysHidden:_aaf},tool));}}};var _ab0=function(){var _ab1=_aa9.controlBar.gridActions;for(var i=0,_ab2;_ab2=_ab1[i];i++){_aaa[_ab2.keyValue]={actionCall:_ab2.gridFunction,params:_ab2.params};}};this.gridSetting=function(str){var _ab3=_aa9.gridpresentation,_ab4=_aa6.mixin({pageSize:_ab3.rows*_ab3.columns},_ab3);return _ab4[str];};this.gridTools=function(){return _aab;};this.getActionsByKey=function(key){var _ab5=_aaa[key];return _ab5&&_ab5.params?_aa6.clone(_ab5):_ab5;};this.searchBarItems=function(){return _aa9.searchElements;};this.gridAttributes=function(){return _aa9.griddata;};this.searchBarConfig=function(){return _aa9.searchOptions;};this.getDataSource=function(){return _aa9.datasource;};this.getDefaultButton=function(){return _aa9.defaultButton;};this.getPlugins=function(){return _aa9.plugins||{};};this.toString=function(){return "mxui.lib.MxGridConfig";};_aac();_ab0();};return _aa7;});},"mxui/widget/SearchInput":function(){define(["mxui/widget/_WidgetBase","mxui/wm/focus","mxui/dom","mxui/lib/errorMessage","big/big","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/declare"],function(_ab6,_ab7,dom,_ab8,Big,_ab9,_aba,_abb,_abc,_abd){var $=dom.create;var _abe=_abd(_ab6,{declaredClass:"mxui.widget.SearchInput",path:"",operator:"",caption:"",entity:"",defaults:"",hidden:false,disabled:false,defaultsParser:"",queryBuilder:"",retriever:"",datasource:"",widget:"",mxcontext:null,_MS_IN_DAY:24*60*60*1000,_attribute:"",_metaObject:null,_input:null,_widget:null,_datasource:null,_defaultsValue:null,_doDefaultsParser:null,_doQueryBuilder:null,_doRetriever:null,_isLoaded:false,postMixInProperties:function(){var _abf=this.path.split("/");if(_abf.length>1){this.entity=_abf[_abf.length-2];}this._attribute=_abf[_abf.length-1];this._metaObject=window.mx.meta.getEntity(this.entity);this._doRetriever=this.retriever?_abb.hitch(this,"_retrieve"+this.retriever+"Options"):null;this._doQueryBuilder=this["_build"+((this.queryBuilder&&this.queryBuilder.name)||"Simple")+"Query"];this._initDataSource();this._initDefaultsValue();},buildRendering:function(){var _ac0,_ac1;if(this.widget){_ac0=_abb.getObject(this.widget.type);this._widget=new _ac0(this.widget.params);_ac1=this._widget.domNode;this.connect(this._widget,"onKeyUp","onKeyUp");this.connect(this._widget,"onChange","onChange");}else{if(this.retriever||this.datasource){this._input=$("select",{"class":"form-control"});}else{this._input=$("input",{type:"text","class":"form-control"});}_ac1=this._input;this.connect(this._input,"keyup","onKeyUp");this.connect(this._input,"blur","onChange");}if(this.retriever){this._fillInput(this._doRetriever(),"");}this.domNode=$("div",{"class":"mx-grid-search-item"},$("div",{"class":"mx-grid-search-label"},$("label",this.caption||"")),$("div",{"class":"mx-grid-search-input mx-name-"+this.searchInputName},_ac1));if(this.get("hidden")){this.domNode.style.display="none";}},startup:function(){this.inherited(arguments);this.set("disabled",this.disabled);},reset:function(){this._hideValidationMessage();this.set("value",this._defaultsValue);},reinit:function(_ac2){var _ac3=this._isLoaded?this.get("value"):this._defaultsValue;if(this._datasource){var self=this;this._datasource.reload(function(){var _ac4={};_aba.forEach(self._datasource.getObjects(),function(obj){var _ac5=obj.get2(self._attribute);_ac4[_ac5]=window.mx.parser.formatAttribute(obj,self._attribute);});self._fillInput(_ac4,_ac3);self._isLoaded=true;if(_ac2){_ac2();}});}else{this.set("value",_ac3);this._isLoaded=true;if(_ac2){_ac2();}}},focus:function(){if(this._widget){if(this._widget.focus){this._widget.focus();}else{_ab7.put(this._widget.domNode);}}else{_ab7.put(this._input);}},onChange:function(){if(this._isValid(this.get("value"))){this._hideValidationMessage();}else{this._showValidationMessage();}},onKeyUp:function(){},cleanup:function(){this._hideValidationMessage();},uninitialize:function(){if(this._widget){this._widget.destroy();}},_retrieveBoolOptions:function(){return {"true":window.mx.ui.translate("mxui.widget.DataGrid","true"),"false":window.mx.ui.translate("mxui.widget.DataGrid","false")};},_retrieveEnumOptions:function(){return this._metaObject.getEnumKVPairs(this._attribute);},_defaultSimpleValue:function(_ac6){return _ac6||"";},_defaultJsonValue:function(_ac7){return _abc.fromJson(_ac7||"''");},_defaultDateValue:function(_ac8){var _ac9="";if(_ac8){if(_ac8==="[%CurrentDateTime%]"){_ac9=+new Date();}else{if(_ac8==="[%BeginOfCurrentDay%]"){_ac9=+new Date().setHours(0,0,0,0);}else{_ac9=window.mx.parser.localizeEpoch(+_ac8);}}}return _ac9;},_buildRangeQuery:function(_aca){return [this._xpWithEmptyString(this._xpString(_aca.path,_aca.operator,_aca.value),_aca.path),this._xpWithEmptyString(this._xpString(_aca.toPath,_aca.toOperator,_aca.value),_aca.toPath)].join(" and ");},_buildSimpleQuery:function(_acb){return this._xpString(_acb.path,_acb.operator,_acb.value);},_buildDateQuery:function(_acc){var _acd=_acc.operator,_ace=0;if(_acc.operator=="="){return "("+["("+this._xpString(_acc.path,">=",_acc.value)+")","("+this._xpString(_acc.path,"<",_acc.value+this._MS_IN_DAY)+")"].join(" and ")+")";}else{switch(_acc.operator){case ">":_acd=">=";_ace=this._MS_IN_DAY;break;case "<=":_acd="<";_ace=this._MS_IN_DAY;break;}return this._xpString(_acc.path,_acd,(_acc.value+_ace)+"");}},_buildDateRangeQuery:function(_acf){return "("+[this._xpWithEmptyString(this._xpString(_acf.path,_acf.operator,_acf.value+this._MS_IN_DAY),_acf.path),this._xpWithEmptyString(this._xpString(_acf.toPath,_acf.toOperator,_acf.value),_acf.toPath)].join(" and ")+")";},_initDefaultsValue:function(){var _ad0=this["_default"+(this.defaultsParser||"Simple")+"Value"];this._defaultsValue=_ad0.call(this,this.defaults);},_initDataSource:function(){var _ad1={xpath:"webcore.datasource.XPathSource"},_ad2;if(this.datasource){_ad2=_abb.getObject(_ad1[this.datasource.type]);if(_ad2){this._datasource=new _ad2(_abb.mixin({},{entity:this.entity,attributes:[this._attribute],useContext:false,context:this.mxcontext,page:1000,aggregates:false,distinct:true},this.datasource.params));}}},_showValidationMessage:function(){var _ad3=this._metaObject.isDate(this._attribute)?"invalid_date":"invalid_number";_ab8.show(this.domNode,window.mx.ui.translate("mendix.lib.Validations",_ad3));},_hideValidationMessage:function(){_ab8.hide(this.domNode);},_fillInput:function(_ad4,_ad5){var _ad6,key;if(this._widget){_ad6=[];for(key in _ad4){_ad6.push({value:key,caption:_ad4[key]});}this._widget.set("items",_ad6);this._widget.set("value",_ad5);}else{_ad6={};for(key in _ad4){_ad6[key]=_ad4[key] instanceof Big?_ad4[key].toFixed():_ad4[key];}dom.setSelectOptions(this._input,_ad6,_ad5);}},_stringForOperator:function(key,_ad7,_ad8){return key+_ad7+_ad8;},_stringForContains:function(key,_ad9,_ada){return _ad9+"("+key+","+_ada+")";},_xpString:function(key,_adb,_adc){return (/contains|starts-with/.test(_adb))?this._stringForContains(key,_adb,_adc):this._stringForOperator(key,_adb,_adc);},_xpWithEmptyString:function(expr,key){return "("+expr+" or "+key+"=empty)";},_isValid:function(_add){if(_add==null){return false;}if(this._metaObject.isNumeric(this._attribute)||this._metaObject.getAttributeType(this._attribute).toLowerCase()==="autonumber"){if(this._metaObject.getAttributeType(this._attribute).toLowerCase()==="integer"&&_add>2147483647){return false;}return (/^[-+]?\d*(\.\d+)?$/).test(_add);}return true;},_setValueAttr:function(_ade){if(this._widget){this._widget.set("value",_ade);}else{this._input.value=_ade;}},_getValueAttr:function(){var _adf;if(this._widget){_adf=this._widget.get("value");}else{_adf=this._input.value;}return this._isValid(_adf)?_adf:"";},_getQueryAttr:function(){var _ae0=this.get("value"),_ae1;if(_abb.isArray(_ae0)){_ae1=_ae0;}else{if(_ae0===""||_ae0===null){_ae1=[];}else{_ae1=[_ae0];}}if(_ae1.length===0){return "";}return "("+_aba.map(_ae1,_abb.hitch(this,function(_ae2){var _ae3=this._metaObject;if(_ae3.isDate(this._attribute)){_ae2=+_ae2;if(!_ae3.isLocalizedDate(this._attribute)){_ae2=window.mx.parser.delocalizeEpoch(_ae2);}}else{if(!(_ae3.isNumeric(this._attribute)||_ae3.getAttributeType(this._attribute).toLowerCase()==="autonumber")){_ae2="'"+dom.escapeHTMLQuotes(_ae2)+"'";}}return this._doQueryBuilder(_abb.mixin({},this.queryBuilder.params,{path:this.path,operator:this.operator,value:_ae2}));})).join(" or ")+")";},_getHiddenAttr:function(){return this.hidden;},_setHiddenAttr:function(_ae4){this.hidden=_ae4;},_setDisabledAttr:function(_ae5){var node;this.disabled=_ae5;if(this._widget){node=this._widget.domNode;this._widget.set("disabled",_ae5);}else{node=this._input;if(_ae5){node.setAttribute("readonly","readonly");dom.disableNode(node);}else{node.removeAttribute("readonly","readonly");dom.enableNode(node);}}if(_ae5){_ab9.add(node,"MxClient_formDisabled");}else{_ab9.remove(node,"MxClient_formDisabled");}},_getDisabledAttr:function(){return this.disabled;}});return _abe;});},"mxui/widget/Button":function(){define(["mxui/widget/_Button","dojo/_base/declare"],function(_ae6,_ae7){var _ae8=_ae7(_ae6,{declaredClass:"mxui.widget.Button"});return _ae8;});},"mxui/widget/ControlBarButton":function(){define(["mxui/widget/_DynamicButton","dojo/_base/declare"],function(_ae9,_aea){var _aeb=_aea(_ae9,{declaredClass:"mxui.widget.ControlBarButton",alwaysHidden:false,_isConditionallyVisible:true,buildRendering:function(){this.inherited(arguments);if(this.alwaysHidden){this.domNode.style.display="none";}},hide:function(){this._isConditionallyVisible=false;this.domNode.style.display="none";},show:function(){this._isConditionallyVisible=true;if(!this.alwaysHidden){this.domNode.style.display="";}},isConditionallyVisible:function(){return this._isConditionallyVisible;}});return _aeb;});},"mxui/widget/_DynamicButton":function(){define(["mxui/widget/_Button","mxui/lib/TextTemplate","dojo/_base/lang","dojo/_base/declare"],function(_aec,_aed,_aee,_aef){var _af0=_aef(_aec,{caption:null,needsObject:false,_captionTextTemplate:null,postCreate:function(){var self=this;this._captionTextTemplate=new _aed(this.caption,function(text){self.set("caption",text);});},checkDisabled:function(){return this.inherited(arguments)||(this.needsObject&&!this.mxcontext.hasTrackId());},update:function(obj,_af1){this.unsubscribeAll();this._mxObject=obj;if(obj){var self=this;this.subscribe({guid:obj.getGuid(),callback:function(){self.refresh();}});}this.updateDisabled();this._captionTextTemplate.update(obj,_aee.hitch(this,"refresh",_af1));},refresh:function(_af2){if(_af2){_af2();}},uninitialize:function(){this._captionTextTemplate.destroy();}});return _af0;});},"mxui/lib/TextTemplate":function(){define(["mendix/lang","mxui/dom","dojo/Deferred","dojo/promise/all","dojo/_base/array","dojo/_base/declare"],function(lang,dom,_af3,_af4,_af5,_af6){var _af7=_af6(null,{_template:null,_callback:null,_rootObject:null,_subscriptions:null,_pendingFetch:null,constructor:function(_af8,_af9){this._template=_af8;this._callback=_af9;this._subscriptions=[];},update:function(_afa,done){this._rootObject=_afa;this._clearSubscriptions();if(!this._template.parameters){this._callback(this._template.text);if(done){done();}}else{if(!_afa){this._callback("");if(done){done();}}else{this._reload(done);}}},destroy:function(){this._clearSubscriptions();},_reload:function(done){var self=this;if(this._pendingFetch){this._pendingFetch.cancel();}this._pendingFetch=this._fetchObjects();this._pendingFetch.then(function(_afb){self._pendingFetch=null;self._addSubscriptions(_afb);self._callback(self._fillTemplate(_afb));if(done){done();}});},_fetchObjects:function(){var _afc={};lang.forEach(this._template.parameters,function(path,key){_afc[key]=new _af3();var _afd=path.split("/"),attr=_afd.pop();this._rootObject.fetch(_afd,function(obj){var _afe={obj:obj,attr:attr,path:path};_afc[key].resolve(_afe);});},this);return _af4(_afc);},_fillTemplate:function(_aff){var self=this;return this._template.text.replace(/(?:^|[^\{])(?:\{\{)*(\{(\d+)\})/g,function(_b00,_b01,_b02){var arg=_aff[_b02];return _b00.replace(_b01,self._renderAttrValue(arg.obj,arg.attr));}).replace(/\{\{/g,"{");},_renderAttrValue:function(obj,attr){return obj?window.mx.parser.formatAttribute(obj,attr):"";},_addSubscriptions:function(_b03){this._addSubscription(this._rootObject);lang.forEach(_b03,function(arg){var _b04=arg.path.split("/");if(_b04.length>2){this._addSubscription(this._rootObject,_b04[1]);}if(arg.obj){this._addSubscription(arg.obj);this._addSubscription(arg.obj,arg.attr);}},this);},_addSubscription:function(obj,attr){var _b05=_af5.some(this._subscriptions,function(sub){return sub.guid===obj.getGuid()&&sub.attr===attr;});if(_b05){return;}var self=this;var _b06={attr:attr,guid:obj.getGuid(),callback:function(){self._reload();}};this._subscriptions.push({attr:attr,guid:obj.getGuid(),handle:window.mx.data.subscribe(_b06)});},_clearSubscriptions:function(){while(this._subscriptions.length){window.mx.data.unsubscribe(this._subscriptions.pop().handle);}}});return _af7;});},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(_b07,_b08,when){"use strict";var some=_b07.some;return function all(_b09){var _b0a,_b07;if(_b09 instanceof Array){_b07=_b09;}else{if(_b09&&typeof _b09==="object"){_b0a=_b09;}}var _b0b;var _b0c=[];if(_b0a){_b07=[];for(var key in _b0a){if(Object.hasOwnProperty.call(_b0a,key)){_b0c.push(key);_b07.push(_b0a[key]);}}_b0b={};}else{if(_b07){_b0b=[];}}if(!_b07||!_b07.length){return new _b08().resolve(_b0b);}var _b0d=new _b08();_b0d.promise.always(function(){_b0b=_b0c=null;});var _b0e=_b07.length;some(_b07,function(_b0f,_b10){if(!_b0a){_b0c.push(_b10);}when(_b0f,function(_b11){if(!_b0d.isFulfilled()){_b0b[_b0c[_b10]]=_b11;if(--_b0e===0){_b0d.resolve(_b0b);}}},_b0d.reject);return _b0d.isFulfilled();});return _b0d.promise;};});},"webcore/dataSourceFactory":function(){define(["mendix/lib/dataSourceTypes","./datasource/OfflineSource","./datasource/OfflineByReferenceSource","./datasource/EntityPathSource","./datasource/MicroflowSource","./datasource/XPathSource","dojo/_base/config"],function(_b12,_b13,_b14,_b15,_b16,_b17,_b18){var _b19={create:function(_b1a){if(_b1a.type===_b12.database&&_b18.offline){if(_b1a.path.split("/").length===1){return new _b13({entity:_b1a.path,sort:_b1a.sort,page:_b1a.page,offset:_b1a.offset,filter:_b1a.offlineConstraints});}else{return new _b14({path:_b1a.path,sort:_b1a.sort,page:_b1a.page,offset:_b1a.offset,filter:_b1a.offlineConstraints,context:_b1a.context});}}if(_b1a.type===_b12.database&&!_b18.offline){return new _b17({path:_b1a.path,constraint:_b1a.xpathConstraints,attributes:_b1a.attributes,sortparams:_b1a.sort,page:_b1a.page,offset:_b1a.offset,context:_b1a.context,queryid:_b1a.queryid});}if(_b1a.type===_b12.microflow){return new _b16({microflow:_b1a.microflow,page:_b1a.page,offset:_b1a.offset,context:_b1a.context,queryid:_b1a.queryid});}if(_b1a.type===_b12.entityPath){return new _b15({path:_b1a.path,page:_b1a.page,offset:_b1a.offset,context:_b1a.context,queryid:_b1a.queryid});}return new _b17({path:_b1a.path,sortparams:_b1a.sort,aggregates:_b1a.aggregates,attributes:_b1a.attributes,constraint:_b1a.constraint,page:_b1a.page,offset:_b1a.offset,context:_b1a.context,queryid:_b1a.queryid,useContext:_b1a.useContext});}};return _b19;});},"mendix/lib/dataSourceTypes":function(){define({database:"database",xpath:"xpath",microflow:"microflow",entityPath:"entityPath",referenceSet:"referenceSet",direct:"direct",listen:"listen"});},"webcore/datasource/OfflineSource":function(){define(["./_DataSource","dojo/_base/lang","dojo/_base/declare"],function(_b1b,_b1c,_b1d){var _b1e=_b1d(_b1b,{name:"webcore.datasource.OfflineSource",_entity:"",_sort:null,constructor:function(args){this._entity=args.entity;this._sort=args.sort||[];this._constraints=args.filter||[];},reload:function(_b1f){var self=this;mx.data.getSlice(this._entity,this._constraints,{offset:this.getOffset(),limit:this.getPageSize(),sort:this._sort},function(_b20,_b21){self._setObjects(_b20);self._setSetSize(_b21);if(_b1f){_b1f();}},function(e){mx.onError(e);if(_b1f){_b1f();}});},refresh:function(_b22){this.reload(_b22);},entityUpdate:function(_b23){this.reload(_b23);},setSortOptions:function(_b24,_b25,push){this._offset=0;_b25=(_b25===""||_b25==null)?"asc":_b25;this._sort=[[_b24,_b25]];}});return _b1e;});},"webcore/datasource/OfflineByReferenceSource":function(){define(["./_DataSource","dojo/_base/lang","dojo/_base/declare"],function(_b26,_b27,_b28){var _b29=_b28(_b26,{name:"webcore.datasource.OfflineByReferenceSource",_attribute:"",_entity:"",_constraints:null,_referenceConstraint:"",_sort:null,constructor:function(args){var _b2a=args.path.split("/");this._attribute=_b2a[0];this._entity=_b2a[1];this._constraints=args.filter||[];this._sort=args.sort||[];},reload:function(_b2b){var self=this;var guid=this.context.getTrackId();if(guid){var _b2c=this._constraints.concat([{attribute:this._attribute,operator:"equals",value:guid}]);mx.data.getSlice(this._entity,_b2c,{offset:this.getOffset(),limit:this.getPageSize(),sort:this._sort},function(_b2d,_b2e){self._setObjects(_b2d);self._setSetSize(_b2e);if(_b2b){_b2b();}},function(e){mx.onError(e);if(_b2b){_b2b();}});}else{self._setObjects([]);self._setSetSize(0);if(_b2b){_b2b();}}},refresh:function(_b2f){this.reload(_b2f);},entityUpdate:function(_b30){this.reload(_b30);},setSortOptions:function(_b31,_b32,push){this._offset=0;_b32=(_b32===""||_b32==null)?"asc":_b32;this._sort=[[_b31,_b32]];}});return _b29;});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_b33,dojo,_b34,_b35,_b36,dom,_b37,geom,_b38,_b39){if(!dojo.isAsync){_b38(0,function(){var _b3a=["./fx/Toggler"];_b39(_b3a);});}var _b3b=dojo.fx={};var _b3c={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _b3d=function(_b3e){this._index=-1;this._animations=_b3e||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_b34.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_b3d.prototype=new _b33();lang.extend(_b3d,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_b35.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);this._onEndCtx=_b35.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play(0,true);}},play:function(_b3f,_b40){if(!this._current){this._current=this._animations[this._index=0];}if(!_b40&&this._current.status()=="playing"){return this;}var _b41=_b35.after(this._current,"beforeBegin",lang.hitch(this,function(){this._fire("beforeBegin");}),true),_b42=_b35.after(this._current,"onBegin",lang.hitch(this,function(arg){this._fire("onBegin",arguments);}),true),_b43=_b35.after(this._current,"onPlay",lang.hitch(this,function(arg){this._fire("onPlay",arguments);_b41.remove();_b42.remove();_b43.remove();}));if(this._onAnimateCtx){this._onAnimateCtx.remove();}this._onAnimateCtx=_b35.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);if(this._onEndCtx){this._onEndCtx.remove();}this._onEndCtx=_b35.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_b35.after(this._current,"onPause",lang.hitch(this,function(arg){this._fire("onPause",arguments);e.remove();}),true);this._current.pause();}return this;},gotoPercent:function(_b44,_b45){this.pause();var _b46=this.duration*_b44;this._current=null;_b34.some(this._animations,function(a,_b47){if(_b46<=a.duration){this._current=a;this._index=_b47;return true;}_b46-=a.duration;return false;},this);if(this._current){this._current.gotoPercent(_b46/this._current.duration);}if(_b45){this.play();}return this;},stop:function(_b48){if(this._current){if(_b48){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_b35.after(this._current,"onStop",lang.hitch(this,function(arg){this._fire("onStop",arguments);e.remove();}),true);this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){this.stop();if(this._onAnimateCtx){this._onAnimateCtx.remove();}if(this._onEndCtx){this._onEndCtx.remove();}}});lang.extend(_b3d,_b3c);_b3b.chain=function(_b49){return new _b3d(_b49);};var _b4a=function(_b4b){this._animations=_b4b||[];this._connects=[];this._finished=0;this.duration=0;_b34.forEach(_b4b,function(a){var _b4c=a.duration;if(a.delay){_b4c+=a.delay;}if(this.duration<_b4c){this.duration=_b4c;}this._connects.push(_b35.after(a,"onEnd",lang.hitch(this,"_onEnd"),true));},this);this._pseudoAnimation=new _b36.Animation({curve:[0,1],duration:this.duration});var self=this;_b34.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_b35.after(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);},true));});};lang.extend(_b4a,{_doAction:function(_b4d,args){_b34.forEach(this._animations,function(a){a[_b4d].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_b4e,args){var t=this._pseudoAnimation;t[_b4e].apply(t,args);},play:function(_b4f,_b50){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_b51,_b52){var ms=this.duration*_b51;_b34.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_b52);});this._call("gotoPercent",arguments);return this;},stop:function(_b53){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){this.stop();_b34.forEach(this._connects,function(_b54){_b54.remove();});}});lang.extend(_b4a,_b3c);_b3b.combine=function(_b55){return new _b4a(_b55);};_b3b.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_b36.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _b56=_b37.get(node,"height");return Math.max(_b56,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_b35.after(anim,"onStop",fini,true);_b35.after(anim,"onEnd",fini,true);return anim;};_b3b.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_b36.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_b35.after(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";},true);var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_b35.after(anim,"onStop",fini,true);_b35.after(anim,"onEnd",fini,true);return anim;};_b3b.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_b37.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_b36.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_b35.after(anim,"beforeBegin",init,true);return anim;};return _b3b;});},"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare","../_base/fx","../aspect"],function(lang,_b57,_b58,_b59){return _b57("dojo.fx.Toggler",null,{node:null,showFunc:_b58.fadeIn,hideFunc:_b58.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _b5a=this;lang.mixin(_b5a,args);_b5a.node=args.node;_b5a._showArgs=lang.mixin({},args);_b5a._showArgs.node=_b5a.node;_b5a._showArgs.duration=_b5a.showDuration;_b5a.showAnim=_b5a.showFunc(_b5a._showArgs);_b5a._hideArgs=lang.mixin({},args);_b5a._hideArgs.node=_b5a.node;_b5a._hideArgs.duration=_b5a.hideDuration;_b5a.hideAnim=_b5a.hideFunc(_b5a._hideArgs);_b59.after(_b5a.showAnim,"beforeBegin",lang.hitch(_b5a.hideAnim,"stop",true),true);_b59.after(_b5a.hideAnim,"beforeBegin",lang.hitch(_b5a.showAnim,"stop",true),true);},show:function(_b5b){return this.showAnim.play(_b5b||0);},hide:function(_b5c){return this.hideAnim.play(_b5c||0);}});});},"mxui/lib/ColumnResizer":function(){define(["mxui/dom","dojo/dom-geometry","dojo/dom-style","dojo/on","dojo/_base/event","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_b5d,_b5e,_b5f,_b60,_b61,_b62,_b63,_b64){var _b65=_b64(null,{declaredClass:"mxui.lib.ColumnResizer",columns:null,thNodes:null,colUnits:"",tableNode:null,gridNode:null,rowNode:null,minWidth:40,cssClass:"mx-datagrid-column-resizer",rtl:false,autoColums:null,active:0,startPos:0,startWidth:0,totalWidth:0,bodyCursor:"",handles:null,connects:null,resizing:false,constructor:function(_b66){_b66=_b66||{};var ths=_b66.thNodes,cols=_b66.colNodes;this.columns=[];this.autoColumns=[];this.thNodes=ths;this.colUnits=_b66.colUnits;this.tableNode=_b66.tableNode;this.gridNode=_b66.gridNode;this.rowNode=ths[0].parentNode;this.minWidth=_b66.minWidth||40;this.rtl=_b66.rtl;this.prepareTable(ths,cols);},prepareTable:function(ths,cols){var _b67=0,_b68=false;_b62.forEach(ths,function(th,_b69){if(_b69>0){var _b6a=_b5d.create("div",{"class":this.cssClass});_b5d.data(_b6a,"index",_b69);th.firstChild.appendChild(_b6a);}var _b6b=cols[_b69][0].style.width,_b6c=_b6b=="auto";var _b6d=this.columns[_b69]={node:th,cols:cols[_b69],width:0,rounded:0,minWidth:0,startWidth:0,isAuto:_b6c};if(this.colUnits=="px"){if(_b6c){_b68=true;this.autoColumns.push(_b6d);}else{_b67+=parseInt(_b6b,10);}}else{_b68=true;}},this);if(!_b68){this.tableNode.style.width=this.gridNode.style.width=_b67+"px";}_b62.forEach(this.columns,function(_b6e){_b6e.width=this.getColWidth(_b6e);},this);this.setRatios();var self=this;this.connects=[_b60(this.rowNode,"."+this.cssClass+":click",_b61.stop),_b60(this.rowNode,"."+this.cssClass+":mousedown",function(e){var _b6f=_b5d.data(this,"index");self.startResize(_b6f-1,e);})];},startResize:function(_b70,e){if(this.resizing){this.endResize();return;}this.resizing=true;this.active=_b70;this.startPos=e.pageX;this.startWidth=0;this.totalWidth=this.rowNode.offsetWidth;this.bodyCursor=_b5f.get(document.body,"cursor");_b5f.set(document.body,"cursor","col-resize");_b62.forEach(this.columns,function(_b71,i){var _b72=this.getColWidth(_b71);_b71.width=_b71.startWidth=_b72;_b71.minWidth=Math.min(_b72,this.minWidth);if(i<=_b70){this.startWidth+=_b72;}},this);this.handles=[_b60(document,"mousemove",_b63.hitch(this,"moveResize")),_b60(document,"mouseup",_b63.hitch(this,"endResize"))];e.preventDefault();},moveResize:function(e){var _b73=0,_b74=this.active,_b75=this.columns,_b76=this.startWidth+(this.rtl?-1:1)*(e.pageX-this.startPos);this.scaleColumns(_b74,_b76);for(var i=0,_b77;_b77=_b75[i];i++){var _b78=Math.round(_b77.width);this.setColWidth(_b77,_b78);_b73+=_b78;}var diff=this.totalWidth-_b73;this.setColWidth(_b75[_b74],_b75[_b74].rounded+diff);e.preventDefault();},endResize:function(){this.resizing=false;while(this.handles.length){this.handles.pop().remove();}var _b79=this.columns;_b62.forEach(_b79,function(_b7a){if(this.colUnits=="%"){var _b7b=_b7a.rounded/this.totalWidth*100;this.setColWidth(_b7a,_b7b,"%");}else{this.setRatios();}},this);_b5f.set(document.body,"cursor",this.bodyCursor);},recalculate:function(){if(this.colUnits=="px"){var _b7c=0,_b7d=false;_b62.forEach(this.columns,function(_b7e){if(_b7e.isAuto){_b7d=true;}else{_b7c+=_b7e.width;}});if(_b7d){var _b7f=_b5e.getContentBox(this.tableNode.parentNode).w-_b5e.getBorderExtents(this.tableNode).w,_b80=_b7f-_b7c,_b81=_b80;_b62.forEach(this.autoColumns,function(_b82){var _b83=Math.max(Math.min(Math.round(_b82.ratio*_b80),_b81),this.minWidth);_b81-=_b83;_b82.width=_b83;this.setColWidth(_b82,_b83);},this);}}},getColWidth:function(_b84){return _b84.node.offsetWidth;},setColWidth:function(_b85,_b86,unit){unit=unit||"px";if(unit==="px"){_b85.rounded=_b86;}_b85.cols[0].style.width=_b85.cols[1].style.width=_b86+unit;},setRatios:function(){var _b87=0;_b62.forEach(this.autoColumns,function(_b88){_b87+=this.getColWidth(_b88);},this);_b62.forEach(this.autoColumns,function(_b89){_b89.ratio=_b89.width/_b87;},this);},scaleColumns:function(_b8a,_b8b){var _b8c=this.columns,_b8d=_b8c.slice(0,_b8a+1),_b8e=_b8c.slice(_b8a+1).reverse(),_b8f=this.totalWidth,_b90=0,_b91;for(var i=0;i<=_b8a;i++){_b90+=_b8c[i].width;}if(_b8b<_b90){_b91=this.calcScale(_b8d,_b8b);this.calcScale(_b8e,_b8f-_b91);}else{if(_b8b>_b90){_b91=this.calcScale(_b8e,_b8f-_b8b);this.calcScale(_b8d,_b8f-_b91);}}},calcScale:function(_b92,_b93){var _b94=0,_b95=0,_b96=0,_b97=_b92.pop();_b62.forEach(_b92,function(_b98){_b94+=_b98.minWidth;_b95+=_b98.startWidth;});_b97.width=Math.max(_b97.minWidth,_b93-_b95);_b93-=_b97.width;_b62.forEach(_b92,function(_b99){_b94-=_b99.minWidth;var _b9a=Math.min(_b99.startWidth,_b93-_b96-_b94),_b9b=Math.min(_b9a,_b99.startWidth/_b95*_b93);_b99.width=Math.max(_b99.minWidth,_b9b);_b96+=_b99.width;});return _b96+_b97.width;},destroy:function(){while(this.connects.length){this.connects.pop().remove();}_b62.forEach(this.thNodes,function(th){_b5d.data(th,"index",null);});}});return _b65;});},"mxui/widget/TemplateGrid":function(){define(["mxui/widget/_Grid","mxui/widget/TemplateGridItem","mendix/lib/MxContext","mxui/widget","mxui/dom","mendix/logger","mendix/lang","dojo/sniff","dojo/on","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/text!mxui/widget/templates/TemplateGrid.html"],function(_b9c,_b9d,_b9e,_b9f,dom,_ba0,lang,_ba1,_ba2,_ba3,_ba4,_ba5,_ba6){var $=dom.create;var _ba7=_ba4(_b9c,{declaredClass:"mxui.widget.TemplateGrid",templateString:_ba6,subClass:"mx-templategrid",cssmap:_b9f.createCSSMap("mx-templategrid",{row:"row",item:"item",empty:"empty"}),itemNode:null,_mxObjects:[],_itemCache:[],constructor:function(){this._mxObjects=[];this._itemCache=[];this._gridState={selectable:true,selectionmode:"single",searchbar:true,controlbar:true,pagingbar:true,inDenial:false,searchBarVisible:false,searchBarTogglable:true,xpathConstraint:"",dynamicconstraint:"",loading:false,invertedSelection:false};},postCreate:function(){this.inherited(arguments);if(this._metaEntity){this.connectEvents();}this.loaded();},setupGridState:function(){this.inherited(arguments);this._gridState.columns=this._gridConfig.gridSetting("columns");this._gridState.rows=this._gridConfig.gridSetting("rows");this._gridState.cellwidth=String(_ba1("ie")?(100/this._gridState.columns-0.05):(100/this._gridState.columns))+"%";},connectEvents:function(){var self=this;this.own(_ba2(this.itemNode,_ba2.selector("."+this.cssmap.item,"click"),function(e){self.eventItemClicked(e,this);}));var _ba8=this._gridConfig.getDefaultButton();if(_ba8){var evt=_ba8.clickType==="single"?"click":"dblclick";this.own(_ba2(this.itemNode,_ba2.selector("."+this.cssmap.item,evt),function(){self.triggerDefaultAction(this);}));}},fillGrid:function(){this._mxObjects=this._dataSource.getObjects();if(this._gridState.selectfirst&&!this._gridState.invertedSelection&&this._mxObjects.length>0&&!this._hasSelection()){this._addToSelection(this._mxObjects[0].getGuid());}this._shareSelection(this._metaEntity.getEntity());var _ba9=$("#"),_baa=this._itemCache.length,_bab=0,_bac=false,_bad=[],_bae;for(var row=0;row<this._gridState.rows;++row){var _baf=$("div",{"class":this.cssmap.row});_ba9.appendChild(_baf);for(var col=0;col<this._gridState.columns;++col){if(_bab<this._mxObjects.length){if(_bab>=this._itemCache.length){this._itemCache[_bab]=new _b9d({uniqueid:this.uniqueid+"_obj"+this._mxObjects[_bab].getGuid(),name:"mx-name-index-"+_bab,mxform:this.mxform,template:window.mx.ui.getTemplate(this.mxid,"content"),cssClass:this.cssmap.item});_bac=true;}_bae=this._itemCache[_bab].domNode;_bae.style.width=this._gridState.cellwidth;this.domData(_bae,{gridrow:_bab,mendixguid:this._mxObjects[_bab].getGuid()});this.addFocusBox(_bae);_baf.appendChild(_bae);if(this._isSelected(this._mxObjects[_bab].getGuid())){this.selectRow(_bae);}else{this.deselectRow(_bae);}}else{var _bb0=$("div",{"class":this.cssmap.empty},$("br"));_baf.appendChild(_bb0);}++_bab;}if(_bab>=this._mxObjects.length&&!this._gridState.showemptyrows){break;}}dom.empty(this.itemNode);this.itemNode.appendChild(_ba9);for(_bab=0;_bab<this._mxObjects.length;++_bab){var _bb1=new _b9e({mxcontext:this.mxcontext});_bb1.setObject(this._mxObjects[_bab]);if(_bab>=_baa){this._itemCache[_bab].startup();}this._itemCache[_bab].set("disabled",false);_bad.push(_ba3.hitch(this._itemCache[_bab],"applyContext",_bb1));}for(_bab=this._mxObjects.length;_bab<this._itemCache.length;_bab++){this._itemCache[_bab].set("disabled",true);}lang.collect(_bad,function(){if(_bac){this.mxform.resize();}},this);},deselectGridRows:function(){for(var i=0,l=this._itemCache.length;i<l;++i){this.deselectRow(this._itemCache[i].domNode);}},_getEntity:function(_bb2){return lang.firstKey(_bb2);},_getCurrentGuid:function(){return this.selection[0];},_getObjectFromNode:function(node){return this._mxObjects[this.domData(node,"gridrow")];}});return _ba7;});},"mxui/widget/TemplateGridItem":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/_base/declare"],function(_bb3,dom,_bb4,_bb5){var _bb6=_bb5(_bb3,{declaredClass:"mxui.widget.TemplateGridItem",name:"",cssClass:"",template:null,root:null,buildRendering:function(){this.domNode=dom.div({"class":[this.name,this.cssClass].join(" ")});if(this.template){this.domNode.appendChild(this.template);}},startup:function(){var _bb7=this.parseContent(this.domNode,{schema:"",ignoreUpdates:true});this.root=_bb7[0]||null;},_setDisabledAttr:function(_bb8){this.root&&this.root.set("disabled",_bb8);}});return _bb6;});},"mxui/widget/TabContainer":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/dom","mendix/logger","dojo/on","dojo/dom-class","dojo/dom-geometry","dojo/_base/array","dojo/_base/declare"],function(_bb9,_bba,dom,_bbb,_bbc,_bbd,_bbe,_bbf,_bc0){var $=dom.create;var _bc1=_bc0([_bb9,_bba],{declaredClass:"mxui.widget.TabContainer",validator:null,_active:null,_tabList:null,_tabPanes:null,_tabContent:null,_clickHandler:null,postMixInProperties:function(){this.doParse=true;},buildRendering:function(){var _bc2=this._tabList=$("ul",{"class":"nav nav-tabs mx-tabcontainer-tabs"}),_bc3=this._tabContent=$("div",{"class":"tab-content mx-tabcontainer-content"},this.getTemplate("pages"));this.domNode=$("div",{"class":"mx-tabcontainer"},_bc2,_bc3);var self=this;this._clickHandler=_bbc(_bc2,_bbc.selector("li","click"),function(e){self.showTab(self.domData(this,"tab"));e.preventDefault();});},startup:function(){var _bc4=this._tabList,_bc5=this._tabContent.childNodes,_bc6=0,tabs=this._tabPanes=[];for(var i=0,_bc7;_bc7=_bc5[i];i++){var li=$("li"),tab=this.parseContent(_bc7,{index:i,button:li,container:this,validator:this})[0];this.domData(li,"tab",tab);if(tab.selected){_bc6=i;}li.appendChild($("a",{href:"#","class":"mx-name-"+tab.tabName},tab.title));li.appendChild(tab.indicator);_bc4.appendChild(li);tabs.push(tab);}this.showTab(tabs[this.getState("selected",_bc6)]);},showTab:function(tab){var self=this,_bc8=this._active;if(_bc8){_bc8.hideTab();}this._active=tab;_bbd.add(this._tabContent,"loading");tab.showTab(function(){if(self._active===tab){_bbd.remove(self._tabContent,"loading");}self.mxform.resize();});},onShowTab:function(tab){if(!this._active){this.showTab(tab);this.domNode.style.display="";}},onHideTab:function(tab){if(tab===this._active){var _bc9=tab.index,_bca=this._tabPanes,_bcb=_bca.slice(_bc9+1).concat(_bca.slice(0,_bc9)),_bcc;for(var i=0,pane;pane=_bcb[i];i++){if(!pane._hidden){_bcc=pane;break;}}tab.hideTab();if(_bcc){this.showTab(_bcc);}else{this._active=null;this.domNode.style.display="none";}}},resize:function(box){var _bcd=true,tabs=this._tabPanes;if(box){var _bce=box.h-_bbe.getMarginBox(this._tabList,null).h;if(_bce>dom.minContainerHeight){_bcd=false;_bbe.setMarginBox(this._tabContent,{h:_bce});}else{this._tabContent.style.height="auto";}}this._tabContent.style.overflow=_bcd?"":"auto";for(var i=0,tab;tab=tabs[i];i++){tab.resize(_bcd);}},isValid:function(){return _bbf.every(this._tabPanes,function(tab){return tab.isValid?tab.isValid():true;});},uninitialize:function(){this._clickHandler.remove();},storeState:function(_bcf){_bcf("selected",this._active&&this._active.index);}});return _bc1;});},"mxui/widget/TabContent":function(){define(["mxui/widget/_WidgetBase","mxui/widget/TabContainer","mxui/widget","mxui/dom","mendix/logger","dojo/dom-class","dojo/dom-style","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dijit"],function(_bd0,_bd1,_bd2,dom,_bd3,_bd4,_bd5,_bd6,_bd7,_bd8,_bd9){var $=dom.create;var _bda=_bd8(_bd0,{declaredClass:"mxui.widget.TabContent",index:0,title:"",button:null,container:null,indicator:null,delayLoading:false,refreshOnShow:false,_hidden:false,_parsed:false,_loading:false,_visible:false,_cachedResize:null,_notifies:0,_children:null,_contextInitialized:false,buildRendering:function(){this.indicator=$("span",{"class":"mx-tabcontainer-indicator"});this.domNode=$("div",{"class":"tab-pane mx-tabcontainer-pane"});},startup:function(){if(!this.delayLoading){this.parse();}this._updateNotification();},applyContext:function(){this._contextInitialized=true;return this.inherited(arguments);},parse:function(){var _bdb=this.getTemplate("content");this.domNode.appendChild($("#",_bdb||""));this._children=this.parseContent(this.domNode,{validator:this});this._parsed=true;if(_bdb&&this.domNode.firstChild&&_bd9.byNode(this.domNode.firstChild) instanceof _bd1){_bd4.add(this.domNode.firstChild,"mx-tabcontainer-nested");}},refresh:function(_bdc){this._loading=true;var _bdd=this.getChildren();_bd2.ready(_bdd,_bd7.hitch(this,"passContext",_bdd,_bd7.hitch(this,function(){this._loading=false;_bdc&&_bdc();})));},show:function(){this._hidden=false;_bd5.set(this.button,"display","");_bd5.set(this.domNode,"display","");this.container.onShowTab(this);},hide:function(){this._hidden=true;_bd5.set(this.button,"display","none");_bd5.set(this.domNode,"display","none");if(this._contextInitialized){this.container.onHideTab(this);}},showTab:function(_bde){this._visible=true;if(this._loading){return;}var self=this,done=function(){if(self._visible){_bd4.add(self.domNode,"active");if(self._cachedResize!=null){self.resize(self._cachedResize);self._cachedResize=null;}}if(_bde){_bde();}};_bd4.add(this.button,"active");if(!this._parsed){this.parse();this.refresh(done);}else{if(this.refreshOnShow&&this._contextInitialized){this.refresh();}done();}},hideTab:function(){this._visible=false;_bd4.remove(this.button,"active");_bd4.remove(this.domNode,"active");},resize:function(_bdf){if(this._visible){this.resizeChildren(this.domNode,_bdf);}else{this._cachedResize=_bdf;}},isValid:function(){return _bd6.every(this._children,function(_be0){return _be0.isValid?_be0.isValid():true;});},addNotification:function(){++this._notifies;this._updateNotification();var _be1=this.container.validator;if(_be1){_be1.addNotification();}return true;},removeNotification:function(){--this._notifies;this._updateNotification();var _be2=this.container.validator;if(_be2){_be2.removeNotification();}},_updateNotification:function(){if(this._notifies===0){_bd5.set(this.indicator,"display","none");}else{if(this.domNode.style.display=="none"){window.mx.ui.error(this.translate("hidden_validations",[this.index+1]));}_bd5.set(this.indicator,"display","");}dom.text(this.indicator,this._notifies+"");},_setTitleAttr:function(){}});return _bda;});},"mxui/widget/ReferenceSetSelector":function(){define(["mxui/widget/DataGrid","webcore/datasource/ReferenceSetSource","mxui/widget/_WidgetBase","mxui/mixin/_Contextable","mxui/dom","mendix/lang","mendix/logger","dojo/dom-class","dojo/_base/lang","dojo/_base/declare","dijit/_Container","dijit/_Contained"],function(_be3,_be4,_be5,_be6,dom,lang,_be7,_be8,_be9,_bea,_beb,_bec){var _bed=_bea([_be5,_beb,_bec,_be6],{declaredClass:"mxui.widget.ReferenceSetSelector",entity:"",xpathConstraint:"",config:null,_datasource:null,_datagrid:null,_sourceObject:null,_mendixGuid:null,_oldXPath:null,_gridBacktrack:null,_errorNode:null,_oldActionDeleteSelection:null,_hasError:false,postCreate:function(){this._gridBacktrack=this.backtrackconstraints;delete this.backtrackconstraints;this.initContext();var path=this.config.datasource.path.split("/");this.entity=path.pop();this.sourceReference=path.pop();this.createGrid();},createGrid:function(){this._datasource=new _be4(_be9.mixin({queryid:this.schema},this.config.datasource));this._datagrid=new _be3({mxid:this.mxid,uniqueid:this.uniqueid+"_grid",mxform:this.mxform,contextname:this.contextname,entity:this.entity,schema:this.schema,customDataSource:this._datasource,config:this.config});this._datagrid.addOnLoad(_be9.hitch(this,"actLoaded"));this._oldActionDeleteSelection=this._datagrid.actionDeleteSelection;_be9.mixin(this._datagrid,{actionAddRef:_be9.hitch(this,"handlerAdd"),actionCreateRef:_be9.hitch(this,"handlerCreate"),actionDeleteRef:this.makeRemoveHandler(false),actionDeleteSelection:this.makeRemoveHandler(true),registerSubscriptions:_be9.hitch(this,"registerSubscriptions")});this.domNode.appendChild(this._datagrid.domNode);},handlerAdd:function(_bee){if(this._sourceObject){this._openAddForm(_bee[this.entity].pageSettings);}},handlerCreate:function(_bef){if(!this._sourceObject){return;}var _bf0=this._getEntity(_bef);window.mx.data.create({entity:_bf0,callback:function(obj){var _bf1=this.createContext();_bf1.setTrackEntity(_bf0);_bf1.setTrackId(obj.getGuid());window.mx.ui.execute({type:"openPage",params:_bef[_bf0].pageSettings},{origin:this.mxform,context:_bf1,callback:function(form){form.listen("commit",_be9.hitch(this,function(_bf2){this._sourceObject.addReferences(this.sourceReference,[obj.getGuid()]);this.onChange();_bf2();}));}},this);},error:function(e){window.mx.onError(e);}},this);},makeRemoveHandler:function(_bf3){var self=this;return function(){var _bf4=self._datagrid.getSelected();if(_bf4.length===0){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{window.mx.ui.confirmation({content:window.mx.ui.translate("mxui.widget.DataGrid","confirm_delete",[_bf4.length]),handler:function(){if(_bf3){self._oldActionDeleteSelection.call(self._datagrid,true);}self._sourceObject.removeReferences(self.sourceReference,_bf4);self.onChange();if(!_bf3){self._datagrid.deselectAll();self._datagrid.reload();}}});}};},registerSubscriptions:function(){this.unsubscribeAll();this.subscribe({guid:this._mendixguid,attr:this.sourceReference,callback:function(guid){this.objectUpdate(guid);}});this.subscribe({entity:this.entity,callback:_be9.hitch(this,function(){this.objectUpdate.apply(this,arguments);})});this.subscribe({guid:this._mendixguid,callback:_be9.hitch(this,"objectUpdate")});this.subscribe({guid:this._mendixguid,val:true,callback:_be9.hitch(this,"onValidation")});},applyContext:function(_bf5,_bf6){if(_bf5!=null&&_bf5.hasTrackId()){this.cloneContext(_bf5);var _bf7=(this._mendixguid==null||this._mendixguid!=_bf5.getTrackId());this._mendixguid=_bf5.getTrackId();this.mxcontext.setConstraints(this.constrainedBy);this.registerSubscriptions();this.updateSequence(_bf7,_bf6);}else{this.unsubscribeAll();this.removeContext(_bf6);}this.removeError();},removeContext:function(_bf8){if(this._datagrid.removeContext){this._datagrid.removeContext(_bf8);}else{if(_bf8){_bf8();}}},updateSequence:function(_bf9,_bfa){var _bfb=[];if(_bf9){_bfb.push("actFetchSourceObject");}_bfb.push("actUpdateGrid");if(!_bf9){_bfb.push("actCompareSet");}this.sequence(_bfb,_bfa);},actFetchSourceObject:function(_bfc){var self=this;if(this._mendixguid){window.mx.data.get({guid:this._mendixguid,callback:function(obj){self._sourceObject=obj;self._datasource.setObject(obj);self._datagrid.set("readOnly",self._sourceObject.isReadonlyAttr(self.sourceReference));_bfc();},error:function(e){window.mx.onError(e);if(_bfc){_bfc();}}});}else{if(_bfc){_bfc();}}},actUpdateGrid:function(_bfd){this._oldXPath=this._datagrid.getCurrentXPath();this._datagrid.applyContext(this.mxcontext,_bfd);},actCompareSet:function(_bfe){var _bff=this._datagrid.getCurrentXPath();if(!this._oldXPath.match("[1=0]")&&this._oldXPath!=_bff){this._sourceObject.set(this.sourceReference,"");this.onChange();}else{if(_bfe){_bfe();}}},objectUpdate:function(guid,_c00){this.updateSequence();if(_c00){_c00();}},_setDisabledAttr:function(_c01){var grid=this._datagrid,_c02=_c01===true;grid.set("disabled",_c01);grid.set("selectable",!_c02);grid.set("toolbar",_c02);},_getDisabledAttr:function(){return this._datagrid.get("disabled");},onChange:function(){this.removeError();if(this.events&&this.events.change){window.mx.ui.execute({type:"callMicroflow",params:this.events.change},{origin:this.mxform,context:this.mxcontext,abortOnClientValidations:true});}},onValidation:function(list){var val=list[0],attr=this.sourceReference,msg=val.getReasonByAttribute(attr);if(msg){this.addError(msg);val.removeAttribute(attr);}},addError:function(msg){this.removeError();this._hasError=true;if(msg){this._errorNode=dom.create("div",{"class":"alert alert-danger"},msg);this.domNode.parentNode.appendChild(this._errorNode);this.mxform.resize();}_be8.add(this.domNode,"has-error");if(this.validator){this.validator.addNotification();}},removeError:function(){if(this._errorNode){dom.orphan(this._errorNode);this._errorNode=null;}_be8.remove(this.domNode,"has-error");if(this.validator&&this._hasError){this.validator.removeNotification();}this._hasError=false;},_openAddForm:function(_c03){var self=this;var _c04=this.createContext();_c04.dupFrom(this.mxcontext);_c04.unsetContext(this.entity);_c04.setConstraints(this._gridBacktrack);window.mx.ui.execute({type:"openPage",params:_c03},{origin:this.mxform,context:_c04,targetParams:{selection:[],listViewSelectionMode:"multi",dataSourceMixin:{constraint:this.xpathConstraint}},callback:function(form){form.listen("commit",function(_c05){var _c06=lang.find(form.getChildren(true),function(_c07){return "getSelected" in _c07;}),_c08=_c06.getSelected();if(_c08.length>0){self._sourceObject.addReferences(self.sourceReference,_c08);self.onChange();}_c05();});}});},_getEntity:function(_c09){for(var i in _c09){return i;}}});return _bed;});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_c0a,_c0b,_c0c,_c0d){return _c0b("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_c0e,_c0f){var _c10=this.containerNode;if(_c0f>0){_c10=_c10.firstChild;while(_c0f>0){if(_c10.nodeType==1){_c0f--;}_c10=_c10.nextSibling;}if(_c10){_c0f="before";}else{_c10=this.containerNode;_c0f="last";}}_c0c.place(_c0e.domNode,_c10,_c0f);if(this._started&&!_c0e._started){_c0e.startup();}},removeChild:function(_c11){if(typeof _c11=="number"){_c11=this.getChildren()[_c11];}if(_c11){var node=_c11.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_c12,dir){_c0d.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var _c13=this.getChildren(),idx=_c0a.indexOf(_c13,_c12);return _c13[idx+dir];},getIndexOfChild:function(_c14){return _c0a.indexOf(this.getChildren(),_c14);}});});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_c15,_c16){return _c15("dijit._Contained",null,{_getSibling:function(_c17){var node=this.domNode;do{node=node[_c17+"Sibling"];}while(node&&node.nodeType!=1);return node&&_c16.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"mxui/widget/BoolSelect":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/_base/declare"],function(_c18,_c19,_c1a){var _c1b=_c1a(_c18,{declaredClass:"mxui.widget.BoolSelect",_value:false,buildRendering:function(){this.editNode=_c19.create("input",{type:"checkbox"});this.inherited(arguments);},onChange:function(e){if(this._value!=this.editNode.checked){this._value=this.editNode.checked;this.inherited(arguments);}},_getValueAttr:function(){return this._value;},_setValueAttr:function(_c1c){this.editNode.checked=this._value=_c1c;_c19.text(this.readNode,window.mx.parser.formatValue(_c1c,"Boolean"));}});return _c1b;});},"mxui/widget/RadioButtonGroup":function(){define(["mxui/widget/_FormWidget","mxui/dom","mendix/lang","dojo/_base/declare"],function(_c1d,dom,lang,_c1e){var $=dom.create;var _c1f=_c1e(_c1d,{declaredClass:"mxui.widget.RadioButtonGroup",horizontal:true,options:null,_inputMap:null,_inputName:"",_attrType:"",_value:"",postMixInProperties:function(){this.inherited(arguments);this._inputMap={};this._inputName=lang.getUniqueId();this._attrType=mx.meta.getEntity(this._entity).getAttributeType(this._attribute);},buildRendering:function(){this.editNode=$("div");lang.forEach(this.options,this._addRadioButton,this);this.inherited(arguments);},connectEvents:function(){},_addRadioButton:function(_c20){var _c21=$("input",{type:"radio",name:this._inputName,value:_c20.key});this._inputMap[_c20.key]=_c21;this.editNode.appendChild(this.horizontal?$("label",{"class":"radio-inline"},_c21,_c20.caption):$("div",{"class":"radio"},$("label",_c21,_c20.caption)));this.connect(_c21,"change",function(e){var _c22=e.target.value;if(_c22!==this._value){this._value=this._attrType==="Boolean"?_c22==="true":_c22;this.onChange(e);}});},_getValueAttr:function(){return this._value;},_setValueAttr:function(_c23){if(_c23 in this._inputMap){this._inputMap[_c23].checked=true;this._value=_c23;}else{if(this._value){this._inputMap[this._value].checked=false;}this._value="";}var _c24=lang.find(this.options,function(_c25){return _c25.key===_c23.toString();});this.readNode.innerHTML=_c24?dom.escapeString(_c24.caption):"&nbsp;";}});return _c1f;});},"mxui/widget/DatePicker":function(){define(["mxui/widget/Button","mxui/widget/_WidgetBase","mxui/dom","dijit/focus","dijit/Calendar","dojo/sniff","dojo/i18n","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/dom-geometry","dojo/keys","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(_c26,_c27,_c28,_c29,_c2a,_c2b,_c2c,_c2d,_c2e,_c2f,_c30,_c31,_c32,_c33,_c34,_c35){var _c36=_c35(_c27,{declaredClass:"mxui.widget.DatePicker",placeholder:"",selector:"date",format:"",_value:"",_native:false,_params:null,_calendar:null,_rescon:null,_leavecon:null,_blurcon:null,_foccon:null,_capture:null,_chgcon:null,_inputPos:null,_inputNode:null,_inputPane:null,_calButton:null,_calUpdateOn:true,buildRendering:function(){var $=_c28.create,_c37=":)",type=this.selector=="datetime"?"datetime-local":this.selector,_c38;var _c39=this._inputPane=$("div",{"class":"mx-dateinput-input-wrapper"},_c38=this._inputNode=$("input",{"class":"form-control mx-dateinput-input",type:type,value:_c37,placeholder:this._getPlaceholder()}));this.domNode=$("div",{"class":"mx-dateinput"},_c39);this._native=_c2b("mobile")&&_c38.type===type&&_c38.value!==_c37;_c38.value="";this._params={selector:this.selector=="custom"?"date":this.selector,datePattern:this.format};if(this._native){this._params=this._getNativeParseOpts();}else{_c38.type="text";if(this._formatContainsDate()){this._calButton=new _c26({"class":"mx-dateinput-select-button",iconClass:"glyphicon-calendar"});_c2d.set(this._calButton.domNode,"tabindex","-1");_c30.place(this._calButton.domNode,_c39,"before");}}},startup:function(){this.inherited(arguments);var node=this._inputNode;this._connectChangeEvent();this._blurcon=this.connect(node,"blur","onBlur");this._foccon=this.connect(node,"focus","onFocus");this.connect(node,"keyup","_handleInputKey");if(this._calButton){this.connect(this._calButton,"onClick","_handleButtonClicked");}},enable:function(){if(this._calButton){this._calButton.set("disabled",false);}_c2d.remove(this._inputNode,"disabled");},disable:function(){if(this._calButton){this._calButton.set("disabled",true);}_c2d.set(this._inputNode,"disabled","disabled");},focus:function(){_c29.focus(this._inputNode);},onChange:function(){},onKeyUp:function(e){},onFocus:function(e){},onBlur:function(e){},uninitialize:function(){if(this._calendar){this._calendar.destroy();}if(this._capture){this._capture.remove();}},_formatContainsDate:function(){return (this.selector=="date"||this.selector=="datetime"||(this.selector=="custom"&&this.format.indexOf("d")!=-1&&this.format.indexOf("M")!=-1&&this.format.indexOf("y")!=-1));},_connectChangeEvent:function(){if(this._native){this._chgcon=this.connect(this._inputNode,"blur",function(){if(this._inputNode.value!=this._value){this.onChange();}});}else{this._chgcon=this.connect(this._inputNode,"change","onChange");}},_disconnectEvents:function(_c3a){for(var i=0,name;name=_c3a[i];++i){if(this[name]){this.disconnect(this[name]);this[name]=null;}}},_showCalendar:function(){var _c3b=this._calendar;if(!this._isCalendarVisible()){if(!_c3b){_c3b=this._calendar=new _c2a(_c34.mixin({datePackage:window.mx.ui.getDatePackage(),onChange:_c34.hitch(this,"_handleCalendarChange")},this._calendarPatch));this.connect(this._calendar.domNode,"keyup",function(e){if(e.keyCode===_c32.ESCAPE){this._hideCalendar();}});_c3b.domNode.style.position="absolute";document.body.appendChild(_c3b.domNode);}var _c3c=this.get("value");if(_c3c===""){_c3c=new Date();}this._setCalendarValue(_c3c);_c3b.domNode.style.display="block";this._rescon=this.connect(this.mxform,"resize","_handleResizeWindow");this._capture=_c28.capture(document.body,"mousedown",_c34.hitch(this,"_handleBodyClicked"));}this._handleResizeWindow();this._disconnectEvents(["_chgcon","_leavecon","_blurcon"]);_c3b.focus();setTimeout(_c34.hitch(this,function(){this._connectChangeEvent();this._leavecon=this.connect(this._inputNode,"blur","_handleInputBlur");this._blurcon=this.connect(this._inputNode,"blur","onBlur");}),0);},_hideCalendar:function(){if(this._isCalendarVisible()){this._calendar.domNode.style.display="none";this._disconnectEvents(["_rescon","_leavecon"]);this._capture.remove();this._capture=null;this._inputPos=null;}this._disconnectEvents(["_foccon"]);this.focus();setTimeout(_c34.hitch(this,function(){this._foccon=this.connect(this._inputNode,"focus","onFocus");}),0);},_handleCalendarChange:function(_c3d){if(!this._calUpdateOn){return;}if(_c3d.toGregorian){_c3d=_c3d.toGregorian();}this.set("value",this._mergeDates(_c3d));this._hideCalendar();this.onChange();},_handleInputKey:function(e){this.onKeyUp(e);if(!this._calButton){return;}if(e.keyCode===_c32.DOWN_ARROW){this._showCalendar();}else{if(e.keyCode==_c32.ENTER||e.keyCode===_c32.ESCAPE){if(this._isCalendarVisible()){e.stopPropagation();}this._hideCalendar();}else{var _c3e=this.get("value");if(_c3e&&this._isCalendarVisible()){this._setCalendarValue(_c3e);}}}},_handleInputBlur:function(e){this._hideCalendar();},_handleBodyClicked:function(e){var _c3f=function(e,_c40){var pos=_c31.position(_c40.domNode);return (e.clientX>=pos.x&&e.clientX<pos.x+pos.w&&e.clientY>=pos.y&&e.clientY<pos.y+pos.h);};var _c41=[this,this._calendar,this._calendar.monthWidget,this._calendar.monthWidget.dropDown];if(e){for(var i=0,w;w=_c41[i];++i){if(_c3f(e,w)){return;}}}this._hideCalendar();this.onBlur();},_handleButtonClicked:function(e){if(this._isCalendarVisible()){this._hideCalendar();}else{this._showCalendar();}},_handleResizeWindow:function(){var box=_c31.position(this._inputNode,true),pos={x:box.x,y:box.y},_c42=this._inputPos;if(!this.isLeftToRight()){pos.x+=box.w;}if(_c42==null||pos.x!=_c42.x||pos.y!=_c42.y){var _c43={left:pos.x+"px",top:pos.y+box.h+"px",zIndex:1000};if(!this.isLeftToRight()){var _c44=_c31.position(this._calendar.domNode,true);_c43.left=pos.x-_c44.w+"px";}_c2f.set(this._calendar.domNode,_c43);this._inputPos=pos;}},_isCalendarVisible:function(){return this._calendar&&this._calendar.domNode.style.display!="none";},_setCalendarValue:function(_c45){this._calUpdateOn=false;this._calendar.set("value",_c45);this._calUpdateOn=true;},_getNativeParseOpts:function(){var _c46;switch(this.selector){case "date":_c46="yyyy-MM-dd";break;case "time":_c46="HH:mm";break;case "datetime":_c46="yyyy-MM-dd HH:mm";}return {selector:"date",datePattern:_c46};},_getPlaceholder:function(){if(this.placeholder){return this.placeholder;}else{var _c47=_c2c.getLocalization("dojo.cldr",mx.ui.getCalendarSystem()),_c48;switch(this.selector){case "date":_c48=_c47["dateFormat-short"];break;case "time":_c48=_c47["timeFormat-short"];break;case "datetime":_c48=_c47["dateFormat-short"]+" "+_c47["timeFormat-short"];break;case "custom":_c48=this.format;}_c48=_c48.toLowerCase();return _c48.replace(/(\w)+/g,function(_c49,_c4a){switch(_c4a){case "y":return new Array(5).join(_c4a);case "a":return _c47["field-dayperiod"];default:return new Array(3).join(_c4a);}});}},_mergeDates:function(_c4b){var _c4c=new Date(this._value===""?window.mx.parser.localizeEpoch(0):this._value);return window.mx.parser.mergeDates(_c4c,_c4b,this.selector);},_getValueAttr:function(){var _c4d=this._inputNode.value;if(_c4d===""){return "";}if(this._native){_c4d=_c4d.slice(0,16).replace("T"," ");}var _c4e=window.mx.parser.parseValue2(_c4d,"datetime",this._params);return _c4e?this._mergeDates(_c4e):null;},_setValueAttr:function(_c4f){var _c50=window.mx.parser.formatValue(_c4f,"datetime",this._params);this._inputNode.value=this._native?_c50.replace(" ","T"):_c50;this._value=_c4f;},_calendarPatch:{_onDayMouseDown:function(e){var node=e.target.parentNode;if(node&&node.dijitDateValue!=null&&!_c2e.contains(node,"dijitCalendarDisabledDate")){this._currentNode=node;}},_onDayClick:function(e){_c33.stop(e);for(var node=e.target;node&&(node.dijitDateValue==null);node=node.parentNode){}if(node&&!_c2e.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_patchDate:function(_c51){if(_c51!=null){_c51=new this.dateClassObj(_c51);_c51.setHours(1,0,0,0);}return _c51;}}});return _c36;});},"dijit/Calendar":function(){define(["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(_c52,date,_c53,_c54,_c55,_c56,_c57,_c58,keys,lang,on,has,_c59,_c5a,_c5b,_c5c,_c5d){var _c5e=_c54("dijit.Calendar",[_c59,_c5a,_c5b],{baseClass:"dijitCalendar",cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(_c5f){_c58.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_c5f);},_createMonthWidget:function(){return new _c5e._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")),on(this.dateRowsNode,"mouseover",lang.hitch(this,"_onDayMouseOver")),on(this.dateRowsNode,"mouseout",lang.hitch(this,"_onDayMouseOut")),on(this.dateRowsNode,"mousedown",lang.hitch(this,"_onDayMouseDown")),on(this.dateRowsNode,"mouseup",lang.hitch(this,"_onDayMouseUp")));},_onMonthSelect:function(_c60){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_c60);var _c61=this.dateModule.getDaysInMonth(date);var _c62=this.currentFocus.getDate();date.setDate(Math.min(_c62,_c61));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_c56.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_c56.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_c56.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_c56.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_c56.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_c56.contains(node,"dijitCalendarDisabledDate")){_c56.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_c56.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _c63=-1,_c64,_c65=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_c63=1;case keys.LEFT_ARROW:_c64="day";if(!this.isLeftToRight()){_c63*=-1;}break;case keys.DOWN_ARROW:_c63=1;case keys.UP_ARROW:_c64="week";break;case keys.PAGE_DOWN:_c63=1;case keys.PAGE_UP:_c64=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_c65=this.dateModule.add(_c65,"month",1);_c64="day";case keys.HOME:_c65=new this.dateClassObj(_c65);_c65.setDate(1);break;default:return true;}if(_c64){_c65=this.dateModule.add(_c65,_c64,_c63);}this._setCurrentFocusAttr(_c65);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){evt.stopPropagation();evt.preventDefault();}},onValueSelected:function(){},onChange:function(_c66){this.onValueSelected(_c66);},getClassForDate:function(){}});_c5e._MonthDropDownButton=_c54("dijit.Calendar._MonthDropDownButton",_c5d,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _c5e._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(_c67){var _c68=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_c67);this.dropDown.set("months",_c68);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_c68[_c67.getMonth()]+"</div>";}});_c5e._MonthDropDown=_c54("dijit.Calendar._MonthDropDown",[_c5a,_c5c,_c5b],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"<div data-dojo-attach-event='ondijitclick:_onClick'></div>",_setMonthsAttr:function(_c69){this.domNode.innerHTML="";_c52.forEach(_c69,function(_c6a,idx){var div=_c57.create("div",{className:"dijitCalendarMonthLabel",month:idx,innerHTML:_c6a},this.domNode);div._cssState="dijitCalendarMonthLabel";},this);},_onClick:function(evt){this.onChange(_c55.get(evt.target,"month"));},onChange:function(){}});return _c5e;});},"dojo/date":function(){define(["./has","./_base/lang"],function(has,lang){var date={};date.getDaysInMonth=function(_c6b){var _c6c=_c6b.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_c6c==1&&date.isLeapYear(_c6b)){return 29;}return days[_c6c];};date.isLeapYear=function(_c6d){var year=_c6d.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};date.getTimezoneName=function(_c6e){var str=_c6e.toString();var tz="";var _c6f;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_c6f=str.match(pat))){tz=_c6f[1];}else{str=_c6e.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_c6f=str.match(pat))){tz=_c6f[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};date.compare=function(_c70,_c71,_c72){_c70=new Date(+_c70);_c71=new Date(+(_c71||new Date()));if(_c72=="date"){_c70.setHours(0,0,0,0);_c71.setHours(0,0,0,0);}else{if(_c72=="time"){_c70.setFullYear(0,0,0);_c71.setFullYear(0,0,0);}}if(_c70>_c71){return 1;}if(_c70<_c71){return -1;}return 0;};date.add=function(date,_c73,_c74){var sum=new Date(+date);var _c75=false;var _c76="Date";switch(_c73){case "day":break;case "weekday":var days,_c77;var mod=_c74%5;if(!mod){days=(_c74>0)?5:-5;_c77=(_c74>0)?((_c74-5)/5):((_c74+5)/5);}else{days=mod;_c77=parseInt(_c74/5);}var strt=date.getDay();var adj=0;if(strt==6&&_c74>0){adj=1;}else{if(strt==0&&_c74<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_c74>0)?2:-2;}_c74=(7*_c77)+days+adj;break;case "year":_c76="FullYear";_c75=true;break;case "week":_c74*=7;break;case "quarter":_c74*=3;case "month":_c75=true;_c76="Month";break;default:_c76="UTC"+_c73.charAt(0).toUpperCase()+_c73.substring(1)+"s";}if(_c76){sum["set"+_c76](sum["get"+_c76]()+_c74);}if(_c75&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};date.difference=function(_c78,_c79,_c7a){_c79=_c79||new Date();_c7a=_c7a||"day";var _c7b=_c79.getFullYear()-_c78.getFullYear();var _c7c=1;switch(_c7a){case "quarter":var m1=_c78.getMonth();var m2=_c79.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_c7b*4);_c7c=q2-q1;break;case "weekday":var days=Math.round(date.difference(_c78,_c79,"day"));var _c7d=parseInt(date.difference(_c78,_c79,"week"));var mod=days%7;if(mod==0){days=_c7d*5;}else{var adj=0;var aDay=_c78.getDay();var bDay=_c79.getDay();_c7d=parseInt(days/7);mod=days%7;var _c7e=new Date(_c78);_c7e.setDate(_c7e.getDate()+(_c7d*7));var _c7f=_c7e.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_c7f+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_c7f+mod)<0:adj=2;}}}days+=adj;days-=(_c7d*2);}_c7c=days;break;case "year":_c7c=_c7b;break;case "month":_c7c=(_c79.getMonth()-_c78.getMonth())+(_c7b*12);break;case "week":_c7c=parseInt(date.difference(_c78,_c79,"day")/7);break;case "day":_c7c/=24;case "hour":_c7c/=60;case "minute":_c7c/=60;case "second":_c7c/=1000;case "millisecond":_c7c*=_c79.getTime()-_c78.getTime();}return Math.round(_c7c);};1&&lang.mixin(lang.getObject("dojo.date",true),date);return date;});},"dojo/date/locale":function(){define(["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(lang,_c80,date,_c81,i18n,_c82,_c83,_c84,_c85){var _c86={};lang.setObject(_c85.id.replace(/\//g,"."),_c86);function _c87(_c88,_c89,_c8a,_c8b){return _c8b.replace(/([a-z])\1*/ig,function(_c8c){var s,pad,c=_c8c.charAt(0),l=_c8c.length,_c8d=["abbr","wide","narrow"];switch(c){case "G":s=_c89[(l<4)?"eraAbbr":"eraNames"][_c88.getFullYear()<0?0:1];break;case "y":s=_c88.getFullYear();switch(l){case 1:break;case 2:if(!_c8a.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_c88.getMonth()+1)/3);pad=true;break;case "M":case "L":var m=_c88.getMonth();if(l<3){s=m+1;pad=true;}else{var _c8e=["months",c=="L"?"standAlone":"format",_c8d[l-3]].join("-");s=_c89[_c8e][m];}break;case "w":var _c8f=0;s=_c86._getWeekOfYear(_c88,_c8f);pad=true;break;case "d":s=_c88.getDate();pad=true;break;case "D":s=_c86._getDayOfYear(_c88);pad=true;break;case "e":case "c":var d=_c88.getDay();if(l<2){s=(d-_c81.getFirstDayOfWeek(_c8a.locale)+8)%7;break;}case "E":d=_c88.getDay();if(l<3){s=d+1;pad=true;}else{var _c90=["days",c=="c"?"standAlone":"format",_c8d[l-3]].join("-");s=_c89[_c90][d];}break;case "a":var _c91=_c88.getHours()<12?"am":"pm";s=_c8a[_c91]||_c89["dayPeriods-format-wide-"+_c91];break;case "h":case "H":case "K":case "k":var h=_c88.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_c88.getMinutes();pad=true;break;case "s":s=_c88.getSeconds();pad=true;break;case "S":s=Math.round(_c88.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=_c86._getZone(_c88,true,_c8a);if(s){break;}l=4;case "Z":var _c92=_c86._getZone(_c88,false,_c8a);var tz=[(_c92<=0?"+":"-"),_c83.pad(Math.floor(Math.abs(_c92)/60),2),_c83.pad(Math.abs(_c92)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_c8b);}if(pad){s=_c83.pad(s,l);}return s;});};_c86._getZone=function(_c93,_c94,_c95){if(_c94){return date.getTimezoneName(_c93);}else{return _c93.getTimezoneOffset();}};_c86.format=function(_c96,_c97){_c97=_c97||{};var _c98=i18n.normalizeLocale(_c97.locale),_c99=_c97.formatLength||"short",_c9a=_c86._getGregorianBundle(_c98),str=[],_c9b=lang.hitch(this,_c87,_c96,_c9a,_c97);if(_c97.selector=="year"){return _c9c(_c9a["dateFormatItem-yyyy"]||"yyyy",_c9b);}var _c9d;if(_c97.selector!="date"){_c9d=_c97.timePattern||_c9a["timeFormat-"+_c99];if(_c9d){str.push(_c9c(_c9d,_c9b));}}if(_c97.selector!="time"){_c9d=_c97.datePattern||_c9a["dateFormat-"+_c99];if(_c9d){str.push(_c9c(_c9d,_c9b));}}return str.length==1?str[0]:_c9a["dateTimeFormat-"+_c99].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(_c9e,key){return str[key];});};_c86.regexp=function(_c9f){return _c86._parseInfo(_c9f).regexp;};_c86._parseInfo=function(_ca0){_ca0=_ca0||{};var _ca1=i18n.normalizeLocale(_ca0.locale),_ca2=_c86._getGregorianBundle(_ca1),_ca3=_ca0.formatLength||"short",_ca4=_ca0.datePattern||_ca2["dateFormat-"+_ca3],_ca5=_ca0.timePattern||_ca2["timeFormat-"+_ca3],_ca6;if(_ca0.selector=="date"){_ca6=_ca4;}else{if(_ca0.selector=="time"){_ca6=_ca5;}else{_ca6=_ca2["dateTimeFormat-"+_ca3].replace(/\{(\d+)\}/g,function(_ca7,key){return [_ca5,_ca4][key];});}}var _ca8=[],re=_c9c(_ca6,lang.hitch(this,_ca9,_ca8,_ca2,_ca0));return {regexp:re,tokens:_ca8,bundle:_ca2};};_c86.parse=function(_caa,_cab){var _cac=/[\u200E\u200F\u202A\u202E]/g,info=_c86._parseInfo(_cab),_cad=info.tokens,_cae=info.bundle,re=new RegExp("^"+info.regexp.replace(_cac,"")+"$",info.strict?"":"i"),_caf=re.exec(_caa&&_caa.replace(_cac,""));if(!_caf){return null;}var _cb0=["abbr","wide","narrow"],_cb1=[1970,0,1,0,0,0,0],amPm="",_cb2=_c80.every(_caf,function(v,i){if(!i){return true;}var _cb3=_cad[i-1],l=_cb3.length,c=_cb3.charAt(0);switch(c){case "y":if(l!=2&&_cab.strict){_cb1[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_cb4=year.substring(0,2)*100,_cb5=Math.min(Number(year.substring(2,4))+20,99);_cb1[0]=(v<_cb5)?_cb4+v:_cb4-100+v;}else{if(_cab.strict){return false;}_cb1[0]=v;}}break;case "M":case "L":if(l>2){var _cb6=_cae["months-"+(c=="L"?"standAlone":"format")+"-"+_cb0[l-3]].concat();if(!_cab.strict){v=v.replace(".","").toLowerCase();_cb6=_c80.map(_cb6,function(s){return s.replace(".","").toLowerCase();});}v=_c80.indexOf(_cb6,v);if(v==-1){return false;}}else{v--;}_cb1[1]=v;break;case "E":case "e":case "c":var days=_cae["days-"+(c=="c"?"standAlone":"format")+"-"+_cb0[l-3]].concat();if(!_cab.strict){v=v.toLowerCase();days=_c80.map(days,function(d){return d.toLowerCase();});}v=_c80.indexOf(days,v);if(v==-1){return false;}break;case "D":_cb1[1]=0;case "d":_cb1[2]=v;break;case "a":var am=_cab.am||_cae["dayPeriods-format-wide-am"],pm=_cab.pm||_cae["dayPeriods-format-wide-pm"];if(!_cab.strict){var _cb7=/\./g;v=v.replace(_cb7,"").toLowerCase();am=am.replace(_cb7,"").toLowerCase();pm=pm.replace(_cb7,"").toLowerCase();}if(_cab.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_cb1[3]=v;break;case "m":_cb1[4]=v;break;case "s":_cb1[5]=v;break;case "S":_cb1[6]=v;}return true;});var _cb8=+_cb1[3];if(amPm==="p"&&_cb8<12){_cb1[3]=_cb8+12;}else{if(amPm==="a"&&_cb8==12){_cb1[3]=0;}}var _cb9=new Date(_cb1[0],_cb1[1],_cb1[2],_cb1[3],_cb1[4],_cb1[5],_cb1[6]);if(_cab.strict){_cb9.setFullYear(_cb1[0]);}var _cba=_cad.join(""),_cbb=_cba.indexOf("d")!=-1,_cbc=_cba.indexOf("M")!=-1;if(!_cb2||(_cbc&&_cb9.getMonth()>_cb1[1])||(_cbb&&_cb9.getDate()>_cb1[2])){return null;}if((_cbc&&_cb9.getMonth()<_cb1[1])||(_cbb&&_cb9.getDate()<_cb1[2])){_cb9=date.add(_cb9,"hour",1);}return _cb9;};function _c9c(_cbd,_cbe,_cbf,_cc0){var _cc1=function(x){return x;};_cbe=_cbe||_cc1;_cbf=_cbf||_cc1;_cc0=_cc0||_cc1;var _cc2=_cbd.match(/(''|[^'])+/g),_cc3=_cbd.charAt(0)=="'";_c80.forEach(_cc2,function(_cc4,i){if(!_cc4){_cc2[i]="";}else{_cc2[i]=(_cc3?_cbf:_cbe)(_cc4.replace(/''/g,"'"));_cc3=!_cc3;}});return _cc0(_cc2.join(""));};function _ca9(_cc5,_cc6,_cc7,_cc8){_cc8=_c82.escapeString(_cc8);if(!_cc7.strict){_cc8=_cc8.replace(" a"," ?a");}return _cc8.replace(/([a-z])\1*/ig,function(_cc9){var s,c=_cc9.charAt(0),l=_cc9.length,p2="",p3="";if(_cc7.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":case "L":s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";break;case "D":s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p2+"[1-9][0-9]|"+p3+"[1-9]";break;case "d":s="3[01]|[12]\\d|"+p2+"[1-9]";break;case "w":s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";break;case "E":case "e":case "c":s=".+?";break;case "h":s="1[0-2]|"+p2+"[1-9]";break;case "k":s="1[01]|"+p2+"\\d";break;case "H":s="1\\d|2[0-3]|"+p2+"\\d";break;case "K":s="1\\d|2[0-4]|"+p2+"[1-9]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_cc7.am||_cc6["dayPeriods-format-wide-am"],pm=_cc7.pm||_cc6["dayPeriods-format-wide-pm"];s=am+"|"+pm;if(!_cc7.strict){if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_cc5){_cc5.push(_cc9);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _cca=[];_c86.addCustomFormats=function(_ccb,_ccc){_cca.push({pkg:_ccb,name:_ccc});};_c86._getGregorianBundle=function(_ccd){var _cce={};_c80.forEach(_cca,function(desc){var _ccf=i18n.getLocalization(desc.pkg,desc.name,_ccd);_cce=lang.mixin(_cce,_ccf);},this);return _cce;};_c86.addCustomFormats(_c85.id.replace(/\/date\/locale$/,".cldr"),"gregorian");_c86.getNames=function(item,type,_cd0,_cd1){var _cd2,_cd3=_c86._getGregorianBundle(_cd1),_cd4=[item,_cd0,type];if(_cd0=="standAlone"){var key=_cd4.join("-");_cd2=_cd3[key];if(_cd2[0]==1){_cd2=undefined;}}_cd4[1]="format";return (_cd2||_cd3[_cd4.join("-")]).concat();};_c86.isWeekend=function(_cd5,_cd6){var _cd7=_c81.getWeekend(_cd6),day=(_cd5||new Date()).getDay();if(_cd7.end<_cd7.start){_cd7.end+=7;if(day<_cd7.start){day+=7;}}return day>=_cd7.start&&day<=_cd7.end;};_c86._getDayOfYear=function(_cd8){return date.difference(new Date(_cd8.getFullYear(),0,1,_cd8.getHours()),_cd8)+1;};_c86._getWeekOfYear=function(_cd9,_cda){if(arguments.length==1){_cda=0;}var _cdb=new Date(_cd9.getFullYear(),0,1).getDay(),adj=(_cdb-_cda+7)%7,week=Math.floor((_c86._getDayOfYear(_cd9)+adj-1)/7);if(_cdb==_cda){week++;}return week;};return _c86;});},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(lang,i18n){var _cdc={};lang.setObject("dojo.cldr.supplemental",_cdc);_cdc.getFirstDayOfWeek=function(_cdd){var _cde={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0};var _cdf=_cdc._region(_cdd);var dow=_cde[_cdf];return (dow===undefined)?1:dow;};_cdc._region=function(_ce0){_ce0=i18n.normalizeLocale(_ce0);var tags=_ce0.split("-");var _ce1=tags[1];if(!_ce1){_ce1={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[tags[0]];}else{if(_ce1.length==4){_ce1=tags[2];}}return _ce1;};_cdc.getWeekend=function(_ce2){var _ce3={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5},_ce4={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6},_ce5=_cdc._region(_ce2),_ce6=_ce3[_ce5],end=_ce4[_ce5];if(_ce6===undefined){_ce6=6;}if(end===undefined){end=0;}return {start:_ce6,end:end};};return _cdc;});},"dojo/cldr/nls/gregorian":function(){define({root:{"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"months-format-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"field-second-relative+0":"now","quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"y-MM-dd, E","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday","dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"MMM d, E","eraNarrow":["BCE","CE"],"field-tue-relative+-1":"last Tuesday","days-format-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"y MMMM d","field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"y MMMM d, EEEE","field-thu-relative+-1":"last Thursday","dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"y-MM-dd","field-era":"Era","dateFormatItem-yM":"y-MM","months-standAlone-wide":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Year","dateFormatItem-yMMM":"y MMM","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday","timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday","dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-M":"L","days-standAlone-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dayPeriods-format-abbr-noon":"noon","timeFormat-medium":"HH:mm:ss","field-sun-relative+0":"this Sunday","dateFormatItem-Hm":"HH:mm","field-sun-relative+1":"next Sunday","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraAbbr":["BCE","CE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-h":"h a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E","dateTimeFormat-full":"{1} {0}","field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"field-zone":"Zone","months-standAlone-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"dateFormatItem-y":"y","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{1} {0}","dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"eraNames":["BCE","CE"],"dateFormatItem-yMMMd":"y MMM d","days-format-narrow":["S","M","T","W","T","F","S"],"field-month":"Month","days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","field-tue-relative+0":"this Tuesday","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","field-tue-relative+1":"next Tuesday","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormatItem-EHm":"E HH:mm","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday","dateFormat-short":"y-MM-dd","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","field-sat-relative+-1":"last Saturday","dateFormatItem-yMMMEd":"y MMM d, E","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateTimeFormats-appendItem-Timezone":"{0} {1}","dateFormatItem-Ed":"d, E","field-week":"Week","dateFormat-medium":"y MMM d","field-week-relative+-1":"last week","field-year-relative+0":"this year","field-year-relative+1":"next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM","field-mon-relative+-1":"last Monday","field-week-relative+0":"this week","field-week-relative+1":"next week"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-au":true,"en-ca":true,"en-gb":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});},"dojo/cldr/nls/en/gregorian":function(){define({"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-yMEd":"E, M/d/y","dateFormatItem-MMMEd":"E, MMM d","eraNarrow":["B","A"],"days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"dateFormat-long":"MMMM d, y","months-format-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"dateTimeFormat-medium":"{1}, {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, MMMM d, y","dateFormatItem-Md":"M/d","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"M/d/y","field-era":"Era","dateFormatItem-yM":"M/y","months-standAlone-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"timeFormat-short":"h:mm a","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"timeFormat-long":"h:mm:ss a z","field-year":"Year","dateFormatItem-yMMM":"MMM y","dateFormatItem-yQ":"Q y","field-hour":"Hour","months-format-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"timeFormat-full":"h:mm:ss a zzzz","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","months-standAlone-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateFormatItem-M":"L","days-standAlone-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"timeFormat-medium":"h:mm:ss a","dateFormatItem-Hm":"HH:mm","eraAbbr":["BC","AD"],"field-minute":"Minute","field-dayperiod":"AM/PM","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","field-day-relative+-1":"Yesterday","dateTimeFormat-long":"{1} 'at' {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"E, M/d","dateTimeFormat-full":"{1} 'at' {0}","field-day":"Day","days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"field-zone":"Time Zone","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Last year","field-month-relative+-1":"Last month","dateFormatItem-hm":"h:mm a","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-yMMMd":"MMM d, y","eraNames":["Before Christ","Anno Domini"],"days-format-narrow":["S","M","T","W","T","F","S"],"field-month":"Month","days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","dayPeriods-format-wide-am":"AM","dateFormatItem-EHm":"E HH:mm","dateFormat-short":"M/d/yyyy","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","dateFormatItem-yMMMEd":"E, MMM d, y","field-month-relative+0":"This month","field-month-relative+1":"Next month","dateFormatItem-Ed":"d E","field-week":"Week","dateFormat-medium":"MMM d, y","field-year-relative+0":"This year","field-week-relative+-1":"Last week","field-year-relative+1":"Next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1}, {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","field-week-relative+0":"This week","field-week-relative+1":"Next week"});},"dojo/cldr/nls/nl/gregorian":function(){define({"days-standAlone-short":["zo","ma","di","wo","do","vr","za"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Dag van de week","dateFormatItem-yyQQQQ":"QQQQ yy","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-yMEd":"E d-M-y","dateFormatItem-MMMEd":"E d MMM","eraNarrow":["v.Chr.","n.Chr."],"days-format-short":["zo","ma","di","wo","do","vr","za"],"dateFormat-long":"d MMMM y","months-format-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE d MMMM y","dateFormatItem-Md":"d-M","dayPeriods-format-wide-noon":"12 uur 's middags","dateFormatItem-yMd":"d-M-y","field-era":"Tijdperk","dateFormatItem-yM":"M-y","months-standAlone-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"timeFormat-short":"HH:mm","quarters-format-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"timeFormat-long":"HH:mm:ss z","field-year":"Jaar","dateFormatItem-yMMM":"MMM y","dateFormatItem-yQ":"Q yyyy","dateFormatItem-yyyyMMMM":"MMMM y","field-hour":"Uur","dateFormatItem-MMdd":"dd-MM","months-format-abbr":["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],"dateFormatItem-yyQ":"Q yy","timeFormat-full":"HH:mm:ss zzzz","field-day-relative+0":"Vandaag","field-day-relative+1":"Morgen","field-day-relative+2":"Overmorgen","dateFormatItem-H":"HH","months-standAlone-abbr":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],"quarters-format-abbr":["K1","K2","K3","K4"],"quarters-standAlone-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"dateFormatItem-M":"L","days-standAlone-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"dateFormatItem-MMMMd":"d MMMM","dayPeriods-format-abbr-noon":"12 uur 's middags","dateFormatItem-yyMMM":"MMM yy","timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["K1","K2","K3","K4"],"eraAbbr":["v.Chr.","n.Chr."],"field-minute":"Minuut","field-dayperiod":"AM/PM","days-standAlone-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Gisteren","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","field-day-relative+-2":"Eergisteren","dateFormatItem-MMMd":"d-MMM","dateFormatItem-MEd":"E d-M","dateTimeFormat-full":"{1} {0}","field-day":"Dag","days-format-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"field-zone":"Zone","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Vorig jaar","field-month-relative+-1":"Vorige maand","dateFormatItem-yyMM":"MM-yy","dateFormatItem-hm":"h:mm a","days-format-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-yMMMd":"d MMM y","eraNames":["Voor Christus","na Christus"],"days-format-narrow":["Z","M","D","W","D","V","Z"],"days-standAlone-narrow":["Z","M","D","W","D","V","Z"],"dateFormatItem-MMM":"LLL","field-month":"Maand","dayPeriods-format-wide-am":"AM","dateFormat-short":"dd-MM-yyyy","dateFormatItem-MMd":"d-MM","dayPeriods-format-narrow-noon":"n","field-second":"Seconde","dateFormatItem-yMMMEd":"E d MMM y","field-month-relative+0":"Deze maand","field-month-relative+1":"Volgende maand","dateFormatItem-Ed":"E d","field-week":"week","dateFormat-medium":"d MMM y","field-year-relative+0":"Dit jaar","field-week-relative+-1":"Vorige week","field-year-relative+1":"Volgend jaar","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","field-week-relative+0":"Deze week","field-week-relative+1":"Volgende week"});},"dijit/CalendarLite":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./a11yclick","./hccss"],function(_ce7,_ce8,_ce9,date,_cea,_ceb,dom,_cec,lang,on,has,_ced,_cee,_cef,_cf0){var _cf1=_ce8("dijit.CalendarLite",[_cee,_cef],{templateString:_cf0,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(_cf2){return _cf2&&!isNaN(_cf2)&&typeof _cf2=="object"&&_cf2.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){var _cf3=this._get("value");if(_cf3&&!isNaN(_cf3)){var _cf4=new this.dateClassObj(_cf3);_cf4.setHours(0,0,0,0);if(_cf4.getDate()<_cf3.getDate()){_cf4=this.dateModule.add(_cf4,"hour",1);}return _cf4;}else{return null;}},_setValueAttr:function(_cf5,_cf6){if(typeof _cf5=="string"){_cf5=_ceb.fromISOString(_cf5);}_cf5=this._patchDate(_cf5);if(this._isValidDate(_cf5)&&!this.isDisabledDate(_cf5,this.lang)){this._set("value",_cf5);this.set("currentFocus",_cf5);this._markSelectedDates([_cf5]);if(this._created&&(_cf6||typeof _cf6=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(_cf7){if(_cf7){_cf7=new this.dateClassObj(_cf7);_cf7.setHours(1,0,0,0);}return _cf7;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var _cf8=new this.dateClassObj(this.currentFocus);_cf8.setDate(1);_cf8=this._patchDate(_cf8);var _cf9=_cf8.getDay(),_cfa=this.dateModule.getDaysInMonth(_cf8),_cfb=this.dateModule.getDaysInMonth(this.dateModule.add(_cf8,"month",-1)),_cfc=new this.dateClassObj(),_cfd=_ce9.getFirstDayOfWeek(this.lang);if(_cfd>_cf9){_cfd-=7;}if(!this.summary){var _cfe=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_cf8);this.gridNode.setAttribute("summary",_cfe[_cf8.getMonth()]);}this._date2cell={};_ce7.forEach(this.dateCells,function(_cff,idx){var i=idx+_cfd;var date=new this.dateClassObj(_cf8),_d00,_d01="dijitCalendar",adj=0;if(i<_cf9){_d00=_cfb-_cf9+i+1;adj=-1;_d01+="Previous";}else{if(i>=(_cf9+_cfa)){_d00=i-_cf9-_cfa+1;adj=1;_d01+="Next";}else{_d00=i-_cf9+1;_d01+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_d00);if(!this.dateModule.compare(date,_cfc,"date")){_d01="dijitCalendarCurrentDate "+_d01;}if(this.isDisabledDate(date,this.lang)){_d01="dijitCalendarDisabledDate "+_d01;_cff.setAttribute("aria-disabled","true");}else{_d01="dijitCalendarEnabledDate "+_d01;_cff.removeAttribute("aria-disabled");_cff.setAttribute("aria-selected","false");}var _d02=this.getClassForDate(date,this.lang);if(_d02){_d01=_d02+" "+_d01;}_cff.className=_d01+"Month dijitCalendarDateTemplate";var _d03=date.valueOf();this._date2cell[_d03]=_cff;_cff.dijitDateValue=_d03;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var _d04=new this.dateClassObj(this.currentFocus);_d04.setDate(1);this.monthWidget.set("month",_d04);var y=_d04.getFullYear()-1;var d=new this.dateClassObj();_ce7.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_d05){this.dateModule=_d05.datePackage?lang.getObject(_d05.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_d05.datePackage?lang.getObject(_d05.datePackage+".locale",false):_cea;},_createMonthWidget:function(){return _cf1._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_d06=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_d07=_ce9.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_ced.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _d06[_d07++%7];});var r=_ced.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _d08=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_d08,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _d09=lang.hitch(this,function(_d0a,part,_d0b){this[_d0a].dojoClick=true;return on(this[_d0a],"click",lang.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_d0b));}));});this.own(_d09("incrementMonth","month",1),_d09("decrementMonth","month",-1),_d09("nextYearLabelNode","year",1),_d09("previousYearLabelNode","year",-1));},_setCurrentFocusAttr:function(date,_d0c){var _d0d=this.currentFocus,_d0e=this._getNodeByDate(_d0d);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_d0d,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _d0f=this._getNodeByDate(date);_d0f.setAttribute("tabIndex",this.tabIndex);if(this.focused||_d0c){_d0f.focus();}if(_d0e&&_d0e!=_d0f){if(has("webkit")){_d0e.setAttribute("tabIndex","-1");}else{_d0e.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){evt.stopPropagation();evt.preventDefault();for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_cec.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(_d10){_d10=this._patchDate(_d10);return _d10&&this._date2cell?this._date2cell[_d10.valueOf()]:null;},_markSelectedDates:function(_d11){function mark(_d12,cell){_cec.toggle(cell,"dijitCalendarSelectedDate",_d12);cell.setAttribute("aria-selected",_d12?"true":"false");};_ce7.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=_ce7.filter(_ce7.map(_d11,this._getNodeByDate,this),function(n){return n;});_ce7.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_cf1._MonthWidget=_ce8("dijit.CalendarLite._MonthWidget",_cee,{_setMonthAttr:function(_d13){var _d14=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_d13),_d15=(has("ie")==6?"":"<div class='dijitSpacer'>"+_ce7.map(_d14,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_d15+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_d14[_d13.getMonth()]+"</div>";}});return _cf1;});},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(lang,_d16){var _d17={};lang.setObject("dojo.date.stamp",_d17);_d17.fromISOString=function(_d18,_d19){if(!_d17._isoRegExp){_d17._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _d1a=_d17._isoRegExp.exec(_d18),_d1b=null;if(_d1a){_d1a.shift();if(_d1a[1]){_d1a[1]--;}if(_d1a[6]){_d1a[6]*=1000;}if(_d19){_d19=new Date(_d19);_d16.forEach(_d16.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _d19["get"+prop]();}),function(_d1c,_d1d){_d1a[_d1d]=_d1a[_d1d]||_d1c;});}_d1b=new Date(_d1a[0]||1970,_d1a[1]||0,_d1a[2]||1,_d1a[3]||0,_d1a[4]||0,_d1a[5]||0,_d1a[6]||0);if(_d1a[0]<100){_d1b.setFullYear(_d1a[0]||1970);}var _d1e=0,_d1f=_d1a[7]&&_d1a[7].charAt(0);if(_d1f!="Z"){_d1e=((_d1a[8]||0)*60)+(Number(_d1a[9])||0);if(_d1f!="-"){_d1e*=-1;}}if(_d1f){_d1e-=_d1b.getTimezoneOffset();}if(_d1e){_d1b.setTime(_d1b.getTime()+_d1e*60000);}}return _d1b;};_d17.toISOString=function(_d20,_d21){var _d22=function(n){return (n<10)?"0"+n:n;};_d21=_d21||{};var _d23=[],_d24=_d21.zulu?"getUTC":"get",date="";if(_d21.selector!="time"){var year=_d20[_d24+"FullYear"]();date=["0000".substr((year+"").length)+year,_d22(_d20[_d24+"Month"]()+1),_d22(_d20[_d24+"Date"]())].join("-");}_d23.push(date);if(_d21.selector!="date"){var time=[_d22(_d20[_d24+"Hours"]()),_d22(_d20[_d24+"Minutes"]()),_d22(_d20[_d24+"Seconds"]())].join(":");var _d25=_d20[_d24+"Milliseconds"]();if(_d21.milliseconds){time+="."+(_d25<100?"0":"")+_d22(_d25);}if(_d21.zulu){time+="Z";}else{if(_d21.selector!="time"){var _d26=_d20.getTimezoneOffset();var _d27=Math.abs(_d26);time+=(_d26>0?"-":"+")+_d22(Math.floor(_d27/60))+":"+_d22(_d27%60);}}_d23.push(time);}return _d23.join("T");};return _d17;});},"dijit/_CssStateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(_d28,_d29,dom,_d2a,has,lang,on,_d2b,_d2c,win,_d2d,_d2e){var _d2f=_d29("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_d28.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes||{}){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_d30){if(!this.disabled){switch(_d30.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",true);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",false);break;}}},_setStateClass:function(){var _d31=this.baseClass.split(" ");function _d32(_d33){_d31=_d31.concat(_d28.map(_d31,function(c){return c+_d33;}),"dijit"+_d33);};if(!this.isLeftToRight()){_d32("Rtl");}var _d34=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_d32(_d34);}if(this.state){_d32(this.state);}if(this.selected){_d32("Selected");}if(this._opened){_d32("Opened");}if(this.disabled){_d32("Disabled");}else{if(this.readOnly){_d32("ReadOnly");}else{if(this.active){_d32("Active");}else{if(this.hovering){_d32("Hover");}}}}if(this.focused){_d32("Focused");}var tn=this.stateNode||this.domNode,_d35={};_d28.forEach(tn.className.split(" "),function(c){_d35[c]=true;});if("_stateClasses" in this){_d28.forEach(this._stateClasses,function(c){delete _d35[c];});}_d28.forEach(_d31,function(c){_d35[c]=true;});var _d36=[];for(var c in _d35){_d36.push(c);}tn.className=_d36.join(" ");this._stateClasses=_d31;},_subnodeCssMouseEvent:function(node,_d37,evt){if(this.disabled||this.readOnly){return;}function _d38(_d39){_d2a.toggle(node,_d37+"Hover",_d39);};function _d3a(_d3b){_d2a.toggle(node,_d37+"Active",_d3b);};function _d3c(_d3d){_d2a.toggle(node,_d37+"Focused",_d3d);};switch(evt.type){case "mouseover":case "MSPointerOver":case "pointerover":_d38(true);break;case "mouseout":case "MSPointerOut":case "pointerout":_d38(false);_d3a(false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":_d3a(true);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":_d3a(false);break;case "focus":case "focusin":_d3c(true);break;case "blur":case "focusout":_d3c(false);break;}},_trackMouseState:function(node,_d3e){node._cssState=_d3e;}});_d2b(function(){function _d3f(evt,_d40,_d41){if(_d41&&dom.isDescendant(_d41,_d40)){return;}for(var node=_d40;node&&node!=_d41;node=node.parentNode){if(node._cssState){var _d42=_d2e.getEnclosingWidget(node);if(_d42){if(node==_d42.domNode){_d42._cssMouseEvent(evt);}else{_d42._subnodeCssMouseEvent(node,node._cssState,evt);}}}}};var body=win.body(),_d43;on(body,_d2c.over,function(evt){_d3f(evt,evt.target,evt.relatedTarget);});on(body,_d2c.out,function(evt){_d3f(evt,evt.target,evt.relatedTarget);});on(body,_d2d.press,function(evt){_d43=evt.target;_d3f(evt,_d43);});on(body,_d2d.release,function(evt){_d3f(evt,_d43);_d43=null;});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _d44=_d2e.getEnclosingWidget(node);if(_d44){_d44._subnodeCssMouseEvent(node,node._cssState,evt);}}});});return _d2f;});},"dijit/form/DropDownButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html","../a11yclick"],function(_d45,lang,_d46,_d47,_d48,_d49,_d4a,_d4b,_d4c){return _d45("dijit.form.DropDownButton",[_d49,_d4a,_d4b],{baseClass:"dijitDropDownButton",templateString:_d4c,_fillContent:function(){if(this.srcNodeRef){var _d4d=_d46("*",this.srcNodeRef);this.inherited(arguments,[_d4d[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _d4e=_d46("[widgetId]",this.dropDownContainer)[0];if(_d4e){this.dropDown=_d47.byNode(_d4e);}delete this.dropDownContainer;}if(this.dropDown){_d48.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _d4f=this.dropDown;return (!!_d4f&&(!_d4f.href||_d4f.isLoaded));},loadDropDown:function(_d50){var _d51=this.dropDown;var _d52=_d51.on("load",lang.hitch(this,function(){_d52.remove();_d50();}));_d51.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html","../a11yclick"],function(_d53,_d54,_d55,has,_d56,lang,_d57,_d58,_d59,_d5a){if(has("dijit-legacy-requires")){_d57(0,function(){var _d5b=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_d53(_d5b);});}var _d5c=_d54("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_d58,_d59],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_d5a,_setValueAttr:"valueNode",_setNameAttr:function(name){if(this.valueNode){this.valueNode.setAttribute("name",name);}},_fillContent:function(_d5d){if(_d5d&&(!this.params||!("label" in this.params))){var _d5e=lang.trim(_d5d.innerHTML);if(_d5e){this.label=_d5e;}}},_setShowLabelAttr:function(val){if(this.containerNode){_d55.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_d5f){_d56.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_d5f);},_setLabelAttr:function(_d60){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_d5c=_d54("dijit.form.Button",_d5c,{_setLabelAttr:function(_d61){this.inherited(arguments);if(this.titleNode.title){this.applyTextDir(this.titleNode,this.titleNode.title);}},_setTextDirAttr:function(_d62){if(this._created&&this.textDir!=_d62){this._set("textDir",_d62);this._setLabelAttr(this.label);}}});}return _d5c;});},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_d63,has,_d64,_d65,_d66,_d67,_d68,_d69){if(has("dijit-legacy-requires")){_d65(0,function(){var _d6a=["dijit/form/_FormValueWidget"];require(_d6a);});}return _d63("dijit.form._FormWidget",[_d66,_d68,_d67,_d69],{setDisabled:function(_d6b){_d64.deprecated("setDisabled("+_d6b+") is deprecated. Use set('disabled',"+_d6b+") instead.","","2.0");this.set("disabled",_d6b);},setValue:function(_d6c){_d64.deprecated("dijit.form._FormWidget:setValue("+_d6c+") is deprecated.  Use set('value',"+_d6c+") instead.","","2.0");this.set("value",_d6c);},getValue:function(){_d64.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);}});});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_d6d,_d6e,_d6f,_d70,lang,_d71,on,has,_d72,a11y){return _d6e("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_d73){this._set("disabled",_d73);_d6f.set(this.focusNode,"disabled",_d73);if(this.valueNode){_d6f.set(this.valueNode,"disabled",_d73);}this.focusNode.setAttribute("aria-disabled",_d73?"true":"false");if(_d73){this._set("hovering",false);this._set("active",false);var _d74="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_d6d.forEach(lang.isArray(_d74)?_d74:[_d74],function(_d75){var node=this[_d75];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _d76=this.own(on(this.focusNode,"focus",function(){_d77.remove();_d76.remove();}))[0];var _d78=has("pointer-events")?"pointerup":has("MSPointer")?"MSPointerUp":has("touch-events")?"touchend, mouseup":"mouseup";var _d77=this.own(on(this.ownerDocumentBody,_d78,lang.hitch(this,function(evt){_d77.remove();_d76.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_d72.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_d70.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_d79,_d7a){if(this._lastValueReported==undefined&&(_d7a===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_d79;}this._pendingOnChange=this._pendingOnChange||(typeof _d79!=typeof this._lastValueReported)||(this.compare(_d79,this._lastValueReported)!=0);if((this.intermediateChanges||_d7a||_d7a===undefined)&&this._pendingOnChange){this._lastValueReported=_d79;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_d79);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_d7b,dom,has,_d7c){var _d7d=_d7b("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}var _d7e=e.defaultPrevented;if(!_d7e&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _d7f=_d7c.byNode(node);if(_d7f&&typeof _d7f._onSubmit=="function"){_d7f._onSubmit(e);e.preventDefault();_d7e=true;break;}}}return !_d7e;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_d80){this._set("label",_d80);var _d81=this.containerNode||this.focusNode;_d81.innerHTML=_d80;}});if(has("dojo-bidi")){_d7d=_d7b("dijit.form._ButtonMixin",_d7d,{_setLabelAttr:function(){this.inherited(arguments);var _d82=this.containerNode||this.focusNode;this.applyTextDir(_d82);}});}return _d7d;});},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_d83,_d84,dom,_d85,_d86,_d87,_d88,has,keys,lang,on,_d89,_d8a,_d8b,_d8c,_d8d){return _d83("dijit._HasDropDown",_d8d,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"&&e.type!="pointerdown"){e.preventDefault();}this.own(on.once(this.ownerDocument,_d89.release,lang.hitch(this,"_onDropDownMouseUp")));this.toggleDropDown();},_onDropDownMouseUp:function(e){var _d8e=this.dropDown,_d8f=false;if(e&&this._opened){var c=_d87.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_d8f){if(_d86.contains(t,"dijitPopup")){_d8f=true;}else{t=t.parentNode;}}if(_d8f){t=e.target;if(_d8e.onItemClick){var _d90;while(t&&!(_d90=_d8a.byNode(t))){t=t.parentNode;}if(_d90&&_d90.onClick&&_d90.getParent){_d90.getParent().onItemClick(_d90,e);}}return;}}}if(this._opened){if(_d8e.focus&&(_d8e.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_d8e.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}},_onDropDownClick:function(e){if(this._stopClickEvents){e.stopPropagation();e.preventDefault();}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _d91={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_d86.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_d91+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _d92=this.focusNode||this.domNode;this.own(on(this._buttonNode,_d89.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_d92,"keydown",lang.hitch(this,"_onKey")),on(_d92,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_d93=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){e.stopPropagation();e.preventDefault();return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();e.stopPropagation();e.preventDefault();}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_d93.tagName||"").toLowerCase()!=="input"||(_d93.type&&_d93.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;e.stopPropagation();e.preventDefault();}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_d94){_d94();},loadAndOpenDropDown:function(){var d=new _d84(),_d95=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_d95);}else{_d95();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown(true);}},openDropDown:function(){var _d96=this.dropDown,_d97=_d96.domNode,_d98=this._aroundNode||this.domNode,self=this;var _d99=_d8c.open({parent:this,popup:_d96,around:_d98,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_d85.set(self._popupStateNode,"popupActive",false);_d86.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});if(this.forceWidth||(this.autoWidth&&_d98.offsetWidth>_d96._popupWrapper.offsetWidth)){var _d9a=_d98.offsetWidth-_d96._popupWrapper.offsetWidth;var _d9b={w:_d96.domNode.offsetWidth+_d9a};if(lang.isFunction(_d96.resize)){_d96.resize(_d9b);}else{_d87.setMarginBox(_d97,_d9b);}if(_d99.corner[1]=="R"){_d96._popupWrapper.style.left=(_d96._popupWrapper.style.left.replace("px","")-_d9a)+"px";}}_d85.set(this._popupStateNode,"popupActive","true");_d86.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_d96.id);if(_d97.getAttribute("role")!=="presentation"&&!_d97.getAttribute("aria-labelledby")){_d97.setAttribute("aria-labelledby",this.id);}return _d99;},closeDropDown:function(_d9c){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(_d9c&&this.focus){this.focus();}_d8c.close(this.dropDown);this._opened=false;}}});});},"mxui/widget/DateInput":function(){define(["mxui/widget/_FormWidget","mxui/widget/DatePicker","mxui/dom","mendix/lang","dojo/_base/lang","dojo/_base/declare"],function(_d9d,_d9e,_d9f,_da0,_da1,_da2){var _da3=_da2(_d9d,{declaredClass:"mxui.widget.DateInput",placeholder:"",selector:"",format:"",_datepicker:null,_rdparams:null,buildRendering:function(){this._datepicker=new _d9e({placeholder:this.placeholder,selector:this.selector,format:this.format});this.editNode=this._datepicker.domNode;this._rdparams={selector:this.selector=="custom"?"date":this.selector,datePattern:this.format};this.inherited(arguments);},startup:function(){this.inherited(arguments);this._datepicker.startup();},connectEvents:function(){this.connect(this._datepicker,"onChange","onChange");for(var evt in this.events){if(evt!="change"){this.connect(this._datepicker,"on"+_da0.capitalize(evt),_da1.hitch(this,"handleEvent",evt));}}},validate:function(){var _da4=this.inherited(arguments);if(_da4!=null){return _da4;}else{if(this.get("value")==null){return window.mx.ui.translate("mendix.lib.Validations","invalid_date");}}},uninitialize:function(){this._datepicker.destroy();},_getValueAttr:function(){return this._datepicker.get("value");},_setValueAttr:function(_da5){this._datepicker.set("value",_da5);var _da6=window.mx.parser.formatValue(_da5,"datetime",this._rdparams);this.readNode.innerHTML=_da6||"&nbsp;";}});return _da3;});},"mxui/widget/EnumSelect":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/_base/declare"],function(_da7,_da8,_da9){var _daa=_da9(_da7,{declaredClass:"mxui.widget.EnumSelect",_keys:null,buildRendering:function(){var $=_da8.create,meta=window.mx.meta.getEntity(this._entity),keys=this._keys=meta.getEnumKVPairs(this._attribute),node=this.editNode=$("select",{"class":"form-control"},$("option",{value:""},""));for(var key in keys){node.appendChild($("option",{value:key},keys[key]));}this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(_dab){this.editNode.value=_dab;var key=this._keys[_dab];if(key){_da8.text(this.readNode,key);}else{this.readNode.innerHTML="&nbsp;";}}});return _daa;});},"mxui/widget/NumberInput":function(){define(["mxui/widget/_FormWidget","mxui/dom","mendix/logger","mendix/validator","dojo/i18n","dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare"],function(_dac,dom,_dad,_dae,_daf,_db0,_db1,_db2){var $=dom.create;var _db3=_db2(_dac,{declaredClass:"mxui.widget.NumberInput",formatted:false,precision:"",placeholder:"",_type:"",_opts:null,_numloc:null,_mouseupcon:null,_previousValue:"",_mouseDown:false,buildRendering:function(){this.editNode=$("input",{"class":"form-control",type:"text",placeholder:this.placeholder});var meta=window.mx.meta.getEntity(this._entity);this._type=meta.getAttributeType(this._attribute);this._opts={groups:this.formatted};if(this.precision!==""){this._opts.places=this.precision;}this._locale=_daf.getLocalization("dojo.cldr","number",_db0.locale);this.inherited(arguments);},connectEvents:function(){this.connect(this.editNode,"focus","onFocus");this.connect(this.editNode,"blur","onBlur");this.connect(this.editNode,"mousedown","onMouseDown");this.connect(this.editNode,"keydown","onKeyDown");},_getValueAttr:function(){return window.mx.parser.parseValue2(this.editNode.value,this._type,this._opts);},_setValueAttr:function(_db4){var _db5=window.mx.parser.formatValue(_db4,this._type,this._opts);this.editNode.value=_db5;this.readNode.innerHTML=_db5||"&nbsp;";this._previousValue=this.get("value");},_match:function(_db6,_db7,pos){if(_db6==_db7){return Math.min(_db6.length,pos);}var _db8=0,len=Math.min(_db7.length,pos),_db9,_dba;for(var i=0;i<len&&_db8<_db6.length;++i){_db9=_db7[i];_dba=_db6[_db8];if(_db9==_dba){++_db8;}}return _db8;},onMouseDown:function(){var self=this,_dbb,_dbc;this._mouseDown=true;var _dbd=function(){self._mouseDown=false;self.disconnect(_dbc);self.disconnect(_dbb);};_dbb=this.connect(document,"mouseup",_dbd);_dbc=this.connect(window,"blur",function(){_dbd();this._disconnectFocusMouseUp();});},onFocus:function(){this.handleEvent("focus");var node=this.editNode,_dbe=node.value,_dbf=window.mx.parser.parseValue2(_dbe,this._type);if(_dbf===null){return;}var _dc0=_dbe.split(this._locale.group).join("");if(_dc0!=_dbe){setTimeout(_db1.hitch(this,function(){this._disconnectFocusMouseUp();var sel=dom.getSelection(node);if(sel.start===0&&sel.end==_dbe.length){node.value=_dc0;dom.selectTextRange(node,0,_dc0.length);}else{if(this._mouseDown){this._mouseupcon=this.connect(document,"mouseup",function(){setTimeout(_db1.hitch(this,function(){sel=dom.getSelection(node);node.value=_dc0;var _dc1=this._match(_dc0,_dbe,sel.start),end=this._match(_dc0,_dbe,sel.end);dom.selectTextRange(node,_dc1,end);}),0);this._disconnectFocusMouseUp();});}else{node.value=_dc0;}}}),0);}},onKeyDown:function(_dc2){if(_dc2.keyCode===110){_dc2.preventDefault();var _dc3=this._locale["decimal"];dom.insertAtCaret(this.editNode,_dc3);}},onBlur:function(){var _dc4=this.get("value");if(_dc4===null){this.onChange();}else{var _dc5=_dc4===""?this._previousValue==="":(this._previousValue!==""&&_dc4.eq(this._previousValue));if(!_dc5){this.onChange();}else{this.set("value",this._previousValue);}}this.handleEvent("blur");},validate:function(){var _dc6=this.inherited(arguments),_dc7=this.get("value");if(_dc6!=null){return _dc6;}else{if(_dc7==null){return window.mx.ui.translate("mendix.lib.Validations",this.getType()=="Currency"?"invalid_currency":"invalid_number");}else{return window.mx.ui.validate(_dc7,this.getType());}}},_disconnectFocusMouseUp:function(){if(this._mouseupcon){this.disconnect(this._mouseupcon);this._mouseupcon=null;}}});return _db3;});},"mxui/widget/PasswordInput":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/dom-attr","dojo/_base/declare"],function(_dc8,dom,_dc9,_dca){var $=dom.create;var _dcb=_dca(_dc8,{declaredClass:"mxui.widget.PasswordInput",maxLength:0,placeholder:"",buildRendering:function(){var _dcc=this.editNode=$("input",{"class":"form-control",type:"password",placeholder:this.placeholder});if(this.maxLength>0){_dc9.set(_dcc,"maxlength",this.maxLength);}this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(_dcd){this.editNode.value=_dcd;}});return _dcb;});},"mxui/widget/TextArea":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/dom-geometry","dojo/sniff","dojo/_base/lang","dojo/_base/declare"],function(_dce,dom,_dcf,_dd0,_dd1,_dd2,_dd3,_dd4,_dd5,_dd6){var $=dom.create;var _dd7=_dd6(_dce,{declaredClass:"mxui.widget.TextArea",placeholder:"",counterMsg:"",textTooLongMsg:"",rows:0,maxLength:0,_cloneNode:null,_countNode:null,buildRendering:function(){var _dd8=this.editNode=$("textarea",{"class":"form-control mx-textarea-input",placeholder:this.placeholder});this.inherited(arguments);if(this.counterMsg){var _dd9=this._countNode=$("label",{"class":"mx-textarea-counter"});_dcf.place(_dd9,_dd8,"after");this._updateCount();this.connect(_dd8,"keyup","_updateCount");}_dd0.add(this.domNode,"mx-textarea");if(this.maxLength>0){_dd1.set(_dd8,"maxlength",this.maxLength);}if(this.rows===0){var _dda=this._cloneNode=_dd5.clone(_dd8);_dd0.add(_dda,"mx-textarea-clone");_dd1.set(_dda,"tabindex",-1);this.connect(_dd8,"keyup","resize");this.connect(this.mxform,"resize","resize");}else{_dd0.add(_dd8,"mx-textarea-input-noresize");_dd1.set(_dd8,"rows",this.rows);}},resize:function(){if(!this._cloneNode){return;}this._cloneNode.value=this.editNode.value+"\n\n";_dcf.place(this._cloneNode,this.domNode,"first");this._cloneNode.scrollTop=100000;var _ddb=Math.max(this._cloneNode.scrollHeight,28);_dd2.set(this.editNode,"height",_ddb+"px");dom.orphan(this._cloneNode);},validate:function(){var _ddc=this.inherited(arguments);if(_ddc!=null){return _ddc;}else{if(this.get("value")==null){return this.textTooLongMsg||window.mx.ui.translate("mendix.lib.Validations","value_too_long");}}},_updateCount:function(){dom.text(this._countNode,this.counterMsg.replace("{1}",this.editNode.value.length).replace("{2}",this.maxLength));},_getValueAttr:function(){var _ddd=this.editNode.value;return this.maxLength&&_ddd.length>this.maxLength?null:_ddd;},_setValueAttr:function(_dde){this.editNode.value=_dde;this.readNode.innerHTML=_dde?dom.convertNlToBr(dom.escapeString(_dde)):"&nbsp;";this.resize();}});return _dd7;});},"mxui/widget/TextInput":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/dom-attr","dojo/_base/declare"],function(_ddf,dom,_de0,_de1){var $=dom.create;var _de2=_de1(_ddf,{declaredClass:"mxui.widget.TextInput",maxLength:0,placeholder:"",mask:"",buildRendering:function(){this.editNode=$("input",{"class":"form-control",type:"text",placeholder:this.placeholder});if(this.maxLength>0){_de0.set(this.editNode,"maxlength",this.maxLength);}this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(_de3){this.editNode.value=_de3;this.readNode.innerHTML=_de3?dom.escapeString(_de3):"&nbsp;";}});return _de2;});},"mxui/widget/Navbar":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/lib/menuAnchorFactory","mxui/dom","mendix/lang","dojo/_base/event","dojo/dom-class","dojo/on","dojo/aspect","dojo/_base/lang","dojo/_base/declare"],function(_de4,_de5,_de6,_de7,lang,_de8,_de9,_dea,_deb,_dec,_ded){var $=_de7.create;function _dee(_def){var map={};_df0(_def);return map;function _df0(_df1){lang.forEach(_df1,function(item){map[item.id]=item;_df0(item.items);});};};var _df2=_ded([_de4,_de5],{declaredClass:"mxui.widget.Navbar",menuID:"",_view:null,_itemMap:null,_expandedItem:"",_currentSelection:"",_initialSelection:"",buildRendering:function(){var _df3=window.mx.ui.getMenu(this.menuID);this._itemMap=_dee(_df3);this._view=new View(this,_df3);this.domNode=this._view.domNode;this._view.subscribeToClick(_dec.hitch(this,"_onClick"));this._view.subscribeToGlobalClick(_dec.hitch(this,"_onClickOutside"));this._restoreSelection();this.connect(this.mxform,"onNavigation",this._restoreSelection);},_onClickOutside:function(){this._view.collapseAll();this._expandedItem="";},_onClick:function(_df4){var item=this._itemMap[_df4];var _df5=this._expandedItem;this._view.collapseAll();this._expandedItem="";if(item.action){this._view.deselectAll();this._view.select(_df4);this._currentSelection=_df4;window.mx.ui.execute(item.action,{origin:this.mxform});}else{if(_df5!=_df4){this._expandedItem=_df4;this._view.expand(_df4);}}},_restoreSelection:function(){this._currentSelection=this.getState("selectedItem",this._currentSelection);this._initialSelection=this._currentSelection;this._view.deselectAll();this._view.select(this._currentSelection);},storeState:function(_df6){_df6("selectedItem",this._initialSelection);}});var View=_ded(null,{_handlerScope:null,domNode:null,constructor:function(_df7,_df8){this._handlerScope=_df7;this._render(_df8);},_render:function(_df9){var _dfa=$("ul",{"class":"nav navbar-nav"});lang.forEach(_df9,function(item,_dfb){_dfa.appendChild(_dfc(item,_dfb));});this.domNode=$("div",{"class":"navbar navbar-default mx-navbar",tabindex:-1},_dfa);function _dfc(item){var _dfd=$("li",{"class":"mx-navbar-item"},_dfe(item));if(item.items){var _dff=$("ul",{"class":"dropdown-menu mx-navbar-submenu"});lang.forEach(item.items,function(_e00){_dff.appendChild($("li",{"class":"mx-navbar-subitem"},_dfe(_e00)));});_de9.add(_dfd,"dropdown");_dfd.appendChild(_dff);}return _dfd;};function _dfe(item){var _e01=_de6.create(item);_e01.setAttribute("data-item-id",item.id);if(item.items){_e01.appendChild($("b",{"class":"caret"}));}return _e01;};},subscribeToClick:function(_e02){this._handlerScope.own(_dea(this.domNode,"a:click",function(e){_de8.stop(e);_e02(this.getAttribute("data-item-id"));}));},subscribeToGlobalClick:function(_e03){this._handlerScope.own(_dea(window.document,"click",function(){_e03();}));},expand:function(_e04){var _e05=this.domNode.querySelector("[data-item-id='"+_e04+"']");if(_e05){_de9.add(_e05.parentNode,"open");}},deselectAll:function(){var _e06=this.domNode.querySelector("li.active");if(_e06){_de9.remove(_e06,"active");}},select:function(_e07){var _e08=this.domNode.querySelector("[data-item-id='"+_e07+"']");if(_e08){_de9.add(_e08.parentNode,"active");}},collapseAll:function(){var _e09=this.domNode.querySelector("li.open");if(_e09){_de9.remove(_e09,"open");}}});return _df2;});},"mxui/lib/menuAnchorFactory":function(){define(["mxui/dom","webcore/url-helpers"],function(dom,_e0a){var $=dom.create;var _e0b={create:function(item){var _e0c=$("a",{href:"#","class":"mx-name-"+item.id});if(item.iconClass){_e0c.appendChild($("span",{"class":"glyphicon "+item.iconClass}));}else{if(item.iconUrl){_e0c.appendChild($("img",{src:_e0a.getStaticResourceUrlFromPath(item.iconUrl)}));}}_e0c.appendChild(document.createTextNode(" "+item.caption));return _e0c;}};return _e0b;});},"mxui/widget/NavigationTree":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/lib/menuAnchorFactory","mxui/dom","mendix/lang","dojo/_base/event","dojo/on","dojo/dom-class","dojo/_base/lang","dojo/_base/declare"],function(_e0d,_e0e,_e0f,dom,lang,_e10,_e11,_e12,_e13,_e14){var $=dom.create;function _e15(_e16){var map={};_e17(_e16);return map;function _e17(_e18){lang.forEach(_e18,function(item){map[item.id]=item;_e17(item.items);});};};var _e19=_e14([_e0d,_e0e],{declaredClass:"mxui.widget.NavigationTree",menuID:"",_view:null,_itemMap:{},_expandedItems:{},_currentActive:null,_initialActive:null,buildRendering:function(){var _e1a=window.mx.ui.getMenu(this.menuID);this._itemMap=_e15(_e1a);this._view=new View(this,_e1a);this.domNode=this._view.domNode;this._view.subscribeToClick(_e13.hitch(this,"_onClick"));this._expandedItems=this.getState("expandedItems",{});lang.forEach(this._expandedItems,function(_e1b,_e1c){this._view.expand(_e1c);},this);this._restoreSelection();this.connect(this.mxform,"onNavigation",this._restoreSelection);},_onClick:function(_e1d){var item=this._itemMap[_e1d];if(item.action){this._view.deactivateAll();this._view.activate(_e1d);this._currentActive=_e1d;window.mx.ui.execute(item.action,{origin:this.mxform,context:this.mxcontext});}else{if(_e1d in this._expandedItems){this._view.collapse(_e1d);delete this._expandedItems[_e1d];}else{this._view.expand(_e1d);this._expandedItems[_e1d]=true;}}},_restoreSelection:function(){this._currentActive=this.getState("activeItem",this._currentActive);this._initialActive=this._currentActive;this._view.deactivateAll();if(this._currentActive){this._view.activate(this._currentActive);}},storeState:function(_e1e){_e1e("expandedItems",this._expandedItems);_e1e("activeItem",this._initialActive);}});var View=_e14(null,{_handlerScope:null,domNode:null,constructor:function(_e1f,_e20){this._handlerScope=_e1f;this._render(_e20);},_render:function(_e21){this.domNode=$("div",{"class":"mx-navigationtree",tabindex:-1},$("div",{"class":"navbar-inner"},this._buildMenu(_e21)));},_buildMenu:function(_e22){var _e23=$("ul");lang.forEach(_e22,function(item){var _e24=_e0f.create(item);_e12.add(_e24,"dropdown");_e24.setAttribute("data-item-id",item.id);var _e25=$("li",_e24);_e23.appendChild(_e25);if(item.items){_e12.add(_e25,"mx-navigationtree-has-items mx-navigationtree-collapsed");_e25.appendChild(this._buildMenu(item.items));_e24.appendChild($("span",{"class":"caret"}));}},this);return _e23;},subscribeToClick:function(_e26){this._handlerScope.own(_e11(this.domNode,"a:click",function(e){_e10.stop(e);_e26(this.getAttribute("data-item-id"));}));},expand:function(_e27){_e12.remove(this._getItemById(_e27).parentNode,"mx-navigationtree-collapsed");},collapse:function(_e28){_e12.add(this._getItemById(_e28).parentNode,"mx-navigationtree-collapsed");},deactivateAll:function(){lang.forEach(this.domNode.querySelectorAll(".active"),function(item){_e12.remove(item,"active");});},activate:function(_e29){_e12.add(this._getItemById(_e29),"active");},_getItemById:function(_e2a){return this.domNode.querySelector("[data-item-id='"+_e2a+"']");}});return _e19;});},"mxui/widget/HorizontalScrollContainer":function(){define(["mxui/widget/_ScrollContainer","mxui/mixin/_Stateful","dojo/_base/declare","dojo/_base/lang","mxui/lib/sidebarRenderer/PushContentAside","mxui/lib/sidebarRenderer/SlideOverContent","mxui/lib/sidebarRenderer/ShrinkContent"],function(_e2b,_e2c,_e2d,_e2e,_e2f,_e30,_e31){var _e32={pushContentAside:_e2f,slideOverContent:_e30,shrinkContent:_e31};var _e33=_e2d([_e2b,_e2c],{declaredClass:"mxui.widget.HorizontalScrollContainer",_toggleRegion:null,_sidebarRenderer:null,startup:function(){this.inherited(arguments);for(var _e34 in this._regions){var _e35=this._regions[_e34];_e35.width=_e35.node.offsetWidth;if(_e35.toggleMode){this._toggleRegion=_e35;}}if(this._toggleRegion&&this.mxform.place==="content"){var _e36=_e32[this._toggleRegion.toggleMode];this._sidebarRenderer=new _e36(this.domNode,this._toggleRegion.position,this._regions);if(this.getState("sidebarVisible",this._toggleRegion.initiallyOpen)){this._sidebarRenderer.show(true);}this.listen("toggleSidebar",this._toggleSidebar);if(this._sidebarRenderer.closeOnBlur){this.connect(this.mxform,"onPersistViewState",function(){this._sidebarRenderer.hide();});}}},resize:function(box){if(this._sidebarRenderer){this._sidebarRenderer.resize();}var _e37=box?box.h:undefined;this._resizeRegions(this._regions,_e37);if(this._sidebarRenderer){this._sidebarRenderer.resize();}},_toggleSidebar:function(){if(this._sidebarRenderer.isVisible()){this._sidebarRenderer.hide();}else{this._sidebarRenderer.show();}},storeState:function(_e38){if(this._sidebarRenderer&&!this._sidebarRenderer.closeOnBlur){_e38("sidebarVisible",this._sidebarRenderer.isVisible());}},uninitialize:function(){if(this._sidebarRenderer){this._sidebarRenderer.destroy();}}});return _e33;});},"mxui/widget/_ScrollContainer":function(){define(["dojo/_base/lang","mendix/lang","mxui/widget/_WidgetBase","dojo/_base/declare"],function(_e39,lang,_e3a,_e3b){var _e3c=_e3b(_e3a,{config:null,fixed:false,_regions:null,startup:function(){this._regions={};lang.forEach(this.domNode.children,function(_e3d,i){var _e3e=this.config[i],_e3f=_e3d.children[0];this._regions[_e3e.position]=_e39.mixin({node:_e3d,wrapper:_e3f},_e3e);},this);},_resizeRegions:function(_e40,_e41){for(var _e42 in _e40){var _e43=_e40[_e42].wrapper;if(_e41!=null){var _e44=_e41>=100,_e45=Math.max(0,_e41)+"px";if(this.fixed){_e43.style.height=_e44?_e45:"auto";this.resizeChildren(_e43,!_e44);}else{_e43.style.minHeight=_e44?_e45:"";this.resizeChildren(_e43,true);}}else{_e43.style.height="auto";this.resizeChildren(_e43,true);}}}});return _e3c;});},"mxui/lib/sidebarRenderer/PushContentAside":function(){define(["dojo/dom-style","dojo/dom-class","dojo/_base/declare","mxui/lib/sidebarRenderer/_SidebarRenderer"],function(_e46,_e47,_e48,_e49){var _e4a=_e48(_e49,{containerClass:"push",_oppositeRegion:null,constructor:function(){this._toggleNode=this._containerNode;_e46.set(this._toggleRegion.node,"display","none");var _e4b=this._regions[this._toggleRegion.position==="left"?"right":"left"];if(_e4b){var _e4c=_e4b.node.style.width;_e4b.cssWidth=parseInt(_e4c,10);_e4b.cssUnit=_e4c.indexOf("%")!=-1?"%":"px";this._oppositeRegion=_e4b;}},show:function(){this.inherited(arguments);this._transitionTo(this._containerNode,"left",this._computeLeftPosition(true));},hide:function(){this.inherited(arguments);this._transitionTo(this._containerNode,"left",this._computeLeftPosition(false));},resize:function(){this.inherited(arguments);_e46.set(this._containerNode,"width","");_e46.set(this._toggleRegion.node,"display","none");var _e4d=this._containerNode.offsetWidth;if(this._oppositeRegion&&this._oppositeRegion.cssUnit==="%"){_e46.set(this._oppositeRegion.node,"width",this._oppositeRegion.cssWidth*_e4d/100+"px");}var _e4e=this._computeRegionWidth();_e46.set(this._toggleRegion.node,{display:"",width:_e4e+"px"});this._toggleRegion.width=this._toggleRegion.node.offsetWidth;_e46.set(this._containerNode,{width:_e4d+this._toggleRegion.width+"px",left:this._computeLeftPosition(this.isVisible())});}});return _e4a;});},"mxui/lib/sidebarRenderer/_SidebarRenderer":function(){define(["mxui/dom","dojo/on","dojo/touch","dojo/dom-geometry","dojo/dom-class","dojo/dom-style","dojo/_base/declare","dijit/Destroyable"],function(dom,_e4f,_e50,_e51,_e52,_e53,_e54,_e55){var _e56=_e54(_e55,{_containerNode:null,_toggleNode:null,_toggleRegion:null,_regions:null,_isVisible:false,closeOnBlur:true,containerClass:"",constructor:function(_e57,_e58,_e59){this._toggleRegion=_e59[_e58];this._containerNode=_e57;this._regions=_e59;var _e5a=this._toggleRegion.node.style.width;this._toggleRegion.cssWidth=parseInt(_e5a,10);this._toggleRegion.cssUnit=_e5a.indexOf("%")!=-1?"%":"px";_e52.add(this._toggleRegion.node,"mx-scrollcontainer-toggleable");_e52.add(this._containerNode,"mx-scrollcontainer-"+this.containerClass);_e53.set(_e57.parentNode,"overflowX","hidden");this._toggleRegion.node.setAttribute("focusIndex",-1);if(this.closeOnBlur){var self=this;this.own(_e4f(_e57,_e50.press,function(e){var _e5b=e.target||e.srcElement;if(self.isVisible()&&!self._toggleRegion.node.contains(_e5b)){self.hide();}}));}},show:function(_e5c){this._isVisible=true;_e52.add(this._containerNode,"mx-scrollcontainer-open");_e52.remove(this._toggleNode,"mx-scrollcontainer-move-out");if(!_e5c){_e52.add(this._toggleNode,"mx-scrollcontainer-move-in");}},hide:function(){this._isVisible=false;_e52.remove(this._containerNode,"mx-scrollcontainer-open");_e52.replace(this._toggleNode,"mx-scrollcontainer-move-out","mx-scrollcontainer-move-in");},resize:function(){},_computeRegionWidth:function(){if(this._toggleRegion.cssUnit==="%"){var _e5d=this._containerNode.offsetWidth;return this._toggleRegion.cssWidth*_e5d/100;}else{return this._toggleRegion.cssWidth;}},_computeLeftPosition:function(_e5e){var rtl=window.mx.ui.isRtl(),_e5f;if(this._toggleRegion.position==="left"){if(_e5e){_e5f=0;}else{_e5f=rtl?this._toggleRegion.width:-this._toggleRegion.width;}}else{if(!_e5e){_e5f=0;}else{_e5f=rtl?this._toggleRegion.width:-this._toggleRegion.width;}}return _e5f+"px";},_triggersTransition:function(node,_e60,_e61){if(node.style[_e60]===_e61){return false;}var _e62=_e53.get(node,"transitionProperty");return _e62===_e60||_e62==="all";},_transitionTo:function(node,_e63,_e64){var self=this,_e65=this._triggersTransition(node,_e63,_e64);node.style[_e63]=_e64;if(this._transitionEndHandler){_e66();}if(_e65){this._transitionEndHandler=_e4f(node,"transitionend",function(e){if(e.target!==node){return;}_e66();_e67();});}else{_e67();}function _e67(){_e52.remove(self._toggleNode,"mx-scrollcontainer-move-in mx-scrollcontainer-move-out");};function _e66(){self._transitionEndHandler.remove();self._transitionEndHandler=null;};},isVisible:function(){return this._isVisible;}});return _e56;});},"mxui/lib/sidebarRenderer/SlideOverContent":function(){define(["dojo/dom-style","dojo/dom-class","dojo/_base/declare","mxui/lib/sidebarRenderer/_SidebarRenderer"],function(_e68,_e69,_e6a,_e6b){var _e6c=_e6a(_e6b,{containerClass:"slide",constructor:function(){this._toggleNode=this._toggleRegion.wrapper;_e68.set(this._toggleRegion.node,"width","0");},show:function(){this.inherited(arguments);this._transitionTo(this._toggleRegion.wrapper,"left",this._computeLeftPosition(true));},hide:function(){this.inherited(arguments);this._transitionTo(this._toggleRegion.wrapper,"left",this._computeLeftPosition(false));},resize:function(){this.inherited(arguments);this._toggleRegion.width=this._computeRegionWidth();_e68.set(this._toggleRegion.wrapper,"height","");_e68.set(this._toggleRegion.wrapper,{width:this._toggleRegion.width+"px",height:this._toggleRegion.node.offsetHeight+"px",left:this._computeLeftPosition(this.isVisible())});}});return _e6c;});},"mxui/lib/sidebarRenderer/ShrinkContent":function(){define(["dojo/dom-style","dojo/dom-class","dojo/_base/declare","mxui/lib/sidebarRenderer/_SidebarRenderer"],function(_e6d,_e6e,_e6f,_e70){var _e71=_e6f(_e70,{closeOnBlur:false,containerClass:"shrink",constructor:function(){this._toggleNode=this._toggleRegion.node;_e6d.set(this._toggleRegion.node,"width","0");},show:function(){this.inherited(arguments);this._transitionTo(this._toggleRegion.node,"width",this._toggleRegion.width+"px");},hide:function(){this.inherited(arguments);this._transitionTo(this._toggleRegion.node,"width","0");},resize:function(){this.inherited(arguments);this._toggleRegion.width=this._computeRegionWidth();if(this.isVisible()){_e6d.set(this._toggleRegion.node,"width",this._toggleRegion.width+"px");}_e6d.set(this._toggleRegion.wrapper,"width",this._toggleRegion.width+"px");}});return _e71;});},"mxui/widget/VerticalScrollContainer":function(){define(["mendix/lang","mxui/widget/_ScrollContainer","dojo/_base/declare"],function(lang,_e72,_e73){var _e74=_e73(_e72,{declaredClass:"mxui.widget.VerticalScrollContainer",startup:function(){this.inherited(arguments);lang.forEach(["top","bottom"],function(_e75){var _e76=this._regions[_e75];if(_e76&&_e76.wrapper.style.height){_e76.heightSpecified=true;_e76.wrapper.style.overflow="auto";}},this);},resize:function(box){var _e77=box?box.h:undefined;lang.forEach(["top","bottom"],function(_e78){var _e79=this._regions[_e78];if(_e79){this.resizeChildren(_e79.wrapper,!_e79.heightSpecified);_e77-=_e79.node.offsetHeight;}},this);this._resizeRegions({middle:this._regions.middle},_e77);}});return _e74;});},"mxui/widget/BorderContainer":function(){define(["mxui/mixin/_Stateful","mxui/html/parser","mendix/lang","dojo/_base/lang","dojo/_base/declare","dijit/layout/BorderContainer"],function(_e7a,_e7b,lang,_e7c,_e7d,_e7e){var _e7f=_e7d([_e7e,_e7a],{startup:function(){if(this.doParse===false){_e7b.parseTopLevel(this.domNode,{mxform:this.mxform},this.uniqueid);}this.inherited(arguments);var _e80=this.getState("splitterPosition",""),_e81=this._getSplitter();if(_e80){_e81.child.domNode.style[_e81.horizontal?"height":"width"]=_e80;}},storeState:function(_e82){var _e83=this._getSplitter(),size=_e83.child.domNode.style[_e83.horizontal?"height":"width"];_e82("splitterPosition",size);},_getSplitter:function(){var _e84=lang.find(this.getChildren(),function(_e85){return _e85._splitterWidget!==undefined;});return _e84._splitterWidget;}});return _e7f;});},"dijit/layout/BorderContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(_e86,_e87,_e88,_e89,_e8a,_e8b,_e8c,keys,lang,on,_e8d,_e8e,_e8f,_e90,_e91,_e92){var _e93=_e88("dijit.layout._Splitter",[_e8f,_e90],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_e89.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _e94=_e87(this._cookieName);if(_e94){this.child.domNode.style[this.horizontal?"height":"width"]=_e94;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_e95=_e8b.getMarginBox(this.child.domNode)[dim],_e96=_e86.filter(this.container.getChildren(),function(_e97){return _e97.region=="center";})[0];var _e98=_e8b.getContentBox(_e96.domNode)[dim]-10;return Math.min(this.child.maxSize,_e95+_e98);},_startDrag:function(e){if(!this.cover){this.cover=_e8a.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_e89.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_e8a.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_e89.add(this.domNode,"dijitSplitterShadow");_e8a.place(this.fake,this.domNode,"after");}_e89.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_e89.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _e99=this._factor,_e9a=this.horizontal,axis=_e9a?"pageY":"pageX",_e9b=e[axis],_e9c=this.domNode.style,dim=_e9a?"h":"w",_e9d=_e8c.getComputedStyle(this.child.domNode),_e9e=_e8b.getMarginBox(this.child.domNode,_e9d)[dim],max=this._computeMaxSize(),min=Math.max(this.child.minSize,_e8b.getPadBorderExtents(this.child.domNode,_e9d)[dim]+10),_e9f=this.region,_ea0=_e9f=="top"||_e9f=="bottom"?"top":"left",_ea1=parseInt(_e9c[_ea0],10),_ea2=this._resize,_ea3=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,_e8d.move,this._drag=function(e,_ea4){var _ea5=e[axis]-_e9b,_ea6=_e99*_ea5+_e9e,_ea7=Math.max(Math.min(_ea6,max),min);if(_ea2||_ea4){_ea3(_ea7);}_e9c[_ea0]=_ea5+_ea1+_e99*(_ea7-_ea6)+"px";}),on(de,"dragstart",function(e){e.stopPropagation();e.preventDefault();}),on(this.ownerDocumentBody,"selectstart",function(e){e.stopPropagation();e.preventDefault();}),on(de,_e8d.release,lang.hitch(this,"_stopDrag"))]);e.stopPropagation();e.preventDefault();},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_e89.toggle(this.domNode,"dijitSplitterHover",o);_e89.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_e89.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_e8a.destroy(this.fake);}_e89.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_e87(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyDown:function(e){this._resize=true;var _ea8=this.horizontal;var tick=1;switch(e.keyCode){case _ea8?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _ea8?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _ea9=_e8b.getMarginSize(this.child.domNode)[_ea8?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_ea9,this._computeMaxSize()),this.child.minSize));e.stopPropagation();e.preventDefault();},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _eaa=_e88("dijit.layout._Gutter",[_e8f,_e90],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_e89.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _eab=_e88("dijit.layout.BorderContainer",_e91,{gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_e93,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},_setupChild:function(_eac){this.inherited(arguments);var _ead=_eac.region,ltr=_eac.isLeftToRight();if(_ead=="leading"){_ead=ltr?"left":"right";}if(_ead=="trailing"){_ead=ltr?"right":"left";}if(_ead){if(_ead!="center"&&(_eac.splitter||this.gutters)&&!_eac._splitterWidget){var _eae=_eac.splitter?this._splitterClass:_eaa;if(lang.isString(_eae)){_eae=lang.getObject(_eae);}var _eaf=new _eae({id:_eac.id+"_splitter",container:this,child:_eac,region:_ead,live:this.liveSplitters});_eaf.isSplitter=true;_eac._splitterWidget=_eaf;var _eb0=_ead=="bottom"||_ead==(this.isLeftToRight()?"right":"left");_e8a.place(_eaf.domNode,_eac.domNode,_eb0?"before":"after");_eaf.startup();}}},layout:function(){this._layoutChildren();},removeChild:function(_eb1){var _eb2=_eb1._splitterWidget;if(_eb2){_eb2.destroy();delete _eb1._splitterWidget;}this.inherited(arguments);},getChildren:function(){return _e86.filter(this.inherited(arguments),function(_eb3){return !_eb3.isSplitter;});},getSplitter:function(_eb4){return _e86.filter(this.getChildren(),function(_eb5){return _eb5.region==_eb4;})[0]._splitterWidget;},resize:function(_eb6,_eb7){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_e8c.getComputedStyle(node);this.pe=_e8b.getPadExtents(node,this.cs);this.pe.r=_e8c.toPixelValue(node,this.cs.paddingRight);this.pe.b=_e8c.toPixelValue(node,this.cs.paddingBottom);_e8c.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_eb8,_eb9){if(!this._borderBox||!this._borderBox.h){return;}var _eba=[];_e86.forEach(this._getOrderedChildren(),function(pane){_eba.push(pane);if(pane._splitterWidget){_eba.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_e92.layoutChildren(this.domNode,dim,_eba,_eb8,_eb9);},destroyRecursive:function(){_e86.forEach(this.getChildren(),function(_ebb){var _ebc=_ebb._splitterWidget;if(_ebc){_ebc.destroy();}delete _ebb._splitterWidget;});this.inherited(arguments);}});_eab.ChildWidgetProperties={splitter:false,minSize:0,maxSize:Infinity};lang.mixin(_eab.ChildWidgetProperties,_e91.ChildWidgetProperties);lang.extend(_e8e,_eab.ChildWidgetProperties);_eab._Splitter=_e93;_eab._Gutter=_eaa;return _eab;});},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(dojo,_ebd){dojo.cookie=function(name,_ebe,_ebf){var c=document.cookie,ret;if(arguments.length==1){var _ec0=c.match(new RegExp("(?:^|; )"+_ebd.escapeString(name)+"=([^;]*)"));ret=_ec0?decodeURIComponent(_ec0[1]):undefined;}else{_ebf=_ebf||{};var exp=_ebf.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_ebf.expires=d;}if(exp&&exp.toUTCString){_ebf.expires=exp.toUTCString();}_ebe=encodeURIComponent(_ebe);var _ec1=name+"="+_ebe,_ec2;for(_ec2 in _ebf){_ec1+="; "+_ec2;var _ec3=_ebf[_ec2];if(_ec3!==true){_ec1+="="+_ec3;}}document.cookie=_ec1;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"dijit/layout/LayoutContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(_ec4,_ec5,_ec6,_ec7,lang,_ec8,_ec9,_eca){var _ecb=_ec5("dijit.layout.LayoutContainer",_ec9,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){if(this._started){return;}_ec4.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_ecc){this.inherited(arguments);var _ecd=_ecc.region;if(_ecd){_ec6.add(_ecc.domNode,this.baseClass+"Pane");}},_getOrderedChildren:function(){var _ece=_ec4.map(this.getChildren(),function(_ecf,idx){return {pane:_ecf,weight:[_ecf.region=="center"?Infinity:0,_ecf.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(_ecf.region)?1:-1),idx]};},this);_ece.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});return _ec4.map(_ece,function(w){return w.pane;});},layout:function(){_eca.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren());},addChild:function(_ed0,_ed1){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(_ed2){this.inherited(arguments);if(this._started){this.layout();}_ec6.remove(_ed2.domNode,this.baseClass+"Pane");_ec7.set(_ed2.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_ec7.set(_ed2.domNode,/top|bottom/.test(_ed2.region)?"width":"height","auto");}});_ecb.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};lang.extend(_ec8,_ecb.ChildWidgetProperties);return _ecb;});},"dijit/layout/_LayoutWidget":function(){define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_ed3,_ed4,_ed5,_ed6,_ed7,_ed8,_ed9,_eda){return _ed7("dijit.layout._LayoutWidget",[_ed3,_ed4,_ed5],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);_ed8.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _edb=this.getParent&&this.getParent();if(!(_edb&&_edb.isLayoutContainer)){this.resize();this.own(_ed6.on("resize",lang.hitch(this,"resize")));}},resize:function(_edc,_edd){var node=this.domNode;if(_edc){_ed9.setMarginBox(node,_edc);}var mb=_edd||{};lang.mixin(mb,_edc||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_ed9.getMarginBox(node),mb);}var cs=_eda.getComputedStyle(node);var me=_ed9.getMarginExtents(node,cs);var be=_ed9.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_ed9.getPadExtents(node,cs);this._contentBox={l:_eda.toPixelValue(node,cs.paddingLeft),t:_eda.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_ede){var cls=this.baseClass+"-child "+(_ede.baseClass?this.baseClass+"-"+_ede.baseClass:"");_ed8.add(_ede.domNode,cls);},addChild:function(_edf,_ee0){this.inherited(arguments);if(this._started){this._setupChild(_edf);}},removeChild:function(_ee1){var cls=this.baseClass+"-child"+(_ee1.baseClass?" "+this.baseClass+"-"+_ee1.baseClass:"");_ed8.remove(_ee1.domNode,cls);this.inherited(arguments);}});});},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(_ee2,_ee3,_ee4,_ee5,lang){function _ee6(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_ee7,dim){var _ee8=_ee7.resize?_ee7.resize(dim):_ee4.setMarginBox(_ee7.domNode,dim);if(_ee8){lang.mixin(_ee7,_ee8);}else{lang.mixin(_ee7,_ee4.getMarginBox(_ee7.domNode));lang.mixin(_ee7,dim);}};var _ee9={marginBox2contentBox:function(node,mb){var cs=_ee5.getComputedStyle(node);var me=_ee4.getMarginExtents(node,cs);var pb=_ee4.getPadBorderExtents(node,cs);return {l:_ee5.toPixelValue(node,cs.paddingLeft),t:_ee5.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};},layoutChildren:function(_eea,dim,_eeb,_eec,_eed){dim=lang.mixin({},dim);_ee3.add(_eea,"dijitLayoutContainer");_eeb=_ee2.filter(_eeb,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_ee2.filter(_eeb,function(item){return item.region=="center"||item.layoutAlign=="client";}));_ee2.forEach(_eeb,function(_eee){var elm=_eee.domNode,pos=(_eee.region||_eee.layoutAlign);if(!pos){throw new Error("No region setting for "+_eee.id);}var _eef=elm.style;_eef.left=dim.l+"px";_eef.top=dim.t+"px";_eef.position="absolute";_ee3.add(elm,"dijitAlign"+_ee6(pos));var _ef0={};if(_eec&&_eec==_eee.id){_ef0[_eee.region=="top"||_eee.region=="bottom"?"h":"w"]=_eed;}if(pos=="leading"){pos=_eee.isLeftToRight()?"left":"right";}if(pos=="trailing"){pos=_eee.isLeftToRight()?"right":"left";}if(pos=="top"||pos=="bottom"){_ef0.w=dim.w;size(_eee,_ef0);dim.h-=_eee.h;if(pos=="top"){dim.t+=_eee.h;}else{_eef.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_ef0.h=dim.h;size(_eee,_ef0);dim.w-=_eee.w;if(pos=="left"){dim.l+=_eee.w;}else{_eef.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_eee,dim);}}}});}};lang.setObject("dijit.layout.utils",_ee9);return _ee9;});},"mxui/widget/ActionButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","mendix/lib/ValidationError","dojo/_base/lang","dojo/_base/declare"],function(_ef1,_ef2,_ef3,_ef4,_ef5){var _ef6=_ef5(_ef1,{declaredClass:"mxui.widget.ActionButton",action:null,needsObject:false,disableDuringAction:false,constructor:function(_ef7){this.needsObject=_ef7.action.hasParameter;},onClick:function(){this.onBeforeAction();window.mx.ui.execute(this.action,{origin:this.mxform,context:this.mxcontext,abortOnClientValidations:true,abortOnServerValidations:true,callback:this.onAfterAction,error:function(err){this.onAfterAction();if(!(err instanceof _ef3)){window.mx.onError(err);}}},this);},onBeforeAction:function(){if(this.disableDuringAction){this.disable();}},onAfterAction:function(){if(this.disableDuringAction){this.enable();}}});return _ef6;});},"mxui/widget/BackButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","dojo/_base/declare"],function(_ef8,_ef9,_efa){var _efb=_efa(_ef8,{declaredClass:"mxui.widget.BackButton",onClick:function(e){this.mxform.close();}});return _efb;});},"mxui/widget/CancelButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","dojo/_base/declare"],function(_efc,_efd,_efe){var _eff=_efe(_efc,{declaredClass:"mxui.widget.CancelButton",closeForm:true,needsObject:undefined,onClick:function(e){var self=this,form=this.mxform;form.rollback(function(){if(self.closeForm||form.place==="popup"){form.close();}});}});return _eff;});},"mxui/widget/ConfirmationDialog":function(){define(["mxui/widget/Dialog","mxui/dom","mendix/logger","dojo/_base/declare"],function(_f00,_f01,_f02,_f03){var $=_f01.create;var _f04=_f03(_f00,{declaredClass:"mxui.widget.ConfirmationDialog",cancel:"",proceed:"",handler:null,buildRendering:function(){this.caption=this.caption||this.translate("caption");this.inherited(arguments);var _f05=$("button",{"class":"btn"},this.cancel),_f06=$("button",{"class":"btn btn-primary"},this.proceed),_f07=$("p");_f07.innerHTML=_f01.convertNlToBr(_f01.escapeString(this.content));this.setContent(_f07);this.setButtons([_f06,_f05]);this.connect(_f05,"click",function(){this.hide();});this.connect(_f06,"click",function(){this.hide();this.handler();});},show:function(){this.inherited(arguments,[true]);}});return _f04;});},"mxui/widget/LogoutButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","dojo/_base/declare"],function(_f08,_f09,_f0a){var _f0b=_f0a(_f08,{declaredClass:"mxui.widget.LogoutButton",postCreate:function(){if(window.mx.session.isGuest()){this.domNode.style.display="none";}this.inherited(arguments);},onClick:function(e){window.mx.logout();}});return _f0b;});},"mxui/widget/SyncButton":function(){define(["mxui/widget/_DynamicButton","mendix/lib/DescribedError","webcore/DanglingError","dojo/cookie","dojo/_base/declare"],function(_f0c,_f0d,_f0e,_f0f,_f10){var _f11=_f10(_f0c,{declaredClass:"mxui.widget.SyncButton",onClick:function(e){var _f12=window.mx.ui.showProgress(null,true);window.mx.data.synchronizeDataWithFiles(function(){window.mx.ui.reload(function(){window.mx.ui.hideProgress(_f12);});},function(e){window.mx.ui.hideProgress(_f12);if(e instanceof _f0e){window.mx.onError(new _f0d(e.message));}else{window.mx.ui.info(window.mx.ui.translate("mxui.sys.UI","sync_error"),true);}});}});return _f11;});},"mendix/lib/DescribedError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_f13,_f14){return _f14(_f13,{});});},"webcore/DanglingError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_f15,_f16){return _f16(_f15,{});});},"mxui/widget/DropDownButton":function(){define(["mxui/widget/_DynamicButton","mxui/widget/Dialog","mxui/html/parser","mxui/dom","dojo/dom-class","dojo/dom-construct","dojo/_base/declare"],function(_f17,_f18,_f19,_f1a,_f1b,_f1c,_f1d){var _f1e=_f1d(_f17,{declaredClass:"mxui.widget.DropDownButton",items:null,_dialog:null,buildRendering:function(){this.inherited(arguments);_f1c.place(_f1a.create("span",{"class":"caret"}),this.domNode);},onClick:function(e){if(this._dialog){this._dialog.hide();this._dialog=null;}var $=_f1a.create,list=$("ul",{"class":"mx-list mx-dropdown-list"},this.getTemplate("content")),_f1f=$("button",{"class":"btn primary"},"Close"),_f20=this._dialog=new _f18();_f1b.add(_f20.domNode,"mx-dropdown");_f20.setContent(list);_f20.setButtons([_f1f]);this.connect(_f1f,"click",function(){_f20.hide();});_f19.parse(list,{dialog:_f20,mxform:this.mxform,parent:this});_f20.show();},uninitialize:function(){if(this._dialog){this._dialog.hide();}}});return _f1e;});},"mxui/widget/DropDownItem":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","webcore/url-helpers","dojo/dom-construct","dojo/_base/lang","dojo/_base/declare"],function(_f21,_f22,_f23,_f24,_f25,_f26,_f27){var _f28=_f27(_f21,{declaredClass:"mxui.widget.DropDownItem",icon:"",caption:"",action:null,dialog:null,parent:null,buildRendering:function(){var $=_f22.create,node=this.domNode=$("li",$("label",this.caption));if(this.icon){_f25.place($("img",{src:_f24.getStaticResourceUrlFromPath(this.icon)}),node,"first");}this.connect(node,"click","onClick");},onClick:function(){this.dialog.hide();window.mx.ui.execute(this.action,{origin:this.mxform,context:this.parent.mxcontext,abortOnClientValidations:true});}});return _f28;});},"mxui/widget/SaveButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","mendix/lib/DescribedError","mendix/lib/ValidationError","webcore/DanglingError","dojo/_base/declare"],function(_f29,_f2a,_f2b,_f2c,_f2d,_f2e){var _f2f=_f2e(_f29,{declaredClass:"mxui.widget.SaveButton",closeForm:true,syncAutomatically:false,needsObject:undefined,onClick:function(){var self=this,form=this.mxform;form.validate(function(){form.commit(function(){if(self.syncAutomatically){_f32(_f30,function(e){if(e instanceof _f2d){window.mx.onError(new _f2b(e.message));}else{window.mx.ui.info(window.mx.ui.translate("mxui.sys.UI","sync_error"),true);_f30();}});}else{_f30();}},_f31);});function _f31(e){if(!(e instanceof _f2c)){window.mx.onError(e);}};function _f30(){if(self.closeForm||form.place=="popup"){form.close();}};function _f32(_f33,_f34){var _f35=window.mx.ui.showProgress(null,true);window.mx.data.synchronizeData(function(){window.mx.ui.reload(function(){window.mx.ui.hideProgress(_f35);if(_f33){_f33();}});},function(e){window.mx.ui.hideProgress(_f35);if(_f34){_f34(e);}});};}});return _f2f;});},"mxui/widget/SidebarToggleButton":function(){define(["mxui/widget/_DynamicButton","dojo/_base/declare"],function(_f36,_f37){var _f38=_f37(_f36,{declaredClass:"mxui.widget.SidebarToggleButton",onClick:function(){this.mxform.publish("toggleSidebar");}});return _f38;});},"mxui/widget/GroupBox":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/lib/TextTemplate","mxui/widget","mxui/dom","dijit/registry","dojo/dom-class","dojo/dom-construct","dojo/_base/declare"],function(_f39,_f3a,_f3b,_f3c,_f3d,_f3e,_f3f,_f40,_f41){var _f42=_f41([_f39,_f3a],{declaredClass:"mxui.widget.GroupBox",caption:null,collapsed:false,collapsable:false,_iconNode:null,_captionTextTemplate:null,buildRendering:function(){this.inherited(arguments);if(this.collapsable){this._iconNode=this.domNode.querySelector("i");this.collapsed=this.getState("collapsed",this.collapsed);this._doCollapse();this.connect(this.domNode.querySelector("h2"),"click",function(e){this.toggleCollapsed();e.stopPropagation();});}if(this.caption){var _f43=this.domNode.querySelector("h2");var _f44=document.createTextNode("");_f43.appendChild(_f44);this._captionTextTemplate=new _f3b(this.caption,function(text){_f44.nodeValue=text||"";});}},update:function(obj,_f45){var self=this;if(this._captionTextTemplate){this._captionTextTemplate.update(obj,_f46);}else{_f46();}function _f46(){self.passContext(_f3e.findWidgets(self.domNode),_f45);};},toggleCollapsed:function(){this.set("collapsed",!this.collapsed);},_setCollapsedAttr:function(_f47){if(this.collapsed!=_f47){this.collapsed=_f47;this._doCollapse();}},_doCollapse:function(){if(this.collapsed){_f3f.add(this.domNode,"collapsed");if(this._iconNode){_f3f.replace(this._iconNode,"glyphicon-plus","glyphicon-minus");}}else{_f3f.remove(this.domNode,"collapsed");if(this._iconNode){_f3f.replace(this._iconNode,"glyphicon-minus","glyphicon-plus");}this.mxform.resize();}},storeState:function(_f48){_f48("collapsed",this.collapsed);},uninitialize:function(){if(this._captionTextTemplate){this._captionTextTemplate.destroy();}}});return _f42;});},"mxui/widget/Title":function(){define(["mxui/widget/_WidgetBase","mxui/dom","dojo/_base/declare"],function(_f49,dom,_f4a){var _f4b=_f4a(_f49,{declaredClass:"mxui.widget.Title",buildRendering:function(){this.domNode=dom.create("h1",{"class":"mx-title"});this._setTitle();this.connect(this.mxform,"onNavigation",this._setTitle);},_setTitle:function(){dom.text(this.domNode,this.mxform.getTitle());}});return _f4b;});},"mxui/widget/StaticImage":function(){define(["mxui/widget/_WidgetBase","mxui/widget/ImageZoom","mxui/dom","mendix/logger","webcore/url-helpers","dojo/on","dojo/_base/event","dojo/_base/declare"],function(_f4c,_f4d,dom,_f4e,_f4f,_f50,_f51,_f52){var $=dom.create;var _f53=_f52(_f4c,{declaredClass:"mxui.widget.StaticImage",url:"",width:"",height:"",action:null,_overlay:null,_absUrl:"",buildRendering:function(){var _f54=this.width,_f55=this.height,_f56=parseInt(_f54,10),_f57=parseInt(_f55,10),_f58=this.domNode=$("img",{"class":"mx-image"}),_f59=_f58.style;var _f5a=_f54.indexOf("px")!==-1&&_f55.indexOf("px")!==-1;if(_f5a&&_f56>0&&_f57>0){this.connect(_f58,"load",function(){var _f5b=_f58.width/_f58.height,_f5c=_f56/_f57;if(_f5b<_f5c){_f59.width="";_f59.height=_f55;}else{_f59.width=_f54;_f59.height="";}});}else{if(_f56){_f58.style.width=_f54;}if(_f57){_f58.style.height=_f55;}}if(this.action.type!=="doNothing"){this.connect(_f58,"click","onClick");_f58.style.cursor="pointer";}if(this.url){this._absUrl=_f4f.getStaticResourceUrlFromPath(this.url);}this.setUrl("");},applyContext:function(_f5d,_f5e){this.mxcontext.mixin(_f5d);this.setUrl(this._absUrl,_f5e);},setUrl:function(url,_f5f){this.domNode.removeAttribute("width");this.domNode.removeAttribute("height");if(!url){this.domNode.style.display="none";this.domNode.src=_f4f.getStaticResourceUrl(this._blankGif);if(_f5f){_f5f();}}else{if(this.domNode.src===url){if(_f5f){_f5f();}}else{if(_f5f){var _f60=_f50(this.domNode,"load",function(){_f60.remove();_f5f();});var _f61=_f50(this.domNode,"error",function(){_f4e.error(this.id+": Failed to load image with url "+url);_f61.remove();_f5f();});}this.domNode.style.display="";this.domNode.src=url;}}},onClick:function(e){if(this.action.type!=="enlarge"){window.mx.ui.execute(this.action,{origin:this.mxform,context:this.mxcontext,abortOnClientValidations:true});}else{if(!this._overlay){this._overlay=new _f4d({src:this.domNode.src});}else{this._overlay.set("src",this.domNode.src);}this._overlay.show();}_f51.stop(e);},uninitialize:function(){if(this._overlay){this._overlay.destroy();}},_setWidthAttr:function(){},_setHeightAttr:function(){}});return _f53;});},"mxui/widget/ImageZoom":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/_base/declare"],function(_f62,_f63,_f64,_f65){var _f66=_f65(_f62,{declaredClass:"mxui.widget.ImageZoom",src:"",_image:null,_offset:0,_content:null,buildRendering:function(){var $=_f63.create;this.domNode=$("div",{"class":"mx-imagezoom"},$("div",{"class":"mx-imagezoom-wrapper"},this._image=$("img",{"class":"mx-imagezoom-image",src:this.src})));this._content=document.getElementById("content");this.connect(this.domNode,"click","hide");},show:function(){this._offset=window.pageYOffset;this._content.style.display="none";document.body.appendChild(this.domNode);},hide:function(e){document.body.removeChild(this.domNode);var self=this;setTimeout(function(){window.scrollTo(0,self._offset);self._content.style.display="";});},_setSrcAttr:function(src){this._image.src=this.src=src;}});return _f66;});},"mxui/widget/Image":function(){define(["mxui/widget/StaticImage","mendix/logger","webcore/url-helpers","dojo/_base/declare"],function(_f67,_f68,_f69,_f6a){var _f6b=_f6a(_f67,{declaredClass:"mxui.widget.Image",datasource:null,defaultUrl:"",thumb:false,_entity:"",_xpath:"",_referred:"",_absDefaultUrl:"",postCreate:function(){this.inherited(arguments);var _f6c=this.datasource.path.split("/");this._entity=_f6c.pop();this._referred=!!_f6c.length;this._xpath="//"+this._entity;if(this._referred){this._xpath+="["+_f6c.reverse().join("/")+"=[%CurrentObject%]]";}if(this.defaultUrl){this._absDefaultUrl=_f69.getStaticResourceUrlFromPath(this.defaultUrl);}},applyContext:function(_f6d,_f6e){this.unsubscribeAll();this.mxcontext.mixin(_f6d);var _f6f=this.mxcontext.getTrackId();var _f70=function(e){window.mx.onError(e);_f6e&&_f6e();};if(!_f6f){this.update(null,_f6e);}else{if(this._referred){window.mx.data.get({xpath:this._xpath.replace("[%CurrentObject%]",_f6f),callback:function(objs){this.updateReferred(objs[0],_f6e,_f6d);},error:_f70},this);}else{window.mx.data.get({guid:_f6f,callback:function(obj){this.update(obj,_f6e);},error:_f70},this);}}},update:function(obj,_f71){if(obj){this.subscribe({guid:obj.getGuid(),callback:function(){this.update(obj);}});}this._setImage(obj,_f71);},updateReferred:function(obj,_f72,_f73){if(obj){this.subscribe({guid:_f73.getTrackId(),callback:function(){this.applyContext(_f73);}});}this.mxcontext.setContext(this._entity,obj?obj.getGuid():"");this.update(obj,_f72);},_setImage:function(obj,_f74){var url;if(obj&&obj.get2("HasContents")){url=mx.data.getDocumentUrl(obj.getGuid(),obj.get2("changedDate"),this.thumb);}else{url=this._absDefaultUrl;}this.setUrl(url,_f74);}});return _f6b;});},"mxui/widget/LinkButton":function(){define(["mxui/widget/_DynamicButton","mxui/mixin/_DynamicOptionHelper","mxui/dom","mendix/logger","dojo/_base/declare"],function(_f75,_f76,_f77,_f78,_f79){var _f7a=_f79([_f75,_f76],{declaredClass:"mxui.widget.LinkButton",action:"",address:"",subject:"",cc:"",bcc:"",body:"",_argNames:{email:["subject","cc","bcc","body"]},_target:"",_url:"",buildRendering:function(){this.inherited(arguments);this._target=(this.action=="open"?"_blank":"_self");},onClick:function(e){window.open(this._url,this._target);},refresh:function(_f7b){this.updateOptions(["address","subject","cc","bcc","body"],this._mxObject,function(_f7c){this.setUrl(_f7c);if(_f7b){_f7b();}});},setUrl:function(_f7d){var _f7e=_f7d.address,url;switch(this.action){case "open":url=_f7e;break;case "email":url="mailto:"+window.escape(_f7e);break;case "call":url="tel:"+window.escape(_f7e);break;case "text":url="sms:"+window.escape(_f7e);break;default:throw new Error(this.id+".setUrl : invalid action");}var _f7f=[],_f80=this._argNames[this.action];if(_f80){for(var i=0,_f81;_f81=_f80[i];++i){var val=_f7d[_f81];if(val){_f7f.push(_f81+"="+window.escape(val));}}if(_f7f.length>0){url+="?"+_f7f.join("&");}}this._url=url;}});return _f7a;});},"mxui/mixin/_DynamicOptionHelper":function(){define(["mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_f82,_f83,_f84){var _f85=function(obj,_f86,_f87){var _f88={},len=_f86.length,_f89=len;var _f8a=function(_f8b,v){_f88[_f8b]=v;if(--_f89===0){_f87&&_f87(_f88);}};if(len===0){_f87&&_f87(_f88);}else{for(var i=0;i<len;++i){obj.fetch(_f86[i][0],_f83.hitch(null,_f8a,_f86[i][1]));}}};var _f8c=_f84(null,{updateOptions:function(_f8d,obj,_f8e){if(typeof _f8e!="function"){throw new Error(this.name+".updateOptions : invalid callback");}var self=this,_f8f={},_f90=[];for(var i=0,_f91;_f91=_f8d[i];++i){var _f92=this[_f91+"Attribute"];if(_f92){_f90.push([_f92,_f91]);}else{_f8f[_f91]=this[_f91];}}if(obj){_f85(obj,_f90,function(_f93){_f8e.call(self,_f83.mixin({},_f93,_f8f));});}else{_f8e.call(this,_f8f);}}});return _f8c;});},"mxui/widget/ListView":function(){define(["mxui/widget/Button","mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/mixin/_ContainingSelection","mxui/dom","mxui/wm/focus","mendix/lib/MxContext","mendix/lang","webcore/dataSourceFactory","dojo/dom-class","dojo/dom-construct","dojo/aspect","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dijit/registry"],function(_f94,_f95,_f96,_f97,_f98,_f99,_f9a,lang,_f9b,_f9c,_f9d,_f9e,_f9f,_fa0,_fa1,_fa2){var $=_f98.create;var _fa3=_fa0(_f95,{declaredClass:"mxui.widget.ListViewItem",datasource:null,listview:null,template:null,action:null,selectable:"",_index:-1,_selected:false,_checknode:null,buildRendering:function(){var node=this.domNode=$("li",{"class":"mx-listview-item"}),_fa4=this.selectable;if(_fa4){var item=$("#");if(_fa4!="singleandmaintain"){item.appendChild($("div",{"class":"mx-listview-selection"},this._checknode=_fa4=="multi"?$("input",{type:"checkbox"}):$("input",{type:"radio"})));}item.appendChild($("div",{"class":"mx-listview-content"},this.template||""));node.appendChild(item);}else{if(this.template){node.appendChild(this.template);}}this.connect(this.domNode,"click","onClick");},startup:function(){this.parseContent(this.domNode,{schema:""});},select:function(){_f9c.add(this.domNode,"selected");if(this._checknode){this._checknode.checked=true;}this._selected=true;},deselect:function(){_f9c.remove(this.domNode,"selected");if(this._checknode){this._checknode.checked=false;}this._selected=false;},getGuid:function(){return this.mxcontext.getTrackId();},_setIndexAttr:function(_fa5){if(_fa5===this._index){return;}var _fa6="mx-name-index-";_f9c.remove(this.domNode,_fa6+this._index);_f9c.add(this.domNode,_fa6+_fa5);this._index=_fa5;},onClick:function(_fa7){if(this.selectable){if(this._selected){this.listview._deselectItem(this);}else{this.listview._selectItem(this);}}else{if(this.action.type!=="doNothing"){_fa7.stopPropagation();var _fa8=new _f9a();_fa8.mixin(this.mxcontext);_fa8.setTrackObject(null);window.mx.ui.execute(this.action,{origin:this.mxform,context:_fa8,abortOnClientValidations:true});}}}});var _fa9=_fa0([_f95,_f96,_f97],{declaredClass:"mxui.widget.ListView",datasource:null,dataSourceMixin:null,page:5,search:null,action:null,sort:null,selectable:"",templateMap:null,_entity:"",_datasource:null,_itemList:null,_loadButton:null,_clearButton:null,_searchNode:null,_listNode:null,_emptyNode:null,_loadNode:null,_lastRenderId:0,_preserveSelection:false,constructor:function(_faa){if(_faa.selection){this._preserveSelection=true;}},postMixInProperties:function(){if(this.listViewSelectionMode){this.selectable=this.listViewSelectionMode;}},buildRendering:function(){this._loadButton=new _f94({caption:this.translate("load_more"),iconClass:"glyphicon-repeat",onClick:_fa1.hitch(this,"_loadMore"),"class":"mx-listview-loadMore"});this.domNode=$("div",{"class":"mx-listview"},this._listNode=$("ul",{"class":"mx-list mx-list-striped mx-listview-list"}));if(this.selectable!="singleandmaintain"){_f9c.add(this.domNode,"mx-listview-selectable");}if(this.action.type!=="doNothing"){_f9c.add(this.domNode,"mx-listview-clickable");}this._emptyNode=$("li",{"class":"mx-listview-empty"},$("label",this.translate("no_items")));this._loadNode=$("li",{"class":"mx-listview-loading"},$("img",{src:require.toUrl("mxui/ui/widget/images/loading.gif")}));if(this.search){this._clearButton=new _f94({iconClass:"glyphicon-refresh",onClick:_fa1.hitch(this,"_clearSearchNode"),"class":"mx-listview-clear-button"});_f9d.place($("div",{"class":"mx-listview-searchbar clearfix"},this._clearButton.domNode,$("div",{"class":"mx-listview-search-input"},this._searchNode=$("input",{type:"text",placeholder:this.translate("search"),"class":"form-control",value:this.getState("searchValue","")}))),this.domNode,"first");this.connect(this._searchNode,"keyup","_searchKeyDown");}},postCreate:function(){this._createSource();this._itemList=[];this.templateMap=this.templateMap||[];this.selection=this.getState("selection",this.selection);},_onLoad:function(_fab){if(this.selectable){if(!this._preserveSelection){var _fac=_f9f.map(this._datasource.getObjects(),function(obj){return obj.getGuid();});this.selection=_f9f.filter(this.selection,function(guid){return _f9f.indexOf(_fac,guid)!=-1;});}this._ensureSelection();this._shareSelection(this._entity);}if(_fab){_fab();}},update:function(obj,_fad){this._registerSubscriptions();this._loadData(_fad);},_registerSubscriptions:function(){this.unsubscribeAll();this.subscribe({entity:this._entity,async:true,callback:function(_fae,_faf){this.update(null,_faf);}});var _fb0=this.mxcontext.getTrackId();if(_fb0){this.subscribe({guid:_fb0,async:true,callback:function(guid,_fb1){this.update(null,_fb1);}});}},storeState:function(_fb2){if(this._searchNode){_fb2("searchValue",this._searchNode.value);}_fb2("datasourceOffset",this._datasource.getOffset());_fb2("selection",this.selection);},uninitialize:function(){this._clearData();this._datasource.destroy();},_createSource:function(){this._datasource=_f9b.create(_fa1.mixin({sort:this.sort,context:this.mxcontext,page:this.page},this.datasource,this.dataSourceMixin));this._entity="entity" in this.datasource?this.datasource.entity:this.datasource.path.split("/").pop();if(this.search){this._datasource.setConstraints(this._getSearchConstraint());}var _fb3=this.getState("datasourceOffset",0);if(_fb3){this._datasource.setPageSize(_fb3+this.page);this._datasource.setOffset(0);var self=this,_fb4=_f9e.after(this,"_onLoad",function(){self._datasource.setPageSize(self.page);self._datasource.setOffset(_fb3);_fb4.remove();});}},_clearData:function(){while(this._itemList.length){var item=this._itemList.pop();if(item.domNode){item.destroy();}}},_showLoadingIcon:function(){this._listNode.appendChild(this._loadNode);},_hideLoadingIcon:function(){_f98.orphan(this._loadNode);},_showLoadMoreButton:function(){this.domNode.appendChild(this._loadButton.domNode);},_hideLoadMoreButton:function(){_f98.orphan(this._loadButton.domNode);},_updateLoadMoreButton:function(){if(!this._datasource.atEnd()){this._showLoadMoreButton();}else{this._hideLoadMoreButton();}},_updateEmptyMessage:function(){if(this._itemList.length===0){this._listNode.appendChild(this._emptyNode);}else{_f98.orphan(this._emptyNode);}},_searchKeyDown:function(){var self=this,_fb5=this._datasource;this._clearButton.set("iconClass",this._searchNode.value?"glyphicon-remove":"glyphicon-refresh");clearTimeout(this._searchTimeout);this._searchTimeout=setTimeout(function(){self._clearData();self._showLoadingIcon();self._hideLoadMoreButton();_fb5.setConstraints(self._getSearchConstraint());self.update();},500);},_clearSearchNode:function(){clearTimeout(this._searchTimeout);this._clearButton.set("iconClass","glyphicon-refresh");this._searchNode.value="";this._datasource.setConstraints("");this.update();},_selectItem:function(item){var guid=item.getGuid();if(/^(single|singleandmaintain)$/.test(this.selectable)){var _fb6=this.selection[0],_fb7=lang.find(this._itemList,function(item){return item.getGuid()==_fb6;});if(_fb7){_fb7.deselect();}this.selection=[guid];}else{this._addToSelection(guid);}this._shareSelection(this._entity);item.select();},_deselectItem:function(item){if(this.selectable!=="singleandmaintain"){this._removeFromSelection(item.getGuid());this._shareSelection(this._entity);item.deselect();}},_getSearchConstraint:function(){var _fb8=_f98.escapeHTMLQuotes(this._searchNode.value),_fb9=[],_fba=this.search.attributes,_fbb=this.search.method;if(_fb8){for(var i=0,attr;attr=_fba[i];++i){_fb9.push(_fbb+"("+attr+",'"+_fb8+"')");}return "["+_fb9.join(" or ")+"]";}return "";},_loadData:function(_fbc){this._datasource.first();this.sequence(["_sourceReload","_renderData","_onLoad"],_fbc);},_loadMore:function(){this._showLoadingIcon();this._hideLoadMoreButton();this.sequence(["_sourceNext","_renderData"]);},_sourceReload:function(_fbd){this._datasource.reload(_fbd);},_sourceNext:function(_fbe){this._datasource.next(_fbe);},_renderData:function(_fbf){var objs=this._datasource.getObjects(),_fc0=this._datasource.getOffset(),_fc1=this._itemList.slice(_fc0),_fc2=[],_fc3=[],_fc4=_f99.get();_f9f.forEach(objs,function(obj,_fc5){var guid=obj.getGuid(),_fc6=lang.findIndex(_fc1,function(item){return item.getGuid()===guid;}),item;if(_fc6>-1){item=_fc1[_fc6];_fc1.splice(_fc6,1);}else{item=this._createListItem(obj,_fc0+_fc5);_fc3.push(item);}_fc2.push(item);},this);var _fc7=$("div",{"class":"mx-offscreen"});this.domNode.appendChild(_fc7);_f9f.forEach(_fc3,function(item){_fc7.appendChild(item.domNode);item.startup();});var _fc8=this._lastRenderId=lang.getUniqueId();this._loadListItems(_fc2,objs,_fa1.hitch(this,function(){_f98.orphan(_fc7);if(_fc8!=this._lastRenderId){_f9f.forEach(_fc3,function(item){item.destroy();});_fbf();return;}_f9f.forEach(_fc1,function(item){item.destroy();});this._itemList=this._itemList.slice(0,_fc0).concat(_fc2);this._updateStatusInfo();this._flushItemsToDom(_fc2,_fc0);if(_fc4&&this._listNode.contains(_fc4)){_f99.put(_fc4);}_fbf();}));},_flushItemsToDom:function(_fc9,_fca){_f9f.forEach(_fc9,function(item,i){item.set("index",_fca+i);var _fcb=this._listNode.children[_fca+i];if(_fcb){var _fcc=_fa2.byNode(_fcb);if(_fcc.getGuid()!==item.getGuid()){this._listNode.insertBefore(item.domNode,_fcc.domNode);}}else{this._listNode.appendChild(item.domNode);}},this);},_updateStatusInfo:function(){this._hideLoadingIcon();this._updateLoadMoreButton();this._updateEmptyMessage();},_createListItem:function(obj,_fcd){var _fce=this.templateMap[obj.getEntity()];if(!_fce){_f9f.some(obj.getSuperEntities(),function(_fcf){return _fce=this.templateMap[_fcf];},this);}var item=new _fa3({index:_fcd,uniqueid:this.uniqueid+"_obj"+obj.getGuid(),listview:this,template:this.getTemplate(_fce),action:this.action,selectable:this.selectable,mxform:this.mxform,validator:this.validator,readOnly:this.readOnly,ignoreUpdates:this.ignoreUpdates});if(this.selectable&&this._isSelected(obj.getGuid())){item.select();}return item;},_loadListItems:function(_fd0,objs,_fd1){this.collect(_f9f.map(_fd0,function(item,i){return function(cb){var _fd2=new _f9a({mxcontext:this.mxcontext});_fd2.setObject(objs[i]);item.applyContext(_fd2,cb);};}),_fd1);},_ensureSelection:function(){var objs=this._datasource.getObjects();if(this.selectable==="singleandmaintain"&&!this._hasSelection()&&objs.length>0){this._addToSelection(objs[0].getGuid());}}});return _fa9;});},"mxui/widget/MenuBar":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/lib/menuAnchorFactory","mxui/dom","mendix/lang","dojo/aspect","dojo/dom-class","dojo/on","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(_fd3,_fd4,_fd5,_fd6,lang,_fd7,_fd8,_fd9,_fda,_fdb,_fdc){var $=_fd6.create;var _fdd=_fdc([_fd3,_fd4],{declaredClass:"mxui.widget.MenuBar",menuID:"",orientation:"horizontal",_view:null,_items:null,_currentSelection:-1,_initialSelection:-1,buildRendering:function(){this._items=window.mx.ui.getMenu(this.menuID);this._view=new View(this,this.orientation,this._items);this.domNode=this._view.domNode;this._view.subscribeToClick(_fdb.hitch(this,"_onClick"));this._restoreSelection();this.connect(this.mxform,"onNavigation",this._restoreSelection);},_restoreSelection:function(){this._currentSelection=this.getState("selectedIndex",this._currentSelection);this._initialSelection=this._currentSelection;this._view.select(this._currentSelection);},_onClick:function(_fde){this._currentSelection=_fde;this._view.select(this._currentSelection);var _fdf=this._items[_fde].action;window.mx.ui.execute(_fdf,{origin:this.mxform});},storeState:function(_fe0){_fe0("selectedIndex",this._initialSelection);}});var View=_fdc(null,{_handlerScope:null,_orientation:"",_list:null,domNode:null,constructor:function(_fe1,_fe2,_fe3){this._handlerScope=_fe1;this._orientation=_fe2;this._render(_fe3);},_render:function(_fe4){var self=this;this._list=$("ul",{"class":"nav nav-pills mx-menubar-list"});if(this._orientation=="vertical"){_fd8.add(this._list,"nav-stacked");}lang.forEach(_fe4,function(item,_fe5){var _fe6=_fd5.create(item);self._list.appendChild($("li",{"class":"mx-menubar-item mx-name-index-"+_fe5},_fe6));});this.domNode=$("div",{"class":"mx-menubar mx-menubar-"+this._orientation},this._list);},subscribeToClick:function(_fe7){var _fe8=this._handlerScope;lang.forEach(this.domNode.querySelectorAll(".mx-menubar-item>a"),function(_fe9,_fea){_fe8.own(_fd9(_fe9,"click",function(_feb){_fda.stop(_feb);_fe7(_fea);}));});},select:function(_fec){var _fed=this.domNode.querySelector(".mx-menubar-item.active");if(_fed){_fd8.remove(_fed,"active");}if(_fec!=-1){_fd8.add(this._list.children[_fec],"active");}}});return _fdd;});},"mxui/widget/NavigationList":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mendix/lang","dojo/_base/array","dojo/on","dojo/dom-class","dojo/_base/declare"],function(_fee,_fef,lang,_ff0,_ff1,_ff2,_ff3){var _ff4=_ff3([_fee,_fef],{declaredClass:"mxui.widget.NavigationList",_view:null,_currentActive:-1,_initialActive:-1,buildRendering:function(){this._view=new View(this.srcNodeRef,this);this.domNode=this._view.domNode;var self=this;this._view.subscribeToClick(function(_ff5){self._currentActive=_ff5;self._view.deactivateAll();self._view.activate(_ff5);});this._restoreSelection();this.connect(this.mxform,"onNavigation",this._restoreSelection);},_restoreSelection:function(){this._currentActive=this.getState("activeItem",this._currentActive);this._initialActive=this._currentActive;this._view.deactivateAll();this._view.activate(this._currentActive);},storeState:function(_ff6){_ff6("activeItem",this._initialActive);}});var View=_ff3(null,{_list:null,_handlerScope:null,constructor:function(_ff7,_ff8){this.domNode=_ff7;this._list=_ff7;this._handlerScope=_ff8;},subscribeToClick:function(_ff9){var self=this;this._handlerScope.own(_ff1(this._list,"li.mx-navigationlist-item:click",function(){_ff9(_ff0.indexOf(self._list.childNodes,this));}));},activate:function(_ffa){if(_ffa!=-1){_ff2.add(this._list.childNodes[_ffa],"active");}},deactivateAll:function(){lang.forEach(this._list.querySelectorAll("li.mx-navigationlist-item.active"),function(item){_ff2.remove(item,"active");});}});return _ff4;});},"mxui/widget/NavigationListItem":function(){define(["mxui/widget/_WidgetBase","dojo/_base/declare"],function(_ffb,_ffc){var _ffd=_ffc(_ffb,{declaredClass:"mxui.widget.NavigationListItem",action:null,buildRendering:function(){this.inherited(arguments);this.connect(this.domNode,"click","onClick");},onClick:function(){window.mx.ui.execute(this.action,{origin:this.mxform,context:this.mxcontext,abortOnClientValidations:true});}});return _ffd;});},"mxui/widget/NewButton":function(){define(["mxui/widget/_DynamicButton","mendix/lib/MxContext","mendix/logger","dojo/_base/declare"],function(_ffe,_fff,_1000,_1001){var _1002=_1001(_ffe,{declaredClass:"mxui.widget.NewButton",pageSettings:null,path:"",_entity:"",_association:"",constructor:function(args){var path=args.path.split("/");this._entity=path.pop();this._association=path.pop();if(this._association){this.needsObject=true;}},onClick:function(){var pid=window.mx.ui.showProgress();window.mx.data.create({entity:this._entity,callback:function(obj){if(this._association){obj.set(this._association,this.mxcontext.getTrackId());}var _1003=new _fff();_1003.setContext(obj);window.mx.ui.execute({type:"openPage",params:this.pageSettings},{origin:this.mxform,context:_1003});window.mx.ui.hideProgress(pid);},error:function(e){window.mx.ui.hideProgress(pid);window.mx.onError(e);}},this);}});return _1002;});},"mxui/widget/ReferenceSelector":function(){define(["mxui/widget/_LabeledWidget","mxui/mixin/_ValidationHelper","mxui/widget/Button","webcore/dataSourceFactory","mendix/lib/MxContext","mxui/dom","mendix/lang","mendix/logger","dojo/sniff","dojo/dom-construct","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/_base/declare"],function(_1004,_1005,_1006,_1007,_1008,dom,lang,_1009,_100a,_100b,_100c,_100d,_100e,_100f){var $=dom.create;var _1010=_100f([_1004,_1005],{declaredClass:"mxui.widget.ReferenceSelector",attributePath:"",datasource:null,selectPageSettings:null,gotoPageSettings:null,events:null,useContext:false,contextAction:"",preserveTrackObject:true,precision:-1,formatted:false,_mxObject:null,_readNode:null,_editNode:null,_inputPane:null,_gotoButton:null,_assoc:"",_entity:"",_attr:"",_datasource:null,_objsubs:null,_opts:null,postMixInProperties:function(){_100e.mixin(this,this.selectPageSettings?_1011:_1012);},postCreate:function(){var path=this.attributePath.split("/");this._assoc=path[1];this._entity=path[2];this._attr=path[3];if(this.datasource.constrainedBy){this.mxcontext.setConstraints(this.datasource.constrainedBy);}this._datasource=_1007.create(_100e.mixin({context:this.mxcontext,useContext:this.useContext,attributes:[this._attr]},this.datasource));this._objsubs=[];if(this.precision!==-1){this._opts={groups:this.formatted,places:this.precision};}},startup:function(){this.inherited(arguments);this.setupValidation(this._assoc);},onChange:function(){var ev=this.events&&this.events.change;if(ev){this.validatedMicroflow(ev);}},update:function(obj,_1013){this._mxObject=obj;this.setValidationObject(obj);this._removeObjectSubscriptions();if(obj){this._addObjectSubscriptions();}this.updateDisabled();this.updateObject(obj,_1013);},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._assoc));},renderObject:function(_1014){var _1015=this._mxObject,ref=_1015&&_1015.get2(this._assoc),self=this;if(ref){var _1016=this._datasource.getObject(ref);if(_1016){_1017(_1016);}else{window.mx.data.fetch(_1015,[this._assoc,this._entity],{usexpath:true},_1017,function(e){window.mx.onError(e);if(_1014){_1014();}});}}else{_1017(null);}function _1017(obj){if(self._mxObject==_1015&&(!self._mxObject||self._mxObject.get2(self._assoc)==ref)){self.setValue(obj);}if(_1014){_1014();}};},setTextValue:function(obj){var value=obj?window.mx.parser.formatAttribute(obj,this._attr,this._opts):"";if(value){dom.text(this._readNode,value);}else{this._readNode.innerHTML="&nbsp;";}if(this._gotoButton){this._gotoButton.set("disabled",!obj);}},openGotoForm:function(){var obj=this._mxObject,ref=obj&&obj.get2(this._assoc);if(ref){var _1018=new _1008();_1018.mixin(this.mxcontext);_1018.setContext(this._entity,ref);_1018.setTrackObject(null);window.mx.ui.execute({type:"openPage",params:this.gotoPageSettings},{origin:this.mxform,context:_1018});}},_getValueAttr:function(){return this._editNode.value;},_createGoToButton:function(){var _1019=this._gotoButton=new _1006({"class":"mx-referenceselector-goto-button",iconClass:"glyphicon-eye-open"});this.connect(_1019,"onClick","openGotoForm");return _1019.domNode;},_addObjectSubscriptions:function(){var obj=this._mxObject,ref;var _101a=function(){this.removeError();this.updateObject(obj);};this._objsubs.push(this.subscribe({guid:obj.getGuid(),callback:_101a}));this._objsubs.push(this.subscribe({guid:obj.getGuid(),attr:this._assoc,callback:this.selectPageSettings?_101a:function(){this.removeError();var value=obj.get2(this._assoc),found=!value||this._datasource.getObject(value);if(found||this.get("disabled")){this.renderObject();}else{this.renderSet();}}}));ref=obj.getReference(this._assoc);if(ref){this._objsubs.push(this.subscribe({guid:ref,attr:this._attr,callback:_101a}));}},_removeObjectSubscriptions:function(){var subs=this._objsubs;while(subs.length>0){this.unsubscribe(subs.shift());}},_createReadNode:function(){var _101b=this.insideFormGroup?$("p",{"class":"form-control-static"}):$("label");_101b.innerHTML="&nbsp;";return _101b;}});var _1012={_subs:null,_currentValue:"",buildRendering:function(){this._readNode=this._createReadNode();this._editNode=$("select",{"class":"form-control"});this.connect(this._editNode,"change",function(){var value=this.get("value");if(value===this._currentValue){return;}this._currentValue=value;if(this.isValid()&&this._mxObject.get2(this._assoc)!=value){this._mxObject.set(this._assoc,value);if(this._gotoButton){this._gotoButton.set("disabled",!value);}this.onChange();}});var _101c;this.domNode=$("div",{"class":"mx-referenceselector"},_101c=$("div",{"class":"mx-referenceselector-input-wrapper"},this._editNode));if(this.gotoPageSettings){_100b.place(this._createGoToButton(),_101c,"before");}this._inputPane=_101c;},enable:function(){var self=this;this.renderSet(function(){self._inputPane.replaceChild(self._editNode,self._readNode);});},disable:function(){var self=this;this.renderObject(function(){self._inputPane.replaceChild(self._readNode,self._editNode);});},setValue:function(obj){this._currentValue=this._editNode.value=obj?obj.getGuid():"";this.setTextValue(obj);},updateObject:function(obj,_101d){this._removeSubscriptions();this._subscribeToConstraints();if(this.get("disabled")){this.renderObject(_101d);}else{this._subscribeToEntity();this.renderSet(_101d);}},renderSet:function(_101e){var self=this,_101f=this._mxObject,_1020=this._datasource,_1021=_101f&&_101f.get2(self._assoc);function _1022(_1023,_1024){self._renderOptions(_1023);if(self._gotoButton){self._gotoButton.set("disabled",!_1024);}self.setValue(_1024);if(_101e){_101e();}};if(!_101f){_1022([],null);return;}_1020.reload(function(){var _1025=_1020.getObjects();var _1026=_1025.filter(function(obj){return obj.getGuid()===_1021;})[0];if(!_1026&&_1021){_101f.set(self._assoc,"");self.onChange();}_1022(_1025,_1026);});},_renderOptions:function(objs){var node=this._editNode;objs=objs||[];dom.empty(node);node.appendChild($("option",{value:""},""));for(var i=0,obj;obj=objs[i];i++){node.appendChild($("option",{value:obj.getGuid()},window.mx.parser.formatAttribute(obj,this._attr,this._opts)||""));}},_subscribeToConstraints:function(){var _1027=this.datasource.constrainedBy||[];if(!_1027.length){return;}if(this._mxObject){for(var i=0,len=_1027.length;i<len;++i){var path=_1027[i].split("/");if(path[1]){this._subs.push(this.subscribe({guid:this._mxObject.getGuid(),attr:path[1],callback:function(){this.updateObject(this._mxObject);}}));}}}},_subscribeToEntity:function(){var _1028=this._mxObject.metaData.getSelectorEntity(this._assoc);this._subs.push(this.subscribe({entity:_1028,callback:function(){this.updateObject(this._mxObject);}}));},_removeSubscriptions:function(){if(this._subs){while(this._subs.length){this.unsubscribe(this._subs.shift());}}this._subs=[];}};var _1011={_selectButton:null,buildRendering:function(){this._readNode=this._createReadNode();this._editNode=$("input",{type:"text",readonly:"readonly","class":"form-control"});var _1029=this._selectButton=new _1006({"class":"mx-referenceselector-select-button",iconClass:"glyphicon-share-alt"});this.connect(_1029,"onClick","openSelectForm");if(_100a("mobile")){this.connect(this._editNode,"click","openSelectForm");}else{this.connect(this._editNode,"keypress","_onKeyPress");}this.connect(_1029.domNode,"keypress","_onKeyPress");this.domNode=$("div",{"class":"mx-referenceselector"},_1029.domNode,this._inputPane=$("div",{"class":"mx-referenceselector-input-wrapper"},this._editNode));if(this.gotoPageSettings){_100b.place(this._createGoToButton(),_1029.domNode,"before");}},enable:function(){_100b.place(this._selectButton.domNode,this.domNode,"first");this._readNode.parentNode.replaceChild(this._editNode,this._readNode);},disable:function(){this.domNode.removeChild(this._selectButton.domNode);this._editNode.parentNode.replaceChild(this._readNode,this._editNode);},setValue:function(obj){this._editNode.value=obj?window.mx.parser.formatAttribute(obj,this._attr,this._opts):"";this.setTextValue(obj);},updateObject:function(obj,_102a){this.renderObject(_102a);},openSelectForm:function(){var ref=this._mxObject.get2(this._assoc),self=this,_102b=(this.datasource.constraint||"").replace("[%CurrentObject%]",this._mxObject.getGuid());window.mx.ui.execute({type:"openPage",params:this.selectPageSettings},{origin:this.mxform,context:new _1008({mxcontext:this.mxcontext}),targetParams:{selection:ref?[ref]:[],listViewSelectionMode:"single",dataSourceMixin:{constraint:_102b,xpathConstraints:this.datasource.xpathConstraints||"",offlineConstraints:this.datasource.offlineConstraints||[]}},callback:function(form){form.listen("commit",function(_102c){var _102d=lang.find(form.getChildren(true),function(_102e){return "getSelected" in _102e;}),_102f=_102d.getSelected()[0]||"";if(self._mxObject.getReference(self._assoc)!=_102f){self._mxObject.set(self._assoc,_102f);self.renderObject();self.onChange();}_102c();});}});},_onKeyPress:function(e){if(e.keyCode==_100d.DELETE){if(this.get("disabled")||(e.ctrlKey&&e.shiftKey)){return;}_100c.stop(e);if(!this.get("value")){return;}var self=this;window.mx.ui.confirmation({content:this.translate("clean_confirmation"),handler:function(){self._mxObject.set(self._assoc,"");}});}}};return _1010;});},"mxui/widget/InputReferenceSetSelector":function(){define(["mxui/widget/Button","mxui/widget/_LabeledWidget","mxui/mixin/_ValidationHelper","mxui/dom","mendix/lang","dojo/dom-construct","dojo/_base/lang","dojo/_base/declare"],function(_1030,_1031,_1032,_1033,lang,_1034,_1035,_1036){var _1037=_1036([_1031,_1032],{declaredClass:"mxui.widget.InputReferenceSetSelector",attributePath:"",datasource:null,selectPageSettings:null,events:null,_mxObject:null,_readNode:null,_editNode:null,_selectButton:null,_assoc:"",_entity:"",_attr:"",_constraint:"",postCreate:function(){var path=this.attributePath.split("/");this._assoc=path[1];this._entity=path[2];this._attr=path[3];},buildRendering:function(){var $=_1033.create;this._readNode=this.insideFormGroup?$("p",{"class":"form-control-static"}):$("label");this._readNode.innerHTML="&nbsp;";this._editNode=$("input",{type:"text",readonly:"readonly","class":"form-control"});var _1038=this._selectButton=new _1030({"class":"mx-referencesetselector-select-button",iconClass:"glyphicon-share-alt"});this.connect(_1038,"onClick","openSelectForm");this.connect(this._editNode,"click","openSelectForm");this.domNode=$("div",{"class":"mx-referencesetselector"},_1038.domNode,$("div",{"class":"mx-referencesetselector-input-wrapper"},this._editNode));},startup:function(){this.inherited(arguments);this.setupValidation(this._assoc);},onChange:function(){var ev=this.events&&this.events.change;ev&&this.validatedMicroflow(ev);},enable:function(){_1034.place(this._selectButton.domNode,this.domNode,"first");this._readNode.parentNode.replaceChild(this._editNode,this._readNode);},disable:function(){this.domNode.removeChild(this._selectButton.domNode);this._editNode.parentNode.replaceChild(this._readNode,this._editNode);},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._assoc));},update:function(obj,_1039){this._mxObject=obj;this.unsubscribeAll();this.setValidationObject(obj);var _103a=function(_103b){this.updateDisabled();this.renderObject(_103b);};if(obj){this._constraint=(this.datasource.constraint||"").replace("[%CurrentObject%]",obj.getGuid());this.subscribe({guid:obj.getGuid(),callback:_1035.partial(_103a,null)});this.subscribe({guid:obj.getGuid(),attr:this._assoc,callback:_1035.partial(_103a,null)});}_103a.call(this,_1039);},renderObject:function(_103c){var self=this,obj=this._mxObject,refs=obj&&obj.get2(this._assoc);var _103d=function(val){self.setValue(val||"");_103c&&_103c();};if(refs&&refs.length){window.mx.data.get({guids:refs,callback:function(objs){var _103e=[];for(var i=0,obj;obj=objs[i];i++){_103e.push(window.mx.parser.formatAttribute(obj,this._attr));}_103d(_103e.join(", "));},error:function(e){window.mx.onError(e);_103c&&_103c();}},this);}else{_103d();}},openSelectForm:function(){var self=this;window.mx.data.getBacktrack(this._mxObject.getGuid(),this.datasource.constrainedBy,function(_103f,_1040){window.mx.ui.execute({type:"openPage",params:self.selectPageSettings},{origin:self.mxform,targetParams:{selection:self._mxObject.getReferences(self._assoc),listViewSelectionMode:"multi",dataSourceMixin:{constraint:_1040?_103f+self._constraint:"[0=1]"}},callback:function(form){form.listen("commit",function(_1041){var _1042=lang.find(form.getChildren(true),function(_1043){return "getSelected" in _1043;}),_1044=_1042.getSelected();self._mxObject.set(self._assoc,_1044);self.renderObject();self.onChange();_1041();});}});});},setValue:function(value){this._editNode.value=value;if(value){_1033.text(this._readNode,value);}else{this._readNode.innerHTML="&nbsp;";}}});return _1037;});},"mxui/widget/FileInput":function(){define(["mxui/widget/Button","mxui/widget/_LabeledWidget","mxui/mixin/_ValidationHelper","mxui/dom","mendix/lang","mendix/lib/ConnectionError","mendix/lib/Upload","mendix/logger","dijit/focus","dojo/sniff","dojo/dom-class","dojo/keys","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang"],function(_1045,_1046,_1047,_1048,_1049,_104a,_104b,_104c,_104d,_104e,_104f,_1050,_1051,_1052,_1053,_1054){var _1055="...";var _1056=_1052([_1046,_1047],{declaredClass:"mxui.widget.FileInput",input:null,maxFileSize:0,restrictions:"",accept:"",uploadable:false,downloadable:false,target:"internal",_allowedExts:null,_labelNode:null,_uploadButton:null,_formNode:null,_selectState:"none",buildRendering:function(){var $=_1048.create,_1057=!_104e("mobile");if(_1057){this._sendFile=this._sendFileReal;}this.domNode=$("div",{"class":"mx-fileinput"});if(this.uploadable){if(_1057){var _1058=this._uploadButton=new _1045({caption:window.mx.ui.translate("mxui.widget.MxFormView","upload"),cssClasses:["mx-fileinput-upload-button"]});this.domNode.appendChild($("#",this._labelNode=$("input",{"class":"form-control mx-wrapped-label",type:"text",readonly:"readonly",value:_1055})," ",this._formNode=$("form",{"class":"mx-wrapped-form",enctype:"multipart/form-data",method:"POST"},this.input=$("input",{"class":"mx-wrapped-input",type:"file",name:"mxdocument",accept:this.accept,tabindex:-1}),_1058.domNode)));this.connect(this._uploadButton.domNode,"focus",function(){_104f.add(this._labelNode,"mx-focus");});this.connect(this._uploadButton.domNode,"blur",function(){_104f.remove(this._labelNode,"mx-focus");});this.connect(this._labelNode,"click",function(){_104d.focus(this._uploadButton.domNode);});this.connect(this._formNode,"keyup",function(e){if(e.keyCode==_1050.DELETE||e.keycode==_1050.BACKSPACE){this._reset();_1053.stop(e);}});}else{this.domNode.appendChild(this._formNode=$("form",{"class":"mx-normal-form",enctype:"multipart/form-data",method:"POST"},this.input=$("input",{type:"file",name:"mxdocument",accept:this.accept})));}this.connect(this._formNode,"submit",function(){return false;});this.connect(this.input,"click",function(){this._selectState="selecting";});this.connect(this.input,"change","_handleFileSelected");}if(this.downloadable){var _1059=this._downloadButton=new _1045({caption:window.mx.ui.translate("mxui.widget.MxFormView","download"),onClick:_1054.hitch(this,"_handleDownloadClick"),cssClasses:["mx-fileinput-download-button"]});this.domNode.appendChild($("#"," ",_1059.domNode));}},postCreate:function(){this._allowedExts=this.restrictions.toLowerCase().split(";");this.listen("submit",this._sendFile);},update:function(obj,_105a){this._mxObject=obj;this._reset();this.updateDisabled();this._updateDownloadDisabled();_105a&&_105a();},_updateDownloadDisabled:function(){if(this._downloadButton){this._downloadButton.set("disabled",!this._mxObject||!this._mxObject.get2("HasContents"));}},checkDisabled:function(){return this.inherited(arguments)||!this._mxObject;},_setDisabledState:function(_105b){if(this.uploadable){if(this._uploadButton){this._uploadButton.set("disabled",_105b);}if(_105b){this.input.setAttribute("disabled","disabled");}else{this.input.removeAttribute("disabled");}}},enable:function(){this._setDisabledState(false);},disable:function(){this._setDisabledState(true);},validate:function(){if(!this.input||!this.input.value){return null;}if(this.restrictions!==""){var _105c=this.input.value;var _105d=_105c.lastIndexOf(".");var _105e=_105c.substring(_105d+1).toLowerCase();if(_105d==-1||_1051.indexOf(this._allowedExts,_105e)==-1){return window.mx.ui.translate("mendix.widget.MxFileinput","incorrect_extension",this.restrictions.replace(/;/g,", "));}}if(this.maxFileSize&&this.input.files){var _105f=this.input.files[0].size/1048576;if(_105f>this.maxFileSize){return window.mx.ui.translate("mendix.widget.MxFileinput","file_too_large",[_105f.toFixed(2),this.maxFileSize.toString()]);}}return null;},uninitialize:function(){this._uploadButton&&this._uploadButton.destroy();this._downloadButton&&this._downloadButton.destroy();},_handleDownloadClick:function(e){this._downloadFile();_1053.stop(e);},_handleFileSelected:function(e){this._selectState="selected";this.isValid();if(this._labelNode){this._labelNode.value=this.input.value?this.input.value.replace(/^.*\//,""):_1055;}},_reset:function(){this.removeError();if(this._formNode){this.input.value="";this._formNode.reset();}if(this._labelNode){this._labelNode.value=_1055;}},_sendFile:function(_1060,error){var self=this,ready=function(){return self._selectState!=="selecting";};var pid=window.mx.ui.showProgress();_1049.waitUntilPredicateHolds(ready,function(){window.mx.ui.hideProgress(pid);self._sendFileReal(_1060,error);},[100,200,500,500,500,500]);},_sendFileReal:function(_1061,error){if(this._selectState==="none"||this.input.value===""||this.validate()!=null){_1061();return;}var self=this,pid;var _1062=new _104b({form:this._formNode,width:this.thumbnailWidth,height:this.thumbnailHeight,objectGuid:this._mxObject.getGuid(),maxFileSize:this.maxFileSize,callback:function(){self._selectState="none";if(_1061){_1061();}},error:function(e){self._selectState="selected";if(error){error(e);}},startUpload:function(){pid=window.mx.ui.showProgress();},finishUpload:function(){window.mx.ui.hideProgress(pid);}});_1062.upload();},_downloadFile:function(){if(this._mxObject){window.mx.ui.downloadFile({mxobject:this._mxObject,target:this.target});}}});return _1056;});},"mxui/widget/ImageUploader":function(){define(["mxui/widget/FileInput","dojo/_base/declare"],function(_1063,_1064){var _1065=_1064([_1063],{declaredClass:"mxui.widget.ImageUploader",thumbnailWidth:100,thumbnailHeight:75,uploadable:true,accept:"image/*"});return _1065;});},"mxui/widget/SelectBox":function(){define(["mxui/widget/_WidgetBase","mxui/wm/focus","mxui/dom","dojo/dom-construct","dojo/dom-geometry","dojo/dom-class","dojo/dom-style","dojo/on","dojo/window","dojo/keys","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_1066,focus,dom,_1067,_1068,_1069,_106a,_106b,_106c,_106d,_106e,_106f,_1070){var $=dom.create;var _1071=_1070(_1066,{declaredClass:"mxui.widget.SelectBox",items:null,_dropDown:null,_isVisible:false,_docMouseDown:null,_focusBox:null,_textNode:null,buildRendering:function(){this._textNode=document.createTextNode("");this.domNode=$("button",{"type":"button","class":"form-control mx-selectbox"},$("div",{"class":"mx-selectbox-caret-wrapper"},$("span",{"class":"caret"})),this._textNode);this.connect(this.domNode,"keydown","_buttonKeyDown");this.connect(this.domNode,"mouseup","_toggleDropDown");this.connect(this.mxform,"onBeforeHide","_hideDropDown");this._createDropDown();},_buttonKeyDown:function(e){if(e.keyCode===_106d.DOWN_ARROW){this._showDropDown();e.preventDefault();}},_toggleDropDown:function(){if(this._isVisible){this._hideDropDown();}else{this._showDropDown();}},_showDropDown:function(){if(this._isVisible){return;}this._isVisible=true;var box=_1068.position(this.domNode),style={top:box.y+box.h+"px"};if(window.mx.ui.isRtl()){style.right=_106c.getBox().w-box.x-box.w+"px";}else{style.left=box.x+"px";}_106a.set(this._dropDown,style);document.body.appendChild(this._dropDown);this._docMouseDown=this.connect(document,"mousedown",function(e){if(e.target!=this.domNode){this._hideDropDown();}});focus.put(this._dropDown.firstChild);},_hideDropDown:function(){if(!this._isVisible){return;}this._isVisible=false;this._docMouseDown.remove();dom.orphan(this._dropDown);},_createDropDown:function(){var list=$("ul",{"class":"mx-dropdown dropdown-menu"}),self=this;this.own(_106b(list,_106b.selector("li","click"),function(e){self._selectItem(this);}));this.connect(list,"mousedown",function(e){e.stopPropagation();});this._dropDown=list;list.style.display="block";},_selectItem:function(node){var item=this.items[dom.data(node,"index")];item.checkbox.checked=item.selected=!item.selected;_1069.toggle(node,"selected");focus.put(node);this._updateCaption();},_setItemsAttr:function(items){this.items=items;_1067.empty(this._dropDown);if(this._focusBox){this._focusBox.destroy();}this._focusBox=focus.addBox(this._dropDown);this._focusBox.pressed({DOWN_ARROW:this._focusBox.FOCUS_NEXT,UP_ARROW:this._focusBox.FOCUS_PREV,ESCAPE:_106f.hitch(this,function(e){this._hideDropDown();focus.put(this.domNode);}),SPACE:_106f.hitch(this,function(e){if(e.target.nodeName!="INPUT"){this._selectItem(e.target);}}),ENTER:_106f.hitch(this,function(e){this._hideDropDown();focus.put(this.domNode);})});_106e.forEach(this.items,function(item,index){var _1072=item.checkbox=$("input",{type:"checkbox"}),_1073=$("li",{tabIndex:-1},_1072," ",$("label",item.caption));if(item.selected){_1072.checked=true;_1069.add(_1073,"selected");}dom.data(_1073,"index",index);this._focusBox.add(_1073);this._dropDown.appendChild(_1073);},this);this._updateCaption();},_getValueAttr:function(){var _1074=[];_106e.forEach(this.items,function(item){if(item.checkbox.checked){_1074.push(item.value);}});return _1074;},_setValueAttr:function(_1075){if(typeof _1075=="string"){_1075=[_1075];}_106e.forEach(this.items,function(item){item.checkbox.checked=item.selected=_106e.indexOf(_1075,item.value)>=0;});this._updateCaption();},_updateCaption:function(){var _1076=[],_1077;_106e.forEach(this.items,function(item){if(item.checkbox.checked){_1076.push(item.caption);}});if(_1076.length===0){_1077="";}else{if(_1076.length===1){_1077=_1076[0];}else{_1077=this.translate("itemsSelected",[_1076.length]);}}this._textNode.nodeValue=_1077;},uninitialize:function(){this._hideDropDown();_106e.forEach(this._dropDown.children,function(child){dom.data(child,null);});if(this._focusBox){this._focusBox.destroy();}}});return _1071;});},"mxui/widget/DynamicText":function(){define(["mxui/dom","mxui/lib/TextTemplate","mxui/widget/_WidgetBase","dojo/_base/declare"],function(dom,_1078,_1079,_107a){var _107b=_107a(_1079,{declaredClass:"mxui.widget.DynamicText",content:null,_contentText:null,postCreate:function(){var self=this;this._contentText=new _1078(this.content,function(text){dom.html(self.domNode,text?dom.convertNlToBr(dom.escapeString(text)):"");});},update:function(obj,_107c){this._contentText.update(obj,_107c);},uninitialize:function(){this._contentText.destroy();}});return _107b;});},"mxui/widget/ReactWidgetWrapper":function(){define(["mxui/widget/_WidgetBase","dojo/_base/lang","dojo/_base/declare"],function(_107d,_107e,_107f){var _1080=_107f(_107d,{type:null,props:null,autoLoad:false,_reactClient:null,constructor:function(){var self=this,_1081="react-client/shims",_1082="react-client/index";require([_1081],function(){require([_1082],function(_1083){self._reactClient=_1083;self.set("loaded",true);});});},update:function(_1084,done){this._reactClient.mountComponent(this.domNode,this.type,_107e.mixin({},this.props,{id:this.uniqueid+"_"+this.props.mxid}));if(done){done();}},uninitialize:function(){this._reactClient.unmountComponent(this.domNode);}});return _1080;});},"mxui/widget/PrimitiveWidgetWrapper":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_ValidationHelper","mxui/dom","mendix/logger","dojo/dom-class","dojo/_base/declare"],function(_1085,_1086,dom,_1087,_1088,_1089){var $=dom.create;var _108a=_1089([_1085,_1086],{declaredClass:"mxui.widget.PrimitiveWidgetWrapper",widget:null,_mxobject:null,buildRendering:function(){this.domNode=$("div");this.widget.domNode.parentNode.replaceChild(this.domNode,this.widget.domNode);this.domNode.appendChild(this.widget.domNode);this.connect(this.widget,"onChange",this.onChange);},startup:function(){this.widget.startup();},update:function(obj,_108b){var self=this;this.unsubscribeAll();this._mxobject=obj;if(this.widget.name){if(obj){this.subscribe({guid:obj.getGuid(),callback:function(){this.update(obj);}});window.mx.data.fetch(obj,this.widget.name,{usexpath:true},_108c,function(e){window.mx.onError(e);if(_108b){_108b();}});}else{_108c("");}}else{_1087.error(this.id+".update: wrapped widget does not have name property");_108d();}function _108c(value){self.widget.set("value",value);_108d();};function _108d(){self.widget.applyContext(self.mxcontext,_108b||function(){});};},enable:function(){var node=this.widget.domNode,_108e=node.nodeName;if(_108e=="SELECT"||(_108e=="INPUT"&&node.type=="checkbox")){node.disabled=false;}else{if(_108e=="INPUT"||_108e=="TEXTAREA"||_108e=="BUTTON"){node.removeAttribute("readonly");node.readOnly=false;}}_1088.remove(node,"MxClient_formDisabled");},disable:function(){var node=this.widget.domNode,_108f=node.nodeName;if(_108f=="SELECT"||(_108f=="INPUT"&&node.type=="checkbox")){node.disabled=true;}else{if(_108f=="INPUT"||_108f=="TEXTAREA"||_108f=="BUTTON"){node.setAttribute("readonly","true");node.readOnly=true;}}_1088.add(node,"MxClient_formDisabled");},onChange:function(){this._mxobject.set(this.widget.get("name"),this.widget.get("value"));},validate:function(){var value=this.get("value"),_1090=this.widget;if(value===null){return _1090.getInvalidCause?_1090.getInvalidCause():"Invalid input";}if(value===""&&_1090.obligatory){return _1090.obligatorycause||window.mx.ui.translate("mendix.lib.Validations","required_field");}},_setValueAttr:function(value){return this.widget.set("value",value);},_getValueAttr:function(){return this.widget.get("value");}});return _108a;});},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_1091,lang,_1092,_1093,_1094,_1095,html,_1096,array,_1097,_1098,dom,_1099,_109a,xhr,i18n,when){return _1097("dijit.layout.ContentPane",[_1092,_1093,_1094],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_1091._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_109b,node,ctor){var self=new ctor(_109b,node);return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){return self;}):self;},create:function(_109c,_109d){if((!_109c||!_109c.template)&&_109d&&!("href" in _109c)&&!("content" in _109c)){_109d=dom.byId(_109d);var df=_109d.ownerDocument.createDocumentFragment();while(_109d.firstChild){df.appendChild(_109d.firstChild);}_109c=lang.delegate(_109c,{content:df});}this.inherited(arguments,[_109c,_109d]);},postMixInProperties:function(){this.inherited(arguments);var _109e=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_1095.substitute(this.loadingMessage,_109e);this.errorMessage=_1095.substitute(this.errorMessage,_109e);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){array.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){array.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){array.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_1091.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _1098(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_1091.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _1098(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_109f){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _1098(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _10a0={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_10a0,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_10a0)),_10a1;hand.then(function(html){_10a1=html;try{self._isDownloaded=true;return self._setContent(html,false);}catch(err){self._onError("Content",err);}},function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;}).then(function(){self.onDownloadEnd();delete self._xhrDfd;return _10a1;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_10a2){if(this.isLoaded){this._onUnloadHandler();}var _10a3=this._contentSetter;array.forEach(this.getChildren(),function(_10a4){if(_10a4.destroyRecursive){_10a4.destroyRecursive(_10a2);}else{if(_10a4.destroy){_10a4.destroy(_10a2);}}_10a4._destroyed=true;});if(_10a3){array.forEach(_10a3.parseResults,function(_10a5){if(!_10a5._destroyed){if(_10a5.destroyRecursive){_10a5.destroyRecursive(_10a2);}else{if(_10a5.destroy){_10a5.destroy(_10a2);}}_10a5._destroyed=true;}});delete _10a3.parseResults;}if(!_10a2){_109a.empty(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_10a6){this.destroyDescendants();var _10a7=this._contentSetter;if(!(_10a7&&_10a7 instanceof html._ContentSetter)){_10a7=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _10a8=this.onContentError(e);try{this.containerNode.innerHTML=_10a8;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _10a9=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_10a7.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_10a9);var self=this;return when(p&&p.then?p:_10a7.parseDeferred,function(){delete self._contentSetterParams;if(!_10a6){if(self._started){self._startChildren();self._scheduleLayout();}self._onLoadHandler(cont);}});},_onError:function(type,err,_10aa){this.onLoadDeferred.reject(err);var _10ab=this["on"+type+"Error"].call(this,err);if(_10aa){console.error(_10aa,err);}else{if(_10ab){this._setContent(_10ab,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dijit/layout/_ContentPaneResizeMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","../registry","../Viewport","./utils"],function(array,_10ac,_10ad,_10ae,_10af,lang,query,_10b0,_10b1,_10b2){return _10ac("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _10b3=this.getParent();this._childOfLayoutWidget=_10b3&&_10b3.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_10b1.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){if(!this.doLayout){return;}var _10b4=[],_10b5=false;query("> *",this.containerNode).some(function(node){var _10b6=_10b0.byNode(node);if(_10b6&&_10b6.resize){_10b4.push(_10b6);}else{if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){_10b5=true;}}});this._singleChild=_10b4.length==1&&!_10b5?_10b4[0]:null;_10ad.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_10b7,_10b8){this._resizeCalled=true;this._scheduleLayout(_10b7,_10b8);},_scheduleLayout:function(_10b9,_10ba){if(this._isShown()){this._layout(_10b9,_10ba);}else{this._needLayout=true;this._changeSize=_10b9;this._resultSize=_10ba;}},_layout:function(_10bb,_10bc){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_10bb){_10ae.setMarginBox(this.domNode,_10bb);}var cn=this.containerNode;if(cn===this.domNode){var mb=_10bc||{};lang.mixin(mb,_10bb||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_10ae.getMarginBox(cn),mb);}this._contentBox=_10b2.marginBox2contentBox(cn,mb);}else{this._contentBox=_10ae.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_10ae.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{var _10bd=this.getChildren(),_10be,i=0;while(_10be=_10bd[i++]){if(_10be.resize){_10be.resize();}}}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_10bf=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_10ad.contains(node,"dijitHidden")&&_10bf&&_10bf.style&&(_10bf.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_10c0,lang,_10c1,_10c2,dom,_10c3,_10c4){var _10c5=0;var html={_secureForInnerHtml:function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");},_emptyNode:_10c3.empty,_setNodeContent:function(node,cont){_10c3.empty(node);if(cont){if(typeof cont=="string"){cont=_10c3.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _10c6=cont.length,i=0;i<cont.length;i=_10c6==cont.length?i+1:0){_10c3.place(cont[i],node,"last");}}else{_10c3.place(cont,node,"last");}}return node;},_ContentSetter:_10c2("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_10c0._scopeName,startup:true,constructor:function(_10c7,node){lang.mixin(this,_10c7||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_10c5++].join("_");}},set:function(cont,_10c8){if(undefined!==cont){this.content=cont;}if(_10c8){this._mixin(_10c8);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _10c9=this.onContentError(e);try{node.innerHTML=_10c9;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_10c1.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_10c3.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var match=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(match){cont=match[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_10ca){var empty={},key;for(key in _10ca){if(key in empty){continue;}this[key]=_10ca[key];}},_parse:function(){var _10cb=this.node;try{var _10cc={};_10c1.forEach(["dir","lang","textDir"],function(name){if(this[name]){_10cc[name]=this[name];}},this);var self=this;this.parseDeferred=_10c4.parse({rootNode:_10cb,noStart:!this.startup,inherited:_10cc,scope:this.parserScope}).then(function(_10cd){return self.parseResults=_10cd;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_10ce){var _10cf=this["on"+type+"Error"].call(this,err);if(_10ce){console.error(_10ce,err);}else{if(_10cf){html._setNodeContent(this.node,_10cf,true);}}}}),set:function(node,cont,_10d0){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_10d0){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_10d0,{content:cont,node:node}));return op.set();}}};lang.setObject("dojo.html",html);return html;});},"dojo/parser":function(){define(["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_10d1,dojo,dlang,_10d2,_10d3,dom,_10d4,_10d5,_10d6,all,dates,_10d7,has,query,don,ready){new Date("X");function _10d8(text){return eval("("+text+")");};var _10d9=0;_10d6.after(dlang,"extend",function(){_10d9++;},true);function _10da(ctor){var map=ctor._nameCaseMap,proto=ctor.prototype;if(!map||map._extendCnt<_10d9){map=ctor._nameCaseMap={};for(var name in proto){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_10d9;}return map;};var _10db={};function _10dc(types,_10dd){var ts=types.join();if(!_10db[ts]){var _10de=[];for(var i=0,l=types.length;i<l;i++){var t=types[i];_10de[_10de.length]=(_10db[t]=_10db[t]||(dlang.getObject(t)||(~t.indexOf("/")&&(_10dd?_10dd(t):_10d1(t)))));}var ctor=_10de.shift();_10db[ts]=_10de.length?(ctor.createSubclass?ctor.createSubclass(_10de):ctor.extend.apply(ctor,_10de)):ctor;}return _10db[ts];};var _10df={_clearCache:function(){_10d9++;_10db={};},_functionFromScript:function(_10e0,_10e1){var _10e2="",_10e3="",_10e4=(_10e0.getAttribute(_10e1+"args")||_10e0.getAttribute("args")),_10e5=_10e0.getAttribute("with");var _10e6=(_10e4||"").split(/\s*,\s*/);if(_10e5&&_10e5.length){_10d2.forEach(_10e5.split(/\s*,\s*/),function(part){_10e2+="with("+part+"){";_10e3+="}";});}return new Function(_10e6,_10e2+_10e0.innerHTML+_10e3);},instantiate:function(nodes,mixin,_10e7){mixin=mixin||{};_10e7=_10e7||{};var _10e8=(_10e7.scope||dojo._scopeName)+"Type",_10e9="data-"+(_10e7.scope||dojo._scopeName)+"-",_10ea=_10e9+"type",_10eb=_10e9+"mixins";var list=[];_10d2.forEach(nodes,function(node){var type=_10e8 in mixin?mixin[_10e8]:node.getAttribute(_10ea)||node.getAttribute(_10e8);if(type){var _10ec=node.getAttribute(_10eb),types=_10ec?[type].concat(_10ec.split(/\s*,\s*/)):[type];list.push({node:node,types:types});}});return this._instantiate(list,mixin,_10e7);},_instantiate:function(nodes,mixin,_10ed,_10ee){var _10ef=_10d2.map(nodes,function(obj){var ctor=obj.ctor||_10dc(obj.types,_10ed.contextRequire);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,mixin,_10ed,obj.scripts,obj.inherited);},this);function _10f0(_10f1){if(!mixin._started&&!_10ed.noStart){_10d2.forEach(_10f1,function(_10f2){if(typeof _10f2.startup==="function"&&!_10f2._started){_10f2.startup();}});}return _10f1;};if(_10ee){return all(_10ef).then(_10f0);}else{return _10f0(_10ef);}},construct:function(ctor,node,mixin,_10f3,_10f4,_10f5){var proto=ctor&&ctor.prototype;_10f3=_10f3||{};var _10f6={};if(_10f3.defaults){dlang.mixin(_10f6,_10f3.defaults);}if(_10f5){dlang.mixin(_10f6,_10f5);}var _10f7;if(has("dom-attributes-explicit")){_10f7=node.attributes;}else{if(has("dom-attributes-specified-flag")){_10f7=_10d2.filter(node.attributes,function(a){return a.specified;});}else{var clone=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),attrs=clone.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_10f7=_10d2.map(attrs.split(/\s+/),function(name){var _10f8=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_10f8=="enctype"?node.getAttribute(_10f8):node.getAttributeNode(_10f8).value};});}}var scope=_10f3.scope||dojo._scopeName,_10f9="data-"+scope+"-",hash={};if(scope!=="dojo"){hash[_10f9+"props"]="data-dojo-props";hash[_10f9+"type"]="data-dojo-type";hash[_10f9+"mixins"]="data-dojo-mixins";hash[scope+"type"]="dojoType";hash[_10f9+"id"]="data-dojo-id";}var i=0,item,_10fa=[],_10fb,extra;while(item=_10f7[i++]){var name=item.name,_10fc=name.toLowerCase(),value=item.value;switch(hash[_10fc]||_10fc){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":extra=value;break;case "data-dojo-id":case "jsid":_10fb=value;break;case "data-dojo-attach-point":case "dojoattachpoint":_10f6.dojoAttachPoint=value;break;case "data-dojo-attach-event":case "dojoattachevent":_10f6.dojoAttachEvent=value;break;case "class":_10f6["class"]=node.className;break;case "style":_10f6["style"]=node.style&&node.style.cssText;break;default:if(!(name in proto)){var map=_10da(ctor);name=map[_10fc]||name;}if(name in proto){switch(typeof proto[name]){case "string":_10f6[name]=value;break;case "number":_10f6[name]=value.length?Number(value):NaN;break;case "boolean":_10f6[name]=value.toLowerCase()!="false";break;case "function":if(value===""||value.search(/[^\w\.]+/i)!=-1){_10f6[name]=new Function(value);}else{_10f6[name]=dlang.getObject(value,false)||new Function(value);}_10fa.push(name);break;default:var pVal=proto[name];_10f6[name]=(pVal&&"length" in pVal)?(value?value.split(/\s*,\s*/):[]):(pVal instanceof Date)?(value==""?new Date(""):value=="now"?new Date():dates.fromISOString(value)):(pVal instanceof _10d5)?(dojo.baseUrl+value):_10d8(value);}}else{_10f6[name]=value;}}}for(var j=0;j<_10fa.length;j++){var _10fd=_10fa[j].toLowerCase();node.removeAttribute(_10fd);node[_10fd]=null;}if(extra){try{extra=_10d8.call(_10f3.propsThis,"{"+extra+"}");dlang.mixin(_10f6,extra);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+extra+"'");}}dlang.mixin(_10f6,mixin);if(!_10f4){_10f4=(ctor&&(ctor._noScript||proto._noScript)?[]:query("> script[type^='dojo/']",node));}var _10fe=[],calls=[],_10ff=[],ons=[];if(_10f4){for(i=0;i<_10f4.length;i++){var _1100=_10f4[i];node.removeChild(_1100);var event=(_1100.getAttribute(_10f9+"event")||_1100.getAttribute("event")),prop=_1100.getAttribute(_10f9+"prop"),_1101=_1100.getAttribute(_10f9+"method"),_1102=_1100.getAttribute(_10f9+"advice"),_1103=_1100.getAttribute("type"),nf=this._functionFromScript(_1100,_10f9);if(event){if(_1103=="dojo/connect"){_10fe.push({method:event,func:nf});}else{if(_1103=="dojo/on"){ons.push({event:event,func:nf});}else{_10f6[event]=nf;}}}else{if(_1103=="dojo/aspect"){_10fe.push({method:_1101,advice:_1102,func:nf});}else{if(_1103=="dojo/watch"){_10ff.push({prop:prop,func:nf});}else{calls.push(nf);}}}}}var _1104=ctor.markupFactory||proto.markupFactory;var _1105=_1104?_1104(_10f6,node,ctor):new ctor(_10f6,node);function _1106(_1107){if(_10fb){dlang.setObject(_10fb,_1107);}for(i=0;i<_10fe.length;i++){_10d6[_10fe[i].advice||"after"](_1107,_10fe[i].method,dlang.hitch(_1107,_10fe[i].func),true);}for(i=0;i<calls.length;i++){calls[i].call(_1107);}for(i=0;i<_10ff.length;i++){_1107.watch(_10ff[i].prop,_10ff[i].func);}for(i=0;i<ons.length;i++){don(_1107,ons[i].event,ons[i].func);}return _1107;};if(_1105.then){return _1105.then(_1106);}else{return _1106(_1105);}},scan:function(root,_1108){var list=[],mids=[],_1109={};var _110a=(_1108.scope||dojo._scopeName)+"Type",_110b="data-"+(_1108.scope||dojo._scopeName)+"-",_110c=_110b+"type",_110d=_110b+"textdir",_110e=_110b+"mixins";var node=root.firstChild;var _110f=_1108.inherited;if(!_110f){function _1110(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_1110(node.parentNode,attr));};_110f={dir:_1110(root,"dir"),lang:_1110(root,"lang"),textDir:_1110(root,_110d)};for(var key in _110f){if(!_110f[key]){delete _110f[key];}}}var _1111={inherited:_110f};var _1112;var _1113;function _1114(_1115){if(!_1115.inherited){_1115.inherited={};var node=_1115.node,_1116=_1114(_1115.parent);var _1117={dir:node.getAttribute("dir")||_1116.dir,lang:node.getAttribute("lang")||_1116.lang,textDir:node.getAttribute(_110d)||_1116.textDir};for(var key in _1117){if(_1117[key]){_1115.inherited[key]=_1117[key];}}}return _1115.inherited;};while(true){if(!node){if(!_1111||!_1111.node){break;}node=_1111.node.nextSibling;_1113=false;_1111=_1111.parent;_1112=_1111.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_1112&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_1112.push(node);}node=node.nextSibling;continue;}if(_1113){node=node.nextSibling;continue;}var type=node.getAttribute(_110c)||node.getAttribute(_110a);var _1118=node.firstChild;if(!type&&(!_1118||(_1118.nodeType==3&&!_1118.nextSibling))){node=node.nextSibling;continue;}var _1119;var ctor=null;if(type){var _111a=node.getAttribute(_110e),types=_111a?[type].concat(_111a.split(/\s*,\s*/)):[type];try{ctor=_10dc(types,_1108.contextRequire);}catch(e){}if(!ctor){_10d2.forEach(types,function(t){if(~t.indexOf("/")&&!_1109[t]){_1109[t]=true;mids[mids.length]=t;}});}var _111b=ctor&&!ctor.prototype._noScript?[]:null;_1119={types:types,ctor:ctor,parent:_1111,node:node,scripts:_111b};_1119.inherited=_1114(_1119);list.push(_1119);}else{_1119={node:node,scripts:_1112,parent:_1111};}_1112=_111b;_1113=node.stopParser||(ctor&&ctor.prototype.stopParser&&!(_1108.template));_1111=_1119;node=_1118;}var d=new _10d7();if(mids.length){if(has("dojo-debug-messages")){console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));}var r=_1108.contextRequire||_10d1;r(mids,function(){d.resolve(_10d2.filter(list,function(_111c){if(!_111c.ctor){try{_111c.ctor=_10dc(_111c.types,_1108.contextRequire);}catch(e){}}var _111d=_111c.parent;while(_111d&&!_111d.types){_111d=_111d.parent;}var proto=_111c.ctor&&_111c.ctor.prototype;_111c.instantiateChildren=!(proto&&proto.stopParser&&!(_1108.template));_111c.instantiate=!_111d||(_111d.instantiate&&_111d.instantiateChildren);return _111c.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_111e,_111f){var hash=_10d8("{"+_111e.innerHTML+"}"),vars=[],mids=[],d=new _10d7();var _1120=(_111f&&_111f.contextRequire)||_10d1;for(var name in hash){vars.push(name);mids.push(hash[name]);}_1120(mids,function(){for(var i=0;i<vars.length;i++){dlang.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root,_1121){var _1122=new _10d7(),_1123=_1122.promise;_1122.resolve(true);var self=this;query("script[type='dojo/require']",root).forEach(function(node){_1123=_1123.then(function(){return self._require(node,_1121);});node.parentNode.removeChild(node);});return _1123;},parse:function(_1124,_1125){var root;if(!_1125&&_1124&&_1124.rootNode){_1125=_1124;root=_1125.rootNode;}else{if(_1124&&dlang.isObject(_1124)&&!("nodeType" in _1124)){_1125=_1124;}else{root=_1124;}}root=root?dom.byId(root):_10d4.body();_1125=_1125||{};var mixin=_1125.template?{template:true}:{},_1126=[],self=this;var p=this._scanAmd(root,_1125).then(function(){return self.scan(root,_1125);}).then(function(_1127){return self._instantiate(_1127,mixin,_1125,true);}).then(function(_1128){return _1126=_1126.concat(_1128);}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});dlang.mixin(_1126,p);return _1126;}};if(1){dojo.parser=_10df;}if(_10d3.parseOnLoad){ready(100,_10df,"parse");}return _10df;});},"dojo/_base/url":function(){define(["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_1129=function(){var n=null,_112a=arguments,uri=[_112a[0]];for(var i=1;i<_112a.length;i++){if(!_112a[i]){continue;}var _112b=new _1129(_112a[i]+""),_112c=new _1129(uri[0]+"");if(_112b.path==""&&!_112b.scheme&&!_112b.authority&&!_112b.query){if(_112b.fragment!=n){_112c.fragment=_112b.fragment;}_112b=_112c;}else{if(!_112b.scheme){_112b.scheme=_112c.scheme;if(!_112b.authority){_112b.authority=_112c.authority;if(_112b.path.charAt(0)!="/"){var path=_112c.path.substring(0,_112c.path.lastIndexOf("/")+1)+_112b.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_112b.path=segs.join("/");}}}}uri=[];if(_112b.scheme){uri.push(_112b.scheme,":");}if(_112b.authority){uri.push("//",_112b.authority);}uri.push(_112b.path);if(_112b.query){uri.push("?",_112b.query);}if(_112b.fragment){uri.push("#",_112b.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_1129.prototype.toString=function(){return this.uri;};return dojo._Url=_1129;});},"dijit/nls/loading":function(){define({root:({loadingState:"Loading...",errorState:"Sorry, an error occurred"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"id":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});},"dijit/nls/nl/loading":function(){define(({loadingState:"Bezig met laden...",errorState:"Er is een fout opgetreden"}));},"mxui/startup":function(){define(["mxui/Client","dojo/aspect","dojo/cookie","dojo/_base/config"],function(_112d,_112e,_112f,_1130){var _1131=_1130.appbase||_1132(),_1133=_1134(),_1135=_1130.remotebase||_1131,_1136=_1130.xasbase||_1135+"xas/",_1137=_1130.apppath||_1138(_1131),_1139=_1130.homeurl||_113a();window.mx=new _112d({appUrl:_1131,homeUrl:_1133,remoteUrl:_1135,baseUrl:_1136,modulePath:"../../widgets/",appPath:_1137,referrer:_1139,offline:_1130.offline||false,timeout:_1130.timeout,data:_1130.data,ui:_1130.ui,session:_1130.session,store:_1130.store,disableFastReload:"cordova" in window,afterLoginAction:_1130.afterLoginFn});if(!("cacheBust" in _1130)){window.alert("The 'cacheBust' parameter is missing. Update the index page in the theme by adding the cachebust to the 'dojoConfig' and to every url pointing to a static resource (e.g. scripts and stylesheets). See index-example.html in the deployment/web directory for an example of what the index page should look like.");return;}if(!_113b()){window.alert("This application requires cookies to be enabled.");return;}if(!_1130.preventStartup){window.mx.startup();}function _113b(){if(!/^https?:/.test(window.location.protocol)){return navigator.cookieEnabled;}else{if(navigator.cookieEnabled===false){return false;}else{_112f("mx-cookie-test","allowed");var _113c=_112f("mx-cookie-test")==="allowed";_112f("mx-cookie-test","",{expires:-1});return _113c;}}};function _1132(){var href=_1134();return href.slice(0,href.lastIndexOf("/")+1);};function _1138(url){var _113d=url.match(/^(?:[^:]+:)?\/\/\/?[^\/]+\/(.*?)\/?$/)[1];return _113d&&_113d[0]!=="/"?"/"+_113d:_113d;};function _113a(){var hash=window.location.hash.slice(1);return hash&&hash[0]==="/"?hash:null;};function _1134(){var _113e=window.location.origin||(window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));return _113e+window.location.pathname;};});},"mxui/Client":function(){define(["mxui/sys/Parser","mxui/sys/UI","mxui/sys/Router","mxui/sys/ReloadHandler","mxui/lib/ReloadListener","mendix/sys/Data","mendix/sys/Meta","mendix/sys/Remote","mendix/sys/Server","mendix/sys/Session","mendix/lang","mendix/logger","webcore/sql/Store","dojo/cookie","dojo/aspect","dojo/_base/array","dojo/_base/lang"],function(_113f,UI,_1140,_1141,_1142,Data,Meta,_1143,_1144,_1145,lang,_1146,_1147,_1148,_1149,_114a,_114b){function _114c(_114d){var self=this,name="mendix.Client",_114e=false,_114f=[];this.version="6.8.1";this.appUrl=_114d.appUrl;this.homeUrl=_114d.homeUrl;this.remoteUrl=_114d.remoteUrl;this.afterLoginAction=_114d.afterLoginAction;this.baseUrl=_114d.baseUrl;this.modulePath=_114d.modulePath;this.server=new _1144({timeout:_114d.timeout});this.session=new _1145(_114d.session);this.remote=new _1143();this.meta=new Meta();this.data=new Data(_114d.data);this.router=new _1140();this.ui=new UI(_114d.ui);this.parser=new _113f();this.reloader=new _1141();_1150();function _1151(_1152){self.router.startup({profile:self.session.getConfig("uiconfig.profile.title")||"Mendix 6",urlPrefix:_114d.appPath});if(self.session.getConfig("listenToReload")&&!_114d.disableFastReload){new _1142(self.remoteUrl.replace(/^https?/,"ws")+"reload/").addOnReload(self.reloader.reloadPage.bind(self.reloader));}self.ui.startup(function(){self.parser.startup(function(){if(!self.reloader.tryRestorePage()){self.remote.execute(self.session.getConfig());}_1152();});});};this.toString=function(){return name;};this.isLoaded=function(){return _114e;};this.addOnLoad=function(_1153){_114e?_1153():_114f.push(_1153);};this.reload=function(){this.redirect(this.homeUrl);};this.redirect=function(_1154){window.location.href=_1154+window.location.search+window.location.hash;};this.startup=function(){if(_114e){throw new Error("Client has already been started up!");}this.session.authorized({params:{offline:_114d.offline||false,referrer:_114d.referrer||null},no:function(args){var _1155=args&&lang.inArray(args.http_code,["402","404","500","503"])?args.http_code:0;var _1156=_1165("reloginReason");self.ui.showLogin(_1156||_1155);},yes:function(_1157){self.meta.startup();var _1158=self.session.getConfig("sync_config");var _1159=_1157&&_1158&&_1158.fetch;var _115a=_114d.store||{};if(_1158){self.data.setOfflineStore(new _1147(_1158.schema,_115a.createStoreFn),_1158.fetch);}self.data.startup();self.session.startup();var _115b=[];if(_1159){_115b.push(function(_115c){self.data.uploadDataWithReset(_115c,function(e){self.onError(e);if(_115c){_115c();}});});}_115b=_115b.concat([_1151,_115d]);if(_1159){_115b.push(function(_115e){var _115f=self.ui.showProgress(null,true);self.data.synchronizeDataWithFiles(function(){self.ui.reload(function(){self.ui.hideProgress(_115f);if(_115e){_115e();}});},function(e){self.ui.hideProgress(_115f);self.onError(e);if(_115e){_115e();}});});}lang.sequence(_115b);function _115d(_1160){_114e=true;while(_114f.length>0){_114f.shift()();}if(_1160){_1160();}};}});};this.login=function(_1161,_1162,_1163,_1164){this.session.login({username:_1161,password:_1162,success:function(){if(_1163){_1163();}if(self.afterLoginAction){self.afterLoginAction();}else{_114e?self.reload():self.startup();}},error:_1164});};this.logout=function(){this.session.logout(_114b.hitch(this,"reload"));};function _1150(){_1149.before(self.server,"onUnauthorized",function(code){if(code=="401"){code="419";}_1148("reloginReason",code,{expires:10/(24*60*60)});self.reload();});};this.onError=function(error){_1146.error("Error: "+error.message);};function _1165(_1166){var _1167=_1148(_1166);_1148(_1166,null,{expires:-1});return _1167;};};return _114c;});},"mxui/sys/Parser":function(){define(["mendix/logger","big/big","dojo/i18n","dojo/date/locale","dojo/_base/lang"],function(_1168,Big,_1169,_116a,_116b){var name="mxui.sys.Parser";var _116c=function(_116d,_116e){_116d.setFullYear(_116e.getFullYear(),_116e.getMonth(),_116e.getDate());};var _116f=function(_1170,_1171){_1170.setHours(_1171.getHours(),_1171.getMinutes(),_1171.getSeconds(),_1171.getMilliseconds());};var _1172=function(_1173,_1174,_1175){return _1175.dateLocale.format(new _1175.Date(_1173),_1174);};var _1176=function(_1177,_1178,_1179){var date=_1179.dateLocale.parse(_1177,_1178);if(date&&date.toGregorian){date=date.toGregorian();}if(!date){if(_1177.indexOf("")==-1){if(!_1178.datePattern){_1178.datePattern=_1179.datePattern;}_1178.datePattern=_1178.datePattern.replace(/\u200f/g,"");date=_116a.parse(_1177,_1178);}}return date;};function _117a(_117b,times){return new Array(times+1).join(_117b);};function _117c(str,_117d,_117e){return str.length<_117e?str+_117a(_117d,_117e-str.length):str;};function _117f(_1180,_1181,_1182){var _1183={name:_1180,decimalSeparator:_1181.decimal,groupSeparator:_1181.group,groupSize:3,datePattern:_1182["dateFormat-short"]};var _1184="("+"\\d+"+"|"+"\\d"+_117a("\\d?",_1183.groupSize-1)+"(?:\\"+_1183.groupSeparator+_117a("\\d",_1183.groupSize)+")*"+")",_1185="\\"+_1183.decimalSeparator+"\\d+",_1186="^"+"-?"+"("+_1184+"("+_1185+")?"+"|"+_1185+")$";_1183.numberPattern=new RegExp(_1186);var _1187=_116b.getObject(window.mx.ui.getDatePackage());_1183.dateLocale=_1187.locale||_116a;_1183.Date=_1187.Date||Date;return _1183;};function _1188(value,_1189,_118a,_118b){var _118c=_118a>=0?value.round(_118a):value,_118d=_118c.lt(0),_118e=_118c.toFixed().split("."),_118f=_118d?_118e[0].slice(1):_118e[0],_1190=_118e[1],_1191=_118f,_1192=_1190;if(_118a>=0){_1192=_117c(_1190||"","0",_118a);}if(_1189){var i=_118f.length%_118b.groupSize||_118b.groupSize;_1191=_118f.substr(0,i);for(;i<_118f.length;i+=_118b.groupSize){_1191+=_118b.groupSeparator+_118f.substr(i,_118b.groupSize);}}return (_118d?"-":"")+_1191+(_1192?_118b.decimalSeparator+_1192:"");};function _1193(_1194,_1195,_1196){var match=_1196.numberPattern.exec(_1194);if(!match){return null;}var _1197=new Big(_1194.split(_1196.groupSeparator).join("").split(_1196.decimalSeparator).join("."));return _1195>=0?_1197.round(_1195):_1197;};function _1198(){var self=this,_1199;this.toString=function(){return name;};this.startup=function(_119a){require([_1169.getL10nName("dojo.cldr","number",window.dojo.locale),_1169.getL10nName("dojo.cldr","gregorian",window.dojo.locale)],function(_119b,_119c){_1199=_117f(window.dojo.locale,_119b,_119c);if(_119a){_119a();}});};this.parseDate=function(_119d,opts){if(!_119d){return null;}opts=opts||{};var _119e={selector:opts.selector||"date",formatLength:opts.format||"short",datePattern:opts.datepattern||opts.datePattern,timePattern:opts.timePattern};var _119f=_1176(_119d,_119e,_1199);if(_119f){if(_119e.selector=="time"){var now=new Date();now.setMilliseconds(_119f.getMilliseconds());now.setSeconds(_119f.getSeconds());now.setMinutes(_119f.getMinutes());now.setHours(_119f.getHours());return +now;}}return _119f&&_119f.getTime();};this.formatDate=function(epoch,opts){var _11a0=Number(epoch);if(epoch===""){return epoch;}else{if(isNaN(_11a0)){return null;}}opts=opts||{};var _11a1=new Date(_11a0),_11a2={locale:_1199.name,selector:opts.selector||"date",formatLength:opts.format||"short",datePattern:opts.datepattern||opts.datePattern,timePattern:opts.timePattern};if(_11a2.selector=="time"){var now=new Date(0);now.setMilliseconds(_11a1.getMilliseconds());now.setSeconds(_11a1.getSeconds());now.setMinutes(_11a1.getMinutes());now.setHours(_11a1.getHours());_11a1=now;}return _1172(_11a1,_11a2,_1199);};this.formatValue=function(value,type,props){props=props||{};if(value===""){return "";}switch(type.toLowerCase()){case "decimal":case "float":return _1188(new Big(value),!!props.groups,"places" in props&&props.places>=0?props.places:-1,_1199);case "currency":return _1188(new Big(value),!!props.groups,"places" in props&&props.places>=0?props.places:2,_1199);case "autonumber":case "integer":case "long":return _1188(new Big(value),!!props.groups,props.places||0,_1199);case "datetime":return _1172(new Date(value),_116b.mixin({selector:"date"},props),_1199);case "boolean":return mx.ui.translate("mxui.common",value);default:return value;}};this.formatAttribute=function(obj,attr,props){var type=obj.getAttributeType(attr),value=obj.get2(attr);if(type=="Enum"){value=obj.getEnumCaption(attr,value);}return self.formatValue(value,type,props);};this.parseValue2=function(value,type,props){props=props||{};if(value===""){return "";}switch(type.toLowerCase()){case "float":case "currency":case "integer":case "long":case "decimal":return _1193(value,props.places,_1199);case "datetime":return _1176(value,_116b.mixin({selector:"date"},props),_1199);case "enum":return value;case "boolean":return value==mx.ui.translate("mxui.common",true);default:return value;}};this.localizeEpoch=function(epoch){var obj=new Date(Number(epoch));return new Date(obj.getUTCFullYear(),obj.getUTCMonth(),obj.getUTCDate(),obj.getUTCHours(),obj.getUTCMinutes(),obj.getUTCSeconds(),obj.getUTCMilliseconds()).getTime();};this.delocalizeEpoch=function(epoch){var obj=new Date(Number(epoch));return Date.UTC(obj.getFullYear(),obj.getMonth(),obj.getDate(),obj.getHours(),obj.getMinutes(),obj.getSeconds(),obj.getMilliseconds());};this.mergeDates=function(_11a3,_11a4,part){var _11a5=new Date(_11a3);switch(part){case "date":_116c(_11a5,_11a4);break;case "time":_116f(_11a5,_11a4);break;case "datetime":_116c(_11a5,_11a4);_116f(_11a5,_11a4);break;default:_11a5=_11a4;}return _11a5;};this.replaceXPathTokens=function(_11a6,_11a7){if(_11a7&&_11a7.hasTrackId()){_11a6=_11a6.replace(/\[%CurrentObject%\]/g,_11a7.getTrackId());}else{if(/\[%CurrentObject%\]/.test(_11a6)){}}return _11a6;};};return _1198;});},"mxui/sys/UI":function(){define(["mxui/lib/actionRegistry","mxui/widget/DialogMessage","mxui/widget/Progress","mxui/widget/Underlay","mxui/widget/LoginDialog","mxui/widget/DemoUserSwitcher","mxui/widget/ConfirmationDialog","mxui/sys/history","mxui/io/iframe","mxui/dom","mendix/validator","mendix/lib/ServerError","mendix/lib/ConnectionError","mendix/lib/DescribedError","mendix/lib/DescribedServerError","mendix/lib/NavigationError","mendix/lib/ValidationError","mendix/lib/Error","mendix/lib/MxContext","mendix/lang","mendix/logger","webcore/url-helpers","big/big","fastclick/fastclick","dijit/registry","dojo/dom-class","dojo/on","dojo/aspect","dojo/cookie","dojo/has","dojo/ready","dojo/i18n","dojo/_base/array","dojo/_base/kernel","dojo/_base/lang","dojo/_base/config","require","dojox/date/buddhist","dojox/date/buddhist/locale","mxui/lib/action/doNothing","mxui/lib/action/openPage","mxui/lib/action/callMicroflow"],function(_11a8,_11a9,_11aa,_11ab,_11ac,_11ad,_11ae,_11af,_11b0,_11b1,_11b2,_11b3,_11b4,_11b5,_11b6,_11b7,_11b8,_11b9,_11ba,lang,_11bb,_11bc,Big,_11bd,_11be,_11bf,_11c0,_11c1,_11c2,_11c3,_11c4,_11c5,_11c6,_11c7,_11c8,_11c9,_11ca){function UI(_11cb){_11cb=_11cb||{};var self=this,name="mxui.sys.UI",_11cc=false,_11cd=null,_11ce=null,_11cf=null,isRtl=false,_11d0="en_US",_11d1=null,menus=null,_11d2="",_11d3="desktop",_11d4={"HALF_UP":1,"HALF_EVEN":2};var _11d5={buddhist:/th$/,hebrew:null,islamic:null};var _11d6=_11cb.openUrlFn||function(url,_11d7,_11d8){window.open(url,_11d8);};this.startup=function(_11d9){var _11da=window.mx.session.getConfig().uiconfig;_11db(_11da);_11dc(_11da);_11dd(_11da);_11de(_11da);_11df(_11da.roundingmode);_11e0();_11c0(window,"resize",_11c8.hitch(self,"resize"));_11e1();_11e2(_11da.modules);_11e3();_11e4(function(){isRtl=document.body.dir.toLowerCase()=="rtl";_11cc=true;_11d9();});};function _11db(_11e5){menus=_11e5.menubars;lang.forEach(menus,function(menu,_11e6){_11e7(menu,_11e6+"-");});function _11e7(menu,_11e8){_11c6.forEach(menu,function(item,index){item.id=_11e8+index;if(item.items){_11e7(item.items,item.id+"-");}});};};function _11dc(_11e9){_11d0=_11e9.locale;_11c7.locale=_11c5.normalizeLocale(_11d0.replace("_","-"));_11d1=_11e9.translations;_11ea();_11eb();};function _11dd(_11ec){_11d3=_11ec.profile.name.toLowerCase();_11bf.add(document.body,"profile-"+_11d3);};function _11de(){var _11ed=_11c6.map(window.mx.session.getUserRoles("Name"),function(role){return "role-"+role.toLowerCase();});_11bf.add(document.body,_11ed);};function _11df(_11ee){Big.RM=_11ee?_11d4[_11ee]:_11d4.HALF_EVEN;};function _11e0(){_11c1.before(window.mx,"onError",function(e){var msg;if(e instanceof _11b5||e instanceof _11b6){msg=e.message;}else{if(e instanceof _11b4){msg=self.translate("mxui.sys.UI","connection_error");}else{if(e instanceof _11b3){msg=self.translate("mxui.sys.UI","internal_error");}else{msg=self.translate("mxui.sys.UI","internal_error");}}}_11cd&&_11cd.hide();_11cd=_11ef(msg,"error");_11cd.show(true);});};function _11e1(){_11ce=new _11aa();_11cf=new _11ab();var _11f0=mx.session.getConfig("demoUsers");if(_11f0){_11c6.forEach(_11f0,function(user){user.active=(user.name==window.mx.session.getUserName());});var _11f1=new _11ad({demoUsers:_11f0});document.body.appendChild(_11f1.domNode);_11f1.startup();}};function _11e4(_11f2){var _11f3=window.mx.session.getConfig("uiconfig.widgets");if(_11f3.length>0){_11f4();dojo.registerModulePath("widgets",window.mx.modulePath);_11c6.forEach(_11f3,function(_11f5){var _11f6=_11f5.split(".")[0];dojo.registerModulePath(_11f6,window.mx.modulePath+_11f6);});var _11f7=["widgets/widgets"];_11ca(_11f7);}_11c4(_11f2);};function _11f4(){var head=document.querySelector("head"),_11f8=head.querySelector("link[href*='mxui/ui/mxui.css']"),_11f9=_11b1.createCssLink("widgets/widgets.css");if(_11f8&&_11f8.nextElementSibling){head.insertBefore(_11f9,_11f8.nextElementSibling);}else{head.appendChild(_11f9);}};function _11e2(_11fa){for(var i=0,_11fb;_11fb=_11fa[i];i++){try{dojo["require"](_11fb+"."+_11fb);}catch(e){_11bb.error(name+".getModules: failed loading module "+_11fb);}}};function _11eb(){var _11fc=self.getCalendarSystem();switch(_11fc){case "gregorian":_11d2="dojo.date";return;case "buddhist":_11d2="dojox.date.buddhist";dojo["require"](_11d2);dojo["require"](_11d2+".locale");return;default:throw new Error("Unsupported date package: "+_11fc);}};function _11e3(){if(!_11c3("windowsphone")){_11bd.attach(document.body);}if(_11c3("ie")){if(JSON.stringify(document.createElement("input").value)==="\"null\""){var _11fd=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value").get;Object.defineProperty(HTMLInputElement.prototype,"value",{get:function(){var value=_11fd.call(this);return value===""?"":value;}});}_11c0(document,"click",function(e){var node=e.target;if(node.nodeName=="TEXTAREA"||node.nodeName=="INPUT"&&(node.type=="text"||node.type=="password")){if(document.activeElement!=node){var sel=_11b1.getSelection(node);try{node.focus();}catch(ex){}_11b1.selectTextRange(node,sel.start,sel.end);}}if(_11c3("ie")<=8){if(node.nodeName=="INPUT"&&(node.type==="checkbox"||node.type==="radio")){_11b1.dispatchEvent(node,"onchange");}}});}};function _11ea(){var map={"mendix":"mxui","mendix.core.MxServer":"mendix.core.Server","mendix.widget.MxDataView":"mendix.widget.MxFormView","mendix.widget.MxNavigator":"mendix.widget.Navigator","mendix.widget.MxDataGrid":"mendix.widget.DataGrid","mendix.widget.DataGrid.true":"mxui.common.true","mendix.widget.DataGrid.false":"mxui.common.false","mendix.core.MxServer.invalid_session":"mendix.session.session_expired","mobile.widget.Dialog.ok":"mxui.widget.DialogMessage.ok","mxui.widget.Dialog.error":"mxui.widget.DialogMessage.error","mxui.widget.Dialog.information":"mxui.widget.DialogMessage.info","mxui.widget.Dialog.warning":"mxui.widget.DialogMessage.warning","mxui.widget.Dialog.confirmation":"mxui.widget.ConfirmationDialog.caption","mobile.widget":"mxui.widget","mobile.sys":"mxui.sys"};for(var _11fe in map){var spath=_11fe.split("."),dpath=map[_11fe].split("."),skey=spath.pop(),dkey=dpath.pop(),stree=_11d1,dtree=stree,step;while(stree&&(step=spath.shift())){stree=stree[step];}if(stree){while(step=dpath.shift()){dtree=dtree[step]=dtree[step]||{};}if(dtree[dkey]){_11c8.mixin(dtree[dkey],stree[skey]);}else{dtree[dkey]=stree[skey];}}}};function _11ef(msg,type){return new _11a9({type:type,content:""+self.extractMessage(msg)});};function _11ff(fmt,args){if(!args){return fmt;}else{if(!(args instanceof Array)){args=[args];}}return fmt.replace(/\{(\d+)\}/g,function(match,n){var value=args[n-1];if(value!=null){return value;}else{return match;}});};this.toString=function(){return name;};this.getProfile=function(){return _11d3;};this.getMenu=function(_1200){return menus[_1200]||[];};this.getDatePackage=function(){return _11d2;};this.getCalendarSystem=function(){for(var m in _11d5){var re=_11d5[m];if(re&&re.test(_11c7.locale.toLowerCase())){return m;}}return "gregorian";};this.isRtl=function(){return isRtl;};this.resize=function(){window.mx.router.getContentForm().resize();};this.execute=function(_1201,args,scope){var _1202=_11c8.mixin({},_1201.params,args);if(scope){for(var key in _1202){if(typeof _1202[key]==="function"){_1202[key]=_11c8.hitch(scope,_1202[key]);}}}return _11a8.execute({type:_1201.type,params:_1202});};this.action=function(name,_1203,scope){_1203=_1203||{};_11c8.setObject("params.actionname",name,_1203);var _1204;if("progress" in _1203){_1204=this.getProgress(_1203.progressMsg,_1203.progress=="modal");_1204.start();}window.mx.data.action({callback:_1205(_1203.callback),error:_1205(function(e){if(_1203.error){_1203.error.call(scope,e);}else{if(!(e instanceof _11b8)){window.mx.onError(e);}}}),context:_1203.context,async:_1203.async,params:_1203.params,origin:_1203.origin||window.mx.router.getContentForm()});function _1205(_1206){return function(){try{if(_1206){_1206.apply(scope,arguments);}}finally{if(_1204){_1204.stop();}if(_1203.complete){_1203.complete.apply(scope);}}};};};this.back=function(){_11af.back();};this.showProgress=function(msg,modal){return _11ce.add(msg||"",modal);};this.hideProgress=function(id){return _11ce.remove(id);};this.showUnderlay=function(delay){_11cf.show(delay);};this.hideUnderlay=function(delay){_11cf.hide(delay);};this.getProgress=function(msg,modal){var id,_1207;return {start:function(){if(_1207){return id;}else{_1207=true;return id=self.showProgress(msg,modal);}},stop:function(){if(_1207){_1207=false;self.hideProgress(id);}}};};function _1208(_1209){if(!_11cc){var _120a=window.mx.session.getConfig("profile");if(_120a){_11d3=_120a.name.toLowerCase();_11bf.add(document.body,"profile-"+_11d3);document.title=_120a.title;}}if(!window.i18nMap){window.mx.server.get({url:"js/login_i18n.js",handleAs:"javascript",load:_1209});}else{_1209();}};this.showLogin=function(_120b){if(_120b=="402"){this.exception(window.i18nMap.http402);return;}var _120c=_11c2("originURI");if(_120c){_11c2("originURI",null,{expires:-1});window.mx.redirect(_120c);return;}_1208(function(){if(_11cb.customLoginFn){_11cb.customLoginFn(_120b);}else{new _11ac({messageCode:_120b}).show();}});};this.openForm=function(path,args,scope){var _120d=args.callback?_11c8.hitch(scope,args.callback):null;var error=args.error?_11c8.hitch(scope,args.error):null;if(args.domNode){window.mx.router.openFormInNode(path,args.domNode,args.context,args.targetParams,_120d,error);}else{if(/popup|modal/.test(args.location)){args.modal=args.location=="modal";window.mx.router.openFormInPopup(path,args,args.context,args.targetParams,_120d,error);}else{window.mx.router.openFormInContent(path,args.title,args.context,args.targetParams,_120d);}}};this.reload=function(_120e){var form=window.mx.router.getContentForm();if(!form){throw new _11b9("Trying to refresh the content form but no form is yet available.");}form.reload(_120e);};this.getTemplate=function(id,name){return window.mx.router.getTemplate(id,name);};this.applyToNode=function(_120f,node){var _1210=_11be.byNode(node);switch(_120f){case "show":if(_1210&&_1210.show){_1210.show();}else{node.style.display="";}break;case "hide":if(_1210&&_1210.hide){_1210.hide();}else{node.style.display="none";}break;case "disable":_1211(true);break;case "enable":_1211(false);break;}function _1211(_1212){if(_1210){_1210.set("disabled",_1212);}else{var _1213=_11be.findWidgets(node);_11c6.forEach(_1213,function(_1214){_1214.set("disabled",_1212);});}};};this.makeShareId=function(form,mxid){return "context_seed_"+mxid+"_"+form.hash;};var _1215={};_1215[_11b2.validation.NOT_INTEGER]="invalid_number";_1215[_11b2.validation.RANGE_INTEGER]="range_integer";_1215[_11b2.validation.RANGE_LONG]="range_long";_1215[_11b2.validation.RANGE_DECIMAL]="range_decimal";_1215[_11b2.validation.RANGE_NUMBER]="range_number";this.validate=function(value,type){var _1216=_11b2.validate(value,type);if(_1216===_11b2.validation.OK){return null;}return this.translate("mendix.lib.Validations",_1215[_1216]);};this.validations=function(vals){if(vals.length){var list=[];for(var i=0,val;val=vals[i];i++){var _1217=val.getFields();for(var x=0,field;field=_1217[x];x++){list.push(field.reason);}}this.error(list.join("\n"));}};this.translate=function(_1218,str,args,_1219){var map=_11c8.getObject(_1218,false,_11d1);if(!map||!map[str]){return _1219||"[No translation]";}return _11ff(map[str],args);};this.extractMessage=function(msg){if(typeof msg=="object"){if(msg.description){return msg.description;}else{if(msg.message){return msg.message;}}}return msg;};this.info=function(msg,modal){_11ef(msg,"info").show(modal);};this.warning=function(msg,modal){_11ef(msg,"warning").show(modal);};this.error=function(msg,modal){_11ef(msg,"error").show(modal);};this.exception=function(msg){this.error(msg,true);};this.confirmation=function(args){new _11ae({content:args.content,proceed:args.proceed||this.translate("mxui.widget.DialogMessage","ok"),cancel:args.cancel||this.translate("mxui.widget.DialogMessage","cancel"),handler:args.handler}).show();};this.canMoveBack=function(){return !_11af.isAtBeginning();};this.downloadFile=function(_121a){var url;var obj=_121a&&_121a.mxobject;if(obj&&obj.get2("HasContents")){url=_11bc.getDynamicResourceUrl(obj.getGuid(),obj.get2("changedDate"));}else{return;}if(_121a.target==="window"||_121b()){url+="&target=window";if(_121c()){new _11ae({caption:this.translate("mendix.widget.DialogMessage","file_download"),content:this.translate("mendix.widget.DialogMessage","file_download_message"),proceed:this.translate("mendix.widget.MxDataView","download"),cancel:this.translate("mendix.widget.DialogMessage","cancel"),handler:_121d}).show();}else{_121d();}}else{_11b0.download({url:url+"&target=internal",target:_121a.target,error:function(err){if(_121a.error){_121a.error(err);}else{window.mx.onError(err);}}});}function _121d(){_11d6(url,obj.get2("Name"),"mendix_file");};function _121b(){var _121e=_11c3("chrome")&&typeof window.externalHost!=="undefined";var _121f=_11c3("mobile");return _121e||_121f;};function _121c(){return _11c3("ie")==8||((_11c3("iphone")||_11c3("ipad"))&&(_11c3("safari")||window.navigator.standalone))||_11c3("windowsphone");};};this.getFirstDayOfWeek=function(){return window.mx.session.getConfig("uiconfig.firstDayOfWeek");};};return UI;});},"mxui/lib/actionRegistry":function(){define(["mendix/lib/DescribedError"],function(_1220){var _1221={};return {add:function(name,_1222){if(name in _1221){throw new Error("Action executer already exists");}_1221[name]=_1222;},execute:function(_1223){if(!_1221[_1223.type]){throw new Error("Action type '"+_1223.type+"' is not implemented yet");}if("allowedRoles" in _1223.params&&!window.mx.session.hasSomeRole(_1223.params.allowedRoles)){if(window.mx.session.isGuest()){window.mx.ui.showLogin();}else{window.mx.onError(new _1220("Unable to execute action because you do not have sufficient permissions."));}return;}_1221[_1223.type](_1223.params);}};});},"mxui/widget/DemoUserSwitcher":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Templated","mxui/dom","dojo/on","dojo/_base/fx","dojo/_base/array","dojo/_base/declare","dojo/text!mxui/widget/templates/DemoUserSwitcher.html"],function(_1224,_1225,dom,_1226,_1227,_1228,_1229,_122a){"use strict";var _122b=_1229([_1224,_1225],{declaredClass:"mxui.widget.DemoUserSwitcher",templateString:_122a,demoUsers:null,_listNode:null,_toggleNode:null,_collapsed:true,postCreate:function(){var self=this;this.on(".mx-demouserswitcher-toggle:click",function(){self._toggleVisibility();});this.on("li:click",function(e){self._onUserClick(dom.data(this));e.preventDefault();});this._renderList();},startup:function(){this.domNode.style.right=-this.domNode.offsetWidth+"px";},_renderList:function(){_1228.forEach(this.demoUsers,function(user){var item=dom.create("li",dom.create("a",{"href":"#"},dom.create("h3",user.name),dom.create("p",user.roles.join(", "))));if(user.active){item.setAttribute("class","active");}dom.data(item,user);this._listNode.appendChild(item);},this);},_onUserClick:function(user){mx.session.logout(function(){mx.login(user.name,user.password,null,function(){mx.reload();});});},_toggleVisibility:function(){var right=this._collapsed?0:-this.domNode.offsetWidth;_1227.animateProperty({node:this.domNode,duration:150,properties:{right:{end:right,units:"px"}}}).play();this._collapsed=!this._collapsed;document.documentElement.style.overflow=document.body.style.overflow=this._collapsed?"":"hidden";}});return _122b;});},"mxui/sys/history":function(){define(["mxui/lib/browserBackend","mendix/lang"],function(_122c,lang){var _122d,_122e,_122f;var _1230={_queue:[],_process:function(){while(this._queue[0]){this._queue.shift().call();}},startPush:function(){this._queue.push(null);},endPush:function(){if(this._queue.length===0||this._queue[0]!==null){throw new Error("Invalid state of the queue");}this._queue.shift();this._process();},push:function(func){this._queue.push(func);this._process();},empty:function(){return this._queue.length==0;}};var _1231={init:function(){_122d=lang.getUniqueId();_122f=null;_122e={id:_122d};_122c.history.replaceState(_122e,"",_1232());_122c.history.onPopstate(function(e){_122c.setTimeout(function(){_1233(e.state);if(!_1230.empty()){_1230.endPush();}},0);});},back:function(){_1230.startPush();_122c.history.back();},forward:function(){_1230.startPush();_122c.history.forward();},push:function(_1234){_1230.push(function(){var state={id:lang.getUniqueId(),pageInfo:_1234};_122c.history.pushState(state,"",_1232());_1233(state);});},replace:function(title,url){if(_1230.empty()){_122c.history.replaceState(_122e,title,url);_122c.title(title);}},onNavigation:function(){},isAtBeginning:function(){return _122f===null||_122e.id===_122f;}};function _1233(_1235){if(_1235===null){_122c.history.replaceState(_122e,_122c.title(),_1232());return;}if(_1235.id===_122d){_122f=null;return;}_1231.onNavigation(_122e.pageInfo,_1235.pageInfo);_122e=_1235;if(_122f===null){_122f=_122e.id;}};function _1232(){return _122c.location.pathname()+_122c.location.search()+_122c.location.hash();};return _1231;});},"mxui/lib/browserBackend":function(){define([],function(){"use strict";var _1236={history:{back:function(){window.history.back();},forward:function(){window.history.forward();},pushState:function(state,title,url){window.history.pushState(state,title,url);},replaceState:function(state,title,url){window.history.replaceState(state,title,url);},onPopstate:function(_1237){window.addEventListener("popstate",_1237,false);}},location:{pathname:function(){var _1238=window.location.pathname;if(_1238.charAt(0)!=="/"){_1238="/"+_1238;}return _1238;},search:function(){return window.location.search;},hash:function(){return window.location.hash;}},setTimeout:function(fn,_1239){return window.setTimeout(fn,_1239);},title:function(val){if(typeof val!=="undefined"){window.document.title=val;}return window.document.title;}};return _1236;});},"mxui/io/iframe":function(){define(["mendix/lib/DescribedServerError","mendix/lib/Error","mendix/lang","mendix/logger","dojo/sniff","dojo/request/iframe","dojo/dom-style","dojo/_base/lang"],function(_123a,_123b,lang,_123c,_123d,_123e,_123f,_1240){var _1241=_123d("ie")&&(_123d("quirks")||_123d("ie")<9);var _1242={name:"mxui.io.iframe",send:function(_1243){var _1244=function(){if(_123d("ie")||_123d("trident")){return true;}if(_123d("opera")){return _123d("opera")<10;}if(_123d("chrome")){if(typeof window.externalHost!=="undefined"){return false;}return _123d("chrome")<16;}return false;};if(_1244()){var _1245=_1243.handle;_1243.handle=function(_1246){window.history.back();var _1247=function(){_1245(_1246);};setTimeout(_1247,50);};}_1243.handleAs="json";var _1248=_1243.handle;delete _1243.handle;var _1249=_123e("",_1243);_1249.always(function(json){if(!_123d("ie")&&!_123d("trident")){var _124a=_123e._frame;_124a.parentNode.removeChild(_124a);_123e._frame=null;window[_123e._iframeName]=null;}var _124b;if(json instanceof Error){_124b=new _123b(json.message);_123c.error(this.name+".send: An error occurred while uploading a file: the server did not respond");}else{if(json.type&&json.type==="exception"){_124b=new _123a(json.description);_124b._type="exception";_123c.error(this.name+".send: "+_124b.message);}}if(_1248){_1248(_124b);}});},download:function(_124c){if(!this._iframe){var _124d=this._iframe=document.createElement(_1241?"<iframe onload=\"mxui.io.iframe.onload()\">":"iframe");_123f.set(_124d,{top:"-10px",height:"1px",position:"absolute",visibility:"hidden"});document.body.appendChild(_124d);if(!_1241){_124d.onload=_1240.hitch(this,"onload");}}this._error=_124c.error;this._iframe.contentWindow.location=_124c.url;},onload:function(){var _124e=this._iframe,error=this._error,doc=_124e.contentDocument||_124e.document,err=lang.getFileError(doc,this.name+".onload");if(err&&error){error(err);}delete this._error;}};return _1242;});},"dojo/request/iframe":function(){define(["module","require","./watch","./util","./handlers","../_base/lang","../io-query","../query","../has","../dom","../dom-construct","../_base/window","../NodeList-dom"],function(_124f,_1250,watch,util,_1251,lang,_1252,query,has,dom,_1253,win){var mid=_124f.id.replace(/[\/\.\-]/g,"_"),_1254=mid+"_onload";if(!win.global[_1254]){win.global[_1254]=function(){var dfd=_1255._currentDfd;if(!dfd){_1255._fireNextRequest();return;}var _1256=dfd.response,_1257=_1256.options,_1258=dom.byId(_1257.form)||dfd._tmpForm;if(_1258){var _1259=dfd._contentToClean;for(var i=0;i<_1259.length;i++){var key=_1259[i];for(var j=0;j<_1258.childNodes.length;j++){var _125a=_1258.childNodes[j];if(_125a.name===key){_1253.destroy(_125a);break;}}}dfd._originalAction&&_1258.setAttribute("action",dfd._originalAction);if(dfd._originalMethod){_1258.setAttribute("method",dfd._originalMethod);_1258.method=dfd._originalMethod;}if(dfd._originalTarget){_1258.setAttribute("target",dfd._originalTarget);_1258.target=dfd._originalTarget;}}if(dfd._tmpForm){_1253.destroy(dfd._tmpForm);delete dfd._tmpForm;}dfd._finished=true;};}function _125b(name,_125c,uri){if(win.global[name]){return win.global[name];}if(win.global.frames[name]){return win.global.frames[name];}if(!uri){if(has("config-useXDomain")&&!has("config-dojoBlankHtmlUrl")){console.warn("dojo/request/iframe: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}uri=(has("config-dojoBlankHtmlUrl")||_1250.toUrl("dojo/resources/blank.html"));}var frame=_1253.place("<iframe id=\""+name+"\" name=\""+name+"\" src=\""+uri+"\" onload=\""+_125c+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",win.body());win.global[name]=frame;return frame;};function _125d(_125e,src,_125f){var frame=win.global.frames[_125e.name];if(frame.contentWindow){frame=frame.contentWindow;}try{if(!_125f){frame.location=src;}else{frame.location.replace(src);}}catch(e){}};function doc(_1260){if(_1260.contentDocument){return _1260.contentDocument;}var name=_1260.name;if(name){var _1261=win.doc.getElementsByTagName("iframe");if(_1260.document&&_1261[name].contentWindow&&_1261[name].contentWindow.document){return _1261[name].contentWindow.document;}else{if(win.doc.frames[name]&&win.doc.frames[name].document){return win.doc.frames[name].document;}}}return null;};function _1262(){return _1253.create("form",{name:mid+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},win.body());};function _1263(){var dfd;try{if(_1255._currentDfd||!_1255._dfdQueue.length){return;}do{dfd=_1255._currentDfd=_1255._dfdQueue.shift();}while(dfd&&(dfd.canceled||(dfd.isCanceled&&dfd.isCanceled()))&&_1255._dfdQueue.length);if(!dfd||dfd.canceled||(dfd.isCanceled&&dfd.isCanceled())){_1255._currentDfd=null;return;}var _1264=dfd.response,_1265=_1264.options,c2c=dfd._contentToClean=[],_1266=dom.byId(_1265.form),_1267=util.notify,data=_1265.data||null,_1268;if(!dfd._legacy&&_1265.method==="POST"&&!_1266){_1266=dfd._tmpForm=_1262();}else{if(_1265.method==="GET"&&_1266&&_1264.url.indexOf("?")>-1){_1268=_1264.url.slice(_1264.url.indexOf("?")+1);data=lang.mixin(_1252.queryToObject(_1268),data);}}if(_1266){if(!dfd._legacy){var _1269=_1266;do{_1269=_1269.parentNode;}while(_1269&&_1269!==win.doc.documentElement);if(!_1269){_1266.style.position="absolute";_1266.style.left="-1000px";_1266.style.top="-1000px";win.body().appendChild(_1266);}if(!_1266.name){_1266.name=mid+"_form";}}if(data){var _126a=function(name,value){_1253.create("input",{type:"hidden",name:name,value:value},_1266);c2c.push(name);};for(var x in data){var val=data[x];if(lang.isArray(val)&&val.length>1){for(var i=0;i<val.length;i++){_126a(x,val[i]);}}else{if(!_1266[x]){_126a(x,val);}else{_1266[x].value=val;}}}}var _126b=_1266.getAttributeNode("action"),_126c=_1266.getAttributeNode("method"),_126d=_1266.getAttributeNode("target");if(_1264.url){dfd._originalAction=_126b?_126b.value:null;if(_126b){_126b.value=_1264.url;}else{_1266.setAttribute("action",_1264.url);}}if(!dfd._legacy){dfd._originalMethod=_126c?_126c.value:null;if(_126c){_126c.value=_1265.method;}else{_1266.setAttribute("method",_1265.method);}}else{if(!_126c||!_126c.value){if(_126c){_126c.value=_1265.method;}else{_1266.setAttribute("method",_1265.method);}}}dfd._originalTarget=_126d?_126d.value:null;if(_126d){_126d.value=_1255._iframeName;}else{_1266.setAttribute("target",_1255._iframeName);}_1266.target=_1255._iframeName;_1267&&_1267.emit("send",_1264,dfd.promise.cancel);_1255._notifyStart(_1264);_1266.submit();}else{var extra="";if(_1264.options.data){extra=_1264.options.data;if(typeof extra!=="string"){extra=_1252.objectToQuery(extra);}}var _126e=_1264.url+(_1264.url.indexOf("?")>-1?"&":"?")+extra;_1267&&_1267.emit("send",_1264,dfd.promise.cancel);_1255._notifyStart(_1264);_1255.setSrc(_1255._frame,_126e,true);}}catch(e){dfd.reject(e);}};function _126f(_1270){return !this.isFulfilled();};function _1271(_1272){return !!this._finished;};function _1273(_1274,error){if(!error){try{var _1275=_1274.options,doc=_1255.doc(_1255._frame),_1276=_1275.handleAs;if(_1276!=="html"){if(_1276==="xml"){if(doc.documentElement.tagName.toLowerCase()==="html"){query("a",doc.documentElement).orphan();var _1277=doc.documentElement.innerText;_1277=_1277.replace(/>\s+</g,"><");_1274.text=lang.trim(_1277);}else{_1274.data=doc;}}else{_1274.text=doc.getElementsByTagName("textarea")[0].value;}_1251(_1274);}else{_1274.data=doc;}}catch(e){error=e;}}if(error){this.reject(error);}else{if(this._finished){this.resolve(_1274);}else{this.reject(new Error("Invalid dojo/request/iframe request state"));}}};function last(_1278){this._callNext();};var _1279={method:"POST"};function _1255(url,_127a,_127b){var _127c=util.parseArgs(url,util.deepCreate(_1279,_127a),true);url=_127c.url;_127a=_127c.options;if(_127a.method!=="GET"&&_127a.method!=="POST"){throw new Error(_127a.method+" not supported by dojo/request/iframe");}if(!_1255._frame){_1255._frame=_1255.create(_1255._iframeName,_1254+"();");}var dfd=util.deferred(_127c,null,_126f,_1271,_1273,last);dfd._callNext=function(){if(!this._calledNext){this._calledNext=true;_1255._currentDfd=null;_1255._fireNextRequest();}};dfd._legacy=_127b;_1255._dfdQueue.push(dfd);_1255._fireNextRequest();watch(dfd);return _127b?dfd:dfd.promise;};_1255.create=_125b;_1255.doc=doc;_1255.setSrc=_125d;_1255._iframeName=mid+"_IoIframe";_1255._notifyStart=function(){};_1255._dfdQueue=[];_1255._currentDfd=null;_1255._fireNextRequest=_1263;util.addCommonMethods(_1255,["GET","POST"]);return _1255;});},"fastclick/fastclick":function(){(function(){"use strict";function _127d(layer,_127e){var _127f;_127e=_127e||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=_127e.touchBoundary||10;this.layer=layer;this.tapDelay=_127e.tapDelay||200;this.tapTimeout=_127e.tapTimeout||700;if(_127d.notNeeded(layer)){return;}function bind(_1280,_1281){return function(){return _1280.apply(_1281,arguments);};};var _1282=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var _1283=this;for(var i=0,l=_1282.length;i<l;i++){_1283[_1282[i]]=bind(_1283[_1282[i]],_1283);}if(_1289){layer.addEventListener("mouseover",this.onMouse,true);layer.addEventListener("mousedown",this.onMouse,true);layer.addEventListener("mouseup",this.onMouse,true);}layer.addEventListener("click",this.onClick,true);layer.addEventListener("touchstart",this.onTouchStart,false);layer.addEventListener("touchmove",this.onTouchMove,false);layer.addEventListener("touchend",this.onTouchEnd,false);layer.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){layer.removeEventListener=function(type,_1284,_1285){var rmv=Node.prototype.removeEventListener;if(type==="click"){rmv.call(layer,type,_1284.hijacked||_1284,_1285);}else{rmv.call(layer,type,_1284,_1285);}};layer.addEventListener=function(type,_1286,_1287){var adv=Node.prototype.addEventListener;if(type==="click"){adv.call(layer,type,_1286.hijacked||(_1286.hijacked=function(event){if(!event.propagationStopped){_1286(event);}}),_1287);}else{adv.call(layer,type,_1286,_1287);}};}if(typeof layer.onclick==="function"){_127f=layer.onclick;layer.addEventListener("click",function(event){_127f(event);},false);layer.onclick=null;}};var _1288=navigator.userAgent.indexOf("Windows Phone")>=0;var _1289=navigator.userAgent.indexOf("Android")>0&&!_1288;var _128a=/iP(ad|hone|od)/.test(navigator.userAgent)&&!_1288;var _128b=_128a&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);var _128c=_128a&&(/OS [6-7]_\d/).test(navigator.userAgent);var _128d=navigator.userAgent.indexOf("BB10")>0;_127d.prototype.needsClick=function(_128e){switch(_128e.nodeName.toLowerCase()){case "button":case "select":case "textarea":if(_128e.disabled){return true;}break;case "input":if((_128a&&_128e.type==="file")||_128e.disabled){return true;}break;case "label":case "iframe":case "video":return true;}return (/\bneedsclick\b/).test(_128e.className);};_127d.prototype.needsFocus=function(_128f){switch(_128f.nodeName.toLowerCase()){case "textarea":return true;case "select":return !_1289;case "input":switch(_128f.type){case "button":case "checkbox":case "file":case "image":case "radio":case "submit":return false;}return !_128f.disabled&&!_128f.readOnly;default:return (/\bneedsfocus\b/).test(_128f.className);}};_127d.prototype.sendClick=function(_1290,event){var _1291,touch;if(document.activeElement&&document.activeElement!==_1290){document.activeElement.blur();}touch=event.changedTouches[0];_1291=document.createEvent("MouseEvents");_1291.initMouseEvent(this.determineEventType(_1290),true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);_1291.forwardedTouchEvent=true;_1290.dispatchEvent(_1291);};_127d.prototype.determineEventType=function(_1292){if(_1289&&_1292.tagName.toLowerCase()==="select"){return "mousedown";}return "click";};_127d.prototype.focus=function(_1293){var _1294;if(_128a&&_1293.setSelectionRange&&_1293.type.indexOf("date")!==0&&_1293.type!=="time"&&_1293.type!=="month"){_1294=_1293.value.length;_1293.setSelectionRange(_1294,_1294);}else{_1293.focus();}};_127d.prototype.updateScrollParent=function(_1295){var _1296,_1297;_1296=_1295.fastClickScrollParent;if(!_1296||!_1296.contains(_1295)){_1297=_1295;do{if(_1297.scrollHeight>_1297.offsetHeight){_1296=_1297;_1295.fastClickScrollParent=_1297;break;}_1297=_1297.parentElement;}while(_1297);}if(_1296){_1296.fastClickLastScrollTop=_1296.scrollTop;}};_127d.prototype.getTargetElementFromEventTarget=function(_1298){if(_1298.nodeType===Node.TEXT_NODE){return _1298.parentNode;}return _1298;};_127d.prototype.onTouchStart=function(event){var _1299,touch,_129a;if(event.targetTouches.length>1){return true;}_1299=this.getTargetElementFromEventTarget(event.target);touch=event.targetTouches[0];if(_128a){_129a=window.getSelection();if(_129a.rangeCount&&!_129a.isCollapsed){return true;}if(!_128b){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier){event.preventDefault();return false;}this.lastTouchIdentifier=touch.identifier;this.updateScrollParent(_1299);}}this.trackingClick=true;this.trackingClickStart=event.timeStamp;this.targetElement=_1299;this.touchStartX=touch.pageX;this.touchStartY=touch.pageY;if((event.timeStamp-this.lastClickTime)<this.tapDelay){event.preventDefault();}return true;};_127d.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],_129b=this.touchBoundary;if(Math.abs(touch.pageX-this.touchStartX)>_129b||Math.abs(touch.pageY-this.touchStartY)>_129b){return true;}return false;};_127d.prototype.onTouchMove=function(event){if(!this.trackingClick){return true;}if(this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event)){this.trackingClick=false;this.targetElement=null;}return true;};_127d.prototype.findControl=function(_129c){if(_129c.control!==undefined){return _129c.control;}if(_129c.htmlFor){return document.getElementById(_129c.htmlFor);}return _129c.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea");};_127d.prototype.onTouchEnd=function(event){var _129d,_129e,_129f,_12a0,touch,_12a1=this.targetElement;if(!this.trackingClick){return true;}if((event.timeStamp-this.lastClickTime)<this.tapDelay){this.cancelNextClick=true;return true;}if((event.timeStamp-this.trackingClickStart)>this.tapTimeout){return true;}this.cancelNextClick=false;this.lastClickTime=event.timeStamp;_129e=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(_128c){touch=event.changedTouches[0];_12a1=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||_12a1;_12a1.fastClickScrollParent=this.targetElement.fastClickScrollParent;}_129f=_12a1.tagName.toLowerCase();if(_129f==="label"){_129d=this.findControl(_12a1);if(_129d){this.focus(_12a1);if(_1289){return false;}_12a1=_129d;}}else{if(this.needsFocus(_12a1)){if((event.timeStamp-_129e)>100||(_128a&&window.top!==window&&_129f==="input")){this.targetElement=null;return false;}this.focus(_12a1);this.sendClick(_12a1,event);if(!_128a||_129f!=="select"){this.targetElement=null;event.preventDefault();}return false;}}if(_128a&&!_128b){_12a0=_12a1.fastClickScrollParent;if(_12a0&&_12a0.fastClickLastScrollTop!==_12a0.scrollTop){return true;}}if(!this.needsClick(_12a1)){event.preventDefault();this.sendClick(_12a1,event);}return false;};_127d.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null;};_127d.prototype.onMouse=function(event){if(!this.targetElement){return true;}if(event.forwardedTouchEvent){return true;}if(!event.cancelable){return true;}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(event.stopImmediatePropagation){event.stopImmediatePropagation();}else{event.propagationStopped=true;}event.stopPropagation();event.preventDefault();return false;}return true;};_127d.prototype.onClick=function(event){var _12a2;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true;}if(event.target.type==="submit"&&event.detail===0){return true;}_12a2=this.onMouse(event);if(!_12a2){this.targetElement=null;}return _12a2;};_127d.prototype.destroy=function(){var layer=this.layer;if(_1289){layer.removeEventListener("mouseover",this.onMouse,true);layer.removeEventListener("mousedown",this.onMouse,true);layer.removeEventListener("mouseup",this.onMouse,true);}layer.removeEventListener("click",this.onClick,true);layer.removeEventListener("touchstart",this.onTouchStart,false);layer.removeEventListener("touchmove",this.onTouchMove,false);layer.removeEventListener("touchend",this.onTouchEnd,false);layer.removeEventListener("touchcancel",this.onTouchCancel,false);};_127d.notNeeded=function(layer){var _12a3;var _12a4;var _12a5;var _12a6;if(typeof window.ontouchstart==="undefined"){return true;}_12a4=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(_12a4){if(_1289){_12a3=document.querySelector("meta[name=viewport]");if(_12a3){if(_12a3.content.indexOf("user-scalable=no")!==-1){return true;}if(_12a4>31&&document.documentElement.scrollWidth<=window.outerWidth){return true;}}}else{return true;}}if(_128d){_12a5=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(_12a5[1]>=10&&_12a5[2]>=3){_12a3=document.querySelector("meta[name=viewport]");if(_12a3){if(_12a3.content.indexOf("user-scalable=no")!==-1){return true;}if(document.documentElement.scrollWidth<=window.outerWidth){return true;}}}}if(layer.style.msTouchAction==="none"||layer.style.touchAction==="manipulation"){return true;}_12a6=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(_12a6>=27){_12a3=document.querySelector("meta[name=viewport]");if(_12a3&&(_12a3.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true;}}if(layer.style.touchAction==="none"||layer.style.touchAction==="manipulation"){return true;}return false;};_127d.attach=function(layer,_12a7){return new _127d(layer,_12a7);};if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define(function(){return _127d;});}else{if(typeof module!=="undefined"&&module.exports){module.exports=_127d.attach;module.exports.FastClick=_127d;}else{window.FastClick=_127d;}}}());},"dojox/date/buddhist":function(){define(["..","dojo/_base/lang","dojo/date","./buddhist/Date"],function(dojox,lang,dd,BDate){var _12a8=lang.getObject("date.buddhist",true,dojox);_12a8.getDaysInMonth=function(_12a9){return dd.getDaysInMonth(_12a9.toGregorian());};_12a8.isLeapYear=function(_12aa){return dd.isLeapYear(_12aa.toGregorian());};_12a8.compare=function(date1,date2,_12ab){return dd.compare(date1,date2,_12ab);};_12a8.add=function(date,_12ac,_12ad){var _12ae=new BDate(date);switch(_12ac){case "day":_12ae.setDate(date.getDate(true)+_12ad);break;case "weekday":var days,weeks;var mod=_12ad%5;if(!mod){days=(_12ad>0)?5:-5;weeks=(_12ad>0)?((_12ad-5)/5):((_12ad+5)/5);}else{days=mod;weeks=parseInt(_12ad/5);}var strt=date.getDay();var adj=0;if(strt==6&&_12ad>0){adj=1;}else{if(strt==0&&_12ad<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_12ad>0)?2:-2;}_12ad=(7*weeks)+days+adj;_12ae.setDate(date.getDate(true)+_12ad);break;case "year":_12ae.setFullYear(date.getFullYear()+_12ad);break;case "week":_12ad*=7;_12ae.setDate(date.getDate(true)+_12ad);break;case "month":_12ae.setMonth(date.getMonth()+_12ad);break;case "hour":_12ae.setHours(date.getHours()+_12ad);break;case "minute":_12ae._addMinutes(_12ad);break;case "second":_12ae._addSeconds(_12ad);break;case "millisecond":_12ae._addMilliseconds(_12ad);break;}return _12ae;};_12a8.difference=function(date1,date2,_12af){date2=date2||new BDate();_12af=_12af||"day";var _12b0=date2.getFullYear()-date1.getFullYear();var delta=1;switch(_12af){case "weekday":var days=Math.round(_12a8.difference(date1,date2,"day"));var weeks=parseInt(_12a8.difference(date1,date2,"week"));var mod=days%7;if(mod==0){days=weeks*5;}else{var adj=0;var aDay=date1.getDay();var bDay=date2.getDay();weeks=parseInt(days/7);mod=days%7;var _12b1=new BDate(date2);_12b1.setDate(_12b1.getDate(true)+(weeks*7));var _12b2=_12b1.getDay();if(days>0){switch(true){case aDay==5:adj=-1;break;case aDay==6:adj=0;break;case bDay==5:adj=-1;break;case bDay==6:adj=-2;break;case (_12b2+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==5:adj=0;break;case aDay==6:adj=1;break;case bDay==5:adj=2;break;case bDay==6:adj=1;break;case (_12b2+mod)<0:adj=2;}}}days+=adj;days-=(weeks*2);}delta=days;break;case "year":delta=_12b0;break;case "month":var _12b3=(date2.toGregorian()>date1.toGregorian())?date2:date1;var _12b4=(date2.toGregorian()>date1.toGregorian())?date1:date2;var _12b5=_12b3.getMonth();var _12b6=_12b4.getMonth();if(_12b0==0){delta=_12b3.getMonth()-_12b4.getMonth();}else{delta=12-_12b6;delta+=_12b5;var i=_12b4.getFullYear()+1;var e=_12b3.getFullYear();for(i;i<e;i++){delta+=12;}}if(date2.toGregorian()<date1.toGregorian()){delta=-delta;}break;case "week":delta=parseInt(_12a8.difference(date1,date2,"day")/7);break;case "day":delta/=24;case "hour":delta/=60;case "minute":delta/=60;case "second":delta/=1000;case "millisecond":delta*=date2.toGregorian().getTime()-date1.toGregorian().getTime();}return Math.round(delta);};return _12a8;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"dojox/date/buddhist/Date":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/date"],function(lang,_12b7,dd){var BDate=_12b7("dojox.date.buddhist.Date",null,{_date:0,_month:0,_year:0,_hours:0,_minutes:0,_seconds:0,_milliseconds:0,_day:0,constructor:function(){var len=arguments.length;if(!len){this.fromGregorian(new Date());}else{if(len==1){var arg0=arguments[0];if(typeof arg0=="number"){arg0=new Date(arg0);}if(arg0 instanceof Date){this.fromGregorian(arg0);}else{if(arg0==""){this._date=new Date("");}else{this._year=arg0._year;this._month=arg0._month;this._date=arg0._date;this._hours=arg0._hours;this._minutes=arg0._minutes;this._seconds=arg0._seconds;this._milliseconds=arg0._milliseconds;}}}else{if(len>=3){this._year+=arguments[0];this._month+=arguments[1];this._date+=arguments[2];if(this._month>11){console.warn("the month is incorrect , set 0");this._month=0;}this._hours+=arguments[3]||0;this._minutes+=arguments[4]||0;this._seconds+=arguments[5]||0;this._milliseconds+=arguments[6]||0;}}}},getDate:function(_12b8){return parseInt(this._date);},getMonth:function(){return parseInt(this._month);},getFullYear:function(){return parseInt(this._year);},getHours:function(){return this._hours;},getMinutes:function(){return this._minutes;},getSeconds:function(){return this._seconds;},getMilliseconds:function(){return this._milliseconds;},setDate:function(date){date=parseInt(date);if(date>0&&date<=this._getDaysInMonth(this._month,this._year)){this._date=date;}else{var mdays;if(date>0){for(mdays=this._getDaysInMonth(this._month,this._year);date>mdays;date-=mdays,mdays=this._getDaysInMonth(this._month,this._year)){this._month++;if(this._month>=12){this._year++;this._month-=12;}}this._date=date;}else{for(mdays=this._getDaysInMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1);date<=0;mdays=this._getDaysInMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1)){this._month--;if(this._month<0){this._year--;this._month+=12;}date+=mdays;}this._date=date;}}return this;},setFullYear:function(year,month,date){this._year=parseInt(year);},setMonth:function(month){this._year+=Math.floor(month/12);this._month=Math.floor(month%12);for(;this._month<0;this._month=this._month+12){}},setHours:function(){var _12b9=arguments.length;var hours=0;if(_12b9>=1){hours=parseInt(arguments[0]);}if(_12b9>=2){this._minutes=parseInt(arguments[1]);}if(_12b9>=3){this._seconds=parseInt(arguments[2]);}if(_12b9==4){this._milliseconds=parseInt(arguments[3]);}while(hours>=24){this._date++;var mdays=this._getDaysInMonth(this._month,this._year);if(this._date>mdays){this._month++;if(this._month>=12){this._year++;this._month-=12;}this._date-=mdays;}hours-=24;}this._hours=hours;},_addMinutes:function(_12ba){_12ba+=this._minutes;this.setMinutes(_12ba);this.setHours(this._hours+parseInt(_12ba/60));return this;},_addSeconds:function(_12bb){_12bb+=this._seconds;this.setSeconds(_12bb);this._addMinutes(parseInt(_12bb/60));return this;},_addMilliseconds:function(_12bc){_12bc+=this._milliseconds;this.setMilliseconds(_12bc);this._addSeconds(parseInt(_12bc/1000));return this;},setMinutes:function(_12bd){this._minutes=_12bd%60;return this;},setSeconds:function(_12be){this._seconds=_12be%60;return this;},setMilliseconds:function(_12bf){this._milliseconds=_12bf%1000;return this;},toString:function(){return isNaN(this._date)?"Invalid Date":this._date+", "+this._month+", "+this._year+"  "+this._hours+":"+this._minutes+":"+this._seconds;},_getDaysInMonth:function(month,year){return dd.getDaysInMonth(new Date(year-543,month));},fromGregorian:function(gdate){var date=new Date(gdate);this._date=date.getDate();this._month=date.getMonth();this._year=date.getFullYear()+543;this._hours=date.getHours();this._minutes=date.getMinutes();this._seconds=date.getSeconds();this._milliseconds=date.getMilliseconds();this._day=date.getDay();return this;},toGregorian:function(){return new Date(this._year-543,this._month,this._date,this._hours,this._minutes,this._seconds,this._milliseconds);},getDay:function(){return this.toGregorian().getDay();}});BDate.prototype.valueOf=function(){return this.toGregorian().valueOf();};return BDate;});},"dojox/date/buddhist/locale":function(){define(["../..","dojo/_base/lang","dojo/_base/array","dojo/date","dojo/i18n","dojo/regexp","dojo/string","./Date","dojo/i18n!dojo/cldr/nls/buddhist"],function(dojox,lang,arr,dd,i18n,_12c0,_12c1,BDate){var _12c2=lang.getObject("date.buddhist.locale",true,dojox);function _12c3(_12c4,_12c5,_12c6,_12c7,_12c8){return _12c8.replace(/([a-z])\1*/ig,function(match){var s,pad;var c=match.charAt(0);var l=match.length;var _12c9=["abbr","wide","narrow"];switch(c){case "G":s=_12c5["eraAbbr"][0];break;case "y":s=String(_12c4.getFullYear());break;case "M":var m=_12c4.getMonth();if(l<3){s=m+1;pad=true;}else{var propM=["months","format",_12c9[l-3]].join("-");s=_12c5[propM][m];}break;case "d":s=_12c4.getDate(true);pad=true;break;case "E":var d=_12c4.getDay();if(l<3){s=d+1;pad=true;}else{var propD=["days","format",_12c9[l-3]].join("-");s=_12c5[propD][d];}break;case "a":var _12ca=(_12c4.getHours()<12)?"am":"pm";s=_12c5["dayPeriods-format-wide-"+_12ca];break;case "h":case "H":case "K":case "k":var h=_12c4.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_12c4.getMinutes();pad=true;break;case "s":s=_12c4.getSeconds();pad=true;break;case "S":s=Math.round(_12c4.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "z":s=dd.getTimezoneName(_12c4.toGregorian());if(s){break;}l=4;case "Z":var _12cb=_12c4.toGregorian().getTimezoneOffset();var tz=[(_12cb<=0?"+":"-"),_12c1.pad(Math.floor(Math.abs(_12cb)/60),2),_12c1.pad(Math.abs(_12cb)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojox.date.buddhist.locale.formatPattern: invalid pattern char: "+_12c8);}if(pad){s=_12c1.pad(s,l);}return s;});};_12c2.format=function(_12cc,_12cd){_12cd=_12cd||{};var _12ce=i18n.normalizeLocale(_12cd.locale);var _12cf=_12cd.formatLength||"short";var _12d0=_12c2._getBuddhistBundle(_12ce);var str=[];var sauce=lang.hitch(this,_12c3,_12cc,_12d0,_12ce,_12cd.fullYear);if(_12cd.selector=="year"){var year=_12cc.getFullYear();return year;}if(_12cd.selector!="time"){var _12d1=_12cd.datePattern||_12d0["dateFormat-"+_12cf];if(_12d1){str.push(_12d2(_12d1,sauce));}}if(_12cd.selector!="date"){var _12d3=_12cd.timePattern||_12d0["timeFormat-"+_12cf];if(_12d3){str.push(_12d2(_12d3,sauce));}}var _12d4=str.join(" ");return _12d4;};_12c2.regexp=function(_12d5){return _12c2._parseInfo(_12d5).regexp;};_12c2._parseInfo=function(_12d6){_12d6=_12d6||{};var _12d7=i18n.normalizeLocale(_12d6.locale);var _12d8=_12c2._getBuddhistBundle(_12d7);var _12d9=_12d6.formatLength||"short";var _12da=_12d6.datePattern||_12d8["dateFormat-"+_12d9];var _12db=_12d6.timePattern||_12d8["timeFormat-"+_12d9];var _12dc;if(_12d6.selector=="date"){_12dc=_12da;}else{if(_12d6.selector=="time"){_12dc=_12db;}else{_12dc=(typeof (_12db)=="undefined")?_12da:_12da+" "+_12db;}}var _12dd=[];var re=_12d2(_12dc,lang.hitch(this,_12de,_12dd,_12d8,_12d6));return {regexp:re,tokens:_12dd,bundle:_12d8};};_12c2.parse=function(value,_12df){value=value.replace(/[\u200E\u200F\u202A-\u202E]/g,"");if(!_12df){_12df={};}var info=_12c2._parseInfo(_12df);var _12e0=info.tokens,_12e1=info.bundle;var re=new RegExp("^"+info.regexp+"$");var match=re.exec(value);var _12e2=i18n.normalizeLocale(_12df.locale);if(!match){return null;}var date,date1;var _12e3=[2513,0,1,0,0,0,0];var amPm="";var _12e4=0;var _12e5=["abbr","wide","narrow"];var valid=arr.every(match,function(v,i){if(!i){return true;}var token=_12e0[i-1];var l=token.length;switch(token.charAt(0)){case "y":_12e3[0]=Number(v);break;case "M":if(l>2){var _12e6=_12e1["months-format-"+_12e5[l-3]].concat();if(!_12df.strict){v=v.replace(".","").toLowerCase();_12e6=arr.map(_12e6,function(s){return s?s.replace(".","").toLowerCase():s;});}v=arr.indexOf(_12e6,v);if(v==-1){return false;}_12e4=l;}else{v--;}_12e3[1]=Number(v);break;case "D":_12e3[1]=0;case "d":_12e3[2]=Number(v);break;case "a":var am=_12df.am||_12e1["dayPeriods-format-wide-am"],pm=_12df.pm||_12e1["dayPeriods-format-wide-pm"];if(!_12df.strict){var _12e7=/\./g;v=v.replace(_12e7,"").toLowerCase();am=am.replace(_12e7,"").toLowerCase();pm=pm.replace(_12e7,"").toLowerCase();}if(_12df.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":_12e3[3]=Number(v);break;case "m":_12e3[4]=Number(v);break;case "s":_12e3[5]=Number(v);break;case "S":_12e3[6]=Number(v);}return true;});var hours=+_12e3[3];if(amPm==="p"&&hours<12){_12e3[3]=hours+12;}else{if(amPm==="a"&&hours==12){_12e3[3]=0;}}var _12e8=new BDate(_12e3[0],_12e3[1],_12e3[2],_12e3[3],_12e3[4],_12e3[5],_12e3[6]);return _12e8;};function _12d2(_12e9,_12ea,_12eb,_12ec){var _12ed=function(x){return x;};_12ea=_12ea||_12ed;_12eb=_12eb||_12ed;_12ec=_12ec||_12ed;var _12ee=_12e9.match(/(''|[^'])+/g);var _12ef=_12e9.charAt(0)=="'";arr.forEach(_12ee,function(chunk,i){if(!chunk){_12ee[i]="";}else{_12ee[i]=(_12ef?_12eb:_12ea)(chunk);_12ef=!_12ef;}});return _12ec(_12ee.join(""));};function _12de(_12f0,_12f1,_12f2,_12f3){_12f3=_12c0.escapeString(_12f3);var _12f4=i18n.normalizeLocale(_12f2.locale);return _12f3.replace(/([a-z])\1*/ig,function(match){var s;var c=match.charAt(0);var l=match.length;var p2="",p3="";if(_12f2.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d+";break;case "M":s=(l>2)?"\\S+":p2+"[1-9]|1[0-2]";break;case "d":s="[12]\\d|"+p2+"[1-9]|3[01]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s=p2+"\\d|[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_12f2.am||_12f1["dayPeriods-format-wide-am"],pm=_12f2.pm||_12f1["dayPeriods-format-wide-pm"];if(_12f2.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}}break;default:s=".*";}if(_12f0){_12f0.push(match);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _12f5=[];_12c2.addCustomFormats=function(_12f6,_12f7){_12f5.push({pkg:_12f6,name:_12f7});};_12c2._getBuddhistBundle=function(_12f8){var _12f9={};arr.forEach(_12f5,function(desc){var _12fa=i18n.getLocalization(desc.pkg,desc.name,_12f8);_12f9=lang.mixin(_12f9,_12fa);},this);return _12f9;};_12c2.addCustomFormats("dojo.cldr","buddhist");_12c2.getNames=function(item,type,_12fb,_12fc,date){var label;var _12fd=_12c2._getBuddhistBundle(_12fc);var props=[item,_12fb,type];if(_12fb=="standAlone"){var key=props.join("-");label=_12fd[key];if(label[0]==1){label=undefined;}}props[1]="format";return (label||_12fd[props.join("-")]).concat();};return _12c2;});},"dojo/cldr/nls/buddhist":function(){define({root:{"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"months-format-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"field-second-relative+0":"now","quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday","dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"MMM d, E","eraNarrow":["BE"],"field-tue-relative+-1":"last Tuesday","days-format-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"G y MMMM d","field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"dateFormatItem-yyyyQQQ":"G y QQQ","dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"G y MMMM d, EEEE","dateFormatItem-yyyyMEd":"GGGGG y-MM-dd, E","field-thu-relative+-1":"last Thursday","dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","field-era":"Era","months-standAlone-wide":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"timeFormat-long":"HH:mm:ss z","field-year":"Year","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday","timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday","dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-yyyyMMMEd":"G y MMM d, E","dateFormatItem-M":"L","days-standAlone-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-yyyyMMM":"G y MMM","dateFormatItem-yyyyMMMd":"G y MMM d","dayPeriods-format-abbr-noon":"noon","timeFormat-medium":"HH:mm:ss","field-sun-relative+0":"this Sunday","dateFormatItem-Hm":"HH:mm","field-sun-relative+1":"next Sunday","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraAbbr":["BE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-h":"h a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E","dateTimeFormat-full":"{1} {0}","field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"field-zone":"Zone","months-standAlone-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"dateFormatItem-y":"G y","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{1} {0}","dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"eraNames":["BE"],"days-format-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-yyyyMd":"GGGGG y-MM-dd","field-month":"Month","days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","field-tue-relative+0":"this Tuesday","field-tue-relative+1":"next Tuesday","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormatItem-EHm":"E HH:mm","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday","dateFormat-short":"GGGGG y-MM-dd","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","field-sat-relative+-1":"last Saturday","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateTimeFormats-appendItem-Timezone":"{0} {1}","dateFormatItem-Ed":"d, E","field-week":"Week","dateFormat-medium":"G y MMM d","field-week-relative+-1":"last week","field-year-relative+0":"this year","dateFormatItem-yyyyM":"GGGGG y-MM","field-year-relative+1":"next year","dayPeriods-format-narrow-pm":"p","dateFormatItem-yyyyQQQQ":"G y QQQQ","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM","field-mon-relative+-1":"last Monday","dateFormatItem-yyyy":"G y","field-week-relative+0":"this week","field-week-relative+1":"next week"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"es":true,"fi":true,"fr":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true});},"dojo/cldr/nls/en/buddhist":function(){define({"field-second-relative+0":"now","field-weekday":"Day of the Week","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday","dateFormatItem-GyMMMEd":"E, MMM d, y G","dateFormatItem-MMMEd":"E, MMM d","field-tue-relative+-1":"last Tuesday","days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"dateFormat-long":"MMMM d, y G","field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"dateFormatItem-yyyyQQQ":"QQQ y G","dateTimeFormat-medium":"{1}, {0}","dateFormat-full":"EEEE, MMMM d, y G","dateFormatItem-yyyyMEd":"E, M/d/y GGGGG","field-thu-relative+-1":"last Thursday","dateFormatItem-Md":"M/d","field-era":"Era","timeFormat-short":"h:mm a","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"timeFormat-long":"h:mm:ss a z","field-year":"Year","dateTimeFormats-appendItem-Era":"{0} {1}","field-hour":"Hour","months-format-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday","timeFormat-full":"h:mm:ss a zzzz","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday","dateFormatItem-GyMMMd":"MMM d, y G","dateFormatItem-Gy":"y G","dateFormatItem-yyyyMMMEd":"E, MMM d, y G","dateFormatItem-yyyyMMM":"MMM y G","dateFormatItem-yyyyMMMd":"MMM d, y G","timeFormat-medium":"h:mm:ss a","field-sun-relative+0":"this Sunday","field-sun-relative+1":"next Sunday","eraAbbr":["BE"],"field-minute":"Minute","field-dayperiod":"AM/PM","field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} 'at' {0}","dateFormatItem-MEd":"E, M/d","dateTimeFormat-full":"{1} 'at' {0}","field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"field-zone":"Time Zone","dateFormatItem-y":"y G","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{0} {1}","dateFormatItem-yyyyMd":"M/d/y GGGGG","field-month":"Month","field-tue-relative+0":"this Tuesday","field-tue-relative+1":"next Tuesday","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday","dateFormat-short":"M/d/y GGGGG","field-second":"Second","field-sat-relative+-1":"last Saturday","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateFormatItem-Ed":"d E","field-week":"Week","dateFormat-medium":"MMM d, y G","field-year-relative+0":"this year","field-week-relative+-1":"last week","dateFormatItem-yyyyM":"M/y GGGGG","field-year-relative+1":"next year","dateFormatItem-yyyyQQQQ":"QQQQ y G","dateTimeFormat-short":"{1}, {0}","dateFormatItem-GyMMM":"MMM y G","field-mon-relative+-1":"last Monday","dateFormatItem-yyyy":"y G","field-week-relative+0":"this week","field-week-relative+1":"next week"});},"dojo/cldr/nls/nl/buddhist":function(){define({"days-standAlone-short":["zo","ma","di","wo","do","vr","za"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-second-relative+0":"nu","field-weekday":"Dag van de week","field-wed-relative+0":"deze woensdag","field-wed-relative+1":"volgende week woensdag","dateFormatItem-GyMMMEd":"E d MMM y G","dateFormatItem-MMMEd":"E d MMM","field-tue-relative+-1":"afgelopen dinsdag","days-format-short":["zo","ma","di","wo","do","vr","za"],"dateFormat-long":"d MMMM y G","field-fri-relative+-1":"afgelopen vrijdag","field-wed-relative+-1":"afgelopen woensdag","months-format-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"dateFormatItem-yyyyQQQ":"QQQ y G","dateFormat-full":"EEEE d MMMM y G","dateFormatItem-yyyyMEd":"E d-M-y GGGGG","field-thu-relative+-1":"afgelopen donderdag","dateFormatItem-Md":"d-M","dayPeriods-format-wide-noon":"12 uur 's middags","field-era":"Tijdperk","months-standAlone-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"quarters-format-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"field-year":"Jaar","dateFormatItem-yyyyMMMM":"MMMM y G","field-hour":"Uur","months-format-abbr":["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],"field-sat-relative+0":"deze zaterdag","field-sat-relative+1":"volgende week zaterdag","field-day-relative+0":"vandaag","field-thu-relative+0":"deze donderdag","field-day-relative+1":"morgen","field-thu-relative+1":"volgende week donderdag","dateFormatItem-GyMMMd":"d MMM y G","field-day-relative+2":"overmorgen","months-standAlone-abbr":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],"quarters-format-abbr":["K1","K2","K3","K4"],"quarters-standAlone-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"dateFormatItem-Gy":"y G","dateFormatItem-yyyyMMMEd":"E d MMM y G","dateFormatItem-M":"L","days-standAlone-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"dateFormatItem-yyyyMMM":"MMM y G","dateFormatItem-yyyyMMMd":"d MMM y G","dateFormatItem-MMMMd":"d MMMM","dayPeriods-format-abbr-noon":"12 uur 's middags","field-sun-relative+0":"deze zondag","field-sun-relative+1":"volgende week zondag","quarters-standAlone-abbr":["K1","K2","K3","K4"],"eraAbbr":["BE"],"field-minute":"Minuut","field-dayperiod":"AM/PM","days-standAlone-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-d":"d","field-day-relative+-1":"gisteren","dayPeriods-format-narrow-am":"AM","field-day-relative+-2":"eergisteren","dateFormatItem-MMMd":"d MMM","dateFormatItem-MEd":"E d-M","field-fri-relative+0":"deze vrijdag","field-fri-relative+1":"volgende week vrijdag","field-day":"Dag","days-format-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"field-zone":"Zone","dateFormatItem-y":"y G","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"vorig jaar","field-month-relative+-1":"vorige maand","days-format-abbr":["zo","ma","di","wo","do","vr","za"],"days-format-narrow":["Z","M","D","W","D","V","Z"],"dateFormatItem-yyyyMd":"d-M-y GGGGG","field-month":"Maand","dateFormatItem-MMM":"LLL","days-standAlone-narrow":["Z","M","D","W","D","V","Z"],"field-tue-relative+0":"deze dinsdag","field-tue-relative+1":"volgende week dinsdag","field-mon-relative+0":"deze maandag","field-mon-relative+1":"volgende week maandag","dateFormat-short":"dd-MM-yy GGGGG","field-second":"Seconde","field-sat-relative+-1":"afgelopen zaterdag","field-sun-relative+-1":"afgelopen zondag","field-month-relative+0":"deze maand","field-month-relative+1":"volgende maand","dateFormatItem-Ed":"E d","field-week":"Week","dateFormat-medium":"d MMM y G","field-year-relative+0":"dit jaar","field-week-relative+-1":"vorige week","dateFormatItem-yyyyM":"M-y GGGGG","field-year-relative+1":"volgend jaar","dayPeriods-format-narrow-pm":"PM","dateFormatItem-yyyyQQQQ":"QQQQ y G","dateFormatItem-GyMMM":"MMM y G","field-mon-relative+-1":"afgelopen maandag","dateFormatItem-yyyy":"y G","field-week-relative+0":"deze week","field-week-relative+1":"volgende week"});},"mxui/lib/action/doNothing":function(){define(["mxui/lib/actionRegistry"],function(_12fe){_12fe.add("doNothing",function(_12ff){});});},"mxui/lib/action/openPage":function(){define(["dojo/_base/lang","mxui/lib/actionRegistry","mendix/lang","mendix/lib/ValidationError"],function(_1300,_1301,lang,_1302){function _1303(e){if(!(e instanceof _1302)){window.mx.onError(e);}};_1301.add("openPage",function(_1304){var todo=[];if(_1304.abortOnClientValidations){todo.push(function(_1305){_1304.origin.validate(_1305,_1304.error||_1303);});}if(_1304.abortOnServerValidations){todo.push(function(_1306){_1304.origin.validateRemote(_1306,_1304.error||_1303);});}lang.sequence(todo,function(){window.mx.ui.openForm(_1304.path,_1304);});});});},"mxui/lib/action/callMicroflow":function(){define(["mxui/lib/actionRegistry","mendix/lang","mendix/lib/ValidationError"],function(_1307,lang,_1308){function _1309(e){if(!(e instanceof _1308)){window.mx.onError(e);}};_1307.add("callMicroflow",function(_130a){var todo=[];if(_130a.confirmation){todo.push(function(_130b){window.mx.ui.confirmation({cancel:_130a.confirmation.cancel,proceed:_130a.confirmation.proceed,content:_130a.confirmation.question,handler:_130b});});}if(_130a.abortOnClientValidations&&_130a.validate==="view"){todo.push(function(_130c){_130a.origin.validate(_130c,_130a.error||_1309);});}_130a.params=_130a.params||{};if(_130a.abortOnServerValidations){_130a.params=Object.assign(_130a.params,{validationGuids:_130a.origin.getSubmitGuids()});}todo.push(function(_130d){_130a.origin.submit(_130d,_130a.error||_1309);});lang.sequence(todo,function(){window.mx.ui.action(_130a.name,_130a);});});});},"mxui/sys/Router":function(){define(["mxui/lib/form/ContentForm","mxui/lib/form/FormFactory","mxui/lib/pageTemplating/TemplateProvider","mxui/lib/browserBackend","mxui/sys/history","mendix/lib/Error","mendix/lib/MxContext","mendix/lib/NavigationError","mendix/lang","mendix/logger","dojo/_base/array","dojo/aspect"],function(_130e,_130f,_1310,_1311,_1312,_1313,_1314,_1315,lang,_1316,_1317,_1318){function _1319(){this._templateProvider=new _1310();this._contentForm=new _130e();this._formFactory=new _130f(this._templateProvider);};_1319.prototype.startup=function(_131a){var self=this,_131b=null,_131c=null,_131d={};_1312.init();var _131e=document.getElementById("content");if(!_131e){alert("You are using an outdated index page. Please update your index page. See index-example.html in the deployment directory for an example of what the index page should look like.");return;}_131e.appendChild(this._contentForm.domNode);document.title=_131a.profile;this._contentForm.listen("close",function(_131f){_1312.back();if(_131f){_131f();}});_1318.after(this._contentForm,"onLoading",function(){self._templateProvider.add(self._contentForm.widgetTemplates);});_1318.after(this._contentForm,"onNavigation",function(){var title=_131a.profile+" - "+self._contentForm.title;var url=self._contentForm.url?_131a.urlPrefix+self._contentForm.url:_1311.location.pathname();_1312.replace(title,url+_1311.location.search());});_1318.after(_1312,"onNavigation",_1320,true);function _1320(_1321,_1322){var _1323=_1322.formParams,_1324;if(!_131b){_131b=window.mx.ui.showProgress();}if(_1321){_1324={};self._contentForm.onPersistViewState(_1324);}self._contentForm.navigateTo(_1323.path,_1323.title,_1314.fromJSON(_1323.context),_1323.params,_1322.id in _131d?window.JSON.parse(_131d[_1322.id]):{},function(){_1325();window.mx.ui.hideProgress(_131b);_131b=null;},function(e){_1325();if(e instanceof _1315){_131c=_1322.id;}else{window.mx.ui.hideProgress(_131b);_131b=null;window.mx.onError(e);}});function _1325(){if(!_1321){return;}if(_1321.id===_131c){_131c=null;}else{try{_131d[_1321.id]=window.JSON.stringify(_1324);}catch(e){throw new _1313("One of the widgets on the previous page tried to store a complex object in its viewState");}}};};};_1319.prototype.openFormInContent=function(path,title,_1326,_1327,_1328){_1312.push({id:lang.getUniqueId(),formParams:{path:path,title:title,context:(_1326||new _1314()).toJSON(),params:_1327||{}}});if(_1328){_1328();}};_1319.prototype.openFormInPopup=function(path,args,_1329,_132a,_132b,error){var pid=window.mx.ui.showProgress();this._formFactory.openPopupForm(path,args,(_1329||new _1314()),(_132a||{}),function(form){window.mx.ui.hideProgress(pid);_132b&&_132b(form);},function(e){window.mx.ui.hideProgress(pid);error?error(e):window.mx.onError(e);});};_1319.prototype.openFormInNode=function(path,_132c,_132d,_132e,_132f,error){var pid=window.mx.ui.showProgress();this._formFactory.openInlineForm(path,_132c,(_132d||new _1314()),(_132e||{}),function(form){window.mx.ui.hideProgress(pid);_132f&&_132f(form);},function(e){window.mx.ui.hideProgress(pid);error?error(e):window.mx.onError(e);});};_1319.prototype.getTemplate=function(id,name){return this._templateProvider.get(id,name);};_1319.prototype.getContentForm=function(){return this._contentForm;};return _1319;});},"mxui/lib/form/ContentForm":function(){define(["mxui/lib/pageTemplating/pageProvider","mxui/lib/pageTemplating/pageComponentComposer","mxui/lib/incubator","mxui/lib/form/_FormBase","mxui/wm/focus","mxui/widget","mxui/dom","mendix/lang","mendix/lib/NavigationError","dojo/Deferred","dojo/promise/all","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_1330,_1331,_1332,_1333,focus,_1334,dom,lang,_1335,_1336,_1337,_1338,_1339,_133a,_133b){var $=dom.create;function _133c(_133d,_133e){var _133f=_133d.findPlaceholder(_133e);var _1340=_1332.conceiveSuccessor(_133f);_133d.appendTo(_1340);return _1340;};var _1341=_133b(_1333,{_currentLayouts:null,_pendingRequest:null,widgetTemplates:null,constructor:function(){this._currentLayouts=[];this.place="content";this.id="ContentForm";this.domNode=$("div",{"class":"mx-page"},$("div",{"class":"mx-placeholder","data-mx-placeholder":"main"}));},_updatePropertiesFrom:function(page,_1342,_1343,_1344){this._context=_1342;this.id=page.id;this.path=page.path;this.hash=lang.getUniqueId();this.title=_1344||page.title;this.url=page.url;this.widgetTemplates=page.widgetTemplates;this.viewState=_1343;this.onLoading();},navigateTo:function(path,_1345,_1346,_1347,_1348,_1349,error){var self=this,_134a=[];if(this._pendingRequest){this._pendingRequest.cancel(new _1335("Loading of a page has been superseded by request for "+path));}this._pendingRequest=(function(){var _134b=new _1336();_1330.get(path,_134b.resolve,_134b.reject);return _134b;})().then(function(page){var _134c=new _1336();_1331.composeNewComponentsIn(page,self._currentLayouts,_134c.resolve,_134c.reject);return _134c;}).then(function(page){_134a=lang.map(page.components,function(_134d){return _133c(_134d,self.domNode);});self._updatePropertiesFrom(page,_1346,_1348,_1345);_1347=_133a.mixin({},_1347,{mxform:self});return _1337(lang.map(_134a,function(_134e){var _134f=new _1336();_1334.loadWidgetsIn(_134e,_1347,_1346,_134f.resolve);return _134f;})).then(function(){return page;});}).then(function(page){self._currentLayouts=page.layouts;self.domNode.className="mx-page "+page["class"];self.domNode.style.cssText=page.style||"";lang.forEach(_134a,function(_1350){_1332.hatch(_1350);dom.scrollOverflowParentTo(_1350,0);});self.onNavigation();self.resize(true);if(!focus.get()){focus.first(self.domNode);}self._pendingRequest=null;if(_1349){_1349();}}).otherwise(function(e){lang.forEach(_134a,function(_1351){_1332.abort(_1351);});error?error(e):window.mx.onError(e);});},resize:function(force){if(force||!this._pendingRequest){this.inherited(arguments);}},onResize:function(){this.domNode.style.height="100%";_1334.resizeWidgetsIn(this.domNode);this.domNode.style.height="";},onLoading:function(){}});return _1341;});},"mxui/lib/pageTemplating/pageProvider":function(){define(["mxui/lib/pageTemplating/roleFilter","mxui/lib/pageTemplating/PageComponent","mxui/dom","mendix/lib/Error","dojo/sniff","dojo/_base/array","dojo/_base/lang"],function(_1352,_1353,dom,Error,_1354,_1355,_1356){"use strict";function _1357(_1358){var _1359=[];while(_1358.firstChild){_1359.push(document.adoptNode(_1358.firstChild));}return _1355.filter(_1355.map(_1359,function(_135a){return _1352.filterDom(_135a);}),function(node){return node!=null;});};function _135b(nodes){var _135c=document.createDocumentFragment();_1355.forEach(nodes,_1356.hitch(_135c,_135c.appendChild));return _135c;};function _135d(xml){return _1355.map(dom.getElementsByTagNameNoNS(xml,"layout"),function(elem){return elem.getAttribute("path");}).reverse();};function _135e(xml){return _1355.map(dom.getElementsByTagNameNoNS(xml,"argument"),function(elem){return new _1353(elem.getAttribute("parameterName")||"main",_1357(elem));});};function _135f(xml){var _1360={};_1355.forEach(dom.getElementsByTagNameNoNS(xml,"template"),function(elem){var data={widgetId:elem.getAttribute("widget-id"),templateName:elem.getAttribute("name"),content:_135b(_1357(elem))};if(!_1360[data.widgetId]){_1360[data.widgetId]={};}_1360[data.widgetId][data.templateName]=data.content;});return _1360;};function _1361(xml,_1362){var _1363=xml.documentElement;return {id:_1363.getAttribute("id")||"",title:_1363.getAttribute("title")||"","class":_1363.getAttribute("class")||"",style:_1363.getAttribute("style")||"",url:_1363.getAttribute("url"),closeButton:_1363.getAttribute("closeButton"),path:_1362,layouts:_135d(xml),components:_135e(xml),widgetTemplates:_135f(xml)};};var _1364={get:function(path,_1365,error){var _1366="pages/"+window.mx.session.getConfig("uiconfig.locale");window.mx.server.get({url:_1366+"/"+path,failOk:false,handleAs:"xml",load:function(_1367){_1365(_1361(_1367,path));},error:error});}};return _1364;});},"mxui/lib/pageTemplating/roleFilter":function(){define(["mxui/dom","mendix/lang","dojo/_base/array"],function(_1368,lang,_1369){"use strict";var _136a="data-mendix-roles";function _136b(_136c,_136d){var value=_136c.getAttribute(_136d);_136c.removeAttribute(_136d);return value;};function _136e(_136f,_1370){var _1371=_136b(_136f,_136a).split(","),_1372=_1369.some(_1371,function(role){return lang.inArray(_1370,role);});return !_1372;};return {filterDom:function(_1373){if(!(_1373 instanceof Element)){return _1373;}var _1374=window.mx.session.getUserRoles("Name");if(_1373.hasAttribute(_136a)&&_136e(_1373,_1374)){return null;}_1369.forEach(_1373.querySelectorAll("["+_136a+"]"),function(_1375){if(_136e(_1375,_1374)){_1368.orphan(_1375);}});return _1373;}};});},"mxui/lib/pageTemplating/PageComponent":function(){define(["dojo/_base/array","dojo/_base/lang"],function(_1376,_1377){"use strict";function _1378(id,_1379){this._id=id;this._content=_1379;};_1378.prototype.findPlaceholder=function(root){return root.querySelector("[data-mx-placeholder='"+this._id+"']");};_1378.prototype.appendTo=function(_137a){_1376.forEach(this._content,_1377.hitch(_137a,_137a.appendChild));};return _1378;});},"mxui/lib/pageTemplating/pageComponentComposer":function(){define(["mxui/lib/pageTemplating/pageProvider","mendix/lang","dojo/_base/array","dojo/_base/lang"],function(_137b,lang,_137c,_137d){"use strict";function _137e(_137f,_1380){for(var i=0;i<_1380.length;++i){if(_1380[i]!=_137f[i]){return _1380.slice(i);}}return [];};function _1381(_1382,_1383){var _1384=document.createDocumentFragment();_137c.forEach(_1382,function(_1385){_1385.appendTo(_1384);});_137c.forEach(_1383,function(_1386){_1386.appendTo(_1386.findPlaceholder(_1384));});return _1382;};function _1387(_1388,page,_1389,error){var _138a=[],_138b=_137d.mixin({},page.widgetTemplates),err;_138a[_1388.length]=page.components;lang.collect(_137c.map(_1388,function(_138c,_138d){return function(_138e){_137b.get(_138c,function(_138f){_138a[_138d]=_138f.components;_138b=_137d.mixin(_138b,_138f.widgetTemplates);_138e();},function(e){err=e;_138e();});};}),function(){if(err){error(err);return;}var _1390=_138a[0],_1391=lang.flatten(_138a.slice(1)),_1392=_1381(_1390,_1391);_1389(_1392,_138b);});};var _1393={composeNewComponentsIn:function(page,_1394,_1395,error){var _1396=_137e(_1394,page.layouts);_1387(_1396,page,function(_1397,_1398){_1395(_137d.mixin({},page,{components:_1397,widgetTemplates:_1398}));},error);},composeAllComponentsIn:function(page,_1399,error){_1393.composeNewComponentsIn(page,[],_1399,error);}};return _1393;});},"mxui/lib/incubator":function(){define(["mxui/widget","mxui/dom","mendix/lang"],function(_139a,dom,lang){"use strict";var _139b=null,data=[];function _139c(){if(!_139b){_139b=dom.create("div",{"class":"mx-incubator mx-offscreen"});document.body.appendChild(_139b);}return _139b;};var _139d={conceiveSuccessor:function(_139e){var _139f=_139e.cloneNode(false);data.push({predecessor:_139e,embryo:_139f});_139c().appendChild(_139f);return _139f;},abort:function(_13a0){var index=lang.findIndex(data,function(item){return item&&item.embryo==_13a0;});if(index!=-1){delete data[index];_139a.destroyWidgetsIn(_13a0);dom.orphan(_13a0);}},hatch:function(_13a1){var index=lang.findIndex(data,function(item){return item&&item.embryo==_13a1;});if(index!=-1){var _13a2=data[index].predecessor;_139a.destroyWidgetsIn(_13a2);_13a2.parentNode.replaceChild(_13a1,_13a2);delete data[index];}}};return _139d;});},"mxui/lib/form/_FormBase":function(){define(["mxui/lib/form/FormData","mxui/wm/focus","mxui/widget","mendix/lang","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dijit/registry"],function(_13a3,focus,_13a4,lang,_13a5,_13a6,_13a7,_13a8,_13a9){"use strict";var _13aa;var _13ab=_13a8(null,{id:"",hash:"",title:"",place:"",path:"",viewState:null,_suspended:false,_listeners:null,_formData:null,_context:null,domNode:null,constructor:function(){this.hash=lang.getUniqueId();this._listeners={};this._formData=new _13a3();this.listen("commit",this._formData.commit.bind(this._formData));this.listen("rollback",this._formData.rollback.bind(this._formData));},postscript:function(){focus.addBox(this.domNode);focus.cyclic(this.domNode,true);},getTitle:function(){return this.title;},getContext:function(){return this._context;},reload:function(_13ac){_13a4.applyContext(_13a9.findWidgets(this.domNode),this._context,_13ac);},onNavigation:function(){},onPersistViewState:function(_13ad){},onResume:function(){},validate:function(_13ae,error){this.publish("validate",_13ae,error);},validateRemote:function(_13af,error){this._formData.validateRemote(_13af,error);},submit:function(_13b0,error){this.publish("submit",_13b0,error);},commit:function(_13b1,error){this._suspended=true;this.publish("submit",function(){this.publish("commit",this._resumeCallback(_13b1),this._resumeCallback(error));}.bind(this),this._resumeCallback(error));},rollback:function(_13b2,error){this._suspended=true;this.publish("rollback",this._resumeCallback(_13b2),this._resumeCallback(error));},close:function(_13b3){this.publish("close",_13b3,null);},publish:function(_13b4,_13b5,error,data){var list=this._listeners[_13b4];if(list){var chain=[];for(var item in list){chain.unshift(_13a7.partial(function(func,next){func(next,error,data);},list[item]));}lang.sequence(chain,_13b5);}else{if(_13b5){_13b5();}}},listen:function(_13b6,_13b7){var sid=lang.getUniqueId(),list=this._listeners[_13b6]||(this._listeners[_13b6]={});list[sid]=_13b7;return [_13b6,sid];},unlisten:function(_13b8){var sid=_13b8[1],msg=_13b8[0],list=this._listeners[msg];if(list){delete list[sid];for(var i in list){return;}delete this._listeners[msg];}},addSubmitProvider:function(name,_13b9){return this._formData.addSubmitProvider(name,_13b9);},getSubmitGuids:function(){return this._formData.getSubmitGuids();},isSuspended:function(){return this._suspended;},getChildren:function(_13ba){if(_13ba){return _13a4.getDescendantWidgets(this.domNode);}else{return _13a9.findWidgets(this.domNode);}},callRecursive:function(_13bb,_13bc){var _13bd=this.getChildren(),args=Array.prototype.slice.call(arguments,1);for(var i=0,child;child=_13bd[i];i++){if(child[_13bb]){child[_13bb].apply(child,args);}}},enable:function(){this.callRecursive("set","disabled",true);},disable:function(){this.callRecursive("set","disabled",false);},resize:function(force){var self=this;window.clearTimeout(_13aa);if(force===true){_13be();}else{_13aa=window.setTimeout(_13be,0);}function _13be(){_13a5.add(document.body,"mx-no-scroll");self.onResize();setTimeout(function(){_13a5.remove(document.body,"mx-no-scroll");},0);};},onResize:function(){},_resumeCallback:function(_13bf){var self=this;return function(){self._suspended=false;self.onResume();if(_13bf){_13bf.apply(null,arguments);}};}});return _13ab;});},"mxui/lib/form/FormData":function(){define(["mendix/lang","dojo/_base/declare"],function(lang,_13c0){var _13c1=_13c0(null,{_objectProviders:null,constructor:function(){this._objectProviders=[];},validateRemote:function(_13c2,error){mx.data.validate(this._getObjectsFromProviders(),_13c2,error);},commit:function(_13c3,error){mx.data.commit({mxobjs:this._getObjectsFromProviders(),callback:_13c3,error:error});},rollback:function(_13c4,error){mx.data.rollback({mxobjs:this._getObjectsFromProviders(),callback:_13c4,error:error});},addSubmitProvider:function(name,_13c5){this._objectProviders.push(_13c5);return {remove:function(){var index=this._objectProviders.indexOf(_13c5);if(index!==-1){this._objectProviders.splice(index,1);}}.bind(this)};},getSubmitGuids:function(){return this._getObjectsFromProviders().map(function(obj){return obj.getGuid();});},_getObjectsFromProviders:function(){var _13c6=lang.flatten(this._objectProviders.map(function(_13c7){return _13c7();}));return _13c8(_13c6);}});return _13c1;function _13c8(_13c9){var _13ca={};_13c9.forEach(function(mxobj){_13ca[mxobj.getGuid()]=mxobj;});var _13cb=[];for(var guid in _13ca){_13cb.push(_13ca[guid]);}return _13cb;};});},"mxui/lib/form/FormFactory":function(){define(["mxui/lib/form/InlineForm","mxui/lib/pageTemplating/pageProvider","mxui/lib/pageTemplating/pageComponentComposer","mxui/widget/Window","mxui/widget","mendix/lang","dojo/on","dojo/aspect","dojo/dom-class","dojo/_base/lang"],function(_13cc,_13cd,_13ce,_13cf,_13d0,lang,_13d1,_13d2,_13d3,_13d4){"use strict";function _13d5(path,_13d6,error){_13cd.get(path,function(page){_13ce.composeAllComponentsIn(page,_13d6,error);},error);};function _13d7(_13d8){this._templateProvider=_13d8;};_13d7.prototype.openPopupForm=function(path,_13d9,_13da,_13db,_13dc,error){var self=this;_13d5(path,function(page){self._templateProvider.add(page.widgetTemplates);var form=new _13cc("popup",page,_13db,_13d9.title),wnd=new _13cf({title:form.title,width:_13d9.width,height:_13d9.height,resizable:"resizable" in _13d9?_13d9.resizable:true,content:form.domNode,cssClass:page["class"],cssStyle:page.style});_13d2.after(form,"onResize",_13d4.hitch(wnd,"resize"));_13d2.after(wnd,"onClose",function(){var _13dd=page.closeButton&&_13d0.findWidgetByMxId(page.closeButton,form.domNode);if(_13dd&&!_13dd.get("disabled")){_13dd.onClick();}else{form.rollback(function(){form.close();});}});_13d2.before(wnd,"onBeforeShow",function(){form.onBeforeShow();form.onNavigation();});_13d2.before(wnd,"onAfterShow",_13d4.hitch(form,"onAfterShow"));form.listen("close",wnd.hide.bind(wnd));_13d2.before(wnd,"onHide",_13d4.hitch(form,"onBeforeHide"));_13d2.before(wnd,"destroy",function(){form.onAfterHide();form.destroy();});form.loadWidgets(_13da,function(){wnd.show(_13d9.modal,function(){if(_13dc){_13dc(form);}});});},error);};_13d7.prototype.openInlineForm=function(path,_13de,_13df,_13e0,_13e1,error){var self=this;_13d5(path,function(page){self._templateProvider.add(page.widgetTemplates);var form=new _13cc("custom",page,_13e0);_13d3.add(form.domNode,"mx-offscreen");_13de.appendChild(form.domNode);form.listen("close",function(_13e2){form.onBeforeHide();_13d3.add(form.domNode,"mx-offscreen");form.onAfterHide();form.destroy();if(_13e2){_13e2();}});form.loadWidgets(_13df,function(){form.onBeforeShow();form.onNavigation();_13d3.remove(form.domNode,"mx-offscreen");form.onAfterShow();if(_13e1){_13e1(form);}});},error);};return _13d7;});},"mxui/lib/form/InlineForm":function(){define(["mxui/lib/form/_FormBase","mxui/widget","mxui/wm/focus","mxui/dom","mendix/lib/Error","dojo/_base/lang","dojo/_base/declare"],function(_13e3,_13e4,focus,dom,Error,_13e5,_13e6){"use strict";var _13e7=_13e6(_13e3,{_params:null,constructor:function(place,page,_13e8,_13e9){this.place=place;this.path=page.path;this.title=_13e9||page.title;this._params=_13e5.mixin({},_13e8,{mxform:this});this.domNode=dom.create("div");if(page.components.length!=1){throw new Error("Got "+page.components.length+" top level templates while expecting only one, on page "+this.path);}page.components[0].appendTo(this.domNode);},loadWidgets:function(_13ea,_13eb){this._context=_13ea;_13e4.loadWidgetsIn(this.domNode,this._params,_13ea,_13eb);},destroy:function(){focus.removeBox(this.domNode);dom.orphan(this.domNode);_13e4.destroyWidgetsIn(this.domNode);},onBeforeShow:function(){},onAfterShow:function(){},onBeforeHide:function(){},onAfterHide:function(){}});return _13e7;});},"mxui/lib/pageTemplating/TemplateProvider":function(){define(["dojo/_base/lang"],function(_13ec){function _13ed(){this._templates={};};_13ed.prototype.add=function(_13ee){_13ec.mixin(this._templates,_13ee);};_13ed.prototype.get=function(id,name){var data=this._templates[id];return data&&_13ec.clone(data[name]);};return _13ed;});},"mxui/sys/ReloadHandler":function(){define(["mxui/lib/ReloadListener","mendix/lib/MxContext","dojo/aspect"],function(_13ef,_13f0,_13f1){"use strict";var _13f2="mx.reload";function _13f3(){};_13f3.prototype.reloadPage=function(){window.sessionStorage.setItem(_13f2,JSON.stringify(_13f4()));window.mx.reload();};_13f3.prototype.tryRestorePage=function(){var _13f5=window.sessionStorage.getItem(_13f2);window.sessionStorage.removeItem(_13f2);if(!_13f5){return false;}_13f6(JSON.parse(_13f5));_13f1.after(window.mx,"onError",_13f7);return true;};function _13f4(){var _13f8=window.mx.router.getContentForm(),_13f9=_13f8.getContext();return {path:_13f8.path,trackId:_13f9.getTrackId(),trackEntity:_13f9.getTrackEntity()};};function _13f6(_13fa){var _13fb=new _13f0();_13fb.setTrackId(_13fa.trackId);_13fb.setTrackEntity(_13fa.trackEntity);window.mx.router.openFormInContent(_13fa.path,null,_13fb);};function _13f7(){window.mx.ui.confirmation({content:"An error has occurred that might have been caused by fast reload. Refresh the page to fix it.",proceed:"Refresh page",handler:function(){window.mx.reload();}});};return _13f3;});},"mxui/lib/ReloadListener":function(){define(["mendix/logger"],function(_13fc){"use strict";function _13fd(url){this._reloadHandlers=[];var self=this;_13fe();function _13fe(){try{var ws=new WebSocket(url);ws.onmessage=_13ff;ws.onclose=_13fe;}catch(e){_13fc.error("Cannot connect to the runtime websocket reload handler. Reload on redeploy won't work!");}};function _13ff(_1400){if(_1400.data==="MENDIX_RELOAD"){self._reloadHandlers.forEach(function(_1401){_1401.apply(null);});return;}window.mx.onError("Unexpected command received from runtime: "+_1400.data);};};_13fd.prototype.addOnReload=function(_1402){this._reloadHandlers.push(_1402);};return _13fd;});},"mendix/sys/Data":function(){define(["mendix/lib/ConnectionError","mendix/lib/Error","mendix/lib/ValidationError","mendix/lib/MxObject","mendix/lang","mendix/logger","webcore/data-backend/OnlineDataBackend","webcore/data-backend/OfflineDataBackend","webcore/MxObjectCache","webcore/MxObjectBackend","webcore/DanglingError","webcore/Task","webcore/applicative","webcore/task-helpers","dojo/_base/array","dojo/_base/lang"],function(_1403,_1404,_1405,_1406,lang,_1407,_1408,_1409,_140a,_140b,_140c,Task,_140d,_140e,_140f,_1410){function Data(_1411){_1411=_1411||{};var self=this,name="mendix.sys.Data",subs={entities:{},guids:{},attrs:{},vals:{}};var _1412=new _1408();var _1413=new _140b(_1412,new _140a(),function(guid){return !_1414(guid);});var _1415=_1412;var _1416=function(_1417,_1418,map){if(!_1418){return _1417;}for(var i in map){if((i in _1418)&&(_1418[i]!=null)){_1417[i]=_1418[i];}}return _1417;};var _1419=function(_141a,_141b,args,_141c){try{_141a&&_141a.apply(_141b,args||[]);}catch(e){_1407.error(name+_141c+" : "+e.message+" "+(_141b?"("+_141b+")":""));}};var _141d=function(_141e,_141f,e,fname){try{if(_141e){_141e.call(_141f,e);}else{_1407.error("unhandled error: "+e.message);window.mx.onError(e);}}catch(err){_1407.error("error in "+name+"."+fname+" while calling error handler: "+err.message);}};var _1414=function(guid){var _1420=lang.itemCount;return (_1420(subs.guids[guid])||_1420(subs.attrs[guid]));};var _1421=function(meta,_1422){var _1423={};_140f.forEach(meta.getAttributes(),function(ref){if(!meta.isReference(ref)){return;}var value=_1422.getContext(meta.getSelectorEntity(ref));if(value){_1423[ref]=value;}});return _1423;};var _1424=function(mxobj,path,_1425,error){var split=path.split("/");var _1426=function(objs){var _1427=split.shift(),ref=split.shift(),_1428;if(objs==null||objs.length==null||objs.length===0){_1425(null);return;}var carr=[];for(var i=0;i<objs.length;i++){if(objs[i]==null){continue;}carr.push("id='"+objs[i].getGuid()+"'");}if(!carr.length){_1425(null);return;}var ids=carr.join(" or ");_1428="["+ref+"/"+_1427+"["+ids+"]]";if(split.length==1){_1425(_1428);}else{var child=split[0];_1427=split.shift();ref=split.shift();_1425("["+ref+"/"+_1427+""+_1428+"]");}};var _1429=function(){var _142a=split.shift(),ref=split.shift();if(split.length==1){var _142b="["+ref+"='"+mxobj.getGuid()+"']";_1425(_142b);return;}if(window.mx.meta.getEntity(_142a)==null){_141d(error,null,new _1404(name+".runMapPath: entity"+_142a+" does not exist"),"runMapPath");return;}if(!mxobj.isA(_142a)){_141d(error,null,new _1404(name+".runMapPath: entity "+mxobj.getEntity()+" is not a "+_142a+" or one of its subclasses"),"runMapPath");return;}if(!mxobj.has(ref)){_141d(error,null,new _1404(name+".runMapPath: reference "+ref+" not found in entity "+_142a),"runMapPath");return;}if(mxobj.get2(ref)!==""){self.get({guids:mxobj.getReferences(ref),callback:_1426,error:error});}else{_1425(null);}};_1429();};this.getBacktrackConstraints=function(_142c,_142d,_142e,error,scope){if(!_1410.isFunction(error)){scope=error;error=null;}self.getBacktrack(_142d.getTrackId(),_142d.getConstraints(),_142e,error,scope);};var _142f=this.getBacktrackConstraints;this.getBacktrack=function(guid,paths,_1430,error,scope){if(!_1410.isFunction(error)){scope=error;error=null;}if(!paths||paths.length===0){_1430.call(scope,"",true);return;}var mxobj=null,_1431=[],_1432=0,_1433=true;var _1434=function(){var path=paths[_1432++];if(path){_1424(mxobj,path,function(_1435){if(_1435){_1431.push(_1435);}else{_1433=false;}_1434();},function(e){_141d(error,scope,e,"getBacktrack");});}else{_1430.call(scope,_1431.join(""),_1433);}};if(!guid){_1430.call(scope,"",false);}else{self.get({guid:guid,callback:function(obj){mxobj=obj;_1434();},error:function(e){_141d(error,scope,e,"getBacktrack");}});}};var _1436=function(meta,_1437){var _1438=[],_1439=_1421(meta,_1437);for(var m in _1439){if(m=="System.changedBy"||m=="System.owner"){continue;}if(meta.has(m)){var attr=meta.getAttributeType(m);switch(attr){case "ObjectReference":_1438.push("["+m+"='"+_1439[m]+"']");break;case "ObjectReferenceSet":_1438.push("["+m+"='"+_1439[m]+"']");break;default:}}}return _1438.join("");};var _143a=function(_143b){var _143c=_143b.entity||_143b.className,meta=window.mx.meta.getEntity(_143c),_143d=_143b.context,xpath="//"+_143c,_143e=_1436(meta,_143d);var _143f=function(_1440,_1441){if(_143b.callback){_143b.callback(xpath+_143e+_1440,_1441);}};if(_143d.getConstraints().length!==0){_142f(meta,_143d,_143f,_143b.error);}else{_143f("",true);}};var _1442=function(_1443){window.mx.server.request({request:{action:"retrieve_xpath_aggregate",params:{xpath:_1443.type+"("+_1443.xpath+")",resulttype:_1443.resulttype||"integer"}},options:{callback:function(code,json){var value;if(json){if(_1443.resulttype=="float"){value=parseFloat(json.value).toFixed(2)||"0.00";}else{value=json.value||0;}}else{value=0;}_1443.callback&&_1443.callback(value);},error:function(e){_141d(_1443.error,null,e,"numericXPathResult");},useCache:false,preventCache:true}});};var _1444=function(_1445){var _1446;if(_1445===""){return;}else{if(_1445.match(/^\[[^=\[]+=.[0-9]+./)){_1446=_140f.map(_1445.match(/\[.+?\]/g),function(part){part=part.substr(1,part.length-2);return {ref:part.match(/[^=]+/)[0],ref_ids:part.match(/\d+/)[0]};});}else{_1446=_140f.map(_1445.match(/\[.+?\]]/g),function(part){part=part.substr(1,part.length-3);var split=part.split("[");return {ref:split[0].split("/")[0],ref_ids:split[1]};});}}return _1446;};this.toString=function(){return name;};this.setOfflineStore=function(_1447,_1448){_1415=new _1409(_1447,_1448,_1411.offlineBackend);_1413=new _140b(_1415,new _140a(),function(guid){return !_1414(guid);});};this.startup=function(){window.setInterval(_1410.hitch(_1413,"cleanup"),10000);};this.subscribe=function(args,scope){var id=lang.getUniqueId(),_1449=args.entity,guid=args.guid,val=args.val,attr=args.attr,async=args.async,_144a=scope?function(){args.callback.apply(scope,arguments);}:args.callback;var _144b={handler:_144a,async:async};if(attr){if(!subs.attrs[guid]){subs.attrs[guid]={};}if(!subs.attrs[guid][attr]){subs.attrs[guid][attr]={};}subs.attrs[guid][attr][id]=_144b;}else{if(val){if(!subs.vals[guid]){subs.vals[guid]={};}subs.vals[guid][id]=_144b;}else{if(guid){if(!subs.guids[guid]){subs.guids[guid]={};}subs.guids[guid][id]=_144b;}else{if(_1449){if(!subs.entities[_1449]){subs.entities[_1449]={};}subs.entities[_1449][id]=_144b;}else{_1407.error(name+".subscribe: no 'entity' or 'guid' parameter found");}}}}return {entity:_1449,guid:guid,val:val,attr:attr,id:id};};this.unsubscribe=function(args){if(args==null){return;}var id=args.id,_144c=args.entity,guid=args.guid,val=args.val,attr=args.attr,count=lang.itemCount;if(attr){var _144d=subs.attrs[guid];if(!_144d){}else{if(!_144d[attr]){}else{delete _144d[attr][id];if(count(_144d[attr])===0){delete _144d[attr];}if(count(_144d)===0){delete subs.attrs[guid];}}}}else{if(val){if(!subs.vals[guid]){}else{delete subs.vals[guid][id];if(count(subs.vals[guid])===0){delete subs.vals[guid];}}}else{if(guid){var _144e=subs.guids[guid];if(!_144e){}else{delete _144e[id];if(count(_144e)===0){delete subs.guids[guid];}}}else{if(_144c){var _144f=subs.entities[_144c];if(!_144f){}else{delete _144f[id];if(count(_144f)===0){delete subs.entities[_144c];}}}}}}};this.update=function(args){var guid=args.guid,_1450=args.entity,attr=args.attr,val=args.val,value=args.value,_1451=args.callback;var _1452=function(_1453,args,_1454){var map=_1453?_1410.clone(_1453):{};lang.collect(Object.keys(map).map(function(key){if(map[key].async){return function(cb){map[key].handler.apply(null,args.concat([cb]));};}else{return function(cb){map[key].handler.apply(null,args);cb();};}}),_1454);};if(attr){_1452(subs.attrs[guid]&&subs.attrs[guid][attr],[guid,attr,value],_1451);}else{if(guid){_1452(subs.guids[guid],[guid],_1451);}else{if(val){_1452(subs.vals[guid],[guid],_1451);}else{if(_1450){_1452(subs.entities[_1450],[_1450],_1451);}else{_1407.error(name+".update: no 'entity' or 'guid' parameter found");}}}}};this.objectUpdateNotification=function(mxobj){self.sendClassUpdate(mxobj.getEntity());self.update({guid:mxobj.getGuid()});};this.sendClassUpdate=function(_1455,_1456){var meta=window.mx.meta.getEntity(_1455);if(!meta){throw new _1404("No permission to read or write entity "+_1455+", check security!");}var chain=[_1455].concat(meta.getSuperEntities()).map(function(ent){return function(cb){self.update({entity:ent,callback:cb});};});lang.collect(chain,_1456);};this.sendValidationUpdates=function(_1457){var list,_1458=[];for(var i=0,_1459;_1459=_1457[i];i++){list=subs.vals[_1459.getGuid()];var cp=_1459.clone(),_145a=cp.getAttributes();if(list){for(var x in list){var _145b=_1459.clone();try{list[x].handler([_145b]);}catch(e){_1407.error(name+".sendValidationUpdates: trouble triggering validation update: "+e.message);delete list[x];}var attrs=_145b.getAttributes();_140f.forEach(_145a,function(attr){var name=attr.name,_145c=_140f.some(attrs,function(item){return item.name==name;});if(!_145c){cp.removeAttribute(attr.name);}},this);}}else{}if(cp.getAttributes().length){_1458.push(cp);}}window.mx.ui.validations(_1458);};this.action=function(_145d){_1413.action(_145d.params,_145d.context,{origin:_145d.origin},!!_145d.async,_145d.onValidation,function(value,_145e){if(_145d.callback){_145d.callback(value,_145e);}},function(e){_141d(_145d.error,null,e,"action");});};this.setOrRetrieveMxObject=function(json){return _1413.setOrRetrieveMxObject(json);};this.get=function(_145f,_1460){var xpath=_145f.xpath,path=_145f.path,id=_145f.guid,ids=(!("guids" in _145f)&&id)?[id]:_145f.guids,_1461=_145f.callback,error=_145f.error,_1462=!!_145f.noCache,count=!!_145f.count,_1463=_145f.filter,_1464=!!_145f.aggregates,_1465=_145f.context,_1466=_145f.microflow,err;if(("guid" in _145f)&&id==null){_1419(_1461,_1460,[null],"");return;}if(!xpath&&!ids&&!_1466){err=name+".get: xpath, guid|guids and microflow arguments are undefined";_1407.error(err);throw new _1404(err);}if(path&&ids.length!=1){throw new _1404(name+".get : path can only be used with a single guid");}if(typeof _1461!="function"){err=name+".get: callback is not a function";_1407.error(err);throw new _1404(err);}else{if(error&&typeof error!="function"){err=name+".get: error is not a function";_1407.error(err);throw new _1404(err);}}if(_1463){if(_1463.limit){_1463.amount=_1463.limit;delete _1463.limit;}if(_1463.references){for(var r in _1463.references){var ref=_1463.references[r];if(ref.limit){ref.amount=ref.limit;delete ref.limit;}}}}var val=null,_1467=_1416({},_1463,!id?{"id":val,"attributes":val,"offset":val,"sort":val,"amount":val,"distinct":val,"references":val,"depth":val}:{"id":val}),_1468=function(e){_141d(error,_1460,e,"get");};if(_1467.id&&ids&&!id){delete _1467.id;}if(_1467.id){delete _1467.attributes;delete _1467.distinct;}if(_1466){var _1469=ids?"selection":(xpath?"set":"none"),_146a={actionname:_1466,applyto:_1469};if(_1469=="selection"){_146a.guids=ids;}else{if(_1469=="set"){_146a.xpath=xpath;if(_1467.sort){_146a.sort=_1467.sort;}}}this.action({params:_146a,context:_1465,callback:function(value,extra){_1461&&_1461.call(_1460,value,extra);},error:_1468});}else{if(path&&ids){_1413.getByPath(ids[0],path,_145f.entity,function(_146b,count){try{if(_1461){_1461.call(_1460,_146b,{count:count});}}catch(e){_1407.error(name+".get: error in handler for "+(id?id:"["+ids+"]")+": "+e.message+" "+(_1460?"("+_1460+")":""));}},function(e){_141d(error,_1460,e,"get");});}else{if(ids){if(ids.length===0){_1419(_1461,_1460,[id?null:[],{count:0}],".get: error in handler");return;}_1413.getByGuid(ids,_1467,!_1462,function(_146c,count){var _146d;if(id){if(_1467.id){_146d=_140f.filter(_146c,function(mxobj){return mxobj.getGuid()===id;})[0];if(_146d===undefined){_141d(error,_1460,new _1404("Returned objects do not contain requested one"),"get");return;}}else{_146d=_146c[0]||null;}}else{_146d=_146c;}try{if(_1461){_1461.call(_1460,_146d,{count:count});}}catch(e){_1407.error(name+".get: error in handler for "+(id?id:"["+ids+"]")+": "+e.message+" "+(_1460?"("+_1460+")":""));}},function(e){_141d(error,_1460,e,"get");});return true;}else{_1413.getByXPath(xpath,_1467,count,_1464,function(_146e,count,_146f){_1419(_1461,_1460,[_146e,{count:count,aggregates:_146f}],".get: error in error handler for xpath "+xpath);},_1468);return true;}}}};this.getBySchema=function(_1470,_1471){var guid=_1470.id,_1472=_1470.callback;window.mx.server.request({request:{action:"retrieve_by_id_with_schema",params:_1470},options:{callback:function(code,json){var _1473=[],_1474;_140f.forEach(json.mxobjects,function(_1475){var _1476=new _1406({json:_1475,meta:window.mx.meta.getEntity(_1475.objectType)});if(_1475.guid==guid){_1474=_1476;}_1473.push(_1476);});_1474.attachReferences(_1473);_1472&&_1472(_1474,false);},error:function(e){_141d(_1470.error,_1471,e,"getBySchema");}}});};this.getSlice=function(_1477,_1478,_1479,_147a,error){_1413.getSlice(_1477,_1478,_1479).spread(function(_147b,count){if(_147a){_147a(_147b,count);}}).caught(function(e){if(error){error(e);}else{mx.onError(e);}});};this.fetch=function(obj,path,_147c,_147d,error){if(_1410.isFunction(_147c)){error=_147d;_147d=_147c;}var _147e;if(!path){_147e=[];}else{if(path instanceof Array){_147e=path.slice();}else{_147e=path.split("/");}}if(obj&&obj.isA(_147e[0])){_147e.shift();}var attr;if(_147e.length%2==1){attr=_147e.pop();}else{attr="";}_1413.fetch(obj,_147e,attr,_147c,_147d,_147f);function _147f(e){_141d(error,null,e,"fetch");};};this.release=function(objs){if(!objs){return;}objs=objs instanceof Array?objs:[objs];for(var i=0,len=objs.length;i<len;++i){if(objs[i]){_1413.release(objs[i].getGuid());}}};this.create=function(_1480,_1481){if(typeof _1480.callback!="function"){throw new _1404(name+".create: callback is not a function");}else{if(_1480.error&&typeof _1480.error!="function"){throw new _1404(name+".create: error is not a function");}else{if(typeof _1480.entity!="string"){throw new _1404(name+".create: entity is not a string");}}}_1413.create(_1480.entity,_1480.persistent,function(obj){if(_1480.context){self.setObjectToContext(obj,_1480.context);}_1480.callback.call(_1481,obj);},function(e){_141d(_1480.error,_1481,e,"create");});};this.jsonToMxObject=function(json){return new _1406({json:json,meta:window.mx.meta.getEntity(json.objectType)});};this.remove=function(_1482){var guids=("guid" in _1482)?[_1482.guid]:_1482.guids;if(("guids" in _1482)&&!(_1482.guids instanceof Array)){throw new _1404(name+".remove: parameter guids set but not of type Array");}else{if(_1482.error&&typeof _1482.error!="function"){throw new _1404(name+".remove: parameter error set but not of type Function");}else{if(_1482.callback&&typeof _1482.callback!="function"){throw new _1404(name+".remove: parameter callback set but not of type Function");}}}_1413.remove(guids,_1482.callback,_1483);function _1483(e){_141d(_1482.error,null,e,"remove");};};this.validate=function(_1484,_1485,error){if(_1484.length===0){if(_1485){_1485();}return;}_1413.validate(_1484,_1485,error);};this.commit=function(_1486,_1487){var _1488=_1489(_1486,"commit");if(_1488.length===0&&_1486.callback){_1419(_1486.callback,_1487,null,".commit: error when executing handler without object");return;}_1413.commit(_1488,_1486.context,_1486.store,_1486.onValidation,_148a.bind(this),_148b);function _148a(){_1488.forEach(this.objectUpdateNotification,this);var guids=_1488.map(function(mxobj){return mxobj.getGuid();});_1419(_1486.callback,_1487,null,".commit: error when executing handler for ["+guids.join(", ")+"]");};function _148b(e){_141d(_1486.error,null,e,"commit");};};this.rollback=function(_148c,_148d){var _148e=_1489(_148c,"rollback");if(_148e.length===0){_1419(_148c.callback,_148d,null,".rollback: error in handler");return;}var guids=_148e.map(function(mxobj){return mxobj.getGuid();});var _148f=lang.unique(_148e.map(function(mxobj){return mxobj.getEntity();}));_1413.rollback(_148e,_1490.bind(this),_1491);function _1490(_1492){_1492.forEach(this.objectUpdateNotification,this);_148f.forEach(function(_1493){this.sendClassUpdate(_1493);},this);_1419(_148c.callback,_148d,null,name+".rollback: error in handler for ["+guids.join(", ")+"]");};function _1491(e){_141d(_148c.error,null,e,"rollback");};};this.synchronizeDataWithFiles=function(_1494,error){var task=this._createSynchronizeTask().chain(function(_1495){var _1496=Object.keys(_1495).map(function(guid){return _1495[guid];});return _140d.sequence_(_1496,Task);});_140e.callbackFromTask(task,_1494,error);};this.synchronizeData=function(_1497,error){_140e.callbackFromTask(this._createSynchronizeTask(),function(_1498){if(_1497){_1497();}},error);};this.uploadDataWithReset=function(_1499,error){var task=this._createUploadTask().chain(function(){return _1415.reset();});_140e.callbackFromTask(task,_1499,error);};this._createSynchronizeTask=function(){return this._createUploadTask().chain(function(){return _1415.download();});};this._createUploadTask=function(){return _1415.upload(_1412).chain(function(_149a){var _149b=Object.keys(_149a).map(function(_149c){return _149a[_149c];});return _140d.sequence_(_149b,Task);}).chain(function(){_1413.clearCache();return Task.of();}).orElse(function(e){if(!(e instanceof _1403)&&!(e instanceof _140c)){return _1415.cleanupDirtyObjects();}else{return Task.rejected(e);}});};this.invalidateCaches=function(guid){_1413.invalidateCaches(guid);};this.saveDocument=function(guid,name,_149d,blob,_149e,error){_1413.saveDocument(guid,name,_149d,blob,_149e,error);};this.matchObjectsToContext=function(_149f){var _14a0=_149f.entity,_14a1=_149f.context,_14a2=_149f.mxobjs,_14a3=_149f.callback,_14a4=[];_142f(window.mx.meta.getEntity(_14a0),_14a1,function(_14a5){var _14a6=_1444(_14a5);for(var i=0,obj;obj=_14a2[i];i++){var _14a7=0;for(var x=0,match;match=_14a6[x];x++){var ref=match.ref,_14a8=match.ref_ids,ids=obj.getReferences(ref),found=false;if(ids!==false){for(var j=0;j<ids.length;j++){if(_14a8.match(ids[j])){found=true;break;}}}found&&_14a7++;}if(_14a7==_14a6.length){_14a4.push(obj);}}_14a3(_14a4);});};this.createXPathString=function(_14a9){var _14aa=_14a9.callback,_14ab=_14a9.entity||_14a9.className,_14ac=_14a9.context;var _14ad=_14ac&&_14ac.getContexts();if(!_14ad||_14ad.length===0){_14aa("//"+_14ab);return;}_143a(_14a9);};this.generateExport=function(_14ae){window.mx.server.request({request:{action:"export",params:_14ae.params},options:{callback:_14ae.callback,error:function(e){_141d(_14ae.error,null,e,"generateExport");},useCache:false,async:true}});};this.setObjectToContext=function(mxObj,_14af){if(typeof mxObj!="object"){throw new _1404(name+".setObjectToContext: parameter mxObj is not of type Object");}else{if(typeof _14af!="object"){throw new _1404(name+".setObjectToContext: parameter context is not of type Object");}}try{var _14b0=mxObj.getAttributes();for(var e=0;e<_14b0.length;e++){if(mxObj.isReference(_14b0[e])){var _14b1=mxObj.getSelectorEntity(_14b0[e]);if((_14b0[e]=="System.owner")||(_14b0[e]=="System.changedBy")){continue;}if(_14af.hasContext(_14b1)){mxObj.addReference(_14b0[e],_14af.getContext(_14b1));}var meta=window.mx.meta.getEntity(_14b1);if(meta){if(meta.hasSubEntities()){var _14b2=meta.getSubEntities();for(var i=0;i<_14b2.length;i++){if(_14af.hasContext(_14b2[i])){mxObj.addReference(_14b0[e],_14af.getContext(_14b2[i]));}}}}}}}catch(err){}};this.getObjectFromContext=function(_14b3,_14b4){var _14b5=_14b3.getObject(),_14b6=_14b3.getTrackId();if(_14b5){_14b4(_14b5);}else{if(_14b6){window.mx.data.get({guid:_14b6,callback:function(obj){if(!obj){window.mx.onError("Error while fetching object with guid "+_14b6);}_14b4(obj);},error:function(e){window.mx.onError(e);_14b4(null);}},this);}else{_14b4(null);}}};this.sumOfXPathSet=function(_14b7){_14b7.type="sum";_1442(_14b7);};this.countOfXPathSet=function(_14b8){_14b8.type="count";_1442(_14b8);};this.sizeOfXPathSet=function(_14b9){_14b9.type="count";_1442(_14b9);};this.avgOfXPathSet=function(_14ba){_14ba.type="avg";_1442(_14ba);};this.maxOfXPathSet=function(_14bb){_14bb.type="max";_1442(_14bb);};this.minOfXPathSet=function(_14bc){_14bc.type="min";_1442(_14bc);};this.makeChange=function(guid,attr,_14bd){_1413.makeChange(guid,attr,_14bd);};this.getChanges=function(guid){return _1413.getChanges(guid);};this.updateMxObjectSubscribers=function(guid,attr,value){this.update({guid:guid,attr:attr,value:value});};this.getDocumentUrl=function(guid,_14be,_14bf){return _1415.getDocumentUrl(guid,_14be,_14bf);};function _1489(args,fname){var _14c0=name+"."+fname+": ";if(typeof args!="object"){throw new _1404(_14c0+"args is not an object");}else{if(typeof args.callback!="function"){throw new _1404(_14c0+"callback is not a function");}else{if(args.mxobj&&!(args.mxobj instanceof _1406)){throw new _1404(_14c0+"mxobj is not a MxObject");}else{if(args.mxobjs&&!(args.mxobjs instanceof Array)){throw new _1404(_14c0+"mxobjs is not an Array");}else{if(!args.mxobj&&!args.mxobjs||args.mxobj&&args.mxobjs){throw new _1404(_14c0+"one of mxobj or mxobjs should be passed");}}}}}if(args.mxobj){return [args.mxobj];}else{return args.mxobjs;}};};return Data;});},"webcore/data-backend/OnlineDataBackend":function(){define(["./_DataBackend","../url-helpers","../Task","mendix/lang","mendix/lib/MxObject","mendix/lib/Error","mendix/logger","dojo/_base/array","dojo/_base/lang","dojo/_base/json"],function(_14c1,_14c2,Task,lang,_14c3,_14c4,_14c5,_14c6,_14c7,_14c8){function _14c9(_14ca,_14cb){_14c1.call(this,_14ca);this._objectCache=_14cb;};_14c9.prototype=new _14c1();_14c9.prototype.getByGuid=function(guids,_14cc,_14cd,error){window.mx.server.request({request:{action:"retrieve_by_ids",params:{ids:guids,schema:_14cc}},options:{callback:function(type,json){if(_14cd){_14cd(json);}},error:error}});};_14c9.prototype.getByPath=function(guid,path,_14ce,_14cf,error){window.mx.server.request({request:{action:"retrieve_by_path",params:{id:guid,path:path,entity:_14ce}},options:{callback:function(type,json){if(_14cf){_14cf(json);}},error:error}});};_14c9.prototype.getByXPath=function(xpath,_14d0,_14d1,_14d2,_14d3,error){_14d0=_14d0||{};window.mx.server.request({request:{action:"retrieve_by_xpath",params:{xpath:xpath,schema:_14d0,count:_14d1,aggregates:_14d2}},options:{callback:function(type,json){if(_14d3){_14d3(json);}},error:error}});};_14c9.prototype.release=function(guid){mx.server.release(guid);};_14c9.prototype.action=function(_14d4,_14d5,_14d6,store,async,_14d7,_14d8,error){window.mx.server.request({request:{action:"executeaction",params:_14d4,changes:_14d6,context:_14d5},options:{store:store,async:async,onValidation:_14d7,callback:function(_14d9,json,_14da){if(_14d8){_14d8(json,_14da);}},error:error}});};_14c9.prototype.upload=function(_14db){return Task.of({});};_14c9.prototype.download=function(){return Task.of({});};_14c9.prototype.create=function(_14dc,_14dd,_14de,error){window.mx.server.request({request:{action:_14dd?"create":"instantiate",params:{objecttype:_14dc,preventCache:(new Date()).getTime()}},options:{callback:function(type,json){if(_14de){_14de(json);}},error:error}});};_14c9.prototype.validate=function(_14df,_14e0,error){window.mx.server.request({request:{action:"validate",params:_14df},options:{callback:function(type,json){if(_14e0){_14e0();}},error:error}});};_14c9.prototype.commit=function(guids,_14e1,_14e2,store,_14e3,_14e4,error){window.mx.server.request({request:{action:"commit",params:{guids:guids},changes:_14e1,context:_14e2},options:{onValidation:_14e3,store:store,callback:function(type,json){if(_14e4){_14e4();}},error:error}});};_14c9.prototype.rollback=function(guids,_14e5,_14e6,error){window.mx.server.request({request:{action:"rollback",params:{guids:guids},changes:_14e5},options:{unique:true,callback:function(type,json){if(_14e6){_14e6(json);}},error:error}});};_14c9.prototype.remove=function(guids,_14e7,_14e8,error){window.mx.server.request({request:{action:"delete",params:{guids:guids},changes:_14e7},options:{callback:function(){if(_14e8){_14e8();}},error:error}});};_14c9.prototype.saveDocument=function(guid,_14e9,name,_14ea,blob,_14eb,error){window.mx.server.upload({request:{params:{guid:guid,name:name,mxdocument:blob,params:_14ea},changes:_14e9},options:{callback:function(){if(_14eb){_14eb();}},error:error}});};_14c9.prototype.getDocumentUrl=_14c2.getDynamicResourceUrl;return _14c9;});},"webcore/data-backend/_DataBackend":function(){define(["../Task","mendix/lib/Error"],function(Task,_14ec){function _14ed(){};_14ed.prototype.getByGuid=function(guids,_14ee,_14ef,_14f0,error){if(error){error(new _14ec("Not implemented yet"));}};_14ed.prototype.getByPath=function(guid,path,_14f1,_14f2,error){if(error){error(new _14ec("Not implemented yet"));}};_14ed.prototype.getByXPath=function(xpath,_14f3,_14f4,_14f5,_14f6,error){if(error){error(new _14ec("Not implemented yet"));}};_14ed.prototype.getSlice=function(_14f7,_14f8,_14f9){return Task.rejected(new _14ec("Not implemented yet"));};_14ed.prototype.release=function(guid){throw new _14ec("Not implemented yet");};_14ed.prototype.action=function(_14fa,_14fb,_14fc,store,async,_14fd,_14fe,error){throw new _14ec("Not implemented yet");};_14ed.prototype.upload=function(_14ff){return Task.rejected(new _14ec("Not implemented yet"));};_14ed.prototype.reset=function(){return Task.rejected(new _14ec("Not implemented yet"));};_14ed.prototype.download=function(){return Task.rejected(new _14ec("Not implemented yet"));};_14ed.prototype.cleanupDirtyObjects=function(){return Task.rejected(new _14ec("Not implemented yet"));};_14ed.prototype.create=function(_1500,_1501,_1502,error){throw new _14ec("Not implemented yet");};_14ed.prototype.validate=function(_1503,_1504,error){if(error){error(new _14ec("Not implemented yet"));}};_14ed.prototype.commit=function(guids,_1505,_1506,store,_1507,_1508,error){if(error){error(new _14ec("Not implemented yet"));}};_14ed.prototype.rollback=function(guids,_1509,_150a,error){if(error){error(new _14ec("Not implemented yet"));}};_14ed.prototype.remove=function(guids,_150b,_150c,error){if(error){error(new _14ec("Not implemented yet"));}};_14ed.prototype.saveDocument=function(guid,_150d,name,blob,_150e,error){if(error){error(new _14ec("Not implemented yet"));}};_14ed.prototype.getDocumentUrl=function(guid,_150f,_1510){throw new _14ec("Not implemented yet");};return _14ed;});},"webcore/Task":function(){define([],function(){function Task(f){this.fork=f;};Task.of=function(x){return new Task(function(_1511,_1512){_1512(x);});};Task.prototype.chain=function(f){var self=this;return new Task(function(_1513,_1514){self.fork(_1513,function(x){f(x).fork(_1513,_1514);});});};Task.prototype.orElse=function(f){var self=this;return new Task(function(_1515,_1516){self.fork(function(e){f(e).fork(_1515,_1516);},_1516);});};Task.prototype.ap=function(a){var self=this;var _1517=2;var func,value,error;return new Task(function(_1518,_1519){self.fork(_151a,function(f){func=f;_151b();});a.fork(_151a,function(x){value=x;_151b();});function _151b(){if(--_1517===0){_1519(func(value));}};function _151a(e){if(error===undefined){error=e;_1518(error);}};});};Task.prototype.map=function(f){return this.chain(function(x){return Task.of(f(x));});};Task.rejected=Task.prototype.rejected=function(e){return new Task(function(_151c,_151d){_151c(e);});};Task.parallel=function(tasks){return new Task(function(_151e,_151f){var _1520=tasks.length;var _1521=new Array(tasks.length);var error;if(tasks.length===0){_151f(_1521);return;}tasks.forEach(function(task,i){task.fork(function(e){if(error===undefined){error=e;_151e(e);}},_1522(i));});function _1522(i){return function(x){_1521[i]=x;if(error===undefined&&--_1520===0){_151f(_1521);}};};});};Task.sequence=function(tasks){return tasks.reduce(function(acc,task){return acc.chain(function(_1523){return task;});},Task.of(null));};return Task;});},"webcore/data-backend/OfflineDataBackend":function(){define(["../Multimap","../applicative","../file-helpers","../file-transfer","../guid","../monad","../StringSet","./_DataBackend","../Task","../task-helpers","../url-helpers","mendix/lang","mendix/lib/MxObject","mendix/logger"],function(_1524,_1525,_1526,_1527,_1528,monad,_1529,_152a,Task,_152b,_152c,lang,_152d,_152e){var _152f={"String":"","Integer":"0","Long":"0","Decimal":"0","Float":"0","Currency":"0","Enum":"","HashString":"","ObjectReference":"","DateTime":null,"Boolean":false,"AutoNumber":"0","Binary":""};var _1530={"String":String,"Integer":String,"Long":String,"Decimal":String,"Float":String,"Currency":String,"Enum":String,"HashString":String,"ObjectReference":String,"DateTime":_1531,"Boolean":_1532,"AutoNumber":null,"Binary":String};function _1533(store,_1534,_1535){_1535=_1535||{};this._store=store;this._createCache={};this._guidMap={};this._getStorageDir=_1535.getStorageDirFn||_1536;this._getDocumentUrl=_1535.getDocumentUrlFn||_1537;this._downloadFileFn=_1535.downloadFileFn||_1538;this._fetchConfig=_1534;};_1533.prototype=new _152a();_1533.prototype.getByGuid=function(_1539,_153a,_153b,error){var _153c=_1539.map(this._getByGuid.bind(this));var _153d=_1525.sequence(_153c,Task).map(function(objs){return objs.map(_154b);}).map(function(_153e){return {mxobjects:_153e};});_152b.callbackFromTask(_153d,_153b,error);};_1533.prototype.getSlice=function(_153f,_1540,_1541){_1540=_1540||[];var _1542=_1540.map(_1543.bind(this));return this._store.getSlice(_153f,_1542,_1541).spread(function(objs,count){var _1544=objs.map(function(obj){if(this._isStoredLocalGuid(obj.guid)){this._guidMap[obj.guid]=_1528.create();}Object.keys(obj).filter(function(attr){return !_15ce(attr);}).filter(function(attr){var meta=window.mx.meta.getEntity(obj.$objectType);return meta.isReference(attr);}).forEach(function(attr){if(this._isStoredLocalGuid(obj[attr])){this._guidMap[obj[attr]]=_1528.create();}},this);return this._makeObjectExternal(obj);},this).map(_154b);return {mxobjects:_1544,count:count};}.bind(this));function _1543(_1545){var meta=mx.meta.getEntity(_153f);if(!meta.isReference(_1545.attribute)){return _1545;}_1545.value=this._getInternalGuid(_1545.value);return _1545;};};_1533.prototype.create=function(_1546,_1547,_1548,error){var _1549=_1528.create();var meta=mx.meta.getEntity(_1546);this._guidMap[_1549]=_1549;this._createCache[_1549]=Object.assign({guid:_1549,$objectType:_1546,$readonlyAttrs:[]},_154a(meta));if(_1548){_1548({mxobject:_154b(this._createCache[_1549])});}};_1533.prototype.commit=function(_154c,_154d,_154e,store,_154f,_1550,error){_154d=_154d||{};var _1551=_154c.some(function(_1552){var _1553=_1552 in _154d;var _1554=_1552 in this._createCache;return _1553||_1554;},this);if(!_1551){if(_1550){_1550();}return;}var _1555=Object.keys(_154d).filter(function(guid){return !this._createCache[guid];}.bind(this));var _1556=_1555.map(this._getByGuid.bind(this));var _1557=_1525.sequence(_1556,Task);var _1558=_1557.map(function(objs){var _1559=Object.keys(this._createCache).map(function(guid){return this._createCache[guid];}.bind(this));var _155a=_1559.concat(objs);var _155b=_155a.map(function(obj){return [obj.guid,Object.assign({},obj,_154d[obj.guid])];});return lang.objectFromArray(_155b);}.bind(this));var _155c=_1558.chain(function(_155d){var _155e=_154c.map(function(_155f){var _1560=_155d[_155f];return this._makeObjectInternal(_1560);},this);var _1561=_1529.fromArray(_154c);var _1562=_1561.chain(function(_1563){return this._calculateAutoCommitGuids(_1563,_155d);}.bind(this)).minus(_1561).values();var _1564=_1562.map(function(_1565){return this._makeObjectInternal(_155d[_1565]);},this);var _1566=this._store.insertOrReplace(_155e,_1564);return _152b.taskFromPromise(_1566);}.bind(this));_152b.callbackFromTask(_155c,function(){_154c.forEach(function(_1567){delete this._createCache[_1567];},this);if(_1550){_1550();}}.bind(this),error);};_1533.prototype.rollback=function(_1568,_1569,_156a,error){_1568.forEach(function(_156b){delete this._createCache[_156b];},this);var _156c=_1568.map(function(_156d){var _156e=this._getInternalGuid(_156d);var _156f=_152b.taskFromPromise(this._store.getByGuid(_156e));return _156f.map(function(_1570){if(_1570.$autocommitted===1){return _1571(_1570,_1572.call(this,_156e),_1573.call(this,_1570.$objectType,_156e));}else{return _1571(_1570);}}.bind(this));},this);var _1574=_1525.sequence(_156c,Task).map(function(_1575){return _1575.reduce(_1576,_1577());}).chain(function(_1578){var aci=_1578.get();var _1579=_1525.sequence_(aci.updateTasks,Task);var _157a=_1525.sequence_(aci.deleteTasks,Task);return monad.sequence_([_1579,_157a],Task).map(function(){return aci.internalObjs.map(this._makeObjectExternal,this).map(_154b);}.bind(this));}.bind(this)).map(function(_157b){return {mxobjects:_157b};});_152b.callbackFromTask(_1574,_156a,error);function _1571(obj,_157c,_157d){return _1524.fromObject({internalObjs:[obj],updateTasks:[_157c||Task.of()],deleteTasks:[_157d||Task.of()]});};function _1577(){return _1524.fromObject({internalObjs:[],updateTasks:[],deleteTasks:[]});};function _1573(_157e,guid){return this._store.deleteObject(_157e,guid);};function _1572(guid){return this._store.fetchDirty().chain(function(_157f){var _1580=_15f4(_157f.map(function(_1581){var meta=window.mx.meta.getEntity(_1581.$objectType);var _1582=meta.getReferenceAttributes().filter(function(attr){return _1581[attr]===guid;});if(_1582.length>0){_1582.reduce(function(acc,attr){acc[attr]="";return acc;},_1581);return [this._store.updateObject(_1581.$objectType,_1581)];}else{return [];}},this));return _1525.sequence_(_1580,Task);}.bind(this));};function _1576(x,y){return x.concat(y);};};_1533.prototype.release=function(_1583){};_1533.prototype.saveDocument=function(_1584,_1585,name,_1586,blob,_1587,error){var self=this;var _1588="files/documents/"+_1589(this._getInternalGuid(_1584));var _158a=_158b(blob,_1586.maxFileSize,_1588,{create:true}).chain(function(){var _158c=Object.assign({},_1585);_158c[_1584]=Object.assign(_158c[_1584]||{},{"HasContents":true});return new Task(function(_158d,_158e){self.commit([_1584],_158c,null,null,null,_158e,_158d);});});_152b.callbackFromTask(_158a,_1587,error);function _158b(file,_158f,_1590,_1591){if(file.size/(1024*1024)>_158f){Task.rejected(new Error("File too large"));return;}return new Task(function(_1592,_1593){self._getStorageDir(_1593,_1592);}).chain(function(_1594){var split=_1590.split("/");var _1595=split.pop();return _1526.openDirectory(_1594,split).chain(function(de){return _1526.createFileTask(de,_1595,_1591).chain(function(fe){return _1526.createWriterTask(fe).chain(function(fw){return _1526.createWriteTask(fw,blob);});});});});};};_1533.prototype.reset=function(){return this._store.resetDatabase().map(function(){});};_1533.prototype.upload=function(_1596){var self=this;return this._store.upload(_1596).chain(function(_1597){return _1598(_1597).chain(function(_1599){return _15a1(_1597,_1599).chain(function(){_15a8.call(self,_1599);var _159a=_15ad(_1597);return self._createGetStorageDirTask().map(function(_159b){return _15d7(_1596,_159b,_1599,_159a);});});});});function _1598(_159c){var _159d=_159c.map(function(_159e){var _159f=_15e2(_1596,_159e.$objectType);return _159f.map(function(_15a0){return [_159e.guid,_15a0.guid];});});return _1525.sequence(_159d,Task).map(lang.objectFromArray);};function _15a1(_15a2,_15a3){var _15a4=_15a2.map(function(_15a5){return _15a3[_15a5.guid];});var _15a6=lang.objectFromArray(_15a2.map(function(_15a7){return [_15a3[_15a7.guid],_15f0(_15a3,_15a7)];}));return _15e7(_1596,_15a4,_15a6);};function _15a8(_15a9){Object.keys(_15a9).forEach(function(_15aa){var _15ab=_15a9[_15aa];var _15ac=this._guidMap[_15aa];this._guidMap[_15ab]=_15ac;delete this._guidMap[_15aa];},this);};function _15ad(_15ae){return _15ae.filter(function(_15af){var meta=window.mx.meta.getEntity(_15af.$objectType);return meta.isA("System.FileDocument")&&_15af.HasContents;}).map(function(_15b0){return _15b0.guid;});};};_1533.prototype.download=function(){var _15b1=_1525.sequence(this._fetchConfig.map(function(_15b2){return _15d4(_15b2.xpath).map(function(_15b3){var _15b4=_15b3.map(_15fe);var _15b5=_15b4.map(_15b6.bind(this));return {fileDownloadTaskPairs:_15b5,rebuildPairsList:[_15b2.store,_15b3.map(_15fc)]};}.bind(this));}.bind(this)),Task);return _15b1.chain(function(_15b7){var _15b8=_15b7.map(function(_15b9){return _15b9.fileDownloadTaskPairs;});var _15ba=_15b7.map(function(_15bb){return _15bb.rebuildPairsList;});return this._store.rebuildDatabase(_15ba).map(function(){var _15bc=lang.objectFromArray(_15f4(_15b8));return _15bc;});}.bind(this));function _15b6(mxobj){var tasks=[];var guid=mxobj.getGuid();var _15bd=mxobj.get2("changedDate");if(mxobj.isA("System.FileDocument")&&mxobj.get2("HasContents")){tasks.push(this._createFileTransferTask(_152c.getDynamicResourcePath(guid,_15bd),"documents/"+guid));if(mxobj.isA("System.Image")){tasks.push(this._createFileTransferTask(_152c.getDynamicResourcePath(guid,_15bd,true),"thumbnails/"+guid));}}return [guid,_1525.sequence_(tasks,Task)];};};_1533.prototype.cleanupDirtyObjects=function(){return this._store.cleanupDirtyObjects();};_1533.prototype.getDocumentUrl=function(_15be,_15bf,_15c0){return this._getDocumentUrl(_1589(this._getInternalGuid(_15be)),_15bf,_15c0);};_1533.prototype._createGetStorageDirTask=function(){return new Task(function(_15c1,_15c2){this._getStorageDir(_15c2,_15c1);}.bind(this));};_1533.prototype._createFileTransferTask=function(src,dst){return new Task(function(_15c3,_15c4){this._downloadFileFn(src,dst,_15c4,_15c3);}.bind(this));};_1533.prototype._getByGuid=function(_15c5){var _15c6=this._store.getByGuid(this._getInternalGuid(_15c5));var _15c7=_152b.taskFromPromise(_15c6);return _15c7.map(this._makeObjectExternal.bind(this));};_1533.prototype._getInternalGuid=function(_15c8){for(var ig in this._guidMap){if(this._guidMap[ig]===_15c8){return ig;}}return _15c8;};_1533.prototype._getExternalGuid=function(_15c9){return this._guidMap[_15c9]||_15c9;};_1533.prototype._makeObjectInternal=function(_15ca){return this._remapGuidsInObject(_15ca,this._getInternalGuid.bind(this));};_1533.prototype._makeObjectExternal=function(_15cb){return this._remapGuidsInObject(_15cb,this._getExternalGuid.bind(this));};_1533.prototype._remapGuidsInObject=function(obj,_15cc){return Object.keys(obj).reduce(function(acc,attr){var meta=window.mx.meta.getEntity(obj.$objectType);var _15cd=attr==="guid"||!_15ce(attr)&&meta.isReference(attr);acc[attr]=_15cd?_15cc(obj[attr]):obj[attr];return acc;},{});};_1533.prototype._isStoredLocalGuid=function(guid){return /^GUID:/.test(guid)&&this._guidMap[guid]==null;};_1533.prototype._getReferenceGuids=function(guid,_15cf){var obj=_15cf[guid];var meta=window.mx.meta.getEntity(obj.$objectType);var guids=meta.getReferenceAttributes().map(function(attr){return obj[attr];}).filter(function(guid){return guid!=null&&guid!==""&&guid in _15cf;},this);return _1529.fromArray(guids);};_1533.prototype._calculateAutoCommitGuids=function(_15d0,_15d1){var self=this;var prev=_1529.empty();var _15d2=this._getReferenceGuids(_15d0,_15d1);while(prev.length()!==_15d2.length()){var _15d3=_15d2.reduce(function(acc,guid){return acc.or(self._getReferenceGuids(guid,_15d1));},_1529.empty());prev=_15d2;_15d2=_15d2.or(_15d3);}return _15d2;};return _1533;function _15d4(xpath){return new Task(function(_15d5,_15d6){window.mx.server.request({request:{action:"retrieve_by_xpath",params:{xpath:xpath,schema:{}}},options:{callback:function(type,json){_15d6(json.mxobjects||[]);},error:_15d5}});});};function _15d7(_15d8,_15d9,_15da,_15db){var _15dc=_15db.map(function(_15dd){var _15de=_1589(_15dd);var _15df=_1526.openDirectory(_15d9,"files/documents").chain(function(de){return _1526.createFileTask(de,_15de,{create:false});}).chain(_1526.createGetFileBlobTask).chain(_1526.createReadAsArrayBufferTask);var _15e0=_15df.chain(function(ab){return _15e1(_15d8,_15da[_15dd],{},new Blob([ab]));});return [_15dd,_15e0];});return lang.objectFromArray(_15dc);};function _15e2(_15e3,_15e4){return new Task(function(_15e5,_15e6){return _15e3.create(_15e4,false,_15e6,_15e5);}).map(function(json){return json.mxobject;});};function _15e7(_15e8,guids,_15e9){return new Task(function(_15ea,_15eb){_15e8.commit(guids,_15e9,null,null,null,_15eb,_15ea);});};function _15e1(_15ec,guid,_15ed,blob){return new Task(function(_15ee,_15ef){_15ec.saveDocument(guid,{},null,_15ed,blob,_15ef,_15ee);});};function _15f0(_15f1,_15f2){var meta=window.mx.meta.getEntity(_15f2.$objectType);var _15f3=meta.getAttributes().filter(meta.isSyncable.bind(meta));return lang.objectFromArray(_15f4(_15f3.map(function(attr){var _15f5=meta.getAttributeType(attr);var _15f6=_1530[_15f5];if(!_15f6){return [];}if(meta.isReference(attr)){var _15f7=_15f2[attr];var _15f8=_15f1[_15f7];if(_15f8){return [[attr,_15f6(_15f8)]];}else{return [[attr,_15f6(_15f7)]];}}else{return [[attr,_15f6(_15f2[attr])]];}})));};function _154b(obj){var _15f9=Object.keys(obj).filter(function(_15fa){return !_15ce(_15fa);}).reduce(function(acc,key){acc[key]={value:obj[key]===null?"":obj[key],readonly:obj.$readonlyAttrs.indexOf(key)!==-1};return acc;},{});return {guid:obj.guid,objectType:obj.$objectType,attributes:_15f9};};function _15ce(_15fb){return (_15fb==="guid"||_15fb==="$objectType"||_15fb==="$readonlyAttrs");};function _15fc(_15fd){var dbObj={guid:_15fd.guid};for(var key in _15fd.attributes){dbObj[key]=_15fd.attributes[key].value;}return dbObj;};function _15fe(obj){return new _152d({json:obj,meta:window.mx.meta.getEntity(obj.objectType)});};function _154a(meta){return meta.getAttributes().reduce(function(acc,attr){acc[attr]=_15ff(meta,attr);return acc;},{});};function _15ff(meta,attr){var _1600=meta.getAttributeType(attr);return _152f[_1600];};function _1538(src,dst,_1601,error){_1527.downloadFile(_152c.getStaticResourceUrlFromPath(src),{location:window.TEMPORARY,path:"files/"+dst},_1601,error);};function _15f4(a){return [].concat.apply([],a);};function _1536(_1602,error){_1526.getFileSystem(window.TEMPORARY).then(function(fs){if(_1602){_1602(fs.root);}},error);};function _1537(_1603,_1604,_1605){var dir=_1605?"thumbnails":"documents";return "filesystem:"+window.mx.appUrl+"temporary/files/"+dir+"/"+_1603+"?"+(+new Date());};function _1589(guid){return guid.replace(/:/g,"_");};function _1531(d){if(d==null){return "";}else{return String(d);}};function _1532(b){return String(!!b);};});},"webcore/Multimap":function(){define([],function(){function _1606(obj){this.__values=obj;};_1606.fromObject=function(obj){return new _1606(obj);};_1606.empty=_1606.prototype.empty=function(){return new _1606({});};_1606.prototype.concat=function(other){var _1607={};for(var k in this.__values){if(k in other.__values){_1607[k]=this.__values[k].concat(other.__values[k]);}else{_1607[k]=this.__values[k];}}for(k in other.__values){if(!(k in this.__values)){_1607[k]=other.__values[k];}}return new _1606(_1607);};_1606.prototype.get=function(){return this.__values;};_1606.prototype.toString=function(){return "Multimap"+this.__values;};return _1606;});},"webcore/applicative":function(){define([],function(){var _1608={};var lift2=_1608.lift2=function(f,Ax,Ay){return Ax.map(function(x){return function(y){return f(x,y);};}).ap(Ay);};_1608.sequence=function(as,A){return as.reduce(function(acc,ax){return lift2(_1609,acc,ax);},A.of([]));};_1608.sequence_=function(as,A){return _1608.sequence(as,A).map(function(_160a){return;});};return _1608;function _1609(xs,x){return xs.concat([x]);};});},"webcore/file-helpers":function(){define(["./Task","bluebird/bluebird"],function(Task,_160b){var _160c={};var _160d=[];_160c.getFileSystem=function(_160e){if(!_160d[_160e]){_160d[_160e]=new _160b(function(_160f,_1610){window.webkitRequestFileSystem(_160e,1024*1024,_160f,_1610);});}return _160d[_160e];};_160c.openDirectory=function(re,path){if(typeof path==="string"){path=path.split("/");}var _1611=path.map(function(pc){return function(de){return new Task(function(_1612,_1613){de.getDirectory(pc,{create:true},function(nde){_1613(nde);},_1612);});};});return _1611.reduce(function(acc,fmx){return acc.chain(function(de){return fmx(de);});},Task.of(re));};_160c.createFileTask=function(de,_1614,_1615){return new Task(function(_1616,_1617){de.getFile(_1614,_1615,_1617,_1616);});};_160c.createGetFileBlobTask=function(fe){return new Task(function(_1618,_1619){fe.file(_1619,_1618);});};_160c.createReadAsArrayBufferTask=function(blob){return new Task(function(_161a,_161b){var fr=new FileReader();fr.onload=function(e){_161b(e.target.result);};fr.onerror=function(e){_161a(e.target.error);};fr.readAsArrayBuffer(blob);});};_160c.createWriterTask=function(fe){return new Task(function(_161c,_161d){fe.createWriter(_161d,_161c);});};_160c.createWriteTask=function(fw,blob){return new Task(function(_161e,_161f){fw.onwrite=_161f;fw.onerror=_161e;fw.write(blob);});};_160c.saveBlob=function(blob,de,_1620,_1621){return _160c.createFileTask(de,_1620,_1621).chain(function(fe){return _160c.createWriterTask(fe).chain(function(fw){return _160c.createWriteTask(fw,blob);});});};return _160c;});},"bluebird/bluebird":function(){define(function(){var _1622,_1623,_1624;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_=="function"&&_dereq_;if(!u&&a){return a(o,!0);}if(i){return i(o,!0);}var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e);},l,l.exports,e,t,n,r);}return n[o].exports;};var i=typeof _dereq_=="function"&&_dereq_;for(var o=0;o<r.length;o++){s(r[o]);}return s;})({1:[function(_1625,_1626,_1627){"use strict";_1626.exports=function(_1628){var _1629=_1628._SomePromiseArray;function any(_162a){var ret=new _1629(_162a);var _162b=ret.promise();ret.setHowMany(1);ret.setUnwrap();ret.init();return _162b;};_1628.any=function(_162c){return any(_162c);};_1628.prototype.any=function(){return any(this);};};},{}],2:[function(_162d,_162e,_162f){"use strict";var _1630;try{throw new Error();}catch(e){_1630=e;}var _1631=_162d("./schedule.js");var Queue=_162d("./queue.js");var util=_162d("./util.js");function Async(){this._isTickUsed=false;this._lateQueue=new Queue(16);this._normalQueue=new Queue(16);this._trampolineEnabled=true;var self=this;this.drainQueues=function(){self._drainQueues();};this._schedule=_1631.isStatic?_1631(this.drainQueues):_1631;};Async.prototype.disableTrampolineIfNecessary=function(){if(util.hasDevTools){this._trampolineEnabled=false;}};Async.prototype.enableTrampoline=function(){if(!this._trampolineEnabled){this._trampolineEnabled=true;this._schedule=function(fn){setTimeout(fn,0);};}};Async.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0;};Async.prototype.throwLater=function(fn,arg){if(arguments.length===1){arg=fn;fn=function(){throw arg;};}if(typeof setTimeout!=="undefined"){setTimeout(function(){fn(arg);},0);}else{try{this._schedule(function(){fn(arg);});}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n");}}};function _1632(fn,_1633,arg){this._lateQueue.push(fn,_1633,arg);this._queueTick();};function _1634(fn,_1635,arg){this._normalQueue.push(fn,_1635,arg);this._queueTick();};function _1636(_1637){this._normalQueue._pushOne(_1637);this._queueTick();};if(!util.hasDevTools){Async.prototype.invokeLater=_1632;Async.prototype.invoke=_1634;Async.prototype.settlePromises=_1636;}else{if(_1631.isStatic){_1631=function(fn){setTimeout(fn,0);};}Async.prototype.invokeLater=function(fn,_1638,arg){if(this._trampolineEnabled){_1632.call(this,fn,_1638,arg);}else{this._schedule(function(){setTimeout(function(){fn.call(_1638,arg);},100);});}};Async.prototype.invoke=function(fn,_1639,arg){if(this._trampolineEnabled){_1634.call(this,fn,_1639,arg);}else{this._schedule(function(){fn.call(_1639,arg);});}};Async.prototype.settlePromises=function(_163a){if(this._trampolineEnabled){_1636.call(this,_163a);}else{this._schedule(function(){_163a._settlePromises();});}};}Async.prototype.invokeFirst=function(fn,_163b,arg){this._normalQueue.unshift(fn,_163b,arg);this._queueTick();};Async.prototype._drainQueue=function(queue){while(queue.length()>0){var fn=queue.shift();if(typeof fn!=="function"){fn._settlePromises();continue;}var _163c=queue.shift();var arg=queue.shift();fn.call(_163c,arg);}};Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._drainQueue(this._lateQueue);};Async.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=true;this._schedule(this.drainQueues);}};Async.prototype._reset=function(){this._isTickUsed=false;};_162e.exports=new Async();_162e.exports.firstLineError=_1630;},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(_163d,_163e,_163f){"use strict";_163e.exports=function(_1640,_1641,_1642){var _1643=function(_1644,e){this._reject(e);};var _1645=function(e,_1646){_1646.promiseRejectionQueued=true;_1646.bindingPromise._then(_1643,_1643,null,this,e);};var _1647=function(_1648,_1649){if(this._isPending()){this._resolveCallback(_1649.target);}};var _164a=function(e,_164b){if(!_164b.promiseRejectionQueued){this._reject(e);}};_1640.prototype.bind=function(_164c){var _164d=_1642(_164c);var ret=new _1640(_1641);ret._propagateFrom(this,1);var _164e=this._target();ret._setBoundTo(_164d);if(_164d instanceof _1640){var _164f={promiseRejectionQueued:false,promise:ret,target:_164e,bindingPromise:_164d};_164e._then(_1641,_1645,ret._progress,ret,_164f);_164d._then(_1647,_164a,ret._progress,ret,_164f);}else{ret._resolveCallback(_164e);}return ret;};_1640.prototype._setBoundTo=function(obj){if(obj!==undefined){this._bitField=this._bitField|131072;this._boundTo=obj;}else{this._bitField=this._bitField&(~131072);}};_1640.prototype._isBound=function(){return (this._bitField&131072)===131072;};_1640.bind=function(_1650,value){var _1651=_1642(_1650);var ret=new _1640(_1641);ret._setBoundTo(_1651);if(_1651 instanceof _1640){_1651._then(function(){ret._resolveCallback(value);},ret._reject,ret._progress,ret,null);}else{ret._resolveCallback(value);}return ret;};};},{}],4:[function(_1652,_1653,_1654){"use strict";var old;if(typeof Promise!=="undefined"){old=Promise;}function _1655(){try{if(Promise===_1656){Promise=old;}}catch(e){}return _1656;};var _1656=_1652("./promise.js")();_1656.noConflict=_1655;_1653.exports=_1656;},{"./promise.js":23}],5:[function(_1657,_1658,_1659){"use strict";var cr=Object.create;if(cr){var _165a=cr(null);var _165b=cr(null);_165a[" size"]=_165b[" size"]=0;}_1658.exports=function(_165c){var util=_1657("./util.js");var _165d=util.canEvaluate;var _165e=util.isIdentifier;var _165f;var _1660;if(!true){var _1661=function(_1662){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,_1662))(_1663);};var _1664=function(_1665){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",_1665));};var _1666=function(name,_1667,cache){var ret=cache[name];if(typeof ret!=="function"){if(!_165e(name)){return null;}ret=_1667(name);cache[name]=ret;cache[" size"]++;if(cache[" size"]>512){var keys=Object.keys(cache);for(var i=0;i<256;++i){delete cache[keys[i]];}cache[" size"]=keys.length-256;}}return ret;};_165f=function(name){return _1666(name,_1661,_165a);};_1660=function(name){return _1666(name,_1664,_165b);};}function _1663(obj,_1668){var fn;if(obj!=null){fn=obj[_1668];}if(typeof fn!=="function"){var _1669="Object "+util.classString(obj)+" has no method '"+util.toString(_1668)+"'";throw new _165c.TypeError(_1669);}return fn;};function _166a(obj){var _166b=this.pop();var fn=_1663(obj,_166b);return fn.apply(obj,this);};_165c.prototype.call=function(_166c){var $_len=arguments.length;var args=new Array($_len-1);for(var $_i=1;$_i<$_len;++$_i){args[$_i-1]=arguments[$_i];}if(!true){if(_165d){var _166d=_165f(_166c);if(_166d!==null){return this._then(_166d,undefined,undefined,args,undefined);}}}args.push(_166c);return this._then(_166a,undefined,undefined,args,undefined);};function _166e(obj){return obj[this];};function _166f(obj){var index=+this;if(index<0){index=Math.max(0,index+obj.length);}return obj[index];};_165c.prototype.get=function(_1670){var _1671=(typeof _1670==="number");var _1672;if(!_1671){if(_165d){var _1673=_1660(_1670);_1672=_1673!==null?_1673:_166e;}else{_1672=_166e;}}else{_1672=_166f;}return this._then(_1672,undefined,undefined,_1670,undefined);};};},{"./util.js":38}],6:[function(_1674,_1675,_1676){"use strict";_1675.exports=function(_1677){var _1678=_1674("./errors.js");var async=_1674("./async.js");var _1679=_1678.CancellationError;_1677.prototype._cancel=function(_167a){if(!this.isCancellable()){return this;}var _167b;var _167c=this;while((_167b=_167c._cancellationParent)!==undefined&&_167b.isCancellable()){_167c=_167b;}this._unsetCancellable();_167c._target()._rejectCallback(_167a,false,true);};_1677.prototype.cancel=function(_167d){if(!this.isCancellable()){return this;}if(_167d===undefined){_167d=new _1679();}async.invokeLater(this._cancel,this,_167d);return this;};_1677.prototype.cancellable=function(){if(this._cancellable()){return this;}async.enableTrampoline();this._setCancellable();this._cancellationParent=undefined;return this;};_1677.prototype.uncancellable=function(){var ret=this.then();ret._unsetCancellable();return ret;};_1677.prototype.fork=function(_167e,_167f,_1680){var ret=this._then(_167e,_167f,_1680,undefined,undefined);ret._setCancellable();ret._cancellationParent=undefined;return ret;};};},{"./async.js":2,"./errors.js":13}],7:[function(_1681,_1682,_1683){"use strict";_1682.exports=function(){var async=_1681("./async.js");var util=_1681("./util.js");var _1684=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/;var _1685=null;var _1686=null;var _1687=false;var warn;function _1688(_1689){this._parent=_1689;var _168a=this._length=1+(_1689===undefined?0:_1689._length);_168b(this,_1688);if(_168a>32){this.uncycle();}};util.inherits(_1688,Error);_1688.prototype.uncycle=function(){var _168c=this._length;if(_168c<2){return;}var nodes=[];var _168d={};for(var i=0,node=this;node!==undefined;++i){nodes.push(node);node=node._parent;}_168c=this._length=i;for(var i=_168c-1;i>=0;--i){var stack=nodes[i].stack;if(_168d[stack]===undefined){_168d[stack]=i;}}for(var i=0;i<_168c;++i){var _168e=nodes[i].stack;var index=_168d[_168e];if(index!==undefined&&index!==i){if(index>0){nodes[index-1]._parent=undefined;nodes[index-1]._length=1;}nodes[i]._parent=undefined;nodes[i]._length=1;var _168f=i>0?nodes[i-1]:this;if(index<_168c-1){_168f._parent=nodes[index+1];_168f._parent.uncycle();_168f._length=_168f._parent._length+1;}else{_168f._parent=undefined;_168f._length=1;}var _1690=_168f._length+1;for(var j=i-2;j>=0;--j){nodes[j]._length=_1690;_1690++;}return;}}};_1688.prototype.parent=function(){return this._parent;};_1688.prototype.hasParent=function(){return this._parent!==undefined;};_1688.prototype.attachExtraTrace=function(error){if(error.__stackCleaned__){return;}this.uncycle();var _1691=_1688.parseStackAndMessage(error);var _1692=_1691.message;var _1693=[_1691.stack];var trace=this;while(trace!==undefined){_1693.push(_1694(trace.stack.split("\n")));trace=trace._parent;}_1695(_1693);_1696(_1693);util.notEnumerableProp(error,"stack",_1697(_1692,_1693));util.notEnumerableProp(error,"__stackCleaned__",true);};function _1697(_1698,_1699){for(var i=0;i<_1699.length-1;++i){_1699[i].push("From previous event:");_1699[i]=_1699[i].join("\n");}if(i<_1699.length){_1699[i]=_1699[i].join("\n");}return _1698+"\n"+_1699.join("\n");};function _1696(_169a){for(var i=0;i<_169a.length;++i){if(_169a[i].length===0||((i+1<_169a.length)&&_169a[i][0]===_169a[i+1][0])){_169a.splice(i,1);i--;}}};function _1695(_169b){var _169c=_169b[0];for(var i=1;i<_169b.length;++i){var prev=_169b[i];var _169d=_169c.length-1;var _169e=_169c[_169d];var _169f=-1;for(var j=prev.length-1;j>=0;--j){if(prev[j]===_169e){_169f=j;break;}}for(var j=_169f;j>=0;--j){var line=prev[j];if(_169c[_169d]===line){_169c.pop();_169d--;}else{break;}}_169c=prev;}};function _1694(stack){var ret=[];for(var i=0;i<stack.length;++i){var line=stack[i];var _16a0=_1685.test(line)||"    (No stack trace)"===line;var _16a1=_16a0&&_16a2(line);if(_16a0&&!_16a1){if(_1687&&line.charAt(0)!==" "){line="    "+line;}ret.push(line);}}return ret;};function _16a3(error){var stack=error.stack.replace(/\s+$/g,"").split("\n");for(var i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||_1685.test(line)){break;}}if(i>0){stack=stack.slice(i);}return stack;};_1688.parseStackAndMessage=function(error){var stack=error.stack;var _16a4=error.toString();stack=typeof stack==="string"&&stack.length>0?_16a3(error):["    (No stack trace)"];return {message:_16a4,stack:_1694(stack)};};_1688.formatAndLogError=function(error,title){if(typeof console!=="undefined"){var _16a5;if(typeof error==="object"||typeof error==="function"){var stack=error.stack;_16a5=title+_1686(stack,error);}else{_16a5=title+String(error);}if(typeof warn==="function"){warn(_16a5);}else{if(typeof console.log==="function"||typeof console.log==="object"){}}}};_1688.unhandledRejection=function(_16a6){_1688.formatAndLogError(_16a6,"^--- With additional stack trace: ");};_1688.isSupported=function(){return typeof _168b==="function";};_1688.fireRejectionEvent=function(name,_16a7,_16a8,_16a9){var _16aa=false;try{if(typeof _16a7==="function"){_16aa=true;if(name==="rejectionHandled"){_16a7(_16a9);}else{_16a7(_16a8,_16a9);}}}catch(e){async.throwLater(e);}var _16ab=false;try{_16ab=_16ac(name,_16a8,_16a9);}catch(e){_16ab=true;async.throwLater(e);}var _16ad=false;if(_16ae){try{_16ad=_16ae(name.toLowerCase(),{reason:_16a8,promise:_16a9});}catch(e){_16ad=true;async.throwLater(e);}}if(!_16ab&&!_16aa&&!_16ad&&name==="unhandledRejection"){_1688.formatAndLogError(_16a8,"Unhandled rejection ");}};function _16af(obj){var str;if(typeof obj==="function"){str="[function "+(obj.name||"anonymous")+"]";}else{str=obj.toString();var _16b0=/\[object [a-zA-Z0-9$_]+\]/;if(_16b0.test(str)){try{var _16b1=JSON.stringify(obj);str=_16b1;}catch(e){}}if(str.length===0){str="(empty array)";}}return ("(<"+snip(str)+">, no stack trace)");};function snip(str){var _16b2=41;if(str.length<_16b2){return str;}return str.substr(0,_16b2-3)+"...";};var _16a2=function(){return false;};var _16b3=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function _16b4(line){var _16b5=line.match(_16b3);if(_16b5){return {fileName:_16b5[1],line:parseInt(_16b5[2],10)};}};_1688.setBounds=function(_16b6,_16b7){if(!_1688.isSupported()){return;}var _16b8=_16b6.stack.split("\n");var _16b9=_16b7.stack.split("\n");var _16ba=-1;var _16bb=-1;var _16bc;var _16bd;for(var i=0;i<_16b8.length;++i){var _16be=_16b4(_16b8[i]);if(_16be){_16bc=_16be.fileName;_16ba=_16be.line;break;}}for(var i=0;i<_16b9.length;++i){var _16be=_16b4(_16b9[i]);if(_16be){_16bd=_16be.fileName;_16bb=_16be.line;break;}}if(_16ba<0||_16bb<0||!_16bc||!_16bd||_16bc!==_16bd||_16ba>=_16bb){return;}_16a2=function(line){if(_1684.test(line)){return true;}var info=_16b4(line);if(info){if(info.fileName===_16bc&&(_16ba<=info.line&&info.line<=_16bb)){return true;}}return false;};};var _168b=(function stackDetection(){var _16bf=/^\s*at\s*/;var _16c0=function(stack,error){if(typeof stack==="string"){return stack;}if(error.name!==undefined&&error.message!==undefined){return error.toString();}return _16af(error);};if(typeof Error.stackTraceLimit==="number"&&typeof Error.captureStackTrace==="function"){Error.stackTraceLimit=Error.stackTraceLimit+6;_1685=_16bf;_1686=_16c0;var _16c1=Error.captureStackTrace;_16a2=function(line){return _1684.test(line);};return function(_16c2,_16c3){Error.stackTraceLimit=Error.stackTraceLimit+6;_16c1(_16c2,_16c3);Error.stackTraceLimit=Error.stackTraceLimit-6;};}var err=new Error();if(typeof err.stack==="string"&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0){_1685=/@/;_1686=_16c0;_1687=true;return function _16c1(o){o.stack=new Error().stack;};}var _16c4;try{throw new Error();}catch(e){_16c4=("stack" in e);}if(!("stack" in err)&&_16c4&&typeof Error.stackTraceLimit==="number"){_1685=_16bf;_1686=_16c0;return function _16c1(o){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error();}catch(e){o.stack=e.stack;}Error.stackTraceLimit=Error.stackTraceLimit-6;};}_1686=function(stack,error){if(typeof stack==="string"){return stack;}if((typeof error==="object"||typeof error==="function")&&error.name!==undefined&&error.message!==undefined){return error.toString();}return _16af(error);};return null;})([]);var _16ae;var _16ac=(function(){if(util.isNode){return function(name,_16c5,_16c6){if(name==="rejectionHandled"){return process.emit(name,_16c6);}else{return process.emit(name,_16c5,_16c6);}};}else{var _16c7=false;var _16c8=true;try{var ev=new self.CustomEvent("test");_16c7=ev instanceof CustomEvent;}catch(e){}if(!_16c7){try{var event=document.createEvent("CustomEvent");event.initCustomEvent("testingtheevent",false,true,{});self.dispatchEvent(event);}catch(e){_16c8=false;}}if(_16c8){_16ae=function(type,_16c9){var event;if(_16c7){event=new self.CustomEvent(type,{detail:_16c9,bubbles:false,cancelable:true});}else{if(self.dispatchEvent){event=document.createEvent("CustomEvent");event.initCustomEvent(type,false,true,_16c9);}}return event?!self.dispatchEvent(event):false;};}var _16ca={};_16ca["unhandledRejection"]=("on"+"unhandledRejection").toLowerCase();_16ca["rejectionHandled"]=("on"+"rejectionHandled").toLowerCase();return function(name,_16cb,_16cc){var _16cd=_16ca[name];var _16ce=self[_16cd];if(!_16ce){return false;}if(name==="rejectionHandled"){_16ce.call(self,_16cc);}else{_16ce.call(self,_16cb,_16cc);}return true;};}})();if(typeof console!=="undefined"&&typeof console.warn!=="undefined"){warn=function(_16cf){console.warn(_16cf);};if(util.isNode&&process.stderr.isTTY){warn=function(_16d0){process.stderr.write("[31m"+_16d0+"[39m\n");};}else{if(!util.isNode&&typeof (new Error().stack)==="string"){warn=function(_16d1){console.warn("%c"+_16d1,"color: red");};}}}return _1688;};},{"./async.js":2,"./util.js":38}],8:[function(_16d2,_16d3,_16d4){"use strict";_16d3.exports=function(_16d5){var util=_16d2("./util.js");var _16d6=_16d2("./errors.js");var _16d7=util.tryCatch;var _16d8=util.errorObj;var keys=_16d2("./es5.js").keys;var _16d9=_16d6.TypeError;function _16da(_16db,_16dc,_16dd){this._instances=_16db;this._callback=_16dc;this._promise=_16dd;};function _16de(_16df,e){var _16e0={};var _16e1=_16d7(_16df).call(_16e0,e);if(_16e1===_16d8){return _16e1;}var _16e2=keys(_16e0);if(_16e2.length){_16d8.e=new _16d9("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n");return _16d8;}return _16e1;};_16da.prototype.doFilter=function(e){var cb=this._callback;var _16e3=this._promise;var _16e4=_16e3._boundValue();for(var i=0,len=this._instances.length;i<len;++i){var item=this._instances[i];var _16e5=item===Error||(item!=null&&item.prototype instanceof Error);if(_16e5&&e instanceof item){var ret=_16d7(cb).call(_16e4,e);if(ret===_16d8){_16d5.e=ret.e;return _16d5;}return ret;}else{if(typeof item==="function"&&!_16e5){var _16e6=_16de(item,e);if(_16e6===_16d8){e=_16d8.e;break;}else{if(_16e6){var ret=_16d7(cb).call(_16e4,e);if(ret===_16d8){_16d5.e=ret.e;return _16d5;}return ret;}}}}}_16d5.e=e;return _16d5;};return _16da;};},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(_16e7,_16e8,_16e9){"use strict";_16e8.exports=function(_16ea,_16eb,_16ec){var _16ed=[];function _16ee(){this._trace=new _16eb(_16ef());};_16ee.prototype._pushContext=function(){if(!_16ec()){return;}if(this._trace!==undefined){_16ed.push(this._trace);}};_16ee.prototype._popContext=function(){if(!_16ec()){return;}if(this._trace!==undefined){_16ed.pop();}};function _16f0(){if(_16ec()){return new _16ee();}};function _16ef(){var _16f1=_16ed.length-1;if(_16f1>=0){return _16ed[_16f1];}return undefined;};_16ea.prototype._peekContext=_16ef;_16ea.prototype._pushContext=_16ee.prototype._pushContext;_16ea.prototype._popContext=_16ee.prototype._popContext;return _16f0;};},{}],10:[function(_16f2,_16f3,_16f4){"use strict";_16f3.exports=function(_16f5,_16f6){var _16f7=_16f5._getDomain;var async=_16f2("./async.js");var _16f8=_16f2("./errors.js").Warning;var util=_16f2("./util.js");var _16f9=util.canAttachTrace;var _16fa;var _16fb;var _16fc=false||(util.isNode&&(!!process.env["BLUEBIRD_DEBUG"]||process.env["NODE_ENV"]==="development"));if(_16fc){async.disableTrampolineIfNecessary();}_16f5.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled();this._bitField=this._bitField|16777216;};_16f5.prototype._ensurePossibleRejectionHandled=function(){if((this._bitField&16777216)!==0){return;}this._setRejectionIsUnhandled();async.invokeLater(this._notifyUnhandledRejection,this,undefined);};_16f5.prototype._notifyUnhandledRejectionIsHandled=function(){_16f6.fireRejectionEvent("rejectionHandled",_16fa,undefined,this);};_16f5.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var _16fd=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified();_16f6.fireRejectionEvent("unhandledRejection",_16fb,_16fd,this);}};_16f5.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|524288;};_16f5.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&(~524288);};_16f5.prototype._isUnhandledRejectionNotified=function(){return (this._bitField&524288)>0;};_16f5.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|2097152;};_16f5.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&(~2097152);if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled();}};_16f5.prototype._isRejectionUnhandled=function(){return (this._bitField&2097152)>0;};_16f5.prototype._setCarriedStackTrace=function(_16fe){this._bitField=this._bitField|1048576;this._fulfillmentHandler0=_16fe;};_16f5.prototype._isCarryingStackTrace=function(){return (this._bitField&1048576)>0;};_16f5.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:undefined;};_16f5.prototype._captureStackTrace=function(){if(_16fc){this._trace=new _16f6(this._peekContext());}return this;};_16f5.prototype._attachExtraTrace=function(error,_16ff){if(_16fc&&_16f9(error)){var trace=this._trace;if(trace!==undefined){if(_16ff){trace=trace._parent;}}if(trace!==undefined){trace.attachExtraTrace(error);}else{if(!error.__stackCleaned__){var _1700=_16f6.parseStackAndMessage(error);util.notEnumerableProp(error,"stack",_1700.message+"\n"+_1700.stack.join("\n"));util.notEnumerableProp(error,"__stackCleaned__",true);}}}};_16f5.prototype._warn=function(_1701){var _1702=new _16f8(_1701);var ctx=this._peekContext();if(ctx){ctx.attachExtraTrace(_1702);}else{var _1703=_16f6.parseStackAndMessage(_1702);_1702.stack=_1703.message+"\n"+_1703.stack.join("\n");}_16f6.formatAndLogError(_1702,"");};_16f5.onPossiblyUnhandledRejection=function(fn){var _1704=_16f7();_16fb=typeof fn==="function"?(_1704===null?fn:_1704.bind(fn)):undefined;};_16f5.onUnhandledRejectionHandled=function(fn){var _1705=_16f7();_16fa=typeof fn==="function"?(_1705===null?fn:_1705.bind(fn)):undefined;};_16f5.longStackTraces=function(){if(async.haveItemsQueued()&&_16fc===false){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");}_16fc=_16f6.isSupported();if(_16fc){async.disableTrampolineIfNecessary();}};_16f5.hasLongStackTraces=function(){return _16fc&&_16f6.isSupported();};if(!_16f6.isSupported()){_16f5.longStackTraces=function(){};_16fc=false;}return function(){return _16fc;};};},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(_1706,_1707,_1708){"use strict";var util=_1706("./util.js");var _1709=util.isPrimitive;_1707.exports=function(_170a){var _170b=function(){return this;};var _170c=function(){throw this;};var _170d=function(){};var _170e=function(){throw undefined;};var _170f=function(value,_1710){if(_1710===1){return function(){throw value;};}else{if(_1710===2){return function(){return value;};}}};_170a.prototype["return"]=_170a.prototype.thenReturn=function(value){if(value===undefined){return this.then(_170d);}if(_1709(value)){return this._then(_170f(value,2),undefined,undefined,undefined,undefined);}return this._then(_170b,undefined,undefined,value,undefined);};_170a.prototype["throw"]=_170a.prototype.thenThrow=function(_1711){if(_1711===undefined){return this.then(_170e);}if(_1709(_1711)){return this._then(_170f(_1711,1),undefined,undefined,undefined,undefined);}return this._then(_170c,undefined,undefined,_1711,undefined);};};},{"./util.js":38}],12:[function(_1712,_1713,_1714){"use strict";_1713.exports=function(_1715,_1716){var _1717=_1715.reduce;_1715.prototype.each=function(fn){return _1717(this,fn,null,_1716);};_1715.each=function(_1718,fn){return _1717(_1718,fn,null,_1716);};};},{}],13:[function(_1719,_171a,_171b){"use strict";var es5=_1719("./es5.js");var _171c=es5.freeze;var util=_1719("./util.js");var _171d=util.inherits;var _171e=util.notEnumerableProp;function _171f(_1720,_1721){function _1722(_1723){if(!(this instanceof _1722)){return new _1722(_1723);}_171e(this,"message",typeof _1723==="string"?_1723:_1721);_171e(this,"name",_1720);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor);}else{Error.call(this);}};_171d(_1722,Error);return _1722;};var _1724,_1725;var _1726=_171f("Warning","warning");var _1727=_171f("CancellationError","cancellation error");var _1728=_171f("TimeoutError","timeout error");var _1729=_171f("AggregateError","aggregate error");try{_1724=TypeError;_1725=RangeError;}catch(e){_1724=_171f("TypeError","type error");_1725=_171f("RangeError","range error");}var _172a=("join pop push shift unshift slice filter forEach some "+"every map indexOf lastIndexOf reduce reduceRight sort reverse").split(" ");for(var i=0;i<_172a.length;++i){if(typeof Array.prototype[_172a[i]]==="function"){_1729.prototype[_172a[i]]=Array.prototype[_172a[i]];}}es5.defineProperty(_1729.prototype,"length",{value:0,configurable:false,writable:true,enumerable:true});_1729.prototype["isOperational"]=true;var level=0;_1729.prototype.toString=function(){var _172b=Array(level*4+1).join(" ");var ret="\n"+_172b+"AggregateError of:"+"\n";level++;_172b=Array(level*4+1).join(" ");for(var i=0;i<this.length;++i){var str=this[i]===this?"[Circular AggregateError]":this[i]+"";var lines=str.split("\n");for(var j=0;j<lines.length;++j){lines[j]=_172b+lines[j];}str=lines.join("\n");ret+=str+"\n";}level--;return ret;};function _172c(_172d){if(!(this instanceof _172c)){return new _172c(_172d);}_171e(this,"name","OperationalError");_171e(this,"message",_172d);this.cause=_172d;this["isOperational"]=true;if(_172d instanceof Error){_171e(this,"message",_172d.message);_171e(this,"stack",_172d.stack);}else{if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor);}}};_171d(_172c,Error);var _172e=Error["__BluebirdErrorTypes__"];if(!_172e){_172e=_171c({CancellationError:_1727,TimeoutError:_1728,OperationalError:_172c,RejectionError:_172c,AggregateError:_1729});_171e(Error,"__BluebirdErrorTypes__",_172e);}_171a.exports={Error:Error,TypeError:_1724,RangeError:_1725,CancellationError:_172e.CancellationError,OperationalError:_172e.OperationalError,TimeoutError:_172e.TimeoutError,AggregateError:_172e.AggregateError,Warning:_1726};},{"./es5.js":14,"./util.js":38}],14:[function(_172f,_1730,_1731){var isES5=(function(){"use strict";return this===undefined;})();if(isES5){_1730.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var _1732=Object.getOwnPropertyDescriptor(obj,prop);return !!(!_1732||_1732.writable||_1732.set);}};}else{var has={}.hasOwnProperty;var str={}.toString;var proto={}.constructor.prototype;var _1733=function(o){var ret=[];for(var key in o){if(has.call(o,key)){ret.push(key);}}return ret;};var _1734=function(o,key){return {value:o[key]};};var _1735=function(o,key,desc){o[key]=desc.value;return o;};var _1736=function(obj){return obj;};var _1737=function(obj){try{return Object(obj).constructor.prototype;}catch(e){return proto;}};var _1738=function(obj){try{return str.call(obj)==="[object Array]";}catch(e){return false;}};_1730.exports={isArray:_1738,keys:_1733,names:_1733,defineProperty:_1735,getDescriptor:_1734,freeze:_1736,getPrototypeOf:_1737,isES5:isES5,propertyIsWritable:function(){return true;}};}},{}],15:[function(_1739,_173a,_173b){"use strict";_173a.exports=function(_173c,_173d){var _173e=_173c.map;_173c.prototype.filter=function(fn,_173f){return _173e(this,fn,_173f,_173d);};_173c.filter=function(_1740,fn,_1741){return _173e(_1740,fn,_1741,_173d);};};},{}],16:[function(_1742,_1743,_1744){"use strict";_1743.exports=function(_1745,_1746,_1747){var util=_1742("./util.js");var _1748=util.isPrimitive;var _1749=util.thrower;function _174a(){return this;};function _174b(){throw this;};function _174c(r){return function(){return r;};};function _174d(r){return function(){throw r;};};function _174e(ret,_174f,_1750){var then;if(_1748(_174f)){then=_1750?_174c(_174f):_174d(_174f);}else{then=_1750?_174a:_174b;}return ret._then(then,_1749,undefined,_174f,undefined);};function _1751(_1752){var _1753=this.promise;var _1754=this.handler;var ret=_1753._isBound()?_1754.call(_1753._boundValue()):_1754();if(ret!==undefined){var _1755=_1747(ret,_1753);if(_1755 instanceof _1745){_1755=_1755._target();return _174e(_1755,_1752,_1753.isFulfilled());}}if(_1753.isRejected()){_1746.e=_1752;return _1746;}else{return _1752;}};function _1756(value){var _1757=this.promise;var _1758=this.handler;var ret=_1757._isBound()?_1758.call(_1757._boundValue(),value):_1758(value);if(ret!==undefined){var _1759=_1747(ret,_1757);if(_1759 instanceof _1745){_1759=_1759._target();return _174e(_1759,value,true);}}return value;};_1745.prototype._passThroughHandler=function(_175a,_175b){if(typeof _175a!=="function"){return this.then();}var _175c={promise:this,handler:_175a};return this._then(_175b?_1751:_1756,_175b?_1751:undefined,undefined,_175c,undefined);};_1745.prototype.lastly=_1745.prototype["finally"]=function(_175d){return this._passThroughHandler(_175d,true);};_1745.prototype.tap=function(_175e){return this._passThroughHandler(_175e,false);};};},{"./util.js":38}],17:[function(_175f,_1760,_1761){"use strict";_1760.exports=function(_1762,_1763,_1764,_1765){var _1766=_175f("./errors.js");var _1767=_1766.TypeError;var util=_175f("./util.js");var _1768=util.errorObj;var _1769=util.tryCatch;var _176a=[];function _176b(value,_176c,_176d){for(var i=0;i<_176c.length;++i){_176d._pushContext();var _176e=_1769(_176c[i])(value);_176d._popContext();if(_176e===_1768){_176d._pushContext();var ret=_1762.reject(_1768.e);_176d._popContext();return ret;}var _176f=_1765(_176e,_176d);if(_176f instanceof _1762){return _176f;}}return null;};function _1770(_1771,_1772,_1773,stack){var _1774=this._promise=new _1762(_1764);_1774._captureStackTrace();this._stack=stack;this._generatorFunction=_1771;this._receiver=_1772;this._generator=undefined;this._yieldHandlers=typeof _1773==="function"?[_1773].concat(_176a):_176a;};_1770.prototype.promise=function(){return this._promise;};_1770.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=undefined;this._next(undefined);};_1770.prototype._continue=function(_1775){if(_1775===_1768){return this._promise._rejectCallback(_1775.e,false,true);}var value=_1775.value;if(_1775.done===true){this._promise._resolveCallback(value);}else{var _1776=_1765(value,this._promise);if(!(_1776 instanceof _1762)){_1776=_176b(_1776,this._yieldHandlers,this._promise);if(_1776===null){this._throw(new _1767("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",value)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return;}}_1776._then(this._next,this._throw,undefined,this,null);}};_1770.prototype._throw=function(_1777){this._promise._attachExtraTrace(_1777);this._promise._pushContext();var _1778=_1769(this._generator["throw"]).call(this._generator,_1777);this._promise._popContext();this._continue(_1778);};_1770.prototype._next=function(value){this._promise._pushContext();var _1779=_1769(this._generator.next).call(this._generator,value);this._promise._popContext();this._continue(_1779);};_1762.coroutine=function(_177a,_177b){if(typeof _177a!=="function"){throw new _1767("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");}var _177c=Object(_177b).yieldHandler;var _177d=_1770;var stack=new Error().stack;return function(){var _177e=_177a.apply(this,arguments);var spawn=new _177d(undefined,undefined,_177c,stack);spawn._generator=_177e;spawn._next(undefined);return spawn.promise();};};_1762.coroutine.addYieldHandler=function(fn){if(typeof fn!=="function"){throw new _1767("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}_176a.push(fn);};_1762.spawn=function(_177f){if(typeof _177f!=="function"){return _1763("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");}var spawn=new _1770(_177f,this);var ret=spawn.promise();spawn._run(_1762.spawn);return ret;};};},{"./errors.js":13,"./util.js":38}],18:[function(_1780,_1781,_1782){"use strict";_1781.exports=function(_1783,_1784,_1785,_1786){var util=_1780("./util.js");var _1787=util.canEvaluate;var _1788=util.tryCatch;var _1789=util.errorObj;var _178a;if(!true){if(_1787){var _178b=function(i){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,i));};var _178c=function(count){var _178d=[];for(var i=1;i<=count;++i){_178d.push("holder.p"+i);}return new Function("holder","                                      \n            'use strict';                                                    \n            var callback = holder.fn;                                        \n            return callback(values);                                         \n            ".replace(/values/g,_178d.join(", ")));};var _178e=[];var _178f=[undefined];for(var i=1;i<=5;++i){_178e.push(_178b(i));_178f.push(_178c(i));}var _1790=function(total,fn){this.p1=this.p2=this.p3=this.p4=this.p5=null;this.fn=fn;this.total=total;this.now=0;};_1790.prototype.callers=_178f;_1790.prototype.checkFulfillment=function(_1791){var now=this.now;now++;var total=this.total;if(now>=total){var _1792=this.callers[total];_1791._pushContext();var ret=_1788(_1792)(this);_1791._popContext();if(ret===_1789){_1791._rejectCallback(ret.e,false,true);}else{_1791._resolveCallback(ret);}}else{this.now=now;}};var _178a=function(_1793){this._reject(_1793);};}}_1783.join=function(){var last=arguments.length-1;var fn;if(last>0&&typeof arguments[last]==="function"){fn=arguments[last];if(!true){if(last<6&&_1787){var ret=new _1783(_1786);ret._captureStackTrace();var _1794=new _1790(last,fn);var _1795=_178e;for(var i=0;i<last;++i){var _1796=_1785(arguments[i],ret);if(_1796 instanceof _1783){_1796=_1796._target();if(_1796._isPending()){_1796._then(_1795[i],_178a,undefined,ret,_1794);}else{if(_1796._isFulfilled()){_1795[i].call(ret,_1796._value(),_1794);}else{ret._reject(_1796._reason());}}}else{_1795[i].call(ret,_1796,_1794);}}return ret;}}}var $_len=arguments.length;var args=new Array($_len);for(var $_i=0;$_i<$_len;++$_i){args[$_i]=arguments[$_i];}if(fn){args.pop();}var ret=new _1784(args).promise();return fn!==undefined?ret.spread(fn):ret;};};},{"./util.js":38}],19:[function(_1797,_1798,_1799){"use strict";_1798.exports=function(_179a,_179b,_179c,_179d,_179e){var _179f=_179a._getDomain;var async=_1797("./async.js");var util=_1797("./util.js");var _17a0=util.tryCatch;var _17a1=util.errorObj;var _17a2={};var _17a3=[];function _17a4(_17a5,fn,limit,_17a6){this.constructor$(_17a5);this._promise._captureStackTrace();var _17a7=_179f();this._callback=_17a7===null?fn:_17a7.bind(fn);this._preservedValues=_17a6===_179e?new Array(this.length()):null;this._limit=limit;this._inFlight=0;this._queue=limit>=1?[]:_17a3;async.invoke(init,this,undefined);};util.inherits(_17a4,_179b);function init(){this._init$(undefined,-2);};_17a4.prototype._init=function(){};_17a4.prototype._promiseFulfilled=function(value,index){var _17a8=this._values;var _17a9=this.length();var _17aa=this._preservedValues;var limit=this._limit;if(_17a8[index]===_17a2){_17a8[index]=value;if(limit>=1){this._inFlight--;this._drainQueue();if(this._isResolved()){return;}}}else{if(limit>=1&&this._inFlight>=limit){_17a8[index]=value;this._queue.push(index);return;}if(_17aa!==null){_17aa[index]=value;}var _17ab=this._callback;var _17ac=this._promise._boundValue();this._promise._pushContext();var ret=_17a0(_17ab).call(_17ac,value,index,_17a9);this._promise._popContext();if(ret===_17a1){return this._reject(ret.e);}var _17ad=_179d(ret,this._promise);if(_17ad instanceof _179a){_17ad=_17ad._target();if(_17ad._isPending()){if(limit>=1){this._inFlight++;}_17a8[index]=_17a2;return _17ad._proxyPromiseArray(this,index);}else{if(_17ad._isFulfilled()){ret=_17ad._value();}else{return this._reject(_17ad._reason());}}}_17a8[index]=ret;}var _17ae=++this._totalResolved;if(_17ae>=_17a9){if(_17aa!==null){this._filter(_17a8,_17aa);}else{this._resolve(_17a8);}}};_17a4.prototype._drainQueue=function(){var queue=this._queue;var limit=this._limit;var _17af=this._values;while(queue.length>0&&this._inFlight<limit){if(this._isResolved()){return;}var index=queue.pop();this._promiseFulfilled(_17af[index],index);}};_17a4.prototype._filter=function(_17b0,_17b1){var len=_17b1.length;var ret=new Array(len);var j=0;for(var i=0;i<len;++i){if(_17b0[i]){ret[j++]=_17b1[i];}}ret.length=j;this._resolve(ret);};_17a4.prototype.preservedValues=function(){return this._preservedValues;};function map(_17b2,fn,_17b3,_17b4){var limit=typeof _17b3==="object"&&_17b3!==null?_17b3.concurrency:0;limit=typeof limit==="number"&&isFinite(limit)&&limit>=1?limit:0;return new _17a4(_17b2,fn,limit,_17b4);};_179a.prototype.map=function(fn,_17b5){if(typeof fn!=="function"){return _179c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}return map(this,fn,_17b5,null).promise();};_179a.map=function(_17b6,fn,_17b7,_17b8){if(typeof fn!=="function"){return _179c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}return map(_17b6,fn,_17b7,_17b8).promise();};};},{"./async.js":2,"./util.js":38}],20:[function(_17b9,_17ba,_17bb){"use strict";_17ba.exports=function(_17bc,_17bd,_17be,_17bf){var util=_17b9("./util.js");var _17c0=util.tryCatch;_17bc.method=function(fn){if(typeof fn!=="function"){throw new _17bc.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}return function(){var ret=new _17bc(_17bd);ret._captureStackTrace();ret._pushContext();var value=_17c0(fn).apply(this,arguments);ret._popContext();ret._resolveFromSyncValue(value);return ret;};};_17bc.attempt=_17bc["try"]=function(fn,args,ctx){if(typeof fn!=="function"){return _17bf("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}var ret=new _17bc(_17bd);ret._captureStackTrace();ret._pushContext();var value=util.isArray(args)?_17c0(fn).apply(ctx,args):_17c0(fn).call(ctx,args);ret._popContext();ret._resolveFromSyncValue(value);return ret;};_17bc.prototype._resolveFromSyncValue=function(value){if(value===util.errorObj){this._rejectCallback(value.e,false,true);}else{this._resolveCallback(value,true);}};};},{"./util.js":38}],21:[function(_17c1,_17c2,_17c3){"use strict";_17c2.exports=function(_17c4){var util=_17c1("./util.js");var async=_17c1("./async.js");var _17c5=util.tryCatch;var _17c6=util.errorObj;function _17c7(val,_17c8){var _17c9=this;if(!util.isArray(val)){return _17ca.call(_17c9,val,_17c8);}var ret=_17c5(_17c8).apply(_17c9._boundValue(),[null].concat(val));if(ret===_17c6){async.throwLater(ret.e);}};function _17ca(val,_17cb){var _17cc=this;var _17cd=_17cc._boundValue();var ret=val===undefined?_17c5(_17cb).call(_17cd,null):_17c5(_17cb).call(_17cd,null,val);if(ret===_17c6){async.throwLater(ret.e);}};function _17ce(_17cf,_17d0){var _17d1=this;if(!_17cf){var _17d2=_17d1._target();var _17d3=_17d2._getCarriedStackTrace();_17d3.cause=_17cf;_17cf=_17d3;}var ret=_17c5(_17d0).call(_17d1._boundValue(),_17cf);if(ret===_17c6){async.throwLater(ret.e);}};_17c4.prototype.asCallback=_17c4.prototype.nodeify=function(_17d4,_17d5){if(typeof _17d4=="function"){var _17d6=_17ca;if(_17d5!==undefined&&Object(_17d5).spread){_17d6=_17c7;}this._then(_17d6,_17ce,undefined,this,_17d4);}return this;};};},{"./async.js":2,"./util.js":38}],22:[function(_17d7,_17d8,_17d9){"use strict";_17d8.exports=function(_17da,_17db){var util=_17d7("./util.js");var async=_17d7("./async.js");var _17dc=util.tryCatch;var _17dd=util.errorObj;_17da.prototype.progressed=function(_17de){return this._then(undefined,undefined,_17de,undefined,undefined);};_17da.prototype._progress=function(_17df){if(this._isFollowingOrFulfilledOrRejected()){return;}this._target()._progressUnchecked(_17df);};_17da.prototype._progressHandlerAt=function(index){return index===0?this._progressHandler0:this[(index<<2)+index-5+2];};_17da.prototype._doProgressWith=function(_17e0){var _17e1=_17e0.value;var _17e2=_17e0.handler;var _17e3=_17e0.promise;var _17e4=_17e0.receiver;var ret=_17dc(_17e2).call(_17e4,_17e1);if(ret===_17dd){if(ret.e!=null&&ret.e.name!=="StopProgressPropagation"){var trace=util.canAttachTrace(ret.e)?ret.e:new Error(util.toString(ret.e));_17e3._attachExtraTrace(trace);_17e3._progress(ret.e);}}else{if(ret instanceof _17da){ret._then(_17e3._progress,null,null,_17e3,undefined);}else{_17e3._progress(ret);}}};_17da.prototype._progressUnchecked=function(_17e5){var len=this._length();var _17e6=this._progress;for(var i=0;i<len;i++){var _17e7=this._progressHandlerAt(i);var _17e8=this._promiseAt(i);if(!(_17e8 instanceof _17da)){var _17e9=this._receiverAt(i);if(typeof _17e7==="function"){_17e7.call(_17e9,_17e5,_17e8);}else{if(_17e9 instanceof _17db&&!_17e9._isResolved()){_17e9._promiseProgressed(_17e5,_17e8);}}continue;}if(typeof _17e7==="function"){async.invoke(this._doProgressWith,this,{handler:_17e7,promise:_17e8,receiver:this._receiverAt(i),value:_17e5});}else{async.invoke(_17e6,_17e8,_17e5);}}};};},{"./async.js":2,"./util.js":38}],23:[function(_17ea,_17eb,_17ec){"use strict";_17eb.exports=function(){var _17ed=function(){return new _17ee("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n");};var _17ef=function(){return new _17f0.PromiseInspection(this._target());};var _17f1=function(msg){return _17f0.reject(new _17ee(msg));};var util=_17ea("./util.js");var _17f2;if(util.isNode){_17f2=function(){var ret=process.domain;if(ret===undefined){ret=null;}return ret;};}else{_17f2=function(){return null;};}util.notEnumerableProp(_17f0,"_getDomain",_17f2);var async=_17ea("./async.js");var _17f3=_17ea("./errors.js");var _17ee=_17f0.TypeError=_17f3.TypeError;_17f0.RangeError=_17f3.RangeError;_17f0.CancellationError=_17f3.CancellationError;_17f0.TimeoutError=_17f3.TimeoutError;_17f0.OperationalError=_17f3.OperationalError;_17f0.RejectionError=_17f3.OperationalError;_17f0.AggregateError=_17f3.AggregateError;var _17f4=function(){};var APPLY={};var _17f5={e:null};var _17f6=_17ea("./thenables.js")(_17f0,_17f4);var _17f7=_17ea("./promise_array.js")(_17f0,_17f4,_17f6,_17f1);var _17f8=_17ea("./captured_trace.js")();var _17f9=_17ea("./debuggability.js")(_17f0,_17f8);var _17fa=_17ea("./context.js")(_17f0,_17f8,_17f9);var _17fb=_17ea("./catch_filter.js")(_17f5);var _17fc=_17ea("./promise_resolver.js");var _17fd=_17fc._nodebackForPromise;var _17fe=util.errorObj;var _17ff=util.tryCatch;function _17f0(_1800){if(typeof _1800!=="function"){throw new _17ee("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");}if(this.constructor!==_17f0){throw new _17ee("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");}this._bitField=0;this._fulfillmentHandler0=undefined;this._rejectionHandler0=undefined;this._progressHandler0=undefined;this._promise0=undefined;this._receiver0=undefined;this._settledValue=undefined;if(_1800!==_17f4){this._resolveFromResolver(_1800);}};_17f0.prototype.toString=function(){return "[object Promise]";};_17f0.prototype.caught=_17f0.prototype["catch"]=function(fn){var len=arguments.length;if(len>1){var _1801=new Array(len-1),j=0,i;for(i=0;i<len-1;++i){var item=arguments[i];if(typeof item==="function"){_1801[j++]=item;}else{return _17f0.reject(new _17ee("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));}}_1801.length=j;fn=arguments[i];var _1802=new _17fb(_1801,fn,this);return this._then(undefined,_1802.doFilter,undefined,_1802,undefined);}return this._then(undefined,fn,undefined,undefined,undefined);};_17f0.prototype.reflect=function(){return this._then(_17ef,_17ef,undefined,this,undefined);};_17f0.prototype.then=function(_1803,_1804,_1805){if(_17f9()&&arguments.length>0&&typeof _1803!=="function"&&typeof _1804!=="function"){var msg=".then() only accepts functions but was passed: "+util.classString(_1803);if(arguments.length>1){msg+=", "+util.classString(_1804);}this._warn(msg);}return this._then(_1803,_1804,_1805,undefined,undefined);};_17f0.prototype.done=function(_1806,_1807,_1808){var _1809=this._then(_1806,_1807,_1808,undefined,undefined);_1809._setIsFinal();};_17f0.prototype.spread=function(_180a,_180b){return this.all()._then(_180a,_180b,undefined,APPLY,undefined);};_17f0.prototype.isCancellable=function(){return !this.isResolved()&&this._cancellable();};_17f0.prototype.toJSON=function(){var ret={isFulfilled:false,isRejected:false,fulfillmentValue:undefined,rejectionReason:undefined};if(this.isFulfilled()){ret.fulfillmentValue=this.value();ret.isFulfilled=true;}else{if(this.isRejected()){ret.rejectionReason=this.reason();ret.isRejected=true;}}return ret;};_17f0.prototype.all=function(){return new _17f7(this).promise();};_17f0.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn);};_17f0.is=function(val){return val instanceof _17f0;};_17f0.fromNode=function(fn){var ret=new _17f0(_17f4);var _180c=_17ff(fn)(_17fd(ret));if(_180c===_17fe){ret._rejectCallback(_180c.e,true,true);}return ret;};_17f0.all=function(_180d){return new _17f7(_180d).promise();};_17f0.defer=_17f0.pending=function(){var _180e=new _17f0(_17f4);return new _17fc(_180e);};_17f0.cast=function(obj){var ret=_17f6(obj);if(!(ret instanceof _17f0)){var val=ret;ret=new _17f0(_17f4);ret._fulfillUnchecked(val);}return ret;};_17f0.resolve=_17f0.fulfilled=_17f0.cast;_17f0.reject=_17f0.rejected=function(_180f){var ret=new _17f0(_17f4);ret._captureStackTrace();ret._rejectCallback(_180f,true);return ret;};_17f0.setScheduler=function(fn){if(typeof fn!=="function"){throw new _17ee("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}var prev=async._schedule;async._schedule=fn;return prev;};_17f0.prototype._then=function(_1810,_1811,_1812,_1813,_1814){var _1815=_1814!==undefined;var ret=_1815?_1814:new _17f0(_17f4);if(!_1815){ret._propagateFrom(this,4|1);ret._captureStackTrace();}var _1816=this._target();if(_1816!==this){if(_1813===undefined){_1813=this._boundTo;}if(!_1815){ret._setIsMigrated();}}var _1817=_1816._addCallbacks(_1810,_1811,_1812,ret,_1813,_17f2());if(_1816._isResolved()&&!_1816._isSettlePromisesQueued()){async.invoke(_1816._settlePromiseAtPostResolution,_1816,_1817);}return ret;};_17f0.prototype._settlePromiseAtPostResolution=function(index){if(this._isRejectionUnhandled()){this._unsetRejectionIsUnhandled();}this._settlePromiseAt(index);};_17f0.prototype._length=function(){return this._bitField&131071;};_17f0.prototype._isFollowingOrFulfilledOrRejected=function(){return (this._bitField&939524096)>0;};_17f0.prototype._isFollowing=function(){return (this._bitField&536870912)===536870912;};_17f0.prototype._setLength=function(len){this._bitField=(this._bitField&-131072)|(len&131071);};_17f0.prototype._setFulfilled=function(){this._bitField=this._bitField|268435456;};_17f0.prototype._setRejected=function(){this._bitField=this._bitField|134217728;};_17f0.prototype._setFollowing=function(){this._bitField=this._bitField|536870912;};_17f0.prototype._setIsFinal=function(){this._bitField=this._bitField|33554432;};_17f0.prototype._isFinal=function(){return (this._bitField&33554432)>0;};_17f0.prototype._cancellable=function(){return (this._bitField&67108864)>0;};_17f0.prototype._setCancellable=function(){this._bitField=this._bitField|67108864;};_17f0.prototype._unsetCancellable=function(){this._bitField=this._bitField&(~67108864);};_17f0.prototype._setIsMigrated=function(){this._bitField=this._bitField|4194304;};_17f0.prototype._unsetIsMigrated=function(){this._bitField=this._bitField&(~4194304);};_17f0.prototype._isMigrated=function(){return (this._bitField&4194304)>0;};_17f0.prototype._receiverAt=function(index){var ret=index===0?this._receiver0:this[index*5-5+4];if(ret===undefined&&this._isBound()){return this._boundValue();}return ret;};_17f0.prototype._promiseAt=function(index){return index===0?this._promise0:this[index*5-5+3];};_17f0.prototype._fulfillmentHandlerAt=function(index){return index===0?this._fulfillmentHandler0:this[index*5-5+0];};_17f0.prototype._rejectionHandlerAt=function(index){return index===0?this._rejectionHandler0:this[index*5-5+1];};_17f0.prototype._boundValue=function(){var ret=this._boundTo;if(ret!==undefined){if(ret instanceof _17f0){if(ret.isFulfilled()){return ret.value();}else{return undefined;}}}return ret;};_17f0.prototype._migrateCallbacks=function(_1818,index){var _1819=_1818._fulfillmentHandlerAt(index);var _181a=_1818._rejectionHandlerAt(index);var _181b=_1818._progressHandlerAt(index);var _181c=_1818._promiseAt(index);var _181d=_1818._receiverAt(index);if(_181c instanceof _17f0){_181c._setIsMigrated();}this._addCallbacks(_1819,_181a,_181b,_181c,_181d,null);};_17f0.prototype._addCallbacks=function(_181e,_181f,_1820,_1821,_1822,_1823){var index=this._length();if(index>=131071-5){index=0;this._setLength(0);}if(index===0){this._promise0=_1821;if(_1822!==undefined){this._receiver0=_1822;}if(typeof _181e==="function"&&!this._isCarryingStackTrace()){this._fulfillmentHandler0=_1823===null?_181e:_1823.bind(_181e);}if(typeof _181f==="function"){this._rejectionHandler0=_1823===null?_181f:_1823.bind(_181f);}if(typeof _1820==="function"){this._progressHandler0=_1823===null?_1820:_1823.bind(_1820);}}else{var base=index*5-5;this[base+3]=_1821;this[base+4]=_1822;if(typeof _181e==="function"){this[base+0]=_1823===null?_181e:_1823.bind(_181e);}if(typeof _181f==="function"){this[base+1]=_1823===null?_181f:_1823.bind(_181f);}if(typeof _1820==="function"){this[base+2]=_1823===null?_1820:_1823.bind(_1820);}}this._setLength(index+1);return index;};_17f0.prototype._setProxyHandlers=function(_1824,_1825){var index=this._length();if(index>=131071-5){index=0;this._setLength(0);}if(index===0){this._promise0=_1825;this._receiver0=_1824;}else{var base=index*5-5;this[base+3]=_1825;this[base+4]=_1824;}this._setLength(index+1);};_17f0.prototype._proxyPromiseArray=function(_1826,index){this._setProxyHandlers(_1826,index);};_17f0.prototype._resolveCallback=function(value,_1827){if(this._isFollowingOrFulfilledOrRejected()){return;}if(value===this){return this._rejectCallback(_17ed(),false,true);}var _1828=_17f6(value,this);if(!(_1828 instanceof _17f0)){return this._fulfill(value);}var _1829=1|(_1827?4:0);this._propagateFrom(_1828,_1829);var _182a=_1828._target();if(_182a._isPending()){var len=this._length();for(var i=0;i<len;++i){_182a._migrateCallbacks(this,i);}this._setFollowing();this._setLength(0);this._setFollowee(_182a);}else{if(_182a._isFulfilled()){this._fulfillUnchecked(_182a._value());}else{this._rejectUnchecked(_182a._reason(),_182a._getCarriedStackTrace());}}};_17f0.prototype._rejectCallback=function(_182b,_182c,_182d){if(!_182d){util.markAsOriginatingFromRejection(_182b);}var trace=util.ensureErrorObject(_182b);var _182e=trace===_182b;this._attachExtraTrace(trace,_182c?_182e:false);this._reject(_182b,_182e?undefined:trace);};_17f0.prototype._resolveFromResolver=function(_182f){var _1830=this;this._captureStackTrace();this._pushContext();var _1831=true;var r=_17ff(_182f)(function(value){if(_1830===null){return;}_1830._resolveCallback(value);_1830=null;},function(_1832){if(_1830===null){return;}_1830._rejectCallback(_1832,_1831);_1830=null;});_1831=false;this._popContext();if(r!==undefined&&r===_17fe&&_1830!==null){_1830._rejectCallback(r.e,true,true);_1830=null;}};_17f0.prototype._settlePromiseFromHandler=function(_1833,_1834,value,_1835){if(_1835._isRejected()){return;}_1835._pushContext();var x;if(_1834===APPLY&&!this._isRejected()){x=_17ff(_1833).apply(this._boundValue(),value);}else{x=_17ff(_1833).call(_1834,value);}_1835._popContext();if(x===_17fe||x===_1835||x===_17f5){var err=x===_1835?_17ed():x.e;_1835._rejectCallback(err,false,true);}else{_1835._resolveCallback(x);}};_17f0.prototype._target=function(){var ret=this;while(ret._isFollowing()){ret=ret._followee();}return ret;};_17f0.prototype._followee=function(){return this._rejectionHandler0;};_17f0.prototype._setFollowee=function(_1836){this._rejectionHandler0=_1836;};_17f0.prototype._cleanValues=function(){if(this._cancellable()){this._cancellationParent=undefined;}};_17f0.prototype._propagateFrom=function(_1837,flags){if((flags&1)>0&&_1837._cancellable()){this._setCancellable();this._cancellationParent=_1837;}if((flags&4)>0&&_1837._isBound()){this._setBoundTo(_1837._boundTo);}};_17f0.prototype._fulfill=function(value){if(this._isFollowingOrFulfilledOrRejected()){return;}this._fulfillUnchecked(value);};_17f0.prototype._reject=function(_1838,_1839){if(this._isFollowingOrFulfilledOrRejected()){return;}this._rejectUnchecked(_1838,_1839);};_17f0.prototype._settlePromiseAt=function(index){var _183a=this._promiseAt(index);var _183b=_183a instanceof _17f0;if(_183b&&_183a._isMigrated()){_183a._unsetIsMigrated();return async.invoke(this._settlePromiseAt,this,index);}var _183c=this._isFulfilled()?this._fulfillmentHandlerAt(index):this._rejectionHandlerAt(index);var _183d=this._isCarryingStackTrace()?this._getCarriedStackTrace():undefined;var value=this._settledValue;var _183e=this._receiverAt(index);this._clearCallbackDataAtIndex(index);if(typeof _183c==="function"){if(!_183b){_183c.call(_183e,value,_183a);}else{this._settlePromiseFromHandler(_183c,_183e,value,_183a);}}else{if(_183e instanceof _17f7){if(!_183e._isResolved()){if(this._isFulfilled()){_183e._promiseFulfilled(value,_183a);}else{_183e._promiseRejected(value,_183a);}}}else{if(_183b){if(this._isFulfilled()){_183a._fulfill(value);}else{_183a._reject(value,_183d);}}}}if(index>=4&&(index&31)===4){async.invokeLater(this._setLength,this,0);}};_17f0.prototype._clearCallbackDataAtIndex=function(index){if(index===0){if(!this._isCarryingStackTrace()){this._fulfillmentHandler0=undefined;}this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=undefined;}else{var base=index*5-5;this[base+3]=this[base+4]=this[base+0]=this[base+1]=this[base+2]=undefined;}};_17f0.prototype._isSettlePromisesQueued=function(){return (this._bitField&-1073741824)===-1073741824;};_17f0.prototype._setSettlePromisesQueued=function(){this._bitField=this._bitField|-1073741824;};_17f0.prototype._unsetSettlePromisesQueued=function(){this._bitField=this._bitField&(~-1073741824);};_17f0.prototype._queueSettlePromises=function(){async.settlePromises(this);this._setSettlePromisesQueued();};_17f0.prototype._fulfillUnchecked=function(value){if(value===this){var err=_17ed();this._attachExtraTrace(err);return this._rejectUnchecked(err,undefined);}this._setFulfilled();this._settledValue=value;this._cleanValues();if(this._length()>0){this._queueSettlePromises();}};_17f0.prototype._rejectUncheckedCheckError=function(_183f){var trace=util.ensureErrorObject(_183f);this._rejectUnchecked(_183f,trace===_183f?undefined:trace);};_17f0.prototype._rejectUnchecked=function(_1840,trace){if(_1840===this){var err=_17ed();this._attachExtraTrace(err);return this._rejectUnchecked(err);}this._setRejected();this._settledValue=_1840;this._cleanValues();if(this._isFinal()){async.throwLater(function(e){if("stack" in e){async.invokeFirst(_17f8.unhandledRejection,undefined,e);}throw e;},trace===undefined?_1840:trace);return;}if(trace!==undefined&&trace!==_1840){this._setCarriedStackTrace(trace);}if(this._length()>0){this._queueSettlePromises();}else{this._ensurePossibleRejectionHandled();}};_17f0.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();var len=this._length();for(var i=0;i<len;i++){this._settlePromiseAt(i);}};util.notEnumerableProp(_17f0,"_makeSelfResolutionError",_17ed);_17ea("./progress.js")(_17f0,_17f7);_17ea("./method.js")(_17f0,_17f4,_17f6,_17f1);_17ea("./bind.js")(_17f0,_17f4,_17f6);_17ea("./finally.js")(_17f0,_17f5,_17f6);_17ea("./direct_resolve.js")(_17f0);_17ea("./synchronous_inspection.js")(_17f0);_17ea("./join.js")(_17f0,_17f7,_17f6,_17f4);_17f0.Promise=_17f0;_17ea("./map.js")(_17f0,_17f7,_17f1,_17f6,_17f4);_17ea("./cancel.js")(_17f0);_17ea("./using.js")(_17f0,_17f1,_17f6,_17fa);_17ea("./generators.js")(_17f0,_17f1,_17f4,_17f6);_17ea("./nodeify.js")(_17f0);_17ea("./call_get.js")(_17f0);_17ea("./props.js")(_17f0,_17f7,_17f6,_17f1);_17ea("./race.js")(_17f0,_17f4,_17f6,_17f1);_17ea("./reduce.js")(_17f0,_17f7,_17f1,_17f6,_17f4);_17ea("./settle.js")(_17f0,_17f7);_17ea("./some.js")(_17f0,_17f7,_17f1);_17ea("./promisify.js")(_17f0,_17f4);_17ea("./any.js")(_17f0);_17ea("./each.js")(_17f0,_17f4);_17ea("./timers.js")(_17f0,_17f4);_17ea("./filter.js")(_17f0,_17f4);util.toFastProperties(_17f0);util.toFastProperties(_17f0.prototype);function _1841(value){var p=new _17f0(_17f4);p._fulfillmentHandler0=value;p._rejectionHandler0=value;p._progressHandler0=value;p._promise0=value;p._receiver0=value;p._settledValue=value;};_1841({a:1});_1841({b:2});_1841({c:3});_1841(1);_1841(function(){});_1841(undefined);_1841(false);_1841(new _17f0(_17f4));_17f8.setBounds(async.firstLineError,util.lastLineError);return _17f0;};},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(_1842,_1843,_1844){"use strict";_1843.exports=function(_1845,_1846,_1847,_1848){var util=_1842("./util.js");var _1849=util.isArray;function _184a(val){switch(val){case -2:return [];case -3:return {};}};function _184b(_184c){var _184d=this._promise=new _1845(_1846);var _184e;if(_184c instanceof _1845){_184e=_184c;_184d._propagateFrom(_184e,1|4);}this._values=_184c;this._length=0;this._totalResolved=0;this._init(undefined,-2);};_184b.prototype.length=function(){return this._length;};_184b.prototype.promise=function(){return this._promise;};_184b.prototype._init=function init(_184f,_1850){var _1851=_1847(this._values,this._promise);if(_1851 instanceof _1845){_1851=_1851._target();this._values=_1851;if(_1851._isFulfilled()){_1851=_1851._value();if(!_1849(_1851)){var err=new _1845.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");this.__hardReject__(err);return;}}else{if(_1851._isPending()){_1851._then(init,this._reject,undefined,this,_1850);return;}else{this._reject(_1851._reason());return;}}}else{if(!_1849(_1851)){this._promise._reject(_1848("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());return;}}if(_1851.length===0){if(_1850===-5){this._resolveEmptyArray();}else{this._resolve(_184a(_1850));}return;}var len=this.getActualLength(_1851.length);this._length=len;this._values=this.shouldCopyValues()?new Array(len):this._values;var _1852=this._promise;for(var i=0;i<len;++i){var _1853=this._isResolved();var _1854=_1847(_1851[i],_1852);if(_1854 instanceof _1845){_1854=_1854._target();if(_1853){_1854._ignoreRejections();}else{if(_1854._isPending()){_1854._proxyPromiseArray(this,i);}else{if(_1854._isFulfilled()){this._promiseFulfilled(_1854._value(),i);}else{this._promiseRejected(_1854._reason(),i);}}}}else{if(!_1853){this._promiseFulfilled(_1854,i);}}}};_184b.prototype._isResolved=function(){return this._values===null;};_184b.prototype._resolve=function(value){this._values=null;this._promise._fulfill(value);};_184b.prototype.__hardReject__=_184b.prototype._reject=function(_1855){this._values=null;this._promise._rejectCallback(_1855,false,true);};_184b.prototype._promiseProgressed=function(_1856,index){this._promise._progress({index:index,value:_1856});};_184b.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var _1857=++this._totalResolved;if(_1857>=this._length){this._resolve(this._values);}};_184b.prototype._promiseRejected=function(_1858,index){this._totalResolved++;this._reject(_1858);};_184b.prototype.shouldCopyValues=function(){return true;};_184b.prototype.getActualLength=function(len){return len;};return _184b;};},{"./util.js":38}],25:[function(_1859,_185a,_185b){"use strict";var util=_1859("./util.js");var _185c=util.maybeWrapAsError;var _185d=_1859("./errors.js");var _185e=_185d.TimeoutError;var _185f=_185d.OperationalError;var _1860=util.haveGetters;var es5=_1859("./es5.js");function _1861(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype;};var _1862=/^(?:name|message|stack|cause)$/;function _1863(obj){var ret;if(_1861(obj)){ret=new _185f(obj);ret.name=obj.name;ret.message=obj.message;ret.stack=obj.stack;var keys=es5.keys(obj);for(var i=0;i<keys.length;++i){var key=keys[i];if(!_1862.test(key)){ret[key]=obj[key];}}return ret;}util.markAsOriginatingFromRejection(obj);return obj;};function _1864(_1865){return function(err,value){if(_1865===null){return;}if(err){var _1866=_1863(_185c(err));_1865._attachExtraTrace(_1866);_1865._reject(_1866);}else{if(arguments.length>2){var $_len=arguments.length;var args=new Array($_len-1);for(var $_i=1;$_i<$_len;++$_i){args[$_i-1]=arguments[$_i];}_1865._fulfill(args);}else{_1865._fulfill(value);}}_1865=null;};};var _1867;if(!_1860){_1867=function(_1868){this.promise=_1868;this.asCallback=_1864(_1868);this.callback=this.asCallback;};}else{_1867=function(_1869){this.promise=_1869;};}if(_1860){var prop={get:function(){return _1864(this.promise);}};es5.defineProperty(_1867.prototype,"asCallback",prop);es5.defineProperty(_1867.prototype,"callback",prop);}_1867._nodebackForPromise=_1864;_1867.prototype.toString=function(){return "[object PromiseResolver]";};_1867.prototype.resolve=_1867.prototype.fulfill=function(value){if(!(this instanceof _1867)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");}this.promise._resolveCallback(value);};_1867.prototype.reject=function(_186a){if(!(this instanceof _1867)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");}this.promise._rejectCallback(_186a);};_1867.prototype.progress=function(value){if(!(this instanceof _1867)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");}this.promise._progress(value);};_1867.prototype.cancel=function(err){this.promise.cancel(err);};_1867.prototype.timeout=function(){this.reject(new _185e("timeout"));};_1867.prototype.isResolved=function(){return this.promise.isResolved();};_1867.prototype.toJSON=function(){return this.promise.toJSON();};_185a.exports=_1867;},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(_186b,_186c,_186d){"use strict";_186c.exports=function(_186e,_186f){var THIS={};var util=_186b("./util.js");var _1870=_186b("./promise_resolver.js")._nodebackForPromise;var _1871=util.withAppended;var _1872=util.maybeWrapAsError;var _1873=util.canEvaluate;var _1874=_186b("./errors").TypeError;var _1875="Async";var _1876={__isPromisified__:true};var _1877=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"];var _1878=new RegExp("^(?:"+_1877.join("|")+")$");var _1879=function(name){return util.isIdentifier(name)&&name.charAt(0)!=="_"&&name!=="constructor";};function _187a(key){return !_1878.test(key);};function _187b(fn){try{return fn.__isPromisified__===true;}catch(e){return false;}};function _187c(obj,key,_187d){var val=util.getDataPropertyOrDefault(obj,key+_187d,_1876);return val?_187b(val):false;};function _187e(ret,_187f,_1880){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(_1880.test(key)){var _1881=key.replace(_1880,"");for(var j=0;j<ret.length;j+=2){if(ret[j]===_1881){throw new _1874("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",_187f));}}}}};function _1882(obj,_1883,_1884,_1885){var keys=util.inheritedDataKeys(obj);var ret=[];for(var i=0;i<keys.length;++i){var key=keys[i];var value=obj[key];var _1886=_1885===_1879?true:_1879(key,value,obj);if(typeof value==="function"&&!_187b(value)&&!_187c(obj,key,_1883)&&_1885(key,value,obj,_1886)){ret.push(key,value);}}_187e(ret,_1883,_1884);return ret;};var _1887=function(str){return str.replace(/([$])/,"\\$");};var _1888;if(!true){var _1889=function(_188a){var ret=[_188a];var min=Math.max(0,_188a-1-3);for(var i=_188a-1;i>=min;--i){ret.push(i);}for(var i=_188a+1;i<=3;++i){ret.push(i);}return ret;};var _188b=function(_188c){return util.filledRange(_188c,"_arg","");};var _188d=function(_188e){return util.filledRange(Math.max(_188e,3),"_arg","");};var _188f=function(fn){if(typeof fn.length==="number"){return Math.max(Math.min(fn.length,1023+1),0);}return 0;};_1888=function(_1890,_1891,_1892,fn){var _1893=Math.max(0,_188f(fn)-1);var _1894=_1889(_1893);var _1895=typeof _1890==="string"||_1891===THIS;function _1896(count){var args=_188b(count).join(", ");var comma=count>0?", ":"";var ret;if(_1895){ret="ret = callback.call(this, {{args}}, nodeback); break;\n";}else{ret=_1891===undefined?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n";}return ret.replace("{{args}}",args).replace(", ",comma);};function _1897(){var ret="";for(var i=0;i<_1894.length;++i){ret+="case "+_1894[i]+":"+_1896(_1894[i]);}ret+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",(_1895?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n"));return ret;};var _1898=typeof _1890==="string"?("this != null ? this['"+_1890+"'] : fn"):"fn";return new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL","'use strict';                            \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise);                      \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n        ".replace("Parameters",_188d(_1893)).replace("[CodeForSwitchCase]",_1897()).replace("[GetFunctionCode]",_1898))(_186e,fn,_1891,_1871,_1872,_1870,util.tryCatch,util.errorObj,util.notEnumerableProp,_186f);};}function _1899(_189a,_189b,_189c,fn){var _189d=(function(){return this;})();var _189e=_189a;if(typeof _189e==="string"){_189a=fn;}function _189f(){var _18a0=_189b;if(_189b===THIS){_18a0=this;}var _18a1=new _186e(_186f);_18a1._captureStackTrace();var cb=typeof _189e==="string"&&this!==_189d?this[_189e]:_189a;var fn=_1870(_18a1);try{cb.apply(_18a0,_1871(arguments,fn));}catch(e){_18a1._rejectCallback(_1872(e),true,true);}return _18a1;};util.notEnumerableProp(_189f,"__isPromisified__",true);return _189f;};var _18a2=_1873?_1888:_1899;function _18a3(obj,_18a4,_18a5,_18a6){var _18a7=new RegExp(_1887(_18a4)+"$");var _18a8=_1882(obj,_18a4,_18a7,_18a5);for(var i=0,len=_18a8.length;i<len;i+=2){var key=_18a8[i];var fn=_18a8[i+1];var _18a9=key+_18a4;obj[_18a9]=_18a6===_18a2?_18a2(key,THIS,key,fn,_18a4):_18a6(fn,function(){return _18a2(key,THIS,key,fn,_18a4);});}util.toFastProperties(obj);return obj;};function _18aa(_18ab,_18ac){return _18a2(_18ab,_18ac,undefined,_18ab);};_186e.promisify=function(fn,_18ad){if(typeof fn!=="function"){throw new _1874("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}if(_187b(fn)){return fn;}var ret=_18aa(fn,arguments.length<2?THIS:_18ad);util.copyDescriptors(fn,ret,_187a);return ret;};_186e.promisifyAll=function(_18ae,_18af){if(typeof _18ae!=="function"&&typeof _18ae!=="object"){throw new _1874("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");}_18af=Object(_18af);var _18b0=_18af.suffix;if(typeof _18b0!=="string"){_18b0=_1875;}var _18b1=_18af.filter;if(typeof _18b1!=="function"){_18b1=_1879;}var _18b2=_18af.promisifier;if(typeof _18b2!=="function"){_18b2=_18a2;}if(!util.isIdentifier(_18b0)){throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");}var keys=util.inheritedDataKeys(_18ae);for(var i=0;i<keys.length;++i){var value=_18ae[keys[i]];if(keys[i]!=="constructor"&&util.isClass(value)){_18a3(value.prototype,_18b0,_18b1,_18b2);_18a3(value,_18b0,_18b1,_18b2);}}return _18a3(_18ae,_18b0,_18b1,_18b2);};};},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(_18b3,_18b4,_18b5){"use strict";_18b4.exports=function(_18b6,_18b7,_18b8,_18b9){var util=_18b3("./util.js");var _18ba=util.isObject;var es5=_18b3("./es5.js");function _18bb(obj){var keys=es5.keys(obj);var len=keys.length;var _18bc=new Array(len*2);for(var i=0;i<len;++i){var key=keys[i];_18bc[i]=obj[key];_18bc[i+len]=key;}this.constructor$(_18bc);};util.inherits(_18bb,_18b7);_18bb.prototype._init=function(){this._init$(undefined,-3);};_18bb.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var _18bd=++this._totalResolved;if(_18bd>=this._length){var val={};var _18be=this.length();for(var i=0,len=this.length();i<len;++i){val[this._values[i+_18be]]=this._values[i];}this._resolve(val);}};_18bb.prototype._promiseProgressed=function(value,index){this._promise._progress({key:this._values[index+this.length()],value:value});};_18bb.prototype.shouldCopyValues=function(){return false;};_18bb.prototype.getActualLength=function(len){return len>>1;};function props(_18bf){var ret;var _18c0=_18b8(_18bf);if(!_18ba(_18c0)){return _18b9("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n");}else{if(_18c0 instanceof _18b6){ret=_18c0._then(_18b6.props,undefined,undefined,undefined,undefined);}else{ret=new _18bb(_18c0).promise();}}if(_18c0 instanceof _18b6){ret._propagateFrom(_18c0,4);}return ret;};_18b6.prototype.props=function(){return props(this);};_18b6.props=function(_18c1){return props(_18c1);};};},{"./es5.js":14,"./util.js":38}],28:[function(_18c2,_18c3,_18c4){"use strict";function _18c5(src,_18c6,dst,_18c7,len){for(var j=0;j<len;++j){dst[j+_18c7]=src[j+_18c6];src[j+_18c6]=void 0;}};function Queue(_18c8){this._capacity=_18c8;this._length=0;this._front=0;};Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size;};Queue.prototype._pushOne=function(arg){var _18c9=this.length();this._checkCapacity(_18c9+1);var i=(this._front+_18c9)&(this._capacity-1);this[i]=arg;this._length=_18c9+1;};Queue.prototype._unshiftOne=function(value){var _18ca=this._capacity;this._checkCapacity(this.length()+1);var front=this._front;var i=((((front-1)&(_18ca-1))^_18ca)-_18ca);this[i]=value;this._front=i;this._length=this.length()+1;};Queue.prototype.unshift=function(fn,_18cb,arg){this._unshiftOne(arg);this._unshiftOne(_18cb);this._unshiftOne(fn);};Queue.prototype.push=function(fn,_18cc,arg){var _18cd=this.length()+3;if(this._willBeOverCapacity(_18cd)){this._pushOne(fn);this._pushOne(_18cc);this._pushOne(arg);return;}var j=this._front+_18cd-3;this._checkCapacity(_18cd);var _18ce=this._capacity-1;this[(j+0)&_18ce]=fn;this[(j+1)&_18ce]=_18cc;this[(j+2)&_18ce]=arg;this._length=_18cd;};Queue.prototype.shift=function(){var front=this._front,ret=this[front];this[front]=undefined;this._front=(front+1)&(this._capacity-1);this._length--;return ret;};Queue.prototype.length=function(){return this._length;};Queue.prototype._checkCapacity=function(size){if(this._capacity<size){this._resizeTo(this._capacity<<1);}};Queue.prototype._resizeTo=function(_18cf){var _18d0=this._capacity;this._capacity=_18cf;var front=this._front;var _18d1=this._length;var _18d2=(front+_18d1)&(_18d0-1);_18c5(this,0,this,_18d0,_18d2);};_18c3.exports=Queue;},{}],29:[function(_18d3,_18d4,_18d5){"use strict";_18d4.exports=function(_18d6,_18d7,_18d8,_18d9){var _18da=_18d3("./util.js").isArray;var _18db=function(_18dc){return _18dc.then(function(array){return race(array,_18dc);});};function race(_18dd,_18de){var _18df=_18d8(_18dd);if(_18df instanceof _18d6){return _18db(_18df);}else{if(!_18da(_18dd)){return _18d9("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");}}var ret=new _18d6(_18d7);if(_18de!==undefined){ret._propagateFrom(_18de,4|1);}var _18e0=ret._fulfill;var _18e1=ret._reject;for(var i=0,len=_18dd.length;i<len;++i){var val=_18dd[i];if(val===undefined&&!(i in _18dd)){continue;}_18d6.cast(val)._then(_18e0,_18e1,undefined,ret,null);}return ret;};_18d6.race=function(_18e2){return race(_18e2,undefined);};_18d6.prototype.race=function(){return race(this,undefined);};};},{"./util.js":38}],30:[function(_18e3,_18e4,_18e5){"use strict";_18e4.exports=function(_18e6,_18e7,_18e8,_18e9,_18ea){var _18eb=_18e6._getDomain;var async=_18e3("./async.js");var util=_18e3("./util.js");var _18ec=util.tryCatch;var _18ed=util.errorObj;function _18ee(_18ef,fn,accum,_18f0){this.constructor$(_18ef);this._promise._captureStackTrace();this._preservedValues=_18f0===_18ea?[]:null;this._zerothIsAccum=(accum===undefined);this._gotAccum=false;this._reducingIndex=(this._zerothIsAccum?1:0);this._valuesPhase=undefined;var _18f1=_18e9(accum,this._promise);var _18f2=false;var _18f3=_18f1 instanceof _18e6;if(_18f3){_18f1=_18f1._target();if(_18f1._isPending()){_18f1._proxyPromiseArray(this,-1);}else{if(_18f1._isFulfilled()){accum=_18f1._value();this._gotAccum=true;}else{this._reject(_18f1._reason());_18f2=true;}}}if(!(_18f3||this._zerothIsAccum)){this._gotAccum=true;}var _18f4=_18eb();this._callback=_18f4===null?fn:_18f4.bind(fn);this._accum=accum;if(!_18f2){async.invoke(init,this,undefined);}};function init(){this._init$(undefined,-5);};util.inherits(_18ee,_18e7);_18ee.prototype._init=function(){};_18ee.prototype._resolveEmptyArray=function(){if(this._gotAccum||this._zerothIsAccum){this._resolve(this._preservedValues!==null?[]:this._accum);}};_18ee.prototype._promiseFulfilled=function(value,index){var _18f5=this._values;_18f5[index]=value;var _18f6=this.length();var _18f7=this._preservedValues;var _18f8=_18f7!==null;var _18f9=this._gotAccum;var _18fa=this._valuesPhase;var _18fb;if(!_18fa){_18fa=this._valuesPhase=new Array(_18f6);for(_18fb=0;_18fb<_18f6;++_18fb){_18fa[_18fb]=0;}}_18fb=_18fa[index];if(index===0&&this._zerothIsAccum){this._accum=value;this._gotAccum=_18f9=true;_18fa[index]=((_18fb===0)?1:2);}else{if(index===-1){this._accum=value;this._gotAccum=_18f9=true;}else{if(_18fb===0){_18fa[index]=1;}else{_18fa[index]=2;this._accum=value;}}}if(!_18f9){return;}var _18fc=this._callback;var _18fd=this._promise._boundValue();var ret;for(var i=this._reducingIndex;i<_18f6;++i){_18fb=_18fa[i];if(_18fb===2){this._reducingIndex=i+1;continue;}if(_18fb!==1){return;}value=_18f5[i];this._promise._pushContext();if(_18f8){_18f7.push(value);ret=_18ec(_18fc).call(_18fd,value,i,_18f6);}else{ret=_18ec(_18fc).call(_18fd,this._accum,value,i,_18f6);}this._promise._popContext();if(ret===_18ed){return this._reject(ret.e);}var _18fe=_18e9(ret,this._promise);if(_18fe instanceof _18e6){_18fe=_18fe._target();if(_18fe._isPending()){_18fa[i]=4;return _18fe._proxyPromiseArray(this,i);}else{if(_18fe._isFulfilled()){ret=_18fe._value();}else{return this._reject(_18fe._reason());}}}this._reducingIndex=i+1;this._accum=ret;}this._resolve(_18f8?_18f7:this._accum);};function _18ff(_1900,fn,_1901,_1902){if(typeof fn!=="function"){return _18e8("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}var array=new _18ee(_1900,fn,_1901,_1902);return array.promise();};_18e6.prototype.reduce=function(fn,_1903){return _18ff(this,fn,_1903,null);};_18e6.reduce=function(_1904,fn,_1905,_1906){return _18ff(_1904,fn,_1905,_1906);};};},{"./async.js":2,"./util.js":38}],31:[function(_1907,_1908,_1909){"use strict";var _190a;var util=_1907("./util");var _190b=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n");};if(util.isNode&&typeof MutationObserver==="undefined"){var _190c=global.setImmediate;var _190d=process.nextTick;_190a=util.isRecentNode?function(fn){_190c.call(global,fn);}:function(fn){_190d.call(process,fn);};}else{if((typeof MutationObserver!=="undefined")&&!(typeof window!=="undefined"&&window.navigator&&window.navigator.standalone)){_190a=function(fn){var div=document.createElement("div");var _190e=new MutationObserver(fn);_190e.observe(div,{attributes:true});return function(){div.classList.toggle("foo");};};_190a.isStatic=true;}else{if(typeof setImmediate!=="undefined"){_190a=function(fn){setImmediate(fn);};}else{if(typeof setTimeout!=="undefined"){_190a=function(fn){setTimeout(fn,0);};}else{_190a=_190b;}}}}_1908.exports=_190a;},{"./util":38}],32:[function(_190f,_1910,_1911){"use strict";_1910.exports=function(_1912,_1913){var _1914=_1912.PromiseInspection;var util=_190f("./util.js");function _1915(_1916){this.constructor$(_1916);};util.inherits(_1915,_1913);_1915.prototype._promiseResolved=function(index,_1917){this._values[index]=_1917;var _1918=++this._totalResolved;if(_1918>=this._length){this._resolve(this._values);}};_1915.prototype._promiseFulfilled=function(value,index){var ret=new _1914();ret._bitField=268435456;ret._settledValue=value;this._promiseResolved(index,ret);};_1915.prototype._promiseRejected=function(_1919,index){var ret=new _1914();ret._bitField=134217728;ret._settledValue=_1919;this._promiseResolved(index,ret);};_1912.settle=function(_191a){return new _1915(_191a).promise();};_1912.prototype.settle=function(){return new _1915(this).promise();};};},{"./util.js":38}],33:[function(_191b,_191c,_191d){"use strict";_191c.exports=function(_191e,_191f,_1920){var util=_191b("./util.js");var _1921=_191b("./errors.js").RangeError;var _1922=_191b("./errors.js").AggregateError;var _1923=util.isArray;function _1924(_1925){this.constructor$(_1925);this._howMany=0;this._unwrap=false;this._initialized=false;};util.inherits(_1924,_191f);_1924.prototype._init=function(){if(!this._initialized){return;}if(this._howMany===0){this._resolve([]);return;}this._init$(undefined,-5);var _1926=_1923(this._values);if(!this._isResolved()&&_1926&&this._howMany>this._canPossiblyFulfill()){this._reject(this._getRangeError(this.length()));}};_1924.prototype.init=function(){this._initialized=true;this._init();};_1924.prototype.setUnwrap=function(){this._unwrap=true;};_1924.prototype.howMany=function(){return this._howMany;};_1924.prototype.setHowMany=function(count){this._howMany=count;};_1924.prototype._promiseFulfilled=function(value){this._addFulfilled(value);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();if(this.howMany()===1&&this._unwrap){this._resolve(this._values[0]);}else{this._resolve(this._values);}}};_1924.prototype._promiseRejected=function(_1927){this._addRejected(_1927);if(this.howMany()>this._canPossiblyFulfill()){var e=new _1922();for(var i=this.length();i<this._values.length;++i){e.push(this._values[i]);}this._reject(e);}};_1924.prototype._fulfilled=function(){return this._totalResolved;};_1924.prototype._rejected=function(){return this._values.length-this.length();};_1924.prototype._addRejected=function(_1928){this._values.push(_1928);};_1924.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value;};_1924.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected();};_1924.prototype._getRangeError=function(count){var _1929="Input array must contain at least "+this._howMany+" items but contains only "+count+" items";return new _1921(_1929);};_1924.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0));};function some(_192a,_192b){if((_192b|0)!==_192b||_192b<0){return _1920("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");}var ret=new _1924(_192a);var _192c=ret.promise();ret.setHowMany(_192b);ret.init();return _192c;};_191e.some=function(_192d,_192e){return some(_192d,_192e);};_191e.prototype.some=function(_192f){return some(this,_192f);};_191e._SomePromiseArray=_1924;};},{"./errors.js":13,"./util.js":38}],34:[function(_1930,_1931,_1932){"use strict";_1931.exports=function(_1933){function _1934(_1935){if(_1935!==undefined){_1935=_1935._target();this._bitField=_1935._bitField;this._settledValue=_1935._settledValue;}else{this._bitField=0;this._settledValue=undefined;}};_1934.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");}return this._settledValue;};_1934.prototype.error=_1934.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");}return this._settledValue;};_1934.prototype.isFulfilled=_1933.prototype._isFulfilled=function(){return (this._bitField&268435456)>0;};_1934.prototype.isRejected=_1933.prototype._isRejected=function(){return (this._bitField&134217728)>0;};_1934.prototype.isPending=_1933.prototype._isPending=function(){return (this._bitField&402653184)===0;};_1934.prototype.isResolved=_1933.prototype._isResolved=function(){return (this._bitField&402653184)>0;};_1933.prototype.isPending=function(){return this._target()._isPending();};_1933.prototype.isRejected=function(){return this._target()._isRejected();};_1933.prototype.isFulfilled=function(){return this._target()._isFulfilled();};_1933.prototype.isResolved=function(){return this._target()._isResolved();};_1933.prototype._value=function(){return this._settledValue;};_1933.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue;};_1933.prototype.value=function(){var _1936=this._target();if(!_1936.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");}return _1936._settledValue;};_1933.prototype.reason=function(){var _1937=this._target();if(!_1937.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");}_1937._unsetRejectionIsUnhandled();return _1937._settledValue;};_1933.PromiseInspection=_1934;};},{}],35:[function(_1938,_1939,_193a){"use strict";_1939.exports=function(_193b,_193c){var util=_1938("./util.js");var _193d=util.errorObj;var _193e=util.isObject;function _193f(obj,_1940){if(_193e(obj)){if(obj instanceof _193b){return obj;}else{if(_1941(obj)){var ret=new _193b(_193c);obj._then(ret._fulfillUnchecked,ret._rejectUncheckedCheckError,ret._progressUnchecked,ret,null);return ret;}}var then=util.tryCatch(_1942)(obj);if(then===_193d){if(_1940){_1940._pushContext();}var ret=_193b.reject(then.e);if(_1940){_1940._popContext();}return ret;}else{if(typeof then==="function"){return _1943(obj,then,_1940);}}}return obj;};function _1942(obj){return obj.then;};var _1944={}.hasOwnProperty;function _1941(obj){return _1944.call(obj,"_promise0");};function _1943(x,then,_1945){var _1946=new _193b(_193c);var ret=_1946;if(_1945){_1945._pushContext();}_1946._captureStackTrace();if(_1945){_1945._popContext();}var _1947=true;var _1948=util.tryCatch(then).call(x,_1949,_194a,_194b);_1947=false;if(_1946&&_1948===_193d){_1946._rejectCallback(_1948.e,true,true);_1946=null;}function _1949(value){if(!_1946){return;}_1946._resolveCallback(value);_1946=null;};function _194a(_194c){if(!_1946){return;}_1946._rejectCallback(_194c,_1947,true);_1946=null;};function _194b(value){if(!_1946){return;}if(typeof _1946._progress==="function"){_1946._progress(value);}};return ret;};return _193f;};},{"./util.js":38}],36:[function(_194d,_194e,_194f){"use strict";_194e.exports=function(_1950,_1951){var util=_194d("./util.js");var _1952=_1950.TimeoutError;var _1953=function(_1954,_1955){if(!_1954.isPending()){return;}if(typeof _1955!=="string"){_1955="operation timed out";}var err=new _1952(_1955);util.markAsOriginatingFromRejection(err);_1954._attachExtraTrace(err);_1954._cancel(err);};var _1956=function(value){return delay(+this).thenReturn(value);};var delay=_1950.delay=function(value,ms){if(ms===undefined){ms=value;value=undefined;var ret=new _1950(_1951);setTimeout(function(){ret._fulfill();},ms);return ret;}ms=+ms;return _1950.resolve(value)._then(_1956,null,null,ms,undefined);};_1950.prototype.delay=function(ms){return delay(this,ms);};function _1957(value){var _1958=this;if(_1958 instanceof Number){_1958=+_1958;}clearTimeout(_1958);return value;};function _1959(_195a){var _195b=this;if(_195b instanceof Number){_195b=+_195b;}clearTimeout(_195b);throw _195a;};_1950.prototype.timeout=function(ms,_195c){ms=+ms;var ret=this.then().cancellable();ret._cancellationParent=this;var _195d=setTimeout(function timeoutTimeout(){_1953(ret,_195c);},ms);return ret._then(_1957,_1959,undefined,_195d,undefined);};};},{"./util.js":38}],37:[function(_195e,_195f,_1960){"use strict";_195f.exports=function(_1961,_1962,_1963,_1964){var _1965=_195e("./errors.js").TypeError;var _1966=_195e("./util.js").inherits;var _1967=_1961.PromiseInspection;function _1968(_1969){var len=_1969.length;for(var i=0;i<len;++i){var _196a=_1969[i];if(_196a.isRejected()){return _1961.reject(_196a.error());}_1969[i]=_196a._settledValue;}return _1969;};function _196b(e){setTimeout(function(){throw e;},0);};function _196c(_196d){var _196e=_1963(_196d);if(_196e!==_196d&&typeof _196d._isDisposable==="function"&&typeof _196d._getDisposer==="function"&&_196d._isDisposable()){_196e._setDisposable(_196d._getDisposer());}return _196e;};function _196f(_1970,_1971){var i=0;var len=_1970.length;var ret=_1961.defer();function _1972(){if(i>=len){return ret.resolve();}var _1973=_196c(_1970[i++]);if(_1973 instanceof _1961&&_1973._isDisposable()){try{_1973=_1963(_1973._getDisposer().tryDispose(_1971),_1970.promise);}catch(e){return _196b(e);}if(_1973 instanceof _1961){return _1973._then(_1972,_196b,null,null,null);}}_1972();};_1972();return ret.promise;};function _1974(value){var _1975=new _1967();_1975._settledValue=value;_1975._bitField=268435456;return _196f(this,_1975).thenReturn(value);};function _1976(_1977){var _1978=new _1967();_1978._settledValue=_1977;_1978._bitField=134217728;return _196f(this,_1978).thenThrow(_1977);};function _1979(data,_197a,_197b){this._data=data;this._promise=_197a;this._context=_197b;};_1979.prototype.data=function(){return this._data;};_1979.prototype.promise=function(){return this._promise;};_1979.prototype.resource=function(){if(this.promise().isFulfilled()){return this.promise().value();}return null;};_1979.prototype.tryDispose=function(_197c){var _197d=this.resource();var _197e=this._context;if(_197e!==undefined){_197e._pushContext();}var ret=_197d!==null?this.doDispose(_197d,_197c):null;if(_197e!==undefined){_197e._popContext();}this._promise._unsetDisposable();this._data=null;return ret;};_1979.isDisposer=function(d){return (d!=null&&typeof d.resource==="function"&&typeof d.tryDispose==="function");};function _197f(fn,_1980,_1981){this.constructor$(fn,_1980,_1981);};_1966(_197f,_1979);_197f.prototype.doDispose=function(_1982,_1983){var fn=this.data();return fn.call(_1982,_1982,_1983);};function _1984(value){if(_1979.isDisposer(value)){this.resources[this.index]._setDisposable(value);return value.promise();}return value;};_1961.using=function(){var len=arguments.length;if(len<2){return _1962("you must pass at least 2 arguments to Promise.using");}var fn=arguments[len-1];if(typeof fn!=="function"){return _1962("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}len--;var _1985=new Array(len);for(var i=0;i<len;++i){var _1986=arguments[i];if(_1979.isDisposer(_1986)){var _1987=_1986;_1986=_1986.promise();_1986._setDisposable(_1987);}else{var _1988=_1963(_1986);if(_1988 instanceof _1961){_1986=_1988._then(_1984,null,null,{resources:_1985,index:i},undefined);}}_1985[i]=_1986;}var _1989=_1961.settle(_1985).then(_1968).then(function(vals){_1989._pushContext();var ret;try{ret=fn.apply(undefined,vals);}finally{_1989._popContext();}return ret;})._then(_1974,_1976,undefined,_1985,undefined);_1985.promise=_1989;return _1989;};_1961.prototype._setDisposable=function(_198a){this._bitField=this._bitField|262144;this._disposer=_198a;};_1961.prototype._isDisposable=function(){return (this._bitField&262144)>0;};_1961.prototype._getDisposer=function(){return this._disposer;};_1961.prototype._unsetDisposable=function(){this._bitField=this._bitField&(~262144);this._disposer=undefined;};_1961.prototype.disposer=function(fn){if(typeof fn==="function"){return new _197f(fn,this,_1964());}throw new _1965();};};},{"./errors.js":13,"./util.js":38}],38:[function(_198b,_198c,_198d){"use strict";var es5=_198b("./es5.js");var _198e=typeof navigator=="undefined";var _198f=(function(){try{var o={};es5.defineProperty(o,"f",{get:function(){return 3;}});return o.f===3;}catch(e){return false;}})();var _1990={e:{}};var _1991;function _1992(){try{var _1993=_1991;_1991=null;return _1993.apply(this,arguments);}catch(e){_1990.e=e;return _1990;}};function _1994(fn){_1991=fn;return _1992;};var _1995=function(Child,_1996){var _1997={}.hasOwnProperty;function T(){this.constructor=Child;this.constructor$=_1996;for(var _1998 in _1996.prototype){if(_1997.call(_1996.prototype,_1998)&&_1998.charAt(_1998.length-1)!=="$"){this[_1998+"$"]=_1996.prototype[_1998];}}};T.prototype=_1996.prototype;Child.prototype=new T();return Child.prototype;};function _1999(val){return val==null||val===true||val===false||typeof val==="string"||typeof val==="number";};function _199a(value){return !_1999(value);};function _199b(_199c){if(!_1999(_199c)){return _199c;}return new Error(_199d(_199c));};function _199e(_199f,_19a0){var len=_199f.length;var ret=new Array(len+1);var i;for(i=0;i<len;++i){ret[i]=_199f[i];}ret[i]=_19a0;return ret;};function _19a1(obj,key,_19a2){if(es5.isES5){var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null){return desc.get==null&&desc.set==null?desc.value:_19a2;}}else{return {}.hasOwnProperty.call(obj,key)?obj[key]:undefined;}};function _19a3(obj,name,value){if(_1999(obj)){return obj;}var _19a4={value:value,configurable:true,enumerable:false,writable:true};es5.defineProperty(obj,name,_19a4);return obj;};function _19a5(r){throw r;};var _19a6=(function(){var _19a7=[Array.prototype,Object.prototype,Function.prototype];var _19a8=function(val){for(var i=0;i<_19a7.length;++i){if(_19a7[i]===val){return true;}}return false;};if(es5.isES5){var _19a9=Object.getOwnPropertyNames;return function(obj){var ret=[];var _19aa=Object.create(null);while(obj!=null&&!_19a8(obj)){var keys;try{keys=_19a9(obj);}catch(e){return ret;}for(var i=0;i<keys.length;++i){var key=keys[i];if(_19aa[key]){continue;}_19aa[key]=true;var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null&&desc.get==null&&desc.set==null){ret.push(key);}}obj=es5.getPrototypeOf(obj);}return ret;};}else{var _19ab={}.hasOwnProperty;return function(obj){if(_19a8(obj)){return [];}var ret=[];enumeration:for(var key in obj){if(_19ab.call(obj,key)){ret.push(key);}else{for(var i=0;i<_19a7.length;++i){if(_19ab.call(_19a7[i],key)){continue enumeration;}}ret.push(key);}}return ret;};}})();var _19ac=/this\s*\.\s*\S+\s*=/;function _19ad(fn){try{if(typeof fn==="function"){var keys=es5.names(fn.prototype);var _19ae=es5.isES5&&keys.length>1;var _19af=keys.length>0&&!(keys.length===1&&keys[0]==="constructor");var _19b0=_19ac.test(fn+"")&&es5.names(fn).length>0;if(_19ae||_19af||_19b0){return true;}}return false;}catch(e){return false;}};function _19b1(obj){function f(){};f.prototype=obj;var l=8;while(l--){new f();}return obj;eval(obj);};var _19b2=/^[a-z$_][a-z$_0-9]*$/i;function _19b3(str){return _19b2.test(str);};function _19b4(count,_19b5,_19b6){var ret=new Array(count);for(var i=0;i<count;++i){ret[i]=_19b5+i+_19b6;}return ret;};function _199d(obj){try{return obj+"";}catch(e){return "[no string representation]";}};function _19b7(e){try{_19a3(e,"isOperational",true);}catch(ignore){}};function _19b8(e){if(e==null){return false;}return ((e instanceof Error["__BluebirdErrorTypes__"].OperationalError)||e["isOperational"]===true);};function _19b9(obj){return obj instanceof Error&&es5.propertyIsWritable(obj,"stack");};var _19ba=(function(){if(!("stack" in new Error())){return function(value){if(_19b9(value)){return value;}try{throw new Error(_199d(value));}catch(err){return err;}};}else{return function(value){if(_19b9(value)){return value;}return new Error(_199d(value));};}})();function _19bb(obj){return {}.toString.call(obj);};function _19bc(from,to,_19bd){var keys=es5.names(from);for(var i=0;i<keys.length;++i){var key=keys[i];if(_19bd(key)){try{es5.defineProperty(to,key,es5.getDescriptor(from,key));}catch(ignore){}}}};var ret={isClass:_19ad,isIdentifier:_19b3,inheritedDataKeys:_19a6,getDataPropertyOrDefault:_19a1,thrower:_19a5,isArray:es5.isArray,haveGetters:_198f,notEnumerableProp:_19a3,isPrimitive:_1999,isObject:_199a,canEvaluate:_198e,errorObj:_1990,tryCatch:_1994,inherits:_1995,withAppended:_199e,maybeWrapAsError:_199b,toFastProperties:_19b1,filledRange:_19b4,toString:_199d,canAttachTrace:_19b9,ensureErrorObject:_19ba,originatesFromRejection:_19b8,markAsOriginatingFromRejection:_19b7,classString:_19bb,copyDescriptors:_19bc,hasDevTools:typeof chrome!=="undefined"&&chrome&&typeof chrome.loadTimes==="function",isNode:typeof process!=="undefined"&&_19bb(process).toLowerCase()==="[object process]"};ret.isRecentNode=ret.isNode&&(function(){var _19be=process.versions.node.split(".").map(Number);return (_19be[0]===0&&_19be[1]>10)||(_19be[0]>0);})();if(ret.isNode){ret.toFastProperties(process);}try{throw new Error();}catch(e){ret.lastLineError=e;}_198c.exports=ret;},{"./es5.js":14}]},{},[4])(4);});},"webcore/file-transfer":function(){define(["bluebird/bluebird","./applicative","./file-helpers","./monad","./Task"],function(_19bf,_19c0,_19c1,monad,Task){var _19c2={};_19c2.downloadFile=function(src,_19c3,_19c4,error){var split=_19c3.path.split("/");var file=split.pop();var _19c5=_19c6(src,{"X-Csrf-Token":window.mx.session.getCSRFToken()},{responseType:"blob"});_19c1.getFileSystem(_19c3.location).then(function(fs){var _19c7=_19c1.openDirectory(fs.root,split);_19c0.sequence([_19c5,_19c7],Task).chain(function(res){var blob=res[0];var de=res[1];return _19c1.saveBlob(blob,de,file,{create:true});}).fork(error,_19c4);});};return _19c2;function _19c6(url,_19c8,_19c9){return new Task(function(_19ca,_19cb){var xhr=new XMLHttpRequest();xhr.open("GET",url);Object.keys(_19c9).forEach(function(key){xhr[key]=_19c9[key];});Object.keys(_19c8).forEach(function(key){xhr.setRequestHeader(key,_19c8[key]);});xhr.onreadystatechange=function(e){var xhr=e.target;if(xhr.readyState===4){if(xhr.status>=200&&xhr.status<300){_19cb(xhr.response);}else{_19ca(xhr.response);}}};xhr.onerror=_19ca;xhr.send();});};});},"webcore/monad":function(){define([],function(){var monad={};var lift2=monad.lift2=function(f,Mx,My){return Mx.chain(function(x){return My.map(function(y){return f(x,y);});});};monad.sequence=function(ms,M){return ms.reduce(function(acc,mx){return lift2(_19cc,acc,mx);},M.of([]));};monad.sequence_=function(ms,M){return monad.sequence(ms,M).map(function(_19cd){return;});};return monad;function _19cc(xs,x){return xs.concat([x]);};});},"webcore/guid":function(){define(["mendix/lang"],function(lang){var _19ce="GUID:";return {create:function(){return _19ce+lang.getUniqueId();}};});},"webcore/StringSet":function(){define([],function(){function _19cf(_19d0){this.__values={};for(var m in _19d0){this.__values[m+""]=true;}};_19cf.of=_19cf.prototype.of=function(x){return _19cf.fromArray([x]);};_19cf.fromArray=function(_19d1){var _19d2={};for(var i=0;i<_19d1.length;++i){_19d2[_19d1[i]]=true;}return new _19cf(_19d2);};_19cf.empty=_19cf.prototype.empty=function(){return _19cf.fromArray([]);};_19cf.prototype.contains=function(test){return this.__values[test]||false;};_19cf.prototype.remove=function(value){delete this.__values[value];};_19cf.prototype.or=_19cf.prototype.concat=function(other){var _19d3={};for(var m in this.__values){_19d3[m]=true;}for(var n in other.__values){_19d3[n]=true;}return new _19cf(_19d3);};_19cf.prototype.minus=function(other){var _19d4=_19cf.empty();for(var m in this.__values){if(!other.__values[m]){_19d4.__values[m]=true;}}return _19d4;};_19cf.prototype.length=function(){return this.values().length;};_19cf.prototype.reduce=function(fn,acc){return this.values().reduce(fn,acc);};_19cf.prototype.chain=function(fn){return this.reduce(function(acc,x){return acc.concat(fn(x));},this.empty());};_19cf.prototype.map=function(fn){return this.chain(function(x){return this.of(fn(x));}.bind(this));};_19cf.prototype.values=function(){return Object.keys(this.__values);};_19cf.prototype.toString=function(){return "StringSet("+this.values()+")";};return _19cf;});},"webcore/task-helpers":function(){define(["./Task","bluebird/bluebird"],function(Task,_19d5){var _19d6={};_19d6.promiseFromTask=function(t){return new _19d5(function(_19d7,_19d8){t.fork(_19d8,_19d7);});};_19d6.callbackFromTask=function(t,_19d9,error){t.fork(function(e){if(error){error(e);}},function(x){if(_19d9){_19d9(x);}});};_19d6.taskFromPromise=function(p){return new Task(function(_19da,_19db){p.then(_19db,_19da);});};return _19d6;});},"webcore/MxObjectCache":function(){define(["dojo/_base/array"],function(_19dc){function _19dd(){this._objectCache={};this._changes={};this._refCounts={};};_19dd.prototype.getObject=function(guid){return this._objectCache[guid]||null;};_19dd.prototype.removeObject=function(guid){if(this._objectCache[guid]){delete this._objectCache[guid];delete this._refCounts[guid];}};_19dd.prototype.reset=function(json){var obj=this.getObject(json.guid);if(!obj){throw new Error("Attempt to reset uncached object");}obj.resetFromJSON(json);};_19dd.prototype.blacklist=function(guid){var obj=this.getObject(guid);this._objectCache[guid]=null;if(obj){obj.resetFromJSON(null);}};_19dd.prototype.isBlacklisted=function(guid){return this._objectCache[guid]===null;};_19dd.prototype.add=function(mxobj){if(this.has(mxobj.getGuid())){throw new Error("Attempt to overwrite existing object in cache");}this._objectCache[mxobj.getGuid()]=mxobj;this._refCounts[mxobj.getGuid()]=0;};_19dd.prototype.has=function(guid){return !!this.getObject(guid);};_19dd.prototype.filter=function(_19de){var guids=[];for(var guid in this._objectCache){if(_19de(guid)){guids.push(guid);}}return guids;};_19dd.prototype.reference=function(guid){++this._refCounts[guid];};_19dd.prototype.unreference=function(guid){if(!this.has(guid)){throw new Error("Attempt to decrease reference count of uncached object");}--this._refCounts[guid];};_19dd.prototype.isReferenced=function(guid){if(!this.has(guid)){throw new Error("Attempt to check reference count of uncached object");}return !!this._refCounts[guid];};_19dd.prototype.clear=function(){this._objectCache={};this._refCounts={};};_19dd.prototype.getAllChanges=function(){return this._changes;};_19dd.prototype.getChanges=function(guid){return this._changes[guid]||{};};_19dd.prototype.makeChange=function(guid,attr,value){this._changes[guid]=this._changes[guid]||{};this._changes[guid][attr]=value;};_19dd.prototype.removeChanges=function(guids){guids.forEach(function(guid){delete this._changes[guid];},this);};return _19dd;});},"webcore/MxObjectBackend":function(){define(["mendix/ov","mendix/lang","mendix/lib/MxObject","mendix/lib/Error","dojo/_base/array","dojo/_base/lang","big/big"],function(ov,lang,_19df,_19e0,_19e1,_19e2,Big){function _19e3(_19e4,_19e5,_19e6){this._backend=_19e4;this._objectCache=_19e5;this._shouldRemoveObjectImmediately=_19e6;};_19e3.prototype.getByGuid=function(guids,_19e7,_19e8,_19e9,error){_19e7=_19e7||{};var self=this;if(_19e8){var objs=_19e1.filter(_19e1.map(guids,this._objectCache.getObject,this._objectCache),function(mxobj){return mxobj!=null;});var _19ea=_19e1.every(guids,function(guid){return self._objectCache.has(guid)||self._objectCache.isBlacklisted(guid);});if(_19ea){var _19eb=objs;if(_19e7.sort){_19e1.forEach(_19e7.sort,function(sort){var attr=sort[0],dir=sort[1];_19eb=_19eb.sort(dir=="asc"?function(a,b){a=a.get2(attr);b=b.get2(attr);if(a<b){return -1;}else{if(a>b){return 1;}}return 0;}:function(a,b){a=a.get2(attr);b=b.get2(attr);if(a<b){return 1;}else{if(a>b){return -1;}}return 0;});});}var _19ec=_19e7.offset;if(_19ec){var limit=_19e7.amount;if(limit){_19eb=_19eb.slice(_19ec,_19ec+limit);}else{_19eb=_19eb.slice(_19ec);}}_19e1.forEach(_19eb,this._objectCache.reference,this._objectCache);if(_19e9){_19e9(_19eb,objs.length);}return;}}var _19ed=_19e7.attributes==null;this._backend.getByGuid(guids,_19e7,function(json){var _19ee=json.mxobjects||[];var _19ef=_19e1.map(_19ee,function(obj){return self._setMxObject(_19ed,true,obj);});if(_19e9){_19e9(_19ef,_19ef.length);}},error);};_19e3.prototype.getByXPath=function(xpath,_19f0,_19f1,_19f2,_19f3,error){var self=this;this._backend.getByXPath(xpath,_19f0,_19f1,_19f2,function(json){var _19f4=json.mxobjects||[];var count=json.count||0;var _19f5=json.aggregates||[];var _19f6=_19e1.map(_19f4,function(obj){return self._setMxObject(false,false,obj);});var _19f7=_19e1.map(_19f5,function(agg){return agg===""?agg:new Big(agg);});if(_19f3){_19f3(_19f6,count,_19f7);}},error);};_19e3.prototype.getByPath=function(guid,path,_19f8,_19f9,error){var self=this;this._backend.getByPath(guid,path,_19f8,_19fa,error);function _19fa(json){var _19fb=json.mxobjects||[];var _19fc=_19e1.map(_19fb,function(obj){return self._setMxObject(true,true,obj);});if(_19f9){_19f9(_19fc,_19fc.length);}};};_19e3.prototype.getSlice=function(_19fd,_19fe,_19ff){var meta=window.mx.meta.getEntity(_19fd);return this._backend.getSlice(_19fd,_19fe,_19ff).then(function(json){var _1a00=json.mxobjects||[];var count=json.count||0;var _1a01=_1a00.map(function(_1a02){return new _19df({json:_1a02,meta:meta});});return [_1a01,count];});};_19e3.prototype.fetch=function(obj,_1a03,attr,_1a04,_1a05,error){_1a04=_1a04||{};var self=this;var _1a06;if(_1a04.schema){_1a06=_1a03.splice(-2,_1a03.length);}else{_1a06=[];}this._performFetch(obj,_1a03,_1a06,attr,_1a04,false,_1a05,error);};_19e3.prototype.action=function(_1a07,_1a08,store,async,_1a09,_1a0a,error){this._backend.action(_1a07,_1a08,this._objectCache.getAllChanges(),store,async,_1a09,_1a0b.bind(this),error);function _1a0b(json){var _1a0c=json.actionResult;var value;if(_1a0c instanceof Array){value=_19e1.map(_1a0c,function(obj){this._removeChanges([obj.guid]);return this._setMxObject(true,true,obj);},this);}else{if(typeof _1a0c=="object"&&_1a0c.guid){this._removeChanges([_1a0c.guid]);value=[this._setMxObject(true,true,_1a0c)];}else{value=_1a0c;}}if(_1a0a){_1a0a(value);}};};_19e3.prototype.create=function(_1a0d,_1a0e,_1a0f,error){var self=this;this._backend.create(_1a0d,_1a0e,_1a10,error);function _1a10(json){var _1a11=json.mxobject||null;var mxobj=self._setMxObject(true,true,_1a11);if(_1a0f){_1a0f(mxobj);}};};_19e3.prototype.validate=function(_1a12,_1a13,error){this._backend.validate(this._objectCache.getAllChanges(),_1a13,error);};_19e3.prototype.commit=function(_1a14,_1a15,store,_1a16,_1a17,error){var _1a18=lang.clone(this._objectCache.getAllChanges());var guids=_1a14.map(function(mxobj){return mxobj.getGuid();});this._backend.commit(guids,_1a18,_1a15,store,_1a16,_1a19.bind(this),error);function _1a19(){this._removeChanges(guids);_1a14.forEach(function(mxobj){mxobj._applyChangeSet(_1a18[mxobj.getGuid()]);this._setMxObject(true,false,mxobj.jsonData);},this);if(_1a17){_1a17();}};};_19e3.prototype.rollback=function(_1a1a,_1a1b,error){var guids=_1a1a.map(function(mxobj){return mxobj.getGuid();});this._backend.rollback(guids,this._objectCache.getAllChanges(),_1a1c.bind(this),error);function _1a1c(json){var _1a1d=json.mxobjects||[];this._removeChanges(guids);var _1a1e=_1a1d.map(function(_1a1f){return this._setMxObject(false,false,_1a1f);},this);var _1a20=lang.objectFromArray(_1a1e.map(function(mxobj){return [mxobj.getGuid(),mxobj];}));_1a1a.forEach(function(_1a21){var _1a22=_1a20[_1a21.getGuid()];this._rollbackCache(_1a21,_1a22);if(_1a22){_1a21.resetFromJSON(_1a22.jsonData);}},this);if(_1a1b){_1a1b(_1a1e);}};};_19e3.prototype.remove=function(guids,_1a23,error){this._backend.remove(guids,this._objectCache.getAllChanges(),_1a24.bind(this),error);function _1a24(){this._removeChanges(guids);_19e1.forEach(guids,this._clearDataForObject,this);if(_1a23){_1a23();}};};_19e3.prototype.saveDocument=function(guid,name,_1a25,blob,_1a26,error){this._backend.saveDocument(guid,this._objectCache.getAllChanges(),name,_1a25,blob,_1a27.bind(this),error);function _1a27(){this._removeChanges([guid]);this.getByGuid([guid],{},false,_1a26,error);};};_19e3.prototype.makeChange=function(guid,attr,value){this._objectCache.makeChange(guid,attr,value);};_19e3.prototype.setOrRetrieveMxObject=function(json){this._removeChanges([json.guid]);return this._setMxObject(true,false,json);};_19e3.prototype.cleanup=function(){var self=this;var _1a28=this._objectCache.filter(function(guid){return !self._objectCache.isBlacklisted(guid)&&!self._objectCache.isReferenced(guid);});_19e1.forEach(_1a28,this._clearDataForObject,this);};_19e3.prototype.invalidateCaches=function(guid){if(this._objectCache.has(guid)){this._clearDataForObject(guid);}};_19e3.prototype.clearCache=function(){this._objectCache.clear();};_19e3.prototype.getChanges=function(guid){return this._objectCache.getChanges(guid);};_19e3.prototype._setMxObject=function(_1a29,_1a2a,_1a2b){var _1a2c=this._objectCache.getObject(_1a2b.guid);if(_1a29&&_1a2c){this._objectCache.reset(_1a2b);if(_1a2a){this._objectCache.reference(_1a2b.guid);}return _1a2c;}else{var obj=new _19df({json:_1a2b,meta:window.mx.meta.getEntity(_1a2b.objectType)});if(_1a29&&!_1a2c){this._objectCache.add(obj);if(_1a2a){this._objectCache.reference(_1a2b.guid);}}else{if(!_1a29&&_1a2c){this._clearDataForObject(_1a2b.guid);}}return obj;}};_19e3.prototype._clearDataForObject=function(guid){if(!this._shouldRemoveObjectImmediately||this._shouldRemoveObjectImmediately(guid)){this._objectCache.removeObject(guid);this._backend.release(guid);}};_19e3.prototype.release=function(guid){if(this._objectCache.has(guid)&&this._objectCache.isReferenced(guid)){this._objectCache.unreference(guid);if(!this._objectCache.isReferenced(guid)){this._clearDataForObject(guid);}}};_19e3.prototype._rollbackCache=function(_1a2d,_1a2e){var guid=_1a2d.getGuid();var _1a2f=this._objectCache.getObject(guid);if(_1a2e){if(_1a2f){if(_1a2d!==_1a2f){this._objectCache.reset(_1a2e.jsonData);}}else{this._objectCache.add(_1a2e);}}else{this._removeChanges([guid]);this._objectCache.blacklist(guid);}};_19e3.prototype._performFetch=function(_1a30,_1a31,_1a32,attr,_1a33,_1a34,_1a35,error){var ref,type,child,_1a36;if(_1a31.length+_1a32.length===0){if(_1a30==null){_1a35(null,false);}else{if(!attr){_1a35(_1a30,_1a34);}else{_1a35(_1a37(_1a30,attr),false);}}}else{if(_1a31.length===0&&_1a32.length>0){ref=_1a32[0];type=_1a32[1];if(_1a30.isObjectReferenceSet(ref)){this._fetchReferenceSet(_1a30,ref,type,_1a35,error);}else{this._fetchReference(_1a30,_1a31,_1a32.slice(2),attr,_1a33,ref,type,_1a33.schema,_1a35,error);}}else{if(_1a34){this.release(_1a30.getGuid());_1a34=false;}ref=_1a31[0];type=_1a31[1];if(_1a30.isObjectReferenceSet(ref)){if(_1a31.length>2||_1a32.length>2){if(error){error(new _19e0("reference set should be at end of path"));}}else{this._fetchReferenceSet(_1a30,ref,type,_1a35,error);}}else{if(_1a30.isObjectReference(ref)){child=_1a30.getChild(ref);if(child){if(child.isA(type)){this._performFetch(child,_1a31.slice(2),_1a32,attr,_1a33,_1a34,_1a35,error);}else{this.release(_1a30.getGuid());if(_1a35){_1a35(null,false);}}}else{_1a36=_1a30.getReference(ref);if(!_1a36){_1a35(null,false);}else{if(this._objectCache.has(_1a36)){var _1a38=this._objectCache.getObject(_1a36);if(_1a38.isA(type)){this._objectCache.reference(_1a36);this._performFetch(_1a38,_1a31.slice(2),_1a32,attr,_1a33,true,_1a35,error);}else{this.release(_1a38.getGuid());if(_1a35){_1a35(null,false);}}}else{if(_1a33.usexpath&&_1a31.length>2){this._fetchXPath(_1a30,_1a31.slice(2),_1a32,attr,_1a33,_1a34,_1a36,type,_1a35,error);}else{this._fetchReference(_1a30,_1a31.slice(2),_1a32,attr,_1a33,ref,type,null,_1a35,error);}}}}}else{if(error){error(new _19e0("attribute "+ref+" is not a reference type"));}}}}}};_19e3.prototype._fetchReference=function(_1a39,_1a3a,_1a3b,attr,_1a3c,ref,type,_1a3d,_1a3e,error){var self=this;var guid=_1a39.getReference(ref);if(guid){this.getByGuid([guid],{id:_1a3d},true,function(_1a3f){var _1a40;if(_1a3d){_1a40=_1a3f.filter(function(mxobj){return mxobj.getGuid()===guid;});}else{_1a40=_1a3f;}if(_1a40.length===1){resultObj=_1a40[0];}else{resultObj=null;}if(resultObj&&resultObj.isA(type)){self._performFetch(resultObj,_1a3a,_1a3b,attr,_1a3c,true,_1a3e,error);}else{self.release(_1a39.getGuid());_1a3e(null,false);}},error);}else{_1a3e(null,false);}};_19e3.prototype._fetchReferenceSet=function(_1a41,ref,type,_1a42,error){var self=this;if(_1a41.getReferences(ref).length===0){_1a42([],false);}else{if(_1a41.hasChildren(ref)){_1a42(_1a41.getChildren(ref).filter(function(mxobj){return mxobj.isA(type);}),false);}else{this.getByGuid(_1a41.getReferences(ref),null,true,function(objs){var res=objs.reduce(function(acc,obj){if(obj.isA(type)){acc.matching.push(obj);}else{acc.releasing.push(obj);}return acc;},{matching:[],releasing:[]});self._releaseMxObjects(res.releasing);_1a42(res.matching,res.matching.length>0);},error);}}};_19e3.prototype._fetchXPath=function(_1a43,_1a44,_1a45,attr,_1a46,_1a47,_1a48,type,_1a49,error){var self=this;var xpath=["//"+type+"[id="+_1a48+"]"].concat(_1a44).join("/");this.getByXPath(xpath,null,false,false,function(objs){if(objs.length===0){_1a49(null,false);}else{if(attr&&objs.length==1){_1a49(_1a37(objs[0],attr),false);}else{if(!attr){if(_1a4a(type,_1a44)){_1a49(objs,false);}else{self._performFetch(objs[0],[],_1a45,attr,_1a46,_1a47,_1a49,error);}}else{if(error){error(new _19e0(attr+" is not a reference type"));}}}}},error);};_19e3.prototype._releaseMxObjects=function(_1a4b){_1a4b.forEach(function(mxobj){this.release(mxobj.getGuid());},this);};_19e3.prototype._removeChanges=function(guids){this._objectCache.removeChanges(guids);};return _19e3;function _1a37(_1a4c,attr){if(_1a4c.isObjectReference(attr)){return _1a4c.getReference(attr);}else{if(_1a4c.isObjectReferenceSet(attr)){return _1a4c.getReferences(attr);}else{return _1a4c.get2(attr);}}};function _1a4a(type,_1a4d){var path=[type].concat(_1a4d);var _1a4e,_1a4f;if(_1a4d.length<2){return false;}_1a4e=window.mx.meta.getEntity(path.slice(-3)[0]);_1a4f=_1a4d.slice(-2)[0];return _1a4e.isObjectReferenceSet(_1a4f);};});},"mendix/sys/Meta":function(){define(["mendix/lib/MxMetaObject","mendix/logger"],function(_1a50,_1a51){function Meta(){var name="mendix.sys.Meta",_1a52=null;this.toString=function(){return name;};this.startup=function(){_1a52={};dojo.forEach(window.mx.session.getConfig("metadata"),function(_1a53){var _1a54=new _1a50({json:_1a53});_1a52[_1a54.getEntity()]=_1a54;});};this.getMap=function(){return _1a52;};this.getEntity=function(_1a55){var meta=_1a52[_1a55];if(!meta){_1a51.error("No permission to read or write entity "+_1a55+", check security!");}return meta;};};return Meta;});},"mendix/sys/Remote":function(){define(["mendix/lang","mendix/ov","mendix/logger","mendix/lib/Error","mendix/lib/MxContext"],function(lang,ov,_1a56,_1a57,_1a58){var name="mendix.sys.Remote",_1a59={text_message:_1a5a,refresh_object_list:_1a5b,refresh_class:_1a5c,open_form:_1a5d,download_file:_1a5e,show_login:_1a5f,logout:_1a60,close:_1a61};function _1a62(){this.toString=function(){return name;};this.execute=function(json,store,_1a63,_1a64){if(!this.hasInstructions(json)){if(_1a64){_1a64();}return;}var _1a65=json.instructions.filter(_1a66),_1a67=json.instructions.filter(function(inst){return !_1a66(inst);}),_1a68=!_1a63?_1a65.concat(_1a67):_1a67;var _1a69=_1a68.map(function(_1a6a){if(_1a6a.target!="system"||!(_1a6a.type in _1a59)){throw new _1a57("Unsupported instruction received from the server: "+JSON.stringify(_1a6a));}return _1a59[_1a6a.type].bind(null,_1a6a,store||{});});lang.sequence(_1a69,_1a64);function _1a66(_1a6b){return _1a6b.type==="open_form"||_1a6b.type==="close";};};this.hasInstructions=function(json){return !!(json&&json.instructions!=null&&json.instructions.length);};this.hasValidation=function(_1a6c){return ov.hasValidations(_1a6c);};this.getValidations=function(_1a6d){return ov.getValidations(_1a6d);};};function _1a5a(_1a6e,store,_1a6f){var args=_1a6e.args,_1a70=args.MessageContent,_1a71=args.MessageType,_1a72=String(args.MessageBlock)=="true";if(_1a70!=null&&_1a71!=null){(window.mx.ui[_1a71.toLowerCase()]||window.mx.ui.info)(_1a70,_1a72);}else{throw new _1a57(name+".actTextMessage: message content is null");}if(_1a6f){_1a6f();}};function _1a5b(_1a73,store,_1a74){var _1a75=_1a73.args.mxobjects,chain=[];if(_1a75&&_1a75.length){var _1a76={},count=_1a75.length;while(count--){var obj=_1a75[count];if(typeof obj=="object"&&obj.objectType){var mxobj=window.mx.data.setOrRetrieveMxObject(obj);_1a76[mxobj.getEntity()]=true;chain.push((function(mxobj){return function(cb){window.mx.data.update({guid:mxobj.getGuid(),callback:cb});};})(mxobj));}else{throw new _1a57(name+"actRefreshObjectList: invalid json object");}}chain=chain.concat(Object.keys(_1a76).map(function(klass){return function(cb){window.mx.data.sendClassUpdate(klass,cb);};}));lang.collect(chain,_1a74);}else{if(_1a74){_1a74();}}};function _1a5c(_1a77,store,_1a78){var _1a79=_1a77.args.ObjectClass;if(_1a79!=null){window.mx.data.sendClassUpdate(_1a79);}else{}if(_1a78){_1a78();}};function _1a5d(_1a7a,store,_1a7b){var _1a7c=_1a7d(_1a7a.context),args=_1a7a.args,_1a7e=args.FormTarget;if(args.FormGuid){_1a7c.setContext(args.FormEntity,args.FormGuid);}else{_1a7c.setTrackId(null);_1a7c.setTrackEntity(null);}if(_1a7e=="popup"||_1a7e=="modal"){window.mx.router.openFormInPopup(args.FormPath,{title:args.FormTitle,width:args.FormWidth,height:args.FormHeight,resizable:args.FormResizable,modal:_1a7e=="modal"},_1a7c,null,_1a7b);}else{window.mx.router.openFormInContent(args.FormPath,args.FormTitle,_1a7c,null,_1a7b);}function _1a7d(_1a7f){var _1a80=new _1a58();if(!_1a7f){return _1a80;}var _1a81="",items=_1a7f.items||[];for(var i=0,cntx;cntx=items[i];i++){var guid=cntx.guid,clazz=cntx.classname;if(clazz&&guid){_1a80.setContext(clazz,guid);if(guid==_1a7f.activeguid){_1a81=clazz;}}}if(_1a81){_1a80.setTrackEntity(_1a81);}return _1a80;};};function _1a5e(_1a82,store,_1a83){var mxobj=_1a82.args.FileDocument,_1a84=_1a82.args.Target;if(mxobj){window.mx.ui.downloadFile({mxobject:window.mx.data.setOrRetrieveMxObject(mxobj),target:_1a84});}if(_1a83){_1a83();}};function _1a5f(_1a85,store,_1a86){window.mx.ui.showLogin();if(_1a86){_1a86();}};function _1a60(_1a87,store,_1a88){window.mx.logout();if(_1a88){_1a88();}};function _1a61(_1a89,store,_1a8a){store.origin.close(_1a8a);};return _1a62;});},"mendix/sys/Server":function(){define(["mendix/lib/ServerError","mendix/lib/ConnectionError","mendix/lib/ValidationError","mendix/lib/DescribedServerError","mendix/lib/MxContext","mendix/lang","mendix/logger","webcore/url-helpers","dojo/sniff","dojo/_base/array","dojo/_base/json","dojo/_base/lang","dojo"],function(_1a8b,_1a8c,_1a8d,_1a8e,_1a8f,lang,_1a90,_1a91,_1a92,_1a93,_1a94,_1a95,dojo){function _1a96(_1a97){var self=this,name="mendix.sys.Server",_1a98=0,_1a99={},_1a9a={},_1a9b={},_1a9c={},_1a9d="",_1a9e=_1a97&&_1a97.timeout||0,_1a9f=true,seqno=0;var _1aa0=function(){return Number(+new Date()+""+(_1a98++%10));};var _1aa1=function(_1aa2){var _1aa3=_1aa2.asyncid;if(_1a9b[_1aa3]){_1a90.error(name+".executeBackgroundJob: job "+_1aa3+" already exists, aborting");_1aa2.callback&&_1aa2.callback();return;}if(!_1aa2.callback){}var ival=500,imin=500,imax=8000,job=_1a9b[_1aa3]={callback:_1aa2.callback,error:_1aa2.error},_1aa4=function(){window.mx.server.request({request:{action:"poll_background_job",params:{asyncid:_1aa3}},options:{store:_1aa2.store,callback:function(_1aa5,_1aa6,_1aa7){if(_1aa6.response&&_1aa6.response.finished){delete _1a9b[_1aa3];job.callback&&job.callback(_1aa5,_1aa6,_1aa7);}else{setTimeout(_1aa4,(ival<imax)?Math.min(ival+=imin,imax):imax);}},error:function(e){_1a90.error(name+".executeBackgroundJob: "+e.message);_1aa8(job.error,e);delete _1a9b[_1aa3];}}});};job.timer=setTimeout(_1aa4,ival);};var _1aa9=function(state){if(!state){self.connectionDown(_1a9f);_1a9f=false;}else{if(_1a9f===false){_1a9f=true;self.connectionUp();}}};var _1aaa=function(req,_1aab,_1aac){var stat,err,_1aad,_1aae;try{stat=_1aac.xhr.status;if(stat==12029){stat=0;}}catch(e){stat=0;}_1aad=_1aac.xhr.responseText;switch(stat){case 401:case 500:case 550:case 551:case 560:try{if(_1aad!==""){_1aae=_1a94.fromJson(_1aad);}else{_1aae=null;}}catch(e){if(req.error){req.error(new _1a8b(name+".handleQueued: JSON is incorrect",e));}}_1a90.error(name+": loadHandler: server error: "+_1a94.toJson(_1aac.xhr.responseText));}switch(stat){case 0:case 502:_1aa9(false);if(req.error){req.error(new _1a8c(name+".handleQueued: "+(_1aad||"connection error"),_1aab));}return;default:_1aa9(true);}switch(stat){case 200:window.mx.remote.execute(_1aab,req.store,null,function(){if(window.mx.remote.hasValidation(_1aab)){var _1aaf=window.mx.remote.getValidations(_1aab);window.mx.data.sendValidationUpdates(_1aaf);if(req.onValidation){req.onValidation(_1aaf);}}if(req.callback){req.callback(_1aab,_1aac);}});break;case 400:case 401:case 402:case 403:case 460:self.onUnauthorized(stat);break;case 500:case 550:if(req.error){req.error(new _1a8b(name+".handleQueued: "+_1aae.description,_1aab));}break;case 504:if(req.error){req.error(new _1a8b(name+".handleQueued: gateway timeout",_1aab));}break;case 551:window.mx.remote.execute(_1aae,req.store,true,function(){if(window.mx.remote.hasValidation(_1aae)){var _1ab0=window.mx.remote.getValidations(_1aae);window.mx.data.sendValidationUpdates(_1ab0);if(req.onValidation){req.onValidation(_1ab0);}}delete _1aae.instructions;if(window.mx.remote.hasValidation(_1aae)){if(req.error){req.error(new _1a8d(name+".handleQueued: validation error",_1aae));}}else{if(req.error){req.error(new _1a8b(name+".handleQueued: "+_1aae.description,_1aab));}}});break;case 560:window.mx.remote.execute(_1aae,req.store,false,function(){delete _1aae.instructions;if(req.error){req.error(new _1a8e(_1aae.description,_1aab));}});break;default:if(req.error){req.error(new _1a8b(name+".handleQueued: "+_1aae.description,_1aab));}}};var _1ab1=function(){var ms=function(n){return "MSXML"+n+".DOMDocument";},res=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)],dom=null;_1a93.some(res,function(name){try{dom=new ActiveXObject(name);}catch(e){return false;}_1ab1=function(){return new ActiveXObject(name);};return true;});return dom;};function _1ab2(_1ab3,_1ab4){var _1ab5=_1ab3.retryOnDisconnect?2:1;function _1ab6(){var _1ab7=dojo.xhr("POST",_1a95.mixin({},_1ab3.options,{postData:_1ab3.data,timeout:_1a9e,handle:function(_1ab8,_1ab9){var _1aba=_1ab9.xhr.status===0||_1ab9.xhr.status===12029;if(_1aba&&--_1ab5>0){_1ab6();return;}if(_1ab4){_1ab4(_1ab8,_1ab9);}}}),true);var xhr=_1ab7.ioArgs.xhr;if(!_1a92("ie")){var _1abb=xhr.onerror;xhr.onerror=function(e){_1ab7.cancel();_1abb&&_1abb();};}};_1ab6();};var _1abc=function(_1abd,hash){var cbq;_1abd.seqno=seqno++;if(hash){if(_1a99[hash]){cbq=_1a99[hash];cbq.push(_1abd);return;}else{_1a99[hash]=cbq=[_1abd];}}else{cbq=[_1abd];}_1ab2(_1abd,function(_1abe,_1abf){_1abe=_1abe||{};if(_1a99[hash]){delete _1a99[hash];}while(cbq.length>0){try{_1aaa(cbq.shift(),_1abe,_1abf);}catch(e){_1a90.error("An error occurred while handling queued requests:",e.message);}}});};var _1aa8=function(error,e,_1ac0){if(error){error(e);}else{if(!_1ac0){window.mx.onError(e);}}};this.toString=function(){return name;};this.setCacheBust=function(bust){_1a9d=bust;};this.getCacheBust=function(){return _1a9d;};this.flushLog=function(){var log=_1a9a;_1a9a={};return log;};this.connectionUp=function(){};this.connectionDown=function(_1ac1,error){};this.isConnectionUp=function(){return _1a9f;};this.onUnauthorized=function(code){};this.request=function(_1ac2){var _1ac3="",_1ac4=_1ac2.options;if(_1ac2.request&&_1ac2.request.action){_1ac3=_1ac2.request.action;}var _1ac5=_1ac6();var start=+new Date();var log=self.flushLog();var _1ac7=_1ac8();var _1ac9=_1aca(_1ac2.request.context);var _1acb=_1ac2.request;var _1acc;if(_1ac4.async){var _1acd=_1aa0();_1acb=lang.clone(_1acb);_1acb.params=_1acb.params||{};_1acb.params.asyncid=_1acd;_1acc=_1a95.hitch(this,_1aa1,{asyncid:_1acd,callback:_1ac4.callback,error:_1ac4.error,store:_1ac4.store});}else{_1acc=_1ac4.callback;}var data=JSON.stringify(Object.assign({},_1acb,_1ac7.length>0?{releaseids:_1ac7}:null,{context:_1ac9},Object.keys(log).length>0?{profiledata:log}:null));var hash=null;if(!_1ac4.unique){hash=data;}_1abc({options:{url:_1a92("ie")?window.mx.baseUrl:window.mx.baseUrl+"#"+_1ac3,headers:{"Content-Type":"application/json","X-Mx-ReqToken":_1ac5,"X-Csrf-Token":window.mx.session.getCSRFToken()},handleAs:"json",sync:_1ac4.sync,failOk:_1ac4.failOk},data:data,store:_1ac4.store,retryOnDisconnect:!!_1a92("trident"),onValidation:_1ac4.onValidation,callback:function(_1ace,_1acf){_1a9a[_1ac5]=+new Date()-start;if(_1acc){_1acc("load",_1ace,_1acf);}},error:function(e){_1a9a[_1ac5]=+new Date()-start;_1aa8(_1ac4.error,e,_1ac4.failOk||e instanceof _1a8d);}},hash);function _1ac8(){var _1ad0=Object.keys(_1a9c);if(_1ad0.length>0){_1a9c={};}return _1ad0;};function _1aca(_1ad1){if(_1ad1){if(_1ad1 instanceof _1a8f){return _1ad1.getGuidS();}else{if(!isNaN(parseFloat(_1ad1))){return [parseFloat(_1ad1)];}}}else{return [];}};};function _1ac6(){return Number((+new Date())+""+~~(Math.random()*100000)).toString(16);};this.release=function(guid){_1a9c[guid]=true;};this.xhr=function(_1ad2,args,_1ad3){var url=_1a91.getAbsoluteUrl(args.url),_1ad4=args.failOk,_1ad5=args.handleAs,load=args.load,error=args.error;dojo.xhr(_1ad2,_1a95.mixin(args,{url:url,failOk:true,timeout:_1a9e,headers:{"X-Csrf-Token":window.mx.session.getCSRFToken()},error:function(e){var _1ad6;if(e.status===0){_1ad6=new _1a8c(name+".xhr: "+"connection error",e);}else{_1ad6=new _1a8b(name+".xhr: "+e.message,e);}_1aa8(error,_1ad6,_1ad4);},load:function(_1ad7,_1ad8){if(_1ad5=="xml"&&_1ad7==null){var text=_1ad8.xhr.responseText;if(_1a92("dom-parser")){var _1ad9=new DOMParser();_1ad7=_1ad9.parseFromString(text,"text/xml");if(!_1ad7.documentElement||_1ad7.querySelector("parsererror")){_1aa8(error,new _1a8b(name+".xhr: invalid XML received"));return;}}else{_1ad7=_1ab1();_1ad7.async=false;if(!_1ad7.loadXML(text)){_1aa8(error,new _1a8b(name+".xhr: invalid XML received"));return;}}}load&&load(_1ad7);}}),_1ad3);};this.get=function(args){args.url+="?"+_1a9d;this.xhr("GET",args);};this.post=function(args){this.xhr("POST",args,true);};this.upload=function(_1ada){var _1adb=_1ada.options,_1adc=_1ada.request;var _1add=_1ac6();var start=+new Date();var log=self.flushLog();_1abc({options:{url:_1ade(),headers:{"Accept":"application/json","X-Mx-ReqToken":_1add,"X-Csrf-Token":window.mx.session.getCSRFToken()},handleAs:"json"},data:_1adf(),retryOnDisconnect:!!_1a92("trident"),callback:function(_1ae0,_1ae1){_1a9a[_1add]=+new Date()-start;if(_1adb.callback){_1adb.callback("load",_1ae0,_1ae1);}},error:function(e){_1a9a[_1add]=+new Date()-start;_1aa8(_1adb.error,e,e instanceof _1a8d);}});function _1ade(){var _1ae2=_1a95.mixin({},_1adc.params.params,{guid:_1adc.params.guid});return window.mx.remoteUrl+"file?"+Object.keys(_1ae2).map(function(name){return name+"="+_1ae2[name];}).join("&");};function _1adf(){var _1ae3=new FormData();_1ae3.append("changes",_1a94.toJson(_1adc.changes));if(_1adc.params.name!=null){_1ae3.append("mxdocument",_1adc.params.mxdocument,_1adc.params.name);}else{_1ae3.append("mxdocument",_1adc.params.mxdocument);}return _1ae3;};};};return _1a96;});},"mendix/sys/Session":function(){define(["mendix/lang","mendix/logger","dojo/_base/array","dojo/_base/json","dojo/_base/lang","dojo/_base/window","dojo/io-query","dojo/_base/config","dojo"],function(lang,_1ae4,_1ae5,_1ae6,_1ae7,_1ae8,_1ae9,_1aea,dojo){function _1aeb(_1aec){_1aec=_1ae7.mixin({tokenStore:{get:function(_1aed){if(_1aed){_1aed();}},set:function(token,_1aee){if(_1aee){_1aee();}},remove:function(_1aef){if(_1aef){_1aef();}}}},_1aec);var self=this,name="mendix.sys.Session",_1af0=null,_1af1=[],_1af2=null,_1af3=0,_1af4=false,_1af5={},_1af6=null;var _1af7=function(){window.mx.server.request({request:{action:"keepalive",params:{preventCache:+new Date()}},options:{failOk:true}});};var _1af8=function(){_1af2=window.mx.data.jsonToMxObject(_1af0.user);_1af1=_1ae5.map(_1af0.roles,function(role){return window.mx.data.jsonToMxObject(role);});};this.toString=function(){return name;};this.startup=function(){if(_1af3){setInterval(_1af7,_1af3);}_1af8();};this.getConfig=function(path){if(!path){return _1af0;}else{return _1ae7.getObject(path,false,_1af0);}};this.inDevMode=function(){return _1af4;};this.toggleDevMode=function(){_1af4=!_1af4;};this.isGuest=function(){if(!_1af2||!_1af2.has("IsAnonymous")){return true;}else{return _1af2.get2("IsAnonymous");}};this.getUserId=function(){return _1af2&&_1af2.getGuid();};this.getUserClass=function(){return _1af2&&_1af2.getEntity();};this.getUserName=function(){return _1af2&&_1af2.get2("Name");};this.getUserAttribute=function(attr){if(_1af2&&_1af2.has(attr)){return _1af2.get2(attr);}return null;};this.getUserRoles=function(attr){if(attr==null){return _1af1;}else{return lang.map(_1af1,function(o){return o.get2(attr);});}};this.getCSRFToken=function(){return this.getConfig("csrftoken");};this.getLicenseInfo=function(){return _1af5;};this.login=function(args){dojo.xhrPost({url:window.mx.baseUrl,handleAs:"json",contentType:"application/json",postData:_1ae6.toJson({action:"login",params:{username:args.username,password:args.password}}),load:function(data){if(data.authtoken){_1aec.tokenStore.set(data.authtoken,args.success);}else{args.success();}},error:function(e){args.error(e.response.status);}});};this.destroySession=function(_1af9){window.mx.server.request({request:{action:"logout",params:{log:window.mx.server.flushLog()}},options:{sync:true,callback:_1af9}});};this.logout=function(_1afa){this.destroySession(function(){_1aec.tokenStore.remove(_1afa);});};this.authorized=function(_1afb){var _1afc=_1ae8.doc.location.search,query=_1ae9.queryToObject(_1afc.substr((_1afc[0]==="?"?1:0)));var _1afd={profile:query.profile||"",timezoneoffset:new Date().getTimezoneOffset()};if(typeof navigator!=="undefined"&&navigator.standalone){_1afd.longLiveTheCookie=true;}_1aec.tokenStore.get(function(token){if(token){_1afd.authtoken=token;}dojo.xhrPost({url:window.mx.baseUrl,handleAs:"json",contentType:"application/json",postData:_1ae6.toJson({action:"get_session_data",params:_1ae7.mixin({},_1afd,_1afb&&_1afb.params)}),load:_1afe(true),timeout:_1aea.timeout||0,error:function(e,_1aff){if(_1aff.xhr.status==401){_1af0=_1ae6.fromJson(_1aff.xhr.responseText);_1aec.tokenStore.remove(_1b00);}else{if(window.localStorage.session){var _1b01=_1afe(false);_1b01(JSON.parse(window.localStorage.session));}else{_1b00();}}function _1b00(){if(_1afb.no){_1afb.no({http_code:_1aff.xhr.status});}};}});});function _1afe(_1b02){return function onLoad(data){_1af0=data;if(_1b02){window.localStorage.session=JSON.stringify(_1af0);}var _1b03=self.getConfig("uiconfig.direction")=="rtl"?_1aea.rtlRedirect:_1aea.ltrRedirect;if(_1b03){window.mx.redirect(_1b03);return;}if(_1af6&&_1af6!=_1af0.cachebust){window.mx.reload();return;}window.mx.server.setCacheBust(_1af0.cachebust);_1af6=_1af0.cachebust;_1af3=_1af0.keepalive;if(_1afb.yes){try{_1afb.yes(_1b02);}catch(e){throw e;}}};};};this.hasSomeRole=function(roles){if(roles===null){return true;}else{if(!roles){return false;}else{if(!(roles instanceof Array)){roles=roles.split(",");}}}var _1b04=this.getUserRoles("Name");for(var i=0;i<roles.length;i++){var role=roles[i];for(var j=0;j<_1b04.length;j++){var _1b05=_1b04[j];if(role==_1b05){return true;}}}return false;};};return _1aeb;});},"webcore/sql/Store":function(){define(["bluebird/bluebird","big/big","./transaction-creators","./runners","../Store","../TaskReader","../task-helpers"],function(_1b06,Big,_1b07,_1b08,Store,_1b09,_1b0a){function _1b0b(){return window.openDatabase("MendixDatabase","1","Mendix Database",10*1024*1024);};function _1b0c(_1b0d,_1b0e){Store.call(this);_1b0e=_1b0e||_1b0b;this._tableNames=_1b0d;this._db=_1b0e();this._initialize()(this._db);};_1b0c.prototype=Object.create(Store.prototype);_1b0c.prototype._getDatabase=function(){return this._databasePromise;};_1b0c.prototype._initialize=function(){return function(db){var _1b0f=_1b07.createCreateTransaction(this._tableNames);this._databasePromise=_1b0a.promiseFromTask(_1b08.runWriteTransaction(db,_1b0f)).then(function(){return db;});return this._databasePromise;}.bind(this);};_1b0c.prototype._resetDatabase=function(){return function(db){var _1b10=_1b07.createResetTransaction(this._tableNames);this._databasePromise=_1b0a.promiseFromTask(_1b08.runWriteTransaction(db,_1b10)).then(function(){return db;});return this._databasePromise;}.bind(this);};_1b0c.prototype._fetch=function(guid){return function(db){var _1b11=_1b07.createFetchByGuidTransaction(guid);return _1b0a.promiseFromTask(_1b08.runReadTransaction(db,_1b11));};};_1b0c.prototype._fetchSlice=function(_1b12,_1b13,_1b14){return function(db){var _1b15=_1b07.createFetchSliceTransaction(_1b12,_1b13,_1b14.offset,_1b14.limit,_1b14.sort);return _1b0a.promiseFromTask(_1b08.runReadTransaction(db,_1b15));};};_1b0c.prototype._rebuildDb=function(_1b16){return _1b09.ask().chain(function(db){var _1b17=_1b07.createRebuildTransaction(this._tableNames,_1b16);return new _1b09(function(_1b18){return _1b08.runWriteTransaction(db,_1b17);});}.bind(this));};_1b0c.prototype._insertOrReplace=function(_1b19,_1b1a){return function(db){var _1b1b=_1b07.createInsertOrReplaceTransaction(_1b19,_1b1a);return _1b0a.promiseFromTask(_1b08.runWriteTransaction(db,_1b1b));};};_1b0c.prototype._fetchDirty=function(){return _1b09.ask().chain(function(db){var _1b1c=_1b07.createFetchDirtyObjectsTransaction();return new _1b09(function(_1b1d){return _1b08.runWriteTransaction(db,_1b1c);});});};_1b0c.prototype._upload=function(){return _1b09.ask().chain(function(db){var _1b1e=_1b07.createUploadTransaction();return new _1b09(function(_1b1f){return _1b08.runWriteTransaction(db,_1b1e);});});};_1b0c.prototype._cleanupDirtyObjects=function(){return function(db){var _1b20=_1b07.createDirtyCleanupTransaction();return _1b08.runWriteTransaction(db,_1b20);};};_1b0c.prototype._updateObject=function(_1b21,obj){return _1b09.ask().chain(function(db){var _1b22=_1b07.createUpdateTransaction(_1b21,obj);return new _1b09(function(_1b23){return _1b08.runWriteTransaction(db,_1b22);});});};_1b0c.prototype._deleteObject=function(_1b24,guid){return _1b09.ask().chain(function(db){var _1b25=_1b07.createDeleteTransaction(_1b24,guid);return new _1b09(function(_1b26){return _1b08.runWriteTransaction(db,_1b25);});});};return _1b0c;});},"webcore/sql/transaction-creators":function(){define(["./constants","./SelectBuilder","./CreateBuilder","./Column","./InsertBuilder","../applicative","../DanglingError","../monad","../TaskReader","../Task","big/big"],function(_1b27,_1b28,_1b29,_1b2a,_1b2b,_1b2c,_1b2d,monad,_1b2e,Task,Big){var _1b2f=_1b2e;var _1b30={"String":"text","Integer":"text","Long":"text","Decimal":"text","Float":"text","Currency":"text","Enum":"text","HashString":"text","ObjectReference":"text","DateTime":"integer","Boolean":"integer","AutoNumber":"integer","Binary":"blob"};var _1b31={"String":false,"Integer":false,"Long":false,"Decimal":false,"Float":false,"Currency":false,"Enum":false,"HashString":false,"ObjectReference":false,"DateTime":true,"Boolean":true,"AutoNumber":true,"Binary":false};var _1b32={"String":String,"Integer":_1b33,"Long":_1b33,"Decimal":_1b33,"Float":_1b33,"Currency":_1b33,"Enum":String,"HashString":String,"ObjectReference":String,"DateTime":_1b34,"Boolean":Number,"AutoNumber":String,"Binary":String};var _1b35={"String":String,"Integer":String,"Long":String,"Decimal":String,"Float":String,"Currency":String,"Enum":String,"HashString":String,"ObjectReference":String,"DateTime":_1b36,"Boolean":Boolean,"AutoNumber":String,"Binary":String};var _1b37={"String":_1b36,"Integer":_1b36,"Long":_1b36,"Decimal":_1b36,"Float":_1b36,"Currency":_1b36,"Enum":_1b36,"HashString":_1b36,"ObjectReference":_1b36,"DateTime":Number,"Boolean":_1b38,"AutoNumber":_1b36,"Binary":_1b36};var _1b39={"String":"UPPER","Enum":"UPPER"};var _1b3a={createCreateTransaction:_1b3b,createResetTransaction:_1b3c,createFetchByGuidTransaction:function(guid){var _1b3d=_1b28().from("_guidToTable").where("guid","equals").select("*");return _1b3e(_1b3d,[guid]).chain(function(res){if(res.rows.length===0){return _1b2f.rejected(new Error("guid not found"));}if(res.rows.length!==1){return _1b2f.rejected(new Error("db consistency error"));}return _1b2f.of(res.rows.item(0));}).chain(function(row){var _1b3f=row.tableName;var _1b40=!row.dirty;var _1b41=row.autocommitted;var _1b42=_1b28().from(_1b4a(_1b3f)).where("guid","equals").select("*");return _1b3e(_1b42,[guid]).map(function(res){if(res.rows.length===0){return Task.rejected(new Error("entity not found"));}if(res.rows.length!==1){return Task.rejected(new Error("db consistency error"));}return _1b43(window.mx.meta.getEntity(_1b3f),_1b41,_1b40,res.rows.item(0));});});},createFetchSliceTransaction:function(_1b44,_1b45,_1b46,limit,sort){_1b45=_1b45||[];sort=sort||[];var meta=mx.meta.getEntity(_1b44);var _1b47=_1b48(meta,_1b45);var _1b49=_1b47.builder.from(_1b4a(_1b44));var _1b4b=_1b47.args;var _1b4c=sort.reduce(function(acc,_1b4d){var _1b4e=meta.getAttributeType(_1b4d[0]);var _1b4f=_1b2a(_1b4d[0]);var _1b50=_1b39[_1b4e];if(_1b50){_1b4f=_1b4f.apply1(_1b50);}return acc.order(_1b4f,_1b4d[1]);},_1b49.offset(_1b46).limit(limit));var _1b51=_1b3e(_1b4c.select("*"),_1b4b).map(function(res){var objs=[];for(var i=0;i<res.rows.length;++i){var _1b52=!/^GUID:/.test(res.rows.item(i).guid);var _1b53=0;objs.push(_1b43(meta,_1b53,_1b52,res.rows.item(i)));}return objs;});var _1b54=_1b3e(_1b49.select("COUNT(*)","cnt"),_1b4b).map(function(res){return res.rows.item(0).cnt;});return _1b2c.lift2(function(x,y){return [x,y];},_1b51,_1b54);},createInsertOrReplaceTransaction:function(_1b55,_1b56){var _1b57=_1b55.map(function(_1b58){return _1b5b(_1b58,false);});var _1b59=_1b56.map(function(obj){return _1b83(obj.guid).map(function(res){return res.rows.length>0;}).chain(function(_1b5a){if(!_1b5a){return _1b5b(obj,true);}else{return _1b2f.of();}});});return _1b2c.sequence_(_1b57.concat(_1b59),_1b2f);},createFillBulkTransaction:_1b5c,createUpdateTransaction:function(_1b5d,obj){var _1b5e=_1b5f(_1b5d,obj);return _1b3e(_1b5e.builder.insertOrReplace(),_1b5e.values);},createFetchDirtyObjectsTransaction:function(){return _1b60().chain(function(res){var _1b61=_1b9e(res.rows).map(function(row){return _1b3a.createFetchByGuidTransaction(row.guid);});return _1b2c.sequence(_1b61,_1b2f);});},createUploadTransaction:function(){var self=this;return _1b62().chain(function(res){if(res.rows.length>0){var msg="There are autocommitted objects remaining. Sync has failed.";return _1b2f.rejected(new _1b2d(msg));}return self.createFetchDirtyObjectsTransaction();});},createDeleteTransaction:function(_1b63,guid){return _1b2c.sequence([_1b3e("DELETE FROM "+_1b4a(_1b63)+" WHERE guid = ?",[guid]),_1b3e("DELETE FROM _guidToTable WHERE guid = ?",[guid])],_1b2f);},createDirtyCleanupTransaction:function(){return _1b3e("SELECT DISTINCT tableName FROM _guidToTable WHERE dirty = 1").chain(function(res){var _1b64=_1b9e(res.rows).map(function(row){var _1b65=row.tableName;return _1b3e("DELETE FROM "+_1b4a(_1b65)+" WHERE guid IN ("+"SELECT guid FROM _guidToTable WHERE tableName = ? AND dirty = 1)",[_1b65]);});return monad.sequence_([_1b2c.sequence(_1b64,_1b2f),_1b3e("DELETE FROM _guidToTable WHERE dirty = 1")],_1b2f);});},createRebuildTransaction:function(_1b66,_1b67){var _1b68=_1b3c(_1b66);var _1b69=_1b67.map(function(_1b6a){return _1b5c(_1b6a[0],_1b6a[1]);});return monad.sequence([_1b68,_1b2c.sequence(_1b69,_1b2f)],_1b2f);}};return _1b3a;function _1b3c(_1b6b){var _1b6c=["_guidToTable"].concat(_1b6b).map(_1b4a).map(function(_1b6d){return "DROP TABLE IF EXISTS '"+_1b6d+"'";}).map(function(_1b6e){return _1b3e(_1b6e,[]);});return monad.sequence([_1b2c.sequence(_1b6c,_1b2f),_1b3b(_1b6b)],_1b2f);};function _1b3b(_1b6f){var _1b70=[_1b71()].concat(_1b6f.map(_1b72));return _1b2c.sequence(_1b70,_1b2f);function _1b72(_1b73){var _1b74=_1b75(_1b73).reduce(function(_1b76,_1b77){return _1b76.column(_1b4a(_1b77.attr),_1b77.type);},_1b29().table(_1b4a(_1b73)).primaryKeyColumn("guid","text"));return _1b3e(_1b74.createIfNotExists(),[]);};function _1b75(_1b78){var meta=mx.meta.getEntity(_1b78);return meta.getAttributes().map(function(attr){var _1b79=meta.getAttributeType(attr);return {attr:attr,type:_1b30[_1b79]};});};};function _1b5c(_1b7a,objs){var _1b7b=objs.reduce(function(acc,obj){var _1b7c=_1b7d();var _1b7e=_1b5f(_1b7a,obj);return acc.concat([_1b3e(_1b7c.insert(),[obj.guid,_1b7a,0,0]),_1b3e(_1b7e.builder.insert(),_1b7e.values)]);},[]);return _1b2c.sequence(_1b7b,_1b2f);};function _1b5b(obj,_1b7f){_1b7f=_1b7f+0;var _1b80=obj.$objectType;var _1b81=_1b7d();var _1b82=_1b5f(_1b80,obj);return _1b2c.sequence_([_1b3e(_1b81.insertOrReplace(),[obj.guid,_1b80,1,_1b7f]),_1b3e(_1b82.builder.insertOrReplace(),_1b82.values)],_1b2f);};function _1b71(){var sql=_1b29().table("_guidToTable").primaryKeyColumn("guid","text").column("tableName","text").column("dirty","boolean").column("autocommitted","boolean").createIfNotExists();return _1b3e(sql,[]);};function _1b60(){var sql=_1b28().from("_guidToTable").where("dirty","equals").select("*");return _1b3e(sql,[1]);};function _1b62(){var sql=_1b28().from("_guidToTable").where("autocommitted","equals").select("guid");return _1b3e(sql,[1]);};function _1b83(guid){var sql=_1b28().from("_guidToTable").where("guid","equals").select("guid");return _1b3e(sql,[guid]);};function _1b84(meta,_1b85){if(_1b85==="guid"){return "String";}else{return meta.getAttributeType(_1b85);}};function _1b7d(){return _1b2b().into("_guidToTable").column("guid").column("tableName").column("dirty").column("autocommitted");};function _1b48(meta,_1b86){return _1b86.reduce(function(acc,_1b87){var _1b88=meta.getAttributeType(_1b87.attribute);var _1b89=_1b31[_1b88];var empty=_1b87.value===""||_1b87.value==null;var _1b8a=_1b37[_1b88];var _1b8b=_1b32[_1b88];if(_1b89==null||!_1b8b){return acc;}var _1b8c=_1b8b(_1b8a(_1b87.value));if(empty&&_1b89&&_1b87.operator==="equals"){var _1b8d=_1b87.negate?acc.builder.whereNotNull:acc.builder.whereNull;return {constraintString:_1b8d.call(acc.builder,_1b4a(_1b87.attribute)),args:acc.args};}else{if(empty&&_1b89&&_1b87.operator==="contains"){return acc;}else{var _1b8e=_1b87.negate?acc.builder.whereNot:acc.builder.where;var _1b8f=_1b87.operator==="contains"?_1b90(_1b8c):_1b8c;return {builder:_1b8e.call(acc.builder,_1b4a(_1b87.attribute),_1b87.operator),args:acc.args.concat([_1b8f])};}}},{builder:_1b28(),args:[]});};function _1b5f(_1b91,obj){var meta=mx.meta.getEntity(_1b91);var _1b92=meta.getAttributes();var _1b93=_1b92.reduce(function(acc,_1b94){var _1b95=meta.getAttributeType(_1b94);var _1b96=_1b32[_1b95];if(!_1b96){return acc;}var value=_1b96(obj[_1b94]);return {attrs:acc.attrs.concat([_1b94]),values:acc.values.concat([value])};},{attrs:["guid"],values:[obj.guid]});var _1b97=_1b93.attrs.reduce(function(_1b98,attr){return _1b98.column(_1b4a(attr));},_1b2b().into(_1b4a(_1b91)));return {builder:_1b97,values:_1b93.values};};function _1b33(x){if(x===""){return "";}var _1b99=20;var _1b9a=new Big(x);var _1b9b=_1b99-Math.max(0,_1b9a.e)-1;var sign=_1b9a.s<0?"-":"";var _1b9c=new Array(_1b9b+1).join("0");var _1b9d=_1b9a.abs().toFixed();return sign+_1b9c+_1b9d;};function _1b34(x){if(x==null){return null;}else{return Number(x);}};function _1b38(s){return s!=="false";};function _1b36(x){return x;};function _1b9e(rows){var arr=[];for(var i=0;i<rows.length;++i){arr.push(rows.item(i));}return arr;};function _1b90(s){var _1b9f=_1b27.LIKE_ESCAPE_CHAR;return s.replace(new RegExp(_1b9f,"g"),_1b9f+_1b9f).replace(/%/g,_1b9f+"%").replace(/_/g,_1b9f+"_");};function _1b4a(key){return key.replace(".","$");};function _1ba0(_1ba1){return _1ba1.replace("$",".");};function _1b43(meta,_1ba2,_1ba3,row){var _1ba4={guid:row.guid,$objectType:meta.getEntity(),$autocommitted:_1ba2,$readonlyAttrs:[]};for(var _1ba5 in row){var attr=_1ba0(_1ba5);if(attr==="guid"){continue;}var _1ba6=meta.getAttributeType(attr);var _1ba7=_1b35[_1ba6];if(!_1ba7){continue;}_1ba4[attr]=_1ba7(row[_1ba5]);if(_1ba3){_1ba4.$readonlyAttrs.push(attr);}}return _1ba4;};function _1b3e(sql,args){args=args||[];return new _1b2f(function(tx){return new Task(function(_1ba8,_1ba9){tx.executeSql(sql,args,function(tx,res){_1ba9(res);},function(tx,e){_1ba8(e);});});});};});},"webcore/sql/constants":function(){define([],{LIKE_ESCAPE_CHAR:"~",QUOTE_CHAR:"\""});},"webcore/sql/SelectBuilder":function(){define(["./constants"],function(_1baa){var _1bab={"equals":_1bac("="),"lessThan":_1bac("<"),"lessThanOrEquals":_1bac("<="),"greaterThan":_1bac(">"),"greaterThanOrEquals":_1bac(">="),"contains":_1bad};function _1bae(other,_1baf){if(!(this instanceof _1bae)){return new _1bae();}this._select=_1baf&&_1baf.select||other&&other._select||null;this._from=_1baf&&_1baf.from||other&&other._from||{};this._constraints=_1baf&&_1baf.constraints||other&&other._constraints||[];this._orderBy=_1baf&&_1baf.orderBy||other&&other._orderBy||[];this._limit=_1baf&&_1baf.limit||other&&other._limit||null;this._offset=_1baf&&_1baf.offset||other&&other._offset||null;};_1bae.prototype.from=function(_1bb0,alias){return new _1bae(this,{from:{name:_1bb0,alias:alias}});};_1bae.prototype.where=function(_1bb1,_1bb2){return this._where(_1bb1,false,_1bb2);};_1bae.prototype.whereNot=function(_1bb3,_1bb4){return this._where(_1bb3,true,_1bb4);};_1bae.prototype.whereNull=function(_1bb5,_1bb6){return this._whereNull(_1bb5,false,_1bb6);};_1bae.prototype.whereNotNull=function(_1bb7,_1bb8){return this._whereNull(_1bb7,true,_1bb8);};_1bae.prototype.order=function(_1bb9,_1bba){return new _1bae(this,{orderBy:this._orderBy.concat([[_1bb9,_1bba]])});};_1bae.prototype.limit=function(n){return new _1bae(this,{limit:n});};_1bae.prototype.offset=function(n){return new _1bae(this,{offset:n});};_1bae.prototype.select=function(what,alias){if(Array.isArray(what)){what=what.join(", ");}var sql="SELECT "+what;if(alias){sql+=" AS "+alias;}sql+=this._buildSql();return sql;};_1bae.prototype._where=function(_1bbb,_1bbc,_1bbd){return new _1bae(this,{constraints:this._constraints.concat([new _1bbe(_1bbb,_1bbd,_1bbc)])});};_1bae.prototype._whereNull=function(_1bbf,_1bc0){return new _1bae(this,{constraints:this._constraints.concat([new _1bc1(_1bbf,_1bc0)])});};_1bae.prototype._buildSql=function(){var sql="";sql+=" FROM "+this._from.name;if(this._from.alias){sql+=" AS "+this._from.alias;}if(this._constraints.length>0){sql+=" WHERE "+this._constraints.map(function(_1bc2){return _1bc2.toString();}).join(" AND ");}if(this._orderBy.length>0){sql+=" ORDER BY "+this._orderBy.map(function(_1bc3){return _1bc3[0]+" "+_1bc3[1];}).join(", ");}if(this._limit){sql+=" LIMIT "+this._limit;}if(this._offset){sql+=" OFFSET "+this._offset;}return sql;};function _1bc1(_1bc4,_1bc5){this._column=_1bc4;this._negate=!!_1bc5;};_1bc1.prototype.toString=function(){return this._column+" IS "+(this._negate?"NOT ":"")+"NULL";};function _1bbe(_1bc6,_1bc7,_1bc8){this._column=_1bc6;this._operator=_1bc7;this._negate=!!_1bc8;};_1bbe.prototype.toString=function(){var _1bc9=_1bab[this._operator];return (this._negate?"NOT ":"")+_1bc9(this._column);};return _1bae;function _1bac(_1bca){return function(_1bcb){return _1bcb+" "+_1bca+" ?";};};function _1bad(_1bcc){var _1bcd="";_1bcd+=_1bcc;_1bcd+=" LIKE '%' || ? || '%'";_1bcd+=" ESCAPE '"+_1baa.LIKE_ESCAPE_CHAR+"'";return _1bcd;};});},"webcore/sql/CreateBuilder":function(){define(["./constants"],function(_1bce){function _1bcf(other,_1bd0){if(!(this instanceof _1bcf)){return new _1bcf();}this._tableName=_1bd0&&_1bd0.tableName||other&&other._tableName||null;this._columns=_1bd0&&_1bd0.columns||other&&other._columns||[];};_1bcf.prototype.table=function(_1bd1){return new _1bcf(this,{tableName:_1bd1});};_1bcf.prototype.column=function(_1bd2,_1bd3){return new _1bcf(this,{columns:this._columns.concat({columnName:_1bd2,columnType:_1bd3,isPrimary:false})});};_1bcf.prototype.primaryKeyColumn=function(_1bd4,_1bd5){return new _1bcf(this,{columns:this._columns.concat({columnName:_1bd4,columnType:_1bd5,isPrimary:true})});};_1bcf.prototype.createIfNotExists=function(){var _1bd6="";_1bd6+="CREATE TABLE IF NOT EXISTS "+_1bd7(this._tableName);_1bd6+=this._buildSql();return _1bd6;};_1bcf.prototype._buildSql=function(){var _1bd8="";if(this._columns.length>0){_1bd8+=" (";_1bd8+=this._columns.map(function(_1bd9){var _1bda=_1bd7(_1bd9.columnName);return [_1bda,_1bd9.columnType,_1bd9.isPrimary?"PRIMARY KEY ":""].join(" ").slice(0,-1);},this).join(", ");_1bd8+=")";}return _1bd8;};return _1bcf;function _1bd7(_1bdb){var _1bdc=_1bce.QUOTE_CHAR;return _1bdc+_1bdb+_1bdc;};});},"webcore/sql/Column":function(){define([],function(){function _1bdd(_1bde){if(!(this instanceof _1bdd)){return new _1bdd(_1bde);}if(_1bde instanceof _1bdd){this._column=_1bde._column;}else{this._column=_1bde;}};_1bdd.prototype.apply1=function(_1bdf){return new _1bdd(_1bdf+"("+this._column+")");};_1bdd.prototype.toString=function(){return this._column;};return _1bdd;});},"webcore/sql/InsertBuilder":function(){define(["./constants"],function(_1be0){function _1be1(other,_1be2){if(!(this instanceof _1be1)){return new _1be1();}this._tableName=_1be2&&_1be2.tableName||other&&other._tableName||null;this._columnNames=_1be2&&_1be2.columnNames||other&&other._columnNames||[];};_1be1.prototype.into=function(_1be3){return new _1be1(this,{tableName:_1be3});};_1be1.prototype.column=function(_1be4){return new _1be1(this,{columnNames:this._columnNames.concat(_1be4)});};_1be1.prototype.insert=function(){var _1be5="";_1be5+="INSERT INTO "+_1be6(this._tableName);_1be5+=this._buildSql();return _1be5;};_1be1.prototype.insertOrReplace=function(){var _1be7="";_1be7+="INSERT OR REPLACE INTO "+_1be6(this._tableName);_1be7+=this._buildSql();return _1be7;};_1be1.prototype._buildSql=function(){var _1be8="";if(this._columnNames.length>0){_1be8+=" (";_1be8+=this._columnNames.map(_1be6).join(", ");_1be8+=")";}_1be8+=" VALUES (";_1be8+="?"+new Array(this._columnNames.length).join(", ?");_1be8+=")";return _1be8;};return _1be1;function _1be6(_1be9){var _1bea=_1be0.QUOTE_CHAR;return _1bea+_1be9+_1bea;};});},"webcore/TaskReader":function(){define(["./ReaderT","./Task"],function(_1beb,Task){var _1bec=_1beb(Task);_1bec.rejected=function(e){return new _1bec(function(_1bed){return Task.rejected(e);});};return _1bec;});},"webcore/ReaderT":function(){define([],function(){function _1bee(M){function _1bef(f){this.run=f;};_1bef.prototype.chain=function(f){return new _1bef(function(r){return this.run(r).chain(function(a){return f(a).run(r);});}.bind(this));};_1bef.prototype.ap=function(ma){return new _1bef(function(r){return this.run(r).ap(ma.run(r));}.bind(this));};_1bef.prototype.map=function(f){return this.chain(function(x){return _1bef.of(f(x));});};_1bef.of=function(x){return new _1bef(function(_1bf0){return M.of(x);});};_1bef.ask=function(){return new _1bef(M.of);};return _1bef;};return _1bee;});},"webcore/sql/runners":function(){define(["../Task"],function(Task){return {runReadTransaction:_1bf1("readTransaction"),runWriteTransaction:_1bf1("transaction")};function _1bf1(name){return function(db,_1bf2){return new Task(function(_1bf3,_1bf4){var _1bf5=2;var _1bf6;db[name](function(tx){_1bf2.run(tx).fork(_1bf3,function(r){_1bf6=r;if(--_1bf5===0){_1bf4(_1bf6);}});},_1bf3,function(){if(--_1bf5===0){_1bf4(_1bf6);}});});};};});},"webcore/Store":function(){define(["mendix/lib/MxObject","bluebird/bluebird","./applicative","./file-transfer","./Task","./task-helpers","./TaskReader"],function(_1bf7,_1bf8,_1bf9,_1bfa,Task,_1bfb,_1bfc){function Store(){};Store.prototype.getSlice=function(_1bfd,_1bfe,_1bff){return _1c00(this._getDatabase().then(this._fetchSlice(_1bfd,_1bfe,_1bff)));};Store.prototype.getByGuid=function(guid){return _1c00(this._getDatabase().then(this._fetch(guid)));};Store.prototype.insertOrReplace=function(_1c01,_1c02){return _1c00(this._getDatabase().then(this._insertOrReplace(_1c01,_1c02)));};Store.prototype.resetDatabase=function(){return _1bfb.taskFromPromise(this._getDatabase().then(this._resetDatabase()));};Store.prototype.rebuildDatabase=function(_1c03){var self=this;return _1bfb.taskFromPromise(this._getDatabase().then(function(db){return _1bfb.promiseFromTask(self._rebuildDb(_1c03).run(db));}));};Store.prototype.fetchDirty=function(){var self=this;var p=this._getDatabase().then(function(db){var _1c04=self._fetchDirty().run(db);return _1bfb.promiseFromTask(_1c04);});return _1bfb.taskFromPromise(p);};Store.prototype.upload=function(){var self=this;var p=this._getDatabase().then(function(db){var _1c05=self._upload().run(db);return _1bfb.promiseFromTask(_1c05);});return _1bfb.taskFromPromise(p);};Store.prototype.updateObject=function(_1c06,obj){var self=this;return _1bfb.taskFromPromise(this._getDatabase().then(function(db){return _1bfb.promiseFromTask(self._updateObject(_1c06,obj).run(db));}));};Store.prototype.deleteObject=function(_1c07,guid){var self=this;return _1bfb.taskFromPromise(this._getDatabase().then(function(db){return _1bfb.promiseFromTask(self._deleteObject(_1c07,guid).run(db));}));};Store.prototype.cleanupDirtyObjects=function(){return _1bfb.taskFromPromise(this._getDatabase()).chain(this._cleanupDirtyObjects());};Store.prototype._getDatabase=function(){return _1bf8.reject(new Error("not implemented"));};Store.prototype._initialize=function(){return _1bf8.reject(new Error("not implemented"));};Store.prototype._fetch=function(guid){return function(db){return _1bf8.reject(new Error("not implemented"));};};Store.prototype._fetchSlice=function(_1c08,_1c09,_1c0a){return function(db){return _1bf8.reject(new Error("not implemented"));};};Store.prototype._insertOrReplace=function(_1c0b,obj){return function(db){return _1bf8.reject(new Error("not implemented"));};};Store.prototype._rebuildDb=function(_1c0c){return _1bfc.rejected(new Error("not implemented"));};Store.prototype._fetchDirty=function(){return _1bfc.rejected(new Error("not implemented"));};Store.prototype._cleanupDirtyObjects=function(){return _1bfc.rejected(new Error("not implemented"));};Store.prototype._upload=function(){return _1bfc.rejected(new Error("not implemented"));};return Store;function _1c00(_1c0d){return new _1bf8(function(_1c0e,_1c0f){return _1c0d.then(_1c0e,_1c0f);});};});},"mendix/compat-5":function(){define(["mendix/lib/MxMetaObject","mendix/lib/MxObject","mendix/exposed","mxui/startup"],function(_1c10,_1c11){var _1c12="7.0",_1c13=window.mx.login;window.mx.login=function(){if(arguments.length===0||(arguments.length===1&&typeof arguments[0]=="object")){_1c14("mx.login(args) is deprecated. Use mx.login(username, password, onLoginSucceed, onLoginFailure) instead");window.mx.reload();}else{_1c13.apply(window.mx,arguments);}};Object.assign(_1c10.prototype,{isNumber:function(attr){_1c14("MxMetaObject.isNumber Use MxMetaObject.isNumeric instead");if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isNumber : parameter attr is not of type String.");}return (/^(Integer|Decimal|Float|Long|AutoNumber)$/).test(this.getAttributeType(attr));}});Object.assign(_1c11.prototype,{get:function(attr){if(/^(Integer|Long|Float|Currency)$/.test(this.metaData.getAttributeType(attr))){return this.get2(attr).toString();}else{return this.get2(attr);}},isNumber:function(attr){_1c14("MxObject.isNumber Use MxObject.isNumeric instead");return this.metaData.isNumber(attr);}});function _1c14(_1c15){console.warn("DEPRECATED: "+_1c15+" -- will be removed in version: "+_1c12);};});},"mendix/compat-6":function(){define(["mxui/exposed","mxui/startup"],function(){var _1c16="8.0";mx.data.save=function(_1c17,_1c18){_1c19("The 'mx.data.save' function does not have any effect anymore. "+"MxObjects are now automatically saved as part of "+"'mx.data.commit', 'mx.data.rollback', 'mx.data.action' and 'mx.data.saveDocument'");if(typeof _1c17.callback!="function"){throw new Error(name+".save: callback is not a function");}else{if(_1c17.mxobj!=null&&!(_1c17.mxobj instanceof mendix.lib.MxObject)){throw new Error(name+".save: mxobj is not an MxObject");}}_1c17.callback.call(_1c18,null);};function _1c19(_1c1a){console.warn("DEPRECATED: "+_1c1a+" -- will be removed in version: "+_1c16);};});},"mxui/compat-5":function(){define(["mxui/widget/LoginDialog","mxui/widget/_WidgetBase","mxui/lib/form/_FormBase","mxui/sys/Parser","mxui/widget","mxui/dom","mendix/lang","dojo/aspect","dojo/_base/kernel","dojo/_base/array","dojo/_base/lang","dijit/_Templated","dijit/Calendar","mxui/exposed","mxui/startup","dijit/form/_FormValueWidget","dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"],function(_1c1b,_1c1c,_1c1d,_1c1e,_1c1f,_1c20,lang,_1c21,_1c22,_1c23,_1c24){var _1c25="7.0";dojo.require("dijit._Templated");dojo.require("dijit.Calendar");_1c24.mixin(_1c20,{copyChildren:function(src,_1c26){_1c22.deprecated("mxui.dom.copyChildren","Use dojo/_base/lang::clone instead",_1c25);var node=src.cloneNode(true);while(node.firstChild){_1c26.appendChild(node.removeChild(node.firstChild));}},insertBefore:function(src,_1c27){_1c22.deprecated("mxui.dom.insertBefore","Use dojo/dom-construct::place instead",_1c25);if(_1c27.parentNode){_1c27.parentNode.insertBefore(src,_1c27);}},insertAfter:function(src,_1c28){_1c22.deprecated("mxui.dom.insertAfter","Use dojo/dom-construct::place instead",_1c25);if(_1c28.parentNode){if(_1c28.nextSibling){_1c28.nextSibling.parentNode.insertBefore(src,_1c28.nextSibling);}else{_1c28.parentNode.appendChild(src);}}},getForm:function(path,args,scope){_1c22.deprecated("mx.ui.getForm() is deprecated, use openForm and pass domNode to open initialized form inline","",_1c25);var _1c29=_1c20.create("div",{"style":"height: 0; overflow: hidden;"});document.body.appendChild(_1c29);window.mx.router.openFormInNode(path,_1c29,null,args.params,function(form){_1c20.orphan(_1c29);args.callback&&args.callback.call(scope,form);},args.error);}});var _1c2a=window.mx.ui.showLogin;window.mx.ui.showLogin=function(args){if(args&&args.http_code!==undefined){_1c22.deprecated("Use mx.ui.showLogin(messageCode) instead of mx.ui.showLogin({ http_code: '..', no_alert: true/false })","",_1c25);var _1c2b=args.http_code;if(args.no_alert&&!lang.inArray(args.http_code,["402","404","500","503"])){_1c2b=undefined;}_1c2a.call(this,_1c2b);}else{_1c2a.apply(this,arguments);}};var _1c2c=null;_1c21.after(_1c1b.prototype,"show",function(){_1c2c=this;},true);window.mx.ui.hideLogin=function(){_1c22.deprecated("mx.ui.hideLogin is deprecated","",_1c25);_1c2c&&_1c2c.destroy();_1c2c=null;};_1c24.mixin(_1c1c.prototype,{resume:function(){_1c22.deprecated("mxui.widget._WidgetBase.resume","You can stop calling it",_1c25);},suspend:function(){_1c22.deprecated("mxui.widget._WidgetBase.resume","You can stop calling it",_1c25);}});_1c24.mixin(_1c1d.prototype,{startup:function(){_1c22.deprecated("mxui.lib._Form.startup","You can stop calling it",_1c25);},applyContext:function(_1c2d,_1c2e){_1c22.deprecated("mxui.lib._Form.applyContext","Use mx.ui.openForm instead",_1c25);this._context=_1c2d;_1c1f.applyContext(this.getChildren(),_1c2d,_1c2e);}});mxui.dom.builder={IE_TRANSLATIONS:{"class":"className","for":"htmlFor","type":"type","href":"href"},ieAttrSet:function(attrs,attr,el){_1c22.deprecated("mxui.dom.builder.ieAttrSet","",_1c25);var trans;if(trans=this.IE_TRANSLATIONS[attr]){el[trans]=attrs[attr];}else{if(attr=="style"){el.style.cssText=attrs[attr];}else{if(attr.match(/^on/)){el[attr]=new Function(attrs[attr]);}else{el.setAttribute(attr,attrs[attr]);}}}},tagFunc:function(tag){return function(){_1c22.deprecated("mxui.dom.{tagName}","Use mxui.dom.create API for creating elements",_1c25);var attrs,_1c2f;if(arguments.length>0){if(arguments[0].nodeName||typeof arguments[0]=="string"){_1c2f=arguments;}else{attrs=arguments[0];_1c2f=[].slice.call(arguments,1);}}return mxui.dom.builder.create(tag,attrs,_1c2f);};},create:function(tag,attrs,_1c30){_1c22.deprecated("mxui.dom.builder.create","Use mxui.dom.create instead",_1c25);attrs=attrs||{};_1c30=_1c30||[];var _1c31=dojo.isIE<9;var el=document.createElement((_1c31&&attrs.name)?"<"+tag+" name="+attrs.name+">":tag);for(var attr in attrs){if(typeof attrs[attr]!="function"){if(_1c31){this.ieAttrSet(attrs,attr,el);}else{el.setAttribute(attr,attrs[attr]);}}}for(var i=0;i<_1c30.length;i++){if(typeof _1c30[i]!="object"){_1c30[i]=document.createTextNode(_1c30[i]);}el.appendChild(_1c30[i]);}return el;}};_1c23.forEach(("p|div|span|strong|em|img|table|tr|td|th|thead|tbody|tfoot|pre|code|"+"h1|h2|h3|h4|h5|h6|ul|ol|li|form|input|textarea|legend|fieldset|"+"select|option|blockquote|cite|br|hr|dd|dl|dt|address|a|button|abbr|acronym|"+"script|link|style|bdo|ins|del|object|param|col|colgroup|optgroup|caption|"+"label|dfn|kbd|samp|var").split("|"),function(elem){mxui.dom[elem]=mxui.dom.builder.tagFunc(elem);});_1c1e.prototype.parseValue=function(value,type,props){var _1c32;switch(type.toLowerCase()){case "autonumber":_1c32=this.parseValue2(value,"integer",props);return _1c32!=null?Number(_1c32.valueOf()):NaN;case "float":case "currency":case "integer":case "long":_1c32=this.parseValue2(value,type,props);return _1c32!=null?Number(_1c32.valueOf()):NaN;default:_1c32=this.parseValue2(value,type,props);return _1c32;}};});},"dijit/_Templated":function(){define(["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(_1c33,_1c34,_1c35,array,_1c36,lang,_1c37){lang.extend(_1c33,{waiRole:"",waiState:""});return _1c36("dijit._Templated",[_1c34,_1c35],{widgetsInTemplate:false,constructor:function(){_1c37.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0");},_processNode:function(_1c38,_1c39){var ret=this.inherited(arguments);var role=_1c39(_1c38,"waiRole");if(role){_1c38.setAttribute("role",role);}var _1c3a=_1c39(_1c38,"waiState");if(_1c3a){array.forEach(_1c3a.split(/\s*,\s*/),function(_1c3b){if(_1c3b.indexOf("-")!=-1){var pair=_1c3b.split("-");_1c38.setAttribute("aria-"+pair[0],pair[1]);}});}return ret;}});});},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(array,_1c3c,_1c3d,lang,_1c3e){return _1c3d("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;if(this.containerNode&&!this.searchContainerNode){this.containerNode.stopParser=true;}_1c3e.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(lang.hitch(this,function(_1c3f){this._startupWidgets=_1c3f;for(var i=0;i<_1c3f.length;i++){this._processTemplateNode(_1c3f[i],function(n,p){return n[p];},function(_1c40,type,_1c41){if(type in _1c40){return _1c40.connect(_1c40,type,_1c41);}else{return _1c40.on(type,_1c41,true);}});}if(this.containerNode&&this.containerNode.stopParser){delete this.containerNode.stopParser;}}));if(!this._startupWidgets){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}}},_processTemplateNode:function(_1c42,_1c43,_1c44){if(_1c43(_1c42,"dojoType")||_1c43(_1c42,"data-dojo-type")){return true;}return this.inherited(arguments);},startup:function(){array.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this._startupWidgets=null;this.inherited(arguments);}});});},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_1c45,has,_1c46,_1c47){return _1c45("dijit.form._FormValueWidget",[_1c46,_1c47],{_layoutHackIE7:function(){if(has("ie")==7){var _1c48=this.domNode;var _1c49=_1c48.parentNode;var _1c4a=_1c48.firstChild||_1c48;var _1c4b=_1c4a.style.filter;var _1c4c=this;while(_1c49&&_1c49.clientHeight==0){(function ping(){var _1c4d=_1c4c.connect(_1c49,"onscroll",function(){_1c4c.disconnect(_1c4d);_1c4a.style.filter=(new Date()).getMilliseconds();_1c4c.defer(function(){_1c4a.style.filter=_1c4b;});});})();_1c49=_1c49.parentNode;}}}});});},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","./_FormWidgetMixin"],function(_1c4e,_1c4f,keys,lang,on,_1c50){return _1c4e("dijit.form._FormValueMixin",_1c50,{readOnly:false,_setReadOnlyAttr:function(value){_1c4f.set(this.focusNode,"readOnly",value);this._set("readOnly",value);},postCreate:function(){this.inherited(arguments);if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_1c51,_1c52){this._handleOnChange(_1c51,_1c52);},_handleOnChange:function(_1c53,_1c54){this._set("value",_1c53);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);}});});},"dijit/form/ComboButton":function(){define(["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html","../a11yclick"],function(_1c55,keys,focus,_1c56,_1c57){return _1c55("dijit.form.ComboButton",_1c56,{templateString:_1c57,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){focus.focus(this._popupStateNode);evt.stopPropagation();evt.preventDefault();}},_onArrowKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){focus.focus(this.titleNode);evt.stopPropagation();evt.preventDefault();}},focus:function(_1c58){if(!this.disabled){focus.focus(_1c58=="start"?this.titleNode:this._popupStateNode);}}});});},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_1c59,_1c5a,_1c5b,_1c5c){return _1c59("dijit.form.ToggleButton",[_1c5b,_1c5c],{baseClass:"dijitToggleButton",setChecked:function(_1c5d){_1c5a.deprecated("setChecked("+_1c5d+") is deprecated. Use set('checked',"+_1c5d+") instead.","","2.0");this.set("checked",_1c5d);}});});},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_1c5e,_1c5f){return _1c5e("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _1c60=this.checked;this._set("checked",!_1c60);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_1c60);return ret;},_setCheckedAttr:function(value,_1c61){this._set("checked",value);var node=this.focusNode||this.domNode;if(this._created){if(_1c5f.get(node,"checked")!=!!value){_1c5f.set(node,"checked",!!value);}}node.setAttribute(this._aria_attr,String(value));this._handleOnChange(value,_1c61);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.checked;}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"mxui/compat-6":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","mxui/lib/form/_FormBase","mxui/exposed","mxui/startup"],function(_1c62,_1c63,_1c64,_1c65){var _1c66="8.0";var _1c67=window.mx.ui.execute;window.mx.ui.execute=function(_1c68,args,scope){var _1c69=_1c63.mixin({},args);if(_1c69.store&&_1c69.store.caller){_1c62.deprecated("The originating page should be passed to mx.ui.execute as 'origin' instead of 'store.caller'","",_1c66);_1c69.origin=_1c69.store.caller;delete _1c69.store;}_1c67.call(window.mx.ui,_1c68,_1c69,scope);};var _1c6a=window.mx.ui.action;window.mx.ui.action=function(name,args,scope){var _1c6b=_1c63.mixin({},args);if(_1c6b.store&&_1c6b.store.caller){_1c62.deprecated("The originating page should be passed to mx.ui.action as 'origin' instead of 'store.caller'","",_1c66);_1c6b.origin=_1c6b.store.caller;delete _1c6b.store;}_1c6a.call(window.mx.ui,name,_1c6b,scope);};var _1c6c=function(){_1c62.deprecated("The _Scriptable mixin does not have any effect anymore. The only supported interface "+"was 'close' and to continue offering it now, widget should just implement a method 'close(callback)'.","",_1c66);};window.mxui.mixin._Scriptable=_1c64(null,{offeredInterfaces:null,offerInterface:_1c6c,offerInterfaces:_1c6c,deleteInterface:_1c6c,hasInterface:_1c6c,invokeCall:_1c6c});_1c65.prototype.save=function(_1c6d,error){_1c62.deprecated("The 'save' message for Forms does not have any effect anymore. "+"To intercept submitting a Form, you can listen to the 'commit' message instead.","",_1c66);if(_1c6d){_1c6d();}};var _1c6e=_1c65.prototype.publish;_1c65.prototype.publish=function(_1c6f,_1c70,error,data){if(_1c6f==="save"){_1c62.deprecated("The 'save' message for Forms does not have any effect anymore. "+"To trigger a Form submit, it's enough to only publish the 'commit' message instead.","",_1c66);if(_1c70){_1c70();}}else{return _1c6e.apply(this,arguments);}};_1c65.prototype.save=function(_1c71,error){_1c62.deprecated("The 'save' message for Forms does not have any effect anymore. "+"To trigger a Form submit, it's enough to only call the 'commit' method on a Form instead.","",_1c66);if(_1c71){_1c71();}};});},"url:mxui/widget/templates/MxInlineEditor.html":"<div class=\"MxInlineEditor\">\n    <form class=\"inlineEditBox\" style=\"display: none;\" dojoAttachPoint=\"form\" onsubmit=\"return false;\">\n        <input type=\"text\" dojoAttachPoint=\"readonly\" style=\"display: none;\" class=\"inlineEditBox_readOnly form-control\"/>\n        <input type=\"text\" dojoAttachPoint=\"enumtext\" style=\"display: none;\" class=\"inlineEditBox_focusEnum form-control\"/>\n        <input type=\"text\" dojoAttachPoint=\"text\" style=\"display: none;\" class=\"inlineEditBox_editable form-control\"/>\n        <select type=\"select\" dojoAttachPoint=\"select\" style=\"display: none;\" class=\"inlineEditBox_selectbox form-control\"></select>\n    </form>\n</div>\n","url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\" data-dojo-attach-event=\"mouseenter:onMouseEnter,mouseleave:onMouseLeave\"\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n></div>\n","url:mxui/widget/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=dojoTooltip>\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" style=\"display:none\" dojoAttachPoint=\"containerNode\" role='alert'></div>\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\">\n\t\t<div class=\"mx-tooltip-content\" dojoAttachPoint=\"contentNode\"></div>\n\t\t<div class=\"mx-tooltip-prepare\" dojoAttachPoint=\"prepareNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div>\n</div>\n","url:mxui/widget/templates/DataGrid.html":"<div class=\"${baseClass} mx-datagrid\">\n    <div class=\"${baseClass}-searchbar clearfix\" dojoAttachPoint=\"searchNode\" focusIndex=\"0\">\n        <div class=\"${baseClass}-search-controls\" focusIndex=\"1\" dojoAttachPoint=\"searchControlNode\"></div>\n        <div class=\"${baseClass}-search-inputs\" focusIndex=\"0\" dojoAttachPoint=\"searchArgumentNode\"></div>\n        <div class=\"${baseClass}-search-message\" dojoAttachPoint=\"messageNode\"></div>\n    </div>\n    \n    <div class=\"${baseClass}-controlbar clearfix\" dojoAttachPoint=\"controlNode\" focusIndex=\"1\">\n        <div class=\"${baseClass}-pagingbar\" dojoAttachPoint=\"pagingBarNode\"></div>\n        <div class=\"${baseClass}-toolbar\" dojoAttachPoint=\"toolBarNode\"></div>\n    </div>\n        \n    <div class=\"${baseClass}-content\" dojoAttachPoint=\"contentNode\" focusIndex=\"2\">\n        <div class=\"${subClass}-content-wrapper\" dojoAttachPoint=\"tableWrapper\">\n            <table class=\"table table-bordered ${subClass}-head-table\" dojoAttachPoint=\"headTable\">\n                <colgroup dojoAttachPoint=\"headTableGroupNode\"></colgroup>\n                <thead class=\"${subClass}-head\" dojoAttachPoint=\"gridHeadNode\"></thead>\n            </table>\n            <table class=\"table table-striped table-bordered ${subClass}-body-table\" dojoAttachPoint=\"gridTable\">\n                <colgroup dojoAttachPoint=\"bodyTableGroupNode\"></colgroup>\n                <tbody class=\"${subClass}-body\" dojoAttachPoint=\"gridBodyNode\"></tbody>\n                <tfoot class=\"${subClass}-foot\" dojoAttachPoint=\"gridFootNode\"></tfoot>\n            </table>\n        </div>\n    </div>\n</div>\n","url:mxui/widget/templates/TemplateGrid.html":"<div class=\"${baseClass} mx-templategrid\">\n    <div class=\"${baseClass}-searchbar clearfix\" dojoAttachPoint=\"searchNode\" focusIndex=\"0\">\n        <div class=\"${baseClass}-search-controls\" focusIndex=\"1\" dojoAttachPoint=\"searchControlNode\"></div>\n        <div class=\"${baseClass}-search-inputs\" focusIndex=\"0\" dojoAttachPoint=\"searchArgumentNode\"></div>\n        <div class=\"${baseClass}-search-message\" dojoAttachPoint=\"messageNode\"></div>\n    </div>\n    \n    <div class=\"${baseClass}-controlbar clearfix\" dojoAttachPoint=\"controlNode\" focusIndex=\"1\">\n        <div class=\"${baseClass}-pagingbar\" dojoAttachPoint=\"pagingBarNode\"></div>\n        <div class=\"${baseClass}-toolbar\" dojoAttachPoint=\"toolBarNode\"></div>\n    </div>\n\t\n    <div class=\"${baseClass}-content\" dojoAttachPoint=\"contentNode\" focusIndex=\"2\">\n        <div class=\"${subClass}-content-wrapper\" dojoAttachPoint=\"itemNode\"></div>\n    </div>\n</div>\n","url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"ondijitclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\ttabIndex=\"-1\" role=\"presentation\" aria-hidden=\"true\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\" aria-hidden=\"true\"\n/></span>\n","url:mxui/widget/templates/DemoUserSwitcher.html":"<div class=\"mx-demouserswitcher\">\n    <div class=\"mx-demouserswitcher-toggle\" data-dojo-attach-point=\"_toggleNode\"></div>\n    <div class=\"mx-demouserswitcher-content\">\n        <h2>Select user</h2>\n        <p>Select one of the demo users to view the application with the associated user roles.</p>\n        <ul data-dojo-attach-point=\"_listNode\"></ul>\n    </div>\n</div>\n","url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:__onClick,onkeydown:_onButtonKeyDown\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeydown:_onArrowKeyDown\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\"\n\t\t\t\tclass=\"dijitOffScreen\"\n\t\t\t\trole=\"presentation\" aria-hidden=\"true\"\n\t\t\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\t/></td></tr></tbody\n></table>\n","*now":function(r){r(["dojo/i18n!*preload*mxui/nls/mxui*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\"]"]);},"*noref":1}});require(["mxui/initialize"],function(){require(["webcore/assign","mendix/exposed","mxui/exposed"],function(){require(["mxui/widget/PrimitiveWidgetWrapper","dijit/layout/ContentPane"],function(){dojo.require("dijit.layout.ContentPane");require(["mxui/startup","mendix/compat-5","mendix/compat-6","mxui/compat-5","mxui/compat-6"]);});});});