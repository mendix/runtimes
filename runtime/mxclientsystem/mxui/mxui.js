if (typeof dojo === 'undefined') {
/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
(function(_1,_2){var _3=function(){},_4=function(it){for(var p in it){return 0;}return 1;},_5={}.toString,_6=function(it){return _5.call(it)=="[object Function]";},_7=function(it){return _5.call(it)=="[object String]";},_8=function(it){return _5.call(it)=="[object Array]";},_9=function(_a,_b){if(_a){for(var i=0;i<_a.length;){_b(_a[i++]);}}},_c=function(_d,_e){for(var p in _e){_d[p]=_e[p];}return _d;},_f=function(_10,_11){return _c(new Error(_10),{src:"dojoLoader",info:_11});},_12=1,uid=function(){return "_"+_12++;},req=function(_13,_14,_15){return _16(_13,_14,_15,0,req);},_17=this,doc=_17.document,_18=doc&&doc.createElement("DiV"),has=req.has=function(_19){return _6(_1a[_19])?(_1a[_19]=_1a[_19](_17,doc,_18)):_1a[_19];},_1a=has.cache=_2.hasCache;has.add=function(_1b,_1c,now,_1d){(_1a[_1b]===undefined||_1d)&&(_1a[_1b]=_1c);return now&&has(_1b);};0&&has.add("host-node",_1.has&&"host-node" in _1.has?_1.has["host-node"]:(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8));if(0){require("./_base/configNode.js").config(_2);_2.loaderPatch.nodeRequire=require;}0&&has.add("host-rhino",_1.has&&"host-rhino" in _1.has?_1.has["host-rhino"]:(typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")));if(0){for(var _1e=_1.baseUrl||".",arg,_1f=this.arguments,i=0;i<_1f.length;){arg=(_1f[i++]+"").split("=");if(arg[0]=="baseUrl"){_1e=arg[1];break;}}load(_1e+"/_base/configRhino.js");rhinoDojoConfig(_2,_1e,_1f);}for(var p in _1.has){has.add(p,_1.has[p],0,1);}var _20=1,_21=2,_22=3,_23=4,_24=5;if(0){_20="requested";_21="arrived";_22="not-a-module";_23="executing";_24="executed";}var _25=0,_26="sync",xd="xd",_27=[],_28=0,_29=_3,_2a=_3,_2b;if(1){req.isXdUrl=_3;req.initSyncLoader=function(_2c,_2d,_2e){if(!_28){_28=_2c;_29=_2d;_2a=_2e;}return {sync:_26,requested:_20,arrived:_21,nonmodule:_22,executing:_23,executed:_24,syncExecStack:_27,modules:_2f,execQ:_30,getModule:_31,injectModule:_32,setArrived:_33,signal:_34,finishExec:_35,execModule:_36,dojoRequirePlugin:_28,getLegacyMode:function(){return _25;},guardCheckComplete:_37};};if(1){var _38=location.protocol,_39=location.host;req.isXdUrl=function(url){if(/^\./.test(url)){return false;}if(/^\/\//.test(url)){return true;}var _3a=url.match(/^([^\/\:]+\:)\/+([^\/]+)/);return _3a&&(_3a[1]!=_38||(_39&&_3a[2]!=_39));};1||has.add("dojo-xhr-factory",1);has.add("dojo-force-activex-xhr",1&&!doc.addEventListener&&window.location.protocol=="file:");has.add("native-xhr",typeof XMLHttpRequest!="undefined");if(has("native-xhr")&&!has("dojo-force-activex-xhr")){_2b=function(){return new XMLHttpRequest();};}else{for(var _3b=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],_3c,i=0;i<3;){try{_3c=_3b[i++];if(new ActiveXObject(_3c)){break;}}catch(e){}}_2b=function(){return new ActiveXObject(_3c);};}req.getXhr=_2b;has.add("dojo-gettext-api",1);req.getText=function(url,_3d,_3e){var xhr=_2b();xhr.open("GET",_3f(url),false);xhr.send(null);if(xhr.status==200||(!location.host&&!xhr.status)){if(_3e){_3e(xhr.responseText,_3d);}}else{throw _f("xhrFailed",xhr.status);}return xhr.responseText;};}}else{req.async=1;}var _40=new Function("return eval(arguments[0]);");req.eval=function(_41,_42){return _40(_41+"\r\n////@ sourceURL="+_42);};var _43={},_44="error",_34=req.signal=function(_45,_46){var _47=_43[_45];_9(_47&&_47.slice(0),function(_48){_48.apply(null,_8(_46)?_46:[_46]);});},on=req.on=function(_49,_4a){var _4b=_43[_49]||(_43[_49]=[]);_4b.push(_4a);return {remove:function(){for(var i=0;i<_4b.length;i++){if(_4b[i]===_4a){_4b.splice(i,1);return;}}}};};var _4c=[],_4d={},_4e=[],_4f={},map=req.map={},_50=[],_2f={},_51="",_52={},_53="url:",_54={},_55={},_56=0;if(1){var _57=function(_58){var p,_59,_5a,now,m;for(p in _54){_59=_54[p];_5a=p.match(/^url\:(.+)/);if(_5a){_52[_53+_5b(_5a[1],_58)]=_59;}else{if(p=="*now"){now=_59;}else{if(p!="*noref"){m=_5c(p,_58,true);_52[m.mid]=_52[_53+m.url]=_59;}}}}if(now){now(_5d(_58));}_54={};},_5e=function(s){return s.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(c){return "\\"+c;});},_5f=function(map,_60){_60.splice(0,_60.length);for(var p in map){_60.push([p,map[p],new RegExp("^"+_5e(p)+"(/|$)"),p.length]);}_60.sort(function(lhs,rhs){return rhs[3]-lhs[3];});return _60;},_61=function(_62,_63){_9(_62,function(_64){_63.push([_7(_64[0])?new RegExp("^"+_5e(_64[0])+"$"):_64[0],_64[1]]);});},_65=function(_66){var _67=_66.name;if(!_67){_67=_66;_66={name:_67};}_66=_c({main:"main"},_66);_66.location=_66.location?_66.location:_67;if(_66.packageMap){map[_67]=_66.packageMap;}if(!_66.main.indexOf("./")){_66.main=_66.main.substring(2);}_4f[_67]=_66;},_68=[],_69=function(_6a,_6b,_6c){for(var p in _6a){if(p=="waitSeconds"){req.waitms=(_6a[p]||0)*1000;}if(p=="cacheBust"){_51=_6a[p]?(_7(_6a[p])?_6a[p]:(new Date()).getTime()+""):"";}if(p=="baseUrl"||p=="combo"){req[p]=_6a[p];}if(1&&p=="async"){var _6d=_6a[p];req.legacyMode=_25=(_7(_6d)&&/sync|legacyAsync/.test(_6d)?_6d:(!_6d?_26:false));req.async=!_25;}if(_6a[p]!==_1a){req.rawConfig[p]=_6a[p];p!="has"&&has.add("config-"+p,_6a[p],0,_6b);}}if(!req.baseUrl){req.baseUrl="./";}if(!/\/$/.test(req.baseUrl)){req.baseUrl+="/";}for(p in _6a.has){has.add(p,_6a.has[p],0,_6b);}_9(_6a.packages,_65);for(_1e in _6a.packagePaths){_9(_6a.packagePaths[_1e],function(_6e){var _6f=_1e+"/"+_6e;if(_7(_6e)){_6e={name:_6e};}_6e.location=_6f;_65(_6e);});}_5f(_c(map,_6a.map),_50);_9(_50,function(_70){_70[1]=_5f(_70[1],[]);if(_70[0]=="*"){_50.star=_70;}});_5f(_c(_4d,_6a.paths),_4e);_61(_6a.aliases,_4c);if(_6b){_68.push({config:_6a.config});}else{for(p in _6a.config){var _71=_31(p,_6c);_71.config=_c(_71.config||{},_6a.config[p]);}}if(_6a.cache){_57();_54=_6a.cache;if(_6a.cache["*noref"]){_57();}}_34("config",[_6a,req.rawConfig]);};if(has("dojo-cdn")||1){var _72=doc.getElementsByTagName("script"),i=0,_73,_74,src,_75;while(i<_72.length){_73=_72[i++];if((src=_73.getAttribute("src"))&&(_75=src.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){_74=_75[3]||"";_2.baseUrl=_2.baseUrl||_74;_56=_73;}if((src=(_73.getAttribute("data-dojo-config")||_73.getAttribute("djConfig")))){_55=req.eval("({ "+src+" })","data-dojo-config");_56=_73;}if(0){if((src=_73.getAttribute("data-main"))){_55.deps=_55.deps||[src];}}}}if(0){try{if(window.parent!=window&&window.parent.require){var doh=window.parent.require("doh");doh&&_c(_55,doh.testConfig);}}catch(e){}}req.rawConfig={};_69(_2,1);if(has("dojo-cdn")){_4f.dojo.location=_74;if(_74){_74+="/";}_4f.dijit.location=_74+"../dijit/";_4f.dojox.location=_74+"../dojox/";}_69(_1,1);_69(_55,1);}else{_4d=_2.paths;_4e=_2.pathsMapProg;_4f=_2.packs;_4c=_2.aliases;_50=_2.mapProgs;_2f=_2.modules;_52=_2.cache;_51=_2.cacheBust;req.rawConfig=_2;}if(0){req.combo=req.combo||{add:_3};var _76=0,_77=[],_78=null;}var _79=function(_7a){_37(function(){_9(_7a.deps,_32);if(0&&_76&&!_78){_78=setTimeout(function(){_76=0;_78=null;req.combo.done(function(_7b,url){var _7c=function(){_7d(0,_7b);_7e();};_77.push(_7b);_7f=_7b;req.injectUrl(url,_7c,_7b);_7f=0;},req);},0);}});},_16=function(a1,a2,a3,_80,_81){var _82,_83;if(_7(a1)){_82=_31(a1,_80,true);if(_82&&_82.executed){return _82.result;}throw _f("undefinedModule",a1);}if(!_8(a1)){_69(a1,0,_80);a1=a2;a2=a3;}if(_8(a1)){if(!a1.length){a2&&a2();}else{_83="require*"+uid();for(var mid,_84=[],i=0;i<a1.length;){mid=a1[i++];_84.push(_31(mid,_80));}_82=_c(_85("",_83,0,""),{injected:_21,deps:_84,def:a2||_3,require:_80?_80.require:req,gc:1});_2f[_82.mid]=_82;_79(_82);var _86=_87&&_25!=_26;_37(function(){_36(_82,_86);});if(!_82.executed){_30.push(_82);}_7e();}}return _81;},_5d=function(_88){if(!_88){return req;}var _89=_88.require;if(!_89){_89=function(a1,a2,a3){return _16(a1,a2,a3,_88,_89);};_88.require=_c(_89,req);_89.module=_88;_89.toUrl=function(_8a){return _5b(_8a,_88);};_89.toAbsMid=function(mid){return _b8(mid,_88);};if(0){_89.undef=function(mid){req.undef(mid,_88);};}if(1){_89.syncLoadNls=function(mid){var _8b=_5c(mid,_88),_8c=_2f[_8b.mid];if(!_8c||!_8c.executed){_8d=_52[_8b.mid]||_52[_53+_8b.url];if(_8d){_8e(_8d);_8c=_2f[_8b.mid];}}return _8c&&_8c.executed&&_8c.result;};}}return _89;},_30=[],_8f=[],_90={},_91=function(_92){_92.injected=_20;_90[_92.mid]=1;if(_92.url){_90[_92.url]=_92.pack||1;}_93();},_33=function(_94){_94.injected=_21;delete _90[_94.mid];if(_94.url){delete _90[_94.url];}if(_4(_90)){_95();1&&_25==xd&&(_25=_26);}},_96=req.idle=function(){return !_8f.length&&_4(_90)&&!_30.length&&!_87;},_97=function(_98,map){if(map){for(var i=0;i<map.length;i++){if(map[i][2].test(_98)){return map[i];}}}return 0;},_99=function(_9a){var _9b=[],_9c,_9d;_9a=_9a.replace(/\\/g,"/").split("/");while(_9a.length){_9c=_9a.shift();if(_9c==".."&&_9b.length&&_9d!=".."){_9b.pop();_9d=_9b[_9b.length-1];}else{if(_9c!="."){_9b.push(_9d=_9c);}}}return _9b.join("/");},_85=function(pid,mid,_9e,url){if(1){var xd=req.isXdUrl(url);return {pid:pid,mid:mid,pack:_9e,url:url,executed:0,def:0,isXd:xd,isAmd:!!(xd||(_4f[pid]&&_4f[pid].isAmd))};}else{return {pid:pid,mid:mid,pack:_9e,url:url,executed:0,def:0};}},_9f=function(mid,_a0,_a1,_a2,_a3,_a4,_a5,_a6,_a7){var pid,_a8,_a9,_aa,url,_ab,_ac,_ad;_ad=mid;_ac=/^\./.test(mid);if(/(^\/)|(\:)|(\.js$)/.test(mid)||(_ac&&!_a0)){return _85(0,mid,0,mid);}else{mid=_99(_ac?(_a0.mid+"/../"+mid):mid);if(/^\./.test(mid)){throw _f("irrationalPath",mid);}if(_a0){_aa=_97(_a0.mid,_a4);}_aa=_aa||_a4.star;_aa=_aa&&_97(mid,_aa[1]);if(_aa){mid=_aa[1]+mid.substring(_aa[3]);}_75=mid.match(/^([^\/]+)(\/(.+))?$/);pid=_75?_75[1]:"";if((_a8=_a1[pid])){mid=pid+"/"+(_a9=(_75[3]||_a8.main));}else{pid="";}var _ae=0,_af=0;_9(_a6,function(_b0){var _b1=mid.match(_b0[0]);if(_b1&&_b1.length>_ae){_af=_6(_b0[1])?mid.replace(_b0[0],_b0[1]):_b0[1];}});if(_af){return _9f(_af,0,_a1,_a2,_a3,_a4,_a5,_a6,_a7);}_ab=_a2[mid];if(_ab){return _a7?_85(_ab.pid,_ab.mid,_ab.pack,_ab.url):_a2[mid];}}_aa=_97(mid,_a5);if(_aa){url=_aa[1]+mid.substring(_aa[3]);}else{if(pid){url=_a8.location+"/"+_a9;}else{if(has("config-tlmSiblingOfDojo")){url="../"+mid;}else{url=mid;}}}if(!(/(^\/)|(\:)/.test(url))){url=_a3+url;}url+=".js";return _85(pid,mid,_a8,_99(url));},_5c=function(mid,_b2,_b3){return _9f(mid,_b2,_4f,_2f,req.baseUrl,_b3?[]:_50,_b3?[]:_4e,_b3?[]:_4c);},_b4=function(_b5,_b6,_b7){return _b5.normalize?_b5.normalize(_b6,function(mid){return _b8(mid,_b7);}):_b8(_b6,_b7);},_b9=0,_31=function(mid,_ba,_bb){var _bc,_bd,_be,_bf;_bc=mid.match(/^(.+?)\!(.*)$/);if(_bc){_bd=_31(_bc[1],_ba,_bb);if(1&&_25==_26&&!_bd.executed){_32(_bd);if(_bd.injected===_21&&!_bd.executed){_37(function(){_36(_bd);});}if(_bd.executed){_c0(_bd);}else{_30.unshift(_bd);}}if(_bd.executed===_24&&!_bd.load){_c0(_bd);}if(_bd.load){_be=_b4(_bd,_bc[2],_ba);mid=(_bd.mid+"!"+(_bd.dynamic?++_b9+"!":"")+_be);}else{_be=_bc[2];mid=_bd.mid+"!"+(++_b9)+"!waitingForPlugin";}_bf={plugin:_bd,mid:mid,req:_5d(_ba),prid:_be};}else{_bf=_5c(mid,_ba);}return _2f[_bf.mid]||(!_bb&&(_2f[_bf.mid]=_bf));},_b8=req.toAbsMid=function(mid,_c1){return _5c(mid,_c1).mid;},_5b=req.toUrl=function(_c2,_c3){var _c4=_5c(_c2+"/x",_c3),url=_c4.url;return _3f(_c4.pid===0?_c2:url.substring(0,url.length-5));},_c5={injected:_21,executed:_24,def:_22,result:_22},_c6=function(mid){return _2f[mid]=_c({mid:mid},_c5);},_c7=_c6("require"),_c8=_c6("exports"),_c9=_c6("module"),_ca=function(_cb,_cc){req.trace("loader-run-factory",[_cb.mid]);var _cd=_cb.def,_ce;1&&_27.unshift(_cb);if(has("config-dojo-loader-catches")){try{_ce=_6(_cd)?_cd.apply(null,_cc):_cd;}catch(e){_34(_44,_cb.result=_f("factoryThrew",[_cb,e]));}}else{_ce=_6(_cd)?_cd.apply(null,_cc):_cd;}_cb.result=_ce===undefined&&_cb.cjs?_cb.cjs.exports:_ce;1&&_27.shift(_cb);},_cf={},_d0=0,_c0=function(_d1){var _d2=_d1.result;_d1.dynamic=_d2.dynamic;_d1.normalize=_d2.normalize;_d1.load=_d2.load;return _d1;},_d3=function(_d4){var map={};_9(_d4.loadQ,function(_d5){var _d6=_b4(_d4,_d5.prid,_d5.req.module),mid=_d4.dynamic?_d5.mid.replace(/waitingForPlugin$/,_d6):(_d4.mid+"!"+_d6),_d7=_c(_c({},_d5),{mid:mid,prid:_d6,injected:0});if(!_2f[mid]){_e9(_2f[mid]=_d7);}map[_d5.mid]=_2f[mid];_33(_d5);delete _2f[_d5.mid];});_d4.loadQ=0;var _d8=function(_d9){for(var _da,_db=_d9.deps||[],i=0;i<_db.length;i++){_da=map[_db[i].mid];if(_da){_db[i]=_da;}}};for(var p in _2f){_d8(_2f[p]);}_9(_30,_d8);},_35=function(_dc){req.trace("loader-finish-exec",[_dc.mid]);_dc.executed=_24;_dc.defOrder=_d0++;1&&_9(_dc.provides,function(cb){cb();});if(_dc.loadQ){_c0(_dc);_d3(_dc);}for(i=0;i<_30.length;){if(_30[i]===_dc){_30.splice(i,1);}else{i++;}}if(/^require\*/.test(_dc.mid)){delete _2f[_dc.mid];}},_dd=[],_36=function(_de,_df){if(_de.executed===_23){req.trace("loader-circular-dependency",[_dd.concat(_de.mid).join("->")]);return (!_de.def||_df)?_cf:(_de.cjs&&_de.cjs.exports);}if(!_de.executed){if(!_de.def){return _cf;}var mid=_de.mid,_e0=_de.deps||[],arg,_e1,_e2=[],i=0;if(0){_dd.push(mid);req.trace("loader-exec-module",["exec",_dd.length,mid]);}_de.executed=_23;while((arg=_e0[i++])){_e1=((arg===_c7)?_5d(_de):((arg===_c8)?_de.cjs.exports:((arg===_c9)?_de.cjs:_36(arg,_df))));if(_e1===_cf){_de.executed=0;req.trace("loader-exec-module",["abort",mid]);0&&_dd.pop();return _cf;}_e2.push(_e1);}_ca(_de,_e2);_35(_de);0&&_dd.pop();}return _de.result;},_87=0,_37=function(_e3){try{_87++;_e3();}finally{_87--;}if(_96()){_34("idle",[]);}},_7e=function(){if(_87){return;}_37(function(){_29();for(var _e4,_e5,i=0;i<_30.length;){_e4=_d0;_e5=_30[i];_36(_e5);if(_e4!=_d0){_29();i=0;}else{i++;}}});};if(0){req.undef=function(_e6,_e7){var _e8=_31(_e6,_e7);_33(_e8);_c(_e8,{def:0,executed:0,injected:0,node:0});};}if(1){if(has("dojo-loader-eval-hint-url")===undefined){has.add("dojo-loader-eval-hint-url",1);}var _3f=function(url){url+="";return url+(_51?((/\?/.test(url)?"&":"?")+_51):"");},_e9=function(_ea){var _eb=_ea.plugin;if(_eb.executed===_24&&!_eb.load){_c0(_eb);}var _ec=function(def){_ea.result=def;_33(_ea);_35(_ea);_7e();};if(_eb.load){_eb.load(_ea.prid,_ea.req,_ec);}else{if(_eb.loadQ){_eb.loadQ.push(_ea);}else{_eb.loadQ=[_ea];_30.unshift(_eb);_32(_eb);}}},_8d=0,_7f=0,_ed=0,_8e=function(_ee,_ef){if(has("config-stripStrict")){_ee=_ee.replace(/"use strict"/g,"");}_ed=1;if(has("config-dojo-loader-catches")){try{if(_ee===_8d){_8d.call(null);}else{req.eval(_ee,has("dojo-loader-eval-hint-url")?_ef.url:_ef.mid);}}catch(e){_34(_44,_f("evalModuleThrew",_ef));}}else{if(_ee===_8d){_8d.call(null);}else{req.eval(_ee,has("dojo-loader-eval-hint-url")?_ef.url:_ef.mid);}}_ed=0;},_32=function(_f0){var mid=_f0.mid,url=_f0.url;if(_f0.executed||_f0.injected||_90[mid]||(_f0.url&&((_f0.pack&&_90[_f0.url]===_f0.pack)||_90[_f0.url]==1))){return;}_91(_f0);if(0){var _f1=0;if(_f0.plugin&&_f0.plugin.isCombo){req.combo.add(_f0.plugin.mid,_f0.prid,0,req);_f1=1;}else{if(!_f0.plugin){_f1=req.combo.add(0,_f0.mid,_f0.url,req);}}if(_f1){_76=1;return;}}if(_f0.plugin){_e9(_f0);return;}var _f2=function(){_7d(_f0);if(_f0.injected!==_21){if(has("dojo-enforceDefine")){_34(_44,_f("noDefine",_f0));return;}_33(_f0);_c(_f0,_c5);req.trace("loader-define-nonmodule",[_f0.url]);}if(1&&_25){!_27.length&&_7e();}else{_7e();}};_8d=_52[mid]||_52[_53+_f0.url];if(_8d){req.trace("loader-inject",["cache",_f0.mid,url]);_8e(_8d,_f0);_f2();return;}if(1&&_25){if(_f0.isXd){_25==_26&&(_25=xd);}else{if(_f0.isAmd&&_25!=_26){}else{var _f3=function(_f4){if(_25==_26){_27.unshift(_f0);_8e(_f4,_f0);_27.shift();_7d(_f0);if(!_f0.cjs){_33(_f0);_35(_f0);}if(_f0.finish){var _f5=mid+"*finish",_f6=_f0.finish;delete _f0.finish;def(_f5,["dojo",("dojo/require!"+_f6.join(",")).replace(/\./g,"/")],function(_f7){_9(_f6,function(mid){_f7.require(mid);});});_30.unshift(_31(_f5));}_f2();}else{_f4=_2a(_f0,_f4);if(_f4){_8e(_f4,_f0);_f2();}else{_7f=_f0;req.injectUrl(_3f(url),_f2,_f0);_7f=0;}}};req.trace("loader-inject",["xhr",_f0.mid,url,_25!=_26]);if(has("config-dojo-loader-catches")){try{req.getText(url,_25!=_26,_f3);}catch(e){_34(_44,_f("xhrInjectFailed",[_f0,e]));}}else{req.getText(url,_25!=_26,_f3);}return;}}}req.trace("loader-inject",["script",_f0.mid,url]);_7f=_f0;req.injectUrl(_3f(url),_f2,_f0);_7f=0;},_f8=function(_f9,_fa,def){req.trace("loader-define-module",[_f9.mid,_fa]);if(0&&_f9.plugin&&_f9.plugin.isCombo){_f9.result=_6(def)?def():def;_33(_f9);_35(_f9);return _f9;}var mid=_f9.mid;if(_f9.injected===_21){_34(_44,_f("multipleDefine",_f9));return _f9;}_c(_f9,{deps:_fa,def:def,cjs:{id:_f9.mid,uri:_f9.url,exports:(_f9.result={}),setExports:function(_fb){_f9.cjs.exports=_fb;},config:function(){return _f9.config;}}});for(var i=0;_fa[i];i++){_fa[i]=_31(_fa[i],_f9);}if(1&&_25&&!_90[mid]){_79(_f9);_30.push(_f9);_7e();}_33(_f9);if(!_6(def)&&!_fa.length){_f9.result=def;_35(_f9);}return _f9;},_7d=function(_fc,_fd){var _fe=[],_ff,args;while(_8f.length){args=_8f.shift();_fd&&(args[0]=_fd.shift());_ff=(args[0]&&_31(args[0]))||_fc;_fe.push([_ff,args[1],args[2]]);}_57(_fc);_9(_fe,function(args){_79(_f8.apply(null,args));});};}var _100=0,_95=_3,_93=_3;if(1){_95=function(){_100&&clearTimeout(_100);_100=0;};_93=function(){_95();if(req.waitms){_100=window.setTimeout(function(){_95();_34(_44,_f("timeout",_90));},req.waitms);}};}if(1){has.add("ie-event-behavior",doc.attachEvent&&typeof Windows==="undefined"&&(typeof opera==="undefined"||opera.toString()!="[object Opera]"));}if(1&&(1||1)){var _101=function(node,_102,_103,_104){if(!has("ie-event-behavior")){node.addEventListener(_102,_104,false);return function(){node.removeEventListener(_102,_104,false);};}else{node.attachEvent(_103,_104);return function(){node.detachEvent(_103,_104);};}},_105=_101(window,"load","onload",function(){req.pageLoaded=1;doc.readyState!="complete"&&(doc.readyState="complete");_105();});if(1){var _72=doc.getElementsByTagName("script"),i=0,_73;while(!_56){if(!/^dojo/.test((_73=_72[i++])&&_73.type)){_56=_73;}}req.injectUrl=function(url,_106,_107){var node=_107.node=doc.createElement("script"),_108=function(e){e=e||window.event;var node=e.target||e.srcElement;if(e.type==="load"||/complete|loaded/.test(node.readyState)){_109();_10a();_106&&_106();}},_109=_101(node,"load","onreadystatechange",_108),_10a=_101(node,"error","onerror",function(e){_109();_10a();_34(_44,_f("scriptError",[url,e]));});node.type="text/javascript";node.charset="utf-8";node.src=url;_56.parentNode.insertBefore(node,_56);return node;};}}if(1){req.log=function(){try{for(var i=0;i<arguments.length;i++){}}catch(e){}};}else{req.log=_3;}if(0){var _10b=req.trace=function(_10c,args){if(_10b.on&&_10b.group[_10c]){_34("trace",[_10c,args]);for(var arg,dump=[],text="trace:"+_10c+(args.length?(":"+args[0]):""),i=1;i<args.length;){arg=args[i++];if(_7(arg)){text+=", "+arg;}else{dump.push(arg);}}req.log(text);dump.length&&dump.push(".");req.log.apply(req,dump);}};_c(_10b,{on:1,group:{},set:function(_10d,_10e){if(_7(_10d)){_10b.group[_10d]=_10e;}else{_c(_10b.group,_10d);}}});_10b.set(_c(_c(_c({},_2.trace),_1.trace),_55.trace));on("config",function(_10f){_10f.trace&&_10b.set(_10f.trace);});}else{req.trace=_3;}var def=function(mid,_110,_111){var _112=arguments.length,_113=["require","exports","module"],args=[0,mid,_110];if(_112==1){args=[0,(_6(mid)?_113:[]),mid];}else{if(_112==2&&_7(mid)){args=[mid,(_6(_110)?_113:[]),_110];}else{if(_112==3){args=[mid,_110,_111];}}}if(0&&args[1]===_113){args[2].toString().replace(/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,"").replace(/require\(["']([\w\!\-_\.\/]+)["']\)/g,function(_114,dep){args[1].push(dep);});}req.trace("loader-define",args.slice(0,2));var _115=args[0]&&_31(args[0]),_116;if(_115&&!_90[_115.mid]){_79(_f8(_115,args[1],args[2]));}else{if(!has("ie-event-behavior")||!1||_ed){_8f.push(args);}else{_115=_115||_7f;if(!_115){for(mid in _90){_116=_2f[mid];if(_116&&_116.node&&_116.node.readyState==="interactive"){_115=_116;break;}}if(0&&!_115){for(var i=0;i<_77.length;i++){_115=_77[i];if(_115.node&&_115.node.readyState==="interactive"){break;}_115=0;}}}if(0&&_8(_115)){_79(_f8(_31(_115.shift()),args[1],args[2]));if(!_115.length){_77.splice(i,1);}}else{if(_115){_57(_115);_79(_f8(_115,args[1],args[2]));}else{_34(_44,_f("ieDefineFailed",args[0]));}}_7e();}}};def.amd={vendor:"dojotoolkit.org"};if(0){req.def=def;}_c(_c(req,_2.loaderPatch),_1.loaderPatch);on(_44,function(arg){try{console.error(arg);if(arg instanceof Error){for(var p in arg){}}}catch(e){}});_c(req,{uid:uid,cache:_52,packs:_4f});if(0){_c(req,{paths:_4d,aliases:_4c,modules:_2f,legacyMode:_25,execQ:_30,defQ:_8f,waiting:_90,packs:_4f,mapProgs:_50,pathsMapProg:_4e,listenerQueues:_43,computeMapProg:_5f,computeAliases:_61,runMapProg:_97,compactPath:_99,getModuleInfo:_9f});}if(_17.define){if(1){_34(_44,_f("defineAlreadyDefined",0));}return;}else{_17.define=def;_17.require=req;if(0){require=req;}}if(0&&req.combo&&req.combo.plugins){var _117=req.combo.plugins,_118;for(_118 in _117){_c(_c(_31(_118),_117[_118]),{isCombo:1,executed:"executed",load:1});}}if(1){_9(_68,function(c){_69(c);});var _119=_55.deps||_1.deps||_2.deps,_11a=_55.callback||_1.callback||_2.callback;req.boot=(_119||_11a)?[_119||[],_11a]:0;}if(!1){!req.async&&req(["dojo"]);req.boot&&req.apply(null,req.boot);}})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../mendix",name:"mendix"},{location:"../mxui",name:"mxui"},{location:"../reporting",name:"reporting"},{location:".",name:"dojo"}]});require({cache:{"dojo/main":function(){define(["./_base/kernel","./has","require","./sniff","./_base/lang","./_base/array","./_base/config","./ready","./_base/declare","./_base/connect","./_base/Deferred","./_base/json","./_base/Color","./has!dojo-firebug?./_firebug/firebug","./_base/browser","./_base/loader"],function(_11b,has,_11c,_11d,lang,_11e,_11f,_120){if(_11f.isDebug){_11c(["./_firebug/firebug"]);}1||has.add("dojo-config-require",1);if(1){var deps=_11f.require;if(deps){deps=_11e.map(lang.isArray(deps)?deps:[deps],function(item){return item.replace(/\./g,"/");});if(_11b.isAsync){_11c(deps);}else{_120(1,function(){_11c(deps);});}}}return _11b;});},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(has,_121,_122,_123){var i,p,_124={},_125={},dojo={config:_121,global:this,dijit:_124,dojox:_125};var _126={dojo:["dojo",dojo],dijit:["dijit",_124],dojox:["dojox",_125]},_127=(_122.map&&_122.map[_123.id.match(/[^\/]+/)[0]]),item;for(p in _127){if(_126[p]){_126[p][0]=_127[p];}else{_126[p]=[_127[p],{}];}}for(p in _126){item=_126[p];item[1]._scopeName=item[0];if(!_121.noGlobals){this[item[0]]=item[1];}}dojo.scopeMap=_126;dojo.baseUrl=dojo.config.baseUrl=_122.baseUrl;dojo.isAsync=!1||_122.async;dojo.locale=_121.locale;var rev="$Rev: fd52c96 $".match(/[0-9a-f]{7,}/);dojo.version={major:5,minor:6,patch:2,flag:"",revision:rev?rev[0]:NaN,toString:function(){var v=dojo.version;return v.major+"."+v.minor+"."+v.patch+v.flag+" ("+v.revision+")";}};1||has.add("extend-dojo",1);(Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}"))(dojo);if(0){dojo.exit=function(_128){quit(_128);};}else{dojo.exit=function(){};}1||has.add("dojo-guarantee-console",1);if(1){typeof console!="undefined"||(console={});var cn=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];var tn;i=0;while((tn=cn[i++])){if(!console[tn]){(function(){var tcn=tn+"";console[tcn]=("log" in console)?function(){var a=Array.apply({},arguments);a.unshift(tcn+":");console["log"](a.join(" "));}:function(){};console[tcn]._fake=true;})();}}}has.add("dojo-debug-messages",!!_121.isDebug);dojo.deprecated=dojo.experimental=function(){};if(has("dojo-debug-messages")){dojo.deprecated=function(_129,_12a,_12b){var _12c="DEPRECATED: "+_129;if(_12a){_12c+=" "+_12a;}if(_12b){_12c+=" -- will be removed in version: "+_12b;}console.warn(_12c);};dojo.experimental=function(_12d,_12e){var _12f="EXPERIMENTAL: "+_12d+" -- APIs subject to change without notice.";if(_12e){_12f+=" "+_12e;}console.warn(_12f);};}1||has.add("dojo-modulePaths",1);if(1){if(_121.modulePaths){dojo.deprecated("dojo.modulePaths","use paths configuration");var _130={};for(p in _121.modulePaths){_130[p.replace(/\./g,"/")]=_121.modulePaths[p];}_122({paths:_130});}}1||has.add("dojo-moduleUrl",1);if(1){dojo.moduleUrl=function(_131,url){dojo.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var _132=null;if(_131){_132=_122.toUrl(_131.replace(/\./g,"/")+(url?("/"+url):"")+"/*.*").replace(/\/\*\.\*/,"")+(url?"":"/");}return _132;};}dojo._hasResource={};return dojo;});},"dojo/has":function(){define(["require","module"],function(_133,_134){var has=_133.has||function(){};if(!1){var _135=typeof window!="undefined"&&typeof location!="undefined"&&typeof document!="undefined"&&window.location==location&&window.document==document,_136=this,doc=_135&&document,_137=doc&&doc.createElement("DiV"),_138=(_134.config&&_134.config())||{};has=function(name){return typeof _138[name]=="function"?(_138[name]=_138[name](_136,doc,_137)):_138[name];};has.cache=_138;has.add=function(name,test,now,_139){(typeof _138[name]=="undefined"||_139)&&(_138[name]=test);return now&&has(name);};1||has.add("host-browser",_135);0&&has.add("host-node",(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8));0&&has.add("host-rhino",(typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")));1||has.add("dom",_135);1||has.add("dojo-dom-ready-api",1);1||has.add("dojo-sniff",1);}if(1){has.add("dom-addeventlistener",!!document.addEventListener);has.add("touch","ontouchstart" in document||window.navigator.msMaxTouchPoints>0);has.add("device-width",screen.availWidth||innerWidth);var form=document.createElement("form");has.add("dom-attributes-explicit",form.attributes.length==0);has.add("dom-attributes-specified-flag",form.attributes.length>0&&form.attributes.length<40);}has.clearElement=function(_13a){_13a.innerHTML="";return _13a;};has.normalize=function(id,_13b){var _13c=id.match(/[\?:]|[^:\?]*/g),i=0,get=function(skip){var term=_13c[i++];if(term==":"){return 0;}else{if(_13c[i++]=="?"){if(!skip&&has(term)){return get();}else{get(true);return get(skip);}}return term||0;}};id=get();return id&&_13b(id);};has.load=function(id,_13d,_13e){if(id){_13d([id],_13e);}else{_13e();}};return has;});},"dojo/_base/config":function(){define(["../has","require"],function(has,_13f){var _140={};if(1){var src=_13f.rawConfig,p;for(p in src){_140[p]=src[p];}}else{var _141=function(_142,_143,_144){for(p in _142){p!="has"&&has.add(_143+p,_142[p],0,_144);}};_140=1?_13f.rawConfig:this.dojoConfig||this.djConfig||{};_141(_140,"config",1);_141(_140.has,"",1);}if(!_140.locale&&typeof navigator!="undefined"){_140.locale=(navigator.language||navigator.userLanguage).toLowerCase();}return _140;});},"dojo/sniff":function(){define(["./has"],function(has){if(1){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);has.add("air",dua.indexOf("AdobeAIR")>=0);has.add("msapp",parseFloat(dua.split("MSAppHost/")[1])||undefined);has.add("khtml",dav.indexOf("Konqueror")>=0?tv:undefined);has.add("webkit",parseFloat(dua.split("WebKit/")[1])||undefined);has.add("chrome",parseFloat(dua.split("Chrome/")[1])||undefined);has.add("safari",dav.indexOf("Safari")>=0&&!has("chrome")?parseFloat(dav.split("Version/")[1]):undefined);has.add("mac",dav.indexOf("Macintosh")>=0);has.add("quirks",document.compatMode=="BackCompat");if(dua.match(/(iPhone|iPod|iPad)/)){var p=RegExp.$1.replace(/P/,"p");var v=dua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));has.add(p,os);has.add("ios",os);}has.add("android",parseFloat(dua.split("Android ")[1])||undefined);has.add("bb",(dua.indexOf("BlackBerry")>=0||dua.indexOf("BB10")>=0)&&parseFloat(dua.split("Version/")[1])||undefined);has.add("trident",parseFloat(dav.split("Trident/")[1])||undefined);has.add("svg",typeof SVGAngle!=="undefined");if(!has("webkit")){if(dua.indexOf("Opera")>=0){has.add("opera",tv>=9.8?parseFloat(dua.split("Version/")[1])||tv:tv);}if(dua.indexOf("Gecko")>=0&&!has("khtml")&&!has("webkit")&&!has("trident")){has.add("mozilla",tv);}if(has("mozilla")){has.add("ff",parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||undefined);}if(document.all&&!has("opera")){var isIE=parseFloat(dav.split("MSIE ")[1])||undefined;var mode=document.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}has.add("ie",isIE);}has.add("wii",typeof opera!="undefined"&&opera.wiiremote);}}return has;});},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(dojo,has){has.add("bug-for-in-skips-shadowed",function(){for(var i in {toString:1}){return 0;}return 1;});var _145=has("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],_146=_145.length,_147=function(_148,_149,_14a){var p,i=0,_14b=dojo.global;if(!_14a){if(!_148.length){return _14b;}else{p=_148[i++];try{_14a=dojo.scopeMap[p]&&dojo.scopeMap[p][1];}catch(e){}_14a=_14a||(p in _14b?_14b[p]:(_149?_14b[p]={}:undefined));}}while(_14a&&(p=_148[i++])){_14a=(p in _14a?_14a[p]:(_149?_14a[p]={}:undefined));}return _14a;},opts=Object.prototype.toString,_14c=function(obj,_14d,_14e){return (_14e||[]).concat(Array.prototype.slice.call(obj,_14d||0));},_14f=/\{([^\}]+)\}/g;var lang={_extraNames:_145,_mixin:function(dest,_150,_151){var name,s,i,_152={};for(name in _150){s=_150[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _152)||_152[name]!==s))){dest[name]=_151?_151(s):s;}}if(has("bug-for-in-skips-shadowed")){if(_150){for(i=0;i<_146;++i){name=_145[i];s=_150[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _152)||_152[name]!==s))){dest[name]=_151?_151(s):s;}}}}return dest;},mixin:function(dest,_153){if(!dest){dest={};}for(var i=1,l=arguments.length;i<l;i++){lang._mixin(dest,arguments[i]);}return dest;},setObject:function(name,_154,_155){var _156=name.split("."),p=_156.pop(),obj=_147(_156,true,_155);return obj&&p?(obj[p]=_154):undefined;},getObject:function(name,_157,_158){return _147(name.split("."),_157,_158);},exists:function(name,obj){return lang.getObject(name,false,obj)!==undefined;},isString:function(it){return (typeof it=="string"||it instanceof String);},isArray:function(it){return it&&(it instanceof Array||typeof it=="array");},isFunction:function(it){return opts.call(it)==="[object Function]";},isObject:function(it){return it!==undefined&&(it===null||typeof it=="object"||lang.isArray(it)||lang.isFunction(it));},isArrayLike:function(it){return it&&it!==undefined&&!lang.isString(it)&&!lang.isFunction(it)&&!(it.tagName&&it.tagName.toLowerCase()=="form")&&(lang.isArray(it)||isFinite(it.length));},isAlien:function(it){return it&&!lang.isFunction(it)&&/\{\s*\[native code\]\s*\}/.test(String(it));},extend:function(ctor,_159){for(var i=1,l=arguments.length;i<l;i++){lang._mixin(ctor.prototype,arguments[i]);}return ctor;},_hitchArgs:function(_15a,_15b){var pre=lang._toArray(arguments,2);var _15c=lang.isString(_15b);return function(){var args=lang._toArray(arguments);var f=_15c?(_15a||dojo.global)[_15b]:_15b;return f&&f.apply(_15a||this,pre.concat(args));};},hitch:function(_15d,_15e){if(arguments.length>2){return lang._hitchArgs.apply(dojo,arguments);}if(!_15e){_15e=_15d;_15d=null;}if(lang.isString(_15e)){_15d=_15d||dojo.global;if(!_15d[_15e]){throw (["lang.hitch: scope[\"",_15e,"\"] is null (scope=\"",_15d,"\")"].join(""));}return function(){return _15d[_15e].apply(_15d,arguments||[]);};}return !_15d?_15e:function(){return _15e.apply(_15d,arguments||[]);};},delegate:(function(){function TMP(){};return function(obj,_15f){TMP.prototype=obj;var tmp=new TMP();TMP.prototype=null;if(_15f){lang._mixin(tmp,_15f);}return tmp;};})(),_toArray:has("ie")?(function(){function slow(obj,_160,_161){var arr=_161||[];for(var x=_160||0;x<obj.length;x++){arr.push(obj[x]);}return arr;};return function(obj){return ((obj.item)?slow:_14c).apply(this,arguments);};})():_14c,partial:function(_162){var arr=[null];return lang.hitch.apply(dojo,arr.concat(lang._toArray(arguments)));},clone:function(src){if(!src||typeof src!="object"||lang.isFunction(src)){return src;}if(src.nodeType&&"cloneNode" in src){return src.cloneNode(true);}if(src instanceof Date){return new Date(src.getTime());}if(src instanceof RegExp){return new RegExp(src);}var r,i,l;if(lang.isArray(src)){r=[];for(i=0,l=src.length;i<l;++i){if(i in src){r.push(lang.clone(src[i]));}}}else{r=src.constructor?new src.constructor():{};}return lang._mixin(r,src,lang.clone);},trim:String.prototype.trim?function(str){return str.trim();}:function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");},replace:function(tmpl,map,_163){return tmpl.replace(_163||_14f,lang.isFunction(map)?map:function(_164,k){return lang.getObject(k,false,map);});}};1&&lang.mixin(dojo,lang);return lang;});},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var _165={},u;function _166(fn){return _165[fn]=new Function("item","index","array",fn);};function _167(some){var _168=!some;return function(a,fn,o){var i=0,l=a&&a.length||0,_169;if(l&&typeof a=="string"){a=a.split("");}if(typeof fn=="string"){fn=_165[fn]||_166(fn);}if(o){for(;i<l;++i){_169=!fn.call(o,a[i],i,a);if(some^_169){return !_169;}}}else{for(;i<l;++i){_169=!fn(a[i],i,a);if(some^_169){return !_169;}}}return _168;};};function _16a(up){var _16b=1,_16c=0,_16d=0;if(!up){_16b=_16c=_16d=-1;}return function(a,x,from,last){if(last&&_16b>0){return _16e.lastIndexOf(a,x,from);}var l=a&&a.length||0,end=up?l+_16d:_16c,i;if(from===u){i=up?_16c:l+_16d;}else{if(from<0){i=l+from;if(i<0){i=_16c;}}else{i=from>=l?l+_16d:from;}}if(l&&typeof a=="string"){a=a.split("");}for(;i!=end;i+=_16b){if(a[i]==x){return i;}}return -1;};};var _16e={every:_167(false),some:_167(true),indexOf:_16a(true),lastIndexOf:_16a(false),forEach:function(arr,_16f,_170){var i=0,l=arr&&arr.length||0;if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _16f=="string"){_16f=_165[_16f]||_166(_16f);}if(_170){for(;i<l;++i){_16f.call(_170,arr[i],i,arr);}}else{for(;i<l;++i){_16f(arr[i],i,arr);}}},map:function(arr,_171,_172,Ctr){var i=0,l=arr&&arr.length||0,out=new (Ctr||Array)(l);if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _171=="string"){_171=_165[_171]||_166(_171);}if(_172){for(;i<l;++i){out[i]=_171.call(_172,arr[i],i,arr);}}else{for(;i<l;++i){out[i]=_171(arr[i],i,arr);}}return out;},filter:function(arr,_173,_174){var i=0,l=arr&&arr.length||0,out=[],_175;if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _173=="string"){_173=_165[_173]||_166(_173);}if(_174){for(;i<l;++i){_175=arr[i];if(_173.call(_174,_175,i,arr)){out.push(_175);}}}else{for(;i<l;++i){_175=arr[i];if(_173(_175,i,arr)){out.push(_175);}}}return out;},clearCache:function(){_165={};}};1&&lang.mixin(dojo,_16e);return _16e;});},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(dojo,has,_176,_177,lang){var _178=0,_179=[],_17a=0,_17b=function(){_178=1;dojo._postLoad=dojo.config.afterOnLoad=true;_17c();},_17c=function(){if(_17a){return;}_17a=1;while(_178&&(!_177||_177._Q.length==0)&&(_176.idle?_176.idle():true)&&_179.length){var f=_179.shift();try{f();}catch(e){e.info=e.message;if(_176.signal){_176.signal("error",e);}else{throw e;}}}_17a=0;};_176.on&&_176.on("idle",_17c);if(_177){_177._onQEmpty=_17c;}var _17d=dojo.ready=dojo.addOnLoad=function(_17e,_17f,_180){var _181=lang._toArray(arguments);if(typeof _17e!="number"){_180=_17f;_17f=_17e;_17e=1000;}else{_181.shift();}_180=_180?lang.hitch.apply(dojo,_181):function(){_17f();};_180.priority=_17e;for(var i=0;i<_179.length&&_17e>=_179[i].priority;i++){}_179.splice(i,0,_180);_17c();};1||has.add("dojo-config-addOnLoad",1);if(1){var dca=dojo.config.addOnLoad;if(dca){_17d[(lang.isArray(dca)?"apply":"call")](dojo,dca);}}if(1&&dojo.config.parseOnLoad&&!dojo.isAsync){_17d(99,function(){if(!dojo.parser){dojo.deprecated("Add explicit require(['dojo/parser']);","","2.0");_176(["dojo/parser"]);}});}if(_177){_177(_17b);}else{_17b();}return _17d;});},"dojo/domReady":function(){define(["./has"],function(has){var _182=this,doc=document,_183={"loaded":1,"complete":1},_184=typeof doc.readyState!="string",_185=!!_183[doc.readyState],_186=[],_187;function _188(_189){_186.push(_189);if(_185){_18a();}};_188.load=function(id,req,load){_188(load);};_188._Q=_186;_188._onQEmpty=function(){};if(_184){doc.readyState="loading";}function _18a(){if(_187){return;}_187=true;while(_186.length){try{(_186.shift())(doc);}catch(err){}}_187=false;_188._onQEmpty();};if(!_185){var _18b=[],_18c=function(evt){evt=evt||_182.event;if(_185||(evt.type=="readystatechange"&&!_183[doc.readyState])){return;}if(_184){doc.readyState="complete";}_185=1;_18a();},on=function(node,_18d){node.addEventListener(_18d,_18c,false);_186.push(function(){node.removeEventListener(_18d,_18c,false);});};if(!has("dom-addeventlistener")){on=function(node,_18e){_18e="on"+_18e;node.attachEvent(_18e,_18c);_186.push(function(){node.detachEvent(_18e,_18c);});};var div=doc.createElement("div");try{if(div.doScroll&&_182.frameElement===null){_18b.push(function(){try{div.doScroll("left");return 1;}catch(e){}});}}catch(e){}}on(doc,"DOMContentLoaded");on(_182,"load");if("onreadystatechange" in doc){on(doc,"readystatechange");}else{if(!_184){_18b.push(function(){return _183[doc.readyState];});}}if(_18b.length){var _18f=function(){if(_185){return;}var i=_18b.length;while(i--){if(_18b[i]()){_18c("poller");return;}}setTimeout(_18f,30);};_18f();}}return _188;});},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var mix=lang.mixin,op=Object.prototype,opts=op.toString,xtor=new Function,_190=0,_191="constructor";function err(msg,cls){throw new Error("declare"+(cls?" "+cls:"")+": "+msg);};function _192(_193,_194){var _195=[],_196=[{cls:0,refs:[]}],_197={},_198=1,l=_193.length,i=0,j,lin,base,top,_199,rec,name,refs;for(;i<l;++i){base=_193[i];if(!base){err("mixin #"+i+" is unknown. Did you use dojo.require to pull it in?",_194);}else{if(opts.call(base)!="[object Function]"){err("mixin #"+i+" is not a callable constructor.",_194);}}lin=base._meta?base._meta.bases:[base];top=0;for(j=lin.length-1;j>=0;--j){_199=lin[j].prototype;if(!_199.hasOwnProperty("declaredClass")){_199.declaredClass="uniqName_"+(_190++);}name=_199.declaredClass;if(!_197.hasOwnProperty(name)){_197[name]={count:0,refs:[],cls:lin[j]};++_198;}rec=_197[name];if(top&&top!==rec){rec.refs.push(top);++top.count;}top=rec;}++top.count;_196[0].refs.push(top);}while(_196.length){top=_196.pop();_195.push(top.cls);--_198;while(refs=top.refs,refs.length==1){top=refs[0];if(!top||--top.count){top=0;break;}_195.push(top.cls);--_198;}if(top){for(i=0,l=refs.length;i<l;++i){top=refs[i];if(!--top.count){_196.push(top);}}}}if(_198){err("can't build consistent linearization",_194);}base=_193[0];_195[0]=base?base._meta&&base===_195[_195.length-base._meta.bases.length]?base._meta.bases.length:1:0;return _195;};function _19a(args,a,f){var name,_19b,_19c,_19d,meta,base,_19e,opf,pos,_19f=this._inherited=this._inherited||{};if(typeof args=="string"){name=args;args=a;a=f;}f=0;_19d=args.callee;name=name||_19d.nom;if(!name){err("can't deduce a name to call inherited()",this.declaredClass);}meta=this.constructor._meta;_19c=meta.bases;pos=_19f.p;if(name!=_191){if(_19f.c!==_19d){pos=0;base=_19c[0];meta=base._meta;if(meta.hidden[name]!==_19d){_19b=meta.chains;if(_19b&&typeof _19b[name]=="string"){err("calling chained method with inherited: "+name,this.declaredClass);}do{meta=base._meta;_19e=base.prototype;if(meta&&(_19e[name]===_19d&&_19e.hasOwnProperty(name)||meta.hidden[name]===_19d)){break;}}while(base=_19c[++pos]);pos=base?pos:-1;}}base=_19c[++pos];if(base){_19e=base.prototype;if(base._meta&&_19e.hasOwnProperty(name)){f=_19e[name];}else{opf=op[name];do{_19e=base.prototype;f=_19e[name];if(f&&(base._meta?_19e.hasOwnProperty(name):f!==opf)){break;}}while(base=_19c[++pos]);}}f=base&&f||op[name];}else{if(_19f.c!==_19d){pos=0;meta=_19c[0]._meta;if(meta&&meta.ctor!==_19d){_19b=meta.chains;if(!_19b||_19b.constructor!=="manual"){err("calling chained constructor with inherited",this.declaredClass);}while(base=_19c[++pos]){meta=base._meta;if(meta&&meta.ctor===_19d){break;}}pos=base?pos:-1;}}while(base=_19c[++pos]){meta=base._meta;f=meta?meta.ctor:base;if(f){break;}}f=base&&f;}_19f.c=f;_19f.p=pos;if(f){return a===true?f:f.apply(this,a||args);}};function _1a0(name,args){if(typeof name=="string"){return this.__inherited(name,args,true);}return this.__inherited(name,true);};function _1a1(args,a1,a2){var f=this.getInherited(args,a1);if(f){return f.apply(this,a2||a1||args);}};var _1a2=dojo.config.isDebug?_1a1:_19a;function _1a3(cls){var _1a4=this.constructor._meta.bases;for(var i=0,l=_1a4.length;i<l;++i){if(_1a4[i]===cls){return true;}}return this instanceof cls;};function _1a5(_1a6,_1a7){for(var name in _1a7){if(name!=_191&&_1a7.hasOwnProperty(name)){_1a6[name]=_1a7[name];}}if(has("bug-for-in-skips-shadowed")){for(var _1a8=lang._extraNames,i=_1a8.length;i;){name=_1a8[--i];if(name!=_191&&_1a7.hasOwnProperty(name)){_1a6[name]=_1a7[name];}}}};function _1a9(_1aa,_1ab){var name,t;for(name in _1ab){t=_1ab[name];if((t!==op[name]||!(name in op))&&name!=_191){if(opts.call(t)=="[object Function]"){t.nom=name;}_1aa[name]=t;}}if(has("bug-for-in-skips-shadowed")){for(var _1ac=lang._extraNames,i=_1ac.length;i;){name=_1ac[--i];t=_1ab[name];if((t!==op[name]||!(name in op))&&name!=_191){if(opts.call(t)=="[object Function]"){t.nom=name;}_1aa[name]=t;}}}return _1aa;};function _1ad(_1ae){_1af.safeMixin(this.prototype,_1ae);return this;};function _1b0(_1b1,_1b2){return _1af([this].concat(_1b1),_1b2||{});};function _1b3(_1b4,_1b5){return function(){var a=arguments,args=a,a0=a[0],f,i,m,l=_1b4.length,_1b6;if(!(this instanceof a.callee)){return _1b7(a);}if(_1b5&&(a0&&a0.preamble||this.preamble)){_1b6=new Array(_1b4.length);_1b6[0]=a;for(i=0;;){a0=a[0];if(a0){f=a0.preamble;if(f){a=f.apply(this,a)||a;}}f=_1b4[i].prototype;f=f.hasOwnProperty("preamble")&&f.preamble;if(f){a=f.apply(this,a)||a;}if(++i==l){break;}_1b6[i]=a;}}for(i=l-1;i>=0;--i){f=_1b4[i];m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,_1b6?_1b6[i]:a);}}f=this.postscript;if(f){f.apply(this,args);}};};function _1b8(ctor,_1b9){return function(){var a=arguments,t=a,a0=a[0],f;if(!(this instanceof a.callee)){return _1b7(a);}if(_1b9){if(a0){f=a0.preamble;if(f){t=f.apply(this,t)||t;}}f=this.preamble;if(f){f.apply(this,t);}}if(ctor){ctor.apply(this,a);}f=this.postscript;if(f){f.apply(this,a);}};};function _1ba(_1bb){return function(){var a=arguments,i=0,f,m;if(!(this instanceof a.callee)){return _1b7(a);}for(;f=_1bb[i];++i){m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,a);break;}}f=this.postscript;if(f){f.apply(this,a);}};};function _1bc(name,_1bd,_1be){return function(){var b,m,f,i=0,step=1;if(_1be){i=_1bd.length-1;step=-1;}for(;b=_1bd[i];i+=step){m=b._meta;f=(m?m.hidden:b.prototype)[name];if(f){f.apply(this,arguments);}}};};function _1bf(ctor){xtor.prototype=ctor.prototype;var t=new xtor;xtor.prototype=null;return t;};function _1b7(args){var ctor=args.callee,t=_1bf(ctor);ctor.apply(t,args);return t;};function _1af(_1c0,_1c1,_1c2){if(typeof _1c0!="string"){_1c2=_1c1;_1c1=_1c0;_1c0="";}_1c2=_1c2||{};var _1c3,i,t,ctor,name,_1c4,_1c5,_1c6=1,_1c7=_1c1;if(opts.call(_1c1)=="[object Array]"){_1c4=_192(_1c1,_1c0);t=_1c4[0];_1c6=_1c4.length-t;_1c1=_1c4[_1c6];}else{_1c4=[0];if(_1c1){if(opts.call(_1c1)=="[object Function]"){t=_1c1._meta;_1c4=_1c4.concat(t?t.bases:_1c1);}else{err("base class is not a callable constructor.",_1c0);}}else{if(_1c1!==null){err("unknown base class. Did you use dojo.require to pull it in?",_1c0);}}}if(_1c1){for(i=_1c6-1;;--i){_1c3=_1bf(_1c1);if(!i){break;}t=_1c4[i];(t._meta?_1a5:mix)(_1c3,t.prototype);ctor=new Function;ctor.superclass=_1c1;ctor.prototype=_1c3;_1c1=_1c3.constructor=ctor;}}else{_1c3={};}_1af.safeMixin(_1c3,_1c2);t=_1c2.constructor;if(t!==op.constructor){t.nom=_191;_1c3.constructor=t;}for(i=_1c6-1;i;--i){t=_1c4[i]._meta;if(t&&t.chains){_1c5=mix(_1c5||{},t.chains);}}if(_1c3["-chains-"]){_1c5=mix(_1c5||{},_1c3["-chains-"]);}t=!_1c5||!_1c5.hasOwnProperty(_191);_1c4[0]=ctor=(_1c5&&_1c5.constructor==="manual")?_1ba(_1c4):(_1c4.length==1?_1b8(_1c2.constructor,t):_1b3(_1c4,t));ctor._meta={bases:_1c4,hidden:_1c2,chains:_1c5,parents:_1c7,ctor:_1c2.constructor};ctor.superclass=_1c1&&_1c1.prototype;ctor.extend=_1ad;ctor.createSubclass=_1b0;ctor.prototype=_1c3;_1c3.constructor=ctor;_1c3.getInherited=_1a0;_1c3.isInstanceOf=_1a3;_1c3.inherited=_1a2;_1c3.__inherited=_19a;if(_1c0){_1c3.declaredClass=_1c0;lang.setObject(_1c0,ctor);}if(_1c5){for(name in _1c5){if(_1c3[name]&&typeof _1c5[name]=="string"&&name!=_191){t=_1c3[name]=_1bc(name,_1c4,_1c5[name]==="after");t.nom=name;}}}return ctor;};dojo.safeMixin=_1af.safeMixin=_1a9;dojo.declare=_1af;return _1af;});},"dojo/_base/connect":function(){define(["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(dojo,on,hub,_1c8,_1c9,_1ca,has,lang){has.add("events-keypress-typed",function(){var _1cb={charCode:0};try{_1cb=document.createEvent("KeyboardEvent");(_1cb.initKeyboardEvent||_1cb.initKeyEvent).call(_1cb,"keypress",true,true,null,false,false,false,false,9,3);}catch(e){}return _1cb.charCode==0&&!has("opera");});function _1cc(obj,_1cd,_1ce,_1cf,_1d0){_1cf=lang.hitch(_1ce,_1cf);if(!obj||!(obj.addEventListener||obj.attachEvent)){return _1c8.after(obj||dojo.global,_1cd,_1cf,true);}if(typeof _1cd=="string"&&_1cd.substring(0,2)=="on"){_1cd=_1cd.substring(2);}if(!obj){obj=dojo.global;}if(!_1d0){switch(_1cd){case "keypress":_1cd=_1d1;break;case "mouseenter":_1cd=_1ca.enter;break;case "mouseleave":_1cd=_1ca.leave;break;}}return on(obj,_1cd,_1cf,_1d0);};var _1d2={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113};var _1d3=has("mac")?"metaKey":"ctrlKey";var _1d4=function(evt,_1d5){var faux=lang.mixin({},evt,_1d5);_1d6(faux);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;};function _1d6(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _1d1;if(has("events-keypress-typed")){var _1d7=function(e,code){try{return (e.keyCode=code);}catch(e){return 0;}};_1d1=function(_1d8,_1d9){var _1da=on(_1d8,"keydown",function(evt){var k=evt.keyCode;var _1db=(k!=13)&&k!=32&&(k!=27||!has("ie"))&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222)&&k!=229;if(_1db||evt.ctrlKey){var c=_1db?0:k;if(evt.ctrlKey){if(k==3||k==13){return _1d9.call(evt.currentTarget,evt);}else{if(c>95&&c<106){c-=48;}else{if((!evt.shiftKey)&&(c>=65&&c<=90)){c+=32;}else{c=_1d2[c]||c;}}}}var faux=_1d4(evt,{type:"keypress",faux:true,charCode:c});_1d9.call(evt.currentTarget,faux);if(has("ie")){_1d7(evt,faux.keyCode);}}});var _1dc=on(_1d8,"keypress",function(evt){var c=evt.charCode;c=c>=32?c:0;evt=_1d4(evt,{charCode:c,faux:true});return _1d9.call(this,evt);});return {remove:function(){_1da.remove();_1dc.remove();}};};}else{if(has("opera")){_1d1=function(_1dd,_1de){return on(_1dd,"keypress",function(evt){var c=evt.which;if(c==3){c=99;}c=c<32&&!evt.shiftKey?0:c;if(evt.ctrlKey&&!evt.shiftKey&&c>=65&&c<=90){c+=32;}return _1de.call(this,_1d4(evt,{charCode:c}));});};}else{_1d1=function(_1df,_1e0){return on(_1df,"keypress",function(evt){_1d6(evt);return _1e0.call(this,evt);});};}}var _1e1={_keypress:_1d1,connect:function(obj,_1e2,_1e3,_1e4,_1e5){var a=arguments,args=[],i=0;args.push(typeof a[0]=="string"?null:a[i++],a[i++]);var a1=a[i+1];args.push(typeof a1=="string"||typeof a1=="function"?a[i++]:null,a[i++]);for(var l=a.length;i<l;i++){args.push(a[i]);}return _1cc.apply(this,args);},disconnect:function(_1e6){if(_1e6){_1e6.remove();}},subscribe:function(_1e7,_1e8,_1e9){return hub.subscribe(_1e7,lang.hitch(_1e8,_1e9));},publish:function(_1ea,args){return hub.publish.apply(hub,[_1ea].concat(args));},connectPublisher:function(_1eb,obj,_1ec){var pf=function(){_1e1.publish(_1eb,arguments);};return _1ec?_1e1.connect(obj,_1ec,pf):_1e1.connect(obj,pf);},isCopyKey:function(e){return e[_1d3];}};_1e1.unsubscribe=_1e1.disconnect;1&&lang.mixin(dojo,_1e1);return _1e1;});},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(_1ed,dojo,has){"use strict";if(1){var _1ee=window.ScriptEngineMajorVersion;has.add("jscript",_1ee&&(_1ee()+ScriptEngineMinorVersion()/10));has.add("event-orientationchange",has("touch")&&!has("android"));has.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);has.add("event-focusin",function(_1ef,doc,_1f0){return "onfocusin" in _1f0;});}var on=function(_1f1,type,_1f2,_1f3){if(typeof _1f1.on=="function"&&typeof type!="function"&&!_1f1.nodeType){return _1f1.on(type,_1f2);}return on.parse(_1f1,type,_1f2,_1f4,_1f3,this);};on.pausable=function(_1f5,type,_1f6,_1f7){var _1f8;var _1f9=on(_1f5,type,function(){if(!_1f8){return _1f6.apply(this,arguments);}},_1f7);_1f9.pause=function(){_1f8=true;};_1f9.resume=function(){_1f8=false;};return _1f9;};on.once=function(_1fa,type,_1fb,_1fc){var _1fd=on(_1fa,type,function(){_1fd.remove();return _1fb.apply(this,arguments);});return _1fd;};on.parse=function(_1fe,type,_1ff,_200,_201,_202){if(type.call){return type.call(_202,_1fe,_1ff);}if(type.indexOf(",")>-1){var _203=type.split(/\s*,\s*/);var _204=[];var i=0;var _205;while(_205=_203[i++]){_204.push(_200(_1fe,_205,_1ff,_201,_202));}_204.remove=function(){for(var i=0;i<_204.length;i++){_204[i].remove();}};return _204;}return _200(_1fe,type,_1ff,_201,_202);};var _206=/^touch/;function _1f4(_207,type,_208,_209,_20a){var _20b=type.match(/(.*):(.*)/);if(_20b){type=_20b[2];_20b=_20b[1];return on.selector(_20b,type).call(_20a,_207,_208);}if(has("touch")){if(_206.test(type)){_208=_20c(_208);}if(!has("event-orientationchange")&&(type=="orientationchange")){type="resize";_207=window;_208=_20c(_208);}}if(_20d){_208=_20d(_208);}if(_207.addEventListener){var _20e=type in _20f,_210=_20e?_20f[type]:type;_207.addEventListener(_210,_208,_20e);return {remove:function(){_207.removeEventListener(_210,_208,_20e);}};}type="on"+type;if(_211&&_207.attachEvent){return _211(_207,type,_208);}throw new Error("Target must be an event emitter");};on.selector=function(_212,_213,_214){return function(_215,_216){var _217=typeof _212=="function"?{matches:_212}:this,_218=_213.bubble;function _219(_21a){_217=_217&&_217.matches?_217:dojo.query;while(!_217.matches(_21a,_212,_215)){if(_21a==_215||_214===false||!(_21a=_21a.parentNode)||_21a.nodeType!=1){return;}}return _21a;};if(_218){return on(_215,_218(_219),_216);}return on(_215,_213,function(_21b){var _21c=_219(_21b.target);return _21c&&_216.call(_21c,_21b);});};};function _21d(){this.cancelable=false;this.defaultPrevented=true;};function _21e(){this.bubbles=false;};var _21f=[].slice,_220=on.emit=function(_221,type,_222){var args=_21f.call(arguments,2);var _223="on"+type;if("parentNode" in _221){var _224=args[0]={};for(var i in _222){_224[i]=_222[i];}_224.preventDefault=_21d;_224.stopPropagation=_21e;_224.target=_221;_224.type=type;_222=_224;}do{_221[_223]&&_221[_223].apply(_221,args);}while(_222&&_222.bubbles&&(_221=_221.parentNode));return _222&&_222.cancelable&&_222;};var _20f=has("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!has("event-stopimmediatepropagation")){var _225=function(){this.immediatelyStopped=true;this.modified=true;};var _20d=function(_226){return function(_227){if(!_227.immediatelyStopped){_227.stopImmediatePropagation=_225;return _226.apply(this,arguments);}};};}if(has("dom-addeventlistener")){on.emit=function(_228,type,_229){if(_228.dispatchEvent&&document.createEvent){var _22a=_228.ownerDocument||document;var _22b=_22a.createEvent("HTMLEvents");_22b.initEvent(type,!!_229.bubbles,!!_229.cancelable);for(var i in _229){if(!(i in _22b)){_22b[i]=_229[i];}}return _228.dispatchEvent(_22b)&&_22b;}return _220.apply(on,arguments);};}else{on._fixEvent=function(evt,_22c){if(!evt){var w=_22c&&(_22c.ownerDocument||_22c.document||_22c).parentWindow||window;evt=w.event;}if(!evt){return evt;}try{if(_22d&&evt.type==_22d.type&&evt.srcElement==_22d.target){evt=_22d;}}catch(e){}if(!evt.target){evt.target=evt.srcElement;evt.currentTarget=(_22c||evt.srcElement);if(evt.type=="mouseover"){evt.relatedTarget=evt.fromElement;}if(evt.type=="mouseout"){evt.relatedTarget=evt.toElement;}if(!evt.stopPropagation){evt.stopPropagation=_22e;evt.preventDefault=_22f;}switch(evt.type){case "keypress":var c=("charCode" in evt?evt.charCode:evt.keyCode);if(c==10){c=0;evt.keyCode=13;}else{if(c==13||c==27){c=0;}else{if(c==3){c=99;}}}evt.charCode=c;_230(evt);break;}}return evt;};var _22d,_231=function(_232){this.handle=_232;};_231.prototype.remove=function(){delete _dojoIEListeners_[this.handle];};var _233=function(_234){return function(evt){evt=on._fixEvent(evt,this);var _235=_234.call(this,evt);if(evt.modified){if(!_22d){setTimeout(function(){_22d=null;});}_22d=evt;}return _235;};};var _211=function(_236,type,_237){_237=_233(_237);if(((_236.ownerDocument?_236.ownerDocument.parentWindow:_236.parentWindow||_236.window||window)!=top||has("jscript")<5.8)&&!has("config-_allow_leaks")){if(typeof _dojoIEListeners_=="undefined"){_dojoIEListeners_=[];}var _238=_236[type];if(!_238||!_238.listeners){var _239=_238;_238=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");_238.listeners=[];_236[type]=_238;_238.global=this;if(_239){_238.listeners.push(_dojoIEListeners_.push(_239)-1);}}var _23a;_238.listeners.push(_23a=(_238.global._dojoIEListeners_.push(_237)-1));return new _231(_23a);}return _1ed.after(_236,type,_237,true);};var _230=function(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _22e=function(){this.cancelBubble=true;};var _22f=on._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey){try{this.keyCode=0;}catch(e){}}this.defaultPrevented=true;this.returnValue=false;this.modified=true;};}if(has("touch")){var _23b=function(){};var _23c=window.orientation;var _20c=function(_23d){return function(_23e){var _23f=_23e.corrected;if(!_23f){var type=_23e.type;try{delete _23e.type;}catch(e){}if(_23e.type){if(has("mozilla")){var _23f={};for(var name in _23e){_23f[name]=_23e[name];}}else{_23b.prototype=_23e;var _23f=new _23b;}_23f.preventDefault=function(){_23e.preventDefault();};_23f.stopPropagation=function(){_23e.stopPropagation();};}else{_23f=_23e;_23f.type=type;}_23e.corrected=_23f;if(type=="resize"){if(_23c==window.orientation){return null;}_23c=window.orientation;_23f.type="orientationchange";return _23d.call(this,_23f);}if(!("rotation" in _23f)){_23f.rotation=0;_23f.scale=1;}var _240=_23f.changedTouches[0];for(var i in _240){delete _23f[i];_23f[i]=_240[i];}}return _23d.call(this,_23f);};};}return on;});},"dojo/topic":function(){define(["./Evented"],function(_241){var hub=new _241;return {publish:function(_242,_243){return hub.emit.apply(hub,arguments);},subscribe:function(_244,_245){return hub.on.apply(hub,arguments);}};});},"dojo/Evented":function(){define(["./aspect","./on"],function(_246,on){"use strict";var _247=_246.after;function _248(){};_248.prototype={on:function(type,_249){return on.parse(this,type,_249,function(_24a,type){return _247(_24a,"on"+type,_249,true);});},emit:function(type,_24b){var args=[this];args.push.apply(args,arguments);return on.emit.apply(on,args);}};return _248;});},"dojo/aspect":function(){define([],function(){"use strict";var _24c,_24d=0;function _24e(_24f,type,_250,_251){var _252=_24f[type];var _253=type=="around";var _254;if(_253){var _255=_250(function(){return _252.advice(this,arguments);});_254={remove:function(){if(_255){_255=_24f=_250=null;}},advice:function(_256,args){return _255?_255.apply(_256,args):_252.advice(_256,args);}};}else{_254={remove:function(){if(_254.advice){var _257=_254.previous;var next=_254.next;if(!next&&!_257){delete _24f[type];}else{if(_257){_257.next=next;}else{_24f[type]=next;}if(next){next.previous=_257;}}_24f=_250=_254.advice=null;}},id:_24d++,advice:_250,receiveArguments:_251};}if(_252&&!_253){if(type=="after"){while(_252.next&&(_252=_252.next)){}_252.next=_254;_254.previous=_252;}else{if(type=="before"){_24f[type]=_254;_254.next=_252;_252.previous=_254;}}}else{_24f[type]=_254;}return _254;};function _258(type){return function(_259,_25a,_25b,_25c){var _25d=_259[_25a],_25e;if(!_25d||_25d.target!=_259){_259[_25a]=_25e=function(){var _25f=_24d;var args=arguments;var _260=_25e.before;while(_260){args=_260.advice.apply(this,args)||args;_260=_260.next;}if(_25e.around){var _261=_25e.around.advice(this,args);}var _262=_25e.after;while(_262&&_262.id<_25f){if(_262.receiveArguments){var _263=_262.advice.apply(this,args);_261=_263===_24c?_261:_263;}else{_261=_262.advice.call(this,_261,args);}_262=_262.next;}return _261;};if(_25d){_25e.around={advice:function(_264,args){return _25d.apply(_264,args);}};}_25e.target=_259;}var _265=_24e((_25e||_25d),type,_25b,_25c);_25b=null;return _265;};};var _266=_258("after");var _267=_258("before");var _268=_258("around");return {before:_267,around:_268,after:_266};});},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(dojo,on,has,dom){if(on._fixEvent){var _269=on._fixEvent;on._fixEvent=function(evt,se){evt=_269(evt,se);if(evt){dom.normalizeEvent(evt);}return evt;};}var ret={fix:function(evt,_26a){if(on._fixEvent){return on._fixEvent(evt,_26a);}return evt;},stop:function(evt){if(has("dom-addeventlistener")||(evt&&evt.preventDefault)){evt.preventDefault();evt.stopPropagation();}else{evt=evt||window.event;evt.cancelBubble=true;on._preventDefault.call(evt);}}};if(1){dojo.fixEvent=ret.fix;dojo.stopEvent=ret.stop;}return ret;});},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(has,win,dom,_26b){var geom={};geom.boxModel="content-box";if(has("ie")){geom.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box";}geom.getPadExtents=function getPadExtents(node,_26c){node=dom.byId(node);var s=_26c||_26b.getComputedStyle(node),px=_26b.toPixelValue,l=px(node,s.paddingLeft),t=px(node,s.paddingTop),r=px(node,s.paddingRight),b=px(node,s.paddingBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};var none="none";geom.getBorderExtents=function getBorderExtents(node,_26d){node=dom.byId(node);var px=_26b.toPixelValue,s=_26d||_26b.getComputedStyle(node),l=s.borderLeftStyle!=none?px(node,s.borderLeftWidth):0,t=s.borderTopStyle!=none?px(node,s.borderTopWidth):0,r=s.borderRightStyle!=none?px(node,s.borderRightWidth):0,b=s.borderBottomStyle!=none?px(node,s.borderBottomWidth):0;return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getPadBorderExtents=function getPadBorderExtents(node,_26e){node=dom.byId(node);var s=_26e||_26b.getComputedStyle(node),p=geom.getPadExtents(node,s),b=geom.getBorderExtents(node,s);return {l:p.l+b.l,t:p.t+b.t,r:p.r+b.r,b:p.b+b.b,w:p.w+b.w,h:p.h+b.h};};geom.getMarginExtents=function getMarginExtents(node,_26f){node=dom.byId(node);var s=_26f||_26b.getComputedStyle(node),px=_26b.toPixelValue,l=px(node,s.marginLeft),t=px(node,s.marginTop),r=px(node,s.marginRight),b=px(node,s.marginBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getMarginBox=function getMarginBox(node,_270){node=dom.byId(node);var s=_270||_26b.getComputedStyle(node),me=geom.getMarginExtents(node,s),l=node.offsetLeft-me.l,t=node.offsetTop-me.t,p=node.parentNode,px=_26b.toPixelValue,pcs;if(has("mozilla")){var sl=parseFloat(s.left),st=parseFloat(s.top);if(!isNaN(sl)&&!isNaN(st)){l=sl;t=st;}else{if(p&&p.style){pcs=_26b.getComputedStyle(p);if(pcs.overflow!="visible"){l+=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t+=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}}else{if(has("opera")||(has("ie")==8&&!has("quirks"))){if(p){pcs=_26b.getComputedStyle(p);l-=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t-=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}return {l:l,t:t,w:node.offsetWidth+me.w,h:node.offsetHeight+me.h};};geom.getContentBox=function getContentBox(node,_271){node=dom.byId(node);var s=_271||_26b.getComputedStyle(node),w=node.clientWidth,h,pe=geom.getPadExtents(node,s),be=geom.getBorderExtents(node,s);if(!w){w=node.offsetWidth;h=node.offsetHeight;}else{h=node.clientHeight;be.w=be.h=0;}if(has("opera")){pe.l+=be.l;pe.t+=be.t;}return {l:pe.l,t:pe.t,w:w-pe.w-be.w,h:h-pe.h-be.h};};function _272(node,l,t,w,h,u){u=u||"px";var s=node.style;if(!isNaN(l)){s.left=l+u;}if(!isNaN(t)){s.top=t+u;}if(w>=0){s.width=w+u;}if(h>=0){s.height=h+u;}};function _273(node){return node.tagName.toLowerCase()=="button"||node.tagName.toLowerCase()=="input"&&(node.getAttribute("type")||"").toLowerCase()=="button";};function _274(node){return geom.boxModel=="border-box"||node.tagName.toLowerCase()=="table"||_273(node);};geom.setContentSize=function setContentSize(node,box,_275){node=dom.byId(node);var w=box.w,h=box.h;if(_274(node)){var pb=geom.getPadBorderExtents(node,_275);if(w>=0){w+=pb.w;}if(h>=0){h+=pb.h;}}_272(node,NaN,NaN,w,h);};var _276={l:0,t:0,w:0,h:0};geom.setMarginBox=function setMarginBox(node,box,_277){node=dom.byId(node);var s=_277||_26b.getComputedStyle(node),w=box.w,h=box.h,pb=_274(node)?_276:geom.getPadBorderExtents(node,s),mb=geom.getMarginExtents(node,s);if(has("webkit")){if(_273(node)){var ns=node.style;if(w>=0&&!ns.width){ns.width="4px";}if(h>=0&&!ns.height){ns.height="4px";}}}if(w>=0){w=Math.max(w-pb.w-mb.w,0);}if(h>=0){h=Math.max(h-pb.h-mb.h,0);}_272(node,box.l,box.t,w,h);};geom.isBodyLtr=function isBodyLtr(doc){doc=doc||win.doc;return (win.body(doc).dir||doc.documentElement.dir||"ltr").toLowerCase()=="ltr";};geom.docScroll=function docScroll(doc){doc=doc||win.doc;var node=win.doc.parentWindow||win.doc.defaultView;return "pageXOffset" in node?{x:node.pageXOffset,y:node.pageYOffset}:(node=has("quirks")?win.body(doc):doc.documentElement)&&{x:geom.fixIeBiDiScrollLeft(node.scrollLeft||0,doc),y:node.scrollTop||0};};if(has("ie")){geom.getIeDocumentElementOffset=function getIeDocumentElementOffset(doc){doc=doc||win.doc;var de=doc.documentElement;if(has("ie")<8){var r=de.getBoundingClientRect(),l=r.left,t=r.top;if(has("ie")<7){l+=de.clientLeft;t+=de.clientTop;}return {x:l<0?0:l,y:t<0?0:t};}else{return {x:0,y:0};}};}geom.fixIeBiDiScrollLeft=function fixIeBiDiScrollLeft(_278,doc){doc=doc||win.doc;var ie=has("ie");if(ie&&!geom.isBodyLtr(doc)){var qk=has("quirks"),de=qk?win.body(doc):doc.documentElement,pwin=win.global;if(ie==6&&!qk&&pwin.frameElement&&de.scrollHeight>de.clientHeight){_278+=de.clientLeft;}return (ie<8||qk)?(_278+de.clientWidth-de.scrollWidth):-_278;}return _278;};geom.position=function(node,_279){node=dom.byId(node);var db=win.body(node.ownerDocument),ret=node.getBoundingClientRect();ret={x:ret.left,y:ret.top,w:ret.right-ret.left,h:ret.bottom-ret.top};if(has("ie")<9){var _27a=geom.getIeDocumentElementOffset(node.ownerDocument);ret.x-=_27a.x+(has("quirks")?db.clientLeft+db.offsetLeft:0);ret.y-=_27a.y+(has("quirks")?db.clientTop+db.offsetTop:0);}if(_279){var _27b=geom.docScroll(node.ownerDocument);ret.x+=_27b.x;ret.y+=_27b.y;}return ret;};geom.getMarginSize=function getMarginSize(node,_27c){node=dom.byId(node);var me=geom.getMarginExtents(node,_27c||_26b.getComputedStyle(node));var size=node.getBoundingClientRect();return {w:(size.right-size.left)+me.w,h:(size.bottom-size.top)+me.h};};geom.normalizeEvent=function(_27d){if(!("layerX" in _27d)){_27d.layerX=_27d.offsetX;_27d.layerY=_27d.offsetY;}if(!has("dom-addeventlistener")){var se=_27d.target;var doc=(se&&se.ownerDocument)||document;var _27e=has("quirks")?doc.body:doc.documentElement;var _27f=geom.getIeDocumentElementOffset(doc);_27d.pageX=_27d.clientX+geom.fixIeBiDiScrollLeft(_27e.scrollLeft||0,doc)-_27f.x;_27d.pageY=_27d.clientY+(_27e.scrollTop||0)-_27f.y;}};return geom;});},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(dojo,lang,has){var ret={global:dojo.global,doc:this["document"]||null,body:function(doc){doc=doc||dojo.doc;return doc.body||doc.getElementsByTagName("body")[0];},setContext:function(_280,_281){dojo.global=ret.global=_280;dojo.doc=ret.doc=_281;},withGlobal:function(_282,_283,_284,_285){var _286=dojo.global;try{dojo.global=ret.global=_282;return ret.withDoc.call(null,_282.document,_283,_284,_285);}finally{dojo.global=ret.global=_286;}},withDoc:function(_287,_288,_289,_28a){var _28b=ret.doc,oldQ=has("quirks"),_28c=has("ie"),isIE,mode,pwin;try{dojo.doc=ret.doc=_287;dojo.isQuirks=has.add("quirks",dojo.doc.compatMode=="BackCompat",true,true);if(has("ie")){if((pwin=_287.parentWindow)&&pwin.navigator){isIE=parseFloat(pwin.navigator.appVersion.split("MSIE ")[1])||undefined;mode=_287.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}dojo.isIE=has.add("ie",isIE,true,true);}}if(_289&&typeof _288=="string"){_288=_289[_288];}return _288.apply(_289,_28a||[]);}finally{dojo.doc=ret.doc=_28b;dojo.isQuirks=has.add("quirks",oldQ,true,true);dojo.isIE=has.add("ie",_28c,true,true);}}};1&&lang.mixin(dojo,ret);return ret;});},"dojo/dom":function(){define(["./sniff","./_base/window"],function(has,win){if(has("ie")<=7){try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}}var dom={};if(has("ie")){dom.byId=function(id,doc){if(typeof id!="string"){return id;}var _28d=doc||win.doc,te=id&&_28d.getElementById(id);if(te&&(te.attributes.id.value==id||te.id==id)){return te;}else{var eles=_28d.all[id];if(!eles||eles.nodeName){eles=[eles];}var i=0;while((te=eles[i++])){if((te.attributes&&te.attributes.id&&te.attributes.id.value==id)||te.id==id){return te;}}}};}else{dom.byId=function(id,doc){return ((typeof id=="string")?(doc||win.doc).getElementById(id):id)||null;};}dom.isDescendant=function(node,_28e){try{node=dom.byId(node);_28e=dom.byId(_28e);while(node){if(node==_28e){return true;}node=node.parentNode;}}catch(e){}return false;};has.add("css-user-select",function(_28f,doc,_290){if(!_290){return false;}var _291=_290.style;var _292=["Khtml","O","ms","Moz","Webkit"],i=_292.length,name="userSelect",_293;do{if(typeof _291[name]!=="undefined"){return name;}}while(i--&&(name=_292[i]+"UserSelect"));return false;});var _294=has("css-user-select");dom.setSelectable=_294?function(node,_295){dom.byId(node).style[_294]=_295?"":"none";}:function(node,_296){node=dom.byId(node);var _297=node.getElementsByTagName("*"),i=_297.length;if(_296){node.removeAttribute("unselectable");while(i--){_297[i].removeAttribute("unselectable");}}else{node.setAttribute("unselectable","on");while(i--){_297[i].setAttribute("unselectable","on");}}};return dom;});},"dojo/dom-style":function(){define(["./sniff","./dom"],function(has,dom){var _298,_299={};if(has("webkit")){_298=function(node){var s;if(node.nodeType==1){var dv=node.ownerDocument.defaultView;s=dv.getComputedStyle(node,null);if(!s&&node.style){node.style.display="";s=dv.getComputedStyle(node,null);}}return s||{};};}else{if(has("ie")&&(has("ie")<9||has("quirks"))){_298=function(node){return node.nodeType==1&&node.currentStyle?node.currentStyle:{};};}else{_298=function(node){return node.nodeType==1?node.ownerDocument.defaultView.getComputedStyle(node,null):{};};}}_299.getComputedStyle=_298;var _29a;if(!has("ie")){_29a=function(_29b,_29c){return parseFloat(_29c)||0;};}else{_29a=function(_29d,_29e){if(!_29e){return 0;}if(_29e=="medium"){return 4;}if(_29e.slice&&_29e.slice(-2)=="px"){return parseFloat(_29e);}var s=_29d.style,rs=_29d.runtimeStyle,cs=_29d.currentStyle,_29f=s.left,_2a0=rs.left;rs.left=cs.left;try{s.left=_29e;_29e=s.pixelLeft;}catch(e){_29e=0;}s.left=_29f;rs.left=_2a0;return _29e;};}_299.toPixelValue=_29a;var astr="DXImageTransform.Microsoft.Alpha";var af=function(n,f){try{return n.filters.item(astr);}catch(e){return f?{}:null;}};var _2a1=has("ie")<9||(has("ie")<10&&has("quirks"))?function(node){try{return af(node).Opacity/100;}catch(e){return 1;}}:function(node){return _298(node).opacity;};var _2a2=has("ie")<9||(has("ie")<10&&has("quirks"))?function(node,_2a3){if(_2a3===""){_2a3=1;}var ov=_2a3*100,_2a4=_2a3===1;if(_2a4){node.style.zoom="";if(af(node)){node.style.filter=node.style.filter.replace(new RegExp("\\s*progid:"+astr+"\\([^\\)]+?\\)","i"),"");}}else{node.style.zoom=1;if(af(node)){af(node,1).Opacity=ov;}else{node.style.filter+=" progid:"+astr+"(Opacity="+ov+")";}af(node,1).Enabled=true;}if(node.tagName.toLowerCase()=="tr"){for(var td=node.firstChild;td;td=td.nextSibling){if(td.tagName.toLowerCase()=="td"){_2a2(td,_2a3);}}}return _2a3;}:function(node,_2a5){return node.style.opacity=_2a5;};var _2a6={left:true,top:true};var _2a7=/margin|padding|width|height|max|min|offset/;function _2a8(node,type,_2a9){type=type.toLowerCase();if(has("ie")){if(_2a9=="auto"){if(type=="height"){return node.offsetHeight;}if(type=="width"){return node.offsetWidth;}}if(type=="fontweight"){switch(_2a9){case 700:return "bold";case 400:default:return "normal";}}}if(!(type in _2a6)){_2a6[type]=_2a7.test(type);}return _2a6[type]?_29a(node,_2a9):_2a9;};var _2aa={cssFloat:1,styleFloat:1,"float":1};_299.get=function getStyle(node,name){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");if(l==2&&op){return _2a1(n);}name=_2aa[name]?"cssFloat" in n.style?"cssFloat":"styleFloat":name;var s=_299.getComputedStyle(n);return (l==1)?s:_2a8(n,name,s[name]||n.style[name]);};_299.set=function setStyle(node,name,_2ab){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");name=_2aa[name]?"cssFloat" in n.style?"cssFloat":"styleFloat":name;if(l==3){return op?_2a2(n,_2ab):n.style[name]=_2ab;}for(var x in name){_299.set(node,x,name[x]);}return _299.getComputedStyle(n);};return _299;});},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(dojo,on,has,dom,win){has.add("dom-quirks",win.doc&&win.doc.compatMode=="BackCompat");has.add("events-mouseenter",win.doc&&"onmouseenter" in win.doc.createElement("div"));has.add("events-mousewheel",win.doc&&"onmousewheel" in win.doc);var _2ac;if((has("dom-quirks")&&has("ie"))||!has("dom-addeventlistener")){_2ac={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,_2ad){return e.button&_2ad;},isLeft:function(e){return e.button&1;},isMiddle:function(e){return e.button&4;},isRight:function(e){return e.button&2;}};}else{_2ac={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,_2ae){return e.button==_2ae;},isLeft:function(e){return e.button==0;},isMiddle:function(e){return e.button==1;},isRight:function(e){return e.button==2;}};}dojo.mouseButtons=_2ac;function _2af(type,_2b0){var _2b1=function(node,_2b2){return on(node,type,function(evt){if(_2b0){return _2b0(evt,_2b2);}if(!dom.isDescendant(evt.relatedTarget,node)){return _2b2.call(this,evt);}});};_2b1.bubble=function(_2b3){return _2af(type,function(evt,_2b4){var _2b5=_2b3(evt.target);var _2b6=evt.relatedTarget;if(_2b5&&(_2b5!=(_2b6&&_2b6.nodeType==1&&_2b3(_2b6)))){return _2b4.call(_2b5,evt);}});};return _2b1;};var _2b7;if(has("events-mousewheel")){_2b7="mousewheel";}else{_2b7=function(node,_2b8){return on(node,"DOMMouseScroll",function(evt){evt.wheelDelta=-evt.detail;_2b8.call(this,evt);});};}return {_eventHandler:_2af,enter:_2af("mouseover"),leave:_2af("mouseout"),wheel:_2b7,isLeft:_2ac.isLeft,isMiddle:_2ac.isMiddle,isRight:_2ac.isRight};});},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(dojo,lang,has){if(!1){return has;}dojo._name="browser";lang.mixin(dojo,{isBrowser:true,isFF:has("ff"),isIE:has("ie"),isKhtml:has("khtml"),isWebKit:has("webkit"),isMozilla:has("mozilla"),isMoz:has("mozilla"),isOpera:has("opera"),isSafari:has("safari"),isChrome:has("chrome"),isMac:has("mac"),isIos:has("ios"),isAndroid:has("android"),isWii:has("wii"),isQuirks:has("quirks"),isAir:has("air")});return has;});},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(dojo,has){return dojo.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:has("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:has("mac")&&!has("air")?(has("safari")?91:224):17};});},"dojo/_base/Deferred":function(){define(["./kernel","../Deferred","../promise/Promise","../errors/CancelError","../has","./lang","../when"],function(dojo,_2b9,_2ba,_2bb,has,lang,when){var _2bc=function(){};var _2bd=Object.freeze||function(){};var _2be=dojo.Deferred=function(_2bf){var _2c0,_2c1,_2c2,_2c3,_2c4,head,_2c5;var _2c6=(this.promise=new _2ba());function _2c7(_2c8){if(_2c1){throw new Error("This deferred has already been resolved");}_2c0=_2c8;_2c1=true;_2c9();};function _2c9(){var _2ca;while(!_2ca&&_2c5){var _2cb=_2c5;_2c5=_2c5.next;if((_2ca=(_2cb.progress==_2bc))){_2c1=false;}var func=(_2c4?_2cb.error:_2cb.resolved);if(has("config-useDeferredInstrumentation")){if(_2c4&&_2b9.instrumentRejected){_2b9.instrumentRejected(_2c0,!!func);}}if(func){try{var _2cc=func(_2c0);if(_2cc&&typeof _2cc.then==="function"){_2cc.then(lang.hitch(_2cb.deferred,"resolve"),lang.hitch(_2cb.deferred,"reject"),lang.hitch(_2cb.deferred,"progress"));continue;}var _2cd=_2ca&&_2cc===undefined;if(_2ca&&!_2cd){_2c4=_2cc instanceof Error;}_2cb.deferred[_2cd&&_2c4?"reject":"resolve"](_2cd?_2c0:_2cc);}catch(e){_2cb.deferred.reject(e);}}else{if(_2c4){_2cb.deferred.reject(_2c0);}else{_2cb.deferred.resolve(_2c0);}}}};this.isResolved=_2c6.isResolved=function(){return _2c3==0;};this.isRejected=_2c6.isRejected=function(){return _2c3==1;};this.isFulfilled=_2c6.isFulfilled=function(){return _2c3>=0;};this.isCanceled=_2c6.isCanceled=function(){return _2c2;};this.resolve=this.callback=function(_2ce){this.fired=_2c3=0;this.results=[_2ce,null];_2c7(_2ce);};this.reject=this.errback=function(_2cf){_2c4=true;this.fired=_2c3=1;if(has("config-useDeferredInstrumentation")){if(_2b9.instrumentRejected){_2b9.instrumentRejected(_2cf,!!_2c5);}}_2c7(_2cf);this.results=[null,_2cf];};this.progress=function(_2d0){var _2d1=_2c5;while(_2d1){var _2d2=_2d1.progress;_2d2&&_2d2(_2d0);_2d1=_2d1.next;}};this.addCallbacks=function(_2d3,_2d4){this.then(_2d3,_2d4,_2bc);return this;};_2c6.then=this.then=function(_2d5,_2d6,_2d7){var _2d8=_2d7==_2bc?this:new _2be(_2c6.cancel);var _2d9={resolved:_2d5,error:_2d6,progress:_2d7,deferred:_2d8};if(_2c5){head=head.next=_2d9;}else{_2c5=head=_2d9;}if(_2c1){_2c9();}return _2d8.promise;};var _2da=this;_2c6.cancel=this.cancel=function(){if(!_2c1){var _2db=_2bf&&_2bf(_2da);if(!_2c1){if(!(_2db instanceof Error)){_2db=new _2bb(_2db);}_2db.log=false;_2da.reject(_2db);}}_2c2=true;};_2bd(_2c6);};lang.extend(_2be,{addCallback:function(_2dc){return this.addCallbacks(lang.hitch.apply(dojo,arguments));},addErrback:function(_2dd){return this.addCallbacks(null,lang.hitch.apply(dojo,arguments));},addBoth:function(_2de){var _2df=lang.hitch.apply(dojo,arguments);return this.addCallbacks(_2df,_2df);},fired:-1});_2be.when=dojo.when=when;return _2be;});},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(has,lang,_2e0,_2e1,_2e2){"use strict";var _2e3=0,_2e4=1,_2e5=2;var _2e6="This deferred has already been fulfilled.";var _2e7=Object.freeze||function(){};var _2e8=function(_2e9,type,_2ea,_2eb,_2ec){if(1){if(type===_2e5&&_2ed.instrumentRejected&&_2e9.length===0){_2ed.instrumentRejected(_2ea,false,_2eb,_2ec);}}for(var i=0;i<_2e9.length;i++){_2ee(_2e9[i],type,_2ea,_2eb);}};var _2ee=function(_2ef,type,_2f0,_2f1){var func=_2ef[type];var _2f2=_2ef.deferred;if(func){try{var _2f3=func(_2f0);if(type===_2e3){if(typeof _2f3!=="undefined"){_2f4(_2f2,type,_2f3);}}else{if(_2f3&&typeof _2f3.then==="function"){_2ef.cancel=_2f3.cancel;_2f3.then(_2f5(_2f2,_2e4),_2f5(_2f2,_2e5),_2f5(_2f2,_2e3));return;}_2f4(_2f2,_2e4,_2f3);}}catch(error){_2f4(_2f2,_2e5,error);}}else{_2f4(_2f2,type,_2f0);}if(1){if(type===_2e5&&_2ed.instrumentRejected){_2ed.instrumentRejected(_2f0,!!func,_2f1,_2f2.promise);}}};var _2f5=function(_2f6,type){return function(_2f7){_2f4(_2f6,type,_2f7);};};var _2f4=function(_2f8,type,_2f9){if(!_2f8.isCanceled()){switch(type){case _2e3:_2f8.progress(_2f9);break;case _2e4:_2f8.resolve(_2f9);break;case _2e5:_2f8.reject(_2f9);break;}}};var _2ed=function(_2fa){var _2fb=this.promise=new _2e1();var _2fc=this;var _2fd,_2fe,_2ff;var _300=false;var _301=[];if(1&&Error.captureStackTrace){Error.captureStackTrace(_2fc,_2ed);Error.captureStackTrace(_2fb,_2ed);}this.isResolved=_2fb.isResolved=function(){return _2fd===_2e4;};this.isRejected=_2fb.isRejected=function(){return _2fd===_2e5;};this.isFulfilled=_2fb.isFulfilled=function(){return !!_2fd;};this.isCanceled=_2fb.isCanceled=function(){return _300;};this.progress=function(_302,_303){if(!_2fd){_2e8(_301,_2e3,_302,null,_2fc);return _2fb;}else{if(_303===true){throw new Error(_2e6);}else{return _2fb;}}};this.resolve=function(_304,_305){if(!_2fd){_2e8(_301,_2fd=_2e4,_2fe=_304,null,_2fc);_301=null;return _2fb;}else{if(_305===true){throw new Error(_2e6);}else{return _2fb;}}};var _306=this.reject=function(_307,_308){if(!_2fd){if(1&&Error.captureStackTrace){Error.captureStackTrace(_2ff={},_306);}_2e8(_301,_2fd=_2e5,_2fe=_307,_2ff,_2fc);_301=null;return _2fb;}else{if(_308===true){throw new Error(_2e6);}else{return _2fb;}}};this.then=_2fb.then=function(_309,_30a,_30b){var _30c=[_30b,_309,_30a];_30c.cancel=_2fb.cancel;_30c.deferred=new _2ed(function(_30d){return _30c.cancel&&_30c.cancel(_30d);});if(_2fd&&!_301){_2ee(_30c,_2fd,_2fe,_2ff);}else{_301.push(_30c);}return _30c.deferred.promise;};this.cancel=_2fb.cancel=function(_30e,_30f){if(!_2fd){if(_2fa){var _310=_2fa(_30e);_30e=typeof _310==="undefined"?_30e:_310;}_300=true;if(!_2fd){if(typeof _30e==="undefined"){_30e=new _2e0();}_306(_30e);return _30e;}else{if(_2fd===_2e5&&_2fe===_30e){return _30e;}}}else{if(_30f===true){throw new Error(_2e6);}}};_2e7(_2fb);};_2ed.prototype.toString=function(){return "[object Deferred]";};if(_2e2){_2e2(_2ed);}return _2ed;});},"dojo/errors/CancelError":function(){define(["./create"],function(_311){return _311("CancelError",null,null,{dojoType:"cancel"});});},"dojo/errors/create":function(){define(["../_base/lang"],function(lang){return function(name,ctor,base,_312){base=base||Error;var _313=function(_314){if(base===Error){if(Error.captureStackTrace){Error.captureStackTrace(this,_313);}var err=Error.call(this,_314),prop;for(prop in err){if(err.hasOwnProperty(prop)){this[prop]=err[prop];}}this.message=_314;this.stack=err.stack;}else{base.apply(this,arguments);}if(ctor){ctor.apply(this,arguments);}};_313.prototype=lang.delegate(base.prototype,_312);_313.prototype.name=name;_313.prototype.constructor=_313;return _313;};});},"dojo/promise/Promise":function(){define(["../_base/lang"],function(lang){"use strict";function _315(){throw new TypeError("abstract");};return lang.extend(function Promise(){},{then:function(_316,_317,_318){_315();},cancel:function(_319,_31a){_315();},isResolved:function(){_315();},isRejected:function(){_315();},isFulfilled:function(){_315();},isCanceled:function(){_315();},always:function(_31b){return this.then(_31b,_31b);},otherwise:function(_31c){return this.then(null,_31c);},trace:function(){return this;},traceRejected:function(){return this;},toString:function(){return "[object Promise]";}});});},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(_31d,has,lang,_31e){function _31f(_320,_321,_322){var _323="";if(_320&&_320.stack){_323+=_320.stack;}if(_321&&_321.stack){_323+="\n    ----------------------------------------\n    rejected"+_321.stack.split("\n").slice(1).join("\n").replace(/^\s+/," ");}if(_322&&_322.stack){_323+="\n    ----------------------------------------\n"+_322.stack;}console.error(_320,_323);};function _324(_325,_326,_327,_328){if(!_326){_31f(_325,_327,_328);}};var _329=[];var _32a=false;var _32b=1000;function _32c(_32d,_32e,_32f,_330){if(_32e){_31e.some(_329,function(obj,ix){if(obj.error===_32d){_329.splice(ix,1);return true;}});}else{if(!_31e.some(_329,function(obj){return obj.error===_32d;})){_329.push({error:_32d,rejection:_32f,deferred:_330,timestamp:new Date().getTime()});}}if(!_32a){_32a=setTimeout(_331,_32b);}};function _331(){var now=new Date().getTime();var _332=now-_32b;_329=_31e.filter(_329,function(obj){if(obj.timestamp<_332){_31f(obj.error,obj.rejection,obj.deferred);return false;}return true;});if(_329.length){_32a=setTimeout(_331,_329[0].timestamp+_32b-now);}else{_32a=false;}};return function(_333){var _334=has("config-useDeferredInstrumentation");if(_334){_31d.on("resolved",lang.hitch(console,"log","resolved"));_31d.on("rejected",lang.hitch(console,"log","rejected"));_31d.on("progress",lang.hitch(console,"log","progress"));var args=[];if(typeof _334==="string"){args=_334.split(",");_334=args.shift();}if(_334==="report-rejections"){_333.instrumentRejected=_324;}else{if(_334==="report-unhandled-rejections"||_334===true||_334===1){_333.instrumentRejected=_32c;_32b=parseInt(args[0],10)||_32b;}else{throw new Error("Unsupported instrumentation usage <"+_334+">");}}}};});},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(lang,_335,_336){"use strict";var _337=new _336;var emit=_337.emit;_337.emit=null;function _338(args){setTimeout(function(){emit.apply(_337,args);},0);};_335.prototype.trace=function(){var args=lang._toArray(arguments);this.then(function(_339){_338(["resolved",_339].concat(args));},function(_33a){_338(["rejected",_33a].concat(args));},function(_33b){_338(["progress",_33b].concat(args));});return this;};_335.prototype.traceRejected=function(){var args=lang._toArray(arguments);this.otherwise(function(_33c){_338(["rejected",_33c].concat(args));});return this;};return _337;});},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(_33d,_33e){"use strict";return function when(_33f,_340,_341,_342){var _343=_33f&&typeof _33f.then==="function";var _344=_343&&_33f instanceof _33e;if(!_343){if(arguments.length>1){return _340?_340(_33f):_33f;}else{return new _33d().resolve(_33f);}}else{if(!_344){var _345=new _33d(_33f.cancel);_33f.then(_345.resolve,_345.reject,_345.progress);_33f=_345.promise;}}if(_340||_341||_342){return _33f.then(_340,_341,_342);}return _33f;};});},"dojo/_base/json":function(){define(["./kernel","../json"],function(dojo,json){dojo.fromJson=function(js){return eval("("+js+")");};dojo._escapeString=json.stringify;dojo.toJsonIndentStr="\t";dojo.toJson=function(it,_346){return json.stringify(it,function(key,_347){if(_347){var tf=_347.__json__||_347.json;if(typeof tf=="function"){return tf.call(_347);}}return _347;},_346&&dojo.toJsonIndentStr);};return dojo;});},"dojo/json":function(){define(["./has"],function(has){"use strict";var _348=typeof JSON!="undefined";has.add("json-parse",_348);has.add("json-stringify",_348&&JSON.stringify({a:0},function(k,v){return v||1;})=="{\"a\":1}");if(has("json-stringify")){return JSON;}else{var _349=function(str){return ("\""+str.replace(/(["\\])/g,"\\$1")+"\"").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r");};return {parse:has("json-parse")?JSON.parse:function(str,_34a){if(_34a&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str)){throw new SyntaxError("Invalid characters in JSON");}return eval("("+str+")");},stringify:function(_34b,_34c,_34d){var _34e;if(typeof _34c=="string"){_34d=_34c;_34c=null;}function _34f(it,_350,key){if(_34c){it=_34c(key,it);}var val,_351=typeof it;if(_351=="number"){return isFinite(it)?it+"":"null";}if(_351=="boolean"){return it+"";}if(it===null){return "null";}if(typeof it=="string"){return _349(it);}if(_351=="function"||_351=="undefined"){return _34e;}if(typeof it.toJSON=="function"){return _34f(it.toJSON(key),_350,key);}if(it instanceof Date){return "\"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z\"".replace(/\{(\w+)(\+)?\}/g,function(t,prop,plus){var num=it["getUTC"+prop]()+(plus?1:0);return num<10?"0"+num:num;});}if(it.valueOf()!==it){return _34f(it.valueOf(),_350,key);}var _352=_34d?(_350+_34d):"";var sep=_34d?" ":"";var _353=_34d?"\n":"";if(it instanceof Array){var itl=it.length,res=[];for(key=0;key<itl;key++){var obj=it[key];val=_34f(obj,_352,key);if(typeof val!="string"){val="null";}res.push(_353+_352+val);}return "["+res.join(",")+_353+_350+"]";}var _354=[];for(key in it){var _355;if(it.hasOwnProperty(key)){if(typeof key=="number"){_355="\""+key+"\"";}else{if(typeof key=="string"){_355=_349(key);}else{continue;}}val=_34f(it[key],_352,key);if(typeof val!="string"){continue;}_354.push(_353+_352+_355+":"+sep+val);}}return "{"+_354.join(",")+_353+_350+"}";};return _34f(_34b,"","");}};}});},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(dojo,lang,_356,_357){var _358=dojo.Color=function(_359){if(_359){this.setColor(_359);}};_358.named={"black":[0,0,0],"silver":[192,192,192],"gray":[128,128,128],"white":[255,255,255],"maroon":[128,0,0],"red":[255,0,0],"purple":[128,0,128],"fuchsia":[255,0,255],"green":[0,128,0],"lime":[0,255,0],"olive":[128,128,0],"yellow":[255,255,0],"navy":[0,0,128],"blue":[0,0,255],"teal":[0,128,128],"aqua":[0,255,255],"transparent":_357.transparentColor||[0,0,0,0]};lang.extend(_358,{r:255,g:255,b:255,a:1,_set:function(r,g,b,a){var t=this;t.r=r;t.g=g;t.b=b;t.a=a;},setColor:function(_35a){if(lang.isString(_35a)){_358.fromString(_35a,this);}else{if(lang.isArray(_35a)){_358.fromArray(_35a,this);}else{this._set(_35a.r,_35a.g,_35a.b,_35a.a);if(!(_35a instanceof _358)){this.sanitize();}}}return this;},sanitize:function(){return this;},toRgb:function(){var t=this;return [t.r,t.g,t.b];},toRgba:function(){var t=this;return [t.r,t.g,t.b,t.a];},toHex:function(){var arr=_356.map(["r","g","b"],function(x){var s=this[x].toString(16);return s.length<2?"0"+s:s;},this);return "#"+arr.join("");},toCss:function(_35b){var t=this,rgb=t.r+", "+t.g+", "+t.b;return (_35b?"rgba("+rgb+", "+t.a:"rgb("+rgb)+")";},toString:function(){return this.toCss(true);}});_358.blendColors=dojo.blendColors=function(_35c,end,_35d,obj){var t=obj||new _358();_356.forEach(["r","g","b","a"],function(x){t[x]=_35c[x]+(end[x]-_35c[x])*_35d;if(x!="a"){t[x]=Math.round(t[x]);}});return t.sanitize();};_358.fromRgb=dojo.colorFromRgb=function(_35e,obj){var m=_35e.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return m&&_358.fromArray(m[1].split(/\s*,\s*/),obj);};_358.fromHex=dojo.colorFromHex=function(_35f,obj){var t=obj||new _358(),bits=(_35f.length==4)?4:8,mask=(1<<bits)-1;_35f=Number("0x"+_35f.substr(1));if(isNaN(_35f)){return null;}_356.forEach(["b","g","r"],function(x){var c=_35f&mask;_35f>>=bits;t[x]=bits==4?17*c:c;});t.a=1;return t;};_358.fromArray=dojo.colorFromArray=function(a,obj){var t=obj||new _358();t._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));if(isNaN(t.a)){t.a=1;}return t.sanitize();};_358.fromString=dojo.colorFromString=function(str,obj){var a=_358.named[str];return a&&_358.fromArray(a,obj)||_358.fromRgb(str,obj)||_358.fromHex(str,obj);};return _358;});},"dojo/_base/browser":function(){if(require.has){require.has.add("config-selectorEngine","acme");}define(["../ready","./kernel","./connect","./unload","./window","./event","./html","./NodeList","../query","./xhr","./fx"],function(dojo){return dojo;});},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(dojo,lang,on){var win=window;var _360={addOnWindowUnload:function(obj,_361){if(!dojo.windowUnloaded){on(win,"unload",(dojo.windowUnloaded=function(){}));}on(win,"unload",lang.hitch(obj,_361));},addOnUnload:function(obj,_362){on(win,"beforeunload",lang.hitch(obj,_362));}};dojo.addOnWindowUnload=_360.addOnWindowUnload;dojo.addOnUnload=_360.addOnUnload;return _360;});},"dojo/_base/html":function(){define(["./kernel","../dom","../dom-style","../dom-attr","../dom-prop","../dom-class","../dom-construct","../dom-geometry"],function(dojo,dom,_363,attr,prop,cls,ctr,geom){dojo.byId=dom.byId;dojo.isDescendant=dom.isDescendant;dojo.setSelectable=dom.setSelectable;dojo.getAttr=attr.get;dojo.setAttr=attr.set;dojo.hasAttr=attr.has;dojo.removeAttr=attr.remove;dojo.getNodeProp=attr.getNodeProp;dojo.attr=function(node,name,_364){if(arguments.length==2){return attr[typeof name=="string"?"get":"set"](node,name);}return attr.set(node,name,_364);};dojo.hasClass=cls.contains;dojo.addClass=cls.add;dojo.removeClass=cls.remove;dojo.toggleClass=cls.toggle;dojo.replaceClass=cls.replace;dojo._toDom=dojo.toDom=ctr.toDom;dojo.place=ctr.place;dojo.create=ctr.create;dojo.empty=function(node){ctr.empty(node);};dojo._destroyElement=dojo.destroy=function(node){ctr.destroy(node);};dojo._getPadExtents=dojo.getPadExtents=geom.getPadExtents;dojo._getBorderExtents=dojo.getBorderExtents=geom.getBorderExtents;dojo._getPadBorderExtents=dojo.getPadBorderExtents=geom.getPadBorderExtents;dojo._getMarginExtents=dojo.getMarginExtents=geom.getMarginExtents;dojo._getMarginSize=dojo.getMarginSize=geom.getMarginSize;dojo._getMarginBox=dojo.getMarginBox=geom.getMarginBox;dojo.setMarginBox=geom.setMarginBox;dojo._getContentBox=dojo.getContentBox=geom.getContentBox;dojo.setContentSize=geom.setContentSize;dojo._isBodyLtr=dojo.isBodyLtr=geom.isBodyLtr;dojo._docScroll=dojo.docScroll=geom.docScroll;dojo._getIeDocumentElementOffset=dojo.getIeDocumentElementOffset=geom.getIeDocumentElementOffset;dojo._fixIeBiDiScrollLeft=dojo.fixIeBiDiScrollLeft=geom.fixIeBiDiScrollLeft;dojo.position=geom.position;dojo.marginBox=function marginBox(node,box){return box?geom.setMarginBox(node,box):geom.getMarginBox(node);};dojo.contentBox=function contentBox(node,box){return box?geom.setContentSize(node,box):geom.getContentBox(node);};dojo.coords=function(node,_365){dojo.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");node=dom.byId(node);var s=_363.getComputedStyle(node),mb=geom.getMarginBox(node,s);var abs=geom.position(node,_365);mb.x=abs.x;mb.y=abs.y;return mb;};dojo.getProp=prop.get;dojo.setProp=prop.set;dojo.prop=function(node,name,_366){if(arguments.length==2){return prop[typeof name=="string"?"get":"set"](node,name);}return prop.set(node,name,_366);};dojo.getStyle=_363.get;dojo.setStyle=_363.set;dojo.getComputedStyle=_363.getComputedStyle;dojo.__toPixelValue=dojo.toPixelValue=_363.toPixelValue;dojo.style=function(node,name,_367){switch(arguments.length){case 1:return _363.get(node);case 2:return _363[typeof name=="string"?"get":"set"](node,name);}return _363.set(node,name,_367);};return dojo;});},"dojo/dom-attr":function(){define(["exports","./sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(_368,has,lang,dom,_369,prop){var _36a={innerHTML:1,className:1,htmlFor:has("ie"),value:1},_36b={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};function _36c(node,name){var attr=node.getAttributeNode&&node.getAttributeNode(name);return attr&&attr.specified;};_368.has=function hasAttr(node,name){var lc=name.toLowerCase();return _36a[prop.names[lc]||name]||_36c(dom.byId(node),_36b[lc]||name);};_368.get=function getAttr(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_36d=prop.names[lc]||name,_36e=_36a[_36d],_36f=node[_36d];if(_36e&&typeof _36f!="undefined"){return _36f;}if(_36d!="href"&&(typeof _36f=="boolean"||lang.isFunction(_36f))){return _36f;}var _370=_36b[lc]||name;return _36c(node,_370)?node.getAttribute(_370):null;};_368.set=function setAttr(node,name,_371){node=dom.byId(node);if(arguments.length==2){for(var x in name){_368.set(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_372=prop.names[lc]||name,_373=_36a[_372];if(_372=="style"&&typeof _371!="string"){_369.set(node,_371);return node;}if(_373||typeof _371=="boolean"||lang.isFunction(_371)){return prop.set(node,name,_371);}node.setAttribute(_36b[lc]||name,_371);return node;};_368.remove=function removeAttr(node,name){dom.byId(node).removeAttribute(_36b[name.toLowerCase()]||name);};_368.getNodeProp=function getNodeProp(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_374=prop.names[lc]||name;if((_374 in node)&&_374!="href"){return node[_374];}var _375=_36b[lc]||name;return _36c(node,_375)?node.getAttribute(_375):null;};});},"dojo/dom-prop":function(){define(["exports","./_base/kernel","./sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(_376,dojo,has,lang,dom,_377,ctr,conn){var _378={},_379=0,_37a=dojo._scopeName+"attrid";_376.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};_376.get=function getProp(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_37b=_376.names[lc]||name;return node[_37b];};_376.set=function setProp(node,name,_37c){node=dom.byId(node);var l=arguments.length;if(l==2&&typeof name!="string"){for(var x in name){_376.set(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_37d=_376.names[lc]||name;if(_37d=="style"&&typeof _37c!="string"){_377.set(node,_37c);return node;}if(_37d=="innerHTML"){if(has("ie")&&node.tagName.toLowerCase() in {col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}){ctr.empty(node);node.appendChild(ctr.toDom(_37c,node.ownerDocument));}else{node[_37d]=_37c;}return node;}if(lang.isFunction(_37c)){var _37e=node[_37a];if(!_37e){_37e=_379++;node[_37a]=_37e;}if(!_378[_37e]){_378[_37e]={};}var h=_378[_37e][_37d];if(h){conn.disconnect(h);}else{try{delete node[_37d];}catch(e){}}if(_37c){_378[_37e][_37d]=conn.connect(node,_37d,_37c);}else{node[_37d]=null;}return node;}node[_37d]=_37c;return node;};});},"dojo/dom-construct":function(){define(["exports","./_base/kernel","./sniff","./_base/window","./dom","./dom-attr"],function(_37f,dojo,has,win,dom,attr){var _380={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},_381=/<\s*([\w\:]+)/,_382={},_383=0,_384="__"+dojo._scopeName+"ToDomId";for(var _385 in _380){if(_380.hasOwnProperty(_385)){var tw=_380[_385];tw.pre=_385=="option"?"<select multiple=\"multiple\">":"<"+tw.join("><")+">";tw.post="</"+tw.reverse().join("></")+">";}}var _386;if(has("ie")<=8){_386=function(doc){doc.__dojo_html5_tested="yes";var div=_387("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},doc.body);if(div.childNodes.length!==1){("abbr article aside audio canvas details figcaption figure footer header "+"hgroup mark meter nav output progress section summary time video").replace(/\b\w+\b/g,function(n){doc.createElement(n);});}_388(div);};}function _389(node,ref){var _38a=ref.parentNode;if(_38a){_38a.insertBefore(node,ref);}};function _38b(node,ref){var _38c=ref.parentNode;if(_38c){if(_38c.lastChild==ref){_38c.appendChild(node);}else{_38c.insertBefore(node,ref.nextSibling);}}};_37f.toDom=function toDom(frag,doc){doc=doc||win.doc;var _38d=doc[_384];if(!_38d){doc[_384]=_38d=++_383+"";_382[_38d]=doc.createElement("div");}if(has("ie")<=8){if(!doc.__dojo_html5_tested&&doc.body){_386(doc);}}frag+="";var _38e=frag.match(_381),tag=_38e?_38e[1].toLowerCase():"",_38f=_382[_38d],wrap,i,fc,df;if(_38e&&_380[tag]){wrap=_380[tag];_38f.innerHTML=wrap.pre+frag+wrap.post;for(i=wrap.length;i;--i){_38f=_38f.firstChild;}}else{_38f.innerHTML=frag;}if(_38f.childNodes.length==1){return _38f.removeChild(_38f.firstChild);}df=doc.createDocumentFragment();while((fc=_38f.firstChild)){df.appendChild(fc);}return df;};_37f.place=function place(node,_390,_391){_390=dom.byId(_390);if(typeof node=="string"){node=/^\s*</.test(node)?_37f.toDom(node,_390.ownerDocument):dom.byId(node);}if(typeof _391=="number"){var cn=_390.childNodes;if(!cn.length||cn.length<=_391){_390.appendChild(node);}else{_389(node,cn[_391<0?0:_391]);}}else{switch(_391){case "before":_389(node,_390);break;case "after":_38b(node,_390);break;case "replace":_390.parentNode.replaceChild(node,_390);break;case "only":_37f.empty(_390);_390.appendChild(node);break;case "first":if(_390.firstChild){_389(node,_390.firstChild);break;}default:_390.appendChild(node);}}return node;};var _387=_37f.create=function _387(tag,_392,_393,pos){var doc=win.doc;if(_393){_393=dom.byId(_393);doc=_393.ownerDocument;}if(typeof tag=="string"){tag=doc.createElement(tag);}if(_392){attr.set(tag,_392);}if(_393){_37f.place(tag,_393,pos);}return tag;};function _394(node){if(node.canHaveChildren){try{node.innerHTML="";return;}catch(e){}}for(var c;c=node.lastChild;){_395(c,node);}};_37f.empty=function empty(node){_394(dom.byId(node));};function _395(node,_396){if(node.firstChild){_394(node);}if(_396){has("ie")&&_396.canHaveChildren&&"removeNode" in node?node.removeNode(false):_396.removeChild(node);}};var _388=_37f.destroy=function _388(node){node=dom.byId(node);if(!node){return;}_395(node,node.parentNode);};});},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(lang,_397,dom){var _398="className";var cls,_399=/\s+/,a1=[""];function _39a(s){if(typeof s=="string"||s instanceof String){if(s&&!_399.test(s)){a1[0]=s;return a1;}var a=s.split(_399);if(a.length&&!a[0]){a.shift();}if(a.length&&!a[a.length-1]){a.pop();}return a;}if(!s){return [];}return _397.filter(s,function(x){return x;});};var _39b={};cls={contains:function containsClass(node,_39c){return ((" "+dom.byId(node)[_398]+" ").indexOf(" "+_39c+" ")>=0);},add:function addClass(node,_39d){node=dom.byId(node);_39d=_39a(_39d);var cls=node[_398],_39e;cls=cls?" "+cls+" ":" ";_39e=cls.length;for(var i=0,len=_39d.length,c;i<len;++i){c=_39d[i];if(c&&cls.indexOf(" "+c+" ")<0){cls+=c+" ";}}if(_39e<cls.length){node[_398]=cls.substr(1,cls.length-2);}},remove:function removeClass(node,_39f){node=dom.byId(node);var cls;if(_39f!==undefined){_39f=_39a(_39f);cls=" "+node[_398]+" ";for(var i=0,len=_39f.length;i<len;++i){cls=cls.replace(" "+_39f[i]+" "," ");}cls=lang.trim(cls);}else{cls="";}if(node[_398]!=cls){node[_398]=cls;}},replace:function replaceClass(node,_3a0,_3a1){node=dom.byId(node);_39b[_398]=node[_398];cls.remove(_39b,_3a1);cls.add(_39b,_3a0);if(node[_398]!==_39b[_398]){node[_398]=_39b[_398];}},toggle:function toggleClass(node,_3a2,_3a3){node=dom.byId(node);if(_3a3===undefined){_3a2=_39a(_3a2);for(var i=0,len=_3a2.length,c;i<len;++i){c=_3a2[i];cls[cls.contains(node,c)?"remove":"add"](node,c);}}else{cls[_3a3?"add":"remove"](node,_3a2);}return _3a3;}};return cls;});},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(dojo,_3a4,_3a5){var _3a6=_3a4.NodeList,nlp=_3a6.prototype;nlp.connect=_3a6._adaptAsForEach(function(){return dojo.connect.apply(this,arguments);});nlp.coords=_3a6._adaptAsMap(dojo.coords);_3a6.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"];_3a5.forEach(_3a6.events,function(evt){var _3a7="on"+evt;nlp[_3a7]=function(a,b){return this.connect(_3a7,a,b);};});dojo.NodeList=_3a6;return _3a6;});},"dojo/query":function(){define(["./_base/kernel","./has","./dom","./on","./_base/array","./_base/lang","./selector/_loader","./selector/_loader!default"],function(dojo,has,dom,on,_3a8,lang,_3a9,_3aa){"use strict";has.add("array-extensible",function(){return lang.delegate([],{length:1}).length==1&&!has("bug-for-in-skips-shadowed");});var ap=Array.prototype,aps=ap.slice,apc=ap.concat,_3ab=_3a8.forEach;var tnl=function(a,_3ac,_3ad){var _3ae=new (_3ad||this._NodeListCtor||nl)(a);return _3ac?_3ae._stash(_3ac):_3ae;};var _3af=function(f,a,o){a=[0].concat(aps.call(a,0));o=o||dojo.global;return function(node){a[0]=node;return f.apply(o,a);};};var _3b0=function(f,o){return function(){this.forEach(_3af(f,arguments,o));return this;};};var _3b1=function(f,o){return function(){return this.map(_3af(f,arguments,o));};};var _3b2=function(f,o){return function(){return this.filter(_3af(f,arguments,o));};};var _3b3=function(f,g,o){return function(){var a=arguments,body=_3af(f,a,o);if(g.call(o||dojo.global,a)){return this.map(body);}this.forEach(body);return this;};};var _3b4=function(_3b5){var _3b6=this instanceof nl&&has("array-extensible");if(typeof _3b5=="number"){_3b5=Array(_3b5);}var _3b7=(_3b5&&"length" in _3b5)?_3b5:arguments;if(_3b6||!_3b7.sort){var _3b8=_3b6?this:[],l=_3b8.length=_3b7.length;for(var i=0;i<l;i++){_3b8[i]=_3b7[i];}if(_3b6){return _3b8;}_3b7=_3b8;}lang._mixin(_3b7,nlp);_3b7._NodeListCtor=function(_3b9){return nl(_3b9);};return _3b7;};var nl=_3b4,nlp=nl.prototype=has("array-extensible")?[]:{};nl._wrap=nlp._wrap=tnl;nl._adaptAsMap=_3b1;nl._adaptAsForEach=_3b0;nl._adaptAsFilter=_3b2;nl._adaptWithCondition=_3b3;_3ab(["slice","splice"],function(name){var f=ap[name];nlp[name]=function(){return this._wrap(f.apply(this,arguments),name=="slice"?this:null);};});_3ab(["indexOf","lastIndexOf","every","some"],function(name){var f=_3a8[name];nlp[name]=function(){return f.apply(dojo,[this].concat(aps.call(arguments,0)));};});lang.extend(_3b4,{constructor:nl,_NodeListCtor:nl,toString:function(){return this.join(",");},_stash:function(_3ba){this._parent=_3ba;return this;},on:function(_3bb,_3bc){var _3bd=this.map(function(node){return on(node,_3bb,_3bc);});_3bd.remove=function(){for(var i=0;i<_3bd.length;i++){_3bd[i].remove();}};return _3bd;},end:function(){if(this._parent){return this._parent;}else{return new this._NodeListCtor(0);}},concat:function(item){var t=aps.call(this,0),m=_3a8.map(arguments,function(a){return aps.call(a,0);});return this._wrap(apc.apply(t,m),this);},map:function(func,obj){return this._wrap(_3a8.map(this,func,obj),this);},forEach:function(_3be,_3bf){_3ab(this,_3be,_3bf);return this;},filter:function(_3c0){var a=arguments,_3c1=this,_3c2=0;if(typeof _3c0=="string"){_3c1=_3c3._filterResult(this,a[0]);if(a.length==1){return _3c1._stash(this);}_3c2=1;}return this._wrap(_3a8.filter(_3c1,a[_3c2],a[_3c2+1]),this);},instantiate:function(_3c4,_3c5){var c=lang.isFunction(_3c4)?_3c4:lang.getObject(_3c4);_3c5=_3c5||{};return this.forEach(function(node){new c(_3c5,node);});},at:function(){var t=new this._NodeListCtor(0);_3ab(arguments,function(i){if(i<0){i=this.length+i;}if(this[i]){t.push(this[i]);}},this);return t._stash(this);}});function _3c6(_3c7,_3c8){var _3c9=function(_3ca,root){if(typeof root=="string"){root=dom.byId(root);if(!root){return new _3c8([]);}}var _3cb=typeof _3ca=="string"?_3c7(_3ca,root):_3ca?(_3ca.end&&_3ca.on)?_3ca:[_3ca]:[];if(_3cb.end&&_3cb.on){return _3cb;}return new _3c8(_3cb);};_3c9.matches=_3c7.match||function(node,_3cc,root){return _3c9.filter([node],_3cc,root).length>0;};_3c9.filter=_3c7.filter||function(_3cd,_3ce,root){return _3c9(_3ce,root).filter(function(node){return _3a8.indexOf(_3cd,node)>-1;});};if(typeof _3c7!="function"){var _3cf=_3c7.search;_3c7=function(_3d0,root){return _3cf(root||document,_3d0);};}return _3c9;};var _3c3=_3c6(_3aa,_3b4);dojo.query=_3c6(_3aa,function(_3d1){return _3b4(_3d1);});_3c3.load=function(id,_3d2,_3d3){_3a9.load(id,_3d2,function(_3d4){_3d3(_3c6(_3d4,_3b4));});};dojo._filterQueryResult=_3c3._filterResult=function(_3d5,_3d6,root){return new _3b4(_3c3.filter(_3d5,_3d6,root));};dojo.NodeList=_3c3.NodeList=_3b4;return _3c3;});},"dojo/selector/_loader":function(){define(["../has","require"],function(has,_3d7){"use strict";var _3d8=document.createElement("div");has.add("dom-qsa2.1",!!_3d8.querySelectorAll);has.add("dom-qsa3",function(){try{_3d8.innerHTML="<p class='TEST'></p>";return _3d8.querySelectorAll(".TEST:empty").length==1;}catch(e){}});var _3d9;var acme="./acme",lite="./lite";return {load:function(id,_3da,_3db,_3dc){var req=_3d7;id=id=="default"?has("config-selectorEngine")||"css3":id;id=id=="css2"||id=="lite"?lite:id=="css2.1"?has("dom-qsa2.1")?lite:acme:id=="css3"?has("dom-qsa3")?lite:acme:id=="acme"?acme:(req=_3da)&&id;if(id.charAt(id.length-1)=="?"){id=id.substring(0,id.length-1);var _3dd=true;}if(_3dd&&(has("dom-compliant-qsa")||_3d9)){return _3db(_3d9);}req([id],function(_3de){if(id!="./lite"){_3d9=_3de;}_3db(_3de);});}};});},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(dom,has,_3df,lang,win){var trim=lang.trim;var each=_3df.forEach;var _3e0=function(){return win.doc;};var _3e1=(_3e0().compatMode)=="BackCompat";var _3e2=">~+";var _3e3=false;var _3e4=function(){return true;};var _3e5=function(_3e6){if(_3e2.indexOf(_3e6.slice(-1))>=0){_3e6+=" * ";}else{_3e6+=" ";}var ts=function(s,e){return trim(_3e6.slice(s,e));};var _3e7=[];var _3e8=-1,_3e9=-1,_3ea=-1,_3eb=-1,_3ec=-1,inId=-1,_3ed=-1,_3ee,lc="",cc="",_3ef;var x=0,ql=_3e6.length,_3f0=null,_3f1=null;var _3f2=function(){if(_3ed>=0){var tv=(_3ed==x)?null:ts(_3ed,x);_3f0[(_3e2.indexOf(tv)<0)?"tag":"oper"]=tv;_3ed=-1;}};var _3f3=function(){if(inId>=0){_3f0.id=ts(inId,x).replace(/\\/g,"");inId=-1;}};var _3f4=function(){if(_3ec>=0){_3f0.classes.push(ts(_3ec+1,x).replace(/\\/g,""));_3ec=-1;}};var _3f5=function(){_3f3();_3f2();_3f4();};var _3f6=function(){_3f5();if(_3eb>=0){_3f0.pseudos.push({name:ts(_3eb+1,x)});}_3f0.loops=(_3f0.pseudos.length||_3f0.attrs.length||_3f0.classes.length);_3f0.oquery=_3f0.query=ts(_3ef,x);_3f0.otag=_3f0.tag=(_3f0["oper"])?null:(_3f0.tag||"*");if(_3f0.tag){_3f0.tag=_3f0.tag.toUpperCase();}if(_3e7.length&&(_3e7[_3e7.length-1].oper)){_3f0.infixOper=_3e7.pop();_3f0.query=_3f0.infixOper.query+" "+_3f0.query;}_3e7.push(_3f0);_3f0=null;};for(;lc=cc,cc=_3e6.charAt(x),x<ql;x++){if(lc=="\\"){continue;}if(!_3f0){_3ef=x;_3f0={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return _3e3?this.otag:this.tag;}};_3ed=x;}if(_3ee){if(cc==_3ee){_3ee=null;}continue;}else{if(cc=="'"||cc=="\""){_3ee=cc;continue;}}if(_3e8>=0){if(cc=="]"){if(!_3f1.attr){_3f1.attr=ts(_3e8+1,x);}else{_3f1.matchFor=ts((_3ea||_3e8+1),x);}var cmf=_3f1.matchFor;if(cmf){if((cmf.charAt(0)=="\"")||(cmf.charAt(0)=="'")){_3f1.matchFor=cmf.slice(1,-1);}}if(_3f1.matchFor){_3f1.matchFor=_3f1.matchFor.replace(/\\/g,"");}_3f0.attrs.push(_3f1);_3f1=null;_3e8=_3ea=-1;}else{if(cc=="="){var _3f7=("|~^$*".indexOf(lc)>=0)?lc:"";_3f1.type=_3f7+cc;_3f1.attr=ts(_3e8+1,x-_3f7.length);_3ea=x+1;}}}else{if(_3e9>=0){if(cc==")"){if(_3eb>=0){_3f1.value=ts(_3e9+1,x);}_3eb=_3e9=-1;}}else{if(cc=="#"){_3f5();inId=x+1;}else{if(cc=="."){_3f5();_3ec=x;}else{if(cc==":"){_3f5();_3eb=x;}else{if(cc=="["){_3f5();_3e8=x;_3f1={};}else{if(cc=="("){if(_3eb>=0){_3f1={name:ts(_3eb+1,x),value:null};_3f0.pseudos.push(_3f1);}_3e9=x;}else{if((cc==" ")&&(lc!=cc)){_3f6();}}}}}}}}}return _3e7;};var _3f8=function(_3f9,_3fa){if(!_3f9){return _3fa;}if(!_3fa){return _3f9;}return function(){return _3f9.apply(window,arguments)&&_3fa.apply(window,arguments);};};var _3fb=function(i,arr){var r=arr||[];if(i){r.push(i);}return r;};var _3fc=function(n){return (1==n.nodeType);};var _3fd="";var _3fe=function(elem,attr){if(!elem){return _3fd;}if(attr=="class"){return elem.className||_3fd;}if(attr=="for"){return elem.htmlFor||_3fd;}if(attr=="style"){return elem.style.cssText||_3fd;}return (_3e3?elem.getAttribute(attr):elem.getAttribute(attr,2))||_3fd;};var _3ff={"*=":function(attr,_400){return function(elem){return (_3fe(elem,attr).indexOf(_400)>=0);};},"^=":function(attr,_401){return function(elem){return (_3fe(elem,attr).indexOf(_401)==0);};},"$=":function(attr,_402){return function(elem){var ea=" "+_3fe(elem,attr);var _403=ea.lastIndexOf(_402);return _403>-1&&(_403==(ea.length-_402.length));};},"~=":function(attr,_404){var tval=" "+_404+" ";return function(elem){var ea=" "+_3fe(elem,attr)+" ";return (ea.indexOf(tval)>=0);};},"|=":function(attr,_405){var _406=_405+"-";return function(elem){var ea=_3fe(elem,attr);return ((ea==_405)||(ea.indexOf(_406)==0));};},"=":function(attr,_407){return function(elem){return (_3fe(elem,attr)==_407);};}};var _408=(typeof _3e0().firstChild.nextElementSibling=="undefined");var _409=!_408?"nextElementSibling":"nextSibling";var _40a=!_408?"previousElementSibling":"previousSibling";var _40b=(_408?_3fc:_3e4);var _40c=function(node){while(node=node[_40a]){if(_40b(node)){return false;}}return true;};var _40d=function(node){while(node=node[_409]){if(_40b(node)){return false;}}return true;};var _40e=function(node){var root=node.parentNode;root=root.nodeType!=7?root:root.nextSibling;var i=0,tret=root.children||root.childNodes,ci=(node["_i"]||node.getAttribute("_i")||-1),cl=(root["_l"]||(typeof root.getAttribute!=="undefined"?root.getAttribute("_l"):-1));if(!tret){return -1;}var l=tret.length;if(cl==l&&ci>=0&&cl>=0){return ci;}if(has("ie")&&typeof root.setAttribute!=="undefined"){root.setAttribute("_l",l);}else{root["_l"]=l;}ci=-1;for(var te=root["firstElementChild"]||root["firstChild"];te;te=te[_409]){if(_40b(te)){if(has("ie")){te.setAttribute("_i",++i);}else{te["_i"]=++i;}if(node===te){ci=i;}}}return ci;};var _40f=function(elem){return !((_40e(elem))%2);};var _410=function(elem){return ((_40e(elem))%2);};var _411={"checked":function(name,_412){return function(elem){return !!("checked" in elem?elem.checked:elem.selected);};},"disabled":function(name,_413){return function(elem){return elem.disabled;};},"enabled":function(name,_414){return function(elem){return !elem.disabled;};},"first-child":function(){return _40c;},"last-child":function(){return _40d;},"only-child":function(name,_415){return function(node){return _40c(node)&&_40d(node);};},"empty":function(name,_416){return function(elem){var cn=elem.childNodes;var cnl=elem.childNodes.length;for(var x=cnl-1;x>=0;x--){var nt=cn[x].nodeType;if((nt===1)||(nt==3)){return false;}}return true;};},"contains":function(name,_417){var cz=_417.charAt(0);if(cz=="\""||cz=="'"){_417=_417.slice(1,-1);}return function(elem){return (elem.innerHTML.indexOf(_417)>=0);};},"not":function(name,_418){var p=_3e5(_418)[0];var _419={el:1};if(p.tag!="*"){_419.tag=1;}if(!p.classes.length){_419.classes=1;}var ntf=_41a(p,_419);return function(elem){return (!ntf(elem));};},"nth-child":function(name,_41b){var pi=parseInt;if(_41b=="odd"){return _410;}else{if(_41b=="even"){return _40f;}}if(_41b.indexOf("n")!=-1){var _41c=_41b.split("n",2);var pred=_41c[0]?((_41c[0]=="-")?-1:pi(_41c[0])):1;var idx=_41c[1]?pi(_41c[1]):0;var lb=0,ub=-1;if(pred>0){if(idx<0){idx=(idx%pred)&&(pred+(idx%pred));}else{if(idx>0){if(idx>=pred){lb=idx-idx%pred;}idx=idx%pred;}}}else{if(pred<0){pred*=-1;if(idx>0){ub=idx;idx=idx%pred;}}}if(pred>0){return function(elem){var i=_40e(elem);return (i>=lb)&&(ub<0||i<=ub)&&((i%pred)==idx);};}else{_41b=idx;}}var _41d=pi(_41b);return function(elem){return (_40e(elem)==_41d);};}};var _41e=(has("ie")<9||has("ie")==9&&has("quirks"))?function(cond){var clc=cond.toLowerCase();if(clc=="class"){cond="className";}return function(elem){return (_3e3?elem.getAttribute(cond):elem[cond]||elem[clc]);};}:function(cond){return function(elem){return (elem&&elem.getAttribute&&elem.hasAttribute(cond));};};var _41a=function(_41f,_420){if(!_41f){return _3e4;}_420=_420||{};var ff=null;if(!("el" in _420)){ff=_3f8(ff,_3fc);}if(!("tag" in _420)){if(_41f.tag!="*"){ff=_3f8(ff,function(elem){return (elem&&((_3e3?elem.tagName:elem.tagName.toUpperCase())==_41f.getTag()));});}}if(!("classes" in _420)){each(_41f.classes,function(_421,idx,arr){var re=new RegExp("(?:^|\\s)"+_421+"(?:\\s|$)");ff=_3f8(ff,function(elem){return re.test(elem.className);});ff.count=idx;});}if(!("pseudos" in _420)){each(_41f.pseudos,function(_422){var pn=_422.name;if(_411[pn]){ff=_3f8(ff,_411[pn](pn,_422.value));}});}if(!("attrs" in _420)){each(_41f.attrs,function(attr){var _423;var a=attr.attr;if(attr.type&&_3ff[attr.type]){_423=_3ff[attr.type](a,attr.matchFor);}else{if(a.length){_423=_41e(a);}}if(_423){ff=_3f8(ff,_423);}});}if(!("id" in _420)){if(_41f.id){ff=_3f8(ff,function(elem){return (!!elem&&(elem.id==_41f.id));});}}if(!ff){if(!("default" in _420)){ff=_3e4;}}return ff;};var _424=function(_425){return function(node,ret,bag){while(node=node[_409]){if(_408&&(!_3fc(node))){continue;}if((!bag||_426(node,bag))&&_425(node)){ret.push(node);}break;}return ret;};};var _427=function(_428){return function(root,ret,bag){var te=root[_409];while(te){if(_40b(te)){if(bag&&!_426(te,bag)){break;}if(_428(te)){ret.push(te);}}te=te[_409];}return ret;};};var _429=function(_42a){_42a=_42a||_3e4;return function(root,ret,bag){var te,x=0,tret=root.children||root.childNodes;while(te=tret[x++]){if(_40b(te)&&(!bag||_426(te,bag))&&(_42a(te,x))){ret.push(te);}}return ret;};};var _42b=function(node,root){var pn=node.parentNode;while(pn){if(pn==root){break;}pn=pn.parentNode;}return !!pn;};var _42c={};var _42d=function(_42e){var _42f=_42c[_42e.query];if(_42f){return _42f;}var io=_42e.infixOper;var oper=(io?io.oper:"");var _430=_41a(_42e,{el:1});var qt=_42e.tag;var _431=("*"==qt);var ecs=_3e0()["getElementsByClassName"];if(!oper){if(_42e.id){_430=(!_42e.loops&&_431)?_3e4:_41a(_42e,{el:1,id:1});_42f=function(root,arr){var te=dom.byId(_42e.id,(root.ownerDocument||root));if(!te||!_430(te)){return;}if(9==root.nodeType){return _3fb(te,arr);}else{if(_42b(te,root)){return _3fb(te,arr);}}};}else{if(ecs&&/\{\s*\[native code\]\s*\}/.test(String(ecs))&&_42e.classes.length&&!_3e1){_430=_41a(_42e,{el:1,classes:1,id:1});var _432=_42e.classes.join(" ");_42f=function(root,arr,bag){var ret=_3fb(0,arr),te,x=0;var tret=root.getElementsByClassName(_432);while((te=tret[x++])){if(_430(te,root)&&_426(te,bag)){ret.push(te);}}return ret;};}else{if(!_431&&!_42e.loops){_42f=function(root,arr,bag){var ret=_3fb(0,arr),te,x=0;var tag=_42e.getTag(),tret=tag?root.getElementsByTagName(tag):[];while((te=tret[x++])){if(_426(te,bag)){ret.push(te);}}return ret;};}else{_430=_41a(_42e,{el:1,tag:1,id:1});_42f=function(root,arr,bag){var ret=_3fb(0,arr),te,x=0;var tag=_42e.getTag(),tret=tag?root.getElementsByTagName(tag):[];while((te=tret[x++])){if(_430(te,root)&&_426(te,bag)){ret.push(te);}}return ret;};}}}}else{var _433={el:1};if(_431){_433.tag=1;}_430=_41a(_42e,_433);if("+"==oper){_42f=_424(_430);}else{if("~"==oper){_42f=_427(_430);}else{if(">"==oper){_42f=_429(_430);}}}}return _42c[_42e.query]=_42f;};var _434=function(root,_435){var _436=_3fb(root),qp,x,te,qpl=_435.length,bag,ret;for(var i=0;i<qpl;i++){ret=[];qp=_435[i];x=_436.length-1;if(x>0){bag={};ret.nozip=true;}var gef=_42d(qp);for(var j=0;(te=_436[j]);j++){gef(te,ret,bag);}if(!ret.length){break;}_436=ret;}return ret;};var _437={},_438={};var _439=function(_43a){var _43b=_3e5(trim(_43a));if(_43b.length==1){var tef=_42d(_43b[0]);return function(root){var r=tef(root,[]);if(r){r.nozip=true;}return r;};}return function(root){return _434(root,_43b);};};var _43c=has("ie")?"commentStrip":"nozip";var qsa="querySelectorAll";var _43d=!!_3e0()[qsa];var _43e=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g;var _43f=function(_440,pre,ch,post){return ch?(pre?pre+" ":"")+ch+(post?" "+post:""):_440;};var _441=/([^[]*)([^\]]*])?/g;var _442=function(_443,_444,att){return _444.replace(_43e,_43f)+(att||"");};var _445=function(_446,_447){_446=_446.replace(_441,_442);if(_43d){var _448=_438[_446];if(_448&&!_447){return _448;}}var _449=_437[_446];if(_449){return _449;}var qcz=_446.charAt(0);var _44a=(-1==_446.indexOf(" "));if((_446.indexOf("#")>=0)&&(_44a)){_447=true;}var _44b=(_43d&&(!_447)&&(_3e2.indexOf(qcz)==-1)&&(!has("ie")||(_446.indexOf(":")==-1))&&(!(_3e1&&(_446.indexOf(".")>=0)))&&(_446.indexOf(":contains")==-1)&&(_446.indexOf(":checked")==-1)&&(_446.indexOf("|=")==-1));if(_44b){var tq=(_3e2.indexOf(_446.charAt(_446.length-1))>=0)?(_446+" *"):_446;return _438[_446]=function(root){try{if(!((9==root.nodeType)||_44a)){throw "";}var r=root[qsa](tq);r[_43c]=true;return r;}catch(e){return _445(_446,true)(root);}};}else{var _44c=_446.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return _437[_446]=((_44c.length<2)?_439(_446):function(root){var _44d=0,ret=[],tp;while((tp=_44c[_44d++])){ret=ret.concat(_439(tp)(root));}return ret;});}};var _44e=0;var _44f=has("ie")?function(node){if(_3e3){return (node.getAttribute("_uid")||node.setAttribute("_uid",++_44e)||_44e);}else{return node.uniqueID;}}:function(node){return (node._uid||(node._uid=++_44e));};var _426=function(node,bag){if(!bag){return 1;}var id=_44f(node);if(!bag[id]){return bag[id]=1;}return 0;};var _450="_zipIdx";var _451=function(arr){if(arr&&arr.nozip){return arr;}if(!arr||!arr.length){return [];}if(arr.length<2){return [arr[0]];}var ret=[];_44e++;var x,te;if(has("ie")&&_3e3){var _452=_44e+"";for(x=0;x<arr.length;x++){if((te=arr[x])&&te.getAttribute(_450)!=_452){ret.push(te);te.setAttribute(_450,_452);}}}else{if(has("ie")&&arr.commentStrip){try{for(x=0;x<arr.length;x++){if((te=arr[x])&&_3fc(te)){ret.push(te);}}}catch(e){}}else{for(x=0;x<arr.length;x++){if((te=arr[x])&&te[_450]!=_44e){ret.push(te);te[_450]=_44e;}}}}return ret;};var _453=function(_454,root){root=root||_3e0();var od=root.ownerDocument||root;_3e3=(od.createElement("div").tagName==="div");var r=_445(_454)(root);if(r&&r.nozip){return r;}return _451(r);};_453.filter=function(_455,_456,root){var _457=[],_458=_3e5(_456),_459=(_458.length==1&&!/[^\w#\.]/.test(_456))?_41a(_458[0]):function(node){return _3df.indexOf(_453(_456,dom.byId(root)),node)!=-1;};for(var x=0,te;te=_455[x];x++){if(_459(te)){_457.push(te);}}return _457;};return _453;});},"dojo/NodeList-dom":function(){define(["./_base/kernel","./query","./_base/array","./_base/lang","./dom-class","./dom-construct","./dom-geometry","./dom-attr","./dom-style"],function(dojo,_45a,_45b,lang,_45c,_45d,_45e,_45f,_460){var _461=function(a){return a.length==1&&(typeof a[0]=="string");};var _462=function(node){var p=node.parentNode;if(p){p.removeChild(node);}};var _463=_45a.NodeList,awc=_463._adaptWithCondition,aafe=_463._adaptAsForEach,aam=_463._adaptAsMap;function _464(_465){return function(node,name,_466){if(arguments.length==2){return _465[typeof name=="string"?"get":"set"](node,name);}return _465.set(node,name,_466);};};lang.extend(_463,{_normalize:function(_467,_468){var _469=_467.parse===true;if(typeof _467.template=="string"){var _46a=_467.templateFunc||(dojo.string&&dojo.string.substitute);_467=_46a?_46a(_467.template,_467):_467;}var type=(typeof _467);if(type=="string"||type=="number"){_467=_45d.toDom(_467,(_468&&_468.ownerDocument));if(_467.nodeType==11){_467=lang._toArray(_467.childNodes);}else{_467=[_467];}}else{if(!lang.isArrayLike(_467)){_467=[_467];}else{if(!lang.isArray(_467)){_467=lang._toArray(_467);}}}if(_469){_467._runParse=true;}return _467;},_cloneNode:function(node){return node.cloneNode(true);},_place:function(ary,_46b,_46c,_46d){if(_46b.nodeType!=1&&_46c=="only"){return;}var _46e=_46b,_46f;var _470=ary.length;for(var i=_470-1;i>=0;i--){var node=(_46d?this._cloneNode(ary[i]):ary[i]);if(ary._runParse&&dojo.parser&&dojo.parser.parse){if(!_46f){_46f=_46e.ownerDocument.createElement("div");}_46f.appendChild(node);dojo.parser.parse(_46f);node=_46f.firstChild;while(_46f.firstChild){_46f.removeChild(_46f.firstChild);}}if(i==_470-1){_45d.place(node,_46e,_46c);}else{_46e.parentNode.insertBefore(node,_46e);}_46e=node;}},position:aam(_45e.position),attr:awc(_464(_45f),_461),style:awc(_464(_460),_461),addClass:aafe(_45c.add),removeClass:aafe(_45c.remove),toggleClass:aafe(_45c.toggle),replaceClass:aafe(_45c.replace),empty:aafe(_45d.empty),removeAttr:aafe(_45f.remove),marginBox:aam(_45e.getMarginBox),place:function(_471,_472){var item=_45a(_471)[0];return this.forEach(function(node){_45d.place(node,item,_472);});},orphan:function(_473){return (_473?_45a._filterResult(this,_473):this).forEach(_462);},adopt:function(_474,_475){return _45a(_474).place(this[0],_475)._stash(this);},query:function(_476){if(!_476){return this;}var ret=new _463;this.map(function(node){_45a(_476,node).forEach(function(_477){if(_477!==undefined){ret.push(_477);}});});return ret._stash(this);},filter:function(_478){var a=arguments,_479=this,_47a=0;if(typeof _478=="string"){_479=_45a._filterResult(this,a[0]);if(a.length==1){return _479._stash(this);}_47a=1;}return this._wrap(_45b.filter(_479,a[_47a],a[_47a+1]),this);},addContent:function(_47b,_47c){_47b=this._normalize(_47b,this[0]);for(var i=0,node;(node=this[i]);i++){if(_47b.length){this._place(_47b,node,_47c,i>0);}else{_45d.empty(node);}}return this;}});return _463;});},"dojo/_base/xhr":function(){define(["./kernel","./sniff","require","../io-query","../dom","../dom-form","./Deferred","./config","./json","./lang","./array","../on","../aspect","../request/watch","../request/xhr","../request/util"],function(dojo,has,_47d,ioq,dom,_47e,_47f,_480,json,lang,_481,on,_482,_483,_484,util){dojo._xhrObj=_484._create;var cfg=dojo.config;dojo.objectToQuery=ioq.objectToQuery;dojo.queryToObject=ioq.queryToObject;dojo.fieldToObject=_47e.fieldToObject;dojo.formToObject=_47e.toObject;dojo.formToQuery=_47e.toQuery;dojo.formToJson=_47e.toJson;dojo._blockAsync=false;var _485=dojo._contentHandlers=dojo.contentHandlers={"text":function(xhr){return xhr.responseText;},"json":function(xhr){return json.fromJson(xhr.responseText||null);},"json-comment-filtered":function(xhr){if(!_480.useCommentedJson){console.warn("Consider using the standard mimetype:application/json."+" json-commenting can introduce security issues. To"+" decrease the chances of hijacking, use the standard the 'json' handler and"+" prefix your json with: {}&&\n"+"Use djConfig.useCommentedJson=true to turn off this message.");}var _486=xhr.responseText;var _487=_486.indexOf("/*");var _488=_486.lastIndexOf("*/");if(_487==-1||_488==-1){throw new Error("JSON was not comment filtered");}return json.fromJson(_486.substring(_487+2,_488));},"javascript":function(xhr){return dojo.eval(xhr.responseText);},"xml":function(xhr){var _489=xhr.responseXML;if(_489&&has("dom-qsa2.1")&&!_489.querySelectorAll&&has("dom-parser")){_489=new DOMParser().parseFromString(xhr.responseText,"application/xml");}if(has("ie")){if((!_489||!_489.documentElement)){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];_481.some(dp,function(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(xhr.responseText);_489=dom;}catch(e){return false;}return true;});}}return _489;},"json-comment-optional":function(xhr){if(xhr.responseText&&/^[^{\[]*\/\*/.test(xhr.responseText)){return _485["json-comment-filtered"](xhr);}else{return _485["json"](xhr);}}};dojo._ioSetArgs=function(args,_48a,_48b,_48c){var _48d={args:args,url:args.url};var _48e=null;if(args.form){var form=dom.byId(args.form);var _48f=form.getAttributeNode("action");_48d.url=_48d.url||(_48f?_48f.value:null);_48e=_47e.toObject(form);}var _490=[{}];if(_48e){_490.push(_48e);}if(args.content){_490.push(args.content);}if(args.preventCache){_490.push({"dojo.preventCache":new Date().valueOf()});}_48d.query=ioq.objectToQuery(lang.mixin.apply(null,_490));_48d.handleAs=args.handleAs||"text";var d=new _47f(function(dfd){dfd.canceled=true;_48a&&_48a(dfd);var err=dfd.ioArgs.error;if(!err){err=new Error("request cancelled");err.dojoType="cancel";dfd.ioArgs.error=err;}return err;});d.addCallback(_48b);var ld=args.load;if(ld&&lang.isFunction(ld)){d.addCallback(function(_491){return ld.call(args,_491,_48d);});}var err=args.error;if(err&&lang.isFunction(err)){d.addErrback(function(_492){return err.call(args,_492,_48d);});}var _493=args.handle;if(_493&&lang.isFunction(_493)){d.addBoth(function(_494){return _493.call(args,_494,_48d);});}d.addErrback(function(_495){return _48c(_495,d);});if(cfg.ioPublish&&dojo.publish&&_48d.args.ioPublish!==false){d.addCallbacks(function(res){dojo.publish("/dojo/io/load",[d,res]);return res;},function(res){dojo.publish("/dojo/io/error",[d,res]);return res;});d.addBoth(function(res){dojo.publish("/dojo/io/done",[d,res]);return res;});}d.ioArgs=_48d;return d;};var _496=function(dfd){var ret=_485[dfd.ioArgs.handleAs](dfd.ioArgs.xhr);return ret===undefined?null:ret;};var _497=function(_498,dfd){if(!dfd.ioArgs.args.failOk){console.error(_498);}return _498;};var _499=function(dfd){if(_49a<=0){_49a=0;if(cfg.ioPublish&&dojo.publish&&(!dfd||dfd&&dfd.ioArgs.args.ioPublish!==false)){dojo.publish("/dojo/io/stop");}}};var _49a=0;_482.after(_483,"_onAction",function(){_49a-=1;});_482.after(_483,"_onInFlight",_499);dojo._ioCancelAll=_483.cancelAll;dojo._ioNotifyStart=function(dfd){if(cfg.ioPublish&&dojo.publish&&dfd.ioArgs.args.ioPublish!==false){if(!_49a){dojo.publish("/dojo/io/start");}_49a+=1;dojo.publish("/dojo/io/send",[dfd]);}};dojo._ioWatch=function(dfd,_49b,_49c,_49d){var args=dfd.ioArgs.options=dfd.ioArgs.args;lang.mixin(dfd,{response:dfd.ioArgs,isValid:function(_49e){return _49b(dfd);},isReady:function(_49f){return _49c(dfd);},handleResponse:function(_4a0){return _49d(dfd);}});_483(dfd);_499(dfd);};var _4a1="application/x-www-form-urlencoded";dojo._ioAddQueryToUrl=function(_4a2){if(_4a2.query.length){_4a2.url+=(_4a2.url.indexOf("?")==-1?"?":"&")+_4a2.query;_4a2.query=null;}};dojo.xhr=function(_4a3,args,_4a4){var rDfd;var dfd=dojo._ioSetArgs(args,function(dfd){rDfd&&rDfd.cancel();},_496,_497);var _4a5=dfd.ioArgs;if("postData" in args){_4a5.query=args.postData;}else{if("putData" in args){_4a5.query=args.putData;}else{if("rawBody" in args){_4a5.query=args.rawBody;}else{if((arguments.length>2&&!_4a4)||"POST|PUT".indexOf(_4a3.toUpperCase())===-1){dojo._ioAddQueryToUrl(_4a5);}}}}var _4a6={method:_4a3,handleAs:"text",timeout:args.timeout,withCredentials:args.withCredentials,ioArgs:_4a5};if(typeof args.headers!=="undefined"){_4a6.headers=args.headers;}if(typeof args.contentType!=="undefined"){if(!_4a6.headers){_4a6.headers={};}_4a6.headers["Content-Type"]=args.contentType;}if(typeof _4a5.query!=="undefined"){_4a6.data=_4a5.query;}if(typeof args.sync!=="undefined"){_4a6.sync=args.sync;}dojo._ioNotifyStart(dfd);try{rDfd=_484(_4a5.url,_4a6,true);}catch(e){dfd.cancel();return dfd;}dfd.ioArgs.xhr=rDfd.response.xhr;rDfd.then(function(){dfd.resolve(dfd);}).otherwise(function(_4a7){_4a5.error=_4a7;if(_4a7.response){_4a7.status=_4a7.response.status;_4a7.responseText=_4a7.response.text;_4a7.xhr=_4a7.response.xhr;}dfd.reject(_4a7);});return dfd;};dojo.xhrGet=function(args){return dojo.xhr("GET",args);};dojo.rawXhrPost=dojo.xhrPost=function(args){return dojo.xhr("POST",args,true);};dojo.rawXhrPut=dojo.xhrPut=function(args){return dojo.xhr("PUT",args,true);};dojo.xhrDelete=function(args){return dojo.xhr("DELETE",args);};dojo._isDocumentOk=function(x){return util.checkStatus(x.status);};dojo._getText=function(url){var _4a8;dojo.xhrGet({url:url,sync:true,load:function(text){_4a8=text;}});return _4a8;};lang.mixin(dojo.xhr,{_xhrObj:dojo._xhrObj,fieldToObject:_47e.fieldToObject,formToObject:_47e.toObject,objectToQuery:ioq.objectToQuery,formToQuery:_47e.toQuery,formToJson:_47e.toJson,queryToObject:ioq.queryToObject,contentHandlers:_485,_ioSetArgs:dojo._ioSetArgs,_ioCancelAll:dojo._ioCancelAll,_ioNotifyStart:dojo._ioNotifyStart,_ioWatch:dojo._ioWatch,_ioAddQueryToUrl:dojo._ioAddQueryToUrl,_isDocumentOk:dojo._isDocumentOk,_getText:dojo._getText,get:dojo.xhrGet,post:dojo.xhrPost,put:dojo.xhrPut,del:dojo.xhrDelete});return dojo.xhr;});},"dojo/io-query":function(){define(["./_base/lang"],function(lang){var _4a9={};return {objectToQuery:function objectToQuery(map){var enc=encodeURIComponent,_4aa=[];for(var name in map){var _4ab=map[name];if(_4ab!=_4a9[name]){var _4ac=enc(name)+"=";if(lang.isArray(_4ab)){for(var i=0,l=_4ab.length;i<l;++i){_4aa.push(_4ac+enc(_4ab[i]));}}else{_4aa.push(_4ac+enc(_4ab));}}}return _4aa.join("&");},queryToObject:function queryToObject(str){var dec=decodeURIComponent,qp=str.split("&"),ret={},name,val;for(var i=0,l=qp.length,item;i<l;++i){item=qp[i];if(item.length){var s=item.indexOf("=");if(s<0){name=dec(item);val="";}else{name=dec(item.slice(0,s));val=dec(item.slice(s+1));}if(typeof ret[name]=="string"){ret[name]=[ret[name]];}if(lang.isArray(ret[name])){ret[name].push(val);}else{ret[name]=val;}}}return ret;}};});},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(lang,dom,ioq,json){function _4ad(obj,name,_4ae){if(_4ae===null){return;}var val=obj[name];if(typeof val=="string"){obj[name]=[val,_4ae];}else{if(lang.isArray(val)){val.push(_4ae);}else{obj[name]=_4ae;}}};var _4af="file|submit|image|reset|button";var form={fieldToObject:function fieldToObject(_4b0){var ret=null;_4b0=dom.byId(_4b0);if(_4b0){var _4b1=_4b0.name,type=(_4b0.type||"").toLowerCase();if(_4b1&&type&&!_4b0.disabled){if(type=="radio"||type=="checkbox"){if(_4b0.checked){ret=_4b0.value;}}else{if(_4b0.multiple){ret=[];var _4b2=[_4b0.firstChild];while(_4b2.length){for(var node=_4b2.pop();node;node=node.nextSibling){if(node.nodeType==1&&node.tagName.toLowerCase()=="option"){if(node.selected){ret.push(node.value);}}else{if(node.nextSibling){_4b2.push(node.nextSibling);}if(node.firstChild){_4b2.push(node.firstChild);}break;}}}}else{ret=_4b0.value;}}}}return ret;},toObject:function formToObject(_4b3){var ret={},_4b4=dom.byId(_4b3).elements;for(var i=0,l=_4b4.length;i<l;++i){var item=_4b4[i],_4b5=item.name,type=(item.type||"").toLowerCase();if(_4b5&&type&&_4af.indexOf(type)<0&&!item.disabled){_4ad(ret,_4b5,form.fieldToObject(item));if(type=="image"){ret[_4b5+".x"]=ret[_4b5+".y"]=ret[_4b5].x=ret[_4b5].y=0;}}}return ret;},toQuery:function formToQuery(_4b6){return ioq.objectToQuery(form.toObject(_4b6));},toJson:function formToJson(_4b7,_4b8){return json.stringify(form.toObject(_4b7),null,_4b8?4:0);}};return form;});},"dojo/request/watch":function(){define(["./util","../errors/RequestTimeoutError","../errors/CancelError","../_base/array","../_base/window","../has!host-browser?dom-addeventlistener?:../on:"],function(util,_4b9,_4ba,_4bb,win,on){var _4bc=null,_4bd=[];function _4be(){var now=+(new Date);for(var i=0,dfd;i<_4bd.length&&(dfd=_4bd[i]);i++){var _4bf=dfd.response,_4c0=_4bf.options;if((dfd.isCanceled&&dfd.isCanceled())||(dfd.isValid&&!dfd.isValid(_4bf))){_4bd.splice(i--,1);_4c1._onAction&&_4c1._onAction();}else{if(dfd.isReady&&dfd.isReady(_4bf)){_4bd.splice(i--,1);dfd.handleResponse(_4bf);_4c1._onAction&&_4c1._onAction();}else{if(dfd.startTime){if(dfd.startTime+(_4c0.timeout||0)<now){_4bd.splice(i--,1);dfd.cancel(new _4b9("Timeout exceeded",_4bf));_4c1._onAction&&_4c1._onAction();}}}}}_4c1._onInFlight&&_4c1._onInFlight(dfd);if(!_4bd.length){clearInterval(_4bc);_4bc=null;}};function _4c1(dfd){if(dfd.response.options.timeout){dfd.startTime=+(new Date);}if(dfd.isFulfilled()){return;}_4bd.push(dfd);if(!_4bc){_4bc=setInterval(_4be,50);}if(dfd.response.options.sync){_4be();}};_4c1.cancelAll=function cancelAll(){try{_4bb.forEach(_4bd,function(dfd){try{dfd.cancel(new _4ba("All requests canceled."));}catch(e){}});}catch(e){}};if(win&&on&&win.doc.attachEvent){on(win.global,"unload",function(){_4c1.cancelAll();});}return _4c1;});},"dojo/request/util":function(){define(["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(_4c2,_4c3,_4c4,_4c5,_4c6,_4c7,lang,_4c8){_4c2.deepCopy=function deepCopy(_4c9,_4ca){for(var name in _4ca){var tval=_4c9[name],sval=_4ca[name];if(tval!==sval){if(tval&&typeof tval==="object"&&sval&&typeof sval==="object"){_4c2.deepCopy(tval,sval);}else{_4c9[name]=sval;}}}return _4c9;};_4c2.deepCreate=function deepCreate(_4cb,_4cc){_4cc=_4cc||{};var _4cd=lang.delegate(_4cb),name,_4ce;for(name in _4cb){_4ce=_4cb[name];if(_4ce&&typeof _4ce==="object"){_4cd[name]=_4c2.deepCreate(_4ce,_4cc[name]);}}return _4c2.deepCopy(_4cd,_4cc);};var _4cf=Object.freeze||function(obj){return obj;};function _4d0(_4d1){return _4cf(_4d1);};function _4d2(_4d3){return _4d3.data||_4d3.text;};_4c2.deferred=function deferred(_4d4,_4d5,_4d6,_4d7,_4d8,last){var def=new _4c5(function(_4d9){_4d5&&_4d5(def,_4d4);if(!_4d9||!(_4d9 instanceof _4c3)&&!(_4d9 instanceof _4c4)){return new _4c4("Request canceled",_4d4);}return _4d9;});def.response=_4d4;def.isValid=_4d6;def.isReady=_4d7;def.handleResponse=_4d8;function _4da(_4db){_4db.response=_4d4;throw _4db;};var _4dc=def.then(_4d0).otherwise(_4da);if(_4c2.notify){_4dc.then(lang.hitch(_4c2.notify,"emit","load"),lang.hitch(_4c2.notify,"emit","error"));}var _4dd=_4dc.then(_4d2);var _4de=new _4c8();for(var prop in _4dd){if(_4dd.hasOwnProperty(prop)){_4de[prop]=_4dd[prop];}}_4de.response=_4dc;_4cf(_4de);if(last){def.then(function(_4df){last.call(def,_4df);},function(_4e0){last.call(def,_4d4,_4e0);});}def.promise=_4de;def.then=_4de.then;return def;};_4c2.addCommonMethods=function addCommonMethods(_4e1,_4e2){_4c7.forEach(_4e2||["GET","POST","PUT","DELETE"],function(_4e3){_4e1[(_4e3==="DELETE"?"DEL":_4e3).toLowerCase()]=function(url,_4e4){_4e4=lang.delegate(_4e4||{});_4e4.method=_4e3;return _4e1(url,_4e4);};});};_4c2.parseArgs=function parseArgs(url,_4e5,_4e6){var data=_4e5.data,_4e7=_4e5.query;if(data&&!_4e6){if(typeof data==="object"){_4e5.data=_4c6.objectToQuery(data);}}if(_4e7){if(typeof _4e7==="object"){_4e7=_4c6.objectToQuery(_4e7);}if(_4e5.preventCache){_4e7+=(_4e7?"&":"")+"request.preventCache="+(+(new Date));}}else{if(_4e5.preventCache){_4e7="request.preventCache="+(+(new Date));}}if(url&&_4e7){url+=(~url.indexOf("?")?"&":"?")+_4e7;}return {url:url,options:_4e5,getHeader:function(_4e8){return null;}};};_4c2.checkStatus=function(stat){stat=stat||0;return (stat>=200&&stat<300)||stat===304||stat===1223||!stat;};});},"dojo/errors/RequestError":function(){define(["./create"],function(_4e9){return _4e9("RequestError",function(_4ea,_4eb){this.response=_4eb;});});},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(_4ec,_4ed){return _4ec("RequestTimeoutError",null,_4ed,{dojoType:"timeout"});});},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(_4ee,_4ef,_4f0,util,has){has.add("native-xhr",function(){return typeof XMLHttpRequest!=="undefined";});has.add("dojo-force-activex-xhr",function(){return has("activex")&&!document.addEventListener&&window.location.protocol==="file:";});has.add("native-xhr2",function(){if(!has("native-xhr")){return;}var x=new XMLHttpRequest();return typeof x["addEventListener"]!=="undefined"&&(typeof opera==="undefined"||typeof x["upload"]!=="undefined");});has.add("native-formdata",function(){return typeof FormData==="function";});function _4f1(_4f2,_4f3){var _4f4=_4f2.xhr;_4f2.status=_4f2.xhr.status;_4f2.text=_4f4.responseText;if(_4f2.options.handleAs==="xml"){_4f2.data=_4f4.responseXML;}if(!_4f3){try{_4f0(_4f2);}catch(e){_4f3=e;}}if(_4f3){this.reject(_4f3);}else{if(util.checkStatus(_4f4.status)){this.resolve(_4f2);}else{_4f3=new _4ee("Unable to load "+_4f2.url+" status: "+_4f4.status,_4f2);this.reject(_4f3);}}};var _4f5,_4f6,_4f7,_4f8;if(has("native-xhr2")){_4f5=function(_4f9){return !this.isFulfilled();};_4f8=function(dfd,_4fa){_4fa.xhr.abort();};_4f7=function(_4fb,dfd,_4fc){function _4fd(evt){dfd.handleResponse(_4fc);};function _4fe(evt){var _4ff=evt.target;var _500=new _4ee("Unable to load "+_4fc.url+" status: "+_4ff.status,_4fc);dfd.handleResponse(_4fc,_500);};function _501(evt){if(evt.lengthComputable){_4fc.loaded=evt.loaded;_4fc.total=evt.total;dfd.progress(_4fc);}};_4fb.addEventListener("load",_4fd,false);_4fb.addEventListener("error",_4fe,false);_4fb.addEventListener("progress",_501,false);return function(){_4fb.removeEventListener("load",_4fd,false);_4fb.removeEventListener("error",_4fe,false);_4fb.removeEventListener("progress",_501,false);_4fb=null;};};}else{_4f5=function(_502){return _502.xhr.readyState;};_4f6=function(_503){return 4===_503.xhr.readyState;};_4f8=function(dfd,_504){var xhr=_504.xhr;var _505=typeof xhr.abort;if(_505==="function"||_505==="object"||_505==="unknown"){xhr.abort();}};}function _506(_507){return this.xhr.getResponseHeader(_507);};var _508,_509={data:null,query:null,sync:false,method:"GET"};function xhr(url,_50a,_50b){var _50c=util.parseArgs(url,util.deepCreate(_509,_50a),has("native-formdata")&&_50a&&_50a.data&&_50a.data instanceof FormData);url=_50c.url;_50a=_50c.options;var _50d,last=function(){_50d&&_50d();};var dfd=util.deferred(_50c,_4f8,_4f5,_4f6,_4f1,last);var _50e=_50c.xhr=xhr._create();if(!_50e){dfd.cancel(new _4ee("XHR was not created"));return _50b?dfd:dfd.promise;}_50c.getHeader=_506;if(_4f7){_50d=_4f7(_50e,dfd,_50c);}var data=_50a.data,_50f=!_50a.sync,_510=_50a.method;try{_50e.open(_510,url,_50f,_50a.user||_508,_50a.password||_508);if(_50a.withCredentials){_50e.withCredentials=_50a.withCredentials;}var _511=_50a.headers,_512="application/x-www-form-urlencoded";if(_511){for(var hdr in _511){if(hdr.toLowerCase()==="content-type"){_512=_511[hdr];}else{if(_511[hdr]){_50e.setRequestHeader(hdr,_511[hdr]);}}}}if(_512&&_512!==false){_50e.setRequestHeader("Content-Type",_512);}if(!_511||!("X-Requested-With" in _511)){_50e.setRequestHeader("X-Requested-With","XMLHttpRequest");}if(util.notify){util.notify.emit("send",_50c,dfd.promise.cancel);}_50e.send(data);}catch(e){dfd.reject(e);}_4ef(dfd);_50e=null;return _50b?dfd:dfd.promise;};xhr._create=function(){throw new Error("XMLHTTP not available");};if(has("native-xhr")&&!has("dojo-force-activex-xhr")){xhr._create=function(){return new XMLHttpRequest();};}else{if(has("activex")){try{new ActiveXObject("Msxml2.XMLHTTP");xhr._create=function(){return new ActiveXObject("Msxml2.XMLHTTP");};}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP");xhr._create=function(){return new ActiveXObject("Microsoft.XMLHTTP");};}catch(e){}}}}util.addCommonMethods(xhr);return xhr;});},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(JSON,_513,_514,has){has.add("activex",typeof ActiveXObject!=="undefined");has.add("dom-parser",function(_515){return "DOMParser" in _515;});var _516;if(has("activex")){var dp=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];_516=function(_517){var _518=_517.data;if(_518&&has("dom-qsa2.1")&&!_518.querySelectorAll&&has("dom-parser")){_518=new DOMParser().parseFromString(_517.text,"application/xml");}if(!_518||!_518.documentElement){var text=_517.text;_514.some(dp,function(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(text);_518=dom;}catch(e){return false;}return true;});}return _518;};}var _519={"javascript":function(_51a){return _513.eval(_51a.text||"");},"json":function(_51b){return JSON.parse(_51b.text||null);},"xml":_516};function _51c(_51d){var _51e=_519[_51d.options.handleAs];_51d.data=_51e?_51e(_51d):(_51d.data||_51d.text);return _51d;};_51c.register=function(name,_51f){_519[name]=_51f;};return _51c;});},"dojo/_base/fx":function(){define(["./kernel","./config","./lang","../Evented","./Color","../aspect","../sniff","../dom","../dom-style"],function(dojo,_520,lang,_521,_522,_523,has,dom,_524){var _525=lang.mixin;var _526={};var _527=_526._Line=function(_528,end){this.start=_528;this.end=end;};_527.prototype.getValue=function(n){return ((this.end-this.start)*n)+this.start;};var _529=_526.Animation=function(args){_525(this,args);if(lang.isArray(this.curve)){this.curve=new _527(this.curve[0],this.curve[1]);}};_529.prototype=new _521();lang.extend(_529,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var _52a=this._percent,_52b=this.easing;return _52b?_52b(_52a):_52a;},_fire:function(evt,args){var a=args||[];if(this[evt]){if(_520.debugAtAllCosts){this[evt].apply(this,a);}else{try{this[evt].apply(this,a);}catch(e){console.error("exception in animation handler for:",evt);console.error(e);}}}return this;},play:function(_52c,_52d){var _52e=this;if(_52e._delayTimer){_52e._clearTimer();}if(_52d){_52e._stopTimer();_52e._active=_52e._paused=false;_52e._percent=0;}else{if(_52e._active&&!_52e._paused){return _52e;}}_52e._fire("beforeBegin",[_52e.node]);var de=_52c||_52e.delay,_52f=lang.hitch(_52e,"_play",_52d);if(de>0){_52e._delayTimer=setTimeout(_52f,de);return _52e;}_52f();return _52e;},_play:function(_530){var _531=this;if(_531._delayTimer){_531._clearTimer();}_531._startTime=new Date().valueOf();if(_531._paused){_531._startTime-=_531.duration*_531._percent;}_531._active=true;_531._paused=false;var _532=_531.curve.getValue(_531._getStep());if(!_531._percent){if(!_531._startRepeatCount){_531._startRepeatCount=_531.repeat;}_531._fire("onBegin",[_532]);}_531._fire("onPlay",[_532]);_531._cycle();return _531;},pause:function(){var _533=this;if(_533._delayTimer){_533._clearTimer();}_533._stopTimer();if(!_533._active){return _533;}_533._paused=true;_533._fire("onPause",[_533.curve.getValue(_533._getStep())]);return _533;},gotoPercent:function(_534,_535){var _536=this;_536._stopTimer();_536._active=_536._paused=true;_536._percent=_534;if(_535){_536.play();}return _536;},stop:function(_537){var _538=this;if(_538._delayTimer){_538._clearTimer();}if(!_538._timer){return _538;}_538._stopTimer();if(_537){_538._percent=1;}_538._fire("onStop",[_538.curve.getValue(_538._getStep())]);_538._active=_538._paused=false;return _538;},status:function(){if(this._active){return this._paused?"paused":"playing";}return "stopped";},_cycle:function(){var _539=this;if(_539._active){var curr=new Date().valueOf();var step=_539.duration===0?1:(curr-_539._startTime)/(_539.duration);if(step>=1){step=1;}_539._percent=step;if(_539.easing){step=_539.easing(step);}_539._fire("onAnimate",[_539.curve.getValue(step)]);if(_539._percent<1){_539._startTimer();}else{_539._active=false;if(_539.repeat>0){_539.repeat--;_539.play(null,true);}else{if(_539.repeat==-1){_539.play(null,true);}else{if(_539._startRepeatCount){_539.repeat=_539._startRepeatCount;_539._startRepeatCount=0;}}}_539._percent=0;_539._fire("onEnd",[_539.node]);!_539.repeat&&_539._stopTimer();}}return _539;},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer;}});var ctr=0,_53a=null,_53b={run:function(){}};lang.extend(_529,{_startTimer:function(){if(!this._timer){this._timer=_523.after(_53b,"run",lang.hitch(this,"_cycle"),true);ctr++;}if(!_53a){_53a=setInterval(lang.hitch(_53b,"run"),this.rate);}},_stopTimer:function(){if(this._timer){this._timer.remove();this._timer=null;ctr--;}if(ctr<=0){clearInterval(_53a);_53a=null;ctr=0;}}});var _53c=has("ie")?function(node){var ns=node.style;if(!ns.width.length&&_524.get(node,"width")=="auto"){ns.width="auto";}}:function(){};_526._fade=function(args){args.node=dom.byId(args.node);var _53d=_525({properties:{}},args),_53e=(_53d.properties.opacity={});_53e.start=!("start" in _53d)?function(){return +_524.get(_53d.node,"opacity")||0;}:_53d.start;_53e.end=_53d.end;var anim=_526.animateProperty(_53d);_523.after(anim,"beforeBegin",lang.partial(_53c,_53d.node),true);return anim;};_526.fadeIn=function(args){return _526._fade(_525({end:1},args));};_526.fadeOut=function(args){return _526._fade(_525({end:0},args));};_526._defaultEasing=function(n){return 0.5+((Math.sin((n+1.5)*Math.PI))/2);};var _53f=function(_540){this._properties=_540;for(var p in _540){var prop=_540[p];if(prop.start instanceof _522){prop.tempColor=new _522();}}};_53f.prototype.getValue=function(r){var ret={};for(var p in this._properties){var prop=this._properties[p],_541=prop.start;if(_541 instanceof _522){ret[p]=_522.blendColors(_541,prop.end,r,prop.tempColor).toCss();}else{if(!lang.isArray(_541)){ret[p]=((prop.end-_541)*r)+_541+(p!="opacity"?prop.units||"px":0);}}}return ret;};_526.animateProperty=function(args){var n=args.node=dom.byId(args.node);if(!args.easing){args.easing=dojo._defaultEasing;}var anim=new _529(args);_523.after(anim,"beforeBegin",lang.hitch(anim,function(){var pm={};for(var p in this.properties){if(p=="width"||p=="height"){this.node.display="block";}var prop=this.properties[p];if(lang.isFunction(prop)){prop=prop(n);}prop=pm[p]=_525({},(lang.isObject(prop)?prop:{end:prop}));if(lang.isFunction(prop.start)){prop.start=prop.start(n);}if(lang.isFunction(prop.end)){prop.end=prop.end(n);}var _542=(p.toLowerCase().indexOf("color")>=0);function _543(node,p){var v={height:node.offsetHeight,width:node.offsetWidth}[p];if(v!==undefined){return v;}v=_524.get(node,p);return (p=="opacity")?+v:(_542?v:parseFloat(v));};if(!("end" in prop)){prop.end=_543(n,p);}else{if(!("start" in prop)){prop.start=_543(n,p);}}if(_542){prop.start=new _522(prop.start);prop.end=new _522(prop.end);}else{prop.start=(p=="opacity")?+prop.start:parseFloat(prop.start);}}this.curve=new _53f(pm);}),true);_523.after(anim,"onAnimate",lang.hitch(_524,"set",anim.node),true);return anim;};_526.anim=function(node,_544,_545,_546,_547,_548){return _526.animateProperty({node:node,duration:_545||_529.prototype.duration,properties:_544,easing:_546,onEnd:_547}).play(_548||0);};if(1){_525(dojo,_526);dojo._Animation=_529;}return _526;});},"dojo/_base/loader":function(){define(["./kernel","../has","require","module","../json","./lang","./array"],function(dojo,has,_549,_54a,json,lang,_54b){if(!1){console.error("cannot load the Dojo v1.x loader with a foreign loader");return 0;}1||has.add("dojo-fast-sync-require",1);var _54c=function(id){return {src:_54a.id,id:id};},_54d=function(name){return name.replace(/\./g,"/");},_54e=/\/\/>>built/,_54f=[],_550=[],_551=function(mid,_552,_553){_54f.push(_553);_54b.forEach(mid.split(","),function(mid){var _554=_555(mid,_552.module);_550.push(_554);_556(_554);});_557();},_557=(1?function(){var _558,mid;for(mid in _559){_558=_559[mid];if(_558.noReqPluginCheck===undefined){_558.noReqPluginCheck=/loadInit\!/.test(mid)||/require\!/.test(mid)?1:0;}if(!_558.executed&&!_558.noReqPluginCheck&&_558.injected==_55a){return;}}_55b(function(){var _55c=_54f;_54f=[];_54b.forEach(_55c,function(cb){cb(1);});});}:(function(){var _55d,_55e=function(m){_55d[m.mid]=1;for(var t,_55f,deps=m.deps||[],i=0;i<deps.length;i++){_55f=deps[i];if(!(t=_55d[_55f.mid])){if(t===0||!_55e(_55f)){_55d[m.mid]=0;return false;}}}return true;};return function(){var _560,mid;_55d={};for(mid in _559){_560=_559[mid];if(_560.executed||_560.noReqPluginCheck){_55d[mid]=1;}else{if(_560.noReqPluginCheck!==0){_560.noReqPluginCheck=/loadInit\!/.test(mid)||/require\!/.test(mid)?1:0;}if(_560.noReqPluginCheck){_55d[mid]=1;}else{if(_560.injected!==_58c){_55d[mid]=0;}}}}for(var t,i=0,end=_550.length;i<end;i++){_560=_550[i];if(!(t=_55d[_560.mid])){if(t===0||!_55e(_560)){return;}}}_55b(function(){var _561=_54f;_54f=[];_54b.forEach(_561,function(cb){cb(1);});});};})()),_562=function(mid,_563,_564){_563([mid],function(_565){_563(_565.names,function(){for(var _566="",args=[],i=0;i<arguments.length;i++){_566+="var "+_565.names[i]+"= arguments["+i+"]; ";args.push(arguments[i]);}eval(_566);var _567=_563.module,_568=[],_569,_56a={provide:function(_56b){_56b=_54d(_56b);var _56c=_555(_56b,_567);if(_56c!==_567){_592(_56c);}},require:function(_56d,_56e){_56d=_54d(_56d);_56e&&(_555(_56d,_567).result=_58d);_568.push(_56d);},requireLocalization:function(_56f,_570,_571){if(!_569){_569=["dojo/i18n"];}_571=(_571||dojo.locale).toLowerCase();_56f=_54d(_56f)+"/nls/"+(/root/i.test(_571)?"":_571+"/")+_54d(_570);if(_555(_56f,_567).isXd){_569.push("dojo/i18n!"+_56f);}},loadInit:function(f){f();}},hold={},p;try{for(p in _56a){hold[p]=dojo[p];dojo[p]=_56a[p];}_565.def.apply(null,args);}catch(e){_572("error",[_54c("failedDojoLoadInit"),e]);}finally{for(p in _56a){dojo[p]=hold[p];}}if(_569){_568=_568.concat(_569);}if(_568.length){_551(_568.join(","),_563,_564);}else{_564();}});});},_573=function(text,_574,_575){var _576=/\(|\)/g,_577=1,_578;_576.lastIndex=_574;while((_578=_576.exec(text))){if(_578[0]==")"){_577-=1;}else{_577+=1;}if(_577==0){break;}}if(_577!=0){throw "unmatched paren around character "+_576.lastIndex+" in: "+text;}return [dojo.trim(text.substring(_575,_576.lastIndex))+";\n",_576.lastIndex];},_579=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,_57a=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,_57b=/(^|\s)(require|define)\s*\(/m,_57c=function(text,_57d){var _57e,_57f,_580,_581,_582=[],_583=[],_584=[];_57d=_57d||text.replace(_579,function(_585){_57a.lastIndex=_57b.lastIndex=0;return (_57a.test(_585)||_57b.test(_585))?"":_585;});while((_57e=_57a.exec(_57d))){_57f=_57a.lastIndex;_580=_57f-_57e[0].length;_581=_573(_57d,_57f,_580);if(_57e[2]=="loadInit"){_582.push(_581[0]);}else{_583.push(_581[0]);}_57a.lastIndex=_581[1];}_584=_582.concat(_583);if(_584.length||!_57b.test(_57d)){return [text.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),_584.join(""),_584];}else{return 0;}},_586=function(_587,text){var _588,id,_589=[],_58a=[];if(_54e.test(text)||!(_588=_57c(text))){return 0;}id=_587.mid+"-*loadInit";for(var p in _555("dojo",_587).result.scopeMap){_589.push(p);_58a.push("\""+p+"\"");}return "// xdomain rewrite of "+_587.mid+"\n"+"define('"+id+"',{\n"+"\tnames:"+json.stringify(_589)+",\n"+"\tdef:function("+_589.join(",")+"){"+_588[1]+"}"+"});\n\n"+"define("+json.stringify(_589.concat(["dojo/loadInit!"+id]))+", function("+_589.join(",")+"){\n"+_588[0]+"});";},_58b=_549.initSyncLoader(_551,_557,_586),sync=_58b.sync,_55a=_58b.requested,_58c=_58b.arrived,_58d=_58b.nonmodule,_58e=_58b.executing,_58f=_58b.executed,_590=_58b.syncExecStack,_559=_58b.modules,_591=_58b.execQ,_555=_58b.getModule,_556=_58b.injectModule,_592=_58b.setArrived,_572=_58b.signal,_593=_58b.finishExec,_594=_58b.execModule,_595=_58b.getLegacyMode,_55b=_58b.guardCheckComplete;_551=_58b.dojoRequirePlugin;dojo.provide=function(mid){var _596=_590[0],_597=lang.mixin(_555(_54d(mid),_549.module),{executed:_58e,result:lang.getObject(mid,true)});_592(_597);if(_596){(_596.provides||(_596.provides=[])).push(function(){_597.result=lang.getObject(mid);delete _597.provides;_597.executed!==_58f&&_593(_597);});}return _597.result;};has.add("config-publishRequireResult",1,0,0);dojo.require=function(_598,_599){function _59a(mid,_59b){var _59c=_555(_54d(mid),_549.module);if(_590.length&&_590[0].finish){_590[0].finish.push(mid);return undefined;}if(_59c.executed){return _59c.result;}_59b&&(_59c.result=_58d);var _59d=_595();_556(_59c);_59d=_595();if(_59c.executed!==_58f&&_59c.injected===_58c){_58b.guardCheckComplete(function(){_594(_59c);});}if(_59c.executed){return _59c.result;}if(_59d==sync){if(_59c.cjs){_591.unshift(_59c);}else{_590.length&&(_590[0].finish=[mid]);}}else{_591.push(_59c);}return undefined;};var _59e=_59a(_598,_599);if(has("config-publishRequireResult")&&!lang.exists(_598)&&_59e!==undefined){lang.setObject(_598,_59e);}return _59e;};dojo.loadInit=function(f){f();};dojo.registerModulePath=function(_59f,_5a0){var _5a1={};_5a1[_59f.replace(/\./g,"/")]=_5a0;_549({paths:_5a1});};dojo.platformRequire=function(_5a2){var _5a3=(_5a2.common||[]).concat(_5a2[dojo._name]||_5a2["default"]||[]),temp;while(_5a3.length){if(lang.isArray(temp=_5a3.shift())){dojo.require.apply(dojo,temp);}else{dojo.require(temp);}}};dojo.requireIf=dojo.requireAfterIf=function(_5a4,_5a5,_5a6){if(_5a4){dojo.require(_5a5,_5a6);}};dojo.requireLocalization=function(_5a7,_5a8,_5a9){_549(["../i18n"],function(i18n){i18n.getLocalization(_5a7,_5a8,_5a9);});};return {extractLegacyApiApplications:_57c,require:_551,loadInit:_562};});}}});(function(){var _5aa=this.require;_5aa({cache:{}});!_5aa.async&&_5aa(["dojo"]);_5aa.boot&&_5aa.apply(null,_5aa.boot);})();
}

/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mxui/nls/mxui_en-us",{"dojo/cldr/nls/number":{"scientificFormat":"#E0","currencySpacing-afterCurrency-currencyMatch":"[:^S:]","infinity":"","list":";","percentSign":"%","minusSign":"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":"","nan":"NaN","plusSign":"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]","currencyFormat":"#,##0.00;(#,##0.00)","perMille":"","group":",","percentFormat":"#,##0%","decimalFormat-long":"000 trillion","decimalFormat":"#,##0.###","decimal":".","currencySpacing-beforeCurrency-insertBetween":"","exponential":"E","_localized":{}},"dojo/cldr/nls/gregorian":{"days-standAlone-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-yMEd":"E, M/d/y","dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"E, MMM d","eraNarrow":["B","A"],"days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"MMMM d, y","months-format-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"dateTimeFormat-medium":"{1}, {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, MMMM d, y","dateFormatItem-Md":"M/d","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dateFormatItem-yMd":"M/d/y","field-era":"Era","dateFormatItem-yM":"M/y","months-standAlone-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"timeFormat-short":"h:mm a","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"h:mm:ss a z","field-year":"Year","dateFormatItem-yMMM":"MMM y","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"timeFormat-full":"h:mm:ss a zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateFormatItem-Gy":"G y","dateFormatItem-M":"L","days-standAlone-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"timeFormat-medium":"h:mm:ss a","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraAbbr":["BC","AD"],"field-minute":"Minute","field-dayperiod":"AM/PM","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Yesterday","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} 'at' {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"E, M/d","dateTimeFormat-full":"{1} 'at' {0}","field-day":"Day","days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"field-zone":"Time Zone","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{1} {0}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"eraNames":["Before Christ","Anno Domini"],"dateFormatItem-yMMMd":"MMM d, y","days-format-narrow":["S","M","T","W","T","F","S"],"days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","field-month":"Month","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormat-short":"M/d/yyyy","field-second":"Second","dateFormatItem-yMMMEd":"E, MMM d, y","dateFormatItem-Ed":"d E","dateTimeFormats-appendItem-Timezone":"{0} {1}","field-week":"Week","dateFormat-medium":"MMM d, y","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1}, {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM","dateFormatItem-Ehm":"E h:mm a","dayPeriods-format-wide-noon":"noon","dateFormatItem-yQ":"Q y","field-year-relative+-1":"Last year","field-month-relative+-1":"Last month","dateFormatItem-EHm":"E HH:mm","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-month-relative+0":"This month","field-month-relative+1":"Next month","field-year-relative+0":"This year","field-week-relative+-1":"Last week","field-year-relative+1":"Next year","field-week-relative+0":"This week","field-week-relative+1":"Next week","_localized":{}},"dijit/nls/loading":{"loadingState":"Loading...","errorState":"Sorry, an error occurred","_localized":{}},"dojo/cldr/nls/buddhist":{"days-standAlone-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"months-format-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-GyMMMEd":"E, MMM d, y G","dateFormatItem-MMMEd":"E, MMM d","eraNarrow":["BE"],"days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"MMMM d, y G","months-format-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"dateFormatItem-yyyyQQQ":"QQQ y G","dateTimeFormat-medium":"{1}, {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, MMMM d, y G","dateFormatItem-yyyyMEd":"E, M/d/y GGGGG","dateFormatItem-Md":"M/d","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","field-era":"Era","months-standAlone-wide":["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"],"timeFormat-short":"h:mm a","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"timeFormat-long":"h:mm:ss a z","field-year":"Year","dateTimeFormats-appendItem-Era":"{0} {1}","field-hour":"Hour","months-format-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"timeFormat-full":"h:mm:ss a zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","dateFormatItem-GyMMMd":"MMM d, y G","dateFormatItem-H":"HH","months-standAlone-abbr":["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"y G","dateFormatItem-yyyyMMMEd":"E, MMM d, y G","dateFormatItem-M":"L","days-standAlone-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-yyyyMMM":"MMM y G","dateFormatItem-yyyyMMMd":"MMM d, y G","timeFormat-medium":"h:mm:ss a","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraAbbr":["BE"],"field-minute":"Minute","field-dayperiod":"AM/PM","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Yesterday","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} 'at' {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"E, M/d","dateTimeFormat-full":"{1} 'at' {0}","field-day":"Day","days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"field-zone":"Time Zone","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y G","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{0} {1}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"eraNames":["BE"],"days-format-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-yyyyMd":"M/d/y GGGGG","days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","field-month":"Month","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormat-short":"M/d/y GGGGG","field-second":"Second","dateFormatItem-Ed":"d E","dateTimeFormats-appendItem-Timezone":"{0} {1}","field-week":"Week","dateFormat-medium":"MMM d, y G","dateFormatItem-yyyyM":"M/y GGGGG","dayPeriods-format-narrow-pm":"p","dateFormatItem-yyyyQQQQ":"QQQQ y G","dateTimeFormat-short":"{1}, {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"MMM y G","dateFormatItem-yyyy":"y G","field-week-relative+-1":"Last week","field-year-relative+0":"This year","field-year-relative+1":"Next year","field-year-relative+-1":"Last year","field-week-relative+0":"This week","field-week-relative+1":"Next week","field-month-relative+0":"This month","field-month-relative+1":"Next month","field-month-relative+-1":"Last month","_localized":{}}});
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mxui/nls/mxui_nl-nl",{"dojo/cldr/nls/number":{"scientificFormat":"#E0","currencySpacing-afterCurrency-currencyMatch":"[:^S:]","infinity":"","list":";","percentSign":"%","minusSign":"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","decimalFormat-short":"000bln'.'","currencySpacing-afterCurrency-insertBetween":"","nan":"NaN","plusSign":"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]","currencyFormat":"#,##0.00;#,##0.00-","perMille":"","group":".","percentFormat":"#,##0%","decimalFormat-long":"000 biljoen","decimalFormat":"#,##0.###","decimal":",","currencySpacing-beforeCurrency-insertBetween":"","exponential":"E","_localized":{}},"dojo/cldr/nls/gregorian":{"days-standAlone-short":["zo","ma","di","wo","do","vr","za"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Dag van de week","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-yMEd":"E d-M-y","dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"E d MMM","eraNarrow":["v.Chr.","n.Chr."],"days-format-short":["zo","ma","di","wo","do","vr","za"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"d MMMM y","months-format-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE d MMMM y","dateFormatItem-Md":"d-M","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dateFormatItem-yMd":"d-M-y","field-era":"Tijdperk","dateFormatItem-yM":"M-y","months-standAlone-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"timeFormat-short":"HH:mm","quarters-format-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Jaar","dateFormatItem-yMMM":"MMM y","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Uur","months-format-abbr":["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],"timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"Vandaag","field-day-relative+1":"Morgen","dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],"quarters-format-abbr":["K1","K2","K3","K4"],"quarters-standAlone-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"dateFormatItem-Gy":"G y","dateFormatItem-M":"L","days-standAlone-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["K1","K2","K3","K4"],"eraAbbr":["v.Chr.","n.Chr."],"field-minute":"Minuut","field-dayperiod":"AM/PM","days-standAlone-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Gisteren","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"AM","dateFormatItem-MMMd":"d-MMM","dateFormatItem-MEd":"E d-M","dateTimeFormat-full":"{1} {0}","field-day":"Dag","days-format-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"field-zone":"Zone","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{1} {0}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["zo","ma","di","wo","do","vr","za"],"eraNames":["Voor Christus","na Christus"],"dateFormatItem-yMMMd":"d MMM y","days-format-narrow":["Z","M","D","W","D","V","Z"],"days-standAlone-narrow":["Z","M","D","W","D","V","Z"],"dateFormatItem-MMM":"LLL","field-month":"Maand","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormat-short":"dd-MM-yyyy","field-second":"Seconde","dateFormatItem-yMMMEd":"E d MMM y","dateFormatItem-Ed":"E d","dateTimeFormats-appendItem-Timezone":"{0} {1}","field-week":"week","dateFormat-medium":"d MMM y","dayPeriods-format-narrow-pm":"PM","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM","dateFormatItem-yyQQQQ":"QQQQ yy","dayPeriods-format-wide-noon":"12 uur 's middags","dateFormatItem-yQ":"Q yyyy","dateFormatItem-yyyyMMMM":"MMMM y","dateFormatItem-MMdd":"dd-MM","dateFormatItem-yyQ":"Q yy","field-day-relative+2":"Overmorgen","dateFormatItem-MMMMd":"d MMMM","dayPeriods-format-abbr-noon":"12 uur 's middags","dateFormatItem-yyMMM":"MMM yy","field-day-relative+-2":"Eergisteren","field-year-relative+-1":"Vorig jaar","field-month-relative+-1":"Vorige maand","dateFormatItem-yyMM":"MM-yy","dateFormatItem-MMd":"d-MM","dayPeriods-format-narrow-noon":"n","field-month-relative+0":"Deze maand","field-month-relative+1":"Volgende maand","field-year-relative+0":"Dit jaar","field-week-relative+-1":"Vorige week","field-year-relative+1":"Volgend jaar","field-week-relative+0":"Deze week","field-week-relative+1":"Volgende week","_localized":{}},"dijit/nls/loading":{"loadingState":"Bezig met laden...","errorState":"Er is een fout opgetreden","_localized":{}},"dojo/cldr/nls/buddhist":{"days-standAlone-short":["zo","ma","di","wo","do","vr","za"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Dag van de week","dateFormatItem-GyMMMEd":"E d MMM y G","dateFormatItem-MMMEd":"E d MMM","eraNarrow":["BE"],"days-format-short":["zo","ma","di","wo","do","vr","za"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"d MMMM y G","months-format-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"dateFormatItem-yyyyQQQ":"QQQ y G","dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE d MMMM y G","dateFormatItem-yyyyMEd":"E d-M-y GGGGG","dateFormatItem-Md":"d-M","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","field-era":"Tijdperk","months-standAlone-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"timeFormat-short":"HH:mm","quarters-format-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"timeFormat-long":"HH:mm:ss z","field-year":"Jaar","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Uur","months-format-abbr":["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],"timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"Vandaag","field-day-relative+1":"Morgen","dateFormatItem-GyMMMd":"d MMM y G","dateFormatItem-H":"HH","months-standAlone-abbr":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],"quarters-format-abbr":["K1","K2","K3","K4"],"quarters-standAlone-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"dateFormatItem-Gy":"y G","dateFormatItem-yyyyMMMEd":"E d MMM y G","dateFormatItem-M":"L","days-standAlone-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"dateFormatItem-yyyyMMM":"MMM y G","dateFormatItem-yyyyMMMd":"d MMM y G","timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["K1","K2","K3","K4"],"eraAbbr":["BE"],"field-minute":"Minuut","field-dayperiod":"AM/PM","days-standAlone-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Gisteren","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"AM","dateFormatItem-MMMd":"d MMM","dateFormatItem-MEd":"E d-M","dateTimeFormat-full":"{1} {0}","field-day":"Dag","days-format-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"field-zone":"Zone","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y G","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{1} {0}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["zo","ma","di","wo","do","vr","za"],"eraNames":["BE"],"days-format-narrow":["Z","M","D","W","D","V","Z"],"dateFormatItem-yyyyMd":"d-M-y GGGGG","days-standAlone-narrow":["Z","M","D","W","D","V","Z"],"dateFormatItem-MMM":"LLL","field-month":"Maand","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormat-short":"dd-MM-yy GGGGG","field-second":"Seconde","dateFormatItem-Ed":"E d","dateTimeFormats-appendItem-Timezone":"{0} {1}","field-week":"week","dateFormat-medium":"d MMM y G","dateFormatItem-yyyyM":"M-y GGGGG","dayPeriods-format-narrow-pm":"PM","dateFormatItem-yyyyQQQQ":"QQQQ y G","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"MMM y G","dateFormatItem-yyyy":"y G","field-day-relative+-2":"Eergisteren","field-day-relative+2":"Overmorgen","field-week-relative+-1":"Vorige week","field-year-relative+0":"Dit jaar","field-year-relative+1":"Volgend jaar","field-year-relative+-1":"Vorig jaar","field-week-relative+0":"Deze week","field-week-relative+1":"Volgende week","field-month-relative+0":"Deze maand","field-month-relative+1":"Volgende maand","field-month-relative+-1":"Vorige maand","_localized":{}}});
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
require({cache:{"dijit/main":function(){define(["dojo/_base/kernel"],function(_1){return _1.dijit;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(_2){return _2.dojox;});},"dojo/require":function(){define(["./_base/loader"],function(_3){return {dynamic:0,normalize:function(id){return id;},load:_3.require};});},"dojo/hash":function(){define(["./_base/kernel","require","./_base/config","./aspect","./_base/lang","./topic","./domReady","./sniff"],function(_4,_5,_6,_7,_8,_9,_a,_b){_4.hash=function(_c,_d){if(!arguments.length){return _e();}if(_c.charAt(0)=="#"){_c=_c.substring(1);}if(_d){_f(_c);}else{location.href="#"+_c;}return _c;};var _10,_11,_12,_13=_6.hashPollFrequency||100;function _14(str,_15){var i=str.indexOf(_15);return (i>=0)?str.substring(i+1):"";};function _e(){return _14(location.href,"#");};function _16(){_9.publish("/dojo/hashchange",_e());};function _17(){if(_e()===_10){return;}_10=_e();_16();};function _f(_18){if(_11){if(_11.isTransitioning()){setTimeout(_8.hitch(null,_f,_18),_13);return;}var _19=_11.iframe.location.href;var _1a=_19.indexOf("?");_11.iframe.location.replace(_19.substring(0,_1a)+"?"+_18);return;}location.replace("#"+_18);!_12&&_17();};function _1b(){var ifr=document.createElement("iframe"),_1c="dojo-hash-iframe",_1d=_6.dojoBlankHtmlUrl||_5.toUrl("./resources/blank.html");if(_6.useXDomain&&!_6.dojoBlankHtmlUrl){console.warn("dojo/hash: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}ifr.id=_1c;ifr.src=_1d+"?"+_e();ifr.style.display="none";document.body.appendChild(ifr);this.iframe=_4.global[_1c];var _1e,_1f,_20,_21,_22,_23=this.iframe.location;function _24(){_10=_e();_1e=_22?_10:_14(_23.href,"?");_1f=false;_20=null;};this.isTransitioning=function(){return _1f;};this.pollLocation=function(){if(!_22){try{var _25=_14(_23.href,"?");if(document.title!=_21){_21=this.iframe.document.title=document.title;}}catch(e){_22=true;console.error("dojo/hash: Error adding history entry. Server unreachable.");}}var _26=_e();if(_1f&&_10===_26){if(_22||_25===_20){_24();_16();}else{setTimeout(_8.hitch(this,this.pollLocation),0);return;}}else{if(_10===_26&&(_22||_1e===_25)){}else{if(_10!==_26){_10=_26;_1f=true;_20=_26;ifr.src=_1d+"?"+_20;_22=false;setTimeout(_8.hitch(this,this.pollLocation),0);return;}else{if(!_22){location.href="#"+_23.search.substring(1);_24();_16();}}}}setTimeout(_8.hitch(this,this.pollLocation),_13);};_24();setTimeout(_8.hitch(this,this.pollLocation),_13);};_a(function(){if("onhashchange" in _4.global&&(!_b("ie")||(_b("ie")>=8&&document.compatMode!="BackCompat"))){_12=_7.after(_4.global,"onhashchange",_16,true);}else{if(document.addEventListener){_10=_e();setInterval(_17,_13);}else{if(document.attachEvent){_11=new _1b();}}}});return _4.hash;});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(_27,has,_28,dom,_29,_2a,_2b){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var _2c=_28.body(doc),_2d=_2b.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},_2c,"last"),div=_2b.create("div",{style:{overflow:"hidden",direction:"ltr"}},_2d,"last"),ret=_29.position(div).x!=0;_2d.removeChild(div);_2c.removeChild(_2d);return ret;});has.add("position-fixed-support",function(win,doc){var _2e=_28.body(doc),_2f=_2b.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},_2e,"last"),_30=_2b.create("span",{style:{position:"fixed",left:"0",top:"0"}},_2f,"last"),ret=_29.position(_30).x!=_29.position(_2f).x;_2f.removeChild(_30);_2e.removeChild(_2f);return ret;});var _31={getBox:function(doc){doc=doc||_28.doc;var _32=(doc.compatMode=="BackCompat")?_28.body(doc):doc.documentElement,_33=_29.docScroll(doc),w,h;if(has("touch")){var _34=_31.get(doc);w=_34.innerWidth||_32.clientWidth;h=_34.innerHeight||_32.clientHeight;}else{w=_32.clientWidth;h=_32.clientHeight;}return {l:_33.x,t:_33.y,w:w,h:h};},get:function(doc){if(has("ie")&&_31!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(_35,pos){try{_35=dom.byId(_35);var doc=_35.ownerDocument||_28.doc,_36=_28.body(doc),_37=doc.documentElement||_36.parentNode,_38=has("ie"),_39=has("webkit");if(_35==_36||_35==_37){return;}if(!(has("mozilla")||_38||_39||has("opera")||has("trident"))&&("scrollIntoView" in _35)){_35.scrollIntoView(false);return;}var _3a=doc.compatMode=="BackCompat",_3b=Math.min(_36.clientWidth||_37.clientWidth,_37.clientWidth||_36.clientWidth),_3c=Math.min(_36.clientHeight||_37.clientHeight,_37.clientHeight||_36.clientHeight),_3d=(_39||_3a)?_36:_37,_3e=pos||_29.position(_35),el=_35.parentNode,_3f=function(el){return (_38<=6||(_38==7&&_3a))?false:(has("position-fixed-support")&&(_2a.get(el,"position").toLowerCase()=="fixed"));};if(_3f(_35)){return;}while(el){if(el==_36){el=_3d;}var _40=_29.position(el),_41=_3f(el),rtl=_2a.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_3d){_40.w=_3b;_40.h=_3c;if(_3d==_37&&_38&&rtl){_40.x+=_3d.offsetWidth-_40.w;}if(_40.x<0||!_38||_38>=9){_40.x=0;}if(_40.y<0||!_38||_38>=9){_40.y=0;}}else{var pb=_29.getPadBorderExtents(el);_40.w-=pb.w;_40.h-=pb.h;_40.x+=pb.l;_40.y+=pb.t;var _42=el.clientWidth,_43=_40.w-_42;if(_42>0&&_43>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_40.x+=_43;}_40.w=_42;}_42=el.clientHeight;_43=_40.h-_42;if(_42>0&&_43>0){_40.h=_42;}}if(_41){if(_40.y<0){_40.h+=_40.y;_40.y=0;}if(_40.x<0){_40.w+=_40.x;_40.x=0;}if(_40.y+_40.h>_3c){_40.h=_3c-_40.y;}if(_40.x+_40.w>_3b){_40.w=_3b-_40.x;}}var l=_3e.x-_40.x,t=_3e.y-_40.y,r=l+_3e.w-_40.w,bot=t+_3e.h-_40.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_3d||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((_38==8&&!_3a)||_38>=9)){s=-s;}old=el.scrollLeft;el.scrollLeft+=s;s=el.scrollLeft-old;_3e.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_3d||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;el.scrollTop+=s;s=el.scrollTop-old;_3e.y-=s;}el=(el!=_3d)&&!_41&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);_35.scrollIntoView(false);}}};1&&_27.setObject("dojo.window",_31);return _31;});},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(_44,_45,_46,_47,_48){var _49={};_44.setObject("dojo.number",_49);_49.format=function(_4a,_4b){_4b=_44.mixin({},_4b||{});var _4c=_45.normalizeLocale(_4b.locale),_4d=_45.getLocalization("dojo.cldr","number",_4c);_4b.customs=_4d;var _4e=_4b.pattern||_4d[(_4b.type||"decimal")+"Format"];if(isNaN(_4a)||Math.abs(_4a)==Infinity){return null;}return _49._applyPattern(_4a,_4e,_4b);};_49._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_49._applyPattern=function(_4f,_50,_51){_51=_51||{};var _52=_51.customs.group,_53=_51.customs.decimal,_54=_50.split(";"),_55=_54[0];_50=_54[(_4f<0)?1:0]||("-"+_55);if(_50.indexOf("%")!=-1){_4f*=100;}else{if(_50.indexOf("")!=-1){_4f*=1000;}else{if(_50.indexOf("")!=-1){_52=_51.customs.currencyGroup||_52;_53=_51.customs.currencyDecimal||_53;_50=_50.replace(/\u00a4{1,3}/,function(_56){var _57=["symbol","currency","displayName"][_56.length-1];return _51[_57]||_51.currency||"";});}else{if(_50.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _58=_49._numberPatternRE;var _59=_55.match(_58);if(!_59){throw new Error("unable to find a number expression in pattern: "+_50);}if(_51.fractional===false){_51.places=0;}return _50.replace(_58,_49._formatAbsolute(_4f,_59[0],{decimal:_53,group:_52,places:_51.places,round:_51.round}));};_49.round=function(_5a,_5b,_5c){var _5d=10/(_5c||10);return (_5d*+_5a).toFixed(_5b)/_5d;};if((0.9).toFixed()==0){var _5e=_49.round;_49.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _5e(v,p,m)+(v>0?d:-d);};}_49._formatAbsolute=function(_5f,_60,_61){_61=_61||{};if(_61.places===true){_61.places=0;}if(_61.places===Infinity){_61.places=6;}var _62=_60.split("."),_63=typeof _61.places=="string"&&_61.places.indexOf(","),_64=_61.places;if(_63){_64=_61.places.substring(_63+1);}else{if(!(_64>=0)){_64=(_62[1]||[]).length;}}if(!(_61.round<0)){_5f=_49.round(_5f,_64,_61.round);}var _65=String(Math.abs(_5f)).split("."),_66=_65[1]||"";if(_62[1]||_61.places){if(_63){_61.places=_61.places.substring(0,_63);}var pad=_61.places!==undefined?_61.places:(_62[1]&&_62[1].lastIndexOf("0")+1);if(pad>_66.length){_65[1]=_47.pad(_66,pad,"0",true);}if(_64<_66.length){_65[1]=_66.substr(0,_64);}}else{if(_65[1]){_65.pop();}}var _67=_62[0].replace(",","");pad=_67.indexOf("0");if(pad!=-1){pad=_67.length-pad;if(pad>_65[0].length){_65[0]=_47.pad(_65[0],pad);}if(_67.indexOf("#")==-1){_65[0]=_65[0].substr(_65[0].length-pad);}}var _68=_62[0].lastIndexOf(","),_69,_6a;if(_68!=-1){_69=_62[0].length-_68-1;var _6b=_62[0].substr(0,_68);_68=_6b.lastIndexOf(",");if(_68!=-1){_6a=_6b.length-_68-1;}}var _6c=[];for(var _6d=_65[0];_6d;){var off=_6d.length-_69;_6c.push((off>0)?_6d.substr(off):_6d);_6d=(off>0)?_6d.slice(0,off):"";if(_6a){_69=_6a;delete _6a;}}_65[0]=_6c.reverse().join(_61.group||",");return _65.join(_61.decimal||".");};_49.regexp=function(_6e){return _49._parseInfo(_6e).regexp;};_49._parseInfo=function(_6f){_6f=_6f||{};var _70=_45.normalizeLocale(_6f.locale),_71=_45.getLocalization("dojo.cldr","number",_70),_72=_6f.pattern||_71[(_6f.type||"decimal")+"Format"],_73=_71.group,_74=_71.decimal,_75=1;if(_72.indexOf("%")!=-1){_75/=100;}else{if(_72.indexOf("")!=-1){_75/=1000;}else{var _76=_72.indexOf("")!=-1;if(_76){_73=_71.currencyGroup||_73;_74=_71.currencyDecimal||_74;}}}var _77=_72.split(";");if(_77.length==1){_77.push("-"+_77[0]);}var re=_48.buildGroupRE(_77,function(_78){_78="(?:"+_48.escapeString(_78,".")+")";return _78.replace(_49._numberPatternRE,function(_79){var _7a={signed:false,separator:_6f.strict?_73:[_73,""],fractional:_6f.fractional,decimal:_74,exponent:false},_7b=_79.split("."),_7c=_6f.places;if(_7b.length==1&&_75!=1){_7b[1]="###";}if(_7b.length==1||_7c===0){_7a.fractional=false;}else{if(_7c===undefined){_7c=_6f.pattern?_7b[1].lastIndexOf("0")+1:Infinity;}if(_7c&&_6f.fractional==undefined){_7a.fractional=true;}if(!_6f.places&&(_7c<_7b[1].length)){_7c+=","+_7b[1].length;}_7a.places=_7c;}var _7d=_7b[0].split(",");if(_7d.length>1){_7a.groupSize=_7d.pop().length;if(_7d.length>1){_7a.groupSize2=_7d.pop().length;}}return "("+_49._realNumberRegexp(_7a)+")";});},true);if(_76){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_7e,_7f,_80,_81){var _82=["symbol","currency","displayName"][_80.length-1],_83=_48.escapeString(_6f[_82]||_6f.currency||"");_7f=_7f?"[\\s\\xa0]":"";_81=_81?"[\\s\\xa0]":"";if(!_6f.strict){if(_7f){_7f+="*";}if(_81){_81+="*";}return "(?:"+_7f+_83+_81+")?";}return _7f+_83+_81;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_73,decimal:_74,factor:_75};};_49.parse=function(_84,_85){var _86=_49._parseInfo(_85),_87=(new RegExp("^"+_86.regexp+"$")).exec(_84);if(!_87){return NaN;}var _88=_87[1];if(!_87[1]){if(!_87[2]){return NaN;}_88=_87[2];_86.factor*=-1;}_88=_88.replace(new RegExp("["+_86.group+"\\s\\xa0"+"]","g"),"").replace(_86.decimal,".");return _88*_86.factor;};_49._realNumberRegexp=function(_89){_89=_89||{};if(!("places" in _89)){_89.places=Infinity;}if(typeof _89.decimal!="string"){_89.decimal=".";}if(!("fractional" in _89)||/^0/.test(_89.places)){_89.fractional=[true,false];}if(!("exponent" in _89)){_89.exponent=[true,false];}if(!("eSigned" in _89)){_89.eSigned=[true,false];}var _8a=_49._integerRegexp(_89),_8b=_48.buildGroupRE(_89.fractional,function(q){var re="";if(q&&(_89.places!==0)){re="\\"+_89.decimal;if(_89.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_89.places+"}";}}return re;},true);var _8c=_48.buildGroupRE(_89.exponent,function(q){if(q){return "([eE]"+_49._integerRegexp({signed:_89.eSigned})+")";}return "";});var _8d=_8a+_8b;if(_8b){_8d="(?:(?:"+_8d+")|(?:"+_8b+"))";}return _8d+_8c;};_49._integerRegexp=function(_8e){_8e=_8e||{};if(!("signed" in _8e)){_8e.signed=[true,false];}if(!("separator" in _8e)){_8e.separator="";}else{if(!("groupSize" in _8e)){_8e.groupSize=3;}}var _8f=_48.buildGroupRE(_8e.signed,function(q){return q?"[-+]":"";},true);var _90=_48.buildGroupRE(_8e.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_48.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_8e.groupSize,_91=_8e.groupSize2;if(_91){var _92="(?:0|[1-9]\\d{0,"+(_91-1)+"}(?:["+sep+"]\\d{"+_91+"})*["+sep+"]\\d{"+grp+"})";return ((grp-_91)>0)?"(?:"+_92+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_92;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _8f+_90;};return _49;});},"dojo/i18n":function(){define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(_93,_94,has,_95,_96,_97,xhr,_98,_99){has.add("dojo-preload-i18n-Api",1);1||has.add("dojo-v1x-i18n-Api",1);var _9a=_93.i18n={},_9b=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_9c=function(_9d,_9e,_9f,_a0){for(var _a1=[_9f+_a0],_a2=_9e.split("-"),_a3="",i=0;i<_a2.length;i++){_a3+=(_a3?"-":"")+_a2[i];if(!_9d||_9d[_a3]){_a1.push(_9f+_a3+"/"+_a0);_a1.specificity=_a3;}}return _a1;},_a4={},_a5=function(_a6,_a7,_a8){_a8=_a8?_a8.toLowerCase():_93.locale;_a6=_a6.replace(/\./g,"/");_a7=_a7.replace(/\./g,"/");return (/root/i.test(_a8))?(_a6+"/nls/"+_a7):(_a6+"/nls/"+_a8+"/"+_a7);},_a9=_93.getL10nName=function(_aa,_ab,_ac){return _aa=_99.id+"!"+_a5(_aa,_ab,_ac);},_ad=function(_ae,_af,_b0,_b1,_b2,_b3){_ae([_af],function(_b4){var _b5=_97.clone(_b4.root||_b4.ROOT),_b6=_9c(!_b4._v1x&&_b4,_b2,_b0,_b1);_ae(_b6,function(){for(var i=1;i<_b6.length;i++){_b5=_97.mixin(_97.clone(_b5),arguments[i]);}var _b7=_af+"/"+_b2;_a4[_b7]=_b5;_b5.$locale=_b6.specificity;_b3();});});},_b8=function(id,_b9){return /^\./.test(id)?_b9(id):id;},_ba=function(_bb){var _bc=_96.extraLocale||[];_bc=_97.isArray(_bc)?_bc:[_bc];_bc.push(_bb);return _bc;},_bd=function(id,_be,_bf){if(has("dojo-preload-i18n-Api")){var _c0=id.split("*"),_c1=_c0[1]=="preload";if(_c1){if(!_a4[id]){_a4[id]=1;_c2(_c0[2],_98.parse(_c0[3]),1,_be);}_bf(1);}if(_c1||_c3(id,_be,_bf)){return;}}var _c4=_9b.exec(id),_c5=_c4[1]+"/",_c6=_c4[5]||_c4[4],_c7=_c5+_c6,_c8=(_c4[5]&&_c4[4]),_c9=_c8||_93.locale||"",_ca=_c7+"/"+_c9,_cb=_c8?[_c9]:_ba(_c9),_cc=_cb.length,_cd=function(){if(!--_cc){_bf(_97.delegate(_a4[_ca]));}};_95.forEach(_cb,function(_ce){var _cf=_c7+"/"+_ce;if(has("dojo-preload-i18n-Api")){_d0(_cf);}if(!_a4[_cf]){_ad(_be,_c7,_c5,_c6,_ce,_cd);}else{_cd();}});};if(has("dojo-unit-tests")){var _d1=_9a.unitTests=[];}if(has("dojo-preload-i18n-Api")||1){var _d2=_9a.normalizeLocale=function(_d3){var _d4=_d3?_d3.toLowerCase():_93.locale;return _d4=="root"?"ROOT":_d4;},_d5=function(mid,_d6){return (1&&1)?_d6.isXdUrl(_94.toUrl(mid+".js")):true;},_d7=0,_d8=[],_c2=_9a._preloadLocalizations=function(_d9,_da,_db,_dc){_dc=_dc||_94;function _dd(mid,_de){if(_d5(mid,_dc)||_db){_dc([mid],_de);}else{_fd([mid],_de,_dc);}};function _df(_e0,_e1){var _e2=_e0.split("-");while(_e2.length){if(_e1(_e2.join("-"))){return;}_e2.pop();}_e1("ROOT");};function _e3(){_d7++;};function _e4(){--_d7;while(!_d7&&_d8.length){_bd.apply(null,_d8.shift());}};function _e5(_e6,_e7,loc,_e8){return _e8.toAbsMid(_e6+_e7+"/"+loc);};function _e9(_ea){_ea=_d2(_ea);_df(_ea,function(loc){if(_95.indexOf(_da,loc)>=0){var mid=_d9.replace(/\./g,"/")+"_"+loc;_e3();_dd(mid,function(_eb){for(var p in _eb){var _ec=_eb[p],_ed=p.match(/(.+)\/([^\/]+)$/),_ee,_ef;if(!_ed){continue;}_ee=_ed[2];_ef=_ed[1]+"/";_ec._localized=_ec._localized||{};var _f0;if(loc==="ROOT"){var _f1=_f0=_ec._localized;delete _ec._localized;_f1.root=_ec;_a4[_94.toAbsMid(p)]=_f1;}else{_f0=_ec._localized;_a4[_e5(_ef,_ee,loc,_94)]=_ec;}if(loc!==_ea){function _f2(_f3,_f4,_f5,_f6){var _f7=[],_f8=[];_df(_ea,function(loc){if(_f6[loc]){_f7.push(_94.toAbsMid(_f3+loc+"/"+_f4));_f8.push(_e5(_f3,_f4,loc,_94));}});if(_f7.length){_e3();_dc(_f7,function(){for(var i=0;i<_f7.length;i++){_f5=_97.mixin(_97.clone(_f5),arguments[i]);_a4[_f8[i]]=_f5;}_a4[_e5(_f3,_f4,_ea,_94)]=_97.clone(_f5);_e4();});}else{_a4[_e5(_f3,_f4,_ea,_94)]=_f5;}};_f2(_ef,_ee,_ec,_f0);}}_e4();});return true;}return false;});};_e9();_95.forEach(_93.config.extraLocale,_e9);},_c3=function(id,_f9,_fa){if(_d7){_d8.push([id,_f9,_fa]);}return _d7;},_d0=function(){};}if(1){var _fb={},_fc=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},"+"\t   require = function(){define.called = 1;};"+"try{"+"define.called = 0;"+"eval(__bundle);"+"if(define.called==1)"+"return __amdValue;"+"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))"+"return __checkForLegacyModules;"+"}catch(e){}"+"try{"+"return eval('('+__bundle+')');"+"}catch(e){"+"return e;"+"}"),_fd=function(_fe,_ff,_100){var _101=[];_95.forEach(_fe,function(mid){var url=_100.toUrl(mid+".js");function _bd(text){var _102=_fc(text,_d0,mid,_fb);if(_102===_fb){_101.push(_a4[url]=_fb.result);}else{if(_102 instanceof Error){console.error("failed to evaluate i18n bundle; url="+url,_102);_102={};}_101.push(_a4[url]=(/nls\/[^\/]+\/[^\/]+$/.test(url)?_102:{root:_102,_v1x:1}));}};if(_a4[url]){_101.push(_a4[url]);}else{var _103=_100.syncLoadNls(mid);if(_103){_101.push(_103);}else{if(!xhr){try{_100.getText(url,true,_bd);}catch(e){_101.push(_a4[url]={});}}else{xhr.get({url:url,sync:true,load:_bd,error:function(){_101.push(_a4[url]={});}});}}}});_ff&&_ff.apply(null,_101);};_d0=function(_104){for(var _105,_106=_104.split("/"),_107=_93.global[_106[0]],i=1;_107&&i<_106.length-1;_107=_107[_106[i++]]){}if(_107){_105=_107[_106[i]];if(!_105){_105=_107[_106[i].replace(/-/g,"_")];}if(_105){_a4[_104]=_105;}}return _105;};_9a.getLocalization=function(_108,_109,_10a){var _10b,_10c=_a5(_108,_109,_10a);_bd(_10c,(!_d5(_10c,_94)?function(deps,_10d){_fd(deps,_10d,_94);}:_94),function(_10e){_10b=_10e;});return _10b;};if(has("dojo-unit-tests")){_d1.push(function(doh){doh.register("tests.i18n.unit",function(t){var _10f;_10f=_fc("{prop:1}",_d0,"nonsense",_fb);t.is({prop:1},_10f);t.is(undefined,_10f[1]);_10f=_fc("({prop:1})",_d0,"nonsense",_fb);t.is({prop:1},_10f);t.is(undefined,_10f[1]);_10f=_fc("{'prop-x':1}",_d0,"nonsense",_fb);t.is({"prop-x":1},_10f);t.is(undefined,_10f[1]);_10f=_fc("({'prop-x':1})",_d0,"nonsense",_fb);t.is({"prop-x":1},_10f);t.is(undefined,_10f[1]);_10f=_fc("define({'prop-x':1})",_d0,"nonsense",_fb);t.is(_fb,_10f);t.is({"prop-x":1},_fb.result);_10f=_fc("define('some/module', {'prop-x':1})",_d0,"nonsense",_fb);t.is(_fb,_10f);t.is({"prop-x":1},_fb.result);_10f=_fc("this is total nonsense and should throw an error",_d0,"nonsense",_fb);t.is(_10f instanceof Error,true);});});}}return _97.mixin(_9a,{dynamic:true,normalize:_b8,load:_bd,cache:_a4,getL10nName:_a9});});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(_110,lang){var _111={};lang.setObject("dojo.string",_111);_111.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};_111.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=_111.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};_111.substitute=function(_112,map,_113,_114){_114=_114||_110.global;_113=_113?lang.hitch(_114,_113):function(v){return v;};return _112.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_115,key,_116){var _117=lang.getObject(key,false,map);if(_116){_117=lang.getObject(_116,false,_114).call(_114,_117,key);}return _113(_117,key).toString();});};_111.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return _111;});},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(dojo,lang){var _118={};lang.setObject("dojo.regexp",_118);_118.escapeString=function(str,_119){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_119&&_119.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};_118.buildGroupRE=function(arr,re,_11a){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return _118.group(b.join("|"),_11a);};_118.group=function(_11b,_11c){return "("+(_11c?"?:":"")+_11b+")";};return _118;});},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(dojo,_11d){dojo.cookie=function(name,_11e,_11f){var c=document.cookie,ret;if(arguments.length==1){var _120=c.match(new RegExp("(?:^|; )"+_11d.escapeString(name)+"=([^;]*)"));ret=_120?decodeURIComponent(_120[1]):undefined;}else{_11f=_11f||{};var exp=_11f.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_11f.expires=d;}if(exp&&exp.toUTCString){_11f.expires=exp.toUTCString();}_11e=encodeURIComponent(_11e);var _121=name+"="+_11e,_122;for(_122 in _11f){_121+="; "+_122;var _123=_11f[_122];if(_123!==true){_121+="="+_123;}}document.cookie=_121;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"dojo/date/locale":function(){define(["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(lang,_124,date,_125,i18n,_126,_127,_128,_129){var _12a={};lang.setObject(_129.id.replace(/\//g,"."),_12a);function _12b(_12c,_12d,_12e,_12f){return _12f.replace(/([a-z])\1*/ig,function(_130){var s,pad,c=_130.charAt(0),l=_130.length,_131=["abbr","wide","narrow"];switch(c){case "G":s=_12d[(l<4)?"eraAbbr":"eraNames"][_12c.getFullYear()<0?0:1];break;case "y":s=_12c.getFullYear();switch(l){case 1:break;case 2:if(!_12e.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_12c.getMonth()+1)/3);pad=true;break;case "M":case "L":var m=_12c.getMonth();if(l<3){s=m+1;pad=true;}else{var _132=["months",c=="L"?"standAlone":"format",_131[l-3]].join("-");s=_12d[_132][m];}break;case "w":var _133=0;s=_12a._getWeekOfYear(_12c,_133);pad=true;break;case "d":s=_12c.getDate();pad=true;break;case "D":s=_12a._getDayOfYear(_12c);pad=true;break;case "e":case "c":var d=_12c.getDay();if(l<2){s=(d-_125.getFirstDayOfWeek(_12e.locale)+8)%7;break;}case "E":d=_12c.getDay();if(l<3){s=d+1;pad=true;}else{var _134=["days",c=="c"?"standAlone":"format",_131[l-3]].join("-");s=_12d[_134][d];}break;case "a":var _135=_12c.getHours()<12?"am":"pm";s=_12e[_135]||_12d["dayPeriods-format-wide-"+_135];break;case "h":case "H":case "K":case "k":var h=_12c.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_12c.getMinutes();pad=true;break;case "s":s=_12c.getSeconds();pad=true;break;case "S":s=Math.round(_12c.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=_12a._getZone(_12c,true,_12e);if(s){break;}l=4;case "Z":var _136=_12a._getZone(_12c,false,_12e);var tz=[(_136<=0?"+":"-"),_127.pad(Math.floor(Math.abs(_136)/60),2),_127.pad(Math.abs(_136)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_12f);}if(pad){s=_127.pad(s,l);}return s;});};_12a._getZone=function(_137,_138,_139){if(_138){return date.getTimezoneName(_137);}else{return _137.getTimezoneOffset();}};_12a.format=function(_13a,_13b){_13b=_13b||{};var _13c=i18n.normalizeLocale(_13b.locale),_13d=_13b.formatLength||"short",_13e=_12a._getGregorianBundle(_13c),str=[],_13f=lang.hitch(this,_12b,_13a,_13e,_13b);if(_13b.selector=="year"){return _140(_13e["dateFormatItem-yyyy"]||"yyyy",_13f);}var _141;if(_13b.selector!="date"){_141=_13b.timePattern||_13e["timeFormat-"+_13d];if(_141){str.push(_140(_141,_13f));}}if(_13b.selector!="time"){_141=_13b.datePattern||_13e["dateFormat-"+_13d];if(_141){str.push(_140(_141,_13f));}}return str.length==1?str[0]:_13e["dateTimeFormat-"+_13d].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(_142,key){return str[key];});};_12a.regexp=function(_143){return _12a._parseInfo(_143).regexp;};_12a._parseInfo=function(_144){_144=_144||{};var _145=i18n.normalizeLocale(_144.locale),_146=_12a._getGregorianBundle(_145),_147=_144.formatLength||"short",_148=_144.datePattern||_146["dateFormat-"+_147],_149=_144.timePattern||_146["timeFormat-"+_147],_14a;if(_144.selector=="date"){_14a=_148;}else{if(_144.selector=="time"){_14a=_149;}else{_14a=_146["dateTimeFormat-"+_147].replace(/\{(\d+)\}/g,function(_14b,key){return [_149,_148][key];});}}var _14c=[],re=_140(_14a,lang.hitch(this,_14d,_14c,_146,_144));return {regexp:re,tokens:_14c,bundle:_146};};_12a.parse=function(_14e,_14f){var _150=/[\u200E\u200F\u202A\u202E]/g,info=_12a._parseInfo(_14f),_151=info.tokens,_152=info.bundle,re=new RegExp("^"+info.regexp.replace(_150,"")+"$",info.strict?"":"i"),_153=re.exec(_14e&&_14e.replace(_150,""));if(!_153){return null;}var _154=["abbr","wide","narrow"],_155=[1970,0,1,0,0,0,0],amPm="",_156=_124.every(_153,function(v,i){if(!i){return true;}var _157=_151[i-1],l=_157.length,c=_157.charAt(0);switch(c){case "y":if(l!=2&&_14f.strict){_155[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_158=year.substring(0,2)*100,_159=Math.min(Number(year.substring(2,4))+20,99);_155[0]=(v<_159)?_158+v:_158-100+v;}else{if(_14f.strict){return false;}_155[0]=v;}}break;case "M":case "L":if(l>2){var _15a=_152["months-"+(c=="L"?"standAlone":"format")+"-"+_154[l-3]].concat();if(!_14f.strict){v=v.replace(".","").toLowerCase();_15a=_124.map(_15a,function(s){return s.replace(".","").toLowerCase();});}v=_124.indexOf(_15a,v);if(v==-1){return false;}}else{v--;}_155[1]=v;break;case "E":case "e":case "c":var days=_152["days-"+(c=="c"?"standAlone":"format")+"-"+_154[l-3]].concat();if(!_14f.strict){v=v.toLowerCase();days=_124.map(days,function(d){return d.toLowerCase();});}v=_124.indexOf(days,v);if(v==-1){return false;}break;case "D":_155[1]=0;case "d":_155[2]=v;break;case "a":var am=_14f.am||_152["dayPeriods-format-wide-am"],pm=_14f.pm||_152["dayPeriods-format-wide-pm"];if(!_14f.strict){var _15b=/\./g;v=v.replace(_15b,"").toLowerCase();am=am.replace(_15b,"").toLowerCase();pm=pm.replace(_15b,"").toLowerCase();}if(_14f.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_155[3]=v;break;case "m":_155[4]=v;break;case "s":_155[5]=v;break;case "S":_155[6]=v;}return true;});var _15c=+_155[3];if(amPm==="p"&&_15c<12){_155[3]=_15c+12;}else{if(amPm==="a"&&_15c==12){_155[3]=0;}}var _15d=new Date(_155[0],_155[1],_155[2],_155[3],_155[4],_155[5],_155[6]);if(_14f.strict){_15d.setFullYear(_155[0]);}var _15e=_151.join(""),_15f=_15e.indexOf("d")!=-1,_160=_15e.indexOf("M")!=-1;if(!_156||(_160&&_15d.getMonth()>_155[1])||(_15f&&_15d.getDate()>_155[2])){return null;}if((_160&&_15d.getMonth()<_155[1])||(_15f&&_15d.getDate()<_155[2])){_15d=date.add(_15d,"hour",1);}return _15d;};function _140(_161,_162,_163,_164){var _165=function(x){return x;};_162=_162||_165;_163=_163||_165;_164=_164||_165;var _166=_161.match(/(''|[^'])+/g),_167=_161.charAt(0)=="'";_124.forEach(_166,function(_168,i){if(!_168){_166[i]="";}else{_166[i]=(_167?_163:_162)(_168.replace(/''/g,"'"));_167=!_167;}});return _164(_166.join(""));};function _14d(_169,_16a,_16b,_16c){_16c=_126.escapeString(_16c);if(!_16b.strict){_16c=_16c.replace(" a"," ?a");}return _16c.replace(/([a-z])\1*/ig,function(_16d){var s,c=_16d.charAt(0),l=_16d.length,p2="",p3="";if(_16b.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":case "L":s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";break;case "D":s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p2+"[1-9][0-9]|"+p3+"[1-9]";break;case "d":s="3[01]|[12]\\d|"+p2+"[1-9]";break;case "w":s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";break;case "E":case "e":case "c":s=".+?";break;case "h":s="1[0-2]|"+p2+"[1-9]";break;case "k":s="1[01]|"+p2+"\\d";break;case "H":s="1\\d|2[0-3]|"+p2+"\\d";break;case "K":s="1\\d|2[0-4]|"+p2+"[1-9]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_16b.am||_16a["dayPeriods-format-wide-am"],pm=_16b.pm||_16a["dayPeriods-format-wide-pm"];s=am+"|"+pm;if(!_16b.strict){if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_169){_169.push(_16d);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _16e=[];_12a.addCustomFormats=function(_16f,_170){_16e.push({pkg:_16f,name:_170});};_12a._getGregorianBundle=function(_171){var _172={};_124.forEach(_16e,function(desc){var _173=i18n.getLocalization(desc.pkg,desc.name,_171);_172=lang.mixin(_172,_173);},this);return _172;};_12a.addCustomFormats(_129.id.replace(/\/date\/locale$/,".cldr"),"gregorian");_12a.getNames=function(item,type,_174,_175){var _176,_177=_12a._getGregorianBundle(_175),_178=[item,_174,type];if(_174=="standAlone"){var key=_178.join("-");_176=_177[key];if(_176[0]==1){_176=undefined;}}_178[1]="format";return (_176||_177[_178.join("-")]).concat();};_12a.isWeekend=function(_179,_17a){var _17b=_125.getWeekend(_17a),day=(_179||new Date()).getDay();if(_17b.end<_17b.start){_17b.end+=7;if(day<_17b.start){day+=7;}}return day>=_17b.start&&day<=_17b.end;};_12a._getDayOfYear=function(_17c){return date.difference(new Date(_17c.getFullYear(),0,1,_17c.getHours()),_17c)+1;};_12a._getWeekOfYear=function(_17d,_17e){if(arguments.length==1){_17e=0;}var _17f=new Date(_17d.getFullYear(),0,1).getDay(),adj=(_17f-_17e+7)%7,week=Math.floor((_12a._getDayOfYear(_17d)+adj-1)/7);if(_17f==_17e){week++;}return week;};return _12a;});},"dojo/date":function(){define(["./has","./_base/lang"],function(has,lang){var date={};date.getDaysInMonth=function(_180){var _181=_180.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_181==1&&date.isLeapYear(_180)){return 29;}return days[_181];};date.isLeapYear=function(_182){var year=_182.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};date.getTimezoneName=function(_183){var str=_183.toString();var tz="";var _184;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_184=str.match(pat))){tz=_184[1];}else{str=_183.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_184=str.match(pat))){tz=_184[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};date.compare=function(_185,_186,_187){_185=new Date(+_185);_186=new Date(+(_186||new Date()));if(_187=="date"){_185.setHours(0,0,0,0);_186.setHours(0,0,0,0);}else{if(_187=="time"){_185.setFullYear(0,0,0);_186.setFullYear(0,0,0);}}if(_185>_186){return 1;}if(_185<_186){return -1;}return 0;};date.add=function(date,_188,_189){var sum=new Date(+date);var _18a=false;var _18b="Date";switch(_188){case "day":break;case "weekday":var days,_18c;var mod=_189%5;if(!mod){days=(_189>0)?5:-5;_18c=(_189>0)?((_189-5)/5):((_189+5)/5);}else{days=mod;_18c=parseInt(_189/5);}var strt=date.getDay();var adj=0;if(strt==6&&_189>0){adj=1;}else{if(strt==0&&_189<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_189>0)?2:-2;}_189=(7*_18c)+days+adj;break;case "year":_18b="FullYear";_18a=true;break;case "week":_189*=7;break;case "quarter":_189*=3;case "month":_18a=true;_18b="Month";break;default:_18b="UTC"+_188.charAt(0).toUpperCase()+_188.substring(1)+"s";}if(_18b){sum["set"+_18b](sum["get"+_18b]()+_189);}if(_18a&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};date.difference=function(_18d,_18e,_18f){_18e=_18e||new Date();_18f=_18f||"day";var _190=_18e.getFullYear()-_18d.getFullYear();var _191=1;switch(_18f){case "quarter":var m1=_18d.getMonth();var m2=_18e.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_190*4);_191=q2-q1;break;case "weekday":var days=Math.round(date.difference(_18d,_18e,"day"));var _192=parseInt(date.difference(_18d,_18e,"week"));var mod=days%7;if(mod==0){days=_192*5;}else{var adj=0;var aDay=_18d.getDay();var bDay=_18e.getDay();_192=parseInt(days/7);mod=days%7;var _193=new Date(_18d);_193.setDate(_193.getDate()+(_192*7));var _194=_193.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_194+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_194+mod)<0:adj=2;}}}days+=adj;days-=(_192*2);}_191=days;break;case "year":_191=_190;break;case "month":_191=(_18e.getMonth()-_18d.getMonth())+(_190*12);break;case "week":_191=parseInt(date.difference(_18d,_18e,"day")/7);break;case "day":_191/=24;case "hour":_191/=60;case "minute":_191/=60;case "second":_191/=1000;case "millisecond":_191*=_18e.getTime()-_18d.getTime();}return Math.round(_191);};1&&lang.mixin(lang.getObject("dojo.date",true),date);return date;});},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(lang,i18n){var _195={};lang.setObject("dojo.cldr.supplemental",_195);_195.getFirstDayOfWeek=function(_196){var _197={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0};var _198=_195._region(_196);var dow=_197[_198];return (dow===undefined)?1:dow;};_195._region=function(_199){_199=i18n.normalizeLocale(_199);var tags=_199.split("-");var _19a=tags[1];if(!_19a){_19a={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[tags[0]];}else{if(_19a.length==4){_19a=tags[2];}}return _19a;};_195.getWeekend=function(_19b){var _19c={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5},_19d={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6},_19e=_195._region(_19b),_19f=_19c[_19e],end=_19d[_19e];if(_19f===undefined){_19f=6;}if(end===undefined){end=0;}return {start:_19f,end:end};};return _195;});},"dijit/_base":function(){define(["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_1a0){return _1a0._base;});},"dijit/a11y":function(){define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_1a1,dom,_1a2,_1a3,lang,has,_1a4){var _1a5;var a11y={_isElementShown:function(elem){var s=_1a3.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_1a2.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _1a2.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _1a6=elem.contentDocument;if("designMode" in _1a6&&_1a6.designMode=="on"){return true;}body=_1a6.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_1a2.get(elem,"disabled")){return _1a5;}else{if(_1a2.has(elem,"tabIndex")){return +_1a2.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_1a5;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _1a7,last,_1a8,_1a9,_1aa,_1ab,_1ac={};function _1ad(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _1ae=a11y._isElementShown,_1af=a11y.effectiveTabIndex;var _1b0=function(_1b1){for(var _1b2=_1b1.firstChild;_1b2;_1b2=_1b2.nextSibling){if(_1b2.nodeType!=1||(has("ie")<=9&&_1b2.scopeName!=="HTML")||!_1ae(_1b2)){continue;}var _1b3=_1af(_1b2);if(_1b3>=0){if(_1b3==0){if(!_1a7){_1a7=_1b2;}last=_1b2;}else{if(_1b3>0){if(!_1a8||_1b3<_1a9){_1a9=_1b3;_1a8=_1b2;}if(!_1aa||_1b3>=_1ab){_1ab=_1b3;_1aa=_1b2;}}}var rn=_1ad(_1b2);if(_1a2.get(_1b2,"checked")&&rn){_1ac[rn]=_1b2;}}if(_1b2.nodeName.toUpperCase()!="SELECT"){_1b0(_1b2);}}};if(_1ae(root)){_1b0(root);}function rs(node){return _1ac[_1ad(node)]||node;};return {first:rs(_1a7),last:rs(last),lowest:rs(_1a8),highest:rs(_1aa)};},getFirstInTabbingOrder:function(root,doc){var _1b4=a11y._getTabNavigable(dom.byId(root,doc));return _1b4.lowest?_1b4.lowest:_1b4.first;},getLastInTabbingOrder:function(root,doc){var _1b5=a11y._getTabNavigable(dom.byId(root,doc));return _1b5.last?_1b5.last:_1b5.highest;}};1&&lang.mixin(_1a4,a11y);return a11y;});},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(_1b6,_1b7,_1b8,_1b9){var _1ba=_1b7("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_1bb){if(this._hash[_1bb.id]){throw new Error("Tried to register widget with id=="+_1bb.id+" but that id is already registered");}this._hash[_1bb.id]=_1bb;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_1bc){_1bc=_1bc||_1b8.global;var i=0,id;for(id in this._hash){func.call(_1bc,this._hash[id],i++,this._hash);}return this;},filter:function(_1bd,_1be){_1be=_1be||_1b8.global;var res=new _1ba(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_1bd.call(_1be,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new _1ba(),id,_1bf;for(id in this._hash){_1bf=this._hash[id];if(_1bf.declaredClass==cls){res.add(_1bf);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_1c0){return _1b6.map(this.toArray(),func,_1c0);},every:function(func,_1c1){_1c1=_1c1||_1b8.global;var x=0,i;for(i in this._hash){if(!func.call(_1c1,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_1c2){_1c2=_1c2||_1b8.global;var x=0,i;for(i in this._hash){if(func.call(_1c2,this._hash[i],x++,this._hash)){return true;}}return false;}});_1b6.forEach(["forEach","filter","byClass","map","every","some"],function(func){_1b9[func]=_1ba.prototype[func];});return _1ba;});},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(_1c3,has,win,_1c4){var _1c5={},hash={};var _1c6={length:0,add:function(_1c7){if(hash[_1c7.id]){throw new Error("Tried to register widget with id=="+_1c7.id+" but that id is already registered");}hash[_1c7.id]=_1c7;this.length++;},remove:function(id){if(hash[id]){delete hash[id];this.length--;}},byId:function(id){return typeof id=="string"?hash[id]:id;},byNode:function(node){return hash[node.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in hash){ar.push(hash[id]);}return ar;},getUniqueId:function(_1c8){var id;do{id=_1c8+"_"+(_1c8 in _1c5?++_1c5[_1c8]:_1c5[_1c8]=0);}while(hash[id]);return _1c4._scopeName=="dijit"?id:_1c4._scopeName+"_"+id;},findWidgets:function(root,_1c9){var _1ca=[];function _1cb(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _1cc=node.getAttribute("widgetId");if(_1cc){var _1cd=hash[_1cc];if(_1cd){_1ca.push(_1cd);}}else{if(node!==_1c9){_1cb(node);}}}}};_1cb(root);return _1ca;},_destroyAll:function(){_1c4._curFocus=null;_1c4._prevFocus=null;_1c4._activeStack=[];_1c3.forEach(_1c6.findWidgets(win.body()),function(_1ce){if(!_1ce._destroyed){if(_1ce.destroyRecursive){_1ce.destroyRecursive();}else{if(_1ce.destroy){_1ce.destroy();}}}});},getEnclosingWidget:function(node){while(node){var id=node.nodeType==1&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;},_hash:hash};_1c4.registry=_1c6;return _1c6;});},"dijit/_base/focus":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(_1cf,dom,lang,_1d0,win,_1d1,_1d2,_1d3){var _1d4={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _1d3.getBookmark().isCollapsed;},getBookmark:function(){var sel=win.global==window?_1d2:new _1d2.SelectionManager(win.global);return sel.getBookmark();},moveToBookmark:function(_1d5){var sel=win.global==window?_1d2:new _1d2.SelectionManager(win.global);return sel.moveToBookmark(_1d5);},getFocus:function(menu,_1d6){var node=!_1d1.curNode||(menu&&dom.isDescendant(_1d1.curNode,menu.domNode))?_1d3._prevFocus:_1d1.curNode;return {node:node,bookmark:node&&(node==_1d1.curNode)&&win.withGlobal(_1d6||win.global,_1d3.getBookmark),openedForWindow:_1d6};},_activeStack:[],registerIframe:function(_1d7){return _1d1.registerIframe(_1d7);},unregisterIframe:function(_1d8){_1d8&&_1d8.remove();},registerWin:function(_1d9,_1da){return _1d1.registerWin(_1d9,_1da);},unregisterWin:function(_1db){_1db&&_1db.remove();}};_1d1.focus=function(_1dc){if(!_1dc){return;}var node="node" in _1dc?_1dc.node:_1dc,_1dd=_1dc.bookmark,_1de=_1dc.openedForWindow,_1df=_1dd?_1dd.isCollapsed:false;if(node){var _1e0=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_1e0&&_1e0.focus){try{_1e0.focus();}catch(e){}}_1d1._onFocusNode(node);}if(_1dd&&win.withGlobal(_1de||win.global,_1d3.isCollapsed)&&!_1df){if(_1de){_1de.focus();}try{win.withGlobal(_1de||win.global,_1d3.moveToBookmark,null,[_1dd]);}catch(e2){}}};_1d1.watch("curNode",function(name,_1e1,_1e2){_1d3._curFocus=_1e2;_1d3._prevFocus=_1e1;if(_1e2){_1d0.publish("focusNode",_1e2);}});_1d1.watch("activeStack",function(name,_1e3,_1e4){_1d3._activeStack=_1e4;});_1d1.on("widget-blur",function(_1e5,by){_1d0.publish("widgetBlur",_1e5,by);});_1d1.on("widget-focus",function(_1e6,by){_1d0.publish("widgetFocus",_1e6,by);});lang.mixin(_1d3,_1d4);return _1d3;});},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_1e7,_1e8,dom,_1e9,_1ea,_1eb,_1ec,lang,on,_1ed,has,_1ee,win,_1ef,a11y,_1f0,_1f1){var _1f2;var _1f3=_1e8([_1ee,_1ec],{curNode:null,activeStack:[],constructor:function(){var _1f4=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_1e7.before(_1eb,"empty",_1f4);_1e7.before(_1eb,"destroy",_1f4);},registerIframe:function(_1f5){return this.registerWin(_1f5.contentWindow,_1f5);},registerWin:function(_1f6,_1f7){var _1f8=this,body=_1f6.document&&_1f6.document.body;if(body){var mdh=on(_1f6.document,"mousedown, touchstart",function(evt){_1f8._justMouseDowned=true;setTimeout(function(){_1f8._justMouseDowned=false;},13);if(evt&&evt.target&&evt.target.parentNode==null){return;}_1f8._onTouchNode(_1f7||evt.target,"mouse");});var fih=on(body,"focusin",function(evt){_1f2=(new Date()).getTime();if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isFocusable(evt.target)){_1f8._onFocusNode(_1f7||evt.target);}else{_1f8._onTouchNode(_1f7||evt.target);}});var foh=on(body,"focusout",function(evt){if((new Date()).getTime()<_1f2+100){return;}_1f8._onBlurNode(_1f7||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;body=null;}};}},_onBlurNode:function(node){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}if(_1ea.contains(node,"dijitPopup")){node=node.firstChild;}var _1f9=[];try{while(node){var _1fa=_1e9.get(node,"dijitPopupParent");if(_1fa){node=_1f0.byId(_1fa).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_1ef.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_1fb=id&&_1f0.byId(id);if(_1fb&&!(by=="mouse"&&_1fb.get("disabled"))){_1f9.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_1f9,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_1fc,by){var _1fd=this.activeStack,_1fe=_1fd.length-1,_1ff=_1fc.length-1;if(_1fc[_1ff]==_1fd[_1fe]){return;}this.set("activeStack",_1fc);var _200,i;for(i=_1fe;i>=0&&_1fd[i]!=_1fc[i];i--){_200=_1f0.byId(_1fd[i]);if(_200){_200._hasBeenBlurred=true;_200.set("focused",false);if(_200._focusManager==this){_200._onBlur(by);}this.emit("widget-blur",_200,by);}}for(i++;i<=_1ff;i++){_200=_1f0.byId(_1fc[i]);if(_200){_200.set("focused",true);if(_200._focusManager==this){_200._onFocus(by);}this.emit("widget-focus",_200,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _201=new _1f3();_1ed(function(){var _202=_201.registerWin(_1ef.get(document));if(has("ie")){on(window,"unload",function(){if(_202){_202.remove();_202=null;}});}});_1f1.focus=function(node){_201.focus(node);};for(var attr in _201){if(!/^_/.test(attr)){_1f1.focus[attr]=typeof _201[attr]=="function"?lang.hitch(_201,attr):_201[attr];}}_201.watch(function(attr,_203,_204){_1f1.focus[attr]=_204;});return _201;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_205,lang,_206,when){return _205("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});},postscript:function(_207){if(_207){this.set(_207);}},_get:function(name,_208){return typeof this[_208.g]==="function"?this[_208.g]():this[name];},get:function(name){return this._get(name,this._getAttrNames(name));},set:function(name,_209){if(typeof name==="object"){for(var x in name){if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,name[x]);}}return this;}var _20a=this._getAttrNames(name),_20b=this._get(name,_20a),_20c=this[_20a.s],_20d;if(typeof _20c==="function"){_20d=_20c.apply(this,Array.prototype.slice.call(arguments,1));}else{this[name]=_209;}if(this._watchCallbacks){var self=this;when(_20d,function(){self._watchCallbacks(name,_20b,_209);});}return this;},_changeAttrValue:function(name,_20e){var _20f=this.get(name);this[name]=_20e;if(this._watchCallbacks){this._watchCallbacks(name,_20f,_20e);}return this;},watch:function(name,_210){var _211=this._watchCallbacks;if(!_211){var self=this;_211=this._watchCallbacks=function(name,_212,_213,_214){var _215=function(_216){if(_216){_216=_216.slice();for(var i=0,l=_216.length;i<l;i++){_216[i].call(self,name,_212,_213);}}};_215(_211["_"+name]);if(!_214){_215(_211["*"]);}};}if(!_210&&typeof name==="function"){_210=name;name="*";}else{name="_"+name;}var _217=_211[name];if(typeof _217!=="object"){_217=_211[name]=[];}_217.push(_210);var _218={};_218.unwatch=_218.remove=function(){var _219=_206.indexOf(_217,_210);if(_219>-1){_217.splice(_219,1);}};return _218;}});});},"dijit/selection":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(_21a,dom,lang,has,_21b,_21c){var _21d=function(win){var doc=win.document;this.getType=function(){if(doc.getSelection){var _21e="text";var oSel;try{oSel=win.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _21f=oSel.getRangeAt(0);if((_21f.startContainer==_21f.endContainer)&&((_21f.endOffset-_21f.startOffset)==1)&&(_21f.startContainer.nodeType!=3)){_21e="control";}}return _21e;}else{return doc.selection.type.toLowerCase();}};this.getSelectedText=function(){if(doc.getSelection){var _220=win.getSelection();return _220?_220.toString():"";}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().text;}};this.getSelectedHtml=function(){if(doc.getSelection){var _221=win.getSelection();if(_221&&_221.rangeCount){var i;var html="";for(i=0;i<_221.rangeCount;i++){var frag=_221.getRangeAt(i).cloneContents();var div=doc.createElement("div");div.appendChild(frag);html+=div.innerHTML;}return html;}return null;}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().htmlText;}};this.getSelectedElement=function(){if(this.getType()=="control"){if(doc.getSelection){var _222=win.getSelection();return _222.anchorNode.childNodes[_222.anchorOffset];}else{var _223=doc.selection.createRange();if(_223&&_223.item){return doc.selection.createRange().item(0);}}}return null;};this.getParentElement=function(){if(this.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(doc.getSelection){var _224=doc.getSelection();if(_224){var node=_224.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}else{var r=doc.selection.createRange();r.collapse(true);return r.parentElement();}}return null;};this.hasAncestorElement=function(_225){return this.getAncestorElement.apply(this,arguments)!=null;};this.getAncestorElement=function(_226){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);};this.isTag=function(node,tags){if(node&&node.tagName){var _227=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _228=String(tags[i]).toLowerCase();if(_227==_228){return _228;}}}return "";};this.getParentOfType=function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;};this.collapse=function(_229){if(doc.getSelection){var _22a=win.getSelection();if(_22a.removeAllRanges){if(_229){_22a.collapseToStart();}else{_22a.collapseToEnd();}}else{_22a.collapse(_229);}}else{var _22b=doc.selection.createRange();_22b.collapse(_229);_22b.select();}};this.remove=function(){var sel=doc.selection;if(doc.getSelection){sel=win.getSelection();sel.deleteFromDocument();return sel;}else{if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}};this.selectElementChildren=function(_22c,_22d){var _22e;_22c=dom.byId(_22c);if(doc.getSelection){var _22f=win.getSelection();if(has("opera")){if(_22f.rangeCount){_22e=_22f.getRangeAt(0);}else{_22e=doc.createRange();}_22e.setStart(_22c,0);_22e.setEnd(_22c,(_22c.nodeType==3)?_22c.length:_22c.childNodes.length);_22f.addRange(_22e);}else{_22f.selectAllChildren(_22c);}}else{_22e=_22c.ownerDocument.body.createTextRange();_22e.moveToElementText(_22c);if(!_22d){try{_22e.select();}catch(e){}}}};this.selectElement=function(_230,_231){var _232;_230=dom.byId(_230);if(doc.getSelection){var _233=doc.getSelection();_232=doc.createRange();if(_233.removeAllRanges){if(has("opera")){if(_233.getRangeAt(0)){_232=_233.getRangeAt(0);}}_232.selectNode(_230);_233.removeAllRanges();_233.addRange(_232);}}else{try{var tg=_230.tagName?_230.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_232=_21b.body(doc).createControlRange();}else{_232=_21b.body(doc).createRange();}_232.addElement(_230);if(!_231){_232.select();}}catch(e){this.selectElementChildren(_230,_231);}}};this.inSelection=function(node){if(node){var _234;var _235;if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.rangeCount>0){_235=sel.getRangeAt(0);}if(_235&&_235.compareBoundaryPoints&&doc.createRange){try{_234=doc.createRange();_234.setStart(node,0);if(_235.compareBoundaryPoints(_235.START_TO_END,_234)===1){return true;}}catch(e){}}}else{_235=doc.selection.createRange();try{_234=node.ownerDocument.body.createTextRange();_234.moveToElementText(node);}catch(e2){}if(_235&&_234){if(_235.compareEndPoints("EndToStart",_234)===1){return true;}}}}return false;},this.getBookmark=function(){var bm,rg,tg,sel=doc.selection,cf=_21c.curNode;if(doc.getSelection){sel=win.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;};this.moveToBookmark=function(_236){var mark=_236.mark;if(mark){if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(doc.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=doc.body.createControlRange();_21a.forEach(mark,function(n){rg.addElement(n);});}else{rg=doc.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}};this.isCollapsed=function(){return this.getBookmark().isCollapsed;};};var _237=new _21d(window);_237.SelectionManager=_21d;return _237;});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_238,_239,lang,_23a,_23b){var _23c={};_238.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_23c[name]=_23a[name];});lang.mixin(_23c,{defaultDuration:_239["defaultDuration"]||200});lang.mixin(_23b,_23c);return _23b;});},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(_23d,lang,_23e,_23f,_240){var _241={};_241.getViewport=function(){return _23e.getBox();};_241.placeOnScreen=_23f.at;_241.placeOnScreenAroundElement=function(node,_242,_243,_244){var _245;if(lang.isArray(_243)){_245=_243;}else{_245=[];for(var key in _243){_245.push({aroundCorner:key,corner:_243[key]});}}return _23f.around(node,_242,_245,true,_244);};_241.placeOnScreenAroundNode=_241.placeOnScreenAroundElement;_241.placeOnScreenAroundRectangle=_241.placeOnScreenAroundElement;_241.getPopupAroundAlignment=function(_246,_247){var _248={};_23d.forEach(_246,function(pos){var ltr=_247;switch(pos){case "after":_248[_247?"BR":"BL"]=_247?"BL":"BR";break;case "before":_248[_247?"BL":"BR"]=_247?"BR":"BL";break;case "below-alt":ltr=!ltr;case "below":_248[ltr?"BL":"BR"]=ltr?"TL":"TR";_248[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above-alt":ltr=!ltr;case "above":default:_248[ltr?"TL":"TR"]=ltr?"BL":"BR";_248[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});return _248;};lang.mixin(_240,_241);return _240;});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_249,_24a,_24b,_24c,win,_24d,_24e){function _24f(node,_250,_251,_252){var view=_24d.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_249.some(_250,function(_253){var _254=_253.corner;var pos=_253.pos;var _255=0;var _256={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_254.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_254.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_251){var res=_251(node,_253.aroundCorner,_254,_256,_252);_255=typeof res=="undefined"?0:res;}var _257=node.style;var _258=_257.display;var _259=_257.visibility;if(_257.display=="none"){_257.visibility="hidden";_257.display="";}var bb=_24a.position(node);_257.display=_258;_257.visibility=_259;var _25a={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_254.charAt(1)],_25b={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_254.charAt(0)],_25c=Math.max(view.l,_25a),_25d=Math.max(view.t,_25b),endX=Math.min(view.l+view.w,_25a+bb.w),endY=Math.min(view.t+view.h,_25b+bb.h),_25e=endX-_25c,_25f=endY-_25d;_255+=(bb.w-_25e)+(bb.h-_25f);if(best==null||_255<best.overflow){best={corner:_254,aroundCorner:_253.aroundCorner,x:_25c,y:_25d,w:_25e,h:_25f,overflow:_255,spaceAvailable:_256};}return !_255;});if(best.overflow&&_251){_251(node,best.aroundCorner,best.corner,best.spaceAvailable,_252);}var top=best.y,side=best.x,body=win.body(node.ownerDocument);if(/relative|absolute/.test(_24b.get(body,"position"))){top-=_24b.get(body,"marginTop");side-=_24b.get(body,"marginLeft");}var s=node.style;s.top=top+"px";s.left=side+"px";s.right="auto";return best;};var _260={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};var _261={at:function(node,pos,_262,_263,_264){var _265=_249.map(_262,function(_266){var c={corner:_266,aroundCorner:_260[_266],pos:{x:pos.x,y:pos.y}};if(_263){c.pos.x+=_266.charAt(1)=="L"?_263.x:-_263.x;c.pos.y+=_266.charAt(0)=="T"?_263.y:-_263.y;}return c;});return _24f(node,_265,_264);},around:function(node,_267,_268,_269,_26a){var _26b;if(typeof _267=="string"||"offsetWidth" in _267){_26b=_24a.position(_267,true);if(/^(above|below)/.test(_268[0])){var _26c=_24a.getBorderExtents(_267),_26d=_267.firstChild?_24a.getBorderExtents(_267.firstChild):{t:0,l:0,b:0,r:0},_26e=_24a.getBorderExtents(node),_26f=node.firstChild?_24a.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};_26b.y+=Math.min(_26c.t+_26d.t,_26e.t+_26f.t);_26b.h-=Math.min(_26c.t+_26d.t,_26e.t+_26f.t)+Math.min(_26c.b+_26d.b,_26e.b+_26f.b);}}else{_26b=_267;}if(_267.parentNode){var _270=_24b.getComputedStyle(_267).position=="absolute";var _271=_267.parentNode;while(_271&&_271.nodeType==1&&_271.nodeName!="BODY"){var _272=_24a.position(_271,true),pcs=_24b.getComputedStyle(_271);if(/relative|absolute/.test(pcs.position)){_270=false;}if(!_270&&/hidden|auto|scroll/.test(pcs.overflow)){var _273=Math.min(_26b.y+_26b.h,_272.y+_272.h);var _274=Math.min(_26b.x+_26b.w,_272.x+_272.w);_26b.x=Math.max(_26b.x,_272.x);_26b.y=Math.max(_26b.y,_272.y);_26b.h=_273-_26b.y;_26b.w=_274-_26b.x;}if(pcs.position=="absolute"){_270=true;}_271=_271.parentNode;}}var x=_26b.x,y=_26b.y,_275="w" in _26b?_26b.w:(_26b.w=_26b.width),_276="h" in _26b?_26b.h:(_24c.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_26b.height+", width:"+_275+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_26b.height+", w:"+_275+" }","","2.0"),_26b.h=_26b.height);var _277=[];function push(_278,_279){_277.push({aroundCorner:_278,corner:_279,pos:{x:{"L":x,"R":x+_275,"M":x+(_275>>1)}[_278.charAt(1)],y:{"T":y,"B":y+_276,"M":y+(_276>>1)}[_278.charAt(0)]}});};_249.forEach(_268,function(pos){var ltr=_269;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _27a=_24f(node,_277,_26a,{w:_275,h:_276});_27a.aroundNodePos=_26b;return _27a;}};return _24e.place=_261;});},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_27b,on,_27c,has,_27d){var _27e=new _27b();var _27f;_27c(function(){var _280=_27d.getBox();_27e._rlh=on(window,"resize",function(){var _281=_27d.getBox();if(_280.h==_281.h&&_280.w==_281.w){return;}_280=_281;_27e.emit("resize");});if(has("ie")==8){var _282=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_282){_282=screen.deviceXDPI;_27e.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_27f=evt.target;});on(document,"focusout",function(evt){_27f=null;});}});_27e.getEffectiveBox=function(doc){var box=_27d.getBox(doc);var tag=_27f&&_27f.tagName&&_27f.tagName.toLowerCase();if(has("ios")&&_27f&&!_27f.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_27f.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_27f.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _27e;});},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_283,win,_284){var _285=_284._createWrapper;_284._createWrapper=function(_286){if(!_286.declaredClass){_286={_popupWrapper:(_286.parentNode&&_283.contains(_286.parentNode,"dijitPopup"))?_286.parentNode:null,domNode:_286,destroy:function(){},ownerDocument:_286.ownerDocument,ownerDocumentBody:win.body(_286.ownerDocument)};}return _285.call(this,_286);};var _287=_284.open;_284.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _287.call(this,args);};return _284;});},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(_288,_289,_28a,dom,_28b,_28c,_28d,_28e,has,keys,lang,on,_28f,_290,_291,_292){function _293(){if(this._popupWrapper){_28c.destroy(this._popupWrapper);delete this._popupWrapper;}};var _294=_28a(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var _295=this._firstAroundPosition,_296=_28d.position(this._firstAroundNode,true),dx=_296.x-_295.x,dy=_296.y-_295.y;if(dx||dy){this._firstAroundPosition=_296;for(var i=0;i<this._stack.length;i++){var _297=this._stack[i].wrapper.style;_297.top=(parseInt(_297.top,10)+dy)+"px";if(_297.right=="auto"){_297.left=(parseInt(_297.left,10)+dx)+"px";}else{_297.right=(parseInt(_297.right,10)-dx)+"px";}}}this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);}},_createWrapper:function(_298){var _299=_298._popupWrapper,node=_298.domNode;if(!_299){_299=_28c.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_298["aria-label"]||_298.label||_298.name||_298.id},_298.ownerDocumentBody);_299.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_298._popupWrapper=_299;_289.after(_298,"destroy",_293,true);}return _299;},moveOffScreen:function(_29a){var _29b=this._createWrapper(_29a);var ltr=_28d.isBodyLtr(_29a.ownerDocument),_29c={visibility:"hidden",top:"-9999px",display:""};_29c[ltr?"left":"right"]="-9999px";_29c[ltr?"right":"left"]="auto";_28e.set(_29b,_29c);return _29b;},hide:function(_29d){var _29e=this._createWrapper(_29d);_28e.set(_29e,{display:"none",height:"auto",overflow:"visible",border:""});var node=_29d.domNode;if("_originalStyle" in node){node.style.cssText=node._originalStyle;}},getTopPopup:function(){var _29f=this._stack;for(var pi=_29f.length-1;pi>0&&_29f[pi].parent===_29f[pi-1].widget;pi--){}return _29f[pi];},open:function(args){var _2a0=this._stack,_2a1=args.popup,node=_2a1.domNode,_2a2=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_28d.isBodyLtr(_2a1.ownerDocument),_2a3=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_2a0.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_2a0[_2a0.length-1].widget.domNode))){this.close(_2a0[_2a0.length-1].widget);}var _2a4=this.moveOffScreen(_2a1);if(_2a1.startup&&!_2a1._started){_2a1.startup();}var _2a5,_2a6=_28d.position(node);if("maxHeight" in args&&args.maxHeight!=-1){_2a5=args.maxHeight||Infinity;}else{var _2a7=_291.getEffectiveBox(this.ownerDocument),_2a8=_2a3?_28d.position(_2a3,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};_2a5=Math.floor(Math.max(_2a8.y,_2a7.h-(_2a8.y+_2a8.h)));}if(_2a6.h>_2a5){var cs=_28e.getComputedStyle(node),_2a9=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;_28e.set(_2a4,{overflowY:"scroll",height:_2a5+"px",border:_2a9});node._originalStyle=node.style.cssText;node.style.border="none";}_28b.set(_2a4,{id:id,style:{zIndex:this._beginZIndex+_2a0.length},"class":"dijitPopup "+(_2a1.baseClass||_2a1["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(_2a0.length==0&&_2a3){this._firstAroundNode=_2a3;this._firstAroundPosition=_28d.position(_2a3,true);this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);}if(has("config-bgIframe")&&!_2a1.bgIframe){_2a1.bgIframe=new _290(_2a4);}var _2aa=_2a1.orient?lang.hitch(_2a1,"orient"):null,best=_2a3?_28f.around(_2a4,_2a3,_2a2,ltr,_2aa):_28f.at(_2a4,args,_2a2=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_2aa);_2a4.style.visibility="visible";node.style.visibility="visible";var _2ab=[];_2ab.push(on(_2a4,"keydown",lang.hitch(this,function(evt){if(evt.keyCode==keys.ESCAPE&&args.onCancel){evt.stopPropagation();evt.preventDefault();args.onCancel();}else{if(evt.keyCode==keys.TAB){evt.stopPropagation();evt.preventDefault();var _2ac=this.getTopPopup();if(_2ac&&_2ac.onCancel){_2ac.onCancel();}}}})));if(_2a1.onCancel&&args.onCancel){_2ab.push(_2a1.on("cancel",args.onCancel));}_2ab.push(_2a1.on(_2a1.onExecute?"execute":"change",lang.hitch(this,function(){var _2ad=this.getTopPopup();if(_2ad&&_2ad.onExecute){_2ad.onExecute();}})));_2a0.push({widget:_2a1,wrapper:_2a4,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_2ab});if(_2a1.onOpen){_2a1.onOpen(best);}return best;},close:function(_2ae){var _2af=this._stack;while((_2ae&&_288.some(_2af,function(elem){return elem.widget==_2ae;}))||(!_2ae&&_2af.length)){var top=_2af.pop(),_2b0=top.widget,_2b1=top.onClose;if(_2b0.onClose){_2b0.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_2b0&&_2b0.domNode){this.hide(_2b0);}if(_2b1){_2b1();}}if(_2af.length==0&&this._aroundMoveListener){clearTimeout(this._aroundMoveListener);this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;}}});return (_292.popup=new _294());});},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_2b2,_2b3,_2b4,_2b5,_2b6,lang,on,has){has.add("config-bgIframe",!has("touch"));var _2b7=new function(){var _2b8=[];this.pop=function(){var _2b9;if(_2b8.length){_2b9=_2b8.pop();_2b9.style.display="";}else{if(has("ie")<9){var burl=_2b4["dojoBlankHtmlUrl"]||_2b2.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_2b9=document.createElement(html);}else{_2b9=_2b5.create("iframe");_2b9.src="javascript:\"\"";_2b9.className="dijitBackgroundIframe";_2b9.setAttribute("role","presentation");_2b6.set(_2b9,"opacity",0.1);}_2b9.tabIndex=-1;}return _2b9;};this.push=function(_2ba){_2ba.style.display="none";_2b8.push(_2ba);};}();_2b3.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("config-bgIframe")){var _2bb=(this.iframe=_2b7.pop());node.appendChild(_2bb);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,"resize",node));}else{_2b6.set(_2bb,{width:"100%",height:"100%"});}}};lang.extend(_2b3.BackgroundIframe,{resize:function(node){if(this.iframe){_2b6.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_2b7.push(this.iframe);delete this.iframe;}}});return _2b3.BackgroundIframe;});},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(_2bc,_2bd){_2bd.scrollIntoView=function(node,pos){_2bc.scrollIntoView(node,pos);};});},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_2be,lang,_2bf,has,_2c0){var html=_2c0.doc.documentElement,ie=has("ie"),_2c1=has("opera"),maj=Math.floor,ff=has("ff"),_2c2=_2be.boxModel.replace(/-/,""),_2c3={"dj_quirks":has("quirks"),"dj_opera":_2c1,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};if(ie){_2c3["dj_ie"]=true;_2c3["dj_ie"+maj(ie)]=true;_2c3["dj_iequirks"]=has("quirks");}if(ff){_2c3["dj_ff"+maj(ff)]=true;}_2c3["dj_"+_2c2]=true;var _2c4="";for(var clz in _2c3){if(_2c3[clz]){_2c4+=clz+" ";}}html.className=lang.trim(html.className+" "+_2c4);_2bf(function(){if(!_2be.isBodyLtr()){var _2c5="dj_rtl dijitRtl "+_2c4.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_2c5+"dj_rtl dijitRtl "+_2c4.replace(/ /g,"-rtl "));}});return has;});},"dijit/_base/typematic":function(){define(["../typematic"],function(){});},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_2c6,_2c7,lang,on,has,_2c8){var _2c9=(_2c8.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_2ca,node,_2cb,obj,_2cc,_2cd,_2ce){if(obj!=this._obj){this.stop();this._initialDelay=_2cd||500;this._subsequentDelay=_2cc||0.9;this._minDelay=_2ce||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_2ca,_2cb);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_2cf,_2d0,_2d1,_2d2,_2d3,_2d4){var type="keyCode" in _2cf?"keydown":"charCode" in _2cf?"keypress":_2c7._keypress,attr="keyCode" in _2cf?"keyCode":"charCode" in _2cf?"charCode":"charOrCode";var _2d5=[on(node,type,lang.hitch(this,function(evt){if(evt[attr]==_2cf[attr]&&(_2cf.ctrlKey===undefined||_2cf.ctrlKey==evt.ctrlKey)&&(_2cf.altKey===undefined||_2cf.altKey==evt.altKey)&&(_2cf.metaKey===undefined||_2cf.metaKey==(evt.metaKey||false))&&(_2cf.shiftKey===undefined||_2cf.shiftKey==evt.shiftKey)){evt.stopPropagation();evt.preventDefault();_2c9.trigger(evt,_2d0,node,_2d1,_2cf,_2d2,_2d3,_2d4);}else{if(_2c9._obj==_2cf){_2c9.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_2c9._obj==_2cf){_2c9.stop();}}))];return {remove:function(){_2c6.forEach(_2d5,function(h){h.remove();});}};},addMouseListener:function(node,_2d6,_2d7,_2d8,_2d9,_2da){var _2db=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_2c9.trigger(evt,_2d6,node,_2d7,node,_2d8,_2d9,_2da);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_2c9.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_2c9.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_2c9.trigger(evt,_2d6,node,_2d7,node,_2d8,_2d9,_2da);setTimeout(lang.hitch(this,_2c9.stop),50);}}))];return {remove:function(){_2c6.forEach(_2db,function(h){h.remove();});}};},addListener:function(_2dc,_2dd,_2de,_2df,_2e0,_2e1,_2e2,_2e3){var _2e4=[this.addKeyListener(_2dd,_2de,_2df,_2e0,_2e1,_2e2,_2e3),this.addMouseListener(_2dc,_2df,_2e0,_2e1,_2e2,_2e3)];return {remove:function(){_2c6.forEach(_2e4,function(h){h.remove();});}};}});return _2c9;});},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_2e5,lang,_2e6){var _2e7={hasWaiRole:function(elem,role){var _2e8=this.getWaiRole(elem);return role?(_2e8.indexOf(role)>-1):(_2e8.length>0);},getWaiRole:function(elem){return lang.trim((_2e5.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_2e5.set(elem,"role",role);},removeWaiRole:function(elem,role){var _2e9=_2e5.get(elem,"role");if(!_2e9){return;}if(role){var t=lang.trim((" "+_2e9+" ").replace(" "+role+" "," "));_2e5.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_2ea){return elem.hasAttribute?elem.hasAttribute("aria-"+_2ea):!!elem.getAttribute("aria-"+_2ea);},getWaiState:function(elem,_2eb){return elem.getAttribute("aria-"+_2eb)||"";},setWaiState:function(elem,_2ec,_2ed){elem.setAttribute("aria-"+_2ec,_2ed);},removeWaiState:function(elem,_2ee){elem.removeAttribute("aria-"+_2ee);}};lang.mixin(_2e6,_2e7);return _2e6;});},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_2ef,has,_2f0,win){_2f0(function(){if(has("highcontrast")){_2ef.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_2f1,_2f2,_2f3,_2f4,has,_2f5,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url("+(_2f2.blankGif||_2f1.toUrl("./resources/blank.gif"))+");";win.body().appendChild(div);var cs=_2f4.getComputedStyle(div),_2f6=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_2f6&&(_2f6=="none"||_2f6=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_2f5(function(){if(has("highcontrast")){_2f3.add(win.body(),"dj_a11y");}});return has;});},"dijit/_base/window":function(){define(["dojo/window","../main"],function(_2f7,_2f8){_2f8.getDocumentWindow=function(doc){return _2f7.get(doc);};});},"dijit/_Widget":function(){define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_2f9,_2fa,_2fb,_2fc,has,_2fd,lang,_2fe,_2ff,_300,_301,_302,_303){function _304(){};function _305(_306){return function(obj,_307,_308,_309){if(obj&&typeof _307=="string"&&obj[_307]==_304){return obj.on(_307.substring(2).toLowerCase(),lang.hitch(_308,_309));}return _306.apply(_2fb,arguments);};};_2f9.around(_2fb,"connect",_305);if(_2fd.connect){_2f9.around(_2fd,"connect",_305);}var _30a=_2fc("dijit._Widget",[_301,_302,_303],{onClick:_304,onDblClick:_304,onKeyDown:_304,onKeyPress:_304,onKeyUp:_304,onMouseDown:_304,onMouseMove:_304,onMouseOut:_304,onMouseOver:_304,onMouseLeave:_304,onMouseEnter:_304,onMouseUp:_304,constructor:function(_30b){this._toConnect={};for(var name in _30b){if(this[name]===_304){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_30b[name];delete _30b[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_304){return _2fb.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_30c){_2fd.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_30c);},attr:function(name,_30d){var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_2fd.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_2fe("[widgetId]",this.containerNode).map(_300.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_2ff(0,function(){var _30e=["dijit/_base"];require(_30e);});}return _30a;});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_30f,_310,_311,_312,_313,_314,dom,_315,_316,_317,_318,_319,has,_31a,lang,on,_31b,_31c,_31d,win,_31e,_31f,_320){has.add("dijit-legacy-requires",!_31a.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){_31b(0,function(){var _321=["dijit/_base/manager"];_30f(_321);});}var _322={};function _323(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;};function _324(attr){return function(val){_315[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};};function _325(a,b){return a===b||(a!==a&&b!==b);};var _326=_314("dijit._WidgetBase",[_31c,_31e],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_324("lang"),dir:"",_setDirAttr:_324("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_312.blankGif||_30f.toUrl("dojo/resources/blank.gif"),_introspect:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var _327=ctor.prototype,_328=ctor._setterAttrs=[],_329=(ctor._onMap={});for(var name in _327.attributeMap){_328.push(name);}for(name in _327){if(/^on/.test(name)){_329[name.substring(2).toLowerCase()]=name;}if(/^_set[A-Z](.*)Attr$/.test(name)){name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);if(!_327.attributeMap||!(name in _327.attributeMap)){_328.push(name);}}}}},postscript:function(_32a,_32b){this.create(_32a,_32b);},create:function(_32c,_32d){this._introspect();this.srcNodeRef=dom.byId(_32d);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_32c){this.params=_32c;lang.mixin(this,_32c);}this.postMixInProperties();if(!this.id){this.id=_320.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_320.add(this);this.buildRendering();var _32e;if(this.domNode){this._applyAttributes();var _32f=this.srcNodeRef;if(_32f&&_32f.parentNode&&this.domNode!==_32f){_32f.parentNode.replaceChild(this.domNode,_32f);_32e=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_32e){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _330={};for(var key in this.params||{}){_330[key]=this._get(key);}_310.forEach(this.constructor._setterAttrs,function(key){if(!(key in _330)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _330){this.set(key,_330[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _331=this.baseClass.split(" ");if(!this.isLeftToRight()){_331=_331.concat(_310.map(_331,function(name){return name+"Rtl";}));}_316.add(this.domNode,_331);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_310.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_332){this._beingDestroyed=true;this.destroyDescendants(_332);this.destroy(_332);},destroy:function(_333){this._beingDestroyed=true;this.uninitialize();function _334(w){if(w.destroyRecursive){w.destroyRecursive(_333);}else{if(w.destroy){w.destroy(_333);}}};_310.forEach(this._connects,lang.hitch(this,"disconnect"));_310.forEach(this._supportingWidgets,_334);if(this.domNode){_310.forEach(_320.findWidgets(this.domNode,this.containerNode),_334);}this.destroyRendering(_333);_320.remove(this.id);this._destroyed=true;},destroyRendering:function(_335){if(this.bgIframe){this.bgIframe.destroy(_335);delete this.bgIframe;}if(this.domNode){if(_335){_315.remove(this.domNode,"widgetId");}else{_317.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_335){_317.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_336){_310.forEach(this.getChildren(),function(_337){if(_337.destroyRecursive){_337.destroyRecursive(_336);}});},uninitialize:function(){return false;},_setStyleAttr:function(_338){var _339=this.domNode;if(lang.isObject(_338)){_319.set(_339,_338);}else{if(_339.style.cssText){_339.style.cssText+="; "+_338;}else{_339.style.cssText=_338;}}this._set("style",_338);},_attrToDom:function(attr,_33a,_33b){_33b=arguments.length>=3?_33b:this.attributeMap[attr];_310.forEach(lang.isArray(_33b)?_33b:[_33b],function(_33c){var _33d=this[_33c.node||_33c||"domNode"];var type=_33c.type||"attribute";switch(type){case "attribute":if(lang.isFunction(_33a)){_33a=lang.hitch(this,_33a);}var _33e=_33c.attribute?_33c.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);if(_33d.tagName){_315.set(_33d,_33e,_33a);}else{_33d.set(_33e,_33a);}break;case "innerText":_33d.innerHTML="";_33d.appendChild(this.ownerDocument.createTextNode(_33a));break;case "innerHTML":_33d.innerHTML=_33a;break;case "class":_316.replace(_33d,_33a,this[attr]);break;}},this);},get:function(name){var _33f=this._getAttrNames(name);return this[_33f.g]?this[_33f.g]():this._get(name);},set:function(name,_340){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _341=this._getAttrNames(name),_342=this[_341.s];if(lang.isFunction(_342)){var _343=_342.apply(this,Array.prototype.slice.call(arguments,1));}else{var _344=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_344]&&this[_344].tagName,_345=tag&&(_322[tag]||(_322[tag]=_323(this[_344]))),map=name in this.attributeMap?this.attributeMap[name]:_341.s in this?this[_341.s]:((_345&&_341.l in _345&&typeof _340!="function")||/^aria-|^data-|^role$/.test(name))?_344:null;if(map!=null){this._attrToDom(name,_340,map);}this._set(name,_340);}return _343||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_346){var _347=this[name];this[name]=_346;if(this._created&&!_325(_347,_346)){if(this._watchCallbacks){this._watchCallbacks(name,_347,_346);}this.emit("attrmodified-"+name,{detail:{prevValue:_347,newValue:_346}});}},_get:function(name){return this[name];},emit:function(type,_348,_349){_348=_348||{};if(_348.bubbles===undefined){_348.bubbles=true;}if(_348.cancelable===undefined){_348.cancelable=true;}if(!_348.detail){_348.detail={};}_348.detail.widget=this;var ret,_34a=this["on"+type];if(_34a){ret=_34a.apply(this,_349?_349:[_348]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,type.toLowerCase(),_348);}return ret;},on:function(type,func){var _34b=this._onMap(type);if(_34b){return _311.after(this,_34b,func,true);}return this.own(on(this.domNode,type,func))[0];},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[typeof type=="string"&&type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_320.findWidgets(this.containerNode):[];},getParent:function(){return _320.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_34c,_34d){return this.own(_313.connect(obj,_34c,this,_34d))[0];},disconnect:function(_34e){_34e.remove();},subscribe:function(t,_34f){return this.own(_31d.subscribe(t,lang.hitch(this,_34f)))[0];},unsubscribe:function(_350){_350.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_318.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_319.get(this.domNode,"display")!="none");},placeAt:function(_351,_352){var _353=!_351.tagName&&_320.byId(_351);if(_353&&_353.addChild&&(!_352||typeof _352==="number")){_353.addChild(this,_352);}else{var ref=_353?(_353.containerNode&&!/after|before|replace/.test(_352||"")?_353.containerNode:_353.domNode):dom.byId(_351,this.ownerDocument);_317.place(this.domNode,ref,_352);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,_354){var _355=setTimeout(lang.hitch(this,function(){if(!_355){return;}_355=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),_354||0);return {remove:function(){if(_355){clearTimeout(_355);_355=null;}return null;}};}});if(has("dojo-bidi")){_326.extend(_31f);}return _326;});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_356,_357,_358){return _358("dijit.Destroyable",null,{destroy:function(_359){this._destroyed=true;},own:function(){_356.forEach(arguments,function(_35a){var _35b="destroyRecursive" in _35a?"destroyRecursive":"destroy" in _35a?"destroy":"remove";var odh=_357.before(this,"destroy",function(_35c){_35a[_35b](_35c);});var hdh=_357.after(_35a,_35b,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dijit/_OnDijitClickMixin":function(){define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_35d,keys,_35e,has,_35f){var ret=_35e("dijit._OnDijitClickMixin",null,{connect:function(obj,_360,_361){return this.inherited(arguments,[obj,_360=="ondijitclick"?_35f:_360,_361]);}});ret.a11yclick=_35f;return ret;});},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(keys,_362,on,_363){function _364(e){if((e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){for(var node=e.target;node;node=node.parentNode){if(node.dojoClick){return true;}}}};var _365;on(document,"keydown",function(e){if(_364(e)){_365=e.target;e.preventDefault();}else{_365=null;}});on(document,"keyup",function(e){if(_364(e)&&e.target==_365){_365=null;on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});}});var _366=function(node,_367){node.dojoClick=true;return on(node,"click",_367);};_366.click=_366;_366.press=function(node,_368){var _369=on(node,_363.press,function(evt){if(evt.type=="mousedown"&&!_362.isLeft(evt)){return;}_368(evt);}),_36a=on(node,"keydown",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_368(evt);}});return {remove:function(){_369.remove();_36a.remove();}};};_366.release=function(node,_36b){var _36c=on(node,_363.release,function(evt){if(evt.type=="mouseup"&&!_362.isLeft(evt)){return;}_36b(evt);}),_36d=on(node,"keyup",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_36b(evt);}});return {remove:function(){_36c.remove();_36d.remove();}};};_366.move=_363.move;return _366;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(dojo,_36e,dom,_36f,lang,on,has,_370,_371,win){var _372=has("touch");var ios4=has("ios")<5;var _373=navigator.pointerEnabled||navigator.msPointerEnabled,_374=(function(){var _375={};for(var type in {down:1,move:1,up:1,cancel:1,over:1,out:1}){_375[type]=!navigator.pointerEnabled?"MSPointer"+type.charAt(0).toUpperCase()+type.slice(1):"pointer"+type;}return _375;})();var _376,_377,_378,_379,_37a,_37b,_37c,_37d;var _37e;function _37f(_380,_381,_382){if(_373&&_382){return function(node,_383){return on(node,_382,_383);};}else{if(_372){return function(node,_384){var _385=on(node,_381,_384),_386=on(node,_380,function(evt){if(!_37e||(new Date()).getTime()>_37e+1000){_384.call(this,evt);}});return {remove:function(){_385.remove();_386.remove();}};};}else{return function(node,_387){return on(node,_380,_387);};}}};function _388(node){do{if(node.dojoClick!==undefined){return node.dojoClick;}}while(node=node.parentNode);};function _389(e,_38a,_38b){_377=!e.target.disabled&&_388(e.target);if(_377){_378=e.target;_379=e.touches?e.touches[0].pageX:e.clientX;_37a=e.touches?e.touches[0].pageY:e.clientY;_37b=(typeof _377=="object"?_377.x:(typeof _377=="number"?_377:0))||4;_37c=(typeof _377=="object"?_377.y:(typeof _377=="number"?_377:0))||4;if(!_376){_376=true;win.doc.addEventListener(_38a,function(e){_377=_377&&e.target==_378&&Math.abs((e.touches?e.touches[0].pageX:e.clientX)-_379)<=_37b&&Math.abs((e.touches?e.touches[0].pageY:e.clientY)-_37a)<=_37c;},true);win.doc.addEventListener(_38b,function(e){if(_377){_37d=(new Date()).getTime();var _38c=e.target;if(_38c.tagName==="LABEL"){_38c=dom.byId(_38c.getAttribute("for"))||_38c;}setTimeout(function(){on.emit(_38c,"click",{bubbles:true,cancelable:true,_dojo_click:true});});}},true);function _38d(type){win.doc.addEventListener(type,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_37d+1000&&!(e.target.tagName=="INPUT"&&_36f.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(type=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){e.preventDefault();}}},true);};_38d("click");_38d("mousedown");_38d("mouseup");}}};var _38e;if(_372){if(_373){_371(function(){win.doc.addEventListener(_374.down,function(evt){_389(evt,_374.move,_374.up);},true);});}else{_371(function(){_38e=win.body();win.doc.addEventListener("touchstart",function(evt){_37e=(new Date()).getTime();var _38f=_38e;_38e=evt.target;on.emit(_38f,"dojotouchout",{relatedTarget:_38e,bubbles:true});on.emit(_38e,"dojotouchover",{relatedTarget:_38f,bubbles:true});_389(evt,"touchmove","touchend");},true);function _390(evt){var _391=lang.delegate(evt,{bubbles:true});if(has("ios")>=6){_391.touches=evt.touches;_391.altKey=evt.altKey;_391.changedTouches=evt.changedTouches;_391.ctrlKey=evt.ctrlKey;_391.metaKey=evt.metaKey;_391.shiftKey=evt.shiftKey;_391.targetTouches=evt.targetTouches;}return _391;};on(win.doc,"touchmove",function(evt){_37e=(new Date()).getTime();var _392=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_392){if(_38e!==_392){on.emit(_38e,"dojotouchout",{relatedTarget:_392,bubbles:true});on.emit(_392,"dojotouchover",{relatedTarget:_38e,bubbles:true});_38e=_392;}if(!on.emit(_392,"dojotouchmove",_390(evt))){evt.preventDefault();}}});on(win.doc,"touchend",function(evt){_37e=(new Date()).getTime();var node=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset))||win.body();on.emit(node,"dojotouchend",_390(evt));});});}}var _393={press:_37f("mousedown","touchstart",_374.down),move:_37f("mousemove","dojotouchmove",_374.move),release:_37f("mouseup","dojotouchend",_374.up),cancel:_37f(_370.leave,"touchcancel",_372?_374.cancel:null),over:_37f("mouseover","dojotouchover",_374.over),out:_37f("mouseout","dojotouchout",_374.out),enter:_370._eventHandler(_37f("mouseover","dojotouchover",_374.over)),leave:_370._eventHandler(_37f("mouseout","dojotouchout",_374.out))};1&&(dojo.touch=_393);return _393;});},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_394,_395,_396,lang){lang.extend(_395,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _396("dijit._FocusMixin",null,{_focusManager:_394});});},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_397,has,_398,_399){return _397("dijit.form._FormValueWidget",[_398,_399],{_layoutHackIE7:function(){if(has("ie")==7){var _39a=this.domNode;var _39b=_39a.parentNode;var _39c=_39a.firstChild||_39a;var _39d=_39c.style.filter;var _39e=this;while(_39b&&_39b.clientHeight==0){(function ping(){var _39f=_39e.connect(_39b,"onscroll",function(){_39e.disconnect(_39f);_39c.style.filter=(new Date()).getMilliseconds();_39e.defer(function(){_39c.style.filter=_39d;});});})();_39b=_39b.parentNode;}}}});});},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_3a0,has,_3a1,_3a2,_3a3,_3a4,_3a5,_3a6){if(has("dijit-legacy-requires")){_3a2(0,function(){var _3a7=["dijit/form/_FormValueWidget"];require(_3a7);});}return _3a0("dijit.form._FormWidget",[_3a3,_3a5,_3a4,_3a6],{setDisabled:function(_3a8){_3a1.deprecated("setDisabled("+_3a8+") is deprecated. Use set('disabled',"+_3a8+") instead.","","2.0");this.set("disabled",_3a8);},setValue:function(_3a9){_3a1.deprecated("dijit.form._FormWidget:setValue("+_3a9+") is deprecated.  Use set('value',"+_3a9+") instead.","","2.0");this.set("value",_3a9);},getValue:function(){_3a1.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);},_setTypeAttr:null});});},"dijit/_CssStateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(_3aa,_3ab,dom,_3ac,has,lang,on,_3ad,_3ae,win,_3af,_3b0){var _3b1=_3ab("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_3aa.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes||{}){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_3b2){if(!this.disabled){switch(_3b2.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",true);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",false);break;}}},_setStateClass:function(){var _3b3=this.baseClass.split(" ");function _3b4(_3b5){_3b3=_3b3.concat(_3aa.map(_3b3,function(c){return c+_3b5;}),"dijit"+_3b5);};if(!this.isLeftToRight()){_3b4("Rtl");}var _3b6=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_3b4(_3b6);}if(this.state){_3b4(this.state);}if(this.selected){_3b4("Selected");}if(this._opened){_3b4("Opened");}if(this.disabled){_3b4("Disabled");}else{if(this.readOnly){_3b4("ReadOnly");}else{if(this.active){_3b4("Active");}else{if(this.hovering){_3b4("Hover");}}}}if(this.focused){_3b4("Focused");}var tn=this.stateNode||this.domNode,_3b7={};_3aa.forEach(tn.className.split(" "),function(c){_3b7[c]=true;});if("_stateClasses" in this){_3aa.forEach(this._stateClasses,function(c){delete _3b7[c];});}_3aa.forEach(_3b3,function(c){_3b7[c]=true;});var _3b8=[];for(var c in _3b7){_3b8.push(c);}tn.className=_3b8.join(" ");this._stateClasses=_3b3;},_subnodeCssMouseEvent:function(node,_3b9,evt){if(this.disabled||this.readOnly){return;}function _3ba(_3bb){_3ac.toggle(node,_3b9+"Hover",_3bb);};function _3bc(_3bd){_3ac.toggle(node,_3b9+"Active",_3bd);};function _3be(_3bf){_3ac.toggle(node,_3b9+"Focused",_3bf);};switch(evt.type){case "mouseover":case "MSPointerOver":case "pointerover":_3ba(true);break;case "mouseout":case "MSPointerOut":case "pointerout":_3ba(false);_3bc(false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":_3bc(true);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":_3bc(false);break;case "focus":case "focusin":_3be(true);break;case "blur":case "focusout":_3be(false);break;}},_trackMouseState:function(node,_3c0){node._cssState=_3c0;}});_3ad(function(){function _3c1(evt,_3c2,_3c3){if(_3c3&&dom.isDescendant(_3c3,_3c2)){return;}for(var node=_3c2;node&&node!=_3c3;node=node.parentNode){if(node._cssState){var _3c4=_3b0.getEnclosingWidget(node);if(_3c4){if(node==_3c4.domNode){_3c4._cssMouseEvent(evt);}else{_3c4._subnodeCssMouseEvent(node,node._cssState,evt);}}}}};var body=win.body(),_3c5;on(body,_3ae.over,function(evt){_3c1(evt,evt.target,evt.relatedTarget);});on(body,_3ae.out,function(evt){_3c1(evt,evt.target,evt.relatedTarget);});on(body,_3af.press,function(evt){_3c5=evt.target;_3c1(evt,_3c5);});on(body,_3af.release,function(evt){_3c1(evt,_3c5);_3c5=null;});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _3c6=_3b0.getEnclosingWidget(node);if(_3c6){_3c6._subnodeCssMouseEvent(node,node._cssState,evt);}}});});return _3b1;});},"dijit/_TemplatedMixin":function(){define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(_3c7,_3c8,_3c9,lang,on,has,_3ca,_3cb){var _3cc=_3c8("dijit._TemplatedMixin",_3cb,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(tmpl){var _3cd=this.declaredClass,_3ce=this;return _3ca.substitute(tmpl,this,function(_3cf,key){if(key.charAt(0)=="!"){_3cf=lang.getObject(key.substr(1),false,_3ce);}if(typeof _3cf=="undefined"){throw new Error(_3cd+" template:"+key);}if(_3cf==null){return "";}return key.charAt(0)=="!"?_3cf:_3cf.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){if(!this._rendered){if(!this.templateString){this.templateString=_3c7(this.templatePath,{sanitize:true});}var _3d0=_3cc.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_3d0)){node=_3c9.toDom(this._stringRepl(_3d0),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_3d0);}}else{node=_3d0.cloneNode(true);}this.domNode=node;}this.inherited(arguments);if(!this._rendered){this._fillContent(this.srcNodeRef);}this._rendered=true;},_fillContent:function(_3d1){var dest=this.containerNode;if(_3d1&&dest){while(_3d1.hasChildNodes()){dest.appendChild(_3d1.firstChild);}}}});_3cc._templateCache={};_3cc.getCachedTemplate=function(_3d2,_3d3,doc){var _3d4=_3cc._templateCache;var key=_3d2;var _3d5=_3d4[key];if(_3d5){try{if(!_3d5.ownerDocument||_3d5.ownerDocument==(doc||document)){return _3d5;}}catch(e){}_3c9.destroy(_3d5);}_3d2=_3ca.trim(_3d2);if(_3d3||_3d2.match(/\$\{([^\}]+)\}/g)){return (_3d4[key]=_3d2);}else{var node=_3c9.toDom(_3d2,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_3d2);}return (_3d4[key]=node);}};if(has("ie")){on(window,"unload",function(){var _3d6=_3cc._templateCache;for(var key in _3d6){var _3d7=_3d6[key];if(typeof _3d7=="object"){_3c9.destroy(_3d7);}delete _3d6[key];}});}return _3cc;});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(dojo,_3d8,has,_3d9){var _3da;if(1){_3da=function(url,sync,load){_3d9(url,{sync:!!sync}).then(load);};}else{if(_3d8.getText){_3da=_3d8.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _3db={},_3dc=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _3dd=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_3dd){text=_3dd[1];}}else{text="";}return text;},_3de={},_3df={};dojo.cache=function(_3e0,url,_3e1){var key;if(typeof _3e0=="string"){if(/\//.test(_3e0)){key=_3e0;_3e1=url;}else{key=_3d8.toUrl(_3e0.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_3e0+"";_3e1=url;}var val=(_3e1!=undefined&&typeof _3e1!="string")?_3e1.value:_3e1,_3e2=_3e1&&_3e1.sanitize;if(typeof val=="string"){_3db[key]=val;return _3e2?_3dc(val):val;}else{if(val===null){delete _3db[key];return null;}else{if(!(key in _3db)){_3da(key,true,function(text){_3db[key]=text;});}return _3e2?_3dc(_3db[key]):_3db[key];}}};return {dynamic:true,normalize:function(id,_3e3){var _3e4=id.split("!"),url=_3e4[0];return (/^\./.test(url)?_3e3(url):url)+(_3e4[1]?"!"+_3e4[1]:"");},load:function(id,_3e5,load){var _3e6=id.split("!"),_3e7=_3e6.length>1,_3e8=_3e6[0],url=_3e5.toUrl(_3e6[0]),_3e9="url:"+url,text=_3de,_3ea=function(text){load(_3e7?_3dc(text):text);};if(_3e8 in _3db){text=_3db[_3e8];}else{if(_3e5.cache&&_3e9 in _3e5.cache){text=_3e5.cache[_3e9];}else{if(url in _3db){text=_3db[url];}}}if(text===_3de){if(_3df[url]){_3df[url].push(_3ea);}else{var _3eb=_3df[url]=[_3ea];_3da(url,!_3e5.async,function(text){_3db[_3e8]=_3db[url]=text;for(var i=0;i<_3eb.length;){_3eb[i++](text);}delete _3df[url];});}}else{_3ea(text);}}};});},"dojo/request":function(){define(["./request/default!"],function(_3ec){return _3ec;});},"dojo/request/default":function(){define(["exports","require","../has"],function(_3ed,_3ee,has){var _3ef=has("config-requestProvider"),_3f0;if(1){_3f0="./xhr";}else{if(0){_3f0="./node";}}if(!_3ef){_3ef=_3f0;}_3ed.getPlatformDefaultId=function(){return _3f0;};_3ed.load=function(id,_3f1,_3f2,_3f3){_3ee([id=="platform"?_3f0:_3ef],function(_3f4){_3f2(_3f4);});};});},"dijit/_AttachMixin":function(){define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_3f5,_3f6,_3f7,_3f8,lang,_3f9,on,_3fa,_3fb){var _3fc=lang.delegate(_3fa,{"mouseenter":_3f9.enter,"mouseleave":_3f9.leave,"keypress":_3f7._keypress});var _3fd;var _3fe=_3f8("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent();},_beforeFillContent:function(){},_attachTemplateNodes:function(_3ff){var node=_3ff;while(true){if(node.nodeType==1&&(this._processTemplateNode(node,function(n,p){return n.getAttribute(p);},this._attach)||this.searchContainerNode)&&node.firstChild){node=node.firstChild;}else{if(node==_3ff){return;}while(!node.nextSibling){node=node.parentNode;if(node==_3ff){return;}}node=node.nextSibling;}}},_processTemplateNode:function(_400,_401,_402){var ret=true;var _403=this.attachScope||this,_404=_401(_400,"dojoAttachPoint")||_401(_400,"data-dojo-attach-point");if(_404){var _405,_406=_404.split(/\s*,\s*/);while((_405=_406.shift())){if(lang.isArray(_403[_405])){_403[_405].push(_400);}else{_403[_405]=_400;}ret=(_405!="containerNode");this._attachPoints.push(_405);}}var _407=_401(_400,"dojoAttachEvent")||_401(_400,"data-dojo-attach-event");if(_407){var _408,_409=_407.split(/\s*,\s*/);var trim=lang.trim;while((_408=_409.shift())){if(_408){var _40a=null;if(_408.indexOf(":")!=-1){var _40b=_408.split(":");_408=trim(_40b[0]);_40a=trim(_40b[1]);}else{_408=trim(_408);}if(!_40a){_40a=_408;}this._attachEvents.push(_402(_400,_408,lang.hitch(_403,_40a)));}}}return ret;},_attach:function(node,type,func){type=type.replace(/^on/,"").toLowerCase();if(type=="dijitclick"){type=_3fd||(_3fd=_3f5("./a11yclick"));}else{type=_3fc[type]||type;}return on(node,type,func);},_detachTemplateNodes:function(){var _40c=this.attachScope||this;_3f6.forEach(this._attachPoints,function(_40d){delete _40c[_40d];});this._attachPoints=[];_3f6.forEach(this._attachEvents,function(_40e){_40e.remove();});this._attachEvents=[];},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments);}});lang.extend(_3fb,{dojoAttachEvent:"",dojoAttachPoint:""});return _3fe;});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_40f,_410,_411,_412,lang,_413,on,has,_414,a11y){return _410("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_415){this._set("disabled",_415);_411.set(this.focusNode,"disabled",_415);if(this.valueNode){_411.set(this.valueNode,"disabled",_415);}this.focusNode.setAttribute("aria-disabled",_415?"true":"false");if(_415){this._set("hovering",false);this._set("active",false);var _416="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_40f.forEach(lang.isArray(_416)?_416:[_416],function(_417){var node=this[_417];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _418=this.own(on(this.focusNode,"focus",function(){_419.remove();_418.remove();}))[0];var _419=this.own(on(this.ownerDocumentBody,"mouseup, touchend",lang.hitch(this,function(evt){_419.remove();_418.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_414.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_412.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_41a,_41b){if(this._lastValueReported==undefined&&(_41b===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_41a;}this._pendingOnChange=this._pendingOnChange||(typeof _41a!=typeof this._lastValueReported)||(this.compare(_41a,this._lastValueReported)!=0);if((this.intermediateChanges||_41b||_41b===undefined)&&this._pendingOnChange){this._lastValueReported=_41a;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_41a);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormWidgetMixin"],function(_41c,_41d,keys,lang,on,has,_41e){return _41c("dijit.form._FormValueMixin",_41e,{readOnly:false,_setReadOnlyAttr:function(_41f){_41d.set(this.focusNode,"readOnly",_41f);this._set("readOnly",_41f);},postCreate:function(){this.inherited(arguments);if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_420,_421){this._handleOnChange(_420,_421);},_handleOnChange:function(_422,_423){this._set("value",_422);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);}});});},"dijit/form/DropDownButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_424,lang,_425,_426,_427,_428,_429,_42a,_42b){return _424("dijit.form.DropDownButton",[_428,_429,_42a],{baseClass:"dijitDropDownButton",templateString:_42b,_fillContent:function(){if(this.srcNodeRef){var _42c=_425("*",this.srcNodeRef);this.inherited(arguments,[_42c[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _42d=_425("[widgetId]",this.dropDownContainer)[0];if(_42d){this.dropDown=_426.byNode(_42d);}delete this.dropDownContainer;}if(this.dropDown){_427.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _42e=this.dropDown;return (!!_42e&&(!_42e.href||_42e.isLoaded));},loadDropDown:function(_42f){var _430=this.dropDown;var _431=_430.on("load",lang.hitch(this,function(){_431.remove();_42f();}));_430.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_432,_433,_434,has,_435,lang,_436,_437,_438,_439){if(has("dijit-legacy-requires")){_436(0,function(){var _43a=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_432(_43a);});}var _43b=_433("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_437,_438],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_439,_setValueAttr:"valueNode",_setNameAttr:function(name){if(this.valueNode){this.valueNode.setAttribute("name",name);}},_fillContent:function(_43c){if(_43c&&(!this.params||!("label" in this.params))){var _43d=lang.trim(_43c.innerHTML);if(_43d){this.label=_43d;}}},_setShowLabelAttr:function(val){if(this.containerNode){_434.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_43e){_435.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_43e);},_setLabelAttr:function(_43f){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_43b=_433("dijit.form.Button",_43b,{_setLabelAttr:function(_440){this.inherited(arguments);if(this.titleNode.title){this.applyTextDir(this.titleNode,this.titleNode.title);}},_setTextDirAttr:function(_441){if(this._created&&this.textDir!=_441){this._set("textDir",_441);this._setLabelAttr(this.label);}}});}return _43b;});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_442,dom,has,_443){var _444=_442("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}var _445=e.defaultPrevented;if(!_445&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _446=_443.byNode(node);if(_446&&typeof _446._onSubmit=="function"){_446._onSubmit(e);e.preventDefault();_445=true;break;}}}return !_445;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_447){this._set("label",_447);var _448=this.containerNode||this.focusNode;_448.innerHTML=_447;}});if(has("dojo-bidi")){_444=_442("dijit.form._ButtonMixin",_444,{_setLabelAttr:function(){this.inherited(arguments);var _449=this.containerNode||this.focusNode;this.applyTextDir(_449);}});}return _444;});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_44a,_44b,_44c,_44d){return _44b("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_44e,_44f){var _450=this.containerNode;if(_44f>0){_450=_450.firstChild;while(_44f>0){if(_450.nodeType==1){_44f--;}_450=_450.nextSibling;}if(_450){_44f="before";}else{_450=this.containerNode;_44f="last";}}_44c.place(_44e.domNode,_450,_44f);if(this._started&&!_44e._started){_44e.startup();}},removeChild:function(_451){if(typeof _451=="number"){_451=this.getChildren()[_451];}if(_451){var node=_451.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_452,dir){_44d.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var _453=this.getChildren(),idx=_44a.indexOf(_453,_452);return _453[idx+dir];},getIndexOfChild:function(_454){return _44a.indexOf(this.getChildren(),_454);}});});},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_455,_456,dom,_457,_458,_459,_45a,has,keys,lang,on,_45b,_45c,_45d,_45e,_45f){return _455("dijit._HasDropDown",_45f,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"&&e.type!="pointerdown"){e.preventDefault();}this._docHandler=this.own(on(this.ownerDocument,_45b.release,lang.hitch(this,"_onDropDownMouseUp")))[0];this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this._docHandler.remove();this._docHandler=null;}var _460=this.dropDown,_461=false;if(e&&this._opened){var c=_459.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_461){if(_458.contains(t,"dijitPopup")){_461=true;}else{t=t.parentNode;}}if(_461){t=e.target;if(_460.onItemClick){var _462;while(t&&!(_462=_45c.byNode(t))){t=t.parentNode;}if(_462&&_462.onClick&&_462.getParent){_462.getParent().onItemClick(_462,e);}}return;}}}if(this._opened){if(_460.focus&&(_460.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_460.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}},_onDropDownClick:function(e){if(this._stopClickEvents){e.stopPropagation();e.preventDefault();}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _463={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_458.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_463+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _464=this.focusNode||this.domNode;this.own(on(this._buttonNode,_45b.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_464,"keydown",lang.hitch(this,"_onKey")),on(_464,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_465=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){e.stopPropagation();e.preventDefault();return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();e.stopPropagation();e.preventDefault();}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_465.tagName||"").toLowerCase()!=="input"||(_465.type&&_465.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;e.stopPropagation();e.preventDefault();}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_466){_466();},loadAndOpenDropDown:function(){var d=new _456(),_467=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_467);}else{_467();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown(true);}},openDropDown:function(){var _468=this.dropDown,_469=_468.domNode,_46a=this._aroundNode||this.domNode,self=this;var _46b=_45e.open({parent:this,popup:_468,around:_46a,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_457.set(self._popupStateNode,"popupActive",false);_458.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});if(this.forceWidth||(this.autoWidth&&_46a.offsetWidth>_468._popupWrapper.offsetWidth)){var _46c=_46a.offsetWidth-_468._popupWrapper.offsetWidth;var _46d={w:_468.domNode.offsetWidth+_46c};if(lang.isFunction(_468.resize)){_468.resize(_46d);}else{_459.setMarginBox(_469,_46d);}if(_46b.corner[1]=="R"){_468._popupWrapper.style.left=(_468._popupWrapper.style.left.replace("px","")-_46c)+"px";}}_457.set(this._popupStateNode,"popupActive","true");_458.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_468.id);if(_469.getAttribute("role")!=="presentation"&&!_469.getAttribute("aria-labelledby")){_469.setAttribute("aria-labelledby",this.id);}return _46b;},closeDropDown:function(_46e){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(_46e){this.focus();}_45e.close(this.dropDown);this._opened=false;}}});});},"dijit/form/ComboButton":function(){define(["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(_46f,keys,_470,_471,_472){return _46f("dijit.form.ComboButton",_471,{templateString:_472,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){_470.focus(this._popupStateNode);evt.stopPropagation();evt.preventDefault();}},_onArrowKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){_470.focus(this.titleNode);evt.stopPropagation();evt.preventDefault();}},focus:function(_473){if(!this.disabled){_470.focus(_473=="start"?this.titleNode:this._popupStateNode);}}});});},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_474,_475,_476,_477){return _474("dijit.form.ToggleButton",[_476,_477],{baseClass:"dijitToggleButton",setChecked:function(_478){_475.deprecated("setChecked("+_478+") is deprecated. Use set('checked',"+_478+") instead.","","2.0");this.set("checked",_478);}});});},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_479,_47a){return _479("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _47b=this.checked;this._set("checked",!_47b);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_47b);return ret;},_setCheckedAttr:function(_47c,_47d){this._set("checked",_47c);var node=this.focusNode||this.domNode;if(this._created){if(_47a.get(node,"checked")!=!!_47c){_47a.set(node,"checked",!!_47c);}}node.setAttribute(this._aria_attr,String(_47c));this._handleOnChange(_47c,_47d);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare","../_base/fx","../aspect"],function(lang,_47e,_47f,_480){return _47e("dojo.fx.Toggler",null,{node:null,showFunc:_47f.fadeIn,hideFunc:_47f.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _481=this;lang.mixin(_481,args);_481.node=args.node;_481._showArgs=lang.mixin({},args);_481._showArgs.node=_481.node;_481._showArgs.duration=_481.showDuration;_481.showAnim=_481.showFunc(_481._showArgs);_481._hideArgs=lang.mixin({},args);_481._hideArgs.node=_481.node;_481._hideArgs.duration=_481.hideDuration;_481.hideAnim=_481.hideFunc(_481._hideArgs);_480.after(_481.showAnim,"beforeBegin",lang.hitch(_481.hideAnim,"stop",true),true);_480.after(_481.hideAnim,"beforeBegin",lang.hitch(_481.showAnim,"stop",true),true);},show:function(_482){return this.showAnim.play(_482||0);},hide:function(_483){return this.hideAnim.play(_483||0);}});});},"dijit/_Templated":function(){define(["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(_484,_485,_486,_487,_488,lang,_489){lang.extend(_484,{waiRole:"",waiState:""});return _488("dijit._Templated",[_485,_486],{widgetsInTemplate:false,constructor:function(){_489.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0");},_processNode:function(_48a,_48b){var ret=this.inherited(arguments);var role=_48b(_48a,"waiRole");if(role){_48a.setAttribute("role",role);}var _48c=_48b(_48a,"waiState");if(_48c){_487.forEach(_48c.split(/\s*,\s*/),function(_48d){if(_48d.indexOf("-")!=-1){var pair=_48d.split("-");_48a.setAttribute("aria-"+pair[0],pair[1]);}});}return ret;}});});},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(_48e,_48f,_490,lang,_491){return _490("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;if(this.containerNode&&!this.searchContainerNode){this.containerNode.stopParser=true;}_491.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(lang.hitch(this,function(_492){this._startupWidgets=_492;for(var i=0;i<_492.length;i++){this._processTemplateNode(_492[i],function(n,p){return n[p];},function(_493,type,_494){if(type in _493){return _493.connect(_493,type,_494);}else{return _493.on(type,_494,true);}});}if(this.containerNode&&this.containerNode.stopParser){delete this.containerNode.stopParser;}}));if(!this._startupWidgets){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}}},_processTemplateNode:function(_495,_496,_497){if(_496(_495,"dojoType")||_496(_495,"data-dojo-type")){return true;}return this.inherited(arguments);},startup:function(){_48e.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this._startupWidgets=null;this.inherited(arguments);}});});},"dojo/parser":function(){define(["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_498,dojo,_499,_49a,_49b,dom,_49c,_49d,_49e,all,_49f,_4a0,has,_4a1,don,_4a2){new Date("X");function _4a3(text){return eval("("+text+")");};var _4a4=0;_49e.after(_499,"extend",function(){_4a4++;},true);function _4a5(ctor){var map=ctor._nameCaseMap,_4a6=ctor.prototype;if(!map||map._extendCnt<_4a4){map=ctor._nameCaseMap={};for(var name in _4a6){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_4a4;}return map;};var _4a7={};function _4a8(_4a9,_4aa){var ts=_4a9.join();if(!_4a7[ts]){var _4ab=[];for(var i=0,l=_4a9.length;i<l;i++){var t=_4a9[i];_4ab[_4ab.length]=(_4a7[t]=_4a7[t]||(_499.getObject(t)||(~t.indexOf("/")&&(_4aa?_4aa(t):_498(t)))));}var ctor=_4ab.shift();_4a7[ts]=_4ab.length?(ctor.createSubclass?ctor.createSubclass(_4ab):ctor.extend.apply(ctor,_4ab)):ctor;}return _4a7[ts];};var _4ac={_clearCache:function(){_4a4++;_4a7={};},_functionFromScript:function(_4ad,_4ae){var _4af="",_4b0="",_4b1=(_4ad.getAttribute(_4ae+"args")||_4ad.getAttribute("args")),_4b2=_4ad.getAttribute("with");var _4b3=(_4b1||"").split(/\s*,\s*/);if(_4b2&&_4b2.length){_49a.forEach(_4b2.split(/\s*,\s*/),function(part){_4af+="with("+part+"){";_4b0+="}";});}return new Function(_4b3,_4af+_4ad.innerHTML+_4b0);},instantiate:function(_4b4,_4b5,_4b6){_4b5=_4b5||{};_4b6=_4b6||{};var _4b7=(_4b6.scope||dojo._scopeName)+"Type",_4b8="data-"+(_4b6.scope||dojo._scopeName)+"-",_4b9=_4b8+"type",_4ba=_4b8+"mixins";var list=[];_49a.forEach(_4b4,function(node){var type=_4b7 in _4b5?_4b5[_4b7]:node.getAttribute(_4b9)||node.getAttribute(_4b7);if(type){var _4bb=node.getAttribute(_4ba),_4bc=_4bb?[type].concat(_4bb.split(/\s*,\s*/)):[type];list.push({node:node,types:_4bc});}});return this._instantiate(list,_4b5,_4b6);},_instantiate:function(_4bd,_4be,_4bf,_4c0){var _4c1=_49a.map(_4bd,function(obj){var ctor=obj.ctor||_4a8(obj.types,_4bf.contextRequire);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,_4be,_4bf,obj.scripts,obj.inherited);},this);function _4c2(_4c3){if(!_4be._started&&!_4bf.noStart){_49a.forEach(_4c3,function(_4c4){if(typeof _4c4.startup==="function"&&!_4c4._started){_4c4.startup();}});}return _4c3;};if(_4c0){return all(_4c1).then(_4c2);}else{return _4c2(_4c1);}},construct:function(ctor,node,_4c5,_4c6,_4c7,_4c8){var _4c9=ctor&&ctor.prototype;_4c6=_4c6||{};var _4ca={};if(_4c6.defaults){_499.mixin(_4ca,_4c6.defaults);}if(_4c8){_499.mixin(_4ca,_4c8);}var _4cb;if(has("dom-attributes-explicit")){_4cb=node.attributes;}else{if(has("dom-attributes-specified-flag")){_4cb=_49a.filter(node.attributes,function(a){return a.specified;});}else{var _4cc=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),_4cd=_4cc.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_4cb=_49a.map(_4cd.split(/\s+/),function(name){var _4ce=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_4ce=="enctype"?node.getAttribute(_4ce):node.getAttributeNode(_4ce).value};});}}var _4cf=_4c6.scope||dojo._scopeName,_4d0="data-"+_4cf+"-",hash={};if(_4cf!=="dojo"){hash[_4d0+"props"]="data-dojo-props";hash[_4d0+"type"]="data-dojo-type";hash[_4d0+"mixins"]="data-dojo-mixins";hash[_4cf+"type"]="dojoType";hash[_4d0+"id"]="data-dojo-id";}var i=0,item,_4d1=[],_4d2,_4d3;while(item=_4cb[i++]){var name=item.name,_4d4=name.toLowerCase(),_4d5=item.value;switch(hash[_4d4]||_4d4){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":_4d3=_4d5;break;case "data-dojo-id":case "jsid":_4d2=_4d5;break;case "data-dojo-attach-point":case "dojoattachpoint":_4ca.dojoAttachPoint=_4d5;break;case "data-dojo-attach-event":case "dojoattachevent":_4ca.dojoAttachEvent=_4d5;break;case "class":_4ca["class"]=node.className;break;case "style":_4ca["style"]=node.style&&node.style.cssText;break;default:if(!(name in _4c9)){var map=_4a5(ctor);name=map[_4d4]||name;}if(name in _4c9){switch(typeof _4c9[name]){case "string":_4ca[name]=_4d5;break;case "number":_4ca[name]=_4d5.length?Number(_4d5):NaN;break;case "boolean":_4ca[name]=_4d5.toLowerCase()!="false";break;case "function":if(_4d5===""||_4d5.search(/[^\w\.]+/i)!=-1){_4ca[name]=new Function(_4d5);}else{_4ca[name]=_499.getObject(_4d5,false)||new Function(_4d5);}_4d1.push(name);break;default:var pVal=_4c9[name];_4ca[name]=(pVal&&"length" in pVal)?(_4d5?_4d5.split(/\s*,\s*/):[]):(pVal instanceof Date)?(_4d5==""?new Date(""):_4d5=="now"?new Date():_49f.fromISOString(_4d5)):(pVal instanceof _49d)?(dojo.baseUrl+_4d5):_4a3(_4d5);}}else{_4ca[name]=_4d5;}}}for(var j=0;j<_4d1.length;j++){var _4d6=_4d1[j].toLowerCase();node.removeAttribute(_4d6);node[_4d6]=null;}if(_4d3){try{_4d3=_4a3.call(_4c6.propsThis,"{"+_4d3+"}");_499.mixin(_4ca,_4d3);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_4d3+"'");}}_499.mixin(_4ca,_4c5);if(!_4c7){_4c7=(ctor&&(ctor._noScript||_4c9._noScript)?[]:_4a1("> script[type^='dojo/']",node));}var _4d7=[],_4d8=[],_4d9=[],ons=[];if(_4c7){for(i=0;i<_4c7.length;i++){var _4da=_4c7[i];node.removeChild(_4da);var _4db=(_4da.getAttribute(_4d0+"event")||_4da.getAttribute("event")),prop=_4da.getAttribute(_4d0+"prop"),_4dc=_4da.getAttribute(_4d0+"method"),_4dd=_4da.getAttribute(_4d0+"advice"),_4de=_4da.getAttribute("type"),nf=this._functionFromScript(_4da,_4d0);if(_4db){if(_4de=="dojo/connect"){_4d7.push({method:_4db,func:nf});}else{if(_4de=="dojo/on"){ons.push({event:_4db,func:nf});}else{_4ca[_4db]=nf;}}}else{if(_4de=="dojo/aspect"){_4d7.push({method:_4dc,advice:_4dd,func:nf});}else{if(_4de=="dojo/watch"){_4d9.push({prop:prop,func:nf});}else{_4d8.push(nf);}}}}}var _4df=ctor.markupFactory||_4c9.markupFactory;var _4e0=_4df?_4df(_4ca,node,ctor):new ctor(_4ca,node);function _4e1(_4e2){if(_4d2){_499.setObject(_4d2,_4e2);}for(i=0;i<_4d7.length;i++){_49e[_4d7[i].advice||"after"](_4e2,_4d7[i].method,_499.hitch(_4e2,_4d7[i].func),true);}for(i=0;i<_4d8.length;i++){_4d8[i].call(_4e2);}for(i=0;i<_4d9.length;i++){_4e2.watch(_4d9[i].prop,_4d9[i].func);}for(i=0;i<ons.length;i++){don(_4e2,ons[i].event,ons[i].func);}return _4e2;};if(_4e0.then){return _4e0.then(_4e1);}else{return _4e1(_4e0);}},scan:function(root,_4e3){var list=[],mids=[],_4e4={};var _4e5=(_4e3.scope||dojo._scopeName)+"Type",_4e6="data-"+(_4e3.scope||dojo._scopeName)+"-",_4e7=_4e6+"type",_4e8=_4e6+"textdir",_4e9=_4e6+"mixins";var node=root.firstChild;var _4ea=_4e3.inherited;if(!_4ea){function _4eb(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_4eb(node.parentNode,attr));};_4ea={dir:_4eb(root,"dir"),lang:_4eb(root,"lang"),textDir:_4eb(root,_4e8)};for(var key in _4ea){if(!_4ea[key]){delete _4ea[key];}}}var _4ec={inherited:_4ea};var _4ed;var _4ee;function _4ef(_4f0){if(!_4f0.inherited){_4f0.inherited={};var node=_4f0.node,_4f1=_4ef(_4f0.parent);var _4f2={dir:node.getAttribute("dir")||_4f1.dir,lang:node.getAttribute("lang")||_4f1.lang,textDir:node.getAttribute(_4e8)||_4f1.textDir};for(var key in _4f2){if(_4f2[key]){_4f0.inherited[key]=_4f2[key];}}}return _4f0.inherited;};while(true){if(!node){if(!_4ec||!_4ec.node){break;}node=_4ec.node.nextSibling;_4ee=false;_4ec=_4ec.parent;_4ed=_4ec.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_4ed&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_4ed.push(node);}node=node.nextSibling;continue;}if(_4ee){node=node.nextSibling;continue;}var type=node.getAttribute(_4e7)||node.getAttribute(_4e5);var _4f3=node.firstChild;if(!type&&(!_4f3||(_4f3.nodeType==3&&!_4f3.nextSibling))){node=node.nextSibling;continue;}var _4f4;var ctor=null;if(type){var _4f5=node.getAttribute(_4e9),_4f6=_4f5?[type].concat(_4f5.split(/\s*,\s*/)):[type];try{ctor=_4a8(_4f6,_4e3.contextRequire);}catch(e){}if(!ctor){_49a.forEach(_4f6,function(t){if(~t.indexOf("/")&&!_4e4[t]){_4e4[t]=true;mids[mids.length]=t;}});}var _4f7=ctor&&!ctor.prototype._noScript?[]:null;_4f4={types:_4f6,ctor:ctor,parent:_4ec,node:node,scripts:_4f7};_4f4.inherited=_4ef(_4f4);list.push(_4f4);}else{_4f4={node:node,scripts:_4ed,parent:_4ec};}_4ed=_4f7;_4ee=node.stopParser||(ctor&&ctor.prototype.stopParser&&!(_4e3.template));_4ec=_4f4;node=_4f3;}var d=new _4a0();if(mids.length){if(has("dojo-debug-messages")){console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));}var r=_4e3.contextRequire||_498;r(mids,function(){d.resolve(_49a.filter(list,function(_4f8){if(!_4f8.ctor){try{_4f8.ctor=_4a8(_4f8.types,_4e3.contextRequire);}catch(e){}}var _4f9=_4f8.parent;while(_4f9&&!_4f9.types){_4f9=_4f9.parent;}var _4fa=_4f8.ctor&&_4f8.ctor.prototype;_4f8.instantiateChildren=!(_4fa&&_4fa.stopParser&&!(_4e3.template));_4f8.instantiate=!_4f9||(_4f9.instantiate&&_4f9.instantiateChildren);return _4f8.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_4fb,_4fc){var hash=_4a3("{"+_4fb.innerHTML+"}"),vars=[],mids=[],d=new _4a0();var _4fd=(_4fc&&_4fc.contextRequire)||_498;for(var name in hash){vars.push(name);mids.push(hash[name]);}_4fd(mids,function(){for(var i=0;i<vars.length;i++){_499.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root,_4fe){var _4ff=new _4a0(),_500=_4ff.promise;_4ff.resolve(true);var self=this;_4a1("script[type='dojo/require']",root).forEach(function(node){_500=_500.then(function(){return self._require(node,_4fe);});node.parentNode.removeChild(node);});return _500;},parse:function(_501,_502){var root;if(!_502&&_501&&_501.rootNode){_502=_501;root=_502.rootNode;}else{if(_501&&_499.isObject(_501)&&!("nodeType" in _501)){_502=_501;}else{root=_501;}}root=root?dom.byId(root):_49c.body();_502=_502||{};var _503=_502.template?{template:true}:{},_504=[],self=this;var p=this._scanAmd(root,_502).then(function(){return self.scan(root,_502);}).then(function(_505){return self._instantiate(_505,_503,_502,true);}).then(function(_506){return _504=_504.concat(_506);}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});_499.mixin(_504,p);return _504;}};if(1){dojo.parser=_4ac;}if(_49b.parseOnLoad){_4a2(100,_4ac,"parse");}return _4ac;});},"dojo/_base/url":function(){define(["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_507=function(){var n=null,_508=arguments,uri=[_508[0]];for(var i=1;i<_508.length;i++){if(!_508[i]){continue;}var _509=new _507(_508[i]+""),_50a=new _507(uri[0]+"");if(_509.path==""&&!_509.scheme&&!_509.authority&&!_509.query){if(_509.fragment!=n){_50a.fragment=_509.fragment;}_509=_50a;}else{if(!_509.scheme){_509.scheme=_50a.scheme;if(!_509.authority){_509.authority=_50a.authority;if(_509.path.charAt(0)!="/"){var path=_50a.path.substring(0,_50a.path.lastIndexOf("/")+1)+_509.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_509.path=segs.join("/");}}}}uri=[];if(_509.scheme){uri.push(_509.scheme,":");}if(_509.authority){uri.push("//",_509.authority);}uri.push(_509.path);if(_509.query){uri.push("?",_509.query);}if(_509.fragment){uri.push("#",_509.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_507.prototype.toString=function(){return this.uri;};return dojo._Url=_507;});},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(_50b,_50c,when){"use strict";var some=_50b.some;return function all(_50d){var _50e,_50b;if(_50d instanceof Array){_50b=_50d;}else{if(_50d&&typeof _50d==="object"){_50e=_50d;}}var _50f;var _510=[];if(_50e){_50b=[];for(var key in _50e){if(Object.hasOwnProperty.call(_50e,key)){_510.push(key);_50b.push(_50e[key]);}}_50f={};}else{if(_50b){_50f=[];}}if(!_50b||!_50b.length){return new _50c().resolve(_50f);}var _511=new _50c();_511.promise.always(function(){_50f=_510=null;});var _512=_50b.length;some(_50b,function(_513,_514){if(!_50e){_510.push(_514);}when(_513,function(_515){if(!_511.isFulfilled()){_50f[_510[_514]]=_515;if(--_512===0){_511.resolve(_50f);}}},_511.reject);return _511.isFulfilled();});return _511.promise;};});},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(lang,_516){var _517={};lang.setObject("dojo.date.stamp",_517);_517.fromISOString=function(_518,_519){if(!_517._isoRegExp){_517._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _51a=_517._isoRegExp.exec(_518),_51b=null;if(_51a){_51a.shift();if(_51a[1]){_51a[1]--;}if(_51a[6]){_51a[6]*=1000;}if(_519){_519=new Date(_519);_516.forEach(_516.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _519["get"+prop]();}),function(_51c,_51d){_51a[_51d]=_51a[_51d]||_51c;});}_51b=new Date(_51a[0]||1970,_51a[1]||0,_51a[2]||1,_51a[3]||0,_51a[4]||0,_51a[5]||0,_51a[6]||0);if(_51a[0]<100){_51b.setFullYear(_51a[0]||1970);}var _51e=0,_51f=_51a[7]&&_51a[7].charAt(0);if(_51f!="Z"){_51e=((_51a[8]||0)*60)+(Number(_51a[9])||0);if(_51f!="-"){_51e*=-1;}}if(_51f){_51e-=_51b.getTimezoneOffset();}if(_51e){_51b.setTime(_51b.getTime()+_51e*60000);}}return _51b;};_517.toISOString=function(_520,_521){var _522=function(n){return (n<10)?"0"+n:n;};_521=_521||{};var _523=[],_524=_521.zulu?"getUTC":"get",date="";if(_521.selector!="time"){var year=_520[_524+"FullYear"]();date=["0000".substr((year+"").length)+year,_522(_520[_524+"Month"]()+1),_522(_520[_524+"Date"]())].join("-");}_523.push(date);if(_521.selector!="date"){var time=[_522(_520[_524+"Hours"]()),_522(_520[_524+"Minutes"]()),_522(_520[_524+"Seconds"]())].join(":");var _525=_520[_524+"Milliseconds"]();if(_521.milliseconds){time+="."+(_525<100?"0":"")+_522(_525);}if(_521.zulu){time+="Z";}else{if(_521.selector!="time"){var _526=_520.getTimezoneOffset();var _527=Math.abs(_526);time+=(_526>0?"-":"+")+_522(Math.floor(_527/60))+":"+_522(_527%60);}}_523.push(time);}return _523.join("T");};return _517;});},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_528,lang,_529,_52a,_52b,_52c,html,_52d,_52e,_52f,_530,dom,_531,_532,xhr,i18n,when){return _52f("dijit.layout.ContentPane",[_529,_52a,_52b],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_528._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_533,node,ctor){var self=new ctor(_533,node);return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){return self;}):self;},create:function(_534,_535){if((!_534||!_534.template)&&_535&&!("href" in _534)&&!("content" in _534)){_535=dom.byId(_535);var df=_535.ownerDocument.createDocumentFragment();while(_535.firstChild){df.appendChild(_535.firstChild);}_534=lang.delegate(_534,{content:df});}this.inherited(arguments,[_534,_535]);},postMixInProperties:function(){this.inherited(arguments);var _536=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_52c.substitute(this.loadingMessage,_536);this.errorMessage=_52c.substitute(this.errorMessage,_536);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){_52e.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){_52e.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){_52e.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_528.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _530(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_528.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _530(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_537){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _530(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _538={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_538,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_538)),_539;hand.then(function(html){_539=html;try{self._isDownloaded=true;return self._setContent(html,false);}catch(err){self._onError("Content",err);}},function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;}).then(function(){self.onDownloadEnd();delete self._xhrDfd;return _539;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_53a){if(this.isLoaded){this._onUnloadHandler();}var _53b=this._contentSetter;_52e.forEach(this.getChildren(),function(_53c){if(_53c.destroyRecursive){_53c.destroyRecursive(_53a);}else{if(_53c.destroy){_53c.destroy(_53a);}}_53c._destroyed=true;});if(_53b){_52e.forEach(_53b.parseResults,function(_53d){if(!_53d._destroyed){if(_53d.destroyRecursive){_53d.destroyRecursive(_53a);}else{if(_53d.destroy){_53d.destroy(_53a);}}_53d._destroyed=true;}});delete _53b.parseResults;}if(!_53a){_532.empty(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_53e){this.destroyDescendants();var _53f=this._contentSetter;if(!(_53f&&_53f instanceof html._ContentSetter)){_53f=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _540=this.onContentError(e);try{this.containerNode.innerHTML=_540;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _541=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_53f.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_541);var self=this;return when(p&&p.then?p:_53f.parseDeferred,function(){delete self._contentSetterParams;if(!_53e){if(self._started){self._startChildren();self._scheduleLayout();}self._onLoadHandler(cont);}});},_onError:function(type,err,_542){this.onLoadDeferred.reject(err);var _543=this["on"+type+"Error"].call(this,err);if(_542){console.error(_542,err);}else{if(_543){this._setContent(_543,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dijit/layout/_ContentPaneResizeMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(_544,_545,_546,_547,_548,lang,_549,has,_54a,_54b,_54c){return _545("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _54d=this.getParent();this._childOfLayoutWidget=_54d&&_54d.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_54b.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){var _54e=[],_54f=false;_549("> *",this.containerNode).some(function(node){var _550=_54a.byNode(node);if(_550&&_550.resize){_54e.push(_550);}else{if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){_54f=true;}}});this._singleChild=_54e.length==1&&!_54f?_54e[0]:null;_546.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_551,_552){this._resizeCalled=true;this._scheduleLayout(_551,_552);},_scheduleLayout:function(_553,_554){if(this._isShown()){this._layout(_553,_554);}else{this._needLayout=true;this._changeSize=_553;this._resultSize=_554;}},_layout:function(_555,_556){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_555){_547.setMarginBox(this.domNode,_555);}var cn=this.containerNode;if(cn===this.domNode){var mb=_556||{};lang.mixin(mb,_555||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_547.getMarginBox(cn),mb);}this._contentBox=_54c.marginBox2contentBox(cn,mb);}else{this._contentBox=_547.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_547.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{var _557=this.getChildren(),_558,i=0;while(_558=_557[i++]){if(_558.resize){_558.resize();}}}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_559=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_546.contains(node,"dijitHidden")&&_559&&_559.style&&(_559.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(_55a,_55b,_55c,_55d,lang){function _55e(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_55f,dim){var _560=_55f.resize?_55f.resize(dim):_55c.setMarginBox(_55f.domNode,dim);if(_560){lang.mixin(_55f,_560);}else{lang.mixin(_55f,_55c.getMarginBox(_55f.domNode));lang.mixin(_55f,dim);}};var _561={marginBox2contentBox:function(node,mb){var cs=_55d.getComputedStyle(node);var me=_55c.getMarginExtents(node,cs);var pb=_55c.getPadBorderExtents(node,cs);return {l:_55d.toPixelValue(node,cs.paddingLeft),t:_55d.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};},layoutChildren:function(_562,dim,_563,_564,_565){dim=lang.mixin({},dim);_55b.add(_562,"dijitLayoutContainer");_563=_55a.filter(_563,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_55a.filter(_563,function(item){return item.region=="center"||item.layoutAlign=="client";}));_55a.forEach(_563,function(_566){var elm=_566.domNode,pos=(_566.region||_566.layoutAlign);if(!pos){throw new Error("No region setting for "+_566.id);}var _567=elm.style;_567.left=dim.l+"px";_567.top=dim.t+"px";_567.position="absolute";_55b.add(elm,"dijitAlign"+_55e(pos));var _568={};if(_564&&_564==_566.id){_568[_566.region=="top"||_566.region=="bottom"?"h":"w"]=_565;}if(pos=="leading"){pos=_566.isLeftToRight()?"left":"right";}if(pos=="trailing"){pos=_566.isLeftToRight()?"right":"left";}if(pos=="top"||pos=="bottom"){_568.w=dim.w;size(_566,_568);dim.h-=_566.h;if(pos=="top"){dim.t+=_566.h;}else{_567.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_568.h=dim.h;size(_566,_568);dim.w-=_566.w;if(pos=="left"){dim.l+=_566.w;}else{_567.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_566,dim);}}}});}};lang.setObject("dijit.layout.utils",_561);return _561;});},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_569,lang,_56a,_56b,dom,_56c,_56d){var _56e=0;var html={_secureForInnerHtml:function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");},_emptyNode:_56c.empty,_setNodeContent:function(node,cont){_56c.empty(node);if(cont){if(typeof cont=="string"){cont=_56c.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _56f=cont.length,i=0;i<cont.length;i=_56f==cont.length?i+1:0){_56c.place(cont[i],node,"last");}}else{_56c.place(cont,node,"last");}}return node;},_ContentSetter:_56b("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_569._scopeName,startup:true,constructor:function(_570,node){lang.mixin(this,_570||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_56e++].join("_");}},set:function(cont,_571){if(undefined!==cont){this.content=cont;}if(_571){this._mixin(_571);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _572=this.onContentError(e);try{node.innerHTML=_572;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_56a.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_56c.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var _573=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_573){cont=_573[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_574){var _575={},key;for(key in _574){if(key in _575){continue;}this[key]=_574[key];}},_parse:function(){var _576=this.node;try{var _577={};_56a.forEach(["dir","lang","textDir"],function(name){if(this[name]){_577[name]=this[name];}},this);var self=this;this.parseDeferred=_56d.parse({rootNode:_576,noStart:!this.startup,inherited:_577,scope:this.parserScope}).then(function(_578){return self.parseResults=_578;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_579){var _57a=this["on"+type+"Error"].call(this,err);if(_579){console.error(_579,err);}else{if(_57a){html._setNodeContent(this.node,_57a,true);}}}}),set:function(node,cont,_57b){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_57b){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_57b,{content:cont,node:node}));return op.set();}}};lang.setObject("dojo.html",html);return html;});},"dijit/layout/BorderContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(_57c,_57d,_57e,_57f,_580,_581,_582,keys,lang,on,_583,_584,_585,_586,_587,_588){var _589=_57e("dijit.layout._Splitter",[_585,_586],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_57f.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _58a=_57d(this._cookieName);if(_58a){this.child.domNode.style[this.horizontal?"height":"width"]=_58a;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_58b=_581.getMarginBox(this.child.domNode)[dim],_58c=_57c.filter(this.container.getChildren(),function(_58d){return _58d.region=="center";})[0];var _58e=_581.getContentBox(_58c.domNode)[dim]-10;return Math.min(this.child.maxSize,_58b+_58e);},_startDrag:function(e){if(!this.cover){this.cover=_580.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_57f.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_580.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_57f.add(this.domNode,"dijitSplitterShadow");_580.place(this.fake,this.domNode,"after");}_57f.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_57f.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _58f=this._factor,_590=this.horizontal,axis=_590?"pageY":"pageX",_591=e[axis],_592=this.domNode.style,dim=_590?"h":"w",_593=_582.getComputedStyle(this.child.domNode),_594=_581.getMarginBox(this.child.domNode,_593)[dim],max=this._computeMaxSize(),min=Math.max(this.child.minSize,_581.getPadBorderExtents(this.child.domNode,_593)[dim]+10),_595=this.region,_596=_595=="top"||_595=="bottom"?"top":"left",_597=parseInt(_592[_596],10),_598=this._resize,_599=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,_583.move,this._drag=function(e,_59a){var _59b=e[axis]-_591,_59c=_58f*_59b+_594,_59d=Math.max(Math.min(_59c,max),min);if(_598||_59a){_599(_59d);}_592[_596]=_59b+_597+_58f*(_59d-_59c)+"px";}),on(de,"dragstart",function(e){e.stopPropagation();e.preventDefault();}),on(this.ownerDocumentBody,"selectstart",function(e){e.stopPropagation();e.preventDefault();}),on(de,_583.release,lang.hitch(this,"_stopDrag"))]);e.stopPropagation();e.preventDefault();},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_57f.toggle(this.domNode,"dijitSplitterHover",o);_57f.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_57f.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_580.destroy(this.fake);}_57f.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_57d(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyDown:function(e){this._resize=true;var _59e=this.horizontal;var tick=1;switch(e.keyCode){case _59e?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _59e?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _59f=_581.getMarginSize(this.child.domNode)[_59e?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_59f,this._computeMaxSize()),this.child.minSize));e.stopPropagation();e.preventDefault();},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _5a0=_57e("dijit.layout._Gutter",[_585,_586],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_57f.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _5a1=_57e("dijit.layout.BorderContainer",_587,{gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_589,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},_setupChild:function(_5a2){this.inherited(arguments);var _5a3=_5a2.region,ltr=_5a2.isLeftToRight();if(_5a3=="leading"){_5a3=ltr?"left":"right";}if(_5a3=="trailing"){_5a3=ltr?"right":"left";}if(_5a3){if(_5a3!="center"&&(_5a2.splitter||this.gutters)&&!_5a2._splitterWidget){var _5a4=_5a2.splitter?this._splitterClass:_5a0;if(lang.isString(_5a4)){_5a4=lang.getObject(_5a4);}var _5a5=new _5a4({id:_5a2.id+"_splitter",container:this,child:_5a2,region:_5a3,live:this.liveSplitters});_5a5.isSplitter=true;_5a2._splitterWidget=_5a5;var _5a6=_5a3=="bottom"||_5a3==(this.isLeftToRight()?"right":"left");_580.place(_5a5.domNode,_5a2.domNode,_5a6?"before":"after");_5a5.startup();}}},layout:function(){this._layoutChildren();},removeChild:function(_5a7){var _5a8=_5a7._splitterWidget;if(_5a8){_5a8.destroy();delete _5a7._splitterWidget;}this.inherited(arguments);},getChildren:function(){return _57c.filter(this.inherited(arguments),function(_5a9){return !_5a9.isSplitter;});},getSplitter:function(_5aa){return _57c.filter(this.getChildren(),function(_5ab){return _5ab.region==_5aa;})[0]._splitterWidget;},resize:function(_5ac,_5ad){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_582.getComputedStyle(node);this.pe=_581.getPadExtents(node,this.cs);this.pe.r=_582.toPixelValue(node,this.cs.paddingRight);this.pe.b=_582.toPixelValue(node,this.cs.paddingBottom);_582.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_5ae,_5af){if(!this._borderBox||!this._borderBox.h){return;}var _5b0=[];_57c.forEach(this._getOrderedChildren(),function(pane){_5b0.push(pane);if(pane._splitterWidget){_5b0.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_588.layoutChildren(this.domNode,dim,_5b0,_5ae,_5af);},destroyRecursive:function(){_57c.forEach(this.getChildren(),function(_5b1){var _5b2=_5b1._splitterWidget;if(_5b2){_5b2.destroy();}delete _5b1._splitterWidget;});this.inherited(arguments);}});_5a1.ChildWidgetProperties={splitter:false,minSize:0,maxSize:Infinity};lang.mixin(_5a1.ChildWidgetProperties,_587.ChildWidgetProperties);lang.extend(_584,_5a1.ChildWidgetProperties);_5a1._Splitter=_589;_5a1._Gutter=_5a0;return _5a1;});},"dijit/layout/LayoutContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(_5b3,_5b4,_5b5,_5b6,lang,_5b7,_5b8,_5b9){var _5ba=_5b4("dijit.layout.LayoutContainer",_5b8,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){if(this._started){return;}_5b3.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_5bb){this.inherited(arguments);var _5bc=_5bb.region;if(_5bc){_5b5.add(_5bb.domNode,this.baseClass+"Pane");}},_getOrderedChildren:function(){var _5bd=_5b3.map(this.getChildren(),function(_5be,idx){return {pane:_5be,weight:[_5be.region=="center"?Infinity:0,_5be.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(_5be.region)?1:-1),idx]};},this);_5bd.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});return _5b3.map(_5bd,function(w){return w.pane;});},layout:function(){_5b9.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren());},addChild:function(_5bf,_5c0){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(_5c1){this.inherited(arguments);if(this._started){this.layout();}_5b5.remove(_5c1.domNode,this.baseClass+"Pane");_5b6.set(_5c1.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_5b6.set(_5c1.domNode,/top|bottom/.test(_5c1.region)?"width":"height","auto");}});_5ba.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};lang.extend(_5b7,_5ba.ChildWidgetProperties);return _5ba;});},"dijit/layout/_LayoutWidget":function(){define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_5c2,_5c3,_5c4,_5c5,_5c6,_5c7,_5c8,_5c9){return _5c6("dijit.layout._LayoutWidget",[_5c2,_5c3,_5c4],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_5c7.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _5ca=this.getParent&&this.getParent();if(!(_5ca&&_5ca.isLayoutContainer)){this.resize();this.own(_5c5.on("resize",lang.hitch(this,"resize")));}},resize:function(_5cb,_5cc){var node=this.domNode;if(_5cb){_5c8.setMarginBox(node,_5cb);}var mb=_5cc||{};lang.mixin(mb,_5cb||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_5c8.getMarginBox(node),mb);}var cs=_5c9.getComputedStyle(node);var me=_5c8.getMarginExtents(node,cs);var be=_5c8.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_5c8.getPadExtents(node,cs);this._contentBox={l:_5c9.toPixelValue(node,cs.paddingLeft),t:_5c9.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_5cd){var cls=this.baseClass+"-child "+(_5cd.baseClass?this.baseClass+"-"+_5cd.baseClass:"");_5c7.add(_5cd.domNode,cls);},addChild:function(_5ce,_5cf){this.inherited(arguments);if(this._started){this._setupChild(_5ce);}},removeChild:function(_5d0){var cls=this.baseClass+"-child"+(_5d0.baseClass?" "+this.baseClass+"-"+_5d0.baseClass:"");_5c7.remove(_5d0.domNode,cls);this.inherited(arguments);}});});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_5d1,_5d2){return _5d1("dijit._Contained",null,{_getSibling:function(_5d3){var node=this.domNode;do{node=node[_5d3+"Sibling"];}while(node&&node.nodeType!=1);return node&&_5d2.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dijit/Calendar":function(){define(["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(_5d4,date,_5d5,_5d6,_5d7,_5d8,_5d9,keys,lang,on,has,_5da,_5db,_5dc,_5dd,_5de){var _5df=_5d6("dijit.Calendar",[_5da,_5db,_5dc],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(_5e0){_5d9.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_5e0);},_createMonthWidget:function(){return new _5df._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")),on(this.dateRowsNode,"mouseover",lang.hitch(this,"_onDayMouseOver")),on(this.dateRowsNode,"mouseout",lang.hitch(this,"_onDayMouseOut")),on(this.dateRowsNode,"mousedown",lang.hitch(this,"_onDayMouseDown")),on(this.dateRowsNode,"mouseup",lang.hitch(this,"_onDayMouseUp")));},_onMonthSelect:function(_5e1){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_5e1);var _5e2=this.dateModule.getDaysInMonth(date);var _5e3=this.currentFocus.getDate();date.setDate(Math.min(_5e3,_5e2));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_5d8.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_5d8.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_5d8.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_5d8.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_5d8.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_5d8.contains(node,"dijitCalendarDisabledDate")){_5d8.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_5d8.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _5e4=-1,_5e5,_5e6=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_5e4=1;case keys.LEFT_ARROW:_5e5="day";if(!this.isLeftToRight()){_5e4*=-1;}break;case keys.DOWN_ARROW:_5e4=1;case keys.UP_ARROW:_5e5="week";break;case keys.PAGE_DOWN:_5e4=1;case keys.PAGE_UP:_5e5=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_5e6=this.dateModule.add(_5e6,"month",1);_5e5="day";case keys.HOME:_5e6=new this.dateClassObj(_5e6);_5e6.setDate(1);break;default:return true;}if(_5e5){_5e6=this.dateModule.add(_5e6,_5e5,_5e4);}this._setCurrentFocusAttr(_5e6);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){evt.stopPropagation();evt.preventDefault();}},onValueSelected:function(){},onChange:function(_5e7){this.onValueSelected(_5e7);},getClassForDate:function(){}});_5df._MonthDropDownButton=_5d6("dijit.Calendar._MonthDropDownButton",_5de,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _5df._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(_5e8){var _5e9=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_5e8);this.dropDown.set("months",_5e9);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_5e9[_5e8.getMonth()]+"</div>";}});_5df._MonthDropDown=_5d6("dijit.Calendar._MonthDropDown",[_5db,_5dd],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_5ea){this.domNode.innerHTML=_5d4.map(_5ea,function(_5eb,idx){return _5eb?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+_5eb+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(_5d7.get(evt.target,"month"));},onChange:function(){},_onMenuHover:function(evt){_5d8.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});return _5df;});},"dijit/CalendarLite":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./a11yclick","./hccss"],function(_5ec,_5ed,_5ee,date,_5ef,_5f0,dom,_5f1,lang,on,has,_5f2,_5f3,_5f4,_5f5){var _5f6=_5ed("dijit.CalendarLite",[_5f3,_5f4],{templateString:_5f5,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",_isValidDate:function(_5f7){return _5f7&&!isNaN(_5f7)&&typeof _5f7=="object"&&_5f7.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){var _5f8=this._get("value");if(_5f8&&!isNaN(_5f8)){var _5f9=new this.dateClassObj(_5f8);_5f9.setHours(0,0,0,0);if(_5f9.getDate()<_5f8.getDate()){_5f9=this.dateModule.add(_5f9,"hour",1);}return _5f9;}else{return null;}},_setValueAttr:function(_5fa,_5fb){if(typeof _5fa=="string"){_5fa=_5f0.fromISOString(_5fa);}_5fa=this._patchDate(_5fa);if(this._isValidDate(_5fa)&&!this.isDisabledDate(_5fa,this.lang)){this._set("value",_5fa);this.set("currentFocus",_5fa);this._markSelectedDates([_5fa]);if(this._created&&(_5fb||typeof _5fb=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(_5fc){if(_5fc){_5fc=new this.dateClassObj(_5fc);_5fc.setHours(1,0,0,0);}return _5fc;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var _5fd=new this.dateClassObj(this.currentFocus);_5fd.setDate(1);var _5fe=_5fd.getDay(),_5ff=this.dateModule.getDaysInMonth(_5fd),_600=this.dateModule.getDaysInMonth(this.dateModule.add(_5fd,"month",-1)),_601=new this.dateClassObj(),_602=_5ee.getFirstDayOfWeek(this.lang);if(_602>_5fe){_602-=7;}if(!this.summary){var _603=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_5fd);this.gridNode.setAttribute("summary",_603[_5fd.getMonth()]);}this._date2cell={};_5ec.forEach(this.dateCells,function(_604,idx){var i=idx+_602;var date=new this.dateClassObj(_5fd),_605,_606="dijitCalendar",adj=0;if(i<_5fe){_605=_600-_5fe+i+1;adj=-1;_606+="Previous";}else{if(i>=(_5fe+_5ff)){_605=i-_5fe-_5ff+1;adj=1;_606+="Next";}else{_605=i-_5fe+1;_606+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_605);if(!this.dateModule.compare(date,_601,"date")){_606="dijitCalendarCurrentDate "+_606;}if(this.isDisabledDate(date,this.lang)){_606="dijitCalendarDisabledDate "+_606;_604.setAttribute("aria-disabled","true");}else{_606="dijitCalendarEnabledDate "+_606;_604.removeAttribute("aria-disabled");_604.setAttribute("aria-selected","false");}var _607=this.getClassForDate(date,this.lang);if(_607){_606=_607+" "+_606;}_604.className=_606+"Month dijitCalendarDateTemplate";var _608=date.valueOf();this._date2cell[_608]=_604;_604.dijitDateValue=_608;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var _609=new this.dateClassObj(this.currentFocus);_609.setDate(1);this.monthWidget.set("month",_609);var y=_609.getFullYear()-1;var d=new this.dateClassObj();_5ec.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_60a){this.dateModule=_60a.datePackage?lang.getObject(_60a.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_60a.datePackage?lang.getObject(_60a.datePackage+".locale",false):_5ef;},_createMonthWidget:function(){return _5f6._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_60b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_60c=_5ee.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_5f2.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _60b[_60c++%7];});var r=_5f2.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _60d=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_60d,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _60e=lang.hitch(this,function(_60f,part,_610){return on(this[_60f],"click",lang.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_610));}));});this.own(_60e("incrementMonth","month",1),_60e("decrementMonth","month",-1),_60e("nextYearLabelNode","year",1),_60e("previousYearLabelNode","year",-1));},_setCurrentFocusAttr:function(date,_611){var _612=this.currentFocus,_613=this._getNodeByDate(_612);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_612,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _614=this._getNodeByDate(date);_614.setAttribute("tabIndex",this.tabIndex);if(this.focused||_611){_614.focus();}if(_613&&_613!=_614){if(has("webkit")){_613.setAttribute("tabIndex","-1");}else{_613.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){evt.stopPropagation();evt.preventDefault();for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_5f1.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(_615){_615=this._patchDate(_615);return _615&&this._date2cell?this._date2cell[_615.valueOf()]:null;},_markSelectedDates:function(_616){function mark(_617,cell){_5f1.toggle(cell,"dijitCalendarSelectedDate",_617);cell.setAttribute("aria-selected",_617?"true":"false");};_5ec.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=_5ec.filter(_5ec.map(_616,this._getNodeByDate,this),function(n){return n;});_5ec.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_5f6._MonthWidget=_5ed("dijit.CalendarLite._MonthWidget",_5f3,{_setMonthAttr:function(_618){var _619=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_618),_61a=(has("ie")==6?"":"<div class='dijitSpacer'>"+_5ec.map(_619,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_61a+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_619[_618.getMonth()]+"</div>";}});return _5f6;});},"dojox/date/buddhist":function(){define(["..","dojo/_base/lang","dojo/date","./buddhist/Date"],function(_61b,lang,dd,_61c){var _61d=lang.getObject("date.buddhist",true,_61b);_61d.getDaysInMonth=function(_61e){return dd.getDaysInMonth(_61e.toGregorian());};_61d.isLeapYear=function(_61f){return dd.isLeapYear(_61f.toGregorian());};_61d.compare=function(_620,_621,_622){return dd.compare(_620,_621,_622);};_61d.add=function(date,_623,_624){var _625=new _61c(date);switch(_623){case "day":_625.setDate(date.getDate(true)+_624);break;case "weekday":var days,_626;var mod=_624%5;if(!mod){days=(_624>0)?5:-5;_626=(_624>0)?((_624-5)/5):((_624+5)/5);}else{days=mod;_626=parseInt(_624/5);}var strt=date.getDay();var adj=0;if(strt==6&&_624>0){adj=1;}else{if(strt==0&&_624<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_624>0)?2:-2;}_624=(7*_626)+days+adj;_625.setDate(date.getDate(true)+_624);break;case "year":_625.setFullYear(date.getFullYear()+_624);break;case "week":_624*=7;_625.setDate(date.getDate(true)+_624);break;case "month":_625.setMonth(date.getMonth()+_624);break;case "hour":_625.setHours(date.getHours()+_624);break;case "minute":_625._addMinutes(_624);break;case "second":_625._addSeconds(_624);break;case "millisecond":_625._addMilliseconds(_624);break;}return _625;};_61d.difference=function(_627,_628,_629){_628=_628||new _61c();_629=_629||"day";var _62a=_628.getFullYear()-_627.getFullYear();var _62b=1;switch(_629){case "weekday":var days=Math.round(_61d.difference(_627,_628,"day"));var _62c=parseInt(_61d.difference(_627,_628,"week"));var mod=days%7;if(mod==0){days=_62c*5;}else{var adj=0;var aDay=_627.getDay();var bDay=_628.getDay();_62c=parseInt(days/7);mod=days%7;var _62d=new _61c(_628);_62d.setDate(_62d.getDate(true)+(_62c*7));var _62e=_62d.getDay();if(days>0){switch(true){case aDay==5:adj=-1;break;case aDay==6:adj=0;break;case bDay==5:adj=-1;break;case bDay==6:adj=-2;break;case (_62e+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==5:adj=0;break;case aDay==6:adj=1;break;case bDay==5:adj=2;break;case bDay==6:adj=1;break;case (_62e+mod)<0:adj=2;}}}days+=adj;days-=(_62c*2);}_62b=days;break;case "year":_62b=_62a;break;case "month":var _62f=(_628.toGregorian()>_627.toGregorian())?_628:_627;var _630=(_628.toGregorian()>_627.toGregorian())?_627:_628;var _631=_62f.getMonth();var _632=_630.getMonth();if(_62a==0){_62b=_62f.getMonth()-_630.getMonth();}else{_62b=12-_632;_62b+=_631;var i=_630.getFullYear()+1;var e=_62f.getFullYear();for(i;i<e;i++){_62b+=12;}}if(_628.toGregorian()<_627.toGregorian()){_62b=-_62b;}break;case "week":_62b=parseInt(_61d.difference(_627,_628,"day")/7);break;case "day":_62b/=24;case "hour":_62b/=60;case "minute":_62b/=60;case "second":_62b/=1000;case "millisecond":_62b*=_628.toGregorian().getTime()-_627.toGregorian().getTime();}return Math.round(_62b);};return _61d;});},"dojox/date/buddhist/Date":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/date"],function(lang,_633,dd){var _634=_633("dojox.date.buddhist.Date",null,{_date:0,_month:0,_year:0,_hours:0,_minutes:0,_seconds:0,_milliseconds:0,_day:0,constructor:function(){var len=arguments.length;if(!len){this.fromGregorian(new Date());}else{if(len==1){var arg0=arguments[0];if(typeof arg0=="number"){arg0=new Date(arg0);}if(arg0 instanceof Date){this.fromGregorian(arg0);}else{if(arg0==""){this._date=new Date("");}else{this._year=arg0._year;this._month=arg0._month;this._date=arg0._date;this._hours=arg0._hours;this._minutes=arg0._minutes;this._seconds=arg0._seconds;this._milliseconds=arg0._milliseconds;}}}else{if(len>=3){this._year+=arguments[0];this._month+=arguments[1];this._date+=arguments[2];if(this._month>11){console.warn("the month is incorrect , set 0");this._month=0;}this._hours+=arguments[3]||0;this._minutes+=arguments[4]||0;this._seconds+=arguments[5]||0;this._milliseconds+=arguments[6]||0;}}}},getDate:function(_635){return parseInt(this._date);},getMonth:function(){return parseInt(this._month);},getFullYear:function(){return parseInt(this._year);},getHours:function(){return this._hours;},getMinutes:function(){return this._minutes;},getSeconds:function(){return this._seconds;},getMilliseconds:function(){return this._milliseconds;},setDate:function(date){date=parseInt(date);if(date>0&&date<=this._getDaysInMonth(this._month,this._year)){this._date=date;}else{var _636;if(date>0){for(_636=this._getDaysInMonth(this._month,this._year);date>_636;date-=_636,_636=this._getDaysInMonth(this._month,this._year)){this._month++;if(this._month>=12){this._year++;this._month-=12;}}this._date=date;}else{for(_636=this._getDaysInMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1);date<=0;_636=this._getDaysInMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1)){this._month--;if(this._month<0){this._year--;this._month+=12;}date+=_636;}this._date=date;}}return this;},setFullYear:function(year,_637,date){this._year=parseInt(year);},setMonth:function(_638){this._year+=Math.floor(_638/12);this._month=Math.floor(_638%12);for(;this._month<0;this._month=this._month+12){}},setHours:function(){var _639=arguments.length;var _63a=0;if(_639>=1){_63a=parseInt(arguments[0]);}if(_639>=2){this._minutes=parseInt(arguments[1]);}if(_639>=3){this._seconds=parseInt(arguments[2]);}if(_639==4){this._milliseconds=parseInt(arguments[3]);}while(_63a>=24){this._date++;var _63b=this._getDaysInMonth(this._month,this._year);if(this._date>_63b){this._month++;if(this._month>=12){this._year++;this._month-=12;}this._date-=_63b;}_63a-=24;}this._hours=_63a;},_addMinutes:function(_63c){_63c+=this._minutes;this.setMinutes(_63c);this.setHours(this._hours+parseInt(_63c/60));return this;},_addSeconds:function(_63d){_63d+=this._seconds;this.setSeconds(_63d);this._addMinutes(parseInt(_63d/60));return this;},_addMilliseconds:function(_63e){_63e+=this._milliseconds;this.setMilliseconds(_63e);this._addSeconds(parseInt(_63e/1000));return this;},setMinutes:function(_63f){this._minutes=_63f%60;return this;},setSeconds:function(_640){this._seconds=_640%60;return this;},setMilliseconds:function(_641){this._milliseconds=_641%1000;return this;},toString:function(){return isNaN(this._date)?"Invalid Date":this._date+", "+this._month+", "+this._year+"  "+this._hours+":"+this._minutes+":"+this._seconds;},_getDaysInMonth:function(_642,year){return dd.getDaysInMonth(new Date(year-543,_642));},fromGregorian:function(_643){var date=new Date(_643);this._date=date.getDate();this._month=date.getMonth();this._year=date.getFullYear()+543;this._hours=date.getHours();this._minutes=date.getMinutes();this._seconds=date.getSeconds();this._milliseconds=date.getMilliseconds();this._day=date.getDay();return this;},toGregorian:function(){return new Date(this._year-543,this._month,this._date,this._hours,this._minutes,this._seconds,this._milliseconds);},getDay:function(){return this.toGregorian().getDay();}});_634.prototype.valueOf=function(){return this.toGregorian().valueOf();};return _634;});},"dojox/date/buddhist/locale":function(){define(["../..","dojo/_base/lang","dojo/_base/array","dojo/date","dojo/i18n","dojo/regexp","dojo/string","./Date","dojo/i18n!dojo/cldr/nls/buddhist"],function(_644,lang,arr,dd,i18n,_645,_646,_647){var _648=lang.getObject("date.buddhist.locale",true,_644);function _649(_64a,_64b,_64c,_64d,_64e){return _64e.replace(/([a-z])\1*/ig,function(_64f){var s,pad;var c=_64f.charAt(0);var l=_64f.length;var _650=["abbr","wide","narrow"];switch(c){case "G":s=_64b["eraAbbr"][0];break;case "y":s=String(_64a.getFullYear());break;case "M":var m=_64a.getMonth();if(l<3){s=m+1;pad=true;}else{var _651=["months","format",_650[l-3]].join("-");s=_64b[_651][m];}break;case "d":s=_64a.getDate(true);pad=true;break;case "E":var d=_64a.getDay();if(l<3){s=d+1;pad=true;}else{var _652=["days","format",_650[l-3]].join("-");s=_64b[_652][d];}break;case "a":var _653=(_64a.getHours()<12)?"am":"pm";s=_64b["dayPeriods-format-wide-"+_653];break;case "h":case "H":case "K":case "k":var h=_64a.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_64a.getMinutes();pad=true;break;case "s":s=_64a.getSeconds();pad=true;break;case "S":s=Math.round(_64a.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "z":s=dd.getTimezoneName(_64a.toGregorian());if(s){break;}l=4;case "Z":var _654=_64a.toGregorian().getTimezoneOffset();var tz=[(_654<=0?"+":"-"),_646.pad(Math.floor(Math.abs(_654)/60),2),_646.pad(Math.abs(_654)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojox.date.buddhist.locale.formatPattern: invalid pattern char: "+_64e);}if(pad){s=_646.pad(s,l);}return s;});};_648.format=function(_655,_656){_656=_656||{};var _657=i18n.normalizeLocale(_656.locale);var _658=_656.formatLength||"short";var _659=_648._getBuddhistBundle(_657);var str=[];var _65a=lang.hitch(this,_649,_655,_659,_657,_656.fullYear);if(_656.selector=="year"){var year=_655.getFullYear();return year;}if(_656.selector!="time"){var _65b=_656.datePattern||_659["dateFormat-"+_658];if(_65b){str.push(_65c(_65b,_65a));}}if(_656.selector!="date"){var _65d=_656.timePattern||_659["timeFormat-"+_658];if(_65d){str.push(_65c(_65d,_65a));}}var _65e=str.join(" ");return _65e;};_648.regexp=function(_65f){return _648._parseInfo(_65f).regexp;};_648._parseInfo=function(_660){_660=_660||{};var _661=i18n.normalizeLocale(_660.locale);var _662=_648._getBuddhistBundle(_661);var _663=_660.formatLength||"short";var _664=_660.datePattern||_662["dateFormat-"+_663];var _665=_660.timePattern||_662["timeFormat-"+_663];var _666;if(_660.selector=="date"){_666=_664;}else{if(_660.selector=="time"){_666=_665;}else{_666=(typeof (_665)=="undefined")?_664:_664+" "+_665;}}var _667=[];var re=_65c(_666,lang.hitch(this,_668,_667,_662,_660));return {regexp:re,tokens:_667,bundle:_662};};_648.parse=function(_669,_66a){_669=_669.replace(/[\u200E\u200F\u202A-\u202E]/g,"");if(!_66a){_66a={};}var info=_648._parseInfo(_66a);var _66b=info.tokens,_66c=info.bundle;var re=new RegExp("^"+info.regexp+"$");var _66d=re.exec(_669);var _66e=i18n.normalizeLocale(_66a.locale);if(!_66d){return null;}var date,_66f;var _670=[2513,0,1,0,0,0,0];var amPm="";var _671=0;var _672=["abbr","wide","narrow"];var _673=arr.every(_66d,function(v,i){if(!i){return true;}var _674=_66b[i-1];var l=_674.length;switch(_674.charAt(0)){case "y":_670[0]=Number(v);break;case "M":if(l>2){var _675=_66c["months-format-"+_672[l-3]].concat();if(!_66a.strict){v=v.replace(".","").toLowerCase();_675=arr.map(_675,function(s){return s?s.replace(".","").toLowerCase():s;});}v=arr.indexOf(_675,v);if(v==-1){return false;}_671=l;}else{v--;}_670[1]=Number(v);break;case "D":_670[1]=0;case "d":_670[2]=Number(v);break;case "a":var am=_66a.am||_66c["dayPeriods-format-wide-am"],pm=_66a.pm||_66c["dayPeriods-format-wide-pm"];if(!_66a.strict){var _676=/\./g;v=v.replace(_676,"").toLowerCase();am=am.replace(_676,"").toLowerCase();pm=pm.replace(_676,"").toLowerCase();}if(_66a.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":_670[3]=Number(v);break;case "m":_670[4]=Number(v);break;case "s":_670[5]=Number(v);break;case "S":_670[6]=Number(v);}return true;});var _677=+_670[3];if(amPm==="p"&&_677<12){_670[3]=_677+12;}else{if(amPm==="a"&&_677==12){_670[3]=0;}}var _678=new _647(_670[0],_670[1],_670[2],_670[3],_670[4],_670[5],_670[6]);return _678;};function _65c(_679,_67a,_67b,_67c){var _67d=function(x){return x;};_67a=_67a||_67d;_67b=_67b||_67d;_67c=_67c||_67d;var _67e=_679.match(/(''|[^'])+/g);var _67f=_679.charAt(0)=="'";arr.forEach(_67e,function(_680,i){if(!_680){_67e[i]="";}else{_67e[i]=(_67f?_67b:_67a)(_680);_67f=!_67f;}});return _67c(_67e.join(""));};function _668(_681,_682,_683,_684){_684=_645.escapeString(_684);var _685=i18n.normalizeLocale(_683.locale);return _684.replace(/([a-z])\1*/ig,function(_686){var s;var c=_686.charAt(0);var l=_686.length;var p2="",p3="";if(_683.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d+";break;case "M":s=(l>2)?"\\S+":p2+"[1-9]|1[0-2]";break;case "d":s="[12]\\d|"+p2+"[1-9]|3[01]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s=p2+"\\d|[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_683.am||_682["dayPeriods-format-wide-am"],pm=_683.pm||_682["dayPeriods-format-wide-pm"];if(_683.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}}break;default:s=".*";}if(_681){_681.push(_686);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _687=[];_648.addCustomFormats=function(_688,_689){_687.push({pkg:_688,name:_689});};_648._getBuddhistBundle=function(_68a){var _68b={};arr.forEach(_687,function(desc){var _68c=i18n.getLocalization(desc.pkg,desc.name,_68a);_68b=lang.mixin(_68b,_68c);},this);return _68b;};_648.addCustomFormats("dojo.cldr","buddhist");_648.getNames=function(item,type,_68d,_68e,date){var _68f;var _690=_648._getBuddhistBundle(_68e);var _691=[item,_68d,type];if(_68d=="standAlone"){var key=_691.join("-");_68f=_690[key];if(_68f[0]==1){_68f=undefined;}}_691[1]="format";return (_68f||_690[_691.join("-")]).concat();};return _648;});},"mendix/mendix":function(){define(["mendix/lang","mendix/ov","mendix/logger","mendix/lib/MxObject","mendix/lib/MxMetaObject","mendix/lib/MxContext","mendix/lib/ObjectValidation","mendix/lib/DataSource","mendix/lib/XPathSourceBase","mendix/lib/XPathSource","mendix/lib/SimpleXPathSource","mendix/lib/EntityPathSource","mendix/lib/MicroflowSource","mendix/lib/ReferenceSetSource","mendix/lib/DirectObjectSource","mendix/lib/SchemaObjectSource","mendix/lib/MicroflowObjectSource","mendix/lib/Upload","mendix/lib/Error","mendix/lib/ServerError","mendix/lib/ConnectionError","mendix/lib/DescribedServerError","mendix/lib/ValidationError"],function(lang,ov,_692,_693,_694,_695,_696,_697,_698,_699,_69a,_69b,_69c,_69d,_69e,_69f,_6a0,_6a1,_6a2,_6a3,_6a4,_6a5,_6a6){window.logger=_692;window.mendix={lang:lang,ov:ov,lib:{MxObject:_693,MxMetaObject:_694,MxContext:_695,ObjectValidation:_696,MxValidator:_696,DataSource:_697,XPathSourceBase:_698,XPathSource:_699,SimpleXPathSource:_69a,EntityPathSource:_69b,MicroflowSource:_69c,ReferenceSetSource:_69d,DirectObjectSource:_69e,SchemaObjectSource:_69f,MicroflowObjectSource:_6a0,Upload:_6a1,Error:_6a2,ServerError:_6a3,ConnectionError:_6a4,DescribedServerError:_6a5,ValidationError:_6a6}};});},"mendix/lang":function(){define(["mendix/lib/DescribedServerError","mendix/logger","dojo/_base/kernel","dojo/_base/json","dojo/_base/lang","exports"],function(_6a7,_6a8,_6a9,_6aa,_6ab,_6ac){var wrap=function(_6ad,_6ae,_6af,_6b0,_6b1,_6b2,_6b3){var _6b4=_6b0[_6b2],_6b5=_6ae+"."+_6af+" is deprecated, use "+(_6b1!=_6ae?_6b1+".":"")+_6b2+" instead",_6b6=function(){_6a9.deprecated(_6b5,"",_6b3);var _6b7=typeof _6b0=="function"&&this instanceof _6b0;return (_6b7?this:_6b0)[_6b2].apply(this,arguments);};if(!_6b4){_6ad.prototype[_6af]=_6b6;}else{if(typeof _6b4=="function"&&_6b4.prototype&&!_6b4.prototype.declaredClass){if(typeof _6ad=="function"){_6ad.prototype[_6af]=_6b6;}else{_6ad[_6af]=_6b6;}}else{_6ad[_6af]=_6b4;}}};_6ac.map=function(obj,func){var _6b8=[];if(typeof (obj.push)=="function"){for(var i=0;i<obj.length;i++){_6b8.push(func(obj[i]));}}else{for(var j in obj){_6b8.push(func(obj[j]));}}return _6b8;};_6ac.nullExec=function(_6b9){_6b9&&_6b9();};_6ac.sequence=function(_6ba,_6bb,_6bc){if(_6bb&&typeof _6bb=="object"){_6bc=_6bb;_6bb=null;}if(_6ba instanceof Array){var _6bd=0,_6be,_6bf,next,_6c0=function(){_6be=true;if(_6bf){next();}};next=function(){while(_6bd<_6ba.length){_6be=false;_6bf=false;var func=_6ba[_6bd++];if(typeof func=="function"){func.call(_6bc,_6c0);}else{if(_6bc&&typeof _6bc[func]=="function"){_6bc[func](_6c0);}else{throw new Error("mendix.lang.sequence: #"+_6bd+" is not a function");}}if(!_6be){_6bf=true;return;}}if(_6bb){_6bb.call(_6bc);}};next();}else{throw new Error("mendix.lang.sequence: sequence is not an array");}};_6ac.collect=function(_6c1,_6c2,_6c3){if(_6c2&&typeof _6c2=="object"){_6c3=_6c2;_6c2=null;}if(_6c1 instanceof Array){var _6c4=0,_6c5=_6c1.length+1,_6c6=function(){if(--_6c5==0&&_6c2){_6c2.call(_6c3);}};while(_6c4<_6c1.length){var func=_6c1[_6c4++];if(typeof func=="function"){func.call(_6c3,_6c6);}else{if(_6c3&&typeof _6c3[func]=="function"){_6c3[func](_6c6);}else{throw new Error("mendix.lang.collect: #"+_6c4+" is not a function");}}}_6c6();}else{throw new Error("mendix.lang.collect: collection is not an array");}};_6ac.tryActions=function(_6c7,_6c8,_6c9){_6c8=_6c8||function(e){_6a8.error(e);throw (e);};var _6ca=function(e){_6c8(e);_6c9&&_6c9();};var _6cb=function(_6cc,_6cd){_6cc&&_6cc();if(_6c7.length!=0){try{_6c7.shift()(_6cb,_6ca);}catch(e){_6ca(e);}}else{_6c9&&_6c9();}};_6cb();};_6ac.find=function(_6ce,test){for(var i=0;i<_6ce.length;i++){if(test(_6ce[i],i)){return _6ce[i];}}return undefined;};_6ac.findIndex=function(_6cf,test){for(var i=0;i<_6cf.length;i++){if(test(_6cf[i],i)){return i;}}return -1;};_6ac.objectToArray=function(obj){var arr=[];for(var i in obj){arr.push(i);}return (arr);};_6ac.arrayToObject=function(arr){var obj={};for(var i=0;i<arr.length;i++){obj[arr[i]]=arr[i];}return (obj);};_6ac.thread=function(func,_6d0){return setTimeout(_6ab.hitch(_6d0,func),1);};_6ac.delay=function(func,_6d1,_6d2){return setTimeout(function(){(_6d1())?func():setTimeout(arguments.callee,_6d2);},(_6d2||500));};_6ac.runOrDelay=function(func,_6d3,_6d4){if(!_6d4){_6d4=500;}if(_6d3()){return func();}else{return setTimeout(function(){if(_6d3()){func();}else{setTimeout(arguments.callee,_6d4);}},_6d4);}};_6ac.waitUntilPredicateHolds=function(_6d5,_6d6,_6d7){if(_6d7.length===0||_6d5()){_6d6();return;}var _6d8=_6d7.shift();setTimeout(function(){_6ac.waitUntilPredicateHolds(_6d5,_6d6,_6d7);},_6d8);};_6ac.arraySubtract=function(x,y){for(var i=0;i<y.length;i++){for(var j=x.length-1;0<=j;j--){if(x[j].toString()==y[i].toString()){x.splice(j,1);}}}return x;};_6ac.objectIsEmpty=function(obj){for(var i in obj){return false;}return true;};_6ac.firstKey=function(obj){for(var key in obj){return key;}return null;};_6ac.itemCount=function(obj){var _6d9=0;for(var i in obj){_6d9++;}return _6d9;};_6ac.inArray=function(arr,_6da){var _6db=false;for(var i=0;i<arr.length;i++){if(arr[i]==_6da){_6db=true;}}return _6db;};_6ac.trim=function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");};_6ac.capitalize=function(str){return str.length>0?str[0].toUpperCase()+str.slice(1):"";};_6ac.getUniqueId=function(){var _6dc=0;_6ac.getUniqueId=function(){return (+new Date)+"-"+_6dc++;};return _6ac.getUniqueId();};_6ac.override=function(dest){var src,key,val;if(!dest){dest={};}for(var i=1;i<arguments.length;++i){src=arguments[i];if(!src){continue;}for(key in src){val=src[key];if(val!==undefined){dest[key]=val;}}}return dest;};_6ac.numberTooBig=function(_6dd){if(typeof _6dd!="number"){_6dd=Number(_6dd);}return _6dd>9007199254740992||_6dd<-9007199254740992;};_6ac.getFileError=function(doc,name){var _6de=null,area,json;area=doc.getElementsByTagName("textarea")[0];if(area){json=_6aa.fromJson(area.value);if(json.type&&json.type==="exception"){_6de=new _6a7(json.description);_6a8.error((name?(name+": "):"")+_6de.message);_6de._type="exception";}}return _6de;};_6ac.deprecate=function(){var args=arguments,_6df=args[0],_6e0=_6ab.getObject(_6df,true),_6e1=args[args.length-1];if(args.length<4){if(typeof args[1]=="object"){var _6e2=args[1];for(var _6e3 in _6e2){wrap(_6e0,_6df,_6e3,_6e0,_6df,_6e2[_6e3],_6e1);}}else{var _6e4=args[1],_6e5=_6ab.getObject(_6e4);for(var _6e3 in _6e5){wrap(_6e0,_6df,_6e3,_6e5,_6e4,_6e3,_6e1);}}}else{var _6e6=args[1],_6e4=args[2],_6e5=_6ab.getObject(_6e4),_6e7=args[3];wrap(_6e0,_6df,_6e6,_6e5,_6e4,_6e7,_6e1);}};});},"mendix/lib/DescribedServerError":function(){define(["mendix/lib/ServerError","dojo/_base/declare"],function(_6e8,_6e9){return _6e9(_6e8,{});});},"mendix/lib/ServerError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_6ea,_6eb){return _6eb(_6ea,{});});},"mendix/lib/Error":function(){define(["dojo/_base/declare"],function(_6ec){return _6ec(window.Error,{constructor:function(_6ed,_6ee){this.message=_6ed;this.original=_6ee;}});});},"mendix/logger":function(){define(["dojo/_base/config","dojo/_base/lang"],function(_6ef,_6f0){var _6f1={},ALL=_6f1.ALL=0,_6f2=_6f1.DEBUG=1,INFO=_6f1.INFO=2,WARN=_6f1.WARN=3,_6f3=_6f1.ERROR=4;if(_6ef.isDebug){var _6f4=WARN,_6f5=null;var _6f6=function(str,lvl){if(lvl>=_6f4||lvl==_6f3){return (_6f5==null||lvl==_6f3)?true:(str.match(_6f5)!=null);}else{return false;}};return _6f0.mixin(_6f1,{level:function(lvl){_6f4=lvl;},filter:function(_6f7){if(typeof _6f7=="object"){_6f7=_6f7.id||_6f7.name;}_6f5=new RegExp(_6f7);},error:function(str){if(_6f6(str,_6f3)){console.error.apply(console,arguments);}},debug:function(str){if(_6f6(str,_6f2)){console.debug.apply(console,arguments);}},info:function(str){if(_6f6(str,INFO)){console.info.apply(console,arguments);}},warn:function(str){if(_6f6(str,WARN)){console.warn.apply(console,arguments);}},exception:function(str){console.error.apply(console,arguments);},scream:function(str){console.error.apply(console,arguments);}});}else{var nop=function(){},_6f8=_6f0.hitch(console,"error");return _6f0.mixin(_6f1,{level:nop,filter:nop,error:nop,debug:nop,info:nop,warn:nop,exception:_6f8,scream:_6f8});}});},"mendix/ov":function(){define(["mendix/lib/ObjectValidation","mendix/logger","dojo/_base/array","dojo/_base/json","exports"],function(_6f9,_6fa,_6fb,_6fc,_6fd){var _6fe=function(_6ff){if(typeof _6ff.datavalidation=="string"){_6fa.error("Server message error : validations included as type String instead of Array, compensating via eval");_6ff.datavalidation=_6fc.fromJson(_6ff.datavalidation);}return _6ff.datavalidation;};_6fd.getGuid=function(msg){return (msg instanceof _6f9)?msg.getGuid():msg.guid;};_6fd.getValidationByGUID=function(_700,g){var raw=_6fe(_700)||_700;var vobj=null;_6fb.forEach(raw,function(msg){var guid=_6fd.getGuid(msg);if(guid==g){if(vobj){vobj._addFields(msg);}else{vobj=new _6f9({msg:msg});}}});return vobj;};_6fd.hasValidations=function(_701){return (_701.datavalidation!=null);};_6fd.getValidations=function(_702){var _703=[];var map={};var raw=_6fe(_702)||_702;if(raw){_6fb.forEach(raw,function(msg){var guid=_6fd.getGuid(msg);if(!map[guid]){map[guid]=new _6f9({msg:msg});_703.push(map[guid]);}else{map[guid]._addFields(msg);}});}map=null;return _703;};_6fd.getValidation=function(msg){return new _6f9(msg);};});},"mendix/lib/ObjectValidation":function(){define(["mendix/ov","dojo/_base/lang"],function(ov,_704){function _705(_706){var _707=_706.msg;var _708={};this.getGuid=function(){return ov.getGuid(_707);};this.getFields=this.getAttributes=function(){var _709=[];for(var i in _708){_709.push({name:i,reason:_708[i]});}return _709;};this.addField=this.addAttribute=function(attr,_70a){if(_708[attr]!=undefined){return false;}else{_708[attr]=_70a;}};this._addFields=function(msg){var _70b=msg.errorFields;if((this.getGuid()==this.constructor.getGuid(msg))&&_70b){for(var i=0;i<_70b.length;i++){_708[_70b[i].name]=_70b[i].message;}}};this.removeField=this.removeAttribute=function(attr){if(_708[attr]!=undefined){delete _708[attr];return true;}else{return false;}};this.getErrorReason=this.getReasonByAttribute=function(attr){return (_708[attr]);};this.clone=function(){var s=new _705({msg:_704.clone(_707)});for(var i in _708){s.addField(i,_708[i]);}return s;};this.toString=function(){var _70c="";var _70d="";for(var i in _708){_70c=_70c+""+i+" "+_708[i]+_70d;_70d="; ";}return _70c;};this._addFields(_707);};_705.getGuid=function(msg){return ov.getGuid(msg);};return _705;});},"mendix/lib/MxObject":function(){define(["mendix/lang","mendix/logger","dojo/_base/json","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(lang,_70e,_70f,_710,_711,_712){var _713=_712(null,{constructor:function(_714){this.id="mendix.lib.MxObject";this.jsonData=_714?_714.json:false;this.metaData=_714?_714.meta:false;this._changeData={};this._backup=null;this._references=null;if(this.jsonData&&this.metaData){this._guid=this.jsonData.guid;this._classname=this.jsonData.objectType;this.id+="("+this._classname+":"+this._guid+")";}if(!this._classname){var _715=this.jsonData&&this.jsonData.objectType;_70e.error(this.id+".create: Invalid Mendix object. Check entity access"+(_715?" for entity "+_715:"")+".");this._guid=0;this._classname="";this.jsonData=null;}if(!this._guid){this._guid="0";this.save=this.commit=this.rollback=function(){};}},attachReferences:function(_716){if(_716&&_716.length>0){this._references={};_710.forEach(_716,function(_717){this._references[_717.getGuid()]=_717;},this);}},resetFromJSON:function(json){this.jsonData=json;this._changeData={};this._guid=this.jsonData?this.jsonData["guid"]:0;this._backup=null;},getGuid:function(){return (this._guid);},hasChanges:function(){return !lang.objectIsEmpty(this._changeData);},_collectChanges:function(){return _711.mixin({},this._changeData);},set:function(attr,_718){return this._setContent(attr,_718);},_setContent:function(attr,_719){if(!(typeof (attr)=="string")){var _71a=this.id+"._setContent : parameter attr ("+attr+") is not of type String.";_70e.error(_71a);throw new Error(_71a);}try{if(this.metaData.has(attr)){var _71b=this.get(attr);if(_71b==null&&_719==""){return false;}if(this.isNumber(attr)||this.isCurrency(attr)){if(lang.numberTooBig(_719)){var msg;if(window.mx.ui&&window.mx.ui.translate){msg=window.mx.ui.translate("mendix.lib.Validations","number_too_big");}else{msg="Invalid number: number too big";}window.mx.data.addValidation(this._guid,attr,msg);return;}}else{if(this.isEnum(attr)){}else{if(this.isDate(attr)){var _71c=this.isLocalizedDate(attr);if(_719!==""){if(_71c){_719=Number(_719);}else{_719=window.mx.parser.delocalizeEpoch(_719);}}}else{if(this.isPassword(attr)){_719=_719.replace(/[\s\t]+$/,"").replace(/^[\s\t]+/,"");}else{if(this.isBoolean(attr)){_719=!!_719;}else{if(_711.isArray(_719)&&this.isObjectReference(attr)){throw new Error("mendix.lib.MxObject._setContent : trying to set single object reference to multiple values");}else{if(!_711.isArray(_719)&&this.isObjectReferenceSet(attr)){throw new Error("mendix.lib.MxObject._setContent : trying to set object reference set to single value");}}}}}}}if(_719!==_71b){return (this._makeChange(attr,_719));}}else{return (false);}}catch(e){throw new Error("mendix.lib.MxObject._setContent caught : "+e);}},isReadonlyAttr:function(attr){if(this.has(attr)){var node=this._getAttributeNode(attr);return !!node.readonly;}else{if(this.metaData.has(attr)){return false;}else{return true;}}},fetch:function(path,_71d){var self=this,obj=this,_71e=null,_71f;if(!path){_71f=[];}else{if(path instanceof Array){_71f=path.slice();}else{_71f=path.split("/");}}if(this.isA(_71f[0])){_71f.shift();}if(typeof _71d!="function"){throw new Error(self.id+".fetch : callback is not a function");}var _720=function(){if(_71f.length===0){_71d(obj);}else{if(_71f.length==1){if(_71e){window.mx.data.release(_71e);}_71d(obj.get(_71f[0]));}else{if(_71e){window.mx.data.release(_71e);}var ref=_71f.shift(),_721=false,_722,type;if(obj.isObjectReference(ref)){var _723=obj.get(ref);if(_723===""){_71d(null);return;}if(typeof _723=="object"){_722=[_723.guid];}else{_722=[_723];}}else{if(obj.isObjectReferenceSet(ref)){if(_71f.length==1){_721=true;var _724=obj.get(ref);if(_724.length===0){_71d(null);return;}if(typeof _722[0]=="object"){_722=[];while(_724.length>0){_722.push(_724.shift().guid);}}else{_722=_724;}}else{throw new Error(self.id+".fetch : "+obj+" reference set should be last reference in path");}}else{return _71d(null);}}type=_71f.shift();if(!type){throw new Error(self.id+".fetch : no type specified");}if(_722){window.mx.data.get({guids:_722,callback:function(objs){if(_721){if(objs.length===0||objs[0].isA(type)){_71d(objs);}else{_71d(null);}}else{_71e=obj=objs[0];if(objs.length>1){window.mx.data.release(objs.slice(1));}if(obj){if(obj.isA(type)){_720();}else{_71d(null);}}else{_71d(null);}}},error:function(e){throw new Error(self.id+".fetch : could not get objects with GUIDs "+_722);}});}else{throw new Error(self.id+".fetch : "+obj+"'s '"+ref+"' attribute is empty");}}}};_720();},get:function(attr){if(!(typeof (attr)=="string")){var e=this.id+".get : parameter attr "+attr+" is not of type String";_70e.error(e);throw new Error(e);}if(this.has(attr)||this.metaData.has(attr)){var _725=(this._changeData[attr]!=null)?this._changeData[attr]:this._getAttributeValue(attr);if(this.isDate(attr)){var _726=this.isLocalizedDate(attr);if(_725===""||_725==null){_725="";}else{_725=_726?Number(_725):window.mx.parser.localizeEpoch(_725);}}else{if(this.isBoolean(attr)){if(typeof _725=="string"&&_725!=""){_725=_725.match(/true/)!=null;}}}return (typeof _725=="object")?_711.clone(_725):_725;}else{return null;}},has:function(attr){if(!(typeof (attr)=="string")){var e=this.id+".has : parameter attr "+attr+" is not of type String.";_70e.error(e);throw new Error(e);}return (this.jsonData!=null&&(attr in this.jsonData.attributes));},getReferences:function(attr){if(!(typeof (attr)=="string")){var e=this.id+".getReferences : parameter attr "+attr+" is not of type String.";_70e.error(e);throw new Error(e);}var refs=[];if(this.has(attr)){if(this.isReference(attr)){if(this._hasChildren(attr)&&this._changeData[attr]==null){var _727=this.getChildren(attr);var _728=[];for(var i=0;i<_727.length;i++){_728.push(_727[i].getGuid());}refs=_728;}else{refs=this.get(attr);}if(refs==""){refs=[];}else{if(typeof (refs)=="string"||typeof (refs)=="number"){refs=[refs];}else{if((typeof (refs)=="object")&&(refs.length==null)){refs=lang.objectToArray(refs);}}}}else{var e=this.id+".getReferences: attribute "+attr+" is not an ObjectReference(Set).";_70e.error(e);throw new Error(e);}}else{}return refs;},getReference:function(attr){if(!(typeof (attr)=="string")){var e=this.id+".getReference : parameter attr is not of type String.";_70e.error(e);throw new Error(e);}if(this.has(attr)){if(!this.metaData.isObjectReference(attr)){var e=this.id+".getReference: attribute "+attr+" is not an ObjectReference.";_70e.exception(e);throw new Error(e);}}else{return null;}if(this._hasChildren(attr)){return (this.getChild(attr)).getGuid();}else{return (this.get(attr));}},isEnum:function(attr){return this.metaData.isEnum(attr);},isNumber:function(attr){return this.metaData.isNumber(attr);},isCurrency:function(attr){return this.metaData.isCurrency(attr);},isPassword:function(attr){return this.metaData.isPassword(attr);},isDate:function(attr){return this.metaData.isDate(attr);},isLocalizedDate:function(attr){return this.metaData.isLocalizedDate(attr);},isBoolean:function(attr){return this.metaData.isBoolean(attr);},isReference:function(attr){return this.metaData.isReference(attr);},isObjectReference:function(attr){return this.metaData.isObjectReference(attr);},isObjectReferenceSet:function(attr){return this.metaData.isObjectReferenceSet(attr);},getOptions:function(attr){return this.metaData.getOptions(attr);},getEnumKeys:function(attr,_729){return this.metaData.getEnumKeys(attr,_729);},getEnumMap:function(attr){return this.metaData.getEnumMap(attr);},getEnumKVPairs:function(attr){return this.metaData.getEnumKVPairs(attr);},getEnumValue:function(attr){return this.metaData.getEnumValue(attr,this.get(attr));},getEnumCaption:function(attr){return this.metaData.getEnumCaption(attr,this.get(attr));},hasChildren:function(attr){if(!(typeof (attr)=="string")){var _72a=this.id+".hasChildren : parameter attr ("+attr+") is not of type String.";_70e.error(_72a);throw new Error(_72a);}return (this.isReference(attr)&&this._hasChildren(attr));},getChildren:function(attr){if(!(typeof (attr)=="string")){var _72b=this.id+".getChildren : parameter attr ("+attr+") is not of type String.";_70e.error(_72b);throw new Error(_72b);}var refs=[];var objs=null;if(this.has(attr)){if(this.isReference(attr)){if(this._hasChildren(attr)){objs=this.get(attr);if(this.isObjectReference(attr)){if(this._references&&this._references[objs]){var _72c=this._references[objs];_72c._references=this._references;refs.push(_72c);}else{refs.push(window.mx.data.jsonToMxObject(objs));}}else{for(var i in objs){if(this._references&&this._references[objs]){var _72c=this._references[i];_72c._references=this._references;refs.push(_72c);}else{refs.push(window.mx.data.jsonToMxObject(objs[i]));}}}}else{}}else{var e=this.id+".getChildren: attribute "+attr+" is not an ObjectReference(Set).";_70e.exception(e);throw new Error(e);}}else{}return refs;},getChild:function(attr){if(!(typeof (attr)=="string")){var e=this.id+".getChild : parameter attr("+attr+") is not of type String.";_70e.error(e);throw new Error(e);}if(this.has(attr)&&this.isObjectReference(attr)){var _72d=this.get(attr);if(this._references&&this._references[_72d]){var _72e=this._references[_72d];_72e._references=this._references;return _72e;}else{if(typeof _72d=="object"){return new _713({json:_72d,meta:window.mx.meta.getEntity(_72d.objectType)});}else{return null;}}}},removeReferences:function(attr,_72f){if(!(typeof (attr)=="string")){var e=this.id+".removeReference : parameter attr is not of type String.";_70e.error(e);throw new Error(e);}else{if(this.has(attr)){if(!this.isReference(attr)){var e=this.id+".removeReference : attempt to remove Reference from non-Reference attribute : "+attr;_70e.exception(e);throw new Error(e);}}else{return false;}}if(!(_711.isArray(_72f))){_72f=[_72f];}try{if(!this._hasChildren(attr)){if(this.isObjectReference(attr)){this._setContent(attr,"");}else{this._setContent(attr,lang.arraySubtract(this.getReferences(attr),_72f));}}else{if(this.isObjectReference(attr)){this._setContent(attr,"");}else{for(var i=0;i<_72f.length;i++){delete this.jsonData.attributes[attr].value[_72f[i]];}var val=lang.arraySubtract(this.getReferences(attr),_72f);return this._makeChange(attr,val);}}}catch(e){_70e.error(this.id+".removeReference caught : "+e);return false;}},addReference:function(attr,guid){if(!(typeof (attr)=="string")){var e=this.id+".addReference : parameter attr is not of type String.";_70e.error(e);throw new Error(e);}else{if(!guid){var e=this.id+".addReference : parameter guid is not set.";_70e.error(e);throw new Error(e);}else{if(this.has(attr)){if(!this.isReference(attr)){var e=this.id+".addReference : attempt to add Reference to non-Reference attribute : "+attr;_70e.exception(e);throw new Error(e);}}else{return false;}}}try{if(this.isObjectReference(attr)){this._setContent(attr,guid);}else{var _730=this.getReferences(attr);var _731=_730.join(";");if(!(_731.match(guid))){_730.push(guid);this._setContent(attr,_730);}}}catch(e){return false;}},addReferences:function(attr,_732){for(var i=0;i<_732.length;i++){var guid=_732[i];if(guid!=0&&!isNaN(guid)){this.addReference(attr,guid);}}},getReferenceAttributes:function(){return this.metaData.getReferenceAttributes();},getAttributes:function(){return this.metaData.getAttributes();},getPrimitives:function(){return this.metaData.getAttributesWithoutReferences();},getAttributeType:function(attr){return this.metaData.getAttributeType(attr);},getSelectorEntity:function(attr){return this.metaData.getSelectorEntity(attr);},getEntity:function(){return (this.jsonData&&this.jsonData["objectType"]);},isA:function(_733){return this.metaData.isA(_733);},hasSuperEntities:function(){return this.metaData.hasSuperEntities();},getSuperEntities:function(){return this.metaData.getSuperEntities();},hasSubEntities:function(){return this.metaData.hasSubEntities();},getSubEntities:function(){return this.metaData.getSubEntities();},reset:function(){this._changeData=this._backup!=null?this._backup:{};},inheritsFrom:function(_734){return this.metaData.inheritsFrom(_734);},compare:function(_735){if(_735.getEntity()!=this.getEntity()){return false;}var _736=this.getAttributesWithoutReferences();for(var i=0,attr;attr=_736[i];i++){if(this.get(attr)!=_735.get(attr)){return false;}}var refs=this.getReferenceAttributes();for(var i=0,ref;ref=refs[i];i++){if((ref=="System.changedBy")||(ref=="System.owner")){continue;}var _737=_735.getReferences(ref);var _738=this.getReferences(ref);var _739=_738.join(",");for(var j=0,id;id=_737[j];j++){if(!_739.match(id)){return false;}}}return true;},toString:function(){return this.getGuid();},dump:function(){return _70f.toJson(this.jsonData).replace(/}/g,"}\n");},dumpAttribute:function(attr){return String(this._getAttributeValue(attr));},clean:function(){},_hasChildren:function(attr){if(this._changeData[attr]){return false;}var _73a=this._getAttributeValue(attr);if(this._references&&this._references[_73a]){return true;}return (_73a&&(typeof _73a=="object")&&(_73a.length==null));},_getAttributeValue:function(attr){var val=this.jsonData.attributes[attr];if(val===undefined){val=null;}return (val&&(typeof val=="object")&&("value" in val))?val.value:val;},_setAttributeValue:function(attr,_73b){var val=this.jsonData.attributes[attr];if(_73b===undefined){_73b=null;}if(val&&(typeof (val)=="object")&&"value" in val){val.value=_73b;}else{this.jsonData.attributes[attr]=_73b;}},_getAttributeNode:function(attr){return (this.jsonData.attributes[attr]);},_testArgs:function(_73c,args){for(var i=0;i<_73c.length;i++){}},_makeChange:function(attr,_73d){this._changeData[attr]=_73d;window.mx.data.makeChange(this,attr,_73d);return true;},_applyChangeSet:function(){for(var attr in this._changeData){this._setAttributeValue(attr,this._changeData[attr]);}this._backup=this._changeData;this._changeData={};},_commitChangeSet:function(){this._backup=null;}});return _713;});},"mendix/lib/MxMetaObject":function(){define(["dojo/_base/json"],function(_73e){function _73f(_740){var _741=_740.json?_740.json:false,_742=_741?_741.guid:"0";var _743=function(attr){return (_741.attributes[attr]);};this.getGuid=function(){return (_742);};this.has=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.has: parameter attr is not of type String.");}return (_741.attributes[attr]!=null);};this.isEnum=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isEnum : parameter attr is not of type String.");}var _744=this.getAttributeType(attr);return ((_744=="Enum")||(_744=="EnumSet"));};this.isNumber=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isNumber : parameter attr is not of type String.");}var _745=this.getAttributeType(attr);return /Integer|Float|Long|AutoNumber/.test(_745);};this.isPassword=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isDate : parameter attr is not of type String.");}var _746=this.getAttributeType(attr);return (_746=="HashString");};this.isCurrency=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isCurrency : parameter attr is not of type String.");}return (this.getAttributeType(attr)=="Currency");};this.isDate=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isDate : parameter attr is not of type String.");}var _747=this.getAttributeType(attr);return ((_747=="Date")||(_747=="DateTime"));};this.isLocalizedDate=function(attr){if(this.isDate(attr)){return /true/.test(_743(attr)["localize"]);}else{return null;}};this.isBoolean=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isBoolean : parameter attr is not of type String.");}var _748=this.getAttributeType(attr);return (_748=="Boolean");};this.isReference=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isReference : parameter attr is not of type String.");}var _749=this.getAttributeType(attr);return (!((_749!="ObjectReference")&&(_749!="ObjectReferenceSet")));};this.isObjectReference=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isObjectReference : parameter attr is not of type String.");}return (this.getAttributeType(attr)=="ObjectReference");};this.isObjectReferenceSet=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.isObjectReferenceSet : parameter attr is not of type String.");}return (this.getAttributeType(attr)=="ObjectReferenceSet");};this.getOptions=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.getOptions : parameter attr is not of type String.");}else{if(!(this.isEnum(attr))){throw new Error("mendix.lib.MxMetaObject.getOptions : attribute '"+attr+"' is not an Enumeration.");}}try{var opts=false;if(_743(attr)){var arr=_743(attr)["options"];if(arr&&arr.length){opts=[];for(var i=0;i<arr.length;i++){for(var j in arr[i]){opts.push(arr[i][j]);}}}return opts;}}catch(e){return false;}};this.getEnumKeys=function(attr,_74a){if(!this.isEnum(attr)){}var arr=_743(attr)["options"];var hash={};var ret=[];if(typeof (_74a)=="string"){_74a=_74a.split(/,/);}for(var i=0;i<arr.length;i++){for(var j in arr[i]){hash[j]=arr[i][j];}}for(var i in hash){for(var j=0;j<_74a.length;j++){if(_74a[j]==hash[i]){ret.push(i);}}}return (ret.join(","));};this.getEnumMap=function(attr){if(!this.isEnum(attr)){return null;}var map=[];var arr=_743(attr)["options"];for(var i=0;i<arr.length;i++){for(var j in arr[i]){map.push({key:j,caption:arr[i][j]});break;}}return map;};this.getEnumKVPairs=function(attr){if(!this.isEnum(attr)){return null;}var map={};var arr=_743(attr)["options"];for(var i=0;i<arr.length;i++){for(var j in arr[i]){map[j]=arr[i][j];}}return map;};this.getEnumValue=function(attr,_74b){return _74b;};this.getEnumCaption=function(attr,_74c){if(!this.isEnum(attr)){return null;}var arr=_743(attr)["options"];for(var i=0;i<arr.length;i++){var item=arr[i];for(var key in item){if(key==_74c){return item[key];}}}return _74c;};this.getReferenceAttributes=function(){var refs=[];for(var i in _741.attributes){if(this.isReference(i)){refs.push(i);}}return refs;};this.getAttributes=function(){var _74d=[];for(var i in _741.attributes){_74d.push(i);}return (_74d);};this.getAttributesWithoutReferences=function(){var _74e=[];for(var i in _741.attributes){if(!this.isReference(i)){_74e.push(i);}}return _74e;};this.getAttributeType=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.getAttributeType : parameter attr is not of type String.");}if(this.has(attr)){return (_743(attr)["type"]);}else{return false;}};this.getSelectorEntity=function(attr){if(!(typeof (attr)=="string")){throw new Error("mendix.lib.MxMetaObject.getSelectorEntity : parameter attr is not of type String.");}if(this.has(attr)){return _743(attr)["klass"];}else{return false;}};this.getEntity=function(){return (_741["objectType"]);};this.isA=function(_74f){if(this.getEntity()==_74f){return true;}return this.inheritsFrom(_74f);};this.hasSuperEntities=function(){return (_741.properties["superclasses"].length!=0);};this.getSuperEntities=function(){var _750=_741.properties["superclasses"];if(typeof (_750)=="string"){return ([_750]);}else{return _750;}};this.hasSubEntities=function(){return (_741.properties["subclasses"].length!=0);};this.getSubEntities=function(){var subs=_741.properties["subclasses"];return (typeof (subs)=="string")?[subs]:subs;};this.serialize=function(){alert("mxobject.serialize : XXX");return (_73e.toJson(_741,true));};this.dump=function(){return _73e.toJson(_741).replace(/}/g,"}\n");};this.dumpAttribute=function(attr){return _741.attributes[attr].toSource();};this.inheritsFrom=function(_751){var _752=this.getSuperEntities()||[];for(var i=0,_753;_753=_752[i];i++){if(_751==_753){return true;}var _754=window.mx.meta.getEntity("System.User");if(_754.inheritsFrom(_751)){return true;}}return false;};};return _73f;});},"mendix/lib/MxContext":function(){define(["mendix/lib/MxObject","mendix/logger","dojo/_base/array","dojo/_base/json","dojo/_base/declare"],function(_755,_756,_757,_758,_759){var _75a=_759(null,{constructor:function(_75b){return function(_75c){this.id=this.ident=++_75b;this._app_flow_id="";this.trackId="";this.trackClass="";this.trackObject=null;this.localParams={};this.constraintby=[];this._contextStore={};this.saveStore={localParams:{},contexts:{}};if(_75c){if(_75c.mxcontext){this.dupFrom(_75c.mxcontext);}if(_75c.classname&&_75c.mendixguid){this.setContext(_75c.classname,_75c.mendixguid);}else{if(_75c.entity&&_75c.guid){this.setContext(_75c.entity,_75c.guid);}}}};}(0),hasTrackEntity:function(){return this.trackClass!="";},hasTrackId:function(){return !!this.trackId;},hasTrackObject:function(){return !!this.trackObject;},getTrackEntity:function(){return this.trackClass;},getTrackId:function(){return this.trackId;},getTrackObject:function(){return this.trackObject;},setTrackEntity:function(_75d){this.trackClass=_75d;},setTrackId:function(guid){this.trackId=guid;this.trackObject=null;},setTrackObject:function(obj){if(obj){this.setContext(obj.getEntity(),obj.getGuid());}this.trackObject=obj;},setObject:function(obj,_75e,guid){if(obj){this.setContext(obj.getEntity(),obj.getGuid());}else{this.trackId=guid||"";if(_75e){this.trackClass=_75e;}}this.trackObject=obj;},getObject:function(){return this.trackObject;},setConstraints:function(_75f){if(!(_75f==null||_75f==""||_75f.length==0)){if(typeof _75f=="string"){this.constraintby=_75f.split(",");}else{this.constraintby=_75f;}}},getConstraints:function(){var t=[];for(var i=0;i<this.constraintby.length;i++){t.push(this.constraintby[i]);}return t;},hasBacktrack:function(){return this.constraintby.length!=0;},getContexts:function(){var c=[];for(var i in this._contextStore){if(typeof i!="undefined"&&this._contextStore[i]!=""){c.push(i);}}return c;},setContext:function(_760,guid){if((arguments.length==1)&&(arguments[0] instanceof _755)){var _761=arguments[0];_760=_761.getEntity(),guid=_761.getGuid();}if(typeof _760!="string"){throw new Error("mendix.lib.MxContext.setContext: parameter className is not of type String");}else{if(String(guid).match(/^[0-9]+$/)==null){}}if(guid==null){guid="";}if(this._contextStore[_760]!=null){}else{}this.setTrackId(guid);this.setTrackEntity(_760);this._contextStore[_760]=guid;},unsetContext:function(_762){if(typeof _762!="string"){throw new Error("mendix.lib.MxContext.unsetContext: parameter className is not of type String");}if(this._contextStore[_762]!=null){}else{}delete this._contextStore[_762];},getContext:function(_763){if(typeof _763!="string"){throw new Error("mendix.lib.MxContext.getContext: parameter className is not of type String");}if(_763 in this._contextStore){return this._contextStore[_763];}var meta=window.mx.meta.getEntity(_763),_764=null;_757.some(meta.getSubEntities(),function(_765){if(_765 in this._contextStore){_764=this._contextStore[_765];return true;}},this);return _764;},hasContext:function(_766){if(typeof _766!="string"){throw new Error("mendix.lib.MxContext.hasContext: parameter className is not of type String");}return this.getContext(_766)!=null;},reset:function(){this._contextStore={};this.trackId=null;this.trackClass="";this.trackObject=null;},dupFrom:function(_767){this.reset();this.mixin(_767);},mixin:function(_768){if(_768){var _769=_768.getContexts();for(var i=0,c;c=_769[i];i++){this.setContext(c,_768.getContext(c));}this.setParams(_768.getParams());this.setConstraints(_768.getConstraints());this.setContext(_768.getTrackEntity(),_768.getTrackId());this.setTrackObject(_768.getTrackObject());}else{var _76a=this.getTrackEntity();if(_76a){this.unsetContext(_76a);}this.setTrackId("");this.setTrackEntity("");this.setTrackObject(null);}},save:function(){var _76b=this.saveStore={contexts:{},localParams:{}};for(var i in this._contextStore){_76b.contexts[i]=this._contextStore[i];}for(var i in this.localParams){_76b.localParams[i]=this.localParams[i];}},restore:function(){var _76c=this.saveStore;this._contextStore={};this.localParams={};for(var i in _76c.contexts){this._contextStore[i]=_76c.contexts[i];}for(var i in _76c.localParams){this.localParams[i]=_76c.localParams[i];}},hasParam:function(key){return (key in this.localParams);},getParam:function(key){if(!this.hasParam(key)){return null;}return this.localParams[key];},getParams:function(){return this.localParams;},setParam:function(key,_76d){if(key==null){throw new Error("mendix.lib.MxContext["+this.ident+"].setParam key is null");}this.localParams[key]=_76d;},setParams:function(obj){if(typeof obj!="object"){throw new Error("mendix.lib.MxContext["+this.ident+"].setParams requires an Object.");}for(var i in obj){this.localParams[i]=obj[i];}},unsetParam:function(key){delete this.localParams[key];},resetParams:function(){this.localParams={};},isEmpty:function(){for(var j in this._contextStore){return true;}},getGuidS:function(){var _76e=this.getContexts();var _76f=this.getTrackId();var _770=_76f?[_76f]:[];for(var i=0,l=_76e.length;i<l;i++){var c=_76e[i];if(c!="System.owner"&&c!="System.changedBy"){var guid=this.getContext(c);if(guid!=_76f){_770.push(guid);}}}return _770;},dump:function(){var _771="";var _772=this.getContexts();for(var i=0;i<_772.length;i++){var _773=_772[i];_771+=" "+_773+": "+this.getContext(_773)+";";}return _771;},serialize:function(){return _758.toJson(this._contextStore);},toQuery:function(){var _774=this._contextStore,_775=this.trackId,_776=[];for(var i in _774){var guid=_774[i];if(guid){_776[guid==_775?"unshift":"push"](i+"="+guid);}}return _776.join("&");},freeze:function(){this.setActiveClass=this.setTrackEntity=this.setTrackId=this.setTrackObject=this.setContextFromMxObject=this.setConstraints=this.setBacktrack=this.setContext=this.unsetContext=this.unsetBacktrack=this.reset=this.dupFrom=this.restore=this.setParam=this.setParams=this.unsetParam=this.resetParams=function(){_756.error("mendix.lib.MxContext["+this.ident+"].freeze: context is readonly");return false;};},setAppFlowId:function(_777){this._app_flow_id=_777;},getAppFlowId:function(){return this._app_flow_id;},toString:function(){return this.ident;}});return _75a;});},"mendix/lib/DataSource":function(){define(["mendix/lang","mendix/logger","dojo/_base/array","dojo/_base/declare"],function(lang,_778,_779,_77a){var _77b=_77a(null,{name:"mendix.lib.DataSource",context:null,_pageSize:0,_offset:0,_pageObjs:null,_setsize:0,_holdObjs:null,_schemaId:"",constructor:function(args){this.context=args.context;this._pageSize=args.page||0;this._offset=args.offset||0;this._pageObjs=[];this._holdObjs=[];this._schemaId=args.queryid||"";if(args.load){_778.scream(this.name+".constructor : Do not pass callbacks into a constructor! Stop doing this!");lang.thread(args.load);}},reload:function(_77c){_77c&&_77c();},refresh:function(_77d){_77d&&_77d();},update:function(_77e){_77e&&_77e();},entityUpdate:function(_77f){_77f&&_77f();},isValid:function(_780){_780&&_780(true);},_setSetSize:function(n){this._setsize=n;},_setObjects:function(objs){this._pageObjs=objs;},getSetSize:function(){return this._setsize||0;},getObjects:function(){return this._pageObjs||[];},getPageSize:function(){return this._pageSize;},setPageSize:function(n,_781){this._pageSize=n;if(_781){this.refresh(_781);}},getOffset:function(){return this._offset;},setOffset:function(n,_782){this._offset=n;if(_782){this.refresh(_782);}},first:function(_783){this._offset=0;if(_783){this.refresh(_783);}},last:function(_784){var _785=this.getSetSize();if(this._pageSize>=_785){this._offset=0;}else{this._offset=Math.floor((_785-1)/this._pageSize)*this._pageSize;}if(_784){this.refresh(_784);}},toPage:function(n,_786){var off=(n-1)*this._pageSize;if(off>=0&&off<this.getSetSize()){this._offset=off;}if(_786){this.refresh(_786);}},next:function(_787){if(this.atEnd()){this._offset=this.getSetSize()-this._pageSize;}else{this._offset=this._offset+this._pageSize;}if(_787){this.refresh(_787);}},previous:function(_788){if((this.getSetSize()<this._pageSize)||((this._offset-this._pageSize)<=0)){this._offset=0;}else{this._offset-=this._pageSize;}if(_788){this.refresh(_788);}},getStatusMessage:function(){var st=0,en=0,_789=this.getSetSize();if(_789!=0){st=this._offset+1;en=Math.min(this._offset+this._pageSize,_789);}return window.mx.ui.translate("mxui.lib.MxDataSource","status",[st,en,_789]);},generateExport:function(args){args.callback&&args.callback();},atBeginning:function(){return (this._offset==0);},atEnd:function(){return !this._hasPaging()||(this._offset>=(this.getSetSize()-this._pageSize));},getAttributes:function(attr){return _779.map(this.getObjects(),function(obj){return obj.get(attr);});},getObject:function(guid){var objs=this.getObjects();for(var i=0,obj;obj=objs[i];++i){if(obj.getGuid()==guid){return obj;}}return null;},each:function(func){return _779.map(this.getObjects(),func);},insertMxObjectAtStart:function(obj){var objs=this._pageObjs;objs.unshift(obj);if(this._hasPaging()&&this._pageSize<objs.length){objs.pop();}this._setsize++;},insertMxObjectAtEnd:function(_78a){var objs=this._pageObjs;objs.push(_78a);if(this._hasPaging()!=0&&this._pageSize<objs.length){objs.shift();}this._setsize++;},clean:function(_78b){this._setsize=0;this._offset=0;this._pageObjs=[];_78b&&_78b();},hold:function(objs){if(this._holdObjs.length){this.release();}this._holdObjs=this._holdObjs.concat(objs);},release:function(){window.mx.data.release(this._holdObjs);this._holdObjs=[];},destroy:function(){this.release();},toString:function(){return this.name;},_hasPaging:function(){return this._pageSize!=0;},_pageUpdate:function(_78c){var _78d=this.getOffset(),_78e=this._hasPaging()?this._objs.slice(_78d,_78d+this.getPageSize()):this._objs;this._setObjects(_78e);this._setSetSize(this._objs.length);lang.nullExec(_78c);},size:function(){this.getSetSize.apply(this,arguments);},getSize:function(){this.getSetSize.apply(this,arguments);},getGeneratedXPath:function(){this.getCurrentXPath.apply(this,arguments);}});return _77b;});},"mendix/lib/XPathSourceBase":function(){define(["mendix/lib/DataSource","mendix/logger","dojo/_base/declare"],function(_78f,_790,_791){var _792=_791(_78f,{name:"mendix.lib.XPathSourceBase",_sorting:null,_constraints:"",_staticconstraint:"",_aggData:null,_aggregates:false,_distinct:false,constructor:function(args){this._sorting=args.sortparams||[];this._aggregates=args.aggregates||false;this._attributes=args.attributes||null;this._depth=args.depth||0;this._staticconstraint=args.constraint||"";this._distinct=args.distinct||false;},setConstraints:function(c,_793){this._constraints=c;this.first();if(_793){this.refresh(_793);}},getConstraints:function(){return this._constraints;},getStaticConstraint:function(){return this._staticconstraint;},getFilterOptions:function(){var _794={sort:this._sorting};if(this._hasPaging()){_794.offset=this.getOffset();_794.limit=this.getPageSize();}if(this.attributes){_794.attributes=this.attributes;}if(this._schemaId){_794.id=this._schemaId;}if(this._depth){_794.depth=this._depth;}if(this._distinct){_794.distinct=this._distinct;}return _794;},getSortSettings:function(){return this._sorting;},setSortOptions:function(_795,_796,push){this._offset=0;if(_795==null||_795===""){throw new Error(this.name+".setSortOptions : illegal sorton parameter!");}else{_796=(_796===""||_796==null)?"asc":_796;if(push){this._sortFilter(_795,_796);}else{this._sorting=[[_795,_796]];}}},getAggregates:function(){return this._aggData;},getCurrentXPath:function(){return "";},_sortFilter:function(_797,_798){var _799=false;for(var i=0,e;e=this._sorting[i];++i){if(e[0]==_797){this._sorting[i]=[_797,_798];_799=true;continue;}}if(!_799){this._sorting.push([_797,_798]);}},_setAggregates:function(obj){this._aggData=obj;}});return _792;});},"mendix/lib/XPathSource":function(){define(["mendix/lib/XPathSourceBase","mendix/lang","mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_79a,lang,_79b,_79c,_79d){var _79e=_79d(_79a,{name:"mendix.lib.XPathSource",_entity:"",_xpath:"",_pathConstraint:"",_useContext:false,constructor:function(args){var path=args.path;this._useContext=args.useContext;this._entity=args.entity;if(path){this._pathConstraint="["+path.reverse().join("/")+"=\"[%CurrentObject%]\"]";}},reload:function(_79f){this._xpath="";this._runSafeQuery(_79f);},refresh:function(_7a0){this._runSafeQuery(_7a0);},update:function(_7a1){var _7a2=this._xpath;this._actGetXPath(_79c.hitch(this,function(){if(_7a2==this._xpath){lang.nullExec(_7a1);}else{if(_7a1){this._runQuery(_7a1);}}}));},entityUpdate:function(_7a3){this._runSafeQuery(_7a3);},generateExport:function(args){args.params=_79c.mixin({},args.params,{xpath:this.getCurrentXPath(),sort:this.getSortSettings(),gridid:this._schemaId});window.mx.data.generateExport(args);},getCurrentXPath:function(){return this._xpathString();},isValid:function(_7a4){if(this.context.hasBacktrack()){window.mx.data.getBacktrackConstraints(null,this.context,_79c.hitch(this,function(_7a5,_7a6){_7a4&&_7a4(_7a6);}),function(e){window.mx.onError(e);_7a4&&_7a4(false);});}else{_7a4&&_7a4(true);}},_actGetXPath:function(_7a7){var exec=lang.nullExec;if(this._useContext){window.mx.data.createXPathString({entity:this._entity,context:this.context,callback:_79c.hitch(this,function(_7a8){this._xpath=_7a8;exec(_7a7);}),error:function(e){window.mx.onError(e);_7a7&&_7a7();}});}else{if(this.context&&this.context.hasBacktrack()){window.mx.data.getBacktrackConstraints(null,this.context,_79c.hitch(this,function(_7a9,_7aa){if(_7aa){this._xpath="//"+this._entity+_7a9;}else{this._xpath="";}exec(_7a7);}),function(e){window.mx.onError(e);_7a7&&_7a7();});}else{this._xpath="//"+this._entity;exec(_7a7);}}},_runSafeQuery:function(_7ab){var _7ac=["_runQuery"];if(!this._xpath){_7ac.unshift("_actGetXPath");}lang.sequence(_7ac,_7ab,this);},_runQuery:function(_7ad){var _7ae=this._xpathString();if(_7ae){window.mx.data.get({xpath:this.getCurrentXPath(),filter:this.getFilterOptions(),count:true,aggregates:this._aggregates,callback:function(objs,_7af){this._handleObjects(objs,_7af.count,_7af.aggregates,_7ad);},error:function(e){window.mx.onError(e);_7ad&&_7ad();}},this);}else{this._handleObjects([],0,null,_7ad);}},_handleObjects:function(objs,_7b0,_7b1,_7b2){this._setObjects(objs);this._setSetSize(_7b0);this._setAggregates(_7b1);_7b2&&_7b2();},_xpathString:function(){var _7b3=[this._pathConstraint,this.getStaticConstraint(),this.getConstraints()].join(""),_7b4="";if(this._xpath){var _7b5=this._xpath+_7b3;if(/\[%CurrentObject%\]/.test(_7b5)){var guid=this.context.getTrackId();if(guid){_7b4=window.mx.parser.replaceXPathTokens(_7b5,this.context);}}else{_7b4=_7b5;}}return _7b4;}});return _79e;});},"mendix/lib/SimpleXPathSource":function(){define(["mendix/lib/XPathSourceBase","mendix/lang","mendix/logger","dojo/_base/declare"],function(_7b6,lang,_7b7,_7b8){var _7b9=_7b8(_7b6,{name:"mendix.lib.SimpleXPathSource",_xpath:"",_count:0,constructor:function(args){var path=args.path;this._xpath="//"+args.entity+this.getStaticConstraint();if(path.length){this._xpath+="["+path.reverse().join("/")+"=\"[%CurrentObject%]\"]";}},reload:function(_7ba){this._runQuery(_7ba);},refresh:function(_7bb){this._runQuery(_7bb);},update:function(_7bc){this._runQuery(_7bc);},getCurrentXPath:function(){return this._xpathString();},entityUpdate:function(_7bd){this._runQuery(_7bd);},_runQuery:function(_7be){var _7bf=this._xpathString();if(_7bf){window.mx.data.get({xpath:this.getCurrentXPath(),filter:this.getFilterOptions(),count:true,callback:function(objs,_7c0){this._setObjects(objs);this._setSetSize(_7c0.count);lang.nullExec(_7be);},error:function(e){window.mx.onError(e);lang.nullExec(_7be);}},this);}else{this._setObjects([]);this._setSetSize(0);lang.nullExec(_7be);}},_xpathString:function(){var _7c1=this._xpath+this.getConstraints();if(/\[%CurrentObject%\]/.test(_7c1)){var guid=this.context.getTrackId();if(guid){return _7c1.replace(/\[%CurrentObject%\]/g,this.context.getTrackId());}else{return "";}}else{return _7c1;}}});return _7b9;});},"mendix/lib/EntityPathSource":function(){define(["mendix/lib/DataSource","mendix/logger","dojo/_base/lang","dojo/_base/array","dojo/_base/declare"],function(_7c2,_7c3,_7c4,_7c5,_7c6){var _7c7=_7c6(_7c2,{name:"mendix.lib.EntityPathSource",_pathElements:null,_objs:null,constructor:function(args){this.inherited(arguments);this._pathElements=args.path.split("/");},reload:function(_7c8){this._runQuery(_7c8);},refresh:function(_7c9){this._pageUpdate(_7c9);},entityUpdate:function(_7ca){this._runQuery(_7ca);},generateExport:function(args){var _7cb=_7c5.map(this._objs,function(obj){return obj.getGuid();});args.params=_7c4.mixin({},args.params,{guids:_7cb,gridid:this._schemaId});window.mx.data.generateExport(args);},_runQuery:function(_7cc){this.release();var guid=this.context.getTrackId(this._pathElements[0]);if(guid){window.mx.data.get({guid:guid,path:this._pathElements[1],callback:function(objs){objs=(objs instanceof Array)?objs:[];this._objs=objs;this.hold(objs);this._pageUpdate(_7cc);},error:function(e){window.mx.onError(e);_7cc&&_7cc();}},this);}else{this._objs=[];this._pageUpdate(_7cc);}}});return _7c7;});},"mendix/lib/MicroflowSource":function(){define(["mendix/lib/DataSource","mendix/lang","mendix/logger","dojo/_base/lang","dojo/_base/array","dojo/_base/declare"],function(_7cd,lang,_7ce,_7cf,_7d0,_7d1){var _7d2=_7d1(_7cd,{name:"mendix.lib.MicroflowSource",_microflow:"",_objs:null,constructor:function(args){this.inherited(arguments);this._microflow=args.microflow;},reload:function(_7d3){lang.sequence(["_callMicroflow"],_7d3,this);},refresh:function(_7d4){this._pageUpdate(_7d4);},entityUpdate:function(_7d5){lang.sequence(["_callMicroflow"],_7d5,this);},generateExport:function(args){var _7d6=_7d0.map(this._objs,function(obj){return obj.getGuid();});args.params=_7cf.mixin({},args.params,{guids:_7d6,gridid:this._schemaId});window.mx.data.generateExport(args);},_callMicroflow:function(_7d7){this.release();window.mx.data.get({microflow:this._microflow,context:this.context,callback:function(objs){this._objs=(objs instanceof Array)?objs:[];this.hold(this._objs);this._pageUpdate(_7d7);},error:function(e){window.mx.onError(e);_7d7&&_7d7();}},this);}});return _7d2;});},"mendix/lib/ReferenceSetSource":function(){define(["mendix/lib/XPathSourceBase","mendix/lang","mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_7d8,lang,_7d9,_7da,_7db){var _7dc=_7db(_7d8,{name:"mendix.lib.ReferenceSetSource",_xpath:"",_reference:"",_sourceObject:null,constructor:function(args){this.inherited(arguments);this._xpath="//"+args.entity;this._reference=args.reference;this._selectconstraints="[1=0]";},reload:function(_7dd){this._runQuery(_7dd);},refresh:function(_7de){this._runQuery(_7de);},update:function(_7df){this._runQuery(_7df);},entityUpdate:function(_7e0){this._runQuery(_7e0);},generateExport:function(args){args.params=_7da.mixin({},args.params,{xpath:this.getCurrentXPath(),sort:this.getSortSettings(),gridid:this._schemaId});window.mx.data.generateExport(args);},getCurrentXPath:function(){return this._xpathString()+this._selectconstraints;},setObject:function(obj){this._sourceObject=obj;},_runQuery:function(_7e1){var exec=lang.nullExec;if(this._sourceObject){var refs=this._sourceObject.getReferences(this._reference);if(refs.length>0){var _7e2=[];for(var i=0,guid;guid=refs[i];++i){_7e2.push("id=\""+guid+"\"");}this._selectconstraints="["+_7e2.join(" or ")+"]";window.mx.data.get({xpath:this.getCurrentXPath(),filter:this.getFilterOptions(),count:true,callback:function(objs,_7e3){this._setObjects(objs);this._setSetSize(_7e3.count);exec(_7e1);},error:function(e){window.mx.onError(e);exec(_7e1);}},this);}else{this._selectconstraints="[1=0]";this._setObjects([]);this._setSetSize(0);exec(_7e1);}}else{exec(_7e1);}},_xpathString:function(){return this._xpath+this.getStaticConstraint()+this.getConstraints();}});return _7dc;});},"mendix/lib/DirectObjectSource":function(){define(["mendix/lib/_ObjectSource","dojo/_base/declare"],function(_7e4,_7e5){var _7e6=_7e5(_7e4,{name:"mendix.lib.DirectObjectSource",_path:"",_entity:"",constructor:function(args){this.inherited(arguments);this._path=args.path?args.path.split("/"):[];this._entity=this._path.slice(-1)[0];this._path.shift();},fetch:function(_7e7,_7e8){var self=this;var _7e9=function(obj){if(obj&&obj.isA(self._entity)){_7e7(obj);}else{_7e7(null);}};var _7ea=function(obj){window.mx.data.fetch(obj,self._path,{usexpath:true,schema:self.schema},function(obj,_7eb){if(_7eb){self.hold(obj);}_7e9(obj);},_7e8);};this.release();var guid=this.context.getTrackId();if(guid){if(this.context.hasTrackObject()){_7ea(this.context.getTrackObject());}else{if(this._path.length>0){window.mx.data.get({guid:guid,callback:function(obj){self.hold(obj);_7ea(obj);},error:_7e8});}else{var meta=window.mx.meta.getEntity(this.context.getTrackEntity());if(meta.isA(this._entity)){window.mx.data.get({guid:guid,filter:{id:this.schema},callback:function(obj){self.hold(obj);_7e9(obj);},error:_7e8});}else{this.hold(null);_7e7(null);}}}}else{this.hold(null);_7e7(null);}},getRoot:function(){return this._path.length>0?this._path[0]:"";}});return _7e6;});},"mendix/lib/_ObjectSource":function(){define(["mendix/logger","dojo/_base/declare"],function(_7ec,_7ed){var _7ee=_7ed(null,{name:"mendix.lib._ObjectSource",context:null,schema:"",_holdObj:null,constructor:function(args){this.context=args.context;this.schema=args.schema;},fetch:function(_7ef,_7f0){},getRoot:function(){return "";},hasRoot:function(){return !!this.getRoot();},destroy:function(){this.release();},hold:function(obj){if(this._holdObj){this.release();}this._holdObj=obj;},release:function(){if(this._holdObj){window.mx.data.release([this._holdObj]);}this._holdObj=null;}});return _7ee;});},"mendix/lib/SchemaObjectSource":function(){define(["mendix/lib/_ObjectSource","dojo/_base/declare"],function(_7f1,_7f2){return _7f2(_7f1,{name:"mendix.lib.SchemaObjectSource",fetch:function(_7f3,_7f4){if(this.context.hasTrackId()){window.mx.data.getBySchema({id:this.context.getTrackId(),schema:this.schema,callback:_7f3,error:_7f4});}else{_7f3&&_7f3();}}});});},"mendix/lib/MicroflowObjectSource":function(){define(["mendix/lib/_ObjectSource","mendix/logger","dojo/_base/declare"],function(_7f5,_7f6,_7f7){var _7f8=_7f7(_7f5,{name:"mendix.lib.MicroflowObjectSource",_microflow:"",constructor:function(args){this.inherited(arguments);this._microflow=args.microflow;},fetch:function(_7f9,_7fa){var self=this;this.release();window.mx.data.get({microflow:this._microflow,context:this.context,callback:function(objs){objs=(objs instanceof Array)?objs:[];if(objs.length>1){window.mx.data.release(objs.slice(1));}if(objs.length==1){self.hold(objs[0]);_7f9(objs[0]);}else{_7f9(null);}},error:_7fa});}});return _7f8;});},"mendix/lib/Upload":function(){define(["mxui/io/iframe","mendix/lib/Error","mendix/lang","dojo/_base/lang","dojo/_base/declare"],function(_7fb,_7fc,lang,_7fd,_7fe){var _7ff=_7fe(null,{constructor:function(args){_7fd.mixin(this,args);},upload:function(){if(window.FormData&&window.XMLHttpRequestUpload&&window.FileReader){this._uploadViaFormData();}else{this._uploadViaIFrame();}},_uploadViaFormData:function(){var url=this._determineUrl(),_800=new FormData(),file=this.form.mxdocument.files[0],self=this;_800.append("mxdocument",file);var xhr=new XMLHttpRequest(),_801=function(e){var _802=e.loaded*100/e.total;if(_802===_802){self.showProgress(_802);}};xhr.upload.addEventListener("load",_801,false);xhr.upload.addEventListener("progress",_801,false);xhr.onreadystatechange=function(){if(xhr.readyState==4){self.finishUpload(true);if(xhr.status==200){self.callback&&self.callback();return;}var _803=self._getError(xhr.responseText);self.error&&self.error(_803||undefined);}};this.startUpload(true);xhr.open("post",url,true);xhr.send(_800);},_getError:function(_804){var _805=new DOMParser(),doc,err;if(_804){doc=_805.parseFromString(_804,"text/html");err=lang.getFileError(doc,"mendix.lib.Upload._getError");}else{err=_7fc("mendix.lib.Upload._getError: connection error");}return err;},_determineUrl:function(){var href=window.location.href.match("[^#]*/"),_806=[href+"file?"];_806.push("guid="+this.objectGuid);if(this.maxFileSize){_806.push("maxFileSize="+this.maxFileSize);}_806.push("csrfToken="+window.mx.session.getCSRFToken());if(typeof this.width!=="undefined"&&typeof this.height!=="undefined"){_806.push("width="+this.width);_806.push("height="+this.height);}return _806.join("&");},_uploadViaIFrame:function(){var form=this.form,self=this;form.action=this._determineUrl();this.startUpload(false);_7fb.send({form:form,handleAs:"json",handle:function(_807){try{if(_807 instanceof _7fc){self.error&&self.error(_807);}else{self.callback&&self.callback();}}finally{self.finishUpload(false);}}});}});return _7ff;});},"mxui/io/iframe":function(){define(["dojo","dijit","dojox","dojo/require!dojo/io/iframe"],function(dojo,_808,_809){dojo.provide("mxui.io.iframe");dojo.require("dojo.io.iframe");dojo.mixin(mxui.io.iframe,{name:"mxui.io.iframe",send:function(_80a){var _80b=function(){if(dojo.isIE){return true;}if(dojo.isOpera){return dojo.isOpera<10;}if(dojo.isChrome){if(typeof window.externalHost!=="undefined"){return false;}return dojo.isChrome<16;}return false;};if(_80b()){var _80c=_80a.handle;_80a.handle=function(_80d){window.history.back();var _80e=function(){_80c(_80d);};setTimeout(_80e,50);};}_80a.handleAs="json";var _80f=_80a.handle;delete _80a.handle;var _810=dojo.io.iframe.send.apply(dojo.io.iframe,arguments);_810.addBoth(function(json){if(!dojo.isIE){var _811=dojo.io.iframe._frame;_811.parentNode.removeChild(_811);dojo.io.iframe._frame=null;window.dojoIoIframe=null;}if(json instanceof Error){logger.error(this.name+".send: An error occurred while uploading a file: the server did not respond");_80f&&_80f(new mendix.lib.Error(json.message));}else{if(json.type&&json.type==="exception"){var _812=new mendix.lib.DescribedServerError(json.description);logger.error(this.name+".send: "+_812.message);_812._type="exception";_80f&&_80f(_812);}else{_80f&&_80f();}}});},download:function(_813){var _814=_813.target||"internal",url=_813.url+"&target="+_814;if(_814==="window"||dojo.isChrome&&typeof window.externalHost!=="undefined"){window.open(url,"mendix_file");return;}if(!this._iframe){var _815=this._iframe=document.createElement(mx.ui.isQuirky?"<iframe onload=\"mxui.io.iframe.onload()\">":"iframe");dojo.style(_815,{top:"-10px",height:"1px",position:"absolute",visibility:"hidden"});document.body.appendChild(_815);if(!mx.ui.isQuirky){_815.onload=dojo.hitch(this,"onload");}}this._error=_813.error;this._iframe.contentWindow.location=url;},onload:function(){var _816=this._iframe,_817=this._error,doc=_816.contentDocument||_816.document,err=mendix.lang.getFileError(doc,this.name+".onload");if(err&&_817){_817(err);}delete this._error;}});});},"dojo/io/iframe":function(){define(["../_base/config","../_base/json","../_base/kernel","../_base/lang","../_base/xhr","../sniff","../_base/window","../dom","../dom-construct","../query","require","../aspect","../request/iframe"],function(_818,json,_819,lang,xhr,has,win,dom,_81a,_81b,_81c,_81d,_81e){_819.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");var mid=_81e._iframeName;mid=mid.substring(0,mid.lastIndexOf("_"));var _81f=lang.delegate(_81e,{create:function(){return _81f._frame=_81e.create.apply(_81e,arguments);},get:null,post:null,send:function(args){var rDfd;var dfd=xhr._ioSetArgs(args,function(dfd){rDfd&&rDfd.cancel();},function(dfd){var _820=null,_821=dfd.ioArgs;try{var _822=_821.handleAs;if(_822==="xml"||_822==="html"){_820=rDfd.response.data;}else{_820=rDfd.response.text;if(_822==="json"){_820=json.fromJson(_820);}else{if(_822==="javascript"){_820=_819.eval(_820);}}}}catch(e){_820=e;}return _820;},function(_823,dfd){dfd.ioArgs._hasError=true;return _823;});var _824=dfd.ioArgs;var _825="GET",form=dom.byId(args.form);if(args.method&&args.method.toUpperCase()==="POST"&&form){_825="POST";}var _826={method:_825,handleAs:args.handleAs==="json"||args.handleAs==="javascript"?"text":args.handleAs,form:args.form,query:form?null:args.content,data:form?args.content:null,timeout:args.timeout,ioArgs:_824};if(_826.method){_826.method=_826.method.toUpperCase();}if(_818.ioPublish&&_819.publish&&_824.args.ioPublish!==false){var _827=_81d.after(_81e,"_notifyStart",function(data){if(data.options.ioArgs===_824){_827.remove();xhr._ioNotifyStart(dfd);}},true);}rDfd=_81e(_824.url,_826,true);_824._callNext=rDfd._callNext;rDfd.then(function(){dfd.resolve(dfd);}).otherwise(function(_828){dfd.ioArgs.error=_828;dfd.reject(_828);});return dfd;},_iframeOnload:win.global[mid+"_onload"]});lang.setObject("dojo.io.iframe",_81f);return _81f;});},"dojo/request/iframe":function(){define(["module","require","./watch","./util","./handlers","../_base/lang","../io-query","../query","../has","../dom","../dom-construct","../_base/window","../NodeList-dom"],function(_829,_82a,_82b,util,_82c,lang,_82d,_82e,has,dom,_82f,win){var mid=_829.id.replace(/[\/\.\-]/g,"_"),_830=mid+"_onload";if(!win.global[_830]){win.global[_830]=function(){var dfd=_831._currentDfd;if(!dfd){_831._fireNextRequest();return;}var _832=dfd.response,_833=_832.options,_834=dom.byId(_833.form)||dfd._tmpForm;if(_834){var _835=dfd._contentToClean;for(var i=0;i<_835.length;i++){var key=_835[i];for(var j=0;j<_834.childNodes.length;j++){var _836=_834.childNodes[j];if(_836.name===key){_82f.destroy(_836);break;}}}dfd._originalAction&&_834.setAttribute("action",dfd._originalAction);if(dfd._originalMethod){_834.setAttribute("method",dfd._originalMethod);_834.method=dfd._originalMethod;}if(dfd._originalTarget){_834.setAttribute("target",dfd._originalTarget);_834.target=dfd._originalTarget;}}if(dfd._tmpForm){_82f.destroy(dfd._tmpForm);delete dfd._tmpForm;}dfd._finished=true;};}function _837(name,_838,uri){if(win.global[name]){return win.global[name];}if(win.global.frames[name]){return win.global.frames[name];}if(!uri){if(has("config-useXDomain")&&!has("config-dojoBlankHtmlUrl")){console.warn("dojo/request/iframe: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}uri=(has("config-dojoBlankHtmlUrl")||_82a.toUrl("dojo/resources/blank.html"));}var _839=_82f.place("<iframe id=\""+name+"\" name=\""+name+"\" src=\""+uri+"\" onload=\""+_838+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",win.body());win.global[name]=_839;return _839;};function _83a(_83b,src,_83c){var _83d=win.global.frames[_83b.name];if(_83d.contentWindow){_83d=_83d.contentWindow;}try{if(!_83c){_83d.location=src;}else{_83d.location.replace(src);}}catch(e){}};function doc(_83e){if(_83e.contentDocument){return _83e.contentDocument;}var name=_83e.name;if(name){var _83f=win.doc.getElementsByTagName("iframe");if(_83e.document&&_83f[name].contentWindow&&_83f[name].contentWindow.document){return _83f[name].contentWindow.document;}else{if(win.doc.frames[name]&&win.doc.frames[name].document){return win.doc.frames[name].document;}}}return null;};function _840(){return _82f.create("form",{name:mid+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},win.body());};function _841(){var dfd;try{if(_831._currentDfd||!_831._dfdQueue.length){return;}do{dfd=_831._currentDfd=_831._dfdQueue.shift();}while(dfd&&(dfd.canceled||(dfd.isCanceled&&dfd.isCanceled()))&&_831._dfdQueue.length);if(!dfd||dfd.canceled||(dfd.isCanceled&&dfd.isCanceled())){_831._currentDfd=null;return;}var _842=dfd.response,_843=_842.options,c2c=dfd._contentToClean=[],_844=dom.byId(_843.form),_845=util.notify,data=_843.data||null,_846;if(!dfd._legacy&&_843.method==="POST"&&!_844){_844=dfd._tmpForm=_840();}else{if(_843.method==="GET"&&_844&&_842.url.indexOf("?")>-1){_846=_842.url.slice(_842.url.indexOf("?")+1);data=lang.mixin(_82d.queryToObject(_846),data);}}if(_844){if(!dfd._legacy){var _847=_844;do{_847=_847.parentNode;}while(_847!==win.doc.documentElement);if(!_847){_844.style.position="absolute";_844.style.left="-1000px";_844.style.top="-1000px";win.body().appendChild(_844);}if(!_844.name){_844.name=mid+"_form";}}if(data){var _848=function(name,_849){_82f.create("input",{type:"hidden",name:name,value:_849},_844);c2c.push(name);};for(var x in data){var val=data[x];if(lang.isArray(val)&&val.length>1){for(var i=0;i<val.length;i++){_848(x,val[i]);}}else{if(!_844[x]){_848(x,val);}else{_844[x].value=val;}}}}var _84a=_844.getAttributeNode("action"),_84b=_844.getAttributeNode("method"),_84c=_844.getAttributeNode("target");if(_842.url){dfd._originalAction=_84a?_84a.value:null;if(_84a){_84a.value=_842.url;}else{_844.setAttribute("action",_842.url);}}if(!dfd._legacy){dfd._originalMethod=_84b?_84b.value:null;if(_84b){_84b.value=_843.method;}else{_844.setAttribute("method",_843.method);}}else{if(!_84b||!_84b.value){if(_84b){_84b.value=_843.method;}else{_844.setAttribute("method",_843.method);}}}dfd._originalTarget=_84c?_84c.value:null;if(_84c){_84c.value=_831._iframeName;}else{_844.setAttribute("target",_831._iframeName);}_844.target=_831._iframeName;_845&&_845.emit("send",_842,dfd.promise.cancel);_831._notifyStart(_842);_844.submit();}else{var _84d="";if(_842.options.data){_84d=_842.options.data;if(typeof _84d!=="string"){_84d=_82d.objectToQuery(_84d);}}var _84e=_842.url+(_842.url.indexOf("?")>-1?"&":"?")+_84d;_845&&_845.emit("send",_842,dfd.promise.cancel);_831._notifyStart(_842);_831.setSrc(_831._frame,_84e,true);}}catch(e){dfd.reject(e);}};function _84f(_850){return !this.isFulfilled();};function _851(_852){return !!this._finished;};function _853(_854,_855){if(!_855){try{var _856=_854.options,doc=_831.doc(_831._frame),_857=_856.handleAs;if(_857!=="html"){if(_857==="xml"){if(doc.documentElement.tagName.toLowerCase()==="html"){_82e("a",doc.documentElement).orphan();var _858=doc.documentElement.innerText;_858=_858.replace(/>\s+</g,"><");_854.text=lang.trim(_858);}else{_854.data=doc;}}else{_854.text=doc.getElementsByTagName("textarea")[0].value;}_82c(_854);}else{_854.data=doc;}}catch(e){_855=e;}}if(_855){this.reject(_855);}else{if(this._finished){this.resolve(_854);}else{this.reject(new Error("Invalid dojo/request/iframe request state"));}}};function last(_859){this._callNext();};var _85a={method:"POST"};function _831(url,_85b,_85c){var _85d=util.parseArgs(url,util.deepCreate(_85a,_85b),true);url=_85d.url;_85b=_85d.options;if(_85b.method!=="GET"&&_85b.method!=="POST"){throw new Error(_85b.method+" not supported by dojo/request/iframe");}if(!_831._frame){_831._frame=_831.create(_831._iframeName,_830+"();");}var dfd=util.deferred(_85d,null,_84f,_851,_853,last);dfd._callNext=function(){if(!this._calledNext){this._calledNext=true;_831._currentDfd=null;_831._fireNextRequest();}};dfd._legacy=_85c;_831._dfdQueue.push(dfd);_831._fireNextRequest();_82b(dfd);return _85c?dfd:dfd.promise;};_831.create=_837;_831.doc=doc;_831.setSrc=_83a;_831._iframeName=mid+"_IoIframe";_831._notifyStart=function(){};_831._dfdQueue=[];_831._currentDfd=null;_831._fireNextRequest=_841;util.addCommonMethods(_831,["GET","POST"]);return _831;});},"mendix/lib/ConnectionError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_85e,_85f){return _85f(_85e,{});});},"mendix/lib/ValidationError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_860,_861){return _861(_860,{});});},"mxui/wm/focus":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_base/focus,mxui/dom"],function(dojo,_862,_863){dojo.provide("mxui.wm.focus");dojo.require("dijit._base.focus");dojo.require("mxui.dom");mxui.wm.focus.Stack={create:function(){var _864=[];_864.find=this.find;_864.each=this.each;_864.dump=this.dump;_864.box=null;_864.last=null;_864.first=null;_864.f_first=null;_864.f_last=null;return _864;},buildStack:function(_865,box){var _866=null;var _867=null;var _868=null;var _869=null;var _86a=null;var gfd=mxui.wm.focus;var dom=mxui.dom;var _86b=mxui.dom.getFocusIndex;var _86c=gfd.focusable;var el=mxui.dom.nodeTypes.ELEMENT_NODE;var _86d=this.create();_86d.box=box=(box||gfd.byNode(_865));var _86e=_865==box.domNode;var ni=_86e?"0":mxui.dom.getTabIndex(_865);var _86f=box.domNode;var _870=null;var _871=null;var _872=null;var _873=null;if(!_86e&&!_86c(_865)){_870=_865;while((_870=_870.parentNode)!=null){var vi=_86c(_870);if(vi||_870==_86f){_871=_872;break;}_872=_870;}}dom.walkNode(_86f,function(node,_874){if(node==_86f){return true;}var one=(node==_865);if(!one){var vi=_86c(node);if(!vi){if(_871){if(_873){if(dom.nextNode(_873,_874)){_873=false;}else{return true;}}else{if(node==_871){_873=_874;return true;}}}return vi===0;}}var _875=this.isBox(node);var ci=_86b(node);if(!ci&&_875){if(mxui.dom.getTabIndex(node)<0){return false;}ci=node.getAttribute("focusIndex")||"0";}if(one||ci){var item={node:node,stack:_86d,next:null,prev:null};if(ni==-1){if(_868){if(_869==null||(_869>ci)){_869=ci;_86a=item;}}else{if(one){_868=true;}}}if(ci){if(!_866){_866=item;}_867=item;var _876=_86d[ci];if(!_876){_876=_86d[ci]=[];}_876.push(item);}else{_86d._curr=item;}return false;}},gfd);if(ni==-1){var curr=_86d._curr;if(curr){curr.prev=curr.next=_86a;}}_86d.each(function(node,_877,_878){if(!this.first){this.first=_877;}var prev=_877.prev=this.last;if(prev){prev.next=_877;}this.last=_877;if(_865==node){this._curr=_877;}},null,_86d);_86d.f_first=_866;_86d.f_last=_867;return _86d;},each:function(fnc,_879,_87a){if(_879=="prev"){var i=this.length;while(0<=--i){var _87b=this[i];var l=_87b&&_87b.length;if(l){for(var c=l-1;0<=c;c--){var stop=fnc.call(_87a,_87b[c].node,_87b[c],i);if(stop!=null){return stop;}}}}}else{var i=-1;while(++i<this.length){var _87b=this[i];var l=_87b&&_87b.length;if(l){for(var c=0;c<l;c++){var stop=fnc.call(_87a,_87b[c].node,_87b[c],i);if(stop!=null){return stop;}}}}}return null;},find:function(_87c){if(this._curr&&this._curr.node==_87c){return this._curr;}var ni=mxui.dom.getTabIndex(_87c)||"0";var _87d=null;var _87e=null;var _87f=null;if(ni!=-1){var i=ni;do{var _880=this[i];if(_880){for(var c=0,l=_880.length;c<l;c++){var n=_880[c];if(n.node==_87c){return n;}}}}while(++i<this.length);}var _881=null;var _882=this.box.domNode;var node=_87c;var el=mxui.dom.nodeTypes.ELEMENT_NODE;var _883=mxui.dom.getFocusIndex;var vi=mxui.wm.focus.focusable;while((node=node.parentNode)!=null&&node!=_882){if(!vi(node)){continue;}if(_883(node)){_881=node;}}return _881?this.find(_881):null;},dump:function(str){this.each(function(node,_884){});}};mxui.wm.focus._addon={getFocusStack:function(){var gfd=mxui.wm.focus;var _885=mxui.dom.getFocusIndex;var _886=gfd.focusable;var _887=gfd.Stack.create();_887.box=this;var _888=null;var _889=null;var _88a=false;var _88b=this.nodes;for(var i=0,l=_88b.length;i<l;i++){var node=_88b[i].node;var tab=_885(node);var vi=_886(node);if(tab){if(vi){_888=node;break;}else{_88a=true;node.tabIndex=-1;}}else{if(vi){if(_88a){_888=node;_888.tabIndex=1;break;}_889=node;}}}if(!_888){_888=_889;_888&&(_888.tabIndex=1);}if(_888){_887.push(_888);_887.last=_887.first=_887._curr={prev:null,next:null,node:_888,stack:_887};}return _887;},_onmousedown:function(e){var _88c=e.target;if(_88c.nodeName.toLowerCase()=="option"){_88c=_88c.parentNode;}var node=_88c;var s=null;var _88d=this.domNode;var data=mxui.dom.data;do{s=data(node,"box-node");if(s&&s.box==this){break;}}while((node!=null)&&(node!=_88d)&&(node=node.parentNode)!=null);if(s){var _88e=mxui.dom.getTabIndex(_88c);this._focus(s.node,_88e!=null);}},_focus:function(_88f,_890){var gfd=mxui.wm.focus;var _891=this.getFocusStack();var _892=_891._curr;if(_892){_892.node.tabIndex=-1;}_88f.tabIndex=1;_88f=gfd._tryNode({node:_88f,stack:_891},"next");if(!_890){gfd.put(_88f);}},next:function(_893,dir){var data=mxui.dom.data(_893,"box-node");if(data){var _894=this._getNextNode(data,dir);if(_894){var next=_894.node;next.tabIndex=0;_893.tabIndex=-1;return next;}else{}}else{}return null;},_getNextNode:function(_895,dir){if(!_895){return null;}var data=_895;var _896=mxui.wm.focus.focusable;while((data=data[dir])!=null){var node=data.node;if(_896(node)){return data;}}return null;}};dojo.declare("mxui.wm.focus.Box",null,{id:null,domNode:null,nested:false,FOCUS_NEXT:"FOCUS_NEXT",FOCUS_PREV:"FOCUS_PREV",constructor:function(node){this.id=mxui.wm.focus.getUniqueId(this);this.domNode=node;this.nodes=[];this.keys={};this.handlers={};node.setAttribute("focus-id",this.id);},add:function(node){var s=mxui.dom.data(node,"box-node",{box:this,next:null,prev:null,node:node});var _897=this.nodes.length;if(_897!=0){var prev=this.nodes[_897-1];s.prev=prev;prev.next=s;node.tabIndex=-1;}else{node.tabIndex=0;}if(!this.converted){this.converted=true;dojo.mixin(this,mxui.wm.focus._addon);this._boxhandler=dojo.connect(this.domNode,"onmousedown",this,"_onmousedown");}this.nodes.push(s);},pressed:function(_898,_899){var keys=this.keys;var $=dojo.keys;var hs=this.handlers;for(var key in _898){var code=$[key]||key;var fnc=_898[key];if(fnc==this.FOCUS_NEXT){keys[code]="next";}else{if(fnc==this.FOCUS_PREV){keys[code]="prev";}else{if(typeof fnc=="string"){fnc=_899[type];}if(typeof fnc!="function"){logger.error(this.id+".pressed: Passed stuff is not a function : "+key);}else{if(hs[code]){}hs[code]=[_899,fnc];}}}}},destroy:function(){if(!this._destroyed){var _89a=this.nodes;for(var i=0,l=_89a.length;i<l;i++){var node=_89a[i].node;mxui.dom.data(node,"box-node",null);}this.nodes=null;this.keys=null;this.handlers=null;this._boxhandler&&dojo.disconnect(this._boxhandler);this._destroyed=true;}},getHandler:function(e){var code=typeof (e.charOrCode)!="undefined"?e.charOrCode:e.keyCode;return this.handlers[(code==" ")?dojo.keys.SPACE:code];},getFocusDirection:function(e){var nav=this.domNode.getAttribute("focuskeys");if(nav){var up,lr;if(nav=="up-down"){if(e.keyCode==dojo.keys.UP_ARROW){up="prev";}else{if(e.keyCode==dojo.keys.DOWN_ARROW){up="next";}}}if(nav=="left-right"){if(e.keyCode==dojo.keys.LEFT_ARROW){lr="prev";}else{if(e.keyCode==dojo.keys.RIGHT_ARROW){lr="next";}}}return up||lr;}else{var code=typeof (e.charOrCode)!="undefined"?e.charOrCode:e.keyCode;code=(code==" ")?dojo.keys.SPACE:code;var key=this.keys[code];if(key){return key;}}return null;},onFocusPress:function(e,_89b){var gfd=mxui.wm.focus;var dir=this.getFocusDirection(e);if(e.altKey||e.shiftKey||e.ctrlKey){return true;}if(dir){var data=mxui.dom.data(_89b,"box-node");if(data){var next=this.next(_89b,dir);if(next){gfd.put(next);return false;}dojo.stopEvent(e);}else{}}else{var h=this.getHandler(e);if(h){try{return h[1].call(h[0],e,_89b);}catch(error){logger.error(this.id+".onFocusPress : Error when executing handler : "+error.message);return true;}}}return true;},next:function(_89c,dir){var gfd=mxui.wm.focus;var _89d=gfd._getStack(_89c,this);var next=gfd._doNext(_89d.find(_89c),dir);return next;}});dojo.mixin(mxui.wm.focus,{name:"mxui.wm.focus",state:{skipCyclic:false,skipReadonly:true},registry:{},boxCounter:{},start:function(){if(this._started){return;}this._started=true;dojo.connect(window.document,"onkeypress",this,"onkeypress");dojo.connect(window.document,"onkeydown",this,"keydownpatch");dojo.connect(_862,"_onFocusNode",this,"onfocus");dojo.connect(_862,"_onBlurNode",this,"_onBlurNode");dojo.connect(document,"onmousedown",this,"blur");var _89e=this.state;this.timer_clear=function(){_89e._timer=null;_89e._shift=false;};},skipCyclic:function(_89f){var _8a0=this.state;_8a0.skipCyclic=!!_89f;},skipReadonly:function(_8a1){var _8a2=this.state;_8a2.skipReadonly=!!_8a1;},get:function(){var f=_862.getFocus();return f.node;},watch:function(node){var _8a3=function(evt){};var _8a4=function(evt){};var _8a5=function(){if(dojo.isIE){node.detachEvent("onactivate",_8a3);node.detachEvent("ondeactivate",_8a4);}else{node.removeEventListener("focus",_8a3,true);node.removeEventListener("blur",_8a4,true);}};if(dojo.isIE){node.attachEvent("onactivate",_8a3);node.attachEvent("ondeactivate",_8a4);}else{node.addEventListener("focus",_8a3,true);node.addEventListener("blur",_8a4,true);}return _8a5;},put:function(node){if(!node||node.nodeType!=1){return false;}if(dojo.isIE){try{document.selection.empty();}catch(e){}}setTimeout(function(){try{node.focus();}catch(e){}var _8a6=node.nodeName.toLowerCase();if((_8a6=="input"&&node.type=="text")||_8a6=="textarea"){node.select&&node.select();}},0);},restore:function(){var _8a7=_862.getFocus();if(_8a7.node){var node=_8a7.node;var _8a8=this._getStack(node);var _8a9=_8a8._curr;node=_8a9?this._tryNode(_8a9,"next"):null;if(node){this.put(node);}}},first:function(node){this.put(this.getFirst(node,"next"));},last:function(node){this.put(this.getFirst(node,"prev"));},next:function(node){this.put(this._getNextNode(node,false));},prev:function(node){this.put(this._getNextNode(node,true));},blur:function(e){this.state_clear();this._clickedNode=e.target;},_ontab:function(node){var _8aa=this.state;var _8ab=_8aa._shift;this.timer_clear();var box=null;if(box){}else{this.state_clear();}},onfocus:function(node){if(dojo.isIE){if(!mxui.dom.getTabIndex(node)){return;}}if(node.nodeType!=1){return;}var _8ac=this.state;_8ac.active=node;if(_8ac._timer){this._ontab(node);}else{dojo.addClass(node,"mx-focus");}},_onBlurNode:function(node){dojo.removeClass(node,"mx-focus");},state_clear:function(){var _8ad=this.state;_8ad.node=null;_8ad.box=null;},timer_clear:function(){},next:function(){var _8ae=this.state;if(_8ae.active&&_8ae.active.nodeType==1){var _8af=_8ae.active;var _8b0=this.byNode(_8af);if(_8b0){var next=this._getNextNode(_8af);if(next){this.put(next);}else{}return;}}},keydownpatch:function(e){if(e.keyCode==dojo.keys.UP_ARROW||e.keyCode==dojo.keys.DOWN_ARROW){var _8b1=this.state;this.onkeypress(e);_8b1._patch_inWork=true;setTimeout(function(){_8b1._patch_inWork=null;},10);}},onkeypress:function(e){var _8b2=this.state;if(_8b2._patch_inWork){return;}var _8b3=false;var _8b4=e.shiftKey;var tab=e.keyCode===dojo.keys.TAB;var _8b5=e.target;if(tab){if(_8b5.nodeName.toLowerCase()=="html"){if(this._clickedNode){_8b5=this._clickedNode;}else{return;}}var next=this._getNextNode(_8b5,_8b4);if(next){this.put(next);}else{}dojo.stopEvent(e);}else{var _8b6=_8b5;var box=this.byNode(_8b5);if(box){do{var _8b7=box.domNode;if(box.onFocusPress){if(!box.onFocusPress(e,_8b6)){dojo.stopEvent(e);break;}}_8b6=_8b7;var nn=_8b7.parentNode;}while(nn&&(box=this.byNode(nn))!=null);}}},_getStack:function(_8b8,box){box=(box||this.byNode(_8b8));if(box.getFocusStack){try{return box.getFocusStack(_8b8);}catch(e){var _8b9=this.Stack.create();_8b9.box=box;return _8b9;}}return this.Stack.buildStack(_8b8,box);},getFirst:function(node,dir,_8ba){if(this.isBox(node)){var _8ba=_8ba||this._getStack(node);if(_8ba.length==0){if(mxui.dom.getFocusIndex(node)){return node;}return null;}var _8bb=_8ba[dir=="next"?"first":"last"];return _8bb?this._tryNode(_8bb,dir):null;}return node;},_tryNode:function(_8bc,dir){var node=_8bc.node;if(this.isBox(node)){var _8bd=this.getFirst(node,dir);if(_8bd){return _8bd;}else{return this._doNext(_8bc,dir);}}else{return node;}return null;},_doNext:function(_8be,dir){if(!_8be){return null;}var _8bf=_8be[dir];if(!_8bf){return null;}return this._tryNode(_8bf,dir);},_getNextNode:function(node,_8c0){var box=null;var _8c1=null;var _8c2=null;var next=null;var dir=!_8c0?"next":"prev";if(this.isBox(node)){box=this.byNode(node.parentNode);}else{box=this.byNode(node);}if(!box){return null;}_8c2=this._getStack(node,box);next=this._doNext(_8c2.find(node),dir);if(!next){_8c1=_8c2.box.domNode;if(this.cyclic(_8c1)){return this.getFirst(_8c1,dir,_8c2);}else{next=this._getNextNode(box.domNode,_8c0);if(!next){}}}return next;},skip:function(node,_8c3){if(node&&node.setAttribute){if(arguments.length==2){_8c3=!!_8c3;node.setAttribute("focusNoSkip",_8c3);return _8c3;}var _8c4=/true/.test(node.getAttribute("focusNoSkip"));return _8c4?!_8c4:node.readOnly;}return true;},focusable:function(node){if(!node||node.nodeType!=1){return false;}if(node.disabled){return false;}var f=mxui.wm.focus;if(f.skip(node)&&f.state.skipReadonly){return false;}var _8c5=node.style;if(_8c5.display=="none"||_8c5.visibility=="hidden"){return false;}if(node.offsetWidth==0&&node.offsetHeight==0){return 0;}return true;},cyclic:function(node,_8c6){if(node&&node.setAttribute){if(arguments.length==2){var s=/true/.test(_8c6);node.setAttribute("focusCycle",s);return s;}return /true/.test(node.getAttribute("focusCycle"));}return false;},focusIndex:function(node,_8c7){if(node&&node.getAttribute){if(arguments.length==2){node.setAttribute("focusIndex",_8c7);return _8c7;}return node.getAttribute("focusIndex");}return null;},addBox:function(node){var box=new this.Box(node);this.register(box);return box;},removeBox:function(node){var box=this.byNode(node);if(box){this.unregister(box);return true;}return false;},isBox:function(node){if(node&&node.getAttribute){var fi=this.focusIndex(node);if(_862.byNode(node)){return fi!=-2?true:false;}else{if(fi){return true;}}return !!(node.getAttribute("focus-id"));}return false;},byNode:function(node){var fi,id,w;do{if(node&&node.getAttribute){fi=this.focusIndex(node);if(fi==-2){continue;}w=_862.byNode(node);if(w){return w;}id=node.getAttribute("focus-id");if(id){return this.byId(id);}if(fi){return {domNode:node};}}}while(node&&(node=node.parentNode));return null;},byId:function(_8c8){return this.registry[_8c8];},getUniqueId:function(_8c9){var _8ca=_8c9.declaredClass.replace(/\./g,"_");var id;var _8cb=this.boxCounter;do{id=_8ca+"_"+(_8ca in _8cb?++_8cb[_8ca]:_8cb[_8ca]=0);}while(this.byId(id));return id;},register:function(box){var id=box.id;if(this.registry[id]){return false;}else{this.registry[id]=box;return true;}},unregister:function(box){var id=box.id;var _8cc=this.boxCounter;if(this.registry[id]){var _8cd=box.declaredClass.replace(/\./g,"_");box.domNode.removeAttribute("focus-id");delete this.registry[id];if(_8cc[_8cd]){_8cc[_8cd]--;}box.destroy();}}});dojo.addOnLoad(mxui.wm.focus,"start");});},"mxui/dom":function(){define(["dojo/has","dojo/_base/lang","dojo/_base/kernel","dojo/_base/connect","dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/window","mendix/logger"],function(has,_8ce,_8cf,_8d0,_8d1,_8d2,_8d3,_8d4,_8d5,_8d6){var _8d7=0,_8d8=[];var _8d9=function(_8da){_8da=_8da||{};var _8db=function(id,node){if(!id){id=_8d7++;node.setAttribute("data-id",id);}return id;};return function(node,key,_8dc){var id=typeof node==="string"?node:node.getAttribute("data-id"),map=_8da[id];switch(arguments.length){case 1:return map;case 2:if(key===null){delete _8da[id];return;}else{if(typeof key=="object"){if(!map){return _8da[_8db(id,node)]=key;}else{return _8ce.mixin(map,key);}}else{return map&&map[key];}}break;case 3:if(_8dc===null){if(map){delete map[key];}for(var i in map){return;}delete _8da[id];return;}else{if(!map){map=_8da[_8db(id,node)]={};}return map[key]=_8dc;}}};};var _8dd=function(_8de,_8df){var _8e0=_8de.parentNode;if(_8e0&&(!_8df.parentNode||_8df.parentNode.nodeType==11)){_8e0.insertBefore(_8df,_8de);_8e0.removeChild(_8de);return true;}return false;};var dom={minContainerHeight:100,nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},walkTree:function(node,_8e1){if(node&&node.hasChildNodes){for(var i=0;i<node.childNodes.length;i++){mxui.dom.walkTree(node.childNodes[i],_8e1);}}_8e1(node);},walkNode:function(root,_8e2,_8e3){var _8e4=[0],_8e5;var _8e6=function(node){try{_8e5=node?_8e2.call(_8e3,node,_8e4.slice())!==false:false;}catch(e){_8d6.error("mxui.dom.walkNode: Unable to execute action on node: "+e.message);_8e5=false;}if(_8e5&&node.hasChildNodes){var i=_8e4.push(0)-1;var _8e7=null,_8e8=node.firstChild;while(_8e8){_8e8=(_8e7=_8e8).nextSibling;_8e6(_8e7);_8e4[i]++;}_8e4.pop();}};_8e6(root);},nextNode:function(_8e9,_8ea){if(!_8e9||!_8ea){return true;}var cl=_8ea.length,sl=_8e9.length,_8eb=_8ea.length-1;return (sl>cl)||(cl==sl&&_8ea[_8eb]>_8e9[_8eb]);},getAncestorNode:function(node,name,_8ec){return node&&((node.nodeName==name)?node:((--_8ec==0)?false:arguments.callee(node.parentNode,name,_8ec)));},getFirstChild:function(node,name){_8cf.deprecated("mxui.dom.getFirstChild","Use dojo.query instead","5.0");if(typeof name=="string"){name=[name.toLowerCase()];}var _8ed=false;var func=function(node){for(var i=0;i<name.length;i++){if(node.nodeName.toLowerCase()==name[i]){if(_8ed==false){_8ed=node;return false;}}}return true;};var s=(function(_8ee,_8ef){if(_8ee&&_8ef(_8ee)&&_8ee.hasChildNodes){for(var i=0;i<_8ee.childNodes.length;i++){arguments.callee(_8ee.childNodes[i],_8ef);}}})(node,func);return _8ed;},escapeHTMLQuotes:function(str){return str.replace(/\'/g,"&#39;").replace(/\"/g,"&#34;");},convertNlToBr:function(str){return str.replace(/\n/g,"<br />");},setSelectOptions:function(node,_8f0,_8f1){var $=mxui.dom.create;if(!node){return;}_8f0=_8f0||{};mxui.dom.empty(node);node.appendChild($("option",{value:""},""));for(var key in _8f0){var _8f2=$("option",{value:key},_8f0[key]);node.appendChild(_8f2);if(key==_8f1){_8f2.selected=true;}}},getSelectedValue:function(node){if(node.nodeName.toLowerCase()=="select"){return (node.selectedIndex!=-1)?node.options[node.selectedIndex].value:null;}else{return null;}},getSelectedText:function(node){return node.options[node.selectedIndex].text;},selectOptionByValue:function(node,_8f3){for(var i=0;i<node.length;++i){if(node.options[i].value==_8f3){node.options[i].selected=true;}}},selectOptionByText:function(node,text){for(var i=0;i<node.length;++i){if(node.options[i].text==text){node.options[i].selected=true;}}},enableNode:function(node){node.removeAttribute("readonly");node.removeAttribute("disabled");},disableNode:function(node){node.setAttribute("disabled","disabled");node.setAttribute("readonly","readonly");},disableSelection:function(e){if(!has("ie")){e.style.MozUserSelect="none";}else{e.unselectable="on";}return true;},clearSelection:function(){var w=window,s=document.selection;if(s){try{s.empty&&s.empty();}catch(e){}}else{s=w.getSelection&&w.getSelection();s&&s.removeAllRanges&&s.removeAllRanges();}},selectTextRange:function(_8f4,_8f5,_8f6){if(_8f4.createTextRange){var _8f7=_8f4.createTextRange();_8f7.collapse(true);_8f7.moveEnd("character",_8f6);_8f7.moveStart("character",_8f5);_8f7.select();}else{if(_8f4.setSelectionRange){_8f4.setSelectionRange(_8f5,_8f6);}}},getCursorPosition:function(_8f8){if(document.selection){var _8f9=Math.abs(document.selection.createRange().moveStart("character",-1000000));var end=Math.abs(document.selection.createRange().moveEnd("character",-1000000));return _8f9;}else{if(_8f8.setSelectionRange){return _8f8.selectionStart;}}},getSelection:function(_8fa){if(document.selection){var _8fb=Math.abs(document.selection.createRange().moveStart("character",-1000000));var end=Math.abs(document.selection.createRange().moveEnd("character",-1000000));return {start:_8fb,end:end};}else{if(_8fa.setSelectionRange){return {start:_8fa.selectionStart,end:_8fa.selectionEnd};}}},liveConnect:function(node,evt,_8fc,r,_8fd){if(arguments.length==3){r=_8fc;_8fc=null;}var tags={},_8fe=[];for(var i in r){var _8ff=i.split(".");var tag=_8ff[0];var _900=_8ff[1];var item=r[i];if((typeof item=="string"&&_8fc[item])||typeof item=="function"){var _901={fnc:item};if(tag){tags[String(tag).toUpperCase()]=_901;}else{if(_900){_8fe.push(_901);}}if(_900){_901.clazz=_900;}}}var _902=_8d2.hasClass;var _903=function(node){for(var i=0,item;item=_8fe[i];i++){if(_902(node,item.clazz)){return item;}}return null;};var run=function(fnc,e){if(typeof (fnc)=="function"){fnc(e);}else{_8fc&&_8fc[fnc](e);}};return _8d0.connect(node,evt,function(e){var _904=e.target;var _905=node;var e2={target:e.target};for(var i in e){var val=e[i];if(val==null||!(val instanceof Object)){e2[i]=val;}}while(_904!=_905&&_904!=null){var _906=tags[_904.nodeName];var _907=_903(_904);if(_906){var _908=_906.clazz;_906=((!_908)||(_902(_904,_908)))?_906:null;}e2.currentTarget=_904;_906&&run(_906.fnc,e2);_907&&run(_907.fnc,e2);if(_8fd&&(_906||_907)){break;}_904=_904.parentNode;}});},liveDisconnect:function(_909){_8d0.disconnect(_909);},removeTabIndex:function(node){if(has("ie")){node.removeAttribute("tabIndex");}node.removeAttribute("tabindex");},isChild:function(_90a,_90b){var curr=_90a;while((curr=curr.parentNode)!=null){if(curr==_90b){return true;}}return false;},create:function(tag,_90c,_90d){var elem,args=[].slice.call(arguments,1);_90c=_90c||{};if(_90c.nodeName||typeof _90c=="string"){_90d=args;_90c={};}else{_90d=args.slice(1);}if(tag=="#"){elem=document.createDocumentFragment();}else{elem=document.createElement(tag);for(var attr in _90c){var _90e=_90c[attr];if(attr=="style"&&typeof _90e!="string"){var _90f=elem.style;for(var i in _90e){_90f[i]=_90e[i];}}else{elem.setAttribute(attr,_90e);}}}_8d1.forEach(_90d,function(_910){if(typeof _910=="string"){dojo.forEach(_910.split("\r\n"),function(line,i){if(i>0){elem.appendChild(mxui.dom.create("br"));}elem.appendChild(document.createTextNode(line));});}else{elem.appendChild(_910);}});return elem;},synthesizeEvent:function(evt,_911){var faux=_8ce.mixin({},evt,_911);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;},capture:function(_912,evt,_913){var _914=!_912.addEventListener,_915=_912[_914?"attachEvent":"addEventListener"],_916=_912[_914?"detachEvent":"removeEventListener"],_917=_914?"on"+evt:evt;_915.call(_912,_917,_913,true);return {remove:function(){_916.call(_912,_917,_913,true);}};},supports:function(prop){var _918=document.body.style;if(prop in _918){return prop;}else{var _919=["Webkit","Moz"],_91a=prop.charAt(0).toUpperCase()+prop.slice(1);for(var i=_919.length;i--;){var _91b=_919[i]+_91a;if(_91b in _918){return _91b;}}}},supportsFixed:function(){var ua=navigator.userAgent,_91c=true,_91d;if(/AppleWebKit\/\d+/.test(ua)){if(/iPhone|iPad/.test(ua)){_91d=/OS (\d)_/.exec(ua);_91c=_91d[1]&&_91d[1]>=5;}else{if(/Android/.test(ua)){_91d=/Android (\d\.\d)/.exec(ua);_91c=_91d[1]&&_91d[1]>=2.2;}}}else{if(/Trident\/\d+/.test(ua)){_91d=/MSIE (\d+)/.exec(ua);if(_91d){_91c=_91d[1]&&_91d[1]>=10;}else{_91c=true;}}}return _91c;},decodeXML:function(str){return str.replace(/&(lt|gt|apos|quot|amp);/g,function(_91e,_91f){return {lt:"<",gt:">",apos:"'",quot:"\"",amp:"&"}[_91f];});},text:function(node,str){if(typeof str!=="undefined"){node.innerHTML="";node.appendChild(document.createTextNode(str));}else{return "textContent" in node?node.textContent:node.innerText;}},html:function(node,str){if(typeof str!=="undefined"){node.innerHTML=str;}else{return node.innerHTML;}},orphan:function(node){var p=node.parentNode;if(p){p.removeChild(node);}},empty:function(node){var _920;while(_920=node.firstChild){node.removeChild(_920);}},toArray:function(_921){return _8d1.map(_921,function(_922){return _922;});},escapeString:function(str){var node=mxui.dom.create("p");mxui.dom.escapeString=function(str){var _923=str.split(/\r\n|\n/),out=[];for(var i=0;i<_923.length;++i){mxui.dom.text(node,_923[i]);out.push(node.innerHTML);}return out.join("\n");};return mxui.dom.escapeString(str);},unescapeString:function(str){return str.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,"\"").replace(/&amp;/g,"&");},getCss:function(path,doc,_924){doc=doc||document;var _925=doc.getElementsByTagName("link"),re=new RegExp(mx.appUrl+path);for(var i=0,node;node=_925[i];i++){if(re.test(node.href)){return node;}}return null;},addCss:function(path,doc,_926){doc=doc||document;if(mxui.dom.getCss(path,doc,_926)){return;}var head=doc.getElementsByTagName("head")[0],node=mxui.dom.create("link",{rel:"stylesheet",type:"text/css",media:_926||"screen",href:mx.appUrl+path});head.appendChild(node);},removeCss:function(_927,doc,_928){var file=mxui.dom.getCss(_927,doc,_928);if(file){file.parentNode.removeChild(file);return true;}return false;},ieFocusable:{"a":true,"body":true,"button":true,"frame":true,"iframe":true,"input":true,"isIndex":true,"object":true,"select":true,"textarea":true},getTabIndex:function(node){if(!node||!node.getAttribute){return null;}var _929;if(has("ie")||has("trident")){_929=node.tabIndex;if(_929===0){var _92a=node.nodeName.toLowerCase(),_92b=node.attributes.tabIndex,_92c=_92b&&_92b.specified===true;return _92c||mxui.dom.ieFocusable[_92a]?"0":null;}else{return ""+_929;}}else{var _92d=node.getAttribute("tabindex");_929=String(node.tabIndex);if(_92d!=null||_929>=0){if(!has("ff")){return (_92d==="")?null:_929;}else{return _929;}}else{return null;}}},getFocusIndex:function(node){var _92e=mxui.dom.getTabIndex(node);return _92e>=0?_92e:null;},coords:function(node){return _8ce.mixin(_8d3.position(node),_8d3.getMarginBox(node));},data:_8d9(),getScopedData:_8d9,moveIntoView:function(node,_92f){_92f=_92f||0;var pos=_8d3.position(node),_930=_8d5.getBox(),_931=node.style,_932=pos.y+pos.h+_92f,_933=pos.x+pos.w+_92f;if(pos.y<_92f||pos.h+_92f*2>_930.h){_931.top=_92f+"px";}else{if(_932>_930.h){_931.top=pos.y-(_932-_930.h)+"px";}}if(pos.x<_92f||pos.w+_92f*2>_930.w){_931.left=_92f+"px";}else{if(_933>_930.w){_931.left=pos.x-(_933-_930.w)+"px";}}},getNodeExtents:function(node){var cs=_8d4.getComputedStyle(node),me=_8d3.getMarginExtents(node,cs),be=_8d3.getBorderExtents(node,cs),pe=_8d3.getPadExtents(node,cs);return {w:me.w+be.w+pe.w,h:me.h+be.h+pe.h};}};window.mxui.dom=dom;return dom;});},"mxui/html/parser":function(){define(["dojo","dijit","dojox"],function(dojo,_934,_935){dojo.provide("mxui.html.parser");mxui.html.parser={instantiate:function(list,_936){var _937="data-mendix-",_938=_937+"id",_939=_937+"type",_93a=_937+"props",_93b=[];var _93c=function(node,_93d){logger.error(_93d);if(node.parentNode){node.parentNode.replaceChild(mxui.dom.create("div",{style:"color:red"},_93d),node);}};for(var i=0,len=list.length;i<len;i++){var node=list[i],mxid=node.getAttribute(_938),_93e=node.getAttribute(_93a),type=node.getAttribute(_939),clas=dojo.getObject(type),_93f=_93e&&dojo.fromJson("{"+_93e+"}"),_940=mendix.lang.override(_93f,_936,{mxid:mxid,"class":node.className,style:node.style.cssText,focusIndex:mxui.dom.getTabIndex(node)});node.removeAttribute(_939);node.removeAttribute(_93a);if(clas){try{var _941=new clas(_940,node);if(_941.name){_941=new mxui.widget.PrimitiveWidgetWrapper({widget:_941,mxform:_941.mxform});}_93b.push(_941);}catch(e){_93c(node,"Could not create widget "+type+": "+e);}}else{_93c(node,"No constructor found for widget "+type);}}len=_93b.length;for(i=0;i<len;i++){var _942=_93b[i];if(_942.startup){if(!_942._started){try{_942.startup();}catch(e){_942.actLoaded();_93c(node,"Could not create widget "+type+": "+e);}}}}return _93b;},parse:function(root,_943){if(!root){root=dojo.body();}var _944=root.getElementsByTagName("div"),type=root.getAttribute("data-mendix-type"),list=type?[root]:[];for(var i=0,len=_944.length;i<len;i++){if(_944[i].getAttribute("data-mendix-type")){list.push(_944[i]);}}return mxui.html.parser.instantiate(list,_943);}};});},"mxui/dom/builder":function(){define(["dojo","dijit","dojox"],function(dojo,_945,_946){dojo.provide("mxui.dom.builder");mxui.dom.builder={IE_TRANSLATIONS:{"class":"className","for":"htmlFor","type":"type","href":"href"},ieAttrSet:function(_947,attr,el){var _948;if(_948=this.IE_TRANSLATIONS[attr]){el[_948]=_947[attr];}else{if(attr=="style"){el.style.cssText=_947[attr];}else{if(attr.match(/^on/)){el[attr]=new Function(_947[attr]);}else{el.setAttribute(attr,_947[attr]);}}}},tagFunc:function(tag){return function(){var _949,_94a;if(arguments.length>0){if(arguments[0].nodeName||typeof arguments[0]=="string"){_94a=arguments;}else{_949=arguments[0];_94a=[].slice.call(arguments,1);}}return mxui.dom.builder.create(tag,_949,_94a);};},create:function(tag,_94b,_94c){_94b=_94b||{};_94c=_94c||[];var _94d=dojo.isIE<9;var el=document.createElement((_94d&&_94b.name)?"<"+tag+" name="+_94b.name+">":tag);for(var attr in _94b){if(typeof _94b[attr]!="function"){if(_94d){this.ieAttrSet(_94b,attr,el);}else{el.setAttribute(attr,_94b[attr]);}}}for(var i=0;i<_94c.length;i++){if(typeof _94c[i]!="object"){_94c[i]=document.createTextNode(_94c[i]);}el.appendChild(_94c[i]);}return el;}};(function(){var els=("p|div|span|strong|em|img|table|tr|td|th|thead|tbody|tfoot|pre|code|"+"h1|h2|h3|h4|h5|h6|ul|ol|li|form|input|textarea|legend|fieldset|"+"select|option|blockquote|cite|br|hr|dd|dl|dt|address|a|button|abbr|acronym|"+"script|link|style|bdo|ins|del|object|param|col|colgroup|optgroup|caption|"+"label|dfn|kbd|samp|var").split("|");var el,i=0;while(el=els[i++]){mxui.dom[el]=mxui.dom.builder.tagFunc(el);}})();});},"mxui/html/common":function(){define(["dojo","dijit","dojox"],function(dojo,_94e,_94f){dojo.provide("mxui.html.common");mxui.html.attrs={ForRole:"visibleForRoles",FormTitle:"formTitle"};mxui.html.dispatchEvent=function(node,_950){if(dojo.isIE){node.fireEvent&&node.fireEvent([_950]);}else{var evt=document.createEvent("HTMLEvents");evt.initEvent(_950.substr(2,_950.length),true,true);node.dispatchEvent(evt);}};mxui.html.stripTags=function(_951){if(dojo.isString(_951)){return _951.replace(/<[a-zA-Z\/][^>]*>/g," ");}else{return _951;}};mxui.html.escapeQuotes=function(str){str=str.replace(/\'/g,"&#39;");return str.replace(/\"/g,"&#34;");};});},"mxui/lib/Form":function(){define(["dojo","dijit","dojox"],function(dojo,_952,_953){dojo.provide("mxui.lib.Form");dojo.declare("mxui.lib.Form",null,{id:"",path:"",title:"",hash:"",place:"",cssClass:"",cssStyle:"",context:null,domNode:null,_params:null,_returns:null,_listeners:null,constructor:function(data,_954){this.id=data.id;this.path=data.path;this.title=_954.title||data.title;this.place=_954.place;this.hash=+new Date()+"";this.cssClass=data["class"]||"";this.cssStyle=data.style||"";this._params=_954;this._returns={};this._listeners={};this.domNode=mxui.dom.create("div",{"class":"mx-page"},data.content||"");if(this.place!="popup"){dojo.addClass(this.domNode,this.cssClass);dojo.attr(this.domNode,"style",this.cssStyle);}mxui.wm.focus.addBox(this.domNode);mxui.wm.focus.cyclic(this.domNode,true);},startup:function(_955){var _956=dojo.mixin({mxform:this},this._params),_957=mxui.html.parser.parse(this.domNode,_956);mxui.widget.ready(_957,_955);},onBeforeShow:function(){this.resize();},onBeforeHide:function(){},onAfterShow:function(){mxui.wm.focus.first(this.domNode);},onAfterHide:function(){},getTitle:function(){return this.title;},setTitle:function(_958){this.title=_958;},getChildren:function(_959){if(_959){return dojo.query("[widgetid]",this.domNode).map(_952.byNode);}else{return _952.findWidgets(this.domNode);}},callRecursive:function(_95a,_95b,_95c){var _95d=this.getChildren(),args=Array.prototype.slice.call(arguments,1);for(var i=0,_95e;_95e=_95d[i];i++){_95e[_95a]&&_95e[_95a].apply(_95e,args);}},suspend:function(){var _95f=this.getChildren(true);for(var i=0,_960;_960=_95f[i];i++){if(_960 instanceof mxui.widget._WidgetBase){_960.set("suspended",true);}else{if(_960.suspend){_960.suspend();}}}},resume:function(){var _961=this.getChildren(true);for(var i=0,_962;_962=_961[i];i++){if(_962 instanceof mxui.widget._WidgetBase){_962.set("suspended",false);}else{if(_962.resume){_962.resume();}}}},reload:function(_963){this.applyContext(this.context,_963);},resize:function(){if(this.place==="content"){var self=this,node=this.domNode,_964=_952.findWidgets(node),_965=_964[0];if(_964.length!==1){return;}if(_965.domNode.parentNode===node){if(typeof _965.resize==="function"){node.style.height="100%";_965.resize({w:node.offsetWidth,h:node.offsetHeight});node.style.height="";}}}},enable:function(){this.callRecursive("set","disabled",true);},disable:function(){this.callRecursive("set","disabled",false);},close:function(){var self=this;this.publish("close",function(){self.dispose();});},dispose:function(){},validate:function(_966,_967){this.publish("validate",_966,_967);},save:function(_968,_969){this.publish("save",_968,_969);},commit:function(_96a,_96b){this.publish("commit",_96a,_96b);},rollback:function(_96c,_96d){this.publish("rollback",_96c,_96d);},publish:function(_96e,_96f,_970){var list=this._listeners[_96e];if(list){var _971=[];for(var item in list){_971.unshift(dojo.partial(function(func,next){func(next,_970);},list[item]));}mendix.lang.sequence(_971,_96f);}else{_96f&&_96f();}},listen:function(_972,_973){var sid=mendix.lang.getUniqueId(),list=this._listeners[_972]||(this._listeners[_972]={});list[sid]=_973;return [_972,sid];},unlisten:function(_974){var sid=_974[1],msg=_974[0],list=this._listeners[msg];if(list){delete list[sid];for(var i in list){return;}delete this._listeners[msg];}},applyContext:function(_975,_976){var old=this.context;if(old&&old.toQuery()==_975.toQuery()){mx.context.destroy(_975);_976&&_976();return;}old&&mx.context.destroy(old);this.context=_975;_975.freeze();var _977=[];var run=function(node){var _978=_952.findWidgets(node);for(var i=0,_979;_979=_978[i];i++){if(_979.applyContext){_977.push(function(_97a){return function(_97b){_97a.applyContext(_975,_97b);};}(_979));}else{run(_979.domNode);}}};run(this.domNode);mendix.lang.collect(_977,_976,this);},getReturnValue:function(key){return this._returns[key];},setReturnValue:function(key,_97c){this._returns[key]=_97c;},getCSSClass:function(){return this.cssClass;},getCSSStyle:function(){return this.cssStyle;},hasInterface:function(name){return name=="close";},invokeCall:function(name){if(name=="close"){this.dispose();}},destroy:function(){mxui.wm.focus.removeBox(this.domNode);var _97d=[this.header,this.domNode,this.footer];for(var i=0,l=_97d.length;i<l;i++){if(_97d[i]){mxui.dom.orphan(_97d[i]);}}var top=this.getChildren(),all=this.getChildren(true);for(var i=0,_97e;_97e=top[i];i++){_97e.domNode&&_97e.destroyRecursive();}for(var i=0,_97e;_97e=all[i];i++){if(_97e.domNode){logger.error(_97e.id+": widget not destroyed, check parent's uninitalize method");_97e.destroyRecursive();}}if(this.context){mx.context.destroy(this.context);}}});});},"mxui/lib/History":function(){define(["dojo","dijit","dojox"],function(dojo,_97f,_980){dojo.provide("mxui.lib.History");mxui.lib.History=function(_981){_981=_981||{};var self=this,name="mxui.lib.History",_982=_981.limit||10,_983=-1,_984=[],_985=null,_986=true,_987=!(dojo.isIE<10&&window.self!=window.top);this.onHashChange=function(hash){if(dojo.config.isDebug){hash=hash.substr(hash.lastIndexOf(";")+1);}if(_983!=-1&&hash==_984[_983].hash){return;}if(!_986){_986=true;return;}var _988=mendix.lang.findIndex(_984,function(item){return item.hash==hash;});if(_988!=-1){_983=_988;var form=_984[_983];mx.ui.openForm(form.path,{context:form.context,instance:form});}else{_983=-1;_986=false;mx.remote.execute(mx.session.getConfig());}};this.startup=function(){_985=dojo.subscribe("/dojo/hashchange",this.onHashChange);};this.exists=function(){return _983<_984.length;};this.back=function(){if(_987){window.history.back();}else{setTimeout(function(){var _989=_984[_983-1];self.onHashChange(_989?_989.hash:"");},0);}};this.register=function(form){if(_986){var _98a;if(_983<_984.length-1){_98a=_984.splice(_983+1,_984.length);}else{if(_984.length==_982){_98a=[_984.shift()];}}dojo.forEach(_98a,function(_98b){_98b.destroy();});_983=_984.length;_984.push(form);}if(_987){dojo.hash(dojo.config.isDebug?mx.ui.encodeUrlHash(form.path,form.context,form.hash):form.hash,!_986);}};this.getForm=function(hash){return mendix.lang.find(_984,function(item){return item.hash==hash;});};this.destroy=function(){dojo.forEach(_984,function(item){item.destroy();});if(_985){dojo.unsubscribe(_985);_985=null;}_983=-1;_984=[];};};});},"mxui/lib/WindowManager":function(){define(["dojo","dijit","dojox"],function(dojo,_98c,_98d){dojo.provide("mxui.lib.WindowManager");dojo.declare("mxui.lib.WindowManager",null,{_stack:null,_shown:null,_modals:0,constructor:function(){this._shown={};},show:function(form,args,_98e){var self=this,_98f=this._modals||args.location==="modal",_990={mxform:form,title:args.title||form.title,width:args.width,height:args.height,content:form.domNode,modal:_98f};if("resizable" in args){_990.resizable=args.resizable;}var win=new mxui.widget.Window(_990);this._shown[win.id]=win;var _991=[dojo.connect(form,"resize",win,"resize"),dojo.connect(form,"dispose",function(){while(_991.length){dojo.disconnect(_991.pop());}self.hide(win);})];if(_98f){this._modals++;}win._form=form;win._focus=mxui.wm.focus.get();win.focus();form.startup(function(){form.applyContext(args.context||new mendix.lib.MxContext(),function(){if(_98f){win.center();}else{win.stack();}form.onBeforeShow();win.show();form.onAfterShow();_98e&&_98e(form);});});},hide:function(win){if(win.modal){this._modals--;}delete this._shown[win.id];var self=this,form=win._form;form.onBeforeHide();if(win._focus){mxui.wm.focus.put(win._focus);}win.hide(function(){form.onAfterHide();form.destroy();win.destroy();});},hideAll:function(){for(var id in this._shown){this.hide(this._shown[id]);}}});});},"mxui/lib/MxInputMask":function(){define(["dojo","dijit","dojox"],function(dojo,_992,_993){dojo.provide("mxui.lib.MxInputMask");mxui.lib.substractNewString=function(_994,_995,_996){var _997=(_994.length-(_995.length-(_996)));for(var i=0;i<_997;i++){if(_994.charAt(i)!=_995.charAt(i)){_997=i;break;}}return _997;};mxui.lib.MxInputMask=function(node,mask,_998){this.domNode=node;this.spanMask=null;this.mask="";this.spaceChar="_";this.checker=_998;this.fullMask=(mask!=null)?mask:"99-99-9999";var _999="mxui.lib.MxInputMask";this.onFocus=function(e){if(this.isReadOnly()){return;}var _99a=this.oldValue=this.domNode.value;if(this.checker!=null&&this.checker.onFocus!=null){try{this.checker.onFocus(e);}catch(e){}}if(_99a==""){this.domNode.value=this.mask;this.spanMask=this.mask;}else{var cc="";var _99b=this.mask.length;var real="";for(var i=0;i<_99b,cc=this.fullMask.charAt(i);i++){var val=_99a.charAt(i);if(this.matchBla(cc,val)){real+=val;}else{real+=this.mask.charAt(i);}}this.spanMask=this.domNode.value=real;}dojo.isIE&&mendix.wm.focus.put(this.domNode);};this.onBlur=function(e){if(this.isReadOnly()){return;}if(this.checker!=null&&this.checker.onBlur!=null){try{this.checker.onBlur(e);}catch(e){}}this.spanMask=null;if(this.mask==this.domNode.value){this.domNode.value="";}if(this.oldValue!=this.domNode.value){mxui.html.dispatchEvent(this.domNode,"onchange");}this.oldValue=null;};this.replaceByMask=function(src,dst,mask){var _99c="";src=String(src);dst=String(dst);for(var i=0;i<src.length;i++){var ch=src.substr(i,1);var _99d=dst.substr(i,1);var _99e=(ch==mask)?_99d:ch;_99c+=_99e;}return _99c;};this.onKeyDown=function(evt){if(dojo.isIE){var _99f=(evt.keyCode==0)?evt.which:evt.keyCode;switch(_99f){case 46:this.performDelete(evt);evt.preventDefault();return false;break;case 8:this.performBackspace(evt);evt.preventDefault();return false;break;}}};this.onClick=function(e){if(this.isReadOnly()){return;}this._selection=mxui.dom.getSelection(this.domNode);};this.onSelect=function(e){if(this.isReadOnly()){return;}this._selection=mxui.dom.getSelection(this.domNode);};this.onInput=function(e){if(this.isReadOnly()){return;}if(dojo.isIE&&e!=null){try{setTimeout(dojo.hitch(this,"onInput",null),1);return;}catch(e){}}var pos=mxui.dom.getCursorPosition(this.domNode);var _9a0=this.domNode.value;var _9a1=this.spanMask;this.domNode.value="";if(this._selection&&this._selection.start!=this._selection.end){var _9a1="";for(var i=0;i<this.spanMask.length;i++){var ch=(i>=this._selection.start&&i<this._selection.end)?"":this.spanMask.charAt(i);_9a1+=ch;}}var _9a2=mxui.lib.substractNewString(_9a1,_9a0,pos);var _9a3=pos;var _9a4=_9a0.substring(_9a2,_9a3);if(this._selection&&this._selection.start!=this._selection.end){var _9a5=this._selection.end-this._selection.start;_9a4=_9a4.substr(0,_9a5);}var _9a6=this.fullMask.length;var newv="";var _9a7=0;var skip=false;var _9a8=-1;for(var i=0;i<_9a6;i++){if(i==_9a2){for(var j=0;j<_9a4.length;j++){_9a8=i;var _9a9=this.fullMask.charAt(i);var _9aa=_9a4.charAt(j);if(this.isEditable(_9a9)){var _9ab=this.matchBla(_9a9,_9aa);if(_9ab){newv+=_9aa;}else{break;}}else{if(_9aa==_9a9){newv+=_9a9;}else{break;}}i++;}}newv+=this.spanMask.charAt(i);}this.spanMask=newv;this.domNode.value=newv;mxui.dom.selectTextRange(this.domNode,_9a8+1,_9a8+1);};this.onKeyPress=function(evt){if(this.isReadOnly()){return;}var _9ac=(evt.keyCode==0)?evt.which:evt.keyCode;var ctrl=evt.metaKey?evt.metaKey:evt.ctrlKey;if(ctrl){return true;}this._selection=null;switch(_9ac){case 13:break;case 27:break;case dojo.keys.TAB:break;case 46:this.performDelete(evt);evt.preventDefault();return false;break;case 8:this.performBackspace(evt);evt.preventDefault();return false;break;default:if(this.performKeyPress(evt)){evt.preventDefault();return false;}}};this.performBackspace=function(evt){var poss=mxui.dom.getSelection(this.domNode);var _9ad="";var _9ae=this.domNode.value;var _9af=(poss.start==poss.end);for(var i=this.mask.length;0<=i;i--){var _9b0=_9ae.charAt(i);var _9b1=this.mask.charAt(i);if((_9af&&(i==poss.start-1))||(i>=(poss.start)&&i<(poss.end))||_9b0==null){_9ad=_9b1+_9ad;}else{_9ad=_9b0+_9ad;}}this.domNode.value=this.spanMask=_9ad;var _9b2=(poss.start<=0)?0:_9af?poss.start-1:poss.start;mxui.dom.selectTextRange(this.domNode,_9b2,_9b2);};this.performDelete=function(evt){var poss=mxui.dom.getSelection(this.domNode);var _9b3="";var _9b4=this.domNode.value;for(var i=0;i<this.mask.length;i++){var _9b5=_9b4.substr(i,1);var _9b6=this.mask.substr(i,1);if((i>=poss.start&&i<=poss.end)||_9b5==null){_9b3+=_9b6;}else{_9b3+=_9b5;}}this.domNode.value=this.spanMask=_9b3;mxui.dom.selectTextRange(this.domNode,poss.start,poss.start);};this.performKeyPress=function(evt){var _9b7=(evt.keyCode==0)?evt.which:evt.keyCode;if(evt.charCode==null){var _9b8=evt.shiftKey;switch(evt.keyCode){case 9:case 8:case 13:case 16:case 17:case 18:case 20:case 27:case 33:case 34:if(_9b8){break;}case 35:case 36:return false;}}else{if(evt.charCode==0){return false;}}var _9b9=(String.fromCharCode(_9b7));if(_9b9.match(/[a-zA-Z0-9]/)!=null){var _9ba="";var pos=mxui.dom.getCursorPosition(this.domNode);var _9bb=this.domNode.value;var _9bc=this.spanMask;var _9bd=pos;var _9be=_9bb.length;for(var i=0;i<this.mask.length;i++){var _9bf=_9bc.substr(i,1);var _9c0=this.fullMask.substr(i,1);if(i!=pos){if(this.isEditable(_9c0)){_9ba+=_9bf;}else{_9ba+=_9c0;}}else{if(this.matchBla(_9c0,_9b9)){++_9bd;_9ba+=_9b9;var _9c1;var _9c2=i;while((_9c1=this.fullMask.substr(++_9c2,1))!=""){if(!this.isEditable(_9c1)){++_9bd;}else{break;}}}else{_9ba+=_9bf;}}}this.spanMask=_9ba;this.domNode.value=_9ba;mxui.dom.selectTextRange(this.domNode,_9bd,_9bd);}return true;};this.matchBla=function(_9c3,_9c4){if(_9c3=="9"){return (_9c4.match(/^[0-9]$/g)!=null);}else{if(_9c3=="U"){return (_9c4.match(/^[A-Z]$/g)!=null);}else{if(_9c3=="L"){return (_9c4.match(/^[a-z]$/g)!=null);}else{if(_9c3=="Z"){return (_9c4.match(/^[a-zA-Z]$/g)!=null);}else{if(_9c3=="*"){return (_9c4.match(/^[a-zA-Z0-9]$/g)!=null);}}}}}return false;};this.isEditable=function(str){return (str=="9"||str=="U"||str=="L"||str=="Z"||str=="*");};this.isReadOnly=function(){return this.domNode.readOnly;};var _9c5=[];var init=function(){_9c5=[dojo.connect(this.domNode,"onfocus",this,"onFocus"),dojo.connect(this.domNode,"onkeypress",this,"onKeyPress"),dojo.connect(this.domNode,"onblur",this,"onBlur"),dojo.connect(this.domNode,dojo.isIE?"onpaste":"oninput",this,"onInput"),dojo.connect(this.domNode,"onselect",this,"onSelect"),dojo.connect(this.domNode,"onclick",this,"onClick")];var _9c6=this.fullMask.replace(/9/g,this.spaceChar);_9c6=_9c6.replace(/Z/g,this.spaceChar);_9c6=_9c6.replace(/U/g,this.spaceChar);_9c6=_9c6.replace(/L/g,this.spaceChar);_9c6=_9c6.replace(/\*/g,this.spaceChar);this.mask=_9c6;};this.destroy=function(){while(_9c5.length){dojo.disconnect(_9c5.pop());}};init.call(this);};mxui.lib.MxDateMask=function(node,_9c7){this.domNode=node;this.separator=_9c7;this.InputMask=null;var _9c8="mxui.lib.MxDateMask";this.onBlur=function(e){var info=this.domNode.value.split(this.separator);if(this.domNode.value.match(/[a-zA-Z0-9]/)==null){this.domNode.value="";return;}var _9c9=info[0];var _9ca=info[1];var _9cb=info[2];if(info[0].indexOf(this.InputMask.spaceChar)!=-1){var dt=new Date().getDate();dt=(dt<10)?("0"+dt):dt;_9c9=this.InputMask.replaceByMask(_9c9,dt,this.InputMask.spaceChar);}if(info[1].indexOf(this.InputMask.spaceChar)!=-1){var _9cc=new Date().getMonth();if(_9cc<10){_9cc="0"+_9cc;}_9ca=this.InputMask.replaceByMask(_9ca,_9cc,this.InputMask.spaceChar);}if(info[2].indexOf(this.InputMask.spaceChar)!=-1){var year=new Date().getFullYear();_9cb=this.InputMask.replaceByMask(_9cb,year,this.InputMask.spaceChar);}this.domNode.value=_9c9+this.separator+_9ca+this.separator+_9cb;};this.onFocus=function(e){var _9cd=this.domNode.value;if(_9cd==""){return;}var info=_9cd.split(this.separator);var _9ce=info[0];var _9cf=info[1];var _9d0=info[2];if(_9ce.length!=2){_9ce="0"+_9ce;}if(_9cf.length!=2){_9cf="0"+_9cf;}if(_9d0.length!=4){}this.domNode.value=_9ce+this.separator+_9cf+this.separator+_9d0;};this.destroy=function(){this.InputMask.destroy();};this.start=function(){var mask="99"+this.separator+"99"+this.separator+"9999";this.InputMask=new mxui.lib.MxInputMask(this.domNode,mask,this);};this.start();};});},"mxui/polyfill/placeholder/placeholder":function(){define(["mxui/dom","dojo/dom-style","dojo/dom-geometry","dojo/on","dojo/sniff","dojo/_base/array","dojo/_base/lang","require"],function(dom,_9d1,_9d2,_9d3,_9d4,_9d5,_9d6,_9d7){"use strict";var $=dom.create;if(_9d4("ie")!=8&&_9d4("ie")!=9){return;}if(_9d4("ie")==9){_9d4.add("dom-parser",false,undefined,true);}_9d8("input[placeholder], textarea[placeholder]","behavior: url('"+_9d7.toUrl("./placeholder.htc")+"')");_9d6.setObject("mxui.polyfill.placeholder",{initialize:function(_9d9){if(_9d9._placeholder){return;}_9da(_9d9);},destroy:function(_9db){if(!_9db._placeholder){return;}_9dc(_9db);}});function _9da(_9dd){_9dd._placeholder=_9de(_9dd);_9dd.parentNode.appendChild(_9dd._placeholder);if(_9dd.parentNode&&_9d1.get(_9dd.parentNode,"position")=="static"){_9dd.parentNode.style.position="relative";}_9df(_9dd);_9dd.onpropertychange=function(e){e=e||window.event;if(e.propertyName=="value"){_9e0(_9dd);}else{if(e.propertyName=="placeholder"||e.propertyName=="className"||e.propertyName=="rows"||e.propertyName.indexOf("style")==0){_9df(_9dd);}}};_9dd._placeholder._events.push(_9d3(_9dd,"keyup",_9d6.partial(_9e0,_9dd)));};function _9dc(_9e1){_9e1.onpropertychange=null;_9d5.forEach(_9e1._placeholder._events,function(_9e2){_9e2.remove();});dom.orphan(_9e1._placeholder);delete _9e1._placeholder;};function _9de(_9e3){var _9e4=$(_9e3.tagName,{tabindex:-1});_9e4._events=[];_9e4._events.push(_9d3(_9e4,"focus",_9d6.hitch(_9e3,"focus")),_9d3(_9e3,"resize",_9d6.partial(_9e5,_9e3)));return _9e4;};function _9e5(_9e6){var _9e7=_9d1.getComputedStyle(_9e6),_9e8=_9d2.getMarginBox(_9e6,_9e7),_9e9=_9d2.getPadBorderExtents(_9e6,_9e7),_9ea=_9d2.getContentBox(_9e6,_9e7);_9e6._placeholder.style.left=_9e8.l;_9e6._placeholder.style.top=_9e8.t;_9e6._placeholder.style.width=_9e9.w+_9ea.w;_9e6._placeholder.style.height=_9e9.h+_9ea.h;};function _9e0(_9eb){_9eb._placeholder.style.display=_9eb.value.length?"none":"";};function _9ec(_9ed){_9ed.style.position="absolute";_9ed.style.background="transparent";_9ed.style.borderColor="transparent";_9ed.style.boxShadow="none";_9ed.style.color="#888";};function _9df(_9ee){_9ee._placeholder.value=_9ee.getAttribute("placeholder");_9ee._placeholder.rows=_9ee.getAttribute("rows");_9ee._placeholder.className=_9ee.className;_9ee._placeholder.style.cssText=_9ee.style.cssText;_9ec(_9ee._placeholder);_9e5(_9ee);if(_9d1.get(_9ee,"display")!="none"){_9e0(_9ee);}};function _9d8(_9ef,_9f0){document.getElementsByTagName("head")[0].appendChild($("style"));var _9f1=document.styleSheets[document.styleSheets.length-1];if(_9f1.insertRule){_9f1.insertRule(_9ef+"{"+_9f0+"}",0);}else{_9f1.addRule(_9ef,_9f0,0);}};});},"mxui/mixin/_ValidationHelper":function(){define(["dojo/dom-class","dojo/_base/declare"],function(_9f2,_9f3){var _9f4=_9f3(null,{required:false,requiredMsg:"",validator:null,_errorNode:null,_cellNode:null,_valsub:null,_valattr:null,_hasError:false,setupValidation:function(attr){var node=this.domNode.parentNode;if(node.nodeName==="TD"){this._cellNode=node;}this._valattr=attr||null;},setValidationObject:function(obj){if(this._valsub){this.unsubscribe(this._valsub);}if(obj){this._valsub=this.subscribe({guid:obj.getGuid(),callback:this.onValidation,val:true});}this.removeError();},validatedMicroflow:function(_9f5){var self=this;var run=function(){window.mx.ui.execute({microflow:_9f5},{context:self.mxcontext});};switch(_9f5.validate){case "node":if(this.isValid()){run();}break;case "view":this.mxform.validate(run);break;default:run();break;}},onValidation:function(list){var val=list[0],attr=this._valattr,msg=val.getReasonByAttribute(attr);if(msg!=null){this.addError(msg);val.removeAttribute(attr);}else{this.removeError();}},validate:function(){if(this.checkValidations&&!this.checkValidations()){return "";}if(this.required&&this.get("value")===""){return (this.requiredMessage||this.requiredMsg||window.mx.ui.translate("mendix.lib.Validations","required_field"));}},isValid:function(){var _9f6=this.validate();if(_9f6!=null){this.addError(_9f6);return false;}else{this.removeError();return true;}},addError:function(msg){this.removeError();this._hasError=true;if(msg){this._errorNode=mxui.dom.create("div",{"class":"alert alert-danger"},msg);this.domNode.parentNode.appendChild(this._errorNode);this.mxform.resize();}if(this._cellNode){_9f2.add(this._cellNode,"has-error");}if(this.validator){this.validator.addNotification();}},removeError:function(){if(this._errorNode){mxui.dom.orphan(this._errorNode);this._errorNode=null;}if(this._cellNode){_9f2.remove(this._cellNode,"has-error");}if(this.validator&&this._hasError){this.validator.removeNotification();}this._hasError=false;}});return _9f4;});},"mxui/mixin/_DynamicOptionHelper":function(){define(["mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_9f7,_9f8,_9f9){var _9fa=function(obj,_9fb,_9fc){var _9fd={},len=_9fb.length,_9fe=len;var _9ff=function(_a00,v){_9fd[_a00]=v;if(--_9fe===0){_9fc&&_9fc(_9fd);}};if(len===0){_9fc&&_9fc(_9fd);}else{for(var i=0;i<len;++i){obj.fetch(_9fb[i][0],_9f8.hitch(null,_9ff,_9fb[i][1]));}}};var _a01=_9f9(null,{updateOptions:function(_a02,obj,_a03){if(typeof _a03!="function"){throw new Error(this.name+".updateOptions : invalid callback");}var self=this,_a04={},_a05=[];for(var i=0,_a06;_a06=_a02[i];++i){var _a07=this[_a06+"Attribute"];if(_a07){_a05.push([_a07,_a06]);}else{_a04[_a06]=this[_a06];}}if(obj){_9fa(obj,_a05,function(_a08){_a03.call(self,_9f8.mixin({},_a08,_a04));});}else{_a03.call(this,_a04);}}});return _a01;});},"mxui/mixin/_Pluggable":function(){define(["mendix/logger","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo"],function(_a09,_a0a,_a0b,_a0c,dojo){var _a0d=_a0c(null,{plugins:null,pluginEvents:null,_normalizePluginName:function(name){if(name.indexOf(".")==-1){name="mxui.widget.plugins."+this.declaredClass.split(".").pop()+"."+name;}return name;},loadPlugin:function(name,_a0e){this.plugins=this.plugins||{};name=this._normalizePluginName(name);dojo.require(name);var _a0f=_a0b.getObject(name);this.plugins[name]=new _a0f({parent:this,config:_a0e});},hasPlugin:function(name){return this.plugins&&this._normalizePluginName(name) in this.plugins;},registerToPluginEvent:function(name,_a10,_a11){this.pluginEvents=this.pluginEvents||{};if(!this.pluginEvents[name]){this.pluginEvents[name]=[];}_a10._async=_a11;this.pluginEvents[name].push(_a10);},triggerPluginEvent:function(name,args,_a12){var _a13=this.pluginEvents&&this.pluginEvents[name];var _a14=1;var _a15=function(){if(--_a14===0){if(_a12){_a12();}}};if(_a13){_a0a.forEach(_a13,function(_a16){try{if(_a16._async){_a14++;_a16(args,_a15);}else{_a16(args);}}catch(e){_a09.error(this.id+".triggerPluginEvent: An error occurred in listener of event '"+name+"': "+e);}},this);}_a15();},uninitialize:function(){for(var name in this.plugins){try{this.plugins[name].destroy();}catch(e){}}}});return _a0d;});},"mxui/mixin/_Contextable":function(){define(["mendix/logger","dojo/_base/connect","dojo/_base/declare"],function(_a17,_a18,_a19){var _a1a=_a19(null,{dropContext:"",contextsource:"",notifyListeners:function(_a1b){_a18.publish(window.mx.ui.makeShareId(this.mxform,this.mxid),[_a1b]);},initContext:function(){if(!this.mxcontext){this.mxcontext=this.createContext();}},cloneContext:function(_a1c){if(this.mxcontext==null||this.mxcontext===""){this.mxcontext=this.createContext();}this.mxcontext.dupFrom(_a1c);this.applyContextDrop();this.applyContextAction();if(this.backtrackconstraints){this.mxcontext.setConstraints(this.backtrackconstraints);}},applyContextDrop:function(){var _a1d=this.dropContext;if(_a1d){for(var i=0,drop;drop=_a1d[i];i++){if(this.mxcontext.hasContext(drop)){this.mxcontext.unsetContext(drop);}}}},applyContextAction:function(){if(/reset/i.test(this.contextAction)){this.mxcontext.reset();}},createContext:function(){var ctxt=new mendix.lib.MxContext();ctxt.setAppFlowId(this.app_flow_id);return ctxt;},removeOpenContext:function(){var _a1e=this.mxcontext;if(_a1e&&_a1e.listeners){_a1e.listeners[this.id]=null;delete _a1e.listeners[this.id];}window.mx.ui.cleanWidgetContext(this);delete this.mxcontext;},uninitialize:function(){this.removeOpenContext();}});return _a1a;});},"mxui/mixin/_Scriptable":function(){define(["mendix/logger","dojo/_base/declare"],function(_a1f,_a20){var _a21=_a20(null,{offeredInterfaces:null,offerInterface:function(_a22){if(this.offeredInterfaces==null){this.offeredInterfaces={};}if(this[_a22]){this.offeredInterfaces[_a22]=true;return true;}else{return false;}},offerInterfaces:function(_a23){for(var i=0;i<_a23.length;i++){this.offerInterface(_a23[i]);}},deleteInterface:function(_a24){if(this.offeredInterfaces&&this.offeredInterfaces[_a24]){this.offeredInterfaces[_a24]=null;delete this.offeredInterfaces[_a24];}},hasInterface:function(_a25){return (this.offeredInterfaces&&this.offeredInterfaces[_a25])?true:false;},invokeCall:function(call,args){if(!this.hasInterface(call)){_a1f.error(this.id+".invokeCall: ERROR: attempt to invoke a function not specified as Scriptable");}else{this[call](args);}}});return _a21;});},"mxui/widget":function(){define(["mxui/widget/_MasterTooltip"],function(_a26){var _a27={};_a27.getDisableables=function(node){var list=[];var run=function(node){var _a28=node.childNodes;for(var i=0,_a29;_a29=_a28[i];i++){if(_a29.nodeType!=1){continue;}var id=_a29.getAttribute("widgetId"),_a2a=dijit.byId(id);if(_a2a&&!(/^dijit/.test(id)||_a2a._btn_||_a2a instanceof mxui.widget._Button)){list.push(_a2a);}if(!(_a2a instanceof mxui.widget._WidgetBase)){run(_a29);}}};run(node);return list;};_a27.fireOnReady=function(_a2b,_a2c){var _a2d=[];dojo.forEach(_a2b,function(w){if(w.addOnLoad){_a2d.push(function(h){w.addOnLoad(h);});}});if(_a2c){_a2d.push(function(){_a2c();});}mendix.lang.sequence(_a2d);};_a27.makeCallsBundle=function(_a2e,_a2f,_a30){var _a31=[],i=_a2e.length;while(i--){var _a32=_a2e[i].prototype,fnc=_a32[_a30];fnc&&_a31.push(fnc);}return _a31.length?(function(){var call=null;for(var i=0,_a33;_a33=_a31[i];i++){try{_a33.call(this);}catch(e){var _a34=_a33.ctor&&_a33.ctor.prototype,_a35=(_a34&&_a34.declaredClass)||"some";logger.error(this.id+"."+_a2f+": Can not execute "+_a30+" function of "+_a35+" addon :"+e.message);}}}):function(){};};_a27.destroyChildren=function(node){var _a36=dijit.findWidgets(node);dojo.forEach(_a36,function(_a37){try{_a37.destroyRecursive();}catch(e){logger.error(_a37.id+".destroy: Unable to destroy:"+e.message);}});};_a27.defineClass=function(_a38,_a39,_a3a){var _a3b=(function(args){if(this instanceof arguments.callee){var _a3c=(args&&args.callee==arguments.callee)?args:arguments;try{_a38&&_a38.apply(this,_a3c);}catch(e){var _a3d=typeof e=="string"?e:e.message;logger.error(this.id+".Unable to render widget. ERROR: "+_a3d);this.loaded();this._broken=true;this._brokenError=_a3d;var _a3e=this.domNode&&this.domNode.parentNode,_a3f=mxui.dom.div({refWidgetId:this.id,style:"color:red"},"Unable to render "+this.id+" widget: "+_a3d);if(_a3e){_a3e.removeChild(this.domNode);_a3e.appendChild(_a3f);}else{var node=(arguments.length==2&&arguments[1].nodeName)?arguments[1]:null;if(node&&node.parentNode){node.parentNode.appendChild(_a3f);}}}}else{if(_a39){var _a40=(arguments.callee.caller)?"from scope "+arguments.callee.caller.toString():"from unknown scope";}return new arguments.callee(arguments);}});if(_a38){for(var x in _a38){_a3b[x]=_a38[x];}_a3b.prototype=_a38.prototype;_a3b.prototype.constructor=_a3b;}return _a3b;};_a27.transformAddons=function(_a41){var _a42=[];for(var i=0,l=_a41.length;i<l;i++){var _a43=_a41[i],cons=(typeof _a43=="string")?dojo.getObject(_a43):_a43;if(cons==null||typeof (cons)=="object"){throw new Error("mxui.widget.declare: Mixin '"+_a43.toString()+"' is not loaded! Maybe it's broken???");}_a42.push(cons);}return _a42;};_a27.createPrototype=function(_a44,_a45,_a46){var _a47=function(_a48){var _a49=_a48.inputargs,_a4a=false;if(_a49 instanceof Array){var _a4b={};for(var i=0,l=_a49.length;i<l;i++){if(typeof _a49[i]=="object"){for(var x in _a49[i]){_a4b[x]=_a49[i][x];break;}_a4a=true;}else{_a4b[_a49[i]]="";}}if(_a4a){}_a49=_a4b;}if(_a49){var _a4c=_a44.__inputargs?_a44.__inputargs:(_a44.__inputargs={});for(var i in _a49){_a4c[i]=_a44[i]=_a49[i];}}};for(var i=0,l=_a45.length;i<l;i++){var _a4d=_a45[i].prototype;_a47(_a4d);}_a47(_a44);for(var i=0,l=_a46.length;i<l;i++){var _a4e=_a46[i].prototype;_a47(_a4e);}};_a27.declare=function(_a4f,_a50){var _a51=_a50.superclass||dijit._Widget,_a52=_a50.mixins,_a53=_a50.constructor,_a54=_a4f.split(".");if(!_a52&&_a50.addons){dojo.deprecated("mxui.widget.declare: addons are deprecated, use mixins instead (widget: "+_a4f+")","","3.1");_a52=_a50.addons;}_a52=_a52||[];if(_a54.length==1){_a4f="mxui.widget."+_a54;_a54=_a4f.split(".");}var _a55=_a51.prototype["_mx_"]?[_a51]:[_a51,mxui.widget._Widget];var _a52=mxui.widget.transformAddons(_a52),_a56=_a55.concat(_a52),_a57=_a54.pop();_a50.moduleName=_a54.join(".");_a50.className=_a57;_a50["initializer"]=mxui.widget.makeCallsBundle(_a56,"create","initialize");_a50["uninitializer"]=mxui.widget.makeCallsBundle(_a56,"destroy","uninitialize");mxui.widget.createPrototype(_a50,_a55,_a52);var _a58=dojo.declare(_a4f,_a56,_a50);var _a59=mxui.widget.defineClass(_a58,true,_a4f);return dojo.setObject(_a4f,_a59);};_a27.createCSSMap=function(_a5a,css){for(var i in css){css[i]=_a5a+"-"+css[i];}css.baseClass=_a5a;return css;};_a27.ready=function(_a5b,_a5c,_a5d){var _a5e=[];for(var i=0,_a5f;_a5f=_a5b[i];i++){if(_a5f.addOnLoad){_a5e.push(function(_a60){return function(_a61){_a60.addOnLoad(_a61);};}(_a5f));}}mendix.lang.collect(_a5e,_a5c,_a5d);};var _a62=null;_a27.showTooltip=function(){if(!_a62){_a62=new _a26();}_a62.show.apply(_a62,arguments);};_a27.hideTooltip=function(_a63){if(!_a62){_a62=new _a26();}if(_a63==null){_a63=_a62.currentNode;}_a62.hide(_a63);};return _a27;});},"mxui/widget/_MasterTooltip":function(){define(["mendix/logger","dojo/window","dojo/dom-class","dojo/dom-geometry","dojo/_base/declare","dijit/Tooltip","dijit/_TemplatedMixin","dojo/text!mxui/widget/templates/Tooltip.html"],function(_a64,_a65,_a66,_a67,_a68,_a69,_a6a,_a6b){var _a6c=_a68([_a69._MasterTooltip,_a6a],{declaredClass:"mxui.widget._MasterTooltip",constructor:function(){this.templateString=_a6b;},show:function(_a6d,_a6e,_a6f,dv){var cn=this.contentNode;var pn=this.prepareNode;if(!_a6d){cn.style.display="none";pn.style.display="block";}else{cn.style.display="block";pn.style.display="none";if(typeof (_a6d)=="string"){cn.innerHTML=_a6d;}else{if(_a6d.nodeName!=null){while(cn.firstChild){cn.removeChild(cn.firstChild);}cn.appendChild(_a6d);}}if(dv){dv.resize();var box=_a67.getMarginBox(this.domNode,null),view=_a65.getBox();if(box.h>view.h){dv.resize({h:_a67.getContentBox(cn.parentNode).h-(box.h-view.h)});}}}this.domNode.style.display="";this.aroundNode=null;this.inherited(arguments,[_a6d,_a6e,_a6f]);_a66.add(this.domNode,"mx-tooltip");}});return _a6c;});},"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_a70,_a71,fx,dom,_a72,_a73,_a74,lang,_a75,on,has,_a76,_a77,_a78,_a79,_a7a,_a7b,_a7c){var _a7d=_a71("dijit._MasterTooltip",[_a78,_a79],{duration:_a76.defaultDuration,templateString:_a7b,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _a7a(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_a7e,_a7f,_a80,rtl,_a81){if(this.aroundNode&&this.aroundNode===_a7f&&this.containerNode.innerHTML==_a7e){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_a7e;if(_a81){this.set("textDir",_a81);}this.containerNode.align=rtl?"right":"left";var pos=_a77.around(this.domNode,_a7f,_a80&&_a80.length?_a80:_a82.defaultPosition,!rtl,lang.hitch(this,"orient"));var _a83=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_a83.y+((_a83.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_a83.x+((_a83.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_a74.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_a7f;},orient:function(node,_a84,_a85,_a86,_a87){this.connectorNode.style.top="";var _a88=_a86.h,_a89=_a86.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_a84+"-"+_a85];this.domNode.style.width="auto";var size=_a73.position(this.domNode);if(has("ie")==9){size.w+=2;}var _a8a=Math.min((Math.max(_a89,1)),size.w);_a73.setMarginBox(this.domNode,{w:_a8a});if(_a85.charAt(0)=="B"&&_a84.charAt(0)=="B"){var bb=_a73.position(node);var _a8b=this.connectorNode.offsetHeight;if(bb.h>_a88){var _a8c=_a88-((_a87.h+_a8b)>>1);this.connectorNode.style.top=_a8c+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_a87.h/2-_a8b/2,0),bb.h-_a8b)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_a89);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_a8d){if(this._onDeck&&this._onDeck[1]==_a8d){this._onDeck=null;}else{if(this.aroundNode===_a8d){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});if(has("dojo-bidi")){_a7d.extend({_setAutoTextDir:function(node){this.applyTextDir(node);_a70.forEach(node.children,function(_a8e){this._setAutoTextDir(_a8e);},this);},_setTextDirAttr:function(_a8f){this._set("textDir",_a8f);if(_a8f=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});}_a7c.showTooltip=function(_a90,_a91,_a92,rtl,_a93){if(_a92){_a92=_a70.map(_a92,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_a82._masterTT){_a7c._masterTT=_a82._masterTT=new _a7d();}return _a82._masterTT.show(_a90,_a91,_a92,rtl,_a93);};_a7c.hideTooltip=function(_a94){return _a82._masterTT&&_a82._masterTT.hide(_a94);};var _a82=_a71("dijit.Tooltip",_a78,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_a95){_a70.forEach(this._connections||[],function(_a96){_a70.forEach(_a96,function(_a97){_a97.remove();});},this);this._connectIds=_a70.filter(lang.isArrayLike(_a95)?_a95:(_a95?[_a95]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_a70.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_a98=this.selector,_a99=_a98?function(_a9a){return on.selector(_a98,_a9a);}:function(_a9b){return _a9b;},self=this;return [on(node,_a99(_a75.enter),function(){self._onHover(this);}),on(node,_a99("focusin"),function(){self._onHover(this);}),on(node,_a99(_a75.leave),lang.hitch(self,"_onUnHover")),on(node,_a99("focusout"),lang.hitch(self,"_onUnHover"))];},this);this._set("connectId",_a95);},addTarget:function(node){var id=node.id||node;if(_a70.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_a70.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_a72.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_a70.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},_onHover:function(_a9c){if(!this._showTimer){this._showTimer=this.defer(function(){this.open(_a9c);},this.showDelay);}},_onUnHover:function(){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}this.close();},open:function(_a9d){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}var _a9e=this.getContent(_a9d);if(!_a9e){return;}_a82.show(_a9e,_a9d,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=_a9d;this.onShow(_a9d,this.position);},close:function(){if(this._connectNode){_a82.hide(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}},onShow:function(){},onHide:function(){},destroy:function(){this.close();_a70.forEach(this._connections||[],function(_a9f){_a70.forEach(_a9f,function(_aa0){_aa0.remove();});},this);this.inherited(arguments);}});_a82._MasterTooltip=_a7d;_a82.show=_a7c.showTooltip;_a82.hide=_a7c.hideTooltip;_a82.defaultPosition=["after-centered","before-centered"];return _a82;});},"mxui/widget/_Widget":function(){define(["mxui/dom","mendix/lang","mendix/logger","dijit/_Widget","dijit/registry","dojo/query","dojo/_base/array","dojo/_base/lang","dojo/_base/kernel","dojo/_base/declare"],function(_aa1,_aa2,_aa3,_aa4,_aa5,_aa6,_aa7,_aa8,_aa9,_aaa){_aa4.prototype.destroy=function(_aab){if(!this._destroyed){this._beingDestroyed=true;this.uninitializer&&this.uninitializer();try{this.uninitialize();}catch(e){throw new Error(this.id+".destroy: Some trouble in uninitialize function: "+e.message);}var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_aac){dfe(_aac,d.disconnect);});dfe(this._subscribes,function(_aad){dun(_aad);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_aab);_aa5.remove(this.id);this._destroyed=true;}};var _aae=_aaa(null,{applyContext:function(_aaf,_ab0){this.mxcontext=_aaf;if(this.isContainer){this.applyContextRecursive(_ab0);}else{if(typeof this.update=="function"){var _ab1=_aaf.getTrackObject(),_ab2=_aaf.getTrackId();if(_ab1){this.update(_ab1,_ab0);}else{if(_ab2){window.mx.data.get({guid:_ab2,callback:function(obj){if(!obj){_aa3.error(this.id+".applyContext: error while fetching object with guid "+_ab2);}this.update(obj,_ab0);},error:function(e){window.mx.onError(e);this.update(null,_ab0);}},this);}else{this.update(null,_ab0);}}}else{_ab0&&_ab0();}}},applyContextRecursive:function(_ab3){var _ab4=_aa5.findWidgets(this.domNode);if(_ab4.length==0){_ab3&&_ab3();return;}this.callFetchOnChildren(this.mxcontext,_ab4,_ab3);},patchChildImpl:function(_ab5){if(_ab5.applyContext==null){if(_ab5.constructor){_aa8.extend(_ab5.constructor,_aae.prototype);}else{_aa8.mixin(_ab5,_aae.prototype);}}},callFetchOnChildren:function(_ab6,_ab7,_ab8){var id=this.id,_ab9=[],_aba=null;if(this.createContext){_aba=this.createContext();_aba.dupFrom(_ab6);}else{_aba=_ab6;}_aba.freeze();_aa7.forEach(_ab7,function(_abb,i){this.patchChildImpl(_abb);_ab9.push(function(_abc){var _abd=function(){try{_abb.applyContext(_aba,_abc);}catch(e){_aa3.error(id+".applyContextRecursive: ERROR:"+_abb.id+": "+e.message,e);_abc();}};if((i+1)%10===0){setTimeout(_abd,0);}else{_abd();}});},this);var _abe=_aa8.hitch(window.mx.ui,"cleanContext",_aba.ident,this);_aa2.sequence(_ab9,function(){_abe();_ab8&&_ab8();});},isLoadedRecursive:function(_abf,node){var _ac0=_aa6("[widgetId]",(node!=null?node:this.domNode)),_ac1=_ac0.map(_aa5.byNode),_ac2=[],id=this.id;_aa7.forEach(_ac1,function(kid){if(kid.addOnLoad){_ac2.push(function(_ac3){kid.addOnLoad(_ac3);});}else{}});_aa2.collect(_ac2,function(){_abf&&_abf();});}});var _ac4=_aaa([_aae],{declaredClass:"mxui.widget._Widget",_mx_:true,_loaded:false,_suspended:false,_loadCalls:null,_destroyCalls:null,_liveConnects:null,_subscriptions:null,mxid:"",content_id:"",app_flow_id:"",tabIndex:"",focusIndex:"",isInactive:false,attributeMap:_aa8.delegate(_aa4.prototype.attributeMap,{mxid:"",isInactive:"",focusIndex:""}),constructor:function(){this._loadCalls=[];this._destroyCalls=[];this._liveConnects=[];this._subscriptions=[];},_getDisabledAttr:function(){return this.isInactive;},_setDisabledAttr:function(_ac5){this.isInactive=!!_ac5;},loaded:function(){this._loaded=true;var _ac6=this._loadCalls;while(_ac6.length!=0){try{(_ac6.shift())();}catch(e){_aa3.error(this.id+".loaded/actLoaded: Broken onLoad function!!! "+e.message);}}this.loaded=function(){return false;};return true;},actLoaded:function(_ac7){this.loaded();_ac7&&_ac7();},isLoaded:function(){return this._loaded;},rendered:function(){_aa9.deprecated(this.id+".rendered is deprecated, use loaded instead","","3.1");this.loaded();},actRendered:function(_ac8){_aa9.deprecated(this.id+".actRendered is deprecated, use actLoaded instead","","3.1");this.actLoaded(_ac8);},isRendered:function(){_aa9.deprecated(this.id+".isRendered is deprecated, use isLoaded instead","","3.1");return this.isLoaded();},addOnLoad:function(fnc){this._loaded?fnc():this._loadCalls.push(fnc);},addOnDestroy:function(fnc){this._destroyCalls.push(fnc);},registerOnDestroy:function(f1){_aa9.deprecated(this.id+"registerOnDestroy is deprecated, use addOnDestroy instead","","3.1");this.addOnDestroy(f1);},subscribe:function(sub){var subs=this._subscriptions,guid=sub.guid,val=sub.val,attr=sub.attr,_ac9=sub.entity;if(sub.attr){if(_aa7.some(subs,function(sub){return ((sub.guid==guid)&&(sub.attr==attr));})){return;}}else{if(sub.val){if(_aa7.some(subs,function(sub){return sub.guid==guid&&sub.val;})){return;}}else{if(sub.guid){if(_aa7.some(subs,function(sub){return ((sub.guid==guid)&&(sub.attr==null));})){return;}}else{if(sub.entity){if(_aa7.some(subs,function(sub){return (sub.entity&&sub.entity==_ac9);})){return;}}}}}var _aca=window.mx.data.subscribe(sub,this);subs.push(_aca);return _aca;},unsubscribe:function(_acb){var subs=this._subscriptions;for(var i=subs.length-1,sub;sub=subs[i];i--){if(sub==_acb){window.mx.data.unsubscribe(sub);subs.splice(i,1);break;}}},subscribeToClass:function(_acc){_aa9.deprecated(this.id+"subscribeToClass is deprecated, use subscribe instead","","3.1");this.subscribe({entity:_acc,callback:_aa8.hitch(this,"objectUpdate")});},subscribeToGuid:function(guid){_aa9.deprecated(this.id+"subscribeToGuid is deprecated, use subscribe instead","","3.1");this.subscribe({guid:guid,callback:_aa8.hitch(this,"objectUpdate")});},subscribeToChange:function(guid,attr,_acd){_aa9.deprecated(this.id+"subscribeToChange is deprecated, use subscribe instead","","3.1");if(!isNaN(guid)){this.subscribe({guid:guid,attr:attr,callback:_aa8.hitch(this,_acd)});}},removeClassSubscriptions:function(_ace){_aa9.deprecated(this.id+".removeClassSubscriptions is deprecated, use this.unsubscribe instead","","3.1");this._subscriptions=_aa7.filter(this._subscriptions,function(sub){if(sub.entity!=null){window.mx.data.unsubscribe(sub);return false;}return true;});_ace&&_ace();},removeGuidSubscriptions:function(_acf){_aa9.deprecated(this.id+".removeGuidSubscriptions is deprecated, use this.unsubscribe instead","","3.1");this._subscriptions=_aa7.filter(this._subscriptions,function(sub){if((sub.guid!=null)&&(sub.attr==null)){window.mx.data.unsubscribe(sub);return false;}return false;});_acf&&_acf();},removeChangeSubscriptions:function(){_aa9.deprecated(this.id+".removeChangeSubscriptions is deprecated, use this.unsubscribe instead","","3.1");this._subscriptions=_aa7.filter(this._subscriptions,function(sub){if((sub.guid!=null)&&(sub.attr!=null)){window.mx.data.unsubscribe(sub);return false;}return true;});},removeSubscriptions:function(){var _ad0=this._subscriptions;while(_ad0.length!=0){window.mx.data.unsubscribe(_ad0.shift());}this._subscriptions=[];delete this._updatedObject;},liveConnect:function(node,evt,map){this._liveConnects.push(_aa1.liveConnect(node,evt,this,map));},liveDisconnect:function(_ad1){var _ad2=this._liveConnects;for(var i=0,_ad3;_ad3=_ad2[i];i++){if(_ad3==_ad1){_aa1.liveDisconnect(_ad1);_ad2.splice(i,1);return;}}},disconnectLive:function(){_aa9.deprecated(this.id+".disconnectLive is deprecated, use liveDisconnect instead","","3.1");var _ad4=this._liveConnects;while(_ad4.length){_aa1.liveDisconnect(_ad4.pop());}},domData:function(){this.domData=_aa1.getScopedData();return this.domData.apply(this,arguments);},getLocalUrl:function(_ad5){_aa9.deprecated(this.id+".getLocalUrl is deprecated","","3.1");return require.toUrl(this.moduleName,_ad5);},markupFactory:function(_ad6,node,_ad7){var _ad8=_aa1.getTabIndex(node);if(_ad8){_ad6.focusIndex=_ad8;}_ad6.content_id=_ad6.content_id?_ad6.content_id:node.getAttribute("content_id");return new _ad7(_ad6,node);},resizeContent:function(){this.mxform.resize();},disposeContent:function(){this.mxform.dispose();},getTitle:function(){return this.mxform.getTitle();},getUIPlace:function(){return this.mxform.place;},getContent:function(){return this.content_id;},objectUpdate:function(obj,_ad9){if(this._suspended){this._updatedObject=obj;_ad9&&_ad9();}else{if(this.objectUpdateNotification.length==2){this.objectUpdateNotification(obj,_ad9);}else{this.objectUpdateNotification(obj);_ad9&&_ad9();}}},objectUpdateNotification:function(obj){},validationUpdate:function(){return this.refresh();},runAct:function(_ada,_adb,_adc){_aa9.deprecated(this.id+".runAct is deprecated, use sequence or collect instead","","3.1");var _add=_aa2[_adc?"collect":"sequence"];_add(this,_ada,_adb);},sequence:function(_ade,_adf){_aa2.sequence(_ade,_adf,this);},collect:function(_ae0,_ae1){_aa2.collect(_ae0,_ae1,this);},resume:function(){this._suspended=false;if("_updatedObject" in this){this.objectUpdateNotification(this._updatedObject);delete this._updatedObject;}this.resumed&&this.resumed();},suspend:function(){this._suspended=true;this.suspended&&this.suspended();},isSuspended:function(){return this._suspended;},addFocusBox:function(node){var box=mxui.wm.focus.addBox(node);this.addOnDestroy(function(){mxui.wm.focus.unregister(box);});return box;},getFocusBox:function(node){return mxui.wm.focus.byNode(node);},uninitialize:function(){if(!_ac4.prototype.isLoaded.call(this)){_aa3.error("Looks like "+this.id+" never loads up, check the structure of the widget");this.addOnLoad(_aa8.hitch(this,function(){try{this.uninitialize();}catch(e){_aa3.error(this.id+".uninitialize: ERROR when calling uninitialize");}}));}else{this.removeSubscriptions();var _ae2=this._liveConnects,_ae3=this._destroyCalls;while(_ae2.length){_aa1.liveDisconnect(_ae2.pop());}while(_ae3.length){(_ae3.shift()).call(this);}}}});return _ac4;});},"mxui/widget/_WidgetBase":function(){define(["mxui/dom","mendix/lang","mendix/lib/MxContext","mendix/logger","dijit/_WidgetBase","dijit/registry","dojo/query","dojo/dom-attr","dojo/dom-geometry","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_ae4,_ae5,_ae6,_ae7,_ae8,_ae9,_aea,_aeb,_aec,_aed,_aee,_aef){var _af0=_aef(_ae8,{declaredClass:"mxui.widget._WidgetBase",mxid:"",mxform:null,mxcontext:null,doParse:true,readOnly:false,ignoreUpdates:false,autoLoad:true,_loaded:false,_destroyed:false,_cachedDisabled:false,_disabled:false,_suspended:false,_loadCalls:null,_destroyCalls:null,_listeners:null,_subscriptions:null,"-chains-":{constructor:"after",uninitialize:"before"},constructor:function(_af1,node){this._loadCalls=[];this._destroyCalls=[];this._listeners=[];this._subscriptions=[];this.mxcontext=new _ae6();if(this.autoLoad){this.set("loaded",true);}},getTemplate:function(name){return window.mx.ui.getTemplate(this.mxid,name);},parseContent:function(node,_af2,_af3){var _af4={mxform:this.mxform,validator:this.validator,ignoreUpdates:this.ignoreUpdates};if(this.readOnly){_af4.readOnly=true;}if(this.doParse||_af3){return mxui.html.parser.parse(node||this.domNode,_aee.mixin(_af4,_af2));}else{return [];}},getChildren:function(_af5){if(_af5){return _aea("[widgetid]",this.domNode).map(_ae9.byNode);}else{return _ae9.findWidgets(this.domNode);}},resizeChildren:function(node,_af6){var _af7=_ae9.findWidgets(node);if(_af7.length>1||node.children.length>1){_af6=true;}_aed.forEach(_af7,function(_af8){var _af9=_af8.domNode.parentNode;if(_af9===node||_af9===_af8.mxform.domNode){if(typeof _af8.resize==="function"){if(_af6){_af8.resize();}else{var box=_aec.getContentBox(node);_af8.resize({w:box.w,h:box.h});}}}});},applyContext:function(_afa,_afb){var _afc=this.mxcontext;if(!/reset/i.test(this.contextAction)){_afc.mixin(_afa);if(this.dropContext){for(var i=0,_afd;_afd=this.dropContext[i];i++){_afc.unsetContext(_afd);}}}else{if(this.preserveTrackObject){if(_afa){_afc.setObject(_afa.getTrackObject(),_afa.getTrackEntity(),_afa.getTrackId());}else{_afc.setObject(null);}}}if(typeof this.update=="function"){var _afe=_afc.getObject(),_aff=_afc.getTrackId(),_b00=_aee.hitch(this,function(obj){try{this.update(obj,_afb);}catch(e){throw new Error(this.id+".applyContext: "+e);}});if(_afe){_b00(_afe);}else{if(_aff){window.mx.data.get({guid:_aff,callback:function(obj){if(!obj){_ae7.error(this.id+".applyContext: error while fetching object with guid "+_aff);}_b00(obj);},error:function(e){window.mx.onError(e);_b00(null);}},this);}else{_b00(null);}}}else{var _b01=_ae9.findWidgets(this.domNode);this.passContext(_b01,_afa,_afb);}},passContext:function(_b02,_b03,_b04){if(typeof _b03=="function"){_b04=_b03;_b03=this.mxcontext;}else{_b03=_b03||this.mxcontext;}var _b05=[];for(var i=0,_b06;_b06=_b02[i];i++){if(_b06.applyContext){_b05.push(function(_b07){return function(cb){try{_b07.applyContext(_b03,cb);}catch(e){throw new Error(_b07.id+".applyContext: "+e);}};}(_b06));}else{var _b08=_ae9.findWidgets(_b06.domNode);this.passContext(_b08,_b03,_b04);}}this.collect(_b05,_b04);},subscribe:function(sub){if(this.ignoreUpdates){return;}var _b09=window.mx.data.subscribe(sub,this);this._subscriptions.push(_b09);return _b09;},unsubscribe:function(_b0a){if(this.ignoreUpdates){return;}var list=this._subscriptions;for(var i=0,_b0b;_b0b=list[i];i++){if(_b0b==_b0a){window.mx.data.unsubscribe(_b0a);list.splice(i,1);break;}}},unsubscribeAll:function(){var subs=this._subscriptions;while(subs.length){window.mx.data.unsubscribe(subs.pop());}},listen:function(_b0c,_b0d){var _b0e=this.mxform.listen(_b0c,_aee.hitch(this,_b0d));this._listeners.push(_b0e);return _b0e;},unlisten:function(_b0f){var list=this._listeners;for(var i=0,_b10;_b10=list[i];i++){if(_b10==_b0f){this.mxform.unlisten(_b0f);list.splice(i,1);break;}}},capture:function(_b11,evt,_b12){var _b13=_ae4.capture(_b11,evt,_aee.hitch(this,_b12));this.addOnDestroy(_b13.remove);},collect:function(_b14,_b15){_ae5.collect(_b14,_b15,this);},sequence:function(_b16,_b17){_ae5.sequence(_b16,_b17,this);},translate:function(str,args,_b18){return window.mx.ui.translate(this.declaredClass,str,args,_b18);},domData:function(){this.domData=_ae4.getScopedData();return this.domData.apply(this,arguments);},_getSuspendedAttr:function(){return this._suspended;},_setSuspendedAttr:function(_b19){var _b1a=!!_b19;if(this._suspended!=_b1a){this._suspended=_b1a;var func=_b1a?"suspend":"resume";try{this[func]();}catch(e){throw new Error(this.id+"."+func+": "+e);}}},resume:function(){},suspend:function(){},checkDisabled:function(){return this.readOnly||this._disabled;},updateDisabled:function(_b1b){if(_b1b!=null){this._disabled=!!_b1b;}_b1b=this.checkDisabled();if(_b1b!=this._cachedDisabled){this._cachedDisabled=_b1b;var func=_b1b?"disable":"enable";try{this[func]();}catch(e){throw new Error(this.id+"."+func+": "+e);}}},_getDisabledAttr:function(){return this._cachedDisabled;},_setDisabledAttr:function(_b1c){return this.updateDisabled(_b1c);},enable:function(){},disable:function(){},_setMxidAttr:function(_b1d){_aeb.set(this.domNode,"data-mendix-id",_b1d);},_setFocusIndexAttr:function(_b1e){if(_b1e!=null){_aeb.set(this.domNode,"focusindex",_b1e);}},_getLoadedAttr:function(){return this._loaded;},_setLoadedAttr:function(_b1f){this._loaded=!!_b1f;if(_b1f){var _b20=this._loadCalls;while(_b20.length){_b20.shift()();}}},actLoaded:function(_b21){this.set("loaded",true);_b21&&_b21();},addOnLoad:function(fnc){this._loaded?fnc():this._loadCalls.push(fnc);},addOnDestroy:function(fnc){this._destroyed?fnc():this._destroyCalls.push(fnc);},destroy:function(_b22){this._beingDestroyed=true;try{this.uninitialize();}catch(e){throw new Error(this.id+".uninitialize: "+e);}function _b23(w){if(w.destroyRecursive){w.destroyRecursive(_b22);}else{if(w.destroy){w.destroy(_b22);}}};_aed.forEach(this._connects,_aee.hitch(this,"disconnect"));_aed.forEach(this._supportingWidgets,_b23);if(this.domNode){_aed.forEach(_ae9.findWidgets(this.domNode),_b23);}this.destroyRendering(_b22);_ae9.remove(this.id);this._destroyed=true;},uninitialize:function(){if(this._loaded){var list=this._listeners,_b24=this._destroyCalls;while(list.length){this.mxform.unlisten(list.pop());}this.unsubscribeAll();while(_b24.length){_b24.shift().call(this);}}else{_ae7.error(this.id+".uninitialize: widget not loaded yet, check widget structure");this.addOnLoad(_aee.hitch(this,function(){try{this.uninitialize();}catch(e){throw new Error(this.id+".unitialize: "+e);}}));}}});return _af0;});},"mxui/widget/_Button":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_DynamicOptionHelper","mxui/dom","mendix/logger","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dojo/_base/lang","dojo/_base/event","dojo/_base/declare"],function(_b25,_b26,_b27,_b28,_b29,_b2a,_b2b,_b2c,_b2d,_b2e){var _b2f=_b2e([_b25,_b26],{declaredClass:"mxui.widget._Button",renderType:"button",caption:"",iconUrl:"",iconClass:"",direction:0,cssClasses:null,cssStyle:"",needsObject:false,_textNode:null,_iconNode:null,_isCls:false,_clickCoords:null,_mouseUpConn:null,_ignoreClick:false,_typeRegex:/(^| )btn-(primary|info|success|warning|danger|inverse)( |$)/,buildRendering:function(){var $=_b27.create,_b30=this._textNode=document.createTextNode("");var _b31={};if(this.cssStyle){_b31={"style":this.cssStyle};}var _b32=this.cssClasses||[];if(typeof _b32==="string"){_b32=[_b32];}var _b33=_b32.join(" ");if(this.renderType==="link"){this.domNode=$("span",_b2c.mixin(_b31,{"class":"mx-link"+" "+_b33,})," ",$("a",{tabindex:-1},_b30)," ");}else{if(!this._typeRegex.test(_b32)){_b33="btn-default "+_b33;}this.domNode=$("button",_b2c.mixin(_b31,{"type":"button","class":"btn mx-button "+_b33,})," ",_b30," ");}this.connect(this.domNode,"onclick","_onClick");this.connect(this.domNode,"mousedown","_mouseDown");this.connect(this.domNode,"click",function(e){_b2d.stop(e);});this.connect(this.domNode,"keyup","onKeyUp");},update:function(obj,_b34){this.unsubscribeAll();this._mxObject=obj;if(obj){var self=this;this.subscribe({guid:obj.getGuid(),callback:function(){self.refresh();}});}this.refresh(_b34);},refresh:function(_b35){this.updateOptions(["caption"],this._mxObject,function(_b36){this.set("caption",_b36.caption);_b35&&_b35();});},onClick:function(e){},onKeyUp:function(e){},_mouseDown:function(e){this._downPos={x:e.pageX,y:e.pageY};this._mouseUpConn=this.connect(document,"mouseup","_mouseUp");},_mouseUp:function(e){this.disconnect(this._mouseUpConn);var self=this,old=this._downPos,cur={x:e.pageX,y:e.pageY};var _b37=Math.sqrt(Math.pow(old.x-cur.x,2)+Math.pow(old.y-cur.y,2));if(_b37<10){var evt=_b27.synthesizeEvent(e,{type:"click",target:this.domNode,currentTarget:this.domNode});this.domNode.focus();this.onClick(evt);}this._ignoreClick=true;setTimeout(function(){self._ignoreClick=false;},20);},_onClick:function(e){if(this._ignoreClick){return;}this.domNode.focus();this.onClick(e);},checkDisabled:function(){return this.needsObject?!this.mxcontext.hasTrackId():false;},enable:function(){if(this.renderType=="button"){this.domNode.removeAttribute("disabled");}},disable:function(){if(this.renderType=="button"){this.domNode.setAttribute("disabled","disabled");}},_setCaptionAttr:function(_b38){this._textNode.nodeValue=this.caption=_b38;},_setIconClassAttr:function(cls){this._setIcon(cls,true);},_setIconUrlAttr:function(img){this._setIcon(img,false);},_setIconVisibleAttr:function(_b39){this._iconNode.style.display=_b39?"":"none";},_setIcon:function(name,_b3a){var $=_b27.create,_b3b=(this._isCls!=_b3a),_b3c=this.domNode,node=this._iconNode;if(node&&(_b3b||!name)){_b3c.removeChild(node.nextSibling);_b3c.removeChild(node);}if(name){if(!node||_b3b){if(_b3a){node=this._iconNode=$("span",{"class":name});}else{node=this._iconNode=$("img",{src:window.mx.appUrl+name});}_b29.place(node,_b3c,"first");}else{if(_b3a){_b2a.replace(node,name,this.iconClass);}else{node.src=name;}}if(_b3a){this.iconUrl="";this.iconClass=name;}else{this.iconUrl=name;this.iconClass="";}this._isCls=_b3a;}else{this._isCls=false;this._iconNode=null;this.iconUrl=this.iconClass="";}},_setFocusIndexAttr:function(_b3d){_b2b.set(this.domNode,"tabindex",_b3d);}});return _b2f;});},"mxui/widget/_FormWidget":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_ValidationHelper","mxui/lib/MxInputMask","mxui/dom","mendix/lib/Error","mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_b3e,_b3f,_b40,_b41,_b42,_b43,_b44,_b45){var _b46=_b45([_b3e,_b3f],{declaredClass:"mxui.widget._FormWidget",attributePath:"",events:null,editNode:null,readNode:null,_mxObject:null,_rootSubs:null,_objsub:null,_attrsub:null,_path:null,_attribute:"",_entity:"",postMixInProperties:function(){var path=this._path=this.attributePath.split("/");this._attribute=path.pop();this._entity=path.slice(-1)[0]||this.entity;path.shift();var meta=window.mx.meta.getEntity(this._entity);if(!meta||!meta.has(this._attribute)){throw new Error("No permission to read or write attribute "+this._attribute+" of entity "+this._entity+", check security.");}this._rootSubs=[];},buildRendering:function(){if(this.readNode&&!this.domNode){this.domNode=_b41.create("div",this.editNode);}if(this.mask){var mask=new _b40(this.editNode,this.mask);this.addOnDestroy(_b44.hitch(mask,"destroy"));}},startup:function(){this.set("disabled",this.readOnly);this.setupValidation(this._attribute);this.connectEvents();},update:function(obj,_b47){while(this._rootSubs.length>0){this.unsubscribe(this._rootSubs.shift());}var self=this,_b48=function(){window.mx.data.fetch(obj,self._path,{usexpath:true},function(obj){self.updateObject(obj,_b47);},function(e){window.mx.onError(e);self.updateObject(null,_b47);});};if(obj){if(this._path.length>0){this._rootSubs.push(this.subscribe({guid:obj.getGuid(),callback:function(guid){_b48();}}));this._rootSubs.push(this.subscribe({guid:obj.getGuid(),attr:this._path[0],callback:function(guid,attr,val){_b48();}}));}_b48();}else{this.updateObject(null,_b47);}},updateObject:function(obj,_b49){if(obj!=this._mxObject){this._mxObject=obj;this.setValidationObject(obj);}this.removeError();this.updateDisabled();if(this._objsub){this.unsubscribe(this._objsub);this._objsub=null;}if(this._attrsub){this.unsubscribe(this._attrsub);this._attrsub=null;}if(obj){var _b4a=_b44.hitch(this,function(val){this.removeError();if(this.get("value")!=val){this.set("value",val);}});this._objsub=this.subscribe({guid:obj.getGuid(),callback:function(){_b4a(this._mxObject.get(this._attribute));}});this._attrsub=this.subscribe({guid:obj.getGuid(),attr:this._attribute,callback:function(guid,attr,val){_b4a(val);}});this.set("value",obj.get(this._attribute));}else{this.set("value","");}_b49&&_b49();},connectEvents:function(){var node=this.editNode||this.domNode;this.connect(node,"change","onChange");for(var evt in this.events){if(evt!="change"){this.connect(node,evt,_b44.hitch(this,"handleEvent",evt));}}},handleEvent:function(evt){var ev=this.events&&this.events[evt];ev&&this.validatedMicroflow(ev);},onChange:function(e){var ev=this.events&&this.events.change,_b4b=this.get("value");if(this.isValid()){this._mxObject.set(this._attribute,_b4b);this.set("value",_b4b);}ev&&this.validatedMicroflow(ev);},enable:function(){if(this.editNode&&this.readNode){this.domNode.replaceChild(this.editNode,this.readNode);}else{this.domNode.removeAttribute("disabled");}},disable:function(){if(this.editNode&&this.readNode){var _b4c=this.get("value");if(_b4c!=null){this.set("value",_b4c);}this.domNode.replaceChild(this.readNode,this.editNode);}else{this.domNode.setAttribute("disabled","disabled");}},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._attribute));},getType:function(){return window.mx.meta.getEntity(this._entity).getAttributeType(this._attribute);}});return _b46;});},"mxui/widget/Underlay":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Floatable","mxui/dom","mendix/logger","dojo/dom-style","dojo/_base/fx","dojo/_base/window","dojo/_base/declare"],function(_b4d,_b4e,dom,_b4f,_b50,_b51,_b52,_b53){var _b54=_b53([_b4d,_b4e],{declaredClass:"mxui.widget.Underlay",_count:0,buildRendering:function(){this.domNode=dom.create("div",{"class":"mx-underlay"});},postCreate:function(){this.createBackgroundIframe();},show:function(_b55){if(this._count++===0){var node=this.domNode;if(_b55){_b50.set(node,"opacity","0");_b52.body().appendChild(node);_b51.fadeIn({end:0.5,node:node,duration:_b55}).play();}else{_b52.body().appendChild(node);}}},hide:function(_b56){if(--this._count===0){var node=this.domNode;if(_b56){_b51.fadeOut({node:node,duration:_b56,onEnd:function(){dom.orphan(node);}}).play();}else{dom.orphan(node);}}}});return _b54;});},"mxui/mixin/_Floatable":function(){define(["dijit/BackgroundIframe","dojo/has","dojo/_base/declare"],function(_b57,_b58,_b59){var _b5a=_b59(null,{createBackgroundIframe:function(){if(_b58("ie")||_b58("trident")){var _b5b=new _b57(this.domNode);this.addOnDestroy(function(){_b5b.destroy();});}}});return _b5a;});},"mxui/widget/Dialog":function(){define(["mxui/widget/_Popup","mxui/dom","mendix/logger","dojo/dom-geometry","dojo/dom-style","dojo/touch","dojo/_base/fx","dojo/_base/declare"],function(_b5c,_b5d,_b5e,_b5f,_b60,_b61,_b62,_b63){var _b64=_b63(_b5c,{declaredClass:"mxui.widget.Dialog",modal:false,caption:"",content:"",buttons:null,closable:true,autoFocus:true,resizable:true,_handler:null,_headerNode:null,_bodyNode:null,_footerNode:null,_captionNode:null,_closeButton:null,_prevFocus:null,_showAnim:null,_hideAnim:null,_layerId:1,buildRendering:function(){this.buildDialog();this.setCaption(this.caption);this.setContent(this.content);this.setButtons(this.buttons);},buildDialog:function(){var $=_b5d.create;this.domNode=$("div",{"class":"modal-dialog mx-dialog"},this._contentNode=$("div",{"class":"modal-content mx-dialog-content"},this._headerNode=$("div",{"class":"modal-header mx-dialog-header"},this._captionNode=$("h4",{"class":"caption mx-dialog-caption"})),this._bodyNode=$("div",{"class":"modal-body mx-dialog-body"}),this._footerNode=$("div",{"class":"modal-footer mx-dialog-footer",style:"display: none"})));_b60.set(this.domNode,"opacity",0);if(this.closable){var _b65=this._closeButton=$("button",{type:"button","class":"close mx-dialog-close"});_b65.innerHTML="&times;";this.connect(_b65,_b61.press,function(){this.hide();});this._headerNode.insertBefore(_b65,this._captionNode);}mxui.wm.focus.addBox(this._footerNode);},show:function(){if(this._visible){return;}this.onShow();var node=this.domNode,_b66=this.delay;if(_b66){if(this._hideAnim&&this._hideAnim.status()==="playing"){this._hideAnim.stop();}document.body.appendChild(node);this._showAnim=_b62.fadeIn({node:node,duration:_b66});this._showAnim.play();}else{_b60.set(node,"opacity",1);document.body.appendChild(node);}this._prevFocus=mxui.wm.focus.get();if(this._prevFocus){this._prevFocus.blur();}if(this.autoFocus){mxui.wm.focus.first(this._footerNode);}this._handler=this.connect(window,"orientationchange","center");this.focus();this.resize();this.center();},hide:function(_b67){if(!this._visible){return;}this.onHide();var node=this.domNode,_b68=this.delay;this.disconnect(this._handler);var _b69=this._prevFocus;if(_b69){var _b6a=mxui.wm.focus.get(),_b6b=true;if(_b6a){_b6b=false;var elem=_b6a;while(elem=elem.parentNode){if(elem===node){_b6b=true;break;}}}if(_b6b){mxui.wm.focus.put(_b69);}}var self=this,end=function(){_b5d.orphan(node);_b60.set(node,"opacity",0);self.onAfterHide();_b67&&_b67();};if(_b68){if(this._showAnim&&this._showAnim.status()==="playing"){this._showAnim.stop();}this._hideAnim=_b62.fadeOut({node:node,duration:_b68,onEnd:end,onStop:end});this._hideAnim.play();}else{end();}},onAfterHide:function(){},layout:function(){var _b6c=_b5f.getContentBox(this.domNode).h,_b6d=_b5f.getMarginBox(this._headerNode).h,_b6e=_b5f.getMarginBox(this._footerNode).h,_b6f=_b5d.getNodeExtents(this._contentNode).h;_b5f.setContentSize(this._bodyNode,{h:_b6c-_b6f-_b6d-_b6e});},setCaption:function(_b70){var _b71=_b5d.escapeString(_b70);this._captionNode.innerHTML=_b71||"&nbsp;";},setContent:function(_b72){_b5d.empty(this._bodyNode);if(_b72){this._bodyNode.appendChild(_b5d.create("#",_b72));}},setButtons:function(_b73){_b5d.empty(this._footerNode);if(_b73){for(var i=0,_b74;_b74=_b73[i];i++){this._footerNode.appendChild(_b74);}this._footerNode.style.display="";}},uninitialize:function(){this.hide();}});return _b64;});},"mxui/widget/_Popup":function(){define(["mxui/lib/Moveable","mxui/lib/Resizable","mxui/mixin/_Floatable","mxui/widget/Underlay","mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/window","dojo/dom-style","dojo/dom-geometry","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_b75,_b76,_b77,_b78,_b79,_b7a,_b7b,_b7c,_b7d,_b7e,_b7f,_b80,_b81){var _b82=_b81([_b79,_b77],{modal:false,delay:100,_layers:[{index:100,stack:[]},{index:1000,stack:[]}],_mover:null,_resizer:null,_prevBox:null,_maximized:false,_visible:false,_minWidth:300,_minHeight:200,_margin:10,_underlay:new _b78(),postCreate:function(){this.createBackgroundIframe();this._mover=new _b75(this.domNode,{handle:this._headerNode,margin:this._margin,delay:5});this.connect(this._mover,"onMoveStart",function(e){if(this._maximized){var box=this._prevBox;this.resize({l:e.pageX-box.w/2,w:box.w,h:box.h});}});var _b83=_b7a.getNodeExtents(this.domNode);this._minWidth+=_b83.w;this._minHeight+=_b83.h;if(this.resizable){this._resizer=new _b76(this.domNode,{margin:this._margin,resizer:_b80.hitch(this,"resize"),minWidth:this._minWidth,minHeight:this._minHeight});this.connect(this._headerNode,"dblclick",function(){this.maximize();});}var _b84=function(){this.resize(null,true);};this.connect(this.mxform,"resize",_b84);this.connect(window.mx.ui,"resize",_b84);this._layers[this._layerId].stack.push(this);},center:function(){var node=this.domNode,box=_b7e.getMarginBox(node),port=_b7c.getBox();_b7d.set(node,{top:Math.max(0,0.7*(port.h/2-box.h/2))+"px",left:Math.max(0,port.w/2-box.w/2)+"px"});},maximize:function(redo){if(this._maximized&&!redo){this._maximized=false;this.resize(this._prevBox);}else{var _b85=_b7c.getBox(),box=redo?this._prevBox:_b7e.getMarginBox(this.domNode);this.resize({t:0,l:0,w:_b85.w,h:_b85.h});this._prevBox=box;this._maximized=true;}},resize:function(box,_b86){if(!this._visible){return;}if(this._maximized){if(_b86){this.maximize(true);return;}else{this._maximized=false;}}box=box||{};var _b87=this._margin,_b88=_b7c.getBox(),_b89=_b88.w-_b87*2,_b8a=_b88.h-_b87*2,_b8b=_b80.delegate(_b7e.getMarginBox(this.domNode),box);if(_b8b.w>_b89){box.w=_b8b.w=_b89;}if(_b8b.w<this._minWidth){box.w=this._minWidth;}if(_b8b.h>_b8a){box.h=_b8b.h=_b8a;}if(_b8b.h<this._minHeight){box.h=this._minHeight;}var _b8c=this.domNode.style;if(box.l){_b8c.left=box.l+"px";}if(box.t){_b8c.top=box.t+"px";}if(box.w){_b8c.width=box.w+"px";}if(box.h){_b8c.height=box.h+"px";this.layout();}_b7a.moveIntoView(this.domNode,_b87);},onShow:function(){this._visible=true;if(this.modal){this._underlay.show();}},onHide:function(){this._visible=false;if(this.modal){this._underlay.hide();}var _b8d=this._layers[this._layerId].stack;_b8d.splice(_b7f.indexOf(_b8d,this),1);this.focusPrevious();},stack:function(){var _b8e=this._layers[this._layerId].stack,_b8f=_b7c.getBox().w*0.2,_b90=50,_b91=[],_b92=0,gap=20;_b7f.some(_b8e,function(pane){var _b93=_b8f+(_b92*gap)-(0.5*gap),_b94=_b93+gap,stop=true;_b92++;_b7f.some(_b8e,function(pane){var box=_b7e.getMarginBox(pane.domNode);if(_b93<box.l&&box.l<_b94){_b91.push(box);stop=false;return true;}});return stop;});var _b95=gap*_b91.length;_b7d.set(this.domNode,{left:_b8f+_b95+"px",top:_b90+_b95+"px"});},focus:function(){var _b96=this._layers[this._layerId],_b97=_b96.stack,_b98=_b96.stack=[],_b99=_b96.index;_b7f.forEach(_b97,function(pane){if(pane.id!=this.id){_b98.push(pane);pane.deactivate&&pane.deactivate();}else{pane.activate&&pane.activate();}},this);_b98.sort(function(a,b){return a.domNode.style.zIndex-b.domNode.style.zIndex;});_b98.push(this);for(var x=0,pane;pane=_b98[x];x++){_b99=_b99+2;pane.domNode.style.zIndex=_b99;}if(this.modal&&!this._hasHigherModalPopups()){this._underlay.domNode.style.zIndex=_b99-1;}},_hasHigherModalPopups:function(){return _b7f.some(this._layers.slice(this._layerId+1),function(_b9a){return _b7f.some(_b9a.stack,function(pane){return pane.modal;});});},focusPrevious:function(){var id=this._layerId;do{var _b9b=this._layers[id].stack;for(var i=_b9b.length-1;i>=0;i--){if(_b9b[i]._visible){_b9b[i].focus();return;}}}while(id-->0);},uninitialize:function(){this._mover.destroy();if(this._resizer){this._resizer.destroy();}}});return _b82;});},"mxui/lib/Moveable":function(){define(["dojo","dijit","dojox"],function(dojo,_b9c,_b9d){dojo.provide("mxui.lib.Moveable");dojo.declare("mxui.lib.Moveable",null,{node:null,handle:null,margin:0,delay:0,_events:null,_start:null,_moving:false,constructor:function(node,_b9e){_b9e=_b9e||{};this.node=node;this.handle=_b9e.handle||node;this.margin=_b9e.margin||0;this.delay=_b9e.delay||0;this._events=[dojo.on(this.handle,"dragstart",dojo.stopEvent),dojo.on(this.handle,"selectstart",dojo.stopEvent)];dojo.setSelectable(this.handle,false);this.reset();},reset:function(){this.clean();this._events.push(dojo.on(this.handle,dojo.touch.press,dojo.hitch(this,"onMouseDown")));},clean:function(){while(this._events.length>3){this._events.pop().remove();}},prepare:function(e){var pos=dojo.position(this.node);this._start={t:pos.y,l:pos.x,x:e.pageX,y:e.pageY};},onMouseDown:function(e){if(!this.delay){this.onMoveStart(e);}this.clean();this.prepare(e);this._events.push(dojo.on(document,dojo.touch.move,dojo.hitch(this,"onMouseMove")),dojo.on(document,dojo.touch.release,dojo.hitch(this,"onMouseUp")));e.preventDefault();},onMouseMove:function(e){var _b9f=this.node.style,_ba0=this._start,dims={};if(!this._moving){if(Math.sqrt(Math.pow(e.pageX-_ba0.x,2)+Math.pow(e.pageY-_ba0.y,2))>this.delay){this.onMoveStart(e);this.prepare(e);}return;}_b9f.top=dims.t=_ba0.t+(e.pageY-_ba0.y)+"px";_b9f.left=dims.l=_ba0.l+(e.pageX-_ba0.x)+"px";this.onMoving(dims);e.preventDefault();},onMouseUp:function(e){if(this._moving){this.onMoveStop(e);}this.reset();},onMoveStart:function(e){this._moving=true;},onMoving:function(e){},onMoveStop:function(e){this._moving=false;mxui.dom.moveIntoView(this.node,this.margin);},destroy:function(){while(this._events.length){this._events.pop().remove();}}});});},"mxui/lib/Resizable":function(){define(["dojo","dijit","dojox"],function(dojo,_ba1,_ba2){dojo.provide("mxui.lib.Resizable");dojo.declare("mxui.lib.Resizable",null,{node:null,margin:0,resizer:null,minWidth:0,minHeight:0,_events:null,_start:null,_resizing:false,constructor:function(node,_ba3){_ba3=_ba3||{};this.node=node;this.margin=_ba3.margin||0;this.resizer=_ba3.resizer;this.minWidth=_ba3.minWidth||0;this.minHeight=_ba3.minHeight||0;var $=mxui.dom.create,frag=$("#"),dirs=["n","e","s","w","ne","se","sw","nw"];for(var i=0,dir;dir=dirs[i];i++){var _ba4=$("div",{"class":"mx-resizer mx-resizer-"+dir,"data-resize-dir":dir});dojo.setSelectable(_ba4,false);frag.appendChild(_ba4);}node.appendChild(frag);this._events=[];this.reset();},reset:function(){this.clean();var self=this;this._events=[dojo.on(this.node,dojo.touch.press,function(e){var dir=e.target.getAttribute("data-resize-dir");if(dir){self.onMouseDown(dir,e);}})];},clean:function(){while(this._events.length){this._events.pop().remove();}},onMouseDown:function(dir,e){this.onResizeStart(e);this.clean();this._start={box:dojo.marginBox(this.node),viewport:_ba1.getViewport(),pageX:e.pageX,pageY:e.pageY};this._events.push(dojo.on(document,dojo.touch.move,dojo.hitch(this,"onMouseMove",dir)),dojo.on(document,dojo.touch.release,dojo.hitch(this,"onMouseUp")));dojo.stopEvent(e);},onMouseMove:function(dir,e){var _ba5=this._start,box=_ba5.box,_ba6=this.margin,dims={};if(/e|w/.test(dir)){var _ba7=/w/.test(dir),_ba8=_ba7?_ba5.pageX-e.pageX:e.pageX-_ba5.pageX,_ba9=(_ba7?box.l+box.w:_ba5.viewport.w-box.l)-_ba6;dims.w=Math.max(this.minWidth,Math.min(_ba9,box.w+_ba8));if(_ba7){dims.l=Math.max(_ba6,box.l+box.w-dims.w);}}if(/n|s/.test(dir)){var _baa=/n/.test(dir),_bab=_baa?_ba5.pageY-e.pageY:e.pageY-_ba5.pageY,_bac=(_baa?box.t+box.h:_ba5.viewport.h-box.t)-_ba6;dims.h=Math.max(this.minHeight,Math.min(_bac,box.h+_bab));if(_baa){dims.t=Math.max(_ba6,box.t+box.h-dims.h);}}if(this.resizer){this.resizer(dims);}else{dojo.marginBox(this.node,dims);}this.onResizing();dojo.stopEvent(e);},onMouseUp:function(e){this.onResizeStop(e);this.reset();},onResizeStart:function(e){this._resizing=true;},onResizing:function(e){},onResizeStop:function(e){this._resizing=false;},destroy:function(){this.clean();}});});},"mxui/widget/DialogMessage":function(){define(["mxui/widget/Dialog","mxui/dom","mendix/logger","dojo/dom-class","dojo/keys","dojo/_base/declare"],function(_bad,_bae,_baf,_bb0,_bb1,_bb2){var _bb3=_bb2(_bad,{declaredClass:"mxui.widget.DialogMessage",type:"",content:null,buildRendering:function(){this.buildDialog();this.setCaption(this.caption||this.translate(this.type,null,"Message"));var _bb4=_bae.create("p");_bb4.innerHTML=_bae.convertNlToBr(_bae.escapeString(this.content));this.setContent(_bb4);var _bb5=_bae.create("button",{"class":"btn btn-primary"},this.translate("ok",null,"Ok"));this.connect(_bb5,"click",function(){this.hide();});this.connect(_bb5,"keyup",function(e){if(e.keyCode===_bb1.ESCAPE){this.hide();}});this.setButtons([_bb5]);_bb0.add(this.domNode,"mx-dialog-"+this.type);}});return _bb3;});},"mxui/widget/Window":function(){define(["mxui/widget/_Popup","mxui/mixin/_OverflowHelper","mxui/widget/DataView","mxui/dom","mendix/logger","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/dom-attr","dojo/dom-geometry","dojo/_base/event","dojo/_base/fx","dojo/touch","dojo/sniff","dojo/_base/declare","dijit"],function(_bb6,_bb7,_bb8,dom,_bb9,_bba,_bbb,_bbc,_bbd,_bbe,_bbf,_bc0,_bc1,_bc2,_bc3,_bc4){var $=dom.create;var _bc5=_bc3([_bb6,_bb7],{declaredClass:"mxui.widget.Window",title:"",width:0,height:0,resizable:true,content:null,_headerNode:null,_bodyNode:null,_layerId:0,buildRendering:function(){this.domNode=$("div",{"class":"modal-dialog mx-window"},this._contentNode=$("div",{"class":"modal-content mx-window-content"},this._headerNode=$("div",{"class":"modal-header mx-window-header"},$("h4",this.title||"...")),this._bodyNode=$("div",{"class":"modal-body mx-window-body"},this.content||"")));_bbc.add(this.domNode,this.mxform.getCSSClass());_bbd.set(this.domNode,"style",this.mxform.getCSSStyle());var _bc6=$("button",{type:"button","class":"close"});_bc6.innerHTML="&times;";_bba.place(_bc6,this._headerNode,"first");this.connect(_bc6,_bc1.press,function(e){this.mxform.close();if(_bc2("ie")==8){_bbf.stop(e);}});this.capture(this.domNode,"mousedown",function(){this.focus();});this.hideOverflow(document.body);_bbb.set(this.domNode,"opacity",0);document.body.appendChild(this.domNode);},show:function(){if(this._visible){return;}this.onShow();var root=this.mxform.domNode.firstChild;if(root&&_bc4.byNode(root) instanceof _bb8){_bbc.add(this.domNode,"mx-window-view");}var box={};if(this.width){box.w=this.width;}if(this.height){box.h=this.height;}this.resize(box);this.showOverflow(document.body);if(this.delay){_bc0.fadeIn({node:this.domNode,duration:this.delay}).play();}else{_bbb.set(this.domNode,"opacity",100);}},hide:function(_bc7){if(!this._visible){return;}this.onHide();if(this.delay){_bc0.fadeOut({node:this.domNode,duration:this.delay,onEnd:_bc7}).play();}else{_bc7&&_bc7();}},layout:function(){var _bc8=_bbe.getContentBox(this.domNode).h,_bc9=_bbe.getMarginBox(this._headerNode).h,_bca=dom.getNodeExtents(this._contentNode).h;_bbe.setContentSize(this._bodyNode,{h:_bc8-_bca-_bc9});this.resizeChildren(this._bodyNode);},activate:function(){_bbc.add(this.domNode,"mx-window-active");},deactivate:function(){_bbc.remove(this.domNode,"mx-window-active");},_setTitleAttr:function(){}});return _bc5;});},"mxui/mixin/_OverflowHelper":function(){define(["dojo/dom-style","dojo/_base/declare"],function(_bcb,_bcc){var _bcd=_bcc(null,{getOverflowNode:function(node,_bce){if(!this._flowNode){var doc=document.documentElement;while(node=node.parentNode){if(node===doc||_bcb.get(node,"overflow")===_bce){return node;}}}return this._flowNode;},_toggleOverflow:function(node,_bcf){node=node||this.domNode;var _bd0=this.getOverflowNode(node,_bcf?"hidden":"auto");if(_bd0){if(_bd0.clientHeight>=_bd0.scrollHeight){_bcb.set(_bd0,"overflow",_bcf?"auto":"hidden");}}},showOverflow:function(node){this._toggleOverflow(node,true);},hideOverflow:function(node){this._toggleOverflow(node,false);}});return _bcd;});},"mxui/widget/DataView":function(){define(["mxui/widget/_WidgetBase","mxui/widget","mxui/dom","mendix/lib/DirectObjectSource","mendix/lib/MicroflowObjectSource","mendix/lib/SchemaObjectSource","mendix/logger","dijit/registry","dojo/dom-geometry","dojo/topic","dojo/query","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_bd1,_bd2,_bd3,_bd4,_bd5,_bd6,_bd7,_bd8,_bd9,_bda,_bdb,_bdc,_bdd,_bde){var _bdf=_bde(_bd1,{declaredClass:"mxui.widget.DataView",entity:"",schema:"",autoLoad:false,datasource:null,conditions:null,contextsource:"",closeButton:"",hideControls:false,useSchema:false,_doUpdate:false,_mxObject:null,_children:null,_tempSubs:null,_mxidMap:null,_delayMap:null,_source:null,_contentNode:null,_controlsNode:null,constructor:function(){this._tempSubs=[];},buildRendering:function(){var $=_bd3.create,_be0=this.getTemplate("content"),_be1=this.getTemplate("buttons");this.domNode=$("div",{"class":"mx-dataview"},$("div",{"class":"mx-dataview-content"},_be0));this._contentNode=this.domNode.firstChild;if(_be1){var _be2=this._controlsNode=$("div",{"class":"mx-dataview-controls"},_be1);if(this.hideControls){_be2.style.display="none";}this.domNode.appendChild(_be2);}},postCreate:function(){var _be3=this.conditions,map=this._mxidMap={},_be4=this._delayMap={};for(var attr in _be3){var _be5=_be3[attr];for(var _be6 in _be5){var _be7=_be5[_be6];for(var _be8 in _be7){var _be9=_be7[_be8];for(var i=0,mxid;mxid=_be9[i];i++){if(_be8=="show"||_be8=="hide"){_be4[mxid]=1;}var key=_be6===""?"_empty_":_be6;_bdd.setObject([mxid,attr,key,_be8].join("."),1,map);}}}}if(!this.readOnly){this.listen("validate",this.validate);this.listen("save",this.save);this.listen("commit",this.commit);this.listen("rollback",this.rollback);}this.listen("close",this.close);this.createSource();this._children=[];},createSource:function(){var _bea=this.datasource;if(_bea){switch(_bea.type){case "listen":var _beb=window.mx.ui.makeShareId(this.mxform,this.datasource.contextsource),_bec=_bda.subscribe(_beb,_bdd.hitch(this,"applyContext"));this.addOnDestroy(function(){_bec.remove();});case "direct":if(this.useSchema==="true"){_bea.type="schema";this._source=new _bd6({schema:this.schema,context:this.mxcontext});}else{this._source=new _bd4({schema:this.schema,context:this.mxcontext,path:_bea.path||this.entity});}break;case "microflow":this._source=new _bd5({context:this.mxcontext,microflow:_bea.microflow});break;default:throw new Error(this.id+".createSource : unknown datasource type: "+_bea);}}},parseNode:function(node){var _bed=[],_bee=true;var _bef=function(node){var root=_bee,mxid=node.getAttribute("data-mendix-id");_bee=false;if(mxid){if(!root&&mxid in this._delayMap){node.setAttribute("data-mendix-not-parsed",true);window.mx.ui.applyToNode("hide",node);}else{var type=node.getAttribute("data-mendix-type");if(type){var _bf0={doParse:false};if(this.schema===""&&type===this.declaredClass){_bf0.schema="";}var _bf1=this.parseContent(node,_bf0,true)[0];if(_bf1){this._patchWidget(_bf1);_bed.push(_bf1);this._children.push(_bf1);node=_bf1.domNode;}}if(type!=this.declaredClass){_bdc.forEach(node.children,_bef,this);}}}else{_bdc.forEach(node.children,_bef,this);}};_bef.call(this,node);return _bed;},startup:function(){var _bf2=this.parseNode(this.domNode);_bd2.ready(_bf2,_bdd.hitch(this,"actLoaded"));},resume:function(){if(this._doUpdate){this.refresh();this._doUpdate=false;}},applyContext:function(_bf3,_bf4){this.mxcontext.mixin(_bf3);this.update(_bf3.getTrackId(),_bf4);},update:function(guid,_bf5){var self=this;this._sourceGuid=guid;var _bf6=function(obj,_bf7){self.mxcontext.setObject(obj);self.updateObject(obj,_bf7);};this._source.fetch(function(obj){_bf6(obj,_bf5);},function(e){window.mx.onError(e);_bf6(null,_bf5);});},updateObject:function(obj,_bf8){if(obj!=this._mxObject){this._mxObject=obj;}this.setSubscriptions();this.refresh(_bf8);},setSubscriptions:function(){var obj=this._mxObject,subs=this._tempSubs,_bf9=this._sourceGuid,sub;var _bfa=function(){this.mxcontext.setTrackId(_bf9);this.update(_bf9);};var _bfb=_bdd.hitch(this,"applyConditions");while((sub=subs.pop())){this.unsubscribe(sub);}if(obj){var guid=obj.getGuid();subs.push(this.subscribe({guid:guid,callback:_bfb}));for(var attr in this.conditions){subs.push(this.subscribe({guid:guid,attr:attr,callback:_bfb}));}}if(this._source.hasRoot()&&_bf9){subs.push(this.subscribe({guid:_bf9,callback:_bfa}));subs.push(this.subscribe({guid:_bf9,attr:this._source.getRoot(),callback:_bfa}));}},refresh:function(_bfc){if(this.get("suspended")){this._doUpdate=true;_bfc&&_bfc();}else{this.set("disabled",!this._mxObject);var self=this;this.passContext(_bd8.findWidgets(this.domNode),function(){self.applyConditions();_bfc&&_bfc();});}},validate:function(_bfd,_bfe){var _bff=this._mxObject;if(!_bff||this.get("disabled")){_bfd&&_bfd();}else{var _c00=this._children,_c01=true;for(var i=0,_c02;_c02=_c00[i];i++){if(_c02.isValid&&!_c02.isValid()){_c01=false;}}if(_c01){_bfd&&_bfd();}else{if(_bfe){_bfe();}else{if(window.mx.ui.getProfile()==="phone"){window.mx.ui.error(this.translate("validation_error"));}}}}},save:function(_c03,_c04){var _c05=this._mxObject;if(!_c05||this.get("disabled")){_c03&&_c03();}else{window.mx.data.save({mxobj:this._mxObject,callback:_c03,error:_c04},this);}},commit:function(_c06,_c07){var _c08=this._mxObject;if(!_c08||this.get("disabled")){_c06();}else{window.mx.data.commit({mxobj:_c08,callback:_c06,error:_c07});}},rollback:function(_c09,_c0a){var obj=this._mxObject;if(!obj||this.get("disabled")){_c09();}else{if(obj.getGuid()!==0){window.mx.data.rollback({mxobj:obj,callback:_c09,error:_c0a});}else{_c09&&_c09();}}},close:function(_c0b){if(this.closeButton){var _c0c=_bdb("[data-mendix-id="+this.closeButton+"]",this.domNode)[0];if(_c0c){_bd8.byNode(_c0c).onClick();}else{_bd7.error(this.id+".close: No close button found");}}else{_c0b&&_c0b();}},getCFAction:function(node){var mxid=node.getAttribute("data-mendix-id");if(mxid){if(this._mxObject){var _c0d=this._mxidMap[mxid];for(var attr in _c0d){var _c0e=this._mxObject.get(attr),_c0f=_c0d[attr][_c0e===""?"_empty_":_c0e];for(var _c10 in _c0f){return _c10;}}}else{if(mxid in this._delayMap){return "hide";}}}},applyConditions:function(){var _c11=[],_c12=true,_c13=false;var _c14=function(node){var root=_c12,_c15=!node.getAttribute("data-mendix-not-parsed"),_c16=this.getCFAction(node);_c12=false;if(_c16=="show"){_c13=true;if(!_c15){var _c17=this.parseNode(node);_c11.push.apply(_c11,_c17);_bdc.forEach(_c17,function(_c18){_c14.call(this,_c18.domNode);},this);node.removeAttribute("data-mendix-not-parsed");_c15=true;}}if(_c16){window.mx.ui.applyToNode(_c16,node);}if(root||_c15&&!(_bd8.byNode(node) instanceof this.constructor)){_bdc.forEach(node.children,_c14,this);}};_c14.call(this,this.domNode);_bd2.ready(_c11,function(){this.passContext(_c11);if(_c11.length||_c13){this.mxform.resize();}},this);},resize:function(box){if(box){var _c19=box.h-_bd3.getNodeExtents(this.domNode).h;if(this._controlsNode){_c19-=_bd9.getMarginBox(this._controlsNode).h;}_bd9.setContentSize(this._contentNode,{h:_c19});}else{this._contentNode.style.height="auto";}this.resizeChildren(this._contentNode,!box);},uninitialize:function(){this._source.destroy();},_patchWidget:function(_c1a){var attr=_c1a.name;if(!(_c1a instanceof _bd1)&&(typeof _c1a.onChange=="function")&&attr){this.connect(_c1a,"onChange",function(){var _c1b=_c1a.get("value");this._mxObject.set(attr,_c1b);});}}});return _bdf;});},"mxui/widget/Login":function(){define(["mxui/widget/Dialog","mxui/dom","mendix/logger","dojo/dom-class","dojo/json","dojo/_base/declare","dojo/_base/event","dojo"],function(_c1c,_c1d,_c1e,_c1f,_c20,_c21,_c22,dojo){var _c23=_c21(_c1c,{declaredClass:"mxui.widget.Login",autoFocus:false,closable:false,_userNode:null,_passNode:null,_cancelBtn:null,_hasError:false,_shown:false,buildRendering:function(){var $=_c1d.create,form,user,pass;this.caption=this.translate("loginButton");this.inherited(arguments);_c1f.add(this.domNode,"mx-login");this.domNode.removeChild(this._contentNode);this._contentNode=form=$("form",{"class":"modal-content mx-dialog-content"},this._headerNode,this._bodyNode,this._footerNode);this.domNode.appendChild(form);this.setContent($("#",user=this._userNode=$("input",{"class":"form-control",name:"username",type:"text",autocorrect:"off",autocapitalize:"none",placeholder:this.translate("username")}),pass=this._passNode=$("input",{"class":"form-control",name:"password",type:"password",autocorrect:"off",autocapitalize:"none",placeholder:this.translate("password")})));if(user.placeholder==null){user.parentNode.insertBefore($("label",this.translate("username")),user);pass.parentNode.insertBefore($("label",this.translate("password")),pass);}var _c24=$("button",{type:"submit","class":"btn btn-primary"},this.translate("loginButton")),_c25=this._cancelBtn=$("button",{type:"button","class":"btn"},"Cancel");this.setButtons([_c24,_c25]);this.connect(user,"keydown","reset");this.connect(pass,"keydown","reset");this.connect(form,"submit","submit");this.connect(_c25,"click",function(){this.hide();});},translate:function(str){return window.i18nMap[str];},getStatusMessage:function(code){return this.translate("http"+code)||this.translate("httpdefault");},submit:function(e){var self=this;dojo.xhrPost({url:window.mx.baseUrl,handleAs:"json",contentType:"application/json",postData:_c20.stringify({action:"login",params:{username:this._userNode.value,password:this._passNode.value}}),handle:function(_c26,_c27){var code=_c27.xhr.status;if(code==200){self._passNode.value="";window.mx.login();}else{self.setCaption(self.getStatusMessage(code));_c1f.add(self.domNode,"error");self._hasError=true;}}});_c22.stop(e);},show:function(args){if(args&&(!args.no_alert||/402|404|500|503/.test(args.http_code))){this.setCaption(args.http_code==401?window.mx.ui.translate("mendix.session","session_expired"):this.getStatusMessage(args.http_code));}this._cancelBtn.style.display=window.mx.isLoaded()?"":"none";this.inherited(arguments);if(this._shown){this._passNode.focus();}else{this._userNode.focus();this._shown=true;}},reset:function(){if(this._hasError){this._hasError=false;this.setCaption(this.translate("loginButton"));_c1f.remove(this.domNode,"error");}}});return _c23;});},"mxui/widget/Progress":function(){define(["mxui/widget/Dialog","mxui/dom","mendix/logger","dojo/dom-class","dojo/_base/lang","dojo/_base/declare"],function(_c28,dom,_c29,_c2a,_c2b,_c2c){var $=dom.create;var _c2d=_c2c(_c28,{declaredClass:"mxui.widget.Progress",closable:false,showDelay:0,_timer:0,_count:0,_messages:null,_showing:false,_listNode:null,_minHeight:100,constructor:function(){this._messages={};this.caption=this.translate("progress_title");if(window.mx.ui.getProfile()=="desktop"){this.showDelay=500;}},buildRendering:function(){this.inherited(arguments);this._listNode=$("ul",{"class":"mx-progress-list"});this.setContent(this._listNode);_c2a.add(this.domNode,"mx-progress");},add:function(msg,_c2e){this._removeMarkedMessages();var id=this._count++,node=$("li",{"class":"mx-progress-item"},msg);this._messages[id]={msg:msg,modal:_c2e,node:node};this._listNode.appendChild(node);this.show(_c2e);return id;},remove:function(id){var data=this._messages[id];if(data){if(this._hasActiveMessages(id)){this._removeMessage(id);if(data.modal){window.mx.ui.hideUnderlay(this.delay);}}else{this._markMessage(id);this.hide(data.modal);}}else{_c29.error(this.id+".remove: Message id not found!");}},_markMessage:function(id){this._messages[id].removed=true;},_removeMarkedMessages:function(){for(var id in this._messages){if(this._messages[id].removed){this._removeMessage(id);}}},_removeMessage:function(id){var data=this._messages[id];this._listNode.removeChild(data.node);delete this._messages[id];},_hasActiveMessages:function(_c2f){for(var id in this._messages){if(id!=_c2f&&!this._messages[id].removed){return true;}}return false;},show:function(_c30){if(!this._showing){this._showing=true;var self=this,args=arguments;var _c31=function(){self._timer=null;if(_c30){window.mx.ui.showUnderlay(self.delay);}self.inherited(args);};if(_c30||!this.showDelay){_c31();}else{this._timer=setTimeout(_c31,this.showDelay);}}},hide:function(_c32){if(this._showing){this._showing=false;if(this._timer){clearTimeout(this._timer);this._timer=null;this._removeMarkedMessages();}else{if(_c32){window.mx.ui.hideUnderlay(this.delay);}this.inherited(arguments,[_c2b.hitch(this,"_removeMarkedMessages")]);}}}});return _c2d;});},"mxui/widget/DataGrid":function(){define(["mxui/widget/_Grid","mxui/widget","mxui/html/render","mxui/dom","mxui/lib/ColumnResizer","mendix/lang","mendix/logger","dojo/query","dojo/on","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/text!mxui/widget/templates/DataGrid.html"],function(_c33,_c34,_c35,_c36,_c37,_c38,_c39,_c3a,_c3b,_c3c,_c3d,_c3e,_c3f,_c40){var _c41=_c3f(_c33,{declaredClass:"mxui.widget.DataGrid",templateString:_c40,subClass:"mx-datagrid",cssmap:_c34.createCSSMap("mx-datagrid",{sortText:"sort-text",sortIcon:"sort-icon",headCaption:"head-caption",headWrapper:"head-wrapper",columnResizer:"column-resizer",dataWrapper:"data-wrapper"}),readOnly:false,gridBodyNode:null,gridFootNode:null,_deferSyncQueue:0,_deferSyncCallback:null,_selectedGuids:null,_mxObjects:null,_gridColumnNodes:null,_gridRowNodes:null,_gridMatrix:null,_visibleColumns:null,_hiddenAggregates:null,constructor:function(){this._selectedGuids=[];this._mxObjects=[];this._gridColumnNodes=[];this._gridRowNodes=[];this._gridMatrix=[];this._visibleColumns=[];this._hiddenAggregates=[];this._gridState={sortable:true,selectable:true,selectionmode:"single",searchbar:true,controlbar:true,pagingbar:true,inDenial:false,searchBarVisible:false,searchBarTogglable:true,xpathConstraint:"",loading:false,invertedSelection:false};},postCreate:function(){this.inherited(arguments);if(this._metaEntity){this._addFocusBoxForTable();this.setupScroll();this.buildGridBody();this.loadPlugins();this.doGridAttributes();this.triggerOnLoad();}this.loaded();},setColumnStyle:function(node,_c42){var _c43=_c42.display,_c44=_c43.align||"left";if(window.mx.ui.isRtl()){_c44=(_c44==="right"?"left":"right");}if(_c43.cssStyle){node.setAttribute("style",_c43.cssStyle);}else{node.removeAttribute("style");}_c3c.add(node,[_c42.name?"mx-name-"+_c42.name:"","mx-"+_c44+"-aligned"]);_c3c.add(node,_c43.cssClass);},buildGridRow:function(_c45,_c46){var $=_c36.create,tr=$("tr",{"class":"mx-name-index-"+_c46}),row;this.domData(tr,"gridrow",_c46);row=_c3d.map(_c45,function(_c47,i){var td=$("td");this.domData(td,{row:_c46,column:i,key:_c47.tag});this.setColumnStyle(td,_c47);td.appendChild($("div",{"class":this.cssmap.dataWrapper}));tr.appendChild(td);return td;},this);this._gridMatrix.push(row);return tr;},setNodeTitle:function(_c48,_c49){if(!_c48){return;}var _c4a=_c36.text(_c49||_c48);_c48.setAttribute("title",_c3e.trim(_c4a));},gridbodyFillCell:function(_c4b,_c4c,_c4d){var _c4e;if(!_c4c.has(_c4d)){return "&nbsp;";}_c4e=_c4c.get(_c4d);switch(_c4b.render.toLowerCase()){case "icon":case "enumicon":var src=_c4b.display.mapping[_c4e];_c4e=src?"<img src='"+src+"'>":"";break;case "weblink":break;default:var _c4f=_c4b.display,_c50=_c4f.dateFormat||"date";_c4e=mxui.html.renderValue(_c4c,_c4d,{format:_c50.toLowerCase().replace("custom","date"),datepattern:_c4f.format,formatted:_c4f.formatted,precision:_c4f.precision});_c4e=_c36.escapeString(_c4e.replace(/\n/g," "));}return _c4e||"&nbsp;";},disableRow:function(tr){tr.style.display="";this.domData(tr,"mendixguid",null);_c3d.forEach(tr.getElementsByTagName("td"),function(td){td.firstChild.innerHTML="&nbsp";td.setAttribute("title","");});},setupGridState:function(){this.inherited(arguments);this._gridState.sortable=this._gridConfig.gridSetting("sortable");},loadPlugins:function(){this.hideFootNode();if(this._gridState.editable){this.loadPlugin("GridEditor");mxui.wm.focus.removeBox(this.contentNode);}var _c51=this._gridConfig.getPlugins();for(var name in _c51){this.loadPlugin(name,_c51[name]);}},setupScroll:function(){var _c52=this.headTable,_c53=this.contentNode;this.connect(_c53,"scroll",function(){_c52.style.top=_c53.scrollTop+"px";});},resize:function(box){this.inherited(arguments);this._resizer.recalculate();},buildGridBody:function(){var self=this,$=_c36.create,_c54=this._gridConfig.gridAttributes(),_c55=[],_c56=[],row=$("tr",{"class":"mx-name-head-row"}),_c57=$("div",{"class":this.cssmap.headCaption}),_c58=$("div",{"class":this.cssmap.headWrapper}),_c59={},_c5a=this._gridConfig.getPlugins()["Calculations"]||{};_c36.disableSelection(row);_c3d.forEach(this._gridConfig.gridSetting("sortparams"),function(_c5b){_c59[_c5b[0]]=_c5b;});_c3d.forEach(_c54,function(_c5c,i){var _c5d=_c5c.display.width,_c5e=_c5c.tag in _c5a,_c5f=_c5d!=null&&(_c5d=="0px"||_c5d=="0%");if(_c5e){_c56.push(_c5f);}if(!_c5f){this._visibleColumns.push(_c5c);}},this);_c3d.forEach(_c56,function(_c60,i){if(_c60){this._hiddenAggregates.push(i);}},this);_c3d.forEach(this._visibleColumns,function(_c61,i){var _c62=$("th");this.domData(_c62,{datakey:_c61.tag,index:i});this.setColumnStyle(_c62,_c61);var _c63=$("span",{"class":this.cssmap.sortText});var _c64=$("div",{"class":this.cssmap.sortIcon,style:"display: none"},_c63);var _c65=_c59[_c61.tag];if(_c65){var _c66=_c65[1];this.domData(_c62,"sortorder",_c66);_c63.innerHTML=_c66==="asc"?"&#9650;":"&#9660;";_c64.style.display="";}var _c67=_c57.cloneNode(true);_c67.innerHTML=_c61.display.string||"&nbsp;";var _c68=_c58.cloneNode(true);_c68.appendChild(_c64);_c68.appendChild(_c67);_c62.appendChild(_c68);this.setNodeTitle(_c62,_c67);var _c69=$("col",{style:"width:"+_c61.display.width}),_c6a=_c69.cloneNode(true);this.headTableGroupNode.appendChild(_c69);this.bodyTableGroupNode.appendChild(_c6a);_c55.push([_c69,_c6a]);this._gridColumnNodes.push(_c62);row.appendChild(_c62);},this);this.gridHeadNode.appendChild(row);if(this._gridState.sortable){this.own(_c3b(this.gridHeadNode,"th:click",function(e){var key=self.domData(this,"index");if(_c54[key].sortable!==false){self.eventColumnClicked(e,this);}}));}this._resizer=new _c37({thNodes:_c36.toArray(row.children),colNodes:_c55,colUnits:_c54[0].display.width.indexOf("%")>0?"%":"px",rtl:!this.isLeftToRight(),tableNode:this.headTable,gridNode:this.gridTable});if(this._gridState.showemptyrows){var _c6b=this._gridConfig.gridSetting("rows");for(var i=0;i<_c6b;i++){this.addNewRow();}}this.own(_c3b(this.gridBodyNode,"tr:click",function(e){self.eventItemClicked(e,this);}));this.liveConnect(this.gridBodyNode,"onclick",{td:"eventCellClicked"});this.liveConnect(this.gridBodyNode,"onmouseover",{tr:"eventRowMouseOver"});this.liveConnect(this.gridBodyNode,"onmouseout",{tr:"eventRowMouseOut"});var _c6c=function(e){self.eventActionBindingHandler(this,e.type);};var _c6d=this._gridConfig.gridActionBindings();for(var _c6e in _c6d){this.own(_c3b(this.gridBodyNode,"tr:"+_c6e.replace(/^on/,""),_c6c));}},addNewRow:function(){var _c6f=this._visibleColumns,_c70=this._gridConfig.gridSetting("rows"),_c71=this._gridRowNodes.length;if(_c71>_c70){return null;}var tr=this.buildGridRow(_c6f,_c71);this._gridRowNodes.push(tr);this.gridBodyNode.appendChild(tr);var box=this.getFocusBox(this.contentNode);box.add&&box.add(tr);return tr;},doGridAttributes:function(){var _c72=this._visibleColumns;_c3d.forEach(_c72,function(_c73){var path=_c73.tag.split("/");if(path.length==2||path.length==4){path.shift();}_c73.attrs=path;},this);},fillGrid:function(){this._mxObjects=this._dataSource.getObjects()||[];var _c74=this._visibleColumns,_c75=(this._gridState.selectfirst&&!this._gridState.invertedSelection&&this._mxObjects.length>0&&this._selectedGuids.length===0);if(_c75){this._selectedGuids.push(this._mxObjects[0].getGuid());setTimeout(_c3e.hitch(this,function(){this.shareSelected();}),1000);}var _c76=this._mxObjects.length-this._gridRowNodes.length;if(_c76>0){while(_c76--){this.addNewRow();}this.mxform.resize();}else{if(_c76<0){_c3d.forEach(this._gridRowNodes.slice(this._mxObjects.length),function(node){_c3c.remove(node,"selected");if(this._gridState.showemptyrows){this.disableRow(node);}else{node.style.display="none";}},this);}}var _c77={};_c3d.forEach(this._selectedGuids,function(guid){_c77[guid]=true;});_c3d.forEach(this._mxObjects,function(_c78,i){var _c79=_c78.getGuid(),_c7a=this._gridRowNodes[i];this.domData(_c7a,"mendixguid",_c79);this._gridbodyFillRow(_c78,this._gridMatrix[i],_c74);if(!_c77[_c79]){this.deselectRow(_c7a);}else{this.selectRow(_c7a);}_c7a.style.display="";},this);},refreshGrid:function(){this.triggerPreRefresh();this.inherited(arguments);this.triggerOnRefresh();},triggerOnLoad:function(){this.triggerPluginEvent("onLoad");},triggerOnSync:function(){this.triggerPluginEvent("onSync");},triggerOnRefresh:function(){this.triggerPluginEvent("onRefresh");},triggerPreRefresh:function(){this.triggerPluginEvent("preRefresh");},triggerOnSearchChanged:function(){this.triggerPluginEvent("onSearchChanged");},actDeferSyncAction:function(_c7b){if(this._deferSyncQueue===0){_c7b&&_c7b();}else{if(this._deferSyncCallback==null){this._deferSyncCallback=_c7b;}else{}}},eventCellClicked:function(e){this.triggerPluginEvent("onCellClicked",e);},eventRowMouseOver:function(e){this.triggerPluginEvent("onRowMouseOver",e);},eventRowMouseOut:function(e){this.triggerPluginEvent("onRowMouseOut",e);},eventCellMouseOut:function(e){this.triggerPluginEvent("onCellMouseOut",e);},eventCellMouseOver:function(e){this.triggerPluginEvent("onCellMouseOver",e);},eventSelectRow:function(e){this.triggerPluginEvent("onSelectRow",e);},eventColumnClicked:function(e,node){var push=e.shiftKey;if(!push){_c3d.forEach(this._gridColumnNodes,function(node){node.querySelector("."+this.cssmap.sortIcon).style.display="none";},this);}else{_c36.clearSelection();}var _c7c=this.domData(node,"datakey"),_c7d="asc";if(this.domData(node,"sortorder")){_c7d=this.domData(node,"sortorder");_c7d=(_c7d==="asc")?"desc":"asc";}this.domData(node,"sortorder",_c7d);var _c7e=node.querySelector("."+this.cssmap.sortText);_c7e.innerHTML=(_c7d==="asc"?"&#9650;":"&#9660;");_c7e.parentNode.style.display="";this._dataSource.setSortOptions(_c7c,_c7d,push);if(this.constraintsFilled()){this._dataSource.refresh(_c3e.hitch(this,"refreshGrid"));}},filterSelected:function(){var _c7f=[];_c3d.forEach(this._selectedGuids,function(guid){if(this._dataSource.getObject(guid)!=null){_c7f.push(guid);}},this);this._selectedGuids=_c7f;},deselectGridRows:function(){_c3d.forEach(this._gridRowNodes,function(node){this.deselectRow(node);},this);},getAggregates:function(){return this._dataSource.getAggregates();},actionExport:function(_c80){if(this.constraintsFilled()){var _c81=window.mx.ui.getProgressIndicator("popup");_c81.start();this._dataSource.generateExport({params:_c80,callback:function(){_c81.stop();},error:function(e){_c81.stop();window.mx.onError(e);}});}},actionInsertNewAtTop:function(_c82){var _c83=this._getEntity(_c82);if(_c83){this._insertNewFirstOrLast(_c83,_c82[_c83],false);}},actionInsertNewAtBottom:function(_c84){var _c85=this._getEntity(_c84);if(_c85){this._insertNewFirstOrLast(_c85,_c84[_c85],true);}},getCellNode:function(_c86,key){var row=this._gridMatrix[_c86];if(row){for(var i=0;i<row.length;i++){if(this.domData(row[i],"key")===key){return row[i];}}}return null;},getMxObjectAtRow:function(_c87){return (this._mxObjects.length>=_c87)?this._mxObjects[_c87]:false;},getRowForMxObject:function(_c88){var _c89=this._mxObjects;for(var i=0;i<_c89.length;++i){if(_c89[i].getGuid()===_c88.getGuid()){return i;}}},getEntityProperties:function(){return this._visibleColumns;},getHiddenAggregates:function(){return this._hiddenAggregates.slice();},getActionProperties:function(_c8a,_c8b){var _c8c=this._gridConfig.dataEntityConfigs(),act=null;if(_c8c[_c8a]){act=_c8c[_c8a][_c8b];}return act;},getCurrentGridSize:function(){return this._mxObjects.length;},getGridNodeHash:function(){return this._gridMatrix;},getCurrentXPath:function(){var _c8d=this._dataSource?this._dataSource.getCurrentXPath()||"":"";return _c8d+this._gridState.xpathConstraint;},preventUpdates:function(){this._gridState.inDenial=true;},acceptUpdates:function(){this._gridState.inDenial=false;},acceptingUpdates:function(){return !this._gridState.inDenial;},updateMxObject:function(_c8e,_c8f){var row=this.getRowForMxObject(_c8e);if(!row){this._gridbodyFillRow(_c8e,this._gridMatrix[row],this._visibleColumns);}_c8f&&_c8f();},showFootNode:function(){this.gridFootNode.style.display="";},hideFootNode:function(){this.gridFootNode.style.display="none";},addToSyncDeferQueue:function(){this._deferSyncQueue++;},removeFromSyncDeferQueue:function(){this._deferSyncQueue--;if(this._deferSyncQueue===0){if(this._deferSyncCallback!=null){this._deferSyncCallback();this._deferSyncCallback=null;}else{}}},uninitialize:function(){this._resizer.destroy();this.triggerPluginEvent("onDestroy");this.inherited(arguments);},_setSelectableAttr:function(_c90){this._gridState.selectable=!!_c90;},_setDisabledAttr:function(_c91){},_setReadOnlyAttr:function(_c92){var self=this;function _c93(_c94,_c95){_c3d.forEach(_c94,function(tool){if(tool.mxid){var _c96=this._gridConfig.getActionsByKey(tool.mxid);if(_c96&&/AddRef|DeleteRef|CreateRef/.test(_c96.actionCall)){_c95&&_c95(tool);}}},self);};if(this._gridState.controlbar&&_c92!=this.readOnly){var _c97=this._gridConfig.gridTools();if(_c92){_c93(_c97,function(tool){self.toolBarNode.removeChild(tool._domNode);});}else{_c93(_c97,function(tool){if(tool._nextNode){self.toolBarNode.insertBefore(tool._domNode,tool._nextNode);}else{self.toolBarNode.appendChild(tool._domNode);}});}this.readOnly=!!_c92;}},_renderObjectsToCell:function(_c98,td,_c99,_c9a){var _c9b=_c99.attrs.slice(-1)[0],_c9c=td.firstChild,_c9d=[],_c9e=[];td.firstChild.innerHTML="";_c3d.forEach(_c98,function(obj){var _c9f=this.gridbodyFillCell(_c99,obj,_c9b);if(_c9f!=null){_c9d.push(_c9f);}else{_c39.error(this.id+".gridBodyFillRow: received no content");}if(/^(enum)?icon$/i.test(_c99.render)){_c9e.push(obj.getEnumCaption(_c9b));}},this);_c9c.innerHTML=_c9d.join(_c9a);if(_c9c.childNodes.length===0){_c9c.innerHTML="&nbsp;";}if(_c9e.length!==0){td.setAttribute("title",_c9e.join(";"));}else{this.setNodeTitle(td);}},_gridbodyFillRow:function(_ca0,_ca1,_ca2){_c3d.forEach(_ca1,function(td,i){var _ca3=[],_ca4=_ca2[i],_ca5=false,_ca6=_ca4.attrs;if(_ca6.length===1){_ca3.push(_ca0);}else{var _ca7=_ca0,_ca8;for(var j=0;j<_ca6.length-1;j+=2){var _ca9=_ca6[j],_caa=_ca6[j+1];_ca8=_ca7.getChildren(_ca9);if(_ca8.length>0){if(j>0&&!_ca8[0].isA(_caa)){_c39.error(this.id+".gridBodyFillRow: entity and reference do not match");_ca8=[];break;}_ca7=_ca8[0];}else{if(_ca6.length===3){_ca5=!!_ca0.get(_ca9);break;}else{break;}}}[].push.apply(_ca3,_ca8);}if(!_ca5){this._renderObjectsToCell(_ca3,td,_ca4,", ");}else{if(_ca0.isReference(_ca6[0])){var self=this;window.mx.data.get({guids:_ca0.getReferences(_ca6[0]),callback:function(_cab){self._renderObjectsToCell(_cab,td,_ca4,_ca6.length===3?_ca6[2]:_ca6[3],";");},error:window.mx.onError},this);}else{_c39.error(this.id+".gridBodyFillRow: attribute '"+_ca6[0]+"' is not a reference(set)");}}},this);},_insertNewFirstOrLast:function(_cac,_cad,last){var _cae=function(_caf){window.mx.data.create({entity:_cac,context:this.mxcontext,persistent:_cad.persistent,callback:function(obj){if(!last){this._dataSource.insertMxObjectAtStart(obj);}else{this._dataSource.insertMxObjectAtEnd(obj);}_caf();},error:window.mx.onError},this);};this.triggerOnSync();this.sequence([_cae,"actDeferSyncAction",function(){this.refreshGrid();var row=last?this._dataSource.getObjects().length-1:0;this.eventSelectRow({row:row});}]);},_clearSelection:function(){this._selectedGuids=[];},_getEntity:function(_cb0){return _c38.firstKey(_cb0);},_getSelectedGuids:function(){return this._selectedGuids;},_getCurrentGuid:function(){return this._selectedGuids[this._selectedGuids.length-1];},_addObjectToSelection:function(obj){var guid=obj.getGuid();if(_c3d.indexOf(this._selectedGuids,guid)==-1){this._selectedGuids.push(guid);}},_removeObjectFromSelection:function(obj){var guid=obj.getGuid(),_cb1=_c3d.indexOf(this._selectedGuids,guid);if(_cb1!=-1){this._selectedGuids.splice(_cb1,1);}},_getNodeFromEvent:function(e){return _c36.getAncestorNode(e.target,"TR");},_getActionFromEvent:function(e){var _cb2=this._gridConfig.gridActionBindings(),_cb3=_cb2["on"+e.type];return this._gridConfig.getActionsByKey(_cb3);},_getObjectFromNode:function(node){return this._mxObjects[this.domData(node,"gridrow")];},_addFocusBoxForTable:function(){var box=this.addFocusBox(this.contentNode);box.pressed({DOWN_ARROW:box.FOCUS_NEXT,UP_ARROW:box.FOCUS_PREV,SPACE:function(e){this.eventItemClicked(e,e.target);},ENTER:function(e,_cb4){if(_cb4){this.eventActionBindingHandler(_cb4,"dblclick");}},LEFT_ARROW:function(){if(!this._dataSource.atBeginning()){this._dataSource.previous(_c3e.hitch(this,function(){this.refreshGrid();mxui.wm.focus.restore();}));}},RIGHT_ARROW:function(){if(!this._dataSource.atEnd()){this._dataSource.next(_c3e.hitch(this,function(){this.refreshGrid();mxui.wm.focus.restore();}));}}},this);}});return _c41;});},"mxui/widget/_Grid":function(){define(["require","mxui/mixin/_Contextable","mxui/mixin/_Scriptable","mxui/mixin/_Pluggable","mxui/mixin/_OverflowHelper","mxui/lib/MxGridConfig","mxui/widget/SearchInput","mxui/widget/Button","mxui/widget","mxui/dom","mendix/lib/EntityPathSource","mendix/lib/MicroflowSource","mendix/lib/ValidationError","mendix/lib/XPathSource","mendix/logger","dijit/_TemplatedMixin","dojo/fx","dojo/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/_base/array","dojo/_base/lang","dojo/_base/event"],function(_cb5,_cb6,_cb7,_cb8,_cb9,_cba,_cbb,_cbc,_cbd,_cbe,_cbf,_cc0,_cc1,_cc2,_cc3,_cc4,_cc5,_cc6,_cc7,_cc8,_cc9,_cca,_ccb,_ccc){var _ccd=_cbd.declare("mxui.widget._Grid",{mixins:[_cc4,_cb6,_cb7,_cb8,_cb9],baseClass:"mx-grid",css:_cbd.createCSSMap("mx-grid",{pagingStatus:"paging-status",searchButton:"search-button",resetButton:"reset-button"}),entity:"",schema:"",reference:"",useContext:false,reqConstraints:"",xpathConstraint:"",customDataSource:null,pagingBarNode:null,searchNode:null,toolBarNode:null,messageNode:null,searchButton:null,resetButton:null,_dataSource:null,_gridConfig:null,_gridState:null,_metaEntity:null,_toolWidgets:null,_pagingStatusNode:null,fetchMetaObject:function(){this._metaEntity=window.mx.meta.getEntity(this.entity);if(this._metaEntity==null){_cc3.error(this.id+": This grid has been configured for an entity the current user doesn't have access to.");return false;}return true;},_saveSelection:function(){this.mxform.setReturnValue("selection",this._getSelectedGuids());},setupGridConfig:function(){this._gridConfig=new _cba({config:this.config,nested:this.nested});},setupGridState:function(){var _cce=this._gridConfig,_ccf=this._gridState;_ccf.updateperiod=_cce.gridSetting("refresh");_ccf.searchbar=_cce.gridSetting("searchbar");_ccf.controlbar=_cce.gridSetting("controlbar");_ccf.pagingbar=_cce.gridSetting("pagingbar");_ccf.selectionmode=_cce.gridSetting("selectionmode");_ccf.editable=_cce.gridSetting("editable");_ccf.showemptyrows=_cce.gridSetting("showemptyrows");_ccf.selectfirst=_cce.gridSetting("selectfirst");_ccf.selectable=(_ccf.selectionmode!=="none");if(this.selectable){_ccf.selectable=/^(single|multi)$/.test(this.selectable);if(this.selectable!=="multi"||_ccf.selectionmode!=="simplemulti"){_ccf.selectionmode=this.selectable;}this.mxform.setReturnValue("selection",[]);}},setupDataSource:function(){var _cd0=this._gridConfig,_cd1=_cd0.getDataSource(),_cd2;if(this.customDataSource){_cd2=this.customDataSource;_cd2.setPageSize(_cd0.gridSetting("pageSize"));_cd2.setOffset(0);var _cd3=_cd0.gridSetting("sortparams");if(_cd3){_cd2.setSortOptions(_cd3[0][0],_cd3[0][1]);}}else{if(_cd1){var _cd4=this instanceof _cb5("mxui/widget/DataGrid")?this.schema:"";if(_cd1.microflow){_cd2=new _cc0({microflow:_cd1.microflow.name,queryid:_cd4,context:this.mxcontext,page:_cd0.gridSetting("pageSize")});}else{if(_cd1.entityPath){_cd2=new _cbf({path:_cd1.entityPath.path,queryid:_cd4,context:this.mxcontext,page:_cd0.gridSetting("pageSize")});}else{_cd2=new _cc2({entity:this.entity,queryid:_cd4,constraint:this.constraint,useContext:this.useContext,context:this.mxcontext,page:_cd0.gridSetting("pageSize"),sortparams:_cd0.gridSetting("sortparams"),aggregates:"Calculations" in this._gridConfig.getPlugins()});}}}}this._dataSource=_cd2;},resizeGrid:function(){this.contentNode.scrollTop=0;},setUpdateInterval:function(){var _cd5=this._gridState.updateperiod;if(_cd5&&_cd5.toString()!="0"){this.clearInterval();this._gridState.update=setInterval(_ccb.hitch(this,"reload"),parseInt(_cd5*1000,10));}},clearInterval:function(){if(this._gridState.update!=null){clearInterval(this._gridState.update);}},shareSelected:function(){var _cd6=this.createContext();_cd6.setTrackEntity(this._metaEntity.getEntity());var guid=this._getCurrentGuid();if(guid){_cd6.setContext(this._metaEntity.getEntity(),guid);}else{_cd6.setContext(this._metaEntity.getEntity(),null);}_cd6.freeze();this.notifyListeners(_cd6);window.mx.ui.cleanContext(_cd6.ident,this);},actionSelectPage:function(opts){if(!this._gridState.invertedSelection){for(var i=0,_cd7=this._dataSource.getObjects(),_cd8;_cd8=_cd7[i];i++){this._addObjectToSelection(_cd8);}}this._saveSelection();this.refreshGrid();},actionSelectAllPages:function(opts){this._clearSelection();this._gridState.invertedSelection=true;this.refreshGrid();},actionClearSelection:function(opts){if(this._getSelectedGuids().length>0||this._gridState.invertedSelection){this._clearSelection();this._gridState.invertedSelection=false;this.refreshGrid();}},actionEditSelection:function(_cd9){var _cda=this._getSelectedGuids();if(_cda.length===0&&!this._gridState.invertedSelection){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{for(var i=0,obj;obj=_cda[i];i++){var _cdb=this._dataSource.getObject(obj),_cdc=_cd9[_cdb.getEntity()];if(_cdc){var _cdd=this.createContext();_cdd.dupFrom(this.mxcontext);_cdd.setObject(null,_cdb.getEntity(),_cdb.getGuid());window.mx.ui.execute(_cdc,{context:_cdd});}}}},actionInsertNew:function(_cde){var _cdf=this._getEntity(_cde),_ce0=_cde[_cdf];if(_ce0&&_cdf){window.mx.data.create({entity:_cdf,context:this.useContext?this.mxcontext:null,persistent:_ce0.persistent,callback:function(obj){if(!this.useContext){var _ce1=this._gridConfig.getDataSource(),_ce2=_ce1.entityPath&&_ce1.entityPath.path||this.reference,_ce3=_ce2.split("/"),guid=this.mxcontext.getTrackId();if(_ce3.length==2&&guid){var attr=_ce3[1];if(obj.isReference(attr)){obj.set(attr,guid);}}}var _ce4=this.createContext();_ce4.setContext(obj);window.mx.ui.execute(_ce0,{context:_ce4});},error:function(e){window.mx.onError(e);}},this);}},selectRow:function(row){this._gridState.invertedSelection?_cc7.remove(row,"selected"):_cc7.add(row,"selected");},deselectRow:function(row){!this._gridState.invertedSelection?_cc7.remove(row,"selected"):_cc7.add(row,"selected");},postCreate:function(){var req=this.reqConstraints,ref=this.reference;this.reqConstraints=req?req.split(","):[];if(ref){this.reqConstraints.push(ref.substr(0,ref.indexOf("/")));}var box=this.addFocusBox(this.controlNode);box.pressed({RIGHT_ARROW:box.FOCUS_NEXT,LEFT_ARROW:box.FOCUS_PREV});this.offerInterfaces(["close"]);this.initContext();if(this.fetchMetaObject()){this.setupGridConfig();this.setupGridState();this.buildSearchBar();this.buildControlBar();this.buildToolBar();this.buildPagingBar();this.setupDataSource();}},getSchemaId:function(){return this.schema;},postCreateSpecific:function(){},getSelected:function(){return this._getSelectedGuids();},deselectAll:function(){this._clearSelection();this.deselectGridRows();},registerSubscriptions:function(){this.removeSubscriptions();var guid=this.mxcontext.getTrackId();if(guid){this.subscribe({guid:this.mxcontext.getTrackId(),callback:_ccb.hitch(this,"objectUpdate")});}this.subscribe({entity:this.entity,callback:_ccb.hitch(this,"objectUpdate")});},eventItemClicked:function(e,node){if(!this._gridState.selectable){return;}var mode=this._gridState.selectionmode,guid=this.domData(node,"mendixguid"),_ce5=this._getSelectedGuids(),_ce6=_cca.indexOf(_ce5,guid),_ce7=mode!="singleandmaintain"||_ce5.length>1;if(guid){var obj=this._dataSource.getObject(guid);if(mode=="simplemulti"||mode=="multi"&&(_cc6("mac")&&e.metaKey||e.ctrlKey)){if(_ce6==-1){this.selectRow(node);this._addObjectToSelection(obj);}else{if(_ce7){this.deselectRow(node);this._removeObjectFromSelection(obj);}}}else{if(_ce6==-1){this.deselectAll();this.selectRow(node);this._addObjectToSelection(obj);}else{if(_ce7){this.deselectRow(node);this._removeObjectFromSelection(obj);}}}this.shareSelected();}},eventActionBindingHandler:function(_ce8,_ce9){var _cea=this._gridConfig.gridActionBindings(),_ceb=this._gridConfig.getActionsByKey(_cea["on"+_ce9]),_cec=_ceb?this["action"+_ceb.actionCall]:null,_ced=this._getObjectFromNode(_ce8);if(this._gridState.invertedSelection){return;}if(_ceb&&_cec&&_ce8&&_ced){if(this._gridState.selectable){this.deselectAll();_cbe.clearSelection();this.selectRow(_ce8);}this._addObjectToSelection(_ced);_cec&&_cec.call(this,_ceb.params);}else{}},eventControlBarButtonClicked:function(e){var node=e.currentTarget,_cee=node.getAttribute("data-mendix-id");if(_cee){var _cef=this._gridConfig.getActionsByKey(_cee);if(_cef){if(_cef.actionCall==="ActionSelected"){_cef.actionCall="EditSelection";}else{if(_cef.actionCall==="Create"){_cef.actionCall="InsertNew";}}var _cf0="action"+_cef.actionCall;if(this[_cf0]){this[_cf0](_cef.params);}else{_cc3.error(this.id+".eventControlBarButtonClicked: Called function '"+_cf0+"' does not exist in this component");}}else{_cc3.error(this.id+".eventControlBarButtonClicked: Action with action key '"+_cee+"' is not defined");}}else{_cc3.error(this.id+".eventControlBarButtonClicked: No action key defined!");}},actionInvokeMicroflow:function(_cf1){this.triggerPluginEvent("invokeMicroflow",null,_ccb.hitch(this,"invokeMicroflow",_cf1));},invokeMicroflow:function(_cf2){var _cf3=this.entity,_cf4=_cf2[_cf3],_cf5=_cf4.microflow,_cf6={applyto:_cf4.applyTo};if(_cf4&&_cf3){var _cf7=this._gridState.invertedSelection,_cf8=this._getSelectedGuids(),_cf9=this._dataSource,_cfa=this.schema,_cfb;switch(_cf4.applyTo){case "selection":if(_cf7){_cfb=[];_cf9.each(function(obj){var guid=obj.getGuid();if(_cca.indexOf(_cf8,guid)===-1){_cfb.push(guid);}});}else{_cfb=_cf8;}if(_cfb.length===0){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));return;}_cf6.guids=_cfb;if(_cfb.length===1){_cf6.gridid=_cfa;}break;case "all":_cfb=_cca.map(_cf9.getObjects(),function(obj){return obj.getGuid();});_ccb.mixin(_cf6,{guids:_cfb,applyto:"selection"});if(_cfb.length===1){_cf6.gridid=_cfa;}break;case "selectionset":var _cfc,_cfd,_cfe;if(_cf7){_cfe=_cf9.getSetSize()-_cf8.length;_cfc=_cf9.getCurrentXPath();}else{_cfe=_cf8.length;_cfc="//"+_cf3;}if(_cfe===0){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));return;}var _cff=[];for(var i=0,id;id=_cf8[i];++i){var obj=_cf9.getObject(id);_cff.push("id"+(_cf7?"!=":"=")+"\""+id+"\"");}if(_cff.length===0){_cfd="";}else{_cfd="["+_cff.join(_cf7?" and ":" or ")+"]";}_ccb.mixin(_cf6,{xpath:_cfc,constraints:_cfd,sort:_cf9.getSortSettings()});if(_cfe===1){_cf6.gridid=_cfa;}break;case "set":if(_cf9.getSetSize()===0){_cf6.applyto="none";}else{_ccb.mixin(_cf6,{xpath:_cf9.getCurrentXPath(),sort:_cf9.getSortSettings()});}break;}var self=this,conf=_cf5.confirmation,_d00=[];var _d01=function(cb){window.mx.ui.confirmation({cancel:conf.cancel,proceed:conf.proceed,content:conf.question,handler:cb});};if(this.actTriggerOnSync){_d00.push("actTriggerOnSync");}if(this.actDeferSyncAction){_d00.push("actDeferSyncAction");}var run=function(_d02){window.mx.ui.execute({microflow:_cf5},{params:_cf6,context:self.mxcontext,store:{caller:self},callback:_d02});};if(conf){_d00.push(_d01);}if(_cf5&&_cf5.validate==="view"){_d00.push(_ccb.hitch(this.mxform,"validate"));}_d00.push(run);_d00.push(function(_d03){if(!(this._destroyed||_cf4.maintainSelection||this._gridState.selectionmode=="singleandmaintain")){this.deselectAll();this.shareSelected();}_d03();});this.sequence(_d00);}},actionReturnSelection:function(opts){var self=this,form=this.mxform;this._saveSelection();form.suspend();form.validate(function(){form.suspend();var _d04=function(e){form.resume();if(!(e instanceof _cc1)){window.mx.onError(e);}};form.save(function(){form.commit(function(){form.dispose();},_d04);},_d04);});},controlNode:null,_setToolbarAttr:function(_d05){for(var i=0,btn;btn=this._toolWidgets[i++];){btn.set("disabled",_d05);}},buildControlBar:function(){if(!this._gridState.controlbar&&!this._gridState.pagingbar){this.controlNode.style.display="none";}},buildToolBar:function(){this._toolWidgets=[];if(!this._gridState.controlbar){this.toolBarNode.style.display="none";return;}var _d06=this._gridConfig.gridTools();var box=this.getFocusBox(this.controlNode);var frag=document.createDocumentFragment();for(var i in _d06){var tool=_d06[i];var _d07=new _cbc({"mxid":tool.mxid,"caption":tool.title,"iconUrl":tool.icon,"onClick":_ccb.hitch(this,"eventControlBarButtonClicked"),"cssClasses":"mx-name-"+tool.name+(tool.cssClass?(" "+tool.cssClass):""),"cssStyle":tool.cssStyle});this._toolWidgets.push(_d07);var _d08=_d07.domNode;try{if(_d06[i].gridFunction){_d08.setAttribute("gridFunction",_d06[i].gridFunction);_d08.setAttribute("param",_d06[i].param);if(_d06[i].background){_d08.setAttribute("background-job",_d06[i].background);}if(_d06[i].progress){_d08.setAttribute("progress",_d06[i].progress);}if(_d06[i].message){_d08.setAttribute("message",_d06[i].message);}}if(i>0){_d06[i-1]._nextNode=_d08;}_d06[i]._domNode=_d08;frag.appendChild(_d08);frag.appendChild(document.createTextNode(" "));box.add(_d08);_d07.startup();}catch(e){}}this.toolBarNode.appendChild(frag);_cbe.disableSelection(this.toolBarNode);},buildPagingBar:function(){if(!this._gridState.pagingbar){this.pagingBarNode.style.display="none";return;}var ltr=this.isLeftToRight(),frag=document.createDocumentFragment(),box=this.getFocusBox(this.controlNode),$=_cbe.create;this.btFirst=new _cbc({iconClass:"glyphicon "+(ltr?"glyphicon-step-backward":"glyphicon-step-forward"),"onClick":_ccb.hitch(this,"eventPagingFirstClicked"),"class":"mx-name-paging-first"});frag.appendChild($("#",this.btFirst.domNode," "));box.add(this.btFirst.domNode);this.btPrevious=new _cbc({iconClass:"glyphicon "+(ltr?"glyphicon-backward":"glyphicon-forward"),"onClick":_ccb.hitch(this,"eventPagingPreviousClicked"),"class":"mx-name-paging-previous"});frag.appendChild($("#",this.btPrevious.domNode," "));box.add(this.btPrevious.domNode);this._pagingStatusNode=$("div",{"class":"dijitInline "+this.css.pagingStatus});frag.appendChild($("#",this._pagingStatusNode," "));this.btNext=new _cbc({iconClass:"glyphicon "+(ltr?"glyphicon-forward":"glyphicon-backward"),"onClick":_ccb.hitch(this,"eventPagingNextClicked"),"class":"mx-name-paging-next"});frag.appendChild($("#",this.btNext.domNode," "));box.add(this.btNext.domNode);this.btLast=new _cbc({iconClass:"glyphicon "+(ltr?"glyphicon-step-forward":"glyphicon-step-backward"),"onClick":_ccb.hitch(this,"eventPagingLastClicked"),"class":"mx-name-paging-last"});frag.appendChild($("#",this.btLast.domNode," "));box.add(this.btLast.domNode);this.pagingBarNode.appendChild(frag);_cbe.disableSelection(this.pagingBarNode);},updatePagingStatus:function(_d09){if(!this._gridState.pagingbar){return;}var _d0a=this._dataSource.getStatusMessage();mxui.html.setContent(this._pagingStatusNode,_d0a);if(this._dataSource.atBeginning()){this.btFirst.set("disabled",true);this.btPrevious.set("disabled",true);}else{this.btFirst.set("disabled",false);this.btPrevious.set("disabled",false);}if(this._dataSource.atEnd()){this.btNext.set("disabled",true);this.btLast.set("disabled",true);}else{this.btNext.set("disabled",false);this.btLast.set("disabled",false);}},eventPagingFirstClicked:function(){if(!this._dataSource.atBeginning()){this._dataSource.first(_ccb.hitch(this,"refreshGrid"));}},eventPagingPreviousClicked:function(){if(!this._dataSource.atBeginning()){this._dataSource.previous(_ccb.hitch(this,"refreshGrid"));}},eventPagingNextClicked:function(){if(!this._dataSource.atEnd()){this._dataSource.next(_ccb.hitch(this,"refreshGrid"));}},eventPagingLastClicked:function(){if(!this._dataSource.atEnd()){this._dataSource.last(_ccb.hitch(this,"refreshGrid"));}},_searchElements:null,_searchFilled:false,searchArgumentNode:null,searchControlNode:null,_searchGetConstraints:function(){var _d0b="";var _d0c=[];_cca.forEach(this._searchElements,function(elem){var _d0d=elem.get("value");(_d0d!=="")&&_d0c.push(_d0d);});if(_d0c.length){_d0b="["+_d0c.join(" and ")+"]";}return _d0b+this._gridState.xpathConstraint;},buildSearchBlock:function(){var $=_cbe.create;if(this._gridState.isSearchBuild){return;}this._gridState.isSearchBuild=true;var _d0e=this.searchButton=new _cbc({"caption":window.mx.ui.translate("mxui.widget.DataGrid",["search"]),"onClick":_ccb.hitch(this,"eventSearchActivated"),"class":"mx-name-search "+this.css.searchButton});this.searchControlNode.appendChild($("#",_d0e.domNode," "));var _d0f=this.resetButton=new _cbc({"caption":window.mx.ui.translate("mxui.widget.DataGrid",["reset"]),"onClick":_ccb.hitch(this,"eventSearchResetClicked"),"class":"mx-name-reset "+this.css.resetButton});this.searchControlNode.appendChild($("#",_d0f.domNode," "));var _d10=document.createDocumentFragment();this._searchElements=_cca.map(this._gridConfig.searchBarItems(),_ccb.hitch(this,function(_d11){var _d12=new _cbb(_ccb.mixin({entity:this.entity,mxcontext:this.mxcontext},_d11));this.connect(_d12,"onKeyUp","eventSearchActivated");_d10.appendChild(_d12.domNode);_d12.startup();return _d12;}));this.searchArgumentNode.appendChild(_d10);},buildSearchBar:function(){if(!this._gridState.searchbar){this.searchNode.style.display="none";this._searchFilled=true;return;}var _d13=this._gridConfig.searchBarConfig();if(_d13){this._gridState.searchBarVisible=!_d13.startFolded;this._gridState.searchBarTogglable=!!_d13.foldable;}else{this._gridState.searchBarVisible=true;}if(!this._gridState.searchBarVisible){var _d14=false;var opts=this._gridConfig.searchBarItems();for(var i in opts){var item=opts[i];if(item.defaults){this.buildSearchBlock();_d14=true;break;}}this.searchNode.style.display="none";this._gridState.isSearchBuild=_d14;}else{this.buildSearchBlock();this.searchNode.style.display="";}this.checkSearchFields();},eventSearchActivated:function(e){var self=this;_ccc.stop(e);var _d15=this.searchButton;var _d16=_ccb.hitch(this,function(){this._clearSelection();this.refreshGrid();if(this.triggerOnSearchChanged){this.triggerOnSearchChanged();}_d15.set("disabled",false);});var _d17=false;if(e.type==="click"){this.checkSearchFields();_d17=true;}else{if(e.shiftKey&&e.keyCode===13){}else{if(e.keyCode===13){this.checkSearchFields();_d17=true;}}}if(!this.constraintsFilled()){_d17=false;}if(_d17){_d15.set("disabled",true);this._dataSource.isValid(function(_d18){if(_d18){self._dataSource.setConstraints(self._searchGetConstraints(),_d16);}else{_d15.set("disabled",false);}});}},eventSearchResetClicked:function(){var _d19=this._dataSource;_cca.forEach(this._searchElements,function(elem){elem.reset();});this.checkSearchFields();_d19.setConstraints(this._searchGetConstraints());var _d1a=_ccb.hitch(this,function(){this.refreshGrid();if(this.triggerOnSearchChanged){this.triggerOnSearchChanged();}});if(this.constraintsFilled()){_d19.isValid(function(_d1b){if(_d1b){_d19.refresh(_d1a);}else{_d19.clean(_d1a);}});}},checkSearchFields:function(){var _d1c=this._gridConfig.gridSetting("waitforsearch");if(!_d1c){this._searchFilled=true;return;}this._searchFilled=_cca.some(this._searchElements,_ccb.hitch(this,function(elem){if(elem.get("value")!==""){this.messageNode.innerHTML="";this.messageNode.style.display="none";return true;}}));if(!this._searchFilled){this.messageNode.innerHTML=window.mx.ui.translate("mxui.widget.DataGrid","waitForSearch");this.messageNode.style.display="block";}},constraintsFilled:function(){if(!this._searchFilled){return false;}for(var i=0,_d1d;_d1d=this.reqConstraints[i];i++){if(!this.mxcontext.getContext(_d1d)){return false;}}return true;},reload:function(_d1e){if(this.constraintsFilled()){var self=this;this._dataSource.isValid(function(_d1f){if(_d1f){self._dataSource.refresh(function(){self.refreshGrid();_d1e&&_d1e();});}});}},actionToggleSearch:function(opts){var self=this;if(!this._gridState.searchBarTogglable){return;}this.buildSearchBlock();if(!(this._gridState.searchBarVisible=!this._gridState.searchBarVisible)){this._searchWipeOut=this._searchWipeOut||_cc5.wipeOut({node:this.searchNode,duration:200,onEnd:function(){setTimeout(function(){self.resize(self._resizeBox);},0);_cca.forEach(self._searchElements,function(elem){elem.cleanup();});}});this._searchWipeOut.play();}else{this._searchWipeIn=this._searchWipeIn||_cc5.wipeIn({node:this.searchNode,duration:200,onEnd:function(){setTimeout(function(){self.showOverflow();self.resize(self._resizeBox);},0);try{_cca.some(self._searchElements,function(elem){if(!elem.get("hidden")){elem.focus();return true;}});}catch(e){}}});this.hideOverflow();this._searchWipeIn.play();}},applyContext:function(_d20,_d21){var self=this;if(this._metaEntity==null){_d21&&_d21();return;}if(!this._dataSource){_cc3.error(this.id+".applyContext: Applying context before rendered!!!");_d21&&_d21();return;}this._clearSelection();this.cloneContext(_d20);this.setUpdateInterval();this._gridState.xpathConstraint=this.xpathConstraint;var _d22=this.mxcontext.getParam("xpathConstraint");if(_d22){this._gridState.xpathConstraint+=_d22;}this.removeSubscriptions();this.registerSubscriptions();if(this.reference){var _d23=this.reference.split(/\//),_d24=_d23[0],_d25=_d23[1];var id=this.mxcontext.getContext(_d24);if(id){var _d26="["+_d25+"=\""+id+"\"]";this._gridState.xpathConstraint+=_d26;}else{}}if(!this._gridState.inDenial){var _d27=[];if(this.constraintsFilled()){var _d28=[];var _d29=function(item){return function(_d2a){item.reinit(_d2a);};};_cca.forEach(this._searchElements,function(elem){_d28.push(_d29(elem));});_d27.push(function(cb){this.collect(_d28,cb);});_d27.push(function(_d2b){if(this._dataSource.setConstraints){this._dataSource.setConstraints(self._searchGetConstraints());}this._dataSource.reload(_d2b);});}else{_d27.push("actCleanDS");}this.sequence(_d27,function(){this.filterSelected();this.refreshGrid();this.shareSelected();_d21();});}else{_d21&&_d21();}},objectUpdateNotification:function(){var self=this;if(!this._gridState.inDenial&&this.constraintsFilled()){this._dataSource.isValid(function(_d2c){if(_d2c){self.sequence([_ccb.hitch(self._dataSource,"entityUpdate"),function(_d2d){this.filterSelected();this.refreshGrid();_d2d&&_d2d();}]);}});}},refreshGrid:function(){this.updatePagingStatus();this.fillGrid();this.resizeGrid();},actCleanDS:function(_d2e){this._clearSelection();this._dataSource.clean(_d2e);},resumed:function(){this.setUpdateInterval();},suspended:function(){this.clearInterval();},actionDeleteSelection:function(_d2f){var _d30=this._getSelectedGuids();if(this._gridState.invertedSelection){}else{if(!_d30.length){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{var self=this;var _d31=function(){var _d32=_d30;self.deselectAll();self.shareSelected();window.mx.data.remove({guids:_d32,callback:function(){window.mx.data.sendClassUpdate(self.entity);},error:function(e){window.mx.onError(e);}});};if(_d2f===true){_d31();}else{window.mx.ui.confirmation({content:window.mx.ui.translate("mxui.widget.DataGrid","confirm_delete",_d30.length),handler:_d31});}}}},resize:function(box){var _d33=false;if(box){var _d34=_cc9.getMarginBox(this.domNode),_d35=_cc9.getMarginBox(this.contentNode),_d36=box.h-(_d34.h-_d35.h);if(_d36>_cbe.minContainerHeight){_cc8.set(this.contentNode,"height",_d36+"px");_d33=true;if(this.headTable){_cc8.set(this.headTable,"top","0px");}}}if(!_d33){_cc8.set(this.contentNode,"height","auto");}this._resizeBox=box;},close:function(){this.disposeContent();},onHide:function(e){_cca.forEach(this._searchElements,function(elem){elem.cleanup();});},uninitialize:function(_d37){var _d38=null;try{this.clearInterval();this.removeSubscriptions();_cbd.destroyChildren(this.searchControlNode);_cbd.destroyChildren(this.toolBarNode);_cbd.destroyChildren(this.pagingBarNode);if(this.itemNode){_cbd.destroyChildren(this.itemNode);}if(_d38){_d38.destroy();}_cca.forEach(this._searchElements,function(elem){elem.destroy();});}catch(e){_cc3.error(this.id+".uninitialize : error : "+e.message);}this._dataSource=null;this._gridConfig=null;this._metaEntity=null;this._searchElements=null;}});return _ccd;});},"mxui/lib/MxGridConfig":function(){define(["dojo","dijit","dojox"],function(dojo,_d39,_d3a){dojo.provide("mxui.lib.MxGridConfig");mxui.lib.MxGridConfig=function(_d3b){var name="mxui.lib.MxGridConfig";var _d3c=_d3b.config;var _d3d={};var _d3e=[];var _d3f={};var _d40={};var _d41={};var _d42=function(){var _d43=_d3c.controlBar.gridTools;for(var i=0,tool;tool=_d43[i];i++){if(mx.session.hasSomeRole(tool[mxui.html.attrs.ForRole]||null)){_d3e.push(dojo.mixin({mxid:tool.actionKey},tool));}else{_d41[tool.actionKey]=true;}}};var _d44=function(){var _d45=_d3c.controlBar.gridActions;for(var i=0,_d46;_d46=_d45[i];i++){_d3d[_d46.keyValue]={actionCall:_d46.gridFunction,params:_d46.params};}};var _d47=function(){var _d48=_d3c.actionBindings,_d49,ev;if(_d48){for(ev in _d48){_d49=_d48[ev];if(!_d41[_d49]){_d3f[ev]=_d49;}}}};this.gridSetting=function(str){var _d4a=_d3c.gridpresentation,_d4b=dojo.mixin({pageSize:_d4a.rows*_d4a.columns},_d4a);return _d4b[str];};this.gridTools=function(){return _d3e;};this.getActionsByKey=function(key){var _d4c=_d3d[key];return _d4c&&_d4c.params?dojo.clone(_d4c):_d4c;};this.searchBarItems=function(){return _d3c.searchElements;};this.gridAttributes=function(){return _d3c.griddata;};this.searchBarConfig=function(){return _d3c.searchOptions;};this.getDataSource=function(){return _d3c.datasource;};this.gridActionBindings=function(){return _d3f||{};};this.getPlugins=function(){return _d3c.plugins||{};};this.toString=function(){return "mxui.lib.MxGridConfig";};_d42();_d44();_d47();};});},"mxui/widget/SearchInput":function(){define(["mxui/widget/_WidgetBase","mxui/widget/_MasterTooltip","mxui/wm/focus","mxui/dom","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/declare"],function(_d4d,_d4e,_d4f,dom,_d50,_d51,_d52,_d53,_d54){var $=dom.create;var _d55=_d54(_d4d,{declaredClass:"mxui.widget.SearchInput",path:"",operator:"",caption:"",entity:"",defaults:"",hidden:false,disabled:false,defaultsParser:"",queryBuilder:"",retriever:"",datasource:"",widget:"",mxcontext:null,_MS_IN_DAY:24*60*60*1000,_attribute:"",_metaObject:null,_input:null,_widget:null,_tooltip:null,_datasource:null,_defaultsValue:null,_doDefaultsParser:null,_doQueryBuilder:null,_doRetriever:null,postMixInProperties:function(){var _d56=this.path.split("/");if(_d56.length>1){this.entity=_d56[_d56.length-2];}this._attribute=_d56[_d56.length-1];this._metaObject=window.mx.meta.getEntity(this.entity);this._doRetriever=this.retriever?_d52.hitch(this,"_retrieve"+this.retriever+"Options"):null;this._doQueryBuilder=this["_build"+((this.queryBuilder&&this.queryBuilder.name)||"Simple")+"Query"];this._initDataSource();this._initDefaultsValue();},buildRendering:function(){var _d57,_d58;if(this.widget){_d57=_d52.getObject(this.widget.type);this._widget=new _d57(this.widget.params);_d58=this._widget.domNode;this.connect(this._widget,"onKeyUp","onKeyUp");this.connect(this._widget,"onChange","onChange");}else{if(this.retriever||this.datasource){this._input=$("select",{"class":"form-control"});}else{this._input=$("input",{type:"text","class":"form-control"});}_d58=this._input;this.connect(this._input,"keyup","onKeyUp");this.connect(this._input,"blur","onChange");}if(this.retriever){this._fillInput(this._doRetriever());}if(!this._datasource){this.reset();}this.domNode=$("div",{"class":"mx-grid-search-item"},$("div",{"class":"mx-grid-search-label"},$("label",this.caption||"")),$("div",{"class":"mx-grid-search-input"},_d58));_d50.add(_d58,"mx-name-"+this.searchInputName);if(this.get("hidden")){this.domNode.style.display="none";}},startup:function(){this.inherited(arguments);this.reinit();this.set("disabled",this.disabled);},reset:function(){this._hideTooltip();if(this._widget){this._widget.set("value",this._defaultsValue);}else{if(this.retriever){dom.selectOptionByValue(this._input,this._defaultsValue);}else{this._input.value=this._defaultsValue;}}},reinit:function(_d59){var self=this;if(this._datasource){this._datasource.reload(function(){var _d5a={};_d51.forEach(self._datasource.getObjects(),function(obj){var _d5b=obj.get(self._attribute);_d5a[_d5b]=_d5b;});self._fillInput(_d5a);self.reset();_d59&&_d59();});}else{_d59&&_d59();}},focus:function(){if(this._widget){if(this._widget.focus){this._widget.focus();}else{_d4f.put(this._widget.domNode);}}else{_d4f.put(this._input);}},onChange:function(){if(!this.get("valid")){this._showTooltip();}else{this._hideTooltip();}},onKeyUp:function(){},cleanup:function(){this._hideTooltip();},uninitialize:function(){if(this._tooltip){this._tooltip.destroyRecursive();}if(this._widget){this._widget.destroy();}},_retrieveBoolOptions:function(){return {"true":window.mx.ui.translate("mxui.widget.DataGrid","true"),"false":window.mx.ui.translate("mxui.widget.DataGrid","false")};},_retrieveEnumOptions:function(){return this._metaObject.getEnumKVPairs(this._attribute);},_defaultSimpleValue:function(_d5c){return _d5c||"";},_defaultJsonValue:function(_d5d){return _d53.fromJson(_d5d||"''");},_defaultDateValue:function(_d5e){var _d5f="";if(_d5e){if(_d5e==="[%CurrentDateTime%]"){_d5f=+new Date();}else{if(_d5e==="[%BeginOfCurrentDay%]"){_d5f=+new Date().setHours(0,0,0,0);}else{_d5f=window.mx.parser.localizeEpoch(+_d5e);}}}return _d5f;},_buildRangeQuery:function(_d60){return [this._xpWithEmptyString(this._xpString(_d60.path,_d60.operator,_d60.value),_d60.path),this._xpWithEmptyString(this._xpString(_d60.toPath,_d60.toOperator,_d60.value),_d60.toPath)].join(" and ");},_buildSimpleQuery:function(_d61){return this._xpString(_d61.path,_d61.operator,_d61.value);},_buildDateQuery:function(_d62){var _d63=_d62.operator,_d64=0;if(_d62.operator=="="){return "("+["("+this._xpString(_d62.path,">=",_d62.value)+")","("+this._xpString(_d62.path,"<",_d62.value+this._MS_IN_DAY)+")"].join(" and ")+")";}else{switch(_d62.operator){case ">":_d63=">=";_d64=this._MS_IN_DAY;break;case "<=":_d63="<";_d64=this._MS_IN_DAY;break;}return this._xpString(_d62.path,_d63,(_d62.value+_d64)+"");}},_buildDateRangeQuery:function(_d65){return "("+[this._xpWithEmptyString(this._xpString(_d65.path,_d65.operator,_d65.value+this._MS_IN_DAY),_d65.path),this._xpWithEmptyString(this._xpString(_d65.toPath,_d65.toOperator,_d65.value),_d65.toPath)].join(" and ")+")";},_initDefaultsValue:function(){var _d66=this["_default"+(this.defaultsParser||"Simple")+"Value"];this._defaultsValue=_d66.call(this,this.defaults);},_initDataSource:function(){var _d67={xpath:"mendix.lib.XPathSource"},_d68;if(this.datasource){_d68=_d52.getObject(_d67[this.datasource.type]);if(_d68){this._datasource=new _d68(_d52.mixin({},{entity:this.entity,attributes:[this._attribute],useContext:false,context:this.mxcontext,page:1000,aggregates:false,distinct:true},this.datasource.params));}}},_showTooltip:function(){var _d69,node;if(!this._tooltip){this._tooltip=new _d4e();}if(this._metaObject.isDate(this._attribute)){_d69="invalid_date";}else{_d69="invalid_number";}if(this._widget){node=this._widget.domNode;}else{node=this._input;}this._tooltip.show(window.mx.ui.translate("mendix.lib.Validations",_d69),node);},_hideTooltip:function(){var node;if(this._widget){node=this._widget.domNode;}else{node=this._input;}this._tooltip&&this._tooltip.hide(node);},_fillInput:function(_d6a){var _d6b,key;if(this._widget){_d6b=[];for(key in _d6a){_d6b.push({value:key,caption:_d6a[key]});}this._widget.set("items",_d6b);}else{dom.setSelectOptions(this._input,_d6a);}},_stringForOperator:function(key,_d6c,_d6d){return key+_d6c+_d6d;},_stringForContains:function(key,_d6e,_d6f){return _d6e+"("+key+","+_d6f+")";},_xpString:function(key,_d70,_d71){return (/contains|starts-with/.test(_d70))?this._stringForContains(key,_d70,_d71):this._stringForOperator(key,_d70,_d71);},_xpWithEmptyString:function(expr,key){return "("+expr+" or "+key+"=empty)";},_getValueAttr:function(){var _d72,_d73;if(!this.get("valid")){return "";}if(this._widget){_d72=this._widget.get("value");}else{if(this.retriever||this.datasource){_d72=dom.getSelectedValue(this._input);}else{_d72=this._input.value;}}if(_d52.isArray(_d72)){_d73=_d72;}else{if(_d72===""){_d73=[];}else{_d73=[_d72];}}if(_d73.length===0){return "";}return "("+_d51.map(_d73,_d52.hitch(this,function(_d74){var _d75=this._metaObject;if(_d75.isDate(this._attribute)){_d74=+_d74;if(!_d75.isLocalizedDate(this._attribute)){_d74=window.mx.parser.delocalizeEpoch(_d74);}}else{if(!(_d75.isNumber(this._attribute)||_d75.isCurrency(this._attribute))){_d74="'"+dom.escapeHTMLQuotes(_d74)+"'";}}return this._doQueryBuilder(_d52.mixin({},this.queryBuilder.params,{path:this.path,operator:this.operator,value:_d74}));})).join(" or ")+")";},_getValidAttr:function(){var _d76;if(this._widget){_d76=this._widget.get("value");if(_d76==null){return false;}}else{_d76=this._input.value;}if(this._metaObject.isNumber(this._attribute)||this._metaObject.isCurrency(this._attribute)){return (/^\d*(\.\d+)?$/).test(_d76);}if(/integer/i.test(this._metaObject.getAttributeType(this._attribute))&&_d76>2147483647){return false;}return true;},_getHiddenAttr:function(){return this.hidden;},_setHiddenAttr:function(_d77){this.hidden=_d77;},_setDisabledAttr:function(_d78){var node;this.disabled=_d78;if(this._widget){node=this._widget.domNode;this._widget.set("disabled",_d78);}else{node=this._input;if(_d78){node.setAttribute("readonly","readonly");dom.disableNode(node);}else{node.removeAttribute("readonly","readonly");dom.enableNode(node);}}if(_d78){_d50.add(node,"MxClient_formDisabled");}else{_d50.remove(node,"MxClient_formDisabled");}},_getDisabledAttr:function(){return this.disabled;}});return _d55;});},"mxui/widget/Button":function(){define(["mxui/widget/_Button","dojo/_base/declare"],function(_d79,_d7a){var _d7b=_d7a(_d79,{declaredClass:"mxui.widget.Button",checkDisabled:function(){return this._disabled;}});return _d7b;});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_d7c,dojo,_d7d,_d7e,_d7f,dom,_d80,geom,_d81,_d82){if(!dojo.isAsync){_d81(0,function(){var _d83=["./fx/Toggler"];_d82(_d83);});}var _d84=dojo.fx={};var _d85={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _d86=function(_d87){this._index=-1;this._animations=_d87||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_d7d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_d86.prototype=new _d7c();lang.extend(_d86,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_d7e.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);this._onEndCtx=_d7e.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play(0,true);}},play:function(_d88,_d89){if(!this._current){this._current=this._animations[this._index=0];}if(!_d89&&this._current.status()=="playing"){return this;}var _d8a=_d7e.after(this._current,"beforeBegin",lang.hitch(this,function(){this._fire("beforeBegin");}),true),_d8b=_d7e.after(this._current,"onBegin",lang.hitch(this,function(arg){this._fire("onBegin",arguments);}),true),_d8c=_d7e.after(this._current,"onPlay",lang.hitch(this,function(arg){this._fire("onPlay",arguments);_d8a.remove();_d8b.remove();_d8c.remove();}));if(this._onAnimateCtx){this._onAnimateCtx.remove();}this._onAnimateCtx=_d7e.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);if(this._onEndCtx){this._onEndCtx.remove();}this._onEndCtx=_d7e.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_d7e.after(this._current,"onPause",lang.hitch(this,function(arg){this._fire("onPause",arguments);e.remove();}),true);this._current.pause();}return this;},gotoPercent:function(_d8d,_d8e){this.pause();var _d8f=this.duration*_d8d;this._current=null;_d7d.some(this._animations,function(a){if(a.duration<=_d8f){this._current=a;return true;}_d8f-=a.duration;return false;});if(this._current){this._current.gotoPercent(_d8f/this._current.duration,_d8e);}return this;},stop:function(_d90){if(this._current){if(_d90){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_d7e.after(this._current,"onStop",lang.hitch(this,function(arg){this._fire("onStop",arguments);e.remove();}),true);this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){this._onAnimateCtx.remove();}if(this._onEndCtx){this._onEndCtx.remove();}}});lang.extend(_d86,_d85);_d84.chain=function(_d91){return new _d86(_d91);};var _d92=function(_d93){this._animations=_d93||[];this._connects=[];this._finished=0;this.duration=0;_d7d.forEach(_d93,function(a){var _d94=a.duration;if(a.delay){_d94+=a.delay;}if(this.duration<_d94){this.duration=_d94;}this._connects.push(_d7e.after(a,"onEnd",lang.hitch(this,"_onEnd"),true));},this);this._pseudoAnimation=new _d7f.Animation({curve:[0,1],duration:this.duration});var self=this;_d7d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_d7e.after(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);},true));});};lang.extend(_d92,{_doAction:function(_d95,args){_d7d.forEach(this._animations,function(a){a[_d95].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_d96,args){var t=this._pseudoAnimation;t[_d96].apply(t,args);},play:function(_d97,_d98){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_d99,_d9a){var ms=this.duration*_d99;_d7d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_d9a);});this._call("gotoPercent",arguments);return this;},stop:function(_d9b){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_d7d.forEach(this._connects,function(_d9c){_d9c.remove();});}});lang.extend(_d92,_d85);_d84.combine=function(_d9d){return new _d92(_d9d);};_d84.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_d7f.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _d9e=_d80.get(node,"height");return Math.max(_d9e,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_d7e.after(anim,"onStop",fini,true);_d7e.after(anim,"onEnd",fini,true);return anim;};_d84.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_d7f.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_d7e.after(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";},true);var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_d7e.after(anim,"onStop",fini,true);_d7e.after(anim,"onEnd",fini,true);return anim;};_d84.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_d80.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_d7f.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_d7e.after(anim,"beforeBegin",init,true);return anim;};return _d84;});},"mxui/html/render":function(){define(["dojo","dijit","dojox"],function(dojo,_d9f,_da0){dojo.provide("mxui.html.render");mxui.html.renderValues=function(_da1,_da2,_da3){var _da4=_da2.replace(/\${([^}\s]+)}/g,function(_da5,_da6,_da7,str){var _da8=_da6.split(":");var _da9=_da8[0];var info="";if(_da1.has(_da6)){var _daa=_da8[1]||_da1.getAttributeType(_da9);info=mxui.html.renderValue(_da1,_da9,_da3);}else{logger.error("mxui.html.renderValues : attribute '"+_da9+"' not found in '"+_da1.getEntity()+"'");}return info;});return _da4;};mxui.html.getRenderAttributes=function(_dab){var _dac=[];_dab&&_dab.replace(/\${([^}\s]+)}/g,function(_dad,_dae,_daf,str){_dac.push(_dae);});return _dac;};mxui.html.renderValue=function(_db0,attr,opts){opts=opts||{};var _db1=opts.render||_db0.getAttributeType(attr)||"";var _db2=_db0.get(attr);var _db3="";switch(_db1.toLowerCase()){case "string":_db3=_db2||"";break;case "date":case "datetime":if(_db2!==""){_db3=mx.parser.formatDate(_db2,{selector:opts.format,datePattern:opts.datepattern});}else{_db3="";}break;case "enum":_db3=_db0.getEnumCaption(attr);break;case "number":case "int":case "integer":case "long":_db3=mx.parser.formatNumber(_db2,opts.formatted,0);break;case "float":case "currency":_db3=mx.parser.formatNumber(_db2,opts.formatted,opts.precision);break;case "bool":case "boolean":_db3=mx.ui.translate("mxui.widget.DataGrid",_db2);break;default:_db3=_db2;break;}return _db3;};});},"mxui/lib/ColumnResizer":function(){define(["dojo","dijit","dojox"],function(dojo,_db4,_db5){dojo.provide("mxui.lib.ColumnResizer");dojo.declare("mxui.lib.ColumnResizer",null,{columns:null,thNodes:null,colUnits:"",tableNode:null,gridNode:null,rowNode:null,minWidth:40,cssClass:"mx-datagrid-column-resizer",rtl:false,autoColums:null,active:0,startPos:0,startWidth:0,totalWidth:0,bodyCursor:"",handles:null,connects:null,resizing:false,constructor:function(_db6){_db6=_db6||{};var ths=_db6.thNodes,cols=_db6.colNodes;this.columns=[];this.autoColumns=[];this.thNodes=ths;this.colUnits=_db6.colUnits;this.tableNode=_db6.tableNode;this.gridNode=_db6.gridNode;this.rowNode=ths[0].parentNode;this.minWidth=_db6.minWidth||40;this.rtl=_db6.rtl;this.prepareTable(ths,cols);},prepareTable:function(ths,cols){var _db7=0,_db8=false;dojo.forEach(ths,function(th,_db9){if(_db9>0){var _dba=mxui.dom.create("div",{"class":this.cssClass});mxui.dom.data(_dba,"index",_db9);th.firstChild.appendChild(_dba);}var _dbb=cols[_db9][0].style.width,_dbc=_dbb=="auto";var _dbd=this.columns[_db9]={node:th,cols:cols[_db9],width:0,rounded:0,minWidth:0,startWidth:0,isAuto:_dbc};if(this.colUnits=="px"){if(_dbc){_db8=true;this.autoColumns.push(_dbd);}else{_db7+=parseInt(_dbb,10);}}else{_db8=true;}},this);if(!_db8){this.tableNode.style.width=this.gridNode.style.width=_db7+"px";}dojo.forEach(this.columns,function(_dbe){_dbe.width=this.getColWidth(_dbe);},this);this.setRatios();var self=this;this.connects=[dojo.on(this.rowNode,"."+this.cssClass+":click",dojo.stopEvent),dojo.on(this.rowNode,"."+this.cssClass+":mousedown",function(e){var _dbf=mxui.dom.data(this,"index");self.startResize(_dbf-1,e);})];},startResize:function(_dc0,e){if(this.resizing){this.endResize();return;}this.resizing=true;this.active=_dc0;this.startPos=e.pageX;this.startWidth=0;this.totalWidth=this.rowNode.offsetWidth;this.bodyCursor=dojo.style(document.body,"cursor");dojo.style(document.body,"cursor","col-resize");dojo.forEach(this.columns,function(_dc1,i){var _dc2=this.getColWidth(_dc1);_dc1.width=_dc1.startWidth=_dc2;_dc1.minWidth=Math.min(_dc2,this.minWidth);if(i<=_dc0){this.startWidth+=_dc2;}},this);this.handles=[dojo.connect(document,"mousemove",dojo.hitch(this,"moveResize")),dojo.connect(document,"mouseup",dojo.hitch(this,"endResize"))];e.preventDefault();},moveResize:function(e){var _dc3=0,_dc4=this.active,_dc5=this.columns,_dc6=this.startWidth+(this.rtl?-1:1)*(e.pageX-this.startPos);this.scaleColumns(_dc4,_dc6);for(var i=0,_dc7;_dc7=_dc5[i];i++){var _dc8=Math.round(_dc7.width);this.setColWidth(_dc7,_dc8);_dc3+=_dc8;}var diff=this.totalWidth-_dc3;this.setColWidth(_dc5[_dc4],_dc5[_dc4].rounded+diff);e.preventDefault();},endResize:function(e){this.resizing=false;while(this.handles.length){dojo.disconnect(this.handles.pop());}var _dc9=this.columns;dojo.forEach(_dc9,function(_dca){if(this.colUnits=="%"){var _dcb=_dca.rounded/this.totalWidth*100;this.setColWidth(_dca,_dcb,"%");}else{this.setRatios();}},this);dojo.style(document.body,"cursor",this.bodyCursor);},recalculate:function(){if(this.colUnits=="px"){var _dcc=0,_dcd=false;dojo.forEach(this.columns,function(_dce){if(_dce.isAuto){_dcd=true;}else{_dcc+=_dce.width;}});if(_dcd){var _dcf=dojo.contentBox(this.tableNode.parentNode).w-dojo.getBorderExtents(this.tableNode).w,_dd0=totalWidthLeft=_dcf-_dcc;dojo.forEach(this.autoColumns,function(_dd1){var _dd2=Math.max(Math.min(Math.round(_dd1.ratio*totalWidthLeft),_dd0),this.minWidth);_dd0-=_dd2;_dd1.width=_dd2;this.setColWidth(_dd1,_dd2);},this);}}},getColWidth:function(_dd3){return _dd3.node.offsetWidth;},setColWidth:function(_dd4,_dd5,unit){unit=unit||"px";if(unit==="px"){_dd4.rounded=_dd5;}_dd4.cols[0].style.width=_dd4.cols[1].style.width=_dd5+unit;},setRatios:function(){var _dd6=0;dojo.forEach(this.autoColumns,function(_dd7){_dd6+=this.getColWidth(_dd7);},this);dojo.forEach(this.autoColumns,function(_dd8){_dd8.ratio=_dd8.width/_dd6;},this);},scaleColumns:function(_dd9,_dda){var _ddb=this.columns,_ddc=_ddb.slice(0,_dd9+1),_ddd=_ddb.slice(_dd9+1).reverse(),_dde=this.totalWidth,_ddf=0;for(var i=0;i<=_dd9;i++){_ddf+=_ddb[i].width;}if(_dda<_ddf){var _de0=this.calcScale(_ddc,_dda);this.calcScale(_ddd,_dde-_de0);}else{if(_dda>_ddf){var _de0=this.calcScale(_ddd,_dde-_dda);this.calcScale(_ddc,_dde-_de0);}}},calcScale:function(_de1,_de2){var _de3=0,_de4=0,_de5=0,_de6=_de1.pop();for(var i=0;i<_de1.length;i++){_de3+=_de1[i].minWidth;_de4+=_de1[i].startWidth;}_de6.width=Math.max(_de6.minWidth,_de2-_de4);_de2-=_de6.width;for(var i=0;i<_de1.length;i++){var _de7=_de1[i];_de3-=_de7.minWidth;var _de8=Math.min(_de7.startWidth,_de2-_de5-_de3),_de9=Math.min(_de8,_de7.startWidth/_de4*_de2);_de7.width=Math.max(_de7.minWidth,_de9);_de5+=_de7.width;}return _de5+_de6.width;},destroy:function(){while(this.connects.length){dojo.disconnect(this.connects.pop());}dojo.forEach(this.thNodes,function(th){mxui.dom.data(th,"index",null);});}});});},"mxui/widget/TemplateGrid":function(){define(["mxui/widget/_Grid","mxui/widget/TemplateGridItem","mendix/lib/MxContext","mxui/widget","mxui/dom","mendix/logger","mendix/lang","dojo/sniff","dojo/on","dojo/_base/lang","dojo/_base/declare","dojo/text!mxui/widget/templates/TemplateGrid.html"],function(_dea,_deb,_dec,_ded,dom,_dee,lang,_def,_df0,_df1,_df2,_df3){var $=dom.create;var _df4=_df2(mxui.widget._Grid,{declaredClass:"mxui.widget.TemplateGrid",templateString:_df3,subClass:"mx-templategrid",cssmap:_ded.createCSSMap("mx-templategrid",{row:"row",item:"item",empty:"empty"}),itemNode:null,_mxObjects:[],_itemCache:[],_selectedGuids:{},constructor:function(){this._mxObjects=[];this._itemCache=[];this._selectedGuids={};this._gridState={selectable:true,selectionmode:"single",searchbar:true,controlbar:true,pagingbar:true,inDenial:false,searchBarVisible:false,searchBarTogglable:true,xpathConstraint:"",dynamicconstraint:"",loading:false,invertedSelection:false};},postCreate:function(){this.inherited(arguments);if(this._metaEntity){this.connectEvents();}this.loaded();},setupGridState:function(){this.inherited(arguments);this._gridState.columns=this._gridConfig.gridSetting("columns");this._gridState.rows=this._gridConfig.gridSetting("rows");this._gridState.cellwidth=String(_def("ie")?(100/this._gridState.columns-0.05):(100/this._gridState.columns))+"%";},connectEvents:function(){var self=this;this.own(_df0(this.itemNode,_df0.selector("."+this.cssmap.item,"click"),function(e){self.eventItemClicked(e,this);}));var _df5=function(e){self.eventActionBindingHandler(this,e.type);};for(var _df6 in this._gridConfig.gridActionBindings()){this.own(_df0(this.itemNode,_df0.selector("."+this.cssmap.item,_df6.replace(/^on/,"")),_df5));}},fillGrid:function(){this._mxObjects=this._dataSource.getObjects();if(this._gridState.selectfirst&&!this._gridState.invertedSelection&&this._mxObjects.length>0&&lang.itemCount(this._selectedGuids)===0){this._selectedGuids[this._mxObjects[0].getGuid()]=this._mxObjects[0];setTimeout(_df1.hitch(this,function(){this.shareSelected();}),1000);}var _df7=$("#"),_df8=this._itemCache.length,_df9=0,_dfa=false,_dfb=[],_dfc;for(var row=0;row<this._gridState.rows;++row){var _dfd=$("div",{"class":this.cssmap.row});_df7.appendChild(_dfd);for(var col=0;col<this._gridState.columns;++col){if(_df9<this._mxObjects.length){if(_df9>=this._itemCache.length){this._itemCache[_df9]=new _deb({name:"mx-name-index-"+_df9,mxform:this.mxform,template:window.mx.ui.getTemplate(this.mxid,"content"),cssClass:this.cssmap.item});_dfa=true;}_dfc=this._itemCache[_df9].domNode;_dfc.style.width=this._gridState.cellwidth;this.domData(_dfc,{gridrow:_df9,mendixguid:this._mxObjects[_df9].getGuid()});this.addFocusBox(_dfc);_dfd.appendChild(_dfc);if(this._selectedGuids[this._mxObjects[_df9].getGuid()]){this.selectRow(_dfc);}else{this.deselectRow(_dfc);}}else{var _dfe=$("div",{"class":this.cssmap.empty},$("br"));_dfd.appendChild(_dfe);}++_df9;}if(_df9>=this._mxObjects.length&&!this._gridState.showemptyrows){break;}}dom.empty(this.itemNode);this.itemNode.appendChild(_df7);for(_df9=0;_df9<this._mxObjects.length;++_df9){var _dff=new _dec({mxcontext:this.mxcontext});_dff.setObject(this._mxObjects[_df9]);if(_df9>=_df8){this._itemCache[_df9].startup();}this._itemCache[_df9].set("disabled",false);_dfb.push(_df1.hitch(this._itemCache[_df9],"applyContext",_dff));}for(_df9=this._mxObjects.length;_df9<this._itemCache.length;_df9++){this._itemCache[_df9].set("disabled",true);}lang.collect(_dfb,function(){if(_dfa){this.mxform.resize();}},this);},filterSelected:function(){var _e00={};for(var guid in this._selectedGuids){var obj=this._dataSource.getObject(guid);if(obj){_e00[guid]=obj;}}this._selectedGuids=_e00;},deselectGridRows:function(){for(var i=0,l=this._itemCache.length;i<l;++i){this.deselectRow(this._itemCache[i].domNode);}},_clearSelection:function(){this._selectedGuids={};},_getEntity:function(_e01){return lang.firstKey(_e01);},_getSelectedGuids:function(){return lang.objectToArray(this._selectedGuids);},_getCurrentGuid:function(){return lang.firstKey(this._selectedGuids);},_addObjectToSelection:function(obj){var guid=obj.getGuid();this._selectedGuids[guid]=obj;},_removeObjectFromSelection:function(obj){delete this._selectedGuids[obj.getGuid()];},_getObjectFromNode:function(node){return this._mxObjects[this.domData(node,"gridrow")];}});return _df4;});},"mxui/widget/TemplateGridItem":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/_base/declare"],function(_e02,dom,_e03,_e04){var _e05=_e04(_e02,{declaredClass:"mxui.widget.TemplateGridItem",name:"",cssClass:"",template:null,root:null,buildRendering:function(){this.domNode=dom.div({"class":[this.name,this.cssClass].join(" ")});if(this.template){this.domNode.appendChild(this.template);}},startup:function(){var _e06=this.parseContent(this.domNode,{schema:"",ignoreUpdates:true});this.root=_e06[0]||null;},_setDisabledAttr:function(_e07){this.root&&this.root.set("disabled",_e07);}});return _e05;});},"mxui/widget/FormDatePicker":function(){define(["mxui/widget/_MasterTooltip","mxui/widget/Calendar","mxui/widget","mxui/dom","mendix/logger","dijit/_TemplatedMixin","dijit/_Contained","dijit/BackgroundIframe","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/text!mxui/widget/templates/FormDatePicker.html"],function(_e08,_e09,_e0a,_e0b,_e0c,_e0d,_e0e,_e0f,_e10,_e11,_e12,_e13,_e14,_e15){var _e16=_e0a.declare("mxui.widget.FormDatePicker",{mixins:[_e0d,_e0e],inputargs:["name","dateFormat","format"],onvaluechange:"",onmouseclick:"",onfocusleave:"",obligatory:false,obligatorycause:"",domNode:null,inputNode:null,baseClass:"mendixFormDatePicker",templateString:_e15,noValidation:false,trigger:"",readOnly:false,datePicker:null,dropDown:null,hoverState:false,viewState:false,justPicked:false,keyEvents:null,blurEvent:null,isRtl:null,hasDate:false,dateParams:null,postCreate:function(){this.keyEvents=[];this.domNode.name=this.name;if(!this.dateFormat){this.dateFormat="date";}else{this.dateFormat=this.dateFormat.toLowerCase();}this.dateParams={selector:this.dateFormat=="custom"?"date":this.dateFormat,datePattern:this.format};this.hasDate=(/date/.test(this.dateFormat)||this.dateFormat=="custom"&&/[dMy]/.test(this.format));if(this.hasDate){this.connect(this.iconNode,"onclick","onIconClick");}else{this.iconNode.parentNode.removeChild(this.iconNode);}this.isRtl=!this.isLeftToRight();this.connect(this.inputNode,"onfocus","onInputFocus");this.connect(this.inputNode,"onblur","onInputBlur");this.set("disabled",this.isInactive);this.loaded();},onInputClick:function(e){if(!this.isInactive&&!this.viewState){this.showDatePicker();}},onIconClick:function(e){this.showDatePicker();},onInputFocus:function(e){this.inputNode.focused=true;this.justClicked=false;},onInputBlur:function(e){if(!this.hoverState){if(!this.isInactive&&this.viewState){this.hideDatePicker();}this.justClicked=false;}else{this.justClicked=true;setTimeout(_e14.hitch(this,function(){this.inputNode.focus();}),0);}},onBodyMouseDown:function(e){if(this.isMouseOut(e)){this.hoverState=false;this.onInputBlur();}},isMouseOut:function(e){var iDim=_e11.position(this.inputNode);var pDim=_e11.position(this.dropDown);return (e.clientX<iDim.x||e.clientX>iDim.x+iDim.w||e.clientY<iDim.y||e.clientY>iDim.y+iDim.h)&&(e.clientX<pDim.x||e.clientX>pDim.x+pDim.w||e.clientY<pDim.y||e.clientY>pDim.y+pDim.h);},onInputKeyDown:function(e){if(e.keyCode==9&&this.viewState&&!this.isInactive){this.hideDatePicker();}},onInputKeyUp:function(e){switch(e.keyCode){case 27:if(this.viewState){this.hideDatePicker();}break;case 40:if(!this.viewState){this.showDatePicker();}break;default:var _e17=this.get("value");if(this.datePicker&&_e17){this.datePicker.set("value",_e17);}}},showDatePicker:function(){if(!this.datePicker){var _e18=null;var _e19=this.domNode.parentNode;while(!_e18&&_e19&&_e19!=document){_e18=parseInt(_e12.get(_e19,"zIndex"),10);_e19=_e19.parentNode;}this.dropDown=_e0b.create("div",{"style":"position: absolute; display: none","id":this.id+"_lolipop"});this.bgIframe=new _e0f(this.dropDown);if(_e18){_e12.set(this.dropDown,"zIndex",_e18);}this.datePicker=new _e09({lang:_e13.locale.toLowerCase(),onValueSelected:_e14.hitch(this,this.handlerDatePicked),constraints:{selector:"date"},datePackage:/th$/i.test(_e14.locale)?"dojox.date.buddhist":"dojo.date"});this.dropDown.appendChild(this.datePicker.domNode);document.body.appendChild(this.dropDown);this.dropDown.onmouseover=_e14.hitch(this,function(e){this.hoverState=true;});this.dropDown.onmouseout=_e14.hitch(this,function(e){this.hoverState=false;});}var _e1a=this.get("value");_e1a=(_e1a==null||_e1a==="")?+new Date():_e1a;this.datePicker.set("value",_e1a);var _e1b=_e11.position(this.inputNode,true);this.dropDown.style.display="";var _e1c={l:this.isRtl?_e1b.x+_e1b.w-_e11.getMarginBox(this.dropDown).w:_e1b.x,t:_e1b.y+_e1b.h};_e11.setMarginBox(this.dropDown,_e1c);this.viewState=true;this.blurEvent=this.connect(document.body,"onmousedown","onBodyMouseDown");},hideDatePicker:function(){this.dropDown.style.display="none";this.hoverState=false;this.viewState=false;this.blurEvent=this.disconnect(this.blurEvent);},_setDisabledAttr:function(_e1d){this.isInactive=(/true/.test(_e1d));var _e1e=this.iconNode.parentNode;if(this.isInactive){_e10.add(this.domNode,this.baseClass+"Disabled");this.inputNode.setAttribute("readonly","readonly");var evt;while(evt=this.keyEvents.pop()){this.disconnect(evt);}if(this.hasDate){_e1e&&_e1e.removeChild(this.iconNode);}}else{_e10.remove(this.domNode,this.baseClass+"Disabled");this.inputNode.removeAttribute("readonly");var evts=this.keyEvents,_e1f=this.inputNode;if(!evts.length){evts.push(this.connect(_e1f,"onkeydown","onInputKeyDown"));evts.push(this.connect(_e1f,"onkeyup","onInputKeyUp"));evts.push(this.connect(_e1f,"onchange","onChange"));}if(this.hasDate){this.domNode.insertBefore(this.iconNode,this.dateNode);}}},setDatePart:function(_e20,_e21){_e20.setFullYear(_e21.getFullYear());_e20.setMonth(_e21.getMonth());_e20.setDate(_e21.getDate());},setTimePart:function(_e22,_e23){_e22.setHours(_e23.getHours());_e22.setMinutes(_e23.getMinutes());_e22.setSeconds(_e23.getSeconds());_e22.setMilliseconds(_e23.getMilliseconds());},mergeDates:function(_e24,_e25){switch(this.dateFormat){case "date":this.setDatePart(_e24,_e25);break;case "time":this.setTimePart(_e24,_e25);break;case "datetime":case "custom":_e24=_e25;}return +_e24;},_setValueAttr:function(_e26){if(_e26===null||_e26===""){this.inputNode.value="";}else{if(_e26 instanceof Date){var _e27=window.mx.parser.formatDate(_e26.getTime(),this.dateParams);this.inputNode.value=_e27;}else{var nr=Number(_e26);if(!isNaN(nr)){this.set("value",new Date(nr));}}}this._value=_e26||_e26===0?_e26:undefined;},_getValueAttr:function(){var _e28=this.inputNode.value;if(_e28===""){return "";}var _e29=new Date(this._value!==undefined?this._value:window.mx.parser.localizeEpoch(0)),_e2a=window.mx.parser.parseDate(_e28,this.dateParams);if(_e2a!=null){return this.mergeDates(_e29,new Date(_e2a));}else{return null;}},validate:function(e){var _e2b=this.inputNode.value;if(!_e2b){_e0a.hideTooltip(this._table);return;}if(_e2b.match(/^\d+[\/\-]\d+[\/\-]\d+$/)!=null){var _e2c=window.mx.parser.parseDate(_e2b,this.dateParams);if(isNaN(_e2c)){this.showValidationMsg();}else{this.inputNode.value=window.mx.parser.formatDate(_e2c,this.dateParams);_e0a.hideTooltip(this._table);}}else{this.showValidationMsg();}},showValidationMsg:function(){_e0a.showTooltip(window.mx.ui.translate("mendix.lib.Validations","invalid_date"),this._table);setTimeout(_e14.hitch(this,function(){this.inputNode.focus();}),1);},onChange:function(){},handlerDatePicked:function(_e2d){if(_e2d!=null){var _e2e=new Date(this._value!==undefined?this._value:window.mx.parser.localizeEpoch(0));this.set("value",this.mergeDates(_e2e,new Date(_e2d)));this.onChange();}try{if(this.trigger!=""){this.trigger(_e2d);}}catch(e){}this.hideDatePicker();this.justClicked=true;this.inputNode.focus();},uninitialize:function(){if(this.dropDown){document.body.removeChild(this.dropDown);this.dropDown=null;}if(this.datePicker){this.datePicker.destroyRecursive();this.datePicker=null;}try{_e0a.hideTooltip(this._table);}catch(e){}this.bgIframe&&this.bgIframe.destroy();},getInvalidCause:function(){return window.mx.ui.translate("mendix.lib.Validations","invalid_date");}});return _e16;});},"mxui/widget/Calendar":function(){define(["dijit/_Widget","dijit/_TemplatedMixin","dijit/_CssStateMixin","dijit/typematic","dojo/cldr/supplemental","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/dom-geometry","dojo/dom","dojo/keys","dojo/query","dojo/sniff","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/_base/declare","dojo/_base/kernel","dojo/text!mxui/widget/templates/Calendar.html"],function(_e2f,_e30,_e31,_e32,_e33,_e34,_e35,_e36,_e37,_e38,_e39,_e3a,_e3b,_e3c,_e3d,_e3e,_e3f,_e40,_e41,_e42){var _e43=_e40([_e2f,_e30,_e31],{declaredClass:"mxui.widget.Calendar",templateString:_e42,value:new Date(),datePackage:"dojo.date",dayWidth:"narrow",tabIndex:"0",baseClass:"dijitCalendar",cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},attributeMap:_e3e.delegate(_e2f.prototype.attributeMap,{tabIndex:"domNode"}),setValue:function(_e44){_e41.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_e44);},_getValueAttr:function(){var _e45=new this.dateClassObj(this.value);_e45.setHours(0,0,0,0);if(_e45.getDate()<this.value.getDate()){_e45=this.dateFuncObj.add(_e45,"hour",1);}return _e45;},_setValueAttr:function(_e46){if(!this.value||this.dateFuncObj.compare(_e46,this.value)){_e46=new this.dateClassObj(_e46);_e46.setHours(1);this.displayMonth=new this.dateClassObj(_e46);if(!this.isDisabledDate(_e46,this.lang)){this.value=_e46;this.onChange(this.get("value"));}_e34.set(this.domNode,"aria-label",this.dateLocaleModule.format(_e46,{selector:"date",formatLength:"full"}));this._populateGrid();}},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(document.createTextNode(text));},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(args){var _e47=(args.datePackage&&(args.datePackage!="dojo.date"))?args.datePackage+".Date":"Date";this.dateClassObj=_e3e.getObject(_e47,false);this.datePackage=args.datePackage||this.datePackage;this.dateFuncObj=_e3e.getObject(this.datePackage,false);this.dateLocaleModule=_e3e.getObject(this.datePackage+".locale",false);},postMixInProperties:function(){if(isNaN(this.value)){delete this.value;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);_e39.setSelectable(this.domNode,false);var _e48=_e3e.hitch(this,function(_e49,n){var _e4a=_e3b(_e49,this.domNode)[0];for(var i=0;i<n;i++){_e4a.parentNode.appendChild(_e4a.cloneNode(true));}});_e48(".dijitCalendarDayLabelTemplate",6);_e48(".dijitCalendarDateTemplate",6);_e48(".dijitCalendarWeekTemplate",5);var _e4b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang);var _e4c=_e33.getFirstDayOfWeek(this.lang);_e3b(".dijitCalendarDayLabel",this.domNode).forEach(function(_e4d,i){this._setText(_e4d,_e4b[(i+_e4c)%7]);},this);var _e4e=new this.dateClassObj(this.value);var _e4f=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_e4e);_e48(".dijitCalendarMonthLabelTemplate",_e4f.length-1);_e3b(".dijitCalendarMonthLabelTemplate",this.domNode).forEach(function(node,i){_e34.set(node,"month",i);if(i in _e4f){this._setText(node,_e4f[i]);}_e37.place(node.cloneNode(true),this.monthLabelSpacer);},this);this.value=null;this.set("value",_e4e);},_onMenuHover:function(e){_e3f.stop(e);_e35.toggle(e.target,"dijitMenuItemHover");},_adjustDisplay:function(part,_e50){this.displayMonth=this.dateFuncObj.add(this.displayMonth,part,_e50);this._populateGrid();},_onMonthToggle:function(evt){_e3f.stop(evt);if(evt.type=="mousedown"){var _e51=_e38.position(this.monthLabelNode);var dim={width:_e51.w+"px",top:-this.displayMonth.getMonth()*_e51.h+"px"};if(_e3c("ie")&&_e3c("quirks")){dim.left=-_e51.w/2+"px";}_e36.set(this.monthDropDown,dim);this._popupHandler=this.connect(document,"onmouseup","_onMonthToggle");}else{this.disconnect(this._popupHandler);delete this._popupHandler;}_e35.toggle(this.monthDropDown,"dijitHidden");_e35.toggle(this.monthLabelNode,"dijitVisible");},_onMonthSelect:function(evt){this._onMonthToggle(evt);this.displayMonth.setMonth(_e34.set(evt.target,"month"));this._populateGrid();},_onDayClick:function(evt){_e3f.stop(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_e35.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);this.onValueSelected(this.get("value"));}},_onDayMouseOver:function(evt){var node=_e35.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&(node.dijitDateValue||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_e35.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}_e35.remove(this._currentNode,"dijitCalendarHoveredDate");if(_e35.contains(this._currentNode,"dijitCalendarActiveDate")){_e35.remove(this._currentNode,"dijitCalendarActiveDate");}this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_e35.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_e35.remove(node,"dijitCalendarActiveDate");}},_onKeyPress:function(evt){var dk=_e3a,_e52=-1,_e53,_e54=this.value;switch(evt.keyCode){case dk.RIGHT_ARROW:_e52=1;case dk.LEFT_ARROW:_e53="day";if(!this.isLeftToRight()){_e52*=-1;}break;case dk.DOWN_ARROW:_e52=1;case dk.UP_ARROW:_e53="week";break;case dk.PAGE_DOWN:_e52=1;case dk.PAGE_UP:_e53=evt.ctrlKey?"year":"month";break;case dk.END:_e54=this.dateFuncObj.add(_e54,"month",1);_e53="day";case dk.HOME:_e54=new Date(_e54).setDate(1);break;case dk.ENTER:this.onValueSelected(this.get("value"));break;case dk.ESCAPE:default:return;}_e3f.stop(evt);if(_e53){_e54=this.dateFuncObj.add(_e54,_e53,_e52);}this.set("value",_e54);},onValueSelected:function(date){},onChange:function(date){},_isSelectedDate:function(_e55,_e56){return !this.dateFuncObj.compare(_e55,this.value,"date");},isDisabledDate:function(_e57,_e58){},getClassForDate:function(_e59,_e5a){},_populateGrid:function(){var _e5b=this.displayMonth;_e5b.setDate(1);var _e5c=_e5b.getDay(),_e5d=this.dateFuncObj.getDaysInMonth(_e5b),_e5e=this.dateFuncObj.getDaysInMonth(this.dateFuncObj.add(_e5b,"month",-1)),_e5f=new this.dateClassObj(),_e60=_e33.getFirstDayOfWeek(this.lang);if(_e60>_e5c){_e60-=7;}_e3b(".dijitCalendarDateTemplate",this.domNode).forEach(function(_e61,i){i+=_e60;var date=new this.dateClassObj(_e5b),_e62,_e63="dijitCalendar",adj=0;if(i<_e5c){_e62=_e5e-_e5c+i+1;adj=-1;_e63+="Previous";}else{if(i>=(_e5c+_e5d)){_e62=i-_e5c-_e5d+1;adj=1;_e63+="Next";}else{_e62=i-_e5c+1;_e63+="Current";}}if(adj){date=this.dateFuncObj.add(date,"month",adj);}date.setDate(_e62);if(!this.dateFuncObj.compare(date,_e5f,"date")){_e63="dijitCalendarCurrentDate "+_e63;}if(this._isSelectedDate(date,this.lang)){_e63="dijitCalendarSelectedDate "+_e63;}if(this.isDisabledDate(date,this.lang)){_e63="dijitCalendarDisabledDate "+_e63;}var _e64=this.getClassForDate(date,this.lang);if(_e64){_e63=_e64+" "+_e63;}_e61.className=_e63+"Month dijitCalendarDateTemplate";_e61.dijitDateValue=date.valueOf();var _e65=_e3b(".dijitCalendarDateLabel",_e61)[0],text=date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate();this._setText(_e65,text);},this);var _e66=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_e5b);this._setText(this.monthLabelNode,_e66[_e5b.getMonth()]);_e3b(".dijitCalendarMonthLabelTemplate",this.domNode).forEach(function(node,i){_e35.toggle(node,"dijitHidden",!(i in _e66));this._setText(node,_e66[i]);},this);var y=_e5b.getFullYear()-1;var d=new this.dateClassObj();_e3d.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);var _e67=this;var _e68=function(_e69,_e6a,adj){_e67._connects.push(_e32.addMouseListener(_e67[_e69],_e67,function(_e6b){if(_e6b>=0){_e67._adjustDisplay(_e6a,adj);}},0.8,500));};_e68("incrementMonth","month",1);_e68("decrementMonth","month",-1);_e68("nextYearLabelNode","year",1);_e68("previousYearLabelNode","year",-1);},_onDayClick:function(evt){_e3f.stop(evt);for(var node=evt.target;node&&typeof node.dijitDateValue=="undefined";node=node.parentNode){}if(node&&!_e35.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);this.onValueSelected(this.get("value"));}}});return _e43;});},"mxui/widget/TabContainer":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/on","dojo/dom-class","dojo/dom-geometry","dojo/_base/array","dojo/_base/declare"],function(_e6c,dom,_e6d,_e6e,_e6f,_e70,_e71,_e72){var $=dom.create;var _e73=_e72(_e6c,{declaredClass:"mxui.widget.TabContainer",validator:null,_active:null,_tabList:null,_tabPanes:null,_tabContent:null,_clickHandler:null,buildRendering:function(){var _e74=this._tabList=$("ul",{"class":"nav nav-tabs mx-tabcontainer-tabs"}),_e75=this._tabContent=$("div",{"class":"tab-content mx-tabcontainer-content"},this.getTemplate("pages"));this.domNode=$("div",{"class":"mx-tabcontainer"},_e74,_e75);var self=this;this._clickHandler=_e6e(_e74,_e6e.selector("li","click"),function(e){self.show(self.domData(this,"tab"));e.preventDefault();});},startup:function(){var _e76=this._tabList,_e77=this._tabContent.childNodes,_e78=null,tabs=this._tabPanes=[];for(var i=0,_e79;_e79=_e77[i];i++){var li=$("li"),tab=this.parseContent(_e79,{index:i,button:li,container:this,validator:this},true)[0];this.domData(li,"tab",tab);if(tab.selected){_e78=tab;}li.appendChild($("a",{href:"#","class":"mx-name-"+tab.tabName},tab.title));li.appendChild(tab.indicator);_e76.appendChild(li);tabs.push(tab);}this.show(_e78||tabs[0]);},show:function(tab){var self=this,_e7a=this._active;if(_e7a){_e7a.hideTab();}this._active=tab;_e6f.add(this._tabContent,"loading");tab.showTab(function(){if(self._active===tab){_e6f.remove(self._tabContent,"loading");}});},showTab:function(tab){if(!this._active){this.show(tab);this.domNode.style.display="";}},hideTab:function(tab){if(tab===this._active){var _e7b=tab.index,_e7c=this._tabPanes,_e7d=_e7c.slice(_e7b+1).concat(_e7c.slice(0,_e7b)),_e7e;for(var i=0,pane;pane=_e7d[i];i++){if(!pane._hidden){_e7e=pane;break;}}tab.hideTab();if(_e7e){this.show(_e7e);}else{this._active=null;this.domNode.style.display="none";}}},resize:function(box){var _e7f=true,tabs=this._tabPanes;if(box){var _e80=box.h-_e70.getMarginBox(this._tabList,null).h;if(_e80>dom.minContainerHeight){_e7f=false;_e70.setMarginBox(this._tabContent,{h:_e80});}else{this._tabContent.style.height="auto";}}for(var i=0,tab;tab=tabs[i];i++){tab.resize(_e7f);}},isValid:function(){return _e71.every(this._tabPanes,function(tab){return tab.isValid?tab.isValid():true;});},uninitialize:function(){this._clickHandler.remove();}});return _e73;});},"mxui/widget/TabContent":function(){define(["mxui/widget/_WidgetBase","mxui/widget/TabContainer","mxui/widget","mxui/dom","mendix/logger","dojo/dom-class","dojo/dom-style","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dijit"],function(_e81,_e82,_e83,dom,_e84,_e85,_e86,_e87,_e88,_e89,_e8a){var $=dom.create;var _e8b=_e89(_e81,{declaredClass:"mxui.widget.TabContent",index:0,title:"",button:null,container:null,indicator:null,delayLoading:false,refreshOnShow:false,_hidden:false,_parsed:false,_loading:false,_visible:false,_cachedResize:null,_notifies:0,_children:null,buildRendering:function(){this.indicator=$("span",{"class":"mx-tabcontainer-indicator"});this.domNode=$("div",{"class":"tab-pane mx-tabcontainer-pane"});},startup:function(){if(!this.delayLoading){this.parse();}this._updateNotification();},parse:function(){var _e8c=this.getTemplate("content");this.domNode.appendChild($("#",_e8c||""));this._children=this.parseContent(null,{validator:this});this._parsed=true;if(_e8c){var _e8d=_e8a.byNode(this.domNode.firstChild);if(_e8d instanceof _e82){_e85.add(_e8d.domNode,"mx-tabcontainer-nested");}}},refresh:function(_e8e){this._loading=true;var _e8f=this.getChildren();_e83.ready(_e8f,_e88.hitch(this,"passContext",_e8f,_e88.hitch(this,function(){this._loading=false;_e8e&&_e8e();})));},show:function(){this._hidden=false;_e86.set(this.button,"display","");_e86.set(this.domNode,"display","");this.container.showTab(this);},hide:function(){this._hidden=true;_e86.set(this.button,"display","none");_e86.set(this.domNode,"display","none");this.container.hideTab(this);},showTab:function(_e90){this._visible=true;if(this._loading){return;}var self=this,done=function(){if(self._visible){_e85.add(self.domNode,"active");if(self._cachedResize!=null){self.resize(self._cachedResize);self._cachedResize=null;}}_e90();};_e85.add(this.button,"active");if(!this._parsed){this.parse();this.refresh(done);}else{if(this.refreshOnShow){this.refresh();}done();}},hideTab:function(){this._visible=false;_e85.remove(this.button,"active");_e85.remove(this.domNode,"active");},resize:function(_e91){if(this._visible){this.resizeChildren(this.domNode,_e91);}else{this._cachedResize=_e91;}},isValid:function(){return _e87.every(this._children,function(_e92){return _e92.isValid?_e92.isValid():true;});},addNotification:function(){++this._notifies;this._updateNotification();var _e93=this.container.validator;if(_e93){_e93.addNotification();}return true;},removeNotification:function(){--this._notifies;this._updateNotification();var _e94=this.container.validator;if(_e94){_e94.removeNotification();}},_updateNotification:function(){if(this._notifies===0){_e86.set(this.indicator,"display","none");}else{if(this.domNode.style.display=="none"){window.mx.ui.error(this.translate("hidden_validations",[this.index+1]));}_e86.set(this.indicator,"display","");}dom.text(this.indicator,this._notifies+"");}});return _e8b;});},"mxui/widget/ReferenceSetSelector":function(){define(["mxui/widget/DataGrid","mendix/lib/ReferenceSetSource","mxui/widget/_WidgetBase","mxui/mixin/_Contextable","mxui/dom","mendix/logger","dojo/dom-class","dojo/_base/lang","dojo/_base/declare","dijit/_Container","dijit/_Contained"],function(_e95,_e96,_e97,_e98,dom,_e99,_e9a,_e9b,_e9c,_e9d,_e9e){var _e9f=_e9c([_e97,_e9d,_e9e,_e98],{declaredClass:"mxui.widget.ReferenceSetSelector",entity:"",reference:"",xpathConstraint:"",_datasource:null,_datagrid:null,_sourceObject:null,_mendixGuid:null,_oldXPath:null,_gridBacktrack:null,_cellNode:null,_errorNode:null,_updateSubscription:null,_oldActionDeleteSelection:null,_hasError:false,postCreate:function(){this._gridBacktrack=this.backtrackconstraints;delete this.backtrackconstraints;this.initContext();var _ea0=this.reference.split("/");this.sourceReference=_ea0.pop();this.sourceEntity=_ea0.pop();var _ea1=this.domNode.parentNode;if(_ea1.nodeName=="TD"){this._cellNode=_ea1;}if(this.entity&&this.sourceEntity&&this.sourceReference){this.createGrid();}else{throw new Error(this.id+".postCreate : Not all params are filled.");}},createGrid:function(){this._datasource=new _e96({entity:this.entity,reference:this.sourceReference,queryid:this.schema});this._datagrid=new _e95({mxid:this.mxid,mxform:this.mxform,app_flow_id:this.app_flow_id,contextname:this.contextname,entity:this.entity,schema:this.schema,config:this.config,template:this.template,dropcontext:this.dropcontext,customDataSource:this._datasource});this._datagrid.addOnLoad(_e9b.hitch(this,"actLoaded"));this._oldActionDeleteSelection=this._datagrid.actionDeleteSelection;_e9b.mixin(this._datagrid,{actionAddRef:_e9b.hitch(this,"handlerAdd"),actionSelectRef:_e9b.hitch(this,"handlerSelect"),actionCreateRef:_e9b.hitch(this,"handlerCreate"),actionDeleteRef:this.makeRemoveHandler(false),actionDeleteSelection:this.makeRemoveHandler(true),registerSubscriptions:_e9b.hitch(this,"registerSubscriptions")});this.domNode.appendChild(this._datagrid.domNode);},handlerAdd:function(_ea2){this._sourceObject&&this._openAddForm(_ea2[this.entity]);},handlerSelect:function(_ea3){this._sourceObject&&this._openAddForm(_ea3[this.entity],true);},handlerCreate:function(_ea4){var _ea5=this._getEntity(_ea4),_ea6=_ea4[_ea5];if(_ea6==null){return;}if(!this._sourceObject){return;}var _ea7=this.createContext();window.mx.data.create({entity:_ea5,persistent:_ea6.persistent,callback:function(_ea8){var ent,guid;ent=_ea8.getEntity();guid=_ea8.getGuid();_ea7.setTrackEntity(ent);_ea7.setTrackId(guid);this.onChange();window.mx.ui.execute(_ea6,{context:_ea7,callback:function(form){form.listen("save",_e9b.hitch(this,function(_ea9){this._sourceObject.addReferences(this.sourceReference,[guid]);_ea9();}));}},this);},error:function(e){window.mx.onError(e);}},this);},makeRemoveHandler:function(_eaa){var self=this;return function(){var _eab=self._datagrid.getSelected();if(_eab.length===0){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{window.mx.ui.confirmation({content:window.mx.ui.translate("mxui.widget.DataGrid","confirm_delete",[_eab.length]),handler:function(){if(_eaa){self._oldActionDeleteSelection.call(self._datagrid,true);}self._sourceObject.removeReferences(self.sourceReference,_eab);self.onChange();if(!_eaa){self._datagrid.deselectAll();self._datagrid.reload();}}});}};},registerSubscriptions:function(){if(this._updateSubscription){this.unsubscribe(this._updateSubscription);}this._updateSubscription=this.subscribe({guid:this._mendixguid,attr:this.sourceReference,callback:function(guid){this.objectUpdate(guid);}});this.subscribe({entity:this.entity,callback:_e9b.hitch(this,function(){this.objectUpdate.apply(this,arguments);})});this.subscribe({guid:this._mendixguid,callback:_e9b.hitch(this,"objectUpdate")});this.subscribe({guid:this._mendixguid,val:true,callback:_e9b.hitch(this,"onValidation")});},applyContext:function(_eac,_ead){if(_eac!=null&&_eac.hasTrackId()){this.cloneContext(_eac);var _eae=(this._mendixguid==null||this._mendixguid!=_eac.getTrackId());this._mendixguid=_eac.getTrackId();this.mxcontext.setConstraints(this.constrainedBy);this.registerSubscriptions();this.updateSequence(_eae,_ead);}else{this.unsubscribeAll();this.removeContext(_ead);}},removeContext:function(_eaf){if(this._datagrid.removeContext){this._datagrid.removeContext(_eaf);}else{_eaf&&_eaf();}},updateSequence:function(_eb0,_eb1){var _eb2=[];if(_eb0){_eb2.push("actFetchSourceObject");}_eb2.push("actUpdateGrid");if(!_eb0){_eb2.push("actCompareSet");}_eb1&&_eb2.push(_eb1);this.sequence(_eb2);},actFetchSourceObject:function(_eb3){var self=this;if(this._mendixguid){window.mx.data.get({guid:this._mendixguid,callback:function(obj){self._sourceObject=obj;self._datasource.setObject(obj);self._datagrid.set("readOnly",self._sourceObject.isReadonlyAttr(self.sourceReference));_eb3();},error:function(e){window.mx.onError(e);_eb3&&_eb3();}});}else{_eb3&&_eb3();}},actUpdateGrid:function(_eb4){this._oldXPath=this._datagrid.getCurrentXPath();this._datagrid.applyContext(this.mxcontext,_eb4);},actCompareSet:function(_eb5){var _eb6=this._datagrid.getCurrentXPath();if(!this._oldXPath.match("[1=0]")&&this._oldXPath!=_eb6){this._sourceObject.set(this.sourceReference,"");this.onChange();}else{_eb5&&_eb5();}},objectUpdate:function(guid,_eb7){if(!this._suspended){this.updateSequence();}_eb7&&_eb7();},_setDisabledAttr:function(_eb8){var grid=this._datagrid,_eb9=_eb8===true;grid.set("disabled",_eb8);grid.set("selectable",!_eb9);grid.set("toolbar",_eb9);},_getDisabledAttr:function(){return this._datagrid.get("disabled");},onChange:function(){var ev=this.events&&this.events.change;this.validateForMicroflow(ev,_e9b.hitch(this,"callMicroflow",ev));},validateForMicroflow:function(_eba,_ebb){if(_eba&&_eba.validate=="view"){this.mxform.save(_ebb);}else{_ebb&&_ebb();}},onValidation:function(list){var val=list[0],attr=this.sourceReference,msg=val.getReasonByAttribute(attr);if(msg){this.addError(msg);val.removeAttribute(attr);}},callMicroflow:function(_ebc){if(_ebc){window.mx.ui.execute({microflow:_ebc},{context:this.mxcontext});}},addError:function(msg){this.removeError();this._hasError=true;if(msg){this._errorNode=dom.create("div",{"class":"alert alert-danger"},msg);this.domNode.parentNode.appendChild(this._errorNode);this.mxform.resize();}if(this._cellNode){_e9a.add(this._cellNode,"has-error");}if(this.validator){this.validator.addNotification();}},removeError:function(){if(this._errorNode){dom.orphan(this._errorNode);this._errorNode=null;}if(this._cellNode){_e9a.remove(this._cellNode,"has-error");}if(this.validator&&this._hasError){this.validator.removeNotification();}this._hasError=false;},_openAddForm:function(_ebd,_ebe){var _ebf=this.createContext();_ebf.dupFrom(this.mxcontext);_ebf.unsetContext(this.entity);_ebf.setConstraints(this._gridBacktrack);window.mx.ui.execute(_ebd,{context:_ebf,params:{selection:_ebe?this._sourceObject.getReferences(this.sourceReference):[],selectable:"multi",constraint:this.xpathConstraint},callback:function(form){form.listen("save",_e9b.hitch(this,function(_ec0){var refs=form.getReturnValue("selection");if(refs){if(_ebe){this._sourceObject.set(this.sourceReference,refs);}else{this._sourceObject.addReferences(this.sourceReference,refs);}this.onChange();}else{_e99.error(this.id+" form return value 'selection' does not exist");}_ec0();}));}},this);},_getEntity:function(_ec1){for(var i in _ec1){return i;}}});return _e9f;});},"mxui/widget/BoolSelect":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/_base/declare"],function(_ec2,_ec3,_ec4){var _ec5=_ec4(_ec2,{declaredClass:"mxui.widget.BoolSelect",_value:false,buildRendering:function(){var $=_ec3.create,node=this.editNode=$("input",{type:"checkbox"});this.readNode=$("label");this.inherited(arguments);},onChange:function(e){if(this._value!=this.editNode.checked){this._value=this.editNode.checked;this.inherited(arguments);}},_getValueAttr:function(){return this.editNode.checked;},_setValueAttr:function(_ec6){this.editNode.checked=this._value=_ec6;_ec3.text(this.readNode,window.mx.parser.formatValue(_ec6,"Boolean"));}});return _ec5;});},"mxui/widget/DatePicker":function(){define(["mxui/widget/Button","mxui/widget/_WidgetBase","mxui/dom","dijit/focus","dijit/Calendar","dojo/i18n","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/dom-geometry","dojo/keys","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(_ec7,_ec8,_ec9,_eca,_ecb,_ecc,_ecd,_ece,_ecf,_ed0,_ed1,_ed2,_ed3,_ed4,_ed5){var _ed6=_ed5(_ec8,{declaredClass:"mxui.widget.DatePicker",placeholder:"",selector:"date",format:"",_value:"",_native:false,_params:null,_calendar:null,_rescon:null,_leavecon:null,_blurcon:null,_foccon:null,_capture:null,_chgcon:null,_inputPos:null,_inputNode:null,_inputPane:null,_calButton:null,_calUpdateOn:true,buildRendering:function(){var $=_ec9.create,_ed7=":)",type=this.selector=="datetime"?"datetime-local":this.selector,_ed8=window.mx.ui.getProfile()==="desktop",_ed9;var _eda=this._inputPane=$("div",{"class":"mx-dateinput-input-wrapper"},_ed9=this._inputNode=$("input",{"class":"form-control mx-dateinput-input",type:type,value:_ed7,placeholder:this._getPlaceholder()}));this.domNode=$("div",{"class":"mx-dateinput"},_eda);this._native=!_ed8&&_ed9.type===type&&_ed9.value!==_ed7;_ed9.value="";this._params={selector:this.selector=="custom"?"date":this.selector,datePattern:this.format};if(this._native){this._params=this._getNativeParseOpts();}else{_ed9.type="text";if(this._formatContainsDate()){this._calButton=new _ec7({"class":"mx-dateinput-select-button",iconClass:"glyphicon glyphicon-calendar"});_ecd.set(this._calButton.domNode,"tabindex","-1");_ed0.place(this._calButton.domNode,_eda,"before");}}},startup:function(){this.inherited(arguments);var node=this._inputNode;this._connectChangeEvent();this._blurcon=this.connect(node,"blur","onBlur");this._foccon=this.connect(node,"focus","onFocus");this.connect(node,"keyup","onKeyUp");if(this._calButton){this.connect(this._calButton,"onClick","_handleButtonClicked");this.connect(node,"keyup","_handleInputKey");}},enable:function(){if(this._calButton){this._calButton.set("disabled",false);}_ecd.remove(this._inputNode,"disabled");},disable:function(){if(this._calButton){this._calButton.set("disabled",true);}_ecd.set(this._inputNode,"disabled","disabled");},focus:function(){_eca.focus(this._inputNode);},onChange:function(){},onKeyUp:function(e){},onFocus:function(e){},onBlur:function(e){},uninitialize:function(){if(this._calendar){this._calendar.destroy();}if(this._capture){this._capture.remove();}},_formatContainsDate:function(){return (this.selector=="date"||this.selector=="datetime"||(this.selector=="custom"&&this.format.indexOf("d")!=-1&&this.format.indexOf("M")!=-1&&this.format.indexOf("y")!=-1));},_connectChangeEvent:function(){if(this._native){this._chgcon=this.connect(this._inputNode,"blur",function(){if(this._inputNode.value!=this._value){this.onChange();}});}else{this._chgcon=this.connect(this._inputNode,"change","onChange");}},_disconnectEvents:function(_edb){for(var i=0,name;name=_edb[i];++i){if(this[name]){this.disconnect(this[name]);this[name]=null;}}},_showCalendar:function(){var _edc=this._calendar;if(!this._isCalendarVisible()){if(!_edc){_edc=this._calendar=new _ecb(_ed4.mixin({datePackage:window.mx.ui.getDatePackage(),onChange:_ed4.hitch(this,"_handleCalendarChange"),onKeyDown:_ed4.hitch(this,"_handleCalendarKey")},this._calendarPatch));_edc.domNode.style.position="absolute";document.body.appendChild(_edc.domNode);}var _edd=this.get("value");if(_edd===""){_edd=new Date();}this._setCalendarValue(_edd);_edc.domNode.style.display="block";this._rescon=this.connect(this.mxform,"resize","_handleResizeWindow");this._capture=_ec9.capture(document.body,"mousedown",_ed4.hitch(this,"_handleBodyClicked"));}this._handleResizeWindow();this._disconnectEvents(["_chgcon","_leavecon","_blurcon"]);_edc.focus();setTimeout(_ed4.hitch(this,function(){this._connectChangeEvent();this._leavecon=this.connect(this._inputNode,"blur","_handleInputBlur");this._blurcon=this.connect(this._inputNode,"blur","onBlur");}),0);},_hideCalendar:function(){if(this._isCalendarVisible()){var _ede=this._calendar.domNode;this._calendar.domNode.style.display="none";this._inputPos=null;this._disconnectEvents(["_rescon","_leavecon"]);this._capture.remove();this._capture=null;}this._disconnectEvents(["_foccon"]);this.focus();setTimeout(_ed4.hitch(this,function(){this._foccon=this.connect(this._inputNode,"focus","onFocus");}),0);},_handleCalendarChange:function(_edf){if(!this._calUpdateOn){return;}if(_edf.toGregorian){_edf=_edf.toGregorian();}this.set("value",this._mergeDates(_edf));this._hideCalendar();this.onChange();},_handleInputKey:function(e){if(e.keyCode===_ed2.DOWN_ARROW){this._showCalendar();}else{if(e.keyCode==_ed2.ENTER){this._hideCalendar();}else{var _ee0=this.get("value");if(_ee0&&this._isCalendarVisible()){this._setCalendarValue(_ee0);}}}},_handleInputBlur:function(e){this._hideCalendar();},_handleBodyClicked:function(e){var _ee1=function(e,_ee2){var pos=_ed1.position(_ee2.domNode);return (e.clientX>=pos.x&&e.clientX<pos.x+pos.w&&e.clientY>=pos.y&&e.clientY<pos.y+pos.h);};var _ee3=[this,this._calendar,this._calendar.monthWidget,this._calendar.monthWidget.dropDown];if(e){for(var i=0,w;w=_ee3[i];++i){if(_ee1(e,w)){return;}}}this._hideCalendar();this.onBlur();},_handleButtonClicked:function(e){if(this._isCalendarVisible()){this._hideCalendar();}else{this._showCalendar();}},_handleCalendarKey:function(e){if(e.keyCode==_ed2.ESCAPE||e.keyCode==_ed2.TAB){this._hideCalendar();}},_handleResizeWindow:function(){var box=_ed1.position(this._inputNode,true),pos={x:box.x,y:box.y},_ee4=this._inputPos;if(!this.isLeftToRight()){pos.x+=box.w;}if(_ee4==null||pos.x!=_ee4.x||pos.y!=_ee4.y){var _ee5={left:pos.x+"px",top:pos.y+box.h+"px",zIndex:1000};if(!this.isLeftToRight()){var _ee6=_ed1.position(this._calendar.domNode,true);_ee5.left=pos.x-_ee6.w+"px";}_ecf.set(this._calendar.domNode,_ee5);this._inputPos=pos;}},_isCalendarVisible:function(){return this._calendar&&this._calendar.domNode.style.display!="none";},_setCalendarValue:function(_ee7){this._calUpdateOn=false;this._calendar.set("value",_ee7);this._calUpdateOn=true;},_getNativeParseOpts:function(){var _ee8;switch(this.selector){case "date":_ee8="yyyy-MM-dd";break;case "time":_ee8="HH:mm";break;case "datetime":_ee8="yyyy-MM-dd HH:mm";}return {selector:"date",datePattern:_ee8};},_getPlaceholder:function(){if(this.placeholder){return this.placeholder;}else{var _ee9=_ecc.getLocalization("dojo.cldr","gregorian",dojo.locale),_eea;switch(this.selector){case "date":_eea=_ee9["dateFormat-short"];break;case "time":_eea=_ee9["timeFormat-short"];break;case "datetime":_eea=_ee9["dateFormat-short"]+" "+_ee9["timeFormat-short"];break;case "custom":_eea=this.format;}_eea=_eea.toLowerCase();return _eea.replace(/(\w)+/g,function(_eeb,_eec){switch(_eec){case "y":return new Array(5).join(_eec);case "a":return _ee9["field-dayperiod"];default:return new Array(3).join(_eec);}});}},_mergeDates:function(_eed){var _eee=new Date(this._value===""?window.mx.parser.localizeEpoch(0):this._value);return window.mx.parser.mergeDates(_eee,_eed,this.selector);},_getValueAttr:function(){var _eef=this._inputNode.value;if(_eef===""){return "";}if(this._native){_eef=_eef.slice(0,16).replace("T"," ");}var _ef0=window.mx.parser.parseValue(_eef,"datetime",this._params);return _ef0?this._mergeDates(_ef0):null;},_setValueAttr:function(_ef1){var _ef2=window.mx.parser.formatValue(_ef1,"datetime",this._params);this._inputNode.value=this._native?_ef2.replace(" ","T"):_ef2;this._value=_ef1;},_calendarPatch:{_onDayMouseDown:function(e){var node=e.target.parentNode;if(node&&node.dijitDateValue!=null&&!_ece.contains(node,"dijitCalendarDisabledDate")){this._currentNode=node;}},_onDayClick:function(e){_ed3.stop(e);for(var node=e.target;node&&(node.dijitDateValue==null);node=node.parentNode){}if(node&&!_ece.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_patchDate:function(_ef3){if(_ef3!=null){_ef3=new this.dateClassObj(_ef3);_ef3.setHours(1,0,0,0);}return _ef3;}}});return _ed6;});},"mxui/widget/DateInput":function(){define(["mxui/widget/_FormWidget","mxui/widget/DatePicker","mxui/dom","mendix/lang","dojo/_base/lang","dojo/_base/declare"],function(_ef4,_ef5,_ef6,_ef7,_ef8,_ef9){var _efa=_ef9(_ef4,{declaredClass:"mxui.widget.DateInput",placeholder:"",selector:"",format:"",_datepicker:null,_rdparams:null,buildRendering:function(){var $=_ef6.create;this._datepicker=new _ef5({placeholder:this.placeholder,selector:this.selector,format:this.format});this.editNode=this._datepicker.domNode;this.readNode=$("label","&nbsp;");this._rdparams={selector:this.selector=="custom"?"date":this.selector,datePattern:this.format};this.inherited(arguments);},startup:function(){this.inherited(arguments);this._datepicker.startup();},connectEvents:function(){this.connect(this._datepicker,"onChange","onChange");for(var evt in this.events){if(evt!="change"){this.connect(this._datepicker,"on"+_ef7.capitalize(evt),_ef8.hitch(this,"handleEvent",evt));}}},validate:function(){var _efb=this.inherited(arguments);if(_efb!=null){return _efb;}else{if(this.get("value")==null){return window.mx.ui.translate("mendix.lib.Validations","invalid_date");}}},uninitialize:function(){this._datepicker.destroy();},_getValueAttr:function(){return this._datepicker.get("value");},_setValueAttr:function(_efc){this._datepicker.set("value",_efc);var _efd=window.mx.parser.formatValue(_efc,"datetime",this._rdparams);this.readNode.innerHTML=_efd||"&nbsp;";}});return _efa;});},"mxui/widget/EnumSelect":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/_base/declare"],function(_efe,_eff,_f00){var _f01=_f00(_efe,{declaredClass:"mxui.widget.EnumSelect",_keys:null,buildRendering:function(){var $=_eff.create,meta=window.mx.meta.getEntity(this._entity),keys=this._keys=meta.getEnumKVPairs(this._attribute),node=this.editNode=$("select",{"class":"form-control"},$("option",{value:""},""));for(var key in keys){node.appendChild($("option",{value:key},keys[key]));}this.readNode=$("label");this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(_f02){this.editNode.value=_f02;var key=this._keys[_f02];if(key){_eff.text(this.readNode,key);}else{this.readNode.innerHTML="&nbsp;";}}});return _f01;});},"mxui/widget/NumberInput":function(){define(["mxui/widget/_FormWidget","mxui/dom","mendix/logger","dojo/i18n","dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare"],function(_f03,dom,_f04,_f05,_f06,_f07,_f08){var $=dom.create;var _f09=_f08(_f03,{declaredClass:"mxui.widget.NumberInput",formatted:false,precision:"",placeholder:"",_type:"",_opts:null,_numloc:null,_mouseupcon:null,buildRendering:function(){this.editNode=$("input",{"class":"form-control",type:"text",placeholder:this.placeholder});this.readNode=$("label");var meta=window.mx.meta.getEntity(this._entity);this._type=meta.getAttributeType(this._attribute);this._opts={groups:this.formatted};if(this.precision!==""){this._opts.places=this.precision;}this._locale=_f05.getLocalization("dojo.cldr","number",_f06.locale);this.inherited(arguments);},connectEvents:function(){this.connect(this.editNode,"focus","onFocus");this.connect(this.editNode,"blur","onBlur");},_getValueAttr:function(){var _f0a=this.editNode.value.replace(this._locale.group,"","g").replace(this._locale.decimal,".");var _f0b=window.mx.parser.parseValue(_f0a,this._type,{locale:"en"});return isNaN(_f0b)?null:_f0b;},_setValueAttr:function(_f0c){var _f0d=window.mx.parser.formatValue(_f0c,this._type,this._opts);this.editNode.value=_f0d;this.readNode.innerHTML=_f0d||"&nbsp;";},_match:function(_f0e,_f0f,pos){if(_f0e==_f0f){return Math.min(_f0e.length,pos);}var _f10=0,len=Math.min(_f0f.length,pos),_f11,_f12;for(var i=0;i<len&&_f10<_f0e.length;++i){_f11=_f0f[i];_f12=_f0e[_f10];if(_f11==_f12){++_f10;}}return _f10;},onFocus:function(){this.handleEvent("focus");var node=this.editNode,_f13=node.value,_f14=window.mx.parser.parseValue(_f13,this._type);if(isNaN(_f14)){return;}var _f15=_f13.split(this._locale.group).join("");if(_f15!=_f13){setTimeout(_f07.hitch(this,function(){this._disconnectMouseUp();var sel=mxui.dom.getSelection(node);if(sel.start===0&&sel.end==_f13.length){node.value=_f15;mxui.dom.selectTextRange(node,0,_f15.length);}else{this._mouseupcon=this.connect(node,"mouseup",function(){setTimeout(_f07.hitch(this,function(){sel=mxui.dom.getSelection(node);node.value=_f15;var _f16=this._match(_f15,_f13,sel.start),end=this._match(_f15,_f13,sel.end);mxui.dom.selectTextRange(node,_f16,end);}),0);this._disconnectMouseUp();});}}),0);}},onBlur:function(){this._disconnectMouseUp();this.onChange();this.handleEvent("blur");},validate:function(){var _f17=this.inherited(arguments),_f18=this.get("value");if(_f17!=null){return _f17;}else{if(mendix.lang.numberTooBig(_f18)){return window.mx.ui.translate("mendix.lib.Validations","number_too_big");}else{if(_f18==null){return window.mx.ui.translate("mendix.lib.Validations",this.getType()=="Currency"?"invalid_currency":"invalid_number");}else{if(/Integer|Long|AutoNumber/.test(this.getType())&&_f18%1){return window.mx.ui.translate("mendix.lib.Validations","invalid_number");}}}}},_disconnectMouseUp:function(){if(this._mouseupcon){this.disconnect(this._mouseupcon);this._mouseupcon=null;}}});return _f09;});},"mxui/widget/PasswordInput":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/dom-attr","dojo/_base/declare"],function(_f19,dom,_f1a,_f1b){var $=dom.create;var _f1c=_f1b(_f19,{declaredClass:"mxui.widget.PasswordInput",maxLength:0,placeholder:"",buildRendering:function(){var _f1d=this.editNode=$("input",{"class":"form-control",type:"password",placeholder:this.placeholder});if(this.maxLength>0){_f1a.set(_f1d,"maxlength",this.maxLength);}this.readNode=$("label");this.readNode.innerHTML="&nbsp;";this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(_f1e){this.editNode.value=_f1e;}});return _f1c;});},"mxui/widget/TextArea":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/dom-geometry","dojo/sniff","dojo/_base/lang","dojo/_base/declare"],function(_f1f,dom,_f20,_f21,_f22,_f23,_f24,_f25,_f26,_f27){var $=dom.create;var _f28=_f27(_f1f,{declaredClass:"mxui.widget.TextArea",placeholder:"",counterMsg:"",textTooLongMsg:"",rows:0,maxLength:0,_cloneNode:null,_countNode:null,buildRendering:function(){var _f29=this.editNode=$("textarea",{"class":"form-control mx-textarea-input",placeholder:this.placeholder});this.readNode=$("label");this.inherited(arguments);if(this.counterMsg){var _f2a=this._countNode=$("label",{"class":"mx-textarea-counter"});_f20.place(_f2a,_f29,"after");this._updateCount();this.connect(_f29,"keyup","_updateCount");}_f21.add(this.domNode,"mx-textarea");if(this.maxLength>0){_f22.set(_f29,"maxlength",this.maxLength);}if(this.rows===0){var _f2b=this._cloneNode=_f26.clone(_f29);_f21.add(_f2b,"mx-textarea-clone");this.connect(_f29,"keyup","resize");this.connect(this.mxform,"resize","resize");this.domNode.appendChild(_f2b);}else{_f21.add(_f29,"mx-textarea-input-noresize");_f22.set(_f29,"rows",_f25("ff")?Math.max(1,this.rows-1):this.rows);}},resize:function(){if(this._cloneNode){var _f2c=this.editNode,_f2d=this._cloneNode,_f2e=this.get("disabled");this.domNode.appendChild(_f2d);_f2d.value=_f2c.value+(_f2e?"":"\n\n");_f2d.scrollTop=10000;var _f2f=_f24.getPadExtents(_f2c,null).h,_f30=Math.max(_f2d.scrollTop+_f2f,28);_f23.set(_f2c,"height",_f30+"px");this.domNode.removeChild(_f2d);}},validate:function(){var _f31=this.inherited(arguments);if(_f31!=null){return _f31;}else{if(this.get("value")==null){return this.textTooLongMsg||window.mx.ui.translate("mendix.lib.Validations","value_too_long");}}},_updateCount:function(){dom.text(this._countNode,this.counterMsg.replace("{1}",this.editNode.value.length).replace("{2}",this.maxLength));},_getValueAttr:function(){var _f32=this.editNode.value;return this.maxLength&&_f32.length>this.maxLength?null:_f32;},_setValueAttr:function(_f33){this.editNode.value=_f33;this.readNode.innerHTML=_f33?dom.convertNlToBr(dom.escapeString(_f33)):"&nbsp;";this.resize();}});return _f28;});},"mxui/widget/TextInput":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/dom-attr","dojo/_base/declare"],function(_f34,dom,_f35,_f36){var $=dom.create;var _f37=_f36(_f34,{declaredClass:"mxui.widget.TextInput",maxLength:0,placeholder:"",mask:"",buildRendering:function(){this.editNode=$("input",{"class":"form-control",type:"text",placeholder:this.placeholder});if(this.maxLength>0){_f35.set(this.editNode,"maxlength",this.maxLength);}this.readNode=$("label");this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(_f38){this.editNode.value=_f38;this.readNode.innerHTML=_f38?dom.escapeString(_f38):"&nbsp;";}});return _f37;});},"mxui/widget/Navbar":function(){define(["mxui/widget/_WidgetBase","mxui/dom","dojo/_base/event","dojo/dom-construct","dojo/dom-class","dojo/_base/declare"],function(_f39,dom,_f3a,_f3b,_f3c,_f3d){var $=dom.create;var _f3e=_f3d(_f39,{declaredClass:"mxui.widget.Navbar",menuID:"",_active:null,buildRendering:function(){var _f3f=$("ul",{"class":"nav navbar-nav"}),menu=window.mx.ui.getMenu(this.menuID),item,list;for(var i=0,top;top=menu[i];i++){if(top.action){item=$("li",{"class":"mx-navbar-item"},this._makeAnchor(top));}else{item=$("li",{"class":"dropdown mx-navbar-item"},this._makeAnchor(top),list=$("ul",{"class":"dropdown-menu mx-navbar-submenu"}));for(var j=0,sub;sub=top.items[j];j++){list.appendChild($("li",{"class":"mx-navbar-subitem"},this._makeAnchor(sub)));}}_f3f.appendChild(item);}this.domNode=$("div",{"class":"navbar navbar-default mx-navbar",tabindex:-1},_f3f);},postCreate:function(){var self=this;this.on("a:click",function(e){self.onClick(this);_f3a.stop(e);});this.connect(document,"click","closeSub");},onClick:function(node){var _f40=this._active,_f41=this.domData(node,"action");this.closeSub();if(_f41){if(typeof _f41==="function"){_f41();}else{window.mx.ui.execute(_f41,{context:this.mxcontext});}}else{if(_f40!=node.parentNode){this.openSub(node.parentNode);}}},openSub:function(item){_f3c.add(item,"open");this._active=item;},closeSub:function(){if(this._active){_f3c.remove(this._active,"open");this._active=null;}},_makeAnchor:function(_f42){var _f43=$("a",{href:"#"}," "+_f42.caption+" ");if(_f42.icon){_f3b.place($("img",{src:window.mx.appUrl+_f42.icon}),_f43,"first");}if(_f42.action){this.domData(_f43,"action",_f42.action);}else{_f3b.place($("b",{"class":"caret"}),_f43);_f3c.add(_f43,"dropdown-toggle");}return _f43;}});return _f3e;});},"mxui/widget/NavigationTree":function(){define(["mxui/widget/_WidgetBase","mxui/dom","dojo/_base/event","dojo/dom-class","dojo/_base/declare"],function(_f44,dom,_f45,_f46,_f47){var $=dom.create;var _f48=_f47(mxui.widget._WidgetBase,{declaredClass:"mxui.widget.NavigationTree",menuID:"",buildRendering:function(){var menu=window.mx.ui.getMenu(this.menuID);this.domNode=$("div",{"class":"mx-navigationtree",tabindex:-1},$("div",{"class":"navbar-inner"},this._buildMenu(menu)));},postCreate:function(){var self=this;this.on("a:click",function(e){self.onClick(this);_f45.stop(e);});},onClick:function(node){var _f49=this.domData(node,"action");if(_f49){if(typeof _f49==="function"){_f49();}else{window.mx.ui.execute(_f49,{context:this.mxcontext});}}else{_f46.toggle(node.parentNode,"mx-navigationtree-collapsed");}},_buildMenu:function(menu){var _f4a=$("ul"),_f4b;for(var i=0,item;item=menu[i];++i){if(item.action){_f4b=$("li",this._makeAnchor(item));}else{_f4b=$("li",{"class":"mx-navigationtree-has-items"},this._makeAnchor(item),this._buildMenu(item.items));_f46.add(_f4b,"mx-navigationtree-collapsed");}_f4a.appendChild(_f4b);}return _f4a;},_makeAnchor:function(_f4c){var _f4d=["a",{href:"#","class":"dropdown"}],_f4e;if(_f4c.icon){_f4d.push($("img",{src:window.mx.appUrl+_f4c.icon}));}_f4d.push(" "+_f4c.caption+" ");if(_f4c.items){_f4d.push($("span",{"class":"caret"}));}_f4e=$.apply(null,_f4d);if(_f4c.action){this.domData(_f4e,"action",_f4c.action);}return _f4e;}});return _f48;});},"mxui/widget/LayoutContainer":function(){define(["mxui/widget/_WidgetBase","mxui/dom","dojo/aspect","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/window","dojo/_base/declare","dojo/_base/fx","dojo/_base/lang"],function(_f4f,_f50,_f51,_f52,_f53,_f54,_f55,_f56,_f57,_f58){var _f59=_f56([_f4f],{declaredClass:"mxui.widget.LayoutContainer",design:"",regions:null,_isFixed:false,_regionMap:null,_resizeNodes:null,_toggleRegion:"",_toggleState:false,_overlayNode:null,startup:function(){this._regionMap={};this._resizeNodes=[];this._isFixed=_f52.contains(this.domNode,"mx-layoutcontainer-fixed");var _f5a=this.domNode.children,_f5b;for(var i=0;_f5b=_f5a[i];i++){var _f5c=this.regions[i],_f5d=_f5b.children[0];var _f5e=this._regionMap[_f5c.position]={node:_f5b,width:_f5b.offsetWidth,position:_f5c.position};if(_f5c.collapsible){this._toggleRegion=_f5e;var _f5f=_f5b.style.width;_f5e.cssWidth=parseInt(_f5f,10);_f5e.cssUnits=_f5f.indexOf("%")!=-1?"%":"px";_f5e.node.setAttribute("focusIndex",-1);}if(_f5d&&_f5d.style.height){_f5d.style.overflow="auto";}if(this.design!=="vertical"||_f5c.position==="middle"){this._resizeNodes.push(_f5b.children[0]);}}if(this._toggleRegion){_f54.set(this.domNode.parentNode,"overflowX","hidden");this.listen("toggleSidebar",this.toggleSidebar,function(cb){this.toggleSidebar();cb();});_f51.after(this.mxform,"onAfterHide",_f58.hitch(this,"hideSidebar"));this._overlayNode=_f50.create("div",{style:{position:"absolute"}});this.connect(this._overlayNode,"click","hideSidebar");}},resizeSidebar:function(){var _f60=this._toggleRegion;if(!_f60){return;}_f54.set(this.domNode,"width","");_f54.set(_f60.node,"display","none");var _f61=this.domNode.offsetWidth,_f62=this._toggleState;if(_f60.cssUnits==="%"){_f60.width=_f60.cssWidth*_f61/100;}var _f63={position:"relative",width:_f61+_f60.width+"px"};if(_f60.position==="left"&&!_f62||_f60.position==="right"&&_f62){_f63[window.mx.ui.isRtl()?"right":"left"]=-_f60.width+"px";}_f54.set(this.domNode,_f63);_f54.set(_f60.node,{display:"",width:_f60.width+"px",});if(_f62){this.positionOverlay();}},resize:function(box){if(!this._resizeNodes){return;}this.resizeSidebar();if(box){var _f64=box.h;if(this.design==="vertical"){for(var _f65 in this._regionMap){var _f66=this._regionMap[_f65];if(_f65==="top"||_f65==="bottom"){_f64-=_f66.node.offsetHeight;}}}var _f67=_f64>=100;for(var j=0,node;node=this._resizeNodes[j];j++){var _f68=Math.max(0,_f64)+"px";if(this._isFixed){node.style.height=_f67?_f68:"auto";this.resizeChildren(node,!_f67);}else{node.style.minHeight=_f67?_f68:"";this.resizeChildren(node,true);}}}else{for(var k=0,node;node=this._resizeNodes[k];k++){node.style.height="auto";this.resizeChildren(node,true);}}},toggleSidebar:function(){if(this._toggleState){this.hideSidebar();}else{this.showSidebar();}},showSidebar:function(){var _f69=this._toggleRegion;if(!_f69){return;}this._toggleState=true;var _f6a={},_f6b={end:_f69.position==="left"?0:-_f69.width,units:"px"};_f6a[window.mx.ui.isRtl()?"right":"left"]=_f6b;_f57.animateProperty({node:this.domNode,duration:300,properties:_f6a}).play();document.body.appendChild(this._overlayNode);this.positionOverlay();},hideSidebar:function(){var _f6c=this._toggleRegion;if(!_f6c){return;}this._toggleState=false;var _f6d={},_f6e={end:_f6c.position==="left"?-_f6c.width:0,units:"px"};_f6d[window.mx.ui.isRtl()?"right":"left"]=_f6e;this._animOut=_f57.animateProperty({node:this.domNode,duration:300,properties:_f6d}).play();_f50.orphan(this._overlayNode);},positionOverlay:function(){var _f6f=this._toggleRegion,rtl=window.mx.ui.isRtl();_f53.setMarginBox(this._overlayNode,{t:_f53.position(_f6f.node,true).y,l:_f6f.position==="left"?(rtl?0:_f6f.width):(rtl?_f6f.width:0),w:Math.max(0,_f55.getBox().w-_f6f.width),h:_f6f.node.offsetHeight});}});return _f59;});},"mxui/widget/MicroflowButton":function(){define(["mxui/widget/_Button","mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_f70,_f71,_f72,_f73){var _f74=_f73(_f70,{declaredClass:"mxui.widget.MicroflowButton",microflow:null,confirmation:null,onClick:function(){var self=this,mf=this.microflow,conf=mf.confirmation,_f75=[];if(conf){_f75.push(function(cb){window.mx.ui.confirmation({cancel:conf.cancel,proceed:conf.proceed,content:conf.question,handler:cb});});}if(mf.validate=="view"){_f75.push(_f72.hitch(this.mxform,"validate"));}_f75.push(function(_f76){self.mxform.save(_f76,function(err){if(!(err instanceof mendix.lib.ValidationError)){window.mx.onError(err);}});});_f75.push(function(){window.mx.ui.execute({microflow:mf},{context:self.mxcontext,store:{dir:self.direction,caller:self.mxform}});});this.sequence(_f75);}});return _f74;});},"mxui/widget/BackButton":function(){define(["mxui/widget/_Button","mendix/logger","dojo/_base/declare"],function(_f77,_f78,_f79){var _f7a=_f79(_f77,{declaredClass:"mxui.widget.BackButton",onClick:function(e){this.mxform.dispose();}});return _f7a;});},"mxui/widget/CancelButton":function(){define(["mxui/widget/_Button","mendix/logger","dojo/_base/declare"],function(_f7b,_f7c,_f7d){var _f7e=_f7d(_f7b,{declaredClass:"mxui.widget.CancelButton",closeForm:true,needsObject:true,onClick:function(e){var self=this,form=this.mxform;this.mxform.suspend();form.rollback(function(){if(self.closeForm||self.mxform.place==="popup"){form.dispose();}},function(e){form.resume();window.mx.onError(e);});}});return _f7e;});},"mxui/widget/Confirmation":function(){define(["mxui/widget/Dialog","mxui/dom","mendix/logger","dojo/_base/declare"],function(_f7f,_f80,_f81,_f82){var _f83=_f82(_f7f,{declaredClass:"mxui.widget.Confirmation",cancel:"",proceed:"",handler:null,modal:true,buildRendering:function(){var $=_f80.create,_f84=$("button",{"class":"btn"},this.cancel),_f85=$("button",{"class":"btn btn-primary"},this.proceed),_f86;this.caption=this.caption||this.translate("caption");this.inherited(arguments);var _f87=$("p");_f87.innerHTML=_f80.convertNlToBr(_f80.escapeString(this.content));this.setContent(_f87);this.setButtons([_f85,_f84]);this.connect(_f84,"click",function(){this.hide();});this.connect(_f85,"click",function(){this.hide();this.handler();});}});return _f83;});},"mxui/widget/LogoutButton":function(){define(["mxui/widget/_Button","mendix/logger","dojo/_base/declare"],function(_f88,_f89,_f8a){var _f8b=_f8a(_f88,{declaredClass:"mxui.widget.LogoutButton",postCreate:function(){if(window.mx.session.isGuest()){this.domNode.style.display="none";}},onClick:function(e){window.mx.session.logout();}});return _f8b;});},"mxui/widget/DropDownButton":function(){define(["mxui/widget/_Button","mxui/widget/Dialog","mxui/dom","mendix/logger","dojo/dom-class","dojo/dom-construct","dojo/_base/declare"],function(_f8c,_f8d,_f8e,_f8f,_f90,_f91,_f92){var _f93=_f92(_f8c,{declaredClass:"mxui.widget.DropDownButton",items:null,_dialog:null,buildRendering:function(){this.inherited(arguments);_f91.place(_f8e.create("span",{"class":"caret"}),this.domNode);},onClick:function(e){if(!this._dialog){var $=_f8e.create,list=$("ul",{"class":"mx-list mx-dropdown-list"},this.getTemplate("content")),_f94=$("button",{"class":"btn primary"},"Close"),_f95=this._dialog=new _f8d();_f90.add(_f95.domNode,"mx-dropdown");_f95.setContent(list);_f95.setButtons([_f94]);this.connect(_f94,"click","hideDropDown");mxui.html.parser.parse(list,{dialog:_f95,mxform:this.mxform,parent:this});}this._dialog.show();},hideDropDown:function(){this._dialog.hide();},uninitialize:function(){if(this._dialog){this._dialog.destroy();}}});return _f93;});},"mxui/widget/DropDownItem":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/dom-construct","dojo/_base/lang","dojo/_base/declare"],function(_f96,_f97,_f98,_f99,_f9a,_f9b){var _f9c=_f9b(_f96,{declaredClass:"mxui.widget.DropDownItem",icon:"",caption:"",action:null,dialog:null,parent:null,buildRendering:function(){var $=_f97.create,node=this.domNode=$("li",$("label",this.caption));if(this.icon){_f99.place($("img",{src:window.mx.appUrl+this.icon}),node,"first");}this.connect(node,"click","onClick");},onClick:function(guid){this.dialog.hide();var _f9d=this.action,_f9e=this.parent.mxcontext;var run=function(){window.mx.ui.execute(_f9d,_f9a.mixin({context:_f9e},(_f9d.microflow?{store:{dir:0}}:{dir:0})));};if(_f9d.microflow&&_f9d.microflow.validate=="view"){this.mxform.validate(run);}else{run();}}});return _f9c;});},"mxui/widget/SaveButton":function(){define(["mxui/widget/_Button","mendix/logger","dojo/_base/declare"],function(_f9f,_fa0,_fa1){var _fa2=_fa1(_f9f,{declaredClass:"mxui.widget.SaveButton",closeForm:true,needsObject:true,onClick:function(){var self=this,form=this.mxform;form.validate(function(){form.suspend();var _fa3=function(e){form.resume();if(!(e instanceof mendix.lib.ValidationError)){window.mx.onError(e);}};form.save(function(){form.commit(function(){if(self.closeForm||form.place=="popup"){form.dispose();}else{form.resume();}},_fa3);},_fa3);});}});return _fa2;});},"mxui/widget/SidebarToggleButton":function(){define(["mxui/widget/_Button","mxui/widget/LayoutContainer","mendix/logger","dojo/_base/declare","dijit"],function(_fa4,_fa5,_fa6,_fa7,_fa8){var _fa9=_fa7(_fa4,{declaredClass:"mxui.widget.SidebarToggleButton",_container:null,startup:function(){var _faa=_fa8.byNode(this.mxform.domNode.firstChild);if(!_faa||!(_faa instanceof _fa5)){_fa6.error(this.id+".startup: No top-level layout container found.");}else{this._container=_faa;}},onClick:function(){if(!this._container){return;}this.mxform.publish("toggleSidebar");}});return _fa9;});},"mxui/widget/GroupBox":function(){define(["mxui/widget/_WidgetBase","mxui/widget","mxui/dom","mendix/logger","dijit/registry","dojo/dom-class","dojo/dom-construct","dojo/_base/declare","dojo/_base/lang"],function(_fab,_fac,_fad,_fae,_faf,_fb0,_fb1,_fb2,_fb3){var _fb4=_fb2(_fab,{declaredClass:"mxui.widget.GroupBox",caption:null,collapsed:false,collapsable:false,_headNode:null,_iconNode:null,_bodyNode:null,_children:null,buildRendering:function(){var $=_fad.create,_fb5=this.srcNodeRef,_fb6=this.caption,_fb7=this.collapsable,_fb8;var _fb9=this.domNode=$("div",{"class":"mx-groupbox"},bodyNode=this._bodyNode=$("div",{"class":"mx-groupbox-body"},this.getTemplate("content")));if(_fb6||_fb6==""){if(_fb6==""){_fb6="&nbsp;";}else{_fb6=_fad.escapeString(_fb6);}_fb8=this._headNode=$("h2",{"class":"mx-groupbox-header"});if(_fb7){_fb8.innerHTML=" "+_fb6;_fb0.add(_fb9,"mx-groupbox-collapsable");_fb1.place(this._iconNode=$("i",{"class":"glyphicon mx-groupbox-collapse-icon"}),_fb8,"first");}else{_fb8.innerHTML=_fb6;}_fb1.place(_fb8,_fb9,"first");}this._doCollapse();if(_fb8&&_fb7){this.connect(_fb8,"click",function(e){this.toggleCollapsed();e.stopPropagation();});}},startup:function(){this._children=this.parseContent(this.domNode);},update:function(obj,_fba){var _fbb=_faf.findWidgets(this.domNode);_fac.ready(_fbb,_fb3.hitch(this,"passContext",_fbb,_fba));},toggleCollapsed:function(){this.set("collapsed",!this.collapsed);},_setCollapsedAttr:function(_fbc){if(this.collapsed!=_fbc){this.collapsed=_fbc;this._doCollapse();}},_doCollapse:function(){if(this.collapsed){_fb0.add(this.domNode,"collapsed");if(this._iconNode){_fb0.replace(this._iconNode,"glyphicon-plus","glyphicon-minus");}}else{_fb0.remove(this.domNode,"collapsed");if(this._iconNode){_fb0.replace(this._iconNode,"glyphicon-minus","glyphicon-plus");}this.mxform.resize();}}});return _fb4;});},"mxui/widget/Header":function(){define(["mxui/widget/_WidgetBase","mxui/dom","dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_fbd,_fbe,_fbf,_fc0,_fc1){var _fc2=_fc0(_fbd,{declaredClass:"mxui.widget.Header",buildRendering:function(){this.domNode=_fbe.create("div",{"class":"mx-header"});_fbf.forEach(["center","left","right"],_fc1.hitch(this,function(part){this._appendTemplate(part);}));this.parseContent();},_appendTemplate:function(name){var _fc3=this.getTemplate(name),_fc4=this.isLeftToRight()?{}:{left:"right",right:"left"};if(_fc3){this.domNode.appendChild(_fbe.create("div",{"class":"mx-header-"+(_fc4[name]||name)},_fc3));}}});return _fc2;});},"mxui/widget/Title":function(){define(["mxui/widget/_WidgetBase","mxui/dom","dojo/_base/declare"],function(_fc5,dom,_fc6){var _fc7=_fc6(_fc5,{declaredClass:"mxui.widget.Title",buildRendering:function(){this.domNode=dom.create("h1",{"class":"mx-title"},this.mxform.getTitle());}});return _fc7;});},"mxui/widget/StaticImage":function(){define(["mxui/widget/_WidgetBase","mxui/widget/ImageZoom","mxui/dom","mendix/logger","dojo/on","dojo/_base/event","dojo/_base/declare"],function(_fc8,_fc9,dom,_fca,_fcb,_fcc,_fcd){var $=dom.create;var _fce=_fcd(_fc8,{declaredClass:"mxui.widget.StaticImage",url:"",width:0,height:0,action:null,_overlay:null,buildRendering:function(){var _fcf=this.width,_fd0=this.height,_fd1=this.domNode=$("img",{"class":"mx-image"}),_fd2=_fd1.style;if(this.url){_fd1.src=this.url;}if(_fcf&&_fd0){this.connect(_fd1,"load",function(){var _fd3=_fd1.width/_fd1.height,_fd4=_fcf/_fd0;if(_fd3<_fd4){_fd2.width="";_fd2.height=_fd0+"px";}else{_fd2.width=_fcf+"px";_fd2.height="";}});}else{if(_fcf){_fd2.width=this.width+"px";}else{if(_fd0){_fd2.height=this.height+"px";}}}if(this.action){this.connect(_fd1,"click","onClick");_fd1.style.cursor="pointer";}},setUrl:function(url,_fd5){if(!url){this.domNode.style.display="none";this.domNode.src=this._blankGif;_fd5&&_fd5();}else{if(this.domNode.src===url){_fd5&&_fd5();}else{if(_fd5){_fcb(this.domNode,"load",_fd5);}this.domNode.style.display="";this.domNode.src=url;}}},onClick:function(e){var _fd6=this.action,_fd7=this.mxcontext,run,_fd8;if("microflow" in _fd6||"form" in _fd6){_fd8={caller:this.mxform};run=function(){window.mx.ui.execute(_fd6,{context:_fd7,store:_fd8});};if(_fd6.microflow&&_fd6.microflow.validate=="view"){this.mxform.validate(run);}else{run();}}else{if(_fd6.type=="enlarge"){if(!this._overlay){this._overlay=new _fc9({src:this.domNode.src});}else{this._overlay.set("src",this.domNode.src);}this._overlay.show();}}_fcc.stop(e);},uninitialize:function(){this._overlay&&this._overlay.destroy();},_setWidthAttr:function(){},_setHeightAttr:function(){}});return _fce;});},"mxui/widget/ImageZoom":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/_base/declare"],function(_fd9,_fda,_fdb,_fdc){var _fdd=_fdc(_fd9,{declaredClass:"mxui.widget.ImageZoom",src:"",_image:null,_offset:0,_content:null,buildRendering:function(){var $=_fda.create;this.domNode=$("div",{"class":"mx-imagezoom"},$("div",{"class":"mx-imagezoom-wrapper"},this._image=$("img",{"class":"mx-imagezoom-image",src:this.src})));this._content=document.getElementById("content");this.connect(this.domNode,"click","hide");},show:function(){this._offset=window.pageYOffset;this._content.style.display="none";document.body.appendChild(this.domNode);},hide:function(e){document.body.removeChild(this.domNode);var self=this;setTimeout(function(){window.scrollTo(0,self._offset);self._content.style.display="";});},_setSrcAttr:function(src){this._image.src=this.src=src;}});return _fdd;});},"mxui/widget/Image":function(){define(["mxui/widget/StaticImage","mendix/logger","dojo/_base/declare"],function(_fde,_fdf,_fe0){var _fe1=_fe0(_fde,{declaredClass:"mxui.widget.Image",path:"",defaultUrl:"",_entity:"",_xpath:"",_referred:"",postCreate:function(){this.inherited(arguments);if(this.path){var _fe2=this.path.split("/");this._entity=_fe2.pop();this._referred=!!_fe2.length;this._xpath="//"+this._entity;if(this._referred){this._xpath+="["+_fe2.reverse().join("/")+"=[%CurrentObject%]]";}}},applyContext:function(_fe3,_fe4){this.unsubscribeAll();this.mxcontext.mixin(_fe3);var _fe5=this.mxcontext.getTrackId();var _fe6=function(e){window.mx.onError(e);_fe4&&_fe4();};if(!_fe5){this.update(null,_fe4);}else{if(this._referred){window.mx.data.get({xpath:this._xpath.replace("[%CurrentObject%]",_fe5),callback:function(objs){this.updateReferred(objs[0],_fe4,_fe3);},error:_fe6},this);}else{window.mx.data.get({guid:_fe5,noCache:true,callback:function(obj){this.update(obj,_fe4);},error:_fe6},this);}}},update:function(obj,_fe7){if(obj){this.subscribe({guid:obj.getGuid(),callback:function(){this.update(obj);}});}this._setImage(obj,_fe7);},updateReferred:function(obj,_fe8,_fe9){if(obj){this.subscribe({guid:_fe9.getTrackId(),callback:function(){this.applyContext(_fe9);}});}this.mxcontext.setContext(this._entity,obj?obj.getGuid():"");this.update(obj,_fe8);},_setImage:function(obj,_fea){var url=this.defaultUrl;if(obj&&obj.get("HasContents")){url=window.mx.appUrl;url+="file?guid="+obj.getGuid()+"&thumb="+this.thumb;url+="&changedDate="+obj.get("changedDate");}this.setUrl(url,_fea);}});return _fe1;});},"mxui/widget/LinkButton":function(){define(["mxui/widget/_Button","mxui/mixin/_DynamicOptionHelper","mxui/dom","mendix/logger","dojo/_base/declare"],function(_feb,_fec,_fed,_fee,_fef){var _ff0=_fef([_feb,_fec],{declaredClass:"mxui.widget.LinkButton",action:"",address:"",caption:"",subject:"",cc:"",bcc:"",body:"",_argNames:{email:["subject","cc","bcc","body"]},_target:"",_url:"",buildRendering:function(){this.inherited(arguments);this._target=(this.action=="open"?"_blank":"_self");},onClick:function(e){window.open(this._url,this._target);},refresh:function(_ff1){this.updateOptions(["caption","address","subject","cc","bcc","body"],this._mxObject,function(_ff2){var node=this.domNode;this.set("caption",_ff2.caption?_fed.escapeString(_ff2.caption):"");this.setUrl(_ff2);_ff1&&_ff1();});},setUrl:function(_ff3){var _ff4=_ff3.address,url;switch(this.action){case "open":url=_ff4;break;case "email":url="mailto:"+window.escape(_ff4);break;case "call":url="tel:"+window.escape(_ff4);break;case "text":url="sms:"+window.escape(_ff4);break;default:throw new Error(this.id+".setUrl : invalid action");}var _ff5=[],_ff6=this._argNames[this.action];if(_ff6){for(var i=0,_ff7;_ff7=_ff6[i];++i){var val=_ff3[_ff7];if(val){_ff5.push(_ff7+"="+window.escape(val));}}if(_ff5.length>0){url+="?"+_ff5.join("&");}}this._url=url;}});return _ff0;});},"mxui/widget/ListView":function(){define(["mxui/widget/Button","mxui/widget/_WidgetBase","mxui/dom","mendix/lang","mendix/lib/EntityPathSource","mendix/lib/MicroflowSource","mendix/lib/MxContext","mendix/lib/SimpleXPathSource","mendix/logger","dojo/dom-class","dojo/dom-construct","dojo/topic","dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_ff8,_ff9,_ffa,_ffb,_ffc,_ffd,_ffe,_fff,_1000,_1001,_1002,_1003,_1004,_1005,_1006){var _1007=_1005(_ff9,{declaredClass:"mxui.widget.ListViewItem",listview:null,template:null,action:null,selectable:"",name:"",_selected:false,_checknode:null,buildRendering:function(){var $=_ffa.create,node=this.domNode=$("li",{"class":this.name+" mx-listview-item"}),_1008=this.selectable;if(_1008){node.appendChild($("#",$("div",{"class":"mx-listview-selection"},this._checknode=_1008=="multi"?$("input",{type:"checkbox"}):$("input",{type:"radio"})),$("div",{"class":"mx-listview-content"},this.template||"")));}else{if(this.template){node.appendChild(this.template);}}this.connect(this.domNode,"click","onClick");},startup:function(){this.parseContent(this.domNode,{schema:""});},select:function(){_1001.add(this.domNode,"selected");this._checknode.checked=true;this._selected=true;},deselect:function(){_1001.remove(this.domNode,"selected");this._checknode.checked=false;this._selected=false;},getGuid:function(){return this.mxcontext.getTrackId();},onClick:function(){if(this.selectable){this.listview[this._selected?"deselectItem":"selectItem"](this);}else{if(this.action){var self=this,obj=this.mxcontext.getObject(),_1009=this.action,_100a=new _ffe();var run=function(){window.mx.ui.execute(_1009,{context:_100a},self);self.listview.shareSelected(self);};_100a.mixin(this.mxcontext);_100a.setTrackObject(null);if(_1009.microflow&&_1009.microflow.validate){this.mxform.validate(run);}else{run();}}}this.listview.shareSelected(this);}});var _100b=_1005(_ff9,{declaredClass:"mxui.widget.ListView",constraint:"",datasource:null,page:5,search:null,action:null,sort:null,selection:null,selectable:"",templateMap:null,_entity:"",_doUpdate:false,_itemList:null,_selected:null,_loadButton:null,_clearButton:null,_searchNode:null,_listNode:null,_emptyNode:null,_loadNode:null,_datasource:null,_searchTimeout:null,buildRendering:function(){var $=_ffa.create;this._loadButton=new _ff8({caption:this.translate("load_more"),iconClass:"glyphicon glyphicon-repeat",onClick:_1006.hitch(this,"loadMore")});this.domNode=$("div",{"class":"mx-listview"},this._listNode=$("ul",{"class":"mx-list mx-list-striped mx-listview-list"}),this._loadButton.domNode);if(this.action){_1001.add(this.domNode,"mx-listview-clickable");}this._emptyNode=$("li",{"class":"mx-listview-empty"},$("label",this.translate("no_items")));this._loadNode=$("li",{"class":"mx-listview-loading"},$("img",{src:require.toUrl("mxui/ui/widget/images/loading.gif")}));if(this.search){this._clearButton=new _ff8({iconClass:"glyphicon glyphicon-refresh",onClick:_1006.hitch(this,"clearSearchNode"),"class":"mx-listview-clear-button"});_1002.place($("div",{"class":"mx-listview-searchbar clearfix"},this._clearButton.domNode,$("div",{"class":"mx-listview-search-input"},this._searchNode=$("input",{type:"text",placeholder:this.translate("search"),"class":"form-control"}))),this.domNode,"first");this.connect(this._searchNode,"keyup","searchKeyDown");}},postCreate:function(){if(this.constraint){this.datasource.constraint=this.constraint;}this.createSource();this._itemList=[];this.templateMap=this.templateMap||[];if(this.selectable){var _100c=this.selection,_100d=this._selected={};for(var i=0,guid;guid=_100c[i];i++){_100d[guid]=1;}this.mxform.setReturnValue("selection",_100c);}},resume:function(){if(this._doUpdate){this.update();this._doUpdate=false;}},update:function(obj,_100e){if(this.get("suspended")){this._doUpdate=true;_100e&&_100e();}else{_ffa.orphan(this._emptyNode);this.loadData(_100e);}},createSource:function(){var _100f=this.datasource,split,meta;switch(_100f.type){case "xpath":split=_100f.path.split("/");this._entity=split.pop();split.shift();this._datasource=new _fff({context:this.mxcontext,page:this.page,sortparams:this.sort,entity:this._entity,path:split,constraint:_100f.constraint});break;case "entityPath":split=_100f.path.split("/");this._entity=split.pop();this._datasource=new _ffc({context:this.mxcontext,page:this.page,path:_100f.path});break;case "microflow":this._entity=_100f.entity;this._datasource=new _ffd({context:this.mxcontext,page:this.page,microflow:_100f.microflow});break;default:throw new Error(this.id+".createSource : could not create datasource");}this.subscribe({entity:this._entity,callback:function(){this.update();}});},loadData:function(_1010){this._datasource.first();this.sequence(["sourceReload","renderData","addLoadButton"],_1010);},loadMore:function(){_ffa.orphan(this._loadButton.domNode);this._listNode.appendChild(this._loadNode);this.sequence(["sourceNext","renderData","addLoadButton"]);},clearData:function(){var list=this._itemList;while(list.length){var item=list.pop();if(item.domNode){item.destroy();}}},sourceReload:function(_1011){this._datasource.reload(_1011);},sourceNext:function(_1012){this._datasource.next(_1012);},renderData:function(_1013){var _1014=this._datasource,objs=_1014.getObjects(),_1015=[],_1016=document.createDocumentFragment(),chain;_ffa.orphan(this._loadNode);if(_1014.getOffset()===0){this.clearData();}if(_1014.getSetSize()===0){this._listNode.appendChild(this._emptyNode);_1013&&_1013();return;}_1004.forEach(objs,function(obj,index){var _1017=this.templateMap[obj.getEntity()];if(!_1017){_1004.some(obj.getSuperEntities(),function(_1018){return _1017=this.templateMap[_1018];},this);}var item=new _1007({listview:this,name:"mx-name-index-"+index,mxform:this.mxform,template:this.getTemplate(_1017),action:this.action,selectable:this.selectable});_1015.push(item);if(this._selected){var _1019=obj.getGuid() in this._selected;item[_1019?"select":"deselect"]();if(_1019&&this.selectable=="single"){this._selectedItem=item;}}_1016.appendChild(item.domNode);},this);if(_1014.getOffset()===0){this.clearData();this._itemList=_1015;}else{this._itemList=this._itemList.concat(_1015);}this._listNode.appendChild(_1016);_1004.forEach(_1015,function(item){item.startup();});chain=_1004.map(_1015,function(item,i){var _101a=this.mxcontext;return function(cb){var _101b=new _ffe({mxcontext:_101a});_101b.setObject(objs[i]);item.applyContext(_101b,function(){item.set("suspended",false);cb();});};},this);this.collect(chain,_1013);},addLoadButton:function(_101c){if(!this._datasource.atEnd()){this.domNode.appendChild(this._loadButton.domNode);}else{_ffa.orphan(this._loadButton.domNode);}_ffb.nullExec(_101c);},searchKeyDown:function(){var self=this,_101d=this._datasource;this._clearButton.set("iconClass","glyphicon "+(this._searchNode.value?"glyphicon-remove":"glyphicon-refresh"));clearTimeout(this._searchTimeout);this._searchTimeout=setTimeout(function(){_101d.setConstraints(self._getSearchConstraint());self.update();},500);},clearSearchNode:function(){clearTimeout(this._searchTimeout);this._clearButton.set("iconClass","glyphicon glyphicon-refresh");this._searchNode.value="";this._datasource.setConstraints("");this.update();},saveSelection:function(){this.mxform.setReturnValue("selection",_ffb.objectToArray(this._selected));},selectItem:function(item){var guid=item.getGuid();item.select();if(this.selectable=="single"){var _101e=this._selectedItem;_101e&&_101e.deselect();this._selectedItem=item;this.mxform.setReturnValue("selection",[guid]);}else{this._selected[guid]=1;this.saveSelection();}},deselectItem:function(item){var guid=item.getGuid();item.deselect();if(this.selectable=="single"){this.mxform.setReturnValue("selection",[]);}else{delete this._selected[guid];this.saveSelection();}},shareSelected:function(item){var _101f=new _ffe(),guid=item.getGuid();_101f.setTrackEntity(this._entity);_101f.setContext(this._entity,guid||null);_1003.publish(window.mx.ui.makeShareId(this.mxform,this.mxid),_101f);},uninitialize:function(){this.clearData();this._datasource.destroy();},_getSearchConstraint:function(){if(this.search){var value=this._searchNode.value,_1020=[],_1021=this.search.attributes,_1022=this.search.method;if(value){for(var i=0,attr;attr=_1021[i];++i){_1020.push(_1022+"("+attr+",'"+value+"')");}return "["+_1020.join(" or ")+"]";}}return "";}});return _100b;});},"mxui/widget/MenuBar":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/dom-class","dojo/dom-construct","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang"],function(_1023,_1024,_1025,_1026,_1027,_1028,_1029,_102a,_102b){var _102c=_1029(_1023,{declaredClass:"mxui.widget.MenuBar",menuID:"",orientation:"horizontal",_active:null,buildRendering:function(){var $=_1024.create,items=window.mx.ui.getMenu(this.menuID),list;this.domNode=$("div",{"class":"mx-menubar mx-menubar-"+this.orientation},list=$("ul",{"class":"nav nav-pills mx-menubar-list"}));if(this.orientation=="vertical"){_1026.add(list,"nav-stacked");}_1028.forEach(items,function(item,i){var _102d=$("a",{href:"#"}," "+item.caption);if(item.icon){_1027.place($("img",{"class":"mx-menubar-icon",src:window.mx.appUrl+item.icon}),_102d,"first");}this.connect(_102d,"click",_102b.partial(this.onClick,item.action,i));list.appendChild($("li",{"class":"mx-menubar-item"},_102d));},this);},onClick:function(_102e,index,e){var run=function(){if(this._active){_1026.remove(this._active,"active");}this._active=e.target.parentNode;_1026.add(this._active,"active");window.mx.ui.execute(_102e);};if(_102e.microflow&&_102e.microflow.validate=="view"){this.mxform.validate(_102b.hitch(this,run));}else{run();}_102a.stop(e);}});return _102c;});},"mxui/widget/NavigationList":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/_base/declare"],function(_102f,dom,_1030,_1031){var _1032=_1031(_102f,{declaredClass:"mxui.widget.NavigationList",buildRendering:function(){this.domNode=dom.create("ul",{"class":"mx-list mx-navigationlist"},this.getTemplate("content"));},startup:function(){this.parseContent(this.domNode,{readOnly:true});}});return _1032;});},"mxui/widget/NavigationListItem":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/_base/declare"],function(_1033,dom,_1034,_1035){var _1036=_1035(_1033,{declaredClass:"mxui.widget.NavigationListItem",action:null,buildRendering:function(){this.domNode=dom.create("li",{"class":"mx-navigationlist-item"},this.getTemplate("content"));if(this.action){this.connect(this.domNode,"click","onClick");}},startup:function(){this.parseContent(this.domNode,{readOnly:true});},onClick:function(){var self=this;var run=function(){window.mx.ui.execute(self.action,{context:self.mxcontext});};if(this.action.microflow&&this.action.microflow.validate=="view"){this.mxform.validate(run);}else{run();}}});return _1036;});},"mxui/widget/NewButton":function(){define(["mxui/widget/_Button","mendix/lib/MxContext","mendix/logger","dojo/_base/declare"],function(_1037,_1038,_1039,_103a){var _103b=_103a(_1037,{declaredClass:"mxui.widget.NewButton",form:null,entity:"",onClick:function(e){var pid=window.mx.ui.showProgress();window.mx.data.create({entity:this.entity,callback:function(obj){var _103c=new _1038();_103c.setContext(obj);window.mx.ui.execute({form:this.form},{context:_103c});window.mx.ui.hideProgress(pid);},error:function(e){window.mx.ui.hideProgress(pid);window.mx.onError(e);}},this);}});return _103b;});},"mxui/widget/ReferenceSelector":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_ValidationHelper","mxui/widget/Button","mendix/lib/MicroflowSource","mendix/lib/XPathSource","mendix/lib/MxContext","mxui/dom","mendix/logger","dojo/dom-construct","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/_base/declare"],function(_103d,_103e,_103f,_1040,_1041,_1042,dom,_1043,_1044,_1045,_1046,_1047,_1048){var $=dom.create;var _1049=_1048([_103d,_103e],{declaredClass:"mxui.widget.ReferenceSelector",attributePath:"",sort:null,constraint:"",constrainedBy:null,dataSourceMicroflow:"",selectForm:null,gotoForm:null,events:null,useContext:false,contextAction:"",preserveTrackObject:true,_mxObject:null,_readNode:null,_editNode:null,_inputPane:null,_gotoButton:null,_assoc:"",_entity:"",_attr:"",_constraint:"",_datasource:null,_objsubs:null,postMixInProperties:function(){_1047.mixin(this,this.selectForm?_104a:_104b);},postCreate:function(){var path=this.attributePath.split("/");this.constrainedBy=this.constrainedBy||[];this._assoc=path[1];this._entity=path[2];this._attr=path[3];this.mxcontext.setConstraints(this.constrainedBy);if(this.dataSourceMicroflow){this._datasource=new _1040({microflow:this.dataSourceMicroflow,context:this.mxcontext,page:1000});}else{this._datasource=new _1041({entity:this._entity,context:this.mxcontext,useContext:this.useContext,sortparams:this.sort,attributes:[this._attr],page:1000});}this._objsubs=[];},onChange:function(){var ev=this.events&&this.events.change;ev&&this.validatedMicroflow(ev);},update:function(obj,_104c){this._mxObject=obj;this.setValidationObject(obj);this._removeObjectSubscriptions();if(obj){this._constraint=this.constraint.replace("[%CurrentObject%]",obj.getGuid());this._addObjectSubscriptions();}this.updateDisabled();this.updateObject(obj,_104c);},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._assoc));},renderObject:function(_104d){var obj=this._mxObject,ref=obj&&obj.get(this._assoc);if(ref){window.mx.data.fetch(obj,[this._assoc,this._entity],{usexpath:true},_1047.hitch(this,function(obj){if(obj&&this._mxObject&&this._mxObject.getReference(this._assoc)==obj.getGuid()){this.setValue(obj);}_104d&&_104d();}),function(e){window.mx.onError(e);_104d&&_104d();});}else{this.setValue(null);_104d&&_104d();}},setTextValue:function(obj){var value=obj?window.mx.parser.formatAttribute(obj,this._attr):"";if(value){dom.text(this._readNode,value);}else{this._readNode.innerHTML="&nbsp;";}if(this._gotoButton){this._gotoButton.set("disabled",!obj);}},openGotoForm:function(){var obj=this._mxObject,ref=obj&&obj.get(this._assoc);if(ref){var _104e=new _1042();_104e.mixin(this.mxcontext);_104e.setContext(this._entity,ref);_104e.setTrackObject(null);window.mx.ui.execute({form:this.gotoForm},{context:_104e});}},_getValueAttr:function(){return this._editNode.value;},_createGoToButton:function(){var _104f=this._gotoButton=new _103f({"class":"mx-referenceselector-goto-button",iconClass:"glyphicon glyphicon-eye-open"});this.connect(_104f,"onClick","openGotoForm");return _104f.domNode;},_addObjectSubscriptions:function(){var obj=this._mxObject,ref;var _1050=function(){this.removeError();this.updateObject(obj);};this._objsubs.push(this.subscribe({guid:obj.getGuid(),callback:_1050}));this._objsubs.push(this.subscribe({guid:obj.getGuid(),attr:this._assoc,callback:this.selectForm?_1050:function(){this.removeError();if(this.get("suspended")){return;}var value=obj.get(this._assoc),found=!value||this._datasource.getObject(value);if(found){this.renderObject();}else{this.renderSet();}}}));ref=obj.getReference(this._assoc);if(ref){this._objsubs.push(this.subscribe({guid:ref,attr:this._attr,callback:_1050}));}},_removeObjectSubscriptions:function(){var subs=this._objsubs;while(subs.length>0){this.unsubscribe(subs.shift());}}});var _104b={_subs:null,buildRendering:function(){this._editNode=$("select",{"class":"form-control"});this._readNode=$("label");this.connect(this._editNode,"change",function(){var value=this.get("value");if(this.isValid()&&this._mxObject.get(this._assoc)!=value){this._mxObject.set(this._assoc,value);if(this._gotoButton){this._gotoButton.set("disabled",!value);}this.onChange();}});var _1051;this.domNode=$("div",{"class":"mx-referenceselector"},_1051=$("div",{"class":"mx-referenceselector-input-wrapper"},this._editNode));if(this.gotoForm){_1044.place(this._createGoToButton(),_1051,"before");}this._inputPane=_1051;},startup:function(){this.setupValidation(this._assoc);},enable:function(){var self=this;this.renderSet(function(){self._inputPane.replaceChild(self._editNode,self._readNode);});},disable:function(){var self=this;this.renderObject(function(){self._inputPane.replaceChild(self._readNode,self._editNode);});},setValue:function(obj){this._editNode.value=obj?obj.getGuid():"";this.setTextValue(obj);},updateObject:function(obj,_1052){if(!this.get("suspended")){this.subscribeConstraints();if(this.get("disabled")){this.renderObject(_1052);}else{this.renderSet(_1052);}}else{_1052&&_1052();}},renderSet:function(_1053){var self=this,obj=this._mxObject,_1054=this._datasource,_1055=obj&&obj.get(self._assoc),_1056=false;var _1057=function(objs){self.renderOptions(objs);_1053&&_1053();};if(obj){if(_1054.setConstraints){_1054.setConstraints(this._constraint);}_1054.reload(function(){_1057(_1054.getObjects());if(_1055){var objs=_1054.getObjects();for(var i=0,obj;obj=objs[i];i++){if(_1055===obj.getGuid()){self.setValue(obj);_1056=true;break;}}if(!_1056){self._mxObject.set(self._assoc,"");self.onChange();}}});}else{_1057();}if(this._gotoButton){this._gotoButton.set("disabled",!_1056);}},renderOptions:function(objs){var node=this._editNode;objs=objs||[];dom.empty(node);node.appendChild($("option",{value:""},""));for(var i=0,obj;obj=objs[i];i++){node.appendChild($("option",{value:obj.getGuid()},window.mx.parser.formatAttribute(obj,this._attr)||""));}},subscribeConstraints:function(){var _1058=this.constrainedBy;if(!_1058){return;}if(this._subs){while(this._subs.length){this.unsubscribe(this._subs.shift());}this._subs=null;}if(this._mxObject){for(var i=0,len=_1058.length;i<len;++i){var path=_1058[i].split("/");if(path[1]){this.subscribe({guid:this._mxObject.getGuid(),attr:path[1],callback:function(){this.updateObject(this._mxObject);}});}}}}};var _104a={_selectButton:null,buildRendering:function(){this._readNode=$("label");this._editNode=$("input",{type:"text",readonly:"readonly","class":"form-control"});var _1059=this._selectButton=new _103f({"class":"mx-referenceselector-select-button",iconClass:"glyphicon glyphicon-share-alt"});this.connect(_1059,"onClick","openSelectForm");if(window.mx.ui.getProfile()=="desktop"){this.connect(this._editNode,"keypress","_onKeyPress");}else{this.connect(this._editNode,"click","openSelectForm");}this.connect(_1059.domNode,"keypress","_onKeyPress");this.domNode=$("div",{"class":"mx-referenceselector"},_1059.domNode,this._inputPane=$("div",{"class":"mx-referenceselector-input-wrapper"},this._editNode));if(this.gotoForm){_1044.place(this._createGoToButton(),_1059.domNode,"before");}},startup:function(){this.setupValidation(this._assoc);},enable:function(){_1044.place(this._selectButton.domNode,this.domNode,"first");this._readNode.parentNode.replaceChild(this._editNode,this._readNode);},disable:function(){this.domNode.removeChild(this._selectButton.domNode);this._editNode.parentNode.replaceChild(this._readNode,this._editNode);},setValue:function(obj){this._editNode.value=obj?window.mx.parser.formatAttribute(obj,this._attr):"";this.setTextValue(obj);},updateObject:function(obj,_105a){this.renderObject(_105a);},openSelectForm:function(){var ref=this._mxObject.get(this._assoc);window.mx.ui.execute({form:this.selectForm},{context:new _1042({mxcontext:this.mxcontext}),params:{selection:ref?[ref]:[],selectable:"single",constraint:this._constraint},callback:function(form){form.listen("save",_1047.hitch(this,function(_105b){var sel=form.getReturnValue("selection"),ref;if(sel){ref=sel.length===0?"":sel[0];if(this._mxObject.getReference(this._assoc)!=ref){this._mxObject.set(this._assoc,ref);this.renderObject();this.onChange();}}else{_1043.error(this.id+" form return value 'selection' does not exist");}_105b();}));}},this);},_onKeyPress:function(e){if(e.keyCode==_1046.DELETE){if(this.get("disabled")||(e.ctrlKey&&e.shiftKey)){return;}_1045.stop(e);if(!this.get("value")){return;}var self=this;window.mx.ui.confirmation({content:this.translate("clean_confirmation"),handler:function(){self._mxObject.set(self._assoc,"");}});}}};return _1049;});},"mxui/widget/InputReferenceSetSelector":function(){define(["mxui/widget/Button","mxui/widget/_WidgetBase","mxui/mixin/_ValidationHelper","mxui/dom","mendix/logger","dojo/dom-construct","dojo/_base/declare","dojo/_base/lang"],function(_105c,_105d,_105e,_105f,_1060,_1061,_1062,_1063){var _1064=_1062([_105d,_105e],{declaredClass:"mxui.widget.InputReferenceSetSelector",attributePath:"",constraint:"",constrainedBy:null,selectForm:"",events:null,_mxObject:null,_readNode:null,_editNode:null,_selectButton:null,_subscription:null,_assoc:"",_entity:"",_attr:"",_constraint:"",postCreate:function(){var path=this.attributePath.split("/");this.constrainedBy=this.constrainedBy||[];this._assoc=path[1];this._entity=path[2];this._attr=path[3];},buildRendering:function(){var $=_105f.create;var _1065=this._readNode=$("label"),_1066=this._editNode=$("input",{type:"text",readonly:"readonly","class":"form-control"});var _1067=this._selectButton=new _105c({"class":"mx-referencesetselector-select-button",iconClass:"glyphicon glyphicon-share-alt"});this.connect(_1067,"onClick","openSelectForm");this.connect(_1066,"click","openSelectForm");this.domNode=$("div",{"class":"mx-referencesetselector"},_1067.domNode,$("div",{"class":"mx-referencesetselector-input-wrapper"},this._editNode));},startup:function(){this.setupValidation(this._assoc);},onChange:function(){var ev=this.events&&this.events.change;ev&&this.validatedMicroflow(ev);},enable:function(){_1061.place(this._selectButton.domNode,this.domNode,"first");this._readNode.parentNode.replaceChild(this._editNode,this._readNode);},disable:function(){this.domNode.removeChild(this._selectButton.domNode);this._editNode.parentNode.replaceChild(this._readNode,this._editNode);},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._assoc));},update:function(obj,_1068){this._mxObject=obj;this.setValidationObject(obj);var _1069=function(_106a){this.updateDisabled();this.renderObject(_106a);};if(this._subscription){this.unsubscribe(this._subscription);}if(obj){this._constraint=this.constraint.replace("[%CurrentObject%]",obj.getGuid());this._subscription=this.subscribe({guid:obj.getGuid(),attr:this._assoc,callback:_1063.hitch(this,_1069,null)});}_1069.call(this,_1068);},renderObject:function(_106b){var self=this,obj=this._mxObject,refs=obj&&obj.get(this._assoc);var _106c=function(val){self.setValue(val||"");_106b&&_106b();};if(refs&&refs.length){window.mx.data.get({guids:refs,callback:function(objs){var _106d=[];for(var i=0,obj;obj=objs[i];i++){_106d.push(window.mx.parser.formatAttribute(obj,this._attr));}_106c(_106d.join(", "));},error:function(e){window.mx.onError(e);_106b&&_106b();}},this);}else{_106c();}},openSelectForm:function(){window.mx.data.getBacktrack(this._mxObject.getGuid(),this.constrainedBy,function(_106e,_106f){window.mx.ui.execute({form:this.selectForm},{params:{selection:this._mxObject.getReferences(this._assoc),selectable:"multi",constraint:_106f?_106e+this._constraint:"[0=1]"},callback:function(form){form.listen("save",_1063.hitch(this,function(_1070){var refs=form.getReturnValue("selection");if(refs){this._mxObject.set(this._assoc,refs);this.renderObject();this.onChange();}else{_1060.error(this.id+" form return value 'selection' does not exist");}_1070();}));}},this);},function(e){window.mx.onError(e);},this);},setValue:function(value){this._editNode.value=value;if(value){_105f.text(this._readNode,value);}else{this._readNode.innerHTML="&nbsp;";}}});return _1064;});},"mxui/widget/FileInput":function(){define(["mxui/widget/Button","mxui/widget/_WidgetBase","mxui/dom","mendix/lang","mendix/lib/ConnectionError","mendix/lib/Upload","mendix/logger","dijit/focus","dojo/dom-class","dojo/keys","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang"],function(_1071,_1072,_1073,_1074,_1075,_1076,_1077,_1078,_1079,_107a,_107b,_107c,_107d,_107e){var _107f=_107c(_1072,{declaredClass:"mxui.widget.FileInput",input:null,maxFileSize:0,restrictions:"",accept:"",uploadable:false,downloadable:false,target:"internal",_allowedExts:null,_labelNode:null,_uploadButton:null,_formNode:null,_rowNode:null,_errNode:null,_hasError:false,_selectState:"none",_emptyLabel:"...",buildRendering:function(){var $=_1073.create,_1080=window.mx.ui.getProfile()==="desktop";if(_1080){this._sendFile=this._sendFileReal;}this.domNode=$("div",{"class":"mx-fileinput"});if(this.uploadable){if(_1080){var _1081=this._uploadButton=new _1071({caption:window.mx.ui.translate("mxui.widget.MxFormView","upload"),cssClasses:["mx-fileinput-upload-button"]});this.domNode.appendChild($("#",this._labelNode=$("input",{"class":"form-control mx-wrapped-label",type:"text",readonly:"readonly",value:this._emptyLabel})," ",this._formNode=$("form",{"class":"mx-wrapped-form",enctype:"multipart/form-data",method:"POST"},this.input=$("input",{"class":"mx-wrapped-input",type:"file",name:"mxdocument",accept:this.accept,tabindex:-1}),_1081.domNode)));this.connect(this._uploadButton.domNode,"focus",function(){_1079.add(this._labelNode,"mx-focus");});this.connect(this._uploadButton.domNode,"blur",function(){_1079.remove(this._labelNode,"mx-focus");});this.connect(this._labelNode,"click",function(){_1078.focus(this._uploadButton.domNode);});this.connect(this._formNode,"keyup",function(e){if(e.keyCode==_107a.DELETE||e.keycode==_107a.BACKSPACE){this._reset();_107d.stop(e);}});}else{this.domNode.appendChild(this._formNode=$("form",{"class":"mx-normal-form",enctype:"multipart/form-data",method:"POST"},this.input=$("input",{type:"file",name:"mxdocument",accept:this.accept})));}this.connect(this._formNode,"submit",function(){return false;});this.connect(this.input,"click",function(){this._selectState="selecting";});this.connect(this.input,"change","_handleFileSelected");}if(this.downloadable){var _1082=this._downloadButton=new _1071({caption:window.mx.ui.translate("mxui.widget.MxFormView","download"),onClick:_107e.hitch(this,"_handleDownloadClick"),cssClasses:["mx-fileinput-download-button"],disabled:true});this.domNode.appendChild($("#"," ",_1082.domNode));}},postCreate:function(){this._allowedExts=this.restrictions.toLowerCase().split(";");this.listen("save",this._sendFile);},startup:function(){var node=this.domNode.parentNode;if(node.nodeName=="TD"){this._rowNode=node.parentNode;}},update:function(obj,_1083){this._mxObject=obj;this._reset();this.set("disabled",!obj);_1083&&_1083();},updateDisabled:function(){this.inherited(arguments);var value=this.checkDisabled();if(this.uploadable){if(this._uploadButton){this._uploadButton.set("disabled",value);}if(value){this.input.setAttribute("disabled","disabled");}else{this.input.removeAttribute("disabled");}}if(this._downloadButton){var obj=this._mxObject;this._downloadButton.set("disabled",!obj||!obj.get("HasContents"));}},addError:function(msg){this.removeError();if(msg){this._errNode=_1073.create("div",{"class":"alert alert-danger"},msg);this.domNode.parentNode.appendChild(this._errNode);this.mxform.resize();}if(this._rowNode){_1079.add(this._rowNode,"error");}if(this.validator){this.validator.addNotification();}},removeError:function(){var error=this._errNode;if(error){error.parentNode.removeChild(error);this._errNode=null;}if(this._rowNode){_1079.remove(this._rowNode,"error");}if(this.validator&&this._hasError){this.validator.removeNotification();this._hasError=false;}},checkDisabled:function(){return this.inherited(arguments)||!this._mxObject;},isValidFile:function(){return this.input.value&&this.isValidSize()&&this.isValidExtension();},isValidSize:function(){return !this.input.files||!this.maxFileSize||this.getFileSize()<=this.maxFileSize;},getFileSize:function(){return this.input.files[0].size/1048576;},isValidExtension:function(){if(this.restrictions===""){return true;}var _1084=this.input.value;var _1085=_1084.lastIndexOf(".");var _1086=_1084.substring(_1085+1).toLowerCase();return _1085>=0&&_107b.indexOf(this._allowedExts,_1086)>=0;},uninitialize:function(){this._uploadButton&&this._uploadButton.destroy();this._downloadButton&&this._downloadButton.destroy();},_handleDownloadClick:function(e){this._downloadFile();_107d.stop(e);},_handleFileSelected:function(e){this._selectState="selected";if(!this.input.value){this.removeError();if(this._labelNode){this._labelNode.value=this._emptyLabel;}}else{if(!this.isValidExtension()){this.addError(window.mx.ui.translate("mendix.widget.MxFileinput","incorrect_extension",this.restrictions.replace(/;/g,", ")));}else{if(!this.isValidSize()){this.addError(window.mx.ui.translate("mendix.widget.MxFileinput","file_too_large",[this.getFileSize().toFixed(2),this.maxFileSize.toString()]));}else{this.removeError();if(this._labelNode){this._labelNode.value=this.input.value.replace(/^.*\//,"");}}}}},_reset:function(){this.removeError();if(this._formNode){this._formNode.reset();}if(this._labelNode){this._labelNode.value=this._emptyLabel;}},_sendFile:function(_1087){var self=this,ready=function(){return self._selectState!=="selecting";};var pid=window.mx.ui.showProgress();_1074.waitUntilPredicateHolds(ready,function(){window.mx.ui.hideProgress(pid);self._sendFileReal(_1087);},[100,200,500,500,500,500]);},_sendFileReal:function(_1088){if(this._selectState==="none"||this.input.value===""||!this.isValidFile()){_1088();return;}var self=this,pid;var _1089=new _1076({form:this._formNode,width:this.thumbnailWidth,height:this.thumbnailHeight,objectGuid:this._mxObject.getGuid(),maxFileSize:this.maxFileSize,callback:function(){self._selectState="none";self._getObject(_1088,function(e){_1077.error(this.id+"._sendFileReal: "+e.message);window.mx.onError(e);});},error:function(e){self._selectState="selected";if(e){_1077.error(self.id+"._sendFileReal: "+e.message);window.mx.onError(e);}else{_1077.error(self.id+"._sendFileReal: upload error");window.mx.onError(new _1075("Connection error"));}},startUpload:function(){pid=window.mx.ui.showProgress();},showProgress:function(_108a){},finishUpload:function(){window.mx.ui.hideProgress(pid);}});_1089.upload();},_getObject:function(_108b,error){window.mx.data.get({guid:this._mxObject.getGuid(),noCache:true,callback:_108b,error:error});},_downloadFile:function(){if(this._mxObject){window.mx.ui.downloadFile({mxobject:this._mxObject,target:this.target});}}});return _107f;});},"mxui/widget/ImageUploader":function(){define(["mxui/widget/FileInput","dojo/_base/declare"],function(_108c,_108d){var _108e=_108d([_108c],{declaredClass:"mxui.widget.ImageUploader",thumbnailWidth:100,thumbnailHeight:75,uploadable:true,accept:"image/*"});return _108e;});},"mxui/widget/PrimitiveWidgetWrapper":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_ValidationHelper","mxui/dom","mendix/logger","dojo/dom-class","dojo/_base/declare"],function(_108f,_1090,dom,_1091,_1092,_1093){var $=dom.create;var _1094=_1093([_108f,_1090],{declaredClass:"mxui.widget.PrimitiveWidgetWrapper",widget:null,_mxobject:null,buildRendering:function(){var _1095=this.widget,_1096=_1095.domNode.parentNode;this.domNode=$("div",_1095.domNode);_1096.appendChild(this.domNode);this.connect(_1095,"onChange",this.onChange);},startup:function(){this.widget.startup();},update:function(obj,_1097){var self=this,_1098=this.widget,name=_1098.name;this._mxobject=obj;var _1099=function(){_1098.applyContext(self.mxcontext,_1097);};if(name){if(obj){window.mx.data.fetch(obj,name,{usexpath:true},function(value){_1098.set("value",value);_1099();},function(e){window.mx.onError(e);_1097&&_1097();});}else{_1098.set("value","");_1099();}}else{_1091.error(this.id+".update: wrapped widget does not have name property");_1099();}},enable:function(){var node=this.widget.domNode,_109a=node.nodeName;if(_109a=="SELECT"||(_109a=="INPUT"&&node.type=="checkbox")){node.disabled=false;}else{if(_109a=="INPUT"||_109a=="TEXTAREA"||_109a=="BUTTON"){node.removeAttribute("readonly");node.readOnly=false;}}_1092.remove(node,"MxClient_formDisabled");},disable:function(){var node=this.widget.domNode,_109b=node.nodeName;if(_109b=="SELECT"||(_109b=="INPUT"&&node.type=="checkbox")){node.disabled=true;}else{if(_109b=="INPUT"||_109b=="TEXTAREA"||_109b=="BUTTON"){node.setAttribute("readonly","true");node.readOnly=true;}}_1092.add(node,"MxClient_formDisabled");},onChange:function(){this._mxobject.set(this.widget.get("name"),this.widget.get("value"));},validate:function(){var value=this.get("value"),_109c=this.widget;if(value===null){return _109c.getInvalidCause?_109c.getInvalidCause():"Invalid input";}if(value===""&&_109c.obligatory){return _109c.obligatorycause||window.mx.ui.translate("mendix.lib.Validations","required_field");}},_setValueAttr:function(value){return this.widget.set("value",value);},_getValueAttr:function(){return this.widget.get("value");}});return _1094;});},"mxui/widget/SelectBox":function(){define(["mxui/widget/_Button","mxui/wm/focus","mxui/dom","dojo/dom-construct","dojo/dom-geometry","dojo/dom-class","dojo/dom-style","dojo/on","dojo/window","dojo/keys","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_109d,focus,dom,_109e,_109f,_10a0,_10a1,_10a2,_10a3,_10a4,_10a5,_10a6,_10a7){var $=dom.create;var _10a8=_10a7(_109d,{declaredClass:"mxui.widget.SelectBox",caption:"Select item",items:null,_dropDown:null,_isVisible:false,_docMouseDown:null,_focusBox:null,buildRendering:function(){this.inherited(arguments);_109e.place($("div",{"class":"mx-selectbox-caret-wrapper"},$("span",{"class":"caret"})),this.domNode,"first");this.domNode.setAttribute("class","form-control mx-selectbox");this.connect(this.domNode,"keydown","_buttonKeyDown");this.connect(this.domNode,"mouseup","_toggleDropDown");this.connect(this.mxform,"onBeforeHide","_hideDropDown");this._createDropDown();},_buttonKeyDown:function(e){if(e.keyCode===_10a4.DOWN_ARROW){this._showDropDown();e.preventDefault();}},_toggleDropDown:function(){if(this._isVisible){this._hideDropDown();}else{this._showDropDown();}},_showDropDown:function(){if(this._isVisible){return;}this._isVisible=true;var box=_109f.position(this.domNode),style={top:box.y+box.h+"px"};if(window.mx.ui.isRtl()){style.right=_10a3.getBox().w-box.x-box.w+"px";}else{style.left=box.x+"px";}_10a1.set(this._dropDown,style);document.body.appendChild(this._dropDown);this._docMouseDown=this.connect(document,"mousedown",function(e){if(e.target!=this.domNode){this._hideDropDown();}});focus.put(this._dropDown.firstChild);},_hideDropDown:function(){if(!this._isVisible){return;}this._isVisible=false;this._docMouseDown.remove();dom.orphan(this._dropDown);},_createDropDown:function(){var list=$("ul",{"class":"mx-dropdown dropdown-menu"}),self=this;this.own(_10a2(list,_10a2.selector("li","click"),function(e){self._selectItem(this);}));this.connect(list,"mousedown",function(e){e.stopPropagation();});this._dropDown=list;list.style.display="block";},_selectItem:function(node){var item=this.items[dom.data(node,"index")];item.checkbox.checked=item.selected=!item.selected;_10a0.toggle(node,"selected");focus.put(node);this.set("caption",this._getCaption());},_getCaption:function(){var _10a9=[];_10a5.forEach(this.items,function(item){if(item.checkbox.checked){_10a9.push(item.caption);}});if(_10a9.length===0){return "";}else{if(_10a9.length==1){return _10a9[0];}else{return this.translate("itemsSelected",[_10a9.length]);}}},_setItemsAttr:function(items){this.items=items;_109e.empty(this._dropDown);if(this._focusBox){this._focusBox.destroy();}this._focusBox=focus.addBox(this._dropDown);this._focusBox.pressed({DOWN_ARROW:this._focusBox.FOCUS_NEXT,UP_ARROW:this._focusBox.FOCUS_PREV,ESCAPE:_10a6.hitch(this,function(e){this._hideDropDown();focus.put(this.domNode);}),SPACE:_10a6.hitch(this,function(e){if(e.target.nodeName!="INPUT"){this._selectItem(e.target);}}),ENTER:_10a6.hitch(this,function(e){this._hideDropDown();focus.put(this.domNode);})});_10a5.forEach(this.items,function(item,index){var _10aa=item.checkbox=$("input",{type:"checkbox"}),_10ab=$("li",{tabIndex:-1},_10aa," ",$("label",item.caption));if(item.selected){_10aa.checked=true;_10a0.add(_10ab,"selected");}dom.data(_10ab,"index",index);this._focusBox.add(_10ab);this._dropDown.appendChild(_10ab);},this);this.set("caption",this._getCaption());},_getValueAttr:function(){var _10ac=[];_10a5.forEach(this.items,function(item){if(item.checkbox.checked){_10ac.push(item.value);}});return _10ac;},_setValueAttr:function(_10ad){if(typeof _10ad=="string"){_10ad=[_10ad];}_10a5.forEach(this.items,function(item){item.checkbox.checked=_10a5.indexOf(_10ad,item.value)>=0;});this.set("caption",this._getCaption());},uninitialize:function(){this._hideDropDown();_10a5.forEach(this._dropDown.children,function(child){dom.data(child,null);});if(this._focusBox){this._focusBox.destroy();}}});return _10a8;});},"mxui/widget/plugins/DataGrid/Calculations":function(){define(["mxui/dom","mendix/logger","dojo/_base/lang"],function(dom,_10ae,_10af){var $=dom.create;function _10b0(_10b1){var name="mxui.widget.plugins.DataGrid.Calculations";var _10b2=[];var _10b3=_10b1.parent;var _10b4=_10b1.config;if(!_10b3&&(_10b3.widgetType!="DataGrid")){throw new Error(name+".initialize : can only register to DataGrid!");}var _10b5={onDestroy:"plugineventOnDestroy",onRefresh:"plugineventOnRefresh"};var _10b6={};var _10b7=_10b3.getEntityProperties();var _10b8=function(){_10b3.showFootNode();var tr1=$("tr");var tr2=$("tr");_10b3.gridFootNode.appendChild(tr1);_10b3.gridFootNode.appendChild(tr2);var th,td=null;for(var i=0,_10b9;_10b9=_10b7[i];i++){var tag=_10b9.tag;th=$("th");td=$("td");_10b3.setColumnStyle(th,_10b9);_10b3.setColumnStyle(td,_10b9);if(_10b4[tag]){th.innerHTML=_10b4[tag].title||"";switch(_10b9.render.toLowerCase()){case "float":case "currency":_10b4[tag].resulttype="float";break;default:_10b4[tag].resulttype="integer";break;}}td.innerHTML="&nbsp;";_10b6[i]=td;tr1.appendChild(th);tr2.appendChild(td);}};var _10ba=function(){for(var i=0,_10bb;_10bb=_10b7[i];i++){_10b6[i].innerHTML="&nbsp;";}};var _10bc=function(){if(!_10b3.constraintsFilled()){_10ba();return;}window.mx.server.request({request:{action:"retrieve_aggregates",params:{id:_10b3.schema,xpath:_10b3.getCurrentXPath()}},options:{callback:function(code,json){_10bd(json.aggregates);},useCache:false,preventCache:true}});};var _10bd=function(data){if(!data){return;}var count=0,_10be=_10b3.getHiddenAggregates().reverse();for(var h=0;h<_10be.length;h++){data.splice(_10be[h],1);}for(var i=0,_10bf;_10bf=_10b7[i];i++){var tag=_10bf.tag;if(_10b4[tag]){var type=_10b4[tag].resulttype,_10c0=data[count++];if(_10c0==null){continue;}if(_10c0==""){_10c0=0;}var opts=_10b7[i].display;switch(type.toLowerCase()){case "currency":case "float":var val=parseFloat(_10c0).toFixed(parseInt(opts.precision));_10b6[i].innerHTML=window.mx.parser.formatNumber(val,opts.formatted,opts.precision);break;default:_10b6[i].innerHTML=window.mx.parser.formatNumber(_10c0,opts.formatted,0);break;}}}};this.plugineventOnDestroy=function(){this.destroy();};this.plugineventOnRefresh=function(){if(_10b3.constraintsFilled()){_10bd(_10b3.getAggregates());}else{_10ba();}};this.destroy=function(){while(_10b2.length!=0){window.mx.data.unsubscribe(_10b2.shift());}_10b3=null;};this.objectUpdate=function(){if(!_10b3.acceptingUpdates()&&!_10b3.isSuspended()){_10bc();}};_10b8();for(var i in _10b5){_10b3.registerToPluginEvent(i,_10af.hitch(this,_10b5[i]));}var zork={};zork[_10b3.entity]=true;metaEntity=window.mx.meta.getEntity(_10b3.entity);if(metaEntity.hasSuperEntities()){var _10c1=metaEntity.getSuperEntities();for(var i=0;i<_10c1.length;i++){zork[_10c1[i]]=true;}}if(metaEntity.hasSubEntities()){var _10c2=metaEntity.getSubEntities();for(var i=0;i<_10c2.length;i++){zork[_10c2[i]]=true;}}for(var i in zork){_10b2.push(window.mx.data.subscribe({entity:i,callback:_10af.hitch(this,"objectUpdate")}));}};return _10b0;});},"mxui/widget/plugins/DataGrid/GridEditor":function(){define(["mxui/widget/MxInlineEditor","mxui/wm/focus","mxui/dom","mendix/logger","dojo/Deferred","dojo/keys","dojo/number","dojo/on","dojo/_base/event","dojo/_base/lang"],function(_10c3,focus,dom,_10c4,_10c5,_10c6,_10c7,_10c8,_10c9,_10ca){function _10cb(_10cc){var name="plugins.GridEditor";this._connects=[];var _10cd=null;var _10ce=null;var _10cf=false;var _10d0,_10d1=null;var state={mxobject:null,node:null,row:-1,key:"",attr:"",attrclass:"",valid:true,invalidmsg:"",saving:false,objectSave:function(){if(!this.valid||!_10ce()){var def=new _10c5();def.errback(new Error(state.invalidmsg));return def;}else{if(state.saving){var def=this._def=new _10c5();return def;}else{if(_10d2.hasChanges()||_10d2.getEditorStatus()=="active"){if(_10d0()){var def=this._def=new _10c5();_10d1();return def;}if(!this.valid){this._def=null;return new Error("");}}else{return true;}}}},objectRollback:function(){var mxobj=_10d3();if(mxobj){var def=new _10c5();mxobj.rollback({error:function(){def.callback();},callback:function(){def.errback();}});return def;}return true;}};var grid=_10cc.parent;var _10d2=null;name=grid.id+"."+name;var _10d4=null;var _10d5={};var _10d6="";var _10d7="";var _10d8=false;if(grid&&(grid.declaredClass!="mxui.widget.DataGrid")){_10c4.error(name+".initialize : can only register to DataGrid!");}else{}var _10d9={},_10da=[];var _10db=function(){_10d2.stopEditing();_10d2.endEdit();if(state.saving){grid.acceptUpdates();}else{if(_10cf){grid.objectUpdate();}}_10cf=false;};var _10dc=function(mxobj){var guid=mxobj.getGuid();var _10dd=function(){if(_10d9[guid]){window.mx.data.unsubscribe(_10d9[guid].sub);window.mx.data.unsubscribe(_10d9[guid].val);delete _10d9[guid];}};var func=_10d9[guid];if(func){clearTimeout(func.timer);}else{func=_10d9[guid]=new function(){this.objectUpdate=function(guid){if(typeof guid=="object"){return;}var _10de=mxobj&&mxobj.getGuid();if(guid!=_10de){clearTimeout(this.timer);_10dd();window.mx.data.get({xpath:"//"+mxobj.getEntity()+"[id="+guid+"]",filter:{id:grid.getSchemaId()},noCache:true,callback:function(objs){grid.updateMxObject(objs[0]);},error:function(e){window.mx.onError(e);}});}};this.validationUpdate=function(vals){state.invalidmsg=vals[0].getErrorReason(state.key);};};}func.timer=setTimeout(_10dd,5000);func.sub=window.mx.data.subscribe({guid:guid,callback:_10ca.hitch(func,"objectUpdate")});func.val=window.mx.data.subscribe({guid:guid,val:true,callback:_10ca.hitch(func,"validationUpdate")});};var _10df={onLoad:"plugineventOnLoad",preRefresh:"plugineventPreRefresh",onRefresh:"plugineventOnRefresh",onSync:"plugineventOnSync",onCellClicked:"plugineventCellClicked",onSelectRow:"plugineventSelectRow"};var _10e0=function(mxobj){var _10e1=null;if(state.mxobject){_10e1=state.mxobject.getGuid();state.mxobject=null;}if(mxobj){state.mxobject=mxobj;var guid=state.mxobject.getGuid();if(_10e1!=guid){state.valid=true;state.invalidmsg="";}}};var _10d3=function(){return state.mxobject;};var _10e2=function(node){state.node=node;state.row=grid.domData(node,"row");state.key=grid.domData(node,"key");state.col=grid.domData(node,"column");state.datakey=state.key;state.gridsize=grid.getCurrentGridSize();var attr=state.key;if(attr.match("/")!=null){attr=attr.split("/")[0];}state.attrclass=_10cd.getAttributeType(attr);state.attr=attr;state.row=parseInt(state.row,10);if(state.key.match(/\//)){state.key=state.key.replace(/^.*\//,"");}_10e0(grid.getMxObjectAtRow(state.row));};var _10e3=function(_10e4){var mxobj=_10e4.mxObject;var attr=_10e4.attribute;var value=_10e4.value;if(typeof (value)!="string"){value=value.toString();}if(value==""){return true;}switch(mxobj.getAttributeType(attr)){case "Enum":var map=mxobj.getEnumMap(attr);for(var i=0;i<map.length;i++){if(map[i].key==value){return true;}}return false;break;case "Integer":case "Long":case "Float":case "Currency":var _10e5=value.replace(/^-/,"").replace(/(\,|\.)/g,"").replace(/\d/g,"");return (_10e5=="");break;case "Date":case "DateTime":if(value.match(/^\d+[\/-]\d+[\/-]\d+$/)!=null){var epoch=window.mx.parser.parseDate(value);return isNaN(epoch)?false:true;}else{return false;}break;default:return true;break;}};_10ce=function(){var obj=_10d3();if(!obj){return true;}if(_10d2.getEditorStatus()!="active"){return true;}if(_10d2.hasChanges()){var value=_10d2.getValue();var _10e6=value;var ref=state.attr;if(_10cd.isReference(ref)){return true;}else{if(_10e3({mxObject:obj,attribute:ref,value:_10e6})){return true;}else{return false;}}}return true;};_10d0=function(){var mxobj=_10d3();if(!mxobj){return false;}if(_10d2.hasChanges()){var value=_10d2.getValue();var _10e7=value;var ref=state.attr;if(_10cd.isReference(ref)){mxobj.set(ref,_10e7);}else{if(_10e3({mxObject:mxobj,attribute:ref,value:_10e7})){state.valid=true;state.invalidmsg="";switch(state.attrclass){case "Date":case "DateTime":_10e7=(value=="")?"":window.mx.parser.parseDate(value);break;case "Enum":_10e7=value;break;case "Long":case "Integer":_10e7=window.mx.parser.parseNumber(value,false,0);_10e7=isNaN(_10e7)?"":_10e7;break;case "Currency":case "Float":_10e7=window.mx.parser.parseNumber(value);_10e7=isNaN(_10e7)?"":_10c7.round(_10e7,_10d4[state.col].display.precision);break;case "String":case "Text":_10e7=dom.unescapeString(value);break;case "Boolean":_10e7=(value==="true");break;default:break;}mxobj.set(ref,_10e7);}else{state.valid=false;_10d2.undoChanges();var msg=state.invalidmsg=window.mx.ui.translate("mendix.lib.Validations","invalid_attribute",[value,mxobj.getEntity()+"/"+state.key]);window.mx.ui.error(msg);}}}return mxobj.hasChanges();};var _10e8=function(){if(!_10d8){grid.addToSyncDeferQueue();_10d8=true;}else{}};var _10e9=function(){if(_10d8){grid.removeFromSyncDeferQueue();_10d8=false;}else{}};var _10ea=function(e){if(state._def){state._def.errback(new Error(""));state._def=null;}_10da=[];state.valid=false;state.saving=false;grid.acceptUpdates();_10e9();};_10d1=function(_10eb){if(_10eb){_10da.push(_10eb);}if(!state.saving){var mxobj=_10d3();if(mxobj&&mxobj.hasChanges()){grid.preventUpdates();state.saving=true;_10cf=true;_10dc(mxobj);window.mx.data.save({mxobj:mxobj,callback:function(){mxobj.commit({callback:function(){state.valid=true;state.invalidmsg="";state.saving=false;if(state._def){state._def.callback();state._def=null;}grid.acceptUpdates();_10e9();mendix.lang.collect(_10da);},error:_10ea});},error:_10ea});}else{mendix.lang.collect(_10da);}}else{}};var _10ec=false;var _10ed=[];var _10ee=function(node,_10ef){var div=dom.getFirstChild(node,"DIV"),td=dom.getAncestorNode(node,"TD");if(_10d2.getEditorStatus()=="active"){if(_10d0()){_10d1();}}if(div&&td){_10e2(td);if(state.row>=state.gridsize){return;}var attr=state.datakey,split=attr.split("/"),ref;if(split.length>1){attr=split[0];ref=split[2];}var mxobj=_10d3();if(!_10d4[state.col].editable){_10db();_10e0(null);}else{if(_10cd.isReference(attr)){var _10f0=function(_10f1){var _10f2={selected:mxobj.getReference(attr),items:{}};_10d5[state.datakey].source.each(function(o){var value;switch(o.getAttributeType(ref)){case "Boolean":_10f2.items[o.getGuid()]=window.mx.ui.translate("mxui.widget.DataGrid",o.get(ref)+"");break;case "DateTime":_10f2.items[o.getGuid()]=window.mx.parser.formatDate(o.get(ref));break;case "Enum":_10f2.items[o.getGuid()]=o.getEnumCaption(ref);break;default:_10f2.items[o.getGuid()]=o.get(ref);}});_10d2.editNode(div,"reference",_10f2);_10ef&&_10d2.startEditing();_10f1&&_10f1();};if(!_10ec){_10ed.push(_10f0);}else{_10f0();}}else{switch(_10cd.getAttributeType(attr)){case "Boolean":_10d2.editNode(div,"boolean",{selected:mxobj.get(attr)+"",items:{"false":window.mx.ui.translate("mxui.widget.DataGrid","false"),"true":window.mx.ui.translate("mxui.widget.DataGrid","true")}});_10ef&&_10d2.startEditing();break;case "Date":case "DateTime":_10d2.editNode(div,"date");break;case "Enum":_10d2.editNode(div,"enum",{selected:mxobj.get(attr),items:_10cd.getEnumKVPairs(attr)});_10ef&&_10d2.startEditing();break;default:_10d2.editNode(div,"text");break;}}}}else{}};var _10f3=function(){var found=false;for(var i=0,_10f4;_10f4=_10d4[i];i++){if(found){if(_10f4.editable){return _10f4.tag;}}if(i==state.col){found=true;}}};var _10f5=function(){var key="";for(var i=0,_10f6;_10f6=_10d4[i];i++){if(i==state.col){return key;}if(_10f6.editable){key=_10f6.tag;}}};var _10f7=function(){if(grid.getCurrentGridSize()==0){return;}var row=0;var mxobj=_10d3();if(mxobj!=null){var row=grid.getRowForMxObject(mxobj);if(row==null){row=0;}}var node=grid.getCellNode(row,state.datakey||_10d6);if(node){_10ee(node);}};var _10f8=function(){if(grid.getCurrentGridSize()==0){return;}var node=grid.getCellNode(0,state.datakey||_10d6);if(node){_10ee(node);}};var _10f9=function(){_10d0()&&_10d1();if(state.row!=0){var node=grid.getCellNode((state.row-1),state.datakey);_10ee(node);}};var _10fa=function(){_10d0()&&_10d1();if(state.row!=(state.gridsize-1)){var node=grid.getCellNode((state.row+1),state.datakey);if(node&&(node!=state.node)){_10ee(node);}}};var _10fb=function(){if((state.datakey==_10d6)&&(state.row!=0)){state.datakey=_10d7;_10f9();}else{if(state.datakey!=_10d6){_10d0();var node=grid.getCellNode(state.row,_10f5());if(node){_10ee(node);}}}};var _10fc=function(){if(state.datakey==_10d7){if(state.row!=(state.gridsize-1)){state.datakey=_10d6;_10fa();}else{_10d0()&&_10d1();focus.next();_10db();_10e0(null);}}else{if(state.datakey!=_10d7){_10d0();var node=grid.getCellNode(state.row,_10f3());if(node){_10ee(node);}}}};var _10fd=function(){grid.domNode.className+=" inlineGrid";};this.plugineventOnLoad=function(e){_10fd();};this.plugineventOnSync=function(e){if(_10d2.hasChanges()){_10e8();_10d2.stopEditing();if(_10d0()){_10d1();}else{_10e9();}}};this.plugineventOnDestroy=function(e){_10db();if(_10d2.hasChanges()){_10d0();}var mxobj=_10d3();if(mxobj&&mxobj.hasChanges()){_10d1();}};this.plugineventSelectRow=function(e){var row=e.row;var node=grid.getCellNode(row,state.datakey||_10d6);if(node){_10ee(node);}};this.plugineventOnRefresh=function(e){if(grid.getCurrentGridSize()==0){return;}switch(_10d2.getEditorStatus()){case "inactive":break;case "active":case "ready":_10f7();break;}};this.plugineventPreRefresh=function(e){if(_10d2.hasChanges()){_10d0();}var mxobj=_10d3();if(mxobj&&mxobj.hasChanges()){_10d1();}_10db();};this.plugineventCellClicked=function(e){if(_10d2.hasChanges()){_10d0();}_10ee(e.target,true);if(e.target.nodeName.toLowerCase()=="select"){_10c9.stop(e);}else{this._editorClicked=true;}};this.editorClickHandler=function(e){if(!this._editorClicked){try{if(state.valid&&_10d0()){_10d1();}}catch(e){_10c4.error(name+".editorClickHandler:"+e.message);}_10db();_10e0(null);}this._editorClicked=false;};this.editorKeyHandler=function(event){var _10fe=event.keyCode;switch(_10d2.getEditorStatus()){case "inactive":break;case "ready":switch(_10fe){case 37:_10fb();break;case 38:_10f9();break;case 9:event.stopPropagation();event.preventDefault();if(event.shiftKey===true){_10fb();break;}case 39:_10fc();break;case 40:_10fa();break;case 13:case 18:case 32:case 27:case 113:_10d2.startEditing();break;case _10c6.BACKSPACE:_10d2.startEditing("");break;default:if((_10fe>=48)&&(_10fe<=110)){_10d2.startEditing();}break;}break;case "active":switch(_10fe){case 9:event.stopPropagation();event.preventDefault();case 13:_10d2.stopEditing();_10fc();break;case 27:_10d2.undoChanges();_10fc();break;default:break;}break;}return false;};var _10ff=null;this.destroy=function(){try{while(this._connects.length!=0){this._connects.pop().remove();}this.plugineventOnDestroy();_10d2.destroy();for(var i in _10d5){_10d5[i].source.destroy();}_10d5=null;while(_10ff.length){window.mx.screen.unsubscribe(_10ff.pop());}_10ff=null;}catch(e){}grid=null;};try{_10d2=new _10c3();}catch(e){}_10d2.eventKeyHandler=this.editorKeyHandler;_10cd=window.mx.meta.getEntity(grid.entity);_10d4=grid.getEntityProperties();var split=[];for(var i=0,_1100;_1100=_10d4[i];i++){var tag=_1100.tag;split=tag.split(/\//);if(_1100.editable){if(_10d6==""){_10d6=tag;}_10d7=tag;}if(_1100.editable){try{if(_10cd.isReference(split[0])){_10d5[tag]={key:split[split.length],source:new mendix.lib.XPathSource({entity:split[split.length-2],page:100})};var ds=_10d5[tag].source;ds.reload(function(){_10ec=true;mendix.lang.sequence(_10ed);});}}catch(e){}}}for(var i in _10df){grid.registerToPluginEvent(i,_10ca.hitch(this,_10df[i]));}this._connects.push(_10c8(document.body,"click",_10ca.hitch(this,"editorClickHandler")));_10ff=[window.mx.screen.subscribe(grid.getContent(),"saveObject",_10ca.hitch(state,"objectSave")),window.mx.screen.subscribe(grid.getContent(),"rollbackObject",_10ca.hitch(state,"objectRollback"))];grid.registerToPluginEvent("invokeMicroflow",function(args,_1101){_10d1(_1101);},true);};return _10cb;});},"mxui/widget/MxInlineEditor":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/sniff","dojo/_base/event","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/_base/lang","dojo/_base/declare","dijit/_TemplatedMixin","dojo/text!mxui/widget/templates/MxInlineEditor.html"],function(_1102,dom,_1103,_1104,_1105,_1106,_1107,_1108,_1109,_110a,_110b,_110c){var _110d=function(node,prop){return (parseInt(node.getAttribute(prop)));};var _110e=function(node,prop){return node.getAttribute(prop);};var _110f=_110a([_1102,_110b],{declaredClass:"mxui.widget.MxInlineEditor",domNode:null,form:null,text:null,textarea:null,enumtext:null,select:null,minWidth:40,minHeight:200,templateString:_110c,textValue:"",targetNode:null,_options:null,_nodeList:[],_status:"inactive",_previousValue:"",_editingmode:"text",constructor:function(){this.boolOptions={};this.boolOptions[window.mx.ui.translate("mxui.widget.DataGrid","true")]="true";this.boolOptions[window.mx.ui.translate("mxui.widget.DataGrid","false")]="false";},postCreate:function(){this._nodeList=[this.text,this.textarea,this.select,this.readonly,this.enumtext];this.connect(document.body,"onkeydown","eventOnKeyDown");this.connect(this.form,"onsubmit","eventOnSubmit");this.connect(this.form,"onclick","eventOnClick");this.connect(this.select,"onclick","selectClicked");},selectClicked:function(e){_1105.stop(e);return false;},_hideNodes:function(){for(var i=0;i<this._nodeList.length;i++){this._nodeList[i].style.display="none";}},editNode:function(node,_1110,opts){this._options=opts;this._editingmode=_1110.toLowerCase();var _1111=this.targetNode&&this.targetNode.parentNode;if(_1111){this.targetNode.style.display="";_1106.setSelectable(_1111,false);}this.targetNode=node;this._hideNodes();var td=this.targetNode.parentNode;td.appendChild(this.form);_1106.setSelectable(td,true);this.textValue=dom.unescapeString(this.targetNode.innerHTML);if(this.textValue=="&nbsp;"){this.textValue="";}if(this.textValue.length==0){this.targetNode.innerHTML="&nbsp;";}this._previousValue=this.textValue;this.setupEditNode();},setStyleFromTarget:function(node){node.value=_1109.trim(this.textValue);if(!_1104("ie")){node.style.fontSize=_110d(this.targetNode,"font-size");node.style.fontWeight=_110e(this.targetNode,"font-weight");node.style.fontStyle=_110e(this.targetNode,"font-style");}var bb=_1108.getMarginBox(this.targetNode);node.style.width="100%";return bb;},setupTextNode:function(){this.text.style.textAlign=this.targetNode.parentNode.style.textAlign;var ee=this.text;ee.value=_1109.trim(this.textValue);var _1112=this.setStyleFromTarget(ee);if(this._editingmode=="textarea"){ee.style.display="block";ee.style.height=Math.max(_1112.height,this.minHeight)+"px";}else{ee.style.display="";}this.form.style.display="";this.targetNode.style.display="none";try{ee.select();ee.focus();ee.setAttribute("readonly","readonly");}catch(e){}},setupEditNode:function(){switch(this._editingmode){case "text":case "textarea":case "date":this.setupTextNode();break;case "reference":case "boolean":case "enum":this.setupEnumNode();break;case "readonly":this.setupReadOnlyNode();break;default:break;}this._status="ready";},setupEnumNode:function(){this.setStyleFromTarget(this.enumtext);this.setStyleFromTarget(this.select);this.enumtext.style.display="";this.enumtext.value=this._options.items[this._options.selected];this.enumtext.setAttribute("readonly","readonly");dom.setSelectOptions(this.select,this._options.items,this._options.selected);this.form.style.display="";this.targetNode.style.display="none";try{this.enumtext.select();this.enumtext.focus();}catch(e){}},setupReadOnlyNode:function(){this.setStyleFromTarget(this.readonly);this.targetNode.style.display="none";this.readonly.style.display="";this.readonly.value=this.textValue;this.form.style.display="";this.readonly.focus();this.readonly.setAttribute("readonly","readonly");},undoChanges:function(){if(this._status=="active"||this._status=="ready"){this.targetNode&&(this.targetNode.innerHTML=this._previousValue);if((this._editingmode=="enum")||(this._editingmode=="reference")||this._editingmode=="boolean"){dom.selectOptionByText(this.select,this._previousValue);}else{if(this._editingmode=="readonly"){}else{this.text.value=dom.unescapeString(this._previousValue);}}}},startEditing:function(str){switch(this._editingmode){case "date":case "text":case "textarea":_1107.replace(this.text,"inlineeditbox_editable");this.text.removeAttribute("readonly");if(str){this.text.value=dom.unescapeString(str);}try{this.text.select();this.text.focus();this._status="active";}catch(e){this.endEdit();}break;case "boolean":case "reference":case "enum":this.enumtext.style.display="none";this.select.style.display="";this.select.removeAttribute("readonly");this.select.focus();this._status="active";break;case "readonly":this._status="ready";break;default:break;}},focusOnNode:function(){switch(this._editingmode){case "date":case "text":case "textarea":this.text.focus();break;case "boolean":case "reference":case "enum":this.select.focus();break;}},stopEditing:function(){switch(this._editingmode){case "text":case "textarea":case "date":this.text.setAttribute("readonly","readonly");break;case "boolean":case "reference":case "enum":this.select.setAttribute("readonly","readonly");break;case "readonly":break;default:break;}this._status="ready";},endEdit:function(){if(this._status=="ready"||this._status=="active"){this.domNode.appendChild(this.form);this.targetNode&&(this.targetNode.style.display="");this._status="inactive";}},eventOnClick:function(){if(this._status=="ready"){this.startEditing();}},eventOnKeyDown:function(e){this.eventKeyHandler(e);},hasChanges:function(){if(this._editingmode=="readonly"||this._status=="inactive"){return false;}var value="";switch(this._editingmode){case "boolean":case "reference":case "enum":value=dom.getSelectedText(this.select);break;default:value=this.text.value;break;}return (this._previousValue!=value);},getValue:function(){if((this._editingmode=="enum")||(this._editingmode=="reference")||this._editingmode=="boolean"){this.targetNode.innerHTML=dom.getSelectedText(this.select);return (this.textValue=dom.getSelectedValue(this.select));}else{if(this._editingmode=="readonly"){return false;}else{this.textValue=this.text.value;dom.text(this.targetNode,this.textValue);return this.textValue;}}},getEditorStatus:function(){return this._status;},isActive:function(){return (this._status=="active");},isInActive:function(){return (this._status=="inactive");},isReady:function(){return (this._status=="ready");},eventKeyHandler:function(){},eventOnSubmit:function(){return false;}});return _110f;});},"mxui/widget/plugins/DataGrid/HoverPreview":function(){define(["mxui/widget","mxui/dom","mendix/logger","dojo/on","dojo/_base/lang","dijit"],function(_1113,dom,_1114,_1115,_1116,dijit){function _1117(_1118){var name="mxui.widget.plugins.DataGrid.HoverPreview";var _1119=_1118.parent;var _111a=_1118.config;var _111b=null;var _111c=0;var _111d={onLoad:"plugineventOnLoad",onRefresh:"plugineventOnRefresh",onDestroy:"plugineventOnDestroy",onRowMouseOver:"plugineventOnRowMouseOver",onRowMouseOut:"plugineventOnRowMouseOut"};var _111e=null;var timer=null;var state={active:false,node:null,mxobject:null,oldNode:null,firstTime:true,closable:true,closeTimer:null,openTimer:null};var _111f=null;var _1120;var _1121=function(){var b=state.mxobject;var _1122=new mendix.lib.MxContext();_1122.setTrackId(b.getGuid());_1122.setTrackEntity(_1119.entity);_1122.setContext(_1119.entity,b.getGuid());_111c=+new Date();_111b.applyContext(_1122,(function(mxobj,stamp){return function(){if(stamp==_111c&&mxobj==state.mxobject){var dv=dijit.findWidgets(_111e)[0];_1113.showTooltip(_111e,state.node,null,dv);}};})(b,_111c));window.mx.ui.destroyContext(_1122);};var _1123=function(){var _1124=new mendix.lib.MxContext();_111b.applyContext(_1124);window.mx.ui.destroyContext(_1124);};var _1125=function(e){e.stopPropagation();_1126();};var _1127=function(e){e.stopPropagation();_1128();};var _1129=function(){_111f=_1115(_111e,"mouseover",_1125);_1120=_1115(_111e,"mouseleave",_1127);};var _112a=function(){_111f.remove();_1120.remove();_111f=_1120=null;};var _112b=function(){state.active=false;state.firstTime=true;if(state.oldNode!=null){_112a();_1113.hideTooltip(state.oldNode);state.oldNode=null;state.mxobject=null;_111b.suspend();_1123();}};var _112c=function(){var _112d=dom.coords(state.node);if(!_112d.x&&!_112d.y){return;}if(state.oldNode!=state.node){_1129();state.active=true;state.oldNode=state.node;_1113.showTooltip(null,state.node);_111b.resume();_1121();}};this.plugineventOnLoad=function(e){};this.plugineventOnDestroy=function(e){this.destroy();if(state.active){_112b();}};this.plugineventOnRefresh=function(e){if(state.active){_112b();}};var _1128=function(){state.closable=true;if(!state.closeTimer){state.closeTimer=setTimeout(_112e,200);}};var _1126=function(){state.closable=false;if(state.closeTimer){clearTimeout(state.closeTimer);state.closeTimer=null;}};this.plugineventOnRowMouseOver=function(e){var node=e.currentTarget;var _112f=e.target;if(!_1119.domData(_112f,"key")){_112f=dom.getAncestorNode(_112f,"TD",3);}var attr=_1119.domData(_112f,"key");var _1130=_111a.hoveron||"";if(_1130.match(attr)==null){return true;}_112f.setAttribute("title","");_1126();var _1131=_1119.getMxObjectAtRow(parseInt(_1119.domData(node,"gridrow")));var guid=_1131.getGuid();if(state.mxobject==null||guid!=state.mxobject.getGuid()){node=_112f;state.mxobject=_1131;state.node=node;}state.openTimer=setTimeout(_112c,200);};var _112e=_1116.hitch(this,function(){state.closeTimer=null;if(state.closable){timer&&clearTimeout(timer);_112b();}});this.plugineventOnRowMouseOut=function(e){_1128();var _1132=parseInt(e.currentTarget.getAttribute("gridrow"));var _1133=_1119.getMxObjectAtRow(_1132);if(state.mxobject==_1133){clearTimeout(state.openTimer);}};this.destroy=function(){_112e();_1119=_111a=_111e=null;_111b&&_111b.destroy();};this.actFetchForm=function(_1134){var path=_111a.form.replace(/\.mxf/,"$Popup.mxf");window.mx.ui.getForm(path,{params:{readOnly:true,hideControls:true},callback:function(form){_111b=form;_111e=form.domNode;_111b.startup(_1134);}});};this.actSetupRegistrations=function(_1135){for(var i in _111d){_1119.registerToPluginEvent(i,_1116.hitch(this,_111d[i]));}_1135();};if(!_1119&&(_1119.widgetType!="DataGrid")){throw new Error(name+".initialize : can only register to DataGrid!");}if(!_111a.form){throw new Error(name+".initialize : Requires a path parameter!");}mendix.lang.sequence(["actFetchForm","actSetupRegistrations"],this);};return _1117;});},"mxui/sys/UI":function(){define(["dojo","dijit","dojox","dojo/i18n!dojo/cldr/nls/number","dojo/i18n!dojo/cldr/nls/gregorian","dojo/require!mxui/io/iframe,mxui/cldr/supplemental"],function(dojo,dijit,dojox){dojo.provide("mxui.sys.UI");dojo.require("mxui.io.iframe");dojo.require("mxui.cldr.supplemental");mxui.sys.UI=function(_1136){_1136=_1136||{};var self=this,name="mxui.sys.UI",_1137=false,_1138=false,_1139=null,login=null,_113a=null,_113b=null,_113c=null,_113d=null,_113e=null,_113f={},_1140={},_1141={},isRtl=false,_1142="en_US",_1143=null,menus=null,_1144="",_1145="desktop",_1146="Mendix 5",_1147=[],_1148=false,_1149=new mxui.lib.WindowManager();var _114a={buddhist:/th$/,hebrew:null,islamic:null};var _114b=function(_114c){dojo.addOnLoad(function(){isRtl=document.body.dir.toLowerCase()=="rtl";_1139=document.getElementById("content");if(!_1139){mx.ui.exception("You are using an outdated index template. Please update your index template.");return;}dojo.connect(window,"resize",dojo.hitch(self,"resize"));_114c();});};var _114d=function(_114e){var bust=mx.server.getCacheBust(),url="widgets/widgets.js";mxui.dom.addCss("widgets/widgets.css?"+bust);dojo.registerModulePath("widgets","../../widgets");mx.server.get({url:url,handleAs:"text",failOk:true,load:function(_114f){dojo["eval"](_114f+"\r\n//@ sourceURL="+url);_114e();},error:function(err){mx.onError(new mendix.lib.Error("Could not retrieve "+url+". Probably a custom widget has a problem. ("+err+")"));var _1150=mx.session.getConfig("uiconfig.widgets");for(var i=0,_1151;_1151=_1150[i];i++){var split=_1151.split(".");dojo.registerModulePath(split[0],mx.modulePath+split[0]);try{dojo["require"](_1151);}catch(e){logger.error(name+".getWidgets: failed loading widget "+_1151+": "+e);}}_114e();}});};var _1152=function(_1153){var _1154=mx.session.getConfig("uiconfig.modules");for(var i=0,_1155;_1155=_1154[i];i++){try{dojo["require"](_1155+"."+_1155);}catch(e){logger.error(name+".getModules: failed loading module "+_1155);}}_1153();};var _1156=function(){_1147=dojo.map(mx.session.getUserRoles("Name"),function(role){return "role-"+role.toLowerCase();});dojo.addClass(document.body,_1147);dojo.addClass(document.body,"profile-"+_1145);document.title=_1146;};var _1157=function(){dojo.removeClass(document.body,_1147);dojo.removeClass(document.body,"profile-"+_1145);_1147=[];document.title="";};var _1158=function(_1159){if(_1138){_1159();}else{dojo.connect(mx,"onError",function(e){var msg;if(e instanceof mendix.lib.DescribedServerError){msg=e.message;}else{if(e instanceof mendix.lib.ConnectionError){msg=self.translate("mxui.sys.UI","connection_error");}else{if(e instanceof mendix.lib.ServerError){msg=self.translate("mxui.sys.UI","internal_error");}else{msg=self.translate("mxui.sys.UI","internal_error");}}}_113a&&_113a.hide();_113a=self.exception(msg);logger.error(e);});_115a();mendix.lang.collect([_114d,_1152,_114b],_1159);}};var _115b=function(){for(var m in _114a){var re=_114a[m];if(re&&re.test(dojo.locale.toLowerCase())){return m;}}return "";};var _115c=function(){var _115d=_115b();if(_115d){_1144="dojox.date."+_115d;dojo["require"](_1144);dojo["require"](_1144+".locale");dojo["requireLocalization"]("dojo.cldr",_115d);}};var _115e=function(){dojo.requireLocalization("dojo.cldr","number");dojo.requireLocalization("dojo.cldr","gregorian");_115c();};var _115a=function(){if(dojo.isIE){if(JSON.stringify(document.createElement("input").value)==="\"null\""){var _115f=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value").get;Object.defineProperty(HTMLInputElement.prototype,"value",{get:function(){var value=_115f.call(this);return value===""?"":value;}});}dojo.connect(document,"onclick",function(e){var node=e.target;if(node.nodeName=="TEXTAREA"||node.nodeName=="INPUT"&&(node.type=="text"||node.type=="password")){if(document.activeElement!=node){var sel=mxui.dom.getSelection(node);try{node.focus();}catch(e){}mxui.dom.selectTextRange(node,sel.start,sel.end);}}if(dojo.isIE<=8){if(node.nodeName=="INPUT"&&node.type=="checkbox"){mxui.html.dispatchEvent(node,"onchange");}}});}};var _1160=function(){var map={"mendix":"mxui","mendix.core.MxServer":"mendix.core.Server","mendix.widget.MxDataView":"mendix.widget.MxFormView","mendix.widget.MxNavigator":"mendix.widget.Navigator","mendix.widget.MxDataGrid":"mendix.widget.DataGrid","mendix.widget.DataGrid.true":"mxui.common.true","mendix.widget.DataGrid.false":"mxui.common.false","mendix.core.MxServer.invalid_session":"mendix.session.session_expired","mobile.widget.Dialog.ok":"mxui.widget.DialogMessage.ok","mxui.widget.Dialog.error":"mxui.widget.DialogMessage.error","mxui.widget.Dialog.information":"mxui.widget.DialogMessage.info","mxui.widget.Dialog.warning":"mxui.widget.DialogMessage.warning","mxui.widget.Dialog.confirmation":"mxui.widget.Confirmation.caption","mobile.widget":"mxui.widget","mobile.sys":"mxui.sys"};for(var _1161 in map){var spath=_1161.split("."),dpath=map[_1161].split("."),skey=spath.pop(),dkey=dpath.pop(),stree=_1143,dtree=stree,step;while(stree&&(step=spath.shift())){stree=stree[step];}if(stree){while(step=dpath.shift()){dtree=dtree[step]=dtree[step]||{};}if(dtree[dkey]){dojo.mixin(dtree[dkey],stree[skey]);}else{dtree[dkey]=stree[skey];}}}};var _1162=function(){var perma=self.decodeUrlHash(dojo.hash());perma?perma():mx.remote.execute(mx.session.getConfig());};var _1163=function(node){if(node.xml){var temp=mxui.dom.create("div"),_1164=node.childNodes;for(var i=0,cnode;cnode=_1164[i];i++){temp.innerHTML+=cnode.xml;}node=temp;}else{node=document.importNode(node,true);}var _1165=node.getElementsByTagName("*");for(var l=_1165.length-1,child;child=_1165[l];l--){var roles=child.getAttribute("data-mendix-roles");if(!mx.session.hasSomeRole(roles)){child.parentNode.removeChild(child);}else{child.removeAttribute("data-mendix-roles");}}var _1166=document.createDocumentFragment();while(node.firstChild){_1166.appendChild(node.firstChild);}return _1166;};var _1167=function(path,xml){var root=xml.documentElement,fid=root.getAttribute("id"),_1168=root.getAttribute("title"),_1169=root.getAttribute("class"),_116a=root.getAttribute("style"),_116b=root.childNodes;for(var i=0,fnode;fnode=_116b[i];i++){if(fnode.nodeType!=1){continue;}switch(fnode.localName||fnode.baseName){case "content":_113f[path]={id:fid,path:path,title:_1168,"class":_1169||"",style:_116a||"",content:_1163(fnode)};break;case "templates":var _116c=fnode.childNodes;for(var j=0,tnode;tnode=_116c[j];j++){if(tnode.nodeType!=1){continue;}var wid=tnode.getAttribute("widget-id"),tname=tnode.getAttribute("name"),_116d=_1163(tnode);if(!_1140[wid]){_1140[wid]={};}_1140[wid][tname]=_116d;}}}return _113f[path];};var _116e=function(msg,type,modal){return new mxui.widget.DialogMessage({type:type,content:""+self.extractMessage(msg),modal:modal});};var _116f=function(_1170){_1141[_1170.id]=_1170;var _1171=dojo.connect(_1170,"onAfterHide",function(){dojo.disconnect(_1171);delete _1141[_1170.id];_1170.destroy();});_1170.show();return _1170;};var _1172=function(){var id;for(id in _1141){_1141[id].hide();}};var _1173=function(form,dir,_1174){var _1175=mxui.currentForm,_1176=_1175&&_1175.domNode,_1177=form.domNode,_1178=function(){form.onAfterShow();_1175&&_1175.onAfterHide();window.scrollTo(0,form._scrollPos||1);_1148=false;_1174&&_1174();};mxui.currentForm=form;if(_1176!=_1177){form.onBeforeShow();if(_1176){var _1179=window.pageYOffset;_1175._scrollPos=_1179;window.scrollTo(0,1);setTimeout(function(){_1175.onBeforeHide();dojo.removeClass(_1177,"mx-page-hidden");setTimeout(function(){mxui.dom.orphan(_1176);dojo.addClass(_1176,"mx-page-hidden");},0);_1178();},0);}else{dojo.removeClass(_1177,"mx-page-hidden");_1178();}}};var _117a=function(path,args,scope){var dir=args.dir,_117b=args.params,error=args.error,_117c=args.instance,_117d=args.callback;if(_1148){_117d&&_117d();return;}else{_1148=true;}mxui.currentForm&&mxui.currentForm.suspend();var _117e=function(form){form.applyContext(args.context||new mendix.lib.MxContext(),function(){document.title=_1146+" - "+form.getTitle();_1173(form,dir,function(){if(!_117c){_113b.register(form);}_117d&&_117d.call(scope,form);});});};if(_117c){_1139.appendChild(_117c.domNode);_117c.resume();_117e(_117c);}else{self.getForm(path,{params:dojo.mixin(_117b,{place:"content",title:args.title}),error:function(e){_1148=false;error&&error.call(scope,e);},callback:function(form){dojo.addClass(form.domNode,"mx-page-hidden");dojo.connect(form,"dispose",function(){mx.ui.back();});_1139.appendChild(form.domNode);form.startup(function(){_117e(form);});}});}};var _117f=function(path,args,scope){var _1180=args.params,error=args.error,_1181=args.callback;path=path.replace(/\.mxf/,"$Popup.mxf");self.getForm(path,{params:dojo.mixin(_1180,{place:"popup",title:args.title}),error:function(e){error&&error.call(scope,e);},callback:function(form){_1149.show(form,args,dojo.hitch(scope,_1181));}});};var _1182=function(path,args,scope){var _1183=args.params,error=args.error,_1184=args.callback;path=path.replace(/\.mxf/,"$Popup.mxf");self.getForm(path,{params:dojo.mixin(_1183,{place:"custom",title:args.title}),error:function(e){error&&error.call(scope,e);},callback:function(form){args.domNode.appendChild(form.domNode);dojo.removeClass(form.domNode,"mx-page mx-page-hidden");form.startup(function(){form.applyContext(args.context||new mendix.lib.MxContext(),function(){_1184&&_1184.call(scope,form);});});}});};var _1185=function(fmt,args){if(!args){return fmt;}else{if(!(args instanceof Array)){args=[args];}}return fmt.replace(/\{(\d+)\}/g,function(match,n){var value=args[n-1];if(value!=null){return value;}else{return match;}});};var _1186=function(node,clas){return function(_1187){var _1188=[];var end=function(){for(var i=_1188.length;i--;){dojo.disconnect(_1188[i]);}_1187&&_1187();dojo.removeClass(node,clas);};_1188.push(dojo.connect(node,"webkitAnimationEnd",end),dojo.connect(node,"animationend",end));dojo.addClass(node,clas);};};var _1189=function(node,clas,_118a){_1186(node,clas)(_118a);};this.toString=function(){return name;};this.isLoaded=function(){return _1137;};this.startup=function(_118b){var _118c=mx.session.getConfig("uiconfig");_1142=_118c.locale;dojo.locale=dojo.i18n.normalizeLocale(_1142.replace("_","-"));_1143=_118c.translations;menus=_118c.menubars;_1157();_1145=_118c.profile.name.toLowerCase();_1146=_118c.profile.title;_1156();_1160();_113b=new mxui.lib.History();_113d=_113d||new mxui.widget.Progress();_113e=_113e||new mxui.widget.Underlay();_1158(function(){_113b.startup();_115e();_1162();_1137=true;_1138=true;_118b();});};this.shutdown=function(){_1149.hideAll();_1172();mxui.currentForm=null;_113f={};_1140={};_1144="";_113b.destroy();dojo.disconnect(_113c);_1157();_1137=false;};this.getProfile=function(){return _1145;};this.getMenu=function(_118d){return menus[_118d]||[];};this.getDatePackage=function(){return _1144||"dojo.date";};this.isRtl=function(){return isRtl;};this.resize=function(e){mxui.currentForm&&mxui.currentForm.resize();};this.execute=function(_118e,args,scope){var cfg={};if(_118e.microflow){dojo.mixin(cfg,_118e.microflow,args);mx.ui.action(cfg.name,cfg,scope);}else{if(_118e.form){dojo.mixin(cfg,_118e.form,args);mx.ui.openForm(cfg.path,cfg,scope);}else{logger.error(name+".execute: unknown action type");}}};this.action=function(name,_118f,scope){_118f=_118f||{};dojo.setObject("params.actionname",name,_118f);var _1190=_118f.callback,error=_118f.error,store=dojo.mixin({caller:mxui.currentForm},_118f.store),_1191;if("progress" in _118f){_1191=this.getProgress(_118f.progressMsg,_118f.progress=="modal");_1191.start();}mx.data.action({callback:function(_1192){_1191&&_1191.stop();_1190&&_1190.call(scope,_1192);},error:function(e){_1191&&_1191.stop();if(error){error.call(scope,e);}else{if(e&&!(e instanceof mendix.lib.ValidationError)){mx.onError(e);}}},context:_118f.context,async:_118f.async,params:_118f.params,store:store});};this.back=function(){_113b.back();};this.showProgress=function(msg,modal){return _113d.add(msg||self.translate("mxui.sys.UI","loading"),modal);};this.hideProgress=function(id){return _113d.remove(id);};this.showUnderlay=function(delay){_113e.show(delay);};this.hideUnderlay=function(delay){_113e.hide(delay);};this.getProgress=function(msg,modal){var id,_1193;return {start:function(){if(_1193){return id;}else{_1193=true;return id=self.showProgress(msg,modal);}},stop:function(){if(_1193){_1193=false;self.hideProgress(id);}}};};this.setupLoginPage=function(){var _1194=mx.session.getConfig("profile");if(_1194){_1145=_1194.name.toLowerCase();dojo.addClass(document.body,"profile-"+_1145);document.title=_1194.title;}};this.showLogin=function(args){var _1195=dojo.cookie("originURI");if(_1195){dojo.cookie("originURI","");window.location=_1195;return;}var show=function(args){if(dojo.cookie.isSupported()){if(args&&args.http_code==402){self.exception(window.i18nMap.http402);}else{login=login||new mxui.widget.Login();login.show(args);}}else{self.exception("This application requires cookies to be enabled");}};mx.server.get({url:"js/login_i18n.js",handleAs:"javascript",load:function(){dojo.addOnLoad(function(){show(args);});}});self.showLogin=show;};this.hideLogin=function(){login&&login.hide();};this.openForm=function(path,args,scope){args=args||{};var pid=this.showProgress(),cb=args.callback,error=args.error;args.callback=function(form){self.hideProgress(pid);cb&&cb.call(this,form);};args.error=function(e){self.hideProgress(pid);if(error){error&&error.call(this,e);}else{mx.onError(e);}};if(args.domNode){_1182(path,args,scope);}else{if(/popup|modal/.test(args.location)){_117f(path,args,scope);}else{_117a(path,args,scope);}}};this.getForm=function(path,args,scope){args=args||{};var _1196=args.params,error=args.error,_1197=args.callback;if(path in _113f){var data=dojo.clone(_113f[path]);_1197&&_1197.call(scope,new mxui.lib.Form(data,_1196));}else{mx.server.get({url:"pages/"+_1142+"/"+path,handleAs:"xml",load:function(xml){var data=dojo.clone(_1167(path,xml)),form=new mxui.lib.Form(data,_1196);_1197&&_1197.call(scope,form);},error:function(e){logger.error(name+".getForm: error occurred while fetching form '"+path+"': "+e);error&&error.call(scope,e);}});}};this.reload=function(_1198){var form=mxui.currentForm;if(!form){throw new mendix.lib.Error("Trying to refresh the content form but no form is yet available.");}form.reload(_1198);};this.getTemplate=function(id,name){var data=_1140[id];return data&&dojo.clone(data[name]);};this.applyToNode=function(_1199,node){var wid=node.getAttribute("widgetId"),_119a=wid&&dijit.byId(wid);switch(_1199){case "show":if(_119a&&_119a.show){_119a.show();}else{node.style.display="";}break;case "hide":if(_119a&&_119a.hide){_119a.hide();}else{node.style.display="none";}break;case "disable":if(_119a){_119a.set("disabled",true);}break;case "enable":if(_119a){_119a.set("disabled",false);}break;}};this.makeShareId=function(form,mxid){return "context_seed_"+mxid+"_"+form.hash;};this.validations=function(vals){if(vals.length){var list=[];for(var i=0,val;val=vals[i];i++){var _119b=val.getFields();for(var x=0,field;field=_119b[x];x++){list.push(field.reason);}}this.error(list.join("\n"));}};this.translate=function(_119c,str,args,_119d){var map=dojo.getObject(_119c,false,_1143);if(!map||!map[str]){return _119d||"[No translation]";}return _1185(map[str],args);};this.extractMessage=function(msg){if(typeof msg=="object"){if(msg.description){return msg.description;}else{if(msg.message){return msg.message;}}}return msg;};this.info=function(msg,modal){return _116f(_116e(msg,"info",modal));};this.warning=function(msg,modal){return _116f(_116e(msg,"warning",modal));};this.error=function(msg,modal){return _116f(_116e(msg,"error",modal));};this.exception=function(msg){return this.error(msg,true);};this.confirmation=function(args){var _119e=new mxui.widget.Confirmation({content:args.content,proceed:args.proceed||"OK",cancel:args.cancel||"Cancel",handler:args.handler});_116f(_119e);return _119e;};this.encodeUrlHash=function(form,_119f,_11a0){var path=form.substr(0,form.lastIndexOf(".")),query=_119f.toQuery();return "!/"+path+(query?"?"+query:"")+";"+_11a0;};this.decodeUrlHash=function(hash){if(hash.charAt(0)=="!"){var index=hash.lastIndexOf(";");hash=hash.slice(2,index!=-1?index:hash.length);if(/^\w+(\/\w+(\?\w+\.\w+\=\d+(&\w+\.\w+\=\d+)*)?|\.\w+(\?\d+(&\d+)*)?)$/.test(hash)){var split=hash.split("?"),_11a1=split[0],query=split[1],_11a2=new mendix.lib.MxContext();if(_11a1.indexOf("/")!=-1){if(query){var items=query.split("&");for(var i=items.length,item;item=items[--i];){var pair=item.split("=");_11a2.setContext(pair[0],pair[1]);}}return function(_11a3){mx.ui.openForm(_11a1+".mxf",{context:_11a2});_11a3&&_11a3();};}else{if(query){var items=query.split("&");for(var i=0,item;item=items[i++];){_11a2.setContext(" ",item);}}return function(_11a4){mx.data.action({context:_11a2,params:{actionname:_11a1},callback:_11a4,error:function(e){mx.onError(e);_11a4&&_11a4();}});};}}else{return null;}}else{return null;}};this.downloadFile=function(_11a5){var _11a6=(mx.ui.getProfile()=="desktop"),_11a7=_11a6?_11a5.target:"window",obj=_11a5?_11a5.mxobject:null,url;if(obj&&obj.get("HasContents")){url="file?guid="+obj.getGuid();}else{if(_11a5.url){url=_11a5.url;}}if(url){mxui.io.iframe.download({url:url,target:_11a7,error:function(err){if(_11a5.error){_11a5.error(err);}else{mx.onError(err);}}});}else{}};this.getFirstDayOfWeek=function(){return mx.session.getConfig("uiconfig.firstDayOfWeek");};};});},"mxui/cldr/supplemental":function(){define(["dojo","dijit","dojox","dojo/require!dojo/cldr/supplemental"],function(dojo,dijit,dojox){dojo.provide("mxui.cldr.supplemental");dojo.require("dojo.cldr.supplemental");(function(){var orig=dojo.cldr.supplemental.getFirstDayOfWeek;dojo.cldr.supplemental.getFirstDayOfWeek=function(_11a8){var value=mx.ui.getFirstDayOfWeek();return value!=-1?value:orig(_11a8);};})();});},"mxui/sys/Parser":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.sys.Parser");mxui.sys.Parser=function(_11a9){_11a9=_11a9||{};var self=this,name="mxui.sys.Parser",_11aa=false;var _11ab=function(value,props){props=props||{};if(!props.groups){var _11ac=dojo.i18n.getLocalization("dojo.cldr","number",dojo.locale);props.pattern=_11ac["decimalFormat"].replace(/,/g,"");}return dojo.number.format(value,props);};var _11ad=function(_11ae,_11af){_11ae.setFullYear(_11af.getFullYear(),_11af.getMonth(),_11af.getDate());};var _11b0=function(_11b1,_11b2){_11b1.setHours(_11b2.getHours(),_11b2.getMinutes(),_11b2.getSeconds(),_11b2.getMilliseconds());};var _11b3=function(_11b4,_11b5){var _11b6=dojo.getObject(mx.ui.getDatePackage());return _11b6.locale.format(_11b6.Date?new _11b6.Date(_11b4):_11b4,_11b5);};var _11b7=function(_11b8,_11b9){var _11ba=dojo.getObject(mx.ui.getDatePackage()),date;if(_11ba.Date){date=_11ba.locale.parse(_11b8,_11b9);if(date){date=date.toGregorian();}}else{date=dojo.date.locale.parse(_11b8,_11b9);}if(!date){if(_11b8.indexOf("")==-1){if(!_11b9.datePattern){var _11bb=dojo.date.locale._getGregorianBundle(dojo.locale);_11b9.datePattern=_11bb["dateFormat-short"];}_11b9.datePattern=_11b9.datePattern.replace(/\u200f/g,"");date=dojo.date.locale.parse(_11b8,_11b9);}}return date;};this.toString=function(){return name;};this.startup=function(_11bc){_11aa=true;_11bc();};this.shutdown=function(){_11aa=false;};this.isLoaded=function(){return _11aa;};this.parseDate=function(_11bd,opts){if(!_11bd){return null;}opts=opts||{};var _11be={selector:opts.selector||"date",formatLength:opts.format||"short",datePattern:opts.datepattern||opts.datePattern,timePattern:opts.timePattern};var _11bf=_11b7(_11bd,_11be);if(_11bf){if(_11be.selector=="time"){var now=new Date();now.setMilliseconds(_11bf.getMilliseconds());now.setSeconds(_11bf.getSeconds());now.setMinutes(_11bf.getMinutes());now.setHours(_11bf.getHours());return +now;}}return _11bf&&_11bf.getTime();};this.formatDate=function(epoch,opts){var _11c0=Number(epoch);if(epoch===""){return epoch;}else{if(isNaN(_11c0)){return null;}}opts=opts||{};var _11c1=new Date(_11c0),_11c2={locale:dojo.locale,selector:opts.selector||"date",formatLength:opts.format||"short",datePattern:opts.datepattern||opts.datePattern,timePattern:opts.timePattern};if(_11c2.selector=="time"){var now=new Date(0);now.setMilliseconds(_11c1.getMilliseconds());now.setSeconds(_11c1.getSeconds());now.setMinutes(_11c1.getMinutes());now.setHours(_11c1.getHours());_11c1=now;}return _11b3(_11c1,_11c2);};this.parseNumber=function(value,_11c3,_11c4){if(!value){return NaN;}return dojo.number.parse(value,{places:_11c4,groups:_11c3});};this.formatNumber=function(value,_11c5,_11c6){if(value===""){return value;}else{if(isNaN(value)||Math.abs(value)==Infinity){return null;}}if(dojo.isString(_11c6)){_11c6=parseInt(_11c6,10);}return _11ab(value,{places:_11c6,groups:_11c5});};this.formatValue=function(value,type,props){var _11c7;if(value===""){return "";}switch(type.toLowerCase()){case "float":_11c7=_11ab(value,props);break;case "currency":_11c7=_11ab(value,dojo.mixin({places:2},props));break;case "autonumber":case "integer":case "long":_11c7=_11ab(value,dojo.mixin({places:0},props));break;case "datetime":_11c7=_11b3(new Date(value),dojo.mixin({selector:"date"},props));break;case "boolean":_11c7=mx.ui.translate("mxui.common",value);break;default:_11c7=value;}return _11c7;};this.formatAttribute=function(obj,attr,props){var type=obj.getAttributeType(attr),value=obj.get(attr);if(type=="Enum"){value=obj.getEnumCaption(attr,value);}return mx.parser.formatValue(value,type,props);};this.parseValue=function(value,type,props){var _11c8;if(value===""){return "";}switch(type.toLowerCase()){case "float":case "currency":case "autonumber":case "integer":case "long":_11c8=dojo.number.parse(value,props);break;case "datetime":_11c8=_11b7(value,dojo.mixin({selector:"date"},props));break;case "enum":_11c8=value;break;case "boolean":_11c8=value==mx.ui.translate("mxui.common",true);break;default:_11c8=value;}return _11c8;};this.localizeEpoch=function(epoch){var obj=new Date(Number(epoch));return new Date(obj.getUTCFullYear(),obj.getUTCMonth(),obj.getUTCDate(),obj.getUTCHours(),obj.getUTCMinutes(),obj.getUTCSeconds(),obj.getUTCMilliseconds()).getTime();};this.delocalizeEpoch=function(epoch){var obj=new Date(Number(epoch));return Date.UTC(obj.getFullYear(),obj.getMonth(),obj.getDate(),obj.getHours(),obj.getMinutes(),obj.getSeconds(),obj.getMilliseconds());};this.mergeDates=function(_11c9,_11ca,part){var _11cb=new Date(_11c9);switch(part){case "date":_11ad(_11cb,_11ca);break;case "time":_11b0(_11cb,_11ca);break;case "datetime":_11ad(_11cb,_11ca);_11b0(_11cb,_11ca);break;default:_11cb=_11ca;}return _11cb;};this.replaceXPathTokens=function(_11cc,_11cd){if(_11cd&&_11cd.hasTrackId()){_11cc=_11cc.replace(/\[%CurrentObject%\]/g,_11cd.getTrackId());}else{if(/\[%CurrentObject%\]/.test(_11cc)){}}return _11cc;};};});},"mxui/startup":function(){define(["mendix/Client","dojo/_base/config","dojo/aspect"],function(_11ce,_11cf,_11d0){window.mx=new _11ce({appUrl:_11cf.appbase,baseUrl:_11cf.xasbase,server:{timeout:_11cf.timeout}});window.mx.registerSubSystem("ui","mxui.sys.UI");window.mx.registerSubSystem("parser","mxui.sys.Parser");window.mx.startup();_11d0.after(window.mx.session,"onRedeploy",function(){window.location.reload();},true);_11d0.after(window.mx.session,"onRedirect",function(_11d1){window.location=_11d1;},true);});},"mendix/Client":function(){define(["mendix/sys/Meta","mendix/sys/Server","mendix/sys/XAS","mendix/sys/Context","mendix/sys/Data","mendix/sys/Session","mendix/sys/Remote","mendix/lang","mendix/logger","dojo/_base/lang"],function(Meta,_11d2,XAS,_11d3,Data,_11d4,_11d5,lang,_11d6,_11d7){function _11d8(_11d9){_11d9=_11d9||{};var _11da=function(){var _11db=location.href,hash=_11db.indexOf("#"),slash;if(hash!=-1){_11db=_11db.slice(0,hash);}slash=_11db.lastIndexOf("/");if(slash==-1){_11db+="/";}else{_11db=_11db.slice(0,slash+1);}return _11db;};this.offline=!!_11d9.offline;this.appUrl=_11d9.appUrl||_11da();this.baseUrl=_11d9.baseUrl||(this.appUrl+"xas/");this.modulePath=_11d9.modulePath||"../../widgets/";var self=this,name="mendix.Client",_11dc=false,_11dd=[],_11de={"meta":Meta,"server":_11d2,"xas":XAS,"context":_11d3,"data":Data,"session":_11d4,"remote":_11d5};var _11df=function(){for(var i in _11de){self[i]=new _11de[i](_11d9[i]);}};var _11e0=function(){var chain=[],func="startup";for(var i in _11de){var sub=self[i];if(sub[func]){chain.push((function(sub,id){return function(_11e1){sub[func](_11e1);};})(sub,i));}}lang.sequence(chain,function(_11e2){while(_11dd.length!=0){_11dd.pop()();}_11dc=true;});};var _11e3=function(){var i=0,list=[];for(list[i++] in _11de){}for(var j=0,sys;sys=list[j];j++){self[sys].shutdown();}};this.toString=function(){return name;};this.startup=function(){_11df();};this.isLoaded=function(){return _11dc;};this.registerSubSystem=function(_11e4,sys,args){var _11e5=_11d7.getObject(sys);if(!_11e5){_11d6.error(name+".registerSubSystem: "+_11e4+" not found");}else{if(_11de[_11e4]){_11d6.error(name+".registerSubSystem: "+_11e4+" already registered");}else{_11d9[_11e4]=args;_11de[_11e4]=_11e5;}}};this.addOnLoad=function(fnc){_11dc?fnc():_11dd.push(fnc);};this.login=function(_11e6){this.session.authorized({yes:function(){self.ui.hideLogin();_11dc&&_11e3();_11e0();},no:function(args){self.ui.setupLoginPage();self.ui.showLogin(_11d7.mixin(args,_11e6));}});};this.logout=function(_11e7){if(_11dc){_11dc=false;_11e3();}this.login(_11e7);};this.onError=function(err){};};return _11d8;});},"mendix/sys/Meta":function(){define(["mendix/lib/MxMetaObject","mendix/logger"],function(_11e8,_11e9){function Meta(){var name="mendix.sys.Meta",_11ea=false,_11eb=null;var _11ec=function(_11ed){var _11ee=function(objs){_11eb={};for(var i=0,obj;obj=objs[i];i++){var mxobj=new _11e8({json:obj});_11eb[mxobj.getEntity()]=mxobj;}_11ed();};_11ee(window.mx.session.getConfig("metadata"));};this.toString=function(){return name;};this.startup=function(_11ef){if(!window.mx.offline){_11ec(function(){_11ea=true;_11ef();});}else{_11ef();}};this.shutdown=function(){_11ea=false;_11eb=null;};this.isLoaded=function(){return _11ea;};this.getMap=function(){return _11ea?_11eb:null;};this.getEntity=function(_11f0){var meta=_11eb[_11f0];if(!meta){_11e9.error("No permission to read or write entity "+_11f0+", check security!");}return meta;};};return Meta;});},"mendix/sys/Server":function(){define(["mendix/lib/ServerError","mendix/lib/ConnectionError","mendix/lib/ValidationError","mendix/lib/DescribedServerError","mendix/lib/MxContext","mendix/lang","mendix/logger","dojo/sniff","dojo/_base/array","dojo/_base/json","dojo/_base/lang","dojo"],function(_11f1,_11f2,_11f3,_11f4,_11f5,lang,_11f6,_11f7,_11f8,_11f9,_11fa,dojo){function _11fb(_11fc){_11fc=_11fc||{};var self=this,name="mendix.sys.Server",_11fd=false,_11fe=0,_11ff=[],_1200=[],_1201={},_1202={},_1203={},_1204={},_1205="",_1206=0,_1207=_11fc.timeout||0,_1208=true,seqno=0;var _1209=function(){return Number(+new Date()+""+(_11fe++%10));};var _120a=function(_120b){var _120c=_120b.asyncid;if(_1203[_120c]){_11f6.error(name+".executeBackgroundJob: job "+_120c+" already exists, aborting");_120b.callback&&_120b.callback();return;}if(!_120b.callback){}var ival=500,imin=500,imax=8000,job=_1203[_120c]={callback:_120b.callback,error:_120b.error},_120d=function(){window.mx.server.request({request:{action:"poll_background_job",params:{asyncid:_120c}},options:{store:_120b.store,callback:function(_120e,_120f,_1210){if(_120f.response&&_120f.response.finished){delete _1203[_120c];job.callback&&job.callback(_120e,_120f,_1210);}else{setTimeout(_120d,(ival<imax)?Math.min(ival+=imin,imax):imax);}},error:function(e){_11f6.error(name+".executeBackgroundJob: "+e.message);_1211(job.error,e);delete _1203[_120c];}}});};job.timer=setTimeout(_120d,ival);};var _1212=function(state){if(!state){self.connectionDown(_1208);_1208=false;}else{if(_1208===false){_1208=true;self.connectionUp();}}};var _1213=function(req,_1214,_1215){var stat,err,_1216,_1217;try{stat=_1215.xhr.status;if(stat==12029){stat=0;}}catch(e){stat=0;}_1216=_1215.xhr.responseText;switch(stat){case 401:case 500:case 550:case 551:case 560:try{if(_1216!==""){_1217=_11f9.fromJson(_1216);}else{_1217=null;}}catch(e){_1211(req.error,new _11f1(name+".handleQueued: JSON is incorrect",e),req.failOk);}_11f6.error(name+": loadHandler: server error: "+_11f9.toJson(_1215.xhr.responseText));}switch(stat){case 0:case 502:_1212(false);err=new _11f2(name+".handleQueued: "+(_1216||"connection error"),_1214);_1211(req.error,err,req.failOk);return;default:_1212(true);}switch(stat){case 200:if(window.mx.remote.hasInstructions(_1214)){window.mx.remote.execute(_1214,req.store);}req.callback&&req.callback("load",_1214,_1215);break;case 400:case 401:case 402:case 403:case 460:err=new _11f1(name+".handleQueued: "+_1216,_1214);_1211(req.error,err);window.mx.logout({http_code:stat});break;case 500:case 550:err=new _11f1(name+".handleQueued: "+_1217.description,_1214);_1211(req.error,err,req.failOk);break;case 504:err=new _11f1(name+".handleQueued: gateway timeout",_1214);_1211(req.error,err,req.failOk);break;case 551:window.mx.remote.execute(_1217,req.store,true,function(){if(window.mx.remote.hasValidation(_1217)){var _1218=window.mx.remote.getValidations(_1217);window.mx.data.sendValidationUpdates(_1218);req.onValidation&&req.onValidation(_1218);}});delete _1217.instructions;if(window.mx.remote.hasValidation(_1217)){err=new _11f3(name+".handleQueued: validation error",_1217);_1211(req.error,err,true);}else{err=new _11f1(name+".handleQueued: "+_1217.description,_1214);_1211(req.error,err,req.failOk);}break;case 560:if(window.mx.remote.hasInstructions(_1217)){window.mx.remote.execute(_1217,req.store);delete _1217.instructions;}err=new _11f4(_1217.description,_1214);_11f6.error(name+".handleQueued: "+err.message);_1211(req.error,err,req.failOk);break;default:err=new _11f1(name+".handleQueued: "+_1217.description,_1214);_1211(req.error,err,req.failOk);}};var _1219=function(){var ms=function(n){return "MSXML"+n+".DOMDocument";},res=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)],dom=null;_11f8.some(res,function(name){try{dom=new ActiveXObject(name);}catch(e){return false;}_1219=function(){return new ActiveXObject(name);};return true;});return dom;};var _121a=function(_121b){var start=+new Date();_121b.headers={"X-Mx-ReqToken":Number(start+""+~~(Math.random()*100000)).toString(16),"X-Csrf-Token":window.mx.session.getCSRFToken()};_121b.timeout=_1207;_121b.start=start;var _121c=dojo.rawXhrPost(_121b),xhr=_121c.ioArgs.xhr;if(!_11f7("ie")){var _121d=xhr.onerror;xhr.onerror=function(e){_121c.cancel();_121d&&_121d();};}return _121c;};var _121e=function(_121f){var _1220=_121f.postData,hash=_11f9.toJson(_1220),cbq;_121f.seqno=seqno++;if(_121f.unique){cbq=[_121f];}else{if(_1201[hash]){cbq=_1201[hash];cbq.push(_121f);return;}else{_1201[hash]=cbq=[_121f];}}for(var guid in _1204){_1220.releaseids=lang.objectToArray(_1204);_1204={};break;}if(!lang.objectIsEmpty(_1202)){_1220.profiledata=self.flushLog();}_121f.postData=_11f9.toJson(_121f.postData);var _1221={};for(var i in _121f){if(i!="load"&&i!="error"){_1221[i]=_121f[i];}}_1221.handle=function(_1222,_1223){_1222=_1222||{};if(_1201[hash]){delete _1201[hash];}if(this.start){var token=this.headers["X-Mx-ReqToken"];_1202[token]=+new Date()-this.start;}while(cbq.length>0){try{_1213(cbq.shift(),_1222,_1223);}catch(e){_11f6.error("An error occurred while handling queued requests",e);}}};if(_1206){setTimeout(function(){cbq.xhr=_121a(_1221);},_1206);}else{cbq.xhr=_121a(_1221);}};var _1224=function(_1225){var _1226=[];for(var i=0,_1227;_1227=_11ff[i];i++){_1226.unshift(_1227);}lang.sequence(_1226,_1225);};var _1228=function(_1229){if(_1229.async){delete _1229.async;var _122a=_11fa.getObject("postData.params",true,_1229),_122b=_122a.asyncid=_1209(_122a);_1229.callback=_11fa.hitch(this,_120a,{asyncid:_122b,callback:_1229.callback,error:_1229.error,store:_1229.store});}var _122c=_1229.postData,_122d=_122c.context;if(_122d){if(_122d instanceof _11f5){_122c.context=_122d.getGuidS();}else{if(!isNaN(parseFloat(_122d))){_122c.context=[parseFloat(_122d)];}}}else{_122c.context=[];}if(_1229.standalone){_121e(_1229);}else{_1224(_11fa.hitch(null,_121e,_1229));}};var _1211=function(error,e,_122e){if(error){error(e);}else{if(!_122e){window.mx.onError(e);}}};this.toString=function(){return name;};this.startup=function(_122f){_11fd=true;_122f();};this.shutdown=function(){var err=new _11f1(name+".shutdown: client shutdown");_11fd=false;for(var i in _1201){var cbq=_1201[i];while(cbq.length){var qr=cbq.shift();try{qr.error&&qr.error(err);}catch(e){}}cbq.xhr&&cbq.xhr.cancel();}for(var job in _1203){clearInterval(_1203[job].timer);_1203[job].error(err);delete _1203[job];}_11ff=[];_1200=[];_1201={};};this.isLoaded=function(){return _11fd;};this.setDelay=function(ms){_1206=ms;};this.getDelay=function(){return _1206;};this.setCacheBust=function(bust){_1205=bust;};this.getCacheBust=function(){return _1205;};this.flushLog=function(){var log=_1202;_1202={};return log;};this.connectionUp=function(){};this.connectionDown=function(_1230,error){};this.isConnectionUp=function(){return _1208;};this.registerCaller=function(_1231){if(_1231&&typeof _1231=="function"){_11ff.push(_1231);var id=lang.getUniqueId();_1200.push([id,_1231]);return id;}return null;};this.unregisterCaller=function(id){for(var i=0,item;item=_1200[i];i++){if(item[0]==id){var fnc=item[1];_1200.splice(i,1);for(var j=0;j<_11ff.length;j++){if(_11ff[j]==fnc){_11ff.splice(j,1);return true;}}}}return false;};this.request=function(_1232){var _1233="",_1234=_1232.options;if(_1232.request&&_1232.request.action){_1233=_1232.request.action;}_1228({url:_11f7("ie")?window.mx.baseUrl:window.mx.baseUrl+"#"+_1233,mimetype:"application/json",contentType:"application/json",handleAs:"json",postData:_1232.request,unique:_1234.unique,useCache:_1234.useCache,preventCache:_1234.preventCache,store:_1234.store,handle:_1234.handle,error:_1234.error,callback:_1234.callback,sync:_1234.sync,async:_1234.async,onValidation:_1234.onValidation,standalone:_1234.standalone,failOk:_1234.failOk});};this.release=function(guid){_1204[guid]=true;};this.xhr=function(_1235,args,_1236){var url=window.mx.appUrl+args.url,_1237=args.failOk,_1238=args.handleAs,load=args.load,error=args.error;dojo.xhr(_1235,_11fa.mixin(args,{url:url,failOk:true,timeout:_1207,headers:{"X-Csrf-Token":window.mx.session.getCSRFToken()},error:function(e){var _1239;if(e.status===0){_1239=new _11f2(name+".xhr: "+"connection error",e);}else{_1239=new _11f1(name+".xhr: "+e.message,e);}_1211(error,_1239,_1237);},load:function(_123a,_123b){if(_1238=="xml"&&_123a==null){var text=_123b.xhr.responseText;if(typeof DOMParser=="undefined"){_123a=_1219();_123a.async=false;_123a.loadXML(text);}else{var _123c=new DOMParser();_123a=_123c.parseFromString(text,"text/xml");}}load&&load(_123a);}}),_1236);};this.get=function(args){args.url+="?"+_1205;this.xhr("GET",args);};this.post=function(args){this.xhr("POST",args,true);};};return _11fb;});},"mendix/sys/XAS":function(){define(["mendix/logger","dojo/_base/array"],function(_123d,_123e){function XAS(){var name="mendix.sys.XAS",_123f=false;this.toString=function(){return name;};this.startup=function(_1240){_123f=true;_1240();};this.shutdown=function(){_123f=false;};this.isLoaded=function(){return _123f;};this.getTranslations=function(_1241){mx.server.request({request:{action:"get_translations"},options:{callback:function(stat,obj){_1241.callback(obj.translations);},error:function(e){if(_1241.error){_1241.error(e);}else{_1241.callback({});}}}});};this.triggerStartup=function(_1242){_1242=_1242||{};mx.server.request({request:{action:"trigger_startup",params:{environment:_1242.environment}},options:{callback:function(data,json){_1242.callback&&_1242.callback();},error:function(e){if(_1242.error){_1242.error(e);}else{_1242.callback&&_1242.callback();}},useCache:false}});};this.getActiveModules=function(_1243){if(typeof _1243.callback!="function"){throw new Error(name+".getActiveModules: no callback specified");}mx.server.request({request:{action:"active_modules",params:{}},options:{sync:true,callback:function(stat,mods){var _1244=null,_1245=null,root=mods&&mods.active_modules;if(root){var _1246=root.clientmodules;_1245=_1246?_123e.map(_1246,function(mod){return (/\./.test(mod))?mod:(mod+"."+mod);}):null;_1244=root.customwidgets;}_1243.callback({modules:_1245,widgets:_1244});},error:function(){if(_1243.error){_1243.error(e);}else{_1243.callback({modules:null,widgets:null});}}}});};};return XAS;});},"mendix/sys/Context":function(){define(["mendix/lib/MxContext","mendix/lang","mendix/logger","dojo/_base/array"],function(_1247,lang,_1248,_1249){function _124a(){var name="mendix.sys.Context",_124b=false,_124c={};this.toString=function(){return name;};this.startup=function(_124d){_124b=true;_124d();};this.shutdown=function(){_124b=false;};this.isLoaded=function(){return _124b;};this.get=function(id){return _124c[id]&&_124c[id].context;};this.create=function(_124e,_124f){var _1250=new _1247(_124f);_124c[_1250.id]={context:_1250,listeners:_124e?[_124e]:[]};return _1250;};this.clean=function(id,_1251){var _1252=_124c[id];if(_1252){lang.arraySubtract(_1252.listeners,[_1251]);if(_1252.listeners.length==0){delete _124c[id];}else{}}else{}};this.destroy=function(id){delete _124c[id];};this.subscribe=function(id,_1253){_124c[id].listeners.push(_1253);};this.unsubscribe=function(id,_1254){var _1255=_124c[id],list=_1255.listeners,index=_1249.indexOf(list,_1254);if(index!=-1){list.splice(index,1);if(list.length==0){delete _1255[id];}}};this.unsubscribeAll=function(_1256){for(var id in _124c){this.unsubscribe(id,_1256);}};};return _124a;});},"mendix/sys/Data":function(){define(["mendix/lib/Error","mendix/lib/ValidationError","mendix/lib/ObjectValidation","mendix/ov","mendix/lib/MxObject","mendix/lang","mendix/logger","dojo/_base/array","dojo/_base/lang"],function(Error,_1257,_1258,ov,_1259,lang,_125a,_125b,_125c){function Data(_125d){_125d=_125d||{};var self=this,name="mendix.sys.Data",_125e=false,_125f={},_1260={},_1261={},_1262={},_1263=null,_1264=null,subs={entities:{},guids:{},attrs:{},vals:{}};var _1265=function(_1266,_1267,map){if(!_1267){return _1266;}for(var i in map){if((i in _1267)&&(_1267[i]!=null)){_1266[i]=_1267[i];}}return _1266;};var _1268=function(_1269,_126a,args,_126b){try{_1269&&_1269.apply(_126a,args||[]);}catch(e){_125a.error(name+_126b+" : "+e.message+" "+(_126a?"("+_126a+")":""));}};var _126c=function(_126d,_126e,e,fname){try{if(_126d){_126d.call(_126e,e);}else{_125a.error("unhandled error: "+e.message);window.mx.onError(e);}}catch(err){_125a.error("error in "+name+"."+fname+" while calling error handler: "+err.message);}};var _126f=function(ids){var objs=[];for(var i=0,id;id=ids[i++];){if(_125f[id]!==undefined){objs.push(_125f[id]);}}return objs;};var _1270=function(guid){var _1271=lang.itemCount;return (_1271(subs.guids[guid])||_1271(subs.attrs[guid]));};var _1272=function(guids){var count=0;for(var i=0,guid;guid=guids[i];i++){if(_125f[guid]&&!_1270(guid)){delete _125f[guid];delete _1262[guid];delete _1260[guid];window.mx.server.release(guid);count++;}}};var _1273=function(_1274,keep,cache,_1275){var objs=[],_1276=[],_1277=false;if(!(_1275 instanceof Array)){_1277=!!_1275;_1275=[];}for(var i=0,_1278;_1278=_1274[i];++i){var guid=_1278.guid,_1279=_125f[guid],inc=(_1277||_125b.indexOf(_1275,guid)>=0)?1:0;if(!keep){delete _1262[guid];}if(cache&&_1279){if(!keep||!_1279.hasChanges()){_1279.resetFromJSON(_1278);}_1260[guid]+=inc;objs.push(_1279);}else{var obj=new _1259({json:_1278,meta:window.mx.meta.getEntity(_1278.objectType)});if(cache){_125f[guid]=obj;_1260[guid]=inc;}if(_1279){_1276.push(_1279.getGuid());}objs.push(obj);}}if(!cache){_1272(_1276);}return objs;};var _127a=function(_127b,_127c,_127d){var _127e=function(type,json){var _127f;if(json.mxobject){_127f=[json.mxobject];}else{if(json.mxobjects&&json.mxobjects.mxobjects){_127f=json.mxobjects.mxobjects;if(!_127f.length){_127f=[_127f];}}else{_127f=json.mxobjects;}}var objs=(_127f&&_127f.length)?_1273(_127f,true,_127c,_127d):[];_127b(objs,{count:json.count,aggregates:json.aggregates});};return _127e;};var _1280=function(_1281,_1282){var obj=_1282,guid=_1281.getGuid(),_1283=_125f[guid];if(obj){if(_1283){_1283.resetFromJSON(obj.jsonData);}else{_1283=_125f[guid]=obj;_1260[guid]=0;}if(_1281!=_1283){_1281.resetFromJSON(obj.jsonData);}self.objectUpdateNotification(obj);}else{_125f[guid]=null;if(_1283){_1283.resetFromJSON(null);}}};var _1284=function(meta,_1285){var _1286={};_125b.forEach(meta.getAttributes(),function(ref){if(!meta.isReference(ref)){return;}var value=_1285.getContext(meta.getSelectorEntity(ref));if(value){_1286[ref]=value;}});return _1286;};var _1287=function(mxobj,path,_1288,error){var split=path.split("/");var _1289=function(objs){var _128a=split.shift(),ref=split.shift(),_128b;if(objs==null||objs.length==null||objs.length===0){_1288(null);return;}var carr=[];for(var i=0;i<objs.length;i++){if(objs[i]==null){continue;}carr.push("id='"+objs[i].getGuid()+"'");}if(!carr.length){_1288(null);return;}var ids=carr.join(" or ");_128b="["+ref+"/"+_128a+"["+ids+"]]";if(split.length==1){_1288(_128b);}else{var child=split[0];_128a=split.shift();ref=split.shift();_1288("["+ref+"/"+_128a+""+_128b+"]");}};var _128c=function(){var _128d=split.shift(),ref=split.shift();if(split.length==1){var _128e="["+ref+"='"+mxobj.getGuid()+"']";_1288(_128e);return;}if(window.mx.meta.getEntity(_128d)==null){_126c(error,null,new Error(name+".runMapPath: entity"+_128d+" does not exist"),"runMapPath");return;}if(!mxobj.isA(_128d)){_126c(error,null,new Error(name+".runMapPath: entity "+mxobj.getEntity()+" is not a "+_128d+" or one of its subclasses"),"runMapPath");return;}if(!mxobj.has(ref)){_126c(error,null,new Error(name+".runMapPath: reference "+ref+" not found in entity "+_128d),"runMapPath");return;}if(mxobj.get(ref)!==""){self.get({guids:mxobj.getReferences(ref),callback:_1289,error:error});}else{_1288(null);}};_128c();};var _128f=this.getBacktrackConstraints=function(_1290,_1291,_1292,error,scope){if(!_125c.isFunction(error)){scope=error;error=null;}self.getBacktrack(_1291.getTrackId(),_1291.getConstraints(),_1292,error,scope);};this.getBacktrack=function(guid,paths,_1293,error,scope){if(!_125c.isFunction(error)){scope=error;error=null;}if(!paths||paths.length===0){_1293.call(scope,"",true);return;}var mxobj=null,_1294=[],_1295=0,_1296=true;var _1297=function(){var path=paths[_1295++];if(path){_1287(mxobj,path,function(_1298){if(_1298){_1294.push(_1298);}else{_1296=false;}_1297();},function(e){_126c(error,scope,e,"getBacktrack");});}else{_1293.call(scope,_1294.join(""),_1296);}};if(!guid){_1293.call(scope,"",false);}else{self.get({guid:guid,callback:function(obj){mxobj=obj;_1297();},error:function(e){_126c(error,scope,e,"getBacktrack");}});}};var _1299=function(meta,_129a){var _129b=[],_129c=_1284(meta,_129a);for(var m in _129c){if(m=="System.changedBy"||m=="System.owner"){continue;}if(meta.has(m)){var attr=meta.getAttributeType(m);switch(attr){case "ObjectReference":_129b.push("["+m+"='"+_129c[m]+"']");break;case "ObjectReferenceSet":_129b.push("["+m+"='"+_129c[m]+"']");break;default:}}}return _129b.join("");};var _129d=function(_129e){var _129f=_129e.entity||_129e.className,meta=window.mx.meta.getEntity(_129f),_12a0=_129e.context,xpath="//"+_129f,_12a1=_1299(meta,_12a0);var _12a2=function(_12a3,_12a4){if(_129e.callback){_129e.callback(xpath+_12a1+_12a3,_12a4);}};if(_12a0.getConstraints().length!==0){_128f(meta,_12a0,_12a2,_129e.error);}else{_12a2("",true);}};var _12a5=function(_12a6){window.mx.server.request({request:{action:"retrieve_xpath_aggregate",params:{xpath:_12a6.type+"("+_12a6.xpath+")",resulttype:_12a6.resulttype||"integer"}},options:{callback:function(code,json){var value;if(json){if(_12a6.resulttype=="float"){value=parseFloat(json.value).toFixed(2)||"0.00";}else{value=json.value||0;}}else{value=0;}_12a6.callback&&_12a6.callback(value);},error:function(e){_126c(_12a6.error,null,e,"numericXPathResult");},useCache:false,preventCache:true}});};var _12a7=function(_12a8){var _12a9;if(_12a8===""){return;}else{if(_12a8.match(/^\[[^=\[]+=.[0-9]+./)){_12a9=_125b.map(_12a8.match(/\[.+?\]/g),function(part){part=part.substr(1,part.length-2);return {ref:part.match(/[^=]+/)[0],ref_ids:part.match(/\d+/)[0]};});}else{_12a9=_125b.map(_12a8.match(/\[.+?\]]/g),function(part){part=part.substr(1,part.length-3);var split=part.split("[");return {ref:split[0].split("/")[0],ref_ids:split[1]};});}}return _12a9;};var _12aa=function(){var left=0;for(var guid in _125f){if(_1260[guid]===0&&!_1270(guid)){delete _125f[guid];delete _1260[guid];delete _1262[guid];window.mx.server.release(guid);}else{++left;}}};this.toString=function(){return name;};this.startup=function(_12ab){_125e=true;_1263=window.mx.server.registerCaller(_125c.hitch(this,"xastrigger"));_1264=window.setInterval(function(){_12aa();},10000);_12ab();};this.shutdown=function(){_125e=false;_125f={};_1262={};_1260={};clearInterval(_1264);window.mx.server.unregisterCaller(_1263);};this.isLoaded=function(){return _125e;};this.subscribe=function(args,scope){var id=lang.getUniqueId(),_12ac=args.entity,guid=args.guid,val=args.val,attr=args.attr,_12ad=scope?function(){args.callback.apply(scope,arguments);}:args.callback;if(attr){if(!subs.attrs[guid]){subs.attrs[guid]={};}if(!subs.attrs[guid][attr]){subs.attrs[guid][attr]={};}subs.attrs[guid][attr][id]=_12ad;}else{if(val){if(!subs.vals[guid]){subs.vals[guid]={};}subs.vals[guid][id]=_12ad;}else{if(guid){if(!subs.guids[guid]){subs.guids[guid]={};}subs.guids[guid][id]=_12ad;}else{if(_12ac){if(!subs.entities[_12ac]){subs.entities[_12ac]={};}subs.entities[_12ac][id]=_12ad;}else{_125a.error(name+".subscribe: no 'entity' or 'guid' parameter found");}}}}return {entity:_12ac,guid:guid,val:val,attr:attr,id:id};};this.unsubscribe=function(args){if(args==null){return;}var id=args.id,_12ae=args.entity,guid=args.guid,val=args.val,attr=args.attr,count=lang.itemCount;if(attr){var _12af=subs.attrs[guid];if(!_12af){}else{if(!_12af[attr]){}else{delete _12af[attr][id];if(count(_12af[attr])===0){delete _12af[attr];}if(count(_12af)===0){delete subs.attrs[guid];}}}}else{if(val){if(!subs.vals[guid]){}else{delete subs.vals[guid][id];if(count(subs.vals[guid])===0){delete subs.vals[guid];}}}else{if(guid){var _12b0=subs.guids[guid];if(!_12b0){}else{delete _12b0[id];if(count(_12b0)===0){delete subs.guids[guid];}}}else{if(_12ae){var _12b1=subs.entities[_12ae];if(!_12b1){}else{delete _12b1[id];if(count(_12b1)===0){delete subs.entities[_12ae];}}}}}}};this.update=function(args){var guid=args.guid,_12b2=args.entity,attr=args.attr,val=args.val,value=args.value,_12b3=args.callback;var _12b4=function(funcs,args){var map=funcs?_125c.clone(funcs):{};for(var key in map){map[key].apply(null,args);}};if(attr){_12b4(subs.attrs[guid]&&subs.attrs[guid][attr],[guid,attr,value]);}else{if(guid){_12b4(subs.guids[guid],[guid]);}else{if(val){_12b4(subs.vals[guid],[guid]);}else{if(_12b2){_12b4(subs.entities[_12b2],[_12b2]);}else{_125a.error(name+".update: no 'entity' or 'guid' parameter found");}}}}_12b3&&_12b3();};this.objectUpdateNotification=function(mxobj){self.sendClassUpdate(mxobj.getEntity());self.update({guid:mxobj.getGuid()});};this.sendClassUpdate=function(_12b5){var meta=window.mx.meta.getEntity(_12b5);if(!meta){throw new Error("No permission to read or write entity "+_12b5+", check security!");}_125b.forEach([_12b5].concat(meta.getSuperEntities()),function(ent){self.update({entity:ent});});};this.objectPing=function(mxobj,_12b6){var guid=mxobj.getGuid(),list=_125c.clone(subs.guids[guid]),chain=[];if(list){for(var sub in list){chain.push((function(list,sub){return function(cb){try{var _12b7=list[sub];if(_12b7.length==2){_12b7(guid,cb);}else{_12b7(guid);cb();}}catch(e){if(list){delete list[sub];}cb();}};})(list,sub));}lang.collect(chain,_12b6);}else{_12b6&&_12b6();}};this.addValidation=function(guid,attr,_12b8){if(!_1262[guid]){_1262[guid]=new _1258({msg:{guid:guid}});}_1262[guid].addField(attr,_12b8);};this.sendValidationUpdates=function(_12b9){var list,_12ba=[];for(var i=0,_12bb;_12bb=_12b9[i];i++){list=subs.vals[_12bb.getGuid()];var cp=_12bb.clone(),_12bc=cp.getAttributes();if(list){for(var x in list){var _12bd=_12bb.clone();try{list[x]([_12bd]);}catch(e){_125a.error(name+".sendValidationUpdates: trouble triggering validation update: "+e.message);delete list[x];}var attrs=_12bd.getAttributes();_125b.forEach(_12bc,function(attr){var name=attr.name,_12be=_125b.some(attrs,function(item){return item.name==name;});if(!_12be){cp.removeAttribute(attr.name);}},this);}}else{}if(cp.getAttributes().length){_12ba.push(cp);}}window.mx.ui.validations(_12ba);};this.action=function(_12bf){var _12c0=_12bf.context,_12c1=_12bf.callback,error=_12bf.error,_12c2=_12bf.onValidation,async=!!_12bf.async,_12c3=_12bf.params,store=_12bf.store;var _12c4=function(e){_126c(error,null,e,"action");};window.mx.server.request({request:{action:"executeaction",params:_12c3,context:_12c0},options:{callback:function(_12c5,_12c6,_12c7){var _12c8=_12c6.actionResult,value;if(_12c8 instanceof Array){value=_1273(_12c8,false,true,true);}else{if(typeof _12c8=="object"&&_12c8.guid){value=_1273([_12c8],false,true,true);}else{value=_12c6.actionResult;}}_12c1&&_12c1(value,_12c7);},error:_12c4,store:store,async:async,onValidation:_12c2}});};this.setOrRetrieveMxObject=function(json){return _1273([json],false,true)[0];};this.get=function(_12c9,_12ca){var xpath=_12c9.xpath,path=_12c9.path,id=_12c9.guid,ids=(!("guids" in _12c9)&&id)?[id]:_12c9.guids,_12cb=_12c9.callback,error=_12c9.error,_12cc=!!_12c9.noCache,count=!!_12c9.count,_12cd=_12c9.filter,_12ce=!!_12c9.aggregates,_12cf=_12c9.context,_12d0=_12c9.microflow,err;if(("guid" in _12c9)&&id==null){_1268(_12cb,_12ca,[null],"");return;}if(!xpath&&!ids&&!_12d0){err=name+".get: xpath, guid|guids and microflow arguments are undefined";_125a.error(err);throw new Error(err);}if(path&&ids.length!=1){throw new Error(name+".get : path can only be used with a single guid");}if(typeof _12cb!="function"){err=name+".get: callback is not a function";_125a.error(err);throw new Error(err);}else{if(error&&typeof error!="function"){err=name+".get: error is not a function";_125a.error(err);throw new Error(err);}}if(_12cd){if(_12cd.limit){_12cd.amount=_12cd.limit;delete _12cd.limit;}if(_12cd.references){for(var r in _12cd.references){var ref=_12cd.references[r];if(ref.limit){ref.amount=ref.limit;delete ref.limit;}}}}var val=null,_12d1=_1265({},_12cd,!id?{"id":val,"attributes":val,"offset":val,"sort":val,"amount":val,"distinct":val,"references":val,"depth":val}:{"id":val}),_12d2=function(e){_126c(error,_12ca,e,"get");};if(_12d1.id&&ids&&!id){delete _12d1.id;}if(_12d1.id){delete _12d1.attributes;delete _12d1.distinct;}if(_12d0){var _12d3=ids?"selection":(xpath?"set":"none"),_12d4={actionname:_12d0,applyto:_12d3};if(_12d3=="selection"){_12d4.guids=ids;}else{if(_12d3=="set"){_12d4.xpath=xpath;if(_12d1.sort){_12d4.sort=_12d1.sort;}}}this.action({params:_12d4,context:_12cf,callback:function(value,extra){_12cb&&_12cb.call(_12ca,value,extra);},error:_12d2});}else{if(path&&ids){window.mx.server.request({request:{action:"retrieve_by_path",params:{id:ids[0],path:path},context:null},options:{callback:_127a(function(objs,extra){_1268(_12cb,_12ca,[objs,extra],".get: error in handler for ["+ids+"]");},true,true),error:_12d2}});}else{if(ids){if(ids.length===0){_1268(_12cb,_12ca,[id?null:[],{count:0}],".get: error in handler");return;}if(!_12cc){var objs=_126f(ids),_12d5=objs.length==ids.length;if(_12d5){var _12d6=objs;if(_12d1.sort){_125b.forEach(_12d1.sort,function(sort){var attr=sort[0],dir=sort[1];_12d6=_12d6.sort(dir=="asc"?function(a,b){a=a.get(attr);b=b.get(attr);if(a<b){return -1;}else{if(a>b){return 1;}}return 0;}:function(a,b){a=a.get(attr);b=b.get(attr);if(a<b){return 1;}else{if(a>b){return -1;}}return 0;});});}var _12d7=_12d1.offset;if(_12d7){var limit=_12d1.amount;if(limit){_12d6=_12d6.slice(_12d7,_12d7+limit);}else{_12d6=_12d6.slice(_12d7);}}for(var i=0,guid;guid=_12d6[i];++i){++_1260[guid];}_1268(_12cb,_12ca,[id?_12d6[0]:_12d6,{count:objs.length}],".get: error in handler for ["+ids+"]");return true;}}var _12d8=_12d1.attributes==null;window.mx.server.request({request:{action:"retrieve_by_ids",params:{ids:ids,schema:_12d1}},options:{callback:_127a(function(objs,extra){var mxobj=objs[0];if(id&&_12d1.id){for(var i=0,obj;obj=objs[i];++i){if(obj.getGuid()==id){mxobj=obj;break;}}}_1268(_12cb,_12ca,[id?mxobj:objs,extra],".get: error in handler for ["+ids+"]");},_12d8,ids),error:_12d2}});return true;}else{window.mx.server.request({request:{action:"retrieve_by_xpath",params:{xpath:xpath,schema:_12d1,count:count,aggregates:_12ce}},options:{callback:_127a(function(objs,extra){_1268(_12cb,_12ca,[objs,extra],".get: error in error handler for xpath "+xpath);},false),error:_12d2}});return true;}}}};this.getBySchema=function(_12d9,_12da){var guid=_12d9.id,_12db=_12d9.callback;window.mx.server.request({request:{action:"retrieve_by_id_with_schema",params:_12d9},options:{callback:function(code,json){var _12dc=[],_12dd;_125b.forEach(json.mxobjects,function(_12de){var _12df=new _1259({json:_12de,meta:window.mx.meta.getEntity(_12de.objectType)});if(_12de.guid==guid){_12dd=_12df;}_12dc.push(_12df);});_12dd.attachReferences(_12dc);_12db&&_12db(_12dd,false);},error:function(e){_126c(_12d9.error,_12da,e,"getBySchema");}}});};this.fetch=function(obj,path,_12e0,_12e1,error){var _12e2=obj,_12e3=false,_12e4,_12e5,attr;if(_125c.isFunction(_12e0)){error=_12e1;_12e1=_12e0;}if(!path){_12e4=[];}else{if(path instanceof Array){_12e4=path.slice();}else{_12e4=path.split("/");}}if(obj&&obj.isA(_12e4[0])){_12e4.shift();}if(_12e4.length%2==1){attr=_12e4.pop();}else{attr="";}if(_12e0.schema){_12e5=_12e4.splice(-2);}else{_12e5=[];}var _12e6=function(_12e7,ref){if(_12e7.isObjectReference(ref)){return _12e7.getReference(ref);}else{if(_12e7.isObjectReferenceSet(ref)){return _12e7.getReferences(ref);}else{return _12e7.get(ref);}}};var _12e8=function(){if(_12e2==null){_12e1(null,false);}else{if(!attr){_12e1(_12e2,_12e3);}else{if(attr){_12e1(_12e6(_12e2,attr),false);}}}};var _12e9=function(ref){if(_12e2.getReferences(ref).length===0){_12e1([],false);}else{if(_12e2.hasChildren(ref)){_12e1(_12e2.getChildren(ref),false);}else{window.mx.data.get({guids:_12e2.getReferences(ref),filter:{id:_12e0.schema},callback:function(objs){_12e1(objs,true);},error:error});}}};var _12ea=function(ref,_12eb){var guid=_12e2.getReference(ref);if(guid){window.mx.data.get({guid:guid,filter:{id:_12eb},callback:function(obj){if(obj){_12e2=obj;_12e3=true;_12ec();}else{_12e1(null,false);}},error:error});}else{_12e1(null,false);}};var _12ed=function(path){var _12ee,_12ef;if(path.length<3){return false;}_12ee=window.mx.meta.getEntity(path.slice(-3)[0]),_12ef=_12e4.slice(-2)[0];return _12ee.isObjectReferenceSet(_12ef);};var _12f0=function(_12f1,type){var _12f2=["//"+type+"[id="+_12f1+"]"],isSet=_12ed([type].concat(_12e4));Array.prototype.push.apply(_12f2,_12e4);_12e4=[];window.mx.data.get({xpath:_12f2.join("/"),callback:function(objs){if(objs.length===0){_12e1(null,false);}else{if(attr&&objs.length==1){_12e2=objs[0];_12e8();}else{if(!attr){if(isSet){_12e1(objs,false);}else{_12e2=objs[0];_12ec();}}else{_126c(error,null,new Error(name+".fetch"+attr+" is not a reference type"),"fetch");}}}},error:error});};var _12ec=function(){var ref,type,child,_12f3;if(_12e4.length+_12e5.length===0){_12e8();}else{if(_12e4.length===0&&_12e5.length>0){ref=_12e5.shift();type=_12e5.shift();if(_12e2.isObjectReferenceSet(ref)){_12e9(ref);}else{_12ea(ref,_12e0.schema);}}else{if(_12e3){window.mx.data.release(_12e2);_12e3=false;}ref=_12e4.shift();type=_12e4.shift();if(_12e2.isObjectReferenceSet(ref)){if(_12e4.length>0||_12e5>0){_126c(error,null,new Error(name+".fetch: reference set should be at end of path"),"fetch");}else{_12e9(ref);}}else{if(_12e2.isObjectReference(ref)){child=_12e2.getChild(ref);if(child){_12e2=child;_12ec();}else{_12f3=_12e2.getReference(ref);if(!_12f3){_12e1(null,false);}else{if(_125f[_12f3]!==undefined){_12e2=_125f[_12f3];++_1260[_12f3];_12e3=true;_12ec();}else{if(_12e0.usexpath&&_12e4.length>0){_12f0(_12f3,type);}else{_12ea(ref);}}}}}else{_126c(error,null,new Error(name+".fetch: attribute "+ref+" is not a reference type"),"fetch");}}}}};_12ec();};this.release=function(objs){if(!objs){return;}objs=objs instanceof Array?objs:[objs];var _12f4=[];for(var i=0,len=objs.length;i<len;++i){var obj=objs[i];if(obj){var guid=obj.getGuid();if(_1260[guid]){if(--_1260[guid]===0&&!_1270(guid)){_12f4.push(guid);}}else{}}}_1272(_12f4);};this.create=function(_12f5,_12f6){var error=_12f5.error,_12f7=_12f5.context,_12f8=_12f5.entity,_12f9=_12f5.persistent,err;if(typeof _12f5.callback!="function"){err=name+".create: callback is not a function";_125a.error(err);throw new Error(err);}else{if(error&&typeof error!="function"){err=name+".create: error is not a function";_125a.error(err);throw new Error(err);}else{if(typeof _12f8!="string"){err=name+".create: entity is not a string";_125a.error(err);throw new Error(err);}}}var _12fa=function(objs){var obj=objs&&objs[0];if(_12f7){self.setObjectToContext(obj,_12f7);}_12f5.callback.call(_12f6,obj);};var _12fb=function(e){_126c(error,_12f6,e,"create");};window.mx.server.request({request:{action:_12f9?"create":"instantiate",params:{objecttype:_12f5.entity,preventCache:(new Date()).getTime()}},options:{callback:_127a(_12fa,true,true),error:_12fb}});};this.jsonToMxObject=function(json){return new _1259({json:json,meta:window.mx.meta.getEntity(json.objectType)});};this.remove=function(_12fc){var error=_12fc.error,_12fd=_12fc.callback,guids=("guid" in _12fc)?[_12fc.guid]:_12fc.guids;if(("guids" in _12fc)&&!(_12fc.guids instanceof Array)){throw new Error(name+".remove: parameter guids set but not of type Array");}else{if(error&&typeof error!="function"){throw new Error(name+".remove: parameter error set but not of type Function");}else{if(_12fd&&typeof _12fd!="function"){throw new Error(name+".remove: parameter callback set but not of type Function");}}}window.mx.server.request({request:{action:"delete",params:{guids:guids}},options:{callback:function(){_1272(guids);lang.nullExec(_12fd);},error:function(e){_126c(error,null,e,"remove");}}});};this.save=function(_12fe,_12ff){var _1300,error,mxobj,_1301,guid,msg,emsg=".save: error calling handler",e,_1302,_1303,_1304,objsc,obj;if(_12fe){mxobj=_12fe.mxobj;_1300=_12fe.callback;error=_12fe.error;_1301=_12fe.standalone;}if(typeof _1300!="function"){e=name+".save: callback is not a function";_125a.error(e);throw new Error(e);}else{if(mxobj!=null&&!(mxobj instanceof _1259)){e=name+".save: mxobj is not a MxObject";_125a.error(e);throw new Error(e);}}if(mxobj){guid=mxobj.getGuid();emsg=".save: error calling handler for ["+guid+"]";msg=_1262[guid];if(msg){var data=null;if(msg instanceof Error){data=msg;}else{if(msg){data=new _1257();this.sendValidationUpdates([msg.clone()]);}}_126c(error,_12ff,data,"save");return;}else{if(!mxobj.hasChanges()){_1268(_1300,_12ff,null,emsg);return;}}}_1303={};if(!_1301){_1302=_1261;_1261={};_1304=0;objsc=0;for(var id in _1302){objsc++;obj=_1302[id];if(obj.hasChanges()){_1304++;_1303[id]=obj._collectChanges();}delete _1262[id];}if(!_1304){if(objsc){}_1268(_1300,_12ff,null,emsg);return;}}if(mxobj&&!_1302[guid]){_1303[guid]=mxobj._collectChanges();_1302={guid:mxobj};delete _1261[guid];delete _1262[guid];}window.mx.server.request({request:{action:"change",params:_1303},options:{onValidation:_12fe.onValidation,sync:true,unique:true,callback:function(){for(var guid in _1302){_1302[guid]._applyChangeSet();}_1302=null;_1268(_1300,_12ff,null,emsg);},error:function(e){data=e.original||{};var _1305=false,_1306=guid;if(ov.hasValidations(data)){_125b.forEach(ov.getValidations(data),function(v){var id=v.getGuid();if(_1302[id]){_1262[id]=v;delete _1302[id];}if(mxobj&&id==_1306){_1305=true;}});for(var id in _1302){_1302[id]._applyChangeSet();}}else{_125c.mixin(_1261,_1302);_1305=true;}_1302=null;if(mxobj){if(_1305){_126c(error,null,e,"save");}else{_1268(_1300,_12ff,null,emsg);}}else{_1268(_1300,_12ff,null,emsg);}}}});};this.commit=function(_1307,_1308){var obj,_1309,error,_130a,_130b,guid,e,msg;if(_1307){obj=_1307.mxobj;_1309=_1307.callback;error=_1307.error;_130a=_1307.onValidation;_130b=_1307.context;}if(typeof _1309!="function"){e=name+".commit: callback is not a function";_125a.error(e);throw new Error(e);}else{if(obj!=null&&!(obj instanceof _1259)){e=name+".commit: mxobj is not a MxObject";_125a.error(e);throw new Error(e);}}if(obj==null){_1268(_1309,_1308,null,".commit: error when executing handler");}else{guid=obj.getGuid();msg=".commit: error when executing handler for ["+guid+"]";window.mx.server.request({request:{action:"commit",params:{guid:guid},context:_130b},options:{callback:function(){obj._commitChangeSet();delete _1262[guid];delete _1261[guid];self.objectUpdateNotification(obj);_1268(_1309,_1308,null,msg);},error:function(e){_126c(error,null,e,"commit");},onValidation:_130a,store:_1307.store}});}};this.rollback=function(_130c,_130d){var _130e,obj,error;if(_130c){_130e=_130c.callback;obj=_130c.mxobj;error=_130c.error;}var emsg=".rollback: error in handler ",e;if(typeof _130e!="function"){e=name+".rollback: callback is not a function";_125a.error(e);throw new Error(e);}else{if(obj!=null&&!(obj instanceof _1259)){e=name+".rollback: mxobj is not a MxObject";_125a.error(e);throw new Error(e);}}if(!obj){_1268(_130e,_130d,null,emsg);}else{var guid=obj.getGuid(),claz=obj.getEntity();emsg=name+".rollback: error in handler for ["+guid+"]";delete _1262[guid];delete _1261[guid];window.mx.server.request({request:{action:"rollback",params:{guid:guid}},options:{unique:true,standalone:true,callback:_127a(function(objs){obj._commitChangeSet();obj.reset();_1280(obj,objs[0]);self.sendClassUpdate(claz);_1268(_130e,_130d,null,emsg);},false),error:function(e){_126c(error,null,e,"rollback");}}});}return true;};this.mxObjectsCallback=function(_130f){return _127a(_130f,false);};this.matchObjectsToContext=function(_1310){var _1311=_1310.entity,_1312=_1310.context,_1313=_1310.mxobjs,_1314=_1310.callback,_1315=[];_128f(window.mx.meta.getEntity(_1311),_1312,function(_1316){var _1317=_12a7(_1316);for(var i=0,obj;obj=_1313[i];i++){var _1318=0;for(var x=0,match;match=_1317[x];x++){var ref=match.ref,_1319=match.ref_ids,ids=obj.getReferences(ref),found=false;if(ids!==false){for(var j=0;j<ids.length;j++){if(_1319.match(ids[j])){found=true;break;}}}found&&_1318++;}if(_1318==_1317.length){_1315.push(obj);}}_1314(_1315);});};this.createXPathString=function(_131a){var _131b=_131a.callback,_131c=_131a.entity||_131a.className,_131d=_131a.context;var _131e=_131d&&_131d.getContexts();if(!_131e||_131e.length===0){_131b("//"+_131c);return;}_129d(_131a);};this.generateExport=function(_131f){window.mx.server.request({request:{action:"export",params:_131f.params},options:{callback:_131f.callback,error:function(e){_126c(_131f.error,null,e,"generateExport");},useCache:false,async:true}});};this.setObjectToContext=function(mxObj,_1320){if(typeof mxObj!="object"){throw new Error(name+".setObjectToContext: parameter mxObj is not of type Object");}else{if(typeof _1320!="object"){throw new Error(name+".setObjectToContext: parameter context is not of type Object");}}try{var _1321=mxObj.getAttributes();for(var e=0;e<_1321.length;e++){if(mxObj.isReference(_1321[e])){var _1322=mxObj.getSelectorEntity(_1321[e]);if((_1321[e]=="System.owner")||(_1321[e]=="System.changedBy")){continue;}if(_1320.hasContext(_1322)){mxObj.addReference(_1321[e],_1320.getContext(_1322));}var meta=window.mx.meta.getEntity(_1322);if(meta){if(meta.hasSubEntities()){var _1323=meta.getSubEntities();for(var i=0;i<_1323.length;i++){if(_1320.hasContext(_1323[i])){mxObj.addReference(_1321[e],_1320.getContext(_1323[i]));}}}}}}}catch(err){}};this.sumOfXPathSet=function(_1324){_1324.type="sum";_12a5(_1324);};this.countOfXPathSet=function(_1325){_1325.type="count";_12a5(_1325);};this.sizeOfXPathSet=function(_1326){_1326.type="count";_12a5(_1326);};this.avgOfXPathSet=function(_1327){_1327.type="avg";_12a5(_1327);};this.maxOfXPathSet=function(_1328){_1328.type="max";_12a5(_1328);};this.minOfXPathSet=function(_1329){_1329.type="min";_12a5(_1329);};this.makeChange=function(mxobj,attr,value){var guid=mxobj.getGuid();_1261[guid]=mxobj;delete _1262[guid];var cache=_125f,_132a=cache[guid];if(_132a&&mxobj!=_132a){_132a._makeChange(attr,value);}else{this.update({guid:guid,attr:attr,value:value});}};this.xastrigger=function(_132b){if(lang.itemCount(_1261)===0){_132b&&_132b();}else{this.save({mxobj:null,callback:_132b});}};};return Data;});},"mendix/sys/Session":function(){define(["mendix/lang","mendix/logger","dojo/_base/array","dojo/_base/json","dojo/_base/lang","dojo/_base/window","dojo/io-query","dojo/_base/config","dojo/_base/kernel","dojo"],function(lang,_132c,_132d,_132e,_132f,_1330,_1331,_1332,_1333,dojo){function _1334(){var self=this,name="mendix.sys.Session",_1335=false,_1336=null,_1337=[],_1338=null,_1339=0,_133a=null,_133b=false,_133c={},_133d=null;var _133e=function(){window.mx.server.request({request:{action:"keepalive",params:{preventCache:+new Date()}},options:{failOk:true,standalone:true}});};var _133f=function(){clearInterval(_133a);if(_1339){_133a=setInterval(_133e,_1339);}};var _1340=function(_1341){_1338=window.mx.data.jsonToMxObject(_1336.user);_1337=_132d.map(_1336.roles,function(role){return window.mx.data.jsonToMxObject(role);});_1341();};this.toString=function(){return name;};this.startup=function(_1342){if(!window.mx.offline){_133f();_1340(function(){_1335=true;_1342();});}else{_1342();}};this.shutdown=function(){clearInterval(_133a);_1335=false;_1337=[];_1338=null;};this.isLoaded=function(){return _1335;};this.getConfig=function(path){if(!path){return _1336;}else{return _132f.getObject(path,false,_1336);}};this.inDevMode=function(){return _133b;};this.toggleDevMode=function(){_133b=!_133b;};this.isGuest=function(){if(!_1338||!_1338.has("IsAnonymous")){return true;}else{return _1338.get("IsAnonymous");}};this.getUserId=function(){return _1338&&_1338.getGuid();};this.getUserClass=function(){return _1338&&_1338.getEntity();};this.getUserName=function(){return _1338&&_1338.get("Name");};this.getUserAttribute=function(attr){if(_1338&&_1338.has(attr)){return _1338.get(attr);}return null;};this.getUserRoles=function(attr){return attr!=null?lang.map(_1337,function(o){return o.get(attr);}):_1337;};this.getCSRFToken=function(){return this.getConfig("csrftoken");};this.getLicenseInfo=function(){return _133c;};this.logout=function(){window.mx.server.request({request:{action:"logout",params:{log:window.mx.server.flushLog()}},options:{sync:true,callback:function(){window.mx.logout({no_alert:true});}}});};this.authorized=function(_1343){var _1344=_1330.doc.location.search,query=_1331.queryToObject(_1344.substr((_1344[0]==="?"?1:0)));var _1345={profile:query.profile||"",timezoneoffset:new Date().getTimezoneOffset()};if(typeof navigator!="undefined"&&navigator.standalone){_1345.longLiveTheCookie=true;}dojo.xhrPost({url:window.mx.baseUrl,handleAs:"json",contentType:"application/json",postData:_132e.toJson({action:"get_session_data",params:_1345}),load:function(data,_1346){_1336=data;var _1347=self.getConfig("uiconfig.direction")=="rtl"?_1332.rtlRedirect:_1332.ltrRedirect;if(_1347){self.onRedirect(_1347);return;}if(_133d&&_133d!=_1336.cachebust){self.onRedeploy();return;}var v=_1333.version;_1332.cacheBust=[v.major,v.minor,v.patch].join("");window.mx.server.setCacheBust(data.cachebust);_1339=_1336.keepalive;if(_1343.yes){try{_1343.yes();}catch(e){throw e;}}},error:function(e,_1348){if(_1348.xhr.status==401){_1336=_132e.fromJson(_1348.xhr.responseText);}if(_1343.no){_1343.no({http_code:_1348.xhr.status});}}});};this.hasSomeRole=function(roles){if(roles===null){return true;}else{if(!roles){return false;}else{if(!(roles instanceof Array)){roles=roles.split(",");}}}var _1349=this.getUserRoles("Name");for(var i=0;i<roles.length;i++){var role=roles[i];for(var j=0;j<_1349.length;j++){var _134a=_1349[j];if(role==_134a){return true;}}}return false;};this.onRedeploy=function(){};this.onRedirect=function(_134b){};};return _1334;});},"mendix/sys/Remote":function(){define(["mendix/lang","mendix/ov","mendix/logger","dojo/_base/lang"],function(lang,ov,_134c,_134d){function _134e(){var name="mendix.sys.Remote",_134f=false,_1350={system:new _134e.SystemCall(),component:new _134e.ComponentCall(),application:new _134e.ApplicationCall()};var _1351=function(json,_1352){var _1353=_134d.clone(json.instructions),_1354=[];for(var i=0,item;item=_1353[i];i++){if(/(open_form|close)/.test(item.type)){_1354.push(item);_1353.splice(i,1);}}if(_1352){}else{_1353=_1354.concat(_1353);}return _1353;};this.toString=function(){return name;};this.startup=function(_1355){_134f=true;_1355();};this.shutdown=function(){_134f=false;};this.isLoaded=function(){return _134f;};this.hasInstructions=function(json){return !!(json&&json.instructions!=null&&json.instructions.length);};this.execute=function(json,store,_1356,_1357){if(this.hasInstructions(json)){var chain=[],list=_1351(json,_1356);if(list.length>10){}for(var i=0,_1358;_1358=list[i];i++){var _1359=_1358.target;if(_1350[_1359]){chain.push(_1350[_1359].buildInstruction(_1358,store||{}));}else{}}lang.sequence(chain,_1357);}else{_1357&&_1357();}};this.hasValidation=function(_135a){return ov.hasValidations(_135a);};this.getValidations=function(_135b){return ov.getValidations(_135b);};};_134e.SystemCall=function(){var name="mendix.sys.Remote.SystemCall",_135c={text_message:"actTextMessage",refresh_object_list:"actRefreshObjectList",refresh_object:"actRefreshObject",refresh_class:"actRefreshClass",open_form:"actOpenForm",download_file:"actDownloadFile",show_login:"actShowLogin",logout:"logout"};var _135d=function(_135e){var _135f=mx.context.create();if(!_135e){return _135f;}var _1360="",items=_135e.items||[];for(var i=0,cntx;cntx=items[i];i++){var guid=cntx.guid,clazz=cntx.classname;if(clazz&&guid){_135f.setContext(clazz,guid);if(guid==_135e.activeguid){_1360=clazz;}}}if(_1360){_135f.setTrackEntity(_1360);}return _135f;};this.actTextMessage=function(_1361,store,_1362){var args=_1361.args,_1363=args.MessageContent,_1364=args.MessageType,_1365=String(args.MessageBlock)=="true";if(_1363!=null&&_1364!=null){(mx.ui[_1364.toLowerCase()]||mx.ui.info)(_1363,_1365);}else{throw new Error(name+".actTextMessage: message content is null");}_1362&&_1362();};this.actRefreshObjectList=function(_1366,store,_1367){var _1368=_1366.args.mxobjects,chain=[];if(_1368&&_1368.length){var _1369={},count=_1368.length;while(count--){var obj=_1368[count];if(typeof obj=="object"&&obj.objectType){var mxobj=mx.data.setOrRetrieveMxObject(obj);_1369[mxobj.getEntity()]=true;chain.push((function(mxobj){return function(cb){mx.data.objectPing(mxobj,cb);};})(mxobj));}else{_134c.error(name+"actRefreshObjectList: invalid json object");}}chain.push(function(cb){for(var klass in _1369){mx.data.sendClassUpdate(klass);}cb();});lang.collect(chain,_1367);}else{_1367&&_1367();}};this.actRefreshClass=function(_136a,store,_136b){var _136c=_136a.args.ObjectClass;if(_136c!=null){mx.data.sendClassUpdate(_136c);}else{}_136b&&_136b();};this.actOpenForm=function(_136d,store,_136e){var _136f=_135d(_136d.context),args=_136d.args,_1370=String(args.FormTarget).toLowerCase();if(args.FormGuid){_136f.setContext(args.FormEntity,args.FormGuid);}mx.ui.openForm(args.FormPath,{title:args.FormTitle,location:(_1370=="window")?"popup":_1370,width:args.FormWidth,height:args.FormHeight,resizable:args.FormResizable,context:_136f,dir:store.dir});_136e&&_136e();};this.actDownloadFile=function(_1371,store,_1372){var mxobj=_1371.args.FileDocument,_1373=_1371.args.Target;if(!mxobj){_1372&&_1372();return;}mx.ui.downloadFile({mxobject:mx.data.setOrRetrieveMxObject(mxobj),target:_1373});_1372&&_1372();};this.actShowLogin=function(_1374,store,_1375){mx.ui.showLogin();_1375&&_1375();};this.logout=function(_1376,store,_1377){mx.logout();_1377();};this.buildInstruction=function(_1378,store){var _1379=_135c[_1378.type];if(_1379){return _134d.hitch(this,_135c[_1378.type],_1378,store);}else{return function(_137a){_137a&&_137a();};}};};_134e.ComponentCall=function(){var name="mendix.sys.Remote.ComponentCall";this.buildInstruction=function(_137b,store){var _137c=store.caller;if(_137c&&_137c.hasInterface&&_137c.hasInterface(_137b.type)){return function(_137d){try{_137c.invokeCall(_137b.type,_137b.args);}catch(e){_134c.error(name+".buildInstruction: error occurred while executing instruction: "+e.message);}_137d&&_137d();};}else{return function(_137e){_137e&&_137e();};}};};_134e.ApplicationCall=function(){var name="mendix.sys.Remote.ApplicationCall";this.buildInstruction=function(_137f,store){return function(_1380){_1380&&_1380();};};};return _134e;});},"mendix/compat":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mendix.compat");(function(){var _1381="6.0";mendix.lang.deprecate("mendix.lang",{runBindActions:"sequence",runAsyncActions:"collect",runActions:"sequence"},_1381);mendix.lang.deprecate("mendix.lang","clone","dojo","clone",_1381);mendix.lang.deprecate("mendix.lang","round","dojo.number","round",_1381);mendix.lang.deprecate("mendix.lang","toFixed","dojo.number","round",_1381);mendix.lang.deprecate("mendix.lang","dupObject","dojo","clone",_1381);var lang=mendix.lang,_1382={sequence:lang.sequence,collect:lang.collect};dojo.mixin(lang,{sequence:function(scope,chain,_1383){if(chain instanceof Array){dojo.deprecated("mendix.lang.sequence","Method signature has changed to sequence(seq, callback, scope)",_1381);return _1382.sequence.call(lang,chain,_1383,scope);}else{return _1382.sequence.apply(lang,arguments);}},collect:function(scope,chain,_1384){if(chain instanceof Array){dojo.deprecated("mendix.lang.collect","Method signature has changed to collect(coll, callback, scope)",_1381);return _1382.collect.call(lang,chain,_1384,scope);}else{return _1382.collect.apply(lang,arguments);}},inArray:function(arr,value){dojo.deprecated("mendix.lang.inArray is deprecated, use dojo.indexOf instead","",_1381);return dojo.indexOf(arr,value)!=-1;}});mendix.lang.deprecate("mx","moduleUrl","dojo","moduleUrl",_1381);mendix.lang.deprecate("mx.meta",{getMetaMap:"getMap"},_1381);var meta=mx.meta;dojo.mixin(meta,{getMetaEntity:function(args,scope){dojo.deprecated("mx.meta.getMetaEntity is deprecated, use getEntity instead","",_1381);if(typeof args!="string"){dojo.deprecated("mx.meta.getEntity should have one parameter of type string, which is the entity name","",_1381);var _1385=meta.getEntity(args.className),error=args.error,_1386=args.callback;if(!_1385){error&&error.call(scope);}else{_1386&&_1386.call(scope,_1385);}return _1385;}return meta.getEntity.apply(meta,arguments);}});mendix.lang.deprecate("mx.metadata","mx.meta",_1381);mendix.lang.deprecate("mx.server",{getResource:"get"},_1381);mendix.lang.deprecate("mx.xas","action","mx.data","action",_1381);var data=mx.data,refs={},subs={types:{},guids:{}};for(var _1387 in data){refs[_1387]=data[_1387];}var _1388=function(args,map){if(args.length==1&&map.length!=1){return args[0];}else{var _1389={};for(var i=0,l=map.length;i<l;i++){var name=map[i],value=args[i];if(value){_1389[name]=value;}}return _1389;}};var _138a=function(_138b,_138c){if(arguments.length>1){dojo.deprecated("mx.data."+_138b+": deprecated arguments, use use { xpath : '', resulttype : '', callback : callback, error : error } instead","",_1381);_138c=_1388([].slice.call(arguments,1),["xpath","callback","resulttype"]);}return refs[_138b](_138c);};dojo.mixin(data,{distributeChange:function(guid,attr,value){dojo.deprecated("mx.data.distributeChange is deprecated, use update instead","",_1381);return data.update({guid:guid,attr:attr,value:value});},addChangeListener:function(guid,attr,_138d){dojo.deprecated("mx.data.addChangeListener is deprecated, use subscribe instead","",_1381);return data.subscribe({guid:guid,attr:attr,callback:_138d});},removeChangeListener:function(_138e){dojo.deprecated("mx.data.removeChangeListener is deprecated, use unsubscribe instead","",_1381);return data.unsubscribe(_138e);},subscribeToClass:function(_138f,klass){dojo.deprecated("mx.data.subscribeToClass is deprecated, use subscribe instead","",_1381);var id=_138f.id,sub=subs.types,map=sub[id]||(sub[id]={});if(map[klass]){return map[klass];}else{var _1390=data.subscribe({entity:klass,callback:dojo.hitch(_138f,"objectUpdate")});return (map[klass]=_1390);}},unSubscribeFromClass:function(_1391,klass){dojo.deprecated("mx.data.unSubscribeFromClass is deprecated, use unsubscribe instead","",_1381);var id=_1391.id,sub=subs.types,_1392=sub[id]&&sub[id][klass];if(_1392){data.unsubscribe(_1392);delete sub[id][klass];if(!mendix.lang.itemCount(sub[id])){delete sub[id];}}},subscribeToGUID:function(_1393,guid){dojo.deprecated("mx.data.subscribeToGUID is deprecated, use subscribe instead","",_1381);var id=_1393.id,sub=subs.guids,map=sub[id]||(sub[id]={});if(map[guid]){return map[guid];}else{var _1394=data.subscribe({guid:guid,callback:dojo.hitch(_1393,"objectUpdate")});return (map[guid]=_1394);}},unSubscribeFromGUID:function(_1395,guid){dojo.deprecated("mx.data.unSubscribeFromGUID is deprecated, use unsubscribe instead","",_1381);var id=_1395.id,sub=subs.guids,_1396=sub[id]&&sub[id][guid];if(_1396){data.unsubscribe(_1396);delete sub[id][guid];if(!mendix.lang.itemCount(sub[id])){delete sub[id];}}},xasAction:function(args){dojo.deprecated("mx.data.xasAction is deprecated, use action instead","",_1381);var _1397=args.callback;args.callback=function(value,_1398){return _1397&&_1397(_1398,value);};return data.action.call(data,args);},action:function(args){if(args.caller){dojo.deprecated("mx.data.action: deprecated arguments, use store property for caller parameter ({ store : { caller : obj }})","",_1381);var _1399=args.caller,store=args.store||(args.store={});store.caller=args.caller;}if(args.params){refs.action.apply(data,arguments);}else{dojo.deprecated("mx.data.action: deprecated arguments, use params property for action parameters","",_1381);var _139a={context:args.context,callback:args.callback,error:args.error,store:args.store,onValidation:args.onValidation,async:args.async,params:args};delete args.context;delete args.callback;delete args.error;delete args.store;delete args.caller;delete args.onValidation;delete args.async;refs.action(_139a);}},getObjectsByXPath:function(){dojo.deprecated("mx.data.getObjectsByXPath is deprecated, use get instead","",_1381);var args=arguments;var _139b=(typeof args[1]=="function")?_1388(args,["xpath","callback","useCache"]):_1388(args,["xpath","options","callback","useCache"]);var xpath=_139b.xpath,_139c=_139b.options||{},_139d=_139b.callback,_139e=_139b.error||_139c.error;return data.get({xpath:xpath,callback:_139d,error:_139c.error,count:_139c.addcount,filter:{limit:_139c.limit,offset:_139c.offset,sort:_139c.sort,attributes:_139c.tags}});},getAttributeListByXPath:function(_139f){dojo.deprecated("mx.data.getAttributeListByXPath is deprecated, use get instead","",_1381);_139f=_139f||{};var _13a0=_139f.callback,_13a1=_139f.error,_13a2=_139f.attribute;return data.get({xpath:_139f.xpath,callback:function(objs){var list={};for(var i=0,l=objs.length;i<l;i++){var value=objs[i].getAttribute(_13a2);list[value]=value;}_13a0&&_13a0(list);},error:error,filter:{limit:options.limit,offset:options.offset,sort:options.sort,attributes:[_13a2],distinct:true}});},getObjectsByXPathSchema:function(){dojo.deprecated("mx.data.getObjectsByXPathSchema is deprecated, use get instead","",_1381);var _13a3=_1388(arguments,["xpath","options","callback","useCache"]),_13a4=_13a3.options||{},xpath=_13a3.xpath,_13a5=_13a3.callback,_13a6=_13a3.error||_13a4.error;return data.get({xpath:xpath,callback:_13a5,error:_13a4.error,count:_13a4.addcount,noCache:!_13a3.useCache,filter:{id:_13a4.queryid,limit:_13a4.limit,offset:_13a4.offset,sort:_13a4.sort}});},getObjectsByMicroFlow:function(_13a7,_13a8,_13a9){dojo.deprecated("mx.data.getObjectsByMicroFlow is deprecated, use get instead","",_1381);_13a8=_13a8||{};data.action({params:{actionname:_13a7,applyto:_13a8.applyto||"none",constraints:_13a8.constraints||"",guids:_13a8.guids||null},context:_13a8.context,callback:_13a9,error:function(e){_13a8.error?_13a8.error(e):_13a9&&_13a9([]);}});},getObjectsById:function(_13aa){dojo.deprecated("mx.data.getObjectsById is deprecated, use get instead","",_1381);var _13ab,_13ac,_13ad,_13ae;if(_13aa.length==null&&arguments.length==1){var _13af=_13aa;_13aa=_13af.ids;_13ab=_13af.options;_13ac=_13af.callback;_13ae=_13af.error;_13ad=_13af.nocache;}else{if(typeof arguments[1]=="function"){_13ac=arguments[1];_13ad=arguments[2];}else{_13ab=arguments[1];_13ac=arguments[2];_13ad=arguments[3];_13ae=_13ab?_13ab.error:null;}}_13ab=_13ab||{};return data.get({guids:_13aa,callback:_13ac,error:_13ae,count:_13ab.addcount,filter:{limit:_13ab.limit,offset:_13ab.offset,sort:_13ab.sort,attributes:_13ab.tags}});},getObjectByXPath:function(_13b0){dojo.deprecated("mx.data.getObjectByXPath is deprecated, use get instead","",_1381);return data.get({xpath:_13b0.xpath,callback:_13b0.callback,error:_13b0.error,filter:{limit:1}});},getObject:function(objId,_13b1,_13b2){dojo.deprecated("mx.data.getObject is deprecated, use get instead","",_1381);var _13b3=_1388(arguments,["objId","callback","nocache"]);return data.get({guid:_13b3.objId,error:_13b3.error,callback:_13b3.callback,noCache:_13b3.nocache});},createObjectByClass:function(){dojo.deprecated("mx.data.createObjectByClass is deprecated, use create instead","",_1381);var _13b4=arguments[0],_13b5=arguments[1],_13b6=arguments[2],_13b7=arguments[3];if((!(typeof _13b4=="string"))&&(!(_13b4 instanceof String))){throw new Error(name+".createObjectByClass: parameter entity is not of type String");}else{if(!(typeof _13b5=="function")){throw new Error(name+".createObjectByClass: parameter callbackFunction is not of type Function");}else{if(!(_13b6 instanceof mendix.lib.MxContext)){}}}return data.create({entity:_13b4,callback:_13b5,error:_13b7,context:_13b6});},createObject:function(_13b8){dojo.deprecated("mx.data.createObject is deprecated, use create instead","",_1381);return data.create({entity:_13b8.className,callback:_13b8.callback,error:_13b8.error,context:_13b8.context});},deleteObjectsByGUID:function(guids,_13b9,error){dojo.deprecated("mx.data.deleteObjectsByGUID is deprecated, use remove instead","",_1381);return data.remove({guids:guids,callback:_13b9,error:error});},saveObject:function(mxobj,_13ba){dojo.deprecated("mx.data.saveObject is deprecated, use save instead","",_1381);return data.save({mxobj:mxobj,callback:_13ba.callback,error:_13ba.error});},commitObject:function(obj,_13bb){dojo.deprecated("mx.data.commitObject is deprecated, use commit instead","",_1381);return data.commit({mxobj:obj,callback:_13bb.callback,error:_13bb.error});},rollbackObject:function(obj,_13bc){dojo.deprecated("mx.data.rollbackObject is deprecated, use rollback instead","",_1381);return data.rollback({mxobj:obj,callback:_13bc.callback,error:_13bc.error});},deleteObject:function(obj,_13bd){dojo.deprecated("mx.data.deleteObject is deprecated, use remove instead","",_1381);return data.remove({guid:obj.getGuid(),callback:_13bd.callback,error:_13bd.error});},deleteMxObjects:function(_13be){dojo.deprecated("mx.data.deleteMxObjects is deprecated, use remove instead","",_1381);var ids=[],_13bf=[],objs=_13be.mxObjects;for(var i in objs){ids.push(objs[i].getGuid());_13bf.push(objs[i].getEntity());}data.remove({guids:ids,callback:function(){for(var i=0,clazz;clazz=_13bf[i];i++){data.sendClassUpdate(clazz);}_13be.callback&&_13be.callback();},error:_13be.error});},sizeOfXPathSet:function(_13c0){return _138a("sizeOfXPathSet",_13c0);},sumOfXPathQuery:function(_13c1){dojo.deprecated("mx.data.sumOfXPathQuery is deprecated, use sumOfXPathSet instead","",_1381);return _138a("sumOfXPathSet",_13c1);},sizeOfXPathQuery:function(_13c2){dojo.deprecated("mx.data.sizeOfXPathQuery is deprecated, use sizeOfXPathSet instead","",_1381);return _138a("sizeOfXPathQuery",_13c2);},countOfXPathQuery:function(_13c3){dojo.deprecated("mx.data.countOfXPathQuery is deprecated, use sizeOfXPathSet instead","",_1381);return _138a("countOfXPathQuery",_13c3);},avgOfXPathQuery:function(_13c4){dojo.deprecated("mx.data.avgOfXPathQuery is deprecated, use avgOfXPathSet instead","",_1381);return _138a("avgOfXPathQuery",_13c4);},maxOfXPathQuery:function(_13c5){dojo.deprecated("mx.data.maxOfXPathQuery is deprecated, use maxOfXPathSet instead","",_1381);return _138a("maxOfXPathQuery",_13c5);},minOfXPathQuery:function(_13c6){dojo.deprecated("mx.data.minOfXPathQuery is deprecated, use minOfXPathSet instead","",_1381);return _138a("minOfXPathQuery",_13c6);},ceilingOfXPathQuery:function(_13c7){dojo.deprecated("mx.data.ceilingOfXPathQuery is deprecated, use maxOfXPathSet instead","",_1381);return _138a("maxOfXPathQuery",_13c7);},floorOfXPathQuery:function(_13c8){dojo.deprecated("mx.data.floorOfXPathQuery is deprecated, use minOfXPathSet instead","",_1381);return _138a("minOfXPathQuery",_13c8);}});mendix.lang.deprecate("mx.processor","mx.data",_1381);mendix.lang.deprecate("mendix.lib.MxContext",{hasActiveClass:"hasTrackEntity",hasActiveGUID:"hasTrackId",hasTrackID:"hasTrackId",getActiveClass:"getTrackEntity",getActiveGUID:"getTrackId",getTrackID:"getTrackId",setActiveClass:"setTrackEntity",setActive:"setTrackEntity",setTrackID:"setTrackId",setContextFromMxObject:"setContext"},_1381);mendix.lang.deprecate("mendix.lib.MxObject",{getGUID:"getGuid",getClass:"getEntity",getAttribute:"get",setAttribute:"set",hasAttribute:"has",getAttributeClass:"getAttributeType",inheritsOf:"inheritsFrom",hasSubClasses:"hasSubEntities",getSubClasses:"getSubEntities",hasSuperClasses:"hasSuperEntities",getSuperClasses:"getSuperEntities",getSelectorClass:"getSelectorEntity"},_1381);dojo.extend(mendix.lib.MxObject,{save:function(_13c9){dojo.deprecated("mendix.lib.MxObject.save is deprecated, use mx.data.save instead","",_1381);return mx.data.save({mxobj:this,error:_13c9.error,callback:_13c9.callback});},commit:function(_13ca){dojo.deprecated("mendix.lib.MxObject.commit is deprecated, use mx.data.commit instead","",_1381);return mx.data.commit({mxobj:this,error:_13ca.error,callback:_13ca.callback});},rollback:function(_13cb){dojo.deprecated("mendix.lib.MxObject.rollback is deprecated, use mx.data.rollback instead","",_1381);return mx.data.rollback({mxobj:this,error:_13cb.error,callback:_13cb.callback});},saveSequence:function(_13cc){dojo.deprecated("mendix.lib.MxObject.saveSequence is deprecated, use mx.data.save and mx.data.commit instead","",_1381);var self=this;return mx.data.save({mxobj:self,callback:function(){mx.data.commit({mxobj:self,callback:function(){}});}});}});mendix.lang.deprecate("mendix.lib.MxMetaObject",{getGUID:"getGuid",getClass:"getEntity",hasAttribute:"has",getAttributeClass:"getAttributeType",inheritsOf:"inheritsFrom",hasSubClasses:"hasSubEntities",getSubClasses:"getSubEntities",hasSuperClasses:"hasSuperEntities",getSuperClasses:"getSuperEntities",getSelectorClass:"getSelectorEntity"},_1381);})();});},"mxui/compat":function(){define(["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("mxui.compat");(function(){var _13cd="6.0",_13ce=mendix.lang.deprecate;_13ce("mxui.dom",{removeElement:"orphan",setTextContent:"text",getTextContent:"text",textContent:"text"},_13cd);_13ce("mxui.dom","removeChildNodes","dojo","empty",_13cd);_13ce("mxui.dom","clearSelectOptions","dojo","empty",_13cd);dojo.mixin(mxui.dom,{copyChildren:function(src,_13cf){dojo.deprecated("mxui.dom.copyChildren","Use dojo.clone instead","7.0");var node=src.cloneNode(true);while(node.firstChild){_13cf.appendChild(node.removeChild(node.firstChild));}},insertBefore:function(src,_13d0){dojo.deprecated("mxui.dom.insertBefore","Use dojo.place instead","7.0");if(_13d0.parentNode){_13d0.parentNode.insertBefore(src,_13d0);}},insertAfter:function(src,_13d1){dojo.deprecated("mxui.dom.insertAfter","Use dojo.place instead","7.0");if(_13d1.parentNode){if(_13d1.nextSibling){_13d1.nextSibling.parentNode.insertBefore(src,_13d1.nextSibling);}else{_13d1.parentNode.appendChild(src);}}},getAncestorClass:function(node,_13d2,depth){dojo.deprecated("mxui.dom.getAncestorClass","Use dojo.query instead",_13cd);return node&&(dojo.hasClass(node,_13d2)?node:((--depth==0)?false:arguments.callee(node.parentNode,_13d2,depth)));},getElementsByTagNames:function(node,name){dojo.deprecated("mxui.dom.getElementsByTagNames","Use dojo.query instead",_13cd);return dojo.query(name,node);},getAncestorNodeWithAttribute:function(node,name,_13d3,depth){dojo.deprecated("mxui.dom.getAncestorNodeWithAttribute","Use dojo.query instead",_13cd);return ((node.nodeName==name)&&(node.getAttribute&&(node.getAttribute(_13d3)!=null)))?node:(--depth==0)?null:arguments.callee(node.parentNode,name,_13d3,depth);},setHTML:function(node,str){dojo.deprecated("mxui.dom.setHTML","Use mxui.dom.html instead",_13cd);mxui.dom.html(node,str);},getSelectOptions:function(node){dojo.deprecated("mxui.dom.getSelectOptions","Use mxui.dom.getSelectedValue instead",_13cd);return [node.options[node.selectedIndex].value];},selectOption:function(node,str){dojo.deprecated("mxui.dom.selectOption","Use dojo.attr instead",_13cd);node.value=str;},hasClass:function(node,_13d4){dojo.deprecated("mxui.dom.hasClass","Use dojo.hasClass instead",_13cd);return dojo.hasClass(node,_13d4);},getClass:function(node){dojo.deprecated("mxui.dom.getClass","Use dojo.getAttr instead",_13cd);return node.className;},setClass:function(node,str){dojo.deprecated("mxui.dom.setClass","Use dojo.replaceClass instead",_13cd);node.className=str;},addClass:function(node,str){dojo.deprecated("mxui.dom.addClass","Use dojo.addClass instead",_13cd);dojo.addClass(node,str);},addClasses:function(node,_13d5){dojo.deprecated("mxui.dom.addClasses","Use dojo.addClass instead",_13cd);dojo.addClass(node,_13d5);},removeClass:function(node,str){dojo.deprecated("mxui.dom.removeClass","Use dojo.removeClass instead",_13cd);dojo.removeClass(node,str);},hide:function(node){dojo.deprecated("mxui.dom.hide","Use dojo.style instead",_13cd);node.style.display="none";},show:function(node){dojo.deprecated("mxui.dom.show","Use dojo.style instead",_13cd);node.style.display="";},setReadOnly:function(node){dojo.deprecated("mxui.dom.setReadOnly","Use dojo.setAttr instead",_13cd);return node.setAttribute("readonly","readonly");},unsetReadOnly:function(node){dojo.deprecated("mxui.dom.unsetReadOnly","Use dojo.removeAttr instead",_13cd);return node.removeAttribute("readonly");},applyDisableStyle:function(node){dojo.deprecated("mxui.dom.applyDisableStyle","Use dojo.setAttr instead",_13cd);var name=node.nodeName;if(name=="SELECT"||(name=="INPUT"&&node.type=="checkbox")){node.setAttribute("disabled","disabled");}else{if(name=="INPUT"||name=="TEXTAREA"||name=="BUTTON"){node.setAttribute("readonly","readonly");}}},applyEnableStyle:function(node){dojo.deprecated("mxui.dom.applyEnableStyle","Use dojo.removeAttr instead",_13cd);node.removeAttribute("readonly");var _13d6=node.nodeName.toLowerCase();if(_13d6=="select"||(_13d6=="input"&&node.type=="checkbox")){node.removeAttribute("disabled");}},setOpacity:function(node,_13d7){dojo.deprecated("mxui.dom.setOpacity","Use dojo.style instead",_13cd);dojo.style(node,"opacity",_13d7);},insertCss:function(_13d8,doc,media){dojo.deprecated("mxui.dom.insertCss","Use mxui.dom.addCss instead",_13cd);mxui.dom.addCss(_13d8,doc,media);},escapeHTML:function(str){dojo.deprecated("mxui.dom.escapeHTML","Use mxui.dom.escapeString instead",_13cd);return mxui.dom.escapeString(str);},getFormElementText:function(node){dojo.deprecated("mxui.dom.getFormElementText","Use dojo.getAttr instead",_13cd);if(node.nodeName.toLowerCase()=="input"){return node.value;}else{if(node.nodeName.toLowerCase()=="select"){return node.options[node.selectedIndex].text;}}},getStringSize:function(str){dojo.deprecated("mxui.dom.getStringSize","Use dojo.contentBox instead",_13cd);var _13d9=document.createElement("span");document.body.appendChild(_13d9);_13d9.innerHTML=(str==="")?"A":str;var _13da=_13d9.offsetWidth+10;_13d9.parentNode.removeChild(_13d9);_13d9=null;return _13da;},clone:function(node){dojo.deprecated("mxui.dom.clone","Use dojo.clone instead",_13cd);return dojo.clone(node);},getFirstElement:function(node){dojo.deprecated("mxui.dom.getFirstElement","Use Element.children instead",_13cd);var _13db=node.children;return _13db.length===0?null:_13db[0];}});var _13dc={};var _13dd=function(_13de){if(_13de.target.match("MxApplication")){var _13df=_13de.param.contenturl,_13e0={};for(var x in _13de.param){_13e0[x]=_13de.param[x];}delete _13e0.contenturl;return {target:"Screen",params:{uilocation:"content",title:_13de.title,targetwidget:null,targeturl:_13df,targetparams:_13e0}};}else{if(_13de.uilocation){return {target:"Screen",params:{uilocation:_13de.uilocation,width:_13de.param?_13de.param.width:null,title:_13de.title,targetwidget:_13de.target,targeturl:null,targetparams:_13de.param}};}else{return _13de;}}};var _13e1=function(_13e2){_13e2=_13e2.toLowerCase();switch(_13e2){case "screen":return function(_13e3){return mx.screen.setContent(_13e3);};default:return _13dc[_13e2];}};dojo.mixin(mx.ui,{isQuirky:dojo.isIE&&(dojo.isQuirks||dojo.isIE<9),confirm:function(_13e4){dojo.deprecated("mx.ui.confirm","Use mx.ui.confirmation instead",_13cd);return mx.ui.confirmation({cancel:_13e4.canceltext,proceed:_13e4.proceedtext,content:_13e4.message,handler:_13e4.callback});},registerTarget:function(_13e5,_13e6){_13dc[_13e5.toLowerCase()]=_13e6;},executeAction:function(_13e7){dojo.deprecated("mx.ui.executeAction","Use mx.ui.action instead",_13cd);_13e7=_13dd(_13e7);var _13e8=_13e7.target||"Screen",_13e9=_13e7.params,scope=_13e1(_13e8);return scope&&scope(_13e9)||null;},showDialogMessage:function(_13ea,type){dojo.deprecated("mx.ui.showDialogMessage is deprecated, use info/warn/error instead","",_13cd);mx.ui.error(_13ea);},newContext:function(_13eb){dojo.deprecated("mx.ui.newContext is deprecated, create an instance of mendix.lib.MxContext instead","",_13cd);return mx.context.create(_13eb&&_13eb.id);},getContext:function(_13ec,_13ed){dojo.deprecated("mx.ui.getContext is deprecated, pass the instance of mendix.lib.MxContext instead","",_13cd);var ctxt=mx.context.get(_13ec);if(!ctxt){ctxt=mx.context.create(_13ed);}else{_13ed!=null&&mx.context.subscribe(_13ec,_13ed.id);}return ctxt;},destroyContext:function(scope){mx.context.destroy(scope.ident);},cleanWidgetContext:function(_13ee){mx.context.unsubscribeAll(_13ee.id);},cleanContext:function(_13ef,_13f0){mx.context.clean(_13ef,_13f0.id);},getProgressIndicator:function(type,_13f1){dojo.deprecated("mx.ui.getProgressIndicator is deprecated, use mx.ui.getProgress instead","",_13cd);type=String(type).toLowerCase().replace("nonblocking","popup").replace("blocking","modal");return mx.ui.getProgress(_13f1,type);},getLocale:function(){dojo.deprecated("mx.ui.getLocale is deprecated, use dojo.locale instead","",_13cd);return dojo.locale;}});mx.ui.registerTarget("MicroflowAction",function(_13f2){return mx.ui.action(_13f2.action,{store:{caller:_13f2.caller},context:_13f2.mxcontext,callback:_13f2.callback,params:{gridid:_13f2.gridid,applyto:"selection",guids:[_13f2.mxcontext.getTrackId()]}});});mx.ui.registerTarget("XASAction",function(_13f3){return mx.ui.action(_13f3.actionname,{store:{caller:_13f3.caller},async:/true/.test(_13f3.async),params:_13f3.actionparams,context:_13f3.mxcontext,callback:_13f3.callback,error:_13f3.error,progress:{type:_13f3.progress,message:_13f3.progressmsg}});});var _13f4={};var _13f5=function(fnc){return function(args){try{var _13f6=fnc(args);}catch(e){logger.error(name+".sendMessage: trouble calling subscriber: "+e);}return (_13f6 instanceof dojo.Deferred||_13f6 instanceof Error)?_13f6:args;};};dojo.mixin(mx.screen||(mx.screen={}),{setContent:function(_13f7){dojo.deprecated("mx.screen.setContent is deprecated, use mx.ui.openForm instead","",_13cd);if("form" in _13f7){_13f7={targeturl:_13f7.form.path,targetparams:_13f7.targetparams,uilocation:_13f7.form.location,title:_13f7.form.title,resizable:_13f7.form.resizable};}var _13f8=_13f7.targetparams&&_13f7.targetparams.mxcontext;if(_13f8){delete _13f7.targetparams.mxcontext;}return mx.ui.openForm(_13f7.targeturl,{params:_13f7.targetparams,location:_13f7.uilocation,title:_13f7.title,resizable:_13f7.resizable,context:_13f8});},showProgress:function(){dojo.deprecated("mx.screen.showProgress is deprecated, use mx.ui.showProgress instead","",_13cd);return this._lastProgress=mx.ui.showProgress();},hideProgress:function(id){dojo.deprecated("mx.screen.hideProgress is deprecated, use mx.ui.hideProgress instead","",_13cd);return mx.ui.hideProgress(typeof id=="undefined"?this._lastProgress:id);},subscribe:function(_13f9,_13fa,fnc){dojo.deprecated("mx.screen.subscribe is deprecated, use mxform.listen instead","",_13cd);var id=mendix.lang.getUniqueId();return (_13f4[id]=[id,_13f9,_13fa,fnc]);},unsubscribe:function(_13fb){dojo.deprecated("mx.screen.unsubscribe is deprecated, use mxform.unlisten instead","",_13cd);if(_13fb){var id=_13fb[0];if(_13f4[id]){delete _13f4[id];}else{}}},sendMessage:function(_13fc,_13fd,args){dojo.deprecated("mx.screen.sendMessage is deprecated, use save / commit / rollback on mxform instead","",_13cd);var form=mxui.currentForm;if(!_13fd||!form){return null;}switch(_13fd){case "saveObject":return form.save(callback);case "commitObject":return form.commit(callback);case "rollbackObject":return form.rollback(callback);default:var _13fe=new dojo.Deferred(),_13ff=new dojo.Deferred(),_1400=[];for(var i in _13f4){var _1401=_13f4[i],cid=_1401[1],msg=_1401[2],fnc=_1401[3];if(cid==_13fc&&msg==_13fd){_1400.push(_13f5(fnc));}}args&&args.reversed&&_1400.reverse();while(_1400.length){_13ff.addCallback(_1400.shift());}_13ff.addCallback(function(args){_13fe.callback();return args;});_13ff.addErrback(function(e){_13fe.errback(e);return e;});_13ff.callback(args);return _13fe;}},getUIPlace:function(_1402){dojo.deprecated("mx.screen.getUIPlace is deprecated, use place property of mxform instead","",_13cd);var form=_1402.widget&&_1402.widget.mxform;if(form){return form.place;}else{logger.error("mx.screen.getUIPlace: no widget passed, or widget not bound to a form.");}},getTitle:function(_1403){dojo.deprecated("mx.screen.getTitle is deprecated, use mxform.getTitle instead","",_13cd);var form=_1403.widget&&_1403.widget.mxform;if(form){return form.getTitle();}else{logger.error("mx.screen.getTitle: no widget passed, or widget not bound to a form.");}},resumeContent:function(_1404){dojo.deprecated("mx.screen.resumeContent is deprecated, use mxform.resume instead","",_13cd);var form=_1404.widget&&_1404.widget.mxform;if(form){form.resume();}else{logger.error("mx.screen.resumeContent: no widget passed, or widget not bound to a form.");}},suspendContent:function(_1405){dojo.deprecated("mx.screen.suspendContent is deprecated, use mxform.suspend instead","",_13cd);var form=_1405.widget&&_1405.widget.mxform;if(form){form.suspend();}else{logger.error("mx.screen.suspendContent: no widget passed, or widget not bound to a form.");}},disposeContent:function(_1406){dojo.deprecated("mx.screen.disposeContent is deprecated, use mxform.close instead","",_13cd);var form=_1406.widget&&_1406.widget.mxform;if(form){form.close();}else{logger.error("mx.screen.disposeContent: no widget passed, or widget not bound to a form.");}},resizeContent:function(_1407){dojo.deprecated("mx.screen.resizeContent is deprecated, use mxform.resize instead","",_13cd);var form=_1407.widget&&_1407.widget.mxform;if(form){form.resize();}else{logger.error("mx.screen.resizeContent: no widget passed, or widget not bound to a form.");}},reloadContent:function(){dojo.deprecated("mx.screen.reloadContent is deprecated, use mx.ui.reload instead","",_13cd);mx.ui.reload();},refresh:function(){dojo.deprecated("mx.screen.refresh is deprecated, use mx.ui.reload instead","",_13cd);mx.ui.reload();},shutdown:mx.ui.shutdown,startup:mx.ui.startup,isLoaded:mx.ui.isLoaded});_13ce("mx.screen","showLogin","mx.ui","showLogin",_13cd);_13ce("mx.screen","hideLogin","mx.ui","hideLogin",_13cd);_13ce("mx.screen","logout","mx.session","logout",_13cd);_13ce("mx.screen","layout","mx.ui","resize",_13cd);_13ce("mx.screen","applyToNode","mx.ui","applyToNode",_13cd);mxui.lib.putContent=mendix.lib.putContent=function(url,opts,node){dojo.deprecated("mxui.lib.putContent is deprecated, use mx.ui.openForm instead","",_13cd);if(typeof url=="object"){var _1408=url,scope=opts;url=_1408.url;opts=_1408.params;node=_1408.node;}else{var _1409=new dojo.Deferred();}mx.ui.openForm(url,{domNode:node,params:opts,error:function(error){_1409?_1409.errback(error):_1408.error&&_1408.error.call(scope,error);},callback:function(form){dojo.style(form.domNode,"height","auto");if(_1409){_1409.callback("",form.id,form);}else{_1408.callback&&_1408.callback.call(null,"",form.id,form);}},context:opts.context});return _1409;};mx.config={getForm:function(_140a){dojo.deprecated("mx.config.getForm is deprecated, use mx.ui.openForm instead","",_13cd);if(!_140a.callback){var _140b=new dojo.Deferred();}mx.ui.getForm(_140a.url,{error:_140a.error,callback:function(form){(_140b||_140a)["callback"](form.domNode,form.id);}});return _140b;}};_13ce("mendix.dom","mxui.dom",_13cd);_13ce("mendix.html","mxui.html",_13cd);_13ce("mendix.wm.focus","mxui.wm.focus",_13cd);_13ce("mendix.dom","liveconnect","mxui.dom","liveConnect",_13cd);_13ce("mxui.addon","mxui.mixin",_13cd);_13ce("mendix.addon","mxui.mixin",_13cd);_13ce("mendix.widget","mxui.widget",_13cd);_13ce("mobile.dom","mxui.dom",_13cd);_13ce("mobile.widget","_Widget","mxui.widget","_WidgetBase",_13cd);_13ce("mxui.html","setContent","mxui.dom","text",_13cd);_13ce("mxui.html","sanitizeHTMLString","mxui.dom","unescapeString",_13cd);})();});},"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\ttabIndex=\"-1\" role=\"presentation\" aria-hidden=\"true\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\" aria-hidden=\"true\"\n/></span>\n","url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:__onClick,onkeydown:_onButtonKeyDown\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeydown:_onArrowKeyDown\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\"\n\t\t\t\trole=\"presentation\" aria-hidden=\"true\"\n\t\t\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\t/></td></tr></tbody\n></table>\n","url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"ondijitclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n></div>\n","url:mxui/widget/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=dojoTooltip>\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" style=\"display:none\" dojoAttachPoint=\"containerNode\" role='alert'></div>\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\">\n\t\t<div class=\"mx-tooltip-content\" dojoAttachPoint=\"contentNode\"></div>\n\t\t<div class=\"mx-tooltip-prepare\" dojoAttachPoint=\"prepareNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div>\n</div>\n","url:mxui/widget/templates/DataGrid.html":"<div class=\"${baseClass} mx-datagrid\">\n    <div class=\"${baseClass}-searchbar clearfix\" dojoAttachPoint=\"searchNode\" focusIndex=\"0\">\n        <div class=\"${baseClass}-search-controls\" focusIndex=\"1\" dojoAttachPoint=\"searchControlNode\"></div>\n        <div class=\"${baseClass}-search-inputs\" focusIndex=\"0\" dojoAttachPoint=\"searchArgumentNode\"></div>\n        <div class=\"${baseClass}-search-message\" dojoAttachPoint=\"messageNode\"></div>\n    </div>\n    \n    <div class=\"${baseClass}-controlbar clearfix\" dojoAttachPoint=\"controlNode\" focusIndex=\"1\">\n        <div class=\"${baseClass}-pagingbar\" dojoAttachPoint=\"pagingBarNode\"></div>\n        <div class=\"${baseClass}-toolbar\" dojoAttachPoint=\"toolBarNode\"></div>\n    </div>\n        \n    <div class=\"${baseClass}-content\" dojoAttachPoint=\"contentNode\" focusIndex=\"2\">\n        <div class=\"${subClass}-content-wrapper\" dojoAttachPoint=\"tableWrapper\">\n            <table class=\"table table-bordered ${subClass}-head-table\" dojoAttachPoint=\"headTable\">\n                <colgroup dojoAttachPoint=\"headTableGroupNode\"></colgroup>\n                <thead class=\"${subClass}-head\" dojoAttachPoint=\"gridHeadNode\"></thead>\n            </table>\n            <table class=\"table table-striped table-bordered ${subClass}-body-table\" dojoAttachPoint=\"gridTable\">\n                <colgroup dojoAttachPoint=\"bodyTableGroupNode\"></colgroup>\n                <tbody class=\"${subClass}-body\" dojoAttachPoint=\"gridBodyNode\"></tbody>\n                <tfoot class=\"${subClass}-foot\" dojoAttachPoint=\"gridFootNode\"></tfoot>\n            </table>\n        </div>\n    </div>\n</div>\n","url:mxui/widget/templates/TemplateGrid.html":"<div class=\"${baseClass} mx-templategrid\">\n    <div class=\"${baseClass}-searchbar clearfix\" dojoAttachPoint=\"searchNode\" focusIndex=\"0\">\n        <div class=\"${baseClass}-search-controls\" focusIndex=\"1\" dojoAttachPoint=\"searchControlNode\"></div>\n        <div class=\"${baseClass}-search-inputs\" focusIndex=\"0\" dojoAttachPoint=\"searchArgumentNode\"></div>\n        <div class=\"${baseClass}-search-message\" dojoAttachPoint=\"messageNode\"></div>\n    </div>\n    \n    <div class=\"${baseClass}-controlbar clearfix\" dojoAttachPoint=\"controlNode\" focusIndex=\"1\">\n        <div class=\"${baseClass}-pagingbar\" dojoAttachPoint=\"pagingBarNode\"></div>\n        <div class=\"${baseClass}-toolbar\" dojoAttachPoint=\"toolBarNode\"></div>\n    </div>\n\t\n    <div class=\"${baseClass}-content\" dojoAttachPoint=\"contentNode\" focusIndex=\"2\">\n        <div class=\"${subClass}-content-wrapper\" dojoAttachPoint=\"itemNode\"></div>\n    </div>\n</div>\n","url:mxui/widget/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" dojoAttachEvent=\"onkeypress: _onKeyPress\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' dojoAttachPoint=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" waiRole=\"presentation\"/>\n\t\t\t\t<span dojoAttachPoint=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div class=\"dijitVisible\">\n\t\t\t\t\t<div class=\"dijitPopup dijitMenu dijitMenuPassive dijitHidden\" dojoAttachPoint=\"monthDropDown\" dojoAttachEvent=\"onmouseup: _onMonthSelect, onmouseover: _onMenuHover, onmouseout: _onMenuHover\">\n\t\t\t\t\t\t<div class=\"dijitCalendarMonthLabelTemplate dijitCalendarMonthLabel\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div dojoAttachPoint=\"monthLabelSpacer\" class=\"dijitSpacer\"></div>\n\t\t\t\t<div dojoAttachPoint=\"monthLabelNode\" class=\"dijitCalendarMonthLabel dijitInline dijitVisible\" dojoAttachEvent=\"onmousedown: _onMonthToggle\"></div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' dojoAttachPoint=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" waiRole=\"presentation\"/>\n\t\t\t\t<span dojoAttachPoint=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\"><span class=\"dijitCalendarDayLabel\"></span></th>\n\t\t</tr>\n\t</thead>\n\t<tbody dojoAttachEvent=\"onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut, onmousedown: _onDayMouseDown, onmouseup: _onDayMouseUp\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">\n\t\t\t<td class=\"dijitReset dijitCalendarDateTemplate\" role=\"gridcell\"><span class=\"dijitCalendarDateLabel\"></span></td>\n\t\t</tr>\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\">\n\t\t\t\t<h3 class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span dojoAttachPoint=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\"></span>\n\t\t\t\t</h3>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>","url:mxui/widget/templates/FormDatePicker.html":"<div class=\"${baseClass}\">\n\t<div class=\"${baseClass}_buttonPick\" dojoAttachPoint=\"iconNode\">\n        <span class=\"${baseClass}_buttonTextIcon\">&#9658;</span>\n    </div>\n    <div class=\"${baseClass}_inputPane\" dojoAttachPoint=\"dateNode\">\n\t\t<input type=\"text\" class=\"${baseClass}_dateInput form-control\" dojoAttachPoint=\"inputNode\" />\n\t</div>\n</div>\n","url:mxui/widget/templates/MxInlineEditor.html":"<div class=\"MxInlineEditor\">\n\t<form class=\"inlineEditBox\" style=\"display: none\" dojoAttachPoint=\"form\" onsubmit=\"return false;\">\n\t\t<input type=\"text\" dojoAttachPoint=\"readonly\" style=\"display: none;\" class=\"inlineEditBox_readOnly\"/>\n\t\t<input type=\"text\" dojoAttachPoint=\"enumtext\" style=\"display: none;\" class=\"inlineEditBox_focusEnum\"/>\n\t\t<input type=\"text\" dojoAttachPoint=\"text\" style=\"display: none;\" class=\"inlineEditBox_editable\"/>\n\t\t<textarea dojoAttachPoint=\"textarea\" style=\"display: none;\" class=\"inlineEditBox_editable\"></textarea>\n\t\t<select type=\"select\" dojoAttachPoint=\"select\" style=\"display: none;\" class=\"inlineEditBox_selectbox\" />\n\t</form>\n</div>\n","*now":function(r){r(["dojo/i18n!*preload*mxui/nls/mxui*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});define("mxui/mxui",["dojo","dijit","dojox","dojo/require!dojo/on,dojo/aspect,dojo/hash,dojo/window,dojo/number,dojo/cookie,dojo/date/locale,dijit/_base,dijit/_Widget,dijit/form/_FormValueWidget,dijit/form/DropDownButton,dijit/form/ComboButton,dijit/form/ToggleButton,dojo/fx/Toggler,dijit/_WidgetBase,dijit/_Templated,dijit/_TemplatedMixin,dijit/layout/ContentPane,dijit/layout/BorderContainer,dijit/Calendar,dojox/date/buddhist,dojox/date/buddhist/locale,mendix/mendix,mxui/wm/focus,mxui/html/parser,mxui/dom,mxui/dom/builder,mxui/html/common,mxui/lib/Form,mxui/lib/History,mxui/lib/WindowManager,mxui/lib/MxInputMask,mxui/polyfill/placeholder/placeholder,mxui/mixin/_ValidationHelper,mxui/mixin/_DynamicOptionHelper,mxui/mixin/_Pluggable,mxui/mixin/_Contextable,mxui/mixin/_Scriptable,mxui/widget,mxui/widget/_Widget,mxui/widget/_WidgetBase,mxui/widget/_Button,mxui/widget/_FormWidget,mxui/widget/Underlay,mxui/widget/Dialog,mxui/widget/DialogMessage,mxui/widget/Window,mxui/widget/Login,mxui/widget/Progress,mxui/widget/DataGrid,mxui/widget/TemplateGrid,mxui/widget/FormDatePicker,mxui/widget/TabContainer,mxui/widget/TabContent,mxui/widget/ReferenceSetSelector,mxui/widget/BoolSelect,mxui/widget/DatePicker,mxui/widget/DateInput,mxui/widget/EnumSelect,mxui/widget/NumberInput,mxui/widget/PasswordInput,mxui/widget/TextArea,mxui/widget/TextInput,mxui/widget/SearchInput,mxui/widget/Navbar,mxui/widget/NavigationTree,mxui/widget/LayoutContainer,mxui/widget/MicroflowButton,mxui/widget/BackButton,mxui/widget/CancelButton,mxui/widget/Confirmation,mxui/widget/LogoutButton,mxui/widget/DropDownButton,mxui/widget/DropDownItem,mxui/widget/SaveButton,mxui/widget/SidebarToggleButton,mxui/widget/Button,mxui/widget/GroupBox,mxui/widget/DataView,mxui/widget/Header,mxui/widget/Title,mxui/widget/StaticImage,mxui/widget/Image,mxui/widget/ImageZoom,mxui/widget/LinkButton,mxui/widget/ListView,mxui/widget/MenuBar,mxui/widget/NavigationList,mxui/widget/NavigationListItem,mxui/widget/NewButton,mxui/widget/ReferenceSelector,mxui/widget/InputReferenceSetSelector,mxui/widget/FileInput,mxui/widget/ImageUploader,mxui/widget/PrimitiveWidgetWrapper,mxui/widget/SelectBox,mxui/widget/plugins/DataGrid/Calculations,mxui/widget/plugins/DataGrid/GridEditor,mxui/widget/plugins/DataGrid/HoverPreview,mxui/sys/UI,mxui/sys/Parser,mxui/startup,mendix/compat,mxui/compat"],function(dojo,dijit,dojox){dojo.provide("mxui.mxui");dojo.require("dojo.on");dojo.require("dojo.aspect");dojo.require("dojo.hash");dojo.require("dojo.window");dojo.require("dojo.number");dojo.require("dojo.cookie");dojo.require("dojo.date.locale");dojo.require("dijit._base");dojo.require("dijit._Widget");dojo.require("dijit.form._FormValueWidget");dojo.require("dijit.form.DropDownButton");dojo.require("dijit.form.ComboButton");dojo.require("dijit.form.ToggleButton");dojo.require("dojo.fx.Toggler");dojo.require("dijit._WidgetBase");dojo.require("dijit._Templated");dojo.require("dijit._TemplatedMixin");dojo.require("dijit.layout.ContentPane");dojo.require("dijit.layout.BorderContainer");dojo.require("dijit.Calendar");dojo.require("dojox.date.buddhist");dojo.require("dojox.date.buddhist.locale");dojo.require("mendix.mendix");dojo.require("mxui.wm.focus");dojo.require("mxui.html.parser");dojo.require("mxui.dom");dojo.require("mxui.dom.builder");dojo.require("mxui.html.common");dojo.require("mxui.lib.Form");dojo.require("mxui.lib.History");dojo.require("mxui.lib.WindowManager");dojo.require("mxui.lib.MxInputMask");dojo.require("mxui.polyfill.placeholder.placeholder");dojo.require("mxui.mixin._ValidationHelper");dojo.require("mxui.mixin._DynamicOptionHelper");dojo.require("mxui.mixin._Pluggable");dojo.require("mxui.mixin._Contextable");dojo.require("mxui.mixin._Scriptable");dojo.require("mxui.widget");dojo.require("mxui.widget._Widget");dojo.require("mxui.widget._WidgetBase");dojo.require("mxui.widget._Button");dojo.require("mxui.widget._FormWidget");dojo.require("mxui.widget.Underlay");dojo.require("mxui.widget.Dialog");dojo.require("mxui.widget.DialogMessage");dojo.require("mxui.widget.Window");dojo.require("mxui.widget.Login");dojo.require("mxui.widget.Progress");dojo.require("mxui.widget.DataGrid");dojo.require("mxui.widget.TemplateGrid");dojo.require("mxui.widget.FormDatePicker");dojo.require("mxui.widget.TabContainer");dojo.require("mxui.widget.TabContent");dojo.require("mxui.widget.ReferenceSetSelector");dojo.require("mxui.widget.BoolSelect");dojo.require("mxui.widget.DatePicker");dojo.require("mxui.widget.DateInput");dojo.require("mxui.widget.EnumSelect");dojo.require("mxui.widget.NumberInput");dojo.require("mxui.widget.PasswordInput");dojo.require("mxui.widget.TextArea");dojo.require("mxui.widget.TextInput");dojo.require("mxui.widget.SearchInput");dojo.require("mxui.widget.Navbar");dojo.require("mxui.widget.NavigationTree");dojo.require("mxui.widget.LayoutContainer");dojo.require("mxui.widget.MicroflowButton");dojo.require("mxui.widget.BackButton");dojo.require("mxui.widget.CancelButton");dojo.require("mxui.widget.Confirmation");dojo.require("mxui.widget.LogoutButton");dojo.require("mxui.widget.DropDownButton");dojo.require("mxui.widget.DropDownItem");dojo.require("mxui.widget.SaveButton");dojo.require("mxui.widget.SidebarToggleButton");dojo.require("mxui.widget.Button");dojo.require("mxui.widget.GroupBox");dojo.require("mxui.widget.DataView");dojo.require("mxui.widget.Header");dojo.require("mxui.widget.Title");dojo.require("mxui.widget.StaticImage");dojo.require("mxui.widget.Image");dojo.require("mxui.widget.ImageZoom");dojo.require("mxui.widget.LinkButton");dojo.require("mxui.widget.ListView");dojo.require("mxui.widget.MenuBar");dojo.require("mxui.widget.NavigationList");dojo.require("mxui.widget.NavigationListItem");dojo.require("mxui.widget.NewButton");dojo.require("mxui.widget.ReferenceSelector");dojo.require("mxui.widget.InputReferenceSetSelector");dojo.require("mxui.widget.FileInput");dojo.require("mxui.widget.ImageUploader");dojo.require("mxui.widget.PrimitiveWidgetWrapper");dojo.require("mxui.widget.SelectBox");dojo.require("mxui.widget.plugins.DataGrid.Calculations");dojo.require("mxui.widget.plugins.DataGrid.GridEditor");dojo.require("mxui.widget.plugins.DataGrid.HoverPreview");dojo.require("mxui.sys.UI");dojo.require("mxui.sys.Parser");dojo.require("mxui.startup");dojo.require("mendix.compat");dojo.require("mxui.compat");if(!dojo.config.noLogin){mx.login({no_alert:true});}});