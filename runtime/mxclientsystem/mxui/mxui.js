/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

if (typeof dojo === 'undefined') {
/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
(function(_1,_2){var _3=function(){},_4=function(it){for(var p in it){return 0;}return 1;},_5={}.toString,_6=function(it){return _5.call(it)=="[object Function]";},_7=function(it){return _5.call(it)=="[object String]";},_8=function(it){return _5.call(it)=="[object Array]";},_9=function(_a,_b){if(_a){for(var i=0;i<_a.length;){_b(_a[i++]);}}},_c=function(_d,_e){for(var p in _e){_d[p]=_e[p];}return _d;},_f=function(_10,_11){return _c(new Error(_10),{src:"dojoLoader",info:_11});},_12=1,uid=function(){return "_"+_12++;},req=function(_13,_14,_15){return _16(_13,_14,_15,0,req);},_17=this,doc=_17.document,_18=doc&&doc.createElement("DiV"),has=req.has=function(_19){return _6(_1a[_19])?(_1a[_19]=_1a[_19](_17,doc,_18)):_1a[_19];},_1a=has.cache=_2.hasCache;has.add=function(_1b,_1c,now,_1d){(_1a[_1b]===undefined||_1d)&&(_1a[_1b]=_1c);return now&&has(_1b);};0&&has.add("host-node",_1.has&&"host-node" in _1.has?_1.has["host-node"]:(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8));if(0){require("./_base/configNode.js").config(_2);_2.loaderPatch.nodeRequire=require;}0&&has.add("host-rhino",_1.has&&"host-rhino" in _1.has?_1.has["host-rhino"]:(typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")));if(0){for(var _1e=_1.baseUrl||".",arg,_1f=this.arguments,i=0;i<_1f.length;){arg=(_1f[i++]+"").split("=");if(arg[0]=="baseUrl"){_1e=arg[1];break;}}load(_1e+"/_base/configRhino.js");rhinoDojoConfig(_2,_1e,_1f);}has.add("host-webworker",((typeof WorkerGlobalScope!=="undefined")&&(self instanceof WorkerGlobalScope)));if(has("host-webworker")){_c(_2.hasCache,{"host-browser":0,"dom":0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1});_2.loaderPatch={injectUrl:function(url,_20){try{importScripts(url);_20();}catch(e){console.error(e);}}};}for(var p in _1.has){has.add(p,_1.has[p],0,1);}var _21=1,_22=2,_23=3,_24=4,_25=5;if(0){_21="requested";_22="arrived";_23="not-a-module";_24="executing";_25="executed";}var _26=0,_27="sync",xd="xd",_28=[],_29=0,_2a=_3,_2b=_3,_2c;if(1){req.isXdUrl=_3;req.initSyncLoader=function(_2d,_2e,_2f){if(!_29){_29=_2d;_2a=_2e;_2b=_2f;}return {sync:_27,requested:_21,arrived:_22,nonmodule:_23,executing:_24,executed:_25,syncExecStack:_28,modules:_30,execQ:_31,getModule:_32,injectModule:_33,setArrived:_34,signal:_35,finishExec:_36,execModule:_37,dojoRequirePlugin:_29,getLegacyMode:function(){return _26;},guardCheckComplete:_38};};if(1||has("host-webworker")){var _39=location.protocol,_3a=location.host;req.isXdUrl=function(url){if(/^\./.test(url)){return false;}if(/^\/\//.test(url)){return true;}var _3b=url.match(/^([^\/\:]+\:)\/+([^\/]+)/);return _3b&&(_3b[1]!=_39||(_3a&&_3b[2]!=_3a));};1||has.add("dojo-xhr-factory",1);has.add("dojo-force-activex-xhr",1&&!doc.addEventListener&&window.location.protocol=="file:");has.add("native-xhr",typeof XMLHttpRequest!="undefined");if(has("native-xhr")&&!has("dojo-force-activex-xhr")){_2c=function(){return new XMLHttpRequest();};}else{for(var _3c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],_3d,i=0;i<3;){try{_3d=_3c[i++];if(new ActiveXObject(_3d)){break;}}catch(e){}}_2c=function(){return new ActiveXObject(_3d);};}req.getXhr=_2c;has.add("dojo-gettext-api",1);req.getText=function(url,_3e,_3f){var xhr=_2c();xhr.open("GET",_40(url),false);xhr.send(null);if(xhr.status==200||(!location.host&&!xhr.status)){if(_3f){_3f(xhr.responseText,_3e);}}else{throw _f("xhrFailed",xhr.status);}return xhr.responseText;};}}else{req.async=1;}var _41=new Function("return eval(arguments[0]);");req.eval=function(_42,_43){return _41(_42+"\r\n//# sourceURL="+_43);};var _44={},_45="error",_35=req.signal=function(_46,_47){var _48=_44[_46];_9(_48&&_48.slice(0),function(_49){_49.apply(null,_8(_47)?_47:[_47]);});},on=req.on=function(_4a,_4b){var _4c=_44[_4a]||(_44[_4a]=[]);_4c.push(_4b);return {remove:function(){for(var i=0;i<_4c.length;i++){if(_4c[i]===_4b){_4c.splice(i,1);return;}}}};};var _4d=[],_4e={},_4f=[],_50={},map=req.map={},_51=[],_30={},_52="",_53={},_54="url:",_55={},_56={},_57=0;if(1){var _58=function(_59){var p,_5a,_5b,now,m;for(p in _55){_5a=_55[p];_5b=p.match(/^url\:(.+)/);if(_5b){_53[_54+_5c(_5b[1],_59)]=_5a;}else{if(p=="*now"){now=_5a;}else{if(p!="*noref"){m=_5d(p,_59,true);_53[m.mid]=_53[_54+m.url]=_5a;}}}}if(now){now(_5e(_59));}_55={};},_5f=function(s){return s.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(c){return "\\"+c;});},_60=function(map,_61){_61.splice(0,_61.length);for(var p in map){_61.push([p,map[p],new RegExp("^"+_5f(p)+"(/|$)"),p.length]);}_61.sort(function(lhs,rhs){return rhs[3]-lhs[3];});return _61;},_62=function(_63,_64){_9(_63,function(_65){_64.push([_7(_65[0])?new RegExp("^"+_5f(_65[0])+"$"):_65[0],_65[1]]);});},_66=function(_67){var _68=_67.name;if(!_68){_68=_67;_67={name:_68};}_67=_c({main:"main"},_67);_67.location=_67.location?_67.location:_68;if(_67.packageMap){map[_68]=_67.packageMap;}if(!_67.main.indexOf("./")){_67.main=_67.main.substring(2);}_50[_68]=_67;},_69=[],_6a=function(_6b,_6c,_6d){for(var p in _6b){if(p=="waitSeconds"){req.waitms=(_6b[p]||0)*1000;}if(p=="cacheBust"){_52=_6b[p]?(_7(_6b[p])?_6b[p]:(new Date()).getTime()+""):"";}if(p=="baseUrl"||p=="combo"){req[p]=_6b[p];}if(1&&p=="async"){var _6e=_6b[p];req.legacyMode=_26=(_7(_6e)&&/sync|legacyAsync/.test(_6e)?_6e:(!_6e?_27:false));req.async=!_26;}if(_6b[p]!==_1a){req.rawConfig[p]=_6b[p];p!="has"&&has.add("config-"+p,_6b[p],0,_6c);}}if(!req.baseUrl){req.baseUrl="./";}if(!/\/$/.test(req.baseUrl)){req.baseUrl+="/";}for(p in _6b.has){has.add(p,_6b.has[p],0,_6c);}_9(_6b.packages,_66);for(var _6f in _6b.packagePaths){_9(_6b.packagePaths[_6f],function(_70){var _71=_6f+"/"+_70;if(_7(_70)){_70={name:_70};}_70.location=_71;_66(_70);});}_60(_c(map,_6b.map),_51);_9(_51,function(_72){_72[1]=_60(_72[1],[]);if(_72[0]=="*"){_51.star=_72;}});_60(_c(_4e,_6b.paths),_4f);_62(_6b.aliases,_4d);if(_6c){_69.push({config:_6b.config});}else{for(p in _6b.config){var _73=_32(p,_6d);_73.config=_c(_73.config||{},_6b.config[p]);}}if(_6b.cache){_58();_55=_6b.cache;if(_6b.cache["*noref"]){_58();}}_35("config",[_6b,req.rawConfig]);};if(has("dojo-cdn")||1){var _74=doc.getElementsByTagName("script"),i=0,_75,_76,src,_77;while(i<_74.length){_75=_74[i++];if((src=_75.getAttribute("src"))&&(_77=src.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){_76=_77[3]||"";_2.baseUrl=_2.baseUrl||_76;_57=_75;}if((src=(_75.getAttribute("data-dojo-config")||_75.getAttribute("djConfig")))){_56=req.eval("({ "+src+" })","data-dojo-config");_57=_75;}if(0){if((src=_75.getAttribute("data-main"))){_56.deps=_56.deps||[src];}}}}if(0){try{if(window.parent!=window&&window.parent.require){var doh=window.parent.require("doh");doh&&_c(_56,doh.testConfig);}}catch(e){}}req.rawConfig={};_6a(_2,1);if(has("dojo-cdn")){_50.dojo.location=_76;if(_76){_76+="/";}_50.dijit.location=_76+"../dijit/";_50.dojox.location=_76+"../dojox/";}_6a(_1,1);_6a(_56,1);}else{_4e=_2.paths;_4f=_2.pathsMapProg;_50=_2.packs;_4d=_2.aliases;_51=_2.mapProgs;_30=_2.modules;_53=_2.cache;_52=_2.cacheBust;req.rawConfig=_2;}if(0){req.combo=req.combo||{add:_3};var _78=0,_79=[],_7a=null;}var _7b=function(_7c){_38(function(){_9(_7c.deps,_33);if(0&&_78&&!_7a){_7a=setTimeout(function(){_78=0;_7a=null;req.combo.done(function(_7d,url){var _7e=function(){_7f(0,_7d);_80();};_79.push(_7d);_81=_7d;req.injectUrl(url,_7e,_7d);_81=0;},req);},0);}});},_16=function(a1,a2,a3,_82,_83){var _84,_85;if(_7(a1)){_84=_32(a1,_82,true);if(_84&&_84.executed){return _84.result;}throw _f("undefinedModule",a1);}if(!_8(a1)){_6a(a1,0,_82);a1=a2;a2=a3;}if(_8(a1)){if(!a1.length){a2&&a2();}else{_85="require*"+uid();for(var mid,_86=[],i=0;i<a1.length;){mid=a1[i++];_86.push(_32(mid,_82));}_84=_c(_87("",_85,0,""),{injected:_22,deps:_86,def:a2||_3,require:_82?_82.require:req,gc:1});_30[_84.mid]=_84;_7b(_84);var _88=_89&&_26!=_27;_38(function(){_37(_84,_88);});if(!_84.executed){_31.push(_84);}_80();}}return _83;},_5e=function(_8a){if(!_8a){return req;}var _8b=_8a.require;if(!_8b){_8b=function(a1,a2,a3){return _16(a1,a2,a3,_8a,_8b);};_8a.require=_c(_8b,req);_8b.module=_8a;_8b.toUrl=function(_8c){return _5c(_8c,_8a);};_8b.toAbsMid=function(mid){return _ba(mid,_8a);};if(0){_8b.undef=function(mid){req.undef(mid,_8a);};}if(1){_8b.syncLoadNls=function(mid){var _8d=_5d(mid,_8a),_8e=_30[_8d.mid];if(!_8e||!_8e.executed){_8f=_53[_8d.mid]||_53[_54+_8d.url];if(_8f){_90(_8f);_8e=_30[_8d.mid];}}return _8e&&_8e.executed&&_8e.result;};}}return _8b;},_31=[],_91=[],_92={},_93=function(_94){_94.injected=_21;_92[_94.mid]=1;if(_94.url){_92[_94.url]=_94.pack||1;}_95();},_34=function(_96){_96.injected=_22;delete _92[_96.mid];if(_96.url){delete _92[_96.url];}if(_4(_92)){_97();1&&_26==xd&&(_26=_27);}},_98=req.idle=function(){return !_91.length&&_4(_92)&&!_31.length&&!_89;},_99=function(_9a,map){if(map){for(var i=0;i<map.length;i++){if(map[i][2].test(_9a)){return map[i];}}}return 0;},_9b=function(_9c){var _9d=[],_9e,_9f;_9c=_9c.replace(/\\/g,"/").split("/");while(_9c.length){_9e=_9c.shift();if(_9e==".."&&_9d.length&&_9f!=".."){_9d.pop();_9f=_9d[_9d.length-1];}else{if(_9e!="."){_9d.push(_9f=_9e);}}}return _9d.join("/");},_87=function(pid,mid,_a0,url){if(1){var xd=req.isXdUrl(url);return {pid:pid,mid:mid,pack:_a0,url:url,executed:0,def:0,isXd:xd,isAmd:!!(xd||(_50[pid]&&_50[pid].isAmd))};}else{return {pid:pid,mid:mid,pack:_a0,url:url,executed:0,def:0};}},_a1=function(mid,_a2,_a3,_a4,_a5,_a6,_a7,_a8,_a9){var pid,_aa,_ab,_ac,url,_ad,_ae,_af;_af=mid;_ae=/^\./.test(mid);if(/(^\/)|(\:)|(\.js$)/.test(mid)||(_ae&&!_a2)){return _87(0,mid,0,mid);}else{mid=_9b(_ae?(_a2.mid+"/../"+mid):mid);if(/^\./.test(mid)){throw _f("irrationalPath",mid);}if(_a2){_ac=_99(_a2.mid,_a6);}_ac=_ac||_a6.star;_ac=_ac&&_99(mid,_ac[1]);if(_ac){mid=_ac[1]+mid.substring(_ac[3]);}_77=mid.match(/^([^\/]+)(\/(.+))?$/);pid=_77?_77[1]:"";if((_aa=_a3[pid])){mid=pid+"/"+(_ab=(_77[3]||_aa.main));}else{pid="";}var _b0=0,_b1=0;_9(_a8,function(_b2){var _b3=mid.match(_b2[0]);if(_b3&&_b3.length>_b0){_b1=_6(_b2[1])?mid.replace(_b2[0],_b2[1]):_b2[1];}});if(_b1){return _a1(_b1,0,_a3,_a4,_a5,_a6,_a7,_a8,_a9);}_ad=_a4[mid];if(_ad){return _a9?_87(_ad.pid,_ad.mid,_ad.pack,_ad.url):_a4[mid];}}_ac=_99(mid,_a7);if(_ac){url=_ac[1]+mid.substring(_ac[3]);}else{if(pid){url=_aa.location+"/"+_ab;}else{if(has("config-tlmSiblingOfDojo")){url="../"+mid;}else{url=mid;}}}if(!(/(^\/)|(\:)/.test(url))){url=_a5+url;}url+=".js";return _87(pid,mid,_aa,_9b(url));},_5d=function(mid,_b4,_b5){return _a1(mid,_b4,_50,_30,req.baseUrl,_b5?[]:_51,_b5?[]:_4f,_b5?[]:_4d);},_b6=function(_b7,_b8,_b9){return _b7.normalize?_b7.normalize(_b8,function(mid){return _ba(mid,_b9);}):_ba(_b8,_b9);},_bb=0,_32=function(mid,_bc,_bd){var _be,_bf,_c0,_c1;_be=mid.match(/^(.+?)\!(.*)$/);if(_be){_bf=_32(_be[1],_bc,_bd);if(1&&_26==_27&&!_bf.executed){_33(_bf);if(_bf.injected===_22&&!_bf.executed){_38(function(){_37(_bf);});}if(_bf.executed){_c2(_bf);}else{_31.unshift(_bf);}}if(_bf.executed===_25&&!_bf.load){_c2(_bf);}if(_bf.load){_c0=_b6(_bf,_be[2],_bc);mid=(_bf.mid+"!"+(_bf.dynamic?++_bb+"!":"")+_c0);}else{_c0=_be[2];mid=_bf.mid+"!"+(++_bb)+"!waitingForPlugin";}_c1={plugin:_bf,mid:mid,req:_5e(_bc),prid:_c0};}else{_c1=_5d(mid,_bc);}return _30[_c1.mid]||(!_bd&&(_30[_c1.mid]=_c1));},_ba=req.toAbsMid=function(mid,_c3){return _5d(mid,_c3).mid;},_5c=req.toUrl=function(_c4,_c5){var _c6=_5d(_c4+"/x",_c5),url=_c6.url;return _40(_c6.pid===0?_c4:url.substring(0,url.length-5));},_c7={injected:_22,executed:_25,def:_23,result:_23},_c8=function(mid){return _30[mid]=_c({mid:mid},_c7);},_c9=_c8("require"),_ca=_c8("exports"),_cb=_c8("module"),_cc=function(_cd,_ce){req.trace("loader-run-factory",[_cd.mid]);var _cf=_cd.def,_d0;1&&_28.unshift(_cd);if(has("config-dojo-loader-catches")){try{_d0=_6(_cf)?_cf.apply(null,_ce):_cf;}catch(e){_35(_45,_cd.result=_f("factoryThrew",[_cd,e]));}}else{_d0=_6(_cf)?_cf.apply(null,_ce):_cf;}_cd.result=_d0===undefined&&_cd.cjs?_cd.cjs.exports:_d0;1&&_28.shift(_cd);},_d1={},_d2=0,_c2=function(_d3){var _d4=_d3.result;_d3.dynamic=_d4.dynamic;_d3.normalize=_d4.normalize;_d3.load=_d4.load;return _d3;},_d5=function(_d6){var map={};_9(_d6.loadQ,function(_d7){var _d8=_b6(_d6,_d7.prid,_d7.req.module),mid=_d6.dynamic?_d7.mid.replace(/waitingForPlugin$/,_d8):(_d6.mid+"!"+_d8),_d9=_c(_c({},_d7),{mid:mid,prid:_d8,injected:0});if(!_30[mid]){_eb(_30[mid]=_d9);}map[_d7.mid]=_30[mid];_34(_d7);delete _30[_d7.mid];});_d6.loadQ=0;var _da=function(_db){for(var _dc,_dd=_db.deps||[],i=0;i<_dd.length;i++){_dc=map[_dd[i].mid];if(_dc){_dd[i]=_dc;}}};for(var p in _30){_da(_30[p]);}_9(_31,_da);},_36=function(_de){req.trace("loader-finish-exec",[_de.mid]);_de.executed=_25;_de.defOrder=_d2++;1&&_9(_de.provides,function(cb){cb();});if(_de.loadQ){_c2(_de);_d5(_de);}for(i=0;i<_31.length;){if(_31[i]===_de){_31.splice(i,1);}else{i++;}}if(/^require\*/.test(_de.mid)){delete _30[_de.mid];}},_df=[],_37=function(_e0,_e1){if(_e0.executed===_24){req.trace("loader-circular-dependency",[_df.concat(_e0.mid).join("->")]);return (!_e0.def||_e1)?_d1:(_e0.cjs&&_e0.cjs.exports);}if(!_e0.executed){if(!_e0.def){return _d1;}var mid=_e0.mid,_e2=_e0.deps||[],arg,_e3,_e4=[],i=0;if(0){_df.push(mid);req.trace("loader-exec-module",["exec",_df.length,mid]);}_e0.executed=_24;while((arg=_e2[i++])){_e3=((arg===_c9)?_5e(_e0):((arg===_ca)?_e0.cjs.exports:((arg===_cb)?_e0.cjs:_37(arg,_e1))));if(_e3===_d1){_e0.executed=0;req.trace("loader-exec-module",["abort",mid]);0&&_df.pop();return _d1;}_e4.push(_e3);}_cc(_e0,_e4);_36(_e0);0&&_df.pop();}return _e0.result;},_89=0,_38=function(_e5){try{_89++;_e5();}finally{_89--;}if(_98()){_35("idle",[]);}},_80=function(){if(_89){return;}_38(function(){_2a();for(var _e6,_e7,i=0;i<_31.length;){_e6=_d2;_e7=_31[i];_37(_e7);if(_e6!=_d2){_2a();i=0;}else{i++;}}});};if(0){req.undef=function(_e8,_e9){var _ea=_32(_e8,_e9);_34(_ea);_c(_ea,{def:0,executed:0,injected:0,node:0});};}if(1){if(has("dojo-loader-eval-hint-url")===undefined){has.add("dojo-loader-eval-hint-url",1);}var _40=typeof _1.fixupUrl=="function"?_1.fixupUrl:function(url){url+="";return url+(_52?((/\?/.test(url)?"&":"?")+_52):"");},_eb=function(_ec){var _ed=_ec.plugin;if(_ed.executed===_25&&!_ed.load){_c2(_ed);}var _ee=function(def){_ec.result=def;_34(_ec);_36(_ec);_80();};if(_ed.load){_ed.load(_ec.prid,_ec.req,_ee);}else{if(_ed.loadQ){_ed.loadQ.push(_ec);}else{_ed.loadQ=[_ec];_31.unshift(_ed);_33(_ed);}}},_8f=0,_81=0,_ef=0,_90=function(_f0,_f1){if(has("config-stripStrict")){_f0=_f0.replace(/"use strict"/g,"");}_ef=1;if(has("config-dojo-loader-catches")){try{if(_f0===_8f){_8f.call(null);}else{req.eval(_f0,has("dojo-loader-eval-hint-url")?_f1.url:_f1.mid);}}catch(e){_35(_45,_f("evalModuleThrew",_f1));}}else{if(_f0===_8f){_8f.call(null);}else{req.eval(_f0,has("dojo-loader-eval-hint-url")?_f1.url:_f1.mid);}}_ef=0;},_33=function(_f2){var mid=_f2.mid,url=_f2.url;if(_f2.executed||_f2.injected||_92[mid]||(_f2.url&&((_f2.pack&&_92[_f2.url]===_f2.pack)||_92[_f2.url]==1))){return;}_93(_f2);if(0){var _f3=0;if(_f2.plugin&&_f2.plugin.isCombo){req.combo.add(_f2.plugin.mid,_f2.prid,0,req);_f3=1;}else{if(!_f2.plugin){_f3=req.combo.add(0,_f2.mid,_f2.url,req);}}if(_f3){_78=1;return;}}if(_f2.plugin){_eb(_f2);return;}var _f4=function(){_7f(_f2);if(_f2.injected!==_22){if(has("dojo-enforceDefine")){_35(_45,_f("noDefine",_f2));return;}_34(_f2);_c(_f2,_c7);req.trace("loader-define-nonmodule",[_f2.url]);}if(1&&_26){!_28.length&&_80();}else{_80();}};_8f=_53[mid]||_53[_54+_f2.url];if(_8f){req.trace("loader-inject",["cache",_f2.mid,url]);_90(_8f,_f2);_f4();return;}if(1&&_26){if(_f2.isXd){_26==_27&&(_26=xd);}else{if(_f2.isAmd&&_26!=_27){}else{var _f5=function(_f6){if(_26==_27){_28.unshift(_f2);_90(_f6,_f2);_28.shift();_7f(_f2);if(!_f2.cjs){_34(_f2);_36(_f2);}if(_f2.finish){var _f7=mid+"*finish",_f8=_f2.finish;delete _f2.finish;def(_f7,["dojo",("dojo/require!"+_f8.join(",")).replace(/\./g,"/")],function(_f9){_9(_f8,function(mid){_f9.require(mid);});});_31.unshift(_32(_f7));}_f4();}else{_f6=_2b(_f2,_f6);if(_f6){_90(_f6,_f2);_f4();}else{_81=_f2;req.injectUrl(_40(url),_f4,_f2);_81=0;}}};req.trace("loader-inject",["xhr",_f2.mid,url,_26!=_27]);if(has("config-dojo-loader-catches")){try{req.getText(url,_26!=_27,_f5);}catch(e){_35(_45,_f("xhrInjectFailed",[_f2,e]));}}else{req.getText(url,_26!=_27,_f5);}return;}}}req.trace("loader-inject",["script",_f2.mid,url]);_81=_f2;req.injectUrl(_40(url),_f4,_f2);_81=0;},_fa=function(_fb,_fc,def){req.trace("loader-define-module",[_fb.mid,_fc]);if(0&&_fb.plugin&&_fb.plugin.isCombo){_fb.result=_6(def)?def():def;_34(_fb);_36(_fb);return _fb;}var mid=_fb.mid;if(_fb.injected===_22){_35(_45,_f("multipleDefine",_fb));return _fb;}_c(_fb,{deps:_fc,def:def,cjs:{id:_fb.mid,uri:_fb.url,exports:(_fb.result={}),setExports:function(_fd){_fb.cjs.exports=_fd;},config:function(){return _fb.config;}}});for(var i=0;_fc[i];i++){_fc[i]=_32(_fc[i],_fb);}if(1&&_26&&!_92[mid]){_7b(_fb);_31.push(_fb);_80();}_34(_fb);if(!_6(def)&&!_fc.length){_fb.result=def;_36(_fb);}return _fb;},_7f=function(_fe,_ff){var _100=[],_101,args;while(_91.length){args=_91.shift();_ff&&(args[0]=_ff.shift());_101=(args[0]&&_32(args[0]))||_fe;_100.push([_101,args[1],args[2]]);}_58(_fe);_9(_100,function(args){_7b(_fa.apply(null,args));});};}var _102=0,_97=_3,_95=_3;if(1){_97=function(){_102&&clearTimeout(_102);_102=0;};_95=function(){_97();if(req.waitms){_102=_17.setTimeout(function(){_97();_35(_45,_f("timeout",_92));},req.waitms);}};}if(1){has.add("ie-event-behavior",doc.attachEvent&&typeof Windows==="undefined"&&(typeof opera==="undefined"||opera.toString()!="[object Opera]"));}if(1&&(1||1)){var _103=function(node,_104,_105,_106){if(!has("ie-event-behavior")){node.addEventListener(_104,_106,false);return function(){node.removeEventListener(_104,_106,false);};}else{node.attachEvent(_105,_106);return function(){node.detachEvent(_105,_106);};}},_107=_103(window,"load","onload",function(){req.pageLoaded=1;doc.readyState!="complete"&&(doc.readyState="complete");_107();});if(1){var _74=doc.getElementsByTagName("script"),i=0,_75;while(!_57){if(!/^dojo/.test((_75=_74[i++])&&_75.type)){_57=_75;}}req.injectUrl=function(url,_108,_109){var node=_109.node=doc.createElement("script"),_10a=function(e){e=e||window.event;var node=e.target||e.srcElement;if(e.type==="load"||/complete|loaded/.test(node.readyState)){_10b();_10c();_108&&_108();}},_10b=_103(node,"load","onreadystatechange",_10a),_10c=_103(node,"error","onerror",function(e){_10b();_10c();_35(_45,_f("scriptError",[url,e]));});node.type="text/javascript";node.charset="utf-8";node.src=url;_57.parentNode.insertBefore(node,_57);return node;};}}if(1){req.log=function(){try{for(var i=0;i<arguments.length;i++){}}catch(e){}};}else{req.log=_3;}if(0){var _10d=req.trace=function(_10e,args){if(_10d.on&&_10d.group[_10e]){_35("trace",[_10e,args]);for(var arg,dump=[],text="trace:"+_10e+(args.length?(":"+args[0]):""),i=1;i<args.length;){arg=args[i++];if(_7(arg)){text+=", "+arg;}else{dump.push(arg);}}req.log(text);dump.length&&dump.push(".");req.log.apply(req,dump);}};_c(_10d,{on:1,group:{},set:function(_10f,_110){if(_7(_10f)){_10d.group[_10f]=_110;}else{_c(_10d.group,_10f);}}});_10d.set(_c(_c(_c({},_2.trace),_1.trace),_56.trace));on("config",function(_111){_111.trace&&_10d.set(_111.trace);});}else{req.trace=_3;}var def=function(mid,_112,_113){var _114=arguments.length,_115=["require","exports","module"],args=[0,mid,_112];if(_114==1){args=[0,(_6(mid)?_115:[]),mid];}else{if(_114==2&&_7(mid)){args=[mid,(_6(_112)?_115:[]),_112];}else{if(_114==3){args=[mid,_112,_113];}}}if(0&&args[1]===_115){args[2].toString().replace(/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,"").replace(/require\(["']([\w\!\-_\.\/]+)["']\)/g,function(_116,dep){args[1].push(dep);});}req.trace("loader-define",args.slice(0,2));var _117=args[0]&&_32(args[0]),_118;if(_117&&!_92[_117.mid]){_7b(_fa(_117,args[1],args[2]));}else{if(!has("ie-event-behavior")||!1||_ef){_91.push(args);}else{_117=_117||_81;if(!_117){for(mid in _92){_118=_30[mid];if(_118&&_118.node&&_118.node.readyState==="interactive"){_117=_118;break;}}if(0&&!_117){for(var i=0;i<_79.length;i++){_117=_79[i];if(_117.node&&_117.node.readyState==="interactive"){break;}_117=0;}}}if(0&&_8(_117)){_7b(_fa(_32(_117.shift()),args[1],args[2]));if(!_117.length){_79.splice(i,1);}}else{if(_117){_58(_117);_7b(_fa(_117,args[1],args[2]));}else{_35(_45,_f("ieDefineFailed",args[0]));}}_80();}}};def.amd={vendor:"dojotoolkit.org"};if(0){req.def=def;}_c(_c(req,_2.loaderPatch),_1.loaderPatch);on(_45,function(arg){try{console.error(arg);if(arg instanceof Error){for(var p in arg){}}}catch(e){}});_c(req,{uid:uid,cache:_53,packs:_50});if(0){_c(req,{paths:_4e,aliases:_4d,modules:_30,legacyMode:_26,execQ:_31,defQ:_91,waiting:_92,packs:_50,mapProgs:_51,pathsMapProg:_4f,listenerQueues:_44,computeMapProg:_60,computeAliases:_62,runMapProg:_99,compactPath:_9b,getModuleInfo:_a1});}if(_17.define){if(1){_35(_45,_f("defineAlreadyDefined",0));}return;}else{_17.define=def;_17.require=req;if(0){require=req;}}if(0&&req.combo&&req.combo.plugins){var _119=req.combo.plugins,_11a;for(_11a in _119){_c(_c(_32(_11a),_119[_11a]),{isCombo:1,executed:"executed",load:1});}}if(1){_9(_69,function(c){_6a(c);});var _11b=_56.deps||_1.deps||_2.deps,_11c=_56.callback||_1.callback||_2.callback;req.boot=(_11b||_11c)?[_11b||[],_11c]:0;}if(!1){!req.async&&req(["dojo"]);req.boot&&req.apply(null,req.boot);}})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../mendix",name:"mendix"},{location:"../mxui",name:"mxui"},{location:"../reporting",name:"reporting"},{location:"../webcore",name:"webcore"},{location:"../big",main:"big",name:"big"},{location:"../fastclick",name:"fastclick"},{location:"../react-client",name:"react-client"},{location:"../indexeddbshim",name:"indexeddbshim"},{location:"../bluebird",name:"bluebird"},{location:".",name:"dojo"}]});require({cache:{"dojo/main":function(){define(["./_base/kernel","./has","require","./sniff","./_base/lang","./_base/array","./_base/config","./ready","./_base/declare","./_base/connect","./_base/Deferred","./_base/json","./_base/Color","./has!dojo-firebug?./_firebug/firebug","./_base/browser","./_base/loader"],function(_11d,has,_11e,_11f,lang,_120,_121,_122){if(_121.isDebug){_11e(["./_firebug/firebug"]);}1||has.add("dojo-config-require",1);if(1){var deps=_121.require;if(deps){deps=_120.map(lang.isArray(deps)?deps:[deps],function(item){return item.replace(/\./g,"/");});if(_11d.isAsync){_11e(deps);}else{_122(1,function(){_11e(deps);});}}}return _11d;});},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(has,_123,_124,_125){var i,p,_126=(function(){return this;})(),_127={},_128={},dojo={config:_123,global:_126,dijit:_127,dojox:_128};var _129={dojo:["dojo",dojo],dijit:["dijit",_127],dojox:["dojox",_128]},_12a=(_124.map&&_124.map[_125.id.match(/[^\/]+/)[0]]),item;for(p in _12a){if(_129[p]){_129[p][0]=_12a[p];}else{_129[p]=[_12a[p],{}];}}for(p in _129){item=_129[p];item[1]._scopeName=item[0];if(!_123.noGlobals){_126[item[0]]=item[1];}}dojo.scopeMap=_129;dojo.baseUrl=dojo.config.baseUrl=_124.baseUrl;dojo.isAsync=!1||_124.async;dojo.locale=_123.locale;var rev="$Rev: 18f9767 $".match(/[0-9a-f]{7,}/);dojo.version={major:5,minor:21,patch:0,flag:"-build25",revision:rev?rev[0]:NaN,toString:function(){var v=dojo.version;return v.major+"."+v.minor+"."+v.patch+v.flag+" ("+v.revision+")";}};1||has.add("extend-dojo",1);(Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}"))(dojo);if(0){dojo.exit=function(_12b){quit(_12b);};}else{dojo.exit=function(){};}1||has.add("dojo-guarantee-console",1);if(1){typeof console!="undefined"||(console={});var cn=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];var tn;i=0;while((tn=cn[i++])){if(!console[tn]){(function(){var tcn=tn+"";console[tcn]=("log" in console)?function(){var a=Array.prototype.slice.call(arguments);a.unshift(tcn+":");console["log"](a.join(" "));}:function(){};console[tcn]._fake=true;})();}}}has.add("dojo-debug-messages",!!_123.isDebug);dojo.deprecated=dojo.experimental=function(){};if(has("dojo-debug-messages")){dojo.deprecated=function(_12c,_12d,_12e){var _12f="DEPRECATED: "+_12c;if(_12d){_12f+=" "+_12d;}if(_12e){_12f+=" -- will be removed in version: "+_12e;}console.warn(_12f);};dojo.experimental=function(_130,_131){var _132="EXPERIMENTAL: "+_130+" -- APIs subject to change without notice.";if(_131){_132+=" "+_131;}console.warn(_132);};}1||has.add("dojo-modulePaths",1);if(1){if(_123.modulePaths){dojo.deprecated("dojo.modulePaths","use paths configuration");var _133={};for(p in _123.modulePaths){_133[p.replace(/\./g,"/")]=_123.modulePaths[p];}_124({paths:_133});}}1||has.add("dojo-moduleUrl",1);if(1){dojo.moduleUrl=function(_134,url){dojo.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var _135=null;if(_134){_135=_124.toUrl(_134.replace(/\./g,"/")+(url?("/"+url):"")+"/*.*").replace(/\/\*\.\*/,"")+(url?"":"/");}return _135;};}dojo._hasResource={};return dojo;});},"dojo/has":function(){define(["require","module"],function(_136,_137){var has=_136.has||function(){};if(!1){var _138=typeof window!="undefined"&&typeof location!="undefined"&&typeof document!="undefined"&&window.location==location&&window.document==document,_139=(function(){return this;})(),doc=_138&&document,_13a=doc&&doc.createElement("DiV"),_13b=(_137.config&&_137.config())||{};has=function(name){return typeof _13b[name]=="function"?(_13b[name]=_13b[name](_139,doc,_13a)):_13b[name];};has.cache=_13b;has.add=function(name,test,now,_13c){(typeof _13b[name]=="undefined"||_13c)&&(_13b[name]=test);return now&&has(name);};1||has.add("host-browser",_138);0&&has.add("host-node",(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8));0&&has.add("host-rhino",(typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")));1||has.add("dom",_138);1||has.add("dojo-dom-ready-api",1);1||has.add("dojo-sniff",1);}if(1){has.add("dom-addeventlistener",!!document.addEventListener);has.add("touch","ontouchstart" in document||("onpointerdown" in document&&navigator.maxTouchPoints>0)||window.navigator.msMaxTouchPoints);has.add("touch-events","ontouchstart" in document);has.add("pointer-events","onpointerdown" in document);has.add("MSPointer","msMaxTouchPoints" in navigator);has.add("device-width",screen.availWidth||innerWidth);var form=document.createElement("form");has.add("dom-attributes-explicit",form.attributes.length==0);has.add("dom-attributes-specified-flag",form.attributes.length>0&&form.attributes.length<40);}has.clearElement=function(_13d){_13d.innerHTML="";return _13d;};has.normalize=function(id,_13e){var _13f=id.match(/[\?:]|[^:\?]*/g),i=0,get=function(skip){var term=_13f[i++];if(term==":"){return 0;}else{if(_13f[i++]=="?"){if(!skip&&has(term)){return get();}else{get(true);return get(skip);}}return term||0;}};id=get();return id&&_13e(id);};has.load=function(id,_140,_141){if(id){_140([id],_141);}else{_141();}};return has;});},"dojo/_base/config":function(){define(["../has","require"],function(has,_142){var _143={};if(1){var src=_142.rawConfig,p;for(p in src){_143[p]=src[p];}}else{var _144=function(_145,_146,_147){for(p in _145){p!="has"&&has.add(_146+p,_145[p],0,_147);}};var _148=(function(){return this;})();_143=1?_142.rawConfig:_148.dojoConfig||_148.djConfig||{};_144(_143,"config",1);_144(_143.has,"",1);}if(!_143.locale&&typeof navigator!="undefined"){var _149=(navigator.language||navigator.userLanguage);if(_149){_143.locale=_149.toLowerCase();}}return _143;});},"dojo/sniff":function(){define(["./has"],function(has){if(1){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);has.add("air",dua.indexOf("AdobeAIR")>=0);has.add("msapp",parseFloat(dua.split("MSAppHost/")[1])||undefined);has.add("khtml",dav.indexOf("Konqueror")>=0?tv:undefined);has.add("webkit",parseFloat(dua.split("WebKit/")[1])||undefined);has.add("chrome",parseFloat(dua.split("Chrome/")[1])||undefined);has.add("safari",dav.indexOf("Safari")>=0&&!has("chrome")?parseFloat(dav.split("Version/")[1]):undefined);has.add("mac",dav.indexOf("Macintosh")>=0);has.add("quirks",document.compatMode=="BackCompat");if(dua.match(/(iPhone|iPod|iPad)/)){var p=RegExp.$1.replace(/P/,"p");var v=dua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));has.add(p,os);has.add("ios",os);}has.add("android",parseFloat(dua.split("Android ")[1])||undefined);has.add("bb",(dua.indexOf("BlackBerry")>=0||dua.indexOf("BB10")>=0)&&parseFloat(dua.split("Version/")[1])||undefined);has.add("trident",parseFloat(dav.split("Trident/")[1])||undefined);has.add("svg",typeof SVGAngle!=="undefined");if(!has("webkit")){if(dua.indexOf("Opera")>=0){has.add("opera",tv>=9.8?parseFloat(dua.split("Version/")[1])||tv:tv);}if(dua.indexOf("Gecko")>=0&&!has("khtml")&&!has("webkit")&&!has("trident")){has.add("mozilla",tv);}if(has("mozilla")){has.add("ff",parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||undefined);}if(document.all&&!has("opera")){var isIE=parseFloat(dav.split("MSIE ")[1])||undefined;var mode=document.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}has.add("ie",isIE);}has.add("wii",typeof opera!="undefined"&&opera.wiiremote);}}return has;});},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(dojo,has){has.add("bug-for-in-skips-shadowed",function(){for(var i in {toString:1}){return 0;}return 1;});var _14a=has("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],_14b=_14a.length,_14c=function(_14d,_14e,_14f){if(!_14f){if(_14d[0]&&dojo.scopeMap[_14d[0]]){_14f=dojo.scopeMap[_14d.shift()][1];}else{_14f=dojo.global;}}try{for(var i=0;i<_14d.length;i++){var p=_14d[i];if(!(p in _14f)){if(_14e){_14f[p]={};}else{return;}}_14f=_14f[p];}return _14f;}catch(e){}},opts=Object.prototype.toString,_150=function(obj,_151,_152){return (_152||[]).concat(Array.prototype.slice.call(obj,_151||0));},_153=/\{([^\}]+)\}/g;var lang={_extraNames:_14a,_mixin:function(dest,_154,_155){var name,s,i,_156={};for(name in _154){s=_154[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _156)||_156[name]!==s))){dest[name]=_155?_155(s):s;}}if(has("bug-for-in-skips-shadowed")){if(_154){for(i=0;i<_14b;++i){name=_14a[i];s=_154[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _156)||_156[name]!==s))){dest[name]=_155?_155(s):s;}}}}return dest;},mixin:function(dest,_157){if(!dest){dest={};}for(var i=1,l=arguments.length;i<l;i++){lang._mixin(dest,arguments[i]);}return dest;},setObject:function(name,_158,_159){var _15a=name.split("."),p=_15a.pop(),obj=_14c(_15a,true,_159);return obj&&p?(obj[p]=_158):undefined;},getObject:function(name,_15b,_15c){return _14c(name?name.split("."):[],_15b,_15c);},exists:function(name,obj){return lang.getObject(name,false,obj)!==undefined;},isString:function(it){return (typeof it=="string"||it instanceof String);},isArray:function(it){return it&&(it instanceof Array||typeof it=="array");},isFunction:function(it){return opts.call(it)==="[object Function]";},isObject:function(it){return it!==undefined&&(it===null||typeof it=="object"||lang.isArray(it)||lang.isFunction(it));},isArrayLike:function(it){return it&&it!==undefined&&!lang.isString(it)&&!lang.isFunction(it)&&!(it.tagName&&it.tagName.toLowerCase()=="form")&&(lang.isArray(it)||isFinite(it.length));},isAlien:function(it){return it&&!lang.isFunction(it)&&/\{\s*\[native code\]\s*\}/.test(String(it));},extend:function(ctor,_15d){for(var i=1,l=arguments.length;i<l;i++){lang._mixin(ctor.prototype,arguments[i]);}return ctor;},_hitchArgs:function(_15e,_15f){var pre=lang._toArray(arguments,2);var _160=lang.isString(_15f);return function(){var args=lang._toArray(arguments);var f=_160?(_15e||dojo.global)[_15f]:_15f;return f&&f.apply(_15e||this,pre.concat(args));};},hitch:function(_161,_162){if(arguments.length>2){return lang._hitchArgs.apply(dojo,arguments);}if(!_162){_162=_161;_161=null;}if(lang.isString(_162)){_161=_161||dojo.global;if(!_161[_162]){throw (["lang.hitch: scope[\"",_162,"\"] is null (scope=\"",_161,"\")"].join(""));}return function(){return _161[_162].apply(_161,arguments||[]);};}return !_161?_162:function(){return _162.apply(_161,arguments||[]);};},delegate:(function(){function TMP(){};return function(obj,_163){TMP.prototype=obj;var tmp=new TMP();TMP.prototype=null;if(_163){lang._mixin(tmp,_163);}return tmp;};})(),_toArray:has("ie")?(function(){function slow(obj,_164,_165){var arr=_165||[];for(var x=_164||0;x<obj.length;x++){arr.push(obj[x]);}return arr;};return function(obj){return ((obj.item)?slow:_150).apply(this,arguments);};})():_150,partial:function(_166){var arr=[null];return lang.hitch.apply(dojo,arr.concat(lang._toArray(arguments)));},clone:function(src){if(!src||typeof src!="object"||lang.isFunction(src)){return src;}if(src.nodeType&&"cloneNode" in src){return src.cloneNode(true);}if(src instanceof Date){return new Date(src.getTime());}if(src instanceof RegExp){return new RegExp(src);}var r,i,l;if(lang.isArray(src)){r=[];for(i=0,l=src.length;i<l;++i){if(i in src){r.push(lang.clone(src[i]));}}}else{r=src.constructor?new src.constructor():{};}return lang._mixin(r,src,lang.clone);},trim:String.prototype.trim?function(str){return str.trim();}:function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");},replace:function(tmpl,map,_167){return tmpl.replace(_167||_153,lang.isFunction(map)?map:function(_168,k){return lang.getObject(k,false,map);});}};1&&lang.mixin(dojo,lang);return lang;});},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var _169={},u;function _16a(fn){return _169[fn]=new Function("item","index","array",fn);};function _16b(some){var _16c=!some;return function(a,fn,o){var i=0,l=a&&a.length||0,_16d;if(l&&typeof a=="string"){a=a.split("");}if(typeof fn=="string"){fn=_169[fn]||_16a(fn);}if(o){for(;i<l;++i){_16d=!fn.call(o,a[i],i,a);if(some^_16d){return !_16d;}}}else{for(;i<l;++i){_16d=!fn(a[i],i,a);if(some^_16d){return !_16d;}}}return _16c;};};function _16e(up){var _16f=1,_170=0,_171=0;if(!up){_16f=_170=_171=-1;}return function(a,x,from,last){if(last&&_16f>0){return _172.lastIndexOf(a,x,from);}var l=a&&a.length||0,end=up?l+_171:_170,i;if(from===u){i=up?_170:l+_171;}else{if(from<0){i=l+from;if(i<0){i=_170;}}else{i=from>=l?l+_171:from;}}if(l&&typeof a=="string"){a=a.split("");}for(;i!=end;i+=_16f){if(a[i]==x){return i;}}return -1;};};var _172={every:_16b(false),some:_16b(true),indexOf:_16e(true),lastIndexOf:_16e(false),forEach:function(arr,_173,_174){var i=0,l=arr&&arr.length||0;if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _173=="string"){_173=_169[_173]||_16a(_173);}if(_174){for(;i<l;++i){_173.call(_174,arr[i],i,arr);}}else{for(;i<l;++i){_173(arr[i],i,arr);}}},map:function(arr,_175,_176,Ctr){var i=0,l=arr&&arr.length||0,out=new (Ctr||Array)(l);if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _175=="string"){_175=_169[_175]||_16a(_175);}if(_176){for(;i<l;++i){out[i]=_175.call(_176,arr[i],i,arr);}}else{for(;i<l;++i){out[i]=_175(arr[i],i,arr);}}return out;},filter:function(arr,_177,_178){var i=0,l=arr&&arr.length||0,out=[],_179;if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _177=="string"){_177=_169[_177]||_16a(_177);}if(_178){for(;i<l;++i){_179=arr[i];if(_177.call(_178,_179,i,arr)){out.push(_179);}}}else{for(;i<l;++i){_179=arr[i];if(_177(_179,i,arr)){out.push(_179);}}}return out;},clearCache:function(){_169={};}};1&&lang.mixin(dojo,_172);return _172;});},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(dojo,has,_17a,_17b,lang){var _17c=0,_17d=[],_17e=0,_17f=function(){_17c=1;dojo._postLoad=dojo.config.afterOnLoad=true;_180();},_180=function(){if(_17e){return;}_17e=1;while(_17c&&(!_17b||_17b._Q.length==0)&&(_17a.idle?_17a.idle():true)&&_17d.length){var f=_17d.shift();try{f();}catch(e){e.info=e.message;if(_17a.signal){_17a.signal("error",e);}else{throw e;}}}_17e=0;};_17a.on&&_17a.on("idle",_180);if(_17b){_17b._onQEmpty=_180;}var _181=dojo.ready=dojo.addOnLoad=function(_182,_183,_184){var _185=lang._toArray(arguments);if(typeof _182!="number"){_184=_183;_183=_182;_182=1000;}else{_185.shift();}_184=_184?lang.hitch.apply(dojo,_185):function(){_183();};_184.priority=_182;for(var i=0;i<_17d.length&&_182>=_17d[i].priority;i++){}_17d.splice(i,0,_184);_180();};1||has.add("dojo-config-addOnLoad",1);if(1){var dca=dojo.config.addOnLoad;if(dca){_181[(lang.isArray(dca)?"apply":"call")](dojo,dca);}}if(1&&dojo.config.parseOnLoad&&!dojo.isAsync){_181(99,function(){if(!dojo.parser){dojo.deprecated("Add explicit require(['dojo/parser']);","","2.0");_17a(["dojo/parser"]);}});}if(_17b){_17b(_17f);}else{_17f();}return _181;});},"dojo/domReady":function(){define(["./has"],function(has){var _186=(function(){return this;})(),doc=document,_187={"loaded":1,"complete":1},_188=typeof doc.readyState!="string",_189=!!_187[doc.readyState],_18a=[],_18b;function _18c(_18d){_18a.push(_18d);if(_189){_18e();}};_18c.load=function(id,req,load){_18c(load);};_18c._Q=_18a;_18c._onQEmpty=function(){};if(_188){doc.readyState="loading";}function _18e(){if(_18b){return;}_18b=true;while(_18a.length){try{(_18a.shift())(doc);}catch(err){console.error(err,"in domReady callback",err.stack);}}_18b=false;_18c._onQEmpty();};if(!_189){var _18f=[],_190=function(evt){evt=evt||_186.event;if(_189||(evt.type=="readystatechange"&&!_187[doc.readyState])){return;}if(_188){doc.readyState="complete";}_189=1;_18e();},on=function(node,_191){node.addEventListener(_191,_190,false);_18a.push(function(){node.removeEventListener(_191,_190,false);});};if(!has("dom-addeventlistener")){on=function(node,_192){_192="on"+_192;node.attachEvent(_192,_190);_18a.push(function(){node.detachEvent(_192,_190);});};var div=doc.createElement("div");try{if(div.doScroll&&_186.frameElement===null){_18f.push(function(){try{div.doScroll("left");return 1;}catch(e){}});}}catch(e){}}on(doc,"DOMContentLoaded");on(_186,"load");if("onreadystatechange" in doc){on(doc,"readystatechange");}else{if(!_188){_18f.push(function(){return _187[doc.readyState];});}}if(_18f.length){var _193=function(){if(_189){return;}var i=_18f.length;while(i--){if(_18f[i]()){_190("poller");return;}}setTimeout(_193,30);};_193();}}return _18c;});},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var mix=lang.mixin,op=Object.prototype,opts=op.toString,xtor=new Function,_194=0,_195="constructor";function err(msg,cls){throw new Error("declare"+(cls?" "+cls:"")+": "+msg);};function _196(_197,_198){var _199=[],_19a=[{cls:0,refs:[]}],_19b={},_19c=1,l=_197.length,i=0,j,lin,base,top,_19d,rec,name,refs;for(;i<l;++i){base=_197[i];if(!base){err("mixin #"+i+" is unknown. Did you use dojo.require to pull it in?",_198);}else{if(opts.call(base)!="[object Function]"){err("mixin #"+i+" is not a callable constructor.",_198);}}lin=base._meta?base._meta.bases:[base];top=0;for(j=lin.length-1;j>=0;--j){_19d=lin[j].prototype;if(!_19d.hasOwnProperty("declaredClass")){_19d.declaredClass="uniqName_"+(_194++);}name=_19d.declaredClass;if(!_19b.hasOwnProperty(name)){_19b[name]={count:0,refs:[],cls:lin[j]};++_19c;}rec=_19b[name];if(top&&top!==rec){rec.refs.push(top);++top.count;}top=rec;}++top.count;_19a[0].refs.push(top);}while(_19a.length){top=_19a.pop();_199.push(top.cls);--_19c;while(refs=top.refs,refs.length==1){top=refs[0];if(!top||--top.count){top=0;break;}_199.push(top.cls);--_19c;}if(top){for(i=0,l=refs.length;i<l;++i){top=refs[i];if(!--top.count){_19a.push(top);}}}}if(_19c){err("can't build consistent linearization",_198);}base=_197[0];_199[0]=base?base._meta&&base===_199[_199.length-base._meta.bases.length]?base._meta.bases.length:1:0;return _199;};function _19e(args,a,f){var name,_19f,_1a0,_1a1,meta,base,_1a2,opf,pos,_1a3=this._inherited=this._inherited||{};if(typeof args=="string"){name=args;args=a;a=f;}f=0;_1a1=args.callee;name=name||_1a1.nom;if(!name){err("can't deduce a name to call inherited()",this.declaredClass);}meta=this.constructor._meta;_1a0=meta.bases;pos=_1a3.p;if(name!=_195){if(_1a3.c!==_1a1){pos=0;base=_1a0[0];meta=base._meta;if(meta.hidden[name]!==_1a1){_19f=meta.chains;if(_19f&&typeof _19f[name]=="string"){err("calling chained method with inherited: "+name,this.declaredClass);}do{meta=base._meta;_1a2=base.prototype;if(meta&&(_1a2[name]===_1a1&&_1a2.hasOwnProperty(name)||meta.hidden[name]===_1a1)){break;}}while(base=_1a0[++pos]);pos=base?pos:-1;}}base=_1a0[++pos];if(base){_1a2=base.prototype;if(base._meta&&_1a2.hasOwnProperty(name)){f=_1a2[name];}else{opf=op[name];do{_1a2=base.prototype;f=_1a2[name];if(f&&(base._meta?_1a2.hasOwnProperty(name):f!==opf)){break;}}while(base=_1a0[++pos]);}}f=base&&f||op[name];}else{if(_1a3.c!==_1a1){pos=0;meta=_1a0[0]._meta;if(meta&&meta.ctor!==_1a1){_19f=meta.chains;if(!_19f||_19f.constructor!=="manual"){err("calling chained constructor with inherited",this.declaredClass);}while(base=_1a0[++pos]){meta=base._meta;if(meta&&meta.ctor===_1a1){break;}}pos=base?pos:-1;}}while(base=_1a0[++pos]){meta=base._meta;f=meta?meta.ctor:base;if(f){break;}}f=base&&f;}_1a3.c=f;_1a3.p=pos;if(f){return a===true?f:f.apply(this,a||args);}};function _1a4(name,args){if(typeof name=="string"){return this.__inherited(name,args,true);}return this.__inherited(name,true);};function _1a5(args,a1,a2){var f=this.getInherited(args,a1);if(f){return f.apply(this,a2||a1||args);}};var _1a6=dojo.config.isDebug?_1a5:_19e;function _1a7(cls){var _1a8=this.constructor._meta.bases;for(var i=0,l=_1a8.length;i<l;++i){if(_1a8[i]===cls){return true;}}return this instanceof cls;};function _1a9(_1aa,_1ab){for(var name in _1ab){if(name!=_195&&_1ab.hasOwnProperty(name)){_1aa[name]=_1ab[name];}}if(has("bug-for-in-skips-shadowed")){for(var _1ac=lang._extraNames,i=_1ac.length;i;){name=_1ac[--i];if(name!=_195&&_1ab.hasOwnProperty(name)){_1aa[name]=_1ab[name];}}}};function _1ad(_1ae,_1af){var name,t;for(name in _1af){t=_1af[name];if((t!==op[name]||!(name in op))&&name!=_195){if(opts.call(t)=="[object Function]"){t.nom=name;}_1ae[name]=t;}}if(has("bug-for-in-skips-shadowed")){for(var _1b0=lang._extraNames,i=_1b0.length;i;){name=_1b0[--i];t=_1af[name];if((t!==op[name]||!(name in op))&&name!=_195){if(opts.call(t)=="[object Function]"){t.nom=name;}_1ae[name]=t;}}}return _1ae;};function _1b1(_1b2){_1b3.safeMixin(this.prototype,_1b2);return this;};function _1b4(_1b5,_1b6){if(!(_1b5 instanceof Array||typeof _1b5=="function")){_1b6=_1b5;_1b5=undefined;}_1b6=_1b6||{};_1b5=_1b5||[];return _1b3([this].concat(_1b5),_1b6);};function _1b7(_1b8,_1b9){return function(){var a=arguments,args=a,a0=a[0],f,i,m,l=_1b8.length,_1ba;if(!(this instanceof a.callee)){return _1bb(a);}if(_1b9&&(a0&&a0.preamble||this.preamble)){_1ba=new Array(_1b8.length);_1ba[0]=a;for(i=0;;){a0=a[0];if(a0){f=a0.preamble;if(f){a=f.apply(this,a)||a;}}f=_1b8[i].prototype;f=f.hasOwnProperty("preamble")&&f.preamble;if(f){a=f.apply(this,a)||a;}if(++i==l){break;}_1ba[i]=a;}}for(i=l-1;i>=0;--i){f=_1b8[i];m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,_1ba?_1ba[i]:a);}}f=this.postscript;if(f){f.apply(this,args);}};};function _1bc(ctor,_1bd){return function(){var a=arguments,t=a,a0=a[0],f;if(!(this instanceof a.callee)){return _1bb(a);}if(_1bd){if(a0){f=a0.preamble;if(f){t=f.apply(this,t)||t;}}f=this.preamble;if(f){f.apply(this,t);}}if(ctor){ctor.apply(this,a);}f=this.postscript;if(f){f.apply(this,a);}};};function _1be(_1bf){return function(){var a=arguments,i=0,f,m;if(!(this instanceof a.callee)){return _1bb(a);}for(;f=_1bf[i];++i){m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,a);break;}}f=this.postscript;if(f){f.apply(this,a);}};};function _1c0(name,_1c1,_1c2){return function(){var b,m,f,i=0,step=1;if(_1c2){i=_1c1.length-1;step=-1;}for(;b=_1c1[i];i+=step){m=b._meta;f=(m?m.hidden:b.prototype)[name];if(f){f.apply(this,arguments);}}};};function _1c3(ctor){xtor.prototype=ctor.prototype;var t=new xtor;xtor.prototype=null;return t;};function _1bb(args){var ctor=args.callee,t=_1c3(ctor);ctor.apply(t,args);return t;};function _1b3(_1c4,_1c5,_1c6){if(typeof _1c4!="string"){_1c6=_1c5;_1c5=_1c4;_1c4="";}_1c6=_1c6||{};var _1c7,i,t,ctor,name,_1c8,_1c9,_1ca=1,_1cb=_1c5;if(opts.call(_1c5)=="[object Array]"){_1c8=_196(_1c5,_1c4);t=_1c8[0];_1ca=_1c8.length-t;_1c5=_1c8[_1ca];}else{_1c8=[0];if(_1c5){if(opts.call(_1c5)=="[object Function]"){t=_1c5._meta;_1c8=_1c8.concat(t?t.bases:_1c5);}else{err("base class is not a callable constructor.",_1c4);}}else{if(_1c5!==null){err("unknown base class. Did you use dojo.require to pull it in?",_1c4);}}}if(_1c5){for(i=_1ca-1;;--i){_1c7=_1c3(_1c5);if(!i){break;}t=_1c8[i];(t._meta?_1a9:mix)(_1c7,t.prototype);ctor=new Function;ctor.superclass=_1c5;ctor.prototype=_1c7;_1c5=_1c7.constructor=ctor;}}else{_1c7={};}_1b3.safeMixin(_1c7,_1c6);t=_1c6.constructor;if(t!==op.constructor){t.nom=_195;_1c7.constructor=t;}for(i=_1ca-1;i;--i){t=_1c8[i]._meta;if(t&&t.chains){_1c9=mix(_1c9||{},t.chains);}}if(_1c7["-chains-"]){_1c9=mix(_1c9||{},_1c7["-chains-"]);}t=!_1c9||!_1c9.hasOwnProperty(_195);_1c8[0]=ctor=(_1c9&&_1c9.constructor==="manual")?_1be(_1c8):(_1c8.length==1?_1bc(_1c6.constructor,t):_1b7(_1c8,t));ctor._meta={bases:_1c8,hidden:_1c6,chains:_1c9,parents:_1cb,ctor:_1c6.constructor};ctor.superclass=_1c5&&_1c5.prototype;ctor.extend=_1b1;ctor.createSubclass=_1b4;ctor.prototype=_1c7;_1c7.constructor=ctor;_1c7.getInherited=_1a4;_1c7.isInstanceOf=_1a7;_1c7.inherited=_1a6;_1c7.__inherited=_19e;if(_1c4){_1c7.declaredClass=_1c4;lang.setObject(_1c4,ctor);}if(_1c9){for(name in _1c9){if(_1c7[name]&&typeof _1c9[name]=="string"&&name!=_195){t=_1c7[name]=_1c0(name,_1c8,_1c9[name]==="after");t.nom=name;}}}return ctor;};dojo.safeMixin=_1b3.safeMixin=_1ad;dojo.declare=_1b3;return _1b3;});},"dojo/_base/connect":function(){define(["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(dojo,on,hub,_1cc,_1cd,_1ce,has,lang){has.add("events-keypress-typed",function(){var _1cf={charCode:0};try{_1cf=document.createEvent("KeyboardEvent");(_1cf.initKeyboardEvent||_1cf.initKeyEvent).call(_1cf,"keypress",true,true,null,false,false,false,false,9,3);}catch(e){}return _1cf.charCode==0&&!has("opera");});function _1d0(obj,_1d1,_1d2,_1d3,_1d4){_1d3=lang.hitch(_1d2,_1d3);if(!obj||!(obj.addEventListener||obj.attachEvent)){return _1cc.after(obj||dojo.global,_1d1,_1d3,true);}if(typeof _1d1=="string"&&_1d1.substring(0,2)=="on"){_1d1=_1d1.substring(2);}if(!obj){obj=dojo.global;}if(!_1d4){switch(_1d1){case "keypress":_1d1=_1d5;break;case "mouseenter":_1d1=_1ce.enter;break;case "mouseleave":_1d1=_1ce.leave;break;}}return on(obj,_1d1,_1d3,_1d4);};var _1d6={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113};var _1d7=has("mac")?"metaKey":"ctrlKey";var _1d8=function(evt,_1d9){var faux=lang.mixin({},evt,_1d9);_1da(faux);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;};function _1da(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _1d5;if(has("events-keypress-typed")){var _1db=function(e,code){try{return (e.keyCode=code);}catch(e){return 0;}};_1d5=function(_1dc,_1dd){var _1de=on(_1dc,"keydown",function(evt){var k=evt.keyCode;var _1df=(k!=13)&&k!=32&&(k!=27||!has("ie"))&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222)&&k!=229;if(_1df||evt.ctrlKey){var c=_1df?0:k;if(evt.ctrlKey){if(k==3||k==13){return _1dd.call(evt.currentTarget,evt);}else{if(c>95&&c<106){c-=48;}else{if((!evt.shiftKey)&&(c>=65&&c<=90)){c+=32;}else{c=_1d6[c]||c;}}}}var faux=_1d8(evt,{type:"keypress",faux:true,charCode:c});_1dd.call(evt.currentTarget,faux);if(has("ie")){_1db(evt,faux.keyCode);}}});var _1e0=on(_1dc,"keypress",function(evt){var c=evt.charCode;c=c>=32?c:0;evt=_1d8(evt,{charCode:c,faux:true});return _1dd.call(this,evt);});return {remove:function(){_1de.remove();_1e0.remove();}};};}else{if(has("opera")){_1d5=function(_1e1,_1e2){return on(_1e1,"keypress",function(evt){var c=evt.which;if(c==3){c=99;}c=c<32&&!evt.shiftKey?0:c;if(evt.ctrlKey&&!evt.shiftKey&&c>=65&&c<=90){c+=32;}return _1e2.call(this,_1d8(evt,{charCode:c}));});};}else{_1d5=function(_1e3,_1e4){return on(_1e3,"keypress",function(evt){_1da(evt);return _1e4.call(this,evt);});};}}var _1e5={_keypress:_1d5,connect:function(obj,_1e6,_1e7,_1e8,_1e9){var a=arguments,args=[],i=0;args.push(typeof a[0]=="string"?null:a[i++],a[i++]);var a1=a[i+1];args.push(typeof a1=="string"||typeof a1=="function"?a[i++]:null,a[i++]);for(var l=a.length;i<l;i++){args.push(a[i]);}return _1d0.apply(this,args);},disconnect:function(_1ea){if(_1ea){_1ea.remove();}},subscribe:function(_1eb,_1ec,_1ed){return hub.subscribe(_1eb,lang.hitch(_1ec,_1ed));},publish:function(_1ee,args){return hub.publish.apply(hub,[_1ee].concat(args));},connectPublisher:function(_1ef,obj,_1f0){var pf=function(){_1e5.publish(_1ef,arguments);};return _1f0?_1e5.connect(obj,_1f0,pf):_1e5.connect(obj,pf);},isCopyKey:function(e){return e[_1d7];}};_1e5.unsubscribe=_1e5.disconnect;1&&lang.mixin(dojo,_1e5);return _1e5;});},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(_1f1,dojo,has){"use strict";if(1){var _1f2=window.ScriptEngineMajorVersion;has.add("jscript",_1f2&&(_1f2()+ScriptEngineMinorVersion()/10));has.add("event-orientationchange",has("touch")&&!has("android"));has.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);has.add("event-focusin",function(_1f3,doc,_1f4){return "onfocusin" in _1f4;});if(has("touch")){has.add("touch-can-modify-event-delegate",function(){var _1f5=function(){};_1f5.prototype=document.createEvent("MouseEvents");try{var _1f6=new _1f5;_1f6.target=null;return _1f6.target===null;}catch(e){return false;}});}}var on=function(_1f7,type,_1f8,_1f9){if(typeof _1f7.on=="function"&&typeof type!="function"&&!_1f7.nodeType){return _1f7.on(type,_1f8);}return on.parse(_1f7,type,_1f8,_1fa,_1f9,this);};on.pausable=function(_1fb,type,_1fc,_1fd){var _1fe;var _1ff=on(_1fb,type,function(){if(!_1fe){return _1fc.apply(this,arguments);}},_1fd);_1ff.pause=function(){_1fe=true;};_1ff.resume=function(){_1fe=false;};return _1ff;};on.once=function(_200,type,_201,_202){var _203=on(_200,type,function(){_203.remove();return _201.apply(this,arguments);});return _203;};on.parse=function(_204,type,_205,_206,_207,_208){if(type.call){return type.call(_208,_204,_205);}if(type instanceof Array){_209=type;}else{if(type.indexOf(",")>-1){var _209=type.split(/\s*,\s*/);}}if(_209){var _20a=[];var i=0;var _20b;while(_20b=_209[i++]){_20a.push(on.parse(_204,_20b,_205,_206,_207,_208));}_20a.remove=function(){for(var i=0;i<_20a.length;i++){_20a[i].remove();}};return _20a;}return _206(_204,type,_205,_207,_208);};var _20c=/^touch/;function _1fa(_20d,type,_20e,_20f,_210){var _211=type.match(/(.*):(.*)/);if(_211){type=_211[2];_211=_211[1];return on.selector(_211,type).call(_210,_20d,_20e);}if(has("touch")){if(_20c.test(type)){_20e=_212(_20e);}if(!has("event-orientationchange")&&(type=="orientationchange")){type="resize";_20d=window;_20e=_212(_20e);}}if(_213){_20e=_213(_20e);}if(_20d.addEventListener){var _214=type in _215,_216=_214?_215[type]:type;_20d.addEventListener(_216,_20e,_214);return {remove:function(){_20d.removeEventListener(_216,_20e,_214);}};}type="on"+type;if(_217&&_20d.attachEvent){return _217(_20d,type,_20e);}throw new Error("Target must be an event emitter");};on.matches=function(node,_218,_219,_21a,_21b){_21b=_21b&&_21b.matches?_21b:dojo.query;_21a=_21a!==false;if(node.nodeType!=1){node=node.parentNode;}while(!_21b.matches(node,_218,_219)){if(node==_219||_21a===false||!(node=node.parentNode)||node.nodeType!=1){return false;}}return node;};on.selector=function(_21c,_21d,_21e){return function(_21f,_220){var _221=typeof _21c=="function"?{matches:_21c}:this,_222=_21d.bubble;function _223(_224){return on.matches(_224,_21c,_21f,_21e,_221);};if(_222){return on(_21f,_222(_223),_220);}return on(_21f,_21d,function(_225){var _226=_223(_225.target);if(_226){return _220.call(_226,_225);}});};};function _227(){this.cancelable=false;this.defaultPrevented=true;};function _228(){this.bubbles=false;};var _229=[].slice,_22a=on.emit=function(_22b,type,_22c){var args=_229.call(arguments,2);var _22d="on"+type;if("parentNode" in _22b){var _22e=args[0]={};for(var i in _22c){_22e[i]=_22c[i];}_22e.preventDefault=_227;_22e.stopPropagation=_228;_22e.target=_22b;_22e.type=type;_22c=_22e;}do{_22b[_22d]&&_22b[_22d].apply(_22b,args);}while(_22c&&_22c.bubbles&&(_22b=_22b.parentNode));return _22c&&_22c.cancelable&&_22c;};var _215=has("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!has("event-stopimmediatepropagation")){var _22f=function(){this.immediatelyStopped=true;this.modified=true;};var _213=function(_230){return function(_231){if(!_231.immediatelyStopped){_231.stopImmediatePropagation=_22f;return _230.apply(this,arguments);}};};}if(has("dom-addeventlistener")){on.emit=function(_232,type,_233){if(_232.dispatchEvent&&document.createEvent){var _234=_232.ownerDocument||document;var _235=_234.createEvent("HTMLEvents");_235.initEvent(type,!!_233.bubbles,!!_233.cancelable);for(var i in _233){if(!(i in _235)){_235[i]=_233[i];}}return _232.dispatchEvent(_235)&&_235;}return _22a.apply(on,arguments);};}else{on._fixEvent=function(evt,_236){if(!evt){var w=_236&&(_236.ownerDocument||_236.document||_236).parentWindow||window;evt=w.event;}if(!evt){return evt;}try{if(_237&&evt.type==_237.type&&evt.srcElement==_237.target){evt=_237;}}catch(e){}if(!evt.target){evt.target=evt.srcElement;evt.currentTarget=(_236||evt.srcElement);if(evt.type=="mouseover"){evt.relatedTarget=evt.fromElement;}if(evt.type=="mouseout"){evt.relatedTarget=evt.toElement;}if(!evt.stopPropagation){evt.stopPropagation=_238;evt.preventDefault=_239;}switch(evt.type){case "keypress":var c=("charCode" in evt?evt.charCode:evt.keyCode);if(c==10){c=0;evt.keyCode=13;}else{if(c==13||c==27){c=0;}else{if(c==3){c=99;}}}evt.charCode=c;_23a(evt);break;}}return evt;};var _237,_23b=function(_23c){this.handle=_23c;};_23b.prototype.remove=function(){delete _dojoIEListeners_[this.handle];};var _23d=function(_23e){return function(evt){evt=on._fixEvent(evt,this);var _23f=_23e.call(this,evt);if(evt.modified){if(!_237){setTimeout(function(){_237=null;});}_237=evt;}return _23f;};};var _217=function(_240,type,_241){_241=_23d(_241);if(((_240.ownerDocument?_240.ownerDocument.parentWindow:_240.parentWindow||_240.window||window)!=top||has("jscript")<5.8)&&!has("config-_allow_leaks")){if(typeof _dojoIEListeners_=="undefined"){_dojoIEListeners_=[];}var _242=_240[type];if(!_242||!_242.listeners){var _243=_242;_242=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");_242.listeners=[];_240[type]=_242;_242.global=this;if(_243){_242.listeners.push(_dojoIEListeners_.push(_243)-1);}}var _244;_242.listeners.push(_244=(_242.global._dojoIEListeners_.push(_241)-1));return new _23b(_244);}return _1f1.after(_240,type,_241,true);};var _23a=function(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _238=function(){this.cancelBubble=true;};var _239=on._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey){try{this.keyCode=0;}catch(e){}}this.defaultPrevented=true;this.returnValue=false;this.modified=true;};}if(has("touch")){var _245=function(){};var _246=window.orientation;var _212=function(_247){return function(_248){var _249=_248.corrected;if(!_249){var type=_248.type;try{delete _248.type;}catch(e){}if(_248.type){if(has("touch-can-modify-event-delegate")){_245.prototype=_248;_249=new _245;}else{_249={};for(var name in _248){_249[name]=_248[name];}}_249.preventDefault=function(){_248.preventDefault();};_249.stopPropagation=function(){_248.stopPropagation();};}else{_249=_248;_249.type=type;}_248.corrected=_249;if(type=="resize"){if(_246==window.orientation){return null;}_246=window.orientation;_249.type="orientationchange";return _247.call(this,_249);}if(!("rotation" in _249)){_249.rotation=0;_249.scale=1;}var _24a=_249.changedTouches[0];for(var i in _24a){delete _249[i];_249[i]=_24a[i];}}return _247.call(this,_249);};};}return on;});},"dojo/topic":function(){define(["./Evented"],function(_24b){var hub=new _24b;return {publish:function(_24c,_24d){return hub.emit.apply(hub,arguments);},subscribe:function(_24e,_24f){return hub.on.apply(hub,arguments);}};});},"dojo/Evented":function(){define(["./aspect","./on"],function(_250,on){"use strict";var _251=_250.after;function _252(){};_252.prototype={on:function(type,_253){return on.parse(this,type,_253,function(_254,type){return _251(_254,"on"+type,_253,true);});},emit:function(type,_255){var args=[this];args.push.apply(args,arguments);return on.emit.apply(on,args);}};return _252;});},"dojo/aspect":function(){define([],function(){"use strict";var _256,_257=0;function _258(_259,type,_25a,_25b){var _25c=_259[type];var _25d=type=="around";var _25e;if(_25d){var _25f=_25a(function(){return _25c.advice(this,arguments);});_25e={remove:function(){if(_25f){_25f=_259=_25a=null;}},advice:function(_260,args){return _25f?_25f.apply(_260,args):_25c.advice(_260,args);}};}else{_25e={remove:function(){if(_25e.advice){var _261=_25e.previous;var next=_25e.next;if(!next&&!_261){delete _259[type];}else{if(_261){_261.next=next;}else{_259[type]=next;}if(next){next.previous=_261;}}_259=_25a=_25e.advice=null;}},id:_257++,advice:_25a,receiveArguments:_25b};}if(_25c&&!_25d){if(type=="after"){while(_25c.next&&(_25c=_25c.next)){}_25c.next=_25e;_25e.previous=_25c;}else{if(type=="before"){_259[type]=_25e;_25e.next=_25c;_25c.previous=_25e;}}}else{_259[type]=_25e;}return _25e;};function _262(type){return function(_263,_264,_265,_266){var _267=_263[_264],_268;if(!_267||_267.target!=_263){_263[_264]=_268=function(){var _269=_257;var args=arguments;var _26a=_268.before;while(_26a){args=_26a.advice.apply(this,args)||args;_26a=_26a.next;}if(_268.around){var _26b=_268.around.advice(this,args);}var _26c=_268.after;while(_26c&&_26c.id<_269){if(_26c.receiveArguments){var _26d=_26c.advice.apply(this,args);_26b=_26d===_256?_26b:_26d;}else{_26b=_26c.advice.call(this,_26b,args);}_26c=_26c.next;}return _26b;};if(_267){_268.around={advice:function(_26e,args){return _267.apply(_26e,args);}};}_268.target=_263;}var _26f=_258((_268||_267),type,_265,_266);_265=null;return _26f;};};var _270=_262("after");var _271=_262("before");var _272=_262("around");return {before:_271,around:_272,after:_270};});},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(dojo,on,has,dom){if(on._fixEvent){var _273=on._fixEvent;on._fixEvent=function(evt,se){evt=_273(evt,se);if(evt){dom.normalizeEvent(evt);}return evt;};}var ret={fix:function(evt,_274){if(on._fixEvent){return on._fixEvent(evt,_274);}return evt;},stop:function(evt){if(has("dom-addeventlistener")||(evt&&evt.preventDefault)){evt.preventDefault();evt.stopPropagation();}else{evt=evt||window.event;evt.cancelBubble=true;on._preventDefault.call(evt);}}};if(1){dojo.fixEvent=ret.fix;dojo.stopEvent=ret.stop;}return ret;});},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(has,win,dom,_275){var geom={};geom.boxModel="content-box";if(has("ie")){geom.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box";}geom.getPadExtents=function getPadExtents(node,_276){node=dom.byId(node);var s=_276||_275.getComputedStyle(node),px=_275.toPixelValue,l=px(node,s.paddingLeft),t=px(node,s.paddingTop),r=px(node,s.paddingRight),b=px(node,s.paddingBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};var none="none";geom.getBorderExtents=function getBorderExtents(node,_277){node=dom.byId(node);var px=_275.toPixelValue,s=_277||_275.getComputedStyle(node),l=s.borderLeftStyle!=none?px(node,s.borderLeftWidth):0,t=s.borderTopStyle!=none?px(node,s.borderTopWidth):0,r=s.borderRightStyle!=none?px(node,s.borderRightWidth):0,b=s.borderBottomStyle!=none?px(node,s.borderBottomWidth):0;return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getPadBorderExtents=function getPadBorderExtents(node,_278){node=dom.byId(node);var s=_278||_275.getComputedStyle(node),p=geom.getPadExtents(node,s),b=geom.getBorderExtents(node,s);return {l:p.l+b.l,t:p.t+b.t,r:p.r+b.r,b:p.b+b.b,w:p.w+b.w,h:p.h+b.h};};geom.getMarginExtents=function getMarginExtents(node,_279){node=dom.byId(node);var s=_279||_275.getComputedStyle(node),px=_275.toPixelValue,l=px(node,s.marginLeft),t=px(node,s.marginTop),r=px(node,s.marginRight),b=px(node,s.marginBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getMarginBox=function getMarginBox(node,_27a){node=dom.byId(node);var s=_27a||_275.getComputedStyle(node),me=geom.getMarginExtents(node,s),l=node.offsetLeft-me.l,t=node.offsetTop-me.t,p=node.parentNode,px=_275.toPixelValue,pcs;if(has("mozilla")){var sl=parseFloat(s.left),st=parseFloat(s.top);if(!isNaN(sl)&&!isNaN(st)){l=sl;t=st;}else{if(p&&p.style){pcs=_275.getComputedStyle(p);if(pcs.overflow!="visible"){l+=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t+=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}}else{if(has("opera")||(has("ie")==8&&!has("quirks"))){if(p){pcs=_275.getComputedStyle(p);l-=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t-=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}return {l:l,t:t,w:node.offsetWidth+me.w,h:node.offsetHeight+me.h};};geom.getContentBox=function getContentBox(node,_27b){node=dom.byId(node);var s=_27b||_275.getComputedStyle(node),w=node.clientWidth,h,pe=geom.getPadExtents(node,s),be=geom.getBorderExtents(node,s);if(!w){w=node.offsetWidth;h=node.offsetHeight;}else{h=node.clientHeight;be.w=be.h=0;}if(has("opera")){pe.l+=be.l;pe.t+=be.t;}return {l:pe.l,t:pe.t,w:w-pe.w-be.w,h:h-pe.h-be.h};};function _27c(node,l,t,w,h,u){u=u||"px";var s=node.style;if(!isNaN(l)){s.left=l+u;}if(!isNaN(t)){s.top=t+u;}if(w>=0){s.width=w+u;}if(h>=0){s.height=h+u;}};function _27d(node){return node.tagName.toLowerCase()=="button"||node.tagName.toLowerCase()=="input"&&(node.getAttribute("type")||"").toLowerCase()=="button";};function _27e(node){return geom.boxModel=="border-box"||node.tagName.toLowerCase()=="table"||_27d(node);};geom.setContentSize=function setContentSize(node,box,_27f){node=dom.byId(node);var w=box.w,h=box.h;if(_27e(node)){var pb=geom.getPadBorderExtents(node,_27f);if(w>=0){w+=pb.w;}if(h>=0){h+=pb.h;}}_27c(node,NaN,NaN,w,h);};var _280={l:0,t:0,w:0,h:0};geom.setMarginBox=function setMarginBox(node,box,_281){node=dom.byId(node);var s=_281||_275.getComputedStyle(node),w=box.w,h=box.h,pb=_27e(node)?_280:geom.getPadBorderExtents(node,s),mb=geom.getMarginExtents(node,s);if(has("webkit")){if(_27d(node)){var ns=node.style;if(w>=0&&!ns.width){ns.width="4px";}if(h>=0&&!ns.height){ns.height="4px";}}}if(w>=0){w=Math.max(w-pb.w-mb.w,0);}if(h>=0){h=Math.max(h-pb.h-mb.h,0);}_27c(node,box.l,box.t,w,h);};geom.isBodyLtr=function isBodyLtr(doc){doc=doc||win.doc;return (win.body(doc).dir||doc.documentElement.dir||"ltr").toLowerCase()=="ltr";};geom.docScroll=function docScroll(doc){doc=doc||win.doc;var node=win.doc.parentWindow||win.doc.defaultView;return "pageXOffset" in node?{x:node.pageXOffset,y:node.pageYOffset}:(node=has("quirks")?win.body(doc):doc.documentElement)&&{x:geom.fixIeBiDiScrollLeft(node.scrollLeft||0,doc),y:node.scrollTop||0};};if(has("ie")){geom.getIeDocumentElementOffset=function getIeDocumentElementOffset(doc){doc=doc||win.doc;var de=doc.documentElement;if(has("ie")<8){var r=de.getBoundingClientRect(),l=r.left,t=r.top;if(has("ie")<7){l+=de.clientLeft;t+=de.clientTop;}return {x:l<0?0:l,y:t<0?0:t};}else{return {x:0,y:0};}};}geom.fixIeBiDiScrollLeft=function fixIeBiDiScrollLeft(_282,doc){doc=doc||win.doc;var ie=has("ie");if(ie&&!geom.isBodyLtr(doc)){var qk=has("quirks"),de=qk?win.body(doc):doc.documentElement,pwin=win.global;if(ie==6&&!qk&&pwin.frameElement&&de.scrollHeight>de.clientHeight){_282+=de.clientLeft;}return (ie<8||qk)?(_282+de.clientWidth-de.scrollWidth):-_282;}return _282;};geom.position=function(node,_283){node=dom.byId(node);var db=win.body(node.ownerDocument),ret=node.getBoundingClientRect();ret={x:ret.left,y:ret.top,w:ret.right-ret.left,h:ret.bottom-ret.top};if(has("ie")<9){var _284=geom.getIeDocumentElementOffset(node.ownerDocument);ret.x-=_284.x+(has("quirks")?db.clientLeft+db.offsetLeft:0);ret.y-=_284.y+(has("quirks")?db.clientTop+db.offsetTop:0);}if(_283){var _285=geom.docScroll(node.ownerDocument);ret.x+=_285.x;ret.y+=_285.y;}return ret;};geom.getMarginSize=function getMarginSize(node,_286){node=dom.byId(node);var me=geom.getMarginExtents(node,_286||_275.getComputedStyle(node));var size=node.getBoundingClientRect();return {w:(size.right-size.left)+me.w,h:(size.bottom-size.top)+me.h};};geom.normalizeEvent=function(_287){if(!("layerX" in _287)){_287.layerX=_287.offsetX;_287.layerY=_287.offsetY;}if(!has("dom-addeventlistener")){var se=_287.target;var doc=(se&&se.ownerDocument)||document;var _288=has("quirks")?doc.body:doc.documentElement;var _289=geom.getIeDocumentElementOffset(doc);_287.pageX=_287.clientX+geom.fixIeBiDiScrollLeft(_288.scrollLeft||0,doc)-_289.x;_287.pageY=_287.clientY+(_288.scrollTop||0)-_289.y;}};return geom;});},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(dojo,lang,has){var ret={global:dojo.global,doc:dojo.global["document"]||null,body:function(doc){doc=doc||dojo.doc;return doc.body||doc.getElementsByTagName("body")[0];},setContext:function(_28a,_28b){dojo.global=ret.global=_28a;dojo.doc=ret.doc=_28b;},withGlobal:function(_28c,_28d,_28e,_28f){var _290=dojo.global;try{dojo.global=ret.global=_28c;return ret.withDoc.call(null,_28c.document,_28d,_28e,_28f);}finally{dojo.global=ret.global=_290;}},withDoc:function(_291,_292,_293,_294){var _295=ret.doc,oldQ=has("quirks"),_296=has("ie"),isIE,mode,pwin;try{dojo.doc=ret.doc=_291;dojo.isQuirks=has.add("quirks",dojo.doc.compatMode=="BackCompat",true,true);if(has("ie")){if((pwin=_291.parentWindow)&&pwin.navigator){isIE=parseFloat(pwin.navigator.appVersion.split("MSIE ")[1])||undefined;mode=_291.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}dojo.isIE=has.add("ie",isIE,true,true);}}if(_293&&typeof _292=="string"){_292=_293[_292];}return _292.apply(_293,_294||[]);}finally{dojo.doc=ret.doc=_295;dojo.isQuirks=has.add("quirks",oldQ,true,true);dojo.isIE=has.add("ie",_296,true,true);}}};1&&lang.mixin(dojo,ret);return ret;});},"dojo/dom":function(){define(["./sniff","./_base/window"],function(has,win){if(has("ie")<=7){try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}}var dom={};if(has("ie")){dom.byId=function(id,doc){if(typeof id!="string"){return id;}var _297=doc||win.doc,te=id&&_297.getElementById(id);if(te&&(te.attributes.id.value==id||te.id==id)){return te;}else{var eles=_297.all[id];if(!eles||eles.nodeName){eles=[eles];}var i=0;while((te=eles[i++])){if((te.attributes&&te.attributes.id&&te.attributes.id.value==id)||te.id==id){return te;}}}};}else{dom.byId=function(id,doc){return ((typeof id=="string")?(doc||win.doc).getElementById(id):id)||null;};}dom.isDescendant=function(node,_298){try{node=dom.byId(node);_298=dom.byId(_298);while(node){if(node==_298){return true;}node=node.parentNode;}}catch(e){}return false;};has.add("css-user-select",function(_299,doc,_29a){if(!_29a){return false;}var _29b=_29a.style;var _29c=["Khtml","O","Moz","Webkit"],i=_29c.length,name="userSelect",_29d;do{if(typeof _29b[name]!=="undefined"){return name;}}while(i--&&(name=_29c[i]+"UserSelect"));return false;});var _29e=has("css-user-select");dom.setSelectable=_29e?function(node,_29f){dom.byId(node).style[_29e]=_29f?"":"none";}:function(node,_2a0){node=dom.byId(node);var _2a1=node.getElementsByTagName("*"),i=_2a1.length;if(_2a0){node.removeAttribute("unselectable");while(i--){_2a1[i].removeAttribute("unselectable");}}else{node.setAttribute("unselectable","on");while(i--){_2a1[i].setAttribute("unselectable","on");}}};return dom;});},"dojo/dom-style":function(){define(["./sniff","./dom"],function(has,dom){var _2a2,_2a3={};if(has("webkit")){_2a2=function(node){var s;if(node.nodeType==1){var dv=node.ownerDocument.defaultView;s=dv.getComputedStyle(node,null);if(!s&&node.style){node.style.display="";s=dv.getComputedStyle(node,null);}}return s||{};};}else{if(has("ie")&&(has("ie")<9||has("quirks"))){_2a2=function(node){return node.nodeType==1&&node.currentStyle?node.currentStyle:{};};}else{_2a2=function(node){return node.nodeType==1?node.ownerDocument.defaultView.getComputedStyle(node,null):{};};}}_2a3.getComputedStyle=_2a2;var _2a4;if(!has("ie")){_2a4=function(_2a5,_2a6){return parseFloat(_2a6)||0;};}else{_2a4=function(_2a7,_2a8){if(!_2a8){return 0;}if(_2a8=="medium"){return 4;}if(_2a8.slice&&_2a8.slice(-2)=="px"){return parseFloat(_2a8);}var s=_2a7.style,rs=_2a7.runtimeStyle,cs=_2a7.currentStyle,_2a9=s.left,_2aa=rs.left;rs.left=cs.left;try{s.left=_2a8;_2a8=s.pixelLeft;}catch(e){_2a8=0;}s.left=_2a9;rs.left=_2aa;return _2a8;};}_2a3.toPixelValue=_2a4;var astr="DXImageTransform.Microsoft.Alpha";var af=function(n,f){try{return n.filters.item(astr);}catch(e){return f?{}:null;}};var _2ab=has("ie")<9||(has("ie")<10&&has("quirks"))?function(node){try{return af(node).Opacity/100;}catch(e){return 1;}}:function(node){return _2a2(node).opacity;};var _2ac=has("ie")<9||(has("ie")<10&&has("quirks"))?function(node,_2ad){if(_2ad===""){_2ad=1;}var ov=_2ad*100,_2ae=_2ad===1;if(_2ae){node.style.zoom="";if(af(node)){node.style.filter=node.style.filter.replace(new RegExp("\\s*progid:"+astr+"\\([^\\)]+?\\)","i"),"");}}else{node.style.zoom=1;if(af(node)){af(node,1).Opacity=ov;}else{node.style.filter+=" progid:"+astr+"(Opacity="+ov+")";}af(node,1).Enabled=true;}if(node.tagName.toLowerCase()=="tr"){for(var td=node.firstChild;td;td=td.nextSibling){if(td.tagName.toLowerCase()=="td"){_2ac(td,_2ad);}}}return _2ad;}:function(node,_2af){return node.style.opacity=_2af;};var _2b0={left:true,top:true};var _2b1=/margin|padding|width|height|max|min|offset/;function _2b2(node,type,_2b3){type=type.toLowerCase();if(has("ie")||has("trident")){if(_2b3=="auto"){if(type=="height"){return node.offsetHeight;}if(type=="width"){return node.offsetWidth;}}if(type=="fontweight"){switch(_2b3){case 700:return "bold";case 400:default:return "normal";}}}if(!(type in _2b0)){_2b0[type]=_2b1.test(type);}return _2b0[type]?_2a4(node,_2b3):_2b3;};var _2b4={cssFloat:1,styleFloat:1,"float":1};_2a3.get=function getStyle(node,name){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");if(l==2&&op){return _2ab(n);}name=_2b4[name]?"cssFloat" in n.style?"cssFloat":"styleFloat":name;var s=_2a3.getComputedStyle(n);return (l==1)?s:_2b2(n,name,s[name]||n.style[name]);};_2a3.set=function setStyle(node,name,_2b5){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");name=_2b4[name]?"cssFloat" in n.style?"cssFloat":"styleFloat":name;if(l==3){return op?_2ac(n,_2b5):n.style[name]=_2b5;}for(var x in name){_2a3.set(node,x,name[x]);}return _2a3.getComputedStyle(n);};return _2a3;});},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(dojo,on,has,dom,win){has.add("dom-quirks",win.doc&&win.doc.compatMode=="BackCompat");has.add("events-mouseenter",win.doc&&"onmouseenter" in win.doc.createElement("div"));has.add("events-mousewheel",win.doc&&"onmousewheel" in win.doc);var _2b6;if((has("dom-quirks")&&has("ie"))||!has("dom-addeventlistener")){_2b6={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,_2b7){return e.button&_2b7;},isLeft:function(e){return e.button&1;},isMiddle:function(e){return e.button&4;},isRight:function(e){return e.button&2;}};}else{_2b6={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,_2b8){return e.button==_2b8;},isLeft:function(e){return e.button==0;},isMiddle:function(e){return e.button==1;},isRight:function(e){return e.button==2;}};}dojo.mouseButtons=_2b6;function _2b9(type,_2ba){var _2bb=function(node,_2bc){return on(node,type,function(evt){if(_2ba){return _2ba(evt,_2bc);}if(!dom.isDescendant(evt.relatedTarget,node)){return _2bc.call(this,evt);}});};_2bb.bubble=function(_2bd){return _2b9(type,function(evt,_2be){var _2bf=_2bd(evt.target);var _2c0=evt.relatedTarget;if(_2bf&&(_2bf!=(_2c0&&_2c0.nodeType==1&&_2bd(_2c0)))){return _2be.call(_2bf,evt);}});};return _2bb;};var _2c1;if(has("events-mousewheel")){_2c1="mousewheel";}else{_2c1=function(node,_2c2){return on(node,"DOMMouseScroll",function(evt){evt.wheelDelta=-evt.detail;_2c2.call(this,evt);});};}return {_eventHandler:_2b9,enter:_2b9("mouseover"),leave:_2b9("mouseout"),wheel:_2c1,isLeft:_2b6.isLeft,isMiddle:_2b6.isMiddle,isRight:_2b6.isRight};});},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(dojo,lang,has){if(!1){return has;}dojo._name="browser";lang.mixin(dojo,{isBrowser:true,isFF:has("ff"),isIE:has("ie"),isKhtml:has("khtml"),isWebKit:has("webkit"),isMozilla:has("mozilla"),isMoz:has("mozilla"),isOpera:has("opera"),isSafari:has("safari"),isChrome:has("chrome"),isMac:has("mac"),isIos:has("ios"),isAndroid:has("android"),isWii:has("wii"),isQuirks:has("quirks"),isAir:has("air")});return has;});},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(dojo,has){return dojo.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:has("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:has("mac")&&!has("air")?(has("safari")?91:224):17};});},"dojo/_base/Deferred":function(){define(["./kernel","../Deferred","../promise/Promise","../errors/CancelError","../has","./lang","../when"],function(dojo,_2c3,_2c4,_2c5,has,lang,when){var _2c6=function(){};var _2c7=Object.freeze||function(){};var _2c8=dojo.Deferred=function(_2c9){var _2ca,_2cb,_2cc,_2cd,_2ce,head,_2cf;var _2d0=(this.promise=new _2c4());function _2d1(_2d2){if(_2cb){throw new Error("This deferred has already been resolved");}_2ca=_2d2;_2cb=true;_2d3();};function _2d3(){var _2d4;while(!_2d4&&_2cf){var _2d5=_2cf;_2cf=_2cf.next;if((_2d4=(_2d5.progress==_2c6))){_2cb=false;}var func=(_2ce?_2d5.error:_2d5.resolved);if(has("config-useDeferredInstrumentation")){if(_2ce&&_2c3.instrumentRejected){_2c3.instrumentRejected(_2ca,!!func);}}if(func){try{var _2d6=func(_2ca);if(_2d6&&typeof _2d6.then==="function"){_2d6.then(lang.hitch(_2d5.deferred,"resolve"),lang.hitch(_2d5.deferred,"reject"),lang.hitch(_2d5.deferred,"progress"));continue;}var _2d7=_2d4&&_2d6===undefined;if(_2d4&&!_2d7){_2ce=_2d6 instanceof Error;}_2d5.deferred[_2d7&&_2ce?"reject":"resolve"](_2d7?_2ca:_2d6);}catch(e){_2d5.deferred.reject(e);}}else{if(_2ce){_2d5.deferred.reject(_2ca);}else{_2d5.deferred.resolve(_2ca);}}}};this.isResolved=_2d0.isResolved=function(){return _2cd==0;};this.isRejected=_2d0.isRejected=function(){return _2cd==1;};this.isFulfilled=_2d0.isFulfilled=function(){return _2cd>=0;};this.isCanceled=_2d0.isCanceled=function(){return _2cc;};this.resolve=this.callback=function(_2d8){this.fired=_2cd=0;this.results=[_2d8,null];_2d1(_2d8);};this.reject=this.errback=function(_2d9){_2ce=true;this.fired=_2cd=1;if(has("config-useDeferredInstrumentation")){if(_2c3.instrumentRejected){_2c3.instrumentRejected(_2d9,!!_2cf);}}_2d1(_2d9);this.results=[null,_2d9];};this.progress=function(_2da){var _2db=_2cf;while(_2db){var _2dc=_2db.progress;_2dc&&_2dc(_2da);_2db=_2db.next;}};this.addCallbacks=function(_2dd,_2de){this.then(_2dd,_2de,_2c6);return this;};_2d0.then=this.then=function(_2df,_2e0,_2e1){var _2e2=_2e1==_2c6?this:new _2c8(_2d0.cancel);var _2e3={resolved:_2df,error:_2e0,progress:_2e1,deferred:_2e2};if(_2cf){head=head.next=_2e3;}else{_2cf=head=_2e3;}if(_2cb){_2d3();}return _2e2.promise;};var _2e4=this;_2d0.cancel=this.cancel=function(){if(!_2cb){var _2e5=_2c9&&_2c9(_2e4);if(!_2cb){if(!(_2e5 instanceof Error)){_2e5=new _2c5(_2e5);}_2e5.log=false;_2e4.reject(_2e5);}}_2cc=true;};_2c7(_2d0);};lang.extend(_2c8,{addCallback:function(_2e6){return this.addCallbacks(lang.hitch.apply(dojo,arguments));},addErrback:function(_2e7){return this.addCallbacks(null,lang.hitch.apply(dojo,arguments));},addBoth:function(_2e8){var _2e9=lang.hitch.apply(dojo,arguments);return this.addCallbacks(_2e9,_2e9);},fired:-1});_2c8.when=dojo.when=when;return _2c8;});},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(has,lang,_2ea,_2eb,_2ec){"use strict";var _2ed=0,_2ee=1,_2ef=2;var _2f0="This deferred has already been fulfilled.";var _2f1=Object.freeze||function(){};var _2f2=function(_2f3,type,_2f4,_2f5,_2f6){if(1){if(type===_2ef&&_2f7.instrumentRejected&&_2f3.length===0){_2f7.instrumentRejected(_2f4,false,_2f5,_2f6);}}for(var i=0;i<_2f3.length;i++){_2f8(_2f3[i],type,_2f4,_2f5);}};var _2f8=function(_2f9,type,_2fa,_2fb){var func=_2f9[type];var _2fc=_2f9.deferred;if(func){try{var _2fd=func(_2fa);if(type===_2ed){if(typeof _2fd!=="undefined"){_2fe(_2fc,type,_2fd);}}else{if(_2fd&&typeof _2fd.then==="function"){_2f9.cancel=_2fd.cancel;_2fd.then(_2ff(_2fc,_2ee),_2ff(_2fc,_2ef),_2ff(_2fc,_2ed));return;}_2fe(_2fc,_2ee,_2fd);}}catch(error){_2fe(_2fc,_2ef,error);}}else{_2fe(_2fc,type,_2fa);}if(1){if(type===_2ef&&_2f7.instrumentRejected){_2f7.instrumentRejected(_2fa,!!func,_2fb,_2fc.promise);}}};var _2ff=function(_300,type){return function(_301){_2fe(_300,type,_301);};};var _2fe=function(_302,type,_303){if(!_302.isCanceled()){switch(type){case _2ed:_302.progress(_303);break;case _2ee:_302.resolve(_303);break;case _2ef:_302.reject(_303);break;}}};var _2f7=function(_304){var _305=this.promise=new _2eb();var _306=this;var _307,_308,_309;var _30a=false;var _30b=[];if(1&&Error.captureStackTrace){Error.captureStackTrace(_306,_2f7);Error.captureStackTrace(_305,_2f7);}this.isResolved=_305.isResolved=function(){return _307===_2ee;};this.isRejected=_305.isRejected=function(){return _307===_2ef;};this.isFulfilled=_305.isFulfilled=function(){return !!_307;};this.isCanceled=_305.isCanceled=function(){return _30a;};this.progress=function(_30c,_30d){if(!_307){_2f2(_30b,_2ed,_30c,null,_306);return _305;}else{if(_30d===true){throw new Error(_2f0);}else{return _305;}}};this.resolve=function(_30e,_30f){if(!_307){_2f2(_30b,_307=_2ee,_308=_30e,null,_306);_30b=null;return _305;}else{if(_30f===true){throw new Error(_2f0);}else{return _305;}}};var _310=this.reject=function(_311,_312){if(!_307){if(1&&Error.captureStackTrace){Error.captureStackTrace(_309={},_310);}_2f2(_30b,_307=_2ef,_308=_311,_309,_306);_30b=null;return _305;}else{if(_312===true){throw new Error(_2f0);}else{return _305;}}};this.then=_305.then=function(_313,_314,_315){var _316=[_315,_313,_314];_316.cancel=_305.cancel;_316.deferred=new _2f7(function(_317){return _316.cancel&&_316.cancel(_317);});if(_307&&!_30b){_2f8(_316,_307,_308,_309);}else{_30b.push(_316);}return _316.deferred.promise;};this.cancel=_305.cancel=function(_318,_319){if(!_307){if(_304){var _31a=_304(_318);_318=typeof _31a==="undefined"?_318:_31a;}_30a=true;if(!_307){if(typeof _318==="undefined"){_318=new _2ea();}_310(_318);return _318;}else{if(_307===_2ef&&_308===_318){return _318;}}}else{if(_319===true){throw new Error(_2f0);}}};_2f1(_305);};_2f7.prototype.toString=function(){return "[object Deferred]";};if(_2ec){_2ec(_2f7);}return _2f7;});},"dojo/errors/CancelError":function(){define(["./create"],function(_31b){return _31b("CancelError",null,null,{dojoType:"cancel"});});},"dojo/errors/create":function(){define(["../_base/lang"],function(lang){return function(name,ctor,base,_31c){base=base||Error;var _31d=function(_31e){if(base===Error){if(Error.captureStackTrace){Error.captureStackTrace(this,_31d);}var err=Error.call(this,_31e),prop;for(prop in err){if(err.hasOwnProperty(prop)){this[prop]=err[prop];}}this.message=_31e;this.stack=err.stack;}else{base.apply(this,arguments);}if(ctor){ctor.apply(this,arguments);}};_31d.prototype=lang.delegate(base.prototype,_31c);_31d.prototype.name=name;_31d.prototype.constructor=_31d;return _31d;};});},"dojo/promise/Promise":function(){define(["../_base/lang"],function(lang){"use strict";function _31f(){throw new TypeError("abstract");};return lang.extend(function Promise(){},{then:function(_320,_321,_322){_31f();},cancel:function(_323,_324){_31f();},isResolved:function(){_31f();},isRejected:function(){_31f();},isFulfilled:function(){_31f();},isCanceled:function(){_31f();},always:function(_325){return this.then(_325,_325);},otherwise:function(_326){return this.then(null,_326);},trace:function(){return this;},traceRejected:function(){return this;},toString:function(){return "[object Promise]";}});});},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(_327,has,lang,_328){has.add("config-useDeferredInstrumentation","report-unhandled-rejections");function _329(_32a,_32b,_32c){var _32d="";if(_32a&&_32a.stack){_32d+=_32a.stack;}if(_32b&&_32b.stack){_32d+="\n    ----------------------------------------\n    rejected"+_32b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," ");}if(_32c&&_32c.stack){_32d+="\n    ----------------------------------------\n"+_32c.stack;}console.error(_32a,_32d);};function _32e(_32f,_330,_331,_332){if(!_330){_329(_32f,_331,_332);}};var _333=[];var _334=false;var _335=1000;function _336(_337,_338,_339,_33a){if(!_328.some(_333,function(obj){if(obj.error===_337){if(_338){obj.handled=true;}return true;}})){_333.push({error:_337,rejection:_339,handled:_338,deferred:_33a,timestamp:new Date().getTime()});}if(!_334){_334=setTimeout(_33b,_335);}};function _33b(){var now=new Date().getTime();var _33c=now-_335;_333=_328.filter(_333,function(obj){if(obj.timestamp<_33c){if(!obj.handled){_329(obj.error,obj.rejection,obj.deferred);}return false;}return true;});if(_333.length){_334=setTimeout(_33b,_333[0].timestamp+_335-now);}else{_334=false;}};return function(_33d){var _33e=has("config-useDeferredInstrumentation");if(_33e){_327.on("resolved",lang.hitch(console,"log","resolved"));_327.on("rejected",lang.hitch(console,"log","rejected"));_327.on("progress",lang.hitch(console,"log","progress"));var args=[];if(typeof _33e==="string"){args=_33e.split(",");_33e=args.shift();}if(_33e==="report-rejections"){_33d.instrumentRejected=_32e;}else{if(_33e==="report-unhandled-rejections"||_33e===true||_33e===1){_33d.instrumentRejected=_336;_335=parseInt(args[0],10)||_335;}else{throw new Error("Unsupported instrumentation usage <"+_33e+">");}}}};});},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(lang,_33f,_340){"use strict";var _341=new _340;var emit=_341.emit;_341.emit=null;function _342(args){setTimeout(function(){emit.apply(_341,args);},0);};_33f.prototype.trace=function(){var args=lang._toArray(arguments);this.then(function(_343){_342(["resolved",_343].concat(args));},function(_344){_342(["rejected",_344].concat(args));},function(_345){_342(["progress",_345].concat(args));});return this;};_33f.prototype.traceRejected=function(){var args=lang._toArray(arguments);this.otherwise(function(_346){_342(["rejected",_346].concat(args));});return this;};return _341;});},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(_347,_348){"use strict";return function when(_349,_34a,_34b,_34c){var _34d=_349&&typeof _349.then==="function";var _34e=_34d&&_349 instanceof _348;if(!_34d){if(arguments.length>1){return _34a?_34a(_349):_349;}else{return new _347().resolve(_349);}}else{if(!_34e){var _34f=new _347(_349.cancel);_349.then(_34f.resolve,_34f.reject,_34f.progress);_349=_34f.promise;}}if(_34a||_34b||_34c){return _349.then(_34a,_34b,_34c);}return _349;};});},"dojo/_base/json":function(){define(["./kernel","../json"],function(dojo,json){dojo.fromJson=function(js){return eval("("+js+")");};dojo._escapeString=json.stringify;dojo.toJsonIndentStr="\t";dojo.toJson=function(it,_350){return json.stringify(it,function(key,_351){if(_351){var tf=_351.__json__||_351.json;if(typeof tf=="function"){return tf.call(_351);}}return _351;},_350&&dojo.toJsonIndentStr);};return dojo;});},"dojo/json":function(){define(["./has"],function(has){"use strict";var _352=typeof JSON!="undefined";has.add("json-parse",_352);has.add("json-stringify",_352&&JSON.stringify({a:0},function(k,v){return v||1;})=="{\"a\":1}");if(has("json-stringify")){return JSON;}else{var _353=function(str){return ("\""+str.replace(/(["\\])/g,"\\$1")+"\"").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r");};return {parse:has("json-parse")?JSON.parse:function(str,_354){if(_354&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str)){throw new SyntaxError("Invalid characters in JSON");}return eval("("+str+")");},stringify:function(_355,_356,_357){var _358;if(typeof _356=="string"){_357=_356;_356=null;}function _359(it,_35a,key){if(_356){it=_356(key,it);}var val,_35b=typeof it;if(_35b=="number"){return isFinite(it)?it+"":"null";}if(_35b=="boolean"){return it+"";}if(it===null){return "null";}if(typeof it=="string"){return _353(it);}if(_35b=="function"||_35b=="undefined"){return _358;}if(typeof it.toJSON=="function"){return _359(it.toJSON(key),_35a,key);}if(it instanceof Date){return "\"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z\"".replace(/\{(\w+)(\+)?\}/g,function(t,prop,plus){var num=it["getUTC"+prop]()+(plus?1:0);return num<10?"0"+num:num;});}if(it.valueOf()!==it){return _359(it.valueOf(),_35a,key);}var _35c=_357?(_35a+_357):"";var sep=_357?" ":"";var _35d=_357?"\n":"";if(it instanceof Array){var itl=it.length,res=[];for(key=0;key<itl;key++){var obj=it[key];val=_359(obj,_35c,key);if(typeof val!="string"){val="null";}res.push(_35d+_35c+val);}return "["+res.join(",")+_35d+_35a+"]";}var _35e=[];for(key in it){var _35f;if(it.hasOwnProperty(key)){if(typeof key=="number"){_35f="\""+key+"\"";}else{if(typeof key=="string"){_35f=_353(key);}else{continue;}}val=_359(it[key],_35c,key);if(typeof val!="string"){continue;}_35e.push(_35d+_35c+_35f+":"+sep+val);}}return "{"+_35e.join(",")+_35d+_35a+"}";};return _359(_355,"","");}};}});},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(dojo,lang,_360,_361){var _362=dojo.Color=function(_363){if(_363){this.setColor(_363);}};_362.named={"black":[0,0,0],"silver":[192,192,192],"gray":[128,128,128],"white":[255,255,255],"maroon":[128,0,0],"red":[255,0,0],"purple":[128,0,128],"fuchsia":[255,0,255],"green":[0,128,0],"lime":[0,255,0],"olive":[128,128,0],"yellow":[255,255,0],"navy":[0,0,128],"blue":[0,0,255],"teal":[0,128,128],"aqua":[0,255,255],"transparent":_361.transparentColor||[0,0,0,0]};lang.extend(_362,{r:255,g:255,b:255,a:1,_set:function(r,g,b,a){var t=this;t.r=r;t.g=g;t.b=b;t.a=a;},setColor:function(_364){if(lang.isString(_364)){_362.fromString(_364,this);}else{if(lang.isArray(_364)){_362.fromArray(_364,this);}else{this._set(_364.r,_364.g,_364.b,_364.a);if(!(_364 instanceof _362)){this.sanitize();}}}return this;},sanitize:function(){return this;},toRgb:function(){var t=this;return [t.r,t.g,t.b];},toRgba:function(){var t=this;return [t.r,t.g,t.b,t.a];},toHex:function(){var arr=_360.map(["r","g","b"],function(x){var s=this[x].toString(16);return s.length<2?"0"+s:s;},this);return "#"+arr.join("");},toCss:function(_365){var t=this,rgb=t.r+", "+t.g+", "+t.b;return (_365?"rgba("+rgb+", "+t.a:"rgb("+rgb)+")";},toString:function(){return this.toCss(true);}});_362.blendColors=dojo.blendColors=function(_366,end,_367,obj){var t=obj||new _362();_360.forEach(["r","g","b","a"],function(x){t[x]=_366[x]+(end[x]-_366[x])*_367;if(x!="a"){t[x]=Math.round(t[x]);}});return t.sanitize();};_362.fromRgb=dojo.colorFromRgb=function(_368,obj){var m=_368.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return m&&_362.fromArray(m[1].split(/\s*,\s*/),obj);};_362.fromHex=dojo.colorFromHex=function(_369,obj){var t=obj||new _362(),bits=(_369.length==4)?4:8,mask=(1<<bits)-1;_369=Number("0x"+_369.substr(1));if(isNaN(_369)){return null;}_360.forEach(["b","g","r"],function(x){var c=_369&mask;_369>>=bits;t[x]=bits==4?17*c:c;});t.a=1;return t;};_362.fromArray=dojo.colorFromArray=function(a,obj){var t=obj||new _362();t._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));if(isNaN(t.a)){t.a=1;}return t.sanitize();};_362.fromString=dojo.colorFromString=function(str,obj){var a=_362.named[str];return a&&_362.fromArray(a,obj)||_362.fromRgb(str,obj)||_362.fromHex(str,obj);};return _362;});},"dojo/_base/browser":function(){if(require.has){require.has.add("config-selectorEngine","acme");}define(["../ready","./kernel","./connect","./unload","./window","./event","./html","./NodeList","../query","./xhr","./fx"],function(dojo){return dojo;});},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(dojo,lang,on){var win=window;var _36a={addOnWindowUnload:function(obj,_36b){if(!dojo.windowUnloaded){on(win,"unload",(dojo.windowUnloaded=function(){}));}on(win,"unload",lang.hitch(obj,_36b));},addOnUnload:function(obj,_36c){on(win,"beforeunload",lang.hitch(obj,_36c));}};dojo.addOnWindowUnload=_36a.addOnWindowUnload;dojo.addOnUnload=_36a.addOnUnload;return _36a;});},"dojo/_base/html":function(){define(["./kernel","../dom","../dom-style","../dom-attr","../dom-prop","../dom-class","../dom-construct","../dom-geometry"],function(dojo,dom,_36d,attr,prop,cls,ctr,geom){dojo.byId=dom.byId;dojo.isDescendant=dom.isDescendant;dojo.setSelectable=dom.setSelectable;dojo.getAttr=attr.get;dojo.setAttr=attr.set;dojo.hasAttr=attr.has;dojo.removeAttr=attr.remove;dojo.getNodeProp=attr.getNodeProp;dojo.attr=function(node,name,_36e){if(arguments.length==2){return attr[typeof name=="string"?"get":"set"](node,name);}return attr.set(node,name,_36e);};dojo.hasClass=cls.contains;dojo.addClass=cls.add;dojo.removeClass=cls.remove;dojo.toggleClass=cls.toggle;dojo.replaceClass=cls.replace;dojo._toDom=dojo.toDom=ctr.toDom;dojo.place=ctr.place;dojo.create=ctr.create;dojo.empty=function(node){ctr.empty(node);};dojo._destroyElement=dojo.destroy=function(node){ctr.destroy(node);};dojo._getPadExtents=dojo.getPadExtents=geom.getPadExtents;dojo._getBorderExtents=dojo.getBorderExtents=geom.getBorderExtents;dojo._getPadBorderExtents=dojo.getPadBorderExtents=geom.getPadBorderExtents;dojo._getMarginExtents=dojo.getMarginExtents=geom.getMarginExtents;dojo._getMarginSize=dojo.getMarginSize=geom.getMarginSize;dojo._getMarginBox=dojo.getMarginBox=geom.getMarginBox;dojo.setMarginBox=geom.setMarginBox;dojo._getContentBox=dojo.getContentBox=geom.getContentBox;dojo.setContentSize=geom.setContentSize;dojo._isBodyLtr=dojo.isBodyLtr=geom.isBodyLtr;dojo._docScroll=dojo.docScroll=geom.docScroll;dojo._getIeDocumentElementOffset=dojo.getIeDocumentElementOffset=geom.getIeDocumentElementOffset;dojo._fixIeBiDiScrollLeft=dojo.fixIeBiDiScrollLeft=geom.fixIeBiDiScrollLeft;dojo.position=geom.position;dojo.marginBox=function marginBox(node,box){return box?geom.setMarginBox(node,box):geom.getMarginBox(node);};dojo.contentBox=function contentBox(node,box){return box?geom.setContentSize(node,box):geom.getContentBox(node);};dojo.coords=function(node,_36f){dojo.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");node=dom.byId(node);var s=_36d.getComputedStyle(node),mb=geom.getMarginBox(node,s);var abs=geom.position(node,_36f);mb.x=abs.x;mb.y=abs.y;return mb;};dojo.getProp=prop.get;dojo.setProp=prop.set;dojo.prop=function(node,name,_370){if(arguments.length==2){return prop[typeof name=="string"?"get":"set"](node,name);}return prop.set(node,name,_370);};dojo.getStyle=_36d.get;dojo.setStyle=_36d.set;dojo.getComputedStyle=_36d.getComputedStyle;dojo.__toPixelValue=dojo.toPixelValue=_36d.toPixelValue;dojo.style=function(node,name,_371){switch(arguments.length){case 1:return _36d.get(node);case 2:return _36d[typeof name=="string"?"get":"set"](node,name);}return _36d.set(node,name,_371);};return dojo;});},"dojo/dom-attr":function(){define(["exports","./sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(_372,has,lang,dom,_373,prop){var _374={innerHTML:1,textContent:1,className:1,htmlFor:has("ie"),value:1},_375={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};function _376(node,name){var attr=node.getAttributeNode&&node.getAttributeNode(name);return !!attr&&attr.specified;};_372.has=function hasAttr(node,name){var lc=name.toLowerCase();return _374[prop.names[lc]||name]||_376(dom.byId(node),_375[lc]||name);};_372.get=function getAttr(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_377=prop.names[lc]||name,_378=_374[_377],_379=node[_377];if(_378&&typeof _379!="undefined"){return _379;}if(_377=="textContent"){return prop.get(node,_377);}if(_377!="href"&&(typeof _379=="boolean"||lang.isFunction(_379))){return _379;}var _37a=_375[lc]||name;return _376(node,_37a)?node.getAttribute(_37a):null;};_372.set=function setAttr(node,name,_37b){node=dom.byId(node);if(arguments.length==2){for(var x in name){_372.set(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_37c=prop.names[lc]||name,_37d=_374[_37c];if(_37c=="style"&&typeof _37b!="string"){_373.set(node,_37b);return node;}if(_37d||typeof _37b=="boolean"||lang.isFunction(_37b)){return prop.set(node,name,_37b);}node.setAttribute(_375[lc]||name,_37b);return node;};_372.remove=function removeAttr(node,name){dom.byId(node).removeAttribute(_375[name.toLowerCase()]||name);};_372.getNodeProp=function getNodeProp(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_37e=prop.names[lc]||name;if((_37e in node)&&_37e!="href"){return node[_37e];}var _37f=_375[lc]||name;return _376(node,_37f)?node.getAttribute(_37f):null;};});},"dojo/dom-prop":function(){define(["exports","./_base/kernel","./sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(_380,dojo,has,lang,dom,_381,ctr,conn){var _382={},_383=0,_384=dojo._scopeName+"attrid";has.add("dom-textContent",function(_385,doc,_386){return "textContent" in _386;});_380.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};function _387(node){var text="",ch=node.childNodes;for(var i=0,n;n=ch[i];i++){if(n.nodeType!=8){if(n.nodeType==1){text+=_387(n);}else{text+=n.nodeValue;}}}return text;};_380.get=function getProp(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_388=_380.names[lc]||name;if(_388=="textContent"&&!has("dom-textContent")){return _387(node);}return node[_388];};_380.set=function setProp(node,name,_389){node=dom.byId(node);var l=arguments.length;if(l==2&&typeof name!="string"){for(var x in name){_380.set(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_38a=_380.names[lc]||name;if(_38a=="style"&&typeof _389!="string"){_381.set(node,_389);return node;}if(_38a=="innerHTML"){if(has("ie")&&node.tagName.toLowerCase() in {col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}){ctr.empty(node);node.appendChild(ctr.toDom(_389,node.ownerDocument));}else{node[_38a]=_389;}return node;}if(_38a=="textContent"&&!has("dom-textContent")){ctr.empty(node);node.appendChild(node.ownerDocument.createTextNode(_389));return node;}if(lang.isFunction(_389)){var _38b=node[_384];if(!_38b){_38b=_383++;node[_384]=_38b;}if(!_382[_38b]){_382[_38b]={};}var h=_382[_38b][_38a];if(h){conn.disconnect(h);}else{try{delete node[_38a];}catch(e){}}if(_389){_382[_38b][_38a]=conn.connect(node,_38a,_389);}else{node[_38a]=null;}return node;}node[_38a]=_389;return node;};});},"dojo/dom-construct":function(){define(["exports","./_base/kernel","./sniff","./_base/window","./dom","./dom-attr"],function(_38c,dojo,has,win,dom,attr){var _38d={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},_38e=/<\s*([\w\:]+)/,_38f={},_390=0,_391="__"+dojo._scopeName+"ToDomId";for(var _392 in _38d){if(_38d.hasOwnProperty(_392)){var tw=_38d[_392];tw.pre=_392=="option"?"<select multiple=\"multiple\">":"<"+tw.join("><")+">";tw.post="</"+tw.reverse().join("></")+">";}}var _393;if(has("ie")<=8){_393=function(doc){doc.__dojo_html5_tested="yes";var div=_394("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},doc.body);if(div.childNodes.length!==1){("abbr article aside audio canvas details figcaption figure footer header "+"hgroup mark meter nav output progress section summary time video").replace(/\b\w+\b/g,function(n){doc.createElement(n);});}_395(div);};}function _396(node,ref){var _397=ref.parentNode;if(_397){_397.insertBefore(node,ref);}};function _398(node,ref){var _399=ref.parentNode;if(_399){if(_399.lastChild==ref){_399.appendChild(node);}else{_399.insertBefore(node,ref.nextSibling);}}};_38c.toDom=function toDom(frag,doc){doc=doc||win.doc;var _39a=doc[_391];if(!_39a){doc[_391]=_39a=++_390+"";_38f[_39a]=doc.createElement("div");}if(has("ie")<=8){if(!doc.__dojo_html5_tested&&doc.body){_393(doc);}}frag+="";var _39b=frag.match(_38e),tag=_39b?_39b[1].toLowerCase():"",_39c=_38f[_39a],wrap,i,fc,df;if(_39b&&_38d[tag]){wrap=_38d[tag];_39c.innerHTML=wrap.pre+frag+wrap.post;for(i=wrap.length;i;--i){_39c=_39c.firstChild;}}else{_39c.innerHTML=frag;}if(_39c.childNodes.length==1){return _39c.removeChild(_39c.firstChild);}df=doc.createDocumentFragment();while((fc=_39c.firstChild)){df.appendChild(fc);}return df;};_38c.place=function place(node,_39d,_39e){_39d=dom.byId(_39d);if(typeof node=="string"){node=/^\s*</.test(node)?_38c.toDom(node,_39d.ownerDocument):dom.byId(node);}if(typeof _39e=="number"){var cn=_39d.childNodes;if(!cn.length||cn.length<=_39e){_39d.appendChild(node);}else{_396(node,cn[_39e<0?0:_39e]);}}else{switch(_39e){case "before":_396(node,_39d);break;case "after":_398(node,_39d);break;case "replace":_39d.parentNode.replaceChild(node,_39d);break;case "only":_38c.empty(_39d);_39d.appendChild(node);break;case "first":if(_39d.firstChild){_396(node,_39d.firstChild);break;}default:_39d.appendChild(node);}}return node;};var _394=_38c.create=function _394(tag,_39f,_3a0,pos){var doc=win.doc;if(_3a0){_3a0=dom.byId(_3a0);doc=_3a0.ownerDocument;}if(typeof tag=="string"){tag=doc.createElement(tag);}if(_39f){attr.set(tag,_39f);}if(_3a0){_38c.place(tag,_3a0,pos);}return tag;};function _3a1(node){if("innerHTML" in node){try{node.innerHTML="";return;}catch(e){}}for(var c;c=node.lastChild;){node.removeChild(c);}};_38c.empty=function empty(node){_3a1(dom.byId(node));};function _3a2(node,_3a3){if(node.firstChild){_3a1(node);}if(_3a3){has("ie")&&_3a3.canHaveChildren&&"removeNode" in node?node.removeNode(false):_3a3.removeChild(node);}};var _395=_38c.destroy=function _395(node){node=dom.byId(node);if(!node){return;}_3a2(node,node.parentNode);};});},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(lang,_3a4,dom){var _3a5="className";var cls,_3a6=/\s+/,a1=[""];function _3a7(s){if(typeof s=="string"||s instanceof String){if(s&&!_3a6.test(s)){a1[0]=s;return a1;}var a=s.split(_3a6);if(a.length&&!a[0]){a.shift();}if(a.length&&!a[a.length-1]){a.pop();}return a;}if(!s){return [];}return _3a4.filter(s,function(x){return x;});};var _3a8={};cls={contains:function containsClass(node,_3a9){return ((" "+dom.byId(node)[_3a5]+" ").indexOf(" "+_3a9+" ")>=0);},add:function addClass(node,_3aa){node=dom.byId(node);_3aa=_3a7(_3aa);var cls=node[_3a5],_3ab;cls=cls?" "+cls+" ":" ";_3ab=cls.length;for(var i=0,len=_3aa.length,c;i<len;++i){c=_3aa[i];if(c&&cls.indexOf(" "+c+" ")<0){cls+=c+" ";}}if(_3ab<cls.length){node[_3a5]=cls.substr(1,cls.length-2);}},remove:function removeClass(node,_3ac){node=dom.byId(node);var cls;if(_3ac!==undefined){_3ac=_3a7(_3ac);cls=" "+node[_3a5]+" ";for(var i=0,len=_3ac.length;i<len;++i){cls=cls.replace(" "+_3ac[i]+" "," ");}cls=lang.trim(cls);}else{cls="";}if(node[_3a5]!=cls){node[_3a5]=cls;}},replace:function replaceClass(node,_3ad,_3ae){node=dom.byId(node);_3a8[_3a5]=node[_3a5];cls.remove(_3a8,_3ae);cls.add(_3a8,_3ad);if(node[_3a5]!==_3a8[_3a5]){node[_3a5]=_3a8[_3a5];}},toggle:function toggleClass(node,_3af,_3b0){node=dom.byId(node);if(_3b0===undefined){_3af=_3a7(_3af);for(var i=0,len=_3af.length,c;i<len;++i){c=_3af[i];cls[cls.contains(node,c)?"remove":"add"](node,c);}}else{cls[_3b0?"add":"remove"](node,_3af);}return _3b0;}};return cls;});},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(dojo,_3b1,_3b2){var _3b3=_3b1.NodeList,nlp=_3b3.prototype;nlp.connect=_3b3._adaptAsForEach(function(){return dojo.connect.apply(this,arguments);});nlp.coords=_3b3._adaptAsMap(dojo.coords);_3b3.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"];_3b2.forEach(_3b3.events,function(evt){var _3b4="on"+evt;nlp[_3b4]=function(a,b){return this.connect(_3b4,a,b);};});dojo.NodeList=_3b3;return _3b3;});},"dojo/query":function(){define(["./_base/kernel","./has","./dom","./on","./_base/array","./_base/lang","./selector/_loader","./selector/_loader!default"],function(dojo,has,dom,on,_3b5,lang,_3b6,_3b7){"use strict";has.add("array-extensible",function(){return lang.delegate([],{length:1}).length==1&&!has("bug-for-in-skips-shadowed");});var ap=Array.prototype,aps=ap.slice,apc=ap.concat,_3b8=_3b5.forEach;var tnl=function(a,_3b9,_3ba){var _3bb=new (_3ba||this._NodeListCtor||nl)(a);return _3b9?_3bb._stash(_3b9):_3bb;};var _3bc=function(f,a,o){a=[0].concat(aps.call(a,0));o=o||dojo.global;return function(node){a[0]=node;return f.apply(o,a);};};var _3bd=function(f,o){return function(){this.forEach(_3bc(f,arguments,o));return this;};};var _3be=function(f,o){return function(){return this.map(_3bc(f,arguments,o));};};var _3bf=function(f,o){return function(){return this.filter(_3bc(f,arguments,o));};};var _3c0=function(f,g,o){return function(){var a=arguments,body=_3bc(f,a,o);if(g.call(o||dojo.global,a)){return this.map(body);}this.forEach(body);return this;};};var _3c1=function(_3c2){var _3c3=this instanceof nl&&has("array-extensible");if(typeof _3c2=="number"){_3c2=Array(_3c2);}var _3c4=(_3c2&&"length" in _3c2)?_3c2:arguments;if(_3c3||!_3c4.sort){var _3c5=_3c3?this:[],l=_3c5.length=_3c4.length;for(var i=0;i<l;i++){_3c5[i]=_3c4[i];}if(_3c3){return _3c5;}_3c4=_3c5;}lang._mixin(_3c4,nlp);_3c4._NodeListCtor=function(_3c6){return nl(_3c6);};return _3c4;};var nl=_3c1,nlp=nl.prototype=has("array-extensible")?[]:{};nl._wrap=nlp._wrap=tnl;nl._adaptAsMap=_3be;nl._adaptAsForEach=_3bd;nl._adaptAsFilter=_3bf;nl._adaptWithCondition=_3c0;_3b8(["slice","splice"],function(name){var f=ap[name];nlp[name]=function(){return this._wrap(f.apply(this,arguments),name=="slice"?this:null);};});_3b8(["indexOf","lastIndexOf","every","some"],function(name){var f=_3b5[name];nlp[name]=function(){return f.apply(dojo,[this].concat(aps.call(arguments,0)));};});lang.extend(_3c1,{constructor:nl,_NodeListCtor:nl,toString:function(){return this.join(",");},_stash:function(_3c7){this._parent=_3c7;return this;},on:function(_3c8,_3c9){var _3ca=this.map(function(node){return on(node,_3c8,_3c9);});_3ca.remove=function(){for(var i=0;i<_3ca.length;i++){_3ca[i].remove();}};return _3ca;},end:function(){if(this._parent){return this._parent;}else{return new this._NodeListCtor(0);}},concat:function(item){var t=aps.call(this,0),m=_3b5.map(arguments,function(a){return aps.call(a,0);});return this._wrap(apc.apply(t,m),this);},map:function(func,obj){return this._wrap(_3b5.map(this,func,obj),this);},forEach:function(_3cb,_3cc){_3b8(this,_3cb,_3cc);return this;},filter:function(_3cd){var a=arguments,_3ce=this,_3cf=0;if(typeof _3cd=="string"){_3ce=_3d0._filterResult(this,a[0]);if(a.length==1){return _3ce._stash(this);}_3cf=1;}return this._wrap(_3b5.filter(_3ce,a[_3cf],a[_3cf+1]),this);},instantiate:function(_3d1,_3d2){var c=lang.isFunction(_3d1)?_3d1:lang.getObject(_3d1);_3d2=_3d2||{};return this.forEach(function(node){new c(_3d2,node);});},at:function(){var t=new this._NodeListCtor(0);_3b8(arguments,function(i){if(i<0){i=this.length+i;}if(this[i]){t.push(this[i]);}},this);return t._stash(this);}});function _3d3(_3d4,_3d5){var _3d6=function(_3d7,root){if(typeof root=="string"){root=dom.byId(root);if(!root){return new _3d5([]);}}var _3d8=typeof _3d7=="string"?_3d4(_3d7,root):_3d7?(_3d7.end&&_3d7.on)?_3d7:[_3d7]:[];if(_3d8.end&&_3d8.on){return _3d8;}return new _3d5(_3d8);};_3d6.matches=_3d4.match||function(node,_3d9,root){return _3d6.filter([node],_3d9,root).length>0;};_3d6.filter=_3d4.filter||function(_3da,_3db,root){return _3d6(_3db,root).filter(function(node){return _3b5.indexOf(_3da,node)>-1;});};if(typeof _3d4!="function"){var _3dc=_3d4.search;_3d4=function(_3dd,root){return _3dc(root||document,_3dd);};}return _3d6;};var _3d0=_3d3(_3b7,_3c1);dojo.query=_3d3(_3b7,function(_3de){return _3c1(_3de);});_3d0.load=function(id,_3df,_3e0){_3b6.load(id,_3df,function(_3e1){_3e0(_3d3(_3e1,_3c1));});};dojo._filterQueryResult=_3d0._filterResult=function(_3e2,_3e3,root){return new _3c1(_3d0.filter(_3e2,_3e3,root));};dojo.NodeList=_3d0.NodeList=_3c1;return _3d0;});},"dojo/selector/_loader":function(){define(["../has","require"],function(has,_3e4){"use strict";var _3e5=document.createElement("div");has.add("dom-qsa2.1",!!_3e5.querySelectorAll);has.add("dom-qsa3",function(){try{_3e5.innerHTML="<p class='TEST'></p>";return _3e5.querySelectorAll(".TEST:empty").length==1;}catch(e){}});var _3e6;var acme="./acme",lite="./lite";return {load:function(id,_3e7,_3e8,_3e9){var req=_3e4;id=id=="default"?has("config-selectorEngine")||"css3":id;id=id=="css2"||id=="lite"?lite:id=="css2.1"?has("dom-qsa2.1")?lite:acme:id=="css3"?has("dom-qsa3")?lite:acme:id=="acme"?acme:(req=_3e7)&&id;if(id.charAt(id.length-1)=="?"){id=id.substring(0,id.length-1);var _3ea=true;}if(_3ea&&(has("dom-compliant-qsa")||_3e6)){return _3e8(_3e6);}req([id],function(_3eb){if(id!="./lite"){_3e6=_3eb;}_3e8(_3eb);});}};});},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(dom,has,_3ec,lang,win){var trim=lang.trim;var each=_3ec.forEach;var _3ed=function(){return win.doc;};var _3ee=(_3ed().compatMode)=="BackCompat";var _3ef=">~+";var _3f0=false;var _3f1=function(){return true;};var _3f2=function(_3f3){if(_3ef.indexOf(_3f3.slice(-1))>=0){_3f3+=" * ";}else{_3f3+=" ";}var ts=function(s,e){return trim(_3f3.slice(s,e));};var _3f4=[];var _3f5=-1,_3f6=-1,_3f7=-1,_3f8=-1,_3f9=-1,inId=-1,_3fa=-1,_3fb,lc="",cc="",_3fc;var x=0,ql=_3f3.length,_3fd=null,_3fe=null;var _3ff=function(){if(_3fa>=0){var tv=(_3fa==x)?null:ts(_3fa,x);_3fd[(_3ef.indexOf(tv)<0)?"tag":"oper"]=tv;_3fa=-1;}};var _400=function(){if(inId>=0){_3fd.id=ts(inId,x).replace(/\\/g,"");inId=-1;}};var _401=function(){if(_3f9>=0){_3fd.classes.push(ts(_3f9+1,x).replace(/\\/g,""));_3f9=-1;}};var _402=function(){_400();_3ff();_401();};var _403=function(){_402();if(_3f8>=0){_3fd.pseudos.push({name:ts(_3f8+1,x)});}_3fd.loops=(_3fd.pseudos.length||_3fd.attrs.length||_3fd.classes.length);_3fd.oquery=_3fd.query=ts(_3fc,x);_3fd.otag=_3fd.tag=(_3fd["oper"])?null:(_3fd.tag||"*");if(_3fd.tag){_3fd.tag=_3fd.tag.toUpperCase();}if(_3f4.length&&(_3f4[_3f4.length-1].oper)){_3fd.infixOper=_3f4.pop();_3fd.query=_3fd.infixOper.query+" "+_3fd.query;}_3f4.push(_3fd);_3fd=null;};for(;lc=cc,cc=_3f3.charAt(x),x<ql;x++){if(lc=="\\"){continue;}if(!_3fd){_3fc=x;_3fd={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return _3f0?this.otag:this.tag;}};_3fa=x;}if(_3fb){if(cc==_3fb){_3fb=null;}continue;}else{if(cc=="'"||cc=="\""){_3fb=cc;continue;}}if(_3f5>=0){if(cc=="]"){if(!_3fe.attr){_3fe.attr=ts(_3f5+1,x);}else{_3fe.matchFor=ts((_3f7||_3f5+1),x);}var cmf=_3fe.matchFor;if(cmf){if((cmf.charAt(0)=="\"")||(cmf.charAt(0)=="'")){_3fe.matchFor=cmf.slice(1,-1);}}if(_3fe.matchFor){_3fe.matchFor=_3fe.matchFor.replace(/\\/g,"");}_3fd.attrs.push(_3fe);_3fe=null;_3f5=_3f7=-1;}else{if(cc=="="){var _404=("|~^$*".indexOf(lc)>=0)?lc:"";_3fe.type=_404+cc;_3fe.attr=ts(_3f5+1,x-_404.length);_3f7=x+1;}}}else{if(_3f6>=0){if(cc==")"){if(_3f8>=0){_3fe.value=ts(_3f6+1,x);}_3f8=_3f6=-1;}}else{if(cc=="#"){_402();inId=x+1;}else{if(cc=="."){_402();_3f9=x;}else{if(cc==":"){_402();_3f8=x;}else{if(cc=="["){_402();_3f5=x;_3fe={};}else{if(cc=="("){if(_3f8>=0){_3fe={name:ts(_3f8+1,x),value:null};_3fd.pseudos.push(_3fe);}_3f6=x;}else{if((cc==" ")&&(lc!=cc)){_403();}}}}}}}}}return _3f4;};var _405=function(_406,_407){if(!_406){return _407;}if(!_407){return _406;}return function(){return _406.apply(window,arguments)&&_407.apply(window,arguments);};};var _408=function(i,arr){var r=arr||[];if(i){r.push(i);}return r;};var _409=function(n){return (1==n.nodeType);};var _40a="";var _40b=function(elem,attr){if(!elem){return _40a;}if(attr=="class"){return elem.className||_40a;}if(attr=="for"){return elem.htmlFor||_40a;}if(attr=="style"){return elem.style.cssText||_40a;}return (_3f0?elem.getAttribute(attr):elem.getAttribute(attr,2))||_40a;};var _40c={"*=":function(attr,_40d){return function(elem){return (_40b(elem,attr).indexOf(_40d)>=0);};},"^=":function(attr,_40e){return function(elem){return (_40b(elem,attr).indexOf(_40e)==0);};},"$=":function(attr,_40f){return function(elem){var ea=" "+_40b(elem,attr);var _410=ea.lastIndexOf(_40f);return _410>-1&&(_410==(ea.length-_40f.length));};},"~=":function(attr,_411){var tval=" "+_411+" ";return function(elem){var ea=" "+_40b(elem,attr)+" ";return (ea.indexOf(tval)>=0);};},"|=":function(attr,_412){var _413=_412+"-";return function(elem){var ea=_40b(elem,attr);return ((ea==_412)||(ea.indexOf(_413)==0));};},"=":function(attr,_414){return function(elem){return (_40b(elem,attr)==_414);};}};var _415=(typeof _3ed().firstChild.nextElementSibling=="undefined");var _416=!_415?"nextElementSibling":"nextSibling";var _417=!_415?"previousElementSibling":"previousSibling";var _418=(_415?_409:_3f1);var _419=function(node){while(node=node[_417]){if(_418(node)){return false;}}return true;};var _41a=function(node){while(node=node[_416]){if(_418(node)){return false;}}return true;};var _41b=function(node){var root=node.parentNode;root=root.nodeType!=7?root:root.nextSibling;var i=0,tret=root.children||root.childNodes,ci=(node["_i"]||node.getAttribute("_i")||-1),cl=(root["_l"]||(typeof root.getAttribute!=="undefined"?root.getAttribute("_l"):-1));if(!tret){return -1;}var l=tret.length;if(cl==l&&ci>=0&&cl>=0){return ci;}if(has("ie")&&typeof root.setAttribute!=="undefined"){root.setAttribute("_l",l);}else{root["_l"]=l;}ci=-1;for(var te=root["firstElementChild"]||root["firstChild"];te;te=te[_416]){if(_418(te)){if(has("ie")){te.setAttribute("_i",++i);}else{te["_i"]=++i;}if(node===te){ci=i;}}}return ci;};var _41c=function(elem){return !((_41b(elem))%2);};var _41d=function(elem){return ((_41b(elem))%2);};var _41e={"checked":function(name,_41f){return function(elem){return !!("checked" in elem?elem.checked:elem.selected);};},"disabled":function(name,_420){return function(elem){return elem.disabled;};},"enabled":function(name,_421){return function(elem){return !elem.disabled;};},"first-child":function(){return _419;},"last-child":function(){return _41a;},"only-child":function(name,_422){return function(node){return _419(node)&&_41a(node);};},"empty":function(name,_423){return function(elem){var cn=elem.childNodes;var cnl=elem.childNodes.length;for(var x=cnl-1;x>=0;x--){var nt=cn[x].nodeType;if((nt===1)||(nt==3)){return false;}}return true;};},"contains":function(name,_424){var cz=_424.charAt(0);if(cz=="\""||cz=="'"){_424=_424.slice(1,-1);}return function(elem){return (elem.innerHTML.indexOf(_424)>=0);};},"not":function(name,_425){var p=_3f2(_425)[0];var _426={el:1};if(p.tag!="*"){_426.tag=1;}if(!p.classes.length){_426.classes=1;}var ntf=_427(p,_426);return function(elem){return (!ntf(elem));};},"nth-child":function(name,_428){var pi=parseInt;if(_428=="odd"){return _41d;}else{if(_428=="even"){return _41c;}}if(_428.indexOf("n")!=-1){var _429=_428.split("n",2);var pred=_429[0]?((_429[0]=="-")?-1:pi(_429[0])):1;var idx=_429[1]?pi(_429[1]):0;var lb=0,ub=-1;if(pred>0){if(idx<0){idx=(idx%pred)&&(pred+(idx%pred));}else{if(idx>0){if(idx>=pred){lb=idx-idx%pred;}idx=idx%pred;}}}else{if(pred<0){pred*=-1;if(idx>0){ub=idx;idx=idx%pred;}}}if(pred>0){return function(elem){var i=_41b(elem);return (i>=lb)&&(ub<0||i<=ub)&&((i%pred)==idx);};}else{_428=idx;}}var _42a=pi(_428);return function(elem){return (_41b(elem)==_42a);};}};var _42b=(has("ie")<9||has("ie")==9&&has("quirks"))?function(cond){var clc=cond.toLowerCase();if(clc=="class"){cond="className";}return function(elem){return (_3f0?elem.getAttribute(cond):elem[cond]||elem[clc]);};}:function(cond){return function(elem){return (elem&&elem.getAttribute&&elem.hasAttribute(cond));};};var _427=function(_42c,_42d){if(!_42c){return _3f1;}_42d=_42d||{};var ff=null;if(!("el" in _42d)){ff=_405(ff,_409);}if(!("tag" in _42d)){if(_42c.tag!="*"){ff=_405(ff,function(elem){return (elem&&((_3f0?elem.tagName:elem.tagName.toUpperCase())==_42c.getTag()));});}}if(!("classes" in _42d)){each(_42c.classes,function(_42e,idx,arr){var re=new RegExp("(?:^|\\s)"+_42e+"(?:\\s|$)");ff=_405(ff,function(elem){return re.test(elem.className);});ff.count=idx;});}if(!("pseudos" in _42d)){each(_42c.pseudos,function(_42f){var pn=_42f.name;if(_41e[pn]){ff=_405(ff,_41e[pn](pn,_42f.value));}});}if(!("attrs" in _42d)){each(_42c.attrs,function(attr){var _430;var a=attr.attr;if(attr.type&&_40c[attr.type]){_430=_40c[attr.type](a,attr.matchFor);}else{if(a.length){_430=_42b(a);}}if(_430){ff=_405(ff,_430);}});}if(!("id" in _42d)){if(_42c.id){ff=_405(ff,function(elem){return (!!elem&&(elem.id==_42c.id));});}}if(!ff){if(!("default" in _42d)){ff=_3f1;}}return ff;};var _431=function(_432){return function(node,ret,bag){while(node=node[_416]){if(_415&&(!_409(node))){continue;}if((!bag||_433(node,bag))&&_432(node)){ret.push(node);}break;}return ret;};};var _434=function(_435){return function(root,ret,bag){var te=root[_416];while(te){if(_418(te)){if(bag&&!_433(te,bag)){break;}if(_435(te)){ret.push(te);}}te=te[_416];}return ret;};};var _436=function(_437){_437=_437||_3f1;return function(root,ret,bag){var te,x=0,tret=root.children||root.childNodes;while(te=tret[x++]){if(_418(te)&&(!bag||_433(te,bag))&&(_437(te,x))){ret.push(te);}}return ret;};};var _438=function(node,root){var pn=node.parentNode;while(pn){if(pn==root){break;}pn=pn.parentNode;}return !!pn;};var _439={};var _43a=function(_43b){var _43c=_439[_43b.query];if(_43c){return _43c;}var io=_43b.infixOper;var oper=(io?io.oper:"");var _43d=_427(_43b,{el:1});var qt=_43b.tag;var _43e=("*"==qt);var ecs=_3ed()["getElementsByClassName"];if(!oper){if(_43b.id){_43d=(!_43b.loops&&_43e)?_3f1:_427(_43b,{el:1,id:1});_43c=function(root,arr){var te=dom.byId(_43b.id,(root.ownerDocument||root));if(!te||!_43d(te)){return;}if(9==root.nodeType){return _408(te,arr);}else{if(_438(te,root)){return _408(te,arr);}}};}else{if(ecs&&/\{\s*\[native code\]\s*\}/.test(String(ecs))&&_43b.classes.length&&!_3ee){_43d=_427(_43b,{el:1,classes:1,id:1});var _43f=_43b.classes.join(" ");_43c=function(root,arr,bag){var ret=_408(0,arr),te,x=0;var tret=root.getElementsByClassName(_43f);while((te=tret[x++])){if(_43d(te,root)&&_433(te,bag)){ret.push(te);}}return ret;};}else{if(!_43e&&!_43b.loops){_43c=function(root,arr,bag){var ret=_408(0,arr),te,x=0;var tag=_43b.getTag(),tret=tag?root.getElementsByTagName(tag):[];while((te=tret[x++])){if(_433(te,bag)){ret.push(te);}}return ret;};}else{_43d=_427(_43b,{el:1,tag:1,id:1});_43c=function(root,arr,bag){var ret=_408(0,arr),te,x=0;var tag=_43b.getTag(),tret=tag?root.getElementsByTagName(tag):[];while((te=tret[x++])){if(_43d(te,root)&&_433(te,bag)){ret.push(te);}}return ret;};}}}}else{var _440={el:1};if(_43e){_440.tag=1;}_43d=_427(_43b,_440);if("+"==oper){_43c=_431(_43d);}else{if("~"==oper){_43c=_434(_43d);}else{if(">"==oper){_43c=_436(_43d);}}}}return _439[_43b.query]=_43c;};var _441=function(root,_442){var _443=_408(root),qp,x,te,qpl=_442.length,bag,ret;for(var i=0;i<qpl;i++){ret=[];qp=_442[i];x=_443.length-1;if(x>0){bag={};ret.nozip=true;}var gef=_43a(qp);for(var j=0;(te=_443[j]);j++){gef(te,ret,bag);}if(!ret.length){break;}_443=ret;}return ret;};var _444={},_445={};var _446=function(_447){var _448=_3f2(trim(_447));if(_448.length==1){var tef=_43a(_448[0]);return function(root){var r=tef(root,[]);if(r){r.nozip=true;}return r;};}return function(root){return _441(root,_448);};};var _449=has("ie")?"commentStrip":"nozip";var qsa="querySelectorAll";var _44a=!!_3ed()[qsa];var _44b=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g;var _44c=function(_44d,pre,ch,post){return ch?(pre?pre+" ":"")+ch+(post?" "+post:""):_44d;};var _44e=/([^[]*)([^\]]*])?/g;var _44f=function(_450,_451,att){return _451.replace(_44b,_44c)+(att||"");};var _452=function(_453,_454){_453=_453.replace(_44e,_44f);if(_44a){var _455=_445[_453];if(_455&&!_454){return _455;}}var _456=_444[_453];if(_456){return _456;}var qcz=_453.charAt(0);var _457=(-1==_453.indexOf(" "));if((_453.indexOf("#")>=0)&&(_457)){_454=true;}var _458=(_44a&&(!_454)&&(_3ef.indexOf(qcz)==-1)&&(!has("ie")||(_453.indexOf(":")==-1))&&(!(_3ee&&(_453.indexOf(".")>=0)))&&(_453.indexOf(":contains")==-1)&&(_453.indexOf(":checked")==-1)&&(_453.indexOf("|=")==-1));if(_458){var tq=(_3ef.indexOf(_453.charAt(_453.length-1))>=0)?(_453+" *"):_453;return _445[_453]=function(root){try{if(!((9==root.nodeType)||_457)){throw "";}var r=root[qsa](tq);r[_449]=true;return r;}catch(e){return _452(_453,true)(root);}};}else{var _459=_453.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return _444[_453]=((_459.length<2)?_446(_453):function(root){var _45a=0,ret=[],tp;while((tp=_459[_45a++])){ret=ret.concat(_446(tp)(root));}return ret;});}};var _45b=0;var _45c=has("ie")?function(node){if(_3f0){return (node.getAttribute("_uid")||node.setAttribute("_uid",++_45b)||_45b);}else{return node.uniqueID;}}:function(node){return (node._uid||(node._uid=++_45b));};var _433=function(node,bag){if(!bag){return 1;}var id=_45c(node);if(!bag[id]){return bag[id]=1;}return 0;};var _45d="_zipIdx";var _45e=function(arr){if(arr&&arr.nozip){return arr;}if(!arr||!arr.length){return [];}if(arr.length<2){return [arr[0]];}var ret=[];_45b++;var x,te;if(has("ie")&&_3f0){var _45f=_45b+"";for(x=0;x<arr.length;x++){if((te=arr[x])&&te.getAttribute(_45d)!=_45f){ret.push(te);te.setAttribute(_45d,_45f);}}}else{if(has("ie")&&arr.commentStrip){try{for(x=0;x<arr.length;x++){if((te=arr[x])&&_409(te)){ret.push(te);}}}catch(e){}}else{for(x=0;x<arr.length;x++){if((te=arr[x])&&te[_45d]!=_45b){ret.push(te);te[_45d]=_45b;}}}}return ret;};var _460=function(_461,root){root=root||_3ed();var od=root.ownerDocument||root;_3f0=(od.createElement("div").tagName==="div");var r=_452(_461)(root);if(r&&r.nozip){return r;}return _45e(r);};_460.filter=function(_462,_463,root){var _464=[],_465=_3f2(_463),_466=(_465.length==1&&!/[^\w#\.]/.test(_463))?_427(_465[0]):function(node){return _3ec.indexOf(_460(_463,dom.byId(root)),node)!=-1;};for(var x=0,te;te=_462[x];x++){if(_466(te)){_464.push(te);}}return _464;};return _460;});},"dojo/NodeList-dom":function(){define(["./_base/kernel","./query","./_base/array","./_base/lang","./dom-class","./dom-construct","./dom-geometry","./dom-attr","./dom-style"],function(dojo,_467,_468,lang,_469,_46a,_46b,_46c,_46d){var _46e=function(a){return a.length==1&&(typeof a[0]=="string");};var _46f=function(node){var p=node.parentNode;if(p){p.removeChild(node);}};var _470=_467.NodeList,awc=_470._adaptWithCondition,aafe=_470._adaptAsForEach,aam=_470._adaptAsMap;function _471(_472){return function(node,name,_473){if(arguments.length==2){return _472[typeof name=="string"?"get":"set"](node,name);}return _472.set(node,name,_473);};};lang.extend(_470,{_normalize:function(_474,_475){var _476=_474.parse===true;if(typeof _474.template=="string"){var _477=_474.templateFunc||(dojo.string&&dojo.string.substitute);_474=_477?_477(_474.template,_474):_474;}var type=(typeof _474);if(type=="string"||type=="number"){_474=_46a.toDom(_474,(_475&&_475.ownerDocument));if(_474.nodeType==11){_474=lang._toArray(_474.childNodes);}else{_474=[_474];}}else{if(!lang.isArrayLike(_474)){_474=[_474];}else{if(!lang.isArray(_474)){_474=lang._toArray(_474);}}}if(_476){_474._runParse=true;}return _474;},_cloneNode:function(node){return node.cloneNode(true);},_place:function(ary,_478,_479,_47a){if(_478.nodeType!=1&&_479=="only"){return;}var _47b=_478,_47c;var _47d=ary.length;for(var i=_47d-1;i>=0;i--){var node=(_47a?this._cloneNode(ary[i]):ary[i]);if(ary._runParse&&dojo.parser&&dojo.parser.parse){if(!_47c){_47c=_47b.ownerDocument.createElement("div");}_47c.appendChild(node);dojo.parser.parse(_47c);node=_47c.firstChild;while(_47c.firstChild){_47c.removeChild(_47c.firstChild);}}if(i==_47d-1){_46a.place(node,_47b,_479);}else{_47b.parentNode.insertBefore(node,_47b);}_47b=node;}},position:aam(_46b.position),attr:awc(_471(_46c),_46e),style:awc(_471(_46d),_46e),addClass:aafe(_469.add),removeClass:aafe(_469.remove),toggleClass:aafe(_469.toggle),replaceClass:aafe(_469.replace),empty:aafe(_46a.empty),removeAttr:aafe(_46c.remove),marginBox:aam(_46b.getMarginBox),place:function(_47e,_47f){var item=_467(_47e)[0];return this.forEach(function(node){_46a.place(node,item,_47f);});},orphan:function(_480){return (_480?_467._filterResult(this,_480):this).forEach(_46f);},adopt:function(_481,_482){return _467(_481).place(this[0],_482)._stash(this);},query:function(_483){if(!_483){return this;}var ret=new _470;this.map(function(node){_467(_483,node).forEach(function(_484){if(_484!==undefined){ret.push(_484);}});});return ret._stash(this);},filter:function(_485){var a=arguments,_486=this,_487=0;if(typeof _485=="string"){_486=_467._filterResult(this,a[0]);if(a.length==1){return _486._stash(this);}_487=1;}return this._wrap(_468.filter(_486,a[_487],a[_487+1]),this);},addContent:function(_488,_489){_488=this._normalize(_488,this[0]);for(var i=0,node;(node=this[i]);i++){if(_488.length){this._place(_488,node,_489,i>0);}else{_46a.empty(node);}}return this;}});return _470;});},"dojo/_base/xhr":function(){define(["./kernel","./sniff","require","../io-query","../dom","../dom-form","./Deferred","./config","./json","./lang","./array","../on","../aspect","../request/watch","../request/xhr","../request/util"],function(dojo,has,_48a,ioq,dom,_48b,_48c,_48d,json,lang,_48e,on,_48f,_490,_491,util){dojo._xhrObj=_491._create;var cfg=dojo.config;dojo.objectToQuery=ioq.objectToQuery;dojo.queryToObject=ioq.queryToObject;dojo.fieldToObject=_48b.fieldToObject;dojo.formToObject=_48b.toObject;dojo.formToQuery=_48b.toQuery;dojo.formToJson=_48b.toJson;dojo._blockAsync=false;var _492=dojo._contentHandlers=dojo.contentHandlers={"text":function(xhr){return xhr.responseText;},"json":function(xhr){return json.fromJson(xhr.responseText||null);},"json-comment-filtered":function(xhr){if(!_48d.useCommentedJson){console.warn("Consider using the standard mimetype:application/json."+" json-commenting can introduce security issues. To"+" decrease the chances of hijacking, use the standard the 'json' handler and"+" prefix your json with: {}&&\n"+"Use djConfig.useCommentedJson=true to turn off this message.");}var _493=xhr.responseText;var _494=_493.indexOf("/*");var _495=_493.lastIndexOf("*/");if(_494==-1||_495==-1){throw new Error("JSON was not comment filtered");}return json.fromJson(_493.substring(_494+2,_495));},"javascript":function(xhr){return dojo.eval(xhr.responseText);},"xml":function(xhr){var _496=xhr.responseXML;if(_496&&has("dom-qsa2.1")&&!_496.querySelectorAll&&has("dom-parser")){_496=new DOMParser().parseFromString(xhr.responseText,"application/xml");}if(has("ie")){if((!_496||!_496.documentElement)){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];_48e.some(dp,function(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(xhr.responseText);_496=dom;}catch(e){return false;}return true;});}}return _496;},"json-comment-optional":function(xhr){if(xhr.responseText&&/^[^{\[]*\/\*/.test(xhr.responseText)){return _492["json-comment-filtered"](xhr);}else{return _492["json"](xhr);}}};dojo._ioSetArgs=function(args,_497,_498,_499){var _49a={args:args,url:args.url};var _49b=null;if(args.form){var form=dom.byId(args.form);var _49c=form.getAttributeNode("action");_49a.url=_49a.url||(_49c?_49c.value:null);_49b=_48b.toObject(form);}var _49d=[{}];if(_49b){_49d.push(_49b);}if(args.content){_49d.push(args.content);}if(args.preventCache){_49d.push({"dojo.preventCache":new Date().valueOf()});}_49a.query=ioq.objectToQuery(lang.mixin.apply(null,_49d));_49a.handleAs=args.handleAs||"text";var d=new _48c(function(dfd){dfd.canceled=true;_497&&_497(dfd);var err=dfd.ioArgs.error;if(!err){err=new Error("request cancelled");err.dojoType="cancel";dfd.ioArgs.error=err;}return err;});d.addCallback(_498);var ld=args.load;if(ld&&lang.isFunction(ld)){d.addCallback(function(_49e){return ld.call(args,_49e,_49a);});}var err=args.error;if(err&&lang.isFunction(err)){d.addErrback(function(_49f){return err.call(args,_49f,_49a);});}var _4a0=args.handle;if(_4a0&&lang.isFunction(_4a0)){d.addBoth(function(_4a1){return _4a0.call(args,_4a1,_49a);});}d.addErrback(function(_4a2){return _499(_4a2,d);});if(cfg.ioPublish&&dojo.publish&&_49a.args.ioPublish!==false){d.addCallbacks(function(res){dojo.publish("/dojo/io/load",[d,res]);return res;},function(res){dojo.publish("/dojo/io/error",[d,res]);return res;});d.addBoth(function(res){dojo.publish("/dojo/io/done",[d,res]);return res;});}d.ioArgs=_49a;return d;};var _4a3=function(dfd){var ret=_492[dfd.ioArgs.handleAs](dfd.ioArgs.xhr);return ret===undefined?null:ret;};var _4a4=function(_4a5,dfd){if(!dfd.ioArgs.args.failOk){console.error(_4a5);}return _4a5;};var _4a6=function(dfd){if(_4a7<=0){_4a7=0;if(cfg.ioPublish&&dojo.publish&&(!dfd||dfd&&dfd.ioArgs.args.ioPublish!==false)){dojo.publish("/dojo/io/stop");}}};var _4a7=0;_48f.after(_490,"_onAction",function(){_4a7-=1;});_48f.after(_490,"_onInFlight",_4a6);dojo._ioCancelAll=_490.cancelAll;dojo._ioNotifyStart=function(dfd){if(cfg.ioPublish&&dojo.publish&&dfd.ioArgs.args.ioPublish!==false){if(!_4a7){dojo.publish("/dojo/io/start");}_4a7+=1;dojo.publish("/dojo/io/send",[dfd]);}};dojo._ioWatch=function(dfd,_4a8,_4a9,_4aa){var args=dfd.ioArgs.options=dfd.ioArgs.args;lang.mixin(dfd,{response:dfd.ioArgs,isValid:function(_4ab){return _4a8(dfd);},isReady:function(_4ac){return _4a9(dfd);},handleResponse:function(_4ad){return _4aa(dfd);}});_490(dfd);_4a6(dfd);};var _4ae="application/x-www-form-urlencoded";dojo._ioAddQueryToUrl=function(_4af){if(_4af.query.length){_4af.url+=(_4af.url.indexOf("?")==-1?"?":"&")+_4af.query;_4af.query=null;}};dojo.xhr=function(_4b0,args,_4b1){var rDfd;var dfd=dojo._ioSetArgs(args,function(dfd){rDfd&&rDfd.cancel();},_4a3,_4a4);var _4b2=dfd.ioArgs;if("postData" in args){_4b2.query=args.postData;}else{if("putData" in args){_4b2.query=args.putData;}else{if("rawBody" in args){_4b2.query=args.rawBody;}else{if((arguments.length>2&&!_4b1)||"POST|PUT".indexOf(_4b0.toUpperCase())===-1){dojo._ioAddQueryToUrl(_4b2);}}}}var _4b3={method:_4b0,handleAs:"text",timeout:args.timeout,withCredentials:args.withCredentials,ioArgs:_4b2};if(typeof args.headers!=="undefined"){_4b3.headers=args.headers;}if(typeof args.contentType!=="undefined"){if(!_4b3.headers){_4b3.headers={};}_4b3.headers["Content-Type"]=args.contentType;}if(typeof _4b2.query!=="undefined"){_4b3.data=_4b2.query;}if(typeof args.sync!=="undefined"){_4b3.sync=args.sync;}dojo._ioNotifyStart(dfd);try{rDfd=_491(_4b2.url,_4b3,true);}catch(e){dfd.cancel();return dfd;}dfd.ioArgs.xhr=rDfd.response.xhr;rDfd.then(function(){dfd.resolve(dfd);}).otherwise(function(_4b4){_4b2.error=_4b4;if(_4b4.response){_4b4.status=_4b4.response.status;_4b4.responseText=_4b4.response.text;_4b4.xhr=_4b4.response.xhr;}dfd.reject(_4b4);});return dfd;};dojo.xhrGet=function(args){return dojo.xhr("GET",args);};dojo.rawXhrPost=dojo.xhrPost=function(args){return dojo.xhr("POST",args,true);};dojo.rawXhrPut=dojo.xhrPut=function(args){return dojo.xhr("PUT",args,true);};dojo.xhrDelete=function(args){return dojo.xhr("DELETE",args);};dojo._isDocumentOk=function(x){return util.checkStatus(x.status);};dojo._getText=function(url){var _4b5;dojo.xhrGet({url:url,sync:true,load:function(text){_4b5=text;}});return _4b5;};lang.mixin(dojo.xhr,{_xhrObj:dojo._xhrObj,fieldToObject:_48b.fieldToObject,formToObject:_48b.toObject,objectToQuery:ioq.objectToQuery,formToQuery:_48b.toQuery,formToJson:_48b.toJson,queryToObject:ioq.queryToObject,contentHandlers:_492,_ioSetArgs:dojo._ioSetArgs,_ioCancelAll:dojo._ioCancelAll,_ioNotifyStart:dojo._ioNotifyStart,_ioWatch:dojo._ioWatch,_ioAddQueryToUrl:dojo._ioAddQueryToUrl,_isDocumentOk:dojo._isDocumentOk,_getText:dojo._getText,get:dojo.xhrGet,post:dojo.xhrPost,put:dojo.xhrPut,del:dojo.xhrDelete});return dojo.xhr;});},"dojo/io-query":function(){define(["./_base/lang"],function(lang){var _4b6={};return {objectToQuery:function objectToQuery(map){var enc=encodeURIComponent,_4b7=[];for(var name in map){var _4b8=map[name];if(_4b8!=_4b6[name]){var _4b9=enc(name)+"=";if(lang.isArray(_4b8)){for(var i=0,l=_4b8.length;i<l;++i){_4b7.push(_4b9+enc(_4b8[i]));}}else{_4b7.push(_4b9+enc(_4b8));}}}return _4b7.join("&");},queryToObject:function queryToObject(str){var dec=decodeURIComponent,qp=str.split("&"),ret={},name,val;for(var i=0,l=qp.length,item;i<l;++i){item=qp[i];if(item.length){var s=item.indexOf("=");if(s<0){name=dec(item);val="";}else{name=dec(item.slice(0,s));val=dec(item.slice(s+1));}if(typeof ret[name]=="string"){ret[name]=[ret[name]];}if(lang.isArray(ret[name])){ret[name].push(val);}else{ret[name]=val;}}}return ret;}};});},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(lang,dom,ioq,json){function _4ba(obj,name,_4bb){if(_4bb===null){return;}var val=obj[name];if(typeof val=="string"){obj[name]=[val,_4bb];}else{if(lang.isArray(val)){val.push(_4bb);}else{obj[name]=_4bb;}}};var _4bc="file|submit|image|reset|button";var form={fieldToObject:function fieldToObject(_4bd){var ret=null;_4bd=dom.byId(_4bd);if(_4bd){var _4be=_4bd.name,type=(_4bd.type||"").toLowerCase();if(_4be&&type&&!_4bd.disabled){if(type=="radio"||type=="checkbox"){if(_4bd.checked){ret=_4bd.value;}}else{if(_4bd.multiple){ret=[];var _4bf=[_4bd.firstChild];while(_4bf.length){for(var node=_4bf.pop();node;node=node.nextSibling){if(node.nodeType==1&&node.tagName.toLowerCase()=="option"){if(node.selected){ret.push(node.value);}}else{if(node.nextSibling){_4bf.push(node.nextSibling);}if(node.firstChild){_4bf.push(node.firstChild);}break;}}}}else{ret=_4bd.value;}}}}return ret;},toObject:function formToObject(_4c0){var ret={},_4c1=dom.byId(_4c0).elements;for(var i=0,l=_4c1.length;i<l;++i){var item=_4c1[i],_4c2=item.name,type=(item.type||"").toLowerCase();if(_4c2&&type&&_4bc.indexOf(type)<0&&!item.disabled){_4ba(ret,_4c2,form.fieldToObject(item));if(type=="image"){ret[_4c2+".x"]=ret[_4c2+".y"]=ret[_4c2].x=ret[_4c2].y=0;}}}return ret;},toQuery:function formToQuery(_4c3){return ioq.objectToQuery(form.toObject(_4c3));},toJson:function formToJson(_4c4,_4c5){return json.stringify(form.toObject(_4c4),null,_4c5?4:0);}};return form;});},"dojo/request/watch":function(){define(["./util","../errors/RequestTimeoutError","../errors/CancelError","../_base/array","../_base/window","../has!host-browser?dom-addeventlistener?:../on:"],function(util,_4c6,_4c7,_4c8,win,on){var _4c9=null,_4ca=[];function _4cb(){var now=+(new Date);for(var i=0,dfd;i<_4ca.length&&(dfd=_4ca[i]);i++){var _4cc=dfd.response,_4cd=_4cc.options;if((dfd.isCanceled&&dfd.isCanceled())||(dfd.isValid&&!dfd.isValid(_4cc))){_4ca.splice(i--,1);_4ce._onAction&&_4ce._onAction();}else{if(dfd.isReady&&dfd.isReady(_4cc)){_4ca.splice(i--,1);dfd.handleResponse(_4cc);_4ce._onAction&&_4ce._onAction();}else{if(dfd.startTime){if(dfd.startTime+(_4cd.timeout||0)<now){_4ca.splice(i--,1);dfd.cancel(new _4c6("Timeout exceeded",_4cc));_4ce._onAction&&_4ce._onAction();}}}}}_4ce._onInFlight&&_4ce._onInFlight(dfd);if(!_4ca.length){clearInterval(_4c9);_4c9=null;}};function _4ce(dfd){if(dfd.response.options.timeout){dfd.startTime=+(new Date);}if(dfd.isFulfilled()){return;}_4ca.push(dfd);if(!_4c9){_4c9=setInterval(_4cb,50);}if(dfd.response.options.sync){_4cb();}};_4ce.cancelAll=function cancelAll(){try{_4c8.forEach(_4ca,function(dfd){try{dfd.cancel(new _4c7("All requests canceled."));}catch(e){}});}catch(e){}};if(win&&on&&win.doc.attachEvent){on(win.global,"unload",function(){_4ce.cancelAll();});}return _4ce;});},"dojo/request/util":function(){define(["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(_4cf,_4d0,_4d1,_4d2,_4d3,_4d4,lang,_4d5){_4cf.deepCopy=function deepCopy(_4d6,_4d7){for(var name in _4d7){var tval=_4d6[name],sval=_4d7[name];if(tval!==sval){if(tval&&typeof tval==="object"&&sval&&typeof sval==="object"){_4cf.deepCopy(tval,sval);}else{_4d6[name]=sval;}}}return _4d6;};_4cf.deepCreate=function deepCreate(_4d8,_4d9){_4d9=_4d9||{};var _4da=lang.delegate(_4d8),name,_4db;for(name in _4d8){_4db=_4d8[name];if(_4db&&typeof _4db==="object"){_4da[name]=_4cf.deepCreate(_4db,_4d9[name]);}}return _4cf.deepCopy(_4da,_4d9);};var _4dc=Object.freeze||function(obj){return obj;};function _4dd(_4de){return _4dc(_4de);};function _4df(_4e0){return _4e0.data||_4e0.text;};_4cf.deferred=function deferred(_4e1,_4e2,_4e3,_4e4,_4e5,last){var def=new _4d2(function(_4e6){_4e2&&_4e2(def,_4e1);if(!_4e6||!(_4e6 instanceof _4d0)&&!(_4e6 instanceof _4d1)){return new _4d1("Request canceled",_4e1);}return _4e6;});def.response=_4e1;def.isValid=_4e3;def.isReady=_4e4;def.handleResponse=_4e5;function _4e7(_4e8){_4e8.response=_4e1;throw _4e8;};var _4e9=def.then(_4dd).otherwise(_4e7);if(_4cf.notify){_4e9.then(lang.hitch(_4cf.notify,"emit","load"),lang.hitch(_4cf.notify,"emit","error"));}var _4ea=_4e9.then(_4df);var _4eb=new _4d5();for(var prop in _4ea){if(_4ea.hasOwnProperty(prop)){_4eb[prop]=_4ea[prop];}}_4eb.response=_4e9;_4dc(_4eb);if(last){def.then(function(_4ec){last.call(def,_4ec);},function(_4ed){last.call(def,_4e1,_4ed);});}def.promise=_4eb;def.then=_4eb.then;return def;};_4cf.addCommonMethods=function addCommonMethods(_4ee,_4ef){_4d4.forEach(_4ef||["GET","POST","PUT","DELETE"],function(_4f0){_4ee[(_4f0==="DELETE"?"DEL":_4f0).toLowerCase()]=function(url,_4f1){_4f1=lang.delegate(_4f1||{});_4f1.method=_4f0;return _4ee(url,_4f1);};});};_4cf.parseArgs=function parseArgs(url,_4f2,_4f3){var data=_4f2.data,_4f4=_4f2.query;if(data&&!_4f3){if(typeof data==="object"){_4f2.data=_4d3.objectToQuery(data);}}if(_4f4){if(typeof _4f4==="object"){_4f4=_4d3.objectToQuery(_4f4);}if(_4f2.preventCache){_4f4+=(_4f4?"&":"")+"request.preventCache="+(+(new Date));}}else{if(_4f2.preventCache){_4f4="request.preventCache="+(+(new Date));}}if(url&&_4f4){url+=(~url.indexOf("?")?"&":"?")+_4f4;}return {url:url,options:_4f2,getHeader:function(_4f5){return null;}};};_4cf.checkStatus=function(stat){stat=stat||0;return (stat>=200&&stat<300)||stat===304||stat===1223||!stat;};});},"dojo/errors/RequestError":function(){define(["./create"],function(_4f6){return _4f6("RequestError",function(_4f7,_4f8){this.response=_4f8;});});},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(_4f9,_4fa){return _4f9("RequestTimeoutError",null,_4fa,{dojoType:"timeout"});});},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(_4fb,_4fc,_4fd,util,has){has.add("native-xhr",function(){return typeof XMLHttpRequest!=="undefined";});has.add("dojo-force-activex-xhr",function(){return has("activex")&&!document.addEventListener&&window.location.protocol==="file:";});has.add("native-xhr2",function(){if(!has("native-xhr")){return;}var x=new XMLHttpRequest();return typeof x["addEventListener"]!=="undefined"&&(typeof opera==="undefined"||typeof x["upload"]!=="undefined");});has.add("native-formdata",function(){return typeof FormData!=="undefined";});has.add("native-response-type",function(){return has("native-xhr")&&typeof new XMLHttpRequest().responseType!=="undefined";});has.add("native-xhr2-blob",function(){if(!has("native-response-type")){return;}var x=new XMLHttpRequest();x.open("GET","/",true);x.responseType="blob";var _4fe=x.responseType;x.abort();return _4fe==="blob";});var _4ff={"blob":has("native-xhr2-blob")?"blob":"arraybuffer","document":"document","arraybuffer":"arraybuffer"};function _500(_501,_502){var _503=_501.xhr;_501.status=_501.xhr.status;try{_501.text=_503.responseText;}catch(e){}if(_501.options.handleAs==="xml"){_501.data=_503.responseXML;}if(!_502){try{_4fd(_501);}catch(e){_502=e;}}if(_502){this.reject(_502);}else{if(util.checkStatus(_503.status)){this.resolve(_501);}else{_502=new _4fb("Unable to load "+_501.url+" status: "+_503.status,_501);this.reject(_502);}}};var _504,_505,_506,_507;if(has("native-xhr2")){_504=function(_508){return !this.isFulfilled();};_507=function(dfd,_509){_509.xhr.abort();};_506=function(_50a,dfd,_50b){function _50c(evt){dfd.handleResponse(_50b);};function _50d(evt){var _50e=evt.target;var _50f=new _4fb("Unable to load "+_50b.url+" status: "+_50e.status,_50b);dfd.handleResponse(_50b,_50f);};function _510(evt){if(evt.lengthComputable){_50b.loaded=evt.loaded;_50b.total=evt.total;dfd.progress(_50b);}else{if(_50b.xhr.readyState===3){_50b.loaded=evt.position;dfd.progress(_50b);}}};_50a.addEventListener("load",_50c,false);_50a.addEventListener("error",_50d,false);_50a.addEventListener("progress",_510,false);return function(){_50a.removeEventListener("load",_50c,false);_50a.removeEventListener("error",_50d,false);_50a.removeEventListener("progress",_510,false);_50a=null;};};}else{_504=function(_511){return _511.xhr.readyState;};_505=function(_512){return 4===_512.xhr.readyState;};_507=function(dfd,_513){var xhr=_513.xhr;var _514=typeof xhr.abort;if(_514==="function"||_514==="object"||_514==="unknown"){xhr.abort();}};}function _515(_516){return this.xhr.getResponseHeader(_516);};var _517,_518={data:null,query:null,sync:false,method:"GET"};function xhr(url,_519,_51a){var _51b=has("native-formdata")&&_519&&_519.data&&_519.data instanceof FormData;var _51c=util.parseArgs(url,util.deepCreate(_518,_519),_51b);url=_51c.url;_519=_51c.options;var _51d,last=function(){_51d&&_51d();};var dfd=util.deferred(_51c,_507,_504,_505,_500,last);var _51e=_51c.xhr=xhr._create();if(!_51e){dfd.cancel(new _4fb("XHR was not created"));return _51a?dfd:dfd.promise;}_51c.getHeader=_515;if(_506){_51d=_506(_51e,dfd,_51c);}var data=_519.data,_51f=!_519.sync,_520=_519.method;try{_51e.open(_520,url,_51f,_519.user||_517,_519.password||_517);if(_519.withCredentials){_51e.withCredentials=_519.withCredentials;}if(has("native-response-type")&&_519.handleAs in _4ff){_51e.responseType=_4ff[_519.handleAs];}var _521=_519.headers,_522=_51b?false:"application/x-www-form-urlencoded";if(_521){for(var hdr in _521){if(hdr.toLowerCase()==="content-type"){_522=_521[hdr];}else{if(_521[hdr]){_51e.setRequestHeader(hdr,_521[hdr]);}}}}if(_522&&_522!==false){_51e.setRequestHeader("Content-Type",_522);}if(!_521||!("X-Requested-With" in _521)){_51e.setRequestHeader("X-Requested-With","XMLHttpRequest");}if(util.notify){util.notify.emit("send",_51c,dfd.promise.cancel);}_51e.send(data);}catch(e){dfd.reject(e);}_4fc(dfd);_51e=null;return _51a?dfd:dfd.promise;};xhr._create=function(){throw new Error("XMLHTTP not available");};if(has("native-xhr")&&!has("dojo-force-activex-xhr")){xhr._create=function(){return new XMLHttpRequest();};}else{if(has("activex")){try{new ActiveXObject("Msxml2.XMLHTTP");xhr._create=function(){return new ActiveXObject("Msxml2.XMLHTTP");};}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP");xhr._create=function(){return new ActiveXObject("Microsoft.XMLHTTP");};}catch(e){}}}}util.addCommonMethods(xhr);return xhr;});},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(JSON,_523,_524,has){has.add("activex",typeof ActiveXObject!=="undefined");has.add("dom-parser",function(_525){return "DOMParser" in _525;});var _526;if(has("activex")){var dp=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];var _527;_526=function(_528){var _529=_528.data;var text=_528.text;if(_529&&has("dom-qsa2.1")&&!_529.querySelectorAll&&has("dom-parser")){_529=new DOMParser().parseFromString(text,"application/xml");}function _52a(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(text);_529=dom;_527=p;}catch(e){return false;}return true;};if(!_529||!_529.documentElement){if(!_527||!_52a(_527)){_524.some(dp,_52a);}}return _529;};}var _52b=function(_52c){if(!has("native-xhr2-blob")&&_52c.options.handleAs==="blob"&&typeof Blob!=="undefined"){return new Blob([_52c.xhr.response],{type:_52c.xhr.getResponseHeader("Content-Type")});}return _52c.xhr.response;};var _52d={"javascript":function(_52e){return _523.eval(_52e.text||"");},"json":function(_52f){return JSON.parse(_52f.text||null);},"xml":_526,"blob":_52b,"arraybuffer":_52b,"document":_52b};function _530(_531){var _532=_52d[_531.options.handleAs];_531.data=_532?_532(_531):(_531.data||_531.text);return _531;};_530.register=function(name,_533){_52d[name]=_533;};return _530;});},"dojo/_base/fx":function(){define(["./kernel","./config","./lang","../Evented","./Color","../aspect","../sniff","../dom","../dom-style"],function(dojo,_534,lang,_535,_536,_537,has,dom,_538){var _539=lang.mixin;var _53a={};var _53b=_53a._Line=function(_53c,end){this.start=_53c;this.end=end;};_53b.prototype.getValue=function(n){return ((this.end-this.start)*n)+this.start;};var _53d=_53a.Animation=function(args){_539(this,args);if(lang.isArray(this.curve)){this.curve=new _53b(this.curve[0],this.curve[1]);}};_53d.prototype=new _535();lang.extend(_53d,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var _53e=this._percent,_53f=this.easing;return _53f?_53f(_53e):_53e;},_fire:function(evt,args){var a=args||[];if(this[evt]){if(_534.debugAtAllCosts){this[evt].apply(this,a);}else{try{this[evt].apply(this,a);}catch(e){console.error("exception in animation handler for:",evt);console.error(e);}}}return this;},play:function(_540,_541){var _542=this;if(_542._delayTimer){_542._clearTimer();}if(_541){_542._stopTimer();_542._active=_542._paused=false;_542._percent=0;}else{if(_542._active&&!_542._paused){return _542;}}_542._fire("beforeBegin",[_542.node]);var de=_540||_542.delay,_543=lang.hitch(_542,"_play",_541);if(de>0){_542._delayTimer=setTimeout(_543,de);return _542;}_543();return _542;},_play:function(_544){var _545=this;if(_545._delayTimer){_545._clearTimer();}_545._startTime=new Date().valueOf();if(_545._paused){_545._startTime-=_545.duration*_545._percent;}_545._active=true;_545._paused=false;var _546=_545.curve.getValue(_545._getStep());if(!_545._percent){if(!_545._startRepeatCount){_545._startRepeatCount=_545.repeat;}_545._fire("onBegin",[_546]);}_545._fire("onPlay",[_546]);_545._cycle();return _545;},pause:function(){var _547=this;if(_547._delayTimer){_547._clearTimer();}_547._stopTimer();if(!_547._active){return _547;}_547._paused=true;_547._fire("onPause",[_547.curve.getValue(_547._getStep())]);return _547;},gotoPercent:function(_548,_549){var _54a=this;_54a._stopTimer();_54a._active=_54a._paused=true;_54a._percent=_548;if(_549){_54a.play();}return _54a;},stop:function(_54b){var _54c=this;if(_54c._delayTimer){_54c._clearTimer();}if(!_54c._timer){return _54c;}_54c._stopTimer();if(_54b){_54c._percent=1;}_54c._fire("onStop",[_54c.curve.getValue(_54c._getStep())]);_54c._active=_54c._paused=false;return _54c;},destroy:function(){this.stop();},status:function(){if(this._active){return this._paused?"paused":"playing";}return "stopped";},_cycle:function(){var _54d=this;if(_54d._active){var curr=new Date().valueOf();var step=_54d.duration===0?1:(curr-_54d._startTime)/(_54d.duration);if(step>=1){step=1;}_54d._percent=step;if(_54d.easing){step=_54d.easing(step);}_54d._fire("onAnimate",[_54d.curve.getValue(step)]);if(_54d._percent<1){_54d._startTimer();}else{_54d._active=false;if(_54d.repeat>0){_54d.repeat--;_54d.play(null,true);}else{if(_54d.repeat==-1){_54d.play(null,true);}else{if(_54d._startRepeatCount){_54d.repeat=_54d._startRepeatCount;_54d._startRepeatCount=0;}}}_54d._percent=0;_54d._fire("onEnd",[_54d.node]);!_54d.repeat&&_54d._stopTimer();}}return _54d;},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer;}});var ctr=0,_54e=null,_54f={run:function(){}};lang.extend(_53d,{_startTimer:function(){if(!this._timer){this._timer=_537.after(_54f,"run",lang.hitch(this,"_cycle"),true);ctr++;}if(!_54e){_54e=setInterval(lang.hitch(_54f,"run"),this.rate);}},_stopTimer:function(){if(this._timer){this._timer.remove();this._timer=null;ctr--;}if(ctr<=0){clearInterval(_54e);_54e=null;ctr=0;}}});var _550=has("ie")?function(node){var ns=node.style;if(!ns.width.length&&_538.get(node,"width")=="auto"){ns.width="auto";}}:function(){};_53a._fade=function(args){args.node=dom.byId(args.node);var _551=_539({properties:{}},args),_552=(_551.properties.opacity={});_552.start=!("start" in _551)?function(){return +_538.get(_551.node,"opacity")||0;}:_551.start;_552.end=_551.end;var anim=_53a.animateProperty(_551);_537.after(anim,"beforeBegin",lang.partial(_550,_551.node),true);return anim;};_53a.fadeIn=function(args){return _53a._fade(_539({end:1},args));};_53a.fadeOut=function(args){return _53a._fade(_539({end:0},args));};_53a._defaultEasing=function(n){return 0.5+((Math.sin((n+1.5)*Math.PI))/2);};var _553=function(_554){this._properties=_554;for(var p in _554){var prop=_554[p];if(prop.start instanceof _536){prop.tempColor=new _536();}}};_553.prototype.getValue=function(r){var ret={};for(var p in this._properties){var prop=this._properties[p],_555=prop.start;if(_555 instanceof _536){ret[p]=_536.blendColors(_555,prop.end,r,prop.tempColor).toCss();}else{if(!lang.isArray(_555)){ret[p]=((prop.end-_555)*r)+_555+(p!="opacity"?prop.units||"px":0);}}}return ret;};_53a.animateProperty=function(args){var n=args.node=dom.byId(args.node);if(!args.easing){args.easing=dojo._defaultEasing;}var anim=new _53d(args);_537.after(anim,"beforeBegin",lang.hitch(anim,function(){var pm={};for(var p in this.properties){if(p=="width"||p=="height"){this.node.display="block";}var prop=this.properties[p];if(lang.isFunction(prop)){prop=prop(n);}prop=pm[p]=_539({},(lang.isObject(prop)?prop:{end:prop}));if(lang.isFunction(prop.start)){prop.start=prop.start(n);}if(lang.isFunction(prop.end)){prop.end=prop.end(n);}var _556=(p.toLowerCase().indexOf("color")>=0);function _557(node,p){var v={height:node.offsetHeight,width:node.offsetWidth}[p];if(v!==undefined){return v;}v=_538.get(node,p);return (p=="opacity")?+v:(_556?v:parseFloat(v));};if(!("end" in prop)){prop.end=_557(n,p);}else{if(!("start" in prop)){prop.start=_557(n,p);}}if(_556){prop.start=new _536(prop.start);prop.end=new _536(prop.end);}else{prop.start=(p=="opacity")?+prop.start:parseFloat(prop.start);}}this.curve=new _553(pm);}),true);_537.after(anim,"onAnimate",lang.hitch(_538,"set",anim.node),true);return anim;};_53a.anim=function(node,_558,_559,_55a,_55b,_55c){return _53a.animateProperty({node:node,duration:_559||_53d.prototype.duration,properties:_558,easing:_55a,onEnd:_55b}).play(_55c||0);};if(1){_539(dojo,_53a);dojo._Animation=_53d;}return _53a;});},"dojo/_base/loader":function(){define(["./kernel","../has","require","module","../json","./lang","./array"],function(dojo,has,_55d,_55e,json,lang,_55f){if(!1){console.error("cannot load the Dojo v1.x loader with a foreign loader");return 0;}1||has.add("dojo-fast-sync-require",1);var _560=function(id){return {src:_55e.id,id:id};},_561=function(name){return name.replace(/\./g,"/");},_562=/\/\/>>built/,_563=[],_564=[],_565=function(mid,_566,_567){_563.push(_567);_55f.forEach(mid.split(","),function(mid){var _568=_569(mid,_566.module);_564.push(_568);_56a(_568);});_56b();},_56b=(1?function(){var _56c,mid;for(mid in _56d){_56c=_56d[mid];if(_56c.noReqPluginCheck===undefined){_56c.noReqPluginCheck=/loadInit\!/.test(mid)||/require\!/.test(mid)?1:0;}if(!_56c.executed&&!_56c.noReqPluginCheck&&_56c.injected==_56e){return;}}_56f(function(){var _570=_563;_563=[];_55f.forEach(_570,function(cb){cb(1);});});}:(function(){var _571,_572=function(m){_571[m.mid]=1;for(var t,_573,deps=m.deps||[],i=0;i<deps.length;i++){_573=deps[i];if(!(t=_571[_573.mid])){if(t===0||!_572(_573)){_571[m.mid]=0;return false;}}}return true;};return function(){var _574,mid;_571={};for(mid in _56d){_574=_56d[mid];if(_574.executed||_574.noReqPluginCheck){_571[mid]=1;}else{if(_574.noReqPluginCheck!==0){_574.noReqPluginCheck=/loadInit\!/.test(mid)||/require\!/.test(mid)?1:0;}if(_574.noReqPluginCheck){_571[mid]=1;}else{if(_574.injected!==_5a0){_571[mid]=0;}}}}for(var t,i=0,end=_564.length;i<end;i++){_574=_564[i];if(!(t=_571[_574.mid])){if(t===0||!_572(_574)){return;}}}_56f(function(){var _575=_563;_563=[];_55f.forEach(_575,function(cb){cb(1);});});};})()),_576=function(mid,_577,_578){_577([mid],function(_579){_577(_579.names,function(){for(var _57a="",args=[],i=0;i<arguments.length;i++){_57a+="var "+_579.names[i]+"= arguments["+i+"]; ";args.push(arguments[i]);}eval(_57a);var _57b=_577.module,_57c=[],_57d,_57e={provide:function(_57f){_57f=_561(_57f);var _580=_569(_57f,_57b);if(_580!==_57b){_5a6(_580);}},require:function(_581,_582){_581=_561(_581);_582&&(_569(_581,_57b).result=_5a1);_57c.push(_581);},requireLocalization:function(_583,_584,_585){if(!_57d){_57d=["dojo/i18n"];}_585=(_585||dojo.locale).toLowerCase();_583=_561(_583)+"/nls/"+(/root/i.test(_585)?"":_585+"/")+_561(_584);if(_569(_583,_57b).isXd){_57d.push("dojo/i18n!"+_583);}},loadInit:function(f){f();}},hold={},p;try{for(p in _57e){hold[p]=dojo[p];dojo[p]=_57e[p];}_579.def.apply(null,args);}catch(e){_586("error",[_560("failedDojoLoadInit"),e]);}finally{for(p in _57e){dojo[p]=hold[p];}}if(_57d){_57c=_57c.concat(_57d);}if(_57c.length){_565(_57c.join(","),_577,_578);}else{_578();}});});},_587=function(text,_588,_589){var _58a=/\(|\)/g,_58b=1,_58c;_58a.lastIndex=_588;while((_58c=_58a.exec(text))){if(_58c[0]==")"){_58b-=1;}else{_58b+=1;}if(_58b==0){break;}}if(_58b!=0){throw "unmatched paren around character "+_58a.lastIndex+" in: "+text;}return [dojo.trim(text.substring(_589,_58a.lastIndex))+";\n",_58a.lastIndex];},_58d=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,_58e=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,_58f=/(^|\s)(require|define)\s*\(/m,_590=function(text,_591){var _592,_593,_594,_595,_596=[],_597=[],_598=[];_591=_591||text.replace(_58d,function(_599){_58e.lastIndex=_58f.lastIndex=0;return (_58e.test(_599)||_58f.test(_599))?"":_599;});while((_592=_58e.exec(_591))){_593=_58e.lastIndex;_594=_593-_592[0].length;_595=_587(_591,_593,_594);if(_592[2]=="loadInit"){_596.push(_595[0]);}else{_597.push(_595[0]);}_58e.lastIndex=_595[1];}_598=_596.concat(_597);if(_598.length||!_58f.test(_591)){return [text.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),_598.join(""),_598];}else{return 0;}},_59a=function(_59b,text){var _59c,id,_59d=[],_59e=[];if(_562.test(text)||!(_59c=_590(text))){return 0;}id=_59b.mid+"-*loadInit";for(var p in _569("dojo",_59b).result.scopeMap){_59d.push(p);_59e.push("\""+p+"\"");}return "// xdomain rewrite of "+_59b.mid+"\n"+"define('"+id+"',{\n"+"\tnames:"+json.stringify(_59d)+",\n"+"\tdef:function("+_59d.join(",")+"){"+_59c[1]+"}"+"});\n\n"+"define("+json.stringify(_59d.concat(["dojo/loadInit!"+id]))+", function("+_59d.join(",")+"){\n"+_59c[0]+"});";},_59f=_55d.initSyncLoader(_565,_56b,_59a),sync=_59f.sync,_56e=_59f.requested,_5a0=_59f.arrived,_5a1=_59f.nonmodule,_5a2=_59f.executing,_5a3=_59f.executed,_5a4=_59f.syncExecStack,_56d=_59f.modules,_5a5=_59f.execQ,_569=_59f.getModule,_56a=_59f.injectModule,_5a6=_59f.setArrived,_586=_59f.signal,_5a7=_59f.finishExec,_5a8=_59f.execModule,_5a9=_59f.getLegacyMode,_56f=_59f.guardCheckComplete;_565=_59f.dojoRequirePlugin;dojo.provide=function(mid){var _5aa=_5a4[0],_5ab=lang.mixin(_569(_561(mid),_55d.module),{executed:_5a2,result:lang.getObject(mid,true)});_5a6(_5ab);if(_5aa){(_5aa.provides||(_5aa.provides=[])).push(function(){_5ab.result=lang.getObject(mid);delete _5ab.provides;_5ab.executed!==_5a3&&_5a7(_5ab);});}return _5ab.result;};has.add("config-publishRequireResult",1,0,0);dojo.require=function(_5ac,_5ad){function _5ae(mid,_5af){var _5b0=_569(_561(mid),_55d.module);if(_5a4.length&&_5a4[0].finish){_5a4[0].finish.push(mid);return undefined;}if(_5b0.executed){return _5b0.result;}_5af&&(_5b0.result=_5a1);var _5b1=_5a9();_56a(_5b0);_5b1=_5a9();if(_5b0.executed!==_5a3&&_5b0.injected===_5a0){_59f.guardCheckComplete(function(){_5a8(_5b0);});}if(_5b0.executed){return _5b0.result;}if(_5b1==sync){if(_5b0.cjs){_5a5.unshift(_5b0);}else{_5a4.length&&(_5a4[0].finish=[mid]);}}else{_5a5.push(_5b0);}return undefined;};var _5b2=_5ae(_5ac,_5ad);if(has("config-publishRequireResult")&&!lang.exists(_5ac)&&_5b2!==undefined){lang.setObject(_5ac,_5b2);}return _5b2;};dojo.loadInit=function(f){f();};dojo.registerModulePath=function(_5b3,_5b4){var _5b5={};_5b5[_5b3.replace(/\./g,"/")]=_5b4;_55d({paths:_5b5});};dojo.platformRequire=function(_5b6){var _5b7=(_5b6.common||[]).concat(_5b6[dojo._name]||_5b6["default"]||[]),temp;while(_5b7.length){if(lang.isArray(temp=_5b7.shift())){dojo.require.apply(dojo,temp);}else{dojo.require(temp);}}};dojo.requireIf=dojo.requireAfterIf=function(_5b8,_5b9,_5ba){if(_5b8){dojo.require(_5b9,_5ba);}};dojo.requireLocalization=function(_5bb,_5bc,_5bd){_55d(["../i18n"],function(i18n){i18n.getLocalization(_5bb,_5bc,_5bd);});};return {extractLegacyApiApplications:_590,require:_565,loadInit:_576};});}}});(function(){var _5be=this.require;_5be({cache:{}});!_5be.async&&_5be(["dojo"]);_5be.boot&&_5be.apply(null,_5be.boot);})();
}
/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
require({cache:{"mxui/initialize":function(){define(["dojo/sniff","dojo/aspect","dojo/_base/config","require","dojo/_base/loader"],function(_1,_2,_3,_4){_1.add("windowsphone",parseFloat(window.navigator.userAgent.split("Windows Phone ")[1])||undefined);_1.add("mobile",_1("ios")||_1("android")||_1("windowsphone")||undefined);_1.add("edge",parseFloat(window.navigator.userAgent.split("Edge/")[1])||undefined);if(_3.isDebug){_1.add("config-dojo-loader-catches",true,true,true);_4.on("error",function(ex){var _5;if(ex.message==="evalModuleThrew"){_5=ex.info.mid;}else{if(ex.message==="factoryThrew"){_5=ex.info[0].mid;}}console.error(_5?"Loading module "+_5+" failed! Check script file for syntax errors.":"Loading module failed! Check console log for more detailed debug information.");});}var _6=_4.initSyncLoader();_2.after(dojo,"provide",function(_7){if(!_6.syncExecStack[0]){var _8=_7.replace(/\./g,"/"),_9=_6.getModule(_8,_4.module);_6.finishExec(_9);}},true);});},"mendix/exposed":function(){define(["mendix/lang","mendix/ov","mendix/logger","mendix/lib/MxObject","mendix/lib/MxMetaObject","mendix/lib/MxContext","mendix/lib/ObjectValidation","webcore/datasource/_DataSource","webcore/datasource/_XPathSourceBase","webcore/datasource/XPathSource","webcore/datasource/EntityPathSource","webcore/datasource/MicroflowSource","webcore/datasource/ReferenceSetSource","webcore/objectsource/DirectObjectSource","webcore/objectsource/SchemaObjectSource","webcore/objectsource/MicroflowObjectSource","mendix/lib/Upload","mendix/lib/Error","mendix/lib/ServerError","mendix/lib/ConnectionError","mendix/lib/DescribedServerError","mendix/lib/NavigationError","mendix/lib/ValidationError","mendix/next/dataLayer"],function(_a,ov,_b,_c,_d,_e,_f,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_1a,_1b,_1c,_1d,_1e,_1f,_20){window.logger=_b;window.mendix={lang:_a,ov:ov,lib:{MxObject:_c,MxMetaObject:_d,MxContext:_e,ObjectValidation:_f,MxValidator:_f,Upload:_19,Error:_1a,ServerError:_1b,ConnectionError:_1c,DescribedServerError:_1d,NavigationError:_1e,ValidationError:_1f},next:{dataLayer:_20}};window.webcore={datasource:{_DataSource:_10,_XPathSourceBase:_11,XPathSource:_12,EntityPathSource:_13,MicroflowSource:_14,ReferenceSetSource:_15},objectsource:{DirectObjectSource:_16,SchemaObjectSource:_17,MicroflowObjectSource:_18}};});},"mendix/lang":function(){define(["mendix/lib/DescribedServerError","mendix/logger","dojo/_base/kernel","dojo/sniff","dojo/_base/json","dojo/_base/array","dojo/_base/lang","exports"],function(_21,_22,_23,_24,_25,_26,_27,_28){var _29=0;var _2a=function(_2b,_2c,_2d,_2e,_2f,_30,_31){var _32=_2e[_30],_33=_2c+"."+_2d+" is deprecated, use "+(_2f!=_2c?_2f+".":"")+_30+" instead",_34=function(){_23.deprecated(_33,"",_31);var _35=typeof _2e=="function"&&this instanceof _2e;return (_35?this:_2e)[_30].apply(this,arguments);};if(!_32){_2b.prototype[_2d]=_34;}else{if(typeof _32=="function"&&_32.prototype&&!_32.prototype.declaredClass){if(typeof _2b=="function"){_2b.prototype[_2d]=_34;}else{_2b[_2d]=_34;}}else{_2b[_2d]=_32;}}};_28.map=function(_36,_37,_38){var _39=[];_28.forEach(_36,function(){_39.push(_37.apply(this,arguments));},_38);return _39;};_28.forEach=function(_3a,_3b,_3c){if(_3a==null){return;}if(_3a.length===+_3a.length){for(var i=0;i<_3a.length;i++){_3b.call(_3c,_3a[i],i,_3a);}}else{for(var j in _3a){if(_3a.hasOwnProperty(j)){_3b.call(_3c,_3a[j],j,_3a);}}}};_28.nullExec=function(_3d){_3d&&_3d();};_28.sequence=function(_3e,_3f,_40){if(_3f&&typeof _3f=="object"){_40=_3f;_3f=null;}if(_3e instanceof Array){var _41=0,_42,_43,_44,_45=function(){_42=true;if(_43){_44();}};_44=function(){while(_41<_3e.length){_42=false;_43=false;var _46=_3e[_41++];if(typeof _46=="function"){_46.call(_40,_45);}else{if(_40&&typeof _40[_46]=="function"){_40[_46](_45);}else{throw new Error("mendix/lang.sequence: #"+_41+" is not a function");}}if(!_42){_43=true;return;}}if(_3f){_3f.call(_40);}};_44();}else{throw new Error("mendix/lang.sequence: sequence is not an array");}};_28.collect=function(_47,_48,_49){if(_48&&typeof _48=="object"){_49=_48;_48=null;}if(_47 instanceof Array){var _4a=0,_4b=_47.length+1,_4c=function(){if(--_4b==0&&_48){_48.call(_49);}};while(_4a<_47.length){var _4d=_47[_4a++];if(typeof _4d=="function"){_4d.call(_49,_4c);}else{if(_49&&typeof _49[_4d]=="function"){_49[_4d](_4c);}else{throw new Error("mendix/lang.collect: #"+_4a+" is not a function");}}}_4c();}else{throw new Error("mendix/lang.collect: collection is not an array");}};_28.find=function(_4e,_4f,_50){for(var i=0;i<_4e.length;i++){if(_4f.call(_50,_4e[i],i,_4e)){return _4e[i];}}return undefined;};_28.findLast=function(_51,_52,_53){for(var i=_51.length-1;i>=0;i--){if(_52.call(_53,_51[i],i,_51)){return _51[i];}}return undefined;};_28.findIndex=function(_54,_55){for(var i=0;i<_54.length;i++){if(_55(_54[i],i)){return i;}}return -1;};_28.flatten=function(arr){var _56=[];_26.forEach(arr,function(_57){_56.push.apply(_56,_57);});return _56;};if(_24("ie")==8){_28.toArray=function(_58){var _59=[];for(var i=0;i<_58.length;i++){_59.push(_58[i]);}return _59;};}else{_28.toArray=function(_5a){return [].slice.call(_5a);};}_28.objectToArray=function(obj){var arr=[];for(var i in obj){arr.push(i);}return (arr);};_28.thread=function(_5b,_5c){return setTimeout(_27.hitch(_5c,_5b),1);};_28.delay=function(_5d,_5e,_5f){return setTimeout(function(){(_5e())?_5d():setTimeout(arguments.callee,_5f);},(_5f||500));};_28.runOrDelay=function(_60,_61,_62){if(!_62){_62=500;}if(_61()){return _60();}else{return setTimeout(function(){if(_61()){_60();}else{setTimeout(arguments.callee,_62);}},_62);}};_28.waitUntilPredicateHolds=function(_63,_64,_65){if(_65.length===0||_63()){_64();return;}var _66=_65.shift();setTimeout(function(){_28.waitUntilPredicateHolds(_63,_64,_65);},_66);};_28.arraySubtract=function(_67,_68){for(var i=0;i<_68.length;i++){for(var j=_67.length-1;0<=j;j--){if(_67[j].toString()==_68[i].toString()){_67.splice(j,1);}}}return _67;};_28.objectIsEmpty=function(obj){for(var i in obj){return false;}return true;};_28.firstKey=function(obj){for(var key in obj){return key;}return null;};_28.itemCount=function(obj){var _69=0;for(var i in obj){_69++;}return _69;};_28.inArray=function(arr,_6a){for(var i=0;i<arr.length;i++){if(arr[i]==_6a){return true;}}return false;};_28.startsWith=function(str,_6b){return str.indexOf(_6b)===0;};_28.endsWith=function(str,_6c){return str.indexOf(_6c,str.length-_6c.length)!==-1;};_28.trim=function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");};_28.capitalize=function(str){return str.length>0?str[0].toUpperCase()+str.slice(1):"";};_28.getUniqueId=function(){return +new Date+"-"+_29++;};_28.getFileError=function(doc,_6d){var _6e=null,_6f,_70;_6f=doc.getElementsByTagName("textarea")[0];if(_6f){_70=_25.fromJson(_6f.value);if(_70.type&&_70.type==="exception"){_6e=new _21(_70.description);_22.error((_6d?(_6d+": "):"")+_6e.message);_6e._type="exception";}}return _6e;};_28.deprecate=function(){var _71=arguments,_72=_71[0],_73=_27.getObject(_72,true),_74=_71[_71.length-1];if(_71.length<4){if(typeof _71[1]=="object"){var _75=_71[1];for(var _76 in _75){_2a(_73,_72,_76,_73,_72,_75[_76],_74);}}else{var _77=_71[1],_78=_27.getObject(_77);for(var _76 in _78){_2a(_73,_72,_76,_78,_77,_76,_74);}}}else{var _79=_71[1],_77=_71[2],_78=_27.getObject(_77),_7a=_71[3];_2a(_73,_72,_79,_78,_77,_7a,_74);}};});},"mendix/lib/DescribedServerError":function(){define(["mendix/lib/ServerError","dojo/_base/declare"],function(_7b,_7c){return _7c(_7b,{});});},"mendix/lib/ServerError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_7d,_7e){return _7e(_7d,{});});},"mendix/lib/Error":function(){define(["dojo/_base/declare"],function(_7f){return _7f(window.Error,{constructor:function(_80,_81){this.message=_80;this.original=_81;}});});},"mendix/logger":function(){define(["dojo/_base/config"],function(_82){var ALL=0,_83=1,_84=2,_85=3,_86=4;var _87=_82.isDebug?_85:_86,_88=null;function _89(str,lvl){return lvl===_86||lvl>=_87&&(_88==null||str.match(_88)!=null);};function _8a(_8b){return function(_8c){Function.prototype.apply.call(console[_8b],console,_8c);};};return {ALL:ALL,DEBUG:_83,INFO:_84,WARN:_85,ERROR:_86,level:function(lvl){_87=lvl;},filter:function(_8d){if(typeof _8d=="object"){_8d=_8d.id||_8d.name;}_88=new RegExp(_8d);},error:function(str){if(_89(str,_86)){_8a("error")(arguments);}},debug:function(str){if(_89(str,_83)){_8a("debug")(arguments);}},info:function(str){if(_89(str,_84)){_8a("info")(arguments);}},warn:function(str){if(_89(str,_85)){_8a("warn")(arguments);}},exception:function(str){if(_89(str,_86)){_8a("error")(arguments);}},scream:function(str){_8a("error")(arguments);}};});},"mendix/ov":function(){define(["mendix/lib/ObjectValidation","mendix/logger","dojo/_base/array","dojo/_base/json","exports"],function(_8e,_8f,_90,_91,_92){var _93=function(_94){if(typeof _94.datavalidation=="string"){_8f.error("Server message error : validations included as type String instead of Array, compensating via eval");_94.datavalidation=_91.fromJson(_94.datavalidation);}return _94.datavalidation;};_92.getGuid=function(msg){return (msg instanceof _8e)?msg.getGuid():msg.guid;};_92.getValidationByGUID=function(_95,g){var raw=_93(_95)||_95;var _96=null;_90.forEach(raw,function(msg){var _97=_92.getGuid(msg);if(_97==g){if(_96){_96._addFields(msg);}else{_96=new _8e({msg:msg});}}});return _96;};_92.hasValidations=function(_98){return (_98.datavalidation!=null);};_92.getValidations=function(_99){var _9a=[];var map={};var raw=_93(_99)||_99;if(raw){_90.forEach(raw,function(msg){var _9b=_92.getGuid(msg);if(!map[_9b]){map[_9b]=new _8e({msg:msg});_9a.push(map[_9b]);}else{map[_9b]._addFields(msg);}});}map=null;return _9a;};_92.getValidation=function(msg){return new _8e(msg);};});},"mendix/lib/ObjectValidation":function(){define(["mendix/ov","dojo/_base/lang"],function(ov,_9c){function _9d(_9e){var _9f=_9e.msg,_a0={};this.getGuid=function(){return ov.getGuid(_9f);};this.getAttributes=function(){var _a1=[];for(var i in _a0){_a1.push({name:i,reason:_a0[i]});}return _a1;};this.getFields=this.getAttributes;this.addAttribute=function(_a2,_a3){if(_a0[_a2]!=undefined){return false;}else{_a0[_a2]=_a3;}};this.addField=this.addAttribute;this._addFields=function(msg){var _a4=msg.errorFields;if((this.getGuid()==this.constructor.getGuid(msg))&&_a4){for(var i=0;i<_a4.length;i++){_a0[_a4[i].name]=_a4[i].message;}}};this.removeAttribute=function(_a5){if(_a0[_a5]!=undefined){delete _a0[_a5];return true;}else{return false;}};this.removeField=this.removeAttribute;this.getErrorReason=function(_a6){return _a0[_a6];};this.getReasonByAttribute=this.getErrorReason;this.clone=function(){var s=new _9d({msg:_9c.clone(_9f)});for(var i in _a0){s.addField(i,_a0[i]);}return s;};this.toString=function(){var _a7="";var _a8="";for(var i in _a0){_a7=_a7+""+i+" "+_a0[i]+_a8;_a8="; ";}return _a7;};this._addFields(_9f);};_9d.getGuid=function(msg){return ov.getGuid(msg);};return _9d;});},"mendix/lib/MxObject":function(){define(["mendix/lang","mendix/validator","mendix/logger","dojo/_base/json","dojo/_base/array","dojo/_base/lang","big/big","dojo/_base/declare"],function(_a9,_aa,_ab,_ac,_ad,_ae,Big,_af){var _b0=_af(null,{constructor:function(_b1){this.id="mendix.lib.MxObject";this._references=null;this._changeData=null;this.metaData=_b1?_b1.meta:false;this.resetFromJSON(_b1?_b1.json:false);if(this.jsonData&&this.metaData){this._guid=this.jsonData.guid;this.id+="("+this.jsonData.objectType+":"+this._guid+")";}if(!this.jsonData||!this.jsonData.objectType){var _b2=this.metaData&&this.metaData.getEntity();_ab.error(this.id+".create: Invalid Mendix object. Check entity access"+(_b2?" for entity "+_b2:"")+".");this._guid=0;this.jsonData=null;}if(!this._guid){this._guid="0";this.save=this.commit=this.rollback=function(){};}},attachReferences:function(_b3){if(_b3&&_b3.length>0){this._references={};_ad.forEach(_b3,function(_b4){this._references[_b4.getGuid()]=_b4;},this);}},resetFromJSON:function(_b5){this.jsonData=_b5;this._changeData={};this._guid=this.jsonData?this.jsonData.guid:0;if(this.jsonData&&this.metaData){for(var _b6 in this.jsonData.attributes){this._setAttributeValue(_b6,this._convertValue(_b6,this._getAttributeValue(_b6)));}}},getGuid:function(){return this._guid;},hasChanges:function(){return !_a9.objectIsEmpty(this._changeData);},_collectChanges:function(){return _ae.mixin({},this._changeData);},set:function(_b7,_b8){try{return this._setContent(_b7,_b8);}catch(e){throw new Error("Validate values using validator#validate(value, attr) before calling MxObject#set.");}},isReadonlyAttr:function(_b9){if(this.has(_b9)){return !!this.jsonData.attributes[_b9].readonly;}else{if(this.metaData.has(_b9)){return false;}else{return true;}}},fetch:function(_ba,_bb){var _bc=this,obj=this,_bd=null,_be;if(!_ba){_be=[];}else{if(_ba instanceof Array){_be=_ba.slice();}else{_be=_ba.split("/");}}if(this.isA(_be[0])){_be.shift();}if(typeof _bb!="function"){throw new Error(_bc.id+".fetch : callback is not a function");}var _bf=function(){if(_be.length===0){_bb(obj);}else{if(_be.length==1){if(_bd){window.mx.data.release(_bd);}_bb(obj.get2(_be[0]));}else{if(_bd){window.mx.data.release(_bd);}var ref=_be.shift(),_c0=false,_c1,_c2;if(obj.isObjectReference(ref)){var _c3=obj.get2(ref);if(_c3===""){_bb(null);return;}if(typeof _c3=="object"){_c1=[_c3.guid];}else{_c1=[_c3];}}else{if(obj.isObjectReferenceSet(ref)){if(_be.length==1){_c0=true;var _c4=obj.get2(ref);if(_c4.length===0){_bb(null);return;}if(typeof _c4[0]=="object"){_c1=[];while(_c4.length>0){_c1.push(_c4.shift().guid);}}else{_c1=_c4;}}else{throw new Error(_bc.id+".fetch : "+obj+" reference set should be last reference in path");}}else{return _bb(null);}}_c2=_be.shift();if(!_c2){throw new Error(_bc.id+".fetch : no type specified");}if(_c1){window.mx.data.get({guids:_c1,callback:function(_c5){if(_c0){if(_c5.length===0||_c5[0].isA(_c2)){_bb(_c5);}else{_bb(null);}}else{_bd=obj=_c5[0];if(_c5.length>1){window.mx.data.release(_c5.slice(1));}if(obj){if(obj.isA(_c2)){_bf();}else{_bb(null);}}else{_bb(null);}}},error:function(e){throw new Error(_bc.id+".fetch : could not get objects with GUIDs "+_c1);}});}else{throw new Error(_bc.id+".fetch : "+obj+"'s '"+ref+"' attribute is empty");}}}};_bf();},get2:function(_c6){if(typeof _c6!=="string"){throw new Error(this.id+".get : parameter attr "+_c6+" is not of type String");}if(!this.metaData.has(_c6)){return null;}var _c7=(this._changeData[_c6]!=null)?this._changeData[_c6]:this._getAttributeValue(_c6);if(this.isDate(_c6)){var _c8=this.isLocalizedDate(_c6);if(_c7===""||_c7==null){_c7="";}else{_c7=_c8?Number(_c7):window.mx.parser.localizeEpoch(_c7);}}else{if(this.isBoolean(_c6)){if(typeof _c7=="string"&&_c7!==""){_c7=/^true$/.test(_c7);}}}if(_c7 instanceof Big){return new Big(_c7);}if(typeof _c7=="object"){return _ae.clone(_c7);}return _c7;},has:function(_c9){if(typeof _c9!=="string"){throw new Error(this.id+".has: attribute parameter is not a string");}return _c9 in this.jsonData.attributes;},getReferences:function(_ca){var e;if(typeof _ca!=="string"){throw new Error(this.id+".getReferences : parameter attr "+_ca+" is not of type String.");}var _cb=[];if(this.has(_ca)){if(this.isReference(_ca)){if(this._hasChildren(_ca)&&this._changeData[_ca]==null){var _cc=this.getChildren(_ca);var _cd=[];for(var i=0;i<_cc.length;i++){_cd.push(_cc[i].getGuid());}_cb=_cd;}else{_cb=this.get2(_ca);}if(_cb===""){_cb=[];}else{if(typeof (_cb)=="string"||typeof (_cb)=="number"){_cb=[_cb];}else{if((typeof (_cb)=="object")&&(_cb.length==null)){_cb=_a9.objectToArray(_cb);}}}}else{throw new Error(this.id+".getReferences: attribute "+_ca+" is not an ObjectReference(Set).");}}else{}return _cb;},getReference:function(_ce){var e;if(typeof _ce!=="string"){throw new Error(this.id+".getReference : parameter attr is not of type String.");}if(this.has(_ce)){if(!this.metaData.isObjectReference(_ce)){throw new Error(this.id+".getReference: attribute "+_ce+" is not an ObjectReference.");}}else{return null;}if(this._hasChildren(_ce)){return this.getChild(_ce).getGuid();}else{return this.get2(_ce);}},isEnum:function(_cf){return this.metaData.isEnum(_cf);},isNumeric:function(_d0){return this.metaData.isNumeric(_d0);},isCurrency:function(_d1){return this.metaData.isCurrency(_d1);},isPassword:function(_d2){return this.metaData.isPassword(_d2);},isDate:function(_d3){return this.metaData.isDate(_d3);},isLocalizedDate:function(_d4){return this.metaData.isLocalizedDate(_d4);},isBoolean:function(_d5){return this.metaData.isBoolean(_d5);},isReference:function(_d6){return this.metaData.isReference(_d6);},isObjectReference:function(_d7){return this.metaData.isObjectReference(_d7);},isObjectReferenceSet:function(_d8){return this.metaData.isObjectReferenceSet(_d8);},getOptions:function(_d9){return this.metaData.getOptions(_d9);},getEnumMap:function(_da){return this.metaData.getEnumMap(_da);},getEnumKVPairs:function(_db){return this.metaData.getEnumKVPairs(_db);},getEnumCaption:function(_dc){return this.metaData.getEnumCaption(_dc,this.get2(_dc));},hasChildren:function(_dd){if(typeof _dd!=="string"){throw new Error(this.id+".hasChildren : parameter attr ("+_dd+") is not of type String.");}return (this.isReference(_dd)&&this._hasChildren(_dd));},getChildren:function(_de){if(typeof _de!=="string"){throw new Error(this.id+".getChildren : parameter attr ("+_de+") is not of type String.");}var _df=[],_e0=null,_e1;if(this.has(_de)){if(this.isReference(_de)){if(this._hasChildren(_de)){_e0=this.get2(_de);if(this.isObjectReference(_de)){if(this._references&&this._references[_e0]){_e1=this._references[_e0];_e1._references=this._references;_df.push(_e1);}else{_df.push(new _b0({meta:window.mx.meta.getEntity(_e0.objectType),json:_e0}));}}else{for(var i in _e0){if(this._references&&this._references[_e0]){_e1=this._references[i];_e1._references=this._references;_df.push(_e1);}else{_df.push(new _b0({meta:window.mx.meta.getEntity(_e0[i].objectType),json:_e0[i]}));}}}}}else{var e=this.id+".getChildren: attribute "+_de+" is not an ObjectReference(Set).";_ab.exception(e);throw new Error(e);}}else{}return _df;},getChild:function(_e2){if(typeof _e2!=="string"){throw new Error(this.id+".getChild : parameter attr("+_e2+") is not of type String.");}if(this.has(_e2)&&this.isObjectReference(_e2)){var _e3=this.get2(_e2);if(this._references&&this._references[_e3]){var _e4=this._references[_e3];_e4._references=this._references;return _e4;}else{if(typeof _e3=="object"){return new _b0({json:_e3,meta:window.mx.meta.getEntity(_e3.objectType)});}else{return null;}}}},removeReferences:function(_e5,_e6){var e;if(typeof _e5!=="string"){throw new Error(this.id+".removeReference : parameter attr is not of type String.");}else{if(this.has(_e5)){if(!this.isReference(_e5)){throw new Error(this.id+".removeReference : attempt to remove Reference from non-Reference attribute : "+_e5);}}else{return false;}}if(!(_ae.isArray(_e6))){_e6=[_e6];}if(!this._hasChildren(_e5)){if(this.isObjectReference(_e5)){this._setContent(_e5,"");}else{this._setContent(_e5,_a9.arraySubtract(this.getReferences(_e5),_e6));}}else{if(this.isObjectReference(_e5)){this._setContent(_e5,"");}else{for(var i=0;i<_e6.length;i++){delete this.jsonData.attributes[_e5].value[_e6[i]];}var val=_a9.arraySubtract(this.getReferences(_e5),_e6);return this._makeChange(_e5,val);}}},addReference:function(_e7,_e8){var e;if(typeof _e7!=="string"){throw new Error(this.id+".addReference : parameter attr is not of type String.");}else{if(!_e8){throw new Error(this.id+".addReference : parameter guid is not set.");}else{if(this.has(_e7)){if(!this.isReference(_e7)){throw new Error(this.id+".addReference : attempt to add Reference to non-Reference attribute : "+_e7);}}else{return false;}}}if(this.isObjectReference(_e7)){this._setContent(_e7,_e8);}else{var _e9=this.getReferences(_e7);var _ea=_e9.join(";");if(!(_ea.match(_e8))){_e9.push(_e8);this._setContent(_e7,_e9);}}},addReferences:function(_eb,_ec){for(var i=0;i<_ec.length;i++){var _ed=_ec[i];if(_ed!==0&&!isNaN(_ed)){this.addReference(_eb,_ed);}}},getReferenceAttributes:function(){return this.metaData.getReferenceAttributes();},getAttributes:function(){return this.metaData.getAttributes();},getPrimitives:function(){return this.metaData.getAttributesWithoutReferences();},getAttributeType:function(_ee){return this.metaData.getAttributeType(_ee);},getSelectorEntity:function(_ef){return this.metaData.getSelectorEntity(_ef);},getEntity:function(){return (this.jsonData&&this.jsonData.objectType);},isA:function(_f0){return this.metaData.isA(_f0);},hasSuperEntities:function(){return this.metaData.hasSuperEntities();},getSuperEntities:function(){return this.metaData.getSuperEntities();},hasSubEntities:function(){return this.metaData.hasSubEntities();},getSubEntities:function(){return this.metaData.getSubEntities();},reset:function(){this._changeData={};},inheritsFrom:function(_f1){return this.metaData.inheritsFrom(_f1);},compare:function(_f2){if(_f2.getEntity()!=this.getEntity()){return false;}var _f3=this.metaData.getAttributesWithoutReferences();for(var i=0,_f4;_f4=_f3[i];i++){var _f5=this.get2(_f4);var _f6=_f2.get2(_f4);if(_f5!==_f6){if(typeof _f5=="object"){if(typeof _f6!="object"){throw new Error("non matching value types for attribute "+_f4);}if(_f5.valueOf&&_f6.valueOf&&_f5.valueOf()!==_f6.valueOf()){return false;}}else{return false;}}}var _f7=this.getReferenceAttributes(),ref;for(i=0,ref;ref=_f7[i];i++){if((ref=="System.changedBy")||(ref=="System.owner")){continue;}var _f8=_f2.getReferences(ref);var _f9=this.getReferences(ref);var _fa=_f9.join(",");for(var j=0,id;id=_f8[j];j++){if(!_fa.match(id)){return false;}}}return true;},toString:function(){return this.getGuid();},_validateNumber:function(_fb,_fc){var _fd=_aa.validate(_fc,this.metaData.getAttributeType(_fb));if(_fd!==_aa.validation.OK){throw new Error("Cannot set invalid value to MxObject attribute "+_fb);}},_convertValue:function(_fe,_ff){if(_ff){if(this.isNumeric(_fe)){if(!(_ff instanceof Big)){_ff=new Big(_ff);}this._validateNumber(_fe,_ff);}}return _ff;},_setContent:function(attr,_100){if(typeof attr!=="string"){throw new Error(this.id+"._setContent : parameter attr ("+attr+") is not of type String.");}if(!this.metaData.has(attr)){return false;}var _101=this.get2(attr);if(_101==null&&_100===""){return false;}if(this.isDate(attr)){var _102=this.isLocalizedDate(attr);if(_100!==""){if(_102){_100=Number(_100);}else{_100=window.mx.parser.delocalizeEpoch(_100);}}}else{if(this.isPassword(attr)){_100=_100.replace(/[\s\t]+$/,"").replace(/^[\s\t]+/,"");}else{if(this.isBoolean(attr)){_100=!!_100;}else{if(this.isObjectReference(attr)&&_ae.isArray(_100)){throw new Error("mendix/lib/MxObject._setContent : trying to set single object reference to multiple values");}else{if(this.isObjectReferenceSet(attr)&&!_ae.isArray(_100)){throw new Error("mendix/lib/MxObject._setContent : trying to set object reference set to single value");}}}}}if(_100!==_101){return this._makeChange(attr,_100);}},_hasChildren:function(attr){if(this._changeData[attr]){return false;}var _103=this._getAttributeValue(attr);if(this._references&&this._references[_103]){return true;}return (_103&&(typeof _103=="object")&&(_103.length==null));},_getAttributeValue:function(attr){var val=this.jsonData.attributes[attr];if(val===undefined){val=null;}return (val&&(typeof val=="object")&&("value" in val))?val.value:val;},_setAttributeValue:function(attr,_104){var val=this.jsonData.attributes[attr];if(_104===undefined){_104=null;}if(val&&(typeof (val)=="object")&&"value" in val){val.value=_104;}else{this.jsonData.attributes[attr]=_104;}},_makeChange:function(attr,_105){this._changeData[attr]=this._convertValue(attr,_105);window.mx.data.makeChange(this,attr,this.get(attr));return true;},_applyChangeSet:function(){for(var attr in this._changeData){this._setAttributeValue(attr,this._changeData[attr]);}this._changeData={};}});return _b0;});},"mendix/validator":function(){define(["big/big"],function(Big){var _106=new Big("1e20");var _107=(new Big(2)).pow(31).times(-1),_108=(new Big(2)).pow(31).minus(1);var _109=(new Big(2)).pow(63).times(-1),_10a=(new Big(2)).pow(63).minus(1);var _10b=(new Big(2)).pow(53);function _10c(_10d,min,max){return _10d.gte(min)&&_10d.lte(max);};function _10e(_10f){return !_10f.mod(1).eq(0);};var _110={validation:{OK:0,NOT_INTEGER:1,RANGE_INTEGER:2,RANGE_LONG:3,RANGE_DECIMAL:4,RANGE_NUMBER:5},validate:function(_111,type){if(/^(Integer|Long|Decimal|Float|Currency)$/.test(type)){if(_111===""){return _110.validation.OK;}if(!(_111 instanceof Big)){_111=new Big(_111);}if((type=="Integer"||type=="Long")&&_10e(_111)){return _110.validation.NOT_INTEGER;}if(type==="Integer"&&!_10c(_111,_107,_108)){return _110.validation.RANGE_INTEGER;}if(type==="Long"&&!_10c(_111,_109,_10a)){return _110.validation.RANGE_LONG;}if(type==="Decimal"&&_111.abs().gte(_106)){return _110.validation.RANGE_DECIMAL;}if(type==="Decimal"&&!_111.mod(1e-8).eq(0)){return _110.validation.RANGE_DECIMAL;}if(/^(Float|Currency)$/.test(type)&&_111.abs().gt(_10b)){return _110.validation.RANGE_NUMBER;}}return _110.validation.OK;}};return _110;});},"big/big":function(){(function(_112){"use strict";var DP=20,RM=1,_113=1000000,_114=1000000,_115=-7,_116=21,P={},_117=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Big;function _118(){function Big(n){var x=this;if(!(x instanceof Big)){return n===void 0?_118():new Big(n);}if(n instanceof Big){x["s"]=n["s"];x["e"]=n["e"];x["c"]=n["c"].slice();}else{_119(x,n);}x["constructor"]=Big;};Big.prototype=P;Big["DP"]=DP;Big["RM"]=RM;return Big;};function _11a(x,dp,toE){var Big=x["constructor"],i=dp-(x=new Big(x))["e"],c=x["c"];if(c.length>++dp){rnd(x,i,Big["RM"]);}if(!c[0]){++i;}else{if(toE){i=dp;}else{c=x["c"];i=x["e"]+i+1;}}for(;c.length<i;c.push(0)){}i=x["e"];return toE===1||toE&&(dp<=i||i<=_115)?(x["s"]<0&&c[0]?"-":"")+(c.length>1?c[0]+"."+c.join("").slice(1):c[0])+(i<0?"e":"e+")+i:x.toString();};function _119(x,n){var e,i,nL;if(n===0&&1/n<0){n="-0";}else{if(!_117.test(n+="")){_11b(NaN);}}x["s"]=n.charAt(0)=="-"?(n=n.slice(1),-1):1;if((e=n.indexOf("."))>-1){n=n.replace(".","");}if((i=n.search(/e/i))>0){if(e<0){e=i;}e+=+n.slice(i+1);n=n.substring(0,i);}else{if(e<0){e=n.length;}}for(i=0;n.charAt(i)=="0";i++){}if(i==(nL=n.length)){x["c"]=[x["e"]=0];}else{for(;n.charAt(--nL)=="0";){}x["e"]=e-i-1;x["c"]=[];for(e=0;i<=nL;x["c"][e++]=+n.charAt(i++)){}}return x;};function rnd(x,dp,rm,more){var u,xc=x["c"],i=x["e"]+dp+1;if(rm===1){more=xc[i]>=5;}else{if(rm===2){more=xc[i]>5||xc[i]==5&&(more||i<0||xc[i+1]!==u||xc[i-1]&1);}else{if(rm===3){more=more||xc[i]!==u||i<0;}else{more=false;if(rm!==0){_11b("!Big.RM!");}}}}if(i<1||!xc[0]){if(more){x["e"]=-dp;x["c"]=[1];}else{x["c"]=[x["e"]=0];}}else{xc.length=i--;if(more){for(;++xc[i]>9;){xc[i]=0;if(!i--){++x["e"];xc.unshift(1);}}}for(i=xc.length;!xc[--i];xc.pop()){}}return x;};function _11b(_11c){var err=new Error(_11c);err["name"]="BigError";throw err;};P["abs"]=function(){var x=new this["constructor"](this);x["s"]=1;return x;};P["cmp"]=function(y){var xNeg,x=this,xc=x["c"],yc=(y=new x["constructor"](y))["c"],i=x["s"],j=y["s"],k=x["e"],l=y["e"];if(!xc[0]||!yc[0]){return !xc[0]?!yc[0]?0:-j:i;}if(i!=j){return i;}xNeg=i<0;if(k!=l){return k>l^xNeg?1:-1;}i=-1;j=(k=xc.length)<(l=yc.length)?k:l;for(;++i<j;){if(xc[i]!=yc[i]){return xc[i]>yc[i]^xNeg?1:-1;}}return k==l?0:k>l^xNeg?1:-1;};P["div"]=function(y){var x=this,Big=x["constructor"],dvd=x["c"],dvs=(y=new Big(y))["c"],s=x["s"]==y["s"]?1:-1,dp=Big["DP"];if(dp!==~~dp||dp<0||dp>_113){_11b("!Big.DP!");}if(!dvd[0]||!dvs[0]){if(dvd[0]==dvs[0]){_11b(NaN);}if(!dvs[0]){_11b(s/0);}return new Big(s*0);}var dvsL,dvsT,next,cmp,remI,u,dvsZ=dvs.slice(),dvdI=dvsL=dvs.length,dvdL=dvd.length,rem=dvd.slice(0,dvsL),remL=rem.length,q=y,qc=q["c"]=[],qi=0,_11d=dp+(q["e"]=x["e"]-y["e"])+1;q["s"]=s;s=_11d<0?0:_11d;dvsZ.unshift(0);for(;remL++<dvsL;rem.push(0)){}do{for(next=0;next<10;next++){if(dvsL!=(remL=rem.length)){cmp=dvsL>remL?1:-1;}else{for(remI=-1,cmp=0;++remI<dvsL;){if(dvs[remI]!=rem[remI]){cmp=dvs[remI]>rem[remI]?1:-1;break;}}}if(cmp<0){for(dvsT=remL==dvsL?dvs:dvsZ;remL;){if(rem[--remL]<dvsT[remL]){remI=remL;for(;remI&&!rem[--remI];rem[remI]=9){}--rem[remI];rem[remL]+=10;}rem[remL]-=dvsT[remL];}for(;!rem[0];rem.shift()){}}else{break;}}qc[qi++]=cmp?next:++next;if(rem[0]&&cmp){rem[remL]=dvd[dvdI]||0;}else{rem=[dvd[dvdI]];}}while((dvdI++<dvdL||rem[0]!==u)&&s--);if(!qc[0]&&qi!=1){qc.shift();q["e"]--;}if(qi>_11d){rnd(q,dp,Big["RM"],rem[0]!==u);}return q;};P["eq"]=function(y){return !this.cmp(y);};P["gt"]=function(y){return this.cmp(y)>0;};P["gte"]=function(y){return this.cmp(y)>-1;};P["lt"]=function(y){return this.cmp(y)<0;};P["lte"]=function(y){return this.cmp(y)<1;};P["minus"]=function(y){var i,j,t,xLTy,x=this,Big=x["constructor"],a=x["s"],b=(y=new Big(y))["s"];if(a!=b){y["s"]=-b;return x["plus"](y);}var xc=x["c"].slice(),xe=x["e"],yc=y["c"],ye=y["e"];if(!xc[0]||!yc[0]){return yc[0]?(y["s"]=-b,y):new Big(xc[0]?x:0);}if(a=xe-ye){if(xLTy=a<0){a=-a;t=xc;}else{ye=xe;t=yc;}t.reverse();for(b=a;b--;t.push(0)){}t.reverse();}else{j=((xLTy=xc.length<yc.length)?xc:yc).length;for(a=b=0;b<j;b++){if(xc[b]!=yc[b]){xLTy=xc[b]<yc[b];break;}}}if(xLTy){t=xc;xc=yc;yc=t;y["s"]=-y["s"];}if((b=(j=yc.length)-(i=xc.length))>0){for(;b--;xc[i++]=0){}}for(b=i;j>a;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];xc[i]=9){}--xc[i];xc[j]+=10;}xc[j]-=yc[j];}for(;xc[--b]==0;xc.pop()){}for(;xc[0]==0;){xc.shift();--ye;}if(!xc[0]){y["s"]=1;xc=[ye=0];}y["c"]=xc;y["e"]=ye;return y;};P["mod"]=function(y){var yGTx,x=this,Big=x["constructor"],a=x["s"],b=(y=new Big(y))["s"];if(!y["c"][0]){_11b(NaN);}x["s"]=y["s"]=1;yGTx=y.cmp(x)==1;x["s"]=a;y["s"]=b;if(yGTx){return new Big(x);}a=Big["DP"];b=Big["RM"];Big["DP"]=Big["RM"]=0;x=x["div"](y);Big["DP"]=a;Big["RM"]=b;return this["minus"](x["times"](y));};P["plus"]=function(y){var t,x=this,Big=x["constructor"],a=x["s"],b=(y=new Big(y))["s"];if(a!=b){y["s"]=-b;return x["minus"](y);}var xe=x["e"],xc=x["c"],ye=y["e"],yc=y["c"];if(!xc[0]||!yc[0]){return yc[0]?y:new Big(xc[0]?x:a*0);}xc=xc.slice();if(a=xe-ye){if(a>0){ye=xe;t=yc;}else{a=-a;t=xc;}t.reverse();for(;a--;t.push(0)){}t.reverse();}if(xc.length-yc.length<0){t=yc;yc=xc;xc=t;}a=yc.length;for(b=0;a;){b=(xc[--a]=xc[a]+yc[a]+b)/10|0;xc[a]%=10;}if(b){xc.unshift(b);++ye;}for(a=xc.length;xc[--a]==0;xc.pop()){}y["c"]=xc;y["e"]=ye;return y;};P["pow"]=function(n){var x=this,one=new x["constructor"](1),y=one,_11e=n<0;if(n!==~~n||n<-_114||n>_114){_11b("!pow!");}n=_11e?-n:n;for(;;){if(n&1){y=y["times"](x);}n>>=1;if(!n){break;}x=x["times"](x);}return _11e?one["div"](y):y;};P["round"]=function(dp,rm){var x=this,Big=x["constructor"];if(dp==null){dp=0;}else{if(dp!==~~dp||dp<0||dp>_113){_11b("!round!");}}rnd(x=new Big(x),dp,rm==null?Big["RM"]:rm);return x;};P["sqrt"]=function(){var _11f,r,_120,x=this,Big=x["constructor"],xc=x["c"],i=x["s"],e=x["e"],half=new Big("0.5");if(!xc[0]){return new Big(x);}if(i<0){_11b(NaN);}i=Math.sqrt(x.toString());if(i==0||i==1/0){_11f=xc.join("");if(!(_11f.length+e&1)){_11f+="0";}r=new Big(Math.sqrt(_11f).toString());r["e"]=((e+1)/2|0)-(e<0||e&1);}else{r=new Big(i.toString());}i=r["e"]+(Big["DP"]+=4);do{_120=r;r=half["times"](_120["plus"](x["div"](_120)));}while(_120["c"].slice(0,i).join("")!==r["c"].slice(0,i).join(""));rnd(r,Big["DP"]-=4,Big["RM"]);return r;};P["times"]=function(y){var c,x=this,Big=x["constructor"],xc=x["c"],yc=(y=new Big(y))["c"],a=xc.length,b=yc.length,i=x["e"],j=y["e"];y["s"]=x["s"]==y["s"]?1:-1;if(!xc[0]||!yc[0]){return new Big(y["s"]*0);}y["e"]=i+j;if(a<b){c=xc;xc=yc;yc=c;j=a;a=b;b=j;}for(c=new Array(j=a+b);j--;c[j]=0){}for(i=b;i--;){b=0;for(j=a+i;j>i;){b=c[j]+yc[i]*xc[j-i-1]+b;c[j--]=b%10;b=b/10|0;}c[j]=(c[j]+b)%10;}if(b){++y["e"];}if(!c[0]){c.shift();}for(i=c.length;!c[--i];c.pop()){}y["c"]=c;return y;};P["toString"]=P["valueOf"]=P["toJSON"]=function(){var x=this,e=x["e"],str=x["c"].join(""),strL=str.length;if(e<=_115||e>=_116){str=str.charAt(0)+(strL>1?"."+str.slice(1):"")+(e<0?"e":"e+")+e;}else{if(e<0){for(;++e;str="0"+str){}str="0."+str;}else{if(e>0){if(++e>strL){for(e-=strL;e--;str+="0"){}}else{if(e<strL){str=str.slice(0,e)+"."+str.slice(e);}}}else{if(strL>1){str=str.charAt(0)+"."+str.slice(1);}}}}return x["s"]<0&&x["c"][0]?"-"+str:str;};P["toExponential"]=function(dp){if(dp==null){dp=this["c"].length-1;}else{if(dp!==~~dp||dp<0||dp>_113){_11b("!toExp!");}}return _11a(this,dp,1);};P["toFixed"]=function(dp){var str,x=this,neg=_115,pos=_116;_115=-(_116=1/0);if(dp==null){str=x.toString();}else{if(dp===~~dp&&dp>=0&&dp<=_113){str=_11a(x,x["e"]+dp);if(x["s"]<0&&x["c"][0]&&str.indexOf("-")<0){str="-"+str;}}}_115=neg;_116=pos;if(!str){_11b("!toFix!");}return str;};P["toPrecision"]=function(sd){if(sd==null){return this.toString();}else{if(sd!==~~sd||sd<1||sd>_113){_11b("!toPre!");}}return _11a(this,sd-1,2);};Big=_118();if(typeof define==="function"&&define.amd){define(function(){return Big;});}else{if(typeof module!=="undefined"&&module.exports){module.exports=Big;}else{_112["Big"]=Big;}}})(this);},"mendix/lib/MxMetaObject":function(){define(["dojo/_base/json"],function(_121){function _122(_123){var _124=_123.json;if(!(_124&&_124.attributes&&_124.objectType&&_124.properties)){throw new Error("MxMetaObject: invalid initialization");}this.has=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.has: parameter attr is not of type String.");}return _124.attributes[attr]!=null;};this.isEnum=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isEnum : parameter attr is not of type String.");}return (/^(Enum|EnumSet)$/).test(this.getAttributeType(attr));};this.isNumeric=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isNumeric : parameter attr is not of type String.");}return (/^(Integer|Long|Decimal|Float|Currency)$/).test(this.getAttributeType(attr));};this.isPassword=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isDate : parameter attr is not of type String.");}return this.getAttributeType(attr)=="HashString";};this.isCurrency=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isCurrency : parameter attr is not of type String.");}return this.getAttributeType(attr)=="Currency";};this.isDate=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isDate : parameter attr is not of type String.");}return (/^(Date|DateTime)$/).test(this.getAttributeType(attr));};this.isLocalizedDate=function(attr){if(this.isDate(attr)){return (/true/).test(_124.attributes[attr].localize);}else{return null;}};this.isBoolean=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isBoolean : parameter attr is not of type String.");}return this.getAttributeType(attr)=="Boolean";};this.isReference=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isReference : parameter attr is not of type String.");}return (/^(ObjectReference|ObjectReferenceSet)$/).test(this.getAttributeType(attr));};this.isObjectReference=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isObjectReference : parameter attr is not of type String.");}return this.getAttributeType(attr)=="ObjectReference";};this.isObjectReferenceSet=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isObjectReferenceSet : parameter attr is not of type String.");}return this.getAttributeType(attr)=="ObjectReferenceSet";};this.getOptions=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.getOptions : parameter attr is not of type String.");}else{if(!this.isEnum(attr)){throw new Error("mendix/lib/MxMetaObject.getOptions : attribute '"+attr+"' is not an Enumeration.");}}try{var opts=false;if(_124.attributes[attr]){var arr=_124.attributes[attr].options;if(arr&&arr.length){opts=[];for(var i=0;i<arr.length;i++){for(var j in arr[i]){opts.push(arr[i][j]);}}}return opts;}}catch(e){return false;}};this.getEnumMap=function(attr){if(!this.isEnum(attr)){return null;}var map=[];var arr=_124.attributes[attr].options;for(var i=0;i<arr.length;i++){for(var j in arr[i]){map.push({key:j,caption:arr[i][j]});break;}}return map;};this.getEnumKVPairs=function(attr){if(!this.isEnum(attr)){return null;}var map={};var arr=_124.attributes[attr].options;for(var i=0;i<arr.length;i++){for(var j in arr[i]){map[j]=arr[i][j];}}return map;};this.getEnumCaption=function(attr,_125){if(!this.isEnum(attr)){return null;}var arr=_124.attributes[attr].options;for(var i=0;i<arr.length;i++){var item=arr[i];for(var key in item){if(key==_125){return item[key];}}}return _125;};this.getReferenceAttributes=function(){var refs=[];for(var i in _124.attributes){if(this.isReference(i)){refs.push(i);}}return refs;};this.getAttributes=function(){var _126=[];for(var i in _124.attributes){_126.push(i);}return _126;};this.getAttributesWithoutReferences=function(){var _127=[];for(var i in _124.attributes){if(!this.isReference(i)){_127.push(i);}}return _127;};this.getAttributeType=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.getAttributeType : parameter attr is not of type String.");}if(this.has(attr)){return _124.attributes[attr].type;}else{return false;}};this.getSelectorEntity=function(attr){if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.getSelectorEntity : parameter attr is not of type String.");}if(this.has(attr)){return _124.attributes[attr].klass;}else{return false;}};this.getEntity=function(){return _124.objectType;};this.isA=function(_128){if(this.getEntity()==_128){return true;}else{return this.inheritsFrom(_128);}};this.hasSuperEntities=function(){return _124.properties["superclasses"].length!==0;};this.getSuperEntities=function(){var _129=_124.properties["superclasses"];if(typeof _129=="string"){return [_129];}else{return _129;}};this.hasSubEntities=function(){return _124.properties["subclasses"].length!==0;};this.getSubEntities=function(){var subs=_124.properties["subclasses"];return (typeof subs=="string")?[subs]:subs;};this.inheritsFrom=function(_12a){var _12b=this.getSuperEntities()||[];for(var i=0,_12c;_12c=_12b[i];i++){if(_12a==_12c){return true;}var _12d=window.mx.meta.getEntity("System.User");if(_12d.inheritsFrom(_12a)){return true;}}return false;};};return _122;});},"mendix/lib/MxContext":function(){define(["mendix/lib/MxObject","mendix/logger","dojo/_base/array","dojo/_base/json","dojo/_base/declare"],function(_12e,_12f,_130,_131,_132){var _133=0;var _134=_132(null,{constructor:function(_135){this.id=this.ident=++_133;this._app_flow_id="";this.trackId="";this.trackClass="";this.trackObject=null;this.localParams={};this.constraintby=[];this._contextStore={};this.saveStore={localParams:{},contexts:{}};if(_135){if(_135.mxcontext){this.dupFrom(_135.mxcontext);}if(_135.classname&&_135.mendixguid){this.setContext(_135.classname,_135.mendixguid);}else{if(_135.entity&&_135.guid){this.setContext(_135.entity,_135.guid);}}}},hasTrackEntity:function(){return this.trackClass!=="";},hasTrackId:function(){return !!this.trackId;},hasTrackObject:function(){return !!this.trackObject;},getTrackEntity:function(){return this.trackClass;},getTrackId:function(){return this.trackId;},getTrackObject:function(){return this.trackObject;},setTrackEntity:function(_136){if(_136==null){this.trackClass="";}else{if(typeof _136=="string"){this.trackClass=_136;}else{throw new Error("mendix/lib/MxContext.setTrackEntity: entity should be a string");}}},setTrackId:function(guid){this.trackId=guid;this.trackObject=null;},setTrackObject:function(obj){if(obj){this.setContext(obj.getEntity(),obj.getGuid());}this.trackObject=obj;},setObject:function(obj,_137,guid){if(obj){this.setContext(obj.getEntity(),obj.getGuid());}else{this.trackId=guid||"";if(_137){this.trackClass=_137;}}this.trackObject=obj;},getObject:function(){return this.trackObject;},setConstraints:function(_138){if(_138==null||_138===""||_138.length===0){return;}if(typeof _138=="string"){this.constraintby=_138.split(",");}else{this.constraintby=_138;}},getConstraints:function(){var t=[];for(var i=0;i<this.constraintby.length;i++){t.push(this.constraintby[i]);}return t;},hasBacktrack:function(){return this.constraintby.length!==0;},getContexts:function(){var c=[];for(var i in this._contextStore){if(typeof i!="undefined"&&this._contextStore[i]!==""){c.push(i);}}return c;},setContext:function(_139,guid){if((arguments.length==1)&&(arguments[0] instanceof _12e)){var _13a=arguments[0];_139=_13a.getEntity(),guid=_13a.getGuid();}if(typeof _139!="string"){throw new Error("mendix/lib/MxContext.setContext: parameter entity is not of type String");}if(guid==null){guid="";}this.setTrackId(guid);this.setTrackEntity(_139);this._contextStore[_139]=guid;},unsetContext:function(_13b){if(typeof _13b!="string"){throw new Error("mendix/lib/MxContext.unsetContext: parameter entity is not of type String");}delete this._contextStore[_13b];},getContext:function(_13c){if(typeof _13c!="string"){throw new Error("mendix/lib/MxContext.getContext: parameter entity is not of type String");}if(_13c in this._contextStore){return this._contextStore[_13c];}var meta=window.mx.meta.getEntity(_13c),_13d=null;_130.some(meta.getSubEntities(),function(_13e){if(_13e in this._contextStore){_13d=this._contextStore[_13e];return true;}},this);return _13d;},hasContext:function(_13f){if(typeof _13f!="string"){throw new Error("mendix/lib/MxContext.hasContext: parameter entity is not of type String");}return this.getContext(_13f)!=null;},reset:function(){this._contextStore={};this.trackId=null;this.trackClass="";this.trackObject=null;},dupFrom:function(_140){this.reset();this.mixin(_140);},mixin:function(_141){if(_141){var _142=_141.getContexts();for(var i=0,c;c=_142[i];i++){this.setContext(c,_141.getContext(c));}this.setParams(_141.getParams());this.setConstraints(_141.getConstraints());this.setContext(_141.getTrackEntity(),_141.getTrackId());this.setTrackObject(_141.getTrackObject());}else{var _143=this.getTrackEntity();if(_143){this.unsetContext(_143);}this.setTrackId("");this.setTrackEntity("");this.setTrackObject(null);}},save:function(){var _144=this.saveStore={contexts:{},localParams:{}},i;for(i in this._contextStore){_144.contexts[i]=this._contextStore[i];}for(i in this.localParams){_144.localParams[i]=this.localParams[i];}},restore:function(){var _145=this.saveStore;this._contextStore={};this.localParams={};var i;for(i in _145.contexts){this._contextStore[i]=_145.contexts[i];}for(i in _145.localParams){this.localParams[i]=_145.localParams[i];}},hasParam:function(key){return key in this.localParams;},getParam:function(key){if(!this.hasParam(key)){return null;}return this.localParams[key];},getParams:function(){return this.localParams;},setParam:function(key,_146){if(key==null){throw new Error("mendix/lib/MxContext["+this.ident+"].setParam key is null");}this.localParams[key]=_146;},setParams:function(obj){if(typeof obj!="object"){throw new Error("mendix/lib/MxContext["+this.ident+"].setParams requires an Object.");}for(var i in obj){this.localParams[i]=obj[i];}},unsetParam:function(key){delete this.localParams[key];},resetParams:function(){this.localParams={};},isEmpty:function(){for(var j in this._contextStore){return true;}},getGuidS:function(){var _147=this.getContexts();var _148=this.getTrackId();var _149=_148?[_148]:[];for(var i=0,l=_147.length;i<l;i++){var c=_147[i];if(c!="System.owner"&&c!="System.changedBy"){var guid=this.getContext(c);if(guid!=_148){_149.push(guid);}}}return _149;},dump:function(){var _14a="";var _14b=this.getContexts();for(var i=0;i<_14b.length;i++){var _14c=_14b[i];_14a+=" "+_14c+": "+this.getContext(_14c)+";";}return _14a;},serialize:function(){return _131.toJson(this._contextStore);},toQuery:function(){var _14d=this._contextStore,_14e=this.trackId,_14f=[];for(var i in _14d){var guid=_14d[i];if(guid){_14f[guid==_14e?"unshift":"push"](i+"="+guid);}}return _14f.join("&");},freeze:function(){this.setActiveClass=this.setTrackEntity=this.setTrackId=this.setTrackObject=this.setContextFromMxObject=this.setConstraints=this.setBacktrack=this.setContext=this.unsetContext=this.unsetBacktrack=this.reset=this.dupFrom=this.restore=this.setParam=this.setParams=this.unsetParam=this.resetParams=function(){_12f.error("mendix/lib/MxContext["+this.ident+"].freeze: context is readonly");return false;};},setAppFlowId:function(_150){this._app_flow_id=_150;},getAppFlowId:function(){return this._app_flow_id;},toString:function(){return this.ident;}});return _134;});},"webcore/datasource/_DataSource":function(){define(["mendix/lang","mendix/logger","dojo/_base/array","dojo/_base/declare"],function(lang,_151,_152,_153){var _154=_153(null,{name:"webcore.datasource.DataSource",context:null,_pageSize:0,_offset:0,_pageObjs:null,_setsize:0,_holdObjs:null,_schemaId:"",constructor:function(args){this.context=args.context;this._pageSize=args.page||0;this._offset=args.offset||0;this._pageObjs=[];this._holdObjs=[];this._schemaId=args.queryid||"";if(args.load){_151.scream(this.name+".constructor : Do not pass callbacks into a constructor! Stop doing this!");lang.thread(args.load);}},reload:function(_155){_155&&_155();},refresh:function(_156){_156&&_156();},update:function(_157){_157&&_157();},entityUpdate:function(_158){_158&&_158();},isValid:function(_159){_159&&_159(true);},_setSetSize:function(n){this._setsize=n;},_setObjects:function(objs){this._pageObjs=objs;},getSetSize:function(){return this._setsize||0;},getObjects:function(){return this._pageObjs||[];},getPageSize:function(){return this._pageSize;},setPageSize:function(n,_15a){this._pageSize=n;if(_15a){this.refresh(_15a);}},getOffset:function(){return this._offset;},setOffset:function(n,_15b){this._offset=n;if(_15b){this.refresh(_15b);}},first:function(_15c){this._offset=0;if(_15c){this.refresh(_15c);}},last:function(_15d){var _15e=this.getSetSize();if(this._pageSize>=_15e){this._offset=0;}else{this._offset=Math.floor((_15e-1)/this._pageSize)*this._pageSize;}if(_15d){this.refresh(_15d);}},toPage:function(n,_15f){var off=(n-1)*this._pageSize;if(off>=0&&off<this.getSetSize()){this._offset=off;}if(_15f){this.refresh(_15f);}},next:function(_160){if(this.atEnd()){this._offset=this.getSetSize()-this._pageSize;}else{this._offset=this._offset+this._pageSize;}if(_160){this.refresh(_160);}},previous:function(_161){if((this.getSetSize()<this._pageSize)||((this._offset-this._pageSize)<=0)){this._offset=0;}else{this._offset-=this._pageSize;}if(_161){this.refresh(_161);}},getStatusMessage:function(){var st=0,en=0,_162=this.getSetSize();if(_162!=0){st=this._offset+1;en=Math.min(this._offset+this._pageSize,_162);}return window.mx.ui.translate("mxui.lib.MxDataSource","status",[st,en,_162]);},generateExport:function(args){args.callback&&args.callback();},atBeginning:function(){return (this._offset==0);},atEnd:function(){return !this._hasPaging()||(this._offset>=(this.getSetSize()-this._pageSize));},afterEnd:function(){return this._hasPaging()&&this.getSetSize()>0&&this._offset>=this.getSetSize();},getAttributes:function(attr){return _152.map(this.getObjects(),function(obj){return obj.get2(attr);});},getObject:function(guid){var objs=this.getObjects();for(var i=0,obj;obj=objs[i];++i){if(obj.getGuid()==guid){return obj;}}return null;},each:function(func){return _152.map(this.getObjects(),func);},insertMxObjectAtStart:function(obj){var objs=this._pageObjs;objs.unshift(obj);if(this._hasPaging()&&this._pageSize<objs.length){objs.pop();}this._setsize++;},insertMxObjectAtEnd:function(_163){var objs=this._pageObjs;objs.push(_163);if(this._hasPaging()!=0&&this._pageSize<objs.length){objs.shift();}this._setsize++;},clean:function(_164){this._setsize=0;this._offset=0;this._pageObjs=[];_164&&_164();},hold:function(objs){if(this._holdObjs.length){this.release();}this._holdObjs=this._holdObjs.concat(objs);},release:function(){window.mx.data.release(this._holdObjs);this._holdObjs=[];},destroy:function(){this.release();},toString:function(){return this.name;},_hasPaging:function(){return this._pageSize!=0;},_pageUpdate:function(_165){var _166=this.getOffset(),_167=this._hasPaging()?this._objs.slice(_166,_166+this.getPageSize()):this._objs;this._setObjects(_167);this._setSetSize(this._objs.length);lang.nullExec(_165);},size:function(){this.getSetSize.apply(this,arguments);},getSize:function(){this.getSetSize.apply(this,arguments);},getGeneratedXPath:function(){this.getCurrentXPath.apply(this,arguments);}});return _154;});},"webcore/datasource/_XPathSourceBase":function(){define(["./_DataSource","mendix/logger","dojo/_base/declare"],function(_168,_169,_16a){var _16b=_16a(_168,{name:"webcore.datasource.XPathSourceBase",_sorting:null,_constraints:"",_staticconstraint:"",_aggData:null,_aggregates:false,_distinct:false,constructor:function(args){this._sorting=args.sortparams||[];this._aggregates=args.aggregates||false;this._attributes=args.attributes||null;this._depth=args.depth||0;this._staticconstraint=args.constraint||"";this._distinct=args.distinct||false;},setConstraints:function(c,_16c){this._constraints=c;this.first();if(_16c){this.refresh(_16c);}},getConstraints:function(){return this._constraints;},getStaticConstraint:function(){return this._staticconstraint;},getFilterOptions:function(){var _16d={sort:this._sorting};if(this._hasPaging()){_16d.offset=this.getOffset();_16d.limit=this.getPageSize();}if(this._attributes){_16d.attributes=this._attributes;}if(this._schemaId){_16d.id=this._schemaId;}if(this._depth){_16d.depth=this._depth;}if(this._distinct){_16d.distinct=this._distinct;}return _16d;},getSortSettings:function(){return this._sorting;},setSortOptions:function(_16e,_16f,push){this._offset=0;if(_16e==null||_16e===""){throw new Error(this.name+".setSortOptions : illegal sorton parameter!");}else{_16f=(_16f===""||_16f==null)?"asc":_16f;if(push){this._sortFilter(_16e,_16f);}else{this._sorting=[[_16e,_16f]];}}},getAggregates:function(){return this._aggData;},getCurrentXPath:function(){return "";},_sortFilter:function(_170,_171){var _172=false;for(var i=0,e;e=this._sorting[i];++i){if(e[0]==_170){this._sorting[i]=[_170,_171];_172=true;continue;}}if(!_172){this._sorting.push([_170,_171]);}},_setAggregates:function(obj){this._aggData=obj;}});return _16b;});},"webcore/datasource/XPathSource":function(){define(["./_XPathSourceBase","mendix/lang","mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_173,lang,_174,_175,_176){var _177=_176(_173,{name:"webcore.datasource.XPathSource",_entity:"",_xpath:"",_pathConstraint:"",_useContext:false,constructor:function(args){var path=args.path?args.path.split("/"):[];this._useContext=args.useContext;this._entity=path.length?path.pop():args.entity;if(path.length){this._pathConstraint="["+path.reverse().join("/")+"=\"[%CurrentObject%]\"]";}},reload:function(_178){this._xpath="";this._runSafeQuery(_178);},refresh:function(_179){this._runSafeQuery(_179);},update:function(_17a){var _17b=this._xpath;this._actGetXPath(_175.hitch(this,function(){if(_17b==this._xpath){lang.nullExec(_17a);}else{if(_17a){this._runQuery(_17a);}}}));},entityUpdate:function(_17c){this._runSafeQuery(_17c);},generateExport:function(args){args.params=_175.mixin({},args.params,{xpath:this.getCurrentXPath(),sort:this.getSortSettings(),gridid:this._schemaId});window.mx.data.generateExport(args);},getCurrentXPath:function(){return this._xpathString();},isValid:function(_17d){if(this.context.hasBacktrack()){window.mx.data.getBacktrackConstraints(null,this.context,_175.hitch(this,function(_17e,_17f){_17d&&_17d(_17f);}),function(e){window.mx.onError(e);_17d&&_17d(false);});}else{_17d&&_17d(true);}},_actGetXPath:function(_180){var exec=lang.nullExec;if(this._useContext){window.mx.data.createXPathString({entity:this._entity,context:this.context,callback:_175.hitch(this,function(_181){this._xpath=_181;exec(_180);}),error:function(e){window.mx.onError(e);_180&&_180();}});}else{if(this.context&&this.context.hasBacktrack()){window.mx.data.getBacktrackConstraints(null,this.context,_175.hitch(this,function(_182,_183){if(_183){this._xpath="//"+this._entity+_182;}else{this._xpath="";}exec(_180);}),function(e){window.mx.onError(e);_180&&_180();});}else{this._xpath="//"+this._entity;exec(_180);}}},_runSafeQuery:function(_184){var _185=["_runQuery"];if(!this._xpath){_185.unshift("_actGetXPath");}lang.sequence(_185,_184,this);},_runQuery:function(_186){var _187=this._xpathString();if(_187){window.mx.data.get({xpath:this.getCurrentXPath(),filter:this.getFilterOptions(),count:true,aggregates:this._aggregates,callback:function(objs,_188){this._handleObjects(objs,_188.count,_188.aggregates,_186);},error:function(e){window.mx.onError(e);_186&&_186();}},this);}else{this._handleObjects([],0,null,_186);}},_handleObjects:function(objs,_189,_18a,_18b){this._setObjects(objs);this._setSetSize(_189);this._setAggregates(_18a);_18b&&_18b();},_xpathString:function(){var _18c=[this._pathConstraint,this.getStaticConstraint(),this.getConstraints()].join(""),_18d="";if(this._xpath){var _18e=this._xpath+_18c;if(/\[%CurrentObject%\]/.test(_18e)){var guid=this.context.getTrackId();if(guid){_18d=window.mx.parser.replaceXPathTokens(_18e,this.context);}}else{_18d=_18e;}}return _18d;}});return _177;});},"webcore/datasource/EntityPathSource":function(){define(["./_DataSource","mendix/logger","dojo/_base/lang","dojo/_base/array","dojo/_base/declare"],function(_18f,_190,_191,_192,_193){var _194=_193(_18f,{name:"webcore.datasource.EntityPathSource",_pathElements:null,_objs:null,constructor:function(args){this._pathElements=args.path.split("/");},reload:function(_195){this._runQuery(_195);},refresh:function(_196){this._pageUpdate(_196);},entityUpdate:function(_197){this._runQuery(_197);},generateExport:function(args){var _198=_192.map(this._objs,function(obj){return obj.getGuid();});args.params=_191.mixin({},args.params,{guids:_198,gridid:this._schemaId});window.mx.data.generateExport(args);},_runQuery:function(_199){this.release();var guid=this.context.getTrackId();if(guid){window.mx.data.get({guid:guid,path:this._pathElements[0],callback:function(objs){objs=(objs instanceof Array)?objs:[];this._objs=objs;this.hold(objs);this._pageUpdate(_199);},error:function(e){window.mx.onError(e);_199&&_199();}},this);}else{this._objs=[];this._pageUpdate(_199);}}});return _194;});},"webcore/datasource/MicroflowSource":function(){define(["./_DataSource","mendix/lang","mendix/logger","dojo/_base/lang","dojo/_base/array","dojo/_base/declare"],function(_19a,lang,_19b,_19c,_19d,_19e){var _19f=_19e(_19a,{name:"webcore.datasource.MicroflowSource",_microflow:"",_objs:null,constructor:function(args){this._microflow=args.microflow;},reload:function(_1a0){lang.sequence(["_callMicroflow"],_1a0,this);},refresh:function(_1a1){this._pageUpdate(_1a1);},entityUpdate:function(_1a2){lang.sequence(["_callMicroflow"],_1a2,this);},generateExport:function(args){var _1a3=_19d.map(this._objs,function(obj){return obj.getGuid();});args.params=_19c.mixin({},args.params,{guids:_1a3,gridid:this._schemaId});window.mx.data.generateExport(args);},_callMicroflow:function(_1a4){this.release();window.mx.data.get({microflow:this._microflow,context:this.context,callback:function(objs){this._objs=(objs instanceof Array)?objs:[];this.hold(this._objs);this._pageUpdate(_1a4);},error:function(e){window.mx.onError(e);_1a4&&_1a4();}},this);}});return _19f;});},"webcore/datasource/ReferenceSetSource":function(){define(["./_XPathSourceBase","mendix/lang","mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_1a5,lang,_1a6,_1a7,_1a8){var _1a9=_1a8(_1a5,{name:"webcore.datasource.ReferenceSetSource",_xpath:"",_reference:"",_sourceObject:null,constructor:function(args){this.inherited(arguments);var path=args.path.split("/"),_1aa=path.pop(),_1ab=path.pop();this._xpath="//"+_1aa;this._reference=_1ab;this._selectconstraints="[1=0]";},reload:function(_1ac){this._runQuery(_1ac);},refresh:function(_1ad){this._runQuery(_1ad);},update:function(_1ae){this._runQuery(_1ae);},entityUpdate:function(_1af){this._runQuery(_1af);},generateExport:function(args){args.params=_1a7.mixin({},args.params,{xpath:this.getCurrentXPath(),sort:this.getSortSettings(),gridid:this._schemaId});window.mx.data.generateExport(args);},getCurrentXPath:function(){return this._xpathString()+this._selectconstraints;},setObject:function(obj){this._sourceObject=obj;},_runQuery:function(_1b0){var exec=lang.nullExec;if(this._sourceObject){var refs=this._sourceObject.getReferences(this._reference);if(refs.length>0){var _1b1=[];for(var i=0,guid;guid=refs[i];++i){_1b1.push("id=\""+guid+"\"");}this._selectconstraints="["+_1b1.join(" or ")+"]";window.mx.data.get({xpath:this.getCurrentXPath(),filter:this.getFilterOptions(),count:true,callback:function(objs,_1b2){this._setObjects(objs);this._setSetSize(_1b2.count);exec(_1b0);},error:function(e){window.mx.onError(e);exec(_1b0);}},this);}else{this._selectconstraints="[1=0]";this._setObjects([]);this._setSetSize(0);exec(_1b0);}}else{exec(_1b0);}},_xpathString:function(){return this._xpath+this.getStaticConstraint()+this.getConstraints();}});return _1a9;});},"webcore/objectsource/DirectObjectSource":function(){define(["webcore/objectsource/_ObjectSource","dojo/_base/declare"],function(_1b3,_1b4){var _1b5=_1b4(_1b3,{name:"webcore.objectsource.DirectObjectSource",_path:"",_entity:"",constructor:function(args){this.inherited(arguments);this._path=args.path?args.path.split("/"):[];this._entity=this._path.slice(-1)[0];},fetch:function(_1b6,_1b7){var self=this;var _1b8=function(obj){if(obj&&obj.isA(self._entity)){_1b6(obj);}else{_1b6(null);}};var _1b9=function(obj){window.mx.data.fetch(obj,self._path,{usexpath:true,schema:self.schema},function(obj,_1ba){if(_1ba){self.hold(obj);}_1b8(obj);},_1b7);};this.release();var guid=this.context.getTrackId();if(guid){if(this.context.hasTrackObject()){_1b9(this.context.getTrackObject());}else{if(this._path.length>0){window.mx.data.get({guid:guid,callback:function(obj){self.hold(obj);_1b9(obj);},error:_1b7});}else{var meta=window.mx.meta.getEntity(this.context.getTrackEntity());if(meta.isA(this._entity)){window.mx.data.get({guid:guid,filter:{id:this.schema},callback:function(obj){self.hold(obj);_1b8(obj);},error:_1b7});}else{this.hold(null);_1b6(null);}}}}else{this.hold(null);_1b6(null);}},getRoot:function(){return this._path.length>1?this._path[0]:"";}});return _1b5;});},"webcore/objectsource/_ObjectSource":function(){define(["mendix/logger","dojo/_base/declare"],function(_1bb,_1bc){var _1bd=_1bc(null,{name:"webcore.objectsource._ObjectSource",context:null,schema:"",_holdObj:null,constructor:function(args){this.context=args.context;this.schema=args.schema;},fetch:function(_1be,_1bf){},getRoot:function(){return "";},hasRoot:function(){return !!this.getRoot();},destroy:function(){this.release();},hold:function(obj){if(this._holdObj){this.release();}this._holdObj=obj;},release:function(){if(this._holdObj){window.mx.data.release([this._holdObj]);}this._holdObj=null;}});return _1bd;});},"webcore/objectsource/SchemaObjectSource":function(){define(["./_ObjectSource","dojo/_base/declare"],function(_1c0,_1c1){return _1c1(_1c0,{name:"webcore.objectsource.SchemaObjectSource",fetch:function(_1c2,_1c3){if(this.context.hasTrackId()){window.mx.data.getBySchema({id:this.context.getTrackId(),schema:this.schema,callback:_1c2,error:_1c3});}else{_1c2&&_1c2();}}});});},"webcore/objectsource/MicroflowObjectSource":function(){define(["webcore/objectsource/_ObjectSource","mendix/logger","dojo/_base/declare"],function(_1c4,_1c5,_1c6){var _1c7=_1c6(_1c4,{name:"webcore.objectsource.MicroflowObjectSource",_microflow:"",constructor:function(args){this.inherited(arguments);this._microflow=args.microflow;},fetch:function(_1c8,_1c9){var self=this;this.release();window.mx.data.get({microflow:this._microflow,context:this.context,callback:function(objs){objs=(objs instanceof Array)?objs:[];if(objs.length>1){window.mx.data.release(objs.slice(1));}if(objs.length==1){self.hold(objs[0]);_1c8(objs[0]);}else{_1c8(null);}},error:_1c9});}});return _1c7;});},"mendix/lib/Upload":function(){define(["mxui/io/iframe","mendix/lib/Error","mendix/lang","dojo/_base/lang","dojo/_base/declare"],function(_1ca,_1cb,lang,_1cc,_1cd){var _1ce=_1cd(null,{constructor:function(args){_1cc.mixin(this,args);},upload:function(){if(window.FormData){this._uploadViaFormData();}else{this._uploadViaIFrame();}},_uploadViaFormData:function(){var url=this._determineUrl(),_1cf=new FormData(),file=this.form.mxdocument.files[0],self=this;_1cf.append("mxdocument",file);var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){self.finishUpload(true);if(xhr.status==200){self.callback&&self.callback();return;}var _1d0=self._getError(xhr.responseText);self.error&&self.error(_1d0||undefined);}};this.startUpload(true);xhr.open("post",url,true);xhr.send(_1cf);},_getError:function(_1d1){var _1d2=new DOMParser(),doc,err;if(_1d1){doc=_1d2.parseFromString(_1d1,"text/html");err=lang.getFileError(doc,"mendix/lib/Upload._getError");}else{err=_1cb("mendix/lib/Upload._getError: connection error");}return err;},_determineUrl:function(){var _1d3=[window.mx.appUrl+"file?"];_1d3.push("guid="+this.objectGuid);if(this.maxFileSize){_1d3.push("maxFileSize="+this.maxFileSize);}_1d3.push("csrfToken="+window.mx.session.getCSRFToken());if(typeof this.width!=="undefined"&&typeof this.height!=="undefined"){_1d3.push("width="+this.width);_1d3.push("height="+this.height);}return _1d3.join("&");},_uploadViaIFrame:function(){var form=this.form,self=this;form.action=this._determineUrl();this.startUpload(false);_1ca.send({form:form,handleAs:"json",handle:function(_1d4){try{if(_1d4 instanceof _1cb){self.error&&self.error(_1d4);}else{self.callback&&self.callback();}}finally{self.finishUpload(false);}}});}});return _1ce;});},"mxui/io/iframe":function(){define(["mendix/lib/DescribedServerError","mendix/lib/Error","mendix/lang","mendix/logger","dojo/sniff","dojo/request/iframe","dojo/dom-style","dojo/_base/lang"],function(_1d5,_1d6,lang,_1d7,_1d8,_1d9,_1da,_1db){var _1dc={name:"mxui.io.iframe",send:function(_1dd){var _1de=function(){if(_1d8("ie")||_1d8("trident")){return true;}if(_1d8("opera")){return _1d8("opera")<10;}if(_1d8("chrome")){if(typeof window.externalHost!=="undefined"){return false;}return _1d8("chrome")<16;}return false;};if(_1de()){var _1df=_1dd.handle;_1dd.handle=function(_1e0){window.history.back();var _1e1=function(){_1df(_1e0);};setTimeout(_1e1,50);};}_1dd.handleAs="json";var _1e2=_1dd.handle;delete _1dd.handle;var _1e3=_1d9("",_1dd);_1e3.always(function(json){if(!_1d8("ie")&&!_1d8("trident")){var _1e4=_1d9._frame;_1e4.parentNode.removeChild(_1e4);_1d9._frame=null;window[_1d9._iframeName]=null;}var _1e5;if(json instanceof Error){_1e5=new _1d6(json.message);_1d7.error(this.name+".send: An error occurred while uploading a file: the server did not respond");}else{if(json.type&&json.type==="exception"){_1e5=new _1d5(json.description);_1e5._type="exception";_1d7.error(this.name+".send: "+_1e5.message);}}if(_1e2){_1e2(_1e5);}});},download:function(_1e6){var _1e7=_1e6.target||"internal",url=_1e6.url+"&target="+_1e7;if(!this._iframe){var _1e8=this._iframe=document.createElement(mx.ui.isQuirky?"<iframe onload=\"mxui.io.iframe.onload()\">":"iframe");_1da.set(_1e8,{top:"-10px",height:"1px",position:"absolute",visibility:"hidden"});document.body.appendChild(_1e8);if(!mx.ui.isQuirky){_1e8.onload=_1db.hitch(this,"onload");}}this._error=_1e6.error;this._iframe.contentWindow.location=url;},onload:function(){var _1e9=this._iframe,_1ea=this._error,doc=_1e9.contentDocument||_1e9.document,err=lang.getFileError(doc,this.name+".onload");if(err&&_1ea){_1ea(err);}delete this._error;}};return _1dc;});},"dojo/request/iframe":function(){define(["module","require","./watch","./util","./handlers","../_base/lang","../io-query","../query","../has","../dom","../dom-construct","../_base/window","../NodeList-dom"],function(_1eb,_1ec,_1ed,util,_1ee,lang,_1ef,_1f0,has,dom,_1f1,win){var mid=_1eb.id.replace(/[\/\.\-]/g,"_"),_1f2=mid+"_onload";if(!win.global[_1f2]){win.global[_1f2]=function(){var dfd=_1f3._currentDfd;if(!dfd){_1f3._fireNextRequest();return;}var _1f4=dfd.response,_1f5=_1f4.options,_1f6=dom.byId(_1f5.form)||dfd._tmpForm;if(_1f6){var _1f7=dfd._contentToClean;for(var i=0;i<_1f7.length;i++){var key=_1f7[i];for(var j=0;j<_1f6.childNodes.length;j++){var _1f8=_1f6.childNodes[j];if(_1f8.name===key){_1f1.destroy(_1f8);break;}}}dfd._originalAction&&_1f6.setAttribute("action",dfd._originalAction);if(dfd._originalMethod){_1f6.setAttribute("method",dfd._originalMethod);_1f6.method=dfd._originalMethod;}if(dfd._originalTarget){_1f6.setAttribute("target",dfd._originalTarget);_1f6.target=dfd._originalTarget;}}if(dfd._tmpForm){_1f1.destroy(dfd._tmpForm);delete dfd._tmpForm;}dfd._finished=true;};}function _1f9(name,_1fa,uri){if(win.global[name]){return win.global[name];}if(win.global.frames[name]){return win.global.frames[name];}if(!uri){if(has("config-useXDomain")&&!has("config-dojoBlankHtmlUrl")){console.warn("dojo/request/iframe: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}uri=(has("config-dojoBlankHtmlUrl")||_1ec.toUrl("dojo/resources/blank.html"));}var _1fb=_1f1.place("<iframe id=\""+name+"\" name=\""+name+"\" src=\""+uri+"\" onload=\""+_1fa+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",win.body());win.global[name]=_1fb;return _1fb;};function _1fc(_1fd,src,_1fe){var _1ff=win.global.frames[_1fd.name];if(_1ff.contentWindow){_1ff=_1ff.contentWindow;}try{if(!_1fe){_1ff.location=src;}else{_1ff.location.replace(src);}}catch(e){}};function doc(_200){if(_200.contentDocument){return _200.contentDocument;}var name=_200.name;if(name){var _201=win.doc.getElementsByTagName("iframe");if(_200.document&&_201[name].contentWindow&&_201[name].contentWindow.document){return _201[name].contentWindow.document;}else{if(win.doc.frames[name]&&win.doc.frames[name].document){return win.doc.frames[name].document;}}}return null;};function _202(){return _1f1.create("form",{name:mid+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},win.body());};function _203(){var dfd;try{if(_1f3._currentDfd||!_1f3._dfdQueue.length){return;}do{dfd=_1f3._currentDfd=_1f3._dfdQueue.shift();}while(dfd&&(dfd.canceled||(dfd.isCanceled&&dfd.isCanceled()))&&_1f3._dfdQueue.length);if(!dfd||dfd.canceled||(dfd.isCanceled&&dfd.isCanceled())){_1f3._currentDfd=null;return;}var _204=dfd.response,_205=_204.options,c2c=dfd._contentToClean=[],_206=dom.byId(_205.form),_207=util.notify,data=_205.data||null,_208;if(!dfd._legacy&&_205.method==="POST"&&!_206){_206=dfd._tmpForm=_202();}else{if(_205.method==="GET"&&_206&&_204.url.indexOf("?")>-1){_208=_204.url.slice(_204.url.indexOf("?")+1);data=lang.mixin(_1ef.queryToObject(_208),data);}}if(_206){if(!dfd._legacy){var _209=_206;do{_209=_209.parentNode;}while(_209&&_209!==win.doc.documentElement);if(!_209){_206.style.position="absolute";_206.style.left="-1000px";_206.style.top="-1000px";win.body().appendChild(_206);}if(!_206.name){_206.name=mid+"_form";}}if(data){var _20a=function(name,_20b){_1f1.create("input",{type:"hidden",name:name,value:_20b},_206);c2c.push(name);};for(var x in data){var val=data[x];if(lang.isArray(val)&&val.length>1){for(var i=0;i<val.length;i++){_20a(x,val[i]);}}else{if(!_206[x]){_20a(x,val);}else{_206[x].value=val;}}}}var _20c=_206.getAttributeNode("action"),_20d=_206.getAttributeNode("method"),_20e=_206.getAttributeNode("target");if(_204.url){dfd._originalAction=_20c?_20c.value:null;if(_20c){_20c.value=_204.url;}else{_206.setAttribute("action",_204.url);}}if(!dfd._legacy){dfd._originalMethod=_20d?_20d.value:null;if(_20d){_20d.value=_205.method;}else{_206.setAttribute("method",_205.method);}}else{if(!_20d||!_20d.value){if(_20d){_20d.value=_205.method;}else{_206.setAttribute("method",_205.method);}}}dfd._originalTarget=_20e?_20e.value:null;if(_20e){_20e.value=_1f3._iframeName;}else{_206.setAttribute("target",_1f3._iframeName);}_206.target=_1f3._iframeName;_207&&_207.emit("send",_204,dfd.promise.cancel);_1f3._notifyStart(_204);_206.submit();}else{var _20f="";if(_204.options.data){_20f=_204.options.data;if(typeof _20f!=="string"){_20f=_1ef.objectToQuery(_20f);}}var _210=_204.url+(_204.url.indexOf("?")>-1?"&":"?")+_20f;_207&&_207.emit("send",_204,dfd.promise.cancel);_1f3._notifyStart(_204);_1f3.setSrc(_1f3._frame,_210,true);}}catch(e){dfd.reject(e);}};function _211(_212){return !this.isFulfilled();};function _213(_214){return !!this._finished;};function _215(_216,_217){if(!_217){try{var _218=_216.options,doc=_1f3.doc(_1f3._frame),_219=_218.handleAs;if(_219!=="html"){if(_219==="xml"){if(doc.documentElement.tagName.toLowerCase()==="html"){_1f0("a",doc.documentElement).orphan();var _21a=doc.documentElement.innerText;_21a=_21a.replace(/>\s+</g,"><");_216.text=lang.trim(_21a);}else{_216.data=doc;}}else{_216.text=doc.getElementsByTagName("textarea")[0].value;}_1ee(_216);}else{_216.data=doc;}}catch(e){_217=e;}}if(_217){this.reject(_217);}else{if(this._finished){this.resolve(_216);}else{this.reject(new Error("Invalid dojo/request/iframe request state"));}}};function last(_21b){this._callNext();};var _21c={method:"POST"};function _1f3(url,_21d,_21e){var _21f=util.parseArgs(url,util.deepCreate(_21c,_21d),true);url=_21f.url;_21d=_21f.options;if(_21d.method!=="GET"&&_21d.method!=="POST"){throw new Error(_21d.method+" not supported by dojo/request/iframe");}if(!_1f3._frame){_1f3._frame=_1f3.create(_1f3._iframeName,_1f2+"();");}var dfd=util.deferred(_21f,null,_211,_213,_215,last);dfd._callNext=function(){if(!this._calledNext){this._calledNext=true;_1f3._currentDfd=null;_1f3._fireNextRequest();}};dfd._legacy=_21e;_1f3._dfdQueue.push(dfd);_1f3._fireNextRequest();_1ed(dfd);return _21e?dfd:dfd.promise;};_1f3.create=_1f9;_1f3.doc=doc;_1f3.setSrc=_1fc;_1f3._iframeName=mid+"_IoIframe";_1f3._notifyStart=function(){};_1f3._dfdQueue=[];_1f3._currentDfd=null;_1f3._fireNextRequest=_203;util.addCommonMethods(_1f3,["GET","POST"]);return _1f3;});},"mendix/lib/ConnectionError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_220,_221){return _221(_220,{});});},"mendix/lib/NavigationError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_222,_223){return _223(_222,{});});},"mendix/lib/ValidationError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_224,_225){return _225(_224,{});});},"mendix/next/dataLayer":function(){define(["webcore/datasource/MicroflowSource","dojo/_base/Deferred","dojo/_base/array","exports"],function(_226,_227,_228,_229){_229.loadData=function(_22a){var _22b=new _227();switch(_22a.type){case "microflow":var _22c=new _226({microflow:_22a.microflowId});_22c.reload(function(){_22b.resolve(_228.map(_22c.getObjects(),_229.toJson));});break;default:throw new Error("Unsupported dataSpec type: "+_22a.type);}return _22b.promise;};_229.release=function(_22d){window.mx.data.release(_228.map(_22d,function(obj){return {getGuid:function(){return obj._guid;}};}));};_229.toJson=function(_22e){return {_guid:_22e.getGuid()};};});},"mxui/exposed":function(){define(["mxui/wm/focus","mxui/html","mxui/html/parser","mxui/dom","mxui/lib/InputMask","mxui/widget","mxui/widget/_Widget","mxui/widget/_WidgetBase","mxui/widget/_Button","mxui/widget/_FormWidget","mxui/widget/Underlay","mxui/widget/Dialog","mxui/widget/DialogMessage","mxui/widget/Window","mxui/widget/LoginDialog","mxui/widget/Progress","mxui/widget/DataGrid","mxui/widget/TemplateGrid","mxui/widget/TabContainer","mxui/widget/TabContent","mxui/widget/ReferenceSetSelector","mxui/widget/BoolSelect","mxui/widget/RadioButtonGroup","mxui/widget/DatePicker","mxui/widget/DateInput","mxui/widget/EnumSelect","mxui/widget/NumberInput","mxui/widget/PasswordInput","mxui/widget/TextArea","mxui/widget/TextInput","mxui/widget/SearchInput","mxui/widget/Navbar","mxui/widget/NavigationTree","mxui/widget/HorizontalScrollContainer","mxui/widget/VerticalScrollContainer","mxui/widget/BorderContainer","mxui/widget/ActionButton","mxui/widget/BackButton","mxui/widget/CancelButton","mxui/widget/ConfirmationDialog","mxui/widget/LogoutButton","mxui/widget/SyncButton","mxui/widget/DropDownButton","mxui/widget/DropDownItem","mxui/widget/SaveButton","mxui/widget/SidebarToggleButton","mxui/widget/Button","mxui/widget/GroupBox","mxui/widget/DataView","mxui/widget/Title","mxui/widget/StaticImage","mxui/widget/Image","mxui/widget/ImageZoom","mxui/widget/LinkButton","mxui/widget/ListView","mxui/widget/MenuBar","mxui/widget/NavigationList","mxui/widget/NavigationListItem","mxui/widget/NewButton","mxui/widget/ReferenceSelector","mxui/widget/InputReferenceSetSelector","mxui/widget/FileInput","mxui/widget/ImageUploader","mxui/widget/SelectBox","mxui/widget/DynamicText","mxui/widget/ReactWidgetWrapper","mxui/mixin/_ValidationHelper","mxui/mixin/_Pluggable","mxui/mixin/_Contextable","mxui/mixin/_Scriptable","mxui/mixin/_Stateful","dojo/_base/lang"],function(_22f,_230,_231,_232,_233,_234,_235,_236,_237,_238,_239,_23a,_23b,_23c,_23d,_23e,_23f,_240,_241,_242,_243,_244,_245,_246,_247,_248,_249,_24a,_24b,_24c,_24d,_24e,_24f,_250,_251,_252,_253,_254,_255,_256,_257,_258,_259,_25a,_25b,_25c,_25d,_25e,_25f,_260,_261,_262,_263,_264,_265,_266,_267,_268,_269,_26a,_26b,_26c,_26d,_26e,_26f,_270,_271,_272,_273,_274,_275,_276){window.mxui={html:_276.mixin(_230,{parser:_231}),dom:_232,wm:{focus:_22f},lib:{InputMask:_233},widget:_276.mixin(_234,{_Widget:_235,_WidgetBase:_236,_Button:_237,_FormWidget:_238,Underlay:_239,Dialog:_23a,DialogMessage:_23b,Window:_23c,LoginDialog:_23d,Progress:_23e,DataGrid:_23f,TemplateGrid:_240,TabContainer:_241,TabContent:_242,ReferenceSetSelector:_243,BoolSelect:_244,RadioButtonGroup:_245,DatePicker:_246,DateInput:_247,EnumSelect:_248,NumberInput:_249,PasswordInput:_24a,TextArea:_24b,TextInput:_24c,SearchInput:_24d,Navbar:_24e,NavigationTree:_24f,HorizontalScrollContainer:_250,VerticalScrollContainer:_251,BorderContainer:_252,ActionButton:_253,BackButton:_254,CancelButton:_255,ConfirmationDialog:_256,LogoutButton:_257,SyncButton:_258,DropDownButton:_259,DropDownItem:_25a,SaveButton:_25b,SidebarToggleButton:_25c,Button:_25d,GroupBox:_25e,DataView:_25f,Title:_260,StaticImage:_261,Image:_262,ImageZoom:_263,LinkButton:_264,ListView:_265,MenuBar:_266,NavigationList:_267,NavigationListItem:_268,NewButton:_269,ReferenceSelector:_26a,InputReferenceSetSelector:_26b,FileInput:_26c,ImageUploader:_26d,SelectBox:_26e,DynamicText:_26f,ReactWidgetWrapper:_270}),mixin:{_ValidationHelper:_271,_Pluggable:_272,_Contextable:_273,_Scriptable:_274,_Stateful:_275}};});},"mxui/wm/focus":function(){define(["mxui/wm/_FocusBox","mxui/wm/_FocusStack","mxui/dom","dojo/keys","dojo/_base/connect","dojo/has","dojo/aspect","dojo/ready","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/_base/declare","dijit/focus","dijit/_base/focus","dijit/registry","exports"],function(_277,_278,dom,_279,_27a,_27b,_27c,_27d,_27e,_27f,_280,_281,_282,_283,_284,_285){_285.getFocusIndex=function(node){var _286=dom.getTabIndex(node);return _286>=0?_286:null;};_285.name="mxui.wm.focus";_285.state={};_285.registry={};_285.start=function(){if(this._started){return;}this._started=true;_27a.connect(window.document,"onkeypress",_280.hitch(this,"onkeypress"));_27a.connect(window.document,"onkeydown",_280.hitch(this,"keydownpatch"));_27c.after(_282,"_onFocusNode",_280.hitch(this,"onfocus"),true);_27c.after(_282,"_onBlurNode",_280.hitch(this,"_onBlurNode"),true);_27a.connect(document,"onmousedown",_280.hitch(this,"_onBlur"));var _287=this.state;this.timer_clear=function(){_287._timer=null;_287._shift=false;};};_285.get=function(){var f=_283.getFocus();return f.node&&!dom.isOrphan(f.node)?f.node:null;};_285.put=function(node){if(!node||node.nodeType!=1){return false;}if(_27b("ie")){try{document.selection.empty();}catch(e){}}setTimeout(function(){try{node.focus();}catch(e){}var _288=node.nodeName.toLowerCase();if((_288=="input"&&node.type=="text")||_288=="textarea"){if(node.select){node.select();}}},0);};_285.restore=function(){var _289=_283.getFocus();if(_289.node){var node=_289.node;var _28a=this._getStack(node);var _28b=_28a._curr;node=_28b?this._tryNode(_28b,"next"):null;if(node){this.put(node);}}};_285.first=function(node){this.put(this._getFirst(node,"next"));};_285.next=function(node){this.put(this._getNextNode(node,false));};_285.blur=function(){var _28c=this.get();if(_28c){_28c.blur();}};_285._onBlur=function(e){this.state_clear();this._clickedNode=e.target;};_285._ontab=function(){this.timer_clear();var box=null;if(box){}else{this.state_clear();}};_285.onfocus=function(node){if(_27b("ie")){if(!dom.getTabIndex(node)){return;}}if(node.nodeType!=1){return;}var _28d=this.state;_28d.active=node;if(_28d._timer){this._ontab(node);}else{_27e.add(node,"mx-focus");}};_285._onBlurNode=function(node){_27e.remove(node,"mx-focus");};_285.state_clear=function(){var _28e=this.state;_28e.node=null;_28e.box=null;};_285.timer_clear=function(){};_285.next=function(){var _28f=this.state;if(_28f.active&&_28f.active.nodeType==1){var _290=_28f.active;var _291=this.byNode(_290);if(_291){var next=this._getNextNode(_290);if(next){this.put(next);}else{}}}};_285.keydownpatch=function(e){if(e.keyCode==_279.UP_ARROW||e.keyCode==_279.DOWN_ARROW){var _292=this.state;this.onkeypress(e);_292._patch_inWork=true;setTimeout(function(){_292._patch_inWork=null;},10);}};_285.onkeypress=function(e){var _293=this.state;if(_293._patch_inWork){return;}var _294=e.shiftKey;var _295=e.target;if(e.keyCode===_279.TAB){if(_295.nodeName.toLowerCase()=="html"){if(this._clickedNode){_295=this._clickedNode;}else{return;}}var next=this._getNextNode(_295,_294);if(next){this.put(next);}_27f.stop(e);}else{var box=this.byNode(_295);if(box){var _296=_295,nn=null;do{if(box.onFocusPress&&!box.onFocusPress(e,_296)){_27f.stop(e);break;}var _297=box.domNode;_296=_297;nn=_297.parentNode;}while(nn&&(box=this.byNode(nn))!=null);}}};_285._getStack=function(_298,box){box=(box||this.byNode(_298));if(box.getFocusStack){try{return box.getFocusStack(_298);}catch(e){var _299=_278.create();_299.box=box;return _299;}}return _278.buildStack(_298,box);};_285._getFirst=function(node,dir,_29a){if(this.isBox(node)){var _29b=_29a||this._getStack(node);if(_29b.length===0){if(_285.getFocusIndex(node)){return node;}return null;}var _29c=_29b[dir=="next"?"first":"last"];return _29c?this._tryNode(_29c,dir):null;}return node;};_285._tryNode=function(_29d,dir){var node=_29d.node;if(this.isBox(node)){var _29e=this._getFirst(node,dir);if(_29e){return _29e;}else{return this._doNext(_29d,dir);}}return node;};_285._doNext=function(_29f,dir){if(!_29f){return null;}var _2a0=_29f[dir];if(!_2a0){return null;}return this._tryNode(_2a0,dir);};_285._getNextNode=function(node,_2a1){var box=null,_2a2=null,dir=!_2a1?"next":"prev";if(this.isBox(node)){box=this.byNode(node.parentNode);}else{box=this.byNode(node);}if(!box){return null;}var _2a3=this._getStack(node,box),next=this._doNext(_2a3.find(node),dir);if(!next){_2a2=_2a3.box.domNode;if(this.cyclic(_2a2)){return this._getFirst(_2a2,dir,_2a3);}else{next=this._getNextNode(box.domNode,_2a1);if(!next){}}}return next;};_285.skip=function(node,_2a4){if(node&&node.setAttribute){if(arguments.length==2){_2a4=!!_2a4;node.setAttribute("focusNoSkip",_2a4);return _2a4;}var _2a5=/true/.test(node.getAttribute("focusNoSkip"));return _2a5?!_2a5:node.readOnly;}return true;};_285.focusable=function(node){if(!node||node.nodeType!=1||node.disabled||_285.skip(node)){return false;}var _2a6=node.style;if(_2a6.display=="none"||_2a6.visibility=="hidden"){return false;}if(node.offsetWidth===0&&node.offsetHeight===0){return 0;}return true;};_285.cyclic=function(node,_2a7){if(node&&node.setAttribute){if(arguments.length==2){var s=/true/.test(_2a7);node.setAttribute("focusCycle",s);return s;}return /true/.test(node.getAttribute("focusCycle"));}return false;};_285.focusIndex=function(node,_2a8){if(node&&node.getAttribute){if(arguments.length==2){node.setAttribute("focusIndex",_2a8);return _2a8;}return node.getAttribute("focusIndex");}return null;};_285.addBox=function(node){var box=new _277(node);this.register(box);return box;};_285.removeBox=function(node){var box=this.byNode(node);if(box){this.unregister(box);return true;}return false;};_285.isBox=function(node){if(node&&node.getAttribute){var fi=this.focusIndex(node);if(_284.byNode(node)){return fi!=-2?true:false;}else{if(fi){return true;}}return !!(node.getAttribute("focus-id"));}return false;};_285.byNode=function(node){var fi,id,w;do{if(node&&node.getAttribute){fi=this.focusIndex(node);if(fi==-2){continue;}w=_284.byNode(node);if(w){return w;}id=node.getAttribute("focus-id");if(id){return this.byId(id);}if(fi){return {domNode:node};}}}while(node&&(node=node.parentNode));return null;};_285.byId=function(_2a9){return this.registry[_2a9];};_285.register=function(box){var id=box.id;if(this.registry[id]){return false;}else{this.registry[id]=box;return true;}};_285.unregister=function(box){if(this.registry[box.id]){box.domNode.removeAttribute("focus-id");delete this.registry[box.id];box.destroy();}};_27d(function(){_285.start();});});},"mxui/wm/_FocusBox":function(){define(["mxui/dom","mxui/wm/_FocusStack","mxui/wm/focus","mendix/lang","dojo/keys","dojo/_base/connect","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(dom,_2aa,_2ab,lang,_2ac,_2ad,_2ae,_2af,_2b0){var _2b1={getFocusStack:function(){var _2b2=_2aa.create();_2b2.box=this;var _2b3=null;var _2b4=null;var _2b5=false;var _2b6=this.nodes;for(var i=0,l=_2b6.length;i<l;i++){var node=_2b6[i].node;var tab=_2ab.getFocusIndex(node);var vi=_2ab.focusable(node);if(tab){if(vi){_2b3=node;break;}else{_2b5=true;node.tabIndex=-1;}}else{if(vi){if(_2b5){_2b3=node;_2b3.tabIndex=1;break;}_2b4=node;}}}if(!_2b3){_2b3=_2b4;_2b3&&(_2b3.tabIndex=1);}if(_2b3){_2b2.push(_2b3);_2b2.last=_2b2.first=_2b2._curr={prev:null,next:null,node:_2b3,stack:_2b2};}return _2b2;},_onmousedown:function(e){var _2b7=e.target;if(_2b7.nodeName.toLowerCase()=="option"){_2b7=_2b7.parentNode;}var node=_2b7;var s=null;var _2b8=this.domNode;do{s=dom.data(node,"box-node");if(s&&s.box==this){break;}}while((node!=null)&&(node!=_2b8)&&(node=node.parentNode)!=null);if(s){var _2b9=dom.getTabIndex(_2b7);this._focus(s.node,_2b9!=null);}},_focus:function(_2ba,_2bb){var _2bc=this.getFocusStack();var _2bd=_2bc._curr;if(_2bd){_2bd.node.tabIndex=-1;}_2ba.tabIndex=1;_2ba=_2ab._tryNode({node:_2ba,stack:_2bc},"next");if(!_2bb){_2ab.put(_2ba);}},next:function(_2be,dir){var data=dom.data(_2be,"box-node");if(data){var _2bf=this._getNextNode(data,dir);if(_2bf){var next=_2bf.node;next.tabIndex=0;_2be.tabIndex=-1;return next;}}else{}return null;},_getNextNode:function(_2c0,dir){if(!_2c0){return null;}var data=_2c0;while((data=data[dir])!=null){var node=data.node;if(_2ab.focusable(node)){return data;}}return null;}};var _2c1=_2b0(null,{declaredClass:"mxui.wm.focus.Box",id:null,domNode:null,nested:false,FOCUS_NEXT:"FOCUS_NEXT",FOCUS_PREV:"FOCUS_PREV",constructor:function(node){this.id=lang.getUniqueId();this.domNode=node;this.nodes=[];this.keys={};this.handlers={};node.setAttribute("focus-id",this.id);},add:function(node){var s=dom.data(node,"box-node",{box:this,next:null,prev:null,node:node});var _2c2=this.nodes.length;if(_2c2!=0){var prev=this.nodes[_2c2-1];s.prev=prev;prev.next=s;node.tabIndex=-1;}else{node.tabIndex=0;}if(!this.converted){this.converted=true;_2af.mixin(this,_2b1);this._boxhandler=_2ad.connect(this.domNode,"onmousedown",_2af.hitch(this,"_onmousedown"));}this.nodes.push(s);},pressed:function(_2c3,_2c4){var keys=this.keys;var hs=this.handlers;for(var key in _2c3){var code=_2ac[key]||key;var fnc=_2c3[key];if(fnc==this.FOCUS_NEXT){keys[code]="next";}else{if(fnc==this.FOCUS_PREV){keys[code]="prev";}else{if(typeof fnc=="string"){fnc=_2c4[fnc];}if(typeof fnc!="function"){logger.error(this.id+".pressed: Passed stuff is not a function: "+key);}else{if(hs[code]){}hs[code]=[_2c4,fnc];}}}}},destroy:function(){if(!this._destroyed){var _2c5=this.nodes;for(var i=0,l=_2c5.length;i<l;i++){var node=_2c5[i].node;dom.data(node,"box-node",null);}this.nodes=null;this.keys=null;this.handlers=null;this._boxhandler&&this._boxhandler.remove();this._destroyed=true;}},getHandler:function(e){var code=typeof (e.charOrCode)!="undefined"?e.charOrCode:e.keyCode;return this.handlers[(code==" ")?_2ac.SPACE:code];},getFocusDirection:function(e){var nav=this.domNode.getAttribute("focuskeys");if(nav){var up,lr;if(nav=="up-down"){if(e.keyCode==_2ac.UP_ARROW){up="prev";}else{if(e.keyCode==_2ac.DOWN_ARROW){up="next";}}}if(nav=="left-right"){if(e.keyCode==_2ac.LEFT_ARROW){lr="prev";}else{if(e.keyCode==_2ac.RIGHT_ARROW){lr="next";}}}return up||lr;}else{var code=typeof (e.charOrCode)!="undefined"?e.charOrCode:e.keyCode;code=(code==" ")?_2ac.SPACE:code;var key=this.keys[code];if(key){return key;}}return null;},onFocusPress:function(e,_2c6){var dir=this.getFocusDirection(e);if(e.altKey||e.shiftKey||e.ctrlKey){return true;}if(dir){var data=dom.data(_2c6,"box-node");if(data){var next=this.next(_2c6,dir);if(next){_2ab.put(next);return false;}_2ae.stop(e);}else{}}else{var h=this.getHandler(e);if(h){try{return h[1].call(h[0],e,_2c6);}catch(error){logger.error(this.id+".onFocusPress: Error when executing handler: "+error.message);return true;}}}return true;},next:function(_2c7,dir){var _2c8=_2ab._getStack(_2c7,this);var next=_2ab._doNext(_2c8.find(_2c7),dir);return next;}});return _2c1;});},"mxui/dom":function(){define(["mxui/wm/focus","mendix/lang","dojo/sniff","dojo/_base/lang","dojo/_base/kernel","dojo/_base/connect","dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/window","mendix/logger"],function(_2c9,lang,_2ca,_2cb,_2cc,_2cd,_2ce,_2cf,_2d0,_2d1,_2d2,_2d3){var _2d4=0,_2d5=document.createElement("p");function _2d6(url){if(!/^\w+:\/\//.test(url)){url=mx.appUrl+url;}var _2d7=mx.server.getCacheBust();if(lang.startsWith(url,mx.appUrl)&&!lang.endsWith(url,_2d7)){url+=(/\?/.test(url)?"&":"?")+_2d7;}return url;};function _2d8(_2d9){_2d9=_2d9||{};var _2da=function(id,node){if(!id){id=_2d4++;node.setAttribute("data-id",id);}return id;};return function(node,key,_2db){var id=typeof node==="string"?node:node.getAttribute("data-id"),map=_2d9[id];switch(arguments.length){case 1:return map;case 2:if(key===null){delete _2d9[id];return;}else{if(typeof key=="object"){if(!map){return _2d9[_2da(id,node)]=key;}else{return _2cb.mixin(map,key);}}else{return map&&map[key];}}break;case 3:if(_2db===null){if(map){delete map[key];}if(lang.objectIsEmpty(map)){return;}delete _2d9[id];return;}else{if(!map){map=_2d9[_2da(id,node)]={};}return map[key]=_2db;}}};};var dom={minContainerHeight:100,nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},walkNode:function(root,_2dc,_2dd){var _2de=[0],_2df;var _2e0=function(node){try{_2df=node?_2dc.call(_2dd,node,_2de.slice())!==false:false;}catch(e){_2d3.error("mxui.dom.walkNode: Unable to execute action on node: "+e.message);_2df=false;}if(_2df&&node.hasChildNodes){var i=_2de.push(0)-1;var _2e1=null,_2e2=node.firstChild;while(_2e2){_2e2=(_2e1=_2e2).nextSibling;_2e0(_2e1);_2de[i]++;}_2de.pop();}};_2e0(root);},nextNode:function(_2e3,_2e4){if(!_2e3||!_2e4){return true;}var cl=_2e4.length,sl=_2e3.length,_2e5=_2e4.length-1;return (sl>cl)||(cl==sl&&_2e4[_2e5]>_2e3[_2e5]);},getAncestorNode:function(node,name,_2e6){return node&&((node.nodeName==name)?node:((--_2e6===0)?false:arguments.callee(node.parentNode,name,_2e6)));},getFirstChild:function(node,name){_2cc.deprecated("mxui.dom.getFirstChild","Use dojo.query instead","5.0");if(typeof name=="string"){name=[name.toLowerCase()];}var _2e7=false;var func=function(node){for(var i=0;i<name.length;i++){if(node.nodeName.toLowerCase()==name[i]){if(_2e7===false){_2e7=node;return false;}}}return true;};function _2e8(_2e9,_2ea){if(_2e9&&_2ea(_2e9)&&_2e9.hasChildNodes){for(var i=0;i<_2e9.childNodes.length;i++){_2e8(_2e9.childNodes[i],_2ea);}}};_2e8(node,func);return _2e7;},findOverflowParent:function(node){while(node=node.parentNode){if(node===document.body){break;}var _2eb=_2d1.get(node,"overflow");if(_2eb==="auto"||_2eb==="scroll"){return node;}}return document.documentElement.scrollTop>0?document.documentElement:document.body;},scrollOverflowParentTo:function(node,to){var _2ec=dom.findOverflowParent(node);if(_2ec){_2ec.scrollTop=to;}},getElementsByTagNameNoNS:function(doc,_2ed){if(doc.getElementsByTagNameNS){return doc.getElementsByTagNameNS("*",_2ed);}else{if("selectNodes" in doc){doc.setProperty("SelectionLanguage","XPath");return doc.selectNodes("//*[local-name() = '"+_2ed+"']");}else{throw new Error("mxui.dom.getElementsByTagNameNoNS not supported");}}},escapeHTMLQuotes:function(str){return str.replace(/'/g,"&#39;").replace(/\"/g,"&#34;");},convertNlToBr:function(str){return str.replace(/\n/g,"<br />");},setSelectOptions:function(node,_2ee,_2ef){var $=dom.create;if(!node){return;}_2ee=_2ee||{};dom.empty(node);node.appendChild($("option",{value:""},""));for(var key in _2ee){var _2f0=$("option",{value:key},_2ee[key]);node.appendChild(_2f0);if(key==_2ef){_2f0.selected=true;}}},getSelectedValue:function(node){if(node.nodeName.toLowerCase()=="select"){return (node.selectedIndex!=-1)?node.options[node.selectedIndex].value:null;}else{return null;}},getSelectedText:function(node){return node.options[node.selectedIndex].text;},selectOptionByValue:function(node,_2f1){for(var i=0;i<node.length;++i){if(node.options[i].value==_2f1){node.options[i].selected=true;}}},selectOptionByText:function(node,text){for(var i=0;i<node.length;++i){if(node.options[i].text==text){node.options[i].selected=true;}}},enableNode:function(node){node.removeAttribute("readonly");node.removeAttribute("disabled");},disableNode:function(node){node.setAttribute("disabled","disabled");node.setAttribute("readonly","readonly");},disableSelection:function(e){if(!_2ca("ie")){e.style.MozUserSelect="none";}else{e.unselectable="on";}return true;},clearSelection:function(){var w=window,s=document.selection;if(s){try{if(s.empty){s.empty();}}catch(e){}}else{s=w.getSelection&&w.getSelection();if(s&&s.removeAllRanges){s.removeAllRanges();}}},selectTextRange:function(_2f2,_2f3,_2f4){if(_2f2.createTextRange){var _2f5=_2f2.createTextRange();_2f5.collapse(true);_2f5.moveEnd("character",_2f4);_2f5.moveStart("character",_2f3);_2f5.select();}else{if(_2f2.setSelectionRange){_2f2.setSelectionRange(_2f3,_2f4);}}},getCursorPosition:function(_2f6){if(document.selection){var _2f7=Math.abs(document.selection.createRange().moveStart("character",-1000000));document.selection.createRange().moveEnd("character",-1000000);return _2f7;}else{if(_2f6.setSelectionRange){return _2f6.selectionStart;}}},getSelection:function(_2f8){if(document.selection){var _2f9=Math.abs(document.selection.createRange().moveStart("character",-1000000));var end=Math.abs(document.selection.createRange().moveEnd("character",-1000000));return {start:_2f9,end:end};}else{if(_2f8.setSelectionRange){return {start:_2f8.selectionStart,end:_2f8.selectionEnd};}}},insertAtCaret:function(_2fa,text){var _2fb=this.getSelection(_2fa),_2fc=_2fb.start+text.length,_2fd=_2fa.value;_2fa.value=_2fd.substring(0,_2fb.start)+text+_2fd.substring(_2fb.end,_2fd.length);this.selectTextRange(_2fa,_2fc,_2fc);},liveConnect:function(node,evt,_2fe,r,_2ff){if(arguments.length==3){r=_2fe;_2fe=null;}var tags={},_300=[];for(var i in r){var _301=i.split(".");var tag=_301[0];var _302=_301[1];var item=r[i];if((typeof item=="string"&&_2fe[item])||typeof item=="function"){var _303={fnc:item};if(tag){tags[String(tag).toUpperCase()]=_303;}else{if(_302){_300.push(_303);}}if(_302){_303.clazz=_302;}}}var _304=function(node){for(var i=0,item;item=_300[i];i++){if(_2cf.contains(node,item.clazz)){return item;}}return null;};var run=function(fnc,e){if(typeof (fnc)=="function"){fnc(e);}else{if(_2fe&&_2fe[fnc]){_2fe[fnc](e);}}};return _2cd.connect(node,evt,function(e){var _305=e.target;var _306=node;var e2={target:e.target};for(var i in e){var val=e[i];if(val==null||!(val instanceof Object)){e2[i]=val;}}while(_305!=_306&&_305!=null){var _307=tags[_305.nodeName];var _308=_304(_305);if(_307){var _309=_307.clazz;_307=((!_309)||(_2cf.contains(_305,_309)))?_307:null;}e2.currentTarget=_305;if(_307){run(_307.fnc,e2);}if(_308){run(_308.fnc,e2);}if(_2ff&&(_307||_308)){break;}_305=_305.parentNode;}});},liveDisconnect:function(_30a){_2cd.disconnect(_30a);},create:function(_30b,_30c,_30d){var elem,args=[].slice.call(arguments,1);_30c=_30c||{};if(_30c.nodeName||typeof _30c=="string"){_30d=args;_30c={};}else{_30d=args.slice(1);}if(_30b=="#"){elem=document.createDocumentFragment();}else{elem=document.createElement(_30b);for(var attr in _30c){var _30e=_30c[attr];if(attr=="style"&&typeof _30e!="string"){var _30f=elem.style;for(var i in _30e){_30f[i]=_30e[i];}}else{elem.setAttribute(attr,_30e);}}}_2ce.forEach(_30d,function(_310){if(typeof _310=="string"){_2ce.forEach(_310.split("\r\n"),function(line,i){if(i>0){elem.appendChild(dom.create("br"));}elem.appendChild(document.createTextNode(line));});}else{elem.appendChild(_310);}});return elem;},synthesizeEvent:function(evt,_311){var faux=_2cb.mixin({},evt,_311);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;},capture:function(_312,evt,_313){var _314=!_312.addEventListener,_315=_312[_314?"attachEvent":"addEventListener"],_316=_312[_314?"detachEvent":"removeEventListener"],_317=_314?"on"+evt:evt;_315.call(_312,_317,_313,true);return {remove:function(){_316.call(_312,_317,_313,true);}};},supports:function(prop){var _318=document.body.style;if(prop in _318){return prop;}},text:function(node,str){if(typeof str!=="undefined"){node.innerHTML="";node.appendChild(document.createTextNode(str));}else{return "textContent" in node?node.textContent:node.innerText;}},html:function(node,str){if(typeof str!=="undefined"){node.innerHTML=str;}else{return node.innerHTML;}},orphan:function(node){var p=node.parentNode;if(p){p.removeChild(node);}},isOrphan:function(node){return !node.parentNode||node.parentNode.nodeType==dom.nodeTypes.DOCUMENT_FRAGMENT_NODE;},empty:function(node){var _319;while(_319=node.firstChild){node.removeChild(_319);}},toArray:function(_31a){return _2ce.map(_31a,function(_31b){return _31b;});},escapeString:function(str){var _31c=str.split(/\r\n|\n/),out=[];for(var i=0;i<_31c.length;++i){dom.text(_2d5,_31c[i]);out.push(_2d5.innerHTML);}return out.join("\n");},unescapeString:function(str){return str.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,"\"").replace(/&amp;/g,"&");},getCss:function(path,doc){doc=doc||document;path=_2d6(path);return lang.find(doc.getElementsByTagName("link"),function(node){return node.href==path;});},createCssLink:function(path,_31d){var _31e={rel:"stylesheet",href:_2d6(path)};if(_31d){_31e.media=_31d;}return dom.create("link",_31e);},addCss:function(path,doc,_31f){doc=doc||document;var link=dom.getCss(path,doc);if(link){return link;}var node=dom.createCssLink(path,_31f);doc.querySelector("head").appendChild(node);return node;},removeCss:function(_320,doc){var file=dom.getCss(_320,doc);if(file){file.parentNode.removeChild(file);return true;}return false;},ieFocusable:{"a":true,"body":true,"button":true,"frame":true,"iframe":true,"input":true,"isIndex":true,"object":true,"select":true,"textarea":true},getTabIndex:function(node){if(!node||!node.getAttribute){return null;}var _321;if(_2ca("ie")||_2ca("trident")||_2ca("edge")){_321=node.tabIndex;if(_321===0){var _322=node.nodeName.toLowerCase(),_323=node.attributes.tabIndex,_324=_323&&_323.specified===true;return _324||dom.ieFocusable[_322]?"0":null;}else{return ""+_321;}}else{var _325=node.getAttribute("tabindex");_321=String(node.tabIndex);if(_325!=null||_321>=0){if(!_2ca("ff")){return (_325==="")?null:_321;}else{return _321;}}else{return null;}}},moveFocusTo:function(node){if(_2ca("mobile")){_2c9.blur();}else{_2c9.first(node);}},coords:function(node){return _2cb.mixin(_2d0.position(node),_2d0.getMarginBox(node));},data:_2d8(),getScopedData:_2d8,moveIntoView:function(node,_326){_326=_326||0;var pos=_2d0.position(node),_327=_2d2.getBox(),_328=node.style,_329=pos.y+pos.h+_326,_32a=pos.x+pos.w+_326;if(pos.y<_326||pos.h+_326*2>_327.h){_328.top=_326+"px";}else{if(_329>_327.h){_328.top=pos.y-(_329-_327.h)+"px";}}if(pos.x<_326||pos.w+_326*2>_327.w){_328.left=_326+"px";}else{if(_32a>_327.w){_328.left=pos.x-(_32a-_327.w)+"px";}}},getNodeExtents:function(node){var cs=_2d1.getComputedStyle(node),me=_2d0.getMarginExtents(node,cs),be=_2d0.getBorderExtents(node,cs),pe=_2d0.getPadExtents(node,cs);return {w:me.w+be.w+pe.w,h:me.h+be.h+pe.h};},dispatchEvent:function(node,_32b){if("createEvent" in document){var evt=document.createEvent("HTMLEvents");evt.initEvent(_32b.substr(2,_32b.length),true,true);node.dispatchEvent(evt);}else{if(node.fireEvent){node.fireEvent([_32b]);}}}};return dom;});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_32c,dom,geom,_32d,_32e){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_32c.body(doc),_32f=_32e.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_32e.create("div",{style:{overflow:"hidden",direction:"ltr"}},_32f,"last"),ret=geom.position(div).x!=0;_32f.removeChild(div);body.removeChild(_32f);return ret;});has.add("position-fixed-support",function(win,doc){var body=_32c.body(doc),_330=_32e.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_331=_32e.create("span",{style:{position:"fixed",left:"0",top:"0"}},_330,"last"),ret=geom.position(_331).x!=geom.position(_330).x;_330.removeChild(_331);body.removeChild(_330);return ret;});var _332={getBox:function(doc){doc=doc||_32c.doc;var _333=(doc.compatMode=="BackCompat")?_32c.body(doc):doc.documentElement,_334=geom.docScroll(doc),w,h;if(has("touch")){var _335=_332.get(doc);w=_335.innerWidth||_333.clientWidth;h=_335.innerHeight||_333.clientHeight;}else{w=_333.clientWidth;h=_333.clientHeight;}return {l:_334.x,t:_334.y,w:w,h:h};},get:function(doc){if(has("ie")&&_332!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_32c.doc,body=_32c.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera")||has("trident"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _336=doc.compatMode=="BackCompat",_337=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_338=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_339=(isWK||_336)?body:html,_33a=pos||geom.position(node),el=node.parentNode,_33b=function(el){return (isIE<=6||(isIE==7&&_336))?false:(has("position-fixed-support")&&(_32d.get(el,"position").toLowerCase()=="fixed"));},self=this,_33c=function(el,x,y){if(el.tagName=="BODY"||el.tagName=="HTML"){self.get(el.ownerDocument).scrollBy(x,y);}else{x&&(el.scrollLeft+=x);y&&(el.scrollTop+=y);}};if(_33b(node)){return;}while(el){if(el==body){el=_339;}var _33d=geom.position(el),_33e=_33b(el),rtl=_32d.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_339){_33d.w=_337;_33d.h=_338;if(_339==html&&(isIE||has("trident"))&&rtl){_33d.x+=_339.offsetWidth-_33d.w;}if(_33d.x<0||!isIE||isIE>=9||has("trident")){_33d.x=0;}if(_33d.y<0||!isIE||isIE>=9||has("trident")){_33d.y=0;}}else{var pb=geom.getPadBorderExtents(el);_33d.w-=pb.w;_33d.h-=pb.h;_33d.x+=pb.l;_33d.y+=pb.t;var _33f=el.clientWidth,_340=_33d.w-_33f;if(_33f>0&&_340>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_33d.x+=_340;}_33d.w=_33f;}_33f=el.clientHeight;_340=_33d.h-_33f;if(_33f>0&&_340>0){_33d.h=_33f;}}if(_33e){if(_33d.y<0){_33d.h+=_33d.y;_33d.y=0;}if(_33d.x<0){_33d.w+=_33d.x;_33d.x=0;}if(_33d.y+_33d.h>_338){_33d.h=_338-_33d.y;}if(_33d.x+_33d.w>_337){_33d.w=_337-_33d.x;}}var l=_33a.x-_33d.x,t=_33a.y-_33d.y,r=l+_33a.w-_33d.w,bot=t+_33a.h-_33d.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_339||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_336)||isIE>=9||has("trident"))){s=-s;}old=el.scrollLeft;_33c(el,s,0);s=el.scrollLeft-old;_33a.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_339||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;_33c(el,0,s);s=el.scrollTop-old;_33a.y-=s;}el=(el!=_339)&&!_33e&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_332);return _332;});},"mxui/wm/_FocusStack":function(){define(["mxui/dom","mxui/wm/focus"],function(dom,_341){var _342={create:function(){var _343=[];_343.find=this.find;_343.each=this.each;_343.box=null;_343.last=null;_343.first=null;_343.f_first=null;_343.f_last=null;return _343;},buildStack:function(_344,box){var _345=null;var _346=null;var _347=null;var _348=null;var _349=null;var _34a=this.create();_34a.box=box=(box||_341.byNode(_344));var _34b=_344==box.domNode;var ni=_34b?"0":dom.getTabIndex(_344);var _34c=box.domNode;var _34d=null;var _34e=null;var _34f=null;var _350=null;if(!_34b&&!_341.focusable(_344)){_34d=_344;while((_34d=_34d.parentNode)!=null){var vi=_341.focusable(_34d);if(vi||_34d==_34c){_34e=_34f;break;}_34f=_34d;}}dom.walkNode(_34c,function(node,_351){if(node==_34c){return true;}var one=(node==_344);if(!one){var vi=_341.focusable(node);if(!vi){if(_34e){if(_350){if(dom.nextNode(_350,_351)){_350=false;}else{return true;}}else{if(node==_34e){_350=_351;return true;}}}return vi===0;}}var _352=this.isBox(node);var ci=_341.getFocusIndex(node);if(!ci&&_352){if(dom.getTabIndex(node)<0){return false;}ci=node.getAttribute("focusIndex")||"0";}if(one||ci){var item={node:node,stack:_34a,next:null,prev:null};if(ni==-1){if(_347){if(_348==null||(_348>ci)){_348=ci;_349=item;}}else{if(one){_347=true;}}}if(ci){if(!_345){_345=item;}_346=item;var _353=_34a[ci];if(!_353){_353=_34a[ci]=[];}_353.push(item);}else{_34a._curr=item;}return false;}},_341);if(ni==-1){var curr=_34a._curr;if(curr){curr.prev=curr.next=_349;}}_34a.each(function(node,_354){if(!this.first){this.first=_354;}var prev=_354.prev=this.last;if(prev){prev.next=_354;}this.last=_354;if(_344==node){this._curr=_354;}},null,_34a);_34a.f_first=_345;_34a.f_last=_346;return _34a;},each:function(fnc,_355,_356){if(_355=="prev"){var i=this.length;while(0<=--i){var _357=this[i];var l=_357&&_357.length;if(l){for(var c=l-1;0<=c;c--){var stop=fnc.call(_356,_357[c].node,_357[c],i);if(stop!=null){return stop;}}}}}else{var i=-1;while(++i<this.length){var _357=this[i];var l=_357&&_357.length;if(l){for(var c=0;c<l;c++){var stop=fnc.call(_356,_357[c].node,_357[c],i);if(stop!=null){return stop;}}}}}return null;},find:function(_358){if(this._curr&&this._curr.node==_358){return this._curr;}var ni=dom.getTabIndex(_358)||"0";if(ni!=-1){var i=ni;do{var _359=this[i];if(_359){for(var c=0,l=_359.length;c<l;c++){var n=_359[c];if(n.node==_358){return n;}}}}while(++i<this.length);}var _35a=null;var _35b=this.box.domNode;var node=_358;while((node=node.parentNode)!=null&&node!=_35b){if(!_341.focusable(node)){continue;}if(_341.getFocusIndex(node)){_35a=node;}}return _35a?this.find(_35a):null;}};return _342;});},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_35c,_35d,dom,_35e,_35f,_360,_361,lang,on,_362,has,_363,win,_364,a11y,_365,_366){var _367;var _368;var _369=_35d([_363,_361],{curNode:null,activeStack:[],constructor:function(){var _36a=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_35c.before(_360,"empty",_36a);_35c.before(_360,"destroy",_36a);},registerIframe:function(_36b){return this.registerWin(_36b.contentWindow,_36b);},registerWin:function(_36c,_36d){var _36e=this,body=_36c.document&&_36c.document.body;if(body){var _36f=has("pointer-events")?"pointerdown":has("MSPointer")?"MSPointerDown":has("touch-events")?"mousedown, touchstart":"mousedown";var mdh=on(_36c.document,_36f,function(evt){if(evt&&evt.target&&evt.target.parentNode==null){return;}_36e._onTouchNode(_36d||evt.target,"mouse");});var fih=on(body,"focusin",function(evt){if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isFocusable(evt.target)){_36e._onFocusNode(_36d||evt.target);}else{_36e._onTouchNode(_36d||evt.target);}});var foh=on(body,"focusout",function(evt){_36e._onBlurNode(_36d||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;body=null;}};}},_onBlurNode:function(node){var now=(new Date()).getTime();if(now<_367+100){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}if(now<_368+100){return;}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){_368=(new Date()).getTime();if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}if(_35f.contains(node,"dijitPopup")){node=node.firstChild;}var _370=[];try{while(node){var _371=_35e.get(node,"dijitPopupParent");if(_371){node=_365.byId(_371).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_364.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_372=id&&_365.byId(id);if(_372&&!(by=="mouse"&&_372.get("disabled"))){_370.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_370,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}_367=(new Date()).getTime();if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_373,by){var _374=this.activeStack,_375=_374.length-1,_376=_373.length-1;if(_373[_376]==_374[_375]){return;}this.set("activeStack",_373);var _377,i;for(i=_375;i>=0&&_374[i]!=_373[i];i--){_377=_365.byId(_374[i]);if(_377){_377._hasBeenBlurred=true;_377.set("focused",false);if(_377._focusManager==this){_377._onBlur(by);}this.emit("widget-blur",_377,by);}}for(i++;i<=_376;i++){_377=_365.byId(_373[i]);if(_377){_377.set("focused",true);if(_377._focusManager==this){_377._onFocus(by);}this.emit("widget-focus",_377,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _378=new _369();_362(function(){var _379=_378.registerWin(_364.get(document));if(has("ie")){on(window,"unload",function(){if(_379){_379.remove();_379=null;}});}});_366.focus=function(node){_378.focus(node);};for(var attr in _378){if(!/^_/.test(attr)){_366.focus[attr]=typeof _378[attr]=="function"?lang.hitch(_378,attr):_378[attr];}}_378.watch(function(attr,_37a,_37b){_366.focus[attr]=_37b;});return _378;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_37c,lang,_37d,when){return _37c("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});},postscript:function(_37e){if(_37e){this.set(_37e);}},_get:function(name,_37f){return typeof this[_37f.g]==="function"?this[_37f.g]():this[name];},get:function(name){return this._get(name,this._getAttrNames(name));},set:function(name,_380){if(typeof name==="object"){for(var x in name){if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,name[x]);}}return this;}var _381=this._getAttrNames(name),_382=this._get(name,_381),_383=this[_381.s],_384;if(typeof _383==="function"){_384=_383.apply(this,Array.prototype.slice.call(arguments,1));}else{this[name]=_380;}if(this._watchCallbacks){var self=this;when(_384,function(){self._watchCallbacks(name,_382,_380);});}return this;},_changeAttrValue:function(name,_385){var _386=this.get(name);this[name]=_385;if(this._watchCallbacks){this._watchCallbacks(name,_386,_385);}return this;},watch:function(name,_387){var _388=this._watchCallbacks;if(!_388){var self=this;_388=this._watchCallbacks=function(name,_389,_38a,_38b){var _38c=function(_38d){if(_38d){_38d=_38d.slice();for(var i=0,l=_38d.length;i<l;i++){_38d[i].call(self,name,_389,_38a);}}};_38c(_388["_"+name]);if(!_38b){_38c(_388["*"]);}};}if(!_387&&typeof name==="function"){_387=name;name="*";}else{name="_"+name;}var _38e=_388[name];if(typeof _38e!=="object"){_38e=_388[name]=[];}_38e.push(_387);var _38f={};_38f.unwatch=_38f.remove=function(){var _390=_37d.indexOf(_38e,_387);if(_390>-1){_38e.splice(_390,1);}};return _38f;}});});},"dijit/a11y":function(){define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_391,dom,_392,_393,lang,has,_394){var _395;var a11y={_isElementShown:function(elem){var s=_393.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_392.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _392.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _396=elem.contentDocument;if("designMode" in _396&&_396.designMode=="on"){return true;}body=_396.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_392.get(elem,"disabled")){return _395;}else{if(_392.has(elem,"tabIndex")){return +_392.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_395;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _397,last,_398,_399,_39a,_39b,_39c={};function _39d(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _39e=a11y._isElementShown,_39f=a11y.effectiveTabIndex;var _3a0=function(_3a1){for(var _3a2=_3a1.firstChild;_3a2;_3a2=_3a2.nextSibling){if(_3a2.nodeType!=1||(has("ie")<=9&&_3a2.scopeName!=="HTML")||!_39e(_3a2)){continue;}var _3a3=_39f(_3a2);if(_3a3>=0){if(_3a3==0){if(!_397){_397=_3a2;}last=_3a2;}else{if(_3a3>0){if(!_398||_3a3<_399){_399=_3a3;_398=_3a2;}if(!_39a||_3a3>=_39b){_39b=_3a3;_39a=_3a2;}}}var rn=_39d(_3a2);if(_392.get(_3a2,"checked")&&rn){_39c[rn]=_3a2;}}if(_3a2.nodeName.toUpperCase()!="SELECT"){_3a0(_3a2);}}};if(_39e(root)){_3a0(root);}function rs(node){return _39c[_39d(node)]||node;};return {first:rs(_397),last:rs(last),lowest:rs(_398),highest:rs(_39a)};},getFirstInTabbingOrder:function(root,doc){var _3a4=a11y._getTabNavigable(dom.byId(root,doc));return _3a4.lowest?_3a4.lowest:_3a4.first;},getLastInTabbingOrder:function(root,doc){var _3a5=a11y._getTabNavigable(dom.byId(root,doc));return _3a5.last?_3a5.last:_3a5.highest;}};1&&lang.mixin(_394,a11y);return a11y;});},"dijit/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dijit;});},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(_3a6,win,_3a7){var _3a8={},hash={};var _3a9={length:0,add:function(_3aa){if(hash[_3aa.id]){throw new Error("Tried to register widget with id=="+_3aa.id+" but that id is already registered");}hash[_3aa.id]=_3aa;this.length++;},remove:function(id){if(hash[id]){delete hash[id];this.length--;}},byId:function(id){return typeof id=="string"?hash[id]:id;},byNode:function(node){return hash[node.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in hash){ar.push(hash[id]);}return ar;},getUniqueId:function(_3ab){var id;do{id=_3ab+"_"+(_3ab in _3a8?++_3a8[_3ab]:_3a8[_3ab]=0);}while(hash[id]);return _3a7._scopeName=="dijit"?id:_3a7._scopeName+"_"+id;},findWidgets:function(root,_3ac){var _3ad=[];function _3ae(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _3af=node.getAttribute("widgetId");if(_3af){var _3b0=hash[_3af];if(_3b0){_3ad.push(_3b0);}}else{if(node!==_3ac){_3ae(node);}}}}};_3ae(root);return _3ad;},_destroyAll:function(){_3a7._curFocus=null;_3a7._prevFocus=null;_3a7._activeStack=[];_3a6.forEach(_3a9.findWidgets(win.body()),function(_3b1){if(!_3b1._destroyed){if(_3b1.destroyRecursive){_3b1.destroyRecursive();}else{if(_3b1.destroy){_3b1.destroy();}}}});},getEnclosingWidget:function(node){while(node){var id=node.nodeType==1&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;},_hash:hash};_3a7.registry=_3a9;return _3a9;});},"dijit/_base/focus":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(_3b2,dom,lang,_3b3,win,_3b4,_3b5,_3b6){var _3b7={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _3b6.getBookmark().isCollapsed;},getBookmark:function(){var sel=win.global==window?_3b5:new _3b5.SelectionManager(win.global);return sel.getBookmark();},moveToBookmark:function(_3b8){var sel=win.global==window?_3b5:new _3b5.SelectionManager(win.global);return sel.moveToBookmark(_3b8);},getFocus:function(menu,_3b9){var node=!_3b4.curNode||(menu&&dom.isDescendant(_3b4.curNode,menu.domNode))?_3b6._prevFocus:_3b4.curNode;return {node:node,bookmark:node&&(node==_3b4.curNode)&&win.withGlobal(_3b9||win.global,_3b6.getBookmark),openedForWindow:_3b9};},_activeStack:[],registerIframe:function(_3ba){return _3b4.registerIframe(_3ba);},unregisterIframe:function(_3bb){_3bb&&_3bb.remove();},registerWin:function(_3bc,_3bd){return _3b4.registerWin(_3bc,_3bd);},unregisterWin:function(_3be){_3be&&_3be.remove();}};_3b4.focus=function(_3bf){if(!_3bf){return;}var node="node" in _3bf?_3bf.node:_3bf,_3c0=_3bf.bookmark,_3c1=_3bf.openedForWindow,_3c2=_3c0?_3c0.isCollapsed:false;if(node){var _3c3=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_3c3&&_3c3.focus){try{_3c3.focus();}catch(e){}}_3b4._onFocusNode(node);}if(_3c0&&win.withGlobal(_3c1||win.global,_3b6.isCollapsed)&&!_3c2){if(_3c1){_3c1.focus();}try{win.withGlobal(_3c1||win.global,_3b6.moveToBookmark,null,[_3c0]);}catch(e2){}}};_3b4.watch("curNode",function(name,_3c4,_3c5){_3b6._curFocus=_3c5;_3b6._prevFocus=_3c4;if(_3c5){_3b3.publish("focusNode",_3c5);}});_3b4.watch("activeStack",function(name,_3c6,_3c7){_3b6._activeStack=_3c7;});_3b4.on("widget-blur",function(_3c8,by){_3b3.publish("widgetBlur",_3c8,by);});_3b4.on("widget-focus",function(_3c9,by){_3b3.publish("widgetFocus",_3c9,by);});lang.mixin(_3b6,_3b7);return _3b6;});},"dijit/selection":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(_3ca,dom,lang,has,_3cb,_3cc){var _3cd=function(win){var doc=win.document;this.getType=function(){if(doc.getSelection){var _3ce="text";var oSel;try{oSel=win.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _3cf=oSel.getRangeAt(0);if((_3cf.startContainer==_3cf.endContainer)&&((_3cf.endOffset-_3cf.startOffset)==1)&&(_3cf.startContainer.nodeType!=3)){_3ce="control";}}return _3ce;}else{return doc.selection.type.toLowerCase();}};this.getSelectedText=function(){if(doc.getSelection){var _3d0=win.getSelection();return _3d0?_3d0.toString():"";}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().text;}};this.getSelectedHtml=function(){if(doc.getSelection){var _3d1=win.getSelection();if(_3d1&&_3d1.rangeCount){var i;var html="";for(i=0;i<_3d1.rangeCount;i++){var frag=_3d1.getRangeAt(i).cloneContents();var div=doc.createElement("div");div.appendChild(frag);html+=div.innerHTML;}return html;}return null;}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().htmlText;}};this.getSelectedElement=function(){if(this.getType()=="control"){if(doc.getSelection){var _3d2=win.getSelection();return _3d2.anchorNode.childNodes[_3d2.anchorOffset];}else{var _3d3=doc.selection.createRange();if(_3d3&&_3d3.item){return doc.selection.createRange().item(0);}}}return null;};this.getParentElement=function(){if(this.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(doc.getSelection){var _3d4=doc.getSelection();if(_3d4){var node=_3d4.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}else{var r=doc.selection.createRange();r.collapse(true);return r.parentElement();}}return null;};this.hasAncestorElement=function(_3d5){return this.getAncestorElement.apply(this,arguments)!=null;};this.getAncestorElement=function(_3d6){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);};this.isTag=function(node,tags){if(node&&node.tagName){var _3d7=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _3d8=String(tags[i]).toLowerCase();if(_3d7==_3d8){return _3d8;}}}return "";};this.getParentOfType=function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;};this.collapse=function(_3d9){if(doc.getSelection){var _3da=win.getSelection();if(_3da.removeAllRanges){if(_3d9){_3da.collapseToStart();}else{_3da.collapseToEnd();}}else{_3da.collapse(_3d9);}}else{var _3db=doc.selection.createRange();_3db.collapse(_3d9);_3db.select();}};this.remove=function(){var sel=doc.selection;if(doc.getSelection){sel=win.getSelection();sel.deleteFromDocument();return sel;}else{if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}};this.selectElementChildren=function(_3dc,_3dd){var _3de;_3dc=dom.byId(_3dc);if(doc.getSelection){var _3df=win.getSelection();if(has("opera")){if(_3df.rangeCount){_3de=_3df.getRangeAt(0);}else{_3de=doc.createRange();}_3de.setStart(_3dc,0);_3de.setEnd(_3dc,(_3dc.nodeType==3)?_3dc.length:_3dc.childNodes.length);_3df.addRange(_3de);}else{_3df.selectAllChildren(_3dc);}}else{_3de=_3dc.ownerDocument.body.createTextRange();_3de.moveToElementText(_3dc);if(!_3dd){try{_3de.select();}catch(e){}}}};this.selectElement=function(_3e0,_3e1){var _3e2;_3e0=dom.byId(_3e0);if(doc.getSelection){var _3e3=doc.getSelection();_3e2=doc.createRange();if(_3e3.removeAllRanges){if(has("opera")){if(_3e3.getRangeAt(0)){_3e2=_3e3.getRangeAt(0);}}_3e2.selectNode(_3e0);_3e3.removeAllRanges();_3e3.addRange(_3e2);}}else{try{var tg=_3e0.tagName?_3e0.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_3e2=_3cb.body(doc).createControlRange();}else{_3e2=_3cb.body(doc).createRange();}_3e2.addElement(_3e0);if(!_3e1){_3e2.select();}}catch(e){this.selectElementChildren(_3e0,_3e1);}}};this.inSelection=function(node){if(node){var _3e4;var _3e5;if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.rangeCount>0){_3e5=sel.getRangeAt(0);}if(_3e5&&_3e5.compareBoundaryPoints&&doc.createRange){try{_3e4=doc.createRange();_3e4.setStart(node,0);if(_3e5.compareBoundaryPoints(_3e5.START_TO_END,_3e4)===1){return true;}}catch(e){}}}else{_3e5=doc.selection.createRange();try{_3e4=node.ownerDocument.body.createTextRange();_3e4.moveToElementText(node);}catch(e2){}if(_3e5&&_3e4){if(_3e5.compareEndPoints("EndToStart",_3e4)===1){return true;}}}}return false;};this.getBookmark=function(){var bm,rg,tg,sel=doc.selection,cf=_3cc.curNode;if(doc.getSelection){sel=win.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;};this.moveToBookmark=function(_3e6){var mark=_3e6.mark;if(mark){if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(doc.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=doc.body.createControlRange();_3ca.forEach(mark,function(n){rg.addElement(n);});}else{rg=doc.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}};this.isCollapsed=function(){return this.getBookmark().isCollapsed;};};var _3e7=new _3cd(window);_3e7.SelectionManager=_3cd;return _3e7;});},"mxui/html":function(){define([],function(){return {attrs:{"ForRole":"visibleForRoles","FormTitle":"formTitle"},stripTags:function(_3e8){if(typeof _3e8=="string"){return _3e8.replace(/<[a-zA-Z\/][^>]*>/g," ");}else{return _3e8;}},escapeQuotes:function(str){return str.replace(/\'/g,"&#39;").replace(/\"/g,"&#34;");}};});},"mxui/html/parser":function(){define(["mxui/dom","mendix/lang","dojo/json","dojo/_base/array","dojo/_base/lang","require"],function(_3e9,lang,_3ea,_3eb,_3ec,_3ed){function _3ee(_3ef,_3f0,_3f1){var _3f2="data-mendix-",_3f3=_3f2+"id",_3f4=_3f2+"type",_3f5=_3f2+"props",_3f6=[];_3f1=_3f1?(_3f1+"_"):"";_3eb.forEach(_3ef,function(node){var mxid=node.getAttribute(_3f3),_3f7=node.getAttribute(_3f5),type=node.getAttribute(_3f4),Clas=_3ec.getObject(type),_3f8=_3f7&&_3ea.parse("{"+_3f7+"}"),_3f9=_3ec.mixin(_3f8,_3f0,{mxid:mxid,uniqueid:_3f1+mxid,"class":node.className,style:node.style.cssText,focusIndex:_3e9.getTabIndex(node)});node.removeAttribute(_3f4);node.removeAttribute(_3f5);if(Clas){try{var _3fa=new Clas(_3f9,node);if(_3fa.name){var _3fb=_3ed("mxui/widget/PrimitiveWidgetWrapper");_3fa=new _3fb({widget:_3fa,mxform:_3fa.mxform});}_3f6.push(_3fa);}catch(e){_3fc(node,"Could not create widget "+type+": "+e);}}else{_3fc(node,"No constructor found for widget "+type);}});_3eb.forEach(_3f6,function(_3fd){if(_3fd.startup){if(!_3fd._started){try{_3fd.startup();}catch(e){_3fd.actLoaded();_3fc(_3fd.domNode,"Could not create widget "+_3fd.declaredClass+": "+e);}}}});function _3fc(node,_3fe){logger.error(_3fe);if(node.parentNode){node.parentNode.replaceChild(_3e9.create("div",{style:"color:red"},_3fe),node);}};return _3f6;};function _3ff(root,_400,_401){root=root||document.body;var _402=lang.toArray(root.querySelectorAll("[data-mendix-type]"));if(root.getAttribute("data-mendix-type")){_402.unshift(root);}return _3ee(_402,_400,_401);};function _403(root,_404,_405){var _406=[];_3e9.walkNode(root,function(node){if(node.getAttribute&&node.getAttribute("data-mendix-type")){_406.push(node);return false;}return true;});return _3ee(_406,_404,_405);};var _407={instantiate:_3ee,parse:_3ff,parseTopLevel:_403};return _407;});},"mxui/lib/InputMask":function(){define(["mendix/logger","mxui/wm/focus","mxui/dom","dojo/sniff","dojo/on","dojo/keys","dojo/_base/lang","dojo/_base/array","dojo/_base/declare"],function(_408,_409,dom,_40a,_40b,_40c,_40d,_40e,_40f){function _410(_411,_412,_413){var _414=(_411.length-(_412.length-(_413)));for(var i=0;i<_414;i++){if(_411.charAt(i)!=_412.charAt(i)){_414=i;break;}}return _414;};function _415(_416,_417){switch(_416){case "9":return _417.match(/^[0-9]$/g)!=null;case "U":return _417.match(/^[A-Z]$/g)!=null;case "L":return _417.match(/^[a-z]$/g)!=null;case "Z":return _417.match(/^[a-zA-Z]$/g)!=null;case "*":return _417.match(/^[a-zA-Z0-9]$/g)!=null;default:return false;}};var _418=_40f(null,{mask:"",displayMask:"",spanMask:null,domNode:null,_connects:null,_selection:null,oldValue:"",constructor:function(node,mask){this.domNode=node;this.mask=mask;this.displayMask=this.mask.replace(/[9ZUL*]/g,"_");this._connects=[_40b(this.domNode,"focus",_40d.hitch(this,"onFocus")),_40b(this.domNode,"keypress",_40d.hitch(this,"onKeyPress")),_40b(this.domNode,"blur",_40d.hitch(this,"onBlur")),_40b(this.domNode,_40a("ie")?"paste":"input",_40d.hitch(this,"onInput")),_40b(this.domNode,"select",_40d.hitch(this,"onSelect")),_40b(this.domNode,"click",_40d.hitch(this,"onClick"))];var self=this;if(_40a("ie")||_40a("trident")||_40a("chrome")){this._connects.push(_40b(this.domNode,"keydown",function(evt){var _419=(evt.keyCode===0)?evt.which:evt.keyCode;if(_419===46||_419===8){self.onKeyPress(evt);}}));}},onFocus:function(e){if(this.isReadOnly()){return;}var _41a=this.oldValue=this.domNode.value;if(_41a===""){this.domNode.value=this.displayMask;this.spanMask=this.displayMask;setTimeout(_40d.hitch(this,this.goToFirstEditableCharacter),0);}else{var real="";for(var i=0,cc;i<this.displayMask.length,cc=this.mask.charAt(i);i++){var val=_41a.charAt(i);if(_415(cc,val)){real+=val;}else{real+=this.displayMask.charAt(i);}}setTimeout(_40d.hitch(this,function(){var sel=dom.getSelection(this.domNode);this.spanMask=this.domNode.value=real;dom.selectTextRange(this.domNode,sel.start,sel.end);}),0);}},goToFirstEditableCharacter:function(){var _41b=this.domNode.value;var _41c=-1;for(var i=0;i<_41b.length;i++){if(this.isEditable(this.mask.charAt(i))&&_41b.charAt(i)==="_"){_41c=i;break;}}if(_41c!==-1){dom.selectTextRange(this.domNode,_41c,_41c);}},onBlur:function(e){if(this.isReadOnly()){return;}this.spanMask=null;if(this.displayMask===this.domNode.value){this.domNode.value="";}if(this.oldValue!=this.domNode.value){dom.dispatchEvent(this.domNode,"onchange");}this.oldValue=null;},onClick:function(){if(this.isReadOnly()){return;}this._selection=dom.getSelection(this.domNode);},onSelect:function(){if(this.isReadOnly()){return;}this._selection=dom.getSelection(this.domNode);},onInput:function(e){if(this.isReadOnly()){return;}if(_40a("ie")&&e!=null){try{setTimeout(_40d.hitch(this,"onInput",null),1);return;}catch(e){}}var pos=dom.getCursorPosition(this.domNode);var _41d=this.domNode.value;var _41e=this.spanMask;this.domNode.value="";if(this._selection&&this._selection.start!=this._selection.end){_41e="";for(var i=0;i<this.spanMask.length;i++){_41e+=(i>=this._selection.start&&i<this._selection.end)?"":this.spanMask.charAt(i);}}var _41f=_410(_41e,_41d,pos);var _420=_41d.substring(_41f,pos);if(this._selection&&this._selection.start!=this._selection.end){var _421=this._selection.end-this._selection.start;_420=_420.substr(0,_421);}var _422=this.mask.length;var newv="";var _423=-1;for(var i=0;i<_422;i++){if(i===_41f){for(var j=0;j<_420.length;j++){_423=i;var _424=this.mask.charAt(i);var _425=_420.charAt(j);if(this.isEditable(_424)){var _426=_415(_424,_425);if(_426){newv+=_425;}else{break;}}else{if(_425===_424){newv+=_424;}else{break;}}i++;}}newv+=this.spanMask.charAt(i);}this.spanMask=newv;this.domNode.value=newv;dom.selectTextRange(this.domNode,_423+1,_423+1);},onKeyPress:function(evt){if(this.isReadOnly()){return;}var _427=(evt.keyCode===0)?evt.which:evt.keyCode;var ctrl=evt.metaKey?evt.metaKey:evt.ctrlKey;if(ctrl){return true;}this._selection=null;switch(_427){case 13:break;case 27:break;case _40c.TAB:break;case 46:this.performDelete(evt);evt.preventDefault();return false;break;case 8:this.performBackspace(evt);evt.preventDefault();return false;break;default:if(this.performKeyPress(evt)){evt.preventDefault();return false;}}},performBackspace:function(){var poss=dom.getSelection(this.domNode);var _428="";var _429=this.domNode.value;var _42a=(poss.start===poss.end);for(var i=this.displayMask.length;0<=i;i--){var _42b=_429.charAt(i);var _42c=this.displayMask.charAt(i);if((_42a&&(i===poss.start-1))||(i>=(poss.start)&&i<(poss.end))||_42b==null){_428=_42c+_428;}else{_428=_42b+_428;}}this.domNode.value=this.spanMask=_428;var _42d=(poss.start<=0)?0:_42a?poss.start-1:poss.start;dom.selectTextRange(this.domNode,_42d,_42d);},performDelete:function(){var _42e=dom.getSelection(this.domNode);if(_42e.start===_42e.end){_42e.end=_42e.start+1;}var _42f="";var _430=this.domNode.value;for(var i=0;i<this.displayMask.length;i++){if(i>=_42e.start&&i<_42e.end){_42f+=this.displayMask.substr(i,1);}else{_42f+=_430.substr(i,1);}}this.domNode.value=this.spanMask=_42f;dom.selectTextRange(this.domNode,_42e.start,_42e.start);},_findFirstEditablePosition:function(_431){for(var i=_431;i<this.mask.length;i++){if(this.isEditable(this.mask.charAt(i))){return i;}}return -1;},performKeyPress:function(evt){var _432=(evt.keyCode===0)?evt.which:evt.keyCode;if(evt.charCode==null){var _433=evt.shiftKey;switch(evt.keyCode){case 9:case 8:case 13:case 16:case 17:case 18:case 20:case 27:case 33:case 34:if(_433){break;}case 35:case 36:return false;}}else{if(evt.charCode===0){return false;}}var _434=(String.fromCharCode(_432));if(_434.match(/[a-zA-Z0-9]/)!=null){var _435="";var pos=dom.getCursorPosition(this.domNode);var _436=this.spanMask;var _437=this._findFirstEditablePosition(pos);if(_437!==-1&&_415(this.mask.substr(_437,1),_434)){pos=_437;}var _438=pos;for(var i=0;i<this.displayMask.length;i++){var _439=_436.substr(i,1);var _43a=this.mask.substr(i,1);if(i!=pos){if(this.isEditable(_43a)){_435+=_439;}else{_435+=_43a;}}else{if(_415(_43a,_434)){++_438;_435+=_434;var _43b;var _43c=i;while((_43b=this.mask.substr(++_43c,1))!=""){if(!this.isEditable(_43b)){++_438;}else{break;}}}else{_435+=_439;}}}this.spanMask=_435;this.domNode.value=_435;dom.selectTextRange(this.domNode,_438,_438);}return true;},isEditable:function(str){return (str==="9"||str==="U"||str==="L"||str==="Z"||str==="*");},isReadOnly:function(){return this.domNode.readOnly;},destroy:function(){_40e.forEach(this._connects,function(_43d){_43d.remove();});this._connects=null;}});return _418;});},"mxui/widget":function(){define(["mxui/widget/_Button","mxui/widget/_WidgetBase","mxui/widget/_Widget","mxui/html/parser","mxui/dom","mendix/lang","mendix/logger","dijit/_Widget","dijit/registry","dojo/dom-geometry","dojo/_base/kernel","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","exports"],function(_43e,_43f,_440,_441,dom,lang,_442,_443,_444,_445,_446,_447,_448,_449,_44a){_44a.getDisableables=function(node){var list=[];var run=function(node){var _44b=node.childNodes;for(var i=0,_44c;_44c=_44b[i];i++){if(_44c.nodeType!=1){continue;}var id=_44c.getAttribute("widgetId"),_44d=_444.byId(id);if(_44d&&!(/^dijit/.test(id)||_44d._btn_||_44d instanceof _43e)){list.push(_44d);}if(!(_44d instanceof _43f)){run(_44c);}}};run(node);return list;};_44a.findNonPlaceholderParent=function(node){var pn=node.parentNode;while(pn&&pn.hasAttribute("data-mx-placeholder")){pn=pn.parentNode;}return pn;};_44a.resizeWidgetsIn=function(root,_44e){var _44f=_444.findWidgets(root);if(!_44e&&_44f.length==1&&root.children.length==1&&_44f[0].domNode.parentNode.children.length==1){var _450=_44f[0],_451=_44a.findNonPlaceholderParent(_450.domNode);if(_451==root||_451==_450.mxform.domNode){var box=_445.getContentBox(root);var _452=_450.domNode.style;_452.marginTop=_452.marginBottom="0";_450.resize({w:box.w,h:box.h});return;}}_447.forEach(_44f,function(_453){_453.resize();});};_44a.fireOnReady=function(_454,_455){var _456=[];dojo.forEach(_454,function(w){if(w.addOnLoad){_456.push(function(h){w.addOnLoad(h);});}});if(_455){_456.push(function(){_455();});}lang.sequence(_456);};_44a.destroyWidgetsIn=function(node){var _457=_444.findWidgets(node),_458=_44a.getDescendantWidgets(node);_447.forEach(_457,function(_459){try{_459.destroyRecursive();}catch(e){_442.error(_459.id+".destroy: Unable to destroy:"+e.message);}});_447.forEach(_458,function(_45a){if(!_45a._destroyed){_442.error(_45a.id+": widget not destroyed, check parent's uninitialize method");}});};function _45b(_45c,_45d,_45e){var _45f=[],i=_45c.length;while(i--){var _460=_45c[i].prototype,fnc=_460[_45e];fnc&&_45f.push(fnc);}return _45f.length?function(){var call=null;for(var i=0,_461;_461=_45f[i];i++){try{_461.call(this);}catch(e){var _462=_461.ctor&&_461.ctor.prototype,_463=(_462&&_462.declaredClass)||"some";_442.error(this.id+"."+_45d+": Can not execute "+_45e+" function of "+_463+" addon :"+e.message);}}}:function(){};};function _464(_465,_466,_467){var _468=function(args){if(this instanceof arguments.callee){var _469=(args&&args.callee==arguments.callee)?args:arguments;try{_465&&_465.apply(this,_469);}catch(e){var _46a=typeof e=="string"?e:e.message;_442.error(this.id+".Unable to render widget. ERROR: "+_46a);this.loaded();this._broken=true;this._brokenError=_46a;var _46b=this.domNode&&this.domNode.parentNode,_46c=dom.div({refWidgetId:this.id,style:"color:red"},"Unable to render "+this.id+" widget: "+_46a);if(_46b){_46b.removeChild(this.domNode);_46b.appendChild(_46c);}else{var node=(arguments.length==2&&arguments[1].nodeName)?arguments[1]:null;if(node&&node.parentNode){node.parentNode.appendChild(_46c);}}}}else{if(_466){var _46d=(arguments.callee.caller)?"from scope "+arguments.callee.caller.toString():"from unknown scope";}return new arguments.callee(arguments);}};if(_465){for(var x in _465){_468[x]=_465[x];}_468.prototype=_465.prototype;_468.prototype.constructor=_468;}return _468;};function _46e(_46f){var _470=[];for(var i=0,l=_46f.length;i<l;i++){var _471=_46f[i],cons=(typeof _471=="string")?_448.getObject(_471):_471;if(cons==null||typeof (cons)=="object"){throw new Error("mxui/widget/declare: Mixin '"+_471.toString()+"' is not loaded! Maybe it's broken???");}_470.push(cons);}return _470;};function _472(_473,_474,_475){var _476=function(_477){var _478=_477.inputargs,_479=false;if(_478 instanceof Array){var _47a={};for(var i=0,l=_478.length;i<l;i++){if(typeof _478[i]=="object"){for(var x in _478[i]){_47a[x]=_478[i][x];break;}_479=true;}else{_47a[_478[i]]="";}}if(_479){}_478=_47a;}if(_478){var _47b=_473.__inputargs?_473.__inputargs:(_473.__inputargs={});for(var i in _478){_47b[i]=_473[i]=_478[i];}}};for(var i=0,l=_474.length;i<l;i++){var _47c=_474[i].prototype;_476(_47c);}_476(_473);for(var i=0,l=_475.length;i<l;i++){var _47d=_475[i].prototype;_476(_47d);}};_44a.declare=function(_47e,_47f){var _480=_47f.superclass||_443,_481=_47f.mixins,_482=_47f.constructor,_483=_47e.split(".");if(!_481&&_47f.addons){_446.deprecated("mxui.widget.declare: addons are deprecated, use mixins instead (widget: "+_47e+")","","3.1");_481=_47f.addons;}_481=_481||[];if(_483.length==1){_47e="mxui.widget."+_483;_483=_47e.split(".");}var _484=_480.prototype["_mx_"]?[_480]:[_480,_440];var _481=_46e(_481),_485=_484.concat(_481),_486=_483.pop();_47f.moduleName=_483.join(".");_47f.className=_486;_47f["initializer"]=_45b(_485,"create","initialize");_47f["uninitializer"]=_45b(_485,"destroy","uninitialize");_472(_47f,_484,_481);var _487=_449(_47e,_485,_47f);var _488=_464(_487,true,_47e);return _448.setObject(_47e,_488);};_44a.createCSSMap=function(_489,css){for(var i in css){css[i]=_489+"-"+css[i];}css.baseClass=_489;return css;};_44a.getDescendantWidgets=function(node){return node?_447.map(node.querySelectorAll("[widgetid]"),_444.byNode):[];};_44a.loadWidgetsIn=function(_48a,_48b,_48c,_48d){_441.parse(_48a,_48b);var _48e=_444.findWidgets(_48a);lang.collect(_447.map(_48e,function(_48f){var _490=_44a.getDescendantWidgets(_48f.domNode),_491=_490.concat([_48f]);return function(_492){_44a.fireOnReady(_491,function(){_44a.applyContext([_48f],_48c,_492);});};}),_48d);};_44a.ready=function(_493,_494,_495){var _496=[];_447.forEach(_493,function(_497){if(_497.addOnLoad){_496.push(function(_498){_497.addOnLoad(_498);});}});lang.collect(_496,_494,_495);};_44a.applyContext=function(_499,_49a,_49b){lang.collect(_447.map(_499,function(_49c){if(_49c.applyContext){return function(cb){try{_49c.applyContext(_49a,cb);}catch(e){throw new Error(_49c.id+".applyContext: "+e);}};}else{return function(cb){try{var _49d=_444.findWidgets(_49c.domNode);_44a.applyContext(_49d,_49a,cb);}catch(e){throw new Error(_49c.id+".applyContext: "+e);}};}}),_49b);};});},"mxui/widget/_Button":function(){define(["mxui/widget/_WidgetBase","mxui/dom","dojo/_base/lang","dojo/_base/event","dojo/_base/declare"],function(_49e,_49f,_4a0,_4a1,_4a2){var $=_49f.create;var _4a3=_4a2(_49e,{declaredClass:"mxui.widget._Button",renderType:"button",iconUrl:"",iconClass:"",cssClasses:null,cssStyle:"",_textNode:null,_iconNode:null,_isCls:false,buildRendering:function(){this._textNode=document.createTextNode("");var _4a4={};if(this.cssStyle){_4a4={"style":this.cssStyle};}var _4a5=this.cssClasses||[];if(typeof _4a5==="string"){_4a5=[_4a5];}var _4a6=_4a5.join(" ");if(this.renderType==="link"){this.domNode=$("span",_4a0.mixin(_4a4,{"class":"mx-link"+" "+_4a6})," ",$("a",{tabindex:-1},this._textNode)," ");}else{this.domNode=$("button",_4a0.mixin(_4a4,{"type":"button","class":"btn mx-button "+_4a6})," ",this._textNode," ");}this._connectEvents();},_connectEvents:function(){this.connect(this.domNode,"click","_onClick");this.connect(this.domNode,"keyup","onKeyUp");},onClick:function(e){},onKeyUp:function(e){},_onClick:function(e){_4a1.stop(e);this.domNode.focus();this.onClick(e);},checkDisabled:function(){return this._disabled;},enable:function(){if(this.renderType=="button"){this.domNode.removeAttribute("disabled");}},disable:function(){if(this.renderType=="button"){this.domNode.setAttribute("disabled","disabled");}},_setCaptionAttr:function(_4a7){this._textNode.nodeValue=_4a7;},_setIconClassAttr:function(cls){this._setIcon(cls,true);},_setIconUrlAttr:function(img){this._setIcon(img,false);},_setIconVisibleAttr:function(_4a8){this._iconNode.style.display=_4a8?"":"none";},_setIcon:function(name,_4a9){if(this._iconNode){_49f.orphan(this._iconNode);this._iconNode=null;}if(name){this._iconNode=_4a9?$("span",{"class":"glyphicon "+name}):$("img",{src:window.mx.appUrl+name});this.domNode.insertBefore(this._iconNode,this.domNode.firstChild);}},_setFocusIndexAttr:function(_4aa){this.domNode.setAttribute("tabindex",_4aa);}});return _4a3;});},"mxui/widget/_WidgetBase":function(){define(["mxui/dom","mxui/widget","mxui/html/parser","mendix/lang","mendix/lib/MxContext","mendix/logger","dijit/_WidgetBase","dijit/registry","dojo/dom-attr","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dijit/_base"],function(_4ab,_4ac,_4ad,_4ae,_4af,_4b0,_4b1,_4b2,_4b3,_4b4,_4b5,_4b6){var _4b7=_4b6(_4b1,{declaredClass:"mxui.widget._WidgetBase",mxid:"",uniqueid:"",mxform:null,mxcontext:null,doParse:true,readOnly:false,ignoreUpdates:false,autoLoad:true,_loaded:false,_destroyed:false,_disabled:false,_cachedDisabled:false,_loadCalls:null,_destroyCalls:null,_listeners:null,_subscriptions:null,"-chains-":{constructor:"after",uninitialize:"before"},constructor:function(_4b8,node){this._loadCalls=[];this._destroyCalls=[];this._listeners=[];this._subscriptions=[];this.mxcontext=new _4af();if(this.autoLoad){this.set("loaded",true);}this._cachedDisabled=this.readOnly;},getTemplate:function(name){return window.mx.ui.getTemplate(this.mxid,name);},parseContent:function(node,_4b9,_4ba){var _4bb={mxform:this.mxform,validator:this.validator,ignoreUpdates:this.ignoreUpdates};if(this.readOnly){_4bb.readOnly=true;}if(this.doParse){return _4ad[_4ba?"parseTopLevel":"parse"](node||this.domNode,_4b5.mixin(_4bb,_4b9),this.uniqueid);}else{return [];}},getChildren:function(_4bc){if(_4bc){return _4ac.getDescendantWidgets(this.domNode);}else{return _4b2.findWidgets(this.domNode);}},resizeChildren:function(node,_4bd){return _4ac.resizeWidgetsIn(node,_4bd);},applyContext:function(_4be,_4bf){var _4c0=this.mxcontext;if(this.contextAction!=="reset"){_4c0.mixin(_4be);if(this.dropContext){for(var i=0,_4c1;_4c1=this.dropContext[i];i++){_4c0.unsetContext(_4c1);}}}else{if(this.preserveTrackObject){if(_4be){_4c0.setObject(_4be.getTrackObject(),_4be.getTrackEntity(),_4be.getTrackId());}else{_4c0.setObject(null);}}}if(typeof this.update=="function"){var _4c2=_4c0.getObject(),_4c3=_4c0.getTrackId(),_4c4=_4b5.hitch(this,function(obj){try{this.update(obj,_4bf);}catch(e){throw new Error(this.id+".applyContext: "+e);}});if(_4c2){_4c4(_4c2);}else{if(_4c3){window.mx.data.get({guid:_4c3,callback:function(obj){if(!obj){_4b0.error(this.id+".applyContext: error while fetching object with guid "+_4c3);}_4c4(obj);},error:function(e){window.mx.onError(e);_4c4(null);}},this);}else{_4c4(null);}}}else{var _4c5=_4b2.findWidgets(this.domNode);this.passContext(_4c5,_4be,_4bf);}},passContext:function(_4c6,_4c7,_4c8){if(typeof _4c7=="function"){_4c8=_4c7;_4c7=this.mxcontext;}else{_4c7=_4c7||this.mxcontext;}_4ac.applyContext(_4c6,_4c7,_4b5.hitch(this,_4c8));},subscribe:function(sub){if(this.ignoreUpdates){return;}var _4c9=window.mx.data.subscribe(sub,this);this._subscriptions.push(_4c9);return _4c9;},unsubscribe:function(_4ca){if(this.ignoreUpdates){return;}var list=this._subscriptions;for(var i=0,_4cb;_4cb=list[i];i++){if(_4cb==_4ca){window.mx.data.unsubscribe(_4ca);list.splice(i,1);break;}}},unsubscribeAll:function(){var subs=this._subscriptions;while(subs.length){window.mx.data.unsubscribe(subs.pop());}},listen:function(_4cc,_4cd){var _4ce=this.mxform.listen(_4cc,_4b5.hitch(this,_4cd));this._listeners.push(_4ce);return _4ce;},unlisten:function(_4cf){var list=this._listeners;for(var i=0,_4d0;_4d0=list[i];i++){if(_4d0==_4cf){this.mxform.unlisten(_4cf);list.splice(i,1);break;}}},capture:function(_4d1,evt,_4d2){var _4d3=_4ab.capture(_4d1,evt,_4b5.hitch(this,_4d2));this.addOnDestroy(_4d3.remove);},collect:function(_4d4,_4d5){_4ae.collect(_4d4,_4d5,this);},sequence:function(_4d6,_4d7){_4ae.sequence(_4d6,_4d7,this);},translate:function(str,args,_4d8){return window.mx.ui.translate(this.declaredClass,str,args,_4d8);},domData:function(){this.domData=_4ab.getScopedData();return this.domData.apply(this,arguments);},checkDisabled:function(){return this.readOnly||this._disabled;},updateDisabled:function(){this.set("disabled",undefined);},_getDisabledAttr:function(){return this._cachedDisabled;},_setDisabledAttr:function(_4d9){if(_4d9!=null){this._disabled=!!_4d9;}_4d9=this.checkDisabled();if(_4d9!==this._cachedDisabled){this._cachedDisabled=_4d9;if(_4d9){this.disable();}else{this.enable();}}},enable:function(){},disable:function(){},resize:function(box){this.resizeChildren(this.domNode,!box);},_setMxidAttr:function(_4da){_4b3.set(this.domNode,"data-mendix-id",_4da);},_setFocusIndexAttr:function(_4db){if(_4db!=null){_4b3.set(this.domNode,"focusindex",_4db);}},_getLoadedAttr:function(){return this._loaded;},_setLoadedAttr:function(_4dc){this._loaded=!!_4dc;if(_4dc){var _4dd=this._loadCalls;while(_4dd.length){_4dd.shift()();}}},actLoaded:function(_4de){this.set("loaded",true);_4de&&_4de();},addOnLoad:function(func){this._loaded?func():this._loadCalls.push(func);},addOnDestroy:function(func){this._destroyed?func():this._destroyCalls.push(func);},destroy:function(_4df){this._beingDestroyed=true;try{this.uninitialize();}catch(e){throw new Error(this.id+".uninitialize: "+e);}function _4e0(w){if(w.destroyRecursive){w.destroyRecursive(_4df);}else{if(w.destroy){w.destroy(_4df);}}};_4b4.forEach(this._connects,_4b5.hitch(this,"disconnect"));_4b4.forEach(this._supportingWidgets,_4e0);if(this.domNode){_4b4.forEach(_4b2.findWidgets(this.domNode),_4e0);}this.destroyRendering(_4df);_4b2.remove(this.id);this._destroyed=true;},destroyRendering:function(){var _4e1=this.domNode,_4e2=this.srcNodeRef;this.inherited(arguments,[true]);if(_4e1){_4ab.orphan(_4e1);}this.domNode=_4e1;this.srcNodeRef=_4e2;},uninitialize:function(){if(this._loaded){var list=this._listeners,_4e3=this._destroyCalls;while(list.length){this.mxform.unlisten(list.pop());}this.unsubscribeAll();while(_4e3.length){_4e3.shift().call(this);}}else{_4b0.error(this.id+".uninitialize: widget not loaded yet, check widget structure");this.addOnLoad(_4b5.hitch(this,function(){try{this.uninitialize();}catch(e){throw new Error(this.id+".unitialize: "+e);}}));}}});return _4b7;});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_4e4,_4e5,_4e6,_4e7,_4e8,_4e9,dom,_4ea,_4eb,_4ec,_4ed,_4ee,has,_4ef,lang,on,_4f0,_4f1,_4f2,win,_4f3,_4f4,_4f5){has.add("dijit-legacy-requires",!_4ef.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){_4f0(0,function(){var _4f6=["dijit/_base/manager"];_4e4(_4f6);});}var _4f7={};function _4f8(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;};function _4f9(attr){return function(val){_4ea[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};};function _4fa(a,b){return a===b||(a!==a&&b!==b);};var _4fb=_4e9("dijit._WidgetBase",[_4f1,_4f3],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_4f9("lang"),dir:"",_setDirAttr:_4f9("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_4e7.blankGif||_4e4.toUrl("dojo/resources/blank.gif"),_introspect:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var _4fc=ctor.prototype,_4fd=ctor._setterAttrs=[],_4fe=(ctor._onMap={});for(var name in _4fc.attributeMap){_4fd.push(name);}for(name in _4fc){if(/^on/.test(name)){_4fe[name.substring(2).toLowerCase()]=name;}if(/^_set[A-Z](.*)Attr$/.test(name)){name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);if(!_4fc.attributeMap||!(name in _4fc.attributeMap)){_4fd.push(name);}}}}},postscript:function(_4ff,_500){this.create(_4ff,_500);},create:function(_501,_502){this._introspect();this.srcNodeRef=dom.byId(_502);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_501){this.params=_501;lang.mixin(this,_501);}this.postMixInProperties();if(!this.id){this.id=_4f5.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_4f5.add(this);this.buildRendering();var _503;if(this.domNode){this._applyAttributes();var _504=this.srcNodeRef;if(_504&&_504.parentNode&&this.domNode!==_504){_504.parentNode.replaceChild(this.domNode,_504);_503=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_503){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _505={};for(var key in this.params||{}){_505[key]=this._get(key);}_4e5.forEach(this.constructor._setterAttrs,function(key){if(!(key in _505)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _505){this.set(key,_505[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _506=this.baseClass.split(" ");if(!this.isLeftToRight()){_506=_506.concat(_4e5.map(_506,function(name){return name+"Rtl";}));}_4eb.add(this.domNode,_506);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_4e5.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_507){this._beingDestroyed=true;this.destroyDescendants(_507);this.destroy(_507);},destroy:function(_508){this._beingDestroyed=true;this.uninitialize();function _509(w){if(w.destroyRecursive){w.destroyRecursive(_508);}else{if(w.destroy){w.destroy(_508);}}};_4e5.forEach(this._connects,lang.hitch(this,"disconnect"));_4e5.forEach(this._supportingWidgets,_509);if(this.domNode){_4e5.forEach(_4f5.findWidgets(this.domNode,this.containerNode),_509);}this.destroyRendering(_508);_4f5.remove(this.id);this._destroyed=true;},destroyRendering:function(_50a){if(this.bgIframe){this.bgIframe.destroy(_50a);delete this.bgIframe;}if(this.domNode){if(_50a){_4ea.remove(this.domNode,"widgetId");}else{_4ec.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_50a){_4ec.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_50b){_4e5.forEach(this.getChildren(),function(_50c){if(_50c.destroyRecursive){_50c.destroyRecursive(_50b);}});},uninitialize:function(){return false;},_setStyleAttr:function(_50d){var _50e=this.domNode;if(lang.isObject(_50d)){_4ee.set(_50e,_50d);}else{if(_50e.style.cssText){_50e.style.cssText+="; "+_50d;}else{_50e.style.cssText=_50d;}}this._set("style",_50d);},_attrToDom:function(attr,_50f,_510){_510=arguments.length>=3?_510:this.attributeMap[attr];_4e5.forEach(lang.isArray(_510)?_510:[_510],function(_511){var _512=this[_511.node||_511||"domNode"];var type=_511.type||"attribute";switch(type){case "attribute":if(lang.isFunction(_50f)){_50f=lang.hitch(this,_50f);}var _513=_511.attribute?_511.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);if(_512.tagName){_4ea.set(_512,_513,_50f);}else{_512.set(_513,_50f);}break;case "innerText":_512.innerHTML="";_512.appendChild(this.ownerDocument.createTextNode(_50f));break;case "innerHTML":_512.innerHTML=_50f;break;case "class":_4eb.replace(_512,_50f,this[attr]);break;}},this);},get:function(name){var _514=this._getAttrNames(name);return this[_514.g]?this[_514.g]():this._get(name);},set:function(name,_515){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _516=this._getAttrNames(name),_517=this[_516.s];if(lang.isFunction(_517)){var _518=_517.apply(this,Array.prototype.slice.call(arguments,1));}else{var _519=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_519]&&this[_519].tagName,_51a=tag&&(_4f7[tag]||(_4f7[tag]=_4f8(this[_519]))),map=name in this.attributeMap?this.attributeMap[name]:_516.s in this?this[_516.s]:((_51a&&_516.l in _51a&&typeof _515!="function")||/^aria-|^data-|^role$/.test(name))?_519:null;if(map!=null){this._attrToDom(name,_515,map);}this._set(name,_515);}return _518||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_51b){var _51c=this[name];this[name]=_51b;if(this._created&&!_4fa(_51c,_51b)){if(this._watchCallbacks){this._watchCallbacks(name,_51c,_51b);}this.emit("attrmodified-"+name,{detail:{prevValue:_51c,newValue:_51b}});}},_get:function(name){return this[name];},emit:function(type,_51d,_51e){_51d=_51d||{};if(_51d.bubbles===undefined){_51d.bubbles=true;}if(_51d.cancelable===undefined){_51d.cancelable=true;}if(!_51d.detail){_51d.detail={};}_51d.detail.widget=this;var ret,_51f=this["on"+type];if(_51f){ret=_51f.apply(this,_51e?_51e:[_51d]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,type.toLowerCase(),_51d);}return ret;},on:function(type,func){var _520=this._onMap(type);if(_520){return _4e6.after(this,_520,func,true);}return this.own(on(this.domNode,type,func))[0];},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[typeof type=="string"&&type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_4f5.findWidgets(this.containerNode):[];},getParent:function(){return _4f5.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_521,_522){return this.own(_4e8.connect(obj,_521,this,_522))[0];},disconnect:function(_523){_523.remove();},subscribe:function(t,_524){return this.own(_4f2.subscribe(t,lang.hitch(this,_524)))[0];},unsubscribe:function(_525){_525.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_4ed.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_4ee.get(this.domNode,"display")!="none");},placeAt:function(_526,_527){var _528=!_526.tagName&&_4f5.byId(_526);if(_528&&_528.addChild&&(!_527||typeof _527==="number")){_528.addChild(this,_527);}else{var ref=_528&&("domNode" in _528)?(_528.containerNode&&!/after|before|replace/.test(_527||"")?_528.containerNode:_528.domNode):dom.byId(_526,this.ownerDocument);_4ec.place(this.domNode,ref,_527);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,_529){var _52a=setTimeout(lang.hitch(this,function(){if(!_52a){return;}_52a=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),_529||0);return {remove:function(){if(_52a){clearTimeout(_52a);_52a=null;}return null;}};}});if(has("dojo-bidi")){_4fb.extend(_4f4);}return _4fb;});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_52b,_52c,_52d){return _52d("dijit.Destroyable",null,{destroy:function(_52e){this._destroyed=true;},own:function(){var _52f=["destroyRecursive","destroy","remove"];_52b.forEach(arguments,function(_530){var _531;var odh=_52c.before(this,"destroy",function(_532){_530[_531](_532);});var hdhs=[];function _533(){odh.remove();_52b.forEach(hdhs,function(hdh){hdh.remove();});};if(_530.then){_531="cancel";_530.then(_533,_533);}else{_52b.forEach(_52f,function(_534){if(typeof _530[_534]==="function"){if(!_531){_531=_534;}hdhs.push(_52c.after(_530,_534,_533,true));}});}},this);return arguments;}});});},"dijit/_base":function(){define(["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_535){return _535._base;});},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(_536,_537,_538,_539){var _53a=_537("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_53b){if(this._hash[_53b.id]){throw new Error("Tried to register widget with id=="+_53b.id+" but that id is already registered");}this._hash[_53b.id]=_53b;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_53c){_53c=_53c||_538.global;var i=0,id;for(id in this._hash){func.call(_53c,this._hash[id],i++,this._hash);}return this;},filter:function(_53d,_53e){_53e=_53e||_538.global;var res=new _53a(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_53d.call(_53e,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new _53a(),id,_53f;for(id in this._hash){_53f=this._hash[id];if(_53f.declaredClass==cls){res.add(_53f);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_540){return _536.map(this.toArray(),func,_540);},every:function(func,_541){_541=_541||_538.global;var x=0,i;for(i in this._hash){if(!func.call(_541,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_542){_542=_542||_538.global;var x=0,i;for(i in this._hash){if(func.call(_542,this._hash[i],x++,this._hash)){return true;}}return false;}});_536.forEach(["forEach","filter","byClass","map","every","some"],function(func){_539[func]=_53a.prototype[func];});return _53a;});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_543,_544,lang,_545,_546){var _547={};_543.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_547[name]=_545[name];});lang.mixin(_547,{defaultDuration:_544["defaultDuration"]||200});lang.mixin(_546,_547);return _546;});},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(_548,lang,_549,_54a,_54b){var _54c={};_54c.getViewport=function(){return _549.getBox();};_54c.placeOnScreen=_54a.at;_54c.placeOnScreenAroundElement=function(node,_54d,_54e,_54f){var _550;if(lang.isArray(_54e)){_550=_54e;}else{_550=[];for(var key in _54e){_550.push({aroundCorner:key,corner:_54e[key]});}}return _54a.around(node,_54d,_550,true,_54f);};_54c.placeOnScreenAroundNode=_54c.placeOnScreenAroundElement;_54c.placeOnScreenAroundRectangle=_54c.placeOnScreenAroundElement;_54c.getPopupAroundAlignment=function(_551,_552){var _553={};_548.forEach(_551,function(pos){var ltr=_552;switch(pos){case "after":_553[_552?"BR":"BL"]=_552?"BL":"BR";break;case "before":_553[_552?"BL":"BR"]=_552?"BR":"BL";break;case "below-alt":ltr=!ltr;case "below":_553[ltr?"BL":"BR"]=ltr?"TL":"TR";_553[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above-alt":ltr=!ltr;case "above":default:_553[ltr?"TL":"TR"]=ltr?"BL":"BR";_553[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});return _553;};lang.mixin(_54b,_54c);return _54b;});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_554,_555,_556,_557,win,_558,_559){function _55a(node,_55b,_55c,_55d){var view=_558.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_554.some(_55b,function(_55e){var _55f=_55e.corner;var pos=_55e.pos;var _560=0;var _561={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_55f.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_55f.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_55c){var res=_55c(node,_55e.aroundCorner,_55f,_561,_55d);_560=typeof res=="undefined"?0:res;}var _562=node.style;var _563=_562.display;var _564=_562.visibility;if(_562.display=="none"){_562.visibility="hidden";_562.display="";}var bb=_555.position(node);_562.display=_563;_562.visibility=_564;var _565={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_55f.charAt(1)],_566={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_55f.charAt(0)],_567=Math.max(view.l,_565),_568=Math.max(view.t,_566),endX=Math.min(view.l+view.w,_565+bb.w),endY=Math.min(view.t+view.h,_566+bb.h),_569=endX-_567,_56a=endY-_568;_560+=(bb.w-_569)+(bb.h-_56a);if(best==null||_560<best.overflow){best={corner:_55f,aroundCorner:_55e.aroundCorner,x:_567,y:_568,w:_569,h:_56a,overflow:_560,spaceAvailable:_561};}return !_560;});if(best.overflow&&_55c){_55c(node,best.aroundCorner,best.corner,best.spaceAvailable,_55d);}var top=best.y,side=best.x,body=win.body(node.ownerDocument);if(/relative|absolute/.test(_556.get(body,"position"))){top-=_556.get(body,"marginTop");side-=_556.get(body,"marginLeft");}var s=node.style;s.top=top+"px";s.left=side+"px";s.right="auto";return best;};var _56b={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};var _56c={at:function(node,pos,_56d,_56e,_56f){var _570=_554.map(_56d,function(_571){var c={corner:_571,aroundCorner:_56b[_571],pos:{x:pos.x,y:pos.y}};if(_56e){c.pos.x+=_571.charAt(1)=="L"?_56e.x:-_56e.x;c.pos.y+=_571.charAt(0)=="T"?_56e.y:-_56e.y;}return c;});return _55a(node,_570,_56f);},around:function(node,_572,_573,_574,_575){var _576;if(typeof _572=="string"||"offsetWidth" in _572||"ownerSVGElement" in _572){_576=_555.position(_572,true);if(/^(above|below)/.test(_573[0])){var _577=_555.getBorderExtents(_572),_578=_572.firstChild?_555.getBorderExtents(_572.firstChild):{t:0,l:0,b:0,r:0},_579=_555.getBorderExtents(node),_57a=node.firstChild?_555.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};_576.y+=Math.min(_577.t+_578.t,_579.t+_57a.t);_576.h-=Math.min(_577.t+_578.t,_579.t+_57a.t)+Math.min(_577.b+_578.b,_579.b+_57a.b);}}else{_576=_572;}if(_572.parentNode){var _57b=_556.getComputedStyle(_572).position=="absolute";var _57c=_572.parentNode;while(_57c&&_57c.nodeType==1&&_57c.nodeName!="BODY"){var _57d=_555.position(_57c,true),pcs=_556.getComputedStyle(_57c);if(/relative|absolute/.test(pcs.position)){_57b=false;}if(!_57b&&/hidden|auto|scroll/.test(pcs.overflow)){var _57e=Math.min(_576.y+_576.h,_57d.y+_57d.h);var _57f=Math.min(_576.x+_576.w,_57d.x+_57d.w);_576.x=Math.max(_576.x,_57d.x);_576.y=Math.max(_576.y,_57d.y);_576.h=_57e-_576.y;_576.w=_57f-_576.x;}if(pcs.position=="absolute"){_57b=true;}_57c=_57c.parentNode;}}var x=_576.x,y=_576.y,_580="w" in _576?_576.w:(_576.w=_576.width),_581="h" in _576?_576.h:(_557.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_576.height+", width:"+_580+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_576.height+", w:"+_580+" }","","2.0"),_576.h=_576.height);var _582=[];function push(_583,_584){_582.push({aroundCorner:_583,corner:_584,pos:{x:{"L":x,"R":x+_580,"M":x+(_580>>1)}[_583.charAt(1)],y:{"T":y,"B":y+_581,"M":y+(_581>>1)}[_583.charAt(0)]}});};_554.forEach(_573,function(pos){var ltr=_574;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _585=_55a(node,_582,_575,{w:_580,h:_581});_585.aroundNodePos=_576;return _585;}};return _559.place=_56c;});},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_586,on,_587,has,_588){var _589=new _586();var _58a;_587(function(){var _58b=_588.getBox();_589._rlh=on(window,"resize",function(){var _58c=_588.getBox();if(_58b.h==_58c.h&&_58b.w==_58c.w){return;}_58b=_58c;_589.emit("resize");});if(has("ie")==8){var _58d=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_58d){_58d=screen.deviceXDPI;_589.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_58a=evt.target;});on(document,"focusout",function(evt){_58a=null;});}});_589.getEffectiveBox=function(doc){var box=_588.getBox(doc);var tag=_58a&&_58a.tagName&&_58a.tagName.toLowerCase();if(has("ios")&&_58a&&!_58a.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_58a.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_58a.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _589;});},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_58e,win,_58f){var _590=_58f._createWrapper;_58f._createWrapper=function(_591){if(!_591.declaredClass){_591={_popupWrapper:(_591.parentNode&&_58e.contains(_591.parentNode,"dijitPopup"))?_591.parentNode:null,domNode:_591,destroy:function(){},ownerDocument:_591.ownerDocument,ownerDocumentBody:win.body(_591.ownerDocument)};}return _590.call(this,_591);};var _592=_58f.open;_58f.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _592.call(this,args);};return _58f;});},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(_593,_594,_595,dom,_596,_597,_598,_599,has,keys,lang,on,_59a,_59b,_59c,_59d){function _59e(){if(this._popupWrapper){_597.destroy(this._popupWrapper);delete this._popupWrapper;}};var _59f=_595(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var _5a0=this._firstAroundPosition,_5a1=_598.position(this._firstAroundNode,true),dx=_5a1.x-_5a0.x,dy=_5a1.y-_5a0.y;if(dx||dy){this._firstAroundPosition=_5a1;for(var i=0;i<this._stack.length;i++){var _5a2=this._stack[i].wrapper.style;_5a2.top=(parseFloat(_5a2.top)+dy)+"px";if(_5a2.right=="auto"){_5a2.left=(parseFloat(_5a2.left)+dx)+"px";}else{_5a2.right=(parseFloat(_5a2.right)-dx)+"px";}}}this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);}},_createWrapper:function(_5a3){var _5a4=_5a3._popupWrapper,node=_5a3.domNode;if(!_5a4){_5a4=_597.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_5a3["aria-label"]||_5a3.label||_5a3.name||_5a3.id},_5a3.ownerDocumentBody);_5a4.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_5a3._popupWrapper=_5a4;_594.after(_5a3,"destroy",_59e,true);if("ontouchend" in document){on(_5a4,"touchend",function(evt){if(!/^(input|button|textarea)$/i.test(evt.target.tagName)){evt.preventDefault();}});}}return _5a4;},moveOffScreen:function(_5a5){var _5a6=this._createWrapper(_5a5);var ltr=_598.isBodyLtr(_5a5.ownerDocument),_5a7={visibility:"hidden",top:"-9999px",display:""};_5a7[ltr?"left":"right"]="-9999px";_5a7[ltr?"right":"left"]="auto";_599.set(_5a6,_5a7);return _5a6;},hide:function(_5a8){var _5a9=this._createWrapper(_5a8);_599.set(_5a9,{display:"none",height:"auto",overflow:"visible",border:""});var node=_5a8.domNode;if("_originalStyle" in node){node.style.cssText=node._originalStyle;}},getTopPopup:function(){var _5aa=this._stack;for(var pi=_5aa.length-1;pi>0&&_5aa[pi].parent===_5aa[pi-1].widget;pi--){}return _5aa[pi];},open:function(args){var _5ab=this._stack,_5ac=args.popup,node=_5ac.domNode,_5ad=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_598.isBodyLtr(_5ac.ownerDocument),_5ae=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_5ab.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_5ab[_5ab.length-1].widget.domNode))){this.close(_5ab[_5ab.length-1].widget);}var _5af=this.moveOffScreen(_5ac);if(_5ac.startup&&!_5ac._started){_5ac.startup();}var _5b0,_5b1=_598.position(node);if("maxHeight" in args&&args.maxHeight!=-1){_5b0=args.maxHeight||Infinity;}else{var _5b2=_59c.getEffectiveBox(this.ownerDocument),_5b3=_5ae?_598.position(_5ae,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};_5b0=Math.floor(Math.max(_5b3.y,_5b2.h-(_5b3.y+_5b3.h)));}if(_5b1.h>_5b0){var cs=_599.getComputedStyle(node),_5b4=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;_599.set(_5af,{overflowY:"scroll",height:_5b0+"px",border:_5b4});node._originalStyle=node.style.cssText;node.style.border="none";}_596.set(_5af,{id:id,style:{zIndex:this._beginZIndex+_5ab.length},"class":"dijitPopup "+(_5ac.baseClass||_5ac["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(_5ab.length==0&&_5ae){this._firstAroundNode=_5ae;this._firstAroundPosition=_598.position(_5ae,true);this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);}if(has("config-bgIframe")&&!_5ac.bgIframe){_5ac.bgIframe=new _59b(_5af);}var _5b5=_5ac.orient?lang.hitch(_5ac,"orient"):null,best=_5ae?_59a.around(_5af,_5ae,_5ad,ltr,_5b5):_59a.at(_5af,args,_5ad=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_5b5);_5af.style.visibility="visible";node.style.visibility="visible";var _5b6=[];_5b6.push(on(_5af,"keydown",lang.hitch(this,function(evt){if(evt.keyCode==keys.ESCAPE&&args.onCancel){evt.stopPropagation();evt.preventDefault();args.onCancel();}else{if(evt.keyCode==keys.TAB){evt.stopPropagation();evt.preventDefault();var _5b7=this.getTopPopup();if(_5b7&&_5b7.onCancel){_5b7.onCancel();}}}})));if(_5ac.onCancel&&args.onCancel){_5b6.push(_5ac.on("cancel",args.onCancel));}_5b6.push(_5ac.on(_5ac.onExecute?"execute":"change",lang.hitch(this,function(){var _5b8=this.getTopPopup();if(_5b8&&_5b8.onExecute){_5b8.onExecute();}})));_5ab.push({widget:_5ac,wrapper:_5af,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_5b6});if(_5ac.onOpen){_5ac.onOpen(best);}return best;},close:function(_5b9){var _5ba=this._stack;while((_5b9&&_593.some(_5ba,function(elem){return elem.widget==_5b9;}))||(!_5b9&&_5ba.length)){var top=_5ba.pop(),_5bb=top.widget,_5bc=top.onClose;if(_5bb.bgIframe){_5bb.bgIframe.destroy();delete _5bb.bgIframe;}if(_5bb.onClose){_5bb.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_5bb&&_5bb.domNode){this.hide(_5bb);}if(_5bc){_5bc();}}if(_5ba.length==0&&this._aroundMoveListener){clearTimeout(this._aroundMoveListener);this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;}}});return (_59d.popup=new _59f());});},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_5bd,_5be,_5bf,_5c0,_5c1,lang,on,has){has.add("config-bgIframe",(has("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent))||(has("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent)));var _5c2=new function(){var _5c3=[];this.pop=function(){var _5c4;if(_5c3.length){_5c4=_5c3.pop();_5c4.style.display="";}else{if(has("ie")<9){var burl=_5bf["dojoBlankHtmlUrl"]||_5bd.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_5c4=document.createElement(html);}else{_5c4=_5c0.create("iframe");_5c4.src="javascript:\"\"";_5c4.className="dijitBackgroundIframe";_5c4.setAttribute("role","presentation");_5c1.set(_5c4,"opacity",0.1);}_5c4.tabIndex=-1;}return _5c4;};this.push=function(_5c5){_5c5.style.display="none";_5c3.push(_5c5);};}();_5be.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("config-bgIframe")){var _5c6=(this.iframe=_5c2.pop());node.appendChild(_5c6);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,"resize",node));}else{_5c1.set(_5c6,{width:"100%",height:"100%"});}}};lang.extend(_5be.BackgroundIframe,{resize:function(node){if(this.iframe){_5c1.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){this.iframe.parentNode.removeChild(this.iframe);_5c2.push(this.iframe);delete this.iframe;}}});return _5be.BackgroundIframe;});},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(_5c7,_5c8){_5c8.scrollIntoView=function(node,pos){_5c7.scrollIntoView(node,pos);};});},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_5c9,lang,_5ca,has,_5cb){var html=_5cb.doc.documentElement,ie=has("ie"),_5cc=has("opera"),maj=Math.floor,ff=has("ff"),_5cd=_5c9.boxModel.replace(/-/,""),_5ce={"dj_quirks":has("quirks"),"dj_opera":_5cc,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};if(ie){_5ce["dj_ie"]=true;_5ce["dj_ie"+maj(ie)]=true;_5ce["dj_iequirks"]=has("quirks");}if(ff){_5ce["dj_ff"+maj(ff)]=true;}_5ce["dj_"+_5cd]=true;var _5cf="";for(var clz in _5ce){if(_5ce[clz]){_5cf+=clz+" ";}}html.className=lang.trim(html.className+" "+_5cf);_5ca(function(){if(!_5c9.isBodyLtr()){var _5d0="dj_rtl dijitRtl "+_5cf.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_5d0+"dj_rtl dijitRtl "+_5cf.replace(/ /g,"-rtl "));}});return has;});},"dijit/_base/typematic":function(){define(["../typematic"],function(){});},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_5d1,_5d2,lang,on,has,_5d3){var _5d4=(_5d3.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_5d5,node,_5d6,obj,_5d7,_5d8,_5d9){if(obj!=this._obj){this.stop();this._initialDelay=_5d8||500;this._subsequentDelay=_5d7||0.9;this._minDelay=_5d9||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_5d5,_5d6);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_5da,_5db,_5dc,_5dd,_5de,_5df){var type="keyCode" in _5da?"keydown":"charCode" in _5da?"keypress":_5d2._keypress,attr="keyCode" in _5da?"keyCode":"charCode" in _5da?"charCode":"charOrCode";var _5e0=[on(node,type,lang.hitch(this,function(evt){if(evt[attr]==_5da[attr]&&(_5da.ctrlKey===undefined||_5da.ctrlKey==evt.ctrlKey)&&(_5da.altKey===undefined||_5da.altKey==evt.altKey)&&(_5da.metaKey===undefined||_5da.metaKey==(evt.metaKey||false))&&(_5da.shiftKey===undefined||_5da.shiftKey==evt.shiftKey)){evt.stopPropagation();evt.preventDefault();_5d4.trigger(evt,_5db,node,_5dc,_5da,_5dd,_5de,_5df);}else{if(_5d4._obj==_5da){_5d4.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_5d4._obj==_5da){_5d4.stop();}}))];return {remove:function(){_5d1.forEach(_5e0,function(h){h.remove();});}};},addMouseListener:function(node,_5e1,_5e2,_5e3,_5e4,_5e5){var _5e6=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_5d4.trigger(evt,_5e1,node,_5e2,node,_5e3,_5e4,_5e5);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_5d4.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_5d4.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_5d4.trigger(evt,_5e1,node,_5e2,node,_5e3,_5e4,_5e5);setTimeout(lang.hitch(this,_5d4.stop),50);}}))];return {remove:function(){_5d1.forEach(_5e6,function(h){h.remove();});}};},addListener:function(_5e7,_5e8,_5e9,_5ea,_5eb,_5ec,_5ed,_5ee){var _5ef=[this.addKeyListener(_5e8,_5e9,_5ea,_5eb,_5ec,_5ed,_5ee),this.addMouseListener(_5e7,_5ea,_5eb,_5ec,_5ed,_5ee)];return {remove:function(){_5d1.forEach(_5ef,function(h){h.remove();});}};}});return _5d4;});},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_5f0,lang,_5f1){var _5f2={hasWaiRole:function(elem,role){var _5f3=this.getWaiRole(elem);return role?(_5f3.indexOf(role)>-1):(_5f3.length>0);},getWaiRole:function(elem){return lang.trim((_5f0.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_5f0.set(elem,"role",role);},removeWaiRole:function(elem,role){var _5f4=_5f0.get(elem,"role");if(!_5f4){return;}if(role){var t=lang.trim((" "+_5f4+" ").replace(" "+role+" "," "));_5f0.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_5f5){return elem.hasAttribute?elem.hasAttribute("aria-"+_5f5):!!elem.getAttribute("aria-"+_5f5);},getWaiState:function(elem,_5f6){return elem.getAttribute("aria-"+_5f6)||"";},setWaiState:function(elem,_5f7,_5f8){elem.setAttribute("aria-"+_5f7,_5f8);},removeWaiState:function(elem,_5f9){elem.removeAttribute("aria-"+_5f9);}};lang.mixin(_5f1,_5f2);return _5f1;});},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_5fa,has,_5fb,win){_5fb(function(){if(has("highcontrast")){_5fa.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_5fc,_5fd,_5fe,_5ff,has,_600,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url(\""+(_5fd.blankGif||_5fc.toUrl("./resources/blank.gif"))+"\");";win.body().appendChild(div);var cs=_5ff.getComputedStyle(div),_601=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_601&&(_601=="none"||_601=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_600(function(){if(has("highcontrast")){_5fe.add(win.body(),"dj_a11y");}});return has;});},"dijit/_base/window":function(){define(["dojo/window","../main"],function(_602,_603){_603.getDocumentWindow=function(doc){return _602.get(doc);};});},"mxui/widget/_Widget":function(){define(["mxui/wm/focus","mxui/dom","mendix/lang","mendix/logger","dijit/_Widget","dijit/registry","dojo/query","dojo/_base/array","dojo/_base/lang","dojo/_base/kernel","dojo/_base/declare"],function(_604,_605,_606,_607,_608,_609,_60a,_60b,_60c,_60d,_60e){_608.prototype.destroy=function(_60f){this._beingDestroyed=true;if(this.uninitializer){this.uninitializer();}try{this.uninitialize();}catch(e){throw new Error(this.id+".uninitialize: "+e);}function _610(w){if(w.destroyRecursive){w.destroyRecursive(_60f);}else{if(w.destroy){w.destroy(_60f);}}};_60b.forEach(this._connects,_60c.hitch(this,"disconnect"));_60b.forEach(this._supportingWidgets,_610);if(this.domNode){_60b.forEach(_609.findWidgets(this.domNode),_610);}this.destroyRendering(_60f);_609.remove(this.id);this._destroyed=true;};var _611=_60e(null,{applyContext:function(_612,_613){this.mxcontext=_612;if(this.isContainer){this.applyContextRecursive(_613);}else{if(typeof this.update=="function"){var _614=_612.getTrackObject(),_615=_612.getTrackId();if(_614){this.update(_614,_613);}else{if(_615){window.mx.data.get({guid:_615,callback:function(obj){if(!obj){_607.error(this.id+".applyContext: error while fetching object with guid "+_615);}this.update(obj,_613);},error:function(e){window.mx.onError(e);this.update(null,_613);}},this);}else{this.update(null,_613);}}}else{_613&&_613();}}},applyContextRecursive:function(_616){var _617=_609.findWidgets(this.domNode);if(_617.length==0){_616&&_616();return;}this.callFetchOnChildren(this.mxcontext,_617,_616);},patchChildImpl:function(_618){if(_618.applyContext==null){if(_618.constructor){_60c.extend(_618.constructor,_611.prototype);}else{_60c.mixin(_618,_611.prototype);}}},callFetchOnChildren:function(_619,_61a,_61b){var id=this.id,_61c=[],_61d=null;if(this.createContext){_61d=this.createContext();_61d.dupFrom(_619);}else{_61d=_619;}_61d.freeze();_60b.forEach(_61a,function(_61e,i){this.patchChildImpl(_61e);_61c.push(function(_61f){var _620=function(){try{_61e.applyContext(_61d,_61f);}catch(e){_607.error(id+".applyContextRecursive: ERROR:"+_61e.id+": "+e.message,e);_61f();}};if((i+1)%10===0){setTimeout(_620,0);}else{_620();}});},this);var _621=_60c.hitch(window.mx.ui,"cleanContext",_61d.ident,this);_606.sequence(_61c,function(){_621();_61b&&_61b();});},isLoadedRecursive:function(_622,node){var _623=_60a("[widgetId]",(node!=null?node:this.domNode)),_624=_623.map(_609.byNode),_625=[],id=this.id;_60b.forEach(_624,function(kid){if(kid.addOnLoad){_625.push(function(_626){kid.addOnLoad(_626);});}else{}});_606.collect(_625,function(){_622&&_622();});}});var _627=_60e([_611],{declaredClass:"mxui.widget._Widget",_mx_:true,_loaded:false,_loadCalls:null,_destroyCalls:null,_liveConnects:null,_subscriptions:null,mxid:"",uniqueid:"",content_id:"",app_flow_id:"",tabIndex:"",focusIndex:"",isInactive:false,attributeMap:_60c.delegate(_608.prototype.attributeMap,{mxid:"",isInactive:"",focusIndex:""}),constructor:function(){this._loadCalls=[];this._destroyCalls=[];this._liveConnects=[];this._subscriptions=[];},_getDisabledAttr:function(){return this.isInactive;},_setDisabledAttr:function(_628){this.isInactive=!!_628;},loaded:function(){this._loaded=true;var _629=this._loadCalls;while(_629.length!=0){try{(_629.shift())();}catch(e){_607.error(this.id+".loaded/actLoaded: Broken onLoad function!!! "+e.message);}}this.loaded=function(){return false;};return true;},actLoaded:function(_62a){this.loaded();_62a&&_62a();},isLoaded:function(){return this._loaded;},rendered:function(){_60d.deprecated(this.id+".rendered is deprecated, use loaded instead","","3.1");this.loaded();},actRendered:function(_62b){_60d.deprecated(this.id+".actRendered is deprecated, use actLoaded instead","","3.1");this.actLoaded(_62b);},isRendered:function(){_60d.deprecated(this.id+".isRendered is deprecated, use isLoaded instead","","3.1");return this.isLoaded();},addOnLoad:function(fnc){this._loaded?fnc():this._loadCalls.push(fnc);},addOnDestroy:function(fnc){this._destroyCalls.push(fnc);},registerOnDestroy:function(f1){_60d.deprecated(this.id+"registerOnDestroy is deprecated, use addOnDestroy instead","","3.1");this.addOnDestroy(f1);},subscribe:function(sub){var subs=this._subscriptions,guid=sub.guid,val=sub.val,attr=sub.attr,_62c=sub.entity;if(sub.attr){if(_60b.some(subs,function(sub){return ((sub.guid==guid)&&(sub.attr==attr));})){return;}}else{if(sub.val){if(_60b.some(subs,function(sub){return sub.guid==guid&&sub.val;})){return;}}else{if(sub.guid){if(_60b.some(subs,function(sub){return ((sub.guid==guid)&&(sub.attr==null));})){return;}}else{if(sub.entity){if(_60b.some(subs,function(sub){return (sub.entity&&sub.entity==_62c);})){return;}}}}}var _62d=window.mx.data.subscribe(sub,this);subs.push(_62d);return _62d;},unsubscribe:function(_62e){var subs=this._subscriptions;for(var i=subs.length-1,sub;sub=subs[i];i--){if(sub==_62e){window.mx.data.unsubscribe(sub);subs.splice(i,1);break;}}},subscribeToClass:function(_62f){_60d.deprecated(this.id+"subscribeToClass is deprecated, use subscribe instead","","3.1");this.subscribe({entity:_62f,callback:_60c.hitch(this,"objectUpdate")});},subscribeToGuid:function(guid){_60d.deprecated(this.id+"subscribeToGuid is deprecated, use subscribe instead","","3.1");this.subscribe({guid:guid,callback:_60c.hitch(this,"objectUpdate")});},subscribeToChange:function(guid,attr,_630){_60d.deprecated(this.id+"subscribeToChange is deprecated, use subscribe instead","","3.1");if(!isNaN(guid)){this.subscribe({guid:guid,attr:attr,callback:_60c.hitch(this,_630)});}},removeClassSubscriptions:function(_631){_60d.deprecated(this.id+".removeClassSubscriptions is deprecated, use this.unsubscribe instead","","3.1");this._subscriptions=_60b.filter(this._subscriptions,function(sub){if(sub.entity!=null){window.mx.data.unsubscribe(sub);return false;}return true;});_631&&_631();},removeGuidSubscriptions:function(_632){_60d.deprecated(this.id+".removeGuidSubscriptions is deprecated, use this.unsubscribe instead","","3.1");this._subscriptions=_60b.filter(this._subscriptions,function(sub){if((sub.guid!=null)&&(sub.attr==null)){window.mx.data.unsubscribe(sub);return false;}return false;});_632&&_632();},removeChangeSubscriptions:function(){_60d.deprecated(this.id+".removeChangeSubscriptions is deprecated, use this.unsubscribe instead","","3.1");this._subscriptions=_60b.filter(this._subscriptions,function(sub){if((sub.guid!=null)&&(sub.attr!=null)){window.mx.data.unsubscribe(sub);return false;}return true;});},removeSubscriptions:function(){var _633=this._subscriptions;while(_633.length!=0){window.mx.data.unsubscribe(_633.shift());}this._subscriptions=[];},liveConnect:function(node,evt,map){this._liveConnects.push(_605.liveConnect(node,evt,this,map));},liveDisconnect:function(_634){var _635=this._liveConnects;for(var i=0,_636;_636=_635[i];i++){if(_636==_634){_605.liveDisconnect(_634);_635.splice(i,1);return;}}},disconnectLive:function(){_60d.deprecated(this.id+".disconnectLive is deprecated, use liveDisconnect instead","","3.1");var _637=this._liveConnects;while(_637.length){_605.liveDisconnect(_637.pop());}},domData:function(){this.domData=_605.getScopedData();return this.domData.apply(this,arguments);},getLocalUrl:function(_638){_60d.deprecated(this.id+".getLocalUrl is deprecated","","3.1");return require.toUrl(this.moduleName,_638);},markupFactory:function(_639,node,_63a){var _63b=_605.getTabIndex(node);if(_63b){_639.focusIndex=_63b;}_639.content_id=_639.content_id?_639.content_id:node.getAttribute("content_id");return new _63a(_639,node);},resizeContent:function(){this.mxform.resize();},disposeContent:function(){this.mxform.dispose();},getTitle:function(){return this.mxform.getTitle();},getUIPlace:function(){return this.mxform.place;},getContent:function(){return this.content_id;},objectUpdate:function(obj,_63c){if(this.objectUpdateNotification.length==2){this.objectUpdateNotification(obj,_63c);}else{this.objectUpdateNotification(obj);_63c&&_63c();}},objectUpdateNotification:function(obj){},validationUpdate:function(){return this.refresh();},runAct:function(_63d,_63e,_63f){_60d.deprecated(this.id+".runAct is deprecated, use sequence or collect instead","","3.1");var _640=_606[_63f?"collect":"sequence"];_640(this,_63d,_63e);},sequence:function(_641,_642){_606.sequence(_641,_642,this);},collect:function(_643,_644){_606.collect(_643,_644,this);},addFocusBox:function(node){var box=_604.addBox(node);this.addOnDestroy(function(){_604.unregister(box);});return box;},getFocusBox:function(node){return _604.byNode(node);},resize:function(box){},uninitialize:function(){if(!_627.prototype.isLoaded.call(this)){_607.error("Looks like "+this.id+" never loads up, check the structure of the widget");this.addOnLoad(_60c.hitch(this,function(){try{this.uninitialize();}catch(e){_607.error(this.id+".uninitialize: ERROR when calling uninitialize");}}));}else{this.removeSubscriptions();var _645=this._liveConnects,_646=this._destroyCalls;while(_645.length){_605.liveDisconnect(_645.pop());}while(_646.length){(_646.shift()).call(this);}}}});return _627;});},"dijit/_Widget":function(){define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_647,_648,_649,_64a,has,_64b,lang,_64c,_64d,_64e,_64f,_650,_651){function _652(){};function _653(_654){return function(obj,_655,_656,_657){if(obj&&typeof _655=="string"&&obj[_655]==_652){return obj.on(_655.substring(2).toLowerCase(),lang.hitch(_656,_657));}return _654.apply(_649,arguments);};};_647.around(_649,"connect",_653);if(_64b.connect){_647.around(_64b,"connect",_653);}var _658=_64a("dijit._Widget",[_64f,_650,_651],{onClick:_652,onDblClick:_652,onKeyDown:_652,onKeyPress:_652,onKeyUp:_652,onMouseDown:_652,onMouseMove:_652,onMouseOut:_652,onMouseOver:_652,onMouseLeave:_652,onMouseEnter:_652,onMouseUp:_652,constructor:function(_659){this._toConnect={};for(var name in _659){if(this[name]===_652){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_659[name];delete _659[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_652){return _649.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_65a){_64b.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_65a);},attr:function(name,_65b){var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_64b.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_64c("[widgetId]",this.containerNode).map(_64e.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_64d(0,function(){var _65c=["dijit/_base"];require(_65c);});}return _658;});},"dijit/_OnDijitClickMixin":function(){define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_65d,keys,_65e,has,_65f){var ret=_65e("dijit._OnDijitClickMixin",null,{connect:function(obj,_660,_661){return this.inherited(arguments,[obj,_660=="ondijitclick"?_65f:_660,_661]);}});ret.a11yclick=_65f;return ret;});},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(keys,_662,on,_663){function _664(e){if((e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){for(var node=e.target;node;node=node.parentNode){if(node.dojoClick){return true;}}}};var _665;on(document,"keydown",function(e){if(_664(e)){_665=e.target;e.preventDefault();}else{_665=null;}});on(document,"keyup",function(e){if(_664(e)&&e.target==_665){_665=null;on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});}});var _666=function(node,_667){node.dojoClick=true;return on(node,"click",_667);};_666.click=_666;_666.press=function(node,_668){var _669=on(node,_663.press,function(evt){if(evt.type=="mousedown"&&!_662.isLeft(evt)){return;}_668(evt);}),_66a=on(node,"keydown",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_668(evt);}});return {remove:function(){_669.remove();_66a.remove();}};};_666.release=function(node,_66b){var _66c=on(node,_663.release,function(evt){if(evt.type=="mouseup"&&!_662.isLeft(evt)){return;}_66b(evt);}),_66d=on(node,"keyup",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_66b(evt);}});return {remove:function(){_66c.remove();_66d.remove();}};};_666.move=_663.move;return _666;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(dojo,_66e,dom,_66f,lang,on,has,_670,_671,win){var ios4=has("ios")<5;var _672=has("pointer-events")||has("MSPointer"),_673=(function(){var _674={};for(var type in {down:1,move:1,up:1,cancel:1,over:1,out:1}){_674[type]=has("MSPointer")?"MSPointer"+type.charAt(0).toUpperCase()+type.slice(1):"pointer"+type;}return _674;})();var _675=has("touch-events");var _676,_677,_678=false,_679,_67a,_67b,_67c,_67d,_67e;var _67f;function _680(_681,_682,_683){if(_672&&_683){return function(node,_684){return on(node,_683,_684);};}else{if(_675){return function(node,_685){var _686=on(node,_682,function(evt){_685.call(this,evt);_67f=(new Date()).getTime();}),_687=on(node,_681,function(evt){if(!_67f||(new Date()).getTime()>_67f+1000){_685.call(this,evt);}});return {remove:function(){_686.remove();_687.remove();}};};}else{return function(node,_688){return on(node,_681,_688);};}}};function _689(node){do{if(node.dojoClick!==undefined){return node;}}while(node=node.parentNode);};function _68a(e,_68b,_68c){var _68d=_689(e.target);_677=!e.target.disabled&&_68d&&_68d.dojoClick;if(_677){_678=(_677=="useTarget");_679=(_678?_68d:e.target);if(_678){e.preventDefault();}_67a=e.changedTouches?e.changedTouches[0].pageX-win.global.pageXOffset:e.clientX;_67b=e.changedTouches?e.changedTouches[0].pageY-win.global.pageYOffset:e.clientY;_67c=(typeof _677=="object"?_677.x:(typeof _677=="number"?_677:0))||4;_67d=(typeof _677=="object"?_677.y:(typeof _677=="number"?_677:0))||4;if(!_676){_676=true;function _68e(e){if(_678){_677=dom.isDescendant(win.doc.elementFromPoint((e.changedTouches?e.changedTouches[0].pageX-win.global.pageXOffset:e.clientX),(e.changedTouches?e.changedTouches[0].pageY-win.global.pageYOffset:e.clientY)),_679);}else{_677=_677&&(e.changedTouches?e.changedTouches[0].target:e.target)==_679&&Math.abs((e.changedTouches?e.changedTouches[0].pageX-win.global.pageXOffset:e.clientX)-_67a)<=_67c&&Math.abs((e.changedTouches?e.changedTouches[0].pageY-win.global.pageYOffset:e.clientY)-_67b)<=_67d;}};win.doc.addEventListener(_68b,function(e){_68e(e);if(_678){e.preventDefault();}},true);win.doc.addEventListener(_68c,function(e){_68e(e);if(_677){_67e=(new Date()).getTime();var _68f=(_678?_679:e.target);if(_68f.tagName==="LABEL"){_68f=dom.byId(_68f.getAttribute("for"))||_68f;}var src=(e.changedTouches)?e.changedTouches[0]:e;var _690=document.createEvent("MouseEvents");_690._dojo_click=true;_690.initMouseEvent("click",true,true,e.view,e.detail,src.screenX,src.screenY,src.clientX,src.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);setTimeout(function(){on.emit(_68f,"click",_690);_67e=(new Date()).getTime();},0);}},true);function _691(type){win.doc.addEventListener(type,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_67e+1000&&!(e.target.tagName=="INPUT"&&_66f.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(type=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){e.preventDefault();}}},true);};_691("click");_691("mousedown");_691("mouseup");}}};var _692;if(_672){_671(function(){win.doc.addEventListener(_673.down,function(evt){_68a(evt,_673.move,_673.up);},true);});}else{if(_675){_671(function(){_692=win.body();win.doc.addEventListener("touchstart",function(evt){_67f=(new Date()).getTime();var _693=_692;_692=evt.target;on.emit(_693,"dojotouchout",{relatedTarget:_692,bubbles:true});on.emit(_692,"dojotouchover",{relatedTarget:_693,bubbles:true});_68a(evt,"touchmove","touchend");},true);function _694(evt){var _695=lang.delegate(evt,{bubbles:true});if(has("ios")>=6){_695.touches=evt.touches;_695.altKey=evt.altKey;_695.changedTouches=evt.changedTouches;_695.ctrlKey=evt.ctrlKey;_695.metaKey=evt.metaKey;_695.shiftKey=evt.shiftKey;_695.targetTouches=evt.targetTouches;}return _695;};on(win.doc,"touchmove",function(evt){_67f=(new Date()).getTime();var _696=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_696){if(_692!==_696){on.emit(_692,"dojotouchout",{relatedTarget:_696,bubbles:true});on.emit(_696,"dojotouchover",{relatedTarget:_692,bubbles:true});_692=_696;}if(!on.emit(_696,"dojotouchmove",_694(evt))){evt.preventDefault();}}});on(win.doc,"touchend",function(evt){_67f=(new Date()).getTime();var node=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset))||win.body();on.emit(node,"dojotouchend",_694(evt));});});}}var _697={press:_680("mousedown","touchstart",_673.down),move:_680("mousemove","dojotouchmove",_673.move),release:_680("mouseup","dojotouchend",_673.up),cancel:_680(_670.leave,"touchcancel",_672?_673.cancel:null),over:_680("mouseover","dojotouchover",_673.over),out:_680("mouseout","dojotouchout",_673.out),enter:_670._eventHandler(_680("mouseover","dojotouchover",_673.over)),leave:_670._eventHandler(_680("mouseout","dojotouchout",_673.out))};1&&(dojo.touch=_697);return _697;});},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_698,_699,_69a,lang){lang.extend(_699,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _69a("dijit._FocusMixin",null,{_focusManager:_698});});},"mxui/widget/_FormWidget":function(){define(["mxui/widget/_LabeledWidget","mxui/mixin/_ValidationHelper","mxui/lib/InputMask","mxui/dom","mendix/lib/Error","mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_69b,_69c,_69d,dom,_69e,_69f,_6a0,_6a1){var $=dom.create;var _6a2=_6a1([_69b,_69c],{declaredClass:"mxui.widget._FormWidget",attributePath:"",events:null,editNode:null,readNode:null,_mxObject:null,_rootSubs:null,_objsub:null,_attrsub:null,_path:null,_attribute:"",_entity:"",postMixInProperties:function(){var path=this._path=this.attributePath.split("/");this._attribute=path.pop();this._entity=path.slice(-1)[0]||this.entity;path.shift();var meta=window.mx.meta.getEntity(this._entity);if(!meta||!meta.has(this._attribute)){throw new Error("No permission to read or write attribute "+this._attribute+" of entity "+this._entity+", check security.");}this._rootSubs=[];},buildRendering:function(){this.readNode=this.insideFormGroup?$("p",{"class":"form-control-static"}):$("label");this.readNode.innerHTML="&nbsp;";if(!this.domNode){this.domNode=$("div",this.editNode);}if(this.mask){var mask=new _69d(this.editNode,this.mask);this.addOnDestroy(_6a0.hitch(mask,"destroy"));}},startup:function(){this.inherited(arguments);this.set("disabled",this.readOnly);this.setupValidation(this._attribute);this.connectEvents();},update:function(obj,_6a3){while(this._rootSubs.length>0){this.unsubscribe(this._rootSubs.shift());}var self=this,_6a4=function(){window.mx.data.fetch(obj,self._path,{usexpath:true},function(obj){self.updateObject(obj,_6a3);},function(e){window.mx.onError(e);self.updateObject(null,_6a3);});};if(obj){if(this._path.length>0){this._rootSubs.push(this.subscribe({guid:obj.getGuid(),callback:function(guid){_6a4();}}));this._rootSubs.push(this.subscribe({guid:obj.getGuid(),attr:this._path[0],callback:function(guid,attr,val){_6a4();}}));}_6a4();}else{this.updateObject(null,_6a3);}},updateObject:function(obj,_6a5){if(obj!=this._mxObject){this._mxObject=obj;this.setValidationObject(obj);}this.removeError();this.updateDisabled();if(this._objsub){this.unsubscribe(this._objsub);this._objsub=null;}if(this._attrsub){this.unsubscribe(this._attrsub);this._attrsub=null;}if(obj){var _6a6=_6a0.hitch(this,function(val){this.removeError();if(this.get("value")!=val){this.set("value",val);}});this._objsub=this.subscribe({guid:obj.getGuid(),callback:function(){_6a6(this._mxObject.get2(this._attribute));}});this._attrsub=this.subscribe({guid:obj.getGuid(),attr:this._attribute,callback:function(guid,attr,val){_6a6(val);}});this.set("value",obj.get2(this._attribute));}else{this.set("value","");}if(_6a5){_6a5();}},connectEvents:function(){var node=this.editNode||this.domNode;this.connect(node,"change","onChange");for(var evt in this.events){if(evt!="change"){this.connect(node,evt,_6a0.hitch(this,"handleEvent",evt));}}},handleEvent:function(evt){var ev=this.events&&this.events[evt];if(ev){this.validatedMicroflow(ev);}},onChange:function(e){var ev=this.events&&this.events.change,_6a7=this.get("value");if(this.isValid()){this._mxObject.set(this._attribute,_6a7);this.set("value",_6a7);}if(ev){this.validatedMicroflow(ev);}},enable:function(){if(this.editNode&&this.readNode){this.domNode.replaceChild(this.editNode,this.readNode);}else{this.domNode.removeAttribute("disabled");}},disable:function(){if(this.editNode&&this.readNode){var _6a8=this.get("value");if(_6a8!=null){this.set("value",_6a8);}this.domNode.replaceChild(this.readNode,this.editNode);}else{this.domNode.setAttribute("disabled","disabled");}},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._attribute));},getType:function(){return window.mx.meta.getEntity(this._entity).getAttributeType(this._attribute);}});return _6a2;});},"mxui/widget/_LabeledWidget":function(){define(["mxui/widget/_WidgetBase","dojo/_base/array","dojo/_base/declare"],function(_6a9,_6aa,_6ab){var _6ac=_6ab(_6a9,{declaredClass:"mxui.widget._LabeledWidget",insideFormGroup:false,startup:function(){if(!this.insideFormGroup){return;}var _6ad=this.domNode.querySelectorAll("input,textarea,select");if(_6ad.length>1){return;}var _6ae=_6ad[0]||this.domNode.querySelector("button");if(!_6ae.id){_6ae.id=this.id+"_input";}var _6af=this.domNode.previousSibling;_6af.setAttribute("for",_6ae.id);}});return _6ac;});},"mxui/mixin/_ValidationHelper":function(){define(["mxui/dom","mxui/lib/errorMessage","dojo/dom-class","dojo/_base/declare"],function(_6b0,_6b1,_6b2,_6b3){var _6b4=_6b3(null,{required:false,requiredMsg:"",validator:null,_errorNode:null,_valsub:null,_valattr:null,_hasError:false,setupValidation:function(attr){this._valattr=attr||null;},setValidationObject:function(obj){if(this._valsub){this.unsubscribe(this._valsub);}if(obj){this._valsub=this.subscribe({guid:obj.getGuid(),callback:this.onValidation,val:true});}this.removeError();},validatedMicroflow:function(_6b5){var self=this;var run=function(){window.mx.ui.execute({microflow:_6b5},{context:self.mxcontext,store:{caller:self.mxform}});};switch(_6b5.validate){case "node":if(this.isValid()){run();}break;case "view":this.mxform.validate(run);break;default:run();break;}},onValidation:function(list){var val=list[0],attr=this._valattr,msg=val.getReasonByAttribute(attr);if(msg!=null){this.addError(msg);val.removeAttribute(attr);}else{this.removeError();}},validate:function(){if(this.checkValidations&&!this.checkValidations()){return "";}if(this.required&&this.get("value")===""){return (this.requiredMessage||this.requiredMsg||window.mx.ui.translate("mendix.lib.Validations","required_field"));}},isValid:function(){var _6b6=this.validate();if(_6b6!=null){this.addError(_6b6);return false;}else{this.removeError();return true;}},addError:function(msg){this.removeError();this._hasError=true;if(msg){_6b1.show(this.domNode,msg);this.mxform.resize();}_6b2.add(this.domNode,"has-error");if(this.validator){this.validator.addNotification();}},removeError:function(){_6b1.hide(this.domNode);_6b2.remove(this.domNode,"has-error");if(this.validator&&this._hasError){this.validator.removeNotification();}this._hasError=false;}});return _6b4;});},"mxui/lib/errorMessage":function(){define(["mxui/dom"],function(dom){var _6b7={show:function(_6b8,_6b9){var _6ba=_6b8.querySelector(".mx-validation-message");if(!_6ba){_6ba=dom.create("div",{"class":"alert alert-danger mx-validation-message"},_6b9);_6b8.appendChild(_6ba);}else{dom.text(_6ba,_6b9);}},hide:function(_6bb){var _6bc=_6bb.querySelector(".mx-validation-message");if(_6bc){_6bb.removeChild(_6bc);}}};return _6b7;});},"mxui/widget/Underlay":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Floatable","mxui/dom","mendix/logger","dojo/dom-style","dojo/_base/fx","dojo/_base/window","dojo/_base/declare"],function(_6bd,_6be,dom,_6bf,_6c0,_6c1,_6c2,_6c3){var _6c4=_6c3([_6bd,_6be],{declaredClass:"mxui.widget.Underlay",_count:0,buildRendering:function(){this.domNode=dom.create("div",{"class":"mx-underlay"});},postCreate:function(){this.createBackgroundIframe();},show:function(_6c5){if(this._count++===0){var node=this.domNode;if(_6c5){_6c0.set(node,"opacity","0");_6c2.body().appendChild(node);_6c1.fadeIn({end:0.5,node:node,duration:_6c5}).play();}else{_6c2.body().appendChild(node);}}},hide:function(_6c6){if(--this._count===0){var node=this.domNode;if(_6c6){_6c1.fadeOut({node:node,duration:_6c6,onEnd:function(){dom.orphan(node);}}).play();}else{dom.orphan(node);}}},setZIndex:function(_6c7){this.domNode.style.zIndex=_6c7;}});return _6c4;});},"mxui/mixin/_Floatable":function(){define(["dijit/BackgroundIframe","dojo/has","dojo/_base/declare"],function(_6c8,_6c9,_6ca){var _6cb=_6ca(null,{createBackgroundIframe:function(){if(_6c9("ie")||_6c9("trident")){var _6cc=new _6c8(this.domNode);this.addOnDestroy(function(){_6cc.destroy();});}}});return _6cb;});},"mxui/widget/Dialog":function(){define(["mxui/widget/_Popup","mxui/wm/focus","mxui/dom","dojo/dom-geometry","dojo/dom-style","dojo/touch","dojo/sniff","dojo/_base/event","dojo/_base/declare"],function(_6cd,_6ce,dom,_6cf,_6d0,_6d1,_6d2,_6d3,_6d4){var _6d5=_6d4(_6cd,{declaredClass:"mxui.widget.Dialog",caption:"",content:"",buttons:null,closable:true,resizable:true,_handler:null,_headerNode:null,_bodyNode:null,_footerNode:null,_captionNode:null,_closeButton:null,buildRendering:function(){this.buildDialog();this.setCaption(this.caption);this.setContent(this.content);this.setButtons(this.buttons);this.inherited(arguments);},buildDialog:function(){var $=dom.create;this.domNode=$("div",{"class":"modal-dialog mx-dialog"},this._contentNode=$("div",{"class":"modal-content mx-dialog-content"},this._headerNode=$("div",{focusindex:"-1","class":"modal-header mx-dialog-header"},this._captionNode=$("h4",{"class":"caption mx-dialog-caption"})),this._bodyNode=$("div",{"class":"modal-body mx-dialog-body"}),this._footerNode=$("div",{"class":"modal-footer mx-dialog-footer",style:"display: none"})));_6d0.set(this.domNode,"opacity",0);if(this.closable){var _6d6=this._closeButton=$("button",{type:"button","class":"close mx-dialog-close"});_6d6.innerHTML="&times;";this.connect(_6d6,"click",function(e){this.hide();if(_6d2("ie")==8){_6d3.stop(e);}});this._headerNode.insertBefore(_6d6,this._captionNode);}_6ce.addBox(this._footerNode);},onBeforeShow:function(){this.inherited(arguments);dom.moveFocusTo(this.domNode);this.connect(window,"orientationchange","center");this.resize();},getLayerName:function(){return "dialog";},getPositionName:function(){return "center";},layout:function(){var _6d7=_6cf.getContentBox(this.domNode).h,_6d8=_6cf.getMarginBox(this._headerNode).h,_6d9=_6cf.getMarginBox(this._footerNode).h,_6da=dom.getNodeExtents(this._contentNode).h;_6cf.setContentSize(this._bodyNode,{h:_6d7-_6da-_6d8-_6d9});},setCaption:function(_6db){var _6dc=dom.escapeString(_6db);this._captionNode.innerHTML=_6dc||"&nbsp;";},setContent:function(_6dd){dom.empty(this._bodyNode);if(_6dd){this._bodyNode.appendChild(dom.create("#",_6dd));}},setButtons:function(_6de){dom.empty(this._footerNode);if(_6de){for(var i=0,_6df;_6df=_6de[i];i++){this._footerNode.appendChild(_6df);}this._footerNode.style.display="";}}});return _6d5;});},"mxui/widget/_Popup":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Floatable","mxui/lib/Moveable","mxui/lib/Resizable","mxui/lib/popupManager","mxui/dom","dojo/window","dojo/dom-style","dojo/dom-geometry","dojo/_base/fx","dojo/_base/lang","dojo/_base/declare"],function(_6e0,_6e1,_6e2,_6e3,_6e4,_6e5,_6e6,_6e7,_6e8,_6e9,_6ea,_6eb){var _6ec=_6eb([_6e0,_6e1],{delay:200,_mover:null,_resizer:null,_prevBox:null,_maximized:false,_visible:false,_minWidth:300,_minHeight:200,_margin:20,getLayerName:function(){return "popup";},getPositionName:function(){return "stack";},buildRendering:function(){this.capture(this.domNode,"mousedown",function(){_6e4.focus(this);});},postCreate:function(){this.createBackgroundIframe();this._mover=new _6e2(this.domNode,{handle:this._headerNode,margin:this._margin,delay:5});this.connect(this._mover,"onMoveStart",function(e){if(this._maximized){var box=this._prevBox;this.resize({l:e.pageX-box.w/2,w:box.w,h:box.h});}});_6e4.add(this);this._setDimensions({});},show:function(_6ed){_6e4.show(this,_6ed);this.connect(window.mx.ui,"resize",function(){this.resize(null,true);});},onBeforeShow:function(){this._visible=true;var _6ee=_6e5.getNodeExtents(this.domNode);this._minWidth+=_6ee.w;this._minHeight+=_6ee.h;if(this.resizable){this._resizer=new _6e3(this.domNode,{margin:this._margin,resizer:_6ea.hitch(this,"resize"),minWidth:this._minWidth,minHeight:this._minHeight});this.connect(this._headerNode,"dblclick",function(){this.maximize();});}},onShow:function(done){if(this.delay){_6e9.fadeIn({node:this.domNode,duration:this.delay,onEnd:done}).play();}else{_6e7.set(this.domNode,"opacity",1);done();}},onAfterShow:function(){},hide:function(){_6e4.hide(this);},onHide:function(done){if(this.delay){_6e9.fadeOut({node:this.domNode,duration:this.delay,onEnd:done}).play();}else{done();}},center:function(){var node=this.domNode,box=_6e8.getMarginBox(node),port=_6e6.getBox();_6e7.set(node,{top:Math.max(0,0.7*(port.h/2-box.h/2))+"px",left:Math.max(0,port.w/2-box.w/2)+"px"});},maximize:function(redo){if(this._maximized&&!redo){this._maximized=false;this.resize(this._prevBox);}else{var _6ef=_6e6.getBox(),box=redo?this._prevBox:_6e8.getMarginBox(this.domNode);this.resize({t:0,l:0,w:_6ef.w,h:_6ef.h});this._prevBox=box;this._maximized=true;}},_setDimensions:function(box){var _6f0=this._getMaximumSize(),_6f1=_6ea.mixin(_6e8.getMarginBox(this.domNode),box);if(_6f1.w>_6f0.w){box.w=_6f0.w;}if(_6f1.h>_6f0.h){box.h=_6f0.h;}if(box.w){this.domNode.style.width=box.w+"px";}if(this._visible){if(box.h){this.domNode.style.height=box.h+"px";}if(box.w||box.h){this.layout();}}},resize:function(box,_6f2){if(!this._visible){return;}if(this._maximized){if(_6f2){this.maximize(true);return;}else{this._maximized=false;}}box=box||{};this._setDimensions(box);if(box.l){this.domNode.style.left=box.l+"px";}if(box.t){this.domNode.style.top=box.t+"px";}this.moveIntoView();},moveIntoView:function(){_6e5.moveIntoView(this.domNode,this._margin);},uninitialize:function(){this._mover.destroy();if(this._resizer){this._resizer.destroy();}},_getMaximumSize:function(){var _6f3=_6e6.getBox();return {w:_6f3.w-this._margin*2,h:_6f3.h-this._margin*2};}});return _6ec;});},"mxui/lib/Moveable":function(){define(["mxui/dom","dojo/on","dojo/touch","dojo/dom","dojo/dom-geometry","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(_6f4,_6f5,_6f6,_6f7,_6f8,_6f9,_6fa,_6fb){var _6fc=_6fb(null,{declaredClass:"mxui.lib.Moveable",node:null,handle:null,margin:0,delay:0,_events:null,_start:null,_moving:false,constructor:function(node,_6fd){_6fd=_6fd||{};this.node=node;this.handle=_6fd.handle||node;this.margin=_6fd.margin||0;this.delay=_6fd.delay||0;this._events=[_6f5(this.handle,"dragstart",_6f9.stop),_6f5(this.handle,"selectstart",_6f9.stop)];_6f7.setSelectable(this.handle,false);this._reset();},_reset:function(){this._clean();this._events.push(_6f5(this.handle,_6f6.press,_6fa.hitch(this,"_onMouseDown")));},_clean:function(){while(this._events.length>3){this._events.pop().remove();}},_prepare:function(e){var pos=_6f8.position(this.node);this._start={t:pos.y,l:pos.x,x:e.pageX,y:e.pageY};},_onMouseDown:function(e){if(!this.delay){this.onMoveStart(e);}this._clean();this._prepare(e);this._events.push(_6f5(document,_6f6.move,_6fa.hitch(this,"_onMouseMove")),_6f5(document,_6f6.release,_6fa.hitch(this,"_onMouseUp")));},_onMouseMove:function(e){var _6fe=this.node.style,_6ff=this._start,dims={};if(!this._moving){if(Math.sqrt(Math.pow(e.pageX-_6ff.x,2)+Math.pow(e.pageY-_6ff.y,2))>this.delay){this.onMoveStart(e);this._prepare(e);}return;}_6fe.top=dims.t=_6ff.t+(e.pageY-_6ff.y)+"px";_6fe.left=dims.l=_6ff.l+(e.pageX-_6ff.x)+"px";this.onMoving(dims);e.preventDefault();},_onMouseUp:function(e){if(this._moving){this.onMoveStop(e);}this._reset();},onMoveStart:function(){this._moving=true;},onMoving:function(e){},onMoveStop:function(){this._moving=false;_6f4.moveIntoView(this.node,this.margin);},destroy:function(){while(this._events.length){this._events.pop().remove();}}});return _6fc;});},"mxui/lib/Resizable":function(){define(["mxui/dom","dojo/on","dojo/touch","dojo/window","dojo/dom","dojo/dom-geometry","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(_700,_701,_702,_703,_704,_705,_706,_707,_708){var $=_700.create;var _709=_708(null,{declaredClass:"mxui.lib.Resizable",node:null,margin:0,resizer:null,minWidth:0,minHeight:0,_events:null,_start:null,_resizing:false,constructor:function(node,_70a){_70a=_70a||{};this.node=node;this.margin=_70a.margin||0;this.resizer=_70a.resizer;this.minWidth=_70a.minWidth||0;this.minHeight=_70a.minHeight||0;var frag=$("#"),dirs=["n","e","s","w","ne","se","sw","nw"];for(var i=0,dir;dir=dirs[i];i++){var _70b=$("div",{"class":"mx-resizer mx-resizer-"+dir,"data-resize-dir":dir});_704.setSelectable(_70b,false);frag.appendChild(_70b);}node.appendChild(frag);this._events=[];this.reset();},reset:function(){this.clean();var self=this;this._events=[_701(this.node,_702.press,function(e){var dir=e.target.getAttribute("data-resize-dir");if(dir){self.onMouseDown(dir,e);}})];},clean:function(){while(this._events.length){this._events.pop().remove();}},onMouseDown:function(dir,e){this.onResizeStart(e);this.clean();var box=_705.getMarginBox(this.node);this._start={box:box,viewport:_703.getBox(),pageX:e.pageX,pageY:e.pageY,minWidth:Math.min(this.minWidth,box.w),minHeight:Math.min(this.minHeight,box.h)};this._events.push(_701(document,_702.move,_707.hitch(this,"onMouseMove",dir)),_701(document,_702.release,_707.hitch(this,"onMouseUp")));_706.stop(e);},onMouseMove:function(dir,e){var _70c=this._start,box=_70c.box,_70d=this.margin,dims={};if(/e|w/.test(dir)){var _70e=/w/.test(dir),_70f=_70e?_70c.pageX-e.pageX:e.pageX-_70c.pageX,_710=(_70e?box.l+box.w:_70c.viewport.w-box.l)-_70d;dims.w=Math.max(_70c.minWidth,Math.min(_710,box.w+_70f));if(_70e){dims.l=Math.max(_70d,box.l+box.w-dims.w);}}if(/n|s/.test(dir)){var _711=/n/.test(dir),_712=_711?_70c.pageY-e.pageY:e.pageY-_70c.pageY,_713=(_711?box.t+box.h:_70c.viewport.h-box.t)-_70d;dims.h=Math.max(_70c.minHeight,Math.min(_713,box.h+_712));if(_711){dims.t=Math.max(_70d,box.t+box.h-dims.h);}}if(this.resizer){this.resizer(dims);}else{_705.setMarginBox(this.node,dims);}this.onResizing();_706.stop(e);},onMouseUp:function(e){this.onResizeStop(e);this.reset();},onResizeStart:function(){this._resizing=true;},onResizing:function(e){},onResizeStop:function(){this._resizing=false;},destroy:function(){this.clean();}});return _709;});},"mxui/lib/popupManager":function(){define(["mxui/lib/overflowHelper","mxui/wm/focus","mxui/widget/Underlay","mendix/lang","dojo/_base/array","dojo/window","dojo/dom-geometry","dojo/_base/declare","dojo/dom-style"],function(_714,_715,_716,lang,_717,_718,_719,_71a,_71b){var _71c=0,_71d=new _716(),_71e={},_71f=[{name:"popup",index:100,stack:[]},{name:"dialog",index:1000,stack:[]}];var _720={add:function(_721){_714.hideOverflow(document.body);document.body.appendChild(_721.domNode);},show:function(_722,_723){if(_71e[_722.id]){return;}if(_71c>0){_723=true;}_724(_722,_723);_720.focus(_722);_722.onBeforeShow();_714.showOverflow(document.body);if(_723||_722.getPositionName()=="center"){_722.center();}else{_725(_722);_722.moveIntoView();}_722.onShow(function(){_722.onAfterShow();});},hide:function(_726){var _727=_71e[_726.id];if(!_727){return;}_728(_726,_727.focus);_729(_726,_727.modal);_726.onHide(function(){var _72a=_72b(_726);if(_72a){_720.focus(_72a);}_726.destroy();});},focus:function(_72c){if(!_71e[_72c.id]){return;}var _72d=_72e(_72c),_72f=_72d.index,_730=[];_717.forEach(_72d.stack,function(elem){if(elem.id!=_72c.id){_730.push(elem);if(elem.deactivate){elem.deactivate();}}else{if(elem.activate){elem.activate();}}});_730.sort(function(a,b){return a.domNode.style.zIndex-b.domNode.style.zIndex;});_730.push(_72c);_72d.stack=_730;for(var x=0,pane;pane=_72d.stack[x];x++){_72f=_72f+2;pane.domNode.style.zIndex=_72f;}if(_71e[_72c.id].modal&&!_731(_72c)){_71d.setZIndex(_72f-1);}}};function _72b(_732){var _733=_717.indexOf(_71f,_72e(_732));do{var _734=_71f[_733].stack;for(var i=_734.length-1;i>=0;i--){if(_71e[_734[i].id]){return _734[i];}}}while(_733-->0);return null;};function _72e(_735){return lang.find(_71f,function(elem){return elem.name==_735.getLayerName();});};function _736(_737){return _72e(_737).stack;};function _725(_738){var _739=_736(_738),port=_718.getBox(),box=_719.getMarginBox(_738.domNode),posX=(port.w-box.w)/2,posY=(port.h-box.h)/2*0.7,gap=20;var _73a=_739.slice();_73a.sort(function(_73b,_73c){return _73b.domNode.offsetLeft-_73c.domNode.offsetLeft;});for(var i=0;i<_739.length;i++){if(_73a[i]===_738){continue;}var node=_73a[i].domNode,minX=posX-(0.5*gap),maxX=minX+gap;if(minX<node.offsetLeft&&node.offsetLeft<maxX){posX+=gap;posY+=gap;}}_71b.set(_738.domNode,{left:posX+"px",top:posY+"px"});};function _731(_73d){var _73e=_717.indexOf(_71f,_72e(_73d));return _717.some(_71f.slice(_73e+1),function(_73f){return _717.some(_73f.stack,function(elem){return _71e[elem.id].modal;});});};function _728(_740,_741){if(!_741){return;}var _742=_715.get(),_743=true;if(_742){_743=false;while(_742=_742.parentNode){if(_742===_740.domNode){_743=true;break;}}}if(_743){_715.put(_741);}};function _724(_744,_745){if(_745){if(_71c===0){_71d.show();}_71c++;}_71e[_744.id]={modal:_745,focus:_715.get()};var _746=_736(_744);_746.push(_744);};function _729(_747,_748){if(_748){_71c--;if(_71c===0){_71d.hide();}}delete _71e[_747.id];var _749=_736(_747);_749.splice(_717.indexOf(_749,_747),1);};return _720;});},"mxui/lib/overflowHelper":function(){define(["dojo/dom-style"],function(_74a){var _74b={showOverflow:function(node){_74c(node,true);},hideOverflow:function(node){_74c(node,false);}};function _74d(node,_74e){var doc=document.documentElement;while(node=node.parentNode){if(node===doc||_74a.get(node,"overflow")===_74e){return node;}}};function _74c(node,_74f){var _750=_74d(node,_74f?"hidden":"auto");if(_750){if(_750.clientHeight>=_750.scrollHeight){_74a.set(_750,"overflow",_74f?"auto":"hidden");}}};return _74b;});},"mxui/widget/DialogMessage":function(){define(["mxui/widget/Dialog","mxui/dom","mendix/logger","dojo/dom-class","dojo/keys","dojo/_base/declare"],function(_751,_752,_753,_754,_755,_756){var _757=_756(_751,{declaredClass:"mxui.widget.DialogMessage",type:"",content:null,buildRendering:function(){this.caption=this.caption||this.translate(this.type,null,"Message");var _758=_752.create("p");_758.innerHTML=_752.convertNlToBr(_752.escapeString(this.content));this.content=_758;var _759=_752.create("button",{"class":"btn btn-primary"},this.translate("ok",null,"Ok"));this.connect(_759,"click",function(){this.hide();});this.connect(_759,"keyup",function(e){if(e.keyCode===_755.ESCAPE){this.hide();}});this.buttons=[_759];this.inherited(arguments);_754.add(this.domNode,"mx-dialog-"+this.type);}});return _757;});},"mxui/widget/Window":function(){define(["mxui/widget/_Popup","mxui/widget/DataView","mxui/dom","mxui/widget","dojo/sniff","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/touch","dojo/_base/event","dojo/_base/declare","dijit/registry"],function(_75a,_75b,dom,_75c,_75d,_75e,_75f,_760,_761,_762,_763,_764,_765){var $=dom.create;var _766=_764(_75a,{declaredClass:"mxui.widget.Window",title:"",width:0,height:0,resizable:true,content:null,cssStyle:"",cssClass:"",_headerNode:null,buildRendering:function(){this.domNode=$("div",{"class":"modal-dialog mx-window "+this.cssClass,"style":this.cssStyle},this._contentNode=$("div",{"class":"modal-content mx-window-content"},this._headerNode=$("div",{focusindex:"-1","class":"modal-header mx-window-header"},$("h4",this.title||"...")),this.content));_760.add(this.content,"modal-body mx-window-body");var _767=$("button",{type:"button","class":"close"});_767.innerHTML="&times;";_75e.place(_767,this._headerNode,"first");this.connect(_767,"click",function(e){this.onClose();if(_75d("ie")==8){_763.stop(e);}});this.inherited(arguments);_75f.set(this.domNode,"opacity","0");},onBeforeShow:function(){this.inherited(arguments);dom.moveFocusTo(this.content);var _768=_765.findWidgets(this.content);if(_768.length==1&&_768[0] instanceof _75b&&_75c.findNonPlaceholderParent(_768[0].domNode)==this.content){_760.add(this.domNode,"mx-window-view");}var box={};if(this.width){box.w=this.width;}if(this.height){box.h=this.height;}this.resize(box);},layout:function(){var _769=_761.getContentBox(this.domNode).h,_76a=_761.getMarginBox(this._headerNode).h,_76b=dom.getNodeExtents(this._contentNode).h;_761.setContentSize(this.content,{h:Math.max(0,_769-_76b-_76a)});this.resizeChildren(this.content);},activate:function(){_760.add(this.domNode,"mx-window-active");},deactivate:function(){_760.remove(this.domNode,"mx-window-active");},_setTitleAttr:function(){},onClose:function(){}});return _766;});},"mxui/widget/DataView":function(){define(["mxui/widget/_WidgetBase","mxui/widget","mxui/dom","mxui/html/parser","webcore/objectsource/DirectObjectSource","webcore/objectsource/MicroflowObjectSource","webcore/objectsource/SchemaObjectSource","mendix/logger","webcore/objectsource/OfflineObjectSource","mxui/store/asyncValueStore","dijit/registry","dojo/dom-geometry","dojo/topic","dojo/aspect","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_76c,_76d,_76e,_76f,_770,_771,_772,_773,_774,_775,_776,_777,_778,_779,_77a,_77b,_77c){var _77d=_77c(_76c,{declaredClass:"mxui.widget.DataView",entity:"",schema:"",autoLoad:false,datasource:null,conditions:null,contextsource:"",closeButton:"",hideControls:false,useSchema:false,noEntityMessage:"",_mxObject:null,_tempSubs:null,_mxidMap:null,_delayMap:null,_source:null,_contentNode:null,_controlsNode:null,_messageNode:null,_doUpdate:false,constructor:function(){this._tempSubs=[];},postMixInProperties:function(){this.doParse=true;},buildRendering:function(){var $=_76e.create,_77e=this.getTemplate("content"),_77f=this.getTemplate("buttons");this.domNode=$("div",{"class":"mx-dataview"},$("div",{"class":"mx-dataview-content"},_77e));this._contentNode=this.domNode.firstChild;if(this.noEntityMessage){this._messageNode=$("div",{"class":"mx-dataview-message","style":"display: none"},$("div",$("p",this.noEntityMessage)));this.domNode.appendChild(this._messageNode);}if(_77f){var _780=this._controlsNode=$("div",{"class":"mx-dataview-controls"},_77f);if(this.hideControls){_780.style.display="none";}this.domNode.appendChild(_780);}},postCreate:function(){var map=this._mxidMap={},_781=this._delayMap={};for(var _782 in this.conditions){var _783=this.conditions[_782];for(var _784 in _783){var _785=_784===""?"_empty_":_784,_786=_783[_784];_77a.forEach(_786,function(_787){if(_787.action==="show"||_787.action==="hide"){_781[_787.mxid]=1;}_77b.setObject([_787.mxid,_782,_785,_787.action].join("."),1,map);});}}if(!this.readOnly){this.listen("validate",this.validate);this.listen("save",this.save);this.listen("commit",this.commit);this.listen("rollback",this.rollback);_779.after(this.mxform,"onResume",_77b.hitch(this,"resume"));}this.listen("close",this.close);this.createSource();},createSource:function(){var _788=this.datasource;if(_788){switch(_788.type){case "listen":case "direct":if(this.useSchema==="true"){_788.type="schema";this._source=new _772({schema:this.schema,context:this.mxcontext});}else{this._source=new _770({schema:this.schema,context:this.mxcontext,path:_788.path||this.entity});}break;case "microflow":this._source=new _771({context:this.mxcontext,microflow:_788.microflow});break;case "offline":this._source=new _774({context:this.mxcontext,path:_788.path||this.entity});break;default:throw new Error(this.id+".createSource : unknown datasource type: "+_788);}}if(_788.type==="listen"){var _789=window.mx.ui.makeShareId(this.mxform,this.datasource.contextsource),_78a=_77b.hitch(this,function(_78b){this.applyContext(_78b,function(){});});this.own(_778.subscribe(_789,_78a));this.addOnLoad(function(){_775.retrieve(_789,_78a);});}},parseNode:function(node){var _78c=[],_78d=true;var _78e=function(node){var root=_78d,mxid=node.getAttribute("data-mendix-id");_78d=false;if(mxid){if(!root&&mxid in this._delayMap){node.setAttribute("data-mendix-not-parsed",true);window.mx.ui.applyToNode("hide",node);}else{var type=node.getAttribute("data-mendix-type");if(type){var _78f={doParse:false};if(this.schema===""&&type===this.declaredClass){_78f.schema="";}var _790=this.parseContent(node,_78f,true)[0];if(_790){this._patchWidget(_790);_78c.push(_790);node=_790.domNode;}}if(this._shouldBeVisited(node)){_77a.forEach(node.children,_78e,this);}}}else{_77a.forEach(node.children,_78e,this);}};_78e.call(this,node);return _78c;},startup:function(){var _791=this.parseNode(this.domNode);_76d.ready(_791,_77b.hitch(this,"actLoaded"));},applyContext:function(_792,_793){this.mxcontext.mixin(_792);this.update(this.mxcontext.getTrackId(),_793);},update:function(guid,_794){var self=this;this._sourceGuid=guid;var _795=function(obj,_796){self.mxcontext.setObject(obj);self.updateObject(obj,_796);};this._source.fetch(function(obj){_795(obj,_794);},function(e){window.mx.onError(e);_795(null,_794);});},updateObject:function(obj,_797){if(obj!=this._mxObject){this._mxObject=obj;}this.setSubscriptions();this.refresh(_797);},setSubscriptions:function(){var obj=this._mxObject,subs=this._tempSubs,_798=this._sourceGuid,sub;var _799=function(){this.mxcontext.setTrackId(_798);this.update(_798);};var _79a=_77b.hitch(this,"applyConditions");while((sub=subs.pop())){this.unsubscribe(sub);}if(obj){var guid=obj.getGuid();subs.push(this.subscribe({guid:guid,callback:_79a}));for(var attr in this.conditions){subs.push(this.subscribe({guid:guid,attr:attr,callback:_79a}));}}if(this._source.hasRoot()&&_798){subs.push(this.subscribe({guid:_798,callback:_799}));subs.push(this.subscribe({guid:_798,attr:this._source.getRoot(),callback:_799}));}},refresh:function(_79b){this.set("disabled",!this._mxObject);var self=this;if(this.mxform.isSuspended()){this._doUpdate=true;if(_79b){_79b();}return;}else{this._doUpdate=false;}if(this._messageNode){if(!this._mxObject){this._messageNode.style.display="block";}else{this._messageNode.style.display="none";}}this.passContext(_776.findWidgets(this.domNode),function(){self.applyConditions();if(_79b){_79b();}});},validate:function(_79c,_79d){var _79e=this._mxObject;if(!_79e||this.get("disabled")){if(_79c){_79c();}}else{var _79f=this.getChildren(true),_7a0=true;for(var i=0,_7a1;_7a1=_79f[i];i++){if(_7a1.isValid&&!_7a1.isValid()){_7a0=false;}}if(_7a0){if(_79c){_79c();}}else{if(_79d){_79d();}else{if(window.mx.ui.getProfile()==="phone"){window.mx.ui.error(this.translate("validation_error"));}}}}},save:function(_7a2,_7a3){var _7a4=this._mxObject;if(!_7a4||this.get("disabled")){if(_7a2){_7a2();}}else{window.mx.data.save({mxobj:this._mxObject,callback:_7a2,error:_7a3},this);}},commit:function(_7a5,_7a6){var _7a7=this._mxObject;if(!_7a7||this.get("disabled")){_7a5();}else{window.mx.data.commit({mxobj:_7a7,callback:_7a5,error:_7a6});}},resume:function(){if(this._doUpdate){this.refresh();this._doUpdate=false;}},rollback:function(_7a8,_7a9){var obj=this._mxObject;if(!obj||this.get("disabled")){_7a8();}else{if(obj.getGuid()!==0){window.mx.data.rollback({mxobj:obj,callback:_7a8,error:_7a9});}else{if(_7a8){_7a8();}}}},close:function(_7aa){var _7ab=this.closeButton&&this.domNode.querySelector("[data-mendix-id='"+this.closeButton+"']"),_7ac=_7ab&&_776.byNode(_7ab);if(_7ac){_7ac.onClick();}else{if(_7aa){_7aa();}}},getCFActions:function(node){var mxid=node.getAttribute("data-mendix-id")||node.getAttribute("mxid"),_7ad=[];if(mxid){if(this._mxObject){var _7ae=this._mxidMap[mxid];for(var attr in _7ae){var _7af=this._mxObject.get2(attr),_7b0=_7ae[attr][_7af===""?"_empty_":_7af];for(var _7b1 in _7b0){if(_7b1==="show"){_7ad.unshift("show");}else{_7ad.push(_7b1);}}}}else{if(mxid in this._delayMap){_7ad.push("hide");}}}return _7ad;},applyConditions:function(){var _7b2=[],_7b3=false;var _7b4=function(node){var _7b5=!node.getAttribute("data-mendix-not-parsed"),_7b6=this.getCFActions(node);dojo.forEach(_7b6,function(_7b7){if(_7b7=="show"){_7b3=true;if(!_7b5){var _7b8=this.parseNode(node);_7b2.push.apply(_7b2,_7b8);if(_76e.isOrphan(node)){node=_7b8[0].domNode;}node.removeAttribute("data-mendix-not-parsed");_7b5=true;}}window.mx.ui.applyToNode(_7b7,node);},this);if(_7b5&&this._shouldBeVisited(node)){_77a.forEach(node.children,_7b4,this);}};_7b4.call(this,this.domNode);_76d.ready(_7b2,function(){this.passContext(_7b2);if(_7b2.length||_7b3){this.mxform.resize();}},this);},resize:function(box){if(box){var _7b9=box.h-_76e.getNodeExtents(this.domNode).h;if(this._controlsNode){_7b9-=_777.getMarginBox(this._controlsNode).h;}_777.setContentSize(this._contentNode,{h:_7b9});}else{this._contentNode.style.height="auto";}this._contentNode.style.overflow=box?"auto":"";this.resizeChildren(this._contentNode,!box);},uninitialize:function(){this._source.destroy();},getChildren:function(_7ba){if(_7ba){var _7bb=[];_76e.walkNode(this.domNode,function(node){var _7bc=node.nodeType===_76e.nodeTypes.ELEMENT_NODE&&_776.byNode(node);if(!_7bc||_7bc==this){return true;}_7bb.push(_7bc);return !(_7bc instanceof this.constructor);});return _7bb;}else{this.inherited(arguments);}},_patchWidget:function(_7bd){var attr=_7bd.name;if(!(_7bd instanceof _76c)&&(typeof _7bd.onChange=="function")&&attr){this.connect(_7bd,"onChange",function(){var _7be=_7bd.get("value");this._mxObject.set(attr,_7be);});}},_shouldBeVisited:function(node){return node==this.domNode||!(_776.byNode(node) instanceof this.constructor);}});return _77d;});},"webcore/objectsource/OfflineObjectSource":function(){define(["./_ObjectSource","dojo/_base/declare","../offline"],function(_7bf,_7c0,_7c1){var _7c2=_7c0(_7bf,{name:"webcore.objectsource.OfflineObjectSource",_entity:"",constructor:function(args){this.inherited(arguments);this._path=args.path?args.path.split("/"):[];this._entity=this._path.pop();this._path.shift();},fetch:function(_7c3,_7c4){var guid=this.context.getTrackId();if(guid){var meta=window.mx.meta.getEntity(this.context.getTrackEntity());if(meta.isA(this._entity)){this._fetchOverPath(guid).then(_7c3,_7c4);}else{_7c3(null);}}else{_7c3(null);}},getRoot:function(){return this._path.length>0?this._path[0]:"";},_fetchOverPath:function(guid){var p=_7c1.getByGuid(guid);for(var i=0;i<this._path.length-1;i+=2){p=p.then(this._fetchForPathElement(this._path[i]));}return p;},_fetchForPathElement:function(_7c5){return function(_7c6){return _7c1.getByGuid(_7c6.get(_7c5));};}});return _7c2;});},"webcore/offline":function(){define(["mendix/lib/MxObject","./IndexedDatabase","./IndexedDbOffline","./SynchronousPromise","bluebird/bluebird"],function(_7c7,_7c8,_7c9,_7ca,_7cb){var _7cc={getSlice:function(_7cd,_7ce){return _7cf(_7d0().then(_7c9.fetchSlice(_7cd,_7ce)).spread(function(objs,_7d1){var _7d2=objs.map(function(obj){return _7d3(_7cd,obj);});return [_7d2,_7d1];}));},getSliceReference:function(_7d4,_7d5,_7d6,_7d7){return _7cf(_7d0().then(_7c9.fetchSliceReference(_7d4,_7d5,_7d6,_7d7)).spread(function(objs,_7d8){var _7d9=objs.map(function(obj){return _7d3(_7d4,obj);});return [_7d9,_7d8];}));},getByGuid:function(guid){return _7cf(_7d0().then(_7c9.fetch(guid)).spread(function(obj,_7da){return _7d3(_7da,obj);}));},updateLocalDatabase:function(_7db){function _7dc(){return _7db.map(function(fd){return _7ea(fd.xpath).then(function(objs){return _7df(fd.store,objs).then(function(){return objs.map(function(obj){return new _7c7({json:obj,meta:window.mx.meta.getEntity(obj.objectType)});});});});});};return _7cf(_7de().then(function(){return _7cb.all(_7dc());}).then(_7dd));}};return _7cc;function _7d0(){return _7c9.getDatabase(window.mx.session.getConfig("sync_config.schema"));};function _7de(){return _7c9.deleteDatabase();};function _7df(_7e0,_7e1){return new _7cb(function(_7e2,_7e3){_7d0().then(_7c9.fillBulk(_7e0,_7e1.map(_7e4))).then(_7e2,_7e3);});};function _7e4(_7e5){var _7e6={guid:_7e5.guid};var _7e7=_7c9.serialize(_7e5.attributes);for(var key in _7e7){_7e6[key]=_7e7[key].value;}return _7e6;};function _7d3(_7e8,obj){var json={guid:obj.guid,objectType:_7e8,attributes:{}};var _7e9=_7c9.deserialize(obj);for(var key in _7e9){if(key!="guid"){json.attributes[key]={value:_7e9[key]};}}return new _7c7({json:json,meta:window.mx.meta.getEntity(_7e8)});};function _7ea(_7eb){return new _7cb(function(_7ec,_7ed){window.mx.server.request({request:{action:"retrieve_by_xpath",params:{xpath:_7eb,schema:{}}},options:{callback:function(type,json){_7ec(json.mxobjects||[]);},error:_7ed}});});};function _7cf(_7ee){return new _7cb(function(_7ef,_7f0){return _7ee.then(_7ef,_7f0);});};function _7dd(a){return [].concat.apply([],a);};});},"webcore/IndexedDatabase":function(){define(["indexeddbshim/indexeddbshim","./SynchronousPromise"],function(_7f1,_7f2){function _7f3(db){this.transaction=function(_7f4,mode,_7f5){if(typeof mode=="function"){_7f5=mode;mode="readonly";}return new _7f2(function(_7f6,_7f7){var _7f8=db.transaction(_7f4,mode);var _7f9;_7f8.onerror=_7f7;_7f8.onabort=_7f7;_7f8.oncomplete=function(_7fa){_7f6(_7f9);};_7f9=_7f5(new _7fe(_7f8));});};this.createObjectStore=function(name,_7fb,fn){var _7fc=db.createObjectStore(name,_7fb);if(fn){fn(new _7fd(_7fc));}return this;};};function _7fe(_7ff){this.store=function(name){var _800=_7ff.objectStore(name);return new _7fd(_800);};};function _7fd(_801){this.key=function(key){this._key=key;return this;};this.get=function(_802,_803){var self=this;return new _7f2(function(_804,_805){var _806=_801.get(self._key);_806.onerror=_805;_806.onsuccess=function(_807){_804(_807.target.result);};}).then(_802,_803);};this.cursor=function(_808,_809){return new _811(_801,_808,_809);};this.index=function(name,_80a,_80b){return new _811(_801.index(name),_80a,_80b);};this.count=function(){return new _7f2(function(_80c,_80d){var _80e=_801.count();_80e.onerror=_80d;_80e.onsuccess=function(_80f){_80c(_80f.target.result);};});};this.add=function(item,key){_801.add(item,key);return this;};this.createIndex=function(name,path,_810){_801.createIndex(name,path,_810);return this;};};function _811(_812,_813,_814){var _815=null;var _816=0;var _817=0;var _818=null;this.offset=function(n){_816=n;return this;};this.limit=function(n){_817=n;return this;};this.each=function(fn){each(function(_819){if(_819!=null){fn(_819);}});return this;};this.toArray=function(fn){var _81a=[];each(function(_81b){if(_81b==null){fn(_81a);}else{_81a.push(_81b);}});return this;};this["catch"]=this.caught=function(fn){_818=fn;};function each(fn){var _81c=0;_815=_812.openCursor(_813,_814);if(_818){_815.onerror=_818;}if(_816>0){_815.onsuccess=_81d;}else{_815.onsuccess=next;}function _81d(_81e){var _81f=_81e.target.result;_81f.advance(_816);_815.onsuccess=next;};function next(_820){var _821=_820.target.result;if(_821&&(_817===0||_81c<_817)){fn(_821.value);_821["continue"]();}else{fn(null);}++_81c;};};};return _7f3;});},"indexeddbshim/indexeddbshim":function(){define(["dojo","dijit","dojox"],function(dojo,_822,_823){var _824={util:{cleanInterface:false}};(function(){"use strict";var _825={test:true};if(Object.defineProperty){try{Object.defineProperty(_825,"test",{enumerable:false});if(_825.test){_824.util.cleanInterface=true;}}catch(e){}}})();(function(_826){"use strict";function _827(fn,_828,_829){_829.target=_828;(typeof _828[fn]==="function")&&_828[fn].apply(_828,[_829]);};var _82a=function(){this.length=0;this._items=[];if(_826.util.cleanInterface){Object.defineProperty(this,"_items",{enumerable:false});}};_82a.prototype={contains:function(str){return -1!==this._items.indexOf(str);},item:function(key){return this._items[key];},indexOf:function(str){return this._items.indexOf(str);},push:function(item){this._items.push(item);this.length+=1;for(var i=0;i<this._items.length;i++){this[i]=this._items[i];}},splice:function(){this._items.splice.apply(this._items,arguments);this.length=this._items.length;for(var i in this){if(i===String(parseInt(i,10))){delete this[i];}}for(i=0;i<this._items.length;i++){this[i]=this._items[i];}}};if(_826.util.cleanInterface){for(var i in {"indexOf":false,"push":false,"splice":false}){Object.defineProperty(_82a.prototype,i,{enumerable:false});}}_826.util.callback=_827;_826.util.StringList=_82a;_826.util.quote=function(arg){return "\""+arg+"\"";};}(_824));(function(_82b){"use strict";function _82c(){if(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/)){_82d();}};function _82d(){var cmp=IDBFactory.prototype.cmp;var _82e=IDBDatabase.prototype.createObjectStore;var _82f=IDBObjectStore.prototype.createIndex;var add=IDBObjectStore.prototype.add;var put=IDBObjectStore.prototype.put;var _830=IDBIndex.prototype.get;var _831=IDBIndex.prototype.getKey;var _832=IDBIndex.prototype.openCursor;var _833=IDBIndex.prototype.openKeyCursor;var _834=IDBObjectStore.prototype.get;var _835=IDBObjectStore.prototype["delete"];var _836=IDBObjectStore.prototype.openCursor;var _837=IDBObjectStore.prototype.openKeyCursor;var _838=IDBKeyRange.bound;var _839=IDBKeyRange.upperBound;var _83a=IDBKeyRange.lowerBound;var only=IDBKeyRange.only;var _83b=Object.getOwnPropertyDescriptor(IDBRequest.prototype,"result");var _83c=Object.getOwnPropertyDescriptor(IDBCursor.prototype,"primaryKey");var _83d=Object.getOwnPropertyDescriptor(IDBCursor.prototype,"key");var _83e=Object.getOwnPropertyDescriptor(IDBCursorWithValue.prototype,"value");IDBFactory.prototype.cmp=function(key1,key2){var args=Array.prototype.slice.call(arguments);if(key1 instanceof Array){args[0]=_85d(key1);}if(key2 instanceof Array){args[1]=_85d(key2);}return cmp.apply(this,args);};IDBDatabase.prototype.createObjectStore=function(name,opts){if(opts&&opts.keyPath instanceof Array){opts.keyPath=_854(opts.keyPath);}return _82e.apply(this,arguments);};IDBObjectStore.prototype.createIndex=function(name,_83f,opts){var args=Array.prototype.slice.call(arguments);if(_83f instanceof Array){args[1]=_854(_83f);}return _82f.apply(this,args);};IDBObjectStore.prototype.add=function(_840,key){return this.__insertData(add,arguments);};IDBObjectStore.prototype.put=function(_841,key){return this.__insertData(put,arguments);};IDBObjectStore.prototype.__insertData=function(_842,args){args=Array.prototype.slice.call(args);var _843=args[0];var key=args[1];if(key instanceof Array){args[1]=_85d(key);}if(typeof _843==="object"){if(_852(this.keyPath)){_858(_843,this.keyPath);}for(var i=0;i<this.indexNames.length;i++){var _844=this.index(this.indexNames[i]);if(_852(_844.keyPath)){try{_858(_843,_844.keyPath);}catch(e){}}}}return _842.apply(this,args);};IDBIndex.prototype.get=function(key){var args=Array.prototype.slice.call(arguments);if(key instanceof Array){args[0]=_85d(key);}return _830.apply(this,args);};IDBIndex.prototype.getKey=function(key){var args=Array.prototype.slice.call(arguments);if(key instanceof Array){args[0]=_85d(key);}return _831.apply(this,args);};IDBIndex.prototype.openCursor=function(key){var args=Array.prototype.slice.call(arguments);if(key instanceof Array){args[0]=_85d(key);}return _832.apply(this,args);};IDBIndex.prototype.openKeyCursor=function(key){var args=Array.prototype.slice.call(arguments);if(key instanceof Array){args[0]=_85d(key);}return _833.apply(this,args);};IDBObjectStore.prototype.get=function(key){var args=Array.prototype.slice.call(arguments);if(key instanceof Array){args[0]=_85d(key);}return _834.apply(this,args);};IDBObjectStore.prototype["delete"]=function(key){var args=Array.prototype.slice.call(arguments);if(key instanceof Array){args[0]=_85d(key);}return _835.apply(this,args);};IDBObjectStore.prototype.openCursor=function(key){var args=Array.prototype.slice.call(arguments);if(key instanceof Array){args[0]=_85d(key);}return _836.apply(this,args);};IDBObjectStore.prototype.openKeyCursor=function(key){var args=Array.prototype.slice.call(arguments);if(key instanceof Array){args[0]=_85d(key);}return _837.apply(this,args);};IDBKeyRange.bound=function(_845,_846,_847,_848){var args=Array.prototype.slice.call(arguments);if(_845 instanceof Array){args[0]=_85d(_845);}if(_846 instanceof Array){args[1]=_85d(_846);}return _838.apply(IDBKeyRange,args);};IDBKeyRange.upperBound=function(key,open){var args=Array.prototype.slice.call(arguments);if(key instanceof Array){args[0]=_85d(key);}return _839.apply(IDBKeyRange,args);};IDBKeyRange.lowerBound=function(key,open){var args=Array.prototype.slice.call(arguments);if(key instanceof Array){args[0]=_85d(key);}return _83a.apply(IDBKeyRange,args);};IDBKeyRange.only=function(key){var args=Array.prototype.slice.call(arguments);if(key instanceof Array){args[0]=_85d(key);}return only.apply(IDBKeyRange,args);};Object.defineProperty(IDBRequest.prototype,"result",{enumerable:_83b.enumerable,configurable:_83b.configurable,get:function(){var _849=_83b.get.call(this);return _84d(_849);}});Object.defineProperty(IDBCursor.prototype,"primaryKey",{enumerable:_83c.enumerable,configurable:_83c.configurable,get:function(){var _84a=_83c.get.call(this);return _84d(_84a);}});Object.defineProperty(IDBCursor.prototype,"key",{enumerable:_83d.enumerable,configurable:_83d.configurable,get:function(){var _84b=_83d.get.call(this);return _84d(_84b);}});Object.defineProperty(IDBCursorWithValue.prototype,"value",{enumerable:_83e.enumerable,configurable:_83e.configurable,get:function(){var _84c=_83e.get.call(this);return _84d(_84c);}});try{if(!IDBTransaction.VERSION_CHANGE){IDBTransaction.VERSION_CHANGE="versionchange";}}catch(e){}};var _84e="__$$compoundKey";var _84f=/\$\$/g;var _850="$$$$";var _851="$_$";function _852(_853){return _853&&(_853.indexOf(_84e+".")===0);};function _854(_855){for(var i=0;i<_855.length;i++){_855[i]=_855[i].replace(/\./g,_850);}return _84e+"."+_855.join(_851);};function _856(_857){_857=_857.substr(_84e.length+1);_857=_857.split(_851);for(var i=0;i<_857.length;i++){_857[i]=_857[i].replace(_84f,".");}return _857;};function _858(_859,_85a){var _85b=_856(_85a);var key=_82b.Key.getValue(_859,_85b);var _85c=_85d(key);_85a=_85a.substr(_84e.length+1);_859[_84e]=_859[_84e]||{};_859[_84e][_85a]=_85c;};function _84d(_85e){if(typeof _85e==="string"&&_852(_85e)){return _85f(_85e);}else{if(_85e&&typeof _85e[_84e]==="object"){delete _85e[_84e];}}return _85e;};function _85d(key){_82b.Key.validate(key);key=_82b.Key.encode(key);key=_84e+"."+key;_860(key);return key;};function _85f(key){_860(key);key=key.substr(_84e.length+1);key=_82b.Key.decode(key);return key;};function _860(key){if(key.length>889){throw _82b.util.createDOMException("DataError","The encoded key is "+key.length+" characters long, but IE only allows 889 characters. Consider replacing numeric keys with strings to reduce the encoded length.");}};_82b.polyfill=_82c;})(_824);(function(_861){"use strict";var Sca=(function(){return {decycle:function(_862,_863){var _864=[],_865=[],_866=[],_867=_863;function _868(){if(_866.length===0){_867(_869);}};function _86a(blob,path){var _86b=new FileReader();_86b.onloadend=function(_86c){var _86d=_86c.target.result;var _86e="Blob";if(blob instanceof File){}_86f(_86d,path,_86e);};_86b.readAsDataURL(blob);};function _86f(_870,path,_871){var _872=_866.indexOf(path);path=path.replace("$","derezObj");eval(path+".$enc=\""+_870+"\"");eval(path+".$type=\""+_871+"\"");_866.splice(_872,1);_868();};function _873(_874,path){var i,name,nu;if(typeof _874==="object"&&_874!==null&&!(_874 instanceof Boolean)&&!(_874 instanceof Date)&&!(_874 instanceof Number)&&!(_874 instanceof RegExp)&&!(_874 instanceof Blob)&&!(_874 instanceof String)){for(i=0;i<_864.length;i+=1){if(_864[i]===_874){return {$ref:_865[i]};}}_864.push(_874);_865.push(path);if(Object.prototype.toString.apply(_874)==="[object Array]"){nu=[];for(i=0;i<_874.length;i+=1){nu[i]=_873(_874[i],path+"["+i+"]");}}else{nu={};for(name in _874){if(Object.prototype.hasOwnProperty.call(_874,name)){nu[name]=_873(_874[name],path+"["+JSON.stringify(name)+"]");}}}return nu;}else{if(_874 instanceof Blob){_866.push(path);_86a(_874,path);}else{if(_874 instanceof Boolean){_874={"$type":"Boolean","$enc":_874.toString()};}else{if(_874 instanceof Date){_874={"$type":"Date","$enc":_874.getTime()};}else{if(_874 instanceof Number){_874={"$type":"Number","$enc":_874.toString()};}else{if(_874 instanceof RegExp){_874={"$type":"RegExp","$enc":_874.toString()};}else{if(typeof _874==="number"){_874={"$type":"number","$enc":_874+""};}else{if(_874===undefined){_874={"$type":"undefined"};}}}}}}}}return _874;};var _869=_873(_862,"$");_868();},retrocycle:function retrocycle($){var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;function _875(_876){var _877=";base64,",_878,_879,raw;if(_876.indexOf(_877)===-1){_879=_876.split(",");_878=_879[0].split(":")[1];raw=_879[1];return new Blob([raw],{type:_878});}_879=_876.split(_877);_878=_879[0].split(":")[1];raw=window.atob(_879[1]);var _87a=raw.length;var _87b=new Uint8Array(_87a);for(var i=0;i<_87a;++i){_87b[i]=raw.charCodeAt(i);}return new Blob([_87b.buffer],{type:_878});};function rez(_87c){var i,item,name,path;if(_87c&&typeof _87c==="object"){if(Object.prototype.toString.apply(_87c)==="[object Array]"){for(i=0;i<_87c.length;i+=1){item=_87c[i];if(item&&typeof item==="object"){path=item.$ref;if(typeof path==="string"&&px.test(path)){_87c[i]=eval(path);}else{_87c[i]=rez(item);}}}}else{if(_87c.$type!==undefined){switch(_87c.$type){case "Blob":case "File":_87c=_875(_87c.$enc);break;case "Boolean":_87c=Boolean(_87c.$enc==="true");break;case "Date":_87c=new Date(_87c.$enc);break;case "Number":_87c=Number(_87c.$enc);break;case "RegExp":_87c=eval(_87c.$enc);break;case "number":_87c=parseFloat(_87c.$enc);break;case "undefined":_87c=undefined;break;}}else{for(name in _87c){if(typeof _87c[name]==="object"){item=_87c[name];if(item){path=item.$ref;if(typeof path==="string"&&px.test(path)){_87c[name]=eval(path);}else{_87c[name]=rez(item);}}}}}}}return _87c;};return rez($);},"encode":function(val,_87d){function _87e(val){_87d(JSON.stringify(val));};this.decycle(val,_87e);},"decode":function(val){return this.retrocycle(JSON.parse(val));}};}());_861.Sca=Sca;}(_824));(function(_87f){"use strict";var _880=["undefined","number","date","string","array"];var _881=["negativeInfinity","bigNegative","smallNegative","smallPositive","bigPositive","positiveInfinity"];var _882={undefined:{encode:function(key){return _880.indexOf("undefined")+"-";},decode:function(key){return undefined;}},date:{encode:function(key){return _880.indexOf("date")+"-"+key.toJSON();},decode:function(key){return new Date(key.substring(2));}},number:{encode:function(key){var _883=Math.abs(key).toString(32);var _884=_883.indexOf(".");_883=(_884!==-1)?_883.replace(".",""):_883;var _885=_883.search(/[^0]/);_883=_883.slice(_885);var sign,_886=_887(2),_888=_887(11);if(isFinite(key)){if(key<0){if(key>-1){sign=_881.indexOf("smallNegative");_886=_889(_885);_888=_88a(_88b(_883));}else{sign=_881.indexOf("bigNegative");_886=_88a(_889((_884!==-1)?_884:_883.length));_888=_88a(_88b(_883));}}else{if(key<1){sign=_881.indexOf("smallPositive");_886=_88a(_889(_885));_888=_88b(_883);}else{sign=_881.indexOf("bigPositive");_886=_889((_884!==-1)?_884:_883.length);_888=_88b(_883);}}}else{sign=_881.indexOf(key>0?"positiveInfinity":"negativeInfinity");}return _880.indexOf("number")+"-"+sign+_886+_888;},decode:function(key){var sign=+key.substr(2,1);var _88c=key.substr(3,2);var _88d=key.substr(5,11);switch(_881[sign]){case "negativeInfinity":return -Infinity;case "positiveInfinity":return Infinity;case "bigPositive":return _88e(_88d,_88c);case "smallPositive":_88c=_88f(_88a(_88c));return _88e(_88d,_88c);case "smallNegative":_88c=_88f(_88c);_88d=_88a(_88d);return -_88e(_88d,_88c);case "bigNegative":_88c=_88a(_88c);_88d=_88a(_88d);return -_88e(_88d,_88c);default:throw new Error("Invalid number.");}}},string:{encode:function(key,_890){if(_890){key=key.replace(/(.)/g,"-$1")+" ";}return _880.indexOf("string")+"-"+key;},decode:function(key,_891){key=key.substring(2);if(_891){key=key.substr(0,key.length-1).replace(/-(.)/g,"$1");}return key;}},array:{encode:function(key){var _892=[];for(var i=0;i<key.length;i++){var item=key[i];var _893=_87f.Key.encode(item,true);_892[i]=_893;}_892.push(_880.indexOf("undefined")+"-");return _880.indexOf("array")+"-"+JSON.stringify(_892);},decode:function(key){var _894=JSON.parse(key.substring(2));_894.pop();for(var i=0;i<_894.length;i++){var item=_894[i];var _895=_87f.Key.decode(item,true);_894[i]=_895;}return _894;}}};function _889(n){n=n.toString(32);return (n.length===1)?"0"+n:n;};function _88b(s){return (s+_887(11)).slice(0,11);};function _88a(_896){var _897="";for(var i=0;i<_896.length;i++){_897+=(31-parseInt(_896[i],32)).toString(32);}return _897;};function _88e(_898,_899){var _89a,_89b,_89c;_899=parseInt(_899,32);if(_899<0){return _89d(parseInt(_898,32)*Math.pow(32,_899-10));}else{if(_899<11){_89a=_898.slice(0,_899);_89a=parseInt(_89a,32);_89b=_898.slice(_899);_89b=parseInt(_89b,32)*Math.pow(32,_899-11);return _89d(_89a+_89b);}else{_89c=_898+_887(_899-11);return parseInt(_89c,32);}}};function _89d(num,_89e){_89e=_89e||16;return parseFloat(num.toPrecision(_89e));};function _887(n){var _89f="";while(n--){_89f=_89f+"0";}return _89f;};function _88f(s){return "-"+s;};function _8a0(key){if(key instanceof Date){return "date";}if(key instanceof Array){return "array";}return typeof key;};function _8a1(key){var type=_8a0(key);if(type==="array"){for(var i=0;i<key.length;i++){_8a1(key[i]);}}else{if(!_882[type]||(type!=="string"&&isNaN(key))){throw _87f.util.createDOMException("DataError","Not a valid key");}}};function _8a2(_8a3,_8a4){try{if(_8a4 instanceof Array){var _8a5=[];for(var i=0;i<_8a4.length;i++){_8a5.push(_8a3[_8a4[i]]);}return _8a5;}else{return _8a3[_8a4];}}catch(e){return undefined;}};function _8a6(_8a7,_8a8,_8a9){var _8aa=_8a8.split(".");for(var i=0;i<_8aa.length-1;i++){var prop=_8aa[i];_8a7=_8a7[prop]=_8a7[prop]||{};}_8a7[_8aa[_8aa.length-1]]=_8a9;};function _8ab(_8ac,_8ad){var _8ae=_880[_8ad.substring(0,1)];if(_8ae==="array"){return _8ad.indexOf(_8ac)>1;}else{return _8ad===_8ac;}};function _8af(key,_8b0){var _8b1=_8b0.lower===undefined;var _8b2=_8b0.upper===undefined;var _8b3=_87f.Key.encode(key,true);if(_8b0.lower!==undefined){if(_8b0.lowerOpen&&_8b3>_8b0.__lower){_8b1=true;}if(!_8b0.lowerOpen&&_8b3>=_8b0.__lower){_8b1=true;}}if(_8b0.upper!==undefined){if(_8b0.upperOpen&&_8b3<_8b0.__upper){_8b2=true;}if(!_8b0.upperOpen&&_8b3<=_8b0.__upper){_8b2=true;}}return _8b1&&_8b2;};function _8b4(_8b5,_8b6){var _8b7=[];if(_8b5 instanceof Array){for(var i=0;i<_8b5.length;i++){var key=_8b5[i];if(key instanceof Array){if(_8b6.lower===_8b6.upper){continue;}if(key.length===1){key=key[0];}else{var _8b8=_8b4(key,_8b6);if(_8b8.length>0){_8b7.push(key);}continue;}}if(_8af(key,_8b6)){_8b7.push(key);}}}else{if(_8af(_8b5,_8b6)){_8b7.push(_8b5);}}return _8b7;};_87f.Key={encode:function(key,_8b9){if(key===undefined){return null;}return _882[_8a0(key)].encode(key,_8b9);},decode:function(key,_8ba){if(typeof key!=="string"){return undefined;}return _882[_880[key.substring(0,1)]].decode(key,_8ba);},validate:_8a1,getValue:_8a2,setValue:_8a6,isMultiEntryMatch:_8ab,findMultiEntryMatches:_8b4};}(_824));(function(_8bb){"use strict";function _8bc(type,_8bd){var _8be=new Event(type);_8be.debug=_8bd;Object.defineProperty(_8be,"target",{writable:true});return _8be;};function _8bf(type,_8c0){this.type=type;this.debug=_8c0;this.bubbles=false;this.cancelable=false;this.eventPhase=0;this.timeStamp=new Date().valueOf();};var _8c1=false;try{var test=_8bc("test type","test debug");var _8c2={test:"test target"};test.target=_8c2;if(test instanceof Event&&test.type==="test type"&&test.debug==="test debug"&&test.target===_8c2){_8c1=true;}}catch(e){}if(_8c1){_8bb.Event=Event;_8bb.IDBVersionChangeEvent=Event;_8bb.util.createEvent=_8bc;}else{_8bb.Event=_8bf;_8bb.IDBVersionChangeEvent=_8bf;_8bb.util.createEvent=function(type,_8c3){return new _8bf(type,_8c3);};}}(_824));(function(_8c4){"use strict";function _8c5(name,_8c6){var e=new DOMException.prototype.constructor(0,_8c6);e.name=name||"DOMException";e.message=_8c6;return e;};function _8c7(name,_8c8){name=name||"DOMError";var e=new DOMError(name,_8c8);e.name===name||(e.name=name);e.message===_8c8||(e.message=_8c8);return e;};function _8c9(name,_8ca){var e=new Error(_8ca);e.name=name||"DOMException";e.message=_8ca;return e;};_8c4.util.logError=function(name,_8cb,_8cc){if(_8c4.DEBUG){if(_8cc&&_8cc.message){_8cc=_8cc.message;}var _8cd=typeof (console.error)==="function"?"error":"log";console[_8cd](name+": "+_8cb+". "+(_8cc||""));console.trace&&undefined;}};_8c4.util.findError=function(args){var err;if(args){if(args.length===1){return args[0];}for(var i=0;i<args.length;i++){var arg=args[i];if(arg instanceof Error||arg instanceof DOMException){return arg;}else{if(arg&&typeof arg.message==="string"){err=arg;}}}}return err;};var test,_8ce=false,_8cf=false;try{test=_8c5("test name","test message");if(test instanceof DOMException&&test.name==="test name"&&test.message==="test message"){_8ce=true;}}catch(e){}try{test=_8c7("test name","test message");if(test instanceof DOMError&&test.name==="test name"&&test.message==="test message"){_8cf=true;}}catch(e){}if(_8ce){_8c4.DOMException=DOMException;_8c4.util.createDOMException=function(name,_8d0,_8d1){_8c4.util.logError(name,_8d0,_8d1);return _8c5(name,_8d0);};}else{_8c4.DOMException=Error;_8c4.util.createDOMException=function(name,_8d2,_8d3){_8c4.util.logError(name,_8d2,_8d3);return _8c9(name,_8d2);};}if(_8cf){_8c4.DOMError=DOMError;_8c4.util.createDOMError=function(name,_8d4,_8d5){_8c4.util.logError(name,_8d4,_8d5);return _8c7(name,_8d4);};}else{_8c4.DOMError=Error;_8c4.util.createDOMError=function(name,_8d6,_8d7){_8c4.util.logError(name,_8d6,_8d7);return _8c9(name,_8d6);};}}(_824));(function(_8d8){"use strict";function _8d9(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null;this.readyState="pending";};function _8da(){this.onblocked=this.onupgradeneeded=null;};_8da.prototype=new _8d9();_8da.prototype.constructor=_8da;_8d8.IDBRequest=_8d9;_8d8.IDBOpenDBRequest=_8da;}(_824));(function(_8db,_8dc){"use strict";function _8dd(_8de,_8df,_8e0,_8e1){if(_8de!==_8dc){_8db.Key.validate(_8de);}if(_8df!==_8dc){_8db.Key.validate(_8df);}this.lower=_8de;this.upper=_8df;this.lowerOpen=!!_8e0;this.upperOpen=!!_8e1;};_8dd.only=function(_8e2){return new _8dd(_8e2,_8e2,false,false);};_8dd.lowerBound=function(_8e3,open){return new _8dd(_8e3,_8dc,open,_8dc);};_8dd.upperBound=function(_8e4,open){return new _8dd(_8dc,_8e4,_8dc,open);};_8dd.bound=function(_8e5,_8e6,_8e7,_8e8){return new _8dd(_8e5,_8e6,_8e7,_8e8);};_8db.IDBKeyRange=_8dd;}(_824));(function(_8e9,_8ea){"use strict";function _8eb(_8ec,_8ed,_8ee,_8ef,_8f0,_8f1){if(_8ec===null){_8ec=_8ea;}if(_8ec!==_8ea&&!(_8ec instanceof _8e9.IDBKeyRange)){_8ec=new _8e9.IDBKeyRange(_8ec,_8ec,false,false);}_8ee.transaction.__assertActive();if(_8ed!==_8ea&&["next","prev","nextunique","prevunique"].indexOf(_8ed)===-1){throw new TypeError(_8ed+"is not a valid cursor direction");}this.source=_8ef;this.direction=_8ed||"next";this.key=_8ea;this.primaryKey=_8ea;this.__store=_8ee;this.__range=_8ec;this.__req=new _8e9.IDBRequest();this.__keyColumnName=_8f0;this.__valueColumnName=_8f1;this.__valueDecoder=_8f1==="value"?_8e9.Sca:_8e9.Key;this.__offset=-1;this.__lastKeyContinued=_8ea;this.__multiEntryIndex=_8ef instanceof _8e9.IDBIndex?_8ef.multiEntry:false;this.__unique=this.direction.indexOf("unique")!==-1;if(_8ec!==_8ea){_8ec.__lower=_8ec.lower!==_8ea&&_8e9.Key.encode(_8ec.lower,this.__multiEntryIndex);_8ec.__upper=_8ec.upper!==_8ea&&_8e9.Key.encode(_8ec.upper,this.__multiEntryIndex);}this["continue"]();};_8eb.prototype.__find=function(){var args=Array.prototype.slice.call(arguments);if(this.__multiEntryIndex){this.__findMultiEntry.apply(this,args);}else{this.__findBasic.apply(this,args);}};_8eb.prototype.__findBasic=function(key,tx,_8f2,_8f3,_8f4){_8f4=_8f4||1;var me=this;var _8f5=_8e9.util.quote(me.__keyColumnName);var sql=["SELECT * FROM",_8e9.util.quote(me.__store.name)];var _8f6=[];sql.push("WHERE",_8f5,"NOT NULL");if(me.__range&&(me.__range.lower!==_8ea||me.__range.upper!==_8ea)){sql.push("AND");if(me.__range.lower!==_8ea){sql.push(_8f5,(me.__range.lowerOpen?">":">="),"?");_8f6.push(me.__range.__lower);}(me.__range.lower!==_8ea&&me.__range.upper!==_8ea)&&sql.push("AND");if(me.__range.upper!==_8ea){sql.push(_8f5,(me.__range.upperOpen?"<":"<="),"?");_8f6.push(me.__range.__upper);}}if(typeof key!=="undefined"){me.__lastKeyContinued=key;me.__offset=0;}if(me.__lastKeyContinued!==_8ea){sql.push("AND",_8f5,">= ?");_8e9.Key.validate(me.__lastKeyContinued);_8f6.push(_8e9.Key.encode(me.__lastKeyContinued));}var _8f7=me.direction==="prev"||me.direction==="prevunique"?"DESC":"ASC";sql.push("ORDER BY",_8f5,_8f7);sql.push("LIMIT",_8f4,"OFFSET",me.__offset);sql=sql.join(" ");_8e9.DEBUG&&undefined;me.__prefetchedData=null;me.__prefetchedIndex=0;tx.executeSql(sql,_8f6,function(tx,data){if(data.rows.length>1){me.__prefetchedData=data.rows;me.__prefetchedIndex=0;_8e9.DEBUG&&undefined;me.__decode(data.rows.item(0),_8f2);}else{if(data.rows.length===1){me.__decode(data.rows.item(0),_8f2);}else{_8e9.DEBUG&&undefined;_8f2(_8ea,_8ea,_8ea);}}},function(tx,err){_8e9.DEBUG&&undefined;_8f3(err);});};_8eb.prototype.__findMultiEntry=function(key,tx,_8f8,_8f9){var me=this;if(me.__prefetchedData&&me.__prefetchedData.length===me.__prefetchedIndex){_8e9.DEBUG&&undefined;_8f8(_8ea,_8ea,_8ea);return;}var _8fa=_8e9.util.quote(me.__keyColumnName);var sql=["SELECT * FROM",_8e9.util.quote(me.__store.name)];var _8fb=[];sql.push("WHERE",_8fa,"NOT NULL");if(me.__range&&(me.__range.lower!==_8ea&&me.__range.upper!==_8ea)){if(me.__range.upper.indexOf(me.__range.lower)===0){sql.push("AND",_8fa,"LIKE ?");_8fb.push("%"+me.__range.__lower.slice(0,-1)+"%");}}if(typeof key!=="undefined"){me.__lastKeyContinued=key;me.__offset=0;}if(me.__lastKeyContinued!==_8ea){sql.push("AND",_8fa,">= ?");_8e9.Key.validate(me.__lastKeyContinued);_8fb.push(_8e9.Key.encode(me.__lastKeyContinued));}var _8fc=me.direction==="prev"||me.direction==="prevunique"?"DESC":"ASC";sql.push("ORDER BY key",_8fc);sql=sql.join(" ");_8e9.DEBUG&&undefined;me.__prefetchedData=null;me.__prefetchedIndex=0;tx.executeSql(sql,_8fb,function(tx,data){me.__multiEntryOffset=data.rows.length;if(data.rows.length>0){var rows=[];for(var i=0;i<data.rows.length;i++){var _8fd=data.rows.item(i);var _8fe=_8e9.Key.decode(_8fd[me.__keyColumnName],true);var _8ff=_8e9.Key.findMultiEntryMatches(_8fe,me.__range);for(var j=0;j<_8ff.length;j++){var _900=_8ff[j];var _901={matchingKey:_8e9.Key.encode(_900,true),key:_8fd.key};_901[me.__keyColumnName]=_8fd[me.__keyColumnName];_901[me.__valueColumnName]=_8fd[me.__valueColumnName];rows.push(_901);}}var _902=me.direction.indexOf("prev")===0;rows.sort(function(a,b){if(a.matchingKey.replace("[","z")<b.matchingKey.replace("[","z")){return _902?1:-1;}if(a.matchingKey.replace("[","z")>b.matchingKey.replace("[","z")){return _902?-1:1;}if(a.key<b.key){return me.direction==="prev"?1:-1;}if(a.key>b.key){return me.direction==="prev"?-1:1;}return 0;});me.__prefetchedData={data:rows,length:rows.length,item:function(_903){return this.data[_903];}};me.__prefetchedIndex=0;if(rows.length>1){_8e9.DEBUG&&undefined;me.__decode(rows[0],_8f8);}else{if(rows.length===1){_8e9.DEBUG&&undefined;me.__decode(rows[0],_8f8);}else{_8e9.DEBUG&&undefined;_8f8(_8ea,_8ea,_8ea);}}}else{_8e9.DEBUG&&undefined;_8f8(_8ea,_8ea,_8ea);}},function(tx,err){_8e9.DEBUG&&undefined;_8f9(err);});};_8eb.prototype.__onsuccess=function(_904){var me=this;return function(key,_905,_906){me.key=key===_8ea?null:key;me.value=_905===_8ea?null:_905;me.primaryKey=_906===_8ea?null:_906;var _907=key===_8ea?null:me;_904(_907,me.__req);};};_8eb.prototype.__decode=function(_908,_909){if(this.__multiEntryIndex&&this.__unique){if(!this.__matchedKeys){this.__matchedKeys={};}if(this.__matchedKeys[_908.matchingKey]){_909(_8ea,_8ea,_8ea);return;}this.__matchedKeys[_908.matchingKey]=true;}var key=_8e9.Key.decode(this.__multiEntryIndex?_908.matchingKey:_908[this.__keyColumnName],this.__multiEntryIndex);var val=this.__valueDecoder.decode(_908[this.__valueColumnName]);var _90a=_8e9.Key.decode(_908.key);_909(key,val,_90a);};_8eb.prototype["continue"]=function(key){var _90b=_8e9.cursorPreloadPackSize||100;var me=this;this.__store.transaction.__pushToQueue(me.__req,function cursorContinue(tx,args,_90c,_90d){me.__offset++;if(me.__prefetchedData){me.__prefetchedIndex++;if(me.__prefetchedIndex<me.__prefetchedData.length){me.__decode(me.__prefetchedData.item(me.__prefetchedIndex),me.__onsuccess(_90c));return;}}me.__find(key,tx,me.__onsuccess(_90c),_90d,_90b);});};_8eb.prototype.advance=function(_90e){if(_90e<=0){throw _8e9.util.createDOMException("Type Error","Count is invalid - 0 or negative",_90e);}var me=this;this.__store.transaction.__pushToQueue(me.__req,function cursorAdvance(tx,args,_90f,_910){me.__offset+=_90e;me.__find(_8ea,tx,me.__onsuccess(_90f),_910);});};_8eb.prototype.update=function(_911){var me=this;me.__store.transaction.__assertWritable();return me.__store.transaction.__addToTransactionQueue(function cursorUpdate(tx,args,_912,_913){_8e9.Sca.encode(_911,function(_914){me.__find(_8ea,tx,function(key,_915,_916){var _917=me.__store;var _918=[_914];var sql=["UPDATE",_8e9.util.quote(_917.name),"SET value = ?"];_8e9.Key.validate(_916);for(var i=0;i<_917.indexNames.length;i++){var _919=_917.__indexes[_917.indexNames[i]];var _91a=_8e9.Key.getValue(_911,_919.keyPath);sql.push(",",_8e9.util.quote(_919.name),"= ?");_918.push(_8e9.Key.encode(_91a,_919.multiEntry));}sql.push("WHERE key = ?");_918.push(_8e9.Key.encode(_916));_8e9.DEBUG&&undefined;tx.executeSql(sql.join(" "),_918,function(tx,data){me.__prefetchedData=null;me.__prefetchedIndex=0;if(data.rowsAffected===1){_912(key);}else{_913("No rows with key found"+key);}},function(tx,data){_913(data);});},_913);});});};_8eb.prototype["delete"]=function(){var me=this;me.__store.transaction.__assertWritable();return this.__store.transaction.__addToTransactionQueue(function cursorDelete(tx,args,_91b,_91c){me.__find(_8ea,tx,function(key,_91d,_91e){var sql="DELETE FROM  "+_8e9.util.quote(me.__store.name)+" WHERE key = ?";_8e9.DEBUG&&undefined;_8e9.Key.validate(_91e);tx.executeSql(sql,[_8e9.Key.encode(_91e)],function(tx,data){me.__prefetchedData=null;me.__prefetchedIndex=0;if(data.rowsAffected===1){me.__offset--;_91b(_8ea);}else{_91c("No rows with key found"+key);}},function(tx,data){_91c(data);});},_91c);});};_8e9.IDBCursor=_8eb;}(_824));(function(_91f,_920){"use strict";function _921(_922,_923){this.objectStore=_922;this.name=_923.columnName;this.keyPath=_923.keyPath;this.multiEntry=_923.optionalParams&&_923.optionalParams.multiEntry;this.unique=_923.optionalParams&&_923.optionalParams.unique;this.__deleted=!!_923.__deleted;};_921.__clone=function(_924,_925){return new _921(_925,{columnName:_924.name,keyPath:_924.keyPath,optionalParams:{multiEntry:_924.multiEntry,unique:_924.unique}});};_921.__createIndex=function(_926,_927){var _928=!!_926.__indexes[_927.name]&&_926.__indexes[_927.name].__deleted;_926.__indexes[_927.name]=_927;_926.indexNames.push(_927.name);var _929=_926.transaction;_929.__addToTransactionQueue(function createIndex(tx,args,_92a,_92b){function _92c(tx,err){_92b(_91f.util.createDOMException(0,"Could not create index \""+_927.name+"\"",err));};function _92d(tx){_921.__updateIndexList(_926,tx,function(){tx.executeSql("SELECT * FROM "+_91f.util.quote(_926.name),[],function(tx,data){_91f.DEBUG&&undefined;_92e(0);function _92e(i){if(i<data.rows.length){try{var _92f=_91f.Sca.decode(data.rows.item(i).value);var _930=_91f.Key.getValue(_92f,_927.keyPath);_930=_91f.Key.encode(_930,_927.multiEntry);tx.executeSql("UPDATE "+_91f.util.quote(_926.name)+" set "+_91f.util.quote(_927.name)+" = ? where key = ?",[_930,data.rows.item(i).key],function(tx,data){_92e(i+1);},_92c);}catch(e){_92e(i+1);}}else{_92a(_926);}};},_92c);},_92c);};if(_928){_92d(tx);}else{var sql=["ALTER TABLE",_91f.util.quote(_926.name),"ADD",_91f.util.quote(_927.name),"BLOB"].join(" ");_91f.DEBUG&&undefined;tx.executeSql(sql,[],_92d,_92c);}});};_921.__deleteIndex=function(_931,_932){_931.__indexes[_932.name].__deleted=true;_931.indexNames.splice(_931.indexNames.indexOf(_932.name),1);var _933=_931.transaction;_933.__addToTransactionQueue(function createIndex(tx,args,_934,_935){function _936(tx,err){_935(_91f.util.createDOMException(0,"Could not delete index \""+_932.name+"\"",err));};_921.__updateIndexList(_931,tx,_934,_936);});};_921.__updateIndexList=function(_937,tx,_938,_939){var _93a={};for(var i=0;i<_937.indexNames.length;i++){var idx=_937.__indexes[_937.indexNames[i]];_93a[idx.name]={columnName:idx.name,keyPath:idx.keyPath,optionalParams:{unique:idx.unique,multiEntry:idx.multiEntry},deleted:!!idx.deleted};}_91f.DEBUG&&undefined;tx.executeSql("UPDATE __sys__ set indexList = ? where name = ?",[JSON.stringify(_93a),_937.name],function(){_938(_937);},_939);};_921.prototype.__fetchIndexData=function(key,_93b){var me=this;var _93c,_93d;if(arguments.length===1){_93b=key;_93c=false;}else{_91f.Key.validate(key);_93d=_91f.Key.encode(key,me.multiEntry);_93c=true;}return me.objectStore.transaction.__addToTransactionQueue(function fetchIndexData(tx,args,_93e,_93f){var sql=["SELECT * FROM",_91f.util.quote(me.objectStore.name),"WHERE",_91f.util.quote(me.name),"NOT NULL"];var _940=[];if(_93c){if(me.multiEntry){sql.push("AND",_91f.util.quote(me.name),"LIKE ?");_940.push("%"+_93d+"%");}else{sql.push("AND",_91f.util.quote(me.name),"= ?");_940.push(_93d);}}_91f.DEBUG&&undefined;tx.executeSql(sql.join(" "),_940,function(tx,data){var _941=0,_942=null;if(me.multiEntry){for(var i=0;i<data.rows.length;i++){var row=data.rows.item(i);var _943=_91f.Key.decode(row[me.name]);if(_93c&&_91f.Key.isMultiEntryMatch(_93d,row[me.name])){_941++;_942=_942||row;}else{if(!_93c&&_943!==_920){_941=_941+(_943 instanceof Array?_943.length:1);_942=_942||row;}}}}else{_941=data.rows.length;_942=_941&&data.rows.item(0);}if(_93b==="count"){_93e(_941);}else{if(_941===0){_93e(_920);}else{if(_93b==="key"){_93e(_91f.Key.decode(_942.key));}else{_93e(_91f.Sca.decode(_942.value));}}}},_93f);});};_921.prototype.openCursor=function(_944,_945){return new _91f.IDBCursor(_944,_945,this.objectStore,this,this.name,"value").__req;};_921.prototype.openKeyCursor=function(_946,_947){return new _91f.IDBCursor(_946,_947,this.objectStore,this,this.name,"key").__req;};_921.prototype.get=function(key){if(arguments.length===0){throw new TypeError("No key was specified");}return this.__fetchIndexData(key,"value");};_921.prototype.getKey=function(key){if(arguments.length===0){throw new TypeError("No key was specified");}return this.__fetchIndexData(key,"key");};_921.prototype.count=function(key){if(arguments.length===0){return this.__fetchIndexData("count");}else{return this.__fetchIndexData(key,"count");}};_91f.IDBIndex=_921;}(_824));(function(_948){"use strict";function _949(_94a,_94b){this.name=_94a.name;this.keyPath=JSON.parse(_94a.keyPath);this.transaction=_94b;this.autoIncrement=typeof _94a.autoInc==="string"?_94a.autoInc==="true":!!_94a.autoInc;this.__indexes={};this.indexNames=new _948.util.StringList();var _94c=JSON.parse(_94a.indexList);for(var _94d in _94c){if(_94c.hasOwnProperty(_94d)){var _94e=new _948.IDBIndex(this,_94c[_94d]);this.__indexes[_94e.name]=_94e;if(!_94e.__deleted){this.indexNames.push(_94e.name);}}}};_949.__clone=function(_94f,_950){var _951=new _949({name:_94f.name,keyPath:JSON.stringify(_94f.keyPath),autoInc:JSON.stringify(_94f.autoIncrement),indexList:"{}"},_950);_951.__indexes=_94f.__indexes;_951.indexNames=_94f.indexNames;return _951;};_949.__createObjectStore=function(db,_952){db.__objectStores[_952.name]=_952;db.objectStoreNames.push(_952.name);var _953=db.__versionTransaction;_948.IDBTransaction.__assertVersionChange(_953);_953.__addToTransactionQueue(function createObjectStore(tx,args,_954,_955){function _956(tx,err){throw _948.util.createDOMException(0,"Could not create object store \""+_952.name+"\"",err);};var sql=["CREATE TABLE",_948.util.quote(_952.name),"(key BLOB",_952.autoIncrement?"UNIQUE, inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");_948.DEBUG&&undefined;tx.executeSql(sql,[],function(tx,data){tx.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[_952.name,JSON.stringify(_952.keyPath),_952.autoIncrement,"{}"],function(){_954(_952);},_956);},_956);});};_949.__deleteObjectStore=function(db,_957){db.__objectStores[_957.name]=undefined;db.objectStoreNames.splice(db.objectStoreNames.indexOf(_957.name),1);var _958=db.__versionTransaction;_948.IDBTransaction.__assertVersionChange(_958);_958.__addToTransactionQueue(function deleteObjectStore(tx,args,_959,_95a){function _95b(tx,err){_95a(_948.util.createDOMException(0,"Could not delete ObjectStore",err));};tx.executeSql("SELECT * FROM __sys__ where name = ?",[_957.name],function(tx,data){if(data.rows.length>0){tx.executeSql("DROP TABLE "+_948.util.quote(_957.name),[],function(){tx.executeSql("DELETE FROM __sys__ WHERE name = ?",[_957.name],function(){_959();},_95b);},_95b);}});});};_949.prototype.__validateKey=function(_95c,key){if(this.keyPath){if(typeof key!=="undefined"){throw _948.util.createDOMException("DataError","The object store uses in-line keys and the key parameter was provided",this);}else{if(_95c&&typeof _95c==="object"){key=_948.Key.getValue(_95c,this.keyPath);if(key===undefined){if(this.autoIncrement){return;}else{throw _948.util.createDOMException("DataError","Could not eval key from keyPath");}}}else{throw _948.util.createDOMException("DataError","KeyPath was specified, but value was not an object");}}}else{if(typeof key==="undefined"){if(this.autoIncrement){return;}else{throw _948.util.createDOMException("DataError","The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",this);}}}_948.Key.validate(key);};_949.prototype.__deriveKey=function(tx,_95d,key,_95e,_95f){var me=this;function _960(_961){tx.executeSql("SELECT * FROM sqlite_sequence where name like ?",[me.name],function(tx,data){if(data.rows.length!==1){_961(1);}else{_961(data.rows.item(0).seq+1);}},function(tx,_962){_95f(_948.util.createDOMException("DataError","Could not get the auto increment value for key",_962));});};if(me.keyPath){var _963=_948.Key.getValue(_95d,me.keyPath);if(_963===undefined&&me.autoIncrement){_960(function(_964){try{_948.Key.setValue(_95d,me.keyPath,_964);_95e(_964);}catch(e){_95f(_948.util.createDOMException("DataError","Could not assign a generated value to the keyPath",e));}});}else{_95e(_963);}}else{if(typeof key==="undefined"&&me.autoIncrement){_960(_95e);}else{_95e(key);}}};_949.prototype.__insertData=function(tx,_965,_966,_967,_968,_969){try{var _96a={};if(typeof _967!=="undefined"){_948.Key.validate(_967);_96a.key=_948.Key.encode(_967);}for(var i=0;i<this.indexNames.length;i++){var _96b=this.__indexes[this.indexNames[i]];_96a[_96b.name]=_948.Key.encode(_948.Key.getValue(_966,_96b.keyPath),_96b.multiEntry);}var _96c=["INSERT INTO ",_948.util.quote(this.name),"("];var _96d=[" VALUES ("];var _96e=[];for(var key in _96a){_96c.push(_948.util.quote(key)+",");_96d.push("?,");_96e.push(_96a[key]);}_96c.push("value )");_96d.push("?)");_96e.push(_965);var sql=_96c.join(" ")+_96d.join(" ");_948.DEBUG&&undefined;tx.executeSql(sql,_96e,function(tx,data){_948.Sca.encode(_967,function(_96f){_96f=_948.Sca.decode(_96f);_968(_96f);});},function(tx,err){_969(_948.util.createDOMError("ConstraintError",err.message,err));});}catch(e){_969(e);}};_949.prototype.add=function(_970,key){var me=this;if(arguments.length===0){throw new TypeError("No value was specified");}this.__validateKey(_970,key);me.transaction.__assertWritable();var _971=me.transaction.__createRequest();me.transaction.__pushToQueue(_971,function objectStoreAdd(tx,args,_972,_973){me.__deriveKey(tx,_970,key,function(_974){_948.Sca.encode(_970,function(_975){me.__insertData(tx,_975,_970,_974,_972,_973);});},_973);});return _971;};_949.prototype.put=function(_976,key){var me=this;if(arguments.length===0){throw new TypeError("No value was specified");}this.__validateKey(_976,key);me.transaction.__assertWritable();var _977=me.transaction.__createRequest();me.transaction.__pushToQueue(_977,function objectStorePut(tx,args,_978,_979){me.__deriveKey(tx,_976,key,function(_97a){_948.Sca.encode(_976,function(_97b){_948.Key.validate(_97a);var sql="DELETE FROM "+_948.util.quote(me.name)+" where key = ?";tx.executeSql(sql,[_948.Key.encode(_97a)],function(tx,data){_948.DEBUG&&undefined;me.__insertData(tx,_97b,_976,_97a,_978,_979);},function(tx,err){_979(err);});});},_979);});return _977;};_949.prototype.get=function(key){var me=this;if(arguments.length===0){throw new TypeError("No key was specified");}_948.Key.validate(key);var _97c=_948.Key.encode(key);return me.transaction.__addToTransactionQueue(function objectStoreGet(tx,args,_97d,_97e){_948.DEBUG&&undefined;tx.executeSql("SELECT * FROM "+_948.util.quote(me.name)+" where key = ?",[_97c],function(tx,data){_948.DEBUG&&undefined;var _97f;try{if(0===data.rows.length){return _97d();}_97f=_948.Sca.decode(data.rows.item(0).value);}catch(e){_948.DEBUG&&undefined;}_97d(_97f);},function(tx,err){_97e(err);});});};_949.prototype["delete"]=function(key){var me=this;if(arguments.length===0){throw new TypeError("No key was specified");}me.transaction.__assertWritable();_948.Key.validate(key);var _980=_948.Key.encode(key);return me.transaction.__addToTransactionQueue(function objectStoreDelete(tx,args,_981,_982){_948.DEBUG&&undefined;tx.executeSql("DELETE FROM "+_948.util.quote(me.name)+" where key = ?",[_980],function(tx,data){_948.DEBUG&&undefined;_981();},function(tx,err){_982(err);});});};_949.prototype.clear=function(){var me=this;me.transaction.__assertWritable();return me.transaction.__addToTransactionQueue(function objectStoreClear(tx,args,_983,_984){tx.executeSql("DELETE FROM "+_948.util.quote(me.name),[],function(tx,data){_948.DEBUG&&undefined;_983();},function(tx,err){_984(err);});});};_949.prototype.count=function(key){var me=this;var _985=false;if(arguments.length>0){_985=true;_948.Key.validate(key);}return me.transaction.__addToTransactionQueue(function objectStoreCount(tx,args,_986,_987){var sql="SELECT * FROM "+_948.util.quote(me.name)+(_985?" WHERE key = ?":"");var _988=[];_985&&_988.push(_948.Key.encode(key));tx.executeSql(sql,_988,function(tx,data){_986(data.rows.length);},function(tx,err){_987(err);});});};_949.prototype.openCursor=function(_989,_98a){return new _948.IDBCursor(_989,_98a,this,this,"key","value").__req;};_949.prototype.index=function(_98b){if(arguments.length===0){throw new TypeError("No index name was specified");}var _98c=this.__indexes[_98b];if(!_98c){throw _948.util.createDOMException("NotFoundError","Index \""+_98b+"\" does not exist on "+this.name);}return _948.IDBIndex.__clone(_98c,this);};_949.prototype.createIndex=function(_98d,_98e,_98f){if(arguments.length===0){throw new TypeError("No index name was specified");}if(arguments.length===1){throw new TypeError("No key path was specified");}if(_98e instanceof Array&&_98f&&_98f.multiEntry){throw _948.util.createDOMException("InvalidAccessError","The keyPath argument was an array and the multiEntry option is true.");}if(this.__indexes[_98d]&&!this.__indexes[_98d].__deleted){throw _948.util.createDOMException("ConstraintError","Index \""+_98d+"\" already exists on "+this.name);}this.transaction.__assertVersionChange();_98f=_98f||{};var _990={columnName:_98d,keyPath:_98e,optionalParams:{unique:!!_98f.unique,multiEntry:!!_98f.multiEntry}};var _991=new _948.IDBIndex(this,_990);_948.IDBIndex.__createIndex(this,_991);return _991;};_949.prototype.deleteIndex=function(_992){if(arguments.length===0){throw new TypeError("No index name was specified");}var _993=this.__indexes[_992];if(!_993){throw _948.util.createDOMException("NotFoundError","Index \""+_992+"\" does not exist on "+this.name);}this.transaction.__assertVersionChange();_948.IDBIndex.__deleteIndex(this,_993);};_948.IDBObjectStore=_949;}(_824));(function(_994){"use strict";var _995=0;function _996(db,_997,mode){this.__id=++_995;this.__active=true;this.__running=false;this.__requests=[];this.__storeNames=_997;this.mode=mode;this.db=db;this.error=null;this.onabort=this.onerror=this.oncomplete=null;var me=this;setTimeout(function(){me.__executeRequests();},0);};_996.prototype.__executeRequests=function(){if(this.__running){_994.DEBUG&&undefined;return;}this.__running=true;var me=this;me.db.__db.transaction(function executeRequests(tx){me.__tx=tx;var q=null,i=0;function _998(_999,req){if(req){q.req=req;}q.req.readyState="done";q.req.result=_999;delete q.req.error;var e=_994.util.createEvent("success");_994.util.callback("onsuccess",q.req,e);i++;_99a();};function _99b(tx,err){err=_994.util.findError(arguments);try{q.req.readyState="done";q.req.error=err||"DOMError";q.req.result=undefined;var e=_994.util.createEvent("error",err);_994.util.callback("onerror",q.req,e);}finally{_99d(err);}};function _99a(){if(i>=me.__requests.length){me.__requests=[];if(me.__active){me.__active=false;_99c();}}else{try{q=me.__requests[i];q.op(tx,q.args,_998,_99b);}catch(e){_99b(e);}}};_99a();},_99d);function _99d(err){if(!me.__active){throw err;}try{_994.util.logError("Error","An error occurred in a transaction",err);me.error=err;var evt=_994.util.createEvent("error");_994.util.callback("onerror",me,evt);}finally{me.abort();}};function _99c(){_994.DEBUG&&undefined;var evt=_994.util.createEvent("complete");_994.util.callback("oncomplete",me,evt);_994.util.callback("__oncomplete",me,evt);};};_996.prototype.__createRequest=function(){var _99e=new _994.IDBRequest();_99e.source=this.db;_99e.transaction=this;return _99e;};_996.prototype.__addToTransactionQueue=function(_99f,args){var _9a0=this.__createRequest();this.__pushToQueue(_9a0,_99f,args);return _9a0;};_996.prototype.__pushToQueue=function(_9a1,_9a2,args){this.__assertActive();this.__requests.push({"op":_9a2,"args":args,"req":_9a1});};_996.prototype.__assertActive=function(){if(!this.__active){throw _994.util.createDOMException("TransactionInactiveError","A request was placed against a transaction which is currently not active, or which is finished");}};_996.prototype.__assertWritable=function(){if(this.mode===_996.READ_ONLY){throw _994.util.createDOMException("ReadOnlyError","The transaction is read only");}};_996.prototype.__assertVersionChange=function(){_996.__assertVersionChange(this);};_996.__assertVersionChange=function(tx){if(!tx||tx.mode!==_996.VERSION_CHANGE){throw _994.util.createDOMException("InvalidStateError","Not a version transaction");}};_996.prototype.objectStore=function(_9a3){if(arguments.length===0){throw new TypeError("No object store name was specified");}if(!this.__active){throw _994.util.createDOMException("InvalidStateError","A request was placed against a transaction which is currently not active, or which is finished");}if(this.__storeNames.indexOf(_9a3)===-1&&this.mode!==_996.VERSION_CHANGE){throw _994.util.createDOMException("NotFoundError",_9a3+" is not participating in this transaction");}var _9a4=this.db.__objectStores[_9a3];if(!_9a4){throw _994.util.createDOMException("NotFoundError",_9a3+" does not exist in "+this.db.name);}return _994.IDBObjectStore.__clone(_9a4,this);};_996.prototype.abort=function(){var me=this;_994.DEBUG&&undefined;me.__active=false;var evt=_994.util.createEvent("abort");setTimeout(function(){_994.util.callback("onabort",me,evt);},0);};_996.READ_ONLY="readonly";_996.READ_WRITE="readwrite";_996.VERSION_CHANGE="versionchange";_994.IDBTransaction=_996;}(_824));(function(_9a5){"use strict";function _9a6(db,name,_9a7,_9a8){this.__db=db;this.__closed=false;this.version=_9a7;this.name=name;this.onabort=this.onerror=this.onversionchange=null;this.__objectStores={};this.objectStoreNames=new _9a5.util.StringList();for(var i=0;i<_9a8.rows.length;i++){var _9a9=new _9a5.IDBObjectStore(_9a8.rows.item(i));this.__objectStores[_9a9.name]=_9a9;this.objectStoreNames.push(_9a9.name);}};_9a6.prototype.createObjectStore=function(_9aa,_9ab){if(arguments.length===0){throw new TypeError("No object store name was specified");}if(this.__objectStores[_9aa]){throw _9a5.util.createDOMException("ConstraintError","Object store \""+_9aa+"\" already exists in "+this.name);}this.__versionTransaction.__assertVersionChange();_9ab=_9ab||{};var _9ac={name:_9aa,keyPath:JSON.stringify(_9ab.keyPath||null),autoInc:JSON.stringify(_9ab.autoIncrement),indexList:"{}"};var _9ad=new _9a5.IDBObjectStore(_9ac,this.__versionTransaction);_9a5.IDBObjectStore.__createObjectStore(this,_9ad);return _9ad;};_9a6.prototype.deleteObjectStore=function(_9ae){if(arguments.length===0){throw new TypeError("No object store name was specified");}var _9af=this.__objectStores[_9ae];if(!_9af){throw _9a5.util.createDOMException("NotFoundError","Object store \""+_9ae+"\" does not exist in "+this.name);}this.__versionTransaction.__assertVersionChange();_9a5.IDBObjectStore.__deleteObjectStore(this,_9af);};_9a6.prototype.close=function(){this.__closed=true;};_9a6.prototype.transaction=function(_9b0,mode){if(this.__closed){throw _9a5.util.createDOMException("InvalidStateError","An attempt was made to start a new transaction on a database connection that is not open");}if(typeof mode==="number"){mode=mode===1?IDBTransaction.READ_WRITE:IDBTransaction.READ_ONLY;_9a5.DEBUG&&undefined;}else{mode=mode||IDBTransaction.READ_ONLY;}if(mode!==IDBTransaction.READ_ONLY&&mode!==IDBTransaction.READ_WRITE){throw new TypeError("Invalid transaction mode: "+mode);}_9b0=typeof _9b0==="string"?[_9b0]:_9b0;if(_9b0.length===0){throw _9a5.util.createDOMException("InvalidAccessError","No object store names were specified");}for(var i=0;i<_9b0.length;i++){if(!this.objectStoreNames.contains(_9b0[i])){throw _9a5.util.createDOMException("NotFoundError","The \""+_9b0[i]+"\" object store does not exist");}}var _9b1=new _9a5.IDBTransaction(this,_9b0,mode);return _9b1;};_9a5.IDBDatabase=_9a6;}(_824));(function(_9b2){"use strict";var _9b3=4*1024*1024;var _9b4;function _9b5(_9b6,_9b7){function _9b8(tx,err){err=_9b2.util.findError(arguments);_9b2.DEBUG&&undefined;_9b7(err);};if(_9b4){_9b6();}else{_9b4=window.openDatabase("__sysdb__",1,"System Database",_9b3);_9b4.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[],_9b6,_9b8);},_9b8);}};function _9b9(){this.modules=_9b2;};_9b9.prototype.open=function(name,_9ba){var req=new _9b2.IDBOpenDBRequest();var _9bb=false;if(arguments.length===0){throw new TypeError("Database name is required");}else{if(arguments.length===2){_9ba=parseFloat(_9ba);if(isNaN(_9ba)||!isFinite(_9ba)||_9ba<=0){throw new TypeError("Invalid database version: "+_9ba);}}}name=name+"";function _9bc(tx,err){if(_9bb){return;}err=_9b2.util.findError(arguments);_9bb=true;var evt=_9b2.util.createEvent("error",arguments);req.readyState="done";req.error=err||"DOMError";_9b2.util.callback("onerror",req,evt);};function _9bd(_9be){var db=window.openDatabase(name,1,name,_9b3);req.readyState="done";if(typeof _9ba==="undefined"){_9ba=_9be||1;}if(_9ba<=0||_9be>_9ba){var err=_9b2.util.createDOMError("VersionError","An attempt was made to open a database using a lower version than the existing version.",_9ba);_9bc(err);return;}db.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",[],function(){tx.executeSql("SELECT * FROM __sys__",[],function(tx,data){var e=_9b2.util.createEvent("success");req.source=req.result=new _9b2.IDBDatabase(db,name,_9ba,data);if(_9be<_9ba){_9b4.transaction(function(_9bf){_9bf.executeSql("UPDATE dbVersions set version = ? where name = ?",[_9ba,name],function(){var e=_9b2.util.createEvent("upgradeneeded");e.oldVersion=_9be;e.newVersion=_9ba;req.transaction=req.result.__versionTransaction=new _9b2.IDBTransaction(req.source,[],_9b2.IDBTransaction.VERSION_CHANGE);req.transaction.__addToTransactionQueue(function onupgradeneeded(tx,args,_9c0){_9b2.util.callback("onupgradeneeded",req,e);_9c0();});req.transaction.__oncomplete=function(){req.transaction=null;var e=_9b2.util.createEvent("success");_9b2.util.callback("onsuccess",req,e);};},_9bc);},_9bc);}else{_9b2.util.callback("onsuccess",req,e);}},_9bc);},_9bc);},_9bc);};_9b5(function(){_9b4.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0){tx.executeSql("INSERT INTO dbVersions VALUES (?,?)",[name,_9ba||1],function(){_9bd(0);},_9bc);}else{_9bd(data.rows.item(0).version);}},_9bc);},_9bc);},_9bc);return req;};_9b9.prototype.deleteDatabase=function(name){var req=new _9b2.IDBOpenDBRequest();var _9c1=false;var _9c2=null;if(arguments.length===0){throw new TypeError("Database name is required");}name=name+"";function _9c3(tx,err){if(_9c1){return;}err=_9b2.util.findError(arguments);req.readyState="done";req.error=err||"DOMError";var e=_9b2.util.createEvent("error");e.debug=arguments;_9b2.util.callback("onerror",req,e);_9c1=true;};function _9c4(){_9b4.transaction(function(_9c5){_9c5.executeSql("DELETE FROM dbVersions where name = ? ",[name],function(){req.result=undefined;var e=_9b2.util.createEvent("success");e.newVersion=null;e.oldVersion=_9c2;_9b2.util.callback("onsuccess",req,e);},_9c3);},_9c3);};_9b5(function(){_9b4.transaction(function(_9c6){_9c6.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0){req.result=undefined;var e=_9b2.util.createEvent("success");e.newVersion=null;e.oldVersion=_9c2;_9b2.util.callback("onsuccess",req,e);return;}_9c2=data.rows.item(0).version;var db=window.openDatabase(name,1,name,_9b3);db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__",[],function(tx,data){var _9c7=data.rows;function _9c8(i){if(i>=_9c7.length){tx.executeSql("DROP TABLE IF EXISTS __sys__",[],function(){_9c4();},_9c3);}else{tx.executeSql("DROP TABLE "+_9b2.util.quote(_9c7.item(i).name),[],function(){_9c8(i+1);},function(){_9c8(i+1);});}};_9c8(0);},function(e){_9c4();});});},_9c3);},_9c3);},_9c3);return req;};_9b9.prototype.cmp=function(key1,key2){if(arguments.length<2){throw new TypeError("You must provide two keys to be compared");}_9b2.Key.validate(key1);_9b2.Key.validate(key2);var _9c9=_9b2.Key.encode(key1);var _9ca=_9b2.Key.encode(key2);var _9cb=_9c9>_9ca?1:_9c9===_9ca?0:-1;if(_9b2.DEBUG){var _9cc=_9b2.Key.decode(_9c9);var _9cd=_9b2.Key.decode(_9ca);if(typeof key1==="object"){key1=JSON.stringify(key1);_9cc=JSON.stringify(_9cc);}if(typeof key2==="object"){key2=JSON.stringify(key2);_9cd=JSON.stringify(_9cd);}if(_9cc!==key1){console.warn(key1+" was incorrectly encoded as "+_9cc);}if(_9cd!==key2){console.warn(key2+" was incorrectly encoded as "+_9cd);}}return _9cb;};_9b2.shimIndexedDB=new _9b9();_9b2.IDBFactory=_9b9;}(_824));(function(_9ce,_9cf){"use strict";function shim(name,_9d0){try{_9ce[name]=_9d0;}catch(e){}if(_9ce[name]!==_9d0&&Object.defineProperty){try{Object.defineProperty(_9ce,name,{value:_9d0});}catch(e){}if(_9ce[name]!==_9d0){_9ce.console&&console.warn&&console.warn("Unable to shim "+name);}}};shim("shimIndexedDB",_9cf.shimIndexedDB);if(_9ce.shimIndexedDB){_9ce.shimIndexedDB.__useShim=function(){if(typeof _9ce.openDatabase!=="undefined"){shim("indexedDB",_9cf.shimIndexedDB);shim("IDBFactory",_9cf.IDBFactory);shim("IDBDatabase",_9cf.IDBDatabase);shim("IDBObjectStore",_9cf.IDBObjectStore);shim("IDBIndex",_9cf.IDBIndex);shim("IDBTransaction",_9cf.IDBTransaction);shim("IDBCursor",_9cf.IDBCursor);shim("IDBKeyRange",_9cf.IDBKeyRange);shim("IDBRequest",_9cf.IDBRequest);shim("IDBOpenDBRequest",_9cf.IDBOpenDBRequest);shim("IDBVersionChangeEvent",_9cf.IDBVersionChangeEvent);}else{if(typeof _9ce.indexedDB==="object"){_9cf.polyfill();}}};_9ce.shimIndexedDB.__debug=function(val){_9cf.DEBUG=val;};}if(!("indexedDB" in _9ce)){_9ce.indexedDB=_9ce.indexedDB||_9ce.webkitIndexedDB||_9ce.mozIndexedDB||_9ce.oIndexedDB||_9ce.msIndexedDB;}var _9d1=false;if(navigator.userAgent.match(/Android 2/)||navigator.userAgent.match(/Android 3/)||navigator.userAgent.match(/Android 4\.[0-3]/)){if(!navigator.userAgent.match(/Chrome/)){_9d1=true;}}if((typeof _9ce.indexedDB==="undefined"||!_9ce.indexedDB||_9d1)&&typeof _9ce.openDatabase!=="undefined"){_9ce.shimIndexedDB.__useShim();}else{_9ce.IDBDatabase=_9ce.IDBDatabase||_9ce.webkitIDBDatabase;_9ce.IDBTransaction=_9ce.IDBTransaction||_9ce.webkitIDBTransaction;_9ce.IDBCursor=_9ce.IDBCursor||_9ce.webkitIDBCursor;_9ce.IDBKeyRange=_9ce.IDBKeyRange||_9ce.webkitIDBKeyRange;if(!_9ce.IDBTransaction){_9ce.IDBTransaction={};}try{_9ce.IDBTransaction.READ_ONLY=_9ce.IDBTransaction.READ_ONLY||"readonly";_9ce.IDBTransaction.READ_WRITE=_9ce.IDBTransaction.READ_WRITE||"readwrite";}catch(e){}}}(window,_824));});},"dojox/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"webcore/SynchronousPromise":function(){define(function(){var _9d2=0;var _9d3=1;var _9d4=2;function _9d5(fn){var _9d6=_9d2;var _9d7=null;var _9d8=[];function _9d9(_9da){_9d6=_9d3;_9d7=_9da;_9d8.forEach(_9db);_9d8=null;};function _9dc(_9dd){_9d6=_9d4;_9d7=_9dd;_9d8.forEach(_9db);_9d8=null;};function _9de(_9df){try{var then=_9e0(_9df);if(then){_9e1(then.bind(_9df),_9de,_9dc);}else{_9d9(_9df);}}catch(e){_9dc(e);}};function _9e0(_9e2){if(_9e2&&(typeof _9e2==="object"||typeof _9e2==="function")){var then=_9e2.then;if(typeof then==="function"){return then;}}return null;};function _9e1(fn,_9e3,_9e4){var done=false;try{fn(function(_9e5){if(done){return;}done=true;_9e3(_9e5);},function(_9e6){if(done){return;}done=true;_9e4(_9e6);});}catch(ex){if(done){return;}done=true;_9e4(ex);}};function _9db(_9e7){if(_9d6===_9d2){_9d8.push(_9e7);}else{if(_9d6===_9d3&&typeof _9e7.onFulfilled==="function"){_9e7.onFulfilled(_9d7);}if(_9d6===_9d4&&typeof _9e7.onRejected==="function"){_9e7.onRejected(_9d7);}}};function _9e8(_9e9,_9ea,_9eb){return function(_9ec){if(typeof _9e9==="function"){try{return _9ea(_9e9(_9ec));}catch(ex){return _9eb(ex);}}else{return _9ea(_9ec);}};};this.done=function(_9ed,_9ee){_9db({onFulfilled:_9ed,onRejected:_9ee});};this.then=function(_9ef,_9f0){var self=this;return new _9d5(function(_9f1,_9f2){return self.done(_9e8(_9ef,_9f1,_9f2),_9e8(_9f0,_9f1,_9f2));});};this.spread=function(_9f3,_9f4){return this.then(function(arr){return _9f3.apply(null,arr);},function(arr){return _9f4.apply(null,arr);});};_9e1(fn,_9de,_9dc);};_9d5.resolved=function(_9f5){return new _9d5(function(_9f6,_9f7){_9f6(_9f5);});};_9d5.rejected=function(e){return new _9d5(function(_9f8,_9f9){_9f8(e);});};_9d5.all=function(_9fa){var _9fb=_9fa.length;var _9fc=new Array(_9fa.length);var _9fd=false;if(_9fb===0){return _9d5.resolved(_9fc);}return new _9d5(function(_9fe,_9ff){_9fa.forEach(function(p,i){p.then(_a00(i),_a01);});function _a00(n){return function(_a02){_9fc[n]=_a02;if(--_9fb===0){_9fe(_9fc);}};};function _a01(e){if(!_9fd){_9fd=true;_9ff(e);}};});};return _9d5;});},"webcore/IndexedDbOffline":function(){define(["mendix/lib/MxObject","./IndexedDatabase","./SynchronousPromise"],function(_a03,_a04,_a05){var _a06={name:"MendixDatabase",version:1};var _a07=window.shimIndexedDB;var _a08=window.shimIndexedDB.modules.IDBKeyRange;return {getDatabase:function(_a09){if(!_a0a){_a0a=_a0b(_a09);}return _a0a;},deleteDatabase:function(){return new _a05(function(_a0c,_a0d){var _a0e=_a07.deleteDatabase(_a06.name);_a0e.onsuccess=function(){_a0a=null;_a0c();};_a0e.onerror=_a0d;});},fetch:function(guid){return function(db){return db.transaction(["_guidToStore"],function(_a0f){return _a0f.store("_guidToStore").key(guid).get(function(_a10){return db.transaction([_a10.store],function(_a11){return _a11.store(_a10.store).key(guid).get(function(obj){return [obj,_a10.store];});});});});};},fetchSlice:function(_a12,_a13){return function(db){return new _a05(function(_a14,_a15){return db.transaction([_a12],function(_a16){var _a17=_a16.store(_a12);var _a18=_a3e(_a13);var _a19;if(_a18){_a19=_a17.index(_a18.attr,null,_a18.dir);}else{_a19=_a17.cursor();}return _a19.offset(_a13.offset||0).limit(_a13.limit||0).toArray(function(objs){_a17.count().then(function(_a1a){_a14([objs,_a1a]);});}).caught(_a15);});});};},fetchSliceReference:function(_a1b,_a1c,_a1d,_a1e){return function(db){return new _a05(function(_a1f,_a20){return db.transaction([_a1b],function(_a21){var _a22=_a21.store(_a1b);var _a23=_a3e(_a1e);var _a24=_a22.index(_a1c.replace(".","$"),_a08.only(_a1d));return _a24.toArray(function(objs){if(_a23){objs.sort(function(obj1,obj2){var _a25=_a23.dir==="desc"?-1:1;return _a25*_a07.cmp(obj1[_a23.attr],obj2[_a23.attr]);});}var _a26=_a1e.offset||0;var end=_a26+(_a1e.limit||objs.length);_a1f([objs.slice(_a26,end),objs.length]);}).caught(_a20);});});};},fillBulk:function(_a27,objs){return function(db){return db.transaction(["_guidToStore",_a27],"readwrite",function(_a28){var _a29=_a28.store("_guidToStore");var _a2a=_a28.store(_a27);objs.forEach(function(obj){_a29.add({guid:obj.guid,store:_a27});_a2a.add(obj);});});};},serialize:function(obj){var _a2b={};for(var key in obj){_a2b[_a2c(key)]=obj[key];}return _a2b;},deserialize:function(obj){var _a2d={};for(var _a2e in obj){_a2d[_a2f(_a2e)]=obj[_a2e];}return _a2d;}};function _a2c(key){return key.replace(".","$");};function _a2f(_a30){return _a30.replace("$",".");};var _a0a=null;function _a0b(_a31){_a0a=_a32(_a06.name,_a06.version,function(db){db.createObjectStore("_guidToStore",{keyPath:"guid"});for(var e in _a31){var _a33=_a31[e];db.createObjectStore(e,{keyPath:"guid"},function(_a34){_a33.forEach(function(attr){var _a35=_a2c(attr);_a34.createIndex(_a35,_a35,{unique:false});});});}});return _a0a;};function _a32(_a36,_a37,_a38){return new _a05(function(_a39,_a3a){var _a3b=_a07.open(_a36,_a37);_a3b.onerror=_a3a;_a3b.onsuccess=function(_a3c){var db=_a3c.target.result;db.onversionchange=function(){db.close();_a0a=null;};_a39(new _a04(db));};_a3b.onupgradeneeded=function(_a3d){if(_a38){_a38(new _a04(_a3d.target.result));}};});};function _a3e(_a3f){if(_a3f&&_a3f.sort&&_a3f.sort[0]){if(!_a3f.sort[0][0]){throw new Error("Invalid sorting attribute");}return {attr:_a3f.sort[0][0],dir:_a3f.sort[0][1]=="desc"?"prev":"next"};}else{return null;}};});},"bluebird/bluebird":function(){define(function(){var _a40,_a41,_a42;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_=="function"&&_dereq_;if(!u&&a){return a(o,!0);}if(i){return i(o,!0);}var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e);},l,l.exports,e,t,n,r);}return n[o].exports;};var i=typeof _dereq_=="function"&&_dereq_;for(var o=0;o<r.length;o++){s(r[o]);}return s;})({1:[function(_a43,_a44,_a45){"use strict";_a44.exports=function(_a46){var _a47=_a46._SomePromiseArray;function any(_a48){var ret=new _a47(_a48);var _a49=ret.promise();ret.setHowMany(1);ret.setUnwrap();ret.init();return _a49;};_a46.any=function(_a4a){return any(_a4a);};_a46.prototype.any=function(){return any(this);};};},{}],2:[function(_a4b,_a4c,_a4d){"use strict";var _a4e;try{throw new Error();}catch(e){_a4e=e;}var _a4f=_a4b("./schedule.js");var _a50=_a4b("./queue.js");var util=_a4b("./util.js");function _a51(){this._isTickUsed=false;this._lateQueue=new _a50(16);this._normalQueue=new _a50(16);this._trampolineEnabled=true;var self=this;this.drainQueues=function(){self._drainQueues();};this._schedule=_a4f.isStatic?_a4f(this.drainQueues):_a4f;};_a51.prototype.disableTrampolineIfNecessary=function(){if(util.hasDevTools){this._trampolineEnabled=false;}};_a51.prototype.enableTrampoline=function(){if(!this._trampolineEnabled){this._trampolineEnabled=true;this._schedule=function(fn){setTimeout(fn,0);};}};_a51.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0;};_a51.prototype.throwLater=function(fn,arg){if(arguments.length===1){arg=fn;fn=function(){throw arg;};}if(typeof setTimeout!=="undefined"){setTimeout(function(){fn(arg);},0);}else{try{this._schedule(function(){fn(arg);});}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n");}}};function _a52(fn,_a53,arg){this._lateQueue.push(fn,_a53,arg);this._queueTick();};function _a54(fn,_a55,arg){this._normalQueue.push(fn,_a55,arg);this._queueTick();};function _a56(_a57){this._normalQueue._pushOne(_a57);this._queueTick();};if(!util.hasDevTools){_a51.prototype.invokeLater=_a52;_a51.prototype.invoke=_a54;_a51.prototype.settlePromises=_a56;}else{if(_a4f.isStatic){_a4f=function(fn){setTimeout(fn,0);};}_a51.prototype.invokeLater=function(fn,_a58,arg){if(this._trampolineEnabled){_a52.call(this,fn,_a58,arg);}else{this._schedule(function(){setTimeout(function(){fn.call(_a58,arg);},100);});}};_a51.prototype.invoke=function(fn,_a59,arg){if(this._trampolineEnabled){_a54.call(this,fn,_a59,arg);}else{this._schedule(function(){fn.call(_a59,arg);});}};_a51.prototype.settlePromises=function(_a5a){if(this._trampolineEnabled){_a56.call(this,_a5a);}else{this._schedule(function(){_a5a._settlePromises();});}};}_a51.prototype.invokeFirst=function(fn,_a5b,arg){this._normalQueue.unshift(fn,_a5b,arg);this._queueTick();};_a51.prototype._drainQueue=function(_a5c){while(_a5c.length()>0){var fn=_a5c.shift();if(typeof fn!=="function"){fn._settlePromises();continue;}var _a5d=_a5c.shift();var arg=_a5c.shift();fn.call(_a5d,arg);}};_a51.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._drainQueue(this._lateQueue);};_a51.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=true;this._schedule(this.drainQueues);}};_a51.prototype._reset=function(){this._isTickUsed=false;};_a4c.exports=new _a51();_a4c.exports.firstLineError=_a4e;},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(_a5e,_a5f,_a60){"use strict";_a5f.exports=function(_a61,_a62,_a63){var _a64=function(_a65,e){this._reject(e);};var _a66=function(e,_a67){_a67.promiseRejectionQueued=true;_a67.bindingPromise._then(_a64,_a64,null,this,e);};var _a68=function(_a69,_a6a){if(this._isPending()){this._resolveCallback(_a6a.target);}};var _a6b=function(e,_a6c){if(!_a6c.promiseRejectionQueued){this._reject(e);}};_a61.prototype.bind=function(_a6d){var _a6e=_a63(_a6d);var ret=new _a61(_a62);ret._propagateFrom(this,1);var _a6f=this._target();ret._setBoundTo(_a6e);if(_a6e instanceof _a61){var _a70={promiseRejectionQueued:false,promise:ret,target:_a6f,bindingPromise:_a6e};_a6f._then(_a62,_a66,ret._progress,ret,_a70);_a6e._then(_a68,_a6b,ret._progress,ret,_a70);}else{ret._resolveCallback(_a6f);}return ret;};_a61.prototype._setBoundTo=function(obj){if(obj!==undefined){this._bitField=this._bitField|131072;this._boundTo=obj;}else{this._bitField=this._bitField&(~131072);}};_a61.prototype._isBound=function(){return (this._bitField&131072)===131072;};_a61.bind=function(_a71,_a72){var _a73=_a63(_a71);var ret=new _a61(_a62);ret._setBoundTo(_a73);if(_a73 instanceof _a61){_a73._then(function(){ret._resolveCallback(_a72);},ret._reject,ret._progress,ret,null);}else{ret._resolveCallback(_a72);}return ret;};};},{}],4:[function(_a74,_a75,_a76){"use strict";var old;if(typeof Promise!=="undefined"){old=Promise;}function _a77(){try{if(Promise===_a78){Promise=old;}}catch(e){}return _a78;};var _a78=_a74("./promise.js")();_a78.noConflict=_a77;_a75.exports=_a78;},{"./promise.js":23}],5:[function(_a79,_a7a,_a7b){"use strict";var cr=Object.create;if(cr){var _a7c=cr(null);var _a7d=cr(null);_a7c[" size"]=_a7d[" size"]=0;}_a7a.exports=function(_a7e){var util=_a79("./util.js");var _a7f=util.canEvaluate;var _a80=util.isIdentifier;var _a81;var _a82;if(!true){var _a83=function(_a84){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,_a84))(_a85);};var _a86=function(_a87){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",_a87));};var _a88=function(name,_a89,_a8a){var ret=_a8a[name];if(typeof ret!=="function"){if(!_a80(name)){return null;}ret=_a89(name);_a8a[name]=ret;_a8a[" size"]++;if(_a8a[" size"]>512){var keys=Object.keys(_a8a);for(var i=0;i<256;++i){delete _a8a[keys[i]];}_a8a[" size"]=keys.length-256;}}return ret;};_a81=function(name){return _a88(name,_a83,_a7c);};_a82=function(name){return _a88(name,_a86,_a7d);};}function _a85(obj,_a8b){var fn;if(obj!=null){fn=obj[_a8b];}if(typeof fn!=="function"){var _a8c="Object "+util.classString(obj)+" has no method '"+util.toString(_a8b)+"'";throw new _a7e.TypeError(_a8c);}return fn;};function _a8d(obj){var _a8e=this.pop();var fn=_a85(obj,_a8e);return fn.apply(obj,this);};_a7e.prototype.call=function(_a8f){var _a90=arguments.length;var args=new Array(_a90-1);for(var $_i=1;$_i<_a90;++$_i){args[$_i-1]=arguments[$_i];}if(!true){if(_a7f){var _a91=_a81(_a8f);if(_a91!==null){return this._then(_a91,undefined,undefined,args,undefined);}}}args.push(_a8f);return this._then(_a8d,undefined,undefined,args,undefined);};function _a92(obj){return obj[this];};function _a93(obj){var _a94=+this;if(_a94<0){_a94=Math.max(0,_a94+obj.length);}return obj[_a94];};_a7e.prototype.get=function(_a95){var _a96=(typeof _a95==="number");var _a97;if(!_a96){if(_a7f){var _a98=_a82(_a95);_a97=_a98!==null?_a98:_a92;}else{_a97=_a92;}}else{_a97=_a93;}return this._then(_a97,undefined,undefined,_a95,undefined);};};},{"./util.js":38}],6:[function(_a99,_a9a,_a9b){"use strict";_a9a.exports=function(_a9c){var _a9d=_a99("./errors.js");var _a9e=_a99("./async.js");var _a9f=_a9d.CancellationError;_a9c.prototype._cancel=function(_aa0){if(!this.isCancellable()){return this;}var _aa1;var _aa2=this;while((_aa1=_aa2._cancellationParent)!==undefined&&_aa1.isCancellable()){_aa2=_aa1;}this._unsetCancellable();_aa2._target()._rejectCallback(_aa0,false,true);};_a9c.prototype.cancel=function(_aa3){if(!this.isCancellable()){return this;}if(_aa3===undefined){_aa3=new _a9f();}_a9e.invokeLater(this._cancel,this,_aa3);return this;};_a9c.prototype.cancellable=function(){if(this._cancellable()){return this;}_a9e.enableTrampoline();this._setCancellable();this._cancellationParent=undefined;return this;};_a9c.prototype.uncancellable=function(){var ret=this.then();ret._unsetCancellable();return ret;};_a9c.prototype.fork=function(_aa4,_aa5,_aa6){var ret=this._then(_aa4,_aa5,_aa6,undefined,undefined);ret._setCancellable();ret._cancellationParent=undefined;return ret;};};},{"./async.js":2,"./errors.js":13}],7:[function(_aa7,_aa8,_aa9){"use strict";_aa8.exports=function(){var _aaa=_aa7("./async.js");var util=_aa7("./util.js");var _aab=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/;var _aac=null;var _aad=null;var _aae=false;var warn;function _aaf(_ab0){this._parent=_ab0;var _ab1=this._length=1+(_ab0===undefined?0:_ab0._length);_ab2(this,_aaf);if(_ab1>32){this.uncycle();}};util.inherits(_aaf,Error);_aaf.prototype.uncycle=function(){var _ab3=this._length;if(_ab3<2){return;}var _ab4=[];var _ab5={};for(var i=0,node=this;node!==undefined;++i){_ab4.push(node);node=node._parent;}_ab3=this._length=i;for(var i=_ab3-1;i>=0;--i){var _ab6=_ab4[i].stack;if(_ab5[_ab6]===undefined){_ab5[_ab6]=i;}}for(var i=0;i<_ab3;++i){var _ab7=_ab4[i].stack;var _ab8=_ab5[_ab7];if(_ab8!==undefined&&_ab8!==i){if(_ab8>0){_ab4[_ab8-1]._parent=undefined;_ab4[_ab8-1]._length=1;}_ab4[i]._parent=undefined;_ab4[i]._length=1;var _ab9=i>0?_ab4[i-1]:this;if(_ab8<_ab3-1){_ab9._parent=_ab4[_ab8+1];_ab9._parent.uncycle();_ab9._length=_ab9._parent._length+1;}else{_ab9._parent=undefined;_ab9._length=1;}var _aba=_ab9._length+1;for(var j=i-2;j>=0;--j){_ab4[j]._length=_aba;_aba++;}return;}}};_aaf.prototype.parent=function(){return this._parent;};_aaf.prototype.hasParent=function(){return this._parent!==undefined;};_aaf.prototype.attachExtraTrace=function(_abb){if(_abb.__stackCleaned__){return;}this.uncycle();var _abc=_aaf.parseStackAndMessage(_abb);var _abd=_abc.message;var _abe=[_abc.stack];var _abf=this;while(_abf!==undefined){_abe.push(_ac0(_abf.stack.split("\n")));_abf=_abf._parent;}_ac1(_abe);_ac2(_abe);util.notEnumerableProp(_abb,"stack",_ac3(_abd,_abe));util.notEnumerableProp(_abb,"__stackCleaned__",true);};function _ac3(_ac4,_ac5){for(var i=0;i<_ac5.length-1;++i){_ac5[i].push("From previous event:");_ac5[i]=_ac5[i].join("\n");}if(i<_ac5.length){_ac5[i]=_ac5[i].join("\n");}return _ac4+"\n"+_ac5.join("\n");};function _ac2(_ac6){for(var i=0;i<_ac6.length;++i){if(_ac6[i].length===0||((i+1<_ac6.length)&&_ac6[i][0]===_ac6[i+1][0])){_ac6.splice(i,1);i--;}}};function _ac1(_ac7){var _ac8=_ac7[0];for(var i=1;i<_ac7.length;++i){var prev=_ac7[i];var _ac9=_ac8.length-1;var _aca=_ac8[_ac9];var _acb=-1;for(var j=prev.length-1;j>=0;--j){if(prev[j]===_aca){_acb=j;break;}}for(var j=_acb;j>=0;--j){var line=prev[j];if(_ac8[_ac9]===line){_ac8.pop();_ac9--;}else{break;}}_ac8=prev;}};function _ac0(_acc){var ret=[];for(var i=0;i<_acc.length;++i){var line=_acc[i];var _acd=_aac.test(line)||"    (No stack trace)"===line;var _ace=_acd&&_acf(line);if(_acd&&!_ace){if(_aae&&line.charAt(0)!==" "){line="    "+line;}ret.push(line);}}return ret;};function _ad0(_ad1){var _ad2=_ad1.stack.replace(/\s+$/g,"").split("\n");for(var i=0;i<_ad2.length;++i){var line=_ad2[i];if("    (No stack trace)"===line||_aac.test(line)){break;}}if(i>0){_ad2=_ad2.slice(i);}return _ad2;};_aaf.parseStackAndMessage=function(_ad3){var _ad4=_ad3.stack;var _ad5=_ad3.toString();_ad4=typeof _ad4==="string"&&_ad4.length>0?_ad0(_ad3):["    (No stack trace)"];return {message:_ad5,stack:_ac0(_ad4)};};_aaf.formatAndLogError=function(_ad6,_ad7){if(typeof console!=="undefined"){var _ad8;if(typeof _ad6==="object"||typeof _ad6==="function"){var _ad9=_ad6.stack;_ad8=_ad7+_aad(_ad9,_ad6);}else{_ad8=_ad7+String(_ad6);}if(typeof warn==="function"){warn(_ad8);}else{if(typeof console.log==="function"||typeof console.log==="object"){}}}};_aaf.unhandledRejection=function(_ada){_aaf.formatAndLogError(_ada,"^--- With additional stack trace: ");};_aaf.isSupported=function(){return typeof _ab2==="function";};_aaf.fireRejectionEvent=function(name,_adb,_adc,_add){var _ade=false;try{if(typeof _adb==="function"){_ade=true;if(name==="rejectionHandled"){_adb(_add);}else{_adb(_adc,_add);}}}catch(e){_aaa.throwLater(e);}var _adf=false;try{_adf=_ae0(name,_adc,_add);}catch(e){_adf=true;_aaa.throwLater(e);}var _ae1=false;if(_ae2){try{_ae1=_ae2(name.toLowerCase(),{reason:_adc,promise:_add});}catch(e){_ae1=true;_aaa.throwLater(e);}}if(!_adf&&!_ade&&!_ae1&&name==="unhandledRejection"){_aaf.formatAndLogError(_adc,"Unhandled rejection ");}};function _ae3(obj){var str;if(typeof obj==="function"){str="[function "+(obj.name||"anonymous")+"]";}else{str=obj.toString();var _ae4=/\[object [a-zA-Z0-9$_]+\]/;if(_ae4.test(str)){try{var _ae5=JSON.stringify(obj);str=_ae5;}catch(e){}}if(str.length===0){str="(empty array)";}}return ("(<"+snip(str)+">, no stack trace)");};function snip(str){var _ae6=41;if(str.length<_ae6){return str;}return str.substr(0,_ae6-3)+"...";};var _acf=function(){return false;};var _ae7=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function _ae8(line){var _ae9=line.match(_ae7);if(_ae9){return {fileName:_ae9[1],line:parseInt(_ae9[2],10)};}};_aaf.setBounds=function(_aea,_aeb){if(!_aaf.isSupported()){return;}var _aec=_aea.stack.split("\n");var _aed=_aeb.stack.split("\n");var _aee=-1;var _aef=-1;var _af0;var _af1;for(var i=0;i<_aec.length;++i){var _af2=_ae8(_aec[i]);if(_af2){_af0=_af2.fileName;_aee=_af2.line;break;}}for(var i=0;i<_aed.length;++i){var _af2=_ae8(_aed[i]);if(_af2){_af1=_af2.fileName;_aef=_af2.line;break;}}if(_aee<0||_aef<0||!_af0||!_af1||_af0!==_af1||_aee>=_aef){return;}_acf=function(line){if(_aab.test(line)){return true;}var info=_ae8(line);if(info){if(info.fileName===_af0&&(_aee<=info.line&&info.line<=_aef)){return true;}}return false;};};var _ab2=(function stackDetection(){var _af3=/^\s*at\s*/;var _af4=function(_af5,_af6){if(typeof _af5==="string"){return _af5;}if(_af6.name!==undefined&&_af6.message!==undefined){return _af6.toString();}return _ae3(_af6);};if(typeof Error.stackTraceLimit==="number"&&typeof Error.captureStackTrace==="function"){Error.stackTraceLimit=Error.stackTraceLimit+6;_aac=_af3;_aad=_af4;var _af7=Error.captureStackTrace;_acf=function(line){return _aab.test(line);};return function(_af8,_af9){Error.stackTraceLimit=Error.stackTraceLimit+6;_af7(_af8,_af9);Error.stackTraceLimit=Error.stackTraceLimit-6;};}var err=new Error();if(typeof err.stack==="string"&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0){_aac=/@/;_aad=_af4;_aae=true;return function _af7(o){o.stack=new Error().stack;};}var _afa;try{throw new Error();}catch(e){_afa=("stack" in e);}if(!("stack" in err)&&_afa&&typeof Error.stackTraceLimit==="number"){_aac=_af3;_aad=_af4;return function _af7(o){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error();}catch(e){o.stack=e.stack;}Error.stackTraceLimit=Error.stackTraceLimit-6;};}_aad=function(_afb,_afc){if(typeof _afb==="string"){return _afb;}if((typeof _afc==="object"||typeof _afc==="function")&&_afc.name!==undefined&&_afc.message!==undefined){return _afc.toString();}return _ae3(_afc);};return null;})([]);var _ae2;var _ae0=(function(){if(util.isNode){return function(name,_afd,_afe){if(name==="rejectionHandled"){return process.emit(name,_afe);}else{return process.emit(name,_afd,_afe);}};}else{var _aff=false;var _b00=true;try{var ev=new self.CustomEvent("test");_aff=ev instanceof CustomEvent;}catch(e){}if(!_aff){try{var _b01=document.createEvent("CustomEvent");_b01.initCustomEvent("testingtheevent",false,true,{});self.dispatchEvent(_b01);}catch(e){_b00=false;}}if(_b00){_ae2=function(type,_b02){var _b03;if(_aff){_b03=new self.CustomEvent(type,{detail:_b02,bubbles:false,cancelable:true});}else{if(self.dispatchEvent){_b03=document.createEvent("CustomEvent");_b03.initCustomEvent(type,false,true,_b02);}}return _b03?!self.dispatchEvent(_b03):false;};}var _b04={};_b04["unhandledRejection"]=("on"+"unhandledRejection").toLowerCase();_b04["rejectionHandled"]=("on"+"rejectionHandled").toLowerCase();return function(name,_b05,_b06){var _b07=_b04[name];var _b08=self[_b07];if(!_b08){return false;}if(name==="rejectionHandled"){_b08.call(self,_b06);}else{_b08.call(self,_b05,_b06);}return true;};}})();if(typeof console!=="undefined"&&typeof console.warn!=="undefined"){warn=function(_b09){console.warn(_b09);};if(util.isNode&&process.stderr.isTTY){warn=function(_b0a){process.stderr.write("[31m"+_b0a+"[39m\n");};}else{if(!util.isNode&&typeof (new Error().stack)==="string"){warn=function(_b0b){console.warn("%c"+_b0b,"color: red");};}}}return _aaf;};},{"./async.js":2,"./util.js":38}],8:[function(_b0c,_b0d,_b0e){"use strict";_b0d.exports=function(_b0f){var util=_b0c("./util.js");var _b10=_b0c("./errors.js");var _b11=util.tryCatch;var _b12=util.errorObj;var keys=_b0c("./es5.js").keys;var _b13=_b10.TypeError;function _b14(_b15,_b16,_b17){this._instances=_b15;this._callback=_b16;this._promise=_b17;};function _b18(_b19,e){var _b1a={};var _b1b=_b11(_b19).call(_b1a,e);if(_b1b===_b12){return _b1b;}var _b1c=keys(_b1a);if(_b1c.length){_b12.e=new _b13("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n");return _b12;}return _b1b;};_b14.prototype.doFilter=function(e){var cb=this._callback;var _b1d=this._promise;var _b1e=_b1d._boundValue();for(var i=0,len=this._instances.length;i<len;++i){var item=this._instances[i];var _b1f=item===Error||(item!=null&&item.prototype instanceof Error);if(_b1f&&e instanceof item){var ret=_b11(cb).call(_b1e,e);if(ret===_b12){_b0f.e=ret.e;return _b0f;}return ret;}else{if(typeof item==="function"&&!_b1f){var _b20=_b18(item,e);if(_b20===_b12){e=_b12.e;break;}else{if(_b20){var ret=_b11(cb).call(_b1e,e);if(ret===_b12){_b0f.e=ret.e;return _b0f;}return ret;}}}}}_b0f.e=e;return _b0f;};return _b14;};},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(_b21,_b22,_b23){"use strict";_b22.exports=function(_b24,_b25,_b26){var _b27=[];function _b28(){this._trace=new _b25(_b29());};_b28.prototype._pushContext=function(){if(!_b26()){return;}if(this._trace!==undefined){_b27.push(this._trace);}};_b28.prototype._popContext=function(){if(!_b26()){return;}if(this._trace!==undefined){_b27.pop();}};function _b2a(){if(_b26()){return new _b28();}};function _b29(){var _b2b=_b27.length-1;if(_b2b>=0){return _b27[_b2b];}return undefined;};_b24.prototype._peekContext=_b29;_b24.prototype._pushContext=_b28.prototype._pushContext;_b24.prototype._popContext=_b28.prototype._popContext;return _b2a;};},{}],10:[function(_b2c,_b2d,_b2e){"use strict";_b2d.exports=function(_b2f,_b30){var _b31=_b2f._getDomain;var _b32=_b2c("./async.js");var _b33=_b2c("./errors.js").Warning;var util=_b2c("./util.js");var _b34=util.canAttachTrace;var _b35;var _b36;var _b37=false||(util.isNode&&(!!process.env["BLUEBIRD_DEBUG"]||process.env["NODE_ENV"]==="development"));if(_b37){_b32.disableTrampolineIfNecessary();}_b2f.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled();this._bitField=this._bitField|16777216;};_b2f.prototype._ensurePossibleRejectionHandled=function(){if((this._bitField&16777216)!==0){return;}this._setRejectionIsUnhandled();_b32.invokeLater(this._notifyUnhandledRejection,this,undefined);};_b2f.prototype._notifyUnhandledRejectionIsHandled=function(){_b30.fireRejectionEvent("rejectionHandled",_b35,undefined,this);};_b2f.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var _b38=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified();_b30.fireRejectionEvent("unhandledRejection",_b36,_b38,this);}};_b2f.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|524288;};_b2f.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&(~524288);};_b2f.prototype._isUnhandledRejectionNotified=function(){return (this._bitField&524288)>0;};_b2f.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|2097152;};_b2f.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&(~2097152);if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled();}};_b2f.prototype._isRejectionUnhandled=function(){return (this._bitField&2097152)>0;};_b2f.prototype._setCarriedStackTrace=function(_b39){this._bitField=this._bitField|1048576;this._fulfillmentHandler0=_b39;};_b2f.prototype._isCarryingStackTrace=function(){return (this._bitField&1048576)>0;};_b2f.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:undefined;};_b2f.prototype._captureStackTrace=function(){if(_b37){this._trace=new _b30(this._peekContext());}return this;};_b2f.prototype._attachExtraTrace=function(_b3a,_b3b){if(_b37&&_b34(_b3a)){var _b3c=this._trace;if(_b3c!==undefined){if(_b3b){_b3c=_b3c._parent;}}if(_b3c!==undefined){_b3c.attachExtraTrace(_b3a);}else{if(!_b3a.__stackCleaned__){var _b3d=_b30.parseStackAndMessage(_b3a);util.notEnumerableProp(_b3a,"stack",_b3d.message+"\n"+_b3d.stack.join("\n"));util.notEnumerableProp(_b3a,"__stackCleaned__",true);}}}};_b2f.prototype._warn=function(_b3e){var _b3f=new _b33(_b3e);var ctx=this._peekContext();if(ctx){ctx.attachExtraTrace(_b3f);}else{var _b40=_b30.parseStackAndMessage(_b3f);_b3f.stack=_b40.message+"\n"+_b40.stack.join("\n");}_b30.formatAndLogError(_b3f,"");};_b2f.onPossiblyUnhandledRejection=function(fn){var _b41=_b31();_b36=typeof fn==="function"?(_b41===null?fn:_b41.bind(fn)):undefined;};_b2f.onUnhandledRejectionHandled=function(fn){var _b42=_b31();_b35=typeof fn==="function"?(_b42===null?fn:_b42.bind(fn)):undefined;};_b2f.longStackTraces=function(){if(_b32.haveItemsQueued()&&_b37===false){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");}_b37=_b30.isSupported();if(_b37){_b32.disableTrampolineIfNecessary();}};_b2f.hasLongStackTraces=function(){return _b37&&_b30.isSupported();};if(!_b30.isSupported()){_b2f.longStackTraces=function(){};_b37=false;}return function(){return _b37;};};},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(_b43,_b44,_b45){"use strict";var util=_b43("./util.js");var _b46=util.isPrimitive;_b44.exports=function(_b47){var _b48=function(){return this;};var _b49=function(){throw this;};var _b4a=function(){};var _b4b=function(){throw undefined;};var _b4c=function(_b4d,_b4e){if(_b4e===1){return function(){throw _b4d;};}else{if(_b4e===2){return function(){return _b4d;};}}};_b47.prototype["return"]=_b47.prototype.thenReturn=function(_b4f){if(_b4f===undefined){return this.then(_b4a);}if(_b46(_b4f)){return this._then(_b4c(_b4f,2),undefined,undefined,undefined,undefined);}return this._then(_b48,undefined,undefined,_b4f,undefined);};_b47.prototype["throw"]=_b47.prototype.thenThrow=function(_b50){if(_b50===undefined){return this.then(_b4b);}if(_b46(_b50)){return this._then(_b4c(_b50,1),undefined,undefined,undefined,undefined);}return this._then(_b49,undefined,undefined,_b50,undefined);};};},{"./util.js":38}],12:[function(_b51,_b52,_b53){"use strict";_b52.exports=function(_b54,_b55){var _b56=_b54.reduce;_b54.prototype.each=function(fn){return _b56(this,fn,null,_b55);};_b54.each=function(_b57,fn){return _b56(_b57,fn,null,_b55);};};},{}],13:[function(_b58,_b59,_b5a){"use strict";var es5=_b58("./es5.js");var _b5b=es5.freeze;var util=_b58("./util.js");var _b5c=util.inherits;var _b5d=util.notEnumerableProp;function _b5e(_b5f,_b60){function _b61(_b62){if(!(this instanceof _b61)){return new _b61(_b62);}_b5d(this,"message",typeof _b62==="string"?_b62:_b60);_b5d(this,"name",_b5f);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor);}else{Error.call(this);}};_b5c(_b61,Error);return _b61;};var _b63,_b64;var _b65=_b5e("Warning","warning");var _b66=_b5e("CancellationError","cancellation error");var _b67=_b5e("TimeoutError","timeout error");var _b68=_b5e("AggregateError","aggregate error");try{_b63=TypeError;_b64=RangeError;}catch(e){_b63=_b5e("TypeError","type error");_b64=_b5e("RangeError","range error");}var _b69=("join pop push shift unshift slice filter forEach some "+"every map indexOf lastIndexOf reduce reduceRight sort reverse").split(" ");for(var i=0;i<_b69.length;++i){if(typeof Array.prototype[_b69[i]]==="function"){_b68.prototype[_b69[i]]=Array.prototype[_b69[i]];}}es5.defineProperty(_b68.prototype,"length",{value:0,configurable:false,writable:true,enumerable:true});_b68.prototype["isOperational"]=true;var _b6a=0;_b68.prototype.toString=function(){var _b6b=Array(_b6a*4+1).join(" ");var ret="\n"+_b6b+"AggregateError of:"+"\n";_b6a++;_b6b=Array(_b6a*4+1).join(" ");for(var i=0;i<this.length;++i){var str=this[i]===this?"[Circular AggregateError]":this[i]+"";var _b6c=str.split("\n");for(var j=0;j<_b6c.length;++j){_b6c[j]=_b6b+_b6c[j];}str=_b6c.join("\n");ret+=str+"\n";}_b6a--;return ret;};function _b6d(_b6e){if(!(this instanceof _b6d)){return new _b6d(_b6e);}_b5d(this,"name","OperationalError");_b5d(this,"message",_b6e);this.cause=_b6e;this["isOperational"]=true;if(_b6e instanceof Error){_b5d(this,"message",_b6e.message);_b5d(this,"stack",_b6e.stack);}else{if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor);}}};_b5c(_b6d,Error);var _b6f=Error["__BluebirdErrorTypes__"];if(!_b6f){_b6f=_b5b({CancellationError:_b66,TimeoutError:_b67,OperationalError:_b6d,RejectionError:_b6d,AggregateError:_b68});_b5d(Error,"__BluebirdErrorTypes__",_b6f);}_b59.exports={Error:Error,TypeError:_b63,RangeError:_b64,CancellationError:_b6f.CancellationError,OperationalError:_b6f.OperationalError,TimeoutError:_b6f.TimeoutError,AggregateError:_b6f.AggregateError,Warning:_b65};},{"./es5.js":14,"./util.js":38}],14:[function(_b70,_b71,_b72){var _b73=(function(){"use strict";return this===undefined;})();if(_b73){_b71.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:_b73,propertyIsWritable:function(obj,prop){var _b74=Object.getOwnPropertyDescriptor(obj,prop);return !!(!_b74||_b74.writable||_b74.set);}};}else{var has={}.hasOwnProperty;var str={}.toString;var _b75={}.constructor.prototype;var _b76=function(o){var ret=[];for(var key in o){if(has.call(o,key)){ret.push(key);}}return ret;};var _b77=function(o,key){return {value:o[key]};};var _b78=function(o,key,desc){o[key]=desc.value;return o;};var _b79=function(obj){return obj;};var _b7a=function(obj){try{return Object(obj).constructor.prototype;}catch(e){return _b75;}};var _b7b=function(obj){try{return str.call(obj)==="[object Array]";}catch(e){return false;}};_b71.exports={isArray:_b7b,keys:_b76,names:_b76,defineProperty:_b78,getDescriptor:_b77,freeze:_b79,getPrototypeOf:_b7a,isES5:_b73,propertyIsWritable:function(){return true;}};}},{}],15:[function(_b7c,_b7d,_b7e){"use strict";_b7d.exports=function(_b7f,_b80){var _b81=_b7f.map;_b7f.prototype.filter=function(fn,_b82){return _b81(this,fn,_b82,_b80);};_b7f.filter=function(_b83,fn,_b84){return _b81(_b83,fn,_b84,_b80);};};},{}],16:[function(_b85,_b86,_b87){"use strict";_b86.exports=function(_b88,_b89,_b8a){var util=_b85("./util.js");var _b8b=util.isPrimitive;var _b8c=util.thrower;function _b8d(){return this;};function _b8e(){throw this;};function _b8f(r){return function(){return r;};};function _b90(r){return function(){throw r;};};function _b91(ret,_b92,_b93){var then;if(_b8b(_b92)){then=_b93?_b8f(_b92):_b90(_b92);}else{then=_b93?_b8d:_b8e;}return ret._then(then,_b8c,undefined,_b92,undefined);};function _b94(_b95){var _b96=this.promise;var _b97=this.handler;var ret=_b96._isBound()?_b97.call(_b96._boundValue()):_b97();if(ret!==undefined){var _b98=_b8a(ret,_b96);if(_b98 instanceof _b88){_b98=_b98._target();return _b91(_b98,_b95,_b96.isFulfilled());}}if(_b96.isRejected()){_b89.e=_b95;return _b89;}else{return _b95;}};function _b99(_b9a){var _b9b=this.promise;var _b9c=this.handler;var ret=_b9b._isBound()?_b9c.call(_b9b._boundValue(),_b9a):_b9c(_b9a);if(ret!==undefined){var _b9d=_b8a(ret,_b9b);if(_b9d instanceof _b88){_b9d=_b9d._target();return _b91(_b9d,_b9a,true);}}return _b9a;};_b88.prototype._passThroughHandler=function(_b9e,_b9f){if(typeof _b9e!=="function"){return this.then();}var _ba0={promise:this,handler:_b9e};return this._then(_b9f?_b94:_b99,_b9f?_b94:undefined,undefined,_ba0,undefined);};_b88.prototype.lastly=_b88.prototype["finally"]=function(_ba1){return this._passThroughHandler(_ba1,true);};_b88.prototype.tap=function(_ba2){return this._passThroughHandler(_ba2,false);};};},{"./util.js":38}],17:[function(_ba3,_ba4,_ba5){"use strict";_ba4.exports=function(_ba6,_ba7,_ba8,_ba9){var _baa=_ba3("./errors.js");var _bab=_baa.TypeError;var util=_ba3("./util.js");var _bac=util.errorObj;var _bad=util.tryCatch;var _bae=[];function _baf(_bb0,_bb1,_bb2){for(var i=0;i<_bb1.length;++i){_bb2._pushContext();var _bb3=_bad(_bb1[i])(_bb0);_bb2._popContext();if(_bb3===_bac){_bb2._pushContext();var ret=_ba6.reject(_bac.e);_bb2._popContext();return ret;}var _bb4=_ba9(_bb3,_bb2);if(_bb4 instanceof _ba6){return _bb4;}}return null;};function _bb5(_bb6,_bb7,_bb8,_bb9){var _bba=this._promise=new _ba6(_ba8);_bba._captureStackTrace();this._stack=_bb9;this._generatorFunction=_bb6;this._receiver=_bb7;this._generator=undefined;this._yieldHandlers=typeof _bb8==="function"?[_bb8].concat(_bae):_bae;};_bb5.prototype.promise=function(){return this._promise;};_bb5.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=undefined;this._next(undefined);};_bb5.prototype._continue=function(_bbb){if(_bbb===_bac){return this._promise._rejectCallback(_bbb.e,false,true);}var _bbc=_bbb.value;if(_bbb.done===true){this._promise._resolveCallback(_bbc);}else{var _bbd=_ba9(_bbc,this._promise);if(!(_bbd instanceof _ba6)){_bbd=_baf(_bbd,this._yieldHandlers,this._promise);if(_bbd===null){this._throw(new _bab("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",_bbc)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return;}}_bbd._then(this._next,this._throw,undefined,this,null);}};_bb5.prototype._throw=function(_bbe){this._promise._attachExtraTrace(_bbe);this._promise._pushContext();var _bbf=_bad(this._generator["throw"]).call(this._generator,_bbe);this._promise._popContext();this._continue(_bbf);};_bb5.prototype._next=function(_bc0){this._promise._pushContext();var _bc1=_bad(this._generator.next).call(this._generator,_bc0);this._promise._popContext();this._continue(_bc1);};_ba6.coroutine=function(_bc2,_bc3){if(typeof _bc2!=="function"){throw new _bab("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");}var _bc4=Object(_bc3).yieldHandler;var _bc5=_bb5;var _bc6=new Error().stack;return function(){var _bc7=_bc2.apply(this,arguments);var _bc8=new _bc5(undefined,undefined,_bc4,_bc6);_bc8._generator=_bc7;_bc8._next(undefined);return _bc8.promise();};};_ba6.coroutine.addYieldHandler=function(fn){if(typeof fn!=="function"){throw new _bab("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}_bae.push(fn);};_ba6.spawn=function(_bc9){if(typeof _bc9!=="function"){return _ba7("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");}var _bca=new _bb5(_bc9,this);var ret=_bca.promise();_bca._run(_ba6.spawn);return ret;};};},{"./errors.js":13,"./util.js":38}],18:[function(_bcb,_bcc,_bcd){"use strict";_bcc.exports=function(_bce,_bcf,_bd0,_bd1){var util=_bcb("./util.js");var _bd2=util.canEvaluate;var _bd3=util.tryCatch;var _bd4=util.errorObj;var _bd5;if(!true){if(_bd2){var _bd6=function(i){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,i));};var _bd7=function(_bd8){var _bd9=[];for(var i=1;i<=_bd8;++i){_bd9.push("holder.p"+i);}return new Function("holder","                                      \n            'use strict';                                                    \n            var callback = holder.fn;                                        \n            return callback(values);                                         \n            ".replace(/values/g,_bd9.join(", ")));};var _bda=[];var _bdb=[undefined];for(var i=1;i<=5;++i){_bda.push(_bd6(i));_bdb.push(_bd7(i));}var _bdc=function(_bdd,fn){this.p1=this.p2=this.p3=this.p4=this.p5=null;this.fn=fn;this.total=_bdd;this.now=0;};_bdc.prototype.callers=_bdb;_bdc.prototype.checkFulfillment=function(_bde){var now=this.now;now++;var _bdf=this.total;if(now>=_bdf){var _be0=this.callers[_bdf];_bde._pushContext();var ret=_bd3(_be0)(this);_bde._popContext();if(ret===_bd4){_bde._rejectCallback(ret.e,false,true);}else{_bde._resolveCallback(ret);}}else{this.now=now;}};var _bd5=function(_be1){this._reject(_be1);};}}_bce.join=function(){var last=arguments.length-1;var fn;if(last>0&&typeof arguments[last]==="function"){fn=arguments[last];if(!true){if(last<6&&_bd2){var ret=new _bce(_bd1);ret._captureStackTrace();var _be2=new _bdc(last,fn);var _be3=_bda;for(var i=0;i<last;++i){var _be4=_bd0(arguments[i],ret);if(_be4 instanceof _bce){_be4=_be4._target();if(_be4._isPending()){_be4._then(_be3[i],_bd5,undefined,ret,_be2);}else{if(_be4._isFulfilled()){_be3[i].call(ret,_be4._value(),_be2);}else{ret._reject(_be4._reason());}}}else{_be3[i].call(ret,_be4,_be2);}}return ret;}}}var _be5=arguments.length;var args=new Array(_be5);for(var $_i=0;$_i<_be5;++$_i){args[$_i]=arguments[$_i];}if(fn){args.pop();}var ret=new _bcf(args).promise();return fn!==undefined?ret.spread(fn):ret;};};},{"./util.js":38}],19:[function(_be6,_be7,_be8){"use strict";_be7.exports=function(_be9,_bea,_beb,_bec,_bed){var _bee=_be9._getDomain;var _bef=_be6("./async.js");var util=_be6("./util.js");var _bf0=util.tryCatch;var _bf1=util.errorObj;var _bf2={};var _bf3=[];function _bf4(_bf5,fn,_bf6,_bf7){this.constructor$(_bf5);this._promise._captureStackTrace();var _bf8=_bee();this._callback=_bf8===null?fn:_bf8.bind(fn);this._preservedValues=_bf7===_bed?new Array(this.length()):null;this._limit=_bf6;this._inFlight=0;this._queue=_bf6>=1?[]:_bf3;_bef.invoke(init,this,undefined);};util.inherits(_bf4,_bea);function init(){this._init$(undefined,-2);};_bf4.prototype._init=function(){};_bf4.prototype._promiseFulfilled=function(_bf9,_bfa){var _bfb=this._values;var _bfc=this.length();var _bfd=this._preservedValues;var _bfe=this._limit;if(_bfb[_bfa]===_bf2){_bfb[_bfa]=_bf9;if(_bfe>=1){this._inFlight--;this._drainQueue();if(this._isResolved()){return;}}}else{if(_bfe>=1&&this._inFlight>=_bfe){_bfb[_bfa]=_bf9;this._queue.push(_bfa);return;}if(_bfd!==null){_bfd[_bfa]=_bf9;}var _bff=this._callback;var _c00=this._promise._boundValue();this._promise._pushContext();var ret=_bf0(_bff).call(_c00,_bf9,_bfa,_bfc);this._promise._popContext();if(ret===_bf1){return this._reject(ret.e);}var _c01=_bec(ret,this._promise);if(_c01 instanceof _be9){_c01=_c01._target();if(_c01._isPending()){if(_bfe>=1){this._inFlight++;}_bfb[_bfa]=_bf2;return _c01._proxyPromiseArray(this,_bfa);}else{if(_c01._isFulfilled()){ret=_c01._value();}else{return this._reject(_c01._reason());}}}_bfb[_bfa]=ret;}var _c02=++this._totalResolved;if(_c02>=_bfc){if(_bfd!==null){this._filter(_bfb,_bfd);}else{this._resolve(_bfb);}}};_bf4.prototype._drainQueue=function(){var _c03=this._queue;var _c04=this._limit;var _c05=this._values;while(_c03.length>0&&this._inFlight<_c04){if(this._isResolved()){return;}var _c06=_c03.pop();this._promiseFulfilled(_c05[_c06],_c06);}};_bf4.prototype._filter=function(_c07,_c08){var len=_c08.length;var ret=new Array(len);var j=0;for(var i=0;i<len;++i){if(_c07[i]){ret[j++]=_c08[i];}}ret.length=j;this._resolve(ret);};_bf4.prototype.preservedValues=function(){return this._preservedValues;};function map(_c09,fn,_c0a,_c0b){var _c0c=typeof _c0a==="object"&&_c0a!==null?_c0a.concurrency:0;_c0c=typeof _c0c==="number"&&isFinite(_c0c)&&_c0c>=1?_c0c:0;return new _bf4(_c09,fn,_c0c,_c0b);};_be9.prototype.map=function(fn,_c0d){if(typeof fn!=="function"){return _beb("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}return map(this,fn,_c0d,null).promise();};_be9.map=function(_c0e,fn,_c0f,_c10){if(typeof fn!=="function"){return _beb("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}return map(_c0e,fn,_c0f,_c10).promise();};};},{"./async.js":2,"./util.js":38}],20:[function(_c11,_c12,_c13){"use strict";_c12.exports=function(_c14,_c15,_c16,_c17){var util=_c11("./util.js");var _c18=util.tryCatch;_c14.method=function(fn){if(typeof fn!=="function"){throw new _c14.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}return function(){var ret=new _c14(_c15);ret._captureStackTrace();ret._pushContext();var _c19=_c18(fn).apply(this,arguments);ret._popContext();ret._resolveFromSyncValue(_c19);return ret;};};_c14.attempt=_c14["try"]=function(fn,args,ctx){if(typeof fn!=="function"){return _c17("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}var ret=new _c14(_c15);ret._captureStackTrace();ret._pushContext();var _c1a=util.isArray(args)?_c18(fn).apply(ctx,args):_c18(fn).call(ctx,args);ret._popContext();ret._resolveFromSyncValue(_c1a);return ret;};_c14.prototype._resolveFromSyncValue=function(_c1b){if(_c1b===util.errorObj){this._rejectCallback(_c1b.e,false,true);}else{this._resolveCallback(_c1b,true);}};};},{"./util.js":38}],21:[function(_c1c,_c1d,_c1e){"use strict";_c1d.exports=function(_c1f){var util=_c1c("./util.js");var _c20=_c1c("./async.js");var _c21=util.tryCatch;var _c22=util.errorObj;function _c23(val,_c24){var _c25=this;if(!util.isArray(val)){return _c26.call(_c25,val,_c24);}var ret=_c21(_c24).apply(_c25._boundValue(),[null].concat(val));if(ret===_c22){_c20.throwLater(ret.e);}};function _c26(val,_c27){var _c28=this;var _c29=_c28._boundValue();var ret=val===undefined?_c21(_c27).call(_c29,null):_c21(_c27).call(_c29,null,val);if(ret===_c22){_c20.throwLater(ret.e);}};function _c2a(_c2b,_c2c){var _c2d=this;if(!_c2b){var _c2e=_c2d._target();var _c2f=_c2e._getCarriedStackTrace();_c2f.cause=_c2b;_c2b=_c2f;}var ret=_c21(_c2c).call(_c2d._boundValue(),_c2b);if(ret===_c22){_c20.throwLater(ret.e);}};_c1f.prototype.asCallback=_c1f.prototype.nodeify=function(_c30,_c31){if(typeof _c30=="function"){var _c32=_c26;if(_c31!==undefined&&Object(_c31).spread){_c32=_c23;}this._then(_c32,_c2a,undefined,this,_c30);}return this;};};},{"./async.js":2,"./util.js":38}],22:[function(_c33,_c34,_c35){"use strict";_c34.exports=function(_c36,_c37){var util=_c33("./util.js");var _c38=_c33("./async.js");var _c39=util.tryCatch;var _c3a=util.errorObj;_c36.prototype.progressed=function(_c3b){return this._then(undefined,undefined,_c3b,undefined,undefined);};_c36.prototype._progress=function(_c3c){if(this._isFollowingOrFulfilledOrRejected()){return;}this._target()._progressUnchecked(_c3c);};_c36.prototype._progressHandlerAt=function(_c3d){return _c3d===0?this._progressHandler0:this[(_c3d<<2)+_c3d-5+2];};_c36.prototype._doProgressWith=function(_c3e){var _c3f=_c3e.value;var _c40=_c3e.handler;var _c41=_c3e.promise;var _c42=_c3e.receiver;var ret=_c39(_c40).call(_c42,_c3f);if(ret===_c3a){if(ret.e!=null&&ret.e.name!=="StopProgressPropagation"){var _c43=util.canAttachTrace(ret.e)?ret.e:new Error(util.toString(ret.e));_c41._attachExtraTrace(_c43);_c41._progress(ret.e);}}else{if(ret instanceof _c36){ret._then(_c41._progress,null,null,_c41,undefined);}else{_c41._progress(ret);}}};_c36.prototype._progressUnchecked=function(_c44){var len=this._length();var _c45=this._progress;for(var i=0;i<len;i++){var _c46=this._progressHandlerAt(i);var _c47=this._promiseAt(i);if(!(_c47 instanceof _c36)){var _c48=this._receiverAt(i);if(typeof _c46==="function"){_c46.call(_c48,_c44,_c47);}else{if(_c48 instanceof _c37&&!_c48._isResolved()){_c48._promiseProgressed(_c44,_c47);}}continue;}if(typeof _c46==="function"){_c38.invoke(this._doProgressWith,this,{handler:_c46,promise:_c47,receiver:this._receiverAt(i),value:_c44});}else{_c38.invoke(_c45,_c47,_c44);}}};};},{"./async.js":2,"./util.js":38}],23:[function(_c49,_c4a,_c4b){"use strict";_c4a.exports=function(){var _c4c=function(){return new _c4d("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n");};var _c4e=function(){return new _c4f.PromiseInspection(this._target());};var _c50=function(msg){return _c4f.reject(new _c4d(msg));};var util=_c49("./util.js");var _c51;if(util.isNode){_c51=function(){var ret=process.domain;if(ret===undefined){ret=null;}return ret;};}else{_c51=function(){return null;};}util.notEnumerableProp(_c4f,"_getDomain",_c51);var _c52=_c49("./async.js");var _c53=_c49("./errors.js");var _c4d=_c4f.TypeError=_c53.TypeError;_c4f.RangeError=_c53.RangeError;_c4f.CancellationError=_c53.CancellationError;_c4f.TimeoutError=_c53.TimeoutError;_c4f.OperationalError=_c53.OperationalError;_c4f.RejectionError=_c53.OperationalError;_c4f.AggregateError=_c53.AggregateError;var _c54=function(){};var _c55={};var _c56={e:null};var _c57=_c49("./thenables.js")(_c4f,_c54);var _c58=_c49("./promise_array.js")(_c4f,_c54,_c57,_c50);var _c59=_c49("./captured_trace.js")();var _c5a=_c49("./debuggability.js")(_c4f,_c59);var _c5b=_c49("./context.js")(_c4f,_c59,_c5a);var _c5c=_c49("./catch_filter.js")(_c56);var _c5d=_c49("./promise_resolver.js");var _c5e=_c5d._nodebackForPromise;var _c5f=util.errorObj;var _c60=util.tryCatch;function _c4f(_c61){if(typeof _c61!=="function"){throw new _c4d("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");}if(this.constructor!==_c4f){throw new _c4d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");}this._bitField=0;this._fulfillmentHandler0=undefined;this._rejectionHandler0=undefined;this._progressHandler0=undefined;this._promise0=undefined;this._receiver0=undefined;this._settledValue=undefined;if(_c61!==_c54){this._resolveFromResolver(_c61);}};_c4f.prototype.toString=function(){return "[object Promise]";};_c4f.prototype.caught=_c4f.prototype["catch"]=function(fn){var len=arguments.length;if(len>1){var _c62=new Array(len-1),j=0,i;for(i=0;i<len-1;++i){var item=arguments[i];if(typeof item==="function"){_c62[j++]=item;}else{return _c4f.reject(new _c4d("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));}}_c62.length=j;fn=arguments[i];var _c63=new _c5c(_c62,fn,this);return this._then(undefined,_c63.doFilter,undefined,_c63,undefined);}return this._then(undefined,fn,undefined,undefined,undefined);};_c4f.prototype.reflect=function(){return this._then(_c4e,_c4e,undefined,this,undefined);};_c4f.prototype.then=function(_c64,_c65,_c66){if(_c5a()&&arguments.length>0&&typeof _c64!=="function"&&typeof _c65!=="function"){var msg=".then() only accepts functions but was passed: "+util.classString(_c64);if(arguments.length>1){msg+=", "+util.classString(_c65);}this._warn(msg);}return this._then(_c64,_c65,_c66,undefined,undefined);};_c4f.prototype.done=function(_c67,_c68,_c69){var _c6a=this._then(_c67,_c68,_c69,undefined,undefined);_c6a._setIsFinal();};_c4f.prototype.spread=function(_c6b,_c6c){return this.all()._then(_c6b,_c6c,undefined,_c55,undefined);};_c4f.prototype.isCancellable=function(){return !this.isResolved()&&this._cancellable();};_c4f.prototype.toJSON=function(){var ret={isFulfilled:false,isRejected:false,fulfillmentValue:undefined,rejectionReason:undefined};if(this.isFulfilled()){ret.fulfillmentValue=this.value();ret.isFulfilled=true;}else{if(this.isRejected()){ret.rejectionReason=this.reason();ret.isRejected=true;}}return ret;};_c4f.prototype.all=function(){return new _c58(this).promise();};_c4f.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn);};_c4f.is=function(val){return val instanceof _c4f;};_c4f.fromNode=function(fn){var ret=new _c4f(_c54);var _c6d=_c60(fn)(_c5e(ret));if(_c6d===_c5f){ret._rejectCallback(_c6d.e,true,true);}return ret;};_c4f.all=function(_c6e){return new _c58(_c6e).promise();};_c4f.defer=_c4f.pending=function(){var _c6f=new _c4f(_c54);return new _c5d(_c6f);};_c4f.cast=function(obj){var ret=_c57(obj);if(!(ret instanceof _c4f)){var val=ret;ret=new _c4f(_c54);ret._fulfillUnchecked(val);}return ret;};_c4f.resolve=_c4f.fulfilled=_c4f.cast;_c4f.reject=_c4f.rejected=function(_c70){var ret=new _c4f(_c54);ret._captureStackTrace();ret._rejectCallback(_c70,true);return ret;};_c4f.setScheduler=function(fn){if(typeof fn!=="function"){throw new _c4d("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}var prev=_c52._schedule;_c52._schedule=fn;return prev;};_c4f.prototype._then=function(_c71,_c72,_c73,_c74,_c75){var _c76=_c75!==undefined;var ret=_c76?_c75:new _c4f(_c54);if(!_c76){ret._propagateFrom(this,4|1);ret._captureStackTrace();}var _c77=this._target();if(_c77!==this){if(_c74===undefined){_c74=this._boundTo;}if(!_c76){ret._setIsMigrated();}}var _c78=_c77._addCallbacks(_c71,_c72,_c73,ret,_c74,_c51());if(_c77._isResolved()&&!_c77._isSettlePromisesQueued()){_c52.invoke(_c77._settlePromiseAtPostResolution,_c77,_c78);}return ret;};_c4f.prototype._settlePromiseAtPostResolution=function(_c79){if(this._isRejectionUnhandled()){this._unsetRejectionIsUnhandled();}this._settlePromiseAt(_c79);};_c4f.prototype._length=function(){return this._bitField&131071;};_c4f.prototype._isFollowingOrFulfilledOrRejected=function(){return (this._bitField&939524096)>0;};_c4f.prototype._isFollowing=function(){return (this._bitField&536870912)===536870912;};_c4f.prototype._setLength=function(len){this._bitField=(this._bitField&-131072)|(len&131071);};_c4f.prototype._setFulfilled=function(){this._bitField=this._bitField|268435456;};_c4f.prototype._setRejected=function(){this._bitField=this._bitField|134217728;};_c4f.prototype._setFollowing=function(){this._bitField=this._bitField|536870912;};_c4f.prototype._setIsFinal=function(){this._bitField=this._bitField|33554432;};_c4f.prototype._isFinal=function(){return (this._bitField&33554432)>0;};_c4f.prototype._cancellable=function(){return (this._bitField&67108864)>0;};_c4f.prototype._setCancellable=function(){this._bitField=this._bitField|67108864;};_c4f.prototype._unsetCancellable=function(){this._bitField=this._bitField&(~67108864);};_c4f.prototype._setIsMigrated=function(){this._bitField=this._bitField|4194304;};_c4f.prototype._unsetIsMigrated=function(){this._bitField=this._bitField&(~4194304);};_c4f.prototype._isMigrated=function(){return (this._bitField&4194304)>0;};_c4f.prototype._receiverAt=function(_c7a){var ret=_c7a===0?this._receiver0:this[_c7a*5-5+4];if(ret===undefined&&this._isBound()){return this._boundValue();}return ret;};_c4f.prototype._promiseAt=function(_c7b){return _c7b===0?this._promise0:this[_c7b*5-5+3];};_c4f.prototype._fulfillmentHandlerAt=function(_c7c){return _c7c===0?this._fulfillmentHandler0:this[_c7c*5-5+0];};_c4f.prototype._rejectionHandlerAt=function(_c7d){return _c7d===0?this._rejectionHandler0:this[_c7d*5-5+1];};_c4f.prototype._boundValue=function(){var ret=this._boundTo;if(ret!==undefined){if(ret instanceof _c4f){if(ret.isFulfilled()){return ret.value();}else{return undefined;}}}return ret;};_c4f.prototype._migrateCallbacks=function(_c7e,_c7f){var _c80=_c7e._fulfillmentHandlerAt(_c7f);var _c81=_c7e._rejectionHandlerAt(_c7f);var _c82=_c7e._progressHandlerAt(_c7f);var _c83=_c7e._promiseAt(_c7f);var _c84=_c7e._receiverAt(_c7f);if(_c83 instanceof _c4f){_c83._setIsMigrated();}this._addCallbacks(_c80,_c81,_c82,_c83,_c84,null);};_c4f.prototype._addCallbacks=function(_c85,_c86,_c87,_c88,_c89,_c8a){var _c8b=this._length();if(_c8b>=131071-5){_c8b=0;this._setLength(0);}if(_c8b===0){this._promise0=_c88;if(_c89!==undefined){this._receiver0=_c89;}if(typeof _c85==="function"&&!this._isCarryingStackTrace()){this._fulfillmentHandler0=_c8a===null?_c85:_c8a.bind(_c85);}if(typeof _c86==="function"){this._rejectionHandler0=_c8a===null?_c86:_c8a.bind(_c86);}if(typeof _c87==="function"){this._progressHandler0=_c8a===null?_c87:_c8a.bind(_c87);}}else{var base=_c8b*5-5;this[base+3]=_c88;this[base+4]=_c89;if(typeof _c85==="function"){this[base+0]=_c8a===null?_c85:_c8a.bind(_c85);}if(typeof _c86==="function"){this[base+1]=_c8a===null?_c86:_c8a.bind(_c86);}if(typeof _c87==="function"){this[base+2]=_c8a===null?_c87:_c8a.bind(_c87);}}this._setLength(_c8b+1);return _c8b;};_c4f.prototype._setProxyHandlers=function(_c8c,_c8d){var _c8e=this._length();if(_c8e>=131071-5){_c8e=0;this._setLength(0);}if(_c8e===0){this._promise0=_c8d;this._receiver0=_c8c;}else{var base=_c8e*5-5;this[base+3]=_c8d;this[base+4]=_c8c;}this._setLength(_c8e+1);};_c4f.prototype._proxyPromiseArray=function(_c8f,_c90){this._setProxyHandlers(_c8f,_c90);};_c4f.prototype._resolveCallback=function(_c91,_c92){if(this._isFollowingOrFulfilledOrRejected()){return;}if(_c91===this){return this._rejectCallback(_c4c(),false,true);}var _c93=_c57(_c91,this);if(!(_c93 instanceof _c4f)){return this._fulfill(_c91);}var _c94=1|(_c92?4:0);this._propagateFrom(_c93,_c94);var _c95=_c93._target();if(_c95._isPending()){var len=this._length();for(var i=0;i<len;++i){_c95._migrateCallbacks(this,i);}this._setFollowing();this._setLength(0);this._setFollowee(_c95);}else{if(_c95._isFulfilled()){this._fulfillUnchecked(_c95._value());}else{this._rejectUnchecked(_c95._reason(),_c95._getCarriedStackTrace());}}};_c4f.prototype._rejectCallback=function(_c96,_c97,_c98){if(!_c98){util.markAsOriginatingFromRejection(_c96);}var _c99=util.ensureErrorObject(_c96);var _c9a=_c99===_c96;this._attachExtraTrace(_c99,_c97?_c9a:false);this._reject(_c96,_c9a?undefined:_c99);};_c4f.prototype._resolveFromResolver=function(_c9b){var _c9c=this;this._captureStackTrace();this._pushContext();var _c9d=true;var r=_c60(_c9b)(function(_c9e){if(_c9c===null){return;}_c9c._resolveCallback(_c9e);_c9c=null;},function(_c9f){if(_c9c===null){return;}_c9c._rejectCallback(_c9f,_c9d);_c9c=null;});_c9d=false;this._popContext();if(r!==undefined&&r===_c5f&&_c9c!==null){_c9c._rejectCallback(r.e,true,true);_c9c=null;}};_c4f.prototype._settlePromiseFromHandler=function(_ca0,_ca1,_ca2,_ca3){if(_ca3._isRejected()){return;}_ca3._pushContext();var x;if(_ca1===_c55&&!this._isRejected()){x=_c60(_ca0).apply(this._boundValue(),_ca2);}else{x=_c60(_ca0).call(_ca1,_ca2);}_ca3._popContext();if(x===_c5f||x===_ca3||x===_c56){var err=x===_ca3?_c4c():x.e;_ca3._rejectCallback(err,false,true);}else{_ca3._resolveCallback(x);}};_c4f.prototype._target=function(){var ret=this;while(ret._isFollowing()){ret=ret._followee();}return ret;};_c4f.prototype._followee=function(){return this._rejectionHandler0;};_c4f.prototype._setFollowee=function(_ca4){this._rejectionHandler0=_ca4;};_c4f.prototype._cleanValues=function(){if(this._cancellable()){this._cancellationParent=undefined;}};_c4f.prototype._propagateFrom=function(_ca5,_ca6){if((_ca6&1)>0&&_ca5._cancellable()){this._setCancellable();this._cancellationParent=_ca5;}if((_ca6&4)>0&&_ca5._isBound()){this._setBoundTo(_ca5._boundTo);}};_c4f.prototype._fulfill=function(_ca7){if(this._isFollowingOrFulfilledOrRejected()){return;}this._fulfillUnchecked(_ca7);};_c4f.prototype._reject=function(_ca8,_ca9){if(this._isFollowingOrFulfilledOrRejected()){return;}this._rejectUnchecked(_ca8,_ca9);};_c4f.prototype._settlePromiseAt=function(_caa){var _cab=this._promiseAt(_caa);var _cac=_cab instanceof _c4f;if(_cac&&_cab._isMigrated()){_cab._unsetIsMigrated();return _c52.invoke(this._settlePromiseAt,this,_caa);}var _cad=this._isFulfilled()?this._fulfillmentHandlerAt(_caa):this._rejectionHandlerAt(_caa);var _cae=this._isCarryingStackTrace()?this._getCarriedStackTrace():undefined;var _caf=this._settledValue;var _cb0=this._receiverAt(_caa);this._clearCallbackDataAtIndex(_caa);if(typeof _cad==="function"){if(!_cac){_cad.call(_cb0,_caf,_cab);}else{this._settlePromiseFromHandler(_cad,_cb0,_caf,_cab);}}else{if(_cb0 instanceof _c58){if(!_cb0._isResolved()){if(this._isFulfilled()){_cb0._promiseFulfilled(_caf,_cab);}else{_cb0._promiseRejected(_caf,_cab);}}}else{if(_cac){if(this._isFulfilled()){_cab._fulfill(_caf);}else{_cab._reject(_caf,_cae);}}}}if(_caa>=4&&(_caa&31)===4){_c52.invokeLater(this._setLength,this,0);}};_c4f.prototype._clearCallbackDataAtIndex=function(_cb1){if(_cb1===0){if(!this._isCarryingStackTrace()){this._fulfillmentHandler0=undefined;}this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=undefined;}else{var base=_cb1*5-5;this[base+3]=this[base+4]=this[base+0]=this[base+1]=this[base+2]=undefined;}};_c4f.prototype._isSettlePromisesQueued=function(){return (this._bitField&-1073741824)===-1073741824;};_c4f.prototype._setSettlePromisesQueued=function(){this._bitField=this._bitField|-1073741824;};_c4f.prototype._unsetSettlePromisesQueued=function(){this._bitField=this._bitField&(~-1073741824);};_c4f.prototype._queueSettlePromises=function(){_c52.settlePromises(this);this._setSettlePromisesQueued();};_c4f.prototype._fulfillUnchecked=function(_cb2){if(_cb2===this){var err=_c4c();this._attachExtraTrace(err);return this._rejectUnchecked(err,undefined);}this._setFulfilled();this._settledValue=_cb2;this._cleanValues();if(this._length()>0){this._queueSettlePromises();}};_c4f.prototype._rejectUncheckedCheckError=function(_cb3){var _cb4=util.ensureErrorObject(_cb3);this._rejectUnchecked(_cb3,_cb4===_cb3?undefined:_cb4);};_c4f.prototype._rejectUnchecked=function(_cb5,_cb6){if(_cb5===this){var err=_c4c();this._attachExtraTrace(err);return this._rejectUnchecked(err);}this._setRejected();this._settledValue=_cb5;this._cleanValues();if(this._isFinal()){_c52.throwLater(function(e){if("stack" in e){_c52.invokeFirst(_c59.unhandledRejection,undefined,e);}throw e;},_cb6===undefined?_cb5:_cb6);return;}if(_cb6!==undefined&&_cb6!==_cb5){this._setCarriedStackTrace(_cb6);}if(this._length()>0){this._queueSettlePromises();}else{this._ensurePossibleRejectionHandled();}};_c4f.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();var len=this._length();for(var i=0;i<len;i++){this._settlePromiseAt(i);}};util.notEnumerableProp(_c4f,"_makeSelfResolutionError",_c4c);_c49("./progress.js")(_c4f,_c58);_c49("./method.js")(_c4f,_c54,_c57,_c50);_c49("./bind.js")(_c4f,_c54,_c57);_c49("./finally.js")(_c4f,_c56,_c57);_c49("./direct_resolve.js")(_c4f);_c49("./synchronous_inspection.js")(_c4f);_c49("./join.js")(_c4f,_c58,_c57,_c54);_c4f.Promise=_c4f;_c49("./map.js")(_c4f,_c58,_c50,_c57,_c54);_c49("./cancel.js")(_c4f);_c49("./using.js")(_c4f,_c50,_c57,_c5b);_c49("./generators.js")(_c4f,_c50,_c54,_c57);_c49("./nodeify.js")(_c4f);_c49("./call_get.js")(_c4f);_c49("./props.js")(_c4f,_c58,_c57,_c50);_c49("./race.js")(_c4f,_c54,_c57,_c50);_c49("./reduce.js")(_c4f,_c58,_c50,_c57,_c54);_c49("./settle.js")(_c4f,_c58);_c49("./some.js")(_c4f,_c58,_c50);_c49("./promisify.js")(_c4f,_c54);_c49("./any.js")(_c4f);_c49("./each.js")(_c4f,_c54);_c49("./timers.js")(_c4f,_c54);_c49("./filter.js")(_c4f,_c54);util.toFastProperties(_c4f);util.toFastProperties(_c4f.prototype);function _cb7(_cb8){var p=new _c4f(_c54);p._fulfillmentHandler0=_cb8;p._rejectionHandler0=_cb8;p._progressHandler0=_cb8;p._promise0=_cb8;p._receiver0=_cb8;p._settledValue=_cb8;};_cb7({a:1});_cb7({b:2});_cb7({c:3});_cb7(1);_cb7(function(){});_cb7(undefined);_cb7(false);_cb7(new _c4f(_c54));_c59.setBounds(_c52.firstLineError,util.lastLineError);return _c4f;};},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(_cb9,_cba,_cbb){"use strict";_cba.exports=function(_cbc,_cbd,_cbe,_cbf){var util=_cb9("./util.js");var _cc0=util.isArray;function _cc1(val){switch(val){case -2:return [];case -3:return {};}};function _cc2(_cc3){var _cc4=this._promise=new _cbc(_cbd);var _cc5;if(_cc3 instanceof _cbc){_cc5=_cc3;_cc4._propagateFrom(_cc5,1|4);}this._values=_cc3;this._length=0;this._totalResolved=0;this._init(undefined,-2);};_cc2.prototype.length=function(){return this._length;};_cc2.prototype.promise=function(){return this._promise;};_cc2.prototype._init=function init(_cc6,_cc7){var _cc8=_cbe(this._values,this._promise);if(_cc8 instanceof _cbc){_cc8=_cc8._target();this._values=_cc8;if(_cc8._isFulfilled()){_cc8=_cc8._value();if(!_cc0(_cc8)){var err=new _cbc.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");this.__hardReject__(err);return;}}else{if(_cc8._isPending()){_cc8._then(init,this._reject,undefined,this,_cc7);return;}else{this._reject(_cc8._reason());return;}}}else{if(!_cc0(_cc8)){this._promise._reject(_cbf("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());return;}}if(_cc8.length===0){if(_cc7===-5){this._resolveEmptyArray();}else{this._resolve(_cc1(_cc7));}return;}var len=this.getActualLength(_cc8.length);this._length=len;this._values=this.shouldCopyValues()?new Array(len):this._values;var _cc9=this._promise;for(var i=0;i<len;++i){var _cca=this._isResolved();var _ccb=_cbe(_cc8[i],_cc9);if(_ccb instanceof _cbc){_ccb=_ccb._target();if(_cca){_ccb._ignoreRejections();}else{if(_ccb._isPending()){_ccb._proxyPromiseArray(this,i);}else{if(_ccb._isFulfilled()){this._promiseFulfilled(_ccb._value(),i);}else{this._promiseRejected(_ccb._reason(),i);}}}}else{if(!_cca){this._promiseFulfilled(_ccb,i);}}}};_cc2.prototype._isResolved=function(){return this._values===null;};_cc2.prototype._resolve=function(_ccc){this._values=null;this._promise._fulfill(_ccc);};_cc2.prototype.__hardReject__=_cc2.prototype._reject=function(_ccd){this._values=null;this._promise._rejectCallback(_ccd,false,true);};_cc2.prototype._promiseProgressed=function(_cce,_ccf){this._promise._progress({index:_ccf,value:_cce});};_cc2.prototype._promiseFulfilled=function(_cd0,_cd1){this._values[_cd1]=_cd0;var _cd2=++this._totalResolved;if(_cd2>=this._length){this._resolve(this._values);}};_cc2.prototype._promiseRejected=function(_cd3,_cd4){this._totalResolved++;this._reject(_cd3);};_cc2.prototype.shouldCopyValues=function(){return true;};_cc2.prototype.getActualLength=function(len){return len;};return _cc2;};},{"./util.js":38}],25:[function(_cd5,_cd6,_cd7){"use strict";var util=_cd5("./util.js");var _cd8=util.maybeWrapAsError;var _cd9=_cd5("./errors.js");var _cda=_cd9.TimeoutError;var _cdb=_cd9.OperationalError;var _cdc=util.haveGetters;var es5=_cd5("./es5.js");function _cdd(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype;};var _cde=/^(?:name|message|stack|cause)$/;function _cdf(obj){var ret;if(_cdd(obj)){ret=new _cdb(obj);ret.name=obj.name;ret.message=obj.message;ret.stack=obj.stack;var keys=es5.keys(obj);for(var i=0;i<keys.length;++i){var key=keys[i];if(!_cde.test(key)){ret[key]=obj[key];}}return ret;}util.markAsOriginatingFromRejection(obj);return obj;};function _ce0(_ce1){return function(err,_ce2){if(_ce1===null){return;}if(err){var _ce3=_cdf(_cd8(err));_ce1._attachExtraTrace(_ce3);_ce1._reject(_ce3);}else{if(arguments.length>2){var _ce4=arguments.length;var args=new Array(_ce4-1);for(var $_i=1;$_i<_ce4;++$_i){args[$_i-1]=arguments[$_i];}_ce1._fulfill(args);}else{_ce1._fulfill(_ce2);}}_ce1=null;};};var _ce5;if(!_cdc){_ce5=function(_ce6){this.promise=_ce6;this.asCallback=_ce0(_ce6);this.callback=this.asCallback;};}else{_ce5=function(_ce7){this.promise=_ce7;};}if(_cdc){var prop={get:function(){return _ce0(this.promise);}};es5.defineProperty(_ce5.prototype,"asCallback",prop);es5.defineProperty(_ce5.prototype,"callback",prop);}_ce5._nodebackForPromise=_ce0;_ce5.prototype.toString=function(){return "[object PromiseResolver]";};_ce5.prototype.resolve=_ce5.prototype.fulfill=function(_ce8){if(!(this instanceof _ce5)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");}this.promise._resolveCallback(_ce8);};_ce5.prototype.reject=function(_ce9){if(!(this instanceof _ce5)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");}this.promise._rejectCallback(_ce9);};_ce5.prototype.progress=function(_cea){if(!(this instanceof _ce5)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");}this.promise._progress(_cea);};_ce5.prototype.cancel=function(err){this.promise.cancel(err);};_ce5.prototype.timeout=function(){this.reject(new _cda("timeout"));};_ce5.prototype.isResolved=function(){return this.promise.isResolved();};_ce5.prototype.toJSON=function(){return this.promise.toJSON();};_cd6.exports=_ce5;},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(_ceb,_cec,_ced){"use strict";_cec.exports=function(_cee,_cef){var THIS={};var util=_ceb("./util.js");var _cf0=_ceb("./promise_resolver.js")._nodebackForPromise;var _cf1=util.withAppended;var _cf2=util.maybeWrapAsError;var _cf3=util.canEvaluate;var _cf4=_ceb("./errors").TypeError;var _cf5="Async";var _cf6={__isPromisified__:true};var _cf7=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"];var _cf8=new RegExp("^(?:"+_cf7.join("|")+")$");var _cf9=function(name){return util.isIdentifier(name)&&name.charAt(0)!=="_"&&name!=="constructor";};function _cfa(key){return !_cf8.test(key);};function _cfb(fn){try{return fn.__isPromisified__===true;}catch(e){return false;}};function _cfc(obj,key,_cfd){var val=util.getDataPropertyOrDefault(obj,key+_cfd,_cf6);return val?_cfb(val):false;};function _cfe(ret,_cff,_d00){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(_d00.test(key)){var _d01=key.replace(_d00,"");for(var j=0;j<ret.length;j+=2){if(ret[j]===_d01){throw new _cf4("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",_cff));}}}}};function _d02(obj,_d03,_d04,_d05){var keys=util.inheritedDataKeys(obj);var ret=[];for(var i=0;i<keys.length;++i){var key=keys[i];var _d06=obj[key];var _d07=_d05===_cf9?true:_cf9(key,_d06,obj);if(typeof _d06==="function"&&!_cfb(_d06)&&!_cfc(obj,key,_d03)&&_d05(key,_d06,obj,_d07)){ret.push(key,_d06);}}_cfe(ret,_d03,_d04);return ret;};var _d08=function(str){return str.replace(/([$])/,"\\$");};var _d09;if(!true){var _d0a=function(_d0b){var ret=[_d0b];var min=Math.max(0,_d0b-1-3);for(var i=_d0b-1;i>=min;--i){ret.push(i);}for(var i=_d0b+1;i<=3;++i){ret.push(i);}return ret;};var _d0c=function(_d0d){return util.filledRange(_d0d,"_arg","");};var _d0e=function(_d0f){return util.filledRange(Math.max(_d0f,3),"_arg","");};var _d10=function(fn){if(typeof fn.length==="number"){return Math.max(Math.min(fn.length,1023+1),0);}return 0;};_d09=function(_d11,_d12,_d13,fn){var _d14=Math.max(0,_d10(fn)-1);var _d15=_d0a(_d14);var _d16=typeof _d11==="string"||_d12===THIS;function _d17(_d18){var args=_d0c(_d18).join(", ");var _d19=_d18>0?", ":"";var ret;if(_d16){ret="ret = callback.call(this, {{args}}, nodeback); break;\n";}else{ret=_d12===undefined?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n";}return ret.replace("{{args}}",args).replace(", ",_d19);};function _d1a(){var ret="";for(var i=0;i<_d15.length;++i){ret+="case "+_d15[i]+":"+_d17(_d15[i]);}ret+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",(_d16?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n"));return ret;};var _d1b=typeof _d11==="string"?("this != null ? this['"+_d11+"'] : fn"):"fn";return new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL","'use strict';                            \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise);                      \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n        ".replace("Parameters",_d0e(_d14)).replace("[CodeForSwitchCase]",_d1a()).replace("[GetFunctionCode]",_d1b))(_cee,fn,_d12,_cf1,_cf2,_cf0,util.tryCatch,util.errorObj,util.notEnumerableProp,_cef);};}function _d1c(_d1d,_d1e,_d1f,fn){var _d20=(function(){return this;})();var _d21=_d1d;if(typeof _d21==="string"){_d1d=fn;}function _d22(){var _d23=_d1e;if(_d1e===THIS){_d23=this;}var _d24=new _cee(_cef);_d24._captureStackTrace();var cb=typeof _d21==="string"&&this!==_d20?this[_d21]:_d1d;var fn=_cf0(_d24);try{cb.apply(_d23,_cf1(arguments,fn));}catch(e){_d24._rejectCallback(_cf2(e),true,true);}return _d24;};util.notEnumerableProp(_d22,"__isPromisified__",true);return _d22;};var _d25=_cf3?_d09:_d1c;function _d26(obj,_d27,_d28,_d29){var _d2a=new RegExp(_d08(_d27)+"$");var _d2b=_d02(obj,_d27,_d2a,_d28);for(var i=0,len=_d2b.length;i<len;i+=2){var key=_d2b[i];var fn=_d2b[i+1];var _d2c=key+_d27;obj[_d2c]=_d29===_d25?_d25(key,THIS,key,fn,_d27):_d29(fn,function(){return _d25(key,THIS,key,fn,_d27);});}util.toFastProperties(obj);return obj;};function _d2d(_d2e,_d2f){return _d25(_d2e,_d2f,undefined,_d2e);};_cee.promisify=function(fn,_d30){if(typeof fn!=="function"){throw new _cf4("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}if(_cfb(fn)){return fn;}var ret=_d2d(fn,arguments.length<2?THIS:_d30);util.copyDescriptors(fn,ret,_cfa);return ret;};_cee.promisifyAll=function(_d31,_d32){if(typeof _d31!=="function"&&typeof _d31!=="object"){throw new _cf4("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");}_d32=Object(_d32);var _d33=_d32.suffix;if(typeof _d33!=="string"){_d33=_cf5;}var _d34=_d32.filter;if(typeof _d34!=="function"){_d34=_cf9;}var _d35=_d32.promisifier;if(typeof _d35!=="function"){_d35=_d25;}if(!util.isIdentifier(_d33)){throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");}var keys=util.inheritedDataKeys(_d31);for(var i=0;i<keys.length;++i){var _d36=_d31[keys[i]];if(keys[i]!=="constructor"&&util.isClass(_d36)){_d26(_d36.prototype,_d33,_d34,_d35);_d26(_d36,_d33,_d34,_d35);}}return _d26(_d31,_d33,_d34,_d35);};};},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(_d37,_d38,_d39){"use strict";_d38.exports=function(_d3a,_d3b,_d3c,_d3d){var util=_d37("./util.js");var _d3e=util.isObject;var es5=_d37("./es5.js");function _d3f(obj){var keys=es5.keys(obj);var len=keys.length;var _d40=new Array(len*2);for(var i=0;i<len;++i){var key=keys[i];_d40[i]=obj[key];_d40[i+len]=key;}this.constructor$(_d40);};util.inherits(_d3f,_d3b);_d3f.prototype._init=function(){this._init$(undefined,-3);};_d3f.prototype._promiseFulfilled=function(_d41,_d42){this._values[_d42]=_d41;var _d43=++this._totalResolved;if(_d43>=this._length){var val={};var _d44=this.length();for(var i=0,len=this.length();i<len;++i){val[this._values[i+_d44]]=this._values[i];}this._resolve(val);}};_d3f.prototype._promiseProgressed=function(_d45,_d46){this._promise._progress({key:this._values[_d46+this.length()],value:_d45});};_d3f.prototype.shouldCopyValues=function(){return false;};_d3f.prototype.getActualLength=function(len){return len>>1;};function _d47(_d48){var ret;var _d49=_d3c(_d48);if(!_d3e(_d49)){return _d3d("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n");}else{if(_d49 instanceof _d3a){ret=_d49._then(_d3a.props,undefined,undefined,undefined,undefined);}else{ret=new _d3f(_d49).promise();}}if(_d49 instanceof _d3a){ret._propagateFrom(_d49,4);}return ret;};_d3a.prototype.props=function(){return _d47(this);};_d3a.props=function(_d4a){return _d47(_d4a);};};},{"./es5.js":14,"./util.js":38}],28:[function(_d4b,_d4c,_d4d){"use strict";function _d4e(src,_d4f,dst,_d50,len){for(var j=0;j<len;++j){dst[j+_d50]=src[j+_d4f];src[j+_d4f]=void 0;}};function _d51(_d52){this._capacity=_d52;this._length=0;this._front=0;};_d51.prototype._willBeOverCapacity=function(size){return this._capacity<size;};_d51.prototype._pushOne=function(arg){var _d53=this.length();this._checkCapacity(_d53+1);var i=(this._front+_d53)&(this._capacity-1);this[i]=arg;this._length=_d53+1;};_d51.prototype._unshiftOne=function(_d54){var _d55=this._capacity;this._checkCapacity(this.length()+1);var _d56=this._front;var i=((((_d56-1)&(_d55-1))^_d55)-_d55);this[i]=_d54;this._front=i;this._length=this.length()+1;};_d51.prototype.unshift=function(fn,_d57,arg){this._unshiftOne(arg);this._unshiftOne(_d57);this._unshiftOne(fn);};_d51.prototype.push=function(fn,_d58,arg){var _d59=this.length()+3;if(this._willBeOverCapacity(_d59)){this._pushOne(fn);this._pushOne(_d58);this._pushOne(arg);return;}var j=this._front+_d59-3;this._checkCapacity(_d59);var _d5a=this._capacity-1;this[(j+0)&_d5a]=fn;this[(j+1)&_d5a]=_d58;this[(j+2)&_d5a]=arg;this._length=_d59;};_d51.prototype.shift=function(){var _d5b=this._front,ret=this[_d5b];this[_d5b]=undefined;this._front=(_d5b+1)&(this._capacity-1);this._length--;return ret;};_d51.prototype.length=function(){return this._length;};_d51.prototype._checkCapacity=function(size){if(this._capacity<size){this._resizeTo(this._capacity<<1);}};_d51.prototype._resizeTo=function(_d5c){var _d5d=this._capacity;this._capacity=_d5c;var _d5e=this._front;var _d5f=this._length;var _d60=(_d5e+_d5f)&(_d5d-1);_d4e(this,0,this,_d5d,_d60);};_d4c.exports=_d51;},{}],29:[function(_d61,_d62,_d63){"use strict";_d62.exports=function(_d64,_d65,_d66,_d67){var _d68=_d61("./util.js").isArray;var _d69=function(_d6a){return _d6a.then(function(_d6b){return race(_d6b,_d6a);});};function race(_d6c,_d6d){var _d6e=_d66(_d6c);if(_d6e instanceof _d64){return _d69(_d6e);}else{if(!_d68(_d6c)){return _d67("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");}}var ret=new _d64(_d65);if(_d6d!==undefined){ret._propagateFrom(_d6d,4|1);}var _d6f=ret._fulfill;var _d70=ret._reject;for(var i=0,len=_d6c.length;i<len;++i){var val=_d6c[i];if(val===undefined&&!(i in _d6c)){continue;}_d64.cast(val)._then(_d6f,_d70,undefined,ret,null);}return ret;};_d64.race=function(_d71){return race(_d71,undefined);};_d64.prototype.race=function(){return race(this,undefined);};};},{"./util.js":38}],30:[function(_d72,_d73,_d74){"use strict";_d73.exports=function(_d75,_d76,_d77,_d78,_d79){var _d7a=_d75._getDomain;var _d7b=_d72("./async.js");var util=_d72("./util.js");var _d7c=util.tryCatch;var _d7d=util.errorObj;function _d7e(_d7f,fn,_d80,_d81){this.constructor$(_d7f);this._promise._captureStackTrace();this._preservedValues=_d81===_d79?[]:null;this._zerothIsAccum=(_d80===undefined);this._gotAccum=false;this._reducingIndex=(this._zerothIsAccum?1:0);this._valuesPhase=undefined;var _d82=_d78(_d80,this._promise);var _d83=false;var _d84=_d82 instanceof _d75;if(_d84){_d82=_d82._target();if(_d82._isPending()){_d82._proxyPromiseArray(this,-1);}else{if(_d82._isFulfilled()){_d80=_d82._value();this._gotAccum=true;}else{this._reject(_d82._reason());_d83=true;}}}if(!(_d84||this._zerothIsAccum)){this._gotAccum=true;}var _d85=_d7a();this._callback=_d85===null?fn:_d85.bind(fn);this._accum=_d80;if(!_d83){_d7b.invoke(init,this,undefined);}};function init(){this._init$(undefined,-5);};util.inherits(_d7e,_d76);_d7e.prototype._init=function(){};_d7e.prototype._resolveEmptyArray=function(){if(this._gotAccum||this._zerothIsAccum){this._resolve(this._preservedValues!==null?[]:this._accum);}};_d7e.prototype._promiseFulfilled=function(_d86,_d87){var _d88=this._values;_d88[_d87]=_d86;var _d89=this.length();var _d8a=this._preservedValues;var _d8b=_d8a!==null;var _d8c=this._gotAccum;var _d8d=this._valuesPhase;var _d8e;if(!_d8d){_d8d=this._valuesPhase=new Array(_d89);for(_d8e=0;_d8e<_d89;++_d8e){_d8d[_d8e]=0;}}_d8e=_d8d[_d87];if(_d87===0&&this._zerothIsAccum){this._accum=_d86;this._gotAccum=_d8c=true;_d8d[_d87]=((_d8e===0)?1:2);}else{if(_d87===-1){this._accum=_d86;this._gotAccum=_d8c=true;}else{if(_d8e===0){_d8d[_d87]=1;}else{_d8d[_d87]=2;this._accum=_d86;}}}if(!_d8c){return;}var _d8f=this._callback;var _d90=this._promise._boundValue();var ret;for(var i=this._reducingIndex;i<_d89;++i){_d8e=_d8d[i];if(_d8e===2){this._reducingIndex=i+1;continue;}if(_d8e!==1){return;}_d86=_d88[i];this._promise._pushContext();if(_d8b){_d8a.push(_d86);ret=_d7c(_d8f).call(_d90,_d86,i,_d89);}else{ret=_d7c(_d8f).call(_d90,this._accum,_d86,i,_d89);}this._promise._popContext();if(ret===_d7d){return this._reject(ret.e);}var _d91=_d78(ret,this._promise);if(_d91 instanceof _d75){_d91=_d91._target();if(_d91._isPending()){_d8d[i]=4;return _d91._proxyPromiseArray(this,i);}else{if(_d91._isFulfilled()){ret=_d91._value();}else{return this._reject(_d91._reason());}}}this._reducingIndex=i+1;this._accum=ret;}this._resolve(_d8b?_d8a:this._accum);};function _d92(_d93,fn,_d94,_d95){if(typeof fn!=="function"){return _d77("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}var _d96=new _d7e(_d93,fn,_d94,_d95);return _d96.promise();};_d75.prototype.reduce=function(fn,_d97){return _d92(this,fn,_d97,null);};_d75.reduce=function(_d98,fn,_d99,_d9a){return _d92(_d98,fn,_d99,_d9a);};};},{"./async.js":2,"./util.js":38}],31:[function(_d9b,_d9c,_d9d){"use strict";var _d9e;var util=_d9b("./util");var _d9f=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n");};if(util.isNode&&typeof MutationObserver==="undefined"){var _da0=global.setImmediate;var _da1=process.nextTick;_d9e=util.isRecentNode?function(fn){_da0.call(global,fn);}:function(fn){_da1.call(process,fn);};}else{if((typeof MutationObserver!=="undefined")&&!(typeof window!=="undefined"&&window.navigator&&window.navigator.standalone)){_d9e=function(fn){var div=document.createElement("div");var _da2=new MutationObserver(fn);_da2.observe(div,{attributes:true});return function(){div.classList.toggle("foo");};};_d9e.isStatic=true;}else{if(typeof setImmediate!=="undefined"){_d9e=function(fn){setImmediate(fn);};}else{if(typeof setTimeout!=="undefined"){_d9e=function(fn){setTimeout(fn,0);};}else{_d9e=_d9f;}}}}_d9c.exports=_d9e;},{"./util":38}],32:[function(_da3,_da4,_da5){"use strict";_da4.exports=function(_da6,_da7){var _da8=_da6.PromiseInspection;var util=_da3("./util.js");function _da9(_daa){this.constructor$(_daa);};util.inherits(_da9,_da7);_da9.prototype._promiseResolved=function(_dab,_dac){this._values[_dab]=_dac;var _dad=++this._totalResolved;if(_dad>=this._length){this._resolve(this._values);}};_da9.prototype._promiseFulfilled=function(_dae,_daf){var ret=new _da8();ret._bitField=268435456;ret._settledValue=_dae;this._promiseResolved(_daf,ret);};_da9.prototype._promiseRejected=function(_db0,_db1){var ret=new _da8();ret._bitField=134217728;ret._settledValue=_db0;this._promiseResolved(_db1,ret);};_da6.settle=function(_db2){return new _da9(_db2).promise();};_da6.prototype.settle=function(){return new _da9(this).promise();};};},{"./util.js":38}],33:[function(_db3,_db4,_db5){"use strict";_db4.exports=function(_db6,_db7,_db8){var util=_db3("./util.js");var _db9=_db3("./errors.js").RangeError;var _dba=_db3("./errors.js").AggregateError;var _dbb=util.isArray;function _dbc(_dbd){this.constructor$(_dbd);this._howMany=0;this._unwrap=false;this._initialized=false;};util.inherits(_dbc,_db7);_dbc.prototype._init=function(){if(!this._initialized){return;}if(this._howMany===0){this._resolve([]);return;}this._init$(undefined,-5);var _dbe=_dbb(this._values);if(!this._isResolved()&&_dbe&&this._howMany>this._canPossiblyFulfill()){this._reject(this._getRangeError(this.length()));}};_dbc.prototype.init=function(){this._initialized=true;this._init();};_dbc.prototype.setUnwrap=function(){this._unwrap=true;};_dbc.prototype.howMany=function(){return this._howMany;};_dbc.prototype.setHowMany=function(_dbf){this._howMany=_dbf;};_dbc.prototype._promiseFulfilled=function(_dc0){this._addFulfilled(_dc0);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();if(this.howMany()===1&&this._unwrap){this._resolve(this._values[0]);}else{this._resolve(this._values);}}};_dbc.prototype._promiseRejected=function(_dc1){this._addRejected(_dc1);if(this.howMany()>this._canPossiblyFulfill()){var e=new _dba();for(var i=this.length();i<this._values.length;++i){e.push(this._values[i]);}this._reject(e);}};_dbc.prototype._fulfilled=function(){return this._totalResolved;};_dbc.prototype._rejected=function(){return this._values.length-this.length();};_dbc.prototype._addRejected=function(_dc2){this._values.push(_dc2);};_dbc.prototype._addFulfilled=function(_dc3){this._values[this._totalResolved++]=_dc3;};_dbc.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected();};_dbc.prototype._getRangeError=function(_dc4){var _dc5="Input array must contain at least "+this._howMany+" items but contains only "+_dc4+" items";return new _db9(_dc5);};_dbc.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0));};function some(_dc6,_dc7){if((_dc7|0)!==_dc7||_dc7<0){return _db8("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");}var ret=new _dbc(_dc6);var _dc8=ret.promise();ret.setHowMany(_dc7);ret.init();return _dc8;};_db6.some=function(_dc9,_dca){return some(_dc9,_dca);};_db6.prototype.some=function(_dcb){return some(this,_dcb);};_db6._SomePromiseArray=_dbc;};},{"./errors.js":13,"./util.js":38}],34:[function(_dcc,_dcd,_dce){"use strict";_dcd.exports=function(_dcf){function _dd0(_dd1){if(_dd1!==undefined){_dd1=_dd1._target();this._bitField=_dd1._bitField;this._settledValue=_dd1._settledValue;}else{this._bitField=0;this._settledValue=undefined;}};_dd0.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");}return this._settledValue;};_dd0.prototype.error=_dd0.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");}return this._settledValue;};_dd0.prototype.isFulfilled=_dcf.prototype._isFulfilled=function(){return (this._bitField&268435456)>0;};_dd0.prototype.isRejected=_dcf.prototype._isRejected=function(){return (this._bitField&134217728)>0;};_dd0.prototype.isPending=_dcf.prototype._isPending=function(){return (this._bitField&402653184)===0;};_dd0.prototype.isResolved=_dcf.prototype._isResolved=function(){return (this._bitField&402653184)>0;};_dcf.prototype.isPending=function(){return this._target()._isPending();};_dcf.prototype.isRejected=function(){return this._target()._isRejected();};_dcf.prototype.isFulfilled=function(){return this._target()._isFulfilled();};_dcf.prototype.isResolved=function(){return this._target()._isResolved();};_dcf.prototype._value=function(){return this._settledValue;};_dcf.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue;};_dcf.prototype.value=function(){var _dd2=this._target();if(!_dd2.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");}return _dd2._settledValue;};_dcf.prototype.reason=function(){var _dd3=this._target();if(!_dd3.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");}_dd3._unsetRejectionIsUnhandled();return _dd3._settledValue;};_dcf.PromiseInspection=_dd0;};},{}],35:[function(_dd4,_dd5,_dd6){"use strict";_dd5.exports=function(_dd7,_dd8){var util=_dd4("./util.js");var _dd9=util.errorObj;var _dda=util.isObject;function _ddb(obj,_ddc){if(_dda(obj)){if(obj instanceof _dd7){return obj;}else{if(_ddd(obj)){var ret=new _dd7(_dd8);obj._then(ret._fulfillUnchecked,ret._rejectUncheckedCheckError,ret._progressUnchecked,ret,null);return ret;}}var then=util.tryCatch(_dde)(obj);if(then===_dd9){if(_ddc){_ddc._pushContext();}var ret=_dd7.reject(then.e);if(_ddc){_ddc._popContext();}return ret;}else{if(typeof then==="function"){return _ddf(obj,then,_ddc);}}}return obj;};function _dde(obj){return obj.then;};var _de0={}.hasOwnProperty;function _ddd(obj){return _de0.call(obj,"_promise0");};function _ddf(x,then,_de1){var _de2=new _dd7(_dd8);var ret=_de2;if(_de1){_de1._pushContext();}_de2._captureStackTrace();if(_de1){_de1._popContext();}var _de3=true;var _de4=util.tryCatch(then).call(x,_de5,_de6,_de7);_de3=false;if(_de2&&_de4===_dd9){_de2._rejectCallback(_de4.e,true,true);_de2=null;}function _de5(_de8){if(!_de2){return;}_de2._resolveCallback(_de8);_de2=null;};function _de6(_de9){if(!_de2){return;}_de2._rejectCallback(_de9,_de3,true);_de2=null;};function _de7(_dea){if(!_de2){return;}if(typeof _de2._progress==="function"){_de2._progress(_dea);}};return ret;};return _ddb;};},{"./util.js":38}],36:[function(_deb,_dec,_ded){"use strict";_dec.exports=function(_dee,_def){var util=_deb("./util.js");var _df0=_dee.TimeoutError;var _df1=function(_df2,_df3){if(!_df2.isPending()){return;}if(typeof _df3!=="string"){_df3="operation timed out";}var err=new _df0(_df3);util.markAsOriginatingFromRejection(err);_df2._attachExtraTrace(err);_df2._cancel(err);};var _df4=function(_df5){return _df6(+this).thenReturn(_df5);};var _df6=_dee.delay=function(_df7,ms){if(ms===undefined){ms=_df7;_df7=undefined;var ret=new _dee(_def);setTimeout(function(){ret._fulfill();},ms);return ret;}ms=+ms;return _dee.resolve(_df7)._then(_df4,null,null,ms,undefined);};_dee.prototype.delay=function(ms){return _df6(this,ms);};function _df8(_df9){var _dfa=this;if(_dfa instanceof Number){_dfa=+_dfa;}clearTimeout(_dfa);return _df9;};function _dfb(_dfc){var _dfd=this;if(_dfd instanceof Number){_dfd=+_dfd;}clearTimeout(_dfd);throw _dfc;};_dee.prototype.timeout=function(ms,_dfe){ms=+ms;var ret=this.then().cancellable();ret._cancellationParent=this;var _dff=setTimeout(function timeoutTimeout(){_df1(ret,_dfe);},ms);return ret._then(_df8,_dfb,undefined,_dff,undefined);};};},{"./util.js":38}],37:[function(_e00,_e01,_e02){"use strict";_e01.exports=function(_e03,_e04,_e05,_e06){var _e07=_e00("./errors.js").TypeError;var _e08=_e00("./util.js").inherits;var _e09=_e03.PromiseInspection;function _e0a(_e0b){var len=_e0b.length;for(var i=0;i<len;++i){var _e0c=_e0b[i];if(_e0c.isRejected()){return _e03.reject(_e0c.error());}_e0b[i]=_e0c._settledValue;}return _e0b;};function _e0d(e){setTimeout(function(){throw e;},0);};function _e0e(_e0f){var _e10=_e05(_e0f);if(_e10!==_e0f&&typeof _e0f._isDisposable==="function"&&typeof _e0f._getDisposer==="function"&&_e0f._isDisposable()){_e10._setDisposable(_e0f._getDisposer());}return _e10;};function _e11(_e12,_e13){var i=0;var len=_e12.length;var ret=_e03.defer();function _e14(){if(i>=len){return ret.resolve();}var _e15=_e0e(_e12[i++]);if(_e15 instanceof _e03&&_e15._isDisposable()){try{_e15=_e05(_e15._getDisposer().tryDispose(_e13),_e12.promise);}catch(e){return _e0d(e);}if(_e15 instanceof _e03){return _e15._then(_e14,_e0d,null,null,null);}}_e14();};_e14();return ret.promise;};function _e16(_e17){var _e18=new _e09();_e18._settledValue=_e17;_e18._bitField=268435456;return _e11(this,_e18).thenReturn(_e17);};function _e19(_e1a){var _e1b=new _e09();_e1b._settledValue=_e1a;_e1b._bitField=134217728;return _e11(this,_e1b).thenThrow(_e1a);};function _e1c(data,_e1d,_e1e){this._data=data;this._promise=_e1d;this._context=_e1e;};_e1c.prototype.data=function(){return this._data;};_e1c.prototype.promise=function(){return this._promise;};_e1c.prototype.resource=function(){if(this.promise().isFulfilled()){return this.promise().value();}return null;};_e1c.prototype.tryDispose=function(_e1f){var _e20=this.resource();var _e21=this._context;if(_e21!==undefined){_e21._pushContext();}var ret=_e20!==null?this.doDispose(_e20,_e1f):null;if(_e21!==undefined){_e21._popContext();}this._promise._unsetDisposable();this._data=null;return ret;};_e1c.isDisposer=function(d){return (d!=null&&typeof d.resource==="function"&&typeof d.tryDispose==="function");};function _e22(fn,_e23,_e24){this.constructor$(fn,_e23,_e24);};_e08(_e22,_e1c);_e22.prototype.doDispose=function(_e25,_e26){var fn=this.data();return fn.call(_e25,_e25,_e26);};function _e27(_e28){if(_e1c.isDisposer(_e28)){this.resources[this.index]._setDisposable(_e28);return _e28.promise();}return _e28;};_e03.using=function(){var len=arguments.length;if(len<2){return _e04("you must pass at least 2 arguments to Promise.using");}var fn=arguments[len-1];if(typeof fn!=="function"){return _e04("fn must be a function\n\n    See http://goo.gl/916lJJ\n");}len--;var _e29=new Array(len);for(var i=0;i<len;++i){var _e2a=arguments[i];if(_e1c.isDisposer(_e2a)){var _e2b=_e2a;_e2a=_e2a.promise();_e2a._setDisposable(_e2b);}else{var _e2c=_e05(_e2a);if(_e2c instanceof _e03){_e2a=_e2c._then(_e27,null,null,{resources:_e29,index:i},undefined);}}_e29[i]=_e2a;}var _e2d=_e03.settle(_e29).then(_e0a).then(function(vals){_e2d._pushContext();var ret;try{ret=fn.apply(undefined,vals);}finally{_e2d._popContext();}return ret;})._then(_e16,_e19,undefined,_e29,undefined);_e29.promise=_e2d;return _e2d;};_e03.prototype._setDisposable=function(_e2e){this._bitField=this._bitField|262144;this._disposer=_e2e;};_e03.prototype._isDisposable=function(){return (this._bitField&262144)>0;};_e03.prototype._getDisposer=function(){return this._disposer;};_e03.prototype._unsetDisposable=function(){this._bitField=this._bitField&(~262144);this._disposer=undefined;};_e03.prototype.disposer=function(fn){if(typeof fn==="function"){return new _e22(fn,this,_e06());}throw new _e07();};};},{"./errors.js":13,"./util.js":38}],38:[function(_e2f,_e30,_e31){"use strict";var es5=_e2f("./es5.js");var _e32=typeof navigator=="undefined";var _e33=(function(){try{var o={};es5.defineProperty(o,"f",{get:function(){return 3;}});return o.f===3;}catch(e){return false;}})();var _e34={e:{}};var _e35;function _e36(){try{var _e37=_e35;_e35=null;return _e37.apply(this,arguments);}catch(e){_e34.e=e;return _e34;}};function _e38(fn){_e35=fn;return _e36;};var _e39=function(_e3a,_e3b){var _e3c={}.hasOwnProperty;function T(){this.constructor=_e3a;this.constructor$=_e3b;for(var _e3d in _e3b.prototype){if(_e3c.call(_e3b.prototype,_e3d)&&_e3d.charAt(_e3d.length-1)!=="$"){this[_e3d+"$"]=_e3b.prototype[_e3d];}}};T.prototype=_e3b.prototype;_e3a.prototype=new T();return _e3a.prototype;};function _e3e(val){return val==null||val===true||val===false||typeof val==="string"||typeof val==="number";};function _e3f(_e40){return !_e3e(_e40);};function _e41(_e42){if(!_e3e(_e42)){return _e42;}return new Error(_e43(_e42));};function _e44(_e45,_e46){var len=_e45.length;var ret=new Array(len+1);var i;for(i=0;i<len;++i){ret[i]=_e45[i];}ret[i]=_e46;return ret;};function _e47(obj,key,_e48){if(es5.isES5){var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null){return desc.get==null&&desc.set==null?desc.value:_e48;}}else{return {}.hasOwnProperty.call(obj,key)?obj[key]:undefined;}};function _e49(obj,name,_e4a){if(_e3e(obj)){return obj;}var _e4b={value:_e4a,configurable:true,enumerable:false,writable:true};es5.defineProperty(obj,name,_e4b);return obj;};function _e4c(r){throw r;};var _e4d=(function(){var _e4e=[Array.prototype,Object.prototype,Function.prototype];var _e4f=function(val){for(var i=0;i<_e4e.length;++i){if(_e4e[i]===val){return true;}}return false;};if(es5.isES5){var _e50=Object.getOwnPropertyNames;return function(obj){var ret=[];var _e51=Object.create(null);while(obj!=null&&!_e4f(obj)){var keys;try{keys=_e50(obj);}catch(e){return ret;}for(var i=0;i<keys.length;++i){var key=keys[i];if(_e51[key]){continue;}_e51[key]=true;var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null&&desc.get==null&&desc.set==null){ret.push(key);}}obj=es5.getPrototypeOf(obj);}return ret;};}else{var _e52={}.hasOwnProperty;return function(obj){if(_e4f(obj)){return [];}var ret=[];enumeration:for(var key in obj){if(_e52.call(obj,key)){ret.push(key);}else{for(var i=0;i<_e4e.length;++i){if(_e52.call(_e4e[i],key)){continue enumeration;}}ret.push(key);}}return ret;};}})();var _e53=/this\s*\.\s*\S+\s*=/;function _e54(fn){try{if(typeof fn==="function"){var keys=es5.names(fn.prototype);var _e55=es5.isES5&&keys.length>1;var _e56=keys.length>0&&!(keys.length===1&&keys[0]==="constructor");var _e57=_e53.test(fn+"")&&es5.names(fn).length>0;if(_e55||_e56||_e57){return true;}}return false;}catch(e){return false;}};function _e58(obj){function f(){};f.prototype=obj;var l=8;while(l--){new f();}return obj;eval(obj);};var _e59=/^[a-z$_][a-z$_0-9]*$/i;function _e5a(str){return _e59.test(str);};function _e5b(_e5c,_e5d,_e5e){var ret=new Array(_e5c);for(var i=0;i<_e5c;++i){ret[i]=_e5d+i+_e5e;}return ret;};function _e43(obj){try{return obj+"";}catch(e){return "[no string representation]";}};function _e5f(e){try{_e49(e,"isOperational",true);}catch(ignore){}};function _e60(e){if(e==null){return false;}return ((e instanceof Error["__BluebirdErrorTypes__"].OperationalError)||e["isOperational"]===true);};function _e61(obj){return obj instanceof Error&&es5.propertyIsWritable(obj,"stack");};var _e62=(function(){if(!("stack" in new Error())){return function(_e63){if(_e61(_e63)){return _e63;}try{throw new Error(_e43(_e63));}catch(err){return err;}};}else{return function(_e64){if(_e61(_e64)){return _e64;}return new Error(_e43(_e64));};}})();function _e65(obj){return {}.toString.call(obj);};function _e66(from,to,_e67){var keys=es5.names(from);for(var i=0;i<keys.length;++i){var key=keys[i];if(_e67(key)){try{es5.defineProperty(to,key,es5.getDescriptor(from,key));}catch(ignore){}}}};var ret={isClass:_e54,isIdentifier:_e5a,inheritedDataKeys:_e4d,getDataPropertyOrDefault:_e47,thrower:_e4c,isArray:es5.isArray,haveGetters:_e33,notEnumerableProp:_e49,isPrimitive:_e3e,isObject:_e3f,canEvaluate:_e32,errorObj:_e34,tryCatch:_e38,inherits:_e39,withAppended:_e44,maybeWrapAsError:_e41,toFastProperties:_e58,filledRange:_e5b,toString:_e43,canAttachTrace:_e61,ensureErrorObject:_e62,originatesFromRejection:_e60,markAsOriginatingFromRejection:_e5f,classString:_e65,copyDescriptors:_e66,hasDevTools:typeof chrome!=="undefined"&&chrome&&typeof chrome.loadTimes==="function",isNode:typeof process!=="undefined"&&_e65(process).toLowerCase()==="[object process]"};ret.isRecentNode=ret.isNode&&(function(){var _e68=process.versions.node.split(".").map(Number);return (_e68[0]===0&&_e68[1]>10)||(_e68[0]>0);})();if(ret.isNode){ret.toFastProperties(process);}try{throw new Error();}catch(e){ret.lastLineError=e;}_e30.exports=ret;},{"./es5.js":14}]},{},[4])(4);});},"mxui/store/asyncValueStore":function(){define([],function(){var _e69={};var _e6a={};return {register:function(id,_e6b){_e69[id]=_e6b;if(_e6a[id]){for(var i=0;i<_e6a[id].length;i++){_e6a[id][i](_e6b);}_e6a[id]=null;}},retrieve:function(id,_e6c){if(_e69[id]){_e6c(_e69[id]);}else{if(!_e6a[id]){_e6a[id]=[];}_e6a[id].push(_e6c);}},remove:function(id){delete _e69[id];delete _e6a[id];},hasValue:function(id){return id in _e69;}};});},"mxui/widget/LoginDialog":function(){define(["mxui/widget/Dialog","mxui/dom","dojo/dom-class","dojo/json","dojo/_base/declare","dojo/_base/event"],function(_e6d,_e6e,_e6f,_e70,_e71,_e72){var _e73=_e71(_e6d,{declaredClass:"mxui.widget.LoginDialog",messageCode:0,closable:false,_userNode:null,_passNode:null,_cancelBtn:null,_loginCallback:null,buildRendering:function(){var $=_e6e.create,form,user,pass;this.caption=this.translate("loginButton");this.inherited(arguments);_e6f.add(this.domNode,"mx-login");this.domNode.removeChild(this._contentNode);this._contentNode=form=$("form",{"class":"modal-content mx-dialog-content"},this._headerNode,this._bodyNode,this._footerNode);this.domNode.appendChild(form);this.setContent($("#",user=this._userNode=$("input",{"class":"form-control",name:"username",type:"text",autocorrect:"off",autocapitalize:"none",placeholder:this.translate("username")}),pass=this._passNode=$("input",{"class":"form-control",name:"password",type:"password",autocorrect:"off",autocapitalize:"none",placeholder:this.translate("password")})));var _e74=$("button",{type:"submit","class":"btn btn-primary"},this.translate("loginButton")),_e75=this._cancelBtn=$("button",{type:"button","class":"btn"},window.mx.ui.translate("mendix.widget.DialogMessage","cancel"));this.setButtons([_e74,_e75]);this.connect(user,"keydown","reset");this.connect(pass,"keydown","reset");this.connect(form,"submit","submit");this.connect(_e75,"click","hide");},translate:function(str){return window.i18nMap[str];},getStatusMessage:function(code){return this.translate("http"+code)||this.translate("httpdefault");},submit:function(e){_e72.stop(e);var self=this;mx.login(this._userNode.value,this._passNode.value,function(){self.hide();},function(code){self.setCaption(self.getStatusMessage(code));_e6f.add(self.domNode,"error");});},onShow:function(done){if(this.messageCode){this.setCaption(this.getStatusMessage(this.messageCode));}this._cancelBtn.style.display=window.mx.isLoaded()?"":"none";this.inherited(arguments,[done]);},reset:function(){this.setCaption(this.translate("loginButton"));_e6f.remove(this.domNode,"error");}});return _e73;});},"mxui/widget/Progress":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/lang","mendix/logger","dojo/dom-class","dojo/dom-style","dojo/_base/lang","dojo/_base/declare"],function(_e76,dom,lang,_e77,_e78,_e79,_e7a,_e7b){"use strict";var _e7c=_e7b(_e76,{declaredClass:"mxui.widget.Progress",showDelay:500,_showing:false,_messageId:0,_messages:null,_showTimer:null,_msgNode:null,_hideCon:null,constructor:function(){this._messages=[];},buildRendering:function(){this.domNode=dom.create("div",{"class":"mx-progress mx-progress-hidden"},this._msgNode=dom.create("div",{"class":"mx-progress-message"}),dom.create("div",{"class":"mx-progress-indicator"}));},add:function(text,_e7d){var id=this._messageId++;this._messages.push({id:id,text:text,modal:_e7d});this._updateMessage();if(!this._showing){this._show(_e7d);}else{if(_e7d){if(this._showTimer){clearTimeout(this._showTimer);this._showTimer=null;this._show(true);}else{window.mx.ui.showUnderlay();}}}return id;},remove:function(id){var _e7e=lang.find(this._messages,function(_e7f){return _e7f.id==id;});if(_e7e){if(_e7e.modal){window.mx.ui.hideUnderlay();}this._removeMessage(id);if(this._messages.length>0){this._updateMessage();}else{this._hide();}}else{_e77.error(this.id+".remove: Message id not found!");}},_show:function(_e80){this._showing=true;if(_e80){window.mx.ui.showUnderlay();}var _e81=_e7a.hitch(this,function(){this._showTimer=null;if(this._hideCon){this._hideCon.remove();this._hideCon=null;}else{document.body.appendChild(this.domNode);_e79.get(this.domNode,"width");}_e78.remove(this.domNode,"mx-progress-hidden");});if(this._hideCon||_e80){_e81();}else{this._showTimer=setTimeout(_e81,this.showDelay);}},_hide:function(_e82){this._showing=false;if(this._showTimer){clearTimeout(this._showTimer);this._showTimer=null;}else{if(_e82){window.mx.ui.hideUnderlay();}var _e83=_e79.get(this.domNode,"opacity")==="0";if(dom.supports("transition")&&!_e83){this._hideCon=this.connect(this.domNode,"transitionend",function(){this._hideCon.remove();this._hideCon=null;document.body.removeChild(this.domNode);});}else{document.body.removeChild(this.domNode);}_e78.add(this.domNode,"mx-progress-hidden");}},_updateMessage:function(){var _e84=lang.findLast(this._messages,function(_e85){return _e85.text;});if(_e84){_e78.remove(this.domNode,"mx-progress-empty");}else{_e78.add(this.domNode,"mx-progress-empty");}dom.text(this._msgNode,_e84?_e84.text:"");},_removeMessage:function(id){var _e86=lang.findIndex(this._messages,function(_e87){return _e87.id==id;});this._messages.splice(_e86,1);}});return _e7c;});},"mxui/widget/DataGrid":function(){define(["mxui/widget/_Grid","mxui/widget","mxui/wm/focus","mxui/dom","mxui/lib/ColumnResizer","mendix/lang","mendix/logger","dojo/query","dojo/on","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/text!mxui/widget/templates/DataGrid.html"],function(_e88,_e89,_e8a,_e8b,_e8c,_e8d,_e8e,_e8f,_e90,_e91,_e92,_e93,_e94,_e95){var _e96=_e94(_e88,{declaredClass:"mxui.widget.DataGrid",templateString:_e95,subClass:"mx-datagrid",cssmap:_e89.createCSSMap("mx-datagrid",{sortText:"sort-text",sortIcon:"sort-icon",headCaption:"head-caption",headWrapper:"head-wrapper",columnResizer:"column-resizer",dataWrapper:"data-wrapper"}),readOnly:false,gridBodyNode:null,gridFootNode:null,_deferSyncQueue:0,_deferSyncCallback:null,_mxObjects:null,_gridColumnNodes:null,_gridRowNodes:null,_gridMatrix:null,_visibleColumns:null,_hiddenAggregates:null,constructor:function(){this._mxObjects=[];this._gridColumnNodes=[];this._gridRowNodes=[];this._gridMatrix=[];this._visibleColumns=[];this._hiddenAggregates=[];this._gridState={sortable:true,selectable:true,selectionmode:"single",searchbar:true,controlbar:true,pagingbar:true,inDenial:false,searchBarVisible:false,searchBarTogglable:true,xpathConstraint:"",loading:false,invertedSelection:false};},postCreate:function(){this.inherited(arguments);if(this._metaEntity){this._addFocusBoxForTable();this.setupScroll();this.buildGridBody();this.loadPlugins();this.doGridAttributes();this.triggerOnLoad();}this.loaded();},setColumnStyle:function(node,_e97){var _e98=_e97.display,_e99=_e98.align||"left";if(window.mx.ui.isRtl()){_e99=(_e99==="right"?"left":"right");}if(_e98.cssStyle){node.setAttribute("style",_e98.cssStyle);}else{node.removeAttribute("style");}_e91.add(node,[_e97.name?"mx-name-"+_e97.name:"","mx-"+_e99+"-aligned"]);_e91.add(node,_e98.cssClass);},buildGridRow:function(_e9a,_e9b){var $=_e8b.create,tr=$("tr",{"class":"mx-name-index-"+_e9b}),row;this.domData(tr,"gridrow",_e9b);row=_e92.map(_e9a,function(_e9c,i){var td=$("td");this.domData(td,{row:_e9b,column:i,key:_e9c.tag});this.setColumnStyle(td,_e9c);td.appendChild($("div",{"class":this.cssmap.dataWrapper}));tr.appendChild(td);return td;},this);this._gridMatrix.push(row);return tr;},setNodeTitle:function(_e9d,_e9e){if(!_e9d){return;}var _e9f=_e8b.text(_e9e||_e9d);_e9d.setAttribute("title",_e93.trim(_e9f));},gridbodyFillCell:function(_ea0,_ea1,_ea2){var _ea3;if(!_ea1.has(_ea2)){return "&nbsp;";}switch(_ea0.render.toLowerCase()){case "icon":case "enumicon":var src=_ea0.display.mapping[_ea1.get2(_ea2)];_ea3=src?"<img src='"+src+"'>":"";break;case "weblink":_ea3=_ea1.get2(_ea2);break;default:var _ea4=_ea0.display,_ea5=_ea4.dateFormat||"date";_ea3=window.mx.parser.formatAttribute(_ea1,_ea2,{selector:_ea5.toLowerCase().replace("custom","date"),datePattern:_ea4.format,groups:_ea4.formatted,places:_ea4.precision});_ea3=_e8b.escapeString(_ea3.replace(/\n/g," "));}return _ea3||"&nbsp;";},disableRow:function(tr){tr.style.display="";this.domData(tr,"mendixguid",null);_e92.forEach(tr.getElementsByTagName("td"),function(td){td.firstChild.innerHTML="&nbsp";td.setAttribute("title","");});},setupGridState:function(){this.inherited(arguments);this._gridState.sortable=this._gridConfig.gridSetting("sortable");},loadPlugins:function(){this.hideFootNode();if(this._gridState.editable){this.loadPlugin("GridEditor");_e8a.removeBox(this.contentNode);}var _ea6=this._gridConfig.getPlugins();for(var name in _ea6){this.loadPlugin(name,_ea6[name]);}},setupScroll:function(){var _ea7=this.headTable,_ea8=this.contentNode;this.connect(_ea8,"scroll",function(){_ea7.style.top=_ea8.scrollTop+"px";});},resize:function(box){this.inherited(arguments);this._resizer.recalculate();},buildGridBody:function(){var self=this,$=_e8b.create,_ea9=this._gridConfig.gridAttributes(),_eaa=[],_eab=[],row=$("tr",{"class":"mx-name-head-row"}),_eac=$("div",{"class":this.cssmap.headCaption}),_ead=$("div",{"class":this.cssmap.headWrapper}),_eae={},_eaf=this._gridConfig.getPlugins()["Calculations"]||{};_e8b.disableSelection(row);_e92.forEach(this.getState("sortOptions",this._gridConfig.gridSetting("sortparams")),function(_eb0){_eae[_eb0[0]]=_eb0;});_e92.forEach(_ea9,function(_eb1,i){var _eb2=_eb1.display.width,_eb3=_eb1.tag in _eaf,_eb4=_eb2!=null&&(_eb2=="0px"||_eb2=="0%");if(_eb3){_eab.push(_eb4);}if(!_eb4){this._visibleColumns.push(_eb1);}},this);_e92.forEach(_eab,function(_eb5,i){if(_eb5){this._hiddenAggregates.push(i);}},this);_e92.forEach(this._visibleColumns,function(_eb6,i){var _eb7=$("th");this.domData(_eb7,{datakey:_eb6.tag,index:i});this.setColumnStyle(_eb7,_eb6);var _eb8=$("span",{"class":this.cssmap.sortText});var _eb9=$("div",{"class":this.cssmap.sortIcon,style:"display: none"},_eb8);var _eba=_eae[_eb6.tag];if(_eba){var _ebb=_eba[1];this.domData(_eb7,"sortorder",_ebb);_eb8.innerHTML=_ebb==="asc"?"&#9650;":"&#9660;";_eb9.style.display="";}var _ebc=_eac.cloneNode(true);_ebc.innerHTML=_eb6.display.string||"&nbsp;";var _ebd=_ead.cloneNode(true);_ebd.appendChild(_eb9);_ebd.appendChild(_ebc);_eb7.appendChild(_ebd);this.setNodeTitle(_eb7,_ebc);var _ebe=$("col",{style:"width:"+_eb6.display.width}),_ebf=_ebe.cloneNode(true);this.headTableGroupNode.appendChild(_ebe);this.bodyTableGroupNode.appendChild(_ebf);_eaa.push([_ebe,_ebf]);this._gridColumnNodes.push(_eb7);row.appendChild(_eb7);},this);this.gridHeadNode.appendChild(row);if(this._gridState.sortable){this.own(_e90(this.gridHeadNode,"th:click",function(e){var key=self.domData(this,"index");if(_ea9[key].sortable!==false){self.eventColumnClicked(e,this);}}));}this._resizer=new _e8c({thNodes:_e8b.toArray(row.children),colNodes:_eaa,colUnits:_ea9[0].display.width.indexOf("%")>0?"%":"px",rtl:!this.isLeftToRight(),tableNode:this.headTable,gridNode:this.gridTable});if(this._gridState.showemptyrows){var _ec0=this._gridConfig.gridSetting("rows");for(var i=0;i<_ec0;i++){this.addNewRow();}}this.own(_e90(this.gridBodyNode,"tr:click",function(e){self.eventItemClicked(e,this);}));this.liveConnect(this.gridBodyNode,"onclick",{td:"eventCellClicked"});this.liveConnect(this.gridBodyNode,"onmouseover",{tr:"eventRowMouseOver"});this.liveConnect(this.gridBodyNode,"onmouseout",{tr:"eventRowMouseOut"});var _ec1=function(e){self.eventActionBindingHandler(this,e.type);};var _ec2=this._gridConfig.gridActionBindings();for(var _ec3 in _ec2){this.own(_e90(this.gridBodyNode,"tr:"+_ec3.replace(/^on/,""),_ec1));}},addNewRow:function(){var _ec4=this._visibleColumns,_ec5=this._gridConfig.gridSetting("rows"),_ec6=this._gridRowNodes.length;if(_ec6>_ec5){return null;}var tr=this.buildGridRow(_ec4,_ec6);this._gridRowNodes.push(tr);this.gridBodyNode.appendChild(tr);var box=this.getFocusBox(this.contentNode);box.add&&box.add(tr);return tr;},doGridAttributes:function(){var _ec7=this._visibleColumns;_e92.forEach(_ec7,function(_ec8){var path=_ec8.tag.split("/");if(path.length==2||path.length==4){path.shift();}_ec8.attrs=path;},this);},fillGrid:function(){this._mxObjects=this._dataSource.getObjects()||[];var _ec9=this._visibleColumns,_eca=(this._gridState.selectfirst&&!this._gridState.invertedSelection&&this._mxObjects.length>0&&!this._hasSelection());if(_eca){this._addToSelection(this._mxObjects[0].getGuid());}this._shareSelection(this._metaEntity.getEntity());var _ecb=this._mxObjects.length-this._gridRowNodes.length;if(_ecb>0){while(_ecb--){this.addNewRow();}this.mxform.resize();}else{if(_ecb<0){_e92.forEach(this._gridRowNodes.slice(this._mxObjects.length),function(node){_e91.remove(node,"selected");if(this._gridState.showemptyrows){this.disableRow(node);}else{node.style.display="none";}},this);}}_e92.forEach(this._mxObjects,function(_ecc,i){var _ecd=_ecc.getGuid(),_ece=this._gridRowNodes[i];this.domData(_ece,"mendixguid",_ecd);this._gridbodyFillRow(_ecc,this._gridMatrix[i],_ec9);if(!this._isSelected(_ecd)){this.deselectRow(_ece);}else{this.selectRow(_ece);}_ece.style.display="";},this);},refreshGrid:function(){this.triggerPreRefresh();this.inherited(arguments);this.triggerOnRefresh();},triggerOnLoad:function(){this.triggerPluginEvent("onLoad");},triggerOnSync:function(){this.triggerPluginEvent("onSync");},triggerOnRefresh:function(){this.triggerPluginEvent("onRefresh");},triggerPreRefresh:function(){this.triggerPluginEvent("preRefresh");},triggerOnSearchChanged:function(){this.triggerPluginEvent("onSearchChanged");},actDeferSyncAction:function(_ecf){if(this._deferSyncQueue===0){_ecf&&_ecf();}else{if(this._deferSyncCallback==null){this._deferSyncCallback=_ecf;}else{}}},eventCellClicked:function(e){this.triggerPluginEvent("onCellClicked",e);},eventRowMouseOver:function(e){this.triggerPluginEvent("onRowMouseOver",e);},eventRowMouseOut:function(e){this.triggerPluginEvent("onRowMouseOut",e);},eventCellMouseOut:function(e){this.triggerPluginEvent("onCellMouseOut",e);},eventCellMouseOver:function(e){this.triggerPluginEvent("onCellMouseOver",e);},eventSelectRow:function(e){this.triggerPluginEvent("onSelectRow",e);},eventColumnClicked:function(e,node){var push=e.shiftKey;if(!push){_e92.forEach(this._gridColumnNodes,function(node){node.querySelector("."+this.cssmap.sortIcon).style.display="none";},this);}else{_e8b.clearSelection();}var _ed0=this.domData(node,"datakey"),_ed1="asc";if(this.domData(node,"sortorder")){_ed1=this.domData(node,"sortorder");_ed1=(_ed1==="asc")?"desc":"asc";}this.domData(node,"sortorder",_ed1);var _ed2=node.querySelector("."+this.cssmap.sortText);_ed2.innerHTML=(_ed1==="asc"?"&#9650;":"&#9660;");_ed2.parentNode.style.display="";this._dataSource.setSortOptions(_ed0,_ed1,push);if(this.constraintsFilled()){this._dataSource.refresh(_e93.hitch(this,"refreshGrid"));}},deselectGridRows:function(){_e92.forEach(this._gridRowNodes,function(node){this.deselectRow(node);},this);},getAggregates:function(){return this._dataSource.getAggregates();},actionExport:function(_ed3){if(this.constraintsFilled()){var _ed4=window.mx.ui.getProgressIndicator("popup");_ed4.start();this._dataSource.generateExport({params:_ed3,callback:function(){_ed4.stop();},error:function(e){_ed4.stop();window.mx.onError(e);}});}},actionInsertNewAtTop:function(_ed5){var _ed6=this._getEntity(_ed5);if(_ed6){this._insertNewFirstOrLast(_ed6,_ed5[_ed6],false);}},actionInsertNewAtBottom:function(_ed7){var _ed8=this._getEntity(_ed7);if(_ed8){this._insertNewFirstOrLast(_ed8,_ed7[_ed8],true);}},getCellNode:function(_ed9,key){var row=this._gridMatrix[_ed9];if(row){for(var i=0;i<row.length;i++){if(this.domData(row[i],"key")===key){return row[i];}}}return null;},getMxObjectAtRow:function(_eda){return (this._mxObjects.length>=_eda)?this._mxObjects[_eda]:false;},getRowForMxObject:function(_edb){var _edc=this._mxObjects;for(var i=0;i<_edc.length;++i){if(_edc[i].getGuid()===_edb.getGuid()){return i;}}},getEntityProperties:function(){return this._visibleColumns;},getHiddenAggregates:function(){return this._hiddenAggregates.slice();},getActionProperties:function(_edd,_ede){var _edf=this._gridConfig.dataEntityConfigs(),act=null;if(_edf[_edd]){act=_edf[_edd][_ede];}return act;},getCurrentGridSize:function(){return this._mxObjects.length;},getGridNodeHash:function(){return this._gridMatrix;},getCurrentXPath:function(){var _ee0=this._dataSource?this._dataSource.getCurrentXPath()||"":"";return _ee0+this._gridState.xpathConstraint;},preventUpdates:function(){this._gridState.inDenial=true;},acceptUpdates:function(){this._gridState.inDenial=false;},acceptingUpdates:function(){return !this._gridState.inDenial;},updateMxObject:function(_ee1,_ee2){var row=this.getRowForMxObject(_ee1);if(!row){this._gridbodyFillRow(_ee1,this._gridMatrix[row],this._visibleColumns);}_ee2&&_ee2();},showFootNode:function(){this.gridFootNode.style.display="";},hideFootNode:function(){this.gridFootNode.style.display="none";},addToSyncDeferQueue:function(){this._deferSyncQueue++;},removeFromSyncDeferQueue:function(){this._deferSyncQueue--;if(this._deferSyncQueue===0){if(this._deferSyncCallback!=null){this._deferSyncCallback();this._deferSyncCallback=null;}else{}}},uninitialize:function(){this._resizer.destroy();this.triggerPluginEvent("onDestroy");this.inherited(arguments);},_setSelectableAttr:function(_ee3){this._gridState.selectable=!!_ee3;},_setDisabledAttr:function(_ee4){},_setReadOnlyAttr:function(_ee5){var self=this;function _ee6(_ee7,_ee8){_e92.forEach(_ee7,function(tool){if(tool.mxid){var _ee9=this._gridConfig.getActionsByKey(tool.mxid);if(_ee9&&/AddRef|DeleteRef|CreateRef/.test(_ee9.actionCall)){_ee8&&_ee8(tool);}}},self);};if(this._gridState.controlbar&&_ee5!=this.readOnly){var _eea=this._gridConfig.gridTools();if(_ee5){_ee6(_eea,function(tool){self.toolBarNode.removeChild(tool._domNode);});}else{_ee6(_eea,function(tool){if(tool._nextNode){self.toolBarNode.insertBefore(tool._domNode,tool._nextNode);}else{self.toolBarNode.appendChild(tool._domNode);}});}this.readOnly=!!_ee5;}},_renderObjectsToCell:function(_eeb,td,_eec){var _eed=_eec.attrs.slice(-1)[0],_eee=td.firstChild,_eef=[],_ef0=[];td.firstChild.innerHTML="";_e92.forEach(_eeb,function(obj){var _ef1=this.gridbodyFillCell(_eec,obj,_eed);if(_ef1!=null){_eef.push(_ef1);}else{_e8e.error(this.id+".gridBodyFillRow: received no content");}if(/^(enum)?icon$/i.test(_eec.render)){_ef0.push(obj.getEnumCaption(_eed));}},this);_eee.innerHTML=_eef.join(", ");if(_eee.childNodes.length===0){_eee.innerHTML="&nbsp;";}if(_ef0.length!==0){td.setAttribute("title",_ef0.join(";"));}else{this.setNodeTitle(td);}},_gridbodyFillRow:function(_ef2,_ef3,_ef4){_e92.forEach(_ef3,function(td,i){var _ef5=[],_ef6=_ef4[i],_ef7=false,_ef8=_ef6.attrs;if(_ef8.length===1){_ef5.push(_ef2);}else{var _ef9=_ef2,_efa;for(var j=0;j<_ef8.length-1;j+=2){var _efb=_ef8[j],_efc=_ef8[j+1];_efa=_ef9.getChildren(_efb);if(_efa.length>0){if(j>0&&!_efa[0].isA(_efc)){_e8e.error(this.id+".gridBodyFillRow: entity and reference do not match");_efa=[];break;}_ef9=_efa[0];}else{if(_ef8.length===3){_ef7=!!_ef2.get2(_efb);break;}else{break;}}}[].push.apply(_ef5,_efa);}if(!_ef7){this._renderObjectsToCell(_ef5,td,_ef6);}else{if(_ef2.isReference(_ef8[0])){var self=this;window.mx.data.get({guids:_ef2.getReferences(_ef8[0]),callback:function(_efd){self._renderObjectsToCell(_efd,td,_ef6);},error:window.mx.onError},this);}else{_e8e.error(this.id+".gridBodyFillRow: attribute '"+_ef8[0]+"' is not a reference(set)");}}},this);},_insertNewFirstOrLast:function(_efe,_eff,last){var _f00=function(_f01){window.mx.data.create({entity:_efe,context:this.mxcontext,persistent:_eff.persistent,callback:function(obj){if(!last){this._dataSource.insertMxObjectAtStart(obj);}else{this._dataSource.insertMxObjectAtEnd(obj);}_f01();},error:window.mx.onError},this);};this.triggerOnSync();this.sequence([_f00,"actDeferSyncAction",function(){this.refreshGrid();var row=last?this._dataSource.getObjects().length-1:0;this.eventSelectRow({row:row});}]);},_getEntity:function(_f02){return _e8d.firstKey(_f02);},_getCurrentGuid:function(){return this.selection[this.selection.length-1];},_getNodeFromEvent:function(e){return _e8b.getAncestorNode(e.target,"TR");},_getActionFromEvent:function(e){var _f03=this._gridConfig.gridActionBindings(),_f04=_f03["on"+e.type];return this._gridConfig.getActionsByKey(_f04);},_getObjectFromNode:function(node){return this._mxObjects[this.domData(node,"gridrow")];},_addFocusBoxForTable:function(){var box=this.addFocusBox(this.contentNode);box.pressed({DOWN_ARROW:box.FOCUS_NEXT,UP_ARROW:box.FOCUS_PREV,SPACE:function(e){this.eventItemClicked(e,e.target);},ENTER:function(e,_f05){if(_f05){this.eventActionBindingHandler(_f05,"dblclick");}},LEFT_ARROW:function(){if(!this._dataSource.atBeginning()){this._dataSource.previous(_e93.hitch(this,function(){this.refreshGrid();_e8a.restore();}));}},RIGHT_ARROW:function(){if(!this._dataSource.atEnd()){this._dataSource.next(_e93.hitch(this,function(){this.refreshGrid();_e8a.restore();}));}}},this);}});return _e96;});},"mxui/widget/_Grid":function(){define(["require","mxui/mixin/_Contextable","mxui/mixin/_Scriptable","mxui/mixin/_Stateful","mxui/mixin/_Pluggable","mxui/lib/overflowHelper","mxui/mixin/_ContainingSelection","mxui/mixin/_Templated","mxui/lib/MxGridConfig","mxui/widget/SearchInput","mxui/widget/Button","mxui/widget/_DynamicButton","mxui/widget","mxui/dom","mendix/lib/MxContext","mendix/lib/dataSourceTypes","mendix/lib/ValidationError","mendix/logger","webcore/datasource/OfflineSource","webcore/datasource/OfflineByReferenceSource","webcore/datasource/EntityPathSource","webcore/datasource/MicroflowSource","webcore/datasource/XPathSource","dojo/fx","dojo/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/fx/Toggler"],function(_f06,_f07,_f08,_f09,_f0a,_f0b,_f0c,_f0d,_f0e,_f0f,_f10,_f11,_f12,_f13,_f14,_f15,_f16,_f17,_f18,_f19,_f1a,_f1b,_f1c,_f1d,_f1e,_f1f,_f20,_f21,_f22,_f23,_f24){var _f25=_f12.declare("mxui.widget._Grid",{mixins:[_f0d,_f07,_f08,_f09,_f0a,_f0c],baseClass:"mx-grid",css:_f12.createCSSMap("mx-grid",{pagingStatus:"paging-status",searchButton:"search-button",resetButton:"reset-button"}),entity:"",schema:"",useContext:false,customDataSource:null,dataSourceMixin:null,_previousSearchConstraints:"",pagingBarNode:null,searchNode:null,toolBarNode:null,messageNode:null,searchButton:null,resetButton:null,_dataSource:null,_gridConfig:null,_gridState:null,_metaEntity:null,_toolWidgets:null,_pagingStatusNode:null,_preserveSelection:false,constructor:function(_f26){this._preserveSelection="selection" in _f26;},fetchMetaObject:function(){this._metaEntity=window.mx.meta.getEntity(this.entity);if(this._metaEntity==null){_f17.error(this.id+": This grid has been configured for an entity the current user doesn't have access to.");return false;}return true;},setupGridConfig:function(){this._gridConfig=new _f0e({config:this.config,nested:this.nested});},setupGridState:function(){var _f27=this._gridConfig,_f28=this._gridState;_f28.updateperiod=_f27.gridSetting("refresh");_f28.searchbar=_f27.gridSetting("searchbar");_f28.controlbar=_f27.gridSetting("controlbar");_f28.pagingbar=_f27.gridSetting("pagingbar");_f28.selectionmode=_f27.gridSetting("selectionmode");_f28.selectable=(_f28.selectionmode!=="none");_f28.editable=_f27.gridSetting("editable");_f28.showemptyrows=_f27.gridSetting("showemptyrows");_f28.selectfirst=_f27.gridSetting("selectfirst");},setupDataSource:function(){var _f29=this._gridConfig,_f2a=_f29.getDataSource(),_f2b=this.getState("pageOffset",0),_f2c=_f29.gridSetting("pageSize"),_f2d;if(this.customDataSource){_f2d=this.customDataSource;_f2d.setPageSize(_f2c);_f2d.setOffset(_f2b);var _f2e=this.getState("sortOptions",_f29.gridSetting("sortparams"));if(_f2e){_f2d.setSortOptions(_f2e[0][0],_f2e[0][1]);}}else{if(_f2a){var _f2f={queryid:this instanceof _f06("mxui/widget/DataGrid")?this.schema:"",context:this.mxcontext,page:_f2c,offset:_f2b};var _f30=_f2a.type;if(_f30===_f15.microflow){_f2d=new _f1b(_f23.mixin(_f2f,_f2a));}else{if(_f30===_f15.entityPath){_f2d=new _f1a(_f23.mixin(_f2f,_f2a));}else{if(_f30===_f15.offline){_f2d=new _f18(_f23.mixin(_f2f,{sort:this.getState("sortOptions",_f29.gridSetting("sortparams"))},_f2a));}else{if(_f30===_f15.offlineReference){_f2d=new _f19(_f23.mixin(_f2f,{sort:this.getState("sortOptions",_f29.gridSetting("sortparams"))},_f2a));}else{_f2d=new _f1c(_f23.mixin(_f2f,{useContext:this.useContext,sortparams:this.getState("sortOptions",_f29.gridSetting("sortparams")),aggregates:"Calculations" in this._gridConfig.getPlugins()},_f2a,this.dataSourceMixin));}}}}}}this._dataSource=_f2d;},resizeGrid:function(){this.contentNode.scrollTop=0;},setUpdateInterval:function(){var _f31=this._gridState.updateperiod;if(_f31&&_f31.toString()!="0"){this.clearInterval();this._gridState.update=setInterval(_f23.hitch(this,"reload"),parseInt(_f31*1000,10));}},clearInterval:function(){if(this._gridState.update!=null){clearInterval(this._gridState.update);}},actionSelectPage:function(opts){if(!this._gridState.invertedSelection){for(var i=0,_f32=this._dataSource.getObjects(),_f33;_f33=_f32[i];i++){this._addToSelection(_f33.getGuid());}}this.refreshGrid();},actionSelectAllPages:function(opts){this.selection=[];this._gridState.invertedSelection=true;this.refreshGrid();},actionClearSelection:function(opts){if(this._hasSelection()||this._gridState.invertedSelection){this.selection=[];this._gridState.invertedSelection=false;this.refreshGrid();}},actionEditSelection:function(_f34){if(!this._hasSelection()&&!this._gridState.invertedSelection){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{for(var i=0,obj;obj=this.selection[i];i++){var _f35=this._dataSource.getObject(obj),_f36=_f34[_f35.getEntity()];if(_f36){var _f37=this.createContext();_f37.dupFrom(this.mxcontext);_f37.setObject(null,_f35.getEntity(),_f35.getGuid());window.mx.ui.execute(_f36,{context:_f37});}}}},actionInsertNew:function(_f38){var _f39=this._getEntity(_f38),_f3a=_f38[_f39];if(_f3a&&_f39){window.mx.data.create({entity:_f39,context:this.useContext?this.mxcontext:null,persistent:_f3a.persistent,callback:function(obj){if(!this.useContext){var _f3b=this._gridConfig.getDataSource(),_f3c=_f3b.path||"",_f3d=_f3c.split("/"),guid=this.mxcontext.getTrackId();if(_f3d.length==2&&guid){var attr=_f3d[0];if(obj.isReference(attr)){obj.set(attr,guid);}}}var _f3e=this.createContext();_f3e.setContext(obj);window.mx.ui.execute(_f3a,{context:_f3e});},error:function(e){window.mx.onError(e);}},this);}},selectRow:function(row){if(this._gridState.invertedSelection){_f1f.remove(row,"selected");}else{_f1f.add(row,"selected");}},deselectRow:function(row){if(!this._gridState.invertedSelection){_f1f.remove(row,"selected");}else{_f1f.add(row,"selected");}},postCreate:function(){var box=this.addFocusBox(this.controlNode);box.pressed({RIGHT_ARROW:box.FOCUS_NEXT,LEFT_ARROW:box.FOCUS_PREV});this.offerInterfaces(["close"]);this.initContext();this._previousSearchConstraints=this.getState("searchConstraints","");if(this.fetchMetaObject()){this.setupGridConfig();this.setupGridState();this.buildSearchBar();this.buildControlBar();this.buildToolBar();this.buildPagingBar();this.setupDataSource();}},getSchemaId:function(){return this.schema;},deselectAll:function(){this.selection=[];this.deselectGridRows();},registerSubscriptions:function(){this.removeSubscriptions();var guid=this.mxcontext.getTrackId();if(guid){this.subscribe({guid:this.mxcontext.getTrackId(),callback:_f23.hitch(this,"objectUpdate")});}this.subscribe({entity:this.entity,callback:_f23.hitch(this,"objectUpdate")});},eventItemClicked:function(e,node){if(!this._gridState.selectable){return;}var mode=this._gridState.selectionmode,guid=this.domData(node,"mendixguid"),_f3f=_f22.indexOf(this.selection,guid),_f40=mode!="singleandmaintain"||this.selection.length>1;if(guid){var obj=this._dataSource.getObject(guid);if(mode=="simplemulti"||mode=="multi"&&(_f1e("mac")&&e.metaKey||e.ctrlKey)){if(_f3f==-1){this.selectRow(node);this._addToSelection(obj.getGuid());}else{if(_f40){this.deselectRow(node);this._removeFromSelection(obj.getGuid());}}}else{if(_f3f==-1){this.deselectAll();this.selectRow(node);this._addToSelection(obj.getGuid());}else{if(_f40){this.deselectRow(node);this._removeFromSelection(obj.getGuid());}}}this._shareSelection(this._metaEntity.getEntity());}},eventActionBindingHandler:function(_f41,_f42){var _f43=this._gridConfig.gridActionBindings(),_f44=this._gridConfig.getActionsByKey(_f43["on"+_f42]),_f45=_f44?this["action"+_f44.actionCall]:null,_f46=this._getObjectFromNode(_f41);if(this._gridState.invertedSelection){return;}if(_f44&&_f45&&_f41&&_f46){if(this._gridState.selectable){this.deselectAll();_f13.clearSelection();this.selectRow(_f41);}this._addToSelection(_f46.getGuid());if(_f45){_f45.call(this,_f44.params);}if(!this._gridState.selectable){this.deselectAll();}}else{}},eventControlBarButtonClicked:function(e){var node=e.currentTarget,_f47=node.getAttribute("data-mendix-id");if(_f47){var _f48=this._gridConfig.getActionsByKey(_f47);if(_f48){if(_f48.actionCall==="ActionSelected"){_f48.actionCall="EditSelection";}else{if(_f48.actionCall==="Create"){_f48.actionCall="InsertNew";}}var _f49="action"+_f48.actionCall;if(this[_f49]){this[_f49](_f48.params);}else{_f17.error(this.id+".eventControlBarButtonClicked: Called function '"+_f49+"' does not exist in this component");}}else{_f17.error(this.id+".eventControlBarButtonClicked: Action with action key '"+_f47+"' is not defined");}}else{_f17.error(this.id+".eventControlBarButtonClicked: No action key defined!");}},actionInvokeAction:function(_f4a){this.triggerPluginEvent("invokeAction",null,_f23.hitch(this,"invokeAction",_f4a));},_getPlainSelection:function(){if(!this._gridState.invertedSelection){return this.selection;}var self=this,_f4b=[];this._dataSource.each(function(obj){var guid=obj.getGuid();if(_f22.indexOf(self.selection,guid)===-1){_f4b.push(guid);}});return _f4b;},_getXpathSelection:function(){var _f4c,_f4d,_f4e,_f4f=this._gridState.invertedSelection;if(_f4f){_f4e=this._dataSource.getSetSize()-this.selection.length;_f4c=this._dataSource.getCurrentXPath();}else{_f4e=this.selection.length;_f4c="//"+this.entity;}if(_f4e===0){return null;}var _f50=[];_f22.forEach(this.selection,function(id){_f50.push("id"+(_f4f?"!=":"=")+"\""+id+"\"");});if(_f50.length===0){_f4d="";}else{_f4d="["+_f50.join(_f4f?" and ":" or ")+"]";}return {xpath:_f4c,constraints:_f4d,sort:this._dataSource.getSortSettings()};},_getMicroflowParameters:function(_f51){var _f52={gridid:this.schema};if(!_f51){_f52.applyto="none";}else{if(_f51=="selection"){if(this._dataSource instanceof _f1c){var _f53=this._getXpathSelection();if(!_f53){return null;}_f52.applyto="selectionset";_f23.mixin(_f52,_f53);}else{var _f54=this._getPlainSelection();if(_f54.length===0){return null;}_f52.applyto="selection";_f52.guids=_f54;}}else{if(_f51=="allPages"){if(this._dataSource instanceof _f1c){if(this._dataSource.getSetSize()===0){_f52.applyto="none";}_f23.mixin(_f52,{xpath:this._dataSource.getCurrentXPath(),sort:this._dataSource.getSortSettings(),applyto:"set"});}else{var _f55=_f22.map(this._dataSource.getObjects(),function(obj){return obj.getGuid();});_f52.applyto="selection";_f52.guids=_f55;}}}}return _f52;},invokeAction:function(_f56){var _f57=_f56[this.entity],_f58=_f57.action,self=this,_f59=[];if(!_f58){return;}if(this.actDeferSyncAction){_f59.push("actDeferSyncAction");}if(_f58.microflow&&_f58.microflow.confirmation){var conf=_f58.microflow.confirmation;_f59.push(function(_f5a){window.mx.ui.confirmation({cancel:conf.cancel,proceed:conf.proceed,content:conf.question,handler:_f5a});});}if(_f58.form||(_f58.microflow&&_f58.microflow.validate==="view")){_f59.push(_f23.hitch(this.mxform,"validate"));}_f59.push(function(_f5b){self.mxform.save(_f5b,function(err){if(!(err instanceof mendix.lib.ValidationError)){window.mx.onError(err);}});});function _f5c(){if(!(self._destroyed||_f57.maintainSelection||self._gridState.selectionmode=="singleandmaintain")){self.deselectAll();self._shareSelection(self._metaEntity.getEntity());}};if(_f58.microflow){var _f5d=this._getMicroflowParameters(_f58.microflow.applyTo);if(!_f5d){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));return;}_f59.push(function(){window.mx.ui.execute(_f58,{params:_f5d,context:self.mxcontext,store:{caller:self},callback:_f5c});});}else{var _f5e=new _f14();if(_f58.form.passContext){var _f5f=this._getPlainSelection();if(!_f5f.length){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));return;}_f5e.setTrackId(_f5f[0]);_f5e.setTrackEntity(this.entity);}_f59.push(function(){window.mx.ui.execute(_f58,{context:_f5e});_f5c();});}this.sequence(_f59);},actionReturnSelection:function(opts){var form=this.mxform;form.validate(function(){var _f60=function(e){if(!(e instanceof _f16)){window.mx.onError(e);}};form.save(function(){form.commit(function(){form.dispose();},_f60);},_f60);});},controlNode:null,_setToolbarAttr:function(_f61){for(var i=0,btn;btn=this._toolWidgets[i++];){btn.set("disabled",_f61);}},buildControlBar:function(){if(!this._gridState.controlbar&&!this._gridState.pagingbar){this.controlNode.style.display="none";}},buildToolBar:function(){this._toolWidgets=[];if(!this._gridState.controlbar){this.toolBarNode.style.display="none";return;}var _f62=this._gridConfig.gridTools(),box=this.getFocusBox(this.controlNode),frag=document.createDocumentFragment();for(var i in _f62){var tool=_f62[i];var _f63={"mxid":tool.mxid,"caption":tool.caption,"title":tool.title,"onClick":_f23.hitch(this,"eventControlBarButtonClicked"),"cssClasses":"mx-name-"+tool.name+(tool.cssClass?(" "+tool.cssClass):""),"cssStyle":tool.cssStyle};if(tool.iconClass){_f63.iconClass=tool.iconClass;}else{if(tool.iconUrl){_f63.iconUrl=tool.iconUrl;}}var _f64=new _f11(_f63),_f65=_f64.domNode;_f64.applyContext(this.mxcontext);this._toolWidgets.push(_f64);try{if(_f62[i].gridFunction){_f65.setAttribute("gridFunction",_f62[i].gridFunction);_f65.setAttribute("param",_f62[i].param);if(_f62[i].background){_f65.setAttribute("background-job",_f62[i].background);}if(_f62[i].progress){_f65.setAttribute("progress",_f62[i].progress);}if(_f62[i].message){_f65.setAttribute("message",_f62[i].message);}}if(i>0){_f62[i-1]._nextNode=_f65;}_f62[i]._domNode=_f65;frag.appendChild(_f65);frag.appendChild(document.createTextNode(" "));box.add(_f65);_f64.startup();}catch(e){}}this.toolBarNode.appendChild(frag);_f13.disableSelection(this.toolBarNode);},buildPagingBar:function(){if(!this._gridState.pagingbar){this.pagingBarNode.style.display="none";return;}var ltr=this.isLeftToRight(),frag=document.createDocumentFragment(),box=this.getFocusBox(this.controlNode),$=_f13.create;this.btFirst=new _f10({iconClass:ltr?"glyphicon-step-backward":"glyphicon-step-forward","onClick":_f23.hitch(this,"eventPagingFirstClicked"),"class":"mx-name-paging-first"});frag.appendChild($("#",this.btFirst.domNode," "));box.add(this.btFirst.domNode);this.btPrevious=new _f10({iconClass:ltr?"glyphicon-backward":"glyphicon-forward","onClick":_f23.hitch(this,"eventPagingPreviousClicked"),"class":"mx-name-paging-previous"});frag.appendChild($("#",this.btPrevious.domNode," "));box.add(this.btPrevious.domNode);this._pagingStatusNode=$("div",{"class":"dijitInline "+this.css.pagingStatus});frag.appendChild($("#",this._pagingStatusNode," "));this.btNext=new _f10({iconClass:ltr?"glyphicon-forward":"glyphicon-backward","onClick":_f23.hitch(this,"eventPagingNextClicked"),"class":"mx-name-paging-next"});frag.appendChild($("#",this.btNext.domNode," "));box.add(this.btNext.domNode);this.btLast=new _f10({iconClass:ltr?"glyphicon-step-forward":"glyphicon-step-backward","onClick":_f23.hitch(this,"eventPagingLastClicked"),"class":"mx-name-paging-last"});frag.appendChild($("#",this.btLast.domNode," "));box.add(this.btLast.domNode);this.pagingBarNode.appendChild(frag);_f13.disableSelection(this.pagingBarNode);},updatePagingStatus:function(_f66){if(!this._gridState.pagingbar){return;}var _f67=this._dataSource.getStatusMessage();_f13.text(this._pagingStatusNode,_f67);if(this._dataSource.atBeginning()){this.btFirst.set("disabled",true);this.btPrevious.set("disabled",true);}else{this.btFirst.set("disabled",false);this.btPrevious.set("disabled",false);}if(this._dataSource.atEnd()){this.btNext.set("disabled",true);this.btLast.set("disabled",true);}else{this.btNext.set("disabled",false);this.btLast.set("disabled",false);}},eventPagingFirstClicked:function(){if(!this._dataSource.atBeginning()){this._dataSource.first(_f23.hitch(this,"refreshGrid"));}},eventPagingPreviousClicked:function(){if(!this._dataSource.atBeginning()){this._dataSource.previous(_f23.hitch(this,"refreshGrid"));}},eventPagingNextClicked:function(){if(!this._dataSource.atEnd()){this._dataSource.next(_f23.hitch(this,"refreshGrid"));}},eventPagingLastClicked:function(){if(!this._dataSource.atEnd()){this._dataSource.last(_f23.hitch(this,"refreshGrid"));}},_searchElements:null,_searchFilled:false,searchArgumentNode:null,searchControlNode:null,_searchGetConstraints:function(){var _f68="";var _f69=[];_f22.forEach(this._searchElements,function(elem){var _f6a=elem.get("query");if(_f6a!==""){_f69.push(_f6a);}});if(_f69.length){_f68="["+_f69.join(" and ")+"]";}return _f68+this._gridState.xpathConstraint;},buildSearchBlock:function(){var $=_f13.create;if(this._gridState.isSearchBuild){return;}this._gridState.isSearchBuild=true;var _f6b=this.searchButton=new _f10({"caption":window.mx.ui.translate("mxui.widget.DataGrid",["search"]),"onClick":_f23.hitch(this,"eventSearchActivated"),"class":"btn-default mx-name-search "+this.css.searchButton});this.searchControlNode.appendChild($("#",_f6b.domNode," "));var _f6c=this.resetButton=new _f10({"caption":window.mx.ui.translate("mxui.widget.DataGrid",["reset"]),"onClick":_f23.hitch(this,"eventSearchResetClicked"),"class":"btn-default mx-name-reset "+this.css.resetButton});this.searchControlNode.appendChild($("#",_f6c.domNode," "));var _f6d=document.createDocumentFragment();this._searchElements=_f22.map(this._gridConfig.searchBarItems(),_f23.hitch(this,function(_f6e){var _f6f=new _f0f(_f23.mixin({entity:this.entity,mxcontext:this.mxcontext},_f6e));var _f70=this.getState("searchInput",{});_f6f.set("value",_f70[_f6e.path]||_f6f.get("value"));this.connect(_f6f,"onKeyUp","eventSearchActivated");_f6d.appendChild(_f6f.domNode);_f6f.startup();return _f6f;}));this.searchArgumentNode.appendChild(_f6d);},buildSearchBar:function(){if(!this._gridState.searchbar){this.searchNode.style.display="none";this._searchFilled=true;return;}var _f71=this._gridConfig.searchBarConfig();if(_f71){this._gridState.searchBarVisible=this.getState("searchBarVisible",!_f71.toggledByDefault);this._gridState.searchBarTogglable=!!_f71.toggleable;}else{this._gridState.searchBarVisible=true;}if(!this._gridState.searchBarVisible){var _f72=false;var opts=this._gridConfig.searchBarItems();for(var i in opts){var item=opts[i];if(item.defaults){this.buildSearchBlock();_f72=true;break;}}this.searchNode.style.display="none";this._gridState.isSearchBuild=_f72;}else{this.buildSearchBlock();this.searchNode.style.display="";}this.checkSearchFields();},eventSearchActivated:function(e){_f24.stop(e);if(!(e.type==="click"||(e.keyCode===13&&!e.shiftKey))){return;}var self=this,_f73=this.searchButton;this.checkSearchFields();if(!this.constraintsFilled()){return;}_f73.set("disabled",true);this._dataSource.isValid(function(_f74){if(_f74){self._dataSource.setConstraints(self._searchGetConstraints(),function(){if(!self._preserveSelection){self.selection=[];}self.refreshGrid();if(self.triggerOnSearchChanged){self.triggerOnSearchChanged();}_f73.set("disabled",false);});}else{_f73.set("disabled",false);}});},eventSearchResetClicked:function(){var _f75=this._dataSource;_f22.forEach(this._searchElements,function(elem){elem.reset();});this.checkSearchFields();_f75.setConstraints(this._searchGetConstraints());var _f76=_f23.hitch(this,function(){this.refreshGrid();if(this.triggerOnSearchChanged){this.triggerOnSearchChanged();}});if(this.constraintsFilled()){_f75.isValid(function(_f77){if(_f77){_f75.refresh(_f76);}else{_f75.clean(_f76);}});}},checkSearchFields:function(){var _f78=this._gridConfig.gridSetting("waitforsearch");if(!_f78){this._searchFilled=true;return;}this._searchFilled=_f22.some(this._searchElements,_f23.hitch(this,function(elem){if(elem.get("query")!==""){this.messageNode.innerHTML="";this.messageNode.style.display="none";return true;}}));if(!this._searchFilled){this.messageNode.innerHTML=window.mx.ui.translate("mxui.widget.DataGrid","waitForSearch");this.messageNode.style.display="block";}},constraintsFilled:function(){return this._searchFilled;},reload:function(_f79){if(this.constraintsFilled()){var self=this;this._dataSource.isValid(function(_f7a){if(_f7a){self._dataSource.refresh(function(){self.refreshGrid();if(_f79){_f79();}});}});}},actionToggleSearch:function(opts){var self=this;if(!this._gridState.searchBarTogglable){return;}this.buildSearchBlock();this._gridState.searchBarVisible=!this._gridState.searchBarVisible;if(!this._gridState.searchBarVisible){this._searchWipeOut=this._searchWipeOut||_f1d.wipeOut({node:this.searchNode,duration:200,onEnd:function(){setTimeout(function(){self.resize(self._resizeBox);},0);_f22.forEach(self._searchElements,function(elem){elem.cleanup();});}});this._searchWipeOut.play();}else{this._searchWipeIn=this._searchWipeIn||_f1d.wipeIn({node:this.searchNode,duration:200,onEnd:function(){setTimeout(function(){_f0b.showOverflow(self.domNode);self.resize(self._resizeBox);},0);try{_f22.some(self._searchElements,function(elem){if(!elem.get("hidden")){elem.focus();return true;}});}catch(e){}}});_f0b.hideOverflow(this.domNode);this._searchWipeIn.play();}},applyContext:function(_f7b,_f7c){if(this._metaEntity==null){if(_f7c){_f7c();}return;}if(!this._dataSource){_f17.error(this.id+".applyContext: Applying context before rendered!!!");if(_f7c){_f7c();}return;}this.cloneContext(_f7b);this.setUpdateInterval();_f22.forEach(this._toolWidgets,function(_f7d){_f7d.applyContext(this.mxcontext);},this);this._gridState.xpathConstraint="";var _f7e=this.mxcontext.getParam("xpathConstraint");if(_f7e){this._gridState.xpathConstraint+=_f7e;}this.removeSubscriptions();this.registerSubscriptions();if(!this._gridState.inDenial){var _f7f=[];if(this.constraintsFilled()){var _f80=[];var _f81=function(item){return function(_f82){item.reinit(_f82);};};_f22.forEach(this._searchElements,function(elem){_f80.push(_f81(elem));});_f7f.push(function(_f83){this.collect(_f80,_f83);});_f7f.push(function(_f84){if(this._dataSource.setConstraints){var _f85=this._previousSearchConstraints?this._previousSearchConstraints:this._searchGetConstraints();this._previousSearchConstraints="";this._dataSource.setConstraints(_f85);}this._dataSource.setOffset(this.getState("pageOffset",0));this._dataSource.reload(_f84);});}else{_f7f.push("actCleanDS");}this.sequence(_f7f,function(){if(!this._preserveSelection){this.selection=this.getState("selectedGuids",[]);this.filterSelected();}this.refreshGrid();_f7c();});}else{if(_f7c){_f7c();}}},filterSelected:function(){this.selection=_f22.filter(this.selection,function(guid){return this._dataSource.getObject(guid)!=null;},this);},objectUpdateNotification:function(){var self=this;if(!this._gridState.inDenial&&this.constraintsFilled()){this._dataSource.isValid(function(_f86){if(_f86){self.sequence([_f23.hitch(self._dataSource,"entityUpdate"),function(_f87){this.filterSelected();this.refreshGrid();if(_f87){_f87();}}]);}});}},refreshGrid:function(){if(this._dataSource.afterEnd()){this._dataSource.first(_f23.hitch(this,"refreshGrid"));return;}this.updatePagingStatus();this.fillGrid();this.resizeGrid();},actCleanDS:function(_f88){this.selection=[];this._dataSource.clean(_f88);},actionDeleteSelection:function(_f89){if(this._gridState.invertedSelection){}else{if(!this._hasSelection()){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{var self=this;var _f8a=function(){var _f8b=self.selection;self.deselectAll();self._shareSelection(self._metaEntity.getEntity());window.mx.data.remove({guids:_f8b,callback:function(){window.mx.data.sendClassUpdate(self.entity);},error:function(e){window.mx.onError(e);}});};if(_f89===true){_f8a();}else{window.mx.ui.confirmation({content:window.mx.ui.translate("mxui.widget.DataGrid","confirm_delete",this.selection.length),handler:_f8a});}}}},resize:function(box){var _f8c=false;if(box){var _f8d=_f21.getMarginBox(this.domNode),_f8e=_f21.getMarginBox(this.contentNode),_f8f=box.h-(_f8d.h-_f8e.h);if(_f8f>_f13.minContainerHeight){_f20.set(this.contentNode,"height",_f8f+"px");_f8c=true;if(this.headTable){_f20.set(this.headTable,"top","0px");}}}this.contentNode.style.overflow=_f8c?"auto":"";if(!_f8c){_f20.set(this.contentNode,"height","auto");}this._resizeBox=box;},close:function(){this.disposeContent();},onHide:function(e){_f22.forEach(this._searchElements,function(elem){elem.cleanup();});},storeState:function(_f90){_f90("searchBarVisible",this._gridState.searchBarVisible);_f90("searchConstraints",this._dataSource.getConstraints&&this._dataSource.getConstraints());_f90("pageOffset",this._dataSource.getOffset());_f90("selectedGuids",this.selection);if(this._dataSource.getSortSettings){_f90("sortOptions",this._dataSource.getSortSettings());}var _f91={};_f22.forEach(this._searchElements,function(_f92){_f91[_f92.path]=_f92.get("value");});_f90("searchInput",_f91);},uninitialize:function(){this.clearInterval();this.removeSubscriptions();this._clearSelectionStore();_f12.destroyWidgetsIn(this.searchControlNode);_f12.destroyWidgetsIn(this.toolBarNode);_f12.destroyWidgetsIn(this.pagingBarNode);if(this.itemNode){_f12.destroyWidgetsIn(this.itemNode);}if(this._dataSource){this._dataSource.destroy();}_f22.forEach(this._searchElements,function(elem){elem.destroy();});}});return _f25;});},"mxui/mixin/_Contextable":function(){define(["mendix/logger","dojo/_base/declare"],function(_f93,_f94){var _f95=_f94(null,{dropContext:"",contextsource:"",initContext:function(){if(!this.mxcontext){this.mxcontext=this.createContext();}},cloneContext:function(_f96){if(this.mxcontext==null||this.mxcontext===""){this.mxcontext=this.createContext();}this.mxcontext.dupFrom(_f96);this.applyContextDrop();this.applyContextAction();if(this.backtrackconstraints){this.mxcontext.setConstraints(this.backtrackconstraints);}},applyContextDrop:function(){var _f97=this.dropContext;if(_f97){for(var i=0,drop;drop=_f97[i];i++){if(this.mxcontext.hasContext(drop)){this.mxcontext.unsetContext(drop);}}}},applyContextAction:function(){if(this.contextAction==="reset"){this.mxcontext.reset();}},createContext:function(){var ctxt=new mendix.lib.MxContext();ctxt.setAppFlowId(this.app_flow_id);return ctxt;},removeOpenContext:function(){var _f98=this.mxcontext;if(_f98&&_f98.listeners){_f98.listeners[this.id]=null;delete _f98.listeners[this.id];}delete this.mxcontext;},uninitialize:function(){this.removeOpenContext();}});return _f95;});},"mxui/mixin/_Scriptable":function(){define(["mendix/logger","dojo/_base/declare"],function(_f99,_f9a){var _f9b=_f9a(null,{offeredInterfaces:null,offerInterface:function(_f9c){if(this.offeredInterfaces==null){this.offeredInterfaces={};}if(this[_f9c]){this.offeredInterfaces[_f9c]=true;return true;}else{return false;}},offerInterfaces:function(_f9d){for(var i=0;i<_f9d.length;i++){this.offerInterface(_f9d[i]);}},deleteInterface:function(_f9e){if(this.offeredInterfaces&&this.offeredInterfaces[_f9e]){this.offeredInterfaces[_f9e]=null;delete this.offeredInterfaces[_f9e];}},hasInterface:function(_f9f){return (this.offeredInterfaces&&this.offeredInterfaces[_f9f])?true:false;},invokeCall:function(call,args){if(!this.hasInterface(call)){_f99.error(this.id+".invokeCall: ERROR: attempt to invoke a function not specified as Scriptable");}else{this[call](args);}}});return _f9b;});},"mxui/mixin/_Stateful":function(){define(["dojo/aspect","dojo/_base/lang","dojo/_base/declare"],function(_fa0,_fa1,_fa2){var _fa3=_fa2(null,{constructor:function(){_fa0.before(this,"postCreate",_fa1.hitch(this,"_registerStoreState"));},_registerStoreState:function(){if(!this.uniqueid){throw new Error("All _Stateful widgets must have a deterministic uniqueid provided. See _WidgetBase#uniqueid.");}this.connect(this.mxform,"onPersistViewState",function(_fa4){var _fa5=_fa4[this.uniqueid]||(_fa4[this.uniqueid]={});this.storeState(function(key,_fa6){_fa5[key]=_fa6;});});},getState:function(key,def){var _fa7=this.mxform&&this.mxform.viewState?this.mxform.viewState[this.uniqueid]:undefined;if(arguments.length===0){return _fa7;}return _fa7&&key in _fa7?_fa7[key]:def;},storeState:function(_fa8){throw new Error("All stateful widgets must implement storeState method, "+"as it is the only method where their state can be stored");}});return _fa3;});},"mxui/mixin/_Pluggable":function(){define(["mxui/widget/plugins/DataGrid/Calculations","mxui/widget/plugins/DataGrid/GridEditor","mxui/widget/plugins/DataGrid/HoverPreview","mendix/logger","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_fa9,_faa,_fab,_fac,_fad,_fae,_faf){var _fb0=_faf(null,{plugins:null,pluginEvents:null,_normalizePluginName:function(name){if(name.indexOf(".")==-1){name="mxui.widget.plugins."+this.declaredClass.split(".").pop()+"."+name;}return name;},loadPlugin:function(name,_fb1){this.plugins=this.plugins||{};var _fb2={"mxui.widget.plugins.DataGrid.Calculations":_fa9,"mxui.widget.plugins.DataGrid.GridEditor":_faa,"mxui.widget.plugins.DataGrid.HoverPreview":_fab}[this._normalizePluginName(name)];this.plugins[name]=new _fb2({parent:this,config:_fb1});},hasPlugin:function(name){return this.plugins&&this._normalizePluginName(name) in this.plugins;},registerToPluginEvent:function(name,_fb3,_fb4){this.pluginEvents=this.pluginEvents||{};if(!this.pluginEvents[name]){this.pluginEvents[name]=[];}_fb3._async=_fb4;this.pluginEvents[name].push(_fb3);},triggerPluginEvent:function(name,args,_fb5){var _fb6=this.pluginEvents&&this.pluginEvents[name];var _fb7=1;var _fb8=function(){if(--_fb7===0){if(_fb5){_fb5();}}};if(_fb6){_fad.forEach(_fb6,function(_fb9){try{if(_fb9._async){_fb7++;_fb9(args,_fb8);}else{_fb9(args);}}catch(e){_fac.error(this.id+".triggerPluginEvent: An error occurred in listener of event '"+name+"': "+e);}},this);}_fb8();},uninitialize:function(){for(var name in this.plugins){try{this.plugins[name].destroy();}catch(e){}}}});return _fb0;});},"mxui/widget/plugins/DataGrid/Calculations":function(){define(["mxui/dom","mendix/logger","dojo/_base/lang","dojo/_base/array","big/big"],function(dom,_fba,_fbb,_fbc,Big){var $=dom.create;function _fbd(_fbe){var name="mxui.widget.plugins.DataGrid.Calculations";var _fbf=[];var _fc0=_fbe.parent;var _fc1=_fbe.config;if(!_fc0&&(_fc0.widgetType!="DataGrid")){throw new Error(name+".initialize : can only register to DataGrid!");}var _fc2={onDestroy:"plugineventOnDestroy",onRefresh:"plugineventOnRefresh"};var _fc3={};var _fc4=_fc0.getEntityProperties();var _fc5=function(){_fc0.showFootNode();var tr1=$("tr");var tr2=$("tr");_fc0.gridFootNode.appendChild(tr1);_fc0.gridFootNode.appendChild(tr2);var th,td=null;for(var i=0,_fc6;_fc6=_fc4[i];i++){var tag=_fc6.tag;th=$("th");td=$("td");_fc0.setColumnStyle(th,_fc6);_fc0.setColumnStyle(td,_fc6);if(_fc1[tag]){th.innerHTML=_fc1[tag].title||"";var _fc7=_fc6.render.toLowerCase();_fc1[tag].usesPrecision=(_fc7!=="integer"&&_fc7!=="long");}td.innerHTML="&nbsp;";_fc3[i]=td;tr1.appendChild(th);tr2.appendChild(td);}};var _fc8=function(){for(var i=0,_fc9;_fc9=_fc4[i];i++){_fc3[i].innerHTML="&nbsp;";}};var _fca=function(){if(!_fc0.constraintsFilled()){_fc8();return;}window.mx.server.request({request:{action:"retrieve_aggregates",params:{id:_fc0.schema,xpath:_fc0.getCurrentXPath()}},options:{callback:function(code,json){_fcb(_fbc.map(json.aggregates,function(agg){return agg===""?agg:new Big(agg);}));},useCache:false,preventCache:true}});};var _fcb=function(data){if(!data){return;}var _fcc=0,_fcd=_fc0.getHiddenAggregates().reverse();for(var h=0;h<_fcd.length;h++){data.splice(_fcd[h],1);}for(var i=0,_fce;_fce=_fc4[i];i++){var tag=_fce.tag;if(_fc1[tag]){var _fcf=data[_fcc++],opts=_fc4[i].display,_fd0=opts.precision;if(_fcf==null){continue;}if(_fcf==""){_fcf=0;}if(!_fc1[tag].usesPrecision){_fd0=0;}_fc3[i].innerHTML=window.mx.parser.formatValue(_fcf,"decimal",{groups:opts.formatted,places:_fd0});}}};this.plugineventOnDestroy=function(){this.destroy();};this.plugineventOnRefresh=function(){if(_fc0.constraintsFilled()){_fcb(_fc0.getAggregates());}else{_fc8();}};this.destroy=function(){while(_fbf.length!=0){window.mx.data.unsubscribe(_fbf.shift());}_fc0=null;};this.objectUpdate=function(){if(!_fc0.acceptingUpdates()){_fca();}};_fc5();for(var i in _fc2){_fc0.registerToPluginEvent(i,_fbb.hitch(this,_fc2[i]));}var zork={};zork[_fc0.entity]=true;metaEntity=window.mx.meta.getEntity(_fc0.entity);if(metaEntity.hasSuperEntities()){var _fd1=metaEntity.getSuperEntities();for(var i=0;i<_fd1.length;i++){zork[_fd1[i]]=true;}}if(metaEntity.hasSubEntities()){var _fd2=metaEntity.getSubEntities();for(var i=0;i<_fd2.length;i++){zork[_fd2[i]]=true;}}for(var i in zork){_fbf.push(window.mx.data.subscribe({entity:i,callback:_fbb.hitch(this,"objectUpdate")}));}};return _fbd;});},"mxui/widget/plugins/DataGrid/GridEditor":function(){define(["mxui/widget/MxInlineEditor","mxui/wm/focus","mxui/dom","mendix/logger","dojo/Deferred","dojo/keys","dojo/number","dojo/on","dojo/_base/event","dojo/_base/lang"],function(_fd3,_fd4,dom,_fd5,_fd6,_fd7,_fd8,_fd9,_fda,_fdb){function _fdc(_fdd){var name="plugins.GridEditor";this._connects=[];var _fde=null;var _fdf=null;var _fe0=false;var _fe1,_fe2=null;var _fe3={mxobject:null,node:null,row:-1,key:"",attr:"",attrclass:"",valid:true,invalidmsg:"",saving:false,objectSave:function(){if(!this.valid||!_fdf()){var def=new _fd6();def.reject(new Error(_fe3.invalidmsg));return def;}else{if(_fe3.saving){var def=this._def=new _fd6();return def;}else{if(_fe4.hasChanges()||_fe4.getEditorStatus()=="active"){if(_fe1()){var def=this._def=new _fd6();_fe2();return def;}if(!this.valid){this._def=null;return new Error("");}}else{return true;}}}},objectRollback:function(){var _fe5=_fe6();if(_fe5){var def=new _fd6();_fe5.rollback({error:function(){def.resolve();},callback:function(){def.reject();}});return def;}return true;}};var grid=_fdd.parent;var _fe4=null;name=grid.id+"."+name;var _fe7=null;var _fe8={};var _fe9="";var _fea="";var _feb=false;if(grid&&(grid.declaredClass!="mxui.widget.DataGrid")){_fd5.error(name+".initialize : can only register to DataGrid!");}else{}var _fec={},_fed=[];var _fee=function(){_fe4.stopEditing();_fe4.endEdit();if(_fe3.saving){grid.acceptUpdates();}else{if(_fe0){grid.objectUpdate();}}_fe0=false;};var _fef=function(_ff0){var guid=_ff0.getGuid();var _ff1=function(){if(_fec[guid]){window.mx.data.unsubscribe(_fec[guid].sub);window.mx.data.unsubscribe(_fec[guid].val);delete _fec[guid];}};var func=_fec[guid];if(func){clearTimeout(func.timer);}else{func=_fec[guid]=new function(){this.objectUpdate=function(guid){if(typeof guid=="object"){return;}var _ff2=_ff0&&_ff0.getGuid();if(guid!=_ff2){clearTimeout(this.timer);_ff1();window.mx.data.get({xpath:"//"+_ff0.getEntity()+"[id="+guid+"]",filter:{id:grid.getSchemaId()},noCache:true,callback:function(objs){grid.updateMxObject(objs[0]);},error:function(e){window.mx.onError(e);}});}};this.validationUpdate=function(vals){_fe3.invalidmsg=vals[0].getErrorReason(_fe3.key);};};}func.timer=setTimeout(_ff1,5000);func.sub=window.mx.data.subscribe({guid:guid,callback:_fdb.hitch(func,"objectUpdate")});func.val=window.mx.data.subscribe({guid:guid,val:true,callback:_fdb.hitch(func,"validationUpdate")});};var _ff3={onLoad:"plugineventOnLoad",preRefresh:"plugineventPreRefresh",onRefresh:"plugineventOnRefresh",onSync:"plugineventOnSync",onCellClicked:"plugineventCellClicked",onSelectRow:"plugineventSelectRow"};var _ff4=function(_ff5){var _ff6=null;if(_fe3.mxobject){_ff6=_fe3.mxobject.getGuid();_fe3.mxobject=null;}if(_ff5){_fe3.mxobject=_ff5;var guid=_fe3.mxobject.getGuid();if(_ff6!=guid){_fe3.valid=true;_fe3.invalidmsg="";}}};var _fe6=function(){return _fe3.mxobject;};var _ff7=function(node){_fe3.node=node;_fe3.row=grid.domData(node,"row");_fe3.key=grid.domData(node,"key");_fe3.col=grid.domData(node,"column");_fe3.datakey=_fe3.key;_fe3.gridsize=grid.getCurrentGridSize();var attr=_fe3.key;if(attr.match("/")!=null){attr=attr.split("/")[0];}_fe3.attrclass=_fde.getAttributeType(attr);_fe3.attr=attr;_fe3.row=parseInt(_fe3.row,10);if(_fe3.key.match(/\//)){_fe3.key=_fe3.key.replace(/^.*\//,"");}_ff4(grid.getMxObjectAtRow(_fe3.row));};var _ff8=function(_ff9){var _ffa=_ff9.mxObject;var attr=_ff9.attribute;var _ffb=_ff9.value;if(typeof (_ffb)!="string"){_ffb=_ffb.toString();}if(_ffb==""){return true;}switch(_ffa.getAttributeType(attr)){case "Enum":var map=_ffa.getEnumMap(attr);for(var i=0;i<map.length;i++){if(map[i].key==_ffb){return true;}}return false;break;case "Integer":case "Long":case "Float":case "Currency":var _ffc=_ffb.replace(/^-/,"").replace(/(\,|\.)/g,"").replace(/\d/g,"");return (_ffc=="");break;case "Date":case "DateTime":if(_ffb.match(/^\d+[\/-]\d+[\/-]\d+$/)!=null){var _ffd=window.mx.parser.parseDate(_ffb);return isNaN(_ffd)?false:true;}else{return false;}break;default:return true;break;}};_fdf=function(){var obj=_fe6();if(!obj){return true;}if(_fe4.getEditorStatus()!="active"){return true;}if(_fe4.hasChanges()){var _ffe=_fe4.getValue();var _fff=_ffe;var ref=_fe3.attr;if(_fde.isReference(ref)){return true;}else{if(_ff8({mxObject:obj,attribute:ref,value:_fff})){return true;}else{return false;}}}return true;};_fe1=function(){var mxobj=_fe6();if(!mxobj){return false;}if(_fe4.hasChanges()){var value=_fe4.getValue();var _1000=value;var ref=_fe3.attr;if(_fde.isReference(ref)){mxobj.set(ref,_1000);}else{if(_ff8({mxObject:mxobj,attribute:ref,value:_1000})){_fe3.valid=true;_fe3.invalidmsg="";switch(_fe3.attrclass){case "Date":case "DateTime":_1000=(value=="")?"":window.mx.parser.parseDate(value);break;case "Enum":_1000=value;break;case "Long":case "Integer":_1000=window.mx.parser.parseValue2(value,"integer");_1000=_1000===null?"":_1000;break;case "Currency":case "Decimal":case "Float":_1000=window.mx.parser.parseValue2(value,"float",{places:_fe7[_fe3.col].display.precision});_1000=_1000===null?"":_1000;break;case "String":case "Text":_1000=dom.unescapeString(value);break;case "Boolean":_1000=(value==="true");break;default:break;}mxobj.set(ref,_1000);}else{_fe3.valid=false;_fe4.undoChanges();var msg=_fe3.invalidmsg=window.mx.ui.translate("mendix.lib.Validations","invalid_attribute",[value,mxobj.getEntity()+"/"+_fe3.key]);window.mx.ui.error(msg);}}}return mxobj.hasChanges();};var _1001=function(){if(!_feb){grid.addToSyncDeferQueue();_feb=true;}else{}};var _1002=function(){if(_feb){grid.removeFromSyncDeferQueue();_feb=false;}else{}};var _1003=function(e){if(_fe3._def){_fe3._def.reject(new Error(""));_fe3._def=null;}_fed=[];_fe3.valid=false;_fe3.saving=false;grid.acceptUpdates();_1002();};_fe2=function(_1004){if(_1004){_fed.push(_1004);}if(!_fe3.saving){var mxobj=_fe6();if(mxobj&&mxobj.hasChanges()){grid.preventUpdates();_fe3.saving=true;_fe0=true;_fef(mxobj);window.mx.data.save({mxobj:mxobj,callback:function(){mxobj.commit({callback:function(){_fe3.valid=true;_fe3.invalidmsg="";_fe3.saving=false;if(_fe3._def){_fe3._def.resolve();_fe3._def=null;}grid.acceptUpdates();_1002();mendix.lang.collect(_fed);},error:_1003});},error:_1003});}else{mendix.lang.collect(_fed);}}else{}};var _1005=false;var _1006=[];var _1007=function(node,_1008){var div,td=dom.getAncestorNode(node,"TD");if(node.nodeName.toLowerCase()==="div"){div=node;}else{div=node.querySelector("div:first-child");}if(_fe4.getEditorStatus()=="active"){if(_fe1()){_fe2();}}if(div&&td){_ff7(td);if(_fe3.row>=_fe3.gridsize){return;}var attr=_fe3.datakey,split=attr.split("/"),ref;if(split.length>1){attr=split[0];ref=split[2];}var mxobj=_fe6();if(!_fe7[_fe3.col].editable){_fee();_ff4(null);}else{if(_fde.isReference(attr)){var _1009=function(_100a){var _100b={selected:mxobj.getReference(attr),items:{}};_fe8[_fe3.datakey].source.each(function(o){var value;switch(o.getAttributeType(ref)){case "Boolean":_100b.items[o.getGuid()]=window.mx.ui.translate("mxui.widget.DataGrid",o.get2(ref)+"");break;case "DateTime":_100b.items[o.getGuid()]=window.mx.parser.formatDate(o.get2(ref));break;case "Enum":_100b.items[o.getGuid()]=o.getEnumCaption(ref);break;default:_100b.items[o.getGuid()]=o.get2(ref);}});_fe4.editNode(div,"reference",_100b);_1008&&_fe4.startEditing();_100a&&_100a();};if(!_1005){_1006.push(_1009);}else{_1009();}}else{switch(_fde.getAttributeType(attr)){case "Boolean":_fe4.editNode(div,"boolean",{selected:mxobj.get2(attr)+"",items:{"false":window.mx.ui.translate("mxui.widget.DataGrid","false"),"true":window.mx.ui.translate("mxui.widget.DataGrid","true")}});_1008&&_fe4.startEditing();break;case "Date":case "DateTime":_fe4.editNode(div,"date");break;case "Enum":_fe4.editNode(div,"enum",{selected:mxobj.get2(attr),items:_fde.getEnumKVPairs(attr)});_1008&&_fe4.startEditing();break;case "Currency":case "Decimal":case "Float":_fe4.editNode(div,"text",{hasDecimalPoint:true});break;default:_fe4.editNode(div,"text");break;}}}}else{}};var _100c=function(){var found=false;for(var i=0,_100d;_100d=_fe7[i];i++){if(found){if(_100d.editable){return _100d.tag;}}if(i==_fe3.col){found=true;}}};var _100e=function(){var key="";for(var i=0,_100f;_100f=_fe7[i];i++){if(i==_fe3.col){return key;}if(_100f.editable){key=_100f.tag;}}};var _1010=function(){if(grid.getCurrentGridSize()==0){return;}var row=0;var mxobj=_fe6();if(mxobj!=null){var row=grid.getRowForMxObject(mxobj);if(row==null){row=0;}}var node=grid.getCellNode(row,_fe3.datakey||_fe9);if(node){_1007(node);}};var _1011=function(){if(grid.getCurrentGridSize()==0){return;}var node=grid.getCellNode(0,_fe3.datakey||_fe9);if(node){_1007(node);}};var _1012=function(){_fe1()&&_fe2();if(_fe3.row!=0){var node=grid.getCellNode((_fe3.row-1),_fe3.datakey);_1007(node);}};var _1013=function(){_fe1()&&_fe2();if(_fe3.row!=(_fe3.gridsize-1)){var node=grid.getCellNode((_fe3.row+1),_fe3.datakey);if(node&&(node!=_fe3.node)){_1007(node);}}};var _1014=function(){if((_fe3.datakey==_fe9)&&(_fe3.row!=0)){_fe3.datakey=_fea;_1012();}else{if(_fe3.datakey!=_fe9){_fe1();var node=grid.getCellNode(_fe3.row,_100e());if(node){_1007(node);}}}};var _1015=function(){if(_fe3.datakey==_fea){if(_fe3.row!=(_fe3.gridsize-1)){_fe3.datakey=_fe9;_1013();}else{_fe1()&&_fe2();_fd4.next();_fee();_ff4(null);}}else{if(_fe3.datakey!=_fea){_fe1();var node=grid.getCellNode(_fe3.row,_100c());if(node){_1007(node);}}}};var _1016=function(){grid.domNode.className+=" inlineGrid";};this.plugineventOnLoad=function(e){_1016();};this.plugineventOnSync=function(e){if(_fe4.hasChanges()){_1001();_fe4.stopEditing();if(_fe1()){_fe2();}else{_1002();}}};this.plugineventOnDestroy=function(e){_fee();if(_fe4.hasChanges()){_fe1();}var mxobj=_fe6();if(mxobj&&mxobj.hasChanges()){_fe2();}};this.plugineventSelectRow=function(e){var row=e.row;var node=grid.getCellNode(row,_fe3.datakey||_fe9);if(node){_1007(node);}};this.plugineventOnRefresh=function(e){if(grid.getCurrentGridSize()==0){return;}switch(_fe4.getEditorStatus()){case "inactive":break;case "active":case "ready":_1010();break;}};this.plugineventPreRefresh=function(e){if(_fe4.hasChanges()){_fe1();}var mxobj=_fe6();if(mxobj&&mxobj.hasChanges()){_fe2();}_fee();};this.plugineventCellClicked=function(e){if(_fe4.hasChanges()){_fe1();}_1007(e.target,true);if(e.target.nodeName.toLowerCase()=="select"){_fda.stop(e);}else{this._editorClicked=true;}};this.editorClickHandler=function(e){if(!this._editorClicked){try{if(_fe3.valid&&_fe1()){_fe2();}}catch(e){_fd5.error(name+".editorClickHandler:"+e.message);}_fee();_ff4(null);}this._editorClicked=false;};this.editorKeyHandler=function(event){var _1017=event.keyCode;switch(_fe4.getEditorStatus()){case "inactive":break;case "ready":switch(_1017){case 37:_1014();break;case 38:_1012();break;case 9:event.stopPropagation();event.preventDefault();if(event.shiftKey===true){_1014();break;}case 39:_1015();break;case 40:_1013();break;case 13:case 18:case 32:case 27:case 113:_fe4.startEditing();break;case _fd7.BACKSPACE:_fe4.startEditing("");break;default:if((_1017>=48)&&(_1017<=110)){_fe4.startEditing();}break;}break;case "active":switch(_1017){case 9:event.stopPropagation();event.preventDefault();case 13:_fe4.stopEditing();_1015();break;case 27:_fe4.undoChanges();_1015();break;default:break;}break;}return false;};var _1018=null;this.destroy=function(){try{while(this._connects.length!=0){this._connects.pop().remove();}this.plugineventOnDestroy();_fe4.destroy();for(var i in _fe8){_fe8[i].source.destroy();}_fe8=null;while(_1018.length){window.mx.screen.unsubscribe(_1018.pop());}_1018=null;}catch(e){}grid=null;};try{_fe4=new _fd3();}catch(e){}_fe4.eventKeyHandler=this.editorKeyHandler;_fde=window.mx.meta.getEntity(grid.entity);_fe7=grid.getEntityProperties();var split=[];for(var i=0,_1019;_1019=_fe7[i];i++){var tag=_1019.tag;split=tag.split(/\//);if(_1019.editable){if(_fe9==""){_fe9=tag;}_fea=tag;}if(_1019.editable){try{if(_fde.isReference(split[0])){_fe8[tag]={key:split[split.length],source:new webcore.datasource.XPathSource({entity:split[split.length-2],page:100})};var ds=_fe8[tag].source;ds.reload(function(){_1005=true;mendix.lang.sequence(_1006);});}}catch(e){}}}for(var i in _ff3){grid.registerToPluginEvent(i,_fdb.hitch(this,_ff3[i]));}this._connects.push(_fd9(document.body,"click",_fdb.hitch(this,"editorClickHandler")));_1018=[window.mx.screen.subscribe(grid.getContent(),"saveObject",_fdb.hitch(_fe3,"objectSave")),window.mx.screen.subscribe(grid.getContent(),"rollbackObject",_fdb.hitch(_fe3,"objectRollback"))];grid.registerToPluginEvent("invokeAction",function(args,_101a){_fe2(_101a);},true);};return _fdc;});},"mxui/widget/MxInlineEditor":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Templated","mxui/dom","mendix/logger","dojo/sniff","dojo/_base/event","dojo/dom","dojo/dom-geometry","dojo/_base/lang","dojo/i18n","dojo/_base/kernel","dojo/_base/declare","dojo/text!mxui/widget/templates/MxInlineEditor.html"],function(_101b,_101c,dom,_101d,_101e,_101f,_1020,_1021,_1022,_1023,_1024,_1025,_1026){var _1027=function(node,prop){return (parseInt(node.getAttribute(prop)));};var _1028=function(node,prop){return node.getAttribute(prop);};var _1029=_1025([_101b,_101c],{declaredClass:"mxui.widget.MxInlineEditor",domNode:null,form:null,text:null,enumtext:null,select:null,minWidth:40,minHeight:200,templateString:_1026,textValue:"",targetNode:null,_options:null,_nodeList:[],_status:"inactive",_previousValue:"",_editingmode:"text",constructor:function(){this.boolOptions={};this.boolOptions[window.mx.ui.translate("mxui.widget.DataGrid","true")]="true";this.boolOptions[window.mx.ui.translate("mxui.widget.DataGrid","false")]="false";this._locale=_1023.getLocalization("dojo.cldr","number",_1024.locale);},postCreate:function(){this._nodeList=[this.text,this.select,this.readonly,this.enumtext];this.connect(document.body,"onkeydown","eventOnKeyDown");this.connect(this.form,"onsubmit","eventOnSubmit");this.connect(this.form,"onclick","eventOnClick");this.connect(this.select,"onclick","selectClicked");this.connect(this.text,"keydown","onKeyDown");},selectClicked:function(e){_101f.stop(e);return false;},_hideNodes:function(){for(var i=0;i<this._nodeList.length;i++){this._nodeList[i].style.display="none";}},editNode:function(node,_102a,opts){this._options=opts;this._editingmode=_102a.toLowerCase();var _102b=this.targetNode&&this.targetNode.parentNode;if(_102b){this.targetNode.style.display="";_1020.setSelectable(_102b,false);}this.targetNode=node;this._hideNodes();var td=this.targetNode.parentNode;td.appendChild(this.form);_1020.setSelectable(td,true);this.textValue=dom.unescapeString(this.targetNode.innerHTML);if(this.textValue==="&nbsp;"){this.textValue="";}if(this.textValue.length===0){this.targetNode.innerHTML="&nbsp;";}this._previousValue=this.textValue;this.setupEditNode();},setStyleFromTarget:function(node){node.value=_1022.trim(this.textValue);if(!_101e("ie")){node.style.fontSize=_1027(this.targetNode,"font-size");node.style.fontWeight=_1028(this.targetNode,"font-weight");node.style.fontStyle=_1028(this.targetNode,"font-style");}var bb=_1021.getMarginBox(this.targetNode);node.style.width="100%";return bb;},setupTextNode:function(){this.text.style.textAlign=this.targetNode.parentNode.style.textAlign;var ee=this.text;ee.value=_1022.trim(this.textValue);ee.style.display="";this.setStyleFromTarget(ee);this.form.style.display="";this.targetNode.style.display="none";try{ee.select();ee.focus();ee.setAttribute("readonly","readonly");}catch(e){}},setupEditNode:function(){switch(this._editingmode){case "text":case "date":this.setupTextNode();break;case "reference":case "boolean":case "enum":this.setupEnumNode();break;case "readonly":this.setupReadOnlyNode();break;}this._status="ready";},setupEnumNode:function(){this.setStyleFromTarget(this.enumtext);this.setStyleFromTarget(this.select);this.enumtext.style.display="";this.enumtext.value=this._options.items[this._options.selected];this.enumtext.setAttribute("readonly","readonly");dom.setSelectOptions(this.select,this._options.items,this._options.selected);this.form.style.display="";this.targetNode.style.display="none";try{this.enumtext.select();this.enumtext.focus();}catch(e){}},setupReadOnlyNode:function(){this.setStyleFromTarget(this.readonly);this.targetNode.style.display="none";this.readonly.style.display="";this.readonly.value=this.textValue;this.form.style.display="";this.readonly.focus();this.readonly.setAttribute("readonly","readonly");},undoChanges:function(){if(this._status==="active"||this._status==="ready"){if(this.targetNode){this.targetNode.innerHTML=this._previousValue;}if((this._editingmode==="enum")||(this._editingmode==="reference")||this._editingmode==="boolean"){dom.selectOptionByText(this.select,this._previousValue);}else{if(this._editingmode==="readonly"){}else{this.text.value=dom.unescapeString(this._previousValue);}}}},startEditing:function(str){switch(this._editingmode){case "date":case "text":this.text.removeAttribute("readonly");if(str){this.text.value=dom.unescapeString(str);}try{this.text.select();this.text.focus();this._status="active";}catch(e){this.endEdit();}break;case "boolean":case "reference":case "enum":this.enumtext.style.display="none";this.select.style.display="";this.select.removeAttribute("readonly");this.select.focus();this._status="active";break;case "readonly":this._status="ready";break;default:break;}},stopEditing:function(){switch(this._editingmode){case "text":case "date":this.text.setAttribute("readonly","readonly");break;case "boolean":case "reference":case "enum":this.select.setAttribute("readonly","readonly");break;case "readonly":break;default:break;}this._status="ready";},endEdit:function(){if(this._status==="ready"||this._status==="active"){this.domNode.appendChild(this.form);if(this.targetNode){this.targetNode.style.display="";}this._status="inactive";}},eventOnClick:function(){if(this._status==="ready"){this.startEditing();}},eventOnKeyDown:function(e){this.eventKeyHandler(e);},onKeyDown:function(event){if(this._options&&this._options.hasDecimalPoint&&event.keyCode===110){event.preventDefault();var _102c=this._locale.decimal;dom.insertAtCaret(this.text,_102c);}},hasChanges:function(){if(this._editingmode==="readonly"||this._status==="inactive"){return false;}var value="";switch(this._editingmode){case "boolean":case "reference":case "enum":value=dom.getSelectedText(this.select);break;default:value=this.text.value;break;}return (this._previousValue!=value);},getValue:function(){if((this._editingmode==="enum")||(this._editingmode==="reference")||this._editingmode==="boolean"){this.targetNode.innerHTML=dom.getSelectedText(this.select);return (this.textValue=dom.getSelectedValue(this.select));}else{if(this._editingmode==="readonly"){return false;}else{this.textValue=this.text.value;dom.text(this.targetNode,this.textValue);return this.textValue;}}},getEditorStatus:function(){return this._status;},isActive:function(){return this._status==="active";},isInActive:function(){return this._status==="inactive";},isReady:function(){return this._status==="ready";},eventKeyHandler:function(){},eventOnSubmit:function(){return false;}});return _1029;});},"mxui/mixin/_Templated":function(){define(["dijit/_TemplatedMixin","dojo/_base/declare"],function(_102d,_102e){var _102f=_102e(_102d,{destroyRendering:function(){this._attachPoints=[];this.inherited(arguments);}});return _102f;});},"dijit/_TemplatedMixin":function(){define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(cache,_1030,_1031,lang,on,has,_1032,_1033){var _1034=_1030("dijit._TemplatedMixin",_1033,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(tmpl){var _1035=this.declaredClass,_1036=this;return _1032.substitute(tmpl,this,function(value,key){if(key.charAt(0)=="!"){value=lang.getObject(key.substr(1),false,_1036);}if(typeof value=="undefined"){throw new Error(_1035+" template:"+key);}if(value==null){return "";}return key.charAt(0)=="!"?value:this._escapeValue(""+value);},this);},_escapeValue:function(val){return val.replace(/["'<>&]/g,function(val){return {"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#x27;"}[val];});},buildRendering:function(){if(!this._rendered){if(!this.templateString){this.templateString=cache(this.templatePath,{sanitize:true});}var _1037=_1034.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_1037)){node=_1031.toDom(this._stringRepl(_1037),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_1037);}}else{node=_1037.cloneNode(true);}this.domNode=node;}this.inherited(arguments);if(!this._rendered){this._fillContent(this.srcNodeRef);}this._rendered=true;},_fillContent:function(_1038){var dest=this.containerNode;if(_1038&&dest){while(_1038.hasChildNodes()){dest.appendChild(_1038.firstChild);}}}});_1034._templateCache={};_1034.getCachedTemplate=function(_1039,_103a,doc){var _103b=_1034._templateCache;var key=_1039;var _103c=_103b[key];if(_103c){try{if(!_103c.ownerDocument||_103c.ownerDocument==(doc||document)){return _103c;}}catch(e){}_1031.destroy(_103c);}_1039=_1032.trim(_1039);if(_103a||_1039.match(/\$\{([^\}]+)\}/g)){return (_103b[key]=_1039);}else{var node=_1031.toDom(_1039,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_1039);}return (_103b[key]=node);}};if(has("ie")){on(window,"unload",function(){var cache=_1034._templateCache;for(var key in cache){var value=cache[key];if(typeof value=="object"){_1031.destroy(value);}delete cache[key];}});}return _1034;});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(dojo,_103d,has,_103e){var _103f;if(1){_103f=function(url,sync,load){_103e(url,{sync:!!sync,headers:{"X-Requested-With":null}}).then(load);};}else{if(_103d.getText){_103f=_103d.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _1040={},strip=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _1041=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_1041){text=_1041[1];}}else{text="";}return text;},_1042={},_1043={};dojo.cache=function(_1044,url,value){var key;if(typeof _1044=="string"){if(/\//.test(_1044)){key=_1044;value=url;}else{key=_103d.toUrl(_1044.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_1044+"";value=url;}var val=(value!=undefined&&typeof value!="string")?value.value:value,_1045=value&&value.sanitize;if(typeof val=="string"){_1040[key]=val;return _1045?strip(val):val;}else{if(val===null){delete _1040[key];return null;}else{if(!(key in _1040)){_103f(key,true,function(text){_1040[key]=text;});}return _1045?strip(_1040[key]):_1040[key];}}};return {dynamic:true,normalize:function(id,_1046){var parts=id.split("!"),url=parts[0];return (/^\./.test(url)?_1046(url):url)+(parts[1]?"!"+parts[1]:"");},load:function(id,_1047,load){var parts=id.split("!"),_1048=parts.length>1,_1049=parts[0],url=_1047.toUrl(parts[0]),_104a="url:"+url,text=_1042,_104b=function(text){load(_1048?strip(text):text);};if(_1049 in _1040){text=_1040[_1049];}else{if(_1047.cache&&_104a in _1047.cache){text=_1047.cache[_104a];}else{if(url in _1040){text=_1040[url];}}}if(text===_1042){if(_1043[url]){_1043[url].push(_104b);}else{var _104c=_1043[url]=[_104b];_103f(url,!_1047.async,function(text){_1040[_1049]=_1040[url]=text;for(var i=0;i<_104c.length;){_104c[i++](text);}delete _1043[url];});}}else{_104b(text);}}};});},"dojo/request":function(){define(["./request/default!"],function(_104d){return _104d;});},"dojo/request/default":function(){define(["exports","require","../has"],function(_104e,_104f,has){var defId=has("config-requestProvider"),_1050;if(1||has("host-webworker")){_1050="./xhr";}else{if(0){_1050="./node";}}if(!defId){defId=_1050;}_104e.getPlatformDefaultId=function(){return _1050;};_104e.load=function(id,_1051,_1052,_1053){_104f([id=="platform"?_1050:defId],function(_1054){_1052(_1054);});};});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(_1055,lang){var _1056=/[&<>'"\/]/g;var _1057={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#x27;","/":"&#x2F;"};var _1058={};lang.setObject("dojo.string",_1058);_1058.escape=function(str){if(!str){return "";}return str.replace(_1056,function(c){return _1057[c];});};_1058.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};_1058.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=_1058.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};_1058.substitute=function(_1059,map,_105a,_105b){_105b=_105b||_1055.global;_105a=_105a?lang.hitch(_105b,_105a):function(v){return v;};return _1059.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(match,key,_105c){var value=lang.getObject(key,false,map);if(_105c){value=lang.getObject(_105c,false,_105b).call(_105b,value,key);}return _105a(value,key).toString();});};_1058.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return _1058;});},"dijit/_AttachMixin":function(){define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_105d,array,_105e,_105f,lang,mouse,on,touch,_1060){var _1061=lang.delegate(touch,{"mouseenter":mouse.enter,"mouseleave":mouse.leave,"keypress":_105e._keypress});var _1062;var _1063=_105f("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent();},_beforeFillContent:function(){},_attachTemplateNodes:function(_1064){var node=_1064;while(true){if(node.nodeType==1&&(this._processTemplateNode(node,function(n,p){return n.getAttribute(p);},this._attach)||this.searchContainerNode)&&node.firstChild){node=node.firstChild;}else{if(node==_1064){return;}while(!node.nextSibling){node=node.parentNode;if(node==_1064){return;}}node=node.nextSibling;}}},_processTemplateNode:function(_1065,_1066,_1067){var ret=true;var _1068=this.attachScope||this,_1069=_1066(_1065,"dojoAttachPoint")||_1066(_1065,"data-dojo-attach-point");if(_1069){var point,_106a=_1069.split(/\s*,\s*/);while((point=_106a.shift())){if(lang.isArray(_1068[point])){_1068[point].push(_1065);}else{_1068[point]=_1065;}ret=(point!="containerNode");this._attachPoints.push(point);}}var _106b=_1066(_1065,"dojoAttachEvent")||_1066(_1065,"data-dojo-attach-event");if(_106b){var event,_106c=_106b.split(/\s*,\s*/);var trim=lang.trim;while((event=_106c.shift())){if(event){var _106d=null;if(event.indexOf(":")!=-1){var _106e=event.split(":");event=trim(_106e[0]);_106d=trim(_106e[1]);}else{event=trim(event);}if(!_106d){_106d=event;}this._attachEvents.push(_1067(_1065,event,lang.hitch(_1068,_106d)));}}}return ret;},_attach:function(node,type,func){type=type.replace(/^on/,"").toLowerCase();if(type=="dijitclick"){type=_1062||(_1062=_105d("./a11yclick"));}else{type=_1061[type]||type;}return on(node,type,func);},_detachTemplateNodes:function(){var _106f=this.attachScope||this;array.forEach(this._attachPoints,function(point){delete _106f[point];});this._attachPoints=[];array.forEach(this._attachEvents,function(_1070){_1070.remove();});this._attachEvents=[];},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments);}});lang.extend(_1060,{dojoAttachEvent:"",dojoAttachPoint:""});return _1063;});},"dojo/i18n":function(){define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(dojo,_1071,has,array,_1072,lang,xhr,json,_1073){has.add("dojo-preload-i18n-Api",1);1||has.add("dojo-v1x-i18n-Api",1);var _1074=dojo.i18n={},nlsRe=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_1075=function(root,_1076,_1077,_1078){for(var _1079=[_1077+_1078],_107a=_1076.split("-"),_107b="",i=0;i<_107a.length;i++){_107b+=(_107b?"-":"")+_107a[i];if(!root||root[_107b]){_1079.push(_1077+_107b+"/"+_1078);_1079.specificity=_107b;}}return _1079;},cache={},_107c=function(_107d,_107e,_107f){_107f=_107f?_107f.toLowerCase():dojo.locale;_107d=_107d.replace(/\./g,"/");_107e=_107e.replace(/\./g,"/");return (/root/i.test(_107f))?(_107d+"/nls/"+_107e):(_107d+"/nls/"+_107f+"/"+_107e);},_1080=dojo.getL10nName=function(_1081,_1082,_1083){return _1081=_1073.id+"!"+_107c(_1081,_1082,_1083);},_1084=function(_1085,_1086,_1087,_1088,_1089,load){_1085([_1086],function(root){var _108a=lang.clone(root.root||root.ROOT),_108b=_1075(!root._v1x&&root,_1089,_1087,_1088);_1085(_108b,function(){for(var i=1;i<_108b.length;i++){_108a=lang.mixin(lang.clone(_108a),arguments[i]);}var _108c=_1086+"/"+_1089;cache[_108c]=_108a;_108a.$locale=_108b.specificity;load();});});},_108d=function(id,_108e){return /^\./.test(id)?_108e(id):id;},_108f=function(_1090){var list=_1072.extraLocale||[];list=lang.isArray(list)?list:[list];list.push(_1090);return list;},load=function(id,_1091,load){if(has("dojo-preload-i18n-Api")){var split=id.split("*"),_1092=split[1]=="preload";if(_1092){if(!cache[id]){cache[id]=1;_1093(split[2],json.parse(split[3]),1,_1091);}load(1);}if(_1092||_1094(id,_1091,load)){return;}}var match=nlsRe.exec(id),_1095=match[1]+"/",_1096=match[5]||match[4],_1097=_1095+_1096,_1098=(match[5]&&match[4]),_1099=_1098||dojo.locale||"",_109a=_1097+"/"+_1099,_109b=_1098?[_1099]:_108f(_1099),_109c=_109b.length,_109d=function(){if(!--_109c){load(lang.delegate(cache[_109a]));}};array.forEach(_109b,function(_109e){var _109f=_1097+"/"+_109e;if(has("dojo-preload-i18n-Api")){_10a0(_109f);}if(!cache[_109f]){_1084(_1091,_1097,_1095,_1096,_109e,_109d);}else{_109d();}});};if(has("dojo-unit-tests")){var _10a1=_1074.unitTests=[];}if(has("dojo-preload-i18n-Api")||1){var _10a2=_1074.normalizeLocale=function(_10a3){var _10a4=_10a3?_10a3.toLowerCase():dojo.locale;return _10a4=="root"?"ROOT":_10a4;},isXd=function(mid,_10a5){return (1&&1)?_10a5.isXdUrl(_1071.toUrl(mid+".js")):true;},_10a6=0,_10a7=[],_1093=_1074._preloadLocalizations=function(_10a8,_10a9,_10aa,_10ab){_10ab=_10ab||_1071;function _10ac(mid,_10ad){if(isXd(mid,_10ab)||_10aa){_10ab([mid],_10ad);}else{_10c5([mid],_10ad,_10ab);}};function _10ae(_10af,func){var parts=_10af.split("-");while(parts.length){if(func(parts.join("-"))){return;}parts.pop();}func("ROOT");};function _10b0(){_10a6++;};function _10b1(){--_10a6;while(!_10a6&&_10a7.length){load.apply(null,_10a7.shift());}};function _10b2(path,name,loc,_10b3){return _10b3.toAbsMid(path+name+"/"+loc);};function _10b4(_10b5){_10b5=_10a2(_10b5);_10ae(_10b5,function(loc){if(array.indexOf(_10a9,loc)>=0){var mid=_10a8.replace(/\./g,"/")+"_"+loc;_10b0();_10ac(mid,function(_10b6){for(var p in _10b6){var _10b7=_10b6[p],match=p.match(/(.+)\/([^\/]+)$/),_10b8,_10b9;if(!match){continue;}_10b8=match[2];_10b9=match[1]+"/";_10b7._localized=_10b7._localized||{};var _10ba;if(loc==="ROOT"){var root=_10ba=_10b7._localized;delete _10b7._localized;root.root=_10b7;cache[_1071.toAbsMid(p)]=root;}else{_10ba=_10b7._localized;cache[_10b2(_10b9,_10b8,loc,_1071)]=_10b7;}if(loc!==_10b5){function _10bb(_10bc,_10bd,_10be,_10bf){var _10c0=[],_10c1=[];_10ae(_10b5,function(loc){if(_10bf[loc]){_10c0.push(_1071.toAbsMid(_10bc+loc+"/"+_10bd));_10c1.push(_10b2(_10bc,_10bd,loc,_1071));}});if(_10c0.length){_10b0();_10ab(_10c0,function(){for(var i=0;i<_10c0.length;i++){_10be=lang.mixin(lang.clone(_10be),arguments[i]);cache[_10c1[i]]=_10be;}cache[_10b2(_10bc,_10bd,_10b5,_1071)]=lang.clone(_10be);_10b1();});}else{cache[_10b2(_10bc,_10bd,_10b5,_1071)]=_10be;}};_10bb(_10b9,_10b8,_10b7,_10ba);}}_10b1();});return true;}return false;});};_10b4();array.forEach(dojo.config.extraLocale,_10b4);},_1094=function(id,_10c2,load){if(_10a6){_10a7.push([id,_10c2,load]);}return _10a6;},_10a0=function(){};}if(1){var _10c3={},_10c4=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},"+"\t   require = function(){define.called = 1;};"+"try{"+"define.called = 0;"+"eval(__bundle);"+"if(define.called==1)"+"return __amdValue;"+"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))"+"return __checkForLegacyModules;"+"}catch(e){}"+"try{"+"return eval('('+__bundle+')');"+"}catch(e){"+"return e;"+"}"),_10c5=function(deps,_10c6,_10c7){var _10c8=[];array.forEach(deps,function(mid){var url=_10c7.toUrl(mid+".js");function load(text){var _10c9=_10c4(text,_10a0,mid,_10c3);if(_10c9===_10c3){_10c8.push(cache[url]=_10c3.result);}else{if(_10c9 instanceof Error){console.error("failed to evaluate i18n bundle; url="+url,_10c9);_10c9={};}_10c8.push(cache[url]=(/nls\/[^\/]+\/[^\/]+$/.test(url)?_10c9:{root:_10c9,_v1x:1}));}};if(cache[url]){_10c8.push(cache[url]);}else{var _10ca=_10c7.syncLoadNls(mid);if(_10ca){_10c8.push(_10ca);}else{if(!xhr){try{_10c7.getText(url,true,load);}catch(e){_10c8.push(cache[url]={});}}else{xhr.get({url:url,sync:true,load:load,error:function(){_10c8.push(cache[url]={});}});}}}});_10c6&&_10c6.apply(null,_10c8);};_10a0=function(_10cb){for(var _10cc,names=_10cb.split("/"),_10cd=dojo.global[names[0]],i=1;_10cd&&i<names.length-1;_10cd=_10cd[names[i++]]){}if(_10cd){_10cc=_10cd[names[i]];if(!_10cc){_10cc=_10cd[names[i].replace(/-/g,"_")];}if(_10cc){cache[_10cb]=_10cc;}}return _10cc;};_1074.getLocalization=function(_10ce,_10cf,_10d0){var _10d1,_10d2=_107c(_10ce,_10cf,_10d0);load(_10d2,(!isXd(_10d2,_1071)?function(deps,_10d3){_10c5(deps,_10d3,_1071);}:_1071),function(_10d4){_10d1=_10d4;});return _10d1;};if(has("dojo-unit-tests")){_10a1.push(function(doh){doh.register("tests.i18n.unit",function(t){var check;check=_10c4("{prop:1}",_10a0,"nonsense",_10c3);t.is({prop:1},check);t.is(undefined,check[1]);check=_10c4("({prop:1})",_10a0,"nonsense",_10c3);t.is({prop:1},check);t.is(undefined,check[1]);check=_10c4("{'prop-x':1}",_10a0,"nonsense",_10c3);t.is({"prop-x":1},check);t.is(undefined,check[1]);check=_10c4("({'prop-x':1})",_10a0,"nonsense",_10c3);t.is({"prop-x":1},check);t.is(undefined,check[1]);check=_10c4("define({'prop-x':1})",_10a0,"nonsense",_10c3);t.is(_10c3,check);t.is({"prop-x":1},_10c3.result);check=_10c4("define('some/module', {'prop-x':1})",_10a0,"nonsense",_10c3);t.is(_10c3,check);t.is({"prop-x":1},_10c3.result);check=_10c4("this is total nonsense and should throw an error",_10a0,"nonsense",_10c3);t.is(check instanceof Error,true);});});}}return lang.mixin(_1074,{dynamic:true,normalize:_108d,load:load,cache:cache,getL10nName:_1080});});},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_10d5,_10d6,_10d7){var _10d8={};lang.setObject("dojo.number",_10d8);_10d8.format=function(value,_10d9){_10d9=lang.mixin({},_10d9||{});var _10da=i18n.normalizeLocale(_10d9.locale),_10db=i18n.getLocalization("dojo.cldr","number",_10da);_10d9.customs=_10db;var _10dc=_10d9.pattern||_10db[(_10d9.type||"decimal")+"Format"];if(isNaN(value)||Math.abs(value)==Infinity){return null;}return _10d8._applyPattern(value,_10dc,_10d9);};_10d8._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_10d8._applyPattern=function(value,_10dd,_10de){_10de=_10de||{};var group=_10de.customs.group,_10df=_10de.customs.decimal,_10e0=_10dd.split(";"),_10e1=_10e0[0];_10dd=_10e0[(value<0)?1:0]||("-"+_10e1);if(_10dd.indexOf("%")!=-1){value*=100;}else{if(_10dd.indexOf("")!=-1){value*=1000;}else{if(_10dd.indexOf("")!=-1){group=_10de.customs.currencyGroup||group;_10df=_10de.customs.currencyDecimal||_10df;_10dd=_10dd.replace(/\u00a4{1,3}/,function(match){var prop=["symbol","currency","displayName"][match.length-1];return _10de[prop]||_10de.currency||"";});}else{if(_10dd.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _10e2=_10d8._numberPatternRE;var _10e3=_10e1.match(_10e2);if(!_10e3){throw new Error("unable to find a number expression in pattern: "+_10dd);}if(_10de.fractional===false){_10de.places=0;}return _10dd.replace(_10e2,_10d8._formatAbsolute(value,_10e3[0],{decimal:_10df,group:group,places:_10de.places,round:_10de.round}));};_10d8.round=function(value,_10e4,_10e5){var _10e6=10/(_10e5||10);return (_10e6*+value).toFixed(_10e4)/_10e6;};if((0.9).toFixed()==0){var round=_10d8.round;_10d8.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return round(v,p,m)+(v>0?d:-d);};}_10d8._formatAbsolute=function(value,_10e7,_10e8){_10e8=_10e8||{};if(_10e8.places===true){_10e8.places=0;}if(_10e8.places===Infinity){_10e8.places=6;}var _10e9=_10e7.split("."),comma=typeof _10e8.places=="string"&&_10e8.places.indexOf(","),_10ea=_10e8.places;if(comma){_10ea=_10e8.places.substring(comma+1);}else{if(!(_10ea>=0)){_10ea=(_10e9[1]||[]).length;}}if(!(_10e8.round<0)){value=_10d8.round(value,_10ea,_10e8.round);}var _10eb=String(Math.abs(value)).split("."),_10ec=_10eb[1]||"";if(_10e9[1]||_10e8.places){if(comma){_10e8.places=_10e8.places.substring(0,comma);}var pad=_10e8.places!==undefined?_10e8.places:(_10e9[1]&&_10e9[1].lastIndexOf("0")+1);if(pad>_10ec.length){_10eb[1]=_10d6.pad(_10ec,pad,"0",true);}if(_10ea<_10ec.length){_10eb[1]=_10ec.substr(0,_10ea);}}else{if(_10eb[1]){_10eb.pop();}}var _10ed=_10e9[0].replace(",","");pad=_10ed.indexOf("0");if(pad!=-1){pad=_10ed.length-pad;if(pad>_10eb[0].length){_10eb[0]=_10d6.pad(_10eb[0],pad);}if(_10ed.indexOf("#")==-1){_10eb[0]=_10eb[0].substr(_10eb[0].length-pad);}}var index=_10e9[0].lastIndexOf(","),_10ee,_10ef;if(index!=-1){_10ee=_10e9[0].length-index-1;var _10f0=_10e9[0].substr(0,index);index=_10f0.lastIndexOf(",");if(index!=-1){_10ef=_10f0.length-index-1;}}var _10f1=[];for(var whole=_10eb[0];whole;){var off=whole.length-_10ee;_10f1.push((off>0)?whole.substr(off):whole);whole=(off>0)?whole.slice(0,off):"";if(_10ef){_10ee=_10ef;delete _10ef;}}_10eb[0]=_10f1.reverse().join(_10e8.group||",");return _10eb.join(_10e8.decimal||".");};_10d8.regexp=function(_10f2){return _10d8._parseInfo(_10f2).regexp;};_10d8._parseInfo=function(_10f3){_10f3=_10f3||{};var _10f4=i18n.normalizeLocale(_10f3.locale),_10f5=i18n.getLocalization("dojo.cldr","number",_10f4),_10f6=_10f3.pattern||_10f5[(_10f3.type||"decimal")+"Format"],group=_10f5.group,_10f7=_10f5.decimal,_10f8=1;if(_10f6.indexOf("%")!=-1){_10f8/=100;}else{if(_10f6.indexOf("")!=-1){_10f8/=1000;}else{var _10f9=_10f6.indexOf("")!=-1;if(_10f9){group=_10f5.currencyGroup||group;_10f7=_10f5.currencyDecimal||_10f7;}}}var _10fa=_10f6.split(";");if(_10fa.length==1){_10fa.push("-"+_10fa[0]);}var re=_10d7.buildGroupRE(_10fa,function(_10fb){_10fb="(?:"+_10d7.escapeString(_10fb,".")+")";return _10fb.replace(_10d8._numberPatternRE,function(_10fc){var flags={signed:false,separator:_10f3.strict?group:[group,""],fractional:_10f3.fractional,decimal:_10f7,exponent:false},parts=_10fc.split("."),_10fd=_10f3.places;if(parts.length==1&&_10f8!=1){parts[1]="###";}if(parts.length==1||_10fd===0){flags.fractional=false;}else{if(_10fd===undefined){_10fd=_10f3.pattern?parts[1].lastIndexOf("0")+1:Infinity;}if(_10fd&&_10f3.fractional==undefined){flags.fractional=true;}if(!_10f3.places&&(_10fd<parts[1].length)){_10fd+=","+parts[1].length;}flags.places=_10fd;}var _10fe=parts[0].split(",");if(_10fe.length>1){flags.groupSize=_10fe.pop().length;if(_10fe.length>1){flags.groupSize2=_10fe.pop().length;}}return "("+_10d8._realNumberRegexp(flags)+")";});},true);if(_10f9){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(match,_10ff,_1100,after){var prop=["symbol","currency","displayName"][_1100.length-1],_1101=_10d7.escapeString(_10f3[prop]||_10f3.currency||"");_10ff=_10ff?"[\\s\\xa0]":"";after=after?"[\\s\\xa0]":"";if(!_10f3.strict){if(_10ff){_10ff+="*";}if(after){after+="*";}return "(?:"+_10ff+_1101+after+")?";}return _10ff+_1101+after;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:group,decimal:_10f7,factor:_10f8};};_10d8.parse=function(_1102,_1103){var info=_10d8._parseInfo(_1103),_1104=(new RegExp("^"+info.regexp+"$")).exec(_1102);if(!_1104){return NaN;}var _1105=_1104[1];if(!_1104[1]){if(!_1104[2]){return NaN;}_1105=_1104[2];info.factor*=-1;}_1105=_1105.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _1105*info.factor;};_10d8._realNumberRegexp=function(flags){flags=flags||{};if(!("places" in flags)){flags.places=Infinity;}if(typeof flags.decimal!="string"){flags.decimal=".";}if(!("fractional" in flags)||/^0/.test(flags.places)){flags.fractional=[true,false];}if(!("exponent" in flags)){flags.exponent=[true,false];}if(!("eSigned" in flags)){flags.eSigned=[true,false];}var _1106=_10d8._integerRegexp(flags),_1107=_10d7.buildGroupRE(flags.fractional,function(q){var re="";if(q&&(flags.places!==0)){re="\\"+flags.decimal;if(flags.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+flags.places+"}";}}return re;},true);var _1108=_10d7.buildGroupRE(flags.exponent,function(q){if(q){return "([eE]"+_10d8._integerRegexp({signed:flags.eSigned})+")";}return "";});var _1109=_1106+_1107;if(_1107){_1109="(?:(?:"+_1109+")|(?:"+_1107+"))";}return _1109+_1108;};_10d8._integerRegexp=function(flags){flags=flags||{};if(!("signed" in flags)){flags.signed=[true,false];}if(!("separator" in flags)){flags.separator="";}else{if(!("groupSize" in flags)){flags.groupSize=3;}}var _110a=_10d7.buildGroupRE(flags.signed,function(q){return q?"[-+]":"";},true);var _110b=_10d7.buildGroupRE(flags.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_10d7.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=flags.groupSize,grp2=flags.groupSize2;if(grp2){var _110c="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_110c+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_110c;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _110a+_110b;};return _10d8;});},"dojo/cldr/nls/number":function(){define({root:{"scientificFormat":"#E0","currencySpacing-afterCurrency-currencyMatch":"[:^S:]","infinity":"","superscriptingExponent":"","list":";","percentSign":"%","minusSign":"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":"","nan":"NaN","plusSign":"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]","currencyFormat":"#,##0.00","perMille":"","group":",","percentFormat":"#,##0%","decimalFormat-long":"000T","decimalFormat":"#,##0.###","decimal":".","currencySpacing-beforeCurrency-insertBetween":"","exponential":"E"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-au":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});},"dojo/cldr/nls/en/number":function(){define({"group":",","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"","minusSign":"-","decimal":".","superscriptingExponent":"","nan":"NaN","perMille":"","decimalFormat":"#,##0.###","currencyFormat":"#,##0.00;(#,##0.00)","plusSign":"+","decimalFormat-long":"000 trillion","decimalFormat-short":"000T"});},"dojo/cldr/nls/nl/number":function(){define({"group":".","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"","minusSign":"-","decimal":",","superscriptingExponent":"","nan":"NaN","perMille":"","decimalFormat":"#,##0.###","currencyFormat":"#,##0.00;(#,##0.00)","plusSign":"+","decimalFormat-long":"000 biljoen","decimalFormat-short":"000bln'.'"});},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(dojo,lang){var _110d={};lang.setObject("dojo.regexp",_110d);_110d.escapeString=function(str,_110e){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(ch){if(_110e&&_110e.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};_110d.buildGroupRE=function(arr,re,_110f){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return _110d.group(b.join("|"),_110f);};_110d.group=function(_1110,_1111){return "("+(_1111?"?:":"")+_1110+")";};return _110d;});},"mxui/widget/plugins/DataGrid/HoverPreview":function(){define(["mxui/widget/_MasterTooltip","mendix/lib/MxContext","mxui/widget","mxui/dom","mendix/lang","dojo/aspect","dojo/on","dojo/_base/lang"],function(_1112,_1113,_1114,dom,lang,_1115,_1116,_1117){function _1118(_1119){var name="mxui.widget.plugins.DataGrid.HoverPreview";var self=this;var _111a=_1119.parent;var _111b=_1119.config;var _111c=null;var _111d=0;var _111e={onLoad:"plugineventOnLoad",onRefresh:"plugineventOnRefresh",onDestroy:"plugineventOnDestroy",onRowMouseOver:"plugineventOnRowMouseOver",onRowMouseOut:"plugineventOnRowMouseOut"};var timer=null;var state={active:false,node:null,mxobject:null,oldNode:null,firstTime:true,closable:true,closeTimer:null,openTimer:null,tooltip:null};var _111f=null;var _1120;var _1121=function(){var b=state.mxobject;var _1122=new _1113();_1122.setTrackId(b.getGuid());_1122.setTrackEntity(_111a.entity);_1122.setContext(_111a.entity,b.getGuid());var stamp=+new Date();_111d=stamp;_111c.applyContext(_1122,function(){if(stamp==_111d&&b==state.mxobject){state.tooltip.show(_111c.domNode,state.node);}});};var _1123=function(e){e.stopPropagation();_1124();};var _1125=function(e){e.stopPropagation();_1126();};var _1127=function(){_111f=_1116(_111c.domNode,"mouseover",_1123);_1120=_1116(_111c.domNode,"mouseleave",_1125);};var _1128=function(){_111f.remove();_1120.remove();_111f=_1120=null;};var _1129=function(){state.active=false;state.firstTime=true;if(state.oldNode!=null){_1128();state.tooltip.hide(state.oldNode);state.tooltip=null;state.oldNode=null;state.mxobject=null;}};var _112a=function(){var _112b=dom.coords(state.node);if(!_112b.x&&!_112b.y){return;}if(state.oldNode!=state.node){state.oldNode=state.node;if(!state.active){state.active=true;_1127();var _112c=state.tooltip=new _1112();_1115.after(_112c,"onHide",function(){if(_112c.domNode.contains(_111c.domNode)){dom.orphan(_111c.domNode);_111c.applyContext(new _1113());}});}state.tooltip.show(null,state.node);_1121();}};this.plugineventOnLoad=function(){};this.plugineventOnDestroy=function(){this.destroy();if(state.active){_1129();}};this.plugineventOnRefresh=function(){if(state.active){_1129();}};var _1126=function(){state.closable=true;if(!state.closeTimer){state.closeTimer=setTimeout(_112d,200);}};var _1124=function(){state.closable=false;if(state.closeTimer){clearTimeout(state.closeTimer);state.closeTimer=null;}};this.plugineventOnRowMouseOver=function(e){var node=e.currentTarget;var _112e=e.target;if(!_111a.domData(_112e,"key")){_112e=dom.getAncestorNode(_112e,"TD",3);}var attr=_111a.domData(_112e,"key");var _112f=_111b.hoveron||"";if(_112f.match(attr)==null){return true;}_112e.setAttribute("title","");_1124();var _1130=_111a.getMxObjectAtRow(parseInt(_111a.domData(node,"gridrow")));var guid=_1130.getGuid();if(state.mxobject==null||guid!=state.mxobject.getGuid()){node=_112e;state.mxobject=_1130;state.node=node;}state.openTimer=setTimeout(_112a,200);};var _112d=_1117.hitch(this,function(){state.closeTimer=null;if(state.closable){timer&&clearTimeout(timer);_1129();}});this.plugineventOnRowMouseOut=function(e){_1126();var _1131=_111a.getMxObjectAtRow(parseInt(_111a.domData(e.currentTarget,"gridrow")));if(state.mxobject==_1131){clearTimeout(state.openTimer);}};this.destroy=function(){_112d();_111a=_111b=null;_111c&&_111c.destroy();};var _1132=function(_1133){var _1134=dom.create("div",{"style":"height: 0; overflow: hidden;"});_111a.domNode.appendChild(_1134);window.mx.ui.openFormInNode(_111b.form,_1134,new _1113(),{readOnly:true,hideControls:true},function(form){_111c=form;_1133();});};var _1135=function(_1136){for(var i in _111e){_111a.registerToPluginEvent(i,_1117.hitch(self,_111e[i]));}_1136();};if(!_111a&&(_111a.widgetType!="DataGrid")){throw new Error(name+".initialize : can only register to DataGrid!");}if(!_111b.form){throw new Error(name+".initialize : Requires a path parameter!");}lang.sequence([_1132,_1135]);};return _1118;});},"mxui/widget/_MasterTooltip":function(){define(["mxui/mixin/_Templated","mxui/widget","mendix/lang","mendix/logger","dojo/window","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/_base/declare","dijit/Tooltip","dojo/text!mxui/widget/templates/Tooltip.html"],function(_1137,_1138,lang,_1139,_113a,_113b,_113c,_113d,_113e,_113f,_1140){var _1141=_113e([_113f._MasterTooltip,_1137],{declaredClass:"mxui.widget._MasterTooltip",constructor:function(){this.templateString=_1140;},postCreate:function(){this.inherited(arguments);this.connect(window.mx.ui,"resize",this.resize);},show:function(_1142,_1143,_1144){var cn=this.contentNode;var pn=this.prepareNode;if(!_1142){cn.style.display="none";pn.style.display="block";}else{cn.style.display="block";pn.style.display="none";if(typeof (_1142)=="string"){cn.innerHTML=_1142;}else{if(_1142.nodeName!=null){while(cn.firstChild){cn.removeChild(cn.firstChild);}cn.appendChild(_1142);}}}this.inherited(arguments,[_1142,_1143,_1144]);_113b.add(this.domNode,"mx-tooltip");if(_1142){this.resize();}},_onHide:function(){this.inherited(arguments);this.onHide();this.destroy();},onHide:function(){},resize:function(){var _1145=_113a.getBox().h-parseInt(this.domNode.style.top);lang.forEach([this.domNode,this.contentNode.parentNode],function(node){var cs=_113c.getComputedStyle(node),me=_113d.getMarginExtents(node,cs),be=_113d.getBorderExtents(node,cs);_1145-=me.h+be.h;});this.contentNode.style.maxHeight=_1145+"px";_1138.resizeWidgetsIn(this.contentNode,true);}});return _1141;});},"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(array,_1146,fx,dom,_1147,_1148,_1149,lang,mouse,on,has,_114a,place,_114b,_114c,_114d,_114e,dijit){var _114f=_1146("dijit._MasterTooltip",[_114b,_114c],{duration:_114a.defaultDuration,templateString:_114e,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _114d(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_1150,_1151,_1152,rtl,_1153,_1154,_1155){if(this.aroundNode&&this.aroundNode===_1151&&this.containerNode.innerHTML==_1150){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_1150;if(_1153){this.set("textDir",_1153);}this.containerNode.align=rtl?"right":"left";var pos=place.around(this.domNode,_1151,_1152&&_1152.length?_1152:_1156.defaultPosition,!rtl,lang.hitch(this,"orient"));var _1157=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_1157.y+((_1157.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_1157.x+((_1157.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_1149.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_1151;this.onMouseEnter=_1154||noop;this.onMouseLeave=_1155||noop;},orient:function(node,_1158,_1159,_115a,_115b){this.connectorNode.style.top="";var _115c=_115a.h,_115d=_115a.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_1158+"-"+_1159];this.domNode.style.width="auto";var size=_1148.position(this.domNode);if(has("ie")||has("trident")){size.w+=2;}var width=Math.min((Math.max(_115d,1)),size.w);_1148.setMarginBox(this.domNode,{w:width});if(_1159.charAt(0)=="B"&&_1158.charAt(0)=="B"){var bb=_1148.position(node);var _115e=this.connectorNode.offsetHeight;if(bb.h>_115c){var _115f=_115c-((_115b.h+_115e)>>1);this.connectorNode.style.top=_115f+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_115b.h/2-_115e/2,0),bb.h-_115e)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_115d);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_1160){if(this._onDeck&&this._onDeck[1]==_1160){this._onDeck=null;}else{if(this.aroundNode===_1160){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}this.onMouseEnter=this.onMouseLeave=noop;},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});if(has("dojo-bidi")){_114f.extend({_setAutoTextDir:function(node){this.applyTextDir(node);array.forEach(node.children,function(child){this._setAutoTextDir(child);},this);},_setTextDirAttr:function(_1161){this._set("textDir",_1161);if(_1161=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});}dijit.showTooltip=function(_1162,_1163,_1164,rtl,_1165,_1166,_1167){if(_1164){_1164=array.map(_1164,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_1156._masterTT){dijit._masterTT=_1156._masterTT=new _114f();}return _1156._masterTT.show(_1162,_1163,_1164,rtl,_1165,_1166,_1167);};dijit.hideTooltip=function(_1168){return _1156._masterTT&&_1156._masterTT.hide(_1168);};var _1169="DORMANT",_116a="SHOW TIMER",_116b="SHOWING",_116c="HIDE TIMER";function noop(){};var _1156=_1146("dijit.Tooltip",_114b,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(newId){array.forEach(this._connections||[],function(_116d){array.forEach(_116d,function(_116e){_116e.remove();});},this);this._connectIds=array.filter(lang.isArrayLike(newId)?newId:(newId?[newId]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=array.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_116f=this.selector,_1170=_116f?function(_1171){return on.selector(_116f,_1171);}:function(_1172){return _1172;},self=this;return [on(node,_1170(mouse.enter),function(){self._onHover(this);}),on(node,_1170("focusin"),function(){self._onHover(this);}),on(node,_1170(mouse.leave),lang.hitch(self,"_onUnHover")),on(node,_1170("focusout"),lang.hitch(self,"set","state",_1169))];},this);this._set("connectId",newId);},addTarget:function(node){var id=node.id||node;if(array.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=array.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_1147.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;array.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},state:_1169,_setStateAttr:function(val){if(this.state==val||(val==_116a&&this.state==_116b)||(val==_116c&&this.state==_1169)){return;}if(this._hideTimer){this._hideTimer.remove();delete this._hideTimer;}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}switch(val){case _1169:if(this._connectNode){_1156.hide(this._connectNode);delete this._connectNode;this.onHide();}break;case _116a:if(this.state!=_116b){this._showTimer=this.defer(function(){this.set("state",_116b);},this.showDelay);}break;case _116b:var _1173=this.getContent(this._connectNode);if(!_1173){this.set("state",_1169);return;}_1156.show(_1173,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,lang.hitch(this,"set","state",_116b),lang.hitch(this,"set","state",_116c));this.onShow(this._connectNode,this.position);break;case _116c:this._hideTimer=this.defer(function(){this.set("state",_1169);},this.hideDelay);break;}this._set("state",val);},_onHover:function(_1174){if(this._connectNode&&_1174!=this._connectNode){this.set("state",_1169);}this._connectNode=_1174;this.set("state",_116a);},_onUnHover:function(_1175){this.set("state",_116c);},open:function(_1176){this.set("state",_1169);this._connectNode=_1176;this.set("state",_116b);},close:function(){this.set("state",_1169);},onShow:function(){},onHide:function(){},destroy:function(){this.set("state",_1169);array.forEach(this._connections||[],function(_1177){array.forEach(_1177,function(_1178){_1178.remove();});},this);this.inherited(arguments);}});_1156._MasterTooltip=_114f;_1156.show=dijit.showTooltip;_1156.hide=dijit.hideTooltip;_1156.defaultPosition=["after-centered","before-centered"];return _1156;});},"mxui/mixin/_ContainingSelection":function(){define(["mendix/lib/MxContext","mxui/store/asyncValueStore","dojo/topic","dojo/_base/array","dojo/_base/declare"],function(_1179,_117a,_117b,_117c,_117d){var _117e=_117d(null,{selection:null,constructor:function(){this.selection=[];},getSelected:function(){return this.selection;},_addToSelection:function(guid){if(_117c.indexOf(this.selection,guid)==-1){this.selection.push(guid);}},_removeFromSelection:function(guid){var index=_117c.indexOf(this.selection,guid);if(index!=-1){this.selection.splice(index,1);}},_isSelected:function(guid){return _117c.indexOf(this.selection,guid)>-1;},_hasSelection:function(){return this.selection.length>0;},_shareSelection:function(_117f){var _1180=new _1179();_1180.setTrackEntity(_117f);_1180.setContext(_117f,this.selection.length?this.selection[this.selection.length-1]:null);_1180.freeze();var topic=window.mx.ui.makeShareId(this.mxform,this.mxid);if(_117a.hasValue(topic)){_117b.publish(topic,_1180);}_117a.register(topic,_1180);},_clearSelectionStore:function(){_117a.remove(window.mx.ui.makeShareId(this.mxform,this.mxid));}});return _117e;});},"mxui/lib/MxGridConfig":function(){define(["mxui/html","dojo/_base/lang"],function(_1181,_1182){var _1183=function(_1184){var _1185=_1184.config;var _1186={};var _1187=[];var _1188={};var _1189={};var _118a=function(){var tools=_1185.controlBar.gridTools;for(var i=0,tool;tool=tools[i];i++){if(window.mx.session.hasSomeRole(tool[_1181.attrs.ForRole]||null)){_1187.push(_1182.mixin({mxid:tool.actionKey},tool));}else{_1189[tool.actionKey]=true;}}};var _118b=function(){var _118c=_1185.controlBar.gridActions;for(var i=0,_118d;_118d=_118c[i];i++){_1186[_118d.keyValue]={actionCall:_118d.gridFunction,params:_118d.params};}};var _118e=function(){var _118f=_1185.actionBindings,_1190,ev;if(_118f){for(ev in _118f){_1190=_118f[ev];if(!_1189[_1190]){_1188[ev]=_1190;}}}};this.gridSetting=function(str){var _1191=_1185.gridpresentation,_1192=_1182.mixin({pageSize:_1191.rows*_1191.columns},_1191);return _1192[str];};this.gridTools=function(){return _1187;};this.getActionsByKey=function(key){var _1193=_1186[key];return _1193&&_1193.params?_1182.clone(_1193):_1193;};this.searchBarItems=function(){return _1185.searchElements;};this.gridAttributes=function(){return _1185.griddata;};this.searchBarConfig=function(){return _1185.searchOptions;};this.getDataSource=function(){return _1185.datasource;};this.gridActionBindings=function(){return _1188||{};};this.getPlugins=function(){return _1185.plugins||{};};this.toString=function(){return "mxui.lib.MxGridConfig";};_118a();_118b();_118e();};return _1183;});},"mxui/widget/SearchInput":function(){define(["mxui/widget/_WidgetBase","mxui/wm/focus","mxui/dom","mxui/lib/errorMessage","big/big","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/declare"],function(_1194,focus,dom,_1195,Big,_1196,_1197,_1198,_1199,_119a){var $=dom.create;var _119b=_119a(_1194,{declaredClass:"mxui.widget.SearchInput",path:"",operator:"",caption:"",entity:"",defaults:"",hidden:false,disabled:false,defaultsParser:"",queryBuilder:"",retriever:"",datasource:"",widget:"",mxcontext:null,_MS_IN_DAY:24*60*60*1000,_attribute:"",_metaObject:null,_input:null,_widget:null,_datasource:null,_defaultsValue:null,_doDefaultsParser:null,_doQueryBuilder:null,_doRetriever:null,postMixInProperties:function(){var _119c=this.path.split("/");if(_119c.length>1){this.entity=_119c[_119c.length-2];}this._attribute=_119c[_119c.length-1];this._metaObject=window.mx.meta.getEntity(this.entity);this._doRetriever=this.retriever?_1198.hitch(this,"_retrieve"+this.retriever+"Options"):null;this._doQueryBuilder=this["_build"+((this.queryBuilder&&this.queryBuilder.name)||"Simple")+"Query"];this._initDataSource();this._initDefaultsValue();},buildRendering:function(){var _119d,_119e;if(this.widget){_119d=_1198.getObject(this.widget.type);this._widget=new _119d(this.widget.params);_119e=this._widget.domNode;this.connect(this._widget,"onKeyUp","onKeyUp");this.connect(this._widget,"onChange","onChange");}else{if(this.retriever||this.datasource){this._input=$("select",{"class":"form-control"});}else{this._input=$("input",{type:"text","class":"form-control"});}_119e=this._input;this.connect(this._input,"keyup","onKeyUp");this.connect(this._input,"blur","onChange");}if(this.retriever){this._fillInput(this._doRetriever());}this.domNode=$("div",{"class":"mx-grid-search-item"},$("div",{"class":"mx-grid-search-label"},$("label",this.caption||"")),$("div",{"class":"mx-grid-search-input mx-name-"+this.searchInputName},_119e));if(!this._datasource){this.reset();}if(this.get("hidden")){this.domNode.style.display="none";}},startup:function(){this.inherited(arguments);this.reinit();this.set("disabled",this.disabled);},reset:function(){this._hideValidationMessage();if(this._widget){this._widget.set("value",this._defaultsValue);}else{if(this.retriever){dom.selectOptionByValue(this._input,this._defaultsValue);}else{this._input.value=this._defaultsValue;}}},reinit:function(_119f){var self=this;if(this._datasource){this._datasource.reload(function(){var items={};_1197.forEach(self._datasource.getObjects(),function(obj){var value=obj.get2(self._attribute);items[value]=window.mx.parser.formatAttribute(obj,self._attribute);});self._fillInput(items);self.reset();_119f&&_119f();});}else{_119f&&_119f();}},focus:function(){if(this._widget){if(this._widget.focus){this._widget.focus();}else{focus.put(this._widget.domNode);}}else{focus.put(this._input);}},onChange:function(){if(!this.get("valid")){this._showValidationMessage();}else{this._hideValidationMessage();}},onKeyUp:function(){},cleanup:function(){this._hideValidationMessage();},uninitialize:function(){if(this._widget){this._widget.destroy();}},_retrieveBoolOptions:function(){return {"true":window.mx.ui.translate("mxui.widget.DataGrid","true"),"false":window.mx.ui.translate("mxui.widget.DataGrid","false")};},_retrieveEnumOptions:function(){return this._metaObject.getEnumKVPairs(this._attribute);},_defaultSimpleValue:function(_11a0){return _11a0||"";},_defaultJsonValue:function(_11a1){return _1199.fromJson(_11a1||"''");},_defaultDateValue:function(_11a2){var value="";if(_11a2){if(_11a2==="[%CurrentDateTime%]"){value=+new Date();}else{if(_11a2==="[%BeginOfCurrentDay%]"){value=+new Date().setHours(0,0,0,0);}else{value=window.mx.parser.localizeEpoch(+_11a2);}}}return value;},_buildRangeQuery:function(_11a3){return [this._xpWithEmptyString(this._xpString(_11a3.path,_11a3.operator,_11a3.value),_11a3.path),this._xpWithEmptyString(this._xpString(_11a3.toPath,_11a3.toOperator,_11a3.value),_11a3.toPath)].join(" and ");},_buildSimpleQuery:function(_11a4){return this._xpString(_11a4.path,_11a4.operator,_11a4.value);},_buildDateQuery:function(_11a5){var _11a6=_11a5.operator,extra=0;if(_11a5.operator=="="){return "("+["("+this._xpString(_11a5.path,">=",_11a5.value)+")","("+this._xpString(_11a5.path,"<",_11a5.value+this._MS_IN_DAY)+")"].join(" and ")+")";}else{switch(_11a5.operator){case ">":_11a6=">=";extra=this._MS_IN_DAY;break;case "<=":_11a6="<";extra=this._MS_IN_DAY;break;}return this._xpString(_11a5.path,_11a6,(_11a5.value+extra)+"");}},_buildDateRangeQuery:function(_11a7){return "("+[this._xpWithEmptyString(this._xpString(_11a7.path,_11a7.operator,_11a7.value+this._MS_IN_DAY),_11a7.path),this._xpWithEmptyString(this._xpString(_11a7.toPath,_11a7.toOperator,_11a7.value),_11a7.toPath)].join(" and ")+")";},_initDefaultsValue:function(){var _11a8=this["_default"+(this.defaultsParser||"Simple")+"Value"];this._defaultsValue=_11a8.call(this,this.defaults);},_initDataSource:function(){var _11a9={xpath:"webcore.datasource.XPathSource"},_11aa;if(this.datasource){_11aa=_1198.getObject(_11a9[this.datasource.type]);if(_11aa){this._datasource=new _11aa(_1198.mixin({},{entity:this.entity,attributes:[this._attribute],useContext:false,context:this.mxcontext,page:1000,aggregates:false,distinct:true},this.datasource.params));}}},_showValidationMessage:function(){var _11ab=this._metaObject.isDate(this._attribute)?"invalid_date":"invalid_number";_1195.show(this.domNode,window.mx.ui.translate("mendix.lib.Validations",_11ab));},_hideValidationMessage:function(){_1195.hide(this.domNode);},_fillInput:function(items){var _11ac,key;if(this._widget){_11ac=[];for(key in items){_11ac.push({value:key,caption:items[key]});}this._widget.set("items",_11ac);}else{_11ac={};for(key in items){_11ac[key]=items[key] instanceof Big?items[key].toFixed():items[key];}dom.setSelectOptions(this._input,_11ac);}},_stringForOperator:function(key,_11ad,value){return key+_11ad+value;},_stringForContains:function(key,_11ae,value){return _11ae+"("+key+","+value+")";},_xpString:function(key,_11af,value){return (/contains|starts-with/.test(_11af))?this._stringForContains(key,_11af,value):this._stringForOperator(key,_11af,value);},_xpWithEmptyString:function(expr,key){return "("+expr+" or "+key+"=empty)";},_setValueAttr:function(value){if(this._widget){this._widget.set("value",value);}else{if(this.retriever){dom.selectOptionByValue(this._input,value);}else{this._input.value=value;}}},_getValueAttr:function(){if(!this.get("valid")){return "";}if(this._widget){return this._widget.get("value");}if(this.retriever||this.datasource){return dom.getSelectedValue(this._input);}return this._input.value;},_getQueryAttr:function(){var value=this.get("value"),_11b0;if(_1198.isArray(value)){_11b0=value;}else{if(value===""||value===null){_11b0=[];}else{_11b0=[value];}}if(_11b0.length===0){return "";}return "("+_1197.map(_11b0,_1198.hitch(this,function(value){var _11b1=this._metaObject;if(_11b1.isDate(this._attribute)){value=+value;if(!_11b1.isLocalizedDate(this._attribute)){value=window.mx.parser.delocalizeEpoch(value);}}else{if(!(_11b1.isNumeric(this._attribute)||_11b1.getAttributeType(this._attribute).toLowerCase()==="autonumber")){value="'"+dom.escapeHTMLQuotes(value)+"'";}}return this._doQueryBuilder(_1198.mixin({},this.queryBuilder.params,{path:this.path,operator:this.operator,value:value}));})).join(" or ")+")";},_getValidAttr:function(){var value;if(this._widget){value=this._widget.get("value");if(value==null){return false;}}else{value=this._input.value;}if(this._metaObject.isNumeric(this._attribute)||this._metaObject.getAttributeType(this._attribute).toLowerCase()==="autonumber"){if(this._metaObject.getAttributeType(this._attribute).toLowerCase()==="integer"&&value>2147483647){return false;}return (/^[-+]?\d*(\.\d+)?$/).test(value);}return true;},_getHiddenAttr:function(){return this.hidden;},_setHiddenAttr:function(_11b2){this.hidden=_11b2;},_setDisabledAttr:function(_11b3){var node;this.disabled=_11b3;if(this._widget){node=this._widget.domNode;this._widget.set("disabled",_11b3);}else{node=this._input;if(_11b3){node.setAttribute("readonly","readonly");dom.disableNode(node);}else{node.removeAttribute("readonly","readonly");dom.enableNode(node);}}if(_11b3){_1196.add(node,"MxClient_formDisabled");}else{_1196.remove(node,"MxClient_formDisabled");}},_getDisabledAttr:function(){return this.disabled;}});return _119b;});},"mxui/widget/Button":function(){define(["mxui/widget/_Button","dojo/_base/declare"],function(_11b4,_11b5){var _11b6=_11b5(_11b4,{declaredClass:"mxui.widget.Button"});return _11b6;});},"mxui/widget/_DynamicButton":function(){define(["mxui/widget/_Button","mxui/lib/TextTemplate","dojo/_base/lang","dojo/_base/declare"],function(_11b7,_11b8,_11b9,_11ba){var _11bb=_11ba(_11b7,{caption:null,needsObject:false,_captionTextTemplate:null,postCreate:function(){var self=this;this._captionTextTemplate=new _11b8(this.caption,function(text){self.set("caption",text);});},checkDisabled:function(){return this.inherited(arguments)||(this.needsObject&&!this.mxcontext.hasTrackId());},update:function(obj,_11bc){this.unsubscribeAll();this._mxObject=obj;if(obj){var self=this;this.subscribe({guid:obj.getGuid(),callback:function(){self.refresh();}});}this.updateDisabled();this._captionTextTemplate.update(obj,_11b9.hitch(this,"refresh",_11bc));},refresh:function(_11bd){if(_11bd){_11bd();}},uninitialize:function(){this._captionTextTemplate.destroy();}});return _11bb;});},"mxui/lib/TextTemplate":function(){define(["mendix/lang","mxui/dom","dojo/Deferred","dojo/promise/all","dojo/_base/array","dojo/_base/declare"],function(lang,dom,_11be,_11bf,_11c0,_11c1){var _11c2=_11c1(null,{_template:null,_callback:null,_rootObject:null,_subscriptions:null,_pendingFetch:null,constructor:function(_11c3,_11c4){this._template=_11c3;this._callback=_11c4;this._subscriptions=[];},update:function(_11c5,done){this._rootObject=_11c5;this._clearSubscriptions();if(!this._template.parameters){this._callback(this._template.text);if(done){done();}}else{if(!_11c5){this._callback("");if(done){done();}}else{this._reload(done);}}},destroy:function(){this._clearSubscriptions();},_reload:function(done){var self=this;if(this._pendingFetch){this._pendingFetch.cancel();}this._pendingFetch=this._fetchObjects();this._pendingFetch.then(function(_11c6){self._pendingFetch=null;self._addSubscriptions(_11c6);var text=self._fillTemplate(_11c6);self._callback(dom.convertNlToBr(dom.escapeString(text)));if(done){done();}});},_fetchObjects:function(){var _11c7={};lang.forEach(this._template.parameters,function(path,key){_11c7[key]=new _11be();var split=path.split("/"),attr=split.pop();this._rootObject.fetch(split,function(obj){var _11c8={obj:obj,attr:attr,path:path};_11c7[key].resolve(_11c8);});},this);return _11bf(_11c7);},_fillTemplate:function(_11c9){var self=this;return this._template.text.replace(/(?:^|[^\{])(?:\{\{)*(\{(\d+)\})/g,function(match,param,_11ca){var arg=_11c9[_11ca];return match.replace(param,self._renderAttrValue(arg.obj,arg.attr));}).replace(/\{\{/g,"{");},_renderAttrValue:function(obj,attr){return obj?window.mx.parser.formatAttribute(obj,attr):"";},_addSubscriptions:function(_11cb){this._addSubscription(this._rootObject);lang.forEach(_11cb,function(arg){var split=arg.path.split("/");if(split.length>2){this._addSubscription(this._rootObject,split[1]);}if(arg.obj){this._addSubscription(arg.obj);this._addSubscription(arg.obj,arg.attr);}},this);},_addSubscription:function(obj,attr){var _11cc=_11c0.some(this._subscriptions,function(sub){return sub.guid===obj.getGuid()&&sub.attr===attr;});if(_11cc){return;}var self=this;var props={attr:attr,guid:obj.getGuid(),callback:function(){self._reload();}};this._subscriptions.push({attr:attr,guid:obj.getGuid(),handle:window.mx.data.subscribe(props)});},_clearSubscriptions:function(){while(this._subscriptions.length){window.mx.data.unsubscribe(this._subscriptions.pop().handle);}}});return _11c2;});},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(array,_11cd,when){"use strict";var some=array.some;return function all(_11ce){var _11cf,array;if(_11ce instanceof Array){array=_11ce;}else{if(_11ce&&typeof _11ce==="object"){_11cf=_11ce;}}var _11d0;var _11d1=[];if(_11cf){array=[];for(var key in _11cf){if(Object.hasOwnProperty.call(_11cf,key)){_11d1.push(key);array.push(_11cf[key]);}}_11d0={};}else{if(array){_11d0=[];}}if(!array||!array.length){return new _11cd().resolve(_11d0);}var _11d2=new _11cd();_11d2.promise.always(function(){_11d0=_11d1=null;});var _11d3=array.length;some(array,function(_11d4,index){if(!_11cf){_11d1.push(index);}when(_11d4,function(value){if(!_11d2.isFulfilled()){_11d0[_11d1[index]]=value;if(--_11d3===0){_11d2.resolve(_11d0);}}},_11d2.reject);return _11d2.isFulfilled();});return _11d2.promise;};});},"mendix/lib/dataSourceTypes":function(){define({xpath:"xpath",microflow:"microflow",entityPath:"entityPath",referenceSet:"referenceSet",direct:"direct",listen:"listen",offline:"offline",offlineReference:"offlineReference"});},"webcore/datasource/OfflineSource":function(){define(["./_DataSource","../offline","dojo/_base/declare"],function(_11d5,_11d6,_11d7){var _11d8=_11d7(_11d5,{name:"webcore.datasource.OfflineSource",_entity:"",_sort:null,constructor:function(args){this._entity=args.entity;this._sort=args.sort||[];},reload:function(_11d9){var self=this;_11d6.getSlice(this._entity,{offset:this.getOffset(),limit:this.getPageSize(),sort:this._sort}).spread(function(_11da,count){self._setObjects(_11da);self._setSetSize(count);if(_11d9){_11d9();}}).caught(function(e){mx.onError(e);if(_11d9){_11d9();}});},refresh:function(_11db){this.reload(_11db);},entityUpdate:function(_11dc){this.reload(_11dc);},setSortOptions:function(_11dd,_11de,push){this._offset=0;_11de=(_11de===""||_11de==null)?"asc":_11de;this._sort=[[_11dd,_11de]];}});return _11d8;});},"webcore/datasource/OfflineByReferenceSource":function(){define(["./_DataSource","../offline","dojo/_base/declare"],function(_11df,_11e0,_11e1){var _11e2=_11e1(_11df,{name:"webcore.datasource.OfflineByReferenceSource",_entity:"",_reference:"",_sort:null,constructor:function(args){var parts=args.path.split("/");this._entity=parts.pop();this._reference=parts.pop();this._sort=args.sort||[];},reload:function(_11e3){var self=this;var guid=this.context.getTrackId();if(guid){_11e0.getSliceReference(this._entity,this._reference,guid,{offset:this.getOffset(),limit:this.getPageSize(),sort:this._sort}).spread(function(_11e4,count){self._setObjects(_11e4);self._setSetSize(count);if(_11e3){_11e3();}}).caught(function(e){mx.onError(e);if(_11e3){_11e3();}});}else{self._setObjects([]);self._setSetSize(0);if(_11e3){_11e3();}}},refresh:function(_11e5){this.reload(_11e5);},entityUpdate:function(_11e6){this.reload(_11e6);},setSortOptions:function(_11e7,_11e8,push){this._offset=0;_11e8=(_11e8===""||_11e8==null)?"asc":_11e8;this._sort=[[_11e7,_11e8]];}});return _11e2;});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_11e9,dojo,_11ea,_11eb,_11ec,dom,_11ed,geom,ready,_11ee){if(!dojo.isAsync){ready(0,function(){var _11ef=["./fx/Toggler"];_11ee(_11ef);});}var _11f0=dojo.fx={};var _11f1={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _11f2=function(_11f3){this._index=-1;this._animations=_11f3||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_11ea.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_11f2.prototype=new _11e9();lang.extend(_11f2,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_11eb.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);this._onEndCtx=_11eb.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play(0,true);}},play:function(delay,_11f4){if(!this._current){this._current=this._animations[this._index=0];}if(!_11f4&&this._current.status()=="playing"){return this;}var _11f5=_11eb.after(this._current,"beforeBegin",lang.hitch(this,function(){this._fire("beforeBegin");}),true),_11f6=_11eb.after(this._current,"onBegin",lang.hitch(this,function(arg){this._fire("onBegin",arguments);}),true),_11f7=_11eb.after(this._current,"onPlay",lang.hitch(this,function(arg){this._fire("onPlay",arguments);_11f5.remove();_11f6.remove();_11f7.remove();}));if(this._onAnimateCtx){this._onAnimateCtx.remove();}this._onAnimateCtx=_11eb.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);if(this._onEndCtx){this._onEndCtx.remove();}this._onEndCtx=_11eb.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_11eb.after(this._current,"onPause",lang.hitch(this,function(arg){this._fire("onPause",arguments);e.remove();}),true);this._current.pause();}return this;},gotoPercent:function(_11f8,_11f9){this.pause();var _11fa=this.duration*_11f8;this._current=null;_11ea.some(this._animations,function(a,index){if(_11fa<=a.duration){this._current=a;this._index=index;return true;}_11fa-=a.duration;return false;},this);if(this._current){this._current.gotoPercent(_11fa/this._current.duration);}if(_11f9){this.play();}return this;},stop:function(_11fb){if(this._current){if(_11fb){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_11eb.after(this._current,"onStop",lang.hitch(this,function(arg){this._fire("onStop",arguments);e.remove();}),true);this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){this.stop();if(this._onAnimateCtx){this._onAnimateCtx.remove();}if(this._onEndCtx){this._onEndCtx.remove();}}});lang.extend(_11f2,_11f1);_11f0.chain=function(_11fc){return new _11f2(_11fc);};var _11fd=function(_11fe){this._animations=_11fe||[];this._connects=[];this._finished=0;this.duration=0;_11ea.forEach(_11fe,function(a){var _11ff=a.duration;if(a.delay){_11ff+=a.delay;}if(this.duration<_11ff){this.duration=_11ff;}this._connects.push(_11eb.after(a,"onEnd",lang.hitch(this,"_onEnd"),true));},this);this._pseudoAnimation=new _11ec.Animation({curve:[0,1],duration:this.duration});var self=this;_11ea.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_11eb.after(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);},true));});};lang.extend(_11fd,{_doAction:function(_1200,args){_11ea.forEach(this._animations,function(a){a[_1200].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_1201,args){var t=this._pseudoAnimation;t[_1201].apply(t,args);},play:function(delay,_1202){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_1203,_1204){var ms=this.duration*_1203;_11ea.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_1204);});this._call("gotoPercent",arguments);return this;},stop:function(_1205){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){this.stop();_11ea.forEach(this._connects,function(_1206){_1206.remove();});}});lang.extend(_11fd,_11f1);_11f0.combine=function(_1207){return new _11fd(_1207);};_11f0.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_11ec.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _1208=_11ed.get(node,"height");return Math.max(_1208,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_11eb.after(anim,"onStop",fini,true);_11eb.after(anim,"onEnd",fini,true);return anim;};_11f0.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_11ec.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_11eb.after(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";},true);var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_11eb.after(anim,"onStop",fini,true);_11eb.after(anim,"onEnd",fini,true);return anim;};_11f0.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_11ed.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_11ec.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_11eb.after(anim,"beforeBegin",init,true);return anim;};return _11f0;});},"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare","../_base/fx","../aspect"],function(lang,_1209,_120a,_120b){return _1209("dojo.fx.Toggler",null,{node:null,showFunc:_120a.fadeIn,hideFunc:_120a.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _120c=this;lang.mixin(_120c,args);_120c.node=args.node;_120c._showArgs=lang.mixin({},args);_120c._showArgs.node=_120c.node;_120c._showArgs.duration=_120c.showDuration;_120c.showAnim=_120c.showFunc(_120c._showArgs);_120c._hideArgs=lang.mixin({},args);_120c._hideArgs.node=_120c.node;_120c._hideArgs.duration=_120c.hideDuration;_120c.hideAnim=_120c.hideFunc(_120c._hideArgs);_120b.after(_120c.showAnim,"beforeBegin",lang.hitch(_120c.hideAnim,"stop",true),true);_120b.after(_120c.hideAnim,"beforeBegin",lang.hitch(_120c.showAnim,"stop",true),true);},show:function(delay){return this.showAnim.play(delay||0);},hide:function(delay){return this.hideAnim.play(delay||0);}});});},"mxui/lib/ColumnResizer":function(){define(["mxui/dom","dojo/dom-geometry","dojo/dom-style","dojo/on","dojo/_base/event","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_120d,_120e,_120f,_1210,_1211,_1212,_1213,_1214){var _1215=_1214(null,{declaredClass:"mxui.lib.ColumnResizer",columns:null,thNodes:null,colUnits:"",tableNode:null,gridNode:null,rowNode:null,minWidth:40,cssClass:"mx-datagrid-column-resizer",rtl:false,autoColums:null,active:0,startPos:0,startWidth:0,totalWidth:0,bodyCursor:"",handles:null,connects:null,resizing:false,constructor:function(props){props=props||{};var ths=props.thNodes,cols=props.colNodes;this.columns=[];this.autoColumns=[];this.thNodes=ths;this.colUnits=props.colUnits;this.tableNode=props.tableNode;this.gridNode=props.gridNode;this.rowNode=ths[0].parentNode;this.minWidth=props.minWidth||40;this.rtl=props.rtl;this.prepareTable(ths,cols);},prepareTable:function(ths,cols){var _1216=0,_1217=false;_1212.forEach(ths,function(th,index){if(index>0){var _1218=_120d.create("div",{"class":this.cssClass});_120d.data(_1218,"index",index);th.firstChild.appendChild(_1218);}var _1219=cols[index][0].style.width,_121a=_1219=="auto";var _121b=this.columns[index]={node:th,cols:cols[index],width:0,rounded:0,minWidth:0,startWidth:0,isAuto:_121a};if(this.colUnits=="px"){if(_121a){_1217=true;this.autoColumns.push(_121b);}else{_1216+=parseInt(_1219,10);}}else{_1217=true;}},this);if(!_1217){this.tableNode.style.width=this.gridNode.style.width=_1216+"px";}_1212.forEach(this.columns,function(_121c){_121c.width=this.getColWidth(_121c);},this);this.setRatios();var self=this;this.connects=[_1210(this.rowNode,"."+this.cssClass+":click",_1211.stop),_1210(this.rowNode,"."+this.cssClass+":mousedown",function(e){var index=_120d.data(this,"index");self.startResize(index-1,e);})];},startResize:function(index,e){if(this.resizing){this.endResize();return;}this.resizing=true;this.active=index;this.startPos=e.pageX;this.startWidth=0;this.totalWidth=this.rowNode.offsetWidth;this.bodyCursor=_120f.get(document.body,"cursor");_120f.set(document.body,"cursor","col-resize");_1212.forEach(this.columns,function(_121d,i){var width=this.getColWidth(_121d);_121d.width=_121d.startWidth=width;_121d.minWidth=Math.min(width,this.minWidth);if(i<=index){this.startWidth+=width;}},this);this.handles=[_1210(document,"mousemove",_1213.hitch(this,"moveResize")),_1210(document,"mouseup",_1213.hitch(this,"endResize"))];e.preventDefault();},moveResize:function(e){var total=0,index=this.active,_121e=this.columns,_121f=this.startWidth+(this.rtl?-1:1)*(e.pageX-this.startPos);this.scaleColumns(index,_121f);for(var i=0,_1220;_1220=_121e[i];i++){var width=Math.round(_1220.width);this.setColWidth(_1220,width);total+=width;}var diff=this.totalWidth-total;this.setColWidth(_121e[index],_121e[index].rounded+diff);e.preventDefault();},endResize:function(){this.resizing=false;while(this.handles.length){this.handles.pop().remove();}var _1221=this.columns;_1212.forEach(_1221,function(_1222){if(this.colUnits=="%"){var width=_1222.rounded/this.totalWidth*100;this.setColWidth(_1222,width,"%");}else{this.setRatios();}},this);_120f.set(document.body,"cursor",this.bodyCursor);},recalculate:function(){if(this.colUnits=="px"){var _1223=0,_1224=false;_1212.forEach(this.columns,function(_1225){if(_1225.isAuto){_1224=true;}else{_1223+=_1225.width;}});if(_1224){var _1226=_120e.getContentBox(this.tableNode.parentNode).w-_120e.getBorderExtents(this.tableNode).w,_1227=_1226-_1223,_1228=_1227;_1212.forEach(this.autoColumns,function(_1229){var _122a=Math.max(Math.min(Math.round(_1229.ratio*_1227),_1228),this.minWidth);_1228-=_122a;_1229.width=_122a;this.setColWidth(_1229,_122a);},this);}}},getColWidth:function(_122b){return _122b.node.offsetWidth;},setColWidth:function(_122c,width,unit){unit=unit||"px";if(unit==="px"){_122c.rounded=width;}_122c.cols[0].style.width=_122c.cols[1].style.width=width+unit;},setRatios:function(){var _122d=0;_1212.forEach(this.autoColumns,function(_122e){_122d+=this.getColWidth(_122e);},this);_1212.forEach(this.autoColumns,function(_122f){_122f.ratio=_122f.width/_122d;},this);},scaleColumns:function(index,_1230){var _1231=this.columns,_1232=_1231.slice(0,index+1),_1233=_1231.slice(index+1).reverse(),_1234=this.totalWidth,_1235=0,_1236;for(var i=0;i<=index;i++){_1235+=_1231[i].width;}if(_1230<_1235){_1236=this.calcScale(_1232,_1230);this.calcScale(_1233,_1234-_1236);}else{if(_1230>_1235){_1236=this.calcScale(_1233,_1234-_1230);this.calcScale(_1232,_1234-_1236);}}},calcScale:function(_1237,_1238){var _1239=0,_123a=0,_123b=0,_123c=_1237.pop();_1212.forEach(_1237,function(_123d){_1239+=_123d.minWidth;_123a+=_123d.startWidth;});_123c.width=Math.max(_123c.minWidth,_1238-_123a);_1238-=_123c.width;_1212.forEach(_1237,function(_123e){_1239-=_123e.minWidth;var _123f=Math.min(_123e.startWidth,_1238-_123b-_1239),_1240=Math.min(_123f,_123e.startWidth/_123a*_1238);_123e.width=Math.max(_123e.minWidth,_1240);_123b+=_123e.width;});return _123b+_123c.width;},destroy:function(){while(this.connects.length){this.connects.pop().remove();}_1212.forEach(this.thNodes,function(th){_120d.data(th,"index",null);});}});return _1215;});},"mxui/widget/TemplateGrid":function(){define(["mxui/widget/_Grid","mxui/widget/TemplateGridItem","mendix/lib/MxContext","mxui/widget","mxui/dom","mendix/logger","mendix/lang","dojo/sniff","dojo/on","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/text!mxui/widget/templates/TemplateGrid.html"],function(_1241,_1242,_1243,_1244,dom,_1245,lang,_1246,_1247,_1248,_1249,_124a,_124b){var $=dom.create;var _124c=_1249(_1241,{declaredClass:"mxui.widget.TemplateGrid",templateString:_124b,subClass:"mx-templategrid",cssmap:_1244.createCSSMap("mx-templategrid",{row:"row",item:"item",empty:"empty"}),itemNode:null,_mxObjects:[],_itemCache:[],constructor:function(){this._mxObjects=[];this._itemCache=[];this._gridState={selectable:true,selectionmode:"single",searchbar:true,controlbar:true,pagingbar:true,inDenial:false,searchBarVisible:false,searchBarTogglable:true,xpathConstraint:"",dynamicconstraint:"",loading:false,invertedSelection:false};},postCreate:function(){this.inherited(arguments);if(this._metaEntity){this.connectEvents();}this.loaded();},setupGridState:function(){this.inherited(arguments);this._gridState.columns=this._gridConfig.gridSetting("columns");this._gridState.rows=this._gridConfig.gridSetting("rows");this._gridState.cellwidth=String(_1246("ie")?(100/this._gridState.columns-0.05):(100/this._gridState.columns))+"%";},connectEvents:function(){var self=this;this.own(_1247(this.itemNode,_1247.selector("."+this.cssmap.item,"click"),function(e){self.eventItemClicked(e,this);}));var _124d=function(e){self.eventActionBindingHandler(this,e.type);};for(var _124e in this._gridConfig.gridActionBindings()){this.own(_1247(this.itemNode,_1247.selector("."+this.cssmap.item,_124e.replace(/^on/,"")),_124d));}},fillGrid:function(){this._mxObjects=this._dataSource.getObjects();if(this._gridState.selectfirst&&!this._gridState.invertedSelection&&this._mxObjects.length>0&&!this._hasSelection()){this._addToSelection(this._mxObjects[0].getGuid());}this._shareSelection(this._metaEntity.getEntity());var _124f=$("#"),_1250=this._itemCache.length,index=0,_1251=false,_1252=[],_1253;for(var row=0;row<this._gridState.rows;++row){var _1254=$("div",{"class":this.cssmap.row});_124f.appendChild(_1254);for(var col=0;col<this._gridState.columns;++col){if(index<this._mxObjects.length){if(index>=this._itemCache.length){this._itemCache[index]=new _1242({uniqueid:this.uniqueid+"_obj"+this._mxObjects[index].getGuid(),name:"mx-name-index-"+index,mxform:this.mxform,template:window.mx.ui.getTemplate(this.mxid,"content"),cssClass:this.cssmap.item});_1251=true;}_1253=this._itemCache[index].domNode;_1253.style.width=this._gridState.cellwidth;this.domData(_1253,{gridrow:index,mendixguid:this._mxObjects[index].getGuid()});this.addFocusBox(_1253);_1254.appendChild(_1253);if(this._isSelected(this._mxObjects[index].getGuid())){this.selectRow(_1253);}else{this.deselectRow(_1253);}}else{var _1255=$("div",{"class":this.cssmap.empty},$("br"));_1254.appendChild(_1255);}++index;}if(index>=this._mxObjects.length&&!this._gridState.showemptyrows){break;}}dom.empty(this.itemNode);this.itemNode.appendChild(_124f);for(index=0;index<this._mxObjects.length;++index){var _1256=new _1243({mxcontext:this.mxcontext});_1256.setObject(this._mxObjects[index]);if(index>=_1250){this._itemCache[index].startup();}this._itemCache[index].set("disabled",false);_1252.push(_1248.hitch(this._itemCache[index],"applyContext",_1256));}for(index=this._mxObjects.length;index<this._itemCache.length;index++){this._itemCache[index].set("disabled",true);}lang.collect(_1252,function(){if(_1251){this.mxform.resize();}},this);},deselectGridRows:function(){for(var i=0,l=this._itemCache.length;i<l;++i){this.deselectRow(this._itemCache[i].domNode);}},_getEntity:function(_1257){return lang.firstKey(_1257);},_getCurrentGuid:function(){return this.selection[0];},_getObjectFromNode:function(node){return this._mxObjects[this.domData(node,"gridrow")];}});return _124c;});},"mxui/widget/TemplateGridItem":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/_base/declare"],function(_1258,dom,_1259,_125a){var _125b=_125a(_1258,{declaredClass:"mxui.widget.TemplateGridItem",name:"",cssClass:"",template:null,root:null,buildRendering:function(){this.domNode=dom.div({"class":[this.name,this.cssClass].join(" ")});if(this.template){this.domNode.appendChild(this.template);}},startup:function(){var _125c=this.parseContent(this.domNode,{schema:"",ignoreUpdates:true});this.root=_125c[0]||null;},_setDisabledAttr:function(value){this.root&&this.root.set("disabled",value);}});return _125b;});},"mxui/widget/TabContainer":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/dom","mendix/logger","dojo/on","dojo/dom-class","dojo/dom-geometry","dojo/_base/array","dojo/_base/declare"],function(_125d,_125e,dom,_125f,_1260,_1261,_1262,_1263,_1264){var $=dom.create;var _1265=_1264([_125d,_125e],{declaredClass:"mxui.widget.TabContainer",validator:null,_active:null,_tabList:null,_tabPanes:null,_tabContent:null,_clickHandler:null,postMixInProperties:function(){this.doParse=true;},buildRendering:function(){var _1266=this._tabList=$("ul",{"class":"nav nav-tabs mx-tabcontainer-tabs"}),_1267=this._tabContent=$("div",{"class":"tab-content mx-tabcontainer-content"},this.getTemplate("pages"));this.domNode=$("div",{"class":"mx-tabcontainer"},_1266,_1267);var self=this;this._clickHandler=_1260(_1266,_1260.selector("li","click"),function(e){self.showTab(self.domData(this,"tab"));e.preventDefault();});},startup:function(){var _1268=this._tabList,_1269=this._tabContent.childNodes,_126a=0,tabs=this._tabPanes=[];for(var i=0,_126b;_126b=_1269[i];i++){var li=$("li"),tab=this.parseContent(_126b,{index:i,button:li,container:this,validator:this})[0];this.domData(li,"tab",tab);if(tab.selected){_126a=i;}li.appendChild($("a",{href:"#","class":"mx-name-"+tab.tabName},tab.title));li.appendChild(tab.indicator);_1268.appendChild(li);tabs.push(tab);}this.showTab(tabs[this.getState("selected",_126a)]);},showTab:function(tab){var self=this,_126c=this._active;if(_126c){_126c.hideTab();}this._active=tab;_1261.add(this._tabContent,"loading");tab.showTab(function(){if(self._active===tab){_1261.remove(self._tabContent,"loading");}self.mxform.resize();});},onShowTab:function(tab){if(!this._active){this.showTab(tab);this.domNode.style.display="";}},onHideTab:function(tab){if(tab===this._active){var index=tab.index,panes=this._tabPanes,order=panes.slice(index+1).concat(panes.slice(0,index)),_126d;for(var i=0,pane;pane=order[i];i++){if(!pane._hidden){_126d=pane;break;}}tab.hideTab();if(_126d){this.showTab(_126d);}else{this._active=null;this.domNode.style.display="none";}}},resize:function(box){var _126e=true,tabs=this._tabPanes;if(box){var _126f=box.h-_1262.getMarginBox(this._tabList,null).h;if(_126f>dom.minContainerHeight){_126e=false;_1262.setMarginBox(this._tabContent,{h:_126f});}else{this._tabContent.style.height="auto";}}this._tabContent.style.overflow=_126e?"":"auto";for(var i=0,tab;tab=tabs[i];i++){tab.resize(_126e);}},isValid:function(){return _1263.every(this._tabPanes,function(tab){return tab.isValid?tab.isValid():true;});},uninitialize:function(){this._clickHandler.remove();},storeState:function(store){store("selected",this._active&&this._active.index);}});return _1265;});},"mxui/widget/TabContent":function(){define(["mxui/widget/_WidgetBase","mxui/widget/TabContainer","mxui/widget","mxui/dom","mendix/logger","dojo/dom-class","dojo/dom-style","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dijit"],function(_1270,_1271,_1272,dom,_1273,_1274,_1275,_1276,_1277,_1278,dijit){var $=dom.create;var _1279=_1278(_1270,{declaredClass:"mxui.widget.TabContent",index:0,title:"",button:null,container:null,indicator:null,delayLoading:false,refreshOnShow:false,_hidden:false,_parsed:false,_loading:false,_visible:false,_cachedResize:null,_notifies:0,_children:null,_contextInitialized:false,buildRendering:function(){this.indicator=$("span",{"class":"mx-tabcontainer-indicator"});this.domNode=$("div",{"class":"tab-pane mx-tabcontainer-pane"});},startup:function(){if(!this.delayLoading){this.parse();}this._updateNotification();},applyContext:function(){this._contextInitialized=true;return this.inherited(arguments);},parse:function(){var _127a=this.getTemplate("content");this.domNode.appendChild($("#",_127a||""));this._children=this.parseContent(this.domNode,{validator:this});this._parsed=true;if(_127a&&this.domNode.firstChild&&dijit.byNode(this.domNode.firstChild) instanceof _1271){_1274.add(this.domNode.firstChild,"mx-tabcontainer-nested");}},refresh:function(_127b){this._loading=true;var _127c=this.getChildren();_1272.ready(_127c,_1277.hitch(this,"passContext",_127c,_1277.hitch(this,function(){this._loading=false;_127b&&_127b();})));},show:function(){this._hidden=false;_1275.set(this.button,"display","");_1275.set(this.domNode,"display","");this.container.onShowTab(this);},hide:function(){this._hidden=true;_1275.set(this.button,"display","none");_1275.set(this.domNode,"display","none");if(this._contextInitialized){this.container.onHideTab(this);}},showTab:function(_127d){this._visible=true;if(this._loading){return;}var self=this,done=function(){if(self._visible){_1274.add(self.domNode,"active");if(self._cachedResize!=null){self.resize(self._cachedResize);self._cachedResize=null;}}if(_127d){_127d();}};_1274.add(this.button,"active");if(!this._parsed){this.parse();this.refresh(done);}else{if(this.refreshOnShow&&this._contextInitialized){this.refresh();}done();}},hideTab:function(){this._visible=false;_1274.remove(this.button,"active");_1274.remove(this.domNode,"active");},resize:function(_127e){if(this._visible){this.resizeChildren(this.domNode,_127e);}else{this._cachedResize=_127e;}},isValid:function(){return _1276.every(this._children,function(child){return child.isValid?child.isValid():true;});},addNotification:function(){++this._notifies;this._updateNotification();var _127f=this.container.validator;if(_127f){_127f.addNotification();}return true;},removeNotification:function(){--this._notifies;this._updateNotification();var _1280=this.container.validator;if(_1280){_1280.removeNotification();}},_updateNotification:function(){if(this._notifies===0){_1275.set(this.indicator,"display","none");}else{if(this.domNode.style.display=="none"){window.mx.ui.error(this.translate("hidden_validations",[this.index+1]));}_1275.set(this.indicator,"display","");}dom.text(this.indicator,this._notifies+"");},_setTitleAttr:function(){}});return _1279;});},"mxui/widget/ReferenceSetSelector":function(){define(["mxui/widget/DataGrid","webcore/datasource/ReferenceSetSource","mxui/widget/_WidgetBase","mxui/mixin/_Contextable","mxui/dom","mendix/lang","mendix/logger","dojo/dom-class","dojo/_base/lang","dojo/_base/declare","dijit/_Container","dijit/_Contained"],function(_1281,_1282,_1283,_1284,dom,lang,_1285,_1286,_1287,_1288,_1289,_128a){var _128b=_1288([_1283,_1289,_128a,_1284],{declaredClass:"mxui.widget.ReferenceSetSelector",entity:"",xpathConstraint:"",config:null,_datasource:null,_datagrid:null,_sourceObject:null,_mendixGuid:null,_oldXPath:null,_gridBacktrack:null,_errorNode:null,_oldActionDeleteSelection:null,_hasError:false,postCreate:function(){this._gridBacktrack=this.backtrackconstraints;delete this.backtrackconstraints;this.initContext();var path=this.config.datasource.path.split("/");this.entity=path.pop();this.sourceReference=path.pop();this.createGrid();},createGrid:function(){this._datasource=new _1282(_1287.mixin({queryid:this.schema},this.config.datasource));this._datagrid=new _1281({mxid:this.mxid,uniqueid:this.uniqueid+"_grid",mxform:this.mxform,contextname:this.contextname,entity:this.entity,schema:this.schema,customDataSource:this._datasource,config:this.config});this._datagrid.addOnLoad(_1287.hitch(this,"actLoaded"));this._oldActionDeleteSelection=this._datagrid.actionDeleteSelection;_1287.mixin(this._datagrid,{actionAddRef:_1287.hitch(this,"handlerAdd"),actionCreateRef:_1287.hitch(this,"handlerCreate"),actionDeleteRef:this.makeRemoveHandler(false),actionDeleteSelection:this.makeRemoveHandler(true),registerSubscriptions:_1287.hitch(this,"registerSubscriptions")});this.domNode.appendChild(this._datagrid.domNode);},handlerAdd:function(_128c){this._sourceObject&&this._openAddForm(_128c[this.entity]);},handlerCreate:function(_128d){var _128e=this._getEntity(_128d),_128f=_128d[_128e];if(_128f==null){return;}if(!this._sourceObject){return;}var _1290=this.createContext();window.mx.data.create({entity:_128e,persistent:_128f.persistent,callback:function(mxobj){var ent,guid;ent=mxobj.getEntity();guid=mxobj.getGuid();_1290.setTrackEntity(ent);_1290.setTrackId(guid);this.onChange();window.mx.ui.execute(_128f,{context:_1290,callback:function(form){form.listen("save",_1287.hitch(this,function(_1291){this._sourceObject.addReferences(this.sourceReference,[guid]);_1291();}));}},this);},error:function(e){window.mx.onError(e);}},this);},makeRemoveHandler:function(_1292){var self=this;return function(){var _1293=self._datagrid.getSelected();if(_1293.length===0){window.mx.ui.info(window.mx.ui.translate("mxui.widget.DataGrid","no_selection"));}else{window.mx.ui.confirmation({content:window.mx.ui.translate("mxui.widget.DataGrid","confirm_delete",[_1293.length]),handler:function(){if(_1292){self._oldActionDeleteSelection.call(self._datagrid,true);}self._sourceObject.removeReferences(self.sourceReference,_1293);self.onChange();if(!_1292){self._datagrid.deselectAll();self._datagrid.reload();}}});}};},registerSubscriptions:function(){this.unsubscribeAll();this.subscribe({guid:this._mendixguid,attr:this.sourceReference,callback:function(guid){this.objectUpdate(guid);}});this.subscribe({entity:this.entity,callback:_1287.hitch(this,function(){this.objectUpdate.apply(this,arguments);})});this.subscribe({guid:this._mendixguid,callback:_1287.hitch(this,"objectUpdate")});this.subscribe({guid:this._mendixguid,val:true,callback:_1287.hitch(this,"onValidation")});},applyContext:function(_1294,_1295){if(_1294!=null&&_1294.hasTrackId()){this.cloneContext(_1294);var _1296=(this._mendixguid==null||this._mendixguid!=_1294.getTrackId());this._mendixguid=_1294.getTrackId();this.mxcontext.setConstraints(this.constrainedBy);this.registerSubscriptions();this.updateSequence(_1296,_1295);}else{this.unsubscribeAll();this.removeContext(_1295);}},removeContext:function(_1297){if(this._datagrid.removeContext){this._datagrid.removeContext(_1297);}else{_1297&&_1297();}},updateSequence:function(_1298,_1299){var chain=[];if(_1298){chain.push("actFetchSourceObject");}chain.push("actUpdateGrid");if(!_1298){chain.push("actCompareSet");}_1299&&chain.push(_1299);this.sequence(chain);},actFetchSourceObject:function(_129a){var self=this;if(this._mendixguid){window.mx.data.get({guid:this._mendixguid,callback:function(obj){self._sourceObject=obj;self._datasource.setObject(obj);self._datagrid.set("readOnly",self._sourceObject.isReadonlyAttr(self.sourceReference));_129a();},error:function(e){window.mx.onError(e);_129a&&_129a();}});}else{_129a&&_129a();}},actUpdateGrid:function(_129b){this._oldXPath=this._datagrid.getCurrentXPath();this._datagrid.applyContext(this.mxcontext,_129b);},actCompareSet:function(_129c){var xPath=this._datagrid.getCurrentXPath();if(!this._oldXPath.match("[1=0]")&&this._oldXPath!=xPath){this._sourceObject.set(this.sourceReference,"");this.onChange();}else{_129c&&_129c();}},objectUpdate:function(guid,_129d){this.updateSequence();_129d&&_129d();},_setDisabledAttr:function(value){var grid=this._datagrid,_129e=value===true;grid.set("disabled",value);grid.set("selectable",!_129e);grid.set("toolbar",_129e);},_getDisabledAttr:function(){return this._datagrid.get("disabled");},onChange:function(){var ev=this.events&&this.events.change;this.validateForMicroflow(ev,_1287.hitch(this,"callMicroflow",ev));},validateForMicroflow:function(_129f,_12a0){if(_129f&&_129f.validate=="view"){this.mxform.save(_12a0);}else{_12a0&&_12a0();}},onValidation:function(list){var val=list[0],attr=this.sourceReference,msg=val.getReasonByAttribute(attr);if(msg){this.addError(msg);val.removeAttribute(attr);}},callMicroflow:function(_12a1){if(_12a1){window.mx.ui.execute({microflow:_12a1},{context:this.mxcontext});}},addError:function(msg){this.removeError();this._hasError=true;if(msg){this._errorNode=dom.create("div",{"class":"alert alert-danger"},msg);this.domNode.parentNode.appendChild(this._errorNode);this.mxform.resize();}_1286.add(this.domNode,"has-error");if(this.validator){this.validator.addNotification();}},removeError:function(){if(this._errorNode){dom.orphan(this._errorNode);this._errorNode=null;}_1286.remove(this.domNode,"has-error");if(this.validator&&this._hasError){this.validator.removeNotification();}this._hasError=false;},_openAddForm:function(_12a2){var self=this;var _12a3=this.createContext();_12a3.dupFrom(this.mxcontext);_12a3.unsetContext(this.entity);_12a3.setConstraints(this._gridBacktrack);window.mx.ui.execute(_12a2,{context:_12a3,params:{selection:[],listViewSelectionMode:"multi",dataSourceMixin:{constraint:this.xpathConstraint}},callback:function(form){form.listen("save",function(_12a4){var _12a5=lang.find(form.getChildren(true),function(_12a6){return "getSelected" in _12a6;}),_12a7=_12a5.getSelected();self._sourceObject.addReferences(self.sourceReference,_12a7);self.onChange();_12a4();});}});},_getEntity:function(_12a8){for(var i in _12a8){return i;}}});return _128b;});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(array,_12a9,_12aa,_12ab){return _12a9("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_12ac,_12ad){var _12ae=this.containerNode;if(_12ad>0){_12ae=_12ae.firstChild;while(_12ad>0){if(_12ae.nodeType==1){_12ad--;}_12ae=_12ae.nextSibling;}if(_12ae){_12ad="before";}else{_12ae=this.containerNode;_12ad="last";}}_12aa.place(_12ac.domNode,_12ae,_12ad);if(this._started&&!_12ac._started){_12ac.startup();}},removeChild:function(_12af){if(typeof _12af=="number"){_12af=this.getChildren()[_12af];}if(_12af){var node=_12af.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(child,dir){_12ab.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var _12b0=this.getChildren(),idx=array.indexOf(_12b0,child);return _12b0[idx+dir];},getIndexOfChild:function(child){return array.indexOf(this.getChildren(),child);}});});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_12b1,_12b2){return _12b1("dijit._Contained",null,{_getSibling:function(which){var node=this.domNode;do{node=node[which+"Sibling"];}while(node&&node.nodeType!=1);return node&&_12b2.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"mxui/widget/BoolSelect":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/_base/declare"],function(_12b3,_12b4,_12b5){var _12b6=_12b5(_12b3,{declaredClass:"mxui.widget.BoolSelect",_value:false,buildRendering:function(){var $=_12b4.create,node=this.editNode=$("input",{type:"checkbox"});this.inherited(arguments);},onChange:function(e){if(this._value!=this.editNode.checked){this._value=this.editNode.checked;this.inherited(arguments);}},_getValueAttr:function(){return this.editNode.checked;},_setValueAttr:function(value){this.editNode.checked=this._value=value;_12b4.text(this.readNode,window.mx.parser.formatValue(value,"Boolean"));}});return _12b6;});},"mxui/widget/RadioButtonGroup":function(){define(["mxui/widget/_FormWidget","mxui/dom","mendix/lang","dojo/_base/declare"],function(_12b7,dom,lang,_12b8){var $=dom.create;var _12b9=_12b8(_12b7,{declaredClass:"mxui.widget.RadioButtonGroup",horizontal:true,options:null,_inputMap:null,_inputName:"",_attrType:"",_value:"",postMixInProperties:function(){this.inherited(arguments);this._inputMap={};this._inputName=lang.getUniqueId();this._attrType=mx.meta.getEntity(this._entity).getAttributeType(this._attribute);},buildRendering:function(){this.editNode=$("div");lang.forEach(this.options,this._addRadioButton,this);this.inherited(arguments);},connectEvents:function(){},_addRadioButton:function(_12ba){var _12bb=$("input",{type:"radio",name:this._inputName,value:_12ba.key});this._inputMap[_12ba.key]=_12bb;this.editNode.appendChild(this.horizontal?$("label",{"class":"radio-inline"},_12bb,_12ba.caption):$("div",{"class":"radio"},$("label",_12bb,_12ba.caption)));this.connect(_12bb,"change",function(e){var value=e.target.value;if(value!==this._value){this._value=this._attrType==="Boolean"?value==="true":value;this.onChange(e);}});},_getValueAttr:function(){return this._value;},_setValueAttr:function(value){if(value in this._inputMap){this._inputMap[value].checked=true;this._value=value;}else{if(this._value){this._inputMap[this._value].checked=false;}this._value="";}var _12bc=lang.find(this.options,function(_12bd){return _12bd.key===value.toString();});this.readNode.innerHTML=_12bc?dom.escapeString(_12bc.caption):"&nbsp;";}});return _12b9;});},"mxui/widget/DatePicker":function(){define(["mxui/widget/Button","mxui/widget/_WidgetBase","mxui/dom","dijit/focus","dijit/Calendar","dojo/sniff","dojo/i18n","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/dom-geometry","dojo/keys","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(_12be,_12bf,_12c0,_12c1,_12c2,_12c3,_12c4,_12c5,_12c6,_12c7,_12c8,_12c9,_12ca,_12cb,_12cc,_12cd){var _12ce=_12cd(_12bf,{declaredClass:"mxui.widget.DatePicker",placeholder:"",selector:"date",format:"",_value:"",_native:false,_params:null,_calendar:null,_rescon:null,_leavecon:null,_blurcon:null,_foccon:null,_capture:null,_chgcon:null,_inputPos:null,_inputNode:null,_inputPane:null,_calButton:null,_calUpdateOn:true,buildRendering:function(){var $=_12c0.create,smile=":)",type=this.selector=="datetime"?"datetime-local":this.selector,_12cf;var _12d0=this._inputPane=$("div",{"class":"mx-dateinput-input-wrapper"},_12cf=this._inputNode=$("input",{"class":"form-control mx-dateinput-input",type:type,value:smile,placeholder:this._getPlaceholder()}));this.domNode=$("div",{"class":"mx-dateinput"},_12d0);this._native=_12c3("mobile")&&_12cf.type===type&&_12cf.value!==smile;_12cf.value="";this._params={selector:this.selector=="custom"?"date":this.selector,datePattern:this.format};if(this._native){this._params=this._getNativeParseOpts();}else{_12cf.type="text";if(this._formatContainsDate()){this._calButton=new _12be({"class":"mx-dateinput-select-button",iconClass:"glyphicon-calendar"});_12c5.set(this._calButton.domNode,"tabindex","-1");_12c8.place(this._calButton.domNode,_12d0,"before");}}},startup:function(){this.inherited(arguments);var node=this._inputNode;this._connectChangeEvent();this._blurcon=this.connect(node,"blur","onBlur");this._foccon=this.connect(node,"focus","onFocus");this.connect(node,"keyup","onKeyUp");if(this._calButton){this.connect(this._calButton,"onClick","_handleButtonClicked");this.connect(node,"keyup","_handleInputKey");}},enable:function(){if(this._calButton){this._calButton.set("disabled",false);}_12c5.remove(this._inputNode,"disabled");},disable:function(){if(this._calButton){this._calButton.set("disabled",true);}_12c5.set(this._inputNode,"disabled","disabled");},focus:function(){_12c1.focus(this._inputNode);},onChange:function(){},onKeyUp:function(e){},onFocus:function(e){},onBlur:function(e){},uninitialize:function(){if(this._calendar){this._calendar.destroy();}if(this._capture){this._capture.remove();}},_formatContainsDate:function(){return (this.selector=="date"||this.selector=="datetime"||(this.selector=="custom"&&this.format.indexOf("d")!=-1&&this.format.indexOf("M")!=-1&&this.format.indexOf("y")!=-1));},_connectChangeEvent:function(){if(this._native){this._chgcon=this.connect(this._inputNode,"blur",function(){if(this._inputNode.value!=this._value){this.onChange();}});}else{this._chgcon=this.connect(this._inputNode,"change","onChange");}},_disconnectEvents:function(names){for(var i=0,name;name=names[i];++i){if(this[name]){this.disconnect(this[name]);this[name]=null;}}},_showCalendar:function(){var _12d1=this._calendar;if(!this._isCalendarVisible()){if(!_12d1){_12d1=this._calendar=new _12c2(_12cc.mixin({datePackage:window.mx.ui.getDatePackage(),onChange:_12cc.hitch(this,"_handleCalendarChange"),onKeyDown:_12cc.hitch(this,"_handleCalendarKey")},this._calendarPatch));_12d1.domNode.style.position="absolute";document.body.appendChild(_12d1.domNode);}var value=this.get("value");if(value===""){value=new Date();}this._setCalendarValue(value);_12d1.domNode.style.display="block";this._rescon=this.connect(this.mxform,"resize","_handleResizeWindow");this._capture=_12c0.capture(document.body,"mousedown",_12cc.hitch(this,"_handleBodyClicked"));}this._handleResizeWindow();this._disconnectEvents(["_chgcon","_leavecon","_blurcon"]);_12d1.focus();setTimeout(_12cc.hitch(this,function(){this._connectChangeEvent();this._leavecon=this.connect(this._inputNode,"blur","_handleInputBlur");this._blurcon=this.connect(this._inputNode,"blur","onBlur");}),0);},_hideCalendar:function(){if(this._isCalendarVisible()){var _12d2=this._calendar.domNode;this._calendar.domNode.style.display="none";this._inputPos=null;this._disconnectEvents(["_rescon","_leavecon"]);this._capture.remove();this._capture=null;}this._disconnectEvents(["_foccon"]);this.focus();setTimeout(_12cc.hitch(this,function(){this._foccon=this.connect(this._inputNode,"focus","onFocus");}),0);},_handleCalendarChange:function(value){if(!this._calUpdateOn){return;}if(value.toGregorian){value=value.toGregorian();}this.set("value",this._mergeDates(value));this._hideCalendar();this.onChange();},_handleInputKey:function(e){if(e.keyCode===_12ca.DOWN_ARROW){this._showCalendar();}else{if(e.keyCode==_12ca.ENTER){this._hideCalendar();}else{var value=this.get("value");if(value&&this._isCalendarVisible()){this._setCalendarValue(value);}}}},_handleInputBlur:function(e){this._hideCalendar();},_handleBodyClicked:function(e){var _12d3=function(e,_12d4){var pos=_12c9.position(_12d4.domNode);return (e.clientX>=pos.x&&e.clientX<pos.x+pos.w&&e.clientY>=pos.y&&e.clientY<pos.y+pos.h);};var _12d5=[this,this._calendar,this._calendar.monthWidget,this._calendar.monthWidget.dropDown];if(e){for(var i=0,w;w=_12d5[i];++i){if(_12d3(e,w)){return;}}}this._hideCalendar();this.onBlur();},_handleButtonClicked:function(e){if(this._isCalendarVisible()){this._hideCalendar();}else{this._showCalendar();}},_handleCalendarKey:function(e){if(e.keyCode==_12ca.ESCAPE||e.keyCode==_12ca.TAB){this._hideCalendar();}},_handleResizeWindow:function(){var box=_12c9.position(this._inputNode,true),pos={x:box.x,y:box.y},_12d6=this._inputPos;if(!this.isLeftToRight()){pos.x+=box.w;}if(_12d6==null||pos.x!=_12d6.x||pos.y!=_12d6.y){var style={left:pos.x+"px",top:pos.y+box.h+"px",zIndex:1000};if(!this.isLeftToRight()){var _12d7=_12c9.position(this._calendar.domNode,true);style.left=pos.x-_12d7.w+"px";}_12c7.set(this._calendar.domNode,style);this._inputPos=pos;}},_isCalendarVisible:function(){return this._calendar&&this._calendar.domNode.style.display!="none";},_setCalendarValue:function(value){this._calUpdateOn=false;this._calendar.set("value",value);this._calUpdateOn=true;},_getNativeParseOpts:function(){var _12d8;switch(this.selector){case "date":_12d8="yyyy-MM-dd";break;case "time":_12d8="HH:mm";break;case "datetime":_12d8="yyyy-MM-dd HH:mm";}return {selector:"date",datePattern:_12d8};},_getPlaceholder:function(){if(this.placeholder){return this.placeholder;}else{var _12d9=_12c4.getLocalization("dojo.cldr",mx.ui.getCalendarSystem()),_12da;switch(this.selector){case "date":_12da=_12d9["dateFormat-short"];break;case "time":_12da=_12d9["timeFormat-short"];break;case "datetime":_12da=_12d9["dateFormat-short"]+" "+_12d9["timeFormat-short"];break;case "custom":_12da=this.format;}_12da=_12da.toLowerCase();return _12da.replace(/(\w)+/g,function(match,group){switch(group){case "y":return new Array(5).join(group);case "a":return _12d9["field-dayperiod"];default:return new Array(3).join(group);}});}},_mergeDates:function(_12db){var _12dc=new Date(this._value===""?window.mx.parser.localizeEpoch(0):this._value);return window.mx.parser.mergeDates(_12dc,_12db,this.selector);},_getValueAttr:function(){var value=this._inputNode.value;if(value===""){return "";}if(this._native){value=value.slice(0,16).replace("T"," ");}var _12dd=window.mx.parser.parseValue2(value,"datetime",this._params);return _12dd?this._mergeDates(_12dd):null;},_setValueAttr:function(value){var edval=window.mx.parser.formatValue(value,"datetime",this._params);this._inputNode.value=this._native?edval.replace(" ","T"):edval;this._value=value;},_calendarPatch:{_onDayMouseDown:function(e){var node=e.target.parentNode;if(node&&node.dijitDateValue!=null&&!_12c6.contains(node,"dijitCalendarDisabledDate")){this._currentNode=node;}},_onDayClick:function(e){_12cb.stop(e);for(var node=e.target;node&&(node.dijitDateValue==null);node=node.parentNode){}if(node&&!_12c6.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_patchDate:function(value){if(value!=null){value=new this.dateClassObj(value);value.setHours(1,0,0,0);}return value;}}});return _12ce;});},"dijit/Calendar":function(){define(["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(array,date,local,_12de,_12df,_12e0,_12e1,_12e2,keys,lang,on,has,_12e3,_12e4,_12e5,_12e6,_12e7){var _12e8=_12de("dijit.Calendar",[_12e3,_12e4,_12e5],{baseClass:"dijitCalendar",cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(value){_12e2.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",value);},_createMonthWidget:function(){return new _12e8._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")),on(this.dateRowsNode,"mouseover",lang.hitch(this,"_onDayMouseOver")),on(this.dateRowsNode,"mouseout",lang.hitch(this,"_onDayMouseOut")),on(this.dateRowsNode,"mousedown",lang.hitch(this,"_onDayMouseDown")),on(this.dateRowsNode,"mouseup",lang.hitch(this,"_onDayMouseUp")));},_onMonthSelect:function(_12e9){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_12e9);var _12ea=this.dateModule.getDaysInMonth(date);var _12eb=this.currentFocus.getDate();date.setDate(Math.min(_12eb,_12ea));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_12e0.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_12e0.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_12e0.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_12e0.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_12e0.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_12e0.contains(node,"dijitCalendarDisabledDate")){_12e0.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_12e0.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _12ec=-1,_12ed,_12ee=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_12ec=1;case keys.LEFT_ARROW:_12ed="day";if(!this.isLeftToRight()){_12ec*=-1;}break;case keys.DOWN_ARROW:_12ec=1;case keys.UP_ARROW:_12ed="week";break;case keys.PAGE_DOWN:_12ec=1;case keys.PAGE_UP:_12ed=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_12ee=this.dateModule.add(_12ee,"month",1);_12ed="day";case keys.HOME:_12ee=new this.dateClassObj(_12ee);_12ee.setDate(1);break;default:return true;}if(_12ed){_12ee=this.dateModule.add(_12ee,_12ed,_12ec);}this._setCurrentFocusAttr(_12ee);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){evt.stopPropagation();evt.preventDefault();}},onValueSelected:function(){},onChange:function(value){this.onValueSelected(value);},getClassForDate:function(){}});_12e8._MonthDropDownButton=_12de("dijit.Calendar._MonthDropDownButton",_12e7,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _12e8._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(month){var _12ef=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);this.dropDown.set("months",_12ef);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_12ef[month.getMonth()]+"</div>";}});_12e8._MonthDropDown=_12de("dijit.Calendar._MonthDropDown",[_12e4,_12e6,_12e5],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"<div data-dojo-attach-event='ondijitclick:_onClick'></div>",_setMonthsAttr:function(_12f0){this.domNode.innerHTML="";array.forEach(_12f0,function(month,idx){var div=_12e1.create("div",{className:"dijitCalendarMonthLabel",month:idx,innerHTML:month},this.domNode);div._cssState="dijitCalendarMonthLabel";},this);},_onClick:function(evt){this.onChange(_12df.get(evt.target,"month"));},onChange:function(){}});return _12e8;});},"dojo/date":function(){define(["./has","./_base/lang"],function(has,lang){var date={};date.getDaysInMonth=function(_12f1){var month=_12f1.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(month==1&&date.isLeapYear(_12f1)){return 29;}return days[month];};date.isLeapYear=function(_12f2){var year=_12f2.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};date.getTimezoneName=function(_12f3){var str=_12f3.toString();var tz="";var match;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((match=str.match(pat))){tz=match[1];}else{str=_12f3.toLocaleString();pat=/ ([A-Z\/]+)$/;if((match=str.match(pat))){tz=match[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};date.compare=function(date1,date2,_12f4){date1=new Date(+date1);date2=new Date(+(date2||new Date()));if(_12f4=="date"){date1.setHours(0,0,0,0);date2.setHours(0,0,0,0);}else{if(_12f4=="time"){date1.setFullYear(0,0,0);date2.setFullYear(0,0,0);}}if(date1>date2){return 1;}if(date1<date2){return -1;}return 0;};date.add=function(date,_12f5,_12f6){var sum=new Date(+date);var _12f7=false;var _12f8="Date";switch(_12f5){case "day":break;case "weekday":var days,weeks;var mod=_12f6%5;if(!mod){days=(_12f6>0)?5:-5;weeks=(_12f6>0)?((_12f6-5)/5):((_12f6+5)/5);}else{days=mod;weeks=parseInt(_12f6/5);}var strt=date.getDay();var adj=0;if(strt==6&&_12f6>0){adj=1;}else{if(strt==0&&_12f6<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_12f6>0)?2:-2;}_12f6=(7*weeks)+days+adj;break;case "year":_12f8="FullYear";_12f7=true;break;case "week":_12f6*=7;break;case "quarter":_12f6*=3;case "month":_12f7=true;_12f8="Month";break;default:_12f8="UTC"+_12f5.charAt(0).toUpperCase()+_12f5.substring(1)+"s";}if(_12f8){sum["set"+_12f8](sum["get"+_12f8]()+_12f6);}if(_12f7&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};date.difference=function(date1,date2,_12f9){date2=date2||new Date();_12f9=_12f9||"day";var _12fa=date2.getFullYear()-date1.getFullYear();var delta=1;switch(_12f9){case "quarter":var m1=date1.getMonth();var m2=date2.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_12fa*4);delta=q2-q1;break;case "weekday":var days=Math.round(date.difference(date1,date2,"day"));var weeks=parseInt(date.difference(date1,date2,"week"));var mod=days%7;if(mod==0){days=weeks*5;}else{var adj=0;var aDay=date1.getDay();var bDay=date2.getDay();weeks=parseInt(days/7);mod=days%7;var _12fb=new Date(date1);_12fb.setDate(_12fb.getDate()+(weeks*7));var _12fc=_12fb.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_12fc+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_12fc+mod)<0:adj=2;}}}days+=adj;days-=(weeks*2);}delta=days;break;case "year":delta=_12fa;break;case "month":delta=(date2.getMonth()-date1.getMonth())+(_12fa*12);break;case "week":delta=parseInt(date.difference(date1,date2,"day")/7);break;case "day":delta/=24;case "hour":delta/=60;case "minute":delta/=60;case "second":delta/=1000;case "millisecond":delta*=date2.getTime()-date1.getTime();}return Math.round(delta);};1&&lang.mixin(lang.getObject("dojo.date",true),date);return date;});},"dojo/date/locale":function(){define(["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(lang,array,date,_12fd,i18n,_12fe,_12ff,_1300,_1301){var _1302={};lang.setObject(_1301.id.replace(/\//g,"."),_1302);function _1303(_1304,_1305,_1306,_1307){return _1307.replace(/([a-z])\1*/ig,function(match){var s,pad,c=match.charAt(0),l=match.length,_1308=["abbr","wide","narrow"];switch(c){case "G":s=_1305[(l<4)?"eraAbbr":"eraNames"][_1304.getFullYear()<0?0:1];break;case "y":s=_1304.getFullYear();switch(l){case 1:break;case 2:if(!_1306.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_1304.getMonth()+1)/3);pad=true;break;case "M":case "L":var m=_1304.getMonth();if(l<3){s=m+1;pad=true;}else{var propM=["months",c=="L"?"standAlone":"format",_1308[l-3]].join("-");s=_1305[propM][m];}break;case "w":var _1309=0;s=_1302._getWeekOfYear(_1304,_1309);pad=true;break;case "d":s=_1304.getDate();pad=true;break;case "D":s=_1302._getDayOfYear(_1304);pad=true;break;case "e":case "c":var d=_1304.getDay();if(l<2){s=(d-_12fd.getFirstDayOfWeek(_1306.locale)+8)%7;break;}case "E":d=_1304.getDay();if(l<3){s=d+1;pad=true;}else{var propD=["days",c=="c"?"standAlone":"format",_1308[l-3]].join("-");s=_1305[propD][d];}break;case "a":var _130a=_1304.getHours()<12?"am":"pm";s=_1306[_130a]||_1305["dayPeriods-format-wide-"+_130a];break;case "h":case "H":case "K":case "k":var h=_1304.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_1304.getMinutes();pad=true;break;case "s":s=_1304.getSeconds();pad=true;break;case "S":s=Math.round(_1304.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=_1302._getZone(_1304,true,_1306);if(s){break;}l=4;case "Z":var _130b=_1302._getZone(_1304,false,_1306);var tz=[(_130b<=0?"+":"-"),_12ff.pad(Math.floor(Math.abs(_130b)/60),2),_12ff.pad(Math.abs(_130b)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_1307);}if(pad){s=_12ff.pad(s,l);}return s;});};_1302._getZone=function(_130c,_130d,_130e){if(_130d){return date.getTimezoneName(_130c);}else{return _130c.getTimezoneOffset();}};_1302.format=function(_130f,_1310){_1310=_1310||{};var _1311=i18n.normalizeLocale(_1310.locale),_1312=_1310.formatLength||"short",_1313=_1302._getGregorianBundle(_1311),str=[],sauce=lang.hitch(this,_1303,_130f,_1313,_1310);if(_1310.selector=="year"){return _1314(_1313["dateFormatItem-yyyy"]||"yyyy",sauce);}var _1315;if(_1310.selector!="date"){_1315=_1310.timePattern||_1313["timeFormat-"+_1312];if(_1315){str.push(_1314(_1315,sauce));}}if(_1310.selector!="time"){_1315=_1310.datePattern||_1313["dateFormat-"+_1312];if(_1315){str.push(_1314(_1315,sauce));}}return str.length==1?str[0]:_1313["dateTimeFormat-"+_1312].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(match,key){return str[key];});};_1302.regexp=function(_1316){return _1302._parseInfo(_1316).regexp;};_1302._parseInfo=function(_1317){_1317=_1317||{};var _1318=i18n.normalizeLocale(_1317.locale),_1319=_1302._getGregorianBundle(_1318),_131a=_1317.formatLength||"short",_131b=_1317.datePattern||_1319["dateFormat-"+_131a],_131c=_1317.timePattern||_1319["timeFormat-"+_131a],_131d;if(_1317.selector=="date"){_131d=_131b;}else{if(_1317.selector=="time"){_131d=_131c;}else{_131d=_1319["dateTimeFormat-"+_131a].replace(/\{(\d+)\}/g,function(match,key){return [_131c,_131b][key];});}}var _131e=[],re=_1314(_131d,lang.hitch(this,_131f,_131e,_1319,_1317));return {regexp:re,tokens:_131e,bundle:_1319};};_1302.parse=function(value,_1320){var _1321=/[\u200E\u200F\u202A\u202E]/g,info=_1302._parseInfo(_1320),_1322=info.tokens,_1323=info.bundle,re=new RegExp("^"+info.regexp.replace(_1321,"")+"$",info.strict?"":"i"),match=re.exec(value&&value.replace(_1321,""));if(!match){return null;}var _1324=["abbr","wide","narrow"],_1325=[1970,0,1,0,0,0,0],amPm="",valid=array.every(match,function(v,i){if(!i){return true;}var token=_1322[i-1],l=token.length,c=token.charAt(0);switch(c){case "y":if(l!=2&&_1320.strict){_1325[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_1326=year.substring(0,2)*100,_1327=Math.min(Number(year.substring(2,4))+20,99);_1325[0]=(v<_1327)?_1326+v:_1326-100+v;}else{if(_1320.strict){return false;}_1325[0]=v;}}break;case "M":case "L":if(l>2){var _1328=_1323["months-"+(c=="L"?"standAlone":"format")+"-"+_1324[l-3]].concat();if(!_1320.strict){v=v.replace(".","").toLowerCase();_1328=array.map(_1328,function(s){return s.replace(".","").toLowerCase();});}v=array.indexOf(_1328,v);if(v==-1){return false;}}else{v--;}_1325[1]=v;break;case "E":case "e":case "c":var days=_1323["days-"+(c=="c"?"standAlone":"format")+"-"+_1324[l-3]].concat();if(!_1320.strict){v=v.toLowerCase();days=array.map(days,function(d){return d.toLowerCase();});}v=array.indexOf(days,v);if(v==-1){return false;}break;case "D":_1325[1]=0;case "d":_1325[2]=v;break;case "a":var am=_1320.am||_1323["dayPeriods-format-wide-am"],pm=_1320.pm||_1323["dayPeriods-format-wide-pm"];if(!_1320.strict){var _1329=/\./g;v=v.replace(_1329,"").toLowerCase();am=am.replace(_1329,"").toLowerCase();pm=pm.replace(_1329,"").toLowerCase();}if(_1320.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_1325[3]=v;break;case "m":_1325[4]=v;break;case "s":_1325[5]=v;break;case "S":_1325[6]=v;}return true;});var hours=+_1325[3];if(amPm==="p"&&hours<12){_1325[3]=hours+12;}else{if(amPm==="a"&&hours==12){_1325[3]=0;}}var _132a=new Date(_1325[0],_1325[1],_1325[2],_1325[3],_1325[4],_1325[5],_1325[6]);if(_1320.strict){_132a.setFullYear(_1325[0]);}var _132b=_1322.join(""),_132c=_132b.indexOf("d")!=-1,_132d=_132b.indexOf("M")!=-1;if(!valid||(_132d&&_132a.getMonth()>_1325[1])||(_132c&&_132a.getDate()>_1325[2])){return null;}if((_132d&&_132a.getMonth()<_1325[1])||(_132c&&_132a.getDate()<_1325[2])){_132a=date.add(_132a,"hour",1);}return _132a;};function _1314(_132e,_132f,_1330,_1331){var _1332=function(x){return x;};_132f=_132f||_1332;_1330=_1330||_1332;_1331=_1331||_1332;var _1333=_132e.match(/(''|[^'])+/g),_1334=_132e.charAt(0)=="'";array.forEach(_1333,function(chunk,i){if(!chunk){_1333[i]="";}else{_1333[i]=(_1334?_1330:_132f)(chunk.replace(/''/g,"'"));_1334=!_1334;}});return _1331(_1333.join(""));};function _131f(_1335,_1336,_1337,_1338){_1338=_12fe.escapeString(_1338);if(!_1337.strict){_1338=_1338.replace(" a"," ?a");}return _1338.replace(/([a-z])\1*/ig,function(match){var s,c=match.charAt(0),l=match.length,p2="",p3="";if(_1337.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":case "L":s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";break;case "D":s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p2+"[1-9][0-9]|"+p3+"[1-9]";break;case "d":s="3[01]|[12]\\d|"+p2+"[1-9]";break;case "w":s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";break;case "E":case "e":case "c":s=".+?";break;case "h":s="1[0-2]|"+p2+"[1-9]";break;case "k":s="1[01]|"+p2+"\\d";break;case "H":s="1\\d|2[0-3]|"+p2+"\\d";break;case "K":s="1\\d|2[0-4]|"+p2+"[1-9]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_1337.am||_1336["dayPeriods-format-wide-am"],pm=_1337.pm||_1336["dayPeriods-format-wide-pm"];s=am+"|"+pm;if(!_1337.strict){if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_1335){_1335.push(match);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _1339=[];_1302.addCustomFormats=function(_133a,_133b){_1339.push({pkg:_133a,name:_133b});};_1302._getGregorianBundle=function(_133c){var _133d={};array.forEach(_1339,function(desc){var _133e=i18n.getLocalization(desc.pkg,desc.name,_133c);_133d=lang.mixin(_133d,_133e);},this);return _133d;};_1302.addCustomFormats(_1301.id.replace(/\/date\/locale$/,".cldr"),"gregorian");_1302.getNames=function(item,type,_133f,_1340){var label,_1341=_1302._getGregorianBundle(_1340),props=[item,_133f,type];if(_133f=="standAlone"){var key=props.join("-");label=_1341[key];if(label[0]==1){label=undefined;}}props[1]="format";return (label||_1341[props.join("-")]).concat();};_1302.isWeekend=function(_1342,_1343){var _1344=_12fd.getWeekend(_1343),day=(_1342||new Date()).getDay();if(_1344.end<_1344.start){_1344.end+=7;if(day<_1344.start){day+=7;}}return day>=_1344.start&&day<=_1344.end;};_1302._getDayOfYear=function(_1345){return date.difference(new Date(_1345.getFullYear(),0,1,_1345.getHours()),_1345)+1;};_1302._getWeekOfYear=function(_1346,_1347){if(arguments.length==1){_1347=0;}var _1348=new Date(_1346.getFullYear(),0,1).getDay(),adj=(_1348-_1347+7)%7,week=Math.floor((_1302._getDayOfYear(_1346)+adj-1)/7);if(_1348==_1347){week++;}return week;};return _1302;});},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(lang,i18n){var _1349={};lang.setObject("dojo.cldr.supplemental",_1349);_1349.getFirstDayOfWeek=function(_134a){var _134b={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0};var _134c=_1349._region(_134a);var dow=_134b[_134c];return (dow===undefined)?1:dow;};_1349._region=function(_134d){_134d=i18n.normalizeLocale(_134d);var tags=_134d.split("-");var _134e=tags[1];if(!_134e){_134e={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[tags[0]];}else{if(_134e.length==4){_134e=tags[2];}}return _134e;};_1349.getWeekend=function(_134f){var _1350={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5},_1351={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6},_1352=_1349._region(_134f),start=_1350[_1352],end=_1351[_1352];if(start===undefined){start=6;}if(end===undefined){end=0;}return {start:start,end:end};};return _1349;});},"dojo/cldr/nls/gregorian":function(){define({root:{"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"months-format-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"field-second-relative+0":"now","quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"y-MM-dd, E","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday","dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"MMM d, E","eraNarrow":["BCE","CE"],"field-tue-relative+-1":"last Tuesday","days-format-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"y MMMM d","field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"y MMMM d, EEEE","field-thu-relative+-1":"last Thursday","dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"y-MM-dd","field-era":"Era","dateFormatItem-yM":"y-MM","months-standAlone-wide":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Year","dateFormatItem-yMMM":"y MMM","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday","timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday","dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-M":"L","days-standAlone-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dayPeriods-format-abbr-noon":"noon","timeFormat-medium":"HH:mm:ss","field-sun-relative+0":"this Sunday","dateFormatItem-Hm":"HH:mm","field-sun-relative+1":"next Sunday","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraAbbr":["BCE","CE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-h":"h a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E","dateTimeFormat-full":"{1} {0}","field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"field-zone":"Zone","months-standAlone-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"dateFormatItem-y":"y","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{1} {0}","dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"eraNames":["BCE","CE"],"dateFormatItem-yMMMd":"y MMM d","days-format-narrow":["S","M","T","W","T","F","S"],"field-month":"Month","days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","field-tue-relative+0":"this Tuesday","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","field-tue-relative+1":"next Tuesday","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormatItem-EHm":"E HH:mm","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday","dateFormat-short":"y-MM-dd","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","field-sat-relative+-1":"last Saturday","dateFormatItem-yMMMEd":"y MMM d, E","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateTimeFormats-appendItem-Timezone":"{0} {1}","dateFormatItem-Ed":"d, E","field-week":"Week","dateFormat-medium":"y MMM d","field-week-relative+-1":"last week","field-year-relative+0":"this year","field-year-relative+1":"next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM","field-mon-relative+-1":"last Monday","field-week-relative+0":"this week","field-week-relative+1":"next week"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-au":true,"en-ca":true,"en-gb":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});},"dojo/cldr/nls/en/gregorian":function(){define({"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-yMEd":"E, M/d/y","dateFormatItem-MMMEd":"E, MMM d","eraNarrow":["B","A"],"days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"dateFormat-long":"MMMM d, y","months-format-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"dateTimeFormat-medium":"{1}, {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, MMMM d, y","dateFormatItem-Md":"M/d","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"M/d/y","field-era":"Era","dateFormatItem-yM":"M/y","months-standAlone-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"timeFormat-short":"h:mm a","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"timeFormat-long":"h:mm:ss a z","field-year":"Year","dateFormatItem-yMMM":"MMM y","dateFormatItem-yQ":"Q y","field-hour":"Hour","months-format-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"timeFormat-full":"h:mm:ss a zzzz","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","months-standAlone-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateFormatItem-M":"L","days-standAlone-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"timeFormat-medium":"h:mm:ss a","dateFormatItem-Hm":"HH:mm","eraAbbr":["BC","AD"],"field-minute":"Minute","field-dayperiod":"AM/PM","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","field-day-relative+-1":"Yesterday","dateTimeFormat-long":"{1} 'at' {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"E, M/d","dateTimeFormat-full":"{1} 'at' {0}","field-day":"Day","days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"field-zone":"Time Zone","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Last year","field-month-relative+-1":"Last month","dateFormatItem-hm":"h:mm a","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-yMMMd":"MMM d, y","eraNames":["Before Christ","Anno Domini"],"days-format-narrow":["S","M","T","W","T","F","S"],"field-month":"Month","days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","dayPeriods-format-wide-am":"AM","dateFormatItem-EHm":"E HH:mm","dateFormat-short":"M/d/yyyy","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","dateFormatItem-yMMMEd":"E, MMM d, y","field-month-relative+0":"This month","field-month-relative+1":"Next month","dateFormatItem-Ed":"d E","field-week":"Week","dateFormat-medium":"MMM d, y","field-year-relative+0":"This year","field-week-relative+-1":"Last week","field-year-relative+1":"Next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1}, {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","field-week-relative+0":"This week","field-week-relative+1":"Next week"});},"dojo/cldr/nls/nl/gregorian":function(){define({"days-standAlone-short":["zo","ma","di","wo","do","vr","za"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Dag van de week","dateFormatItem-yyQQQQ":"QQQQ yy","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-yMEd":"E d-M-y","dateFormatItem-MMMEd":"E d MMM","eraNarrow":["v.Chr.","n.Chr."],"days-format-short":["zo","ma","di","wo","do","vr","za"],"dateFormat-long":"d MMMM y","months-format-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE d MMMM y","dateFormatItem-Md":"d-M","dayPeriods-format-wide-noon":"12 uur 's middags","dateFormatItem-yMd":"d-M-y","field-era":"Tijdperk","dateFormatItem-yM":"M-y","months-standAlone-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"timeFormat-short":"HH:mm","quarters-format-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"timeFormat-long":"HH:mm:ss z","field-year":"Jaar","dateFormatItem-yMMM":"MMM y","dateFormatItem-yQ":"Q yyyy","dateFormatItem-yyyyMMMM":"MMMM y","field-hour":"Uur","dateFormatItem-MMdd":"dd-MM","months-format-abbr":["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],"dateFormatItem-yyQ":"Q yy","timeFormat-full":"HH:mm:ss zzzz","field-day-relative+0":"Vandaag","field-day-relative+1":"Morgen","field-day-relative+2":"Overmorgen","dateFormatItem-H":"HH","months-standAlone-abbr":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],"quarters-format-abbr":["K1","K2","K3","K4"],"quarters-standAlone-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"dateFormatItem-M":"L","days-standAlone-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"dateFormatItem-MMMMd":"d MMMM","dayPeriods-format-abbr-noon":"12 uur 's middags","dateFormatItem-yyMMM":"MMM yy","timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["K1","K2","K3","K4"],"eraAbbr":["v.Chr.","n.Chr."],"field-minute":"Minuut","field-dayperiod":"AM/PM","days-standAlone-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Gisteren","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","field-day-relative+-2":"Eergisteren","dateFormatItem-MMMd":"d-MMM","dateFormatItem-MEd":"E d-M","dateTimeFormat-full":"{1} {0}","field-day":"Dag","days-format-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"field-zone":"Zone","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Vorig jaar","field-month-relative+-1":"Vorige maand","dateFormatItem-yyMM":"MM-yy","dateFormatItem-hm":"h:mm a","days-format-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-yMMMd":"d MMM y","eraNames":["Voor Christus","na Christus"],"days-format-narrow":["Z","M","D","W","D","V","Z"],"days-standAlone-narrow":["Z","M","D","W","D","V","Z"],"dateFormatItem-MMM":"LLL","field-month":"Maand","dayPeriods-format-wide-am":"AM","dateFormat-short":"dd-MM-yyyy","dateFormatItem-MMd":"d-MM","dayPeriods-format-narrow-noon":"n","field-second":"Seconde","dateFormatItem-yMMMEd":"E d MMM y","field-month-relative+0":"Deze maand","field-month-relative+1":"Volgende maand","dateFormatItem-Ed":"E d","field-week":"week","dateFormat-medium":"d MMM y","field-year-relative+0":"Dit jaar","field-week-relative+-1":"Vorige week","field-year-relative+1":"Volgend jaar","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","field-week-relative+0":"Deze week","field-week-relative+1":"Volgende week"});},"dijit/CalendarLite":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./a11yclick","./hccss"],function(array,_1353,_1354,date,_1355,stamp,dom,_1356,lang,on,has,_1357,_1358,_1359,_135a){var _135b=_1353("dijit.CalendarLite",[_1358,_1359],{templateString:_135a,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(value){return value&&!isNaN(value)&&typeof value=="object"&&value.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){var _135c=this._get("value");if(_135c&&!isNaN(_135c)){var value=new this.dateClassObj(_135c);value.setHours(0,0,0,0);if(value.getDate()<_135c.getDate()){value=this.dateModule.add(value,"hour",1);}return value;}else{return null;}},_setValueAttr:function(value,_135d){if(typeof value=="string"){value=stamp.fromISOString(value);}value=this._patchDate(value);if(this._isValidDate(value)&&!this.isDisabledDate(value,this.lang)){this._set("value",value);this.set("currentFocus",value);this._markSelectedDates([value]);if(this._created&&(_135d||typeof _135d=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(value){if(value){value=new this.dateClassObj(value);value.setHours(1,0,0,0);}return value;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);month=this._patchDate(month);var _135e=month.getDay(),_135f=this.dateModule.getDaysInMonth(month),_1360=this.dateModule.getDaysInMonth(this.dateModule.add(month,"month",-1)),today=new this.dateClassObj(),_1361=_1354.getFirstDayOfWeek(this.lang);if(_1361>_135e){_1361-=7;}if(!this.summary){var _1362=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);this.gridNode.setAttribute("summary",_1362[month.getMonth()]);}this._date2cell={};array.forEach(this.dateCells,function(_1363,idx){var i=idx+_1361;var date=new this.dateClassObj(month),_1364,clazz="dijitCalendar",adj=0;if(i<_135e){_1364=_1360-_135e+i+1;adj=-1;clazz+="Previous";}else{if(i>=(_135e+_135f)){_1364=i-_135e-_135f+1;adj=1;clazz+="Next";}else{_1364=i-_135e+1;clazz+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_1364);if(!this.dateModule.compare(date,today,"date")){clazz="dijitCalendarCurrentDate "+clazz;}if(this.isDisabledDate(date,this.lang)){clazz="dijitCalendarDisabledDate "+clazz;_1363.setAttribute("aria-disabled","true");}else{clazz="dijitCalendarEnabledDate "+clazz;_1363.removeAttribute("aria-disabled");_1363.setAttribute("aria-selected","false");}var _1365=this.getClassForDate(date,this.lang);if(_1365){clazz=_1365+" "+clazz;}_1363.className=clazz+"Month dijitCalendarDateTemplate";var _1366=date.valueOf();this._date2cell[_1366]=_1363;_1363.dijitDateValue=_1366;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);this.monthWidget.set("month",month);var y=month.getFullYear()-1;var d=new this.dateClassObj();array.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_1367){this.dateModule=_1367.datePackage?lang.getObject(_1367.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_1367.datePackage?lang.getObject(_1367.datePackage+".locale",false):_1355;},_createMonthWidget:function(){return _135b._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_1368=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_1369=_1354.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_1357.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _1368[_1369++%7];});var r=_1357.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _136a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_136a,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _136b=lang.hitch(this,function(_136c,part,_136d){this[_136c].dojoClick=true;return on(this[_136c],"click",lang.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_136d));}));});this.own(_136b("incrementMonth","month",1),_136b("decrementMonth","month",-1),_136b("nextYearLabelNode","year",1),_136b("previousYearLabelNode","year",-1));},_setCurrentFocusAttr:function(date,_136e){var _136f=this.currentFocus,_1370=this._getNodeByDate(_136f);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_136f,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _1371=this._getNodeByDate(date);_1371.setAttribute("tabIndex",this.tabIndex);if(this.focused||_136e){_1371.focus();}if(_1370&&_1370!=_1371){if(has("webkit")){_1370.setAttribute("tabIndex","-1");}else{_1370.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){evt.stopPropagation();evt.preventDefault();for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_1356.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(value){value=this._patchDate(value);return value&&this._date2cell?this._date2cell[value.valueOf()]:null;},_markSelectedDates:function(dates){function mark(_1372,cell){_1356.toggle(cell,"dijitCalendarSelectedDate",_1372);cell.setAttribute("aria-selected",_1372?"true":"false");};array.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=array.filter(array.map(dates,this._getNodeByDate,this),function(n){return n;});array.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_135b._MonthWidget=_1353("dijit.CalendarLite._MonthWidget",_1358,{_setMonthAttr:function(month){var _1373=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month),_1374=(has("ie")==6?"":"<div class='dijitSpacer'>"+array.map(_1373,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_1374+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_1373[month.getMonth()]+"</div>";}});return _135b;});},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(lang,array){var stamp={};lang.setObject("dojo.date.stamp",stamp);stamp.fromISOString=function(_1375,_1376){if(!stamp._isoRegExp){stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var match=stamp._isoRegExp.exec(_1375),_1377=null;if(match){match.shift();if(match[1]){match[1]--;}if(match[6]){match[6]*=1000;}if(_1376){_1376=new Date(_1376);array.forEach(array.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _1376["get"+prop]();}),function(value,index){match[index]=match[index]||value;});}_1377=new Date(match[0]||1970,match[1]||0,match[2]||1,match[3]||0,match[4]||0,match[5]||0,match[6]||0);if(match[0]<100){_1377.setFullYear(match[0]||1970);}var _1378=0,_1379=match[7]&&match[7].charAt(0);if(_1379!="Z"){_1378=((match[8]||0)*60)+(Number(match[9])||0);if(_1379!="-"){_1378*=-1;}}if(_1379){_1378-=_1377.getTimezoneOffset();}if(_1378){_1377.setTime(_1377.getTime()+_1378*60000);}}return _1377;};stamp.toISOString=function(_137a,_137b){var _137c=function(n){return (n<10)?"0"+n:n;};_137b=_137b||{};var _137d=[],_137e=_137b.zulu?"getUTC":"get",date="";if(_137b.selector!="time"){var year=_137a[_137e+"FullYear"]();date=["0000".substr((year+"").length)+year,_137c(_137a[_137e+"Month"]()+1),_137c(_137a[_137e+"Date"]())].join("-");}_137d.push(date);if(_137b.selector!="date"){var time=[_137c(_137a[_137e+"Hours"]()),_137c(_137a[_137e+"Minutes"]()),_137c(_137a[_137e+"Seconds"]())].join(":");var _137f=_137a[_137e+"Milliseconds"]();if(_137b.milliseconds){time+="."+(_137f<100?"0":"")+_137c(_137f);}if(_137b.zulu){time+="Z";}else{if(_137b.selector!="time"){var _1380=_137a.getTimezoneOffset();var _1381=Math.abs(_1380);time+=(_1380>0?"-":"+")+_137c(Math.floor(_1381/60))+":"+_137c(_1381%60);}}_137d.push(time);}return _137d.join("T");};return stamp;});},"dijit/_CssStateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(array,_1382,dom,_1383,has,lang,on,_1384,touch,win,_1385,_1386){var _1387=_1382("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);array.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes||{}){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(event){if(!this.disabled){switch(event.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",true);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",false);break;}}},_setStateClass:function(){var _1388=this.baseClass.split(" ");function _1389(_138a){_1388=_1388.concat(array.map(_1388,function(c){return c+_138a;}),"dijit"+_138a);};if(!this.isLeftToRight()){_1389("Rtl");}var _138b=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_1389(_138b);}if(this.state){_1389(this.state);}if(this.selected){_1389("Selected");}if(this._opened){_1389("Opened");}if(this.disabled){_1389("Disabled");}else{if(this.readOnly){_1389("ReadOnly");}else{if(this.active){_1389("Active");}else{if(this.hovering){_1389("Hover");}}}}if(this.focused){_1389("Focused");}var tn=this.stateNode||this.domNode,_138c={};array.forEach(tn.className.split(" "),function(c){_138c[c]=true;});if("_stateClasses" in this){array.forEach(this._stateClasses,function(c){delete _138c[c];});}array.forEach(_1388,function(c){_138c[c]=true;});var _138d=[];for(var c in _138c){_138d.push(c);}tn.className=_138d.join(" ");this._stateClasses=_1388;},_subnodeCssMouseEvent:function(node,clazz,evt){if(this.disabled||this.readOnly){return;}function hover(_138e){_1383.toggle(node,clazz+"Hover",_138e);};function _138f(_1390){_1383.toggle(node,clazz+"Active",_1390);};function _1391(_1392){_1383.toggle(node,clazz+"Focused",_1392);};switch(evt.type){case "mouseover":case "MSPointerOver":case "pointerover":hover(true);break;case "mouseout":case "MSPointerOut":case "pointerout":hover(false);_138f(false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":_138f(true);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":_138f(false);break;case "focus":case "focusin":_1391(true);break;case "blur":case "focusout":_1391(false);break;}},_trackMouseState:function(node,clazz){node._cssState=clazz;}});_1384(function(){function _1393(evt,_1394,_1395){if(_1395&&dom.isDescendant(_1395,_1394)){return;}for(var node=_1394;node&&node!=_1395;node=node.parentNode){if(node._cssState){var _1396=_1386.getEnclosingWidget(node);if(_1396){if(node==_1396.domNode){_1396._cssMouseEvent(evt);}else{_1396._subnodeCssMouseEvent(node,node._cssState,evt);}}}}};var body=win.body(),_1397;on(body,touch.over,function(evt){_1393(evt,evt.target,evt.relatedTarget);});on(body,touch.out,function(evt){_1393(evt,evt.target,evt.relatedTarget);});on(body,_1385.press,function(evt){_1397=evt.target;_1393(evt,_1397);});on(body,_1385.release,function(evt){_1393(evt,_1397);_1397=null;});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _1398=_1386.getEnclosingWidget(node);if(_1398){_1398._subnodeCssMouseEvent(node,node._cssState,evt);}}});});return _1387;});},"dijit/form/DropDownButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html","../a11yclick"],function(_1399,lang,query,_139a,popup,_139b,_139c,_139d,_139e){return _1399("dijit.form.DropDownButton",[_139b,_139c,_139d],{baseClass:"dijitDropDownButton",templateString:_139e,_fillContent:function(){if(this.srcNodeRef){var nodes=query("*",this.srcNodeRef);this.inherited(arguments,[nodes[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _139f=query("[widgetId]",this.dropDownContainer)[0];if(_139f){this.dropDown=_139a.byNode(_139f);}delete this.dropDownContainer;}if(this.dropDown){popup.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _13a0=this.dropDown;return (!!_13a0&&(!_13a0.href||_13a0.isLoaded));},loadDropDown:function(_13a1){var _13a2=this.dropDown;var _13a3=_13a2.on("load",lang.hitch(this,function(){_13a3.remove();_13a1();}));_13a2.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html","../a11yclick"],function(_13a4,_13a5,_13a6,has,_13a7,lang,ready,_13a8,_13a9,_13aa){if(has("dijit-legacy-requires")){ready(0,function(){var _13ab=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_13a4(_13ab);});}var _13ac=_13a5("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_13a8,_13a9],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_13aa,_setValueAttr:"valueNode",_setNameAttr:function(name){if(this.valueNode){this.valueNode.setAttribute("name",name);}},_fillContent:function(_13ad){if(_13ad&&(!this.params||!("label" in this.params))){var _13ae=lang.trim(_13ad.innerHTML);if(_13ae){this.label=_13ae;}}},_setShowLabelAttr:function(val){if(this.containerNode){_13a6.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_13af){_13a7.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_13af);},_setLabelAttr:function(_13b0){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_13ac=_13a5("dijit.form.Button",_13ac,{_setLabelAttr:function(_13b1){this.inherited(arguments);if(this.titleNode.title){this.applyTextDir(this.titleNode,this.titleNode.title);}},_setTextDirAttr:function(_13b2){if(this._created&&this.textDir!=_13b2){this._set("textDir",_13b2);this._setLabelAttr(this.label);}}});}return _13ac;});},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_13b3,has,_13b4,ready,_13b5,_13b6,_13b7,_13b8){if(has("dijit-legacy-requires")){ready(0,function(){var _13b9=["dijit/form/_FormValueWidget"];require(_13b9);});}return _13b3("dijit.form._FormWidget",[_13b5,_13b7,_13b6,_13b8],{setDisabled:function(_13ba){_13b4.deprecated("setDisabled("+_13ba+") is deprecated. Use set('disabled',"+_13ba+") instead.","","2.0");this.set("disabled",_13ba);},setValue:function(value){_13b4.deprecated("dijit.form._FormWidget:setValue("+value+") is deprecated.  Use set('value',"+value+") instead.","","2.0");this.set("value",value);},getValue:function(){_13b4.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);}});});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(array,_13bb,_13bc,_13bd,lang,mouse,on,has,_13be,a11y){return _13bb("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(value){this._set("disabled",value);_13bc.set(this.focusNode,"disabled",value);if(this.valueNode){_13bc.set(this.valueNode,"disabled",value);}this.focusNode.setAttribute("aria-disabled",value?"true":"false");if(value){this._set("hovering",false);this._set("active",false);var _13bf="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";array.forEach(lang.isArray(_13bf)?_13bf:[_13bf],function(_13c0){var node=this[_13c0];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _13c1=this.own(on(this.focusNode,"focus",function(){_13c2.remove();_13c1.remove();}))[0];var event=has("pointer-events")?"pointerup":has("MSPointer")?"MSPointerUp":has("touch-events")?"touchend, mouseup":"mouseup";var _13c2=this.own(on(this.ownerDocumentBody,event,lang.hitch(this,function(evt){_13c2.remove();_13c1.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_13be.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_13bd.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_13c3,_13c4){if(this._lastValueReported==undefined&&(_13c4===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_13c3;}this._pendingOnChange=this._pendingOnChange||(typeof _13c3!=typeof this._lastValueReported)||(this.compare(_13c3,this._lastValueReported)!=0);if((this.intermediateChanges||_13c4||_13c4===undefined)&&this._pendingOnChange){this._lastValueReported=_13c3;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_13c3);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_13c5,dom,has,_13c6){var _13c7=_13c5("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}var _13c8=e.defaultPrevented;if(!_13c8&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _13c9=_13c6.byNode(node);if(_13c9&&typeof _13c9._onSubmit=="function"){_13c9._onSubmit(e);e.preventDefault();_13c8=true;break;}}}return !_13c8;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_13ca){this._set("label",_13ca);var _13cb=this.containerNode||this.focusNode;_13cb.innerHTML=_13ca;}});if(has("dojo-bidi")){_13c7=_13c5("dijit.form._ButtonMixin",_13c7,{_setLabelAttr:function(){this.inherited(arguments);var _13cc=this.containerNode||this.focusNode;this.applyTextDir(_13cc);}});}return _13c7;});},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_13cd,_13ce,dom,_13cf,_13d0,_13d1,_13d2,has,keys,lang,on,touch,_13d3,focus,popup,_13d4){return _13cd("dijit._HasDropDown",_13d4,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"&&e.type!="pointerdown"){e.preventDefault();}this.own(on.once(this.ownerDocument,touch.release,lang.hitch(this,"_onDropDownMouseUp")));this.toggleDropDown();},_onDropDownMouseUp:function(e){var _13d5=this.dropDown,_13d6=false;if(e&&this._opened){var c=_13d1.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_13d6){if(_13d0.contains(t,"dijitPopup")){_13d6=true;}else{t=t.parentNode;}}if(_13d6){t=e.target;if(_13d5.onItemClick){var _13d7;while(t&&!(_13d7=_13d3.byNode(t))){t=t.parentNode;}if(_13d7&&_13d7.onClick&&_13d7.getParent){_13d7.getParent().onItemClick(_13d7,e);}}return;}}}if(this._opened){if(_13d5.focus&&(_13d5.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_13d5.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}},_onDropDownClick:function(e){if(this._stopClickEvents){e.stopPropagation();e.preventDefault();}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _13d8={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_13d0.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_13d8+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _13d9=this.focusNode||this.domNode;this.own(on(this._buttonNode,touch.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_13d9,"keydown",lang.hitch(this,"_onKey")),on(_13d9,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_13da=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){e.stopPropagation();e.preventDefault();return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();e.stopPropagation();e.preventDefault();}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_13da.tagName||"").toLowerCase()!=="input"||(_13da.type&&_13da.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;e.stopPropagation();e.preventDefault();}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_13db){_13db();},loadAndOpenDropDown:function(){var d=new _13ce(),_13dc=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_13dc);}else{_13dc();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown(true);}},openDropDown:function(){var _13dd=this.dropDown,_13de=_13dd.domNode,_13df=this._aroundNode||this.domNode,self=this;var _13e0=popup.open({parent:this,popup:_13dd,around:_13df,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_13cf.set(self._popupStateNode,"popupActive",false);_13d0.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});if(this.forceWidth||(this.autoWidth&&_13df.offsetWidth>_13dd._popupWrapper.offsetWidth)){var _13e1=_13df.offsetWidth-_13dd._popupWrapper.offsetWidth;var _13e2={w:_13dd.domNode.offsetWidth+_13e1};if(lang.isFunction(_13dd.resize)){_13dd.resize(_13e2);}else{_13d1.setMarginBox(_13de,_13e2);}if(_13e0.corner[1]=="R"){_13dd._popupWrapper.style.left=(_13dd._popupWrapper.style.left.replace("px","")-_13e1)+"px";}}_13cf.set(this._popupStateNode,"popupActive","true");_13d0.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_13dd.id);if(_13de.getAttribute("role")!=="presentation"&&!_13de.getAttribute("aria-labelledby")){_13de.setAttribute("aria-labelledby",this.id);}return _13e0;},closeDropDown:function(focus){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(focus&&this.focus){this.focus();}popup.close(this.dropDown);this._opened=false;}}});});},"mxui/widget/DateInput":function(){define(["mxui/widget/_FormWidget","mxui/widget/DatePicker","mxui/dom","mendix/lang","dojo/_base/lang","dojo/_base/declare"],function(_13e3,_13e4,_13e5,_13e6,_13e7,_13e8){var _13e9=_13e8(_13e3,{declaredClass:"mxui.widget.DateInput",placeholder:"",selector:"",format:"",_datepicker:null,_rdparams:null,buildRendering:function(){this._datepicker=new _13e4({placeholder:this.placeholder,selector:this.selector,format:this.format});this.editNode=this._datepicker.domNode;this._rdparams={selector:this.selector=="custom"?"date":this.selector,datePattern:this.format};this.inherited(arguments);},startup:function(){this.inherited(arguments);this._datepicker.startup();},connectEvents:function(){this.connect(this._datepicker,"onChange","onChange");for(var evt in this.events){if(evt!="change"){this.connect(this._datepicker,"on"+_13e6.capitalize(evt),_13e7.hitch(this,"handleEvent",evt));}}},validate:function(){var error=this.inherited(arguments);if(error!=null){return error;}else{if(this.get("value")==null){return window.mx.ui.translate("mendix.lib.Validations","invalid_date");}}},uninitialize:function(){this._datepicker.destroy();},_getValueAttr:function(){return this._datepicker.get("value");},_setValueAttr:function(value){this._datepicker.set("value",value);var rdval=window.mx.parser.formatValue(value,"datetime",this._rdparams);this.readNode.innerHTML=rdval||"&nbsp;";}});return _13e9;});},"mxui/widget/EnumSelect":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/_base/declare"],function(_13ea,_13eb,_13ec){var _13ed=_13ec(_13ea,{declaredClass:"mxui.widget.EnumSelect",_keys:null,buildRendering:function(){var $=_13eb.create,meta=window.mx.meta.getEntity(this._entity),keys=this._keys=meta.getEnumKVPairs(this._attribute),node=this.editNode=$("select",{"class":"form-control"},$("option",{value:""},""));for(var key in keys){node.appendChild($("option",{value:key},keys[key]));}this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(value){this.editNode.value=value;var key=this._keys[value];if(key){_13eb.text(this.readNode,key);}else{this.readNode.innerHTML="&nbsp;";}}});return _13ed;});},"mxui/widget/NumberInput":function(){define(["mxui/widget/_FormWidget","mxui/dom","mendix/logger","mendix/validator","dojo/i18n","dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare"],function(_13ee,dom,_13ef,_13f0,_13f1,_13f2,_13f3,_13f4){var $=dom.create;var _13f5=_13f4(_13ee,{declaredClass:"mxui.widget.NumberInput",formatted:false,precision:"",placeholder:"",_type:"",_opts:null,_numloc:null,_mouseupcon:null,_previousValue:"",_mouseDown:false,buildRendering:function(){this.editNode=$("input",{"class":"form-control",type:"text",placeholder:this.placeholder});var meta=window.mx.meta.getEntity(this._entity);this._type=meta.getAttributeType(this._attribute);this._opts={groups:this.formatted};if(this.precision!==""){this._opts.places=this.precision;}this._locale=_13f1.getLocalization("dojo.cldr","number",_13f2.locale);this.inherited(arguments);},connectEvents:function(){this.connect(this.editNode,"focus","onFocus");this.connect(this.editNode,"blur","onBlur");this.connect(this.editNode,"mousedown","onMouseDown");this.connect(this.editNode,"keydown","onKeyDown");},_getValueAttr:function(){return window.mx.parser.parseValue2(this.editNode.value,this._type,this._opts);},_setValueAttr:function(value){var _13f6=window.mx.parser.formatValue(value,this._type,this._opts);this.editNode.value=_13f6;this.readNode.innerHTML=_13f6||"&nbsp;";this._previousValue=this.get("value");},_match:function(_13f7,_13f8,pos){if(_13f7==_13f8){return Math.min(_13f7.length,pos);}var _13f9=0,len=Math.min(_13f8.length,pos),_13fa,_13fb;for(var i=0;i<len&&_13f9<_13f7.length;++i){_13fa=_13f8[i];_13fb=_13f7[_13f9];if(_13fa==_13fb){++_13f9;}}return _13f9;},onMouseDown:function(){var self=this,_13fc,_13fd;this._mouseDown=true;var reset=function(){self._mouseDown=false;self.disconnect(_13fd);self.disconnect(_13fc);};_13fc=this.connect(document,"mouseup",reset);_13fd=this.connect(window,"blur",function(){reset();this._disconnectFocusMouseUp();});},onFocus:function(){this.handleEvent("focus");var node=this.editNode,_13fe=node.value,_13ff=window.mx.parser.parseValue2(_13fe,this._type);if(_13ff===null){return;}var _1400=_13fe.split(this._locale.group).join("");if(_1400!=_13fe){setTimeout(_13f3.hitch(this,function(){this._disconnectFocusMouseUp();var sel=dom.getSelection(node);if(sel.start===0&&sel.end==_13fe.length){node.value=_1400;dom.selectTextRange(node,0,_1400.length);}else{if(this._mouseDown){this._mouseupcon=this.connect(document,"mouseup",function(){setTimeout(_13f3.hitch(this,function(){sel=dom.getSelection(node);node.value=_1400;var start=this._match(_1400,_13fe,sel.start),end=this._match(_1400,_13fe,sel.end);dom.selectTextRange(node,start,end);}),0);this._disconnectFocusMouseUp();});}else{node.value=_1400;}}}),0);}},onKeyDown:function(event){if(event.keyCode===110){event.preventDefault();var _1401=this._locale["decimal"];dom.insertAtCaret(this.editNode,_1401);}},onBlur:function(){var value=this.get("value");if(value===null){this.onChange();}else{var _1402=value===""?this._previousValue==="":(this._previousValue!==""&&value.eq(this._previousValue));if(!_1402){this.onChange();}else{this.set("value",this._previousValue);}}this.handleEvent("blur");},validate:function(){var error=this.inherited(arguments),value=this.get("value");if(error!=null){return error;}else{if(value==null){return window.mx.ui.translate("mendix.lib.Validations",this.getType()=="Currency"?"invalid_currency":"invalid_number");}else{return window.mx.ui.validate(value,this.getType());}}},_disconnectFocusMouseUp:function(){if(this._mouseupcon){this.disconnect(this._mouseupcon);this._mouseupcon=null;}}});return _13f5;});},"mxui/widget/PasswordInput":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/dom-attr","dojo/_base/declare"],function(_1403,dom,_1404,_1405){var $=dom.create;var _1406=_1405(_1403,{declaredClass:"mxui.widget.PasswordInput",maxLength:0,placeholder:"",buildRendering:function(){var _1407=this.editNode=$("input",{"class":"form-control",type:"password",placeholder:this.placeholder});if(this.maxLength>0){_1404.set(_1407,"maxlength",this.maxLength);}this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(value){this.editNode.value=value;}});return _1406;});},"mxui/widget/TextArea":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/dom-geometry","dojo/sniff","dojo/_base/lang","dojo/_base/declare"],function(_1408,dom,_1409,_140a,_140b,_140c,_140d,_140e,_140f,_1410){var $=dom.create;var _1411=_1410(_1408,{declaredClass:"mxui.widget.TextArea",placeholder:"",counterMsg:"",textTooLongMsg:"",rows:0,maxLength:0,_cloneNode:null,_countNode:null,buildRendering:function(){var input=this.editNode=$("textarea",{"class":"form-control mx-textarea-input",placeholder:this.placeholder});this.inherited(arguments);if(this.counterMsg){var _1412=this._countNode=$("label",{"class":"mx-textarea-counter"});_1409.place(_1412,input,"after");this._updateCount();this.connect(input,"keyup","_updateCount");}_140a.add(this.domNode,"mx-textarea");if(this.maxLength>0){_140b.set(input,"maxlength",this.maxLength);}if(this.rows===0){var clone=this._cloneNode=_140f.clone(input);_140a.add(clone,"mx-textarea-clone");_140b.set(clone,"tabindex",-1);this.connect(input,"keyup","resize");this.connect(this.mxform,"resize","resize");}else{_140a.add(input,"mx-textarea-input-noresize");_140b.set(input,"rows",this.rows);}},resize:function(){if(!this._cloneNode){return;}this._cloneNode.value=this.editNode.value+"\n\n";_1409.place(this._cloneNode,this.domNode,"first");this._cloneNode.scrollTop=100000;var _1413=Math.max(this._cloneNode.scrollHeight,28);_140c.set(this.editNode,"height",_1413+"px");dom.orphan(this._cloneNode);},validate:function(){var error=this.inherited(arguments);if(error!=null){return error;}else{if(this.get("value")==null){return this.textTooLongMsg||window.mx.ui.translate("mendix.lib.Validations","value_too_long");}}},_updateCount:function(){dom.text(this._countNode,this.counterMsg.replace("{1}",this.editNode.value.length).replace("{2}",this.maxLength));},_getValueAttr:function(){var value=this.editNode.value;return this.maxLength&&value.length>this.maxLength?null:value;},_setValueAttr:function(value){this.editNode.value=value;this.readNode.innerHTML=value?dom.convertNlToBr(dom.escapeString(value)):"&nbsp;";this.resize();}});return _1411;});},"mxui/widget/TextInput":function(){define(["mxui/widget/_FormWidget","mxui/dom","dojo/dom-attr","dojo/_base/declare"],function(_1414,dom,_1415,_1416){var $=dom.create;var _1417=_1416(_1414,{declaredClass:"mxui.widget.TextInput",maxLength:0,placeholder:"",mask:"",buildRendering:function(){this.editNode=$("input",{"class":"form-control",type:"text",placeholder:this.placeholder});if(this.maxLength>0){_1415.set(this.editNode,"maxlength",this.maxLength);}this.inherited(arguments);},_getValueAttr:function(){return this.editNode.value;},_setValueAttr:function(value){this.editNode.value=value;this.readNode.innerHTML=value?dom.escapeString(value):"&nbsp;";}});return _1417;});},"mxui/widget/Navbar":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/lib/menuAnchorFactory","mxui/dom","mendix/lang","dojo/_base/event","dojo/dom-class","dojo/on","dojo/aspect","dojo/_base/lang","dojo/_base/declare"],function(_1418,_1419,_141a,_141b,lang,_141c,_141d,_141e,_141f,_1420,_1421){var $=_141b.create;function _1422(items){var map={};_1423(items);return map;function _1423(items){lang.forEach(items,function(item){map[item.id]=item;_1423(item.items);});};};var _1424=_1421([_1418,_1419],{declaredClass:"mxui.widget.Navbar",menuID:"",_view:null,_itemMap:null,_expandedItem:"",_currentSelection:"",_initialSelection:"",buildRendering:function(){var items=window.mx.ui.getMenu(this.menuID);this._itemMap=_1422(items);this._view=new View(this,items);this.domNode=this._view.domNode;this._view.subscribeToClick(_1420.hitch(this,"_onClick"));this._view.subscribeToGlobalClick(_1420.hitch(this,"_onClickOutside"));this._restoreSelection();this.connect(this.mxform,"onNavigation",this._restoreSelection);},_onClickOutside:function(){this._view.collapseAll();this._expandedItem="";},_onClick:function(_1425){var item=this._itemMap[_1425];var _1426=this._expandedItem;this._view.collapseAll();this._expandedItem="";if(item.action){this._view.deselectAll();this._view.select(_1425);this._currentSelection=_1425;if(typeof item.action==="function"){item.action();}else{window.mx.ui.execute(item.action);}}else{if(_1426!=_1425){this._expandedItem=_1425;this._view.expand(_1425);}}},_restoreSelection:function(){this._currentSelection=this.getState("selectedItem",this._currentSelection);this._initialSelection=this._currentSelection;this._view.deselectAll();this._view.select(this._currentSelection);},storeState:function(store){store("selectedItem",this._initialSelection);}});var View=_1421(null,{_handlerScope:null,domNode:null,constructor:function(_1427,items){this._handlerScope=_1427;this._render(items);},_render:function(items){var _1428=$("ul",{"class":"nav navbar-nav"});lang.forEach(items,function(item,index){_1428.appendChild(_1429(item,index));});this.domNode=$("div",{"class":"navbar navbar-default mx-navbar",tabindex:-1},_1428);function _1429(item){var _142a=$("li",{"class":"mx-navbar-item"},_142b(item));if(item.items){var _142c=$("ul",{"class":"dropdown-menu mx-navbar-submenu"});lang.forEach(item.items,function(_142d){_142c.appendChild($("li",{"class":"mx-navbar-subitem"},_142b(_142d)));});_141d.add(_142a,"dropdown");_142a.appendChild(_142c);}return _142a;};function _142b(item){var _142e=_141a.create(item);_142e.setAttribute("data-item-id",item.id);if(item.items){_142e.appendChild($("b",{"class":"caret"}));}return _142e;};},subscribeToClick:function(_142f){this._handlerScope.own(_141e(this.domNode,"a:click",function(e){_141c.stop(e);_142f(this.getAttribute("data-item-id"));}));},subscribeToGlobalClick:function(_1430){this._handlerScope.own(_141e(window.document,"click",function(){_1430();}));},expand:function(_1431){var _1432=this.domNode.querySelector("[data-item-id='"+_1431+"']");if(_1432){_141d.add(_1432.parentNode,"open");}},deselectAll:function(){var _1433=this.domNode.querySelector("li.active");if(_1433){_141d.remove(_1433,"active");}},select:function(_1434){var _1435=this.domNode.querySelector("[data-item-id='"+_1434+"']");if(_1435){_141d.add(_1435.parentNode,"active");}},collapseAll:function(){var _1436=this.domNode.querySelector("li.open");if(_1436){_141d.remove(_1436,"open");}}});return _1424;});},"mxui/lib/menuAnchorFactory":function(){define(["mxui/dom"],function(dom){var $=dom.create;var _1437={create:function(item){var _1438=$("a",{href:"#","class":"mx-name-"+item.id});if(item.iconClass){_1438.appendChild($("span",{"class":"glyphicon "+item.iconClass}));}else{if(item.iconUrl){_1438.appendChild($("img",{src:window.mx.appUrl+item.iconUrl}));}}_1438.appendChild(document.createTextNode(" "+item.caption));return _1438;}};return _1437;});},"mxui/widget/NavigationTree":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/lib/menuAnchorFactory","mxui/dom","mendix/lang","dojo/_base/event","dojo/on","dojo/dom-class","dojo/_base/lang","dojo/_base/declare"],function(_1439,_143a,_143b,dom,lang,_143c,_143d,_143e,_143f,_1440){var $=dom.create;function _1441(items){var map={};_1442(items);return map;function _1442(items){lang.forEach(items,function(item){map[item.id]=item;_1442(item.items);});};};var _1443=_1440([_1439,_143a],{declaredClass:"mxui.widget.NavigationTree",menuID:"",_view:null,_itemMap:{},_expandedItems:{},_currentActive:null,_initialActive:null,buildRendering:function(){var items=window.mx.ui.getMenu(this.menuID);this._itemMap=_1441(items);this._view=new View(this,items);this.domNode=this._view.domNode;this._view.subscribeToClick(_143f.hitch(this,"_onClick"));this._expandedItems=this.getState("expandedItems",{});lang.forEach(this._expandedItems,function(_1444,_1445){this._view.expand(_1445);},this);this._restoreSelection();this.connect(this.mxform,"onNavigation",this._restoreSelection);},_onClick:function(_1446){var item=this._itemMap[_1446];if(item.action){this._view.deactivateAll();this._view.activate(_1446);this._currentActive=_1446;if(typeof item.action==="function"){item.action();}else{window.mx.ui.execute(item.action,{context:this.mxcontext});}}else{if(_1446 in this._expandedItems){this._view.collapse(_1446);delete this._expandedItems[_1446];}else{this._view.expand(_1446);this._expandedItems[_1446]=true;}}},_restoreSelection:function(){this._currentActive=this.getState("activeItem",this._currentActive);this._initialActive=this._currentActive;this._view.deactivateAll();if(this._currentActive){this._view.activate(this._currentActive);}},storeState:function(store){store("expandedItems",this._expandedItems);store("activeItem",this._initialActive);}});var View=_1440(null,{_handlerScope:null,domNode:null,constructor:function(_1447,items){this._handlerScope=_1447;this._render(items);},_render:function(items){this.domNode=$("div",{"class":"mx-navigationtree",tabindex:-1},$("div",{"class":"navbar-inner"},this._buildMenu(items)));},_buildMenu:function(items){var _1448=$("ul");lang.forEach(items,function(item){var _1449=_143b.create(item);_143e.add(_1449,"dropdown");_1449.setAttribute("data-item-id",item.id);var _144a=$("li",_1449);_1448.appendChild(_144a);if(item.items){_143e.add(_144a,"mx-navigationtree-has-items mx-navigationtree-collapsed");_144a.appendChild(this._buildMenu(item.items));_1449.appendChild($("span",{"class":"caret"}));}},this);return _1448;},subscribeToClick:function(_144b){this._handlerScope.own(_143d(this.domNode,"a:click",function(e){_143c.stop(e);_144b(this.getAttribute("data-item-id"));}));},expand:function(_144c){_143e.remove(this._getItemById(_144c).parentNode,"mx-navigationtree-collapsed");},collapse:function(_144d){_143e.add(this._getItemById(_144d).parentNode,"mx-navigationtree-collapsed");},deactivateAll:function(){lang.forEach(this.domNode.querySelectorAll(".active"),function(item){_143e.remove(item,"active");});},activate:function(_144e){_143e.add(this._getItemById(_144e),"active");},_getItemById:function(_144f){return this.domNode.querySelector("[data-item-id='"+_144f+"']");}});return _1443;});},"mxui/widget/HorizontalScrollContainer":function(){define(["mxui/widget/_ScrollContainer","mxui/mixin/_Stateful","dojo/_base/declare","dojo/_base/lang","mxui/lib/sidebarRenderer/PushContentAside","mxui/lib/sidebarRenderer/SlideOverContent","mxui/lib/sidebarRenderer/ShrinkContent"],function(_1450,_1451,_1452,_1453,_1454,_1455,_1456){var _1457={pushContentAside:_1454,slideOverContent:_1455,shrinkContent:_1456};var _1458=_1452([_1450,_1451],{declaredClass:"mxui.widget.HorizontalScrollContainer",_toggleRegion:null,_sidebarRenderer:null,startup:function(){this.inherited(arguments);for(var _1459 in this._regions){var _145a=this._regions[_1459];_145a.width=_145a.node.offsetWidth;if(_145a.toggleMode){this._toggleRegion=_145a;}}if(this._toggleRegion&&this.mxform.place==="content"){var _145b=_1457[this._toggleRegion.toggleMode];this._sidebarRenderer=new _145b(this.domNode,this._toggleRegion.position,this._regions);if(this.getState("sidebarVisible",this._toggleRegion.initiallyOpen)){this._sidebarRenderer.show(true);}this.listen("toggleSidebar",this._toggleSidebar);if(this._sidebarRenderer.closeOnBlur){this.connect(this.mxform,"onPersistViewState",function(){this._sidebarRenderer.hide();});}}},resize:function(box){if(this._sidebarRenderer){this._sidebarRenderer.resize();}var _145c=box?box.h:undefined;this._resizeRegions(this._regions,_145c);if(this._sidebarRenderer){this._sidebarRenderer.resize();}},_toggleSidebar:function(){if(this._sidebarRenderer.isVisible()){this._sidebarRenderer.hide();}else{this._sidebarRenderer.show();}},storeState:function(store){if(this._sidebarRenderer&&!this._sidebarRenderer.closeOnBlur){store("sidebarVisible",this._sidebarRenderer.isVisible());}},uninitialize:function(){if(this._sidebarRenderer){this._sidebarRenderer.destroy();}}});return _1458;});},"mxui/widget/_ScrollContainer":function(){define(["dojo/_base/lang","mendix/lang","mxui/widget/_WidgetBase","dojo/_base/declare"],function(_145d,lang,_145e,_145f){var _1460=_145f(_145e,{config:null,fixed:false,_regions:null,startup:function(){this._regions={};lang.forEach(this.domNode.children,function(child,i){var _1461=this.config[i],_1462=child.children[0];this._regions[_1461.position]=_145d.mixin({node:child,wrapper:_1462},_1461);},this);},_resizeRegions:function(_1463,_1464){for(var _1465 in _1463){var _1466=_1463[_1465].wrapper;if(_1464!=null){var _1467=_1464>=100,_1468=Math.max(0,_1464)+"px";if(this.fixed){_1466.style.height=_1467?_1468:"auto";this.resizeChildren(_1466,!_1467);}else{_1466.style.minHeight=_1467?_1468:"";this.resizeChildren(_1466,true);}}else{_1466.style.height="auto";this.resizeChildren(_1466,true);}}}});return _1460;});},"mxui/lib/sidebarRenderer/PushContentAside":function(){define(["dojo/dom-style","dojo/dom-class","dojo/_base/declare","mxui/lib/sidebarRenderer/_SidebarRenderer"],function(_1469,_146a,_146b,_146c){var _146d=_146b(_146c,{containerClass:"push",_oppositeRegion:null,constructor:function(){this._toggleNode=this._containerNode;var _146e=this._regions[this._toggleRegion.position==="left"?"right":"left"];if(_146e){var width=_146e.node.style.width;_146e.cssWidth=parseInt(width,10);_146e.cssUnit=width.indexOf("%")!=-1?"%":"px";this._oppositeRegion=_146e;}},show:function(){this.inherited(arguments);this._transitionTo(this._containerNode,"left",this._computeLeftPosition(true));},hide:function(){this.inherited(arguments);this._transitionTo(this._containerNode,"left",this._computeLeftPosition(false));},resize:function(){this.inherited(arguments);_1469.set(this._containerNode,"width","");_1469.set(this._toggleRegion.node,"display","none");var _146f=this._containerNode.offsetWidth;if(this._oppositeRegion&&this._oppositeRegion.cssUnit==="%"){_1469.set(this._oppositeRegion.node,"width",this._oppositeRegion.cssWidth*_146f/100+"px");}var _1470=this._computeRegionWidth();_1469.set(this._toggleRegion.node,{display:"",width:_1470+"px"});this._toggleRegion.width=this._toggleRegion.node.offsetWidth;_1469.set(this._containerNode,{width:_146f+this._toggleRegion.width+"px",left:this._computeLeftPosition(this.isVisible())});}});return _146d;});},"mxui/lib/sidebarRenderer/_SidebarRenderer":function(){define(["mxui/dom","dojo/on","dojo/touch","dojo/dom-geometry","dojo/dom-class","dojo/dom-style","dojo/_base/declare","dijit/Destroyable"],function(dom,_1471,_1472,_1473,_1474,_1475,_1476,_1477){var _1478=_1476(_1477,{_containerNode:null,_toggleNode:null,_toggleRegion:null,_regions:null,_isVisible:false,closeOnBlur:true,containerClass:"",constructor:function(_1479,_147a,_147b){this._toggleRegion=_147b[_147a];this._containerNode=_1479;this._regions=_147b;var width=this._toggleRegion.node.style.width;this._toggleRegion.cssWidth=parseInt(width,10);this._toggleRegion.cssUnit=width.indexOf("%")!=-1?"%":"px";_1474.add(this._toggleRegion.node,"mx-scrollcontainer-toggleable");_1474.add(this._containerNode,"mx-scrollcontainer-"+this.containerClass);_1475.set(_1479.parentNode,"overflowX","hidden");this._toggleRegion.node.setAttribute("focusIndex",-1);if(this.closeOnBlur){var self=this;this.own(_1471(_1479,_1472.press,function(e){var _147c=e.target||e.srcElement;if(self.isVisible()&&!self._toggleRegion.node.contains(_147c)){self.hide();}}));}},show:function(_147d){this._isVisible=true;_1474.add(this._containerNode,"mx-scrollcontainer-open");_1474.remove(this._toggleNode,"mx-scrollcontainer-move-out");if(!_147d){_1474.add(this._toggleNode,"mx-scrollcontainer-move-in");}},hide:function(){this._isVisible=false;_1474.remove(this._containerNode,"mx-scrollcontainer-open");_1474.replace(this._toggleNode,"mx-scrollcontainer-move-out","mx-scrollcontainer-move-in");},resize:function(){},_computeRegionWidth:function(){if(this._toggleRegion.cssUnit==="%"){var _147e=this._containerNode.offsetWidth;return this._toggleRegion.cssWidth*_147e/100;}else{return this._toggleRegion.cssWidth;}},_computeLeftPosition:function(_147f){var rtl=window.mx.ui.isRtl(),_1480;if(this._toggleRegion.position==="left"){if(_147f){_1480=0;}else{_1480=rtl?this._toggleRegion.width:-this._toggleRegion.width;}}else{if(!_147f){_1480=0;}else{_1480=rtl?this._toggleRegion.width:-this._toggleRegion.width;}}return _1480+"px";},_triggersTransition:function(node,_1481,value){if(node.style[_1481]===value){return false;}var _1482=_1475.get(node,"transitionProperty");return _1482===_1481||_1482==="all";},_transitionTo:function(node,_1483,value){var self=this,_1484=this._triggersTransition(node,_1483,value);node.style[_1483]=value;if(this._transitionEndHandler){_1485();}if(_1484){this._transitionEndHandler=_1471(node,"transitionend",function(e){if(e.target!==node){return;}_1485();_1486();});}else{_1486();}function _1486(){_1474.remove(self._toggleNode,"mx-scrollcontainer-move-in mx-scrollcontainer-move-out");};function _1485(){self._transitionEndHandler.remove();self._transitionEndHandler=null;};},isVisible:function(){return this._isVisible;}});return _1478;});},"mxui/lib/sidebarRenderer/SlideOverContent":function(){define(["dojo/dom-style","dojo/dom-class","dojo/_base/declare","mxui/lib/sidebarRenderer/_SidebarRenderer"],function(_1487,_1488,_1489,_148a){var _148b=_1489(_148a,{containerClass:"slide",constructor:function(){this._toggleNode=this._toggleRegion.wrapper;_1487.set(this._toggleRegion.node,"width","0");},show:function(){this.inherited(arguments);this._transitionTo(this._toggleRegion.wrapper,"left",this._computeLeftPosition(true));},hide:function(){this.inherited(arguments);this._transitionTo(this._toggleRegion.wrapper,"left",this._computeLeftPosition(false));},resize:function(){this.inherited(arguments);this._toggleRegion.width=this._computeRegionWidth();_1487.set(this._toggleRegion.wrapper,"height","");_1487.set(this._toggleRegion.wrapper,{width:this._toggleRegion.width+"px",height:this._toggleRegion.node.offsetHeight+"px",left:this._computeLeftPosition(this.isVisible())});}});return _148b;});},"mxui/lib/sidebarRenderer/ShrinkContent":function(){define(["dojo/dom-style","dojo/dom-class","dojo/_base/declare","mxui/lib/sidebarRenderer/_SidebarRenderer"],function(_148c,_148d,_148e,_148f){var _1490=_148e(_148f,{closeOnBlur:false,containerClass:"shrink",constructor:function(){this._toggleNode=this._toggleRegion.node;_148c.set(this._toggleRegion.node,"width","0");},show:function(){this.inherited(arguments);this._transitionTo(this._toggleRegion.node,"width",this._toggleRegion.width+"px");},hide:function(){this.inherited(arguments);this._transitionTo(this._toggleRegion.node,"width","0");},resize:function(){this.inherited(arguments);this._toggleRegion.width=this._computeRegionWidth();if(this.isVisible()){_148c.set(this._toggleRegion.node,"width",this._toggleRegion.width+"px");}_148c.set(this._toggleRegion.wrapper,"width",this._toggleRegion.width+"px");}});return _1490;});},"mxui/widget/VerticalScrollContainer":function(){define(["mendix/lang","mxui/widget/_ScrollContainer","dojo/_base/declare"],function(lang,_1491,_1492){var _1493=_1492(_1491,{declaredClass:"mxui.widget.VerticalScrollContainer",startup:function(){this.inherited(arguments);lang.forEach(["top","bottom"],function(_1494){var _1495=this._regions[_1494];if(_1495&&_1495.wrapper.style.height){_1495.heightSpecified=true;_1495.wrapper.style.overflow="auto";}},this);},resize:function(box){var _1496=box?box.h:undefined;lang.forEach(["top","bottom"],function(_1497){var _1498=this._regions[_1497];if(_1498){this.resizeChildren(_1498.wrapper,!_1498.heightSpecified);_1496-=_1498.node.offsetHeight;}},this);this._resizeRegions({middle:this._regions.middle},_1496);}});return _1493;});},"mxui/widget/BorderContainer":function(){define(["mxui/mixin/_Stateful","mxui/html/parser","mendix/lang","dojo/_base/lang","dojo/_base/declare","dijit/layout/BorderContainer"],function(_1499,_149a,lang,_149b,_149c,_149d){var _149e=_149c([_149d,_1499],{startup:function(){if(this.doParse===false){_149a.parseTopLevel(this.domNode,{mxform:this.mxform},this.uniqueid);}this.inherited(arguments);var _149f=this.getState("splitterPosition",""),_14a0=this._getSplitter();if(_149f){_14a0.child.domNode.style[_14a0.horizontal?"height":"width"]=_149f;}},storeState:function(store){var _14a1=this._getSplitter(),size=_14a1.child.domNode.style[_14a1.horizontal?"height":"width"];store("splitterPosition",size);},_getSplitter:function(){var _14a2=lang.find(this.getChildren(),function(child){return child._splitterWidget!==undefined;});return _14a2._splitterWidget;}});return _149e;});},"dijit/layout/BorderContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(array,_14a3,_14a4,_14a5,_14a6,_14a7,_14a8,keys,lang,on,touch,_14a9,_14aa,_14ab,_14ac,_14ad){var _14ae=_14a4("dijit.layout._Splitter",[_14aa,_14ab],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_14a5.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _14af=_14a3(this._cookieName);if(_14af){this.child.domNode.style[this.horizontal?"height":"width"]=_14af;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_14b0=_14a7.getMarginBox(this.child.domNode)[dim],_14b1=array.filter(this.container.getChildren(),function(child){return child.region=="center";})[0];var _14b2=_14a7.getContentBox(_14b1.domNode)[dim]-10;return Math.min(this.child.maxSize,_14b0+_14b2);},_startDrag:function(e){if(!this.cover){this.cover=_14a6.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_14a5.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_14a6.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_14a5.add(this.domNode,"dijitSplitterShadow");_14a6.place(this.fake,this.domNode,"after");}_14a5.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_14a5.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _14b3=this._factor,_14b4=this.horizontal,axis=_14b4?"pageY":"pageX",_14b5=e[axis],_14b6=this.domNode.style,dim=_14b4?"h":"w",_14b7=_14a8.getComputedStyle(this.child.domNode),_14b8=_14a7.getMarginBox(this.child.domNode,_14b7)[dim],max=this._computeMaxSize(),min=Math.max(this.child.minSize,_14a7.getPadBorderExtents(this.child.domNode,_14b7)[dim]+10),_14b9=this.region,_14ba=_14b9=="top"||_14b9=="bottom"?"top":"left",_14bb=parseInt(_14b6[_14ba],10),_14bc=this._resize,_14bd=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,touch.move,this._drag=function(e,_14be){var delta=e[axis]-_14b5,_14bf=_14b3*delta+_14b8,_14c0=Math.max(Math.min(_14bf,max),min);if(_14bc||_14be){_14bd(_14c0);}_14b6[_14ba]=delta+_14bb+_14b3*(_14c0-_14bf)+"px";}),on(de,"dragstart",function(e){e.stopPropagation();e.preventDefault();}),on(this.ownerDocumentBody,"selectstart",function(e){e.stopPropagation();e.preventDefault();}),on(de,touch.release,lang.hitch(this,"_stopDrag"))]);e.stopPropagation();e.preventDefault();},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_14a5.toggle(this.domNode,"dijitSplitterHover",o);_14a5.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_14a5.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_14a6.destroy(this.fake);}_14a5.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_14a3(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyDown:function(e){this._resize=true;var _14c1=this.horizontal;var tick=1;switch(e.keyCode){case _14c1?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _14c1?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _14c2=_14a7.getMarginSize(this.child.domNode)[_14c1?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_14c2,this._computeMaxSize()),this.child.minSize));e.stopPropagation();e.preventDefault();},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _14c3=_14a4("dijit.layout._Gutter",[_14aa,_14ab],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_14a5.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _14c4=_14a4("dijit.layout.BorderContainer",_14ac,{gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_14ae,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},_setupChild:function(child){this.inherited(arguments);var _14c5=child.region,ltr=child.isLeftToRight();if(_14c5=="leading"){_14c5=ltr?"left":"right";}if(_14c5=="trailing"){_14c5=ltr?"right":"left";}if(_14c5){if(_14c5!="center"&&(child.splitter||this.gutters)&&!child._splitterWidget){var _14c6=child.splitter?this._splitterClass:_14c3;if(lang.isString(_14c6)){_14c6=lang.getObject(_14c6);}var _14c7=new _14c6({id:child.id+"_splitter",container:this,child:child,region:_14c5,live:this.liveSplitters});_14c7.isSplitter=true;child._splitterWidget=_14c7;var _14c8=_14c5=="bottom"||_14c5==(this.isLeftToRight()?"right":"left");_14a6.place(_14c7.domNode,child.domNode,_14c8?"before":"after");_14c7.startup();}}},layout:function(){this._layoutChildren();},removeChild:function(child){var _14c9=child._splitterWidget;if(_14c9){_14c9.destroy();delete child._splitterWidget;}this.inherited(arguments);},getChildren:function(){return array.filter(this.inherited(arguments),function(_14ca){return !_14ca.isSplitter;});},getSplitter:function(_14cb){return array.filter(this.getChildren(),function(child){return child.region==_14cb;})[0]._splitterWidget;},resize:function(_14cc,_14cd){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_14a8.getComputedStyle(node);this.pe=_14a7.getPadExtents(node,this.cs);this.pe.r=_14a8.toPixelValue(node,this.cs.paddingRight);this.pe.b=_14a8.toPixelValue(node,this.cs.paddingBottom);_14a8.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_14ce,_14cf){if(!this._borderBox||!this._borderBox.h){return;}var _14d0=[];array.forEach(this._getOrderedChildren(),function(pane){_14d0.push(pane);if(pane._splitterWidget){_14d0.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_14ad.layoutChildren(this.domNode,dim,_14d0,_14ce,_14cf);},destroyRecursive:function(){array.forEach(this.getChildren(),function(child){var _14d1=child._splitterWidget;if(_14d1){_14d1.destroy();}delete child._splitterWidget;});this.inherited(arguments);}});_14c4.ChildWidgetProperties={splitter:false,minSize:0,maxSize:Infinity};lang.mixin(_14c4.ChildWidgetProperties,_14ac.ChildWidgetProperties);lang.extend(_14a9,_14c4.ChildWidgetProperties);_14c4._Splitter=_14ae;_14c4._Gutter=_14c3;return _14c4;});},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(dojo,_14d2){dojo.cookie=function(name,value,props){var c=document.cookie,ret;if(arguments.length==1){var _14d3=c.match(new RegExp("(?:^|; )"+_14d2.escapeString(name)+"=([^;]*)"));ret=_14d3?decodeURIComponent(_14d3[1]):undefined;}else{props=props||{};var exp=props.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=props.expires=d;}if(exp&&exp.toUTCString){props.expires=exp.toUTCString();}value=encodeURIComponent(value);var _14d4=name+"="+value,_14d5;for(_14d5 in props){_14d4+="; "+_14d5;var _14d6=props[_14d5];if(_14d6!==true){_14d4+="="+_14d6;}}document.cookie=_14d4;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"dijit/layout/LayoutContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(array,_14d7,_14d8,_14d9,lang,_14da,_14db,_14dc){var _14dd=_14d7("dijit.layout.LayoutContainer",_14db,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){if(this._started){return;}array.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(child){this.inherited(arguments);var _14de=child.region;if(_14de){_14d8.add(child.domNode,this.baseClass+"Pane");}},_getOrderedChildren:function(){var _14df=array.map(this.getChildren(),function(child,idx){return {pane:child,weight:[child.region=="center"?Infinity:0,child.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(child.region)?1:-1),idx]};},this);_14df.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});return array.map(_14df,function(w){return w.pane;});},layout:function(){_14dc.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren());},addChild:function(child,_14e0){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(child){this.inherited(arguments);if(this._started){this.layout();}_14d8.remove(child.domNode,this.baseClass+"Pane");_14d9.set(child.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_14d9.set(child.domNode,/top|bottom/.test(child.region)?"width":"height","auto");}});_14dd.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};lang.extend(_14da,_14dd.ChildWidgetProperties);return _14dd;});},"dijit/layout/_LayoutWidget":function(){define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_14e1,_14e2,_14e3,_14e4,_14e5,_14e6,_14e7,_14e8){return _14e5("dijit.layout._LayoutWidget",[_14e1,_14e2,_14e3],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);_14e6.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _14e9=this.getParent&&this.getParent();if(!(_14e9&&_14e9.isLayoutContainer)){this.resize();this.own(_14e4.on("resize",lang.hitch(this,"resize")));}},resize:function(_14ea,_14eb){var node=this.domNode;if(_14ea){_14e7.setMarginBox(node,_14ea);}var mb=_14eb||{};lang.mixin(mb,_14ea||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_14e7.getMarginBox(node),mb);}var cs=_14e8.getComputedStyle(node);var me=_14e7.getMarginExtents(node,cs);var be=_14e7.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_14e7.getPadExtents(node,cs);this._contentBox={l:_14e8.toPixelValue(node,cs.paddingLeft),t:_14e8.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(child){var cls=this.baseClass+"-child "+(child.baseClass?this.baseClass+"-"+child.baseClass:"");_14e6.add(child.domNode,cls);},addChild:function(child,_14ec){this.inherited(arguments);if(this._started){this._setupChild(child);}},removeChild:function(child){var cls=this.baseClass+"-child"+(child.baseClass?" "+this.baseClass+"-"+child.baseClass:"");_14e6.remove(child.domNode,cls);this.inherited(arguments);}});});},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(array,_14ed,_14ee,_14ef,lang){function _14f0(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_14f1,dim){var _14f2=_14f1.resize?_14f1.resize(dim):_14ee.setMarginBox(_14f1.domNode,dim);if(_14f2){lang.mixin(_14f1,_14f2);}else{lang.mixin(_14f1,_14ee.getMarginBox(_14f1.domNode));lang.mixin(_14f1,dim);}};var utils={marginBox2contentBox:function(node,mb){var cs=_14ef.getComputedStyle(node);var me=_14ee.getMarginExtents(node,cs);var pb=_14ee.getPadBorderExtents(node,cs);return {l:_14ef.toPixelValue(node,cs.paddingLeft),t:_14ef.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};},layoutChildren:function(_14f3,dim,_14f4,_14f5,_14f6){dim=lang.mixin({},dim);_14ed.add(_14f3,"dijitLayoutContainer");_14f4=array.filter(_14f4,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(array.filter(_14f4,function(item){return item.region=="center"||item.layoutAlign=="client";}));array.forEach(_14f4,function(child){var elm=child.domNode,pos=(child.region||child.layoutAlign);if(!pos){throw new Error("No region setting for "+child.id);}var _14f7=elm.style;_14f7.left=dim.l+"px";_14f7.top=dim.t+"px";_14f7.position="absolute";_14ed.add(elm,"dijitAlign"+_14f0(pos));var _14f8={};if(_14f5&&_14f5==child.id){_14f8[child.region=="top"||child.region=="bottom"?"h":"w"]=_14f6;}if(pos=="leading"){pos=child.isLeftToRight()?"left":"right";}if(pos=="trailing"){pos=child.isLeftToRight()?"right":"left";}if(pos=="top"||pos=="bottom"){_14f8.w=dim.w;size(child,_14f8);dim.h-=child.h;if(pos=="top"){dim.t+=child.h;}else{_14f7.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_14f8.h=dim.h;size(child,_14f8);dim.w-=child.w;if(pos=="left"){dim.l+=child.w;}else{_14f7.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(child,dim);}}}});}};lang.setObject("dijit.layout.utils",utils);return utils;});},"mxui/widget/ActionButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","mendix/lib/ValidationError","dojo/_base/lang","dojo/_base/declare"],function(_14f9,_14fa,_14fb,_14fc,_14fd){var _14fe=_14fd(_14f9,{declaredClass:"mxui.widget.ActionButton",action:null,needsObject:false,disableDuringAction:false,constructor:function(props){if(props.action&&props.action.microflow&&props.action.microflow.applyTo){this.needsObject=true;}if(props.action&&props.action.form&&props.action.form.passContext){this.needsObject=true;}},onClick:function(){var self=this,_14ff=[];if(!this.action){return;}if(this.action.microflow&&this.action.microflow.confirmation){_14ff.push(function(cb){var conf=self.action.microflow.confirmation;window.mx.ui.confirmation({cancel:conf.cancel,proceed:conf.proceed,content:conf.question,handler:cb});});}if(this.action.form||(this.action.microflow&&this.action.microflow.validate=="view")){_14ff.push(_14fc.hitch(this.mxform,"validate"));}_14ff.push(function(_1500){self.mxform.save(_1500,function(err){if(!(err instanceof mendix.lib.ValidationError)){window.mx.onError(err);}});});_14ff.push(function(){this.onBeforeAction();window.mx.ui.execute(self.action,{context:self.mxcontext,store:{caller:self.mxform},complete:function(){this.onAfterAction();}},this);});this.sequence(_14ff);},onBeforeAction:function(){if(this.disableDuringAction){this.disable();}},onAfterAction:function(){if(this.disableDuringAction){this.enable();}}});return _14fe;});},"mxui/widget/BackButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","dojo/_base/declare"],function(_1501,_1502,_1503){var _1504=_1503(_1501,{declaredClass:"mxui.widget.BackButton",onClick:function(e){this.mxform.dispose();}});return _1504;});},"mxui/widget/CancelButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","dojo/_base/declare"],function(_1505,_1506,_1507){var _1508=_1507(_1505,{declaredClass:"mxui.widget.CancelButton",closeForm:true,needsObject:undefined,onClick:function(e){var self=this,form=this.mxform;form.rollback(function(){if(self.closeForm||form.place==="popup"){form.dispose();}});}});return _1508;});},"mxui/widget/ConfirmationDialog":function(){define(["mxui/widget/Dialog","mxui/dom","mendix/logger","dojo/_base/declare"],function(_1509,_150a,_150b,_150c){var $=_150a.create;var _150d=_150c(_1509,{declaredClass:"mxui.widget.ConfirmationDialog",cancel:"",proceed:"",handler:null,modal:true,buildRendering:function(){this.caption=this.caption||this.translate("caption");this.inherited(arguments);var _150e=$("button",{"class":"btn"},this.cancel),_150f=$("button",{"class":"btn btn-primary"},this.proceed),_1510=$("p");_1510.innerHTML=_150a.convertNlToBr(_150a.escapeString(this.content));this.setContent(_1510);this.setButtons([_150f,_150e]);this.connect(_150e,"click",function(){this.hide();});this.connect(_150f,"click",function(){this.hide();this.handler();});}});return _150d;});},"mxui/widget/LogoutButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","dojo/_base/declare"],function(_1511,_1512,_1513){var _1514=_1513(_1511,{declaredClass:"mxui.widget.LogoutButton",postCreate:function(){if(window.mx.session.isGuest()){this.domNode.style.display="none";}this.inherited(arguments);},onClick:function(e){window.mx.logout();}});return _1514;});},"mxui/widget/SyncButton":function(){define(["mxui/widget/_DynamicButton","webcore/offline","dojo/_base/declare"],function(_1515,_1516,_1517){var _1518=_1517(_1515,{declaredClass:"mxui.widget.SyncButton",postCreate:function(){this.inherited(arguments);},onClick:function(e){var _1519=mx.session.getConfig("sync_config.fetch");_1516.updateLocalDatabase(_1519).then(_151a).caught(function(e){window.mx.onError(e);});}});function _151a(_151b){var _151c={};_151b.forEach(function(mxobj){window.mx.data.update({guid:mxobj.getGuid()});_151c[mxobj.getEntity()]=true;});for(var _151d in _151c){window.mx.data.sendClassUpdate(_151d);}};return _1518;});},"mxui/widget/DropDownButton":function(){define(["mxui/widget/_DynamicButton","mxui/widget/Dialog","mxui/html/parser","mxui/dom","dojo/dom-class","dojo/dom-construct","dojo/_base/declare"],function(_151e,_151f,_1520,_1521,_1522,_1523,_1524){var _1525=_1524(_151e,{declaredClass:"mxui.widget.DropDownButton",items:null,_dialog:null,buildRendering:function(){this.inherited(arguments);_1523.place(_1521.create("span",{"class":"caret"}),this.domNode);},onClick:function(e){if(this._dialog){this._dialog.hide();this._dialog=null;}var $=_1521.create,list=$("ul",{"class":"mx-list mx-dropdown-list"},this.getTemplate("content")),_1526=$("button",{"class":"btn primary"},"Close"),_1527=this._dialog=new _151f();_1522.add(_1527.domNode,"mx-dropdown");_1527.setContent(list);_1527.setButtons([_1526]);this.connect(_1526,"click",function(){_1527.hide();});_1520.parse(list,{dialog:_1527,mxform:this.mxform,parent:this});_1527.show();},uninitialize:function(){if(this._dialog){this._dialog.hide();}}});return _1525;});},"mxui/widget/DropDownItem":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/dom-construct","dojo/_base/lang","dojo/_base/declare"],function(_1528,_1529,_152a,_152b,_152c,_152d){var _152e=_152d(_1528,{declaredClass:"mxui.widget.DropDownItem",icon:"",caption:"",action:null,dialog:null,parent:null,buildRendering:function(){var $=_1529.create,node=this.domNode=$("li",$("label",this.caption));if(this.icon){_152b.place($("img",{src:window.mx.appUrl+this.icon}),node,"first");}this.connect(node,"click","onClick");},onClick:function(guid){this.dialog.hide();var _152f=this.action,_1530=this.parent.mxcontext;if(!_152f){return;}var run=function(){window.mx.ui.execute(_152f,{context:_1530});};if(_152f.microflow&&_152f.microflow.validate=="view"){this.mxform.validate(run);}else{run();}}});return _152e;});},"mxui/widget/SaveButton":function(){define(["mxui/widget/_DynamicButton","mendix/logger","dojo/_base/declare"],function(_1531,_1532,_1533){var _1534=_1533(_1531,{declaredClass:"mxui.widget.SaveButton",closeForm:true,needsObject:undefined,onClick:function(){var self=this,form=this.mxform;form.validate(function(){var error=function(e){if(!(e instanceof mendix.lib.ValidationError)){window.mx.onError(e);}};form.save(function(){form.commit(function(){if(self.closeForm||form.place=="popup"){form.dispose();}},error);},error);});}});return _1534;});},"mxui/widget/SidebarToggleButton":function(){define(["mxui/widget/_DynamicButton","dojo/_base/declare"],function(_1535,_1536){var _1537=_1536(_1535,{declaredClass:"mxui.widget.SidebarToggleButton",onClick:function(){this.mxform.publish("toggleSidebar");}});return _1537;});},"mxui/widget/GroupBox":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/lib/TextTemplate","mxui/widget","mxui/dom","dijit/registry","dojo/dom-class","dojo/dom-construct","dojo/_base/declare"],function(_1538,_1539,_153a,_153b,_153c,_153d,_153e,_153f,_1540){var _1541=_1540([_1538,_1539],{declaredClass:"mxui.widget.GroupBox",caption:null,collapsed:false,collapsable:false,_iconNode:null,_captionTextTemplate:null,buildRendering:function(){this.inherited(arguments);if(this.collapsable){this._iconNode=this.domNode.querySelector("i");this.collapsed=this.getState("collapsed",this.collapsed);this._doCollapse();this.connect(this.domNode.querySelector("h2"),"click",function(e){this.toggleCollapsed();e.stopPropagation();});}if(this.caption){var _1542=this.domNode.querySelector("h2");var _1543=document.createTextNode(" ");_1542.appendChild(_1543);this._captionTextTemplate=new _153a(this.caption,function(text){_1543.nodeValue=text;});}},update:function(obj,_1544){var self=this;if(this._captionTextTemplate){this._captionTextTemplate.update(obj,_1545);}else{_1545();}function _1545(){self.passContext(_153d.findWidgets(self.domNode),_1544);};},toggleCollapsed:function(){this.set("collapsed",!this.collapsed);},_setCollapsedAttr:function(_1546){if(this.collapsed!=_1546){this.collapsed=_1546;this._doCollapse();}},_doCollapse:function(){if(this.collapsed){_153e.add(this.domNode,"collapsed");if(this._iconNode){_153e.replace(this._iconNode,"glyphicon-plus","glyphicon-minus");}}else{_153e.remove(this.domNode,"collapsed");if(this._iconNode){_153e.replace(this._iconNode,"glyphicon-minus","glyphicon-plus");}this.mxform.resize();}},storeState:function(store){store("collapsed",this.collapsed);},uninitialize:function(){if(this._captionTextTemplate){this._captionTextTemplate.destroy();}}});return _1541;});},"mxui/widget/Title":function(){define(["mxui/widget/_WidgetBase","mxui/dom","dojo/_base/declare"],function(_1547,dom,_1548){var Title=_1548(_1547,{declaredClass:"mxui.widget.Title",buildRendering:function(){this.domNode=dom.create("h1",{"class":"mx-title"});this._setTitle();this.connect(this.mxform,"onNavigation",this._setTitle);},_setTitle:function(){dom.text(this.domNode,this.mxform.getTitle());}});return Title;});},"mxui/widget/StaticImage":function(){define(["mxui/widget/_WidgetBase","mxui/widget/ImageZoom","mxui/dom","mendix/logger","dojo/on","dojo/_base/event","dojo/_base/declare"],function(_1549,_154a,dom,_154b,_154c,_154d,_154e){var $=dom.create;var _154f=_154e(_1549,{declaredClass:"mxui.widget.StaticImage",url:"",width:"",height:"",action:null,_overlay:null,buildRendering:function(){var width=this.width,_1550=this.height,_1551=parseInt(width,10),_1552=parseInt(_1550,10),image=this.domNode=$("img",{"class":"mx-image"}),style=image.style;var _1553=width.indexOf("px")!==-1&&_1550.indexOf("px")!==-1;if(_1553&&_1551>0&&_1552>0){this.connect(image,"load",function(){var _1554=image.width/image.height,_1555=_1551/_1552;if(_1554<_1555){style.width="";style.height=_1550;}else{style.width=width;style.height="";}});}else{if(_1551){image.style.width=width;}if(_1552){image.style.height=_1550;}}if(this.action){this.connect(image,"click","onClick");image.style.cursor="pointer";}this.setUrl("");},applyContext:function(_1556,_1557){this.mxcontext.mixin(_1556);this.setUrl(this.url,_1557);},setUrl:function(url,_1558){this.domNode.removeAttribute("width");this.domNode.removeAttribute("height");if(!url){this.domNode.style.display="none";this.domNode.src=this._blankGif;if(_1558){_1558();}}else{url=window.mx.appUrl+url;if(this.domNode.src===url){if(_1558){_1558();}}else{if(_1558){var _1559=_154c(this.domNode,"load",function(){_1559.remove();_1558();});var _155a=_154c(this.domNode,"error",function(){_154b.error(this.id+": Failed to load image with url "+url);_155a.remove();_1558();});}this.domNode.style.display="";this.domNode.src=url;}}},onClick:function(e){var _155b=this.action,_155c=this.mxcontext,run,store;if("microflow" in _155b||"form" in _155b){store={caller:this.mxform};run=function(){window.mx.ui.execute(_155b,{context:_155c,store:store});};if(_155b.microflow&&_155b.microflow.validate=="view"){this.mxform.validate(run);}else{run();}}else{if(_155b.type=="enlarge"){if(!this._overlay){this._overlay=new _154a({src:this.domNode.src});}else{this._overlay.set("src",this.domNode.src);}this._overlay.show();}}_154d.stop(e);},uninitialize:function(){if(this._overlay){this._overlay.destroy();}},_setWidthAttr:function(){},_setHeightAttr:function(){}});return _154f;});},"mxui/widget/ImageZoom":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/logger","dojo/_base/declare"],function(_155d,_155e,_155f,_1560){var _1561=_1560(_155d,{declaredClass:"mxui.widget.ImageZoom",src:"",_image:null,_offset:0,_content:null,buildRendering:function(){var $=_155e.create;this.domNode=$("div",{"class":"mx-imagezoom"},$("div",{"class":"mx-imagezoom-wrapper"},this._image=$("img",{"class":"mx-imagezoom-image",src:this.src})));this._content=document.getElementById("content");this.connect(this.domNode,"click","hide");},show:function(){this._offset=window.pageYOffset;this._content.style.display="none";document.body.appendChild(this.domNode);},hide:function(e){document.body.removeChild(this.domNode);var self=this;setTimeout(function(){window.scrollTo(0,self._offset);self._content.style.display="";});},_setSrcAttr:function(src){this._image.src=this.src=src;}});return _1561;});},"mxui/widget/Image":function(){define(["mxui/widget/StaticImage","mendix/logger","dojo/_base/declare"],function(_1562,_1563,_1564){var Image=_1564(_1562,{declaredClass:"mxui.widget.Image",datasource:null,defaultUrl:"",_entity:"",_xpath:"",_referred:"",postCreate:function(){this.inherited(arguments);var split=this.datasource.path.split("/");this._entity=split.pop();this._referred=!!split.length;this._xpath="//"+this._entity;if(this._referred){this._xpath+="["+split.reverse().join("/")+"=[%CurrentObject%]]";}},applyContext:function(_1565,_1566){this.unsubscribeAll();this.mxcontext.mixin(_1565);var _1567=this.mxcontext.getTrackId();var error=function(e){window.mx.onError(e);_1566&&_1566();};if(!_1567){this.update(null,_1566);}else{if(this._referred){window.mx.data.get({xpath:this._xpath.replace("[%CurrentObject%]",_1567),callback:function(objs){this.updateReferred(objs[0],_1566,_1565);},error:error},this);}else{window.mx.data.get({guid:_1567,noCache:true,callback:function(obj){this.update(obj,_1566);},error:error},this);}}},update:function(obj,_1568){if(obj){this.subscribe({guid:obj.getGuid(),callback:function(){this.update(obj);}});}this._setImage(obj,_1568);},updateReferred:function(obj,_1569,_156a){if(obj){this.subscribe({guid:_156a.getTrackId(),callback:function(){this.applyContext(_156a);}});}this.mxcontext.setContext(this._entity,obj?obj.getGuid():"");this.update(obj,_1569);},_setImage:function(obj,_156b){var url;if(obj&&obj.get2("HasContents")){url="file?"+["guid="+obj.getGuid(),"thumb="+this.thumb,"changedDate="+obj.get2("changedDate")].join("&");}else{url=this.defaultUrl;}this.setUrl(url,_156b);}});return Image;});},"mxui/widget/LinkButton":function(){define(["mxui/widget/_DynamicButton","mxui/mixin/_DynamicOptionHelper","mxui/dom","mendix/logger","dojo/_base/declare"],function(_156c,_156d,_156e,_156f,_1570){var _1571=_1570([_156c,_156d],{declaredClass:"mxui.widget.LinkButton",action:"",address:"",subject:"",cc:"",bcc:"",body:"",_argNames:{email:["subject","cc","bcc","body"]},_target:"",_url:"",buildRendering:function(){this.inherited(arguments);this._target=(this.action=="open"?"_blank":"_self");},onClick:function(e){window.open(this._url,this._target);},refresh:function(_1572){this.updateOptions(["address","subject","cc","bcc","body"],this._mxObject,function(_1573){this.setUrl(_1573);if(_1572){_1572();}});},setUrl:function(_1574){var _1575=_1574.address,url;switch(this.action){case "open":url=_1575;break;case "email":url="mailto:"+window.escape(_1575);break;case "call":url="tel:"+window.escape(_1575);break;case "text":url="sms:"+window.escape(_1575);break;default:throw new Error(this.id+".setUrl : invalid action");}var _1576=[],_1577=this._argNames[this.action];if(_1577){for(var i=0,_1578;_1578=_1577[i];++i){var val=_1574[_1578];if(val){_1576.push(_1578+"="+window.escape(val));}}if(_1576.length>0){url+="?"+_1576.join("&");}}this._url=url;}});return _1571;});},"mxui/mixin/_DynamicOptionHelper":function(){define(["mendix/logger","dojo/_base/lang","dojo/_base/declare"],function(_1579,_157a,_157b){var fetch=function(obj,_157c,_157d){var _157e={},len=_157c.length,_157f=len;var _1580=function(_1581,v){_157e[_1581]=v;if(--_157f===0){_157d&&_157d(_157e);}};if(len===0){_157d&&_157d(_157e);}else{for(var i=0;i<len;++i){obj.fetch(_157c[i][0],_157a.hitch(null,_1580,_157c[i][1]));}}};var _1582=_157b(null,{updateOptions:function(_1583,obj,_1584){if(typeof _1584!="function"){throw new Error(this.name+".updateOptions : invalid callback");}var self=this,_1585={},_1586=[];for(var i=0,_1587;_1587=_1583[i];++i){var _1588=this[_1587+"Attribute"];if(_1588){_1586.push([_1588,_1587]);}else{_1585[_1587]=this[_1587];}}if(obj){fetch(obj,_1586,function(_1589){_1584.call(self,_157a.mixin({},_1589,_1585));});}else{_1584.call(this,_1585);}}});return _1582;});},"mxui/widget/ListView":function(){define(["mxui/widget/Button","mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/mixin/_ContainingSelection","mxui/dom","mendix/lib/MxContext","mendix/lang","webcore/datasource/OfflineSource","webcore/datasource/OfflineByReferenceSource","webcore/datasource/EntityPathSource","webcore/datasource/MicroflowSource","webcore/datasource/XPathSource","dojo/dom-class","dojo/dom-construct","dojo/aspect","dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_158a,_158b,_158c,_158d,_158e,_158f,lang,_1590,_1591,_1592,_1593,_1594,_1595,_1596,_1597,_1598,_1599,_159a){var $=_158e.create;var _159b=_1599(_158b,{declaredClass:"mxui.widget.ListViewItem",listview:null,template:null,action:null,selectable:"",name:"",_selected:false,_checknode:null,buildRendering:function(){var node=this.domNode=$("li",{"class":this.name+" mx-listview-item"}),_159c=this.selectable;if(_159c){var item=$("#");if(_159c!="singleandmaintain"){item.appendChild($("div",{"class":"mx-listview-selection"},this._checknode=_159c=="multi"?$("input",{type:"checkbox"}):$("input",{type:"radio"})));}item.appendChild($("div",{"class":"mx-listview-content"},this.template||""));node.appendChild(item);}else{if(this.template){node.appendChild(this.template);}}this.connect(this.domNode,"click","onClick");},startup:function(){this.parseContent(this.domNode,{schema:""});},select:function(){_1595.add(this.domNode,"selected");if(this._checknode){this._checknode.checked=true;}this._selected=true;},deselect:function(){_1595.remove(this.domNode,"selected");if(this._checknode){this._checknode.checked=false;}this._selected=false;},getGuid:function(){return this.mxcontext.getTrackId();},onClick:function(event){if(this.selectable){if(this._selected){this.listview._deselectItem(this);}else{this.listview._selectItem(this);}}else{if(this.action){event.stopPropagation();var self=this,_159d=this.action,_159e=new _158f();var run=function(){window.mx.ui.execute(_159d,{context:_159e});self.listview._shareSelection(self.listview._entity);};_159e.mixin(this.mxcontext);_159e.setTrackObject(null);if(_159d.microflow&&_159d.microflow.validate){this.mxform.validate(run);}else{run();}}}}});var _159f=_1599([_158b,_158c,_158d],{declaredClass:"mxui.widget.ListView",datasource:null,dataSourceMixin:null,page:5,search:null,action:null,sort:null,selectable:"",templateMap:null,_entity:"",_itemIndex:0,_itemList:null,_loadButton:null,_clearButton:null,_searchNode:null,_listNode:null,_emptyNode:null,_loadNode:null,_datasource:null,_lastRenderId:0,_preserveSelection:false,constructor:function(_15a0){if(_15a0.selection){this._preserveSelection=true;}},postMixInProperties:function(){if(this.listViewSelectionMode){this.selectable=this.listViewSelectionMode;}},buildRendering:function(){this._loadButton=new _158a({caption:this.translate("load_more"),iconClass:"glyphicon-repeat",onClick:_159a.hitch(this,"_loadMore"),"class":"mx-listview-loadMore"});this.domNode=$("div",{"class":"mx-listview"},this._listNode=$("ul",{"class":"mx-list mx-list-striped mx-listview-list"}),this._loadButton.domNode);if(this.selectable!="singleandmaintain"){_1595.add(this.domNode,"mx-listview-selectable");}if(this.action){_1595.add(this.domNode,"mx-listview-clickable");}this._emptyNode=$("li",{"class":"mx-listview-empty"},$("label",this.translate("no_items")));this._loadNode=$("li",{"class":"mx-listview-loading"},$("img",{src:require.toUrl("mxui/ui/widget/images/loading.gif")}));if(this.search){this._clearButton=new _158a({iconClass:"glyphicon-refresh",onClick:_159a.hitch(this,"_clearSearchNode"),"class":"mx-listview-clear-button"});_1596.place($("div",{"class":"mx-listview-searchbar clearfix"},this._clearButton.domNode,$("div",{"class":"mx-listview-search-input"},this._searchNode=$("input",{type:"text",placeholder:this.translate("search"),"class":"form-control",value:this.getState("searchValue","")}))),this.domNode,"first");this.connect(this._searchNode,"keyup","_searchKeyDown");}},postCreate:function(){this._createSource();this._itemList=[];this.templateMap=this.templateMap||[];this.selection=this.getState("selection",this.selection);},_onLoad:function(_15a1){if(this.selectable){if(!this._preserveSelection){var _15a2=_1598.map(this._datasource.getObjects(),function(obj){return obj.getGuid();});this.selection=_1598.filter(this.selection,function(guid){return _1598.indexOf(_15a2,guid)!=-1;});}this._ensureSelection();this._shareSelection(this._entity);}if(_15a1){_15a1();}},update:function(obj,_15a3){this._registerSubscriptions();_158e.orphan(this._emptyNode);this._loadData(_15a3);},_registerSubscriptions:function(){this.unsubscribeAll();this.subscribe({entity:this._entity,callback:function(){this.update();}});var _15a4=this.mxcontext.getTrackId();if(_15a4){this.subscribe({guid:_15a4,callback:function(){this.update();}});}},storeState:function(store){if(this._searchNode){store("searchValue",this._searchNode.value);}store("datasourceOffset",this._datasource.getOffset());store("selection",this.selection);},uninitialize:function(){this._clearData();this._datasource.destroy();},_createSource:function(){var _15a5=this.datasource,_15a6={context:this.mxcontext,page:this.page},split;var _15a7=_15a5.type;switch(_15a7){case "xpath":split=_15a5.path.split("/");this._entity=split.pop();this._datasource=new _1594(_159a.mixin(_15a6,{sortparams:this.sort},_15a5,this.dataSourceMixin));this._datasource.setConstraints(this._getSearchConstraint());break;case "entityPath":split=_15a5.path.split("/");this._entity=split.pop();this._datasource=new _1592(_159a.mixin(_15a6,_15a5));break;case "microflow":this._entity=_15a5.path;this._datasource=new _1593(_159a.mixin(_15a6,_15a5));break;case "offline":this._entity=_15a5.entity;this._datasource=new _1590(_159a.mixin(_15a6,{entity:_15a5.entity,sort:this.sort},_15a5));break;case "offlineReference":this._entity=_15a5.entity;this._datasource=new _1591(_159a.mixin(_15a6,{entity:_15a5.entity,reference:_15a5.reference,sort:this.sort},_15a5));break;default:throw new Error(this.id+"._createSource : could not create datasource");}var _15a8=this.getState("datasourceOffset",0);if(_15a8){this._datasource.setPageSize(_15a8+this.page);this._datasource.setOffset(0);var self=this,_15a9=_1597.after(this,"_onLoad",function(){self._datasource.setPageSize(self.page);self._datasource.setOffset(_15a8);_15a9.remove();});}},_clearData:function(){while(this._itemList.length){var item=this._itemList.pop();if(item.domNode){item.destroy();}}},_showLoadingIcon:function(){this._listNode.appendChild(this._loadNode);},_hideLoadingIcon:function(){_158e.orphan(this._loadNode);},_showLoadMoreButton:function(){this.domNode.appendChild(this._loadButton.domNode);},_hideLoadMoreButton:function(){_158e.orphan(this._loadButton.domNode);},_updateLoadMoreButton:function(){if(!this._datasource.atEnd()){this._showLoadMoreButton();}else{this._hideLoadMoreButton();}},_searchKeyDown:function(){var self=this,_15aa=this._datasource;this._clearButton.set("iconClass",this._searchNode.value?"glyphicon-remove":"glyphicon-refresh");clearTimeout(this._searchTimeout);this._searchTimeout=setTimeout(function(){self._clearData();self._showLoadingIcon();self._hideLoadMoreButton();_15aa.setConstraints(self._getSearchConstraint());self.update();},500);},_clearSearchNode:function(){clearTimeout(this._searchTimeout);this._clearButton.set("iconClass","glyphicon-refresh");this._searchNode.value="";this._datasource.setConstraints("");this.update();},_selectItem:function(item){var guid=item.getGuid();if(/^(single|singleandmaintain)$/.test(this.selectable)){var _15ab=this.selection[0],_15ac=lang.find(this._itemList,function(item){return item.getGuid()==_15ab;});if(_15ac){_15ac.deselect();}this.selection=[guid];}else{this._addToSelection(guid);}this._shareSelection(this._entity);item.select();},_deselectItem:function(item){if(this.selectable!=="singleandmaintain"){this._removeFromSelection(item.getGuid());this._shareSelection(this._entity);item.deselect();}},_getSearchConstraint:function(){if(this.search){var value=this._searchNode.value,_15ad=[],_15ae=this.search.attributes,_15af=this.search.method;if(value){for(var i=0,attr;attr=_15ae[i];++i){_15ad.push(_15af+"("+attr+",'"+value+"')");}return "["+_15ad.join(" or ")+"]";}}return "";},_loadData:function(_15b0){this._datasource.first();this.sequence(["_sourceReload","_onLoad","_renderData"],function(){this._updateLoadMoreButton();if(_15b0){_15b0();}});},_loadMore:function(){this._showLoadingIcon();this._hideLoadMoreButton();this.sequence(["_sourceNext","_renderData"],function(){this._updateLoadMoreButton();});},_sourceReload:function(_15b1){this._datasource.reload(_15b1);},_sourceNext:function(_15b2){this._datasource.next(_15b2);},_renderData:function(_15b3){var objs=this._datasource.getObjects(),index=this._datasource.getOffset()===0?0:this._itemIndex,_15b4=this._createListItems(objs,index),_15b5=$("div",{"class":"mx-offscreen"}),_15b6=this._lastRenderId=lang.getUniqueId();this.domNode.appendChild(_15b5);_1598.forEach(_15b4,function(item){_15b5.appendChild(item.domNode);item.startup();});this._loadListItems(_15b4,objs,_159a.hitch(this,function(){_158e.orphan(_15b5);if(_15b6!=this._lastRenderId){_1598.forEach(_15b4,function(item){item.destroy();});if(_15b3){_15b3();}return;}this._hideLoadingIcon();if(this._datasource.getOffset()===0){this._clearData();}this._itemList=this._itemList.concat(_15b4);this._itemIndex=this._itemList.length;_1598.forEach(_15b4,function(item){this._listNode.appendChild(item.domNode);},this);if(this._itemList.length===0){this._listNode.appendChild(this._emptyNode);}if(_15b3){_15b3();}}));},_createListItems:function(objs,index){return _1598.map(objs,function(obj){var _15b7=this.templateMap[obj.getEntity()];if(!_15b7){_1598.some(obj.getSuperEntities(),function(_15b8){return _15b7=this.templateMap[_15b8];},this);}var item=new _159b({uniqueid:this.uniqueid+"_obj"+obj.getGuid(),listview:this,name:"mx-name-index-"+index++,mxform:this.mxform,template:this.getTemplate(_15b7),action:this.action,selectable:this.selectable});if(this.selectable&&this._isSelected(obj.getGuid())){item.select();}return item;},this);},_loadListItems:function(items,objs,_15b9){this.collect(_1598.map(items,function(item,i){return function(cb){var _15ba=new _158f({mxcontext:this.mxcontext});_15ba.setObject(objs[i]);item.applyContext(_15ba,cb);};}),_15b9);},_ensureSelection:function(){var objs=this._datasource.getObjects();if(this.selectable==="singleandmaintain"&&!this._hasSelection()&&objs.length>0){this._addToSelection(objs[0].getGuid());}}});return _159f;});},"mxui/widget/MenuBar":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mxui/lib/menuAnchorFactory","mxui/dom","mendix/lang","dojo/aspect","dojo/dom-class","dojo/on","dojo/_base/event","dojo/_base/lang","dojo/_base/declare"],function(_15bb,_15bc,_15bd,_15be,lang,_15bf,_15c0,_15c1,_15c2,_15c3,_15c4){var $=_15be.create;var _15c5=_15c4([_15bb,_15bc],{declaredClass:"mxui.widget.MenuBar",menuID:"",orientation:"horizontal",_view:null,_items:null,_currentSelection:-1,_initialSelection:-1,buildRendering:function(){this._items=window.mx.ui.getMenu(this.menuID);this._view=new View(this,this.orientation,this._items);this.domNode=this._view.domNode;this._view.subscribeToClick(_15c3.hitch(this,"_onClick"));this._restoreSelection();this.connect(this.mxform,"onNavigation",this._restoreSelection);},_restoreSelection:function(){this._currentSelection=this.getState("selectedIndex",this._currentSelection);this._initialSelection=this._currentSelection;this._view.select(this._currentSelection);},_onClick:function(_15c6){var self=this,_15c7=this._items[_15c6].action;if(_15c7.microflow&&_15c7.microflow.validate=="view"){this.mxform.validate(_15c3.hitch(this,_15c8));}else{_15c8();}function _15c8(){self._currentSelection=_15c6;self._view.select(self._currentSelection);window.mx.ui.execute(_15c7);};},storeState:function(store){store("selectedIndex",this._initialSelection);}});var View=_15c4(null,{_handlerScope:null,_orientation:"",_list:null,domNode:null,constructor:function(_15c9,_15ca,items){this._handlerScope=_15c9;this._orientation=_15ca;this._render(items);},_render:function(items){var self=this;this._list=$("ul",{"class":"nav nav-pills mx-menubar-list"});if(this._orientation=="vertical"){_15c0.add(this._list,"nav-stacked");}lang.forEach(items,function(item,index){var _15cb=_15bd.create(item);self._list.appendChild($("li",{"class":"mx-menubar-item mx-name-index-"+index},_15cb));});this.domNode=$("div",{"class":"mx-menubar mx-menubar-"+this._orientation},this._list);},subscribeToClick:function(_15cc){var _15cd=this._handlerScope;lang.forEach(this.domNode.querySelectorAll(".mx-menubar-item>a"),function(_15ce,index){_15cd.own(_15c1(_15ce,"click",function(event){_15c2.stop(event);_15cc(index);}));});},select:function(index){var _15cf=this.domNode.querySelector(".mx-menubar-item.active");if(_15cf){_15c0.remove(_15cf,"active");}if(index!=-1){_15c0.add(this._list.children[index],"active");}}});return _15c5;});},"mxui/widget/NavigationList":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Stateful","mendix/lang","dojo/_base/array","dojo/on","dojo/dom-class","dojo/_base/declare"],function(_15d0,_15d1,lang,_15d2,_15d3,_15d4,_15d5){var _15d6=_15d5([_15d0,_15d1],{declaredClass:"mxui.widget.NavigationList",_view:null,_currentActive:-1,_initialActive:-1,buildRendering:function(){this._view=new View(this.srcNodeRef,this);this.domNode=this._view.domNode;var self=this;this._view.subscribeToClick(function(_15d7){self._currentActive=_15d7;self._view.deactivateAll();self._view.activate(_15d7);});this._restoreSelection();this.connect(this.mxform,"onNavigation",this._restoreSelection);},_restoreSelection:function(){this._currentActive=this.getState("activeItem",this._currentActive);this._initialActive=this._currentActive;this._view.deactivateAll();this._view.activate(this._currentActive);},storeState:function(store){store("activeItem",this._initialActive);}});var View=_15d5(null,{_list:null,_handlerScope:null,constructor:function(_15d8,_15d9){this.domNode=_15d8;this._list=_15d8;this._handlerScope=_15d9;},subscribeToClick:function(_15da){var self=this;this._handlerScope.own(_15d3(this._list,"li.mx-navigationlist-item:click",function(){_15da(_15d2.indexOf(self._list.childNodes,this));}));},activate:function(_15db){if(_15db!=-1){_15d4.add(this._list.childNodes[_15db],"active");}},deactivateAll:function(){lang.forEach(this._list.querySelectorAll("li.mx-navigationlist-item.active"),function(item){_15d4.remove(item,"active");});}});return _15d6;});},"mxui/widget/NavigationListItem":function(){define(["mxui/widget/_WidgetBase","dojo/_base/declare"],function(_15dc,_15dd){var _15de=_15dd(_15dc,{declaredClass:"mxui.widget.NavigationListItem",action:null,buildRendering:function(){this.inherited(arguments);if(this.action){this.connect(this.domNode,"click","onClick");}},onClick:function(){var self=this;var run=function(){window.mx.ui.execute(self.action,{context:self.mxcontext});};if(this.action.microflow&&this.action.microflow.validate=="view"){this.mxform.validate(run);}else{run();}}});return _15de;});},"mxui/widget/NewButton":function(){define(["mxui/widget/_DynamicButton","mendix/lib/MxContext","mendix/logger","dojo/_base/declare"],function(_15df,_15e0,_15e1,_15e2){var _15e3=_15e2(_15df,{declaredClass:"mxui.widget.NewButton",form:null,entity:"",onClick:function(e){var pid=window.mx.ui.showProgress();window.mx.data.create({entity:this.entity,callback:function(obj){var _15e4=new _15e0();_15e4.setContext(obj);window.mx.ui.execute({form:this.form},{context:_15e4});window.mx.ui.hideProgress(pid);},error:function(e){window.mx.ui.hideProgress(pid);window.mx.onError(e);}},this);}});return _15e3;});},"mxui/widget/ReferenceSelector":function(){define(["mxui/widget/_LabeledWidget","mxui/mixin/_ValidationHelper","mxui/widget/Button","webcore/datasource/MicroflowSource","webcore/datasource/XPathSource","mendix/lib/MxContext","mxui/dom","mendix/lang","mendix/logger","dojo/sniff","dojo/dom-construct","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/_base/declare"],function(_15e5,_15e6,_15e7,_15e8,_15e9,_15ea,dom,lang,_15eb,_15ec,_15ed,_15ee,_15ef,_15f0,_15f1){var $=dom.create;var _15f2=_15f1([_15e5,_15e6],{declaredClass:"mxui.widget.ReferenceSelector",attributePath:"",sort:null,constraint:"",constrainedBy:null,dataSourceMicroflow:"",selectForm:null,gotoForm:null,events:null,useContext:false,contextAction:"",preserveTrackObject:true,precision:-1,formatted:false,_mxObject:null,_readNode:null,_editNode:null,_inputPane:null,_gotoButton:null,_assoc:"",_entity:"",_attr:"",_constraint:"",_datasource:null,_objsubs:null,_opts:null,postMixInProperties:function(){_15f0.mixin(this,this.selectForm?_15f3:_15f4);},postCreate:function(){var path=this.attributePath.split("/");this.constrainedBy=this.constrainedBy||[];this._assoc=path[1];this._entity=path[2];this._attr=path[3];this.mxcontext.setConstraints(this.constrainedBy);if(this.dataSourceMicroflow){this._datasource=new _15e8({microflow:this.dataSourceMicroflow,context:this.mxcontext});}else{this._datasource=new _15e9({entity:this._entity,context:this.mxcontext,useContext:this.useContext,sortparams:this.sort,attributes:[this._attr]});}this._objsubs=[];if(this.precision!==-1){this._opts={groups:this.formatted,places:this.precision};}},startup:function(){this.inherited(arguments);this.setupValidation(this._assoc);},onChange:function(){var ev=this.events&&this.events.change;if(ev){this.validatedMicroflow(ev);}},update:function(obj,_15f5){this._mxObject=obj;this.setValidationObject(obj);this._removeObjectSubscriptions();if(obj){this._constraint=this.constraint.replace("[%CurrentObject%]",obj.getGuid());this._addObjectSubscriptions();}this.updateDisabled();this.updateObject(obj,_15f5);},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._assoc));},renderObject:function(_15f6){var _15f7=this._mxObject,ref=_15f7&&_15f7.get2(this._assoc),self=this;if(ref){var _15f8=this._datasource.getObject(ref);if(_15f8){_15f9(_15f8);}else{window.mx.data.fetch(_15f7,[this._assoc,this._entity],{usexpath:true},_15f9,function(e){window.mx.onError(e);if(_15f6){_15f6();}});}}else{_15f9(null);}function _15f9(obj){if(self._mxObject==_15f7&&(!self._mxObject||self._mxObject.get2(self._assoc)==ref)){self.setValue(obj);}if(_15f6){_15f6();}};},setTextValue:function(obj){var value=obj?window.mx.parser.formatAttribute(obj,this._attr,this._opts):"";if(value){dom.text(this._readNode,value);}else{this._readNode.innerHTML="&nbsp;";}if(this._gotoButton){this._gotoButton.set("disabled",!obj);}},openGotoForm:function(){var obj=this._mxObject,ref=obj&&obj.get2(this._assoc);if(ref){var _15fa=new _15ea();_15fa.mixin(this.mxcontext);_15fa.setContext(this._entity,ref);_15fa.setTrackObject(null);window.mx.ui.execute({form:this.gotoForm},{context:_15fa});}},_getValueAttr:function(){return this._editNode.value;},_createGoToButton:function(){var _15fb=this._gotoButton=new _15e7({"class":"mx-referenceselector-goto-button",iconClass:"glyphicon-eye-open"});this.connect(_15fb,"onClick","openGotoForm");return _15fb.domNode;},_addObjectSubscriptions:function(){var obj=this._mxObject,ref;var _15fc=function(){this.removeError();this.updateObject(obj);};this._objsubs.push(this.subscribe({guid:obj.getGuid(),callback:_15fc}));this._objsubs.push(this.subscribe({guid:obj.getGuid(),attr:this._assoc,callback:this.selectForm?_15fc:function(){this.removeError();var value=obj.get2(this._assoc),found=!value||this._datasource.getObject(value);if(found||this.get("disabled")){this.renderObject();}else{this.renderSet();}}}));ref=obj.getReference(this._assoc);if(ref){this._objsubs.push(this.subscribe({guid:ref,attr:this._attr,callback:_15fc}));}},_removeObjectSubscriptions:function(){var subs=this._objsubs;while(subs.length>0){this.unsubscribe(subs.shift());}},_createReadNode:function(){var _15fd=this.insideFormGroup?$("p",{"class":"form-control-static"}):$("label");_15fd.innerHTML="&nbsp;";return _15fd;}});var _15f4={_subs:null,buildRendering:function(){this._readNode=this._createReadNode();this._editNode=$("select",{"class":"form-control"});this.connect(this._editNode,"change",function(){var value=this.get("value");if(this.isValid()&&this._mxObject.get2(this._assoc)!=value){this._mxObject.set(this._assoc,value);if(this._gotoButton){this._gotoButton.set("disabled",!value);}this.onChange();}});var _15fe;this.domNode=$("div",{"class":"mx-referenceselector"},_15fe=$("div",{"class":"mx-referenceselector-input-wrapper"},this._editNode));if(this.gotoForm){_15ed.place(this._createGoToButton(),_15fe,"before");}this._inputPane=_15fe;},enable:function(){var self=this;this.renderSet(function(){self._inputPane.replaceChild(self._editNode,self._readNode);});},disable:function(){var self=this;this.renderObject(function(){self._inputPane.replaceChild(self._readNode,self._editNode);});},setValue:function(obj){this._editNode.value=obj?obj.getGuid():"";this.setTextValue(obj);},updateObject:function(obj,_15ff){this._removeSubscriptions();this._subscribeToConstraints();if(this.get("disabled")){this.renderObject(_15ff);}else{this._subscribeToEntity();this.renderSet(_15ff);}},renderSet:function(_1600){var self=this,obj=this._mxObject,_1601=this._datasource,_1602=obj&&obj.get2(self._assoc),_1603=false;var _1604=function(objs){self._renderOptions(objs);if(_1600){_1600();}};if(obj){if(_1601.setConstraints){_1601.setConstraints(this._constraint);}_1601.reload(function(){_1604(_1601.getObjects());if(_1602){var objs=_1601.getObjects();for(var i=0,obj;obj=objs[i];i++){if(_1602===obj.getGuid()){self.setValue(obj);_1603=true;break;}}if(!_1603){self._mxObject.set(self._assoc,"");self.onChange();}}});}else{_1604();}if(this._gotoButton){this._gotoButton.set("disabled",!_1603);}},_renderOptions:function(objs){var node=this._editNode;objs=objs||[];dom.empty(node);node.appendChild($("option",{value:""},""));for(var i=0,obj;obj=objs[i];i++){node.appendChild($("option",{value:obj.getGuid()},window.mx.parser.formatAttribute(obj,this._attr,this._opts)||""));}},_subscribeToConstraints:function(){var _1605=this.constrainedBy;if(!_1605||!_1605.length){return;}if(this._mxObject){for(var i=0,len=_1605.length;i<len;++i){var path=_1605[i].split("/");if(path[1]){this._subs.push(this.subscribe({guid:this._mxObject.getGuid(),attr:path[1],callback:function(){this.updateObject(this._mxObject);}}));}}}},_subscribeToEntity:function(){var _1606=this._mxObject.metaData.getSelectorEntity(this._assoc);this._subs.push(this.subscribe({entity:_1606,callback:function(){this.updateObject(this._mxObject);}}));},_removeSubscriptions:function(){if(this._subs){while(this._subs.length){this.unsubscribe(this._subs.shift());}}this._subs=[];}};var _15f3={_selectButton:null,buildRendering:function(){this._readNode=this._createReadNode();this._editNode=$("input",{type:"text",readonly:"readonly","class":"form-control"});var _1607=this._selectButton=new _15e7({"class":"mx-referenceselector-select-button",iconClass:"glyphicon-share-alt"});this.connect(_1607,"onClick","openSelectForm");if(_15ec("mobile")){this.connect(this._editNode,"click","openSelectForm");}else{this.connect(this._editNode,"keypress","_onKeyPress");}this.connect(_1607.domNode,"keypress","_onKeyPress");this.domNode=$("div",{"class":"mx-referenceselector"},_1607.domNode,this._inputPane=$("div",{"class":"mx-referenceselector-input-wrapper"},this._editNode));if(this.gotoForm){_15ed.place(this._createGoToButton(),_1607.domNode,"before");}},enable:function(){_15ed.place(this._selectButton.domNode,this.domNode,"first");this._readNode.parentNode.replaceChild(this._editNode,this._readNode);},disable:function(){this.domNode.removeChild(this._selectButton.domNode);this._editNode.parentNode.replaceChild(this._readNode,this._editNode);},setValue:function(obj){this._editNode.value=obj?window.mx.parser.formatAttribute(obj,this._attr,this._opts):"";this.setTextValue(obj);},updateObject:function(obj,_1608){this.renderObject(_1608);},openSelectForm:function(){var ref=this._mxObject.get2(this._assoc),self=this;window.mx.ui.execute({form:this.selectForm},{context:new _15ea({mxcontext:this.mxcontext}),params:{selection:ref?[ref]:[],listViewSelectionMode:"single",dataSourceMixin:{constraint:this.constraint}},callback:function(form){form.listen("save",function(_1609){var _160a=lang.find(form.getChildren(true),function(_160b){return "getSelected" in _160b;}),_160c=_160a.getSelected()[0]||"";if(self._mxObject.getReference(self._assoc)!=_160c){self._mxObject.set(self._assoc,_160c);self.renderObject();self.onChange();}_1609();});}});},_onKeyPress:function(e){if(e.keyCode==_15ef.DELETE){if(this.get("disabled")||(e.ctrlKey&&e.shiftKey)){return;}_15ee.stop(e);if(!this.get("value")){return;}var self=this;window.mx.ui.confirmation({content:this.translate("clean_confirmation"),handler:function(){self._mxObject.set(self._assoc,"");}});}}};return _15f2;});},"mxui/widget/InputReferenceSetSelector":function(){define(["mxui/widget/Button","mxui/widget/_LabeledWidget","mxui/mixin/_ValidationHelper","mxui/dom","mendix/lang","dojo/dom-construct","dojo/_base/lang","dojo/_base/declare"],function(_160d,_160e,_160f,_1610,lang,_1611,_1612,_1613){var _1614=_1613([_160e,_160f],{declaredClass:"mxui.widget.InputReferenceSetSelector",attributePath:"",constraint:"",constrainedBy:null,selectForm:"",events:null,_mxObject:null,_readNode:null,_editNode:null,_selectButton:null,_assoc:"",_entity:"",_attr:"",_constraint:"",postCreate:function(){var path=this.attributePath.split("/");this.constrainedBy=this.constrainedBy||[];this._assoc=path[1];this._entity=path[2];this._attr=path[3];},buildRendering:function(){var $=_1610.create;this._readNode=this.insideFormGroup?$("p",{"class":"form-control-static"}):$("label");this._readNode.innerHTML="&nbsp;";this._editNode=$("input",{type:"text",readonly:"readonly","class":"form-control"});var _1615=this._selectButton=new _160d({"class":"mx-referencesetselector-select-button",iconClass:"glyphicon-share-alt"});this.connect(_1615,"onClick","openSelectForm");this.connect(this._editNode,"click","openSelectForm");this.domNode=$("div",{"class":"mx-referencesetselector"},_1615.domNode,$("div",{"class":"mx-referencesetselector-input-wrapper"},this._editNode));},startup:function(){this.inherited(arguments);this.setupValidation(this._assoc);},onChange:function(){var ev=this.events&&this.events.change;ev&&this.validatedMicroflow(ev);},enable:function(){_1611.place(this._selectButton.domNode,this.domNode,"first");this._readNode.parentNode.replaceChild(this._editNode,this._readNode);},disable:function(){this.domNode.removeChild(this._selectButton.domNode);this._editNode.parentNode.replaceChild(this._readNode,this._editNode);},checkDisabled:function(){return (this.inherited(arguments)||!this._mxObject||this._mxObject.isReadonlyAttr(this._assoc));},update:function(obj,_1616){this._mxObject=obj;this.unsubscribeAll();this.setValidationObject(obj);var _1617=function(_1618){this.updateDisabled();this.renderObject(_1618);};if(obj){this._constraint=this.constraint.replace("[%CurrentObject%]",obj.getGuid());this.subscribe({guid:obj.getGuid(),callback:_1612.partial(_1617,null)});this.subscribe({guid:obj.getGuid(),attr:this._assoc,callback:_1612.partial(_1617,null)});}_1617.call(this,_1616);},renderObject:function(_1619){var self=this,obj=this._mxObject,refs=obj&&obj.get2(this._assoc);var _161a=function(val){self.setValue(val||"");_1619&&_1619();};if(refs&&refs.length){window.mx.data.get({guids:refs,callback:function(objs){var _161b=[];for(var i=0,obj;obj=objs[i];i++){_161b.push(window.mx.parser.formatAttribute(obj,this._attr));}_161a(_161b.join(", "));},error:function(e){window.mx.onError(e);_1619&&_1619();}},this);}else{_161a();}},openSelectForm:function(){var self=this;window.mx.data.getBacktrack(this._mxObject.getGuid(),this.constrainedBy,function(_161c,_161d){window.mx.ui.execute({form:self.selectForm},{params:{selection:self._mxObject.getReferences(self._assoc),listViewSelectionMode:"multi",dataSourceMixin:{constraint:_161d?_161c+self._constraint:"[0=1]"}},callback:function(form){form.listen("save",function(_161e){var _161f=lang.find(form.getChildren(true),function(_1620){return "getSelected" in _1620;}),_1621=_161f.getSelected();self._mxObject.set(self._assoc,_1621);self.renderObject();self.onChange();_161e();});}});});},setValue:function(value){this._editNode.value=value;if(value){_1610.text(this._readNode,value);}else{this._readNode.innerHTML="&nbsp;";}}});return _1614;});},"mxui/widget/FileInput":function(){define(["mxui/widget/Button","mxui/widget/_LabeledWidget","mxui/mixin/_ValidationHelper","mxui/dom","mendix/lang","mendix/lib/ConnectionError","mendix/lib/Upload","mendix/logger","dijit/focus","dojo/sniff","dojo/dom-class","dojo/keys","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang"],function(_1622,_1623,_1624,_1625,_1626,_1627,_1628,_1629,_162a,_162b,_162c,_162d,_162e,_162f,_1630,_1631){var _1632="...";var _1633=_162f([_1623,_1624],{declaredClass:"mxui.widget.FileInput",input:null,maxFileSize:0,restrictions:"",accept:"",uploadable:false,downloadable:false,target:"internal",_allowedExts:null,_labelNode:null,_uploadButton:null,_formNode:null,_selectState:"none",buildRendering:function(){var $=_1625.create,_1634=!_162b("mobile");if(_1634){this._sendFile=this._sendFileReal;}this.domNode=$("div",{"class":"mx-fileinput"});if(this.uploadable){if(_1634){var _1635=this._uploadButton=new _1622({caption:window.mx.ui.translate("mxui.widget.MxFormView","upload"),cssClasses:["mx-fileinput-upload-button"]});this.domNode.appendChild($("#",this._labelNode=$("input",{"class":"form-control mx-wrapped-label",type:"text",readonly:"readonly",value:_1632})," ",this._formNode=$("form",{"class":"mx-wrapped-form",enctype:"multipart/form-data",method:"POST"},this.input=$("input",{"class":"mx-wrapped-input",type:"file",name:"mxdocument",accept:this.accept,tabindex:-1}),_1635.domNode)));this.connect(this._uploadButton.domNode,"focus",function(){_162c.add(this._labelNode,"mx-focus");});this.connect(this._uploadButton.domNode,"blur",function(){_162c.remove(this._labelNode,"mx-focus");});this.connect(this._labelNode,"click",function(){_162a.focus(this._uploadButton.domNode);});this.connect(this._formNode,"keyup",function(e){if(e.keyCode==_162d.DELETE||e.keycode==_162d.BACKSPACE){this._reset();_1630.stop(e);}});}else{this.domNode.appendChild(this._formNode=$("form",{"class":"mx-normal-form",enctype:"multipart/form-data",method:"POST"},this.input=$("input",{type:"file",name:"mxdocument",accept:this.accept})));}this.connect(this._formNode,"submit",function(){return false;});this.connect(this.input,"click",function(){this._selectState="selecting";});this.connect(this.input,"change","_handleFileSelected");}if(this.downloadable){var _1636=this._downloadButton=new _1622({caption:window.mx.ui.translate("mxui.widget.MxFormView","download"),onClick:_1631.hitch(this,"_handleDownloadClick"),cssClasses:["mx-fileinput-download-button"]});this.domNode.appendChild($("#"," ",_1636.domNode));}},postCreate:function(){this._allowedExts=this.restrictions.toLowerCase().split(";");this.listen("save",this._sendFile);},update:function(obj,_1637){this._mxObject=obj;this._reset();this.updateDisabled();this._updateDownloadDisabled();_1637&&_1637();},_updateDownloadDisabled:function(){if(this._downloadButton){this._downloadButton.set("disabled",!this._mxObject||!this._mxObject.get2("HasContents"));}},checkDisabled:function(){return this.inherited(arguments)||!this._mxObject;},_setDisabledState:function(_1638){if(this.uploadable){if(this._uploadButton){this._uploadButton.set("disabled",_1638);}if(_1638){this.input.setAttribute("disabled","disabled");}else{this.input.removeAttribute("disabled");}}},enable:function(){this._setDisabledState(false);},disable:function(){this._setDisabledState(true);},validate:function(){if(!this.input||!this.input.value){return null;}if(this.restrictions!==""){var _1639=this.input.value;var _163a=_1639.lastIndexOf(".");var _163b=_1639.substring(_163a+1).toLowerCase();if(_163a==-1||_162e.indexOf(this._allowedExts,_163b)==-1){return window.mx.ui.translate("mendix.widget.MxFileinput","incorrect_extension",this.restrictions.replace(/;/g,", "));}}if(this.maxFileSize&&this.input.files){var _163c=this.input.files[0].size/1048576;if(_163c>this.maxFileSize){return window.mx.ui.translate("mendix.widget.MxFileinput","file_too_large",[_163c.toFixed(2),this.maxFileSize.toString()]);}}return null;},uninitialize:function(){this._uploadButton&&this._uploadButton.destroy();this._downloadButton&&this._downloadButton.destroy();},_handleDownloadClick:function(e){this._downloadFile();_1630.stop(e);},_handleFileSelected:function(e){this._selectState="selected";this.isValid();if(this._labelNode){this._labelNode.value=this.input.value?this.input.value.replace(/^.*\//,""):_1632;}},_reset:function(){this.removeError();if(this._formNode){this.input.value="";this._formNode.reset();}if(this._labelNode){this._labelNode.value=_1632;}},_sendFile:function(_163d){var self=this,ready=function(){return self._selectState!=="selecting";};var pid=window.mx.ui.showProgress();_1626.waitUntilPredicateHolds(ready,function(){window.mx.ui.hideProgress(pid);self._sendFileReal(_163d);},[100,200,500,500,500,500]);},_sendFileReal:function(_163e){if(this._selectState==="none"||this.input.value===""||this.validate()!=null){_163e();return;}var self=this,pid;var _163f=new _1628({form:this._formNode,width:this.thumbnailWidth,height:this.thumbnailHeight,objectGuid:this._mxObject.getGuid(),maxFileSize:this.maxFileSize,callback:function(){self._selectState="none";self._getObject(_163e,function(e){_1629.error(this.id+"._sendFileReal: "+e.message);window.mx.onError(e);});},error:function(e){self._selectState="selected";if(e){_1629.error(self.id+"._sendFileReal: "+e.message);window.mx.onError(e);}else{_1629.error(self.id+"._sendFileReal: upload error");window.mx.onError(new _1627("Connection error"));}},startUpload:function(){pid=window.mx.ui.showProgress();},finishUpload:function(){window.mx.ui.hideProgress(pid);}});window.mx.data.flush(function(){_163f.upload();});},_getObject:function(_1640,error){window.mx.data.get({guid:this._mxObject.getGuid(),noCache:true,callback:_1640,error:error});},_downloadFile:function(){if(this._mxObject){window.mx.ui.downloadFile({mxobject:this._mxObject,target:this.target});}}});return _1633;});},"mxui/widget/ImageUploader":function(){define(["mxui/widget/FileInput","dojo/_base/declare"],function(_1641,_1642){var _1643=_1642([_1641],{declaredClass:"mxui.widget.ImageUploader",thumbnailWidth:100,thumbnailHeight:75,uploadable:true,accept:"image/*"});return _1643;});},"mxui/widget/SelectBox":function(){define(["mxui/widget/_WidgetBase","mxui/wm/focus","mxui/dom","dojo/dom-construct","dojo/dom-geometry","dojo/dom-class","dojo/dom-style","dojo/on","dojo/window","dojo/keys","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_1644,focus,dom,_1645,_1646,_1647,_1648,_1649,_164a,_164b,_164c,_164d,_164e){var $=dom.create;var _164f=_164e(_1644,{declaredClass:"mxui.widget.SelectBox",items:null,_dropDown:null,_isVisible:false,_docMouseDown:null,_focusBox:null,_textNode:null,buildRendering:function(){this._textNode=document.createTextNode("");this.domNode=$("button",{"type":"button","class":"form-control mx-selectbox"},$("div",{"class":"mx-selectbox-caret-wrapper"},$("span",{"class":"caret"})),this._textNode);this.connect(this.domNode,"keydown","_buttonKeyDown");this.connect(this.domNode,"mouseup","_toggleDropDown");this.connect(this.mxform,"onBeforeHide","_hideDropDown");this._createDropDown();},_buttonKeyDown:function(e){if(e.keyCode===_164b.DOWN_ARROW){this._showDropDown();e.preventDefault();}},_toggleDropDown:function(){if(this._isVisible){this._hideDropDown();}else{this._showDropDown();}},_showDropDown:function(){if(this._isVisible){return;}this._isVisible=true;var box=_1646.position(this.domNode),style={top:box.y+box.h+"px"};if(window.mx.ui.isRtl()){style.right=_164a.getBox().w-box.x-box.w+"px";}else{style.left=box.x+"px";}_1648.set(this._dropDown,style);document.body.appendChild(this._dropDown);this._docMouseDown=this.connect(document,"mousedown",function(e){if(e.target!=this.domNode){this._hideDropDown();}});focus.put(this._dropDown.firstChild);},_hideDropDown:function(){if(!this._isVisible){return;}this._isVisible=false;this._docMouseDown.remove();dom.orphan(this._dropDown);},_createDropDown:function(){var list=$("ul",{"class":"mx-dropdown dropdown-menu"}),self=this;this.own(_1649(list,_1649.selector("li","click"),function(e){self._selectItem(this);}));this.connect(list,"mousedown",function(e){e.stopPropagation();});this._dropDown=list;list.style.display="block";},_selectItem:function(node){var item=this.items[dom.data(node,"index")];item.checkbox.checked=item.selected=!item.selected;_1647.toggle(node,"selected");focus.put(node);this._updateCaption();},_setItemsAttr:function(items){this.items=items;_1645.empty(this._dropDown);if(this._focusBox){this._focusBox.destroy();}this._focusBox=focus.addBox(this._dropDown);this._focusBox.pressed({DOWN_ARROW:this._focusBox.FOCUS_NEXT,UP_ARROW:this._focusBox.FOCUS_PREV,ESCAPE:_164d.hitch(this,function(e){this._hideDropDown();focus.put(this.domNode);}),SPACE:_164d.hitch(this,function(e){if(e.target.nodeName!="INPUT"){this._selectItem(e.target);}}),ENTER:_164d.hitch(this,function(e){this._hideDropDown();focus.put(this.domNode);})});_164c.forEach(this.items,function(item,index){var _1650=item.checkbox=$("input",{type:"checkbox"}),_1651=$("li",{tabIndex:-1},_1650," ",$("label",item.caption));if(item.selected){_1650.checked=true;_1647.add(_1651,"selected");}dom.data(_1651,"index",index);this._focusBox.add(_1651);this._dropDown.appendChild(_1651);},this);this._updateCaption();},_getValueAttr:function(){var _1652=[];_164c.forEach(this.items,function(item){if(item.checkbox.checked){_1652.push(item.value);}});return _1652;},_setValueAttr:function(_1653){if(typeof _1653=="string"){_1653=[_1653];}_164c.forEach(this.items,function(item){item.checkbox.checked=_164c.indexOf(_1653,item.value)>=0;});this._updateCaption();},_updateCaption:function(){var _1654=[],_1655;_164c.forEach(this.items,function(item){if(item.checkbox.checked){_1654.push(item.caption);}});if(_1654.length===0){_1655="";}else{if(_1654.length===1){_1655=_1654[0];}else{_1655=this.translate("itemsSelected",[_1654.length]);}}this._textNode.nodeValue=_1655;},uninitialize:function(){this._hideDropDown();_164c.forEach(this._dropDown.children,function(child){dom.data(child,null);});if(this._focusBox){this._focusBox.destroy();}}});return _164f;});},"mxui/widget/DynamicText":function(){define(["mxui/dom","mxui/lib/TextTemplate","mxui/widget/_WidgetBase","dojo/_base/declare"],function(dom,_1656,_1657,_1658){var _1659=_1658(_1657,{declaredClass:"mxui.widget.DynamicText",content:null,_contentText:null,postCreate:function(){var self=this;this._contentText=new _1656(this.content,function(text){dom.html(self.domNode,text||"&nbsp;");});},update:function(obj,_165a){this._contentText.update(obj,_165a);},uninitialize:function(){this._contentText.destroy();}});return _1659;});},"mxui/widget/ReactWidgetWrapper":function(){define(["mxui/widget/_WidgetBase","dojo/_base/lang","dojo/_base/declare"],function(_165b,_165c,_165d){var _165e=_165d(_165b,{type:null,props:null,autoLoad:false,_reactClient:null,constructor:function(){var self=this,_165f="react-client/shims",_1660="react-client/index";require([_165f],function(){require([_1660],function(_1661){self._reactClient=_1661;self.set("loaded",true);});});},update:function(_1662,done){this._reactClient.mountComponent(this.domNode,this.type,_165c.mixin({},this.props,{id:this.uniqueid+"_"+this.props.mxid}));if(done){done();}},uninitialize:function(){this._reactClient.unmountComponent(this.domNode);}});return _165e;});},"mxui/polyfill/placeholder/placeholder":function(){define(["mxui/dom","dojo/dom-style","dojo/dom-geometry","dojo/on","dojo/sniff","dojo/_base/array","dojo/_base/lang","require"],function(dom,_1663,_1664,_1665,_1666,_1667,_1668,_1669){"use strict";var $=dom.create;if(_1666("ie")!=8&&_1666("ie")!=9){return;}if(_1666("ie")==9){_1666.add("dom-parser",false,undefined,true);}_166a("input[placeholder], textarea[placeholder]","behavior: url('"+_1669.toUrl("./placeholder.htc")+"')");_1668.setObject("mxui.polyfill.placeholder",{initialize:function(input){if(input._placeholder){return;}_166b(input);},destroy:function(input){if(!input._placeholder){return;}_166c(input);}});function _166b(input){input._placeholder=_166d(input);input.parentNode.appendChild(input._placeholder);if(input.parentNode&&_1663.get(input.parentNode,"position")=="static"){input.parentNode.style.position="relative";}_166e(input);input.onpropertychange=function(e){e=e||window.event;if(e.propertyName=="value"){_166f(input);}else{if(e.propertyName=="placeholder"||e.propertyName=="className"||e.propertyName=="rows"||e.propertyName.indexOf("style")==0){_166e(input);}}};input._placeholder._events.push(_1665(input,"keyup",_1668.partial(_166f,input)));};function _166c(input){input.onpropertychange=null;_1667.forEach(input._placeholder._events,function(_1670){_1670.remove();});dom.orphan(input._placeholder);delete input._placeholder;};function _166d(input){var _1671=$(input.tagName,{tabindex:-1});_1671._events=[];_1671._events.push(_1665(_1671,"focus",_1668.hitch(input,"focus")),_1665(input,"resize",_1668.partial(_1672,input)));return _1671;};function _1672(input){var _1673=_1663.getComputedStyle(input),_1674=_1664.getMarginBox(input,_1673),_1675=_1664.getPadBorderExtents(input,_1673),_1676=_1664.getContentBox(input,_1673);input._placeholder.style.left=_1674.l+"px";input._placeholder.style.top=_1674.t+"px";input._placeholder.style.width=(_1675.w+_1676.w)+"px";input._placeholder.style.height=(_1675.h+_1676.h)+"px";};function _166f(input){input._placeholder.style.display=input.value.length?"none":"";};function _1677(_1678){_1678.style.position="absolute";_1678.style.overflow="hidden";_1678.style.background="transparent";_1678.style.borderColor="transparent";_1678.style.boxShadow="none";_1678.style.color="#888";};function _166e(input){var rows=input.getAttribute("rows");if(rows){input._placeholder.rows=rows;}input._placeholder.value=input.getAttribute("placeholder")||"";input._placeholder.className=input.className;input._placeholder.style.cssText=input.style.cssText;_1677(input._placeholder);_1672(input);if(_1663.get(input,"display")!="none"){_166f(input);}};function _166a(_1679,style){document.getElementsByTagName("head")[0].appendChild($("style"));var _167a=document.styleSheets[document.styleSheets.length-1];if(_167a.insertRule){_167a.insertRule(_1679+"{"+style+"}",0);}else{_167a.addRule(_1679,style,0);}};});},"mxui/widget/PrimitiveWidgetWrapper":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_ValidationHelper","mxui/dom","mendix/logger","dojo/dom-class","dojo/_base/declare"],function(_167b,_167c,dom,_167d,_167e,_167f){var $=dom.create;var _1680=_167f([_167b,_167c],{declaredClass:"mxui.widget.PrimitiveWidgetWrapper",widget:null,_mxobject:null,buildRendering:function(){this.domNode=$("div");this.widget.domNode.parentNode.replaceChild(this.domNode,this.widget.domNode);this.domNode.appendChild(this.widget.domNode);this.connect(this.widget,"onChange",this.onChange);},startup:function(){this.widget.startup();},update:function(obj,_1681){var self=this;this.unsubscribeAll();this._mxobject=obj;if(this.widget.name){if(obj){this.subscribe({guid:obj.getGuid(),callback:function(){this.update(obj);}});window.mx.data.fetch(obj,this.widget.name,{usexpath:true},_1682,function(e){window.mx.onError(e);if(_1681){_1681();}});}else{_1682("");}}else{_167d.error(this.id+".update: wrapped widget does not have name property");_1683();}function _1682(value){self.widget.set("value",value);_1683();};function _1683(){self.widget.applyContext(self.mxcontext,_1681||function(){});};},enable:function(){var node=this.widget.domNode,_1684=node.nodeName;if(_1684=="SELECT"||(_1684=="INPUT"&&node.type=="checkbox")){node.disabled=false;}else{if(_1684=="INPUT"||_1684=="TEXTAREA"||_1684=="BUTTON"){node.removeAttribute("readonly");node.readOnly=false;}}_167e.remove(node,"MxClient_formDisabled");},disable:function(){var node=this.widget.domNode,_1685=node.nodeName;if(_1685=="SELECT"||(_1685=="INPUT"&&node.type=="checkbox")){node.disabled=true;}else{if(_1685=="INPUT"||_1685=="TEXTAREA"||_1685=="BUTTON"){node.setAttribute("readonly","true");node.readOnly=true;}}_167e.add(node,"MxClient_formDisabled");},onChange:function(){this._mxobject.set(this.widget.get("name"),this.widget.get("value"));},validate:function(){var value=this.get("value"),_1686=this.widget;if(value===null){return _1686.getInvalidCause?_1686.getInvalidCause():"Invalid input";}if(value===""&&_1686.obligatory){return _1686.obligatorycause||window.mx.ui.translate("mendix.lib.Validations","required_field");}},_setValueAttr:function(value){return this.widget.set("value",value);},_getValueAttr:function(){return this.widget.get("value");}});return _1680;});},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_1687,lang,_1688,_1689,_168a,_168b,html,_168c,array,_168d,_168e,dom,_168f,_1690,xhr,i18n,when){return _168d("dijit.layout.ContentPane",[_1688,_1689,_168a],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_1687._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_1691,node,ctor){var self=new ctor(_1691,node);return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){return self;}):self;},create:function(_1692,_1693){if((!_1692||!_1692.template)&&_1693&&!("href" in _1692)&&!("content" in _1692)){_1693=dom.byId(_1693);var df=_1693.ownerDocument.createDocumentFragment();while(_1693.firstChild){df.appendChild(_1693.firstChild);}_1692=lang.delegate(_1692,{content:df});}this.inherited(arguments,[_1692,_1693]);},postMixInProperties:function(){this.inherited(arguments);var _1694=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_168b.substitute(this.loadingMessage,_1694);this.errorMessage=_168b.substitute(this.errorMessage,_1694);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){array.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){array.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){array.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_1687.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _168e(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_1687.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _168e(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_1695){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _168e(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _1696={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_1696,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_1696)),_1697;hand.then(function(html){_1697=html;try{self._isDownloaded=true;return self._setContent(html,false);}catch(err){self._onError("Content",err);}},function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;}).then(function(){self.onDownloadEnd();delete self._xhrDfd;return _1697;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_1698){if(this.isLoaded){this._onUnloadHandler();}var _1699=this._contentSetter;array.forEach(this.getChildren(),function(_169a){if(_169a.destroyRecursive){_169a.destroyRecursive(_1698);}else{if(_169a.destroy){_169a.destroy(_1698);}}_169a._destroyed=true;});if(_1699){array.forEach(_1699.parseResults,function(_169b){if(!_169b._destroyed){if(_169b.destroyRecursive){_169b.destroyRecursive(_1698);}else{if(_169b.destroy){_169b.destroy(_1698);}}_169b._destroyed=true;}});delete _1699.parseResults;}if(!_1698){_1690.empty(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_169c){this.destroyDescendants();var _169d=this._contentSetter;if(!(_169d&&_169d instanceof html._ContentSetter)){_169d=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _169e=this.onContentError(e);try{this.containerNode.innerHTML=_169e;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _169f=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_169d.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_169f);var self=this;return when(p&&p.then?p:_169d.parseDeferred,function(){delete self._contentSetterParams;if(!_169c){if(self._started){self._startChildren();self._scheduleLayout();}self._onLoadHandler(cont);}});},_onError:function(type,err,_16a0){this.onLoadDeferred.reject(err);var _16a1=this["on"+type+"Error"].call(this,err);if(_16a0){console.error(_16a0,err);}else{if(_16a1){this._setContent(_16a1,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dijit/layout/_ContentPaneResizeMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","../registry","../Viewport","./utils"],function(array,_16a2,_16a3,_16a4,_16a5,lang,query,_16a6,_16a7,_16a8){return _16a2("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _16a9=this.getParent();this._childOfLayoutWidget=_16a9&&_16a9.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_16a7.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){if(!this.doLayout){return;}var _16aa=[],_16ab=false;query("> *",this.containerNode).some(function(node){var _16ac=_16a6.byNode(node);if(_16ac&&_16ac.resize){_16aa.push(_16ac);}else{if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){_16ab=true;}}});this._singleChild=_16aa.length==1&&!_16ab?_16aa[0]:null;_16a3.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_16ad,_16ae){this._resizeCalled=true;this._scheduleLayout(_16ad,_16ae);},_scheduleLayout:function(_16af,_16b0){if(this._isShown()){this._layout(_16af,_16b0);}else{this._needLayout=true;this._changeSize=_16af;this._resultSize=_16b0;}},_layout:function(_16b1,_16b2){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_16b1){_16a4.setMarginBox(this.domNode,_16b1);}var cn=this.containerNode;if(cn===this.domNode){var mb=_16b2||{};lang.mixin(mb,_16b1||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_16a4.getMarginBox(cn),mb);}this._contentBox=_16a8.marginBox2contentBox(cn,mb);}else{this._contentBox=_16a4.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_16a4.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{var _16b3=this.getChildren(),_16b4,i=0;while(_16b4=_16b3[i++]){if(_16b4.resize){_16b4.resize();}}}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_16b5=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_16a3.contains(node,"dijitHidden")&&_16b5&&_16b5.style&&(_16b5.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_16b6,lang,_16b7,_16b8,dom,_16b9,_16ba){var _16bb=0;var html={_secureForInnerHtml:function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");},_emptyNode:_16b9.empty,_setNodeContent:function(node,cont){_16b9.empty(node);if(cont){if(typeof cont=="string"){cont=_16b9.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _16bc=cont.length,i=0;i<cont.length;i=_16bc==cont.length?i+1:0){_16b9.place(cont[i],node,"last");}}else{_16b9.place(cont,node,"last");}}return node;},_ContentSetter:_16b8("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_16b6._scopeName,startup:true,constructor:function(_16bd,node){lang.mixin(this,_16bd||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_16bb++].join("_");}},set:function(cont,_16be){if(undefined!==cont){this.content=cont;}if(_16be){this._mixin(_16be);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _16bf=this.onContentError(e);try{node.innerHTML=_16bf;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_16b7.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_16b9.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var match=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(match){cont=match[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_16c0){var empty={},key;for(key in _16c0){if(key in empty){continue;}this[key]=_16c0[key];}},_parse:function(){var _16c1=this.node;try{var _16c2={};_16b7.forEach(["dir","lang","textDir"],function(name){if(this[name]){_16c2[name]=this[name];}},this);var self=this;this.parseDeferred=_16ba.parse({rootNode:_16c1,noStart:!this.startup,inherited:_16c2,scope:this.parserScope}).then(function(_16c3){return self.parseResults=_16c3;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_16c4){var _16c5=this["on"+type+"Error"].call(this,err);if(_16c4){console.error(_16c4,err);}else{if(_16c5){html._setNodeContent(this.node,_16c5,true);}}}}),set:function(node,cont,_16c6){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_16c6){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_16c6,{content:cont,node:node}));return op.set();}}};lang.setObject("dojo.html",html);return html;});},"dojo/parser":function(){define(["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_16c7,dojo,dlang,_16c8,_16c9,dom,_16ca,_16cb,_16cc,all,dates,_16cd,has,query,don,ready){new Date("X");function _16ce(text){return eval("("+text+")");};var _16cf=0;_16cc.after(dlang,"extend",function(){_16cf++;},true);function _16d0(ctor){var map=ctor._nameCaseMap,proto=ctor.prototype;if(!map||map._extendCnt<_16cf){map=ctor._nameCaseMap={};for(var name in proto){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_16cf;}return map;};var _16d1={};function _16d2(types,_16d3){var ts=types.join();if(!_16d1[ts]){var _16d4=[];for(var i=0,l=types.length;i<l;i++){var t=types[i];_16d4[_16d4.length]=(_16d1[t]=_16d1[t]||(dlang.getObject(t)||(~t.indexOf("/")&&(_16d3?_16d3(t):_16c7(t)))));}var ctor=_16d4.shift();_16d1[ts]=_16d4.length?(ctor.createSubclass?ctor.createSubclass(_16d4):ctor.extend.apply(ctor,_16d4)):ctor;}return _16d1[ts];};var _16d5={_clearCache:function(){_16cf++;_16d1={};},_functionFromScript:function(_16d6,_16d7){var _16d8="",_16d9="",_16da=(_16d6.getAttribute(_16d7+"args")||_16d6.getAttribute("args")),_16db=_16d6.getAttribute("with");var _16dc=(_16da||"").split(/\s*,\s*/);if(_16db&&_16db.length){_16c8.forEach(_16db.split(/\s*,\s*/),function(part){_16d8+="with("+part+"){";_16d9+="}";});}return new Function(_16dc,_16d8+_16d6.innerHTML+_16d9);},instantiate:function(nodes,mixin,_16dd){mixin=mixin||{};_16dd=_16dd||{};var _16de=(_16dd.scope||dojo._scopeName)+"Type",_16df="data-"+(_16dd.scope||dojo._scopeName)+"-",_16e0=_16df+"type",_16e1=_16df+"mixins";var list=[];_16c8.forEach(nodes,function(node){var type=_16de in mixin?mixin[_16de]:node.getAttribute(_16e0)||node.getAttribute(_16de);if(type){var _16e2=node.getAttribute(_16e1),types=_16e2?[type].concat(_16e2.split(/\s*,\s*/)):[type];list.push({node:node,types:types});}});return this._instantiate(list,mixin,_16dd);},_instantiate:function(nodes,mixin,_16e3,_16e4){var _16e5=_16c8.map(nodes,function(obj){var ctor=obj.ctor||_16d2(obj.types,_16e3.contextRequire);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,mixin,_16e3,obj.scripts,obj.inherited);},this);function _16e6(_16e7){if(!mixin._started&&!_16e3.noStart){_16c8.forEach(_16e7,function(_16e8){if(typeof _16e8.startup==="function"&&!_16e8._started){_16e8.startup();}});}return _16e7;};if(_16e4){return all(_16e5).then(_16e6);}else{return _16e6(_16e5);}},construct:function(ctor,node,mixin,_16e9,_16ea,_16eb){var proto=ctor&&ctor.prototype;_16e9=_16e9||{};var _16ec={};if(_16e9.defaults){dlang.mixin(_16ec,_16e9.defaults);}if(_16eb){dlang.mixin(_16ec,_16eb);}var _16ed;if(has("dom-attributes-explicit")){_16ed=node.attributes;}else{if(has("dom-attributes-specified-flag")){_16ed=_16c8.filter(node.attributes,function(a){return a.specified;});}else{var clone=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),attrs=clone.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_16ed=_16c8.map(attrs.split(/\s+/),function(name){var _16ee=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_16ee=="enctype"?node.getAttribute(_16ee):node.getAttributeNode(_16ee).value};});}}var scope=_16e9.scope||dojo._scopeName,_16ef="data-"+scope+"-",hash={};if(scope!=="dojo"){hash[_16ef+"props"]="data-dojo-props";hash[_16ef+"type"]="data-dojo-type";hash[_16ef+"mixins"]="data-dojo-mixins";hash[scope+"type"]="dojoType";hash[_16ef+"id"]="data-dojo-id";}var i=0,item,_16f0=[],_16f1,extra;while(item=_16ed[i++]){var name=item.name,_16f2=name.toLowerCase(),value=item.value;switch(hash[_16f2]||_16f2){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":extra=value;break;case "data-dojo-id":case "jsid":_16f1=value;break;case "data-dojo-attach-point":case "dojoattachpoint":_16ec.dojoAttachPoint=value;break;case "data-dojo-attach-event":case "dojoattachevent":_16ec.dojoAttachEvent=value;break;case "class":_16ec["class"]=node.className;break;case "style":_16ec["style"]=node.style&&node.style.cssText;break;default:if(!(name in proto)){var map=_16d0(ctor);name=map[_16f2]||name;}if(name in proto){switch(typeof proto[name]){case "string":_16ec[name]=value;break;case "number":_16ec[name]=value.length?Number(value):NaN;break;case "boolean":_16ec[name]=value.toLowerCase()!="false";break;case "function":if(value===""||value.search(/[^\w\.]+/i)!=-1){_16ec[name]=new Function(value);}else{_16ec[name]=dlang.getObject(value,false)||new Function(value);}_16f0.push(name);break;default:var pVal=proto[name];_16ec[name]=(pVal&&"length" in pVal)?(value?value.split(/\s*,\s*/):[]):(pVal instanceof Date)?(value==""?new Date(""):value=="now"?new Date():dates.fromISOString(value)):(pVal instanceof _16cb)?(dojo.baseUrl+value):_16ce(value);}}else{_16ec[name]=value;}}}for(var j=0;j<_16f0.length;j++){var _16f3=_16f0[j].toLowerCase();node.removeAttribute(_16f3);node[_16f3]=null;}if(extra){try{extra=_16ce.call(_16e9.propsThis,"{"+extra+"}");dlang.mixin(_16ec,extra);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+extra+"'");}}dlang.mixin(_16ec,mixin);if(!_16ea){_16ea=(ctor&&(ctor._noScript||proto._noScript)?[]:query("> script[type^='dojo/']",node));}var _16f4=[],calls=[],_16f5=[],ons=[];if(_16ea){for(i=0;i<_16ea.length;i++){var _16f6=_16ea[i];node.removeChild(_16f6);var event=(_16f6.getAttribute(_16ef+"event")||_16f6.getAttribute("event")),prop=_16f6.getAttribute(_16ef+"prop"),_16f7=_16f6.getAttribute(_16ef+"method"),_16f8=_16f6.getAttribute(_16ef+"advice"),_16f9=_16f6.getAttribute("type"),nf=this._functionFromScript(_16f6,_16ef);if(event){if(_16f9=="dojo/connect"){_16f4.push({method:event,func:nf});}else{if(_16f9=="dojo/on"){ons.push({event:event,func:nf});}else{_16ec[event]=nf;}}}else{if(_16f9=="dojo/aspect"){_16f4.push({method:_16f7,advice:_16f8,func:nf});}else{if(_16f9=="dojo/watch"){_16f5.push({prop:prop,func:nf});}else{calls.push(nf);}}}}}var _16fa=ctor.markupFactory||proto.markupFactory;var _16fb=_16fa?_16fa(_16ec,node,ctor):new ctor(_16ec,node);function _16fc(_16fd){if(_16f1){dlang.setObject(_16f1,_16fd);}for(i=0;i<_16f4.length;i++){_16cc[_16f4[i].advice||"after"](_16fd,_16f4[i].method,dlang.hitch(_16fd,_16f4[i].func),true);}for(i=0;i<calls.length;i++){calls[i].call(_16fd);}for(i=0;i<_16f5.length;i++){_16fd.watch(_16f5[i].prop,_16f5[i].func);}for(i=0;i<ons.length;i++){don(_16fd,ons[i].event,ons[i].func);}return _16fd;};if(_16fb.then){return _16fb.then(_16fc);}else{return _16fc(_16fb);}},scan:function(root,_16fe){var list=[],mids=[],_16ff={};var _1700=(_16fe.scope||dojo._scopeName)+"Type",_1701="data-"+(_16fe.scope||dojo._scopeName)+"-",_1702=_1701+"type",_1703=_1701+"textdir",_1704=_1701+"mixins";var node=root.firstChild;var _1705=_16fe.inherited;if(!_1705){function _1706(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_1706(node.parentNode,attr));};_1705={dir:_1706(root,"dir"),lang:_1706(root,"lang"),textDir:_1706(root,_1703)};for(var key in _1705){if(!_1705[key]){delete _1705[key];}}}var _1707={inherited:_1705};var _1708;var _1709;function _170a(_170b){if(!_170b.inherited){_170b.inherited={};var node=_170b.node,_170c=_170a(_170b.parent);var _170d={dir:node.getAttribute("dir")||_170c.dir,lang:node.getAttribute("lang")||_170c.lang,textDir:node.getAttribute(_1703)||_170c.textDir};for(var key in _170d){if(_170d[key]){_170b.inherited[key]=_170d[key];}}}return _170b.inherited;};while(true){if(!node){if(!_1707||!_1707.node){break;}node=_1707.node.nextSibling;_1709=false;_1707=_1707.parent;_1708=_1707.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_1708&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_1708.push(node);}node=node.nextSibling;continue;}if(_1709){node=node.nextSibling;continue;}var type=node.getAttribute(_1702)||node.getAttribute(_1700);var _170e=node.firstChild;if(!type&&(!_170e||(_170e.nodeType==3&&!_170e.nextSibling))){node=node.nextSibling;continue;}var _170f;var ctor=null;if(type){var _1710=node.getAttribute(_1704),types=_1710?[type].concat(_1710.split(/\s*,\s*/)):[type];try{ctor=_16d2(types,_16fe.contextRequire);}catch(e){}if(!ctor){_16c8.forEach(types,function(t){if(~t.indexOf("/")&&!_16ff[t]){_16ff[t]=true;mids[mids.length]=t;}});}var _1711=ctor&&!ctor.prototype._noScript?[]:null;_170f={types:types,ctor:ctor,parent:_1707,node:node,scripts:_1711};_170f.inherited=_170a(_170f);list.push(_170f);}else{_170f={node:node,scripts:_1708,parent:_1707};}_1708=_1711;_1709=node.stopParser||(ctor&&ctor.prototype.stopParser&&!(_16fe.template));_1707=_170f;node=_170e;}var d=new _16cd();if(mids.length){if(has("dojo-debug-messages")){console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));}var r=_16fe.contextRequire||_16c7;r(mids,function(){d.resolve(_16c8.filter(list,function(_1712){if(!_1712.ctor){try{_1712.ctor=_16d2(_1712.types,_16fe.contextRequire);}catch(e){}}var _1713=_1712.parent;while(_1713&&!_1713.types){_1713=_1713.parent;}var proto=_1712.ctor&&_1712.ctor.prototype;_1712.instantiateChildren=!(proto&&proto.stopParser&&!(_16fe.template));_1712.instantiate=!_1713||(_1713.instantiate&&_1713.instantiateChildren);return _1712.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_1714,_1715){var hash=_16ce("{"+_1714.innerHTML+"}"),vars=[],mids=[],d=new _16cd();var _1716=(_1715&&_1715.contextRequire)||_16c7;for(var name in hash){vars.push(name);mids.push(hash[name]);}_1716(mids,function(){for(var i=0;i<vars.length;i++){dlang.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root,_1717){var _1718=new _16cd(),_1719=_1718.promise;_1718.resolve(true);var self=this;query("script[type='dojo/require']",root).forEach(function(node){_1719=_1719.then(function(){return self._require(node,_1717);});node.parentNode.removeChild(node);});return _1719;},parse:function(_171a,_171b){var root;if(!_171b&&_171a&&_171a.rootNode){_171b=_171a;root=_171b.rootNode;}else{if(_171a&&dlang.isObject(_171a)&&!("nodeType" in _171a)){_171b=_171a;}else{root=_171a;}}root=root?dom.byId(root):_16ca.body();_171b=_171b||{};var mixin=_171b.template?{template:true}:{},_171c=[],self=this;var p=this._scanAmd(root,_171b).then(function(){return self.scan(root,_171b);}).then(function(_171d){return self._instantiate(_171d,mixin,_171b,true);}).then(function(_171e){return _171c=_171c.concat(_171e);}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});dlang.mixin(_171c,p);return _171c;}};if(1){dojo.parser=_16d5;}if(_16c9.parseOnLoad){ready(100,_16d5,"parse");}return _16d5;});},"dojo/_base/url":function(){define(["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_171f=function(){var n=null,_1720=arguments,uri=[_1720[0]];for(var i=1;i<_1720.length;i++){if(!_1720[i]){continue;}var _1721=new _171f(_1720[i]+""),_1722=new _171f(uri[0]+"");if(_1721.path==""&&!_1721.scheme&&!_1721.authority&&!_1721.query){if(_1721.fragment!=n){_1722.fragment=_1721.fragment;}_1721=_1722;}else{if(!_1721.scheme){_1721.scheme=_1722.scheme;if(!_1721.authority){_1721.authority=_1722.authority;if(_1721.path.charAt(0)!="/"){var path=_1722.path.substring(0,_1722.path.lastIndexOf("/")+1)+_1721.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_1721.path=segs.join("/");}}}}uri=[];if(_1721.scheme){uri.push(_1721.scheme,":");}if(_1721.authority){uri.push("//",_1721.authority);}uri.push(_1721.path);if(_1721.query){uri.push("?",_1721.query);}if(_1721.fragment){uri.push("#",_1721.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_171f.prototype.toString=function(){return this.uri;};return dojo._Url=_171f;});},"dijit/nls/loading":function(){define({root:({loadingState:"Loading...",errorState:"Sorry, an error occurred"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"id":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});},"dijit/nls/nl/loading":function(){define(({loadingState:"Bezig met laden...",errorState:"Er is een fout opgetreden"}));},"mxui/startup":function(){define(["mxui/Client","dojo/hash","dojo/aspect","dojo/cookie","dojo/_base/config"],function(_1723,_1724,_1725,_1726,_1727){var _1728=/(?:\?|&)(profile=[^&]+)/.exec(window.location.search),_1729=_1728?"?"+_1728[1]:"",hash=_1724();window.mx=new _1723(_1727);_1725.before(window.mx,"reload",function(){window.location.replace(window.location.pathname+_1729);});_1725.before(window.mx,"redirect",function(_172a){window.location.href=_172a+_1729;});if(!("cacheBust" in _1727)){window.alert("The 'cacheBust' parameter is missing. Update the index page in the theme by adding the cachebust to the 'dojoConfig' and to every url pointing to a static resource (e.g. scripts and stylesheets). See index-example.html in the deployment/web directory for an example of what the index page should look like.");return;}if(!_172b()){window.alert("This application requires cookies to be enabled.");return;}if(!_1727.preventStartup){window.mx.startup();}window.mx.addOnLoad(function(){var perma=window.mx.ui.decodeUrlHash(hash);perma?perma():window.mx.remote.execute(window.mx.session.getConfig());});function _172b(){if(!/^https?:/.test(window.location.protocol)){return navigator.cookieEnabled;}else{if(navigator.cookieEnabled===false){return false;}else{_1726("mx-cookie-test","allowed");var _172c=_1726("mx-cookie-test")==="allowed";_1726("mx-cookie-test","",{expires:-1});return _172c;}}};});},"mxui/Client":function(){define(["mxui/sys/Parser","mxui/sys/UI","mendix/sys/Data","mendix/sys/Meta","mendix/sys/Remote","mendix/sys/Server","mendix/sys/Session","mendix/lang","mendix/logger","webcore/offline","dojo/cookie","dojo/aspect","dojo/_base/array","dojo/_base/lang"],function(_172d,UI,Data,Meta,_172e,_172f,_1730,lang,_1731,_1732,_1733,_1734,_1735,_1736){function _1737(_1738){_1738=_1738||{};var self=this,name="mendix.Client",_1739=false,_173a=[];this.appUrl=_1738.appbase||_173b();this.baseUrl=_1738.xasbase||(this.appUrl+"xas/");this.modulePath=_1738.modulePath||"../../widgets/";this.server=new _172f(_1736.mixin({timeout:_1738.timeout},_1738.server));this.session=new _1730();this.remote=new _172e();this.meta=new Meta();this.data=new Data(_1738.data);this.ui=new UI();this.parser=new _172d();_173c();function _173b(){var href=window.location.href,hash=href.indexOf("#");if(hash!=-1){href=href.slice(0,hash);}return href.slice(0,href.lastIndexOf("/")+1);};function _173d(){self.meta.startup();self.data.startup();self.session.startup();};function _173e(_173f){self.ui.startup(function(){self.parser.startup(_173f);});};this.toString=function(){return name;};this.isLoaded=function(){return _1739;};this.addOnLoad=function(fnc){_1739?fnc():_173a.push(fnc);};this.reload=function(){};this.redirect=function(_1740){};this.startup=function(){if(_1739){throw new Error("Client has already been started up!");}this.session.authorized({no:function(args){var _1741=args&&lang.inArray(args.http_code,["402","404","500","503"])?args.http_code:0;var _1742=_174c("reloginReason");self.ui.showLogin(_1742||_1741);},yes:function(_1743){_173d();var _1744=[];var _1745=mx.session.getConfig("sync_config.fetch");if(_1743&&_1745){_1744.push(function(_1746){_1732.updateLocalDatabase(_1745).then(_1746,function(e){_1746();});});}_1744=_1744.concat([_173e,_1747]);lang.sequence(_1744);function _1747(){_1739=true;while(_173a.length!=0){_173a.pop()();}};}});};this.login=function(_1748,_1749,_174a,_174b){this.session.login({username:_1748,password:_1749,success:function(){if(_1739){self.reload();}else{_174a&&_174a();self.startup();}},error:_174b});};this.logout=function(){this.session.logout(_1736.hitch(this,"reload"));};function _173c(){_1734.before(self.server,"onUnauthorized",function(code){if(code=="401"){code="419";}_1733("reloginReason",code,{expires:10/(24*60*60)});self.reload();});};this.onError=function(err){};function _174c(_174d){var _174e=_1733(_174d);_1733(_174d,null,{expires:-1});return _174e;};};return _1737;});},"mxui/sys/Parser":function(){define(["mendix/logger","big/big","dojo/i18n","dojo/date/locale","dojo/_base/lang"],function(_174f,Big,_1750,_1751,_1752){var name="mxui.sys.Parser";var _1753=function(_1754,_1755){_1754.setFullYear(_1755.getFullYear(),_1755.getMonth(),_1755.getDate());};var _1756=function(_1757,_1758){_1757.setHours(_1758.getHours(),_1758.getMinutes(),_1758.getSeconds(),_1758.getMilliseconds());};var _1759=function(_175a,_175b,_175c){return _175c.dateLocale.format(new _175c.Date(_175a),_175b);};var _175d=function(_175e,_175f,_1760){var date=_1760.dateLocale.parse(_175e,_175f);if(date&&date.toGregorian){date=date.toGregorian();}if(!date){if(_175e.indexOf("")==-1){if(!_175f.datePattern){_175f.datePattern=_1760.datePattern;}_175f.datePattern=_175f.datePattern.replace(/\u200f/g,"");date=_1751.parse(_175e,_175f);}}return date;};function _1761(_1762,times){return new Array(times+1).join(_1762);};function _1763(str,_1764,_1765){return str.length<_1765?str+_1761(_1764,_1765-str.length):str;};function _1766(_1767,_1768,_1769){var _176a={name:_1767,decimalSeparator:_1768.decimal,groupSeparator:_1768.group,groupSize:3,datePattern:_1769["dateFormat-short"]};var _176b="\\d+"+"|"+"\\d"+_1761("\\d?",_176a.groupSize-1)+"(?:\\"+_176a.groupSeparator+_1761("\\d",_176a.groupSize)+")*",_176c="\\"+_176a.decimalSeparator+"\\d+",_176d="^"+"(-)?"+"("+_176b+")"+"("+_176c+")?"+"$";_176a.numberPattern=new RegExp(_176d);var _176e=_1752.getObject(window.mx.ui.getDatePackage());_176a.dateLocale=_176e.locale||_1751;_176a.Date=_176e.Date||Date;return _176a;};function _176f(value,_1770,_1771,_1772){var _1773=_1771>=0?value.round(_1771):value,_1774=_1773.lt(0),_1775=_1773.toFixed().split("."),_1776=_1774?_1775[0].slice(1):_1775[0],_1777=_1775[1],_1778=_1776,_1779=_1777;if(_1771>=0){_1779=_1763(_1777||"","0",_1771);}if(_1770){var i=_1776.length%_1772.groupSize||_1772.groupSize;_1778=_1776.substr(0,i);for(;i<_1776.length;i+=_1772.groupSize){_1778+=_1772.groupSeparator+_1776.substr(i,_1772.groupSize);}}return (_1774?"-":"")+_1778+(_1779?_1772.decimalSeparator+_1779:"");};function _177a(_177b,_177c,_177d){var match=_177d.numberPattern.exec(_177b);if(!match){return null;}var _177e=new Big(_177b.split(_177d.groupSeparator).join("").split(_177d.decimalSeparator).join("."));return _177c>=0?_177e.round(_177c):_177e;};function _177f(){var self=this,_1780;this.toString=function(){return name;};this.startup=function(_1781){require([_1750.getL10nName("dojo.cldr","number",window.dojo.locale),_1750.getL10nName("dojo.cldr","gregorian",window.dojo.locale)],function(_1782,_1783){_1780=_1766(window.dojo.locale,_1782,_1783);if(_1781){_1781();}});};this.parseDate=function(_1784,opts){if(!_1784){return null;}opts=opts||{};var _1785={selector:opts.selector||"date",formatLength:opts.format||"short",datePattern:opts.datepattern||opts.datePattern,timePattern:opts.timePattern};var _1786=_175d(_1784,_1785,_1780);if(_1786){if(_1785.selector=="time"){var now=new Date();now.setMilliseconds(_1786.getMilliseconds());now.setSeconds(_1786.getSeconds());now.setMinutes(_1786.getMinutes());now.setHours(_1786.getHours());return +now;}}return _1786&&_1786.getTime();};this.formatDate=function(epoch,opts){var _1787=Number(epoch);if(epoch===""){return epoch;}else{if(isNaN(_1787)){return null;}}opts=opts||{};var _1788=new Date(_1787),_1789={locale:_1780.name,selector:opts.selector||"date",formatLength:opts.format||"short",datePattern:opts.datepattern||opts.datePattern,timePattern:opts.timePattern};if(_1789.selector=="time"){var now=new Date(0);now.setMilliseconds(_1788.getMilliseconds());now.setSeconds(_1788.getSeconds());now.setMinutes(_1788.getMinutes());now.setHours(_1788.getHours());_1788=now;}return _1759(_1788,_1789,_1780);};this.formatValue=function(value,type,props){props=props||{};if(value===""){return "";}switch(type.toLowerCase()){case "decimal":case "float":return _176f(new Big(value),!!props.groups,"places" in props&&props.places>=0?props.places:-1,_1780);case "currency":return _176f(new Big(value),!!props.groups,"places" in props&&props.places>=0?props.places:2,_1780);case "autonumber":case "integer":case "long":return _176f(new Big(value),!!props.groups,props.places||0,_1780);case "datetime":return _1759(new Date(value),_1752.mixin({selector:"date"},props),_1780);case "boolean":return mx.ui.translate("mxui.common",value);default:return value;}};this.formatAttribute=function(obj,attr,props){var type=obj.getAttributeType(attr),value=obj.get2(attr);if(type=="Enum"){value=obj.getEnumCaption(attr,value);}return self.formatValue(value,type,props);};this.parseValue2=function(value,type,props){props=props||{};if(value===""){return "";}switch(type.toLowerCase()){case "float":case "currency":case "integer":case "long":case "decimal":return _177a(value,props.places,_1780);case "datetime":return _175d(value,_1752.mixin({selector:"date"},props),_1780);case "enum":return value;case "boolean":return value==mx.ui.translate("mxui.common",true);default:return value;}};this.localizeEpoch=function(epoch){var obj=new Date(Number(epoch));return new Date(obj.getUTCFullYear(),obj.getUTCMonth(),obj.getUTCDate(),obj.getUTCHours(),obj.getUTCMinutes(),obj.getUTCSeconds(),obj.getUTCMilliseconds()).getTime();};this.delocalizeEpoch=function(epoch){var obj=new Date(Number(epoch));return Date.UTC(obj.getFullYear(),obj.getMonth(),obj.getDate(),obj.getHours(),obj.getMinutes(),obj.getSeconds(),obj.getMilliseconds());};this.mergeDates=function(_178a,_178b,part){var _178c=new Date(_178a);switch(part){case "date":_1753(_178c,_178b);break;case "time":_1756(_178c,_178b);break;case "datetime":_1753(_178c,_178b);_1756(_178c,_178b);break;default:_178c=_178b;}return _178c;};this.replaceXPathTokens=function(_178d,_178e){if(_178e&&_178e.hasTrackId()){_178d=_178d.replace(/\[%CurrentObject%\]/g,_178e.getTrackId());}else{if(/\[%CurrentObject%\]/.test(_178d)){}}return _178d;};};return _177f;});},"mxui/sys/UI":function(){define(["mxui/lib/form/FormFactory","mxui/lib/form/ContentForm","mxui/widget/DialogMessage","mxui/widget/Progress","mxui/widget/Underlay","mxui/widget/LoginDialog","mxui/widget/DemoUserSwitcher","mxui/widget/ConfirmationDialog","mxui/sys/history","mxui/io/iframe","mxui/dom","mendix/validator","mendix/lib/ServerError","mendix/lib/ConnectionError","mendix/lib/DescribedError","mendix/lib/DescribedServerError","mendix/lib/NavigationError","mendix/lib/ValidationError","mendix/lib/Error","mendix/lib/MxContext","mendix/lang","mendix/logger","big/big","fastclick/fastclick","dijit/registry","dojo/dom-class","dojo/on","dojo/aspect","dojo/cookie","dojo/has","dojo/ready","dojo/i18n","dojo/_base/array","dojo/_base/kernel","dojo/_base/lang","dojo/_base/config","require","dojox/date/buddhist","dojox/date/buddhist/locale"],function(_178f,_1790,_1791,_1792,_1793,_1794,_1795,_1796,_1797,_1798,_1799,_179a,_179b,_179c,_179d,_179e,_179f,_17a0,_17a1,_17a2,lang,_17a3,Big,_17a4,_17a5,_17a6,_17a7,_17a8,_17a9,_17aa,_17ab,_17ac,_17ad,_17ae,_17af,_17b0,_17b1){function UI(){var self=this,name="mxui.sys.UI",_17b2=false,_17b3=null,_17b4=null,_17b5=null,isRtl=false,_17b6="en_US",_17b7=null,menus=null,_17b8="",_17b9="desktop",_17ba="Mendix 5",_17bb=null,_17bc,_17bd={"HALF_UP":1,"HALF_EVEN":2};var _17be={buddhist:/th$/,hebrew:null,islamic:null};this.startup=function(_17bf){var _17c0=window.mx.session.getConfig().uiconfig;_17c1(_17c0);_17c2(_17c0);_17c3(_17c0);_17c4(_17c0);_17c5(_17c0.roundingmode);_17c6();_17a7(window,"resize",_17af.hitch(self,"resize"));_17c7();_17c8();_17c9(_17c0.modules);_17ca();_17cb(function(){isRtl=document.body.dir.toLowerCase()=="rtl";_17cc();_17b2=true;_17bf();});};function _17c1(_17cd){menus=_17cd.menubars;lang.forEach(menus,function(menu,_17ce){_17cf(menu,_17ce+"-");});function _17cf(menu,_17d0){_17ad.forEach(menu,function(item,index){item.id=_17d0+index;if(item.items){_17cf(item.items,item.id+"-");}});};};function _17c2(_17d1){_17b6=_17d1.locale;_17ae.locale=_17ac.normalizeLocale(_17b6.replace("_","-"));_17b7=_17d1.translations;_17d2();_17d3();};function _17c3(_17d4){_17b9=_17d4.profile.name.toLowerCase();_17ba=_17d4.profile.title;document.title=_17ba;_17a6.add(document.body,"profile-"+_17b9);};function _17c4(){var _17d5=_17ad.map(window.mx.session.getUserRoles("Name"),function(role){return "role-"+role.toLowerCase();});_17a6.add(document.body,_17d5);};function _17c5(_17d6){Big.RM=_17d6?_17bd[_17d6]:_17bd.HALF_EVEN;};function _17c6(){_17a8.before(window.mx,"onError",function(e){var msg;if(e instanceof _179d||e instanceof _179e){msg=e.message;}else{if(e instanceof _179c){msg=self.translate("mxui.sys.UI","connection_error");}else{if(e instanceof _179b){msg=self.translate("mxui.sys.UI","internal_error");}else{msg=self.translate("mxui.sys.UI","internal_error");}}}_17b3&&_17b3.hide();_17b3=_17d7(msg,"error");_17b3.show(true);_17a3.error(e);});};function _17c7(){_17bc=new _178f();_17bb=new _1790();_17a8.after(_17bb,"onNavigation",function(){document.title=_17ba+" - "+_17bb.title;_17a6.add(document.body,"mx-no-scroll");setTimeout(function(){_17a6.remove(document.body,"mx-no-scroll");},0);});_17b4=new _1792();_17b5=new _1793();var _17d8=mx.session.getConfig("demoUsers");if(_17d8){_17ad.forEach(_17d8,function(user){user.active=(user.name==window.mx.session.getUserName());});var _17d9=new _1795({demoUsers:_17d8});document.body.appendChild(_17d9.domNode);_17d9.startup();}};function _17cc(){var _17da=document.getElementById("content");if(!_17da){self.exception("You are using an outdated index page. Please update your index page. See index-example.html in the deployment directory for an example of what the index page should look like.");return;}_17da.appendChild(_17bb.domNode);};function _17c8(){_1797.init();_17a8.after(_17bb,"dispose",_1797.back);var _17db=null;_17a8.after(_1797,"onNavigation",function(_17dc,_17dd){if(!_17dd){return;}var _17de=_17dd.formParams;if(!_17db){_17db=self.showProgress();}if(_17dc){_17bb.onPersistViewState(_17dc.viewState);}if(!_17dd.viewState){_17dd.viewState={};}_17bb.navigateTo(_17de.path,_17de.title,_17de.context,_17de.params,_17af.clone(_17dd.viewState),function(){self.hideProgress(_17db);_17db=null;},function(e){if(e instanceof _179f){}else{self.hideProgress(_17db);_17db=null;window.mx.onError(e);}});},true);};function _17cb(_17df){var _17e0=window.mx.session.getConfig("uiconfig.widgets");if(_17e0.length>0){_17e1();dojo.registerModulePath("widgets",window.mx.modulePath);_17ad.forEach(_17e0,function(_17e2){var _17e3=_17e2.split(".")[0];dojo.registerModulePath(_17e3,window.mx.modulePath+_17e3);});var _17e4=["widgets/widgets"];_17b1(_17e4);}_17ab(_17df);};function _17e1(){var head=document.getElementsByTagName("head")[0],_17e5=head.querySelector("link[href*='css/theme.css']"),_17e6=_1799.createCssLink("widgets/widgets.css");if(_17e5){head.insertBefore(_17e6,_17e5);}else{head.appendChild(_17e6);}};function _17c9(_17e7){for(var i=0,_17e8;_17e8=_17e7[i];i++){try{dojo["require"](_17e8+"."+_17e8);}catch(e){_17a3.error(name+".getModules: failed loading module "+_17e8);}}};function _17d3(){var _17e9=self.getCalendarSystem();switch(_17e9){case "gregorian":_17b8="dojo.date";return;case "buddhist":_17b8="dojox.date.buddhist";dojo["require"](_17b8);dojo["require"](_17b8+".locale");return;default:throw new Error("Unsupported date package: "+_17e9);}};function _17ca(){_17a4.attach(document.body);if(_17aa("ie")){if(JSON.stringify(document.createElement("input").value)==="\"null\""){var _17ea=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value").get;Object.defineProperty(HTMLInputElement.prototype,"value",{get:function(){var value=_17ea.call(this);return value===""?"":value;}});}_17a7(document,"click",function(e){var node=e.target;if(node.nodeName=="TEXTAREA"||node.nodeName=="INPUT"&&(node.type=="text"||node.type=="password")){if(document.activeElement!=node){var sel=_1799.getSelection(node);try{node.focus();}catch(ex){}_1799.selectTextRange(node,sel.start,sel.end);}}if(_17aa("ie")<=8){if(node.nodeName=="INPUT"&&(node.type==="checkbox"||node.type==="radio")){_1799.dispatchEvent(node,"onchange");}}});}};function _17d2(){var map={"mendix":"mxui","mendix.core.MxServer":"mendix.core.Server","mendix.widget.MxDataView":"mendix.widget.MxFormView","mendix.widget.MxNavigator":"mendix.widget.Navigator","mendix.widget.MxDataGrid":"mendix.widget.DataGrid","mendix.widget.DataGrid.true":"mxui.common.true","mendix.widget.DataGrid.false":"mxui.common.false","mendix.core.MxServer.invalid_session":"mendix.session.session_expired","mobile.widget.Dialog.ok":"mxui.widget.DialogMessage.ok","mxui.widget.Dialog.error":"mxui.widget.DialogMessage.error","mxui.widget.Dialog.information":"mxui.widget.DialogMessage.info","mxui.widget.Dialog.warning":"mxui.widget.DialogMessage.warning","mxui.widget.Dialog.confirmation":"mxui.widget.ConfirmationDialog.caption","mobile.widget":"mxui.widget","mobile.sys":"mxui.sys"};for(var _17eb in map){var spath=_17eb.split("."),dpath=map[_17eb].split("."),skey=spath.pop(),dkey=dpath.pop(),stree=_17b7,dtree=stree,step;while(stree&&(step=spath.shift())){stree=stree[step];}if(stree){while(step=dpath.shift()){dtree=dtree[step]=dtree[step]||{};}if(dtree[dkey]){_17af.mixin(dtree[dkey],stree[skey]);}else{dtree[dkey]=stree[skey];}}}};function _17d7(msg,type){return new _1791({type:type,content:""+self.extractMessage(msg)});};this.openFormInContent=function(path,title,_17ec,_17ed){_1797.push({formParams:{path:path,title:title,context:_17ec||new _17a2(),params:_17ed||{}}});};this.openFormInPopup=function(path,args,_17ee,_17ef,_17f0,error){var self=this,pid=this.showProgress();_17bc.openPopupForm(path,args,(_17ee||new _17a2()),(_17ef||{}),function(form){self.hideProgress(pid);_17f0&&_17f0(form);},function(e){self.hideProgress(pid);error?error(e):window.mx.onError(e);});};this.openFormInNode=function(path,_17f1,_17f2,_17f3,_17f4,error){var self=this,pid=this.showProgress();_17bc.openInlineForm(path,_17f1,(_17f2||new _17a2()),(_17f3||{}),function(form){self.hideProgress(pid);_17f4&&_17f4(form);},function(e){self.hideProgress(pid);error?error(e):window.mx.onError(e);});};function _17f5(fmt,args){if(!args){return fmt;}else{if(!(args instanceof Array)){args=[args];}}return fmt.replace(/\{(\d+)\}/g,function(match,n){var value=args[n-1];if(value!=null){return value;}else{return match;}});};this.toString=function(){return name;};this.getCurrentForm=function(){return _17bb;};this.getProfile=function(){return _17b9;};this.getMenu=function(_17f6){return menus[_17f6]||[];};this.getDatePackage=function(){return _17b8;};this.getCalendarSystem=function(){for(var m in _17be){var re=_17be[m];if(re&&re.test(_17ae.locale.toLowerCase())){return m;}}return "gregorian";};this.isRtl=function(){return isRtl;};this.resize=function(){_17bb.resize();};this.execute=function(_17f7,args,scope){var _17f8=_17af.mixin({},_17f7.microflow||_17f7.form,args);if(_17f8.allowedRoles&&!window.mx.session.hasSomeRole(_17f8.allowedRoles)){if(window.mx.session.isGuest()){this.showLogin();}else{window.mx.onError(new _179d("Unable to execute action because you do not have sufficient permissions."));}return;}if(_17f7.microflow){this.action(_17f8.name,_17f8,scope);}else{if(_17f7.form){this.openForm(_17f8.path,_17f8,scope);}else{_17a3.error(name+".execute: unknown action type");}}};this.action=function(name,_17f9,scope){_17f9=_17f9||{};_17af.setObject("params.actionname",name,_17f9);var _17fa;if("progress" in _17f9){_17fa=this.getProgress(_17f9.progressMsg,_17f9.progress=="modal");_17fa.start();}window.mx.data.action({callback:_17fb(_17f9.callback),error:_17fb(function(e){if(_17f9.error){_17f9.error.call(scope,e);}else{if(!(e instanceof _17a0)){window.mx.onError(e);}}}),context:_17f9.context,async:_17f9.async,params:_17f9.params,store:_17af.mixin({caller:_17bb},_17f9.store)});function _17fb(_17fc){return function(){try{if(_17fc){_17fc.apply(scope,arguments);}}finally{if(_17fa){_17fa.stop();}if(_17f9.complete){_17f9.complete.apply(scope);}}};};};this.back=function(){_1797.back();};this.showProgress=function(msg,modal){return _17b4.add(msg||"",modal);};this.hideProgress=function(id){return _17b4.remove(id);};this.showUnderlay=function(delay){_17b5.show(delay);};this.hideUnderlay=function(delay){_17b5.hide(delay);};this.getProgress=function(msg,modal){var id,_17fd;return {start:function(){if(_17fd){return id;}else{_17fd=true;return id=self.showProgress(msg,modal);}},stop:function(){if(_17fd){_17fd=false;self.hideProgress(id);}}};};function _17fe(_17ff){if(!_17b2){var _1800=window.mx.session.getConfig("profile");if(_1800){_17b9=_1800.name.toLowerCase();_17a6.add(document.body,"profile-"+_17b9);document.title=_1800.title;}}if(!window.i18nMap){window.mx.server.get({url:"js/login_i18n.js",handleAs:"javascript",load:_17ff});}else{_17ff();}};this.showLogin=function(_1801){if(_1801=="402"){this.exception(window.i18nMap.http402);return;}var _1802=_17a9("originURI");if(_1802){_17a9("originURI",null,{expires:-1});window.mx.redirect(_1802);return;}_17fe(function(){new _1794({messageCode:_1801}).show();});};this.openForm=function(path,args,scope){if(args.domNode){this.openFormInNode(path,args.domNode,args.context,args.params,args.callback?_17af.hitch(scope,args.callback):null,args.error?_17af.hitch(scope,args.error):null);}else{if(/popup|modal/.test(args.location)){args.modal=args.location=="modal";this.openFormInPopup(path,args,args.context,args.params,args.callback?_17af.hitch(scope,args.callback):null,args.error?_17af.hitch(scope,args.error):null);}else{if(args.callback||args.error){throw new Error("Success and error callbacks are not supported for openFormInContent");}this.openFormInContent(path,args.title,args.context,args.params);}}};this.reload=function(_1803){var form=mxui.currentForm;if(!form){throw new _17a1("Trying to refresh the content form but no form is yet available.");}form.reload(_1803);};this.getTemplate=function(id,name){var data=_17bb.widgetTemplates[id];return data&&_17af.clone(data[name]);};this.applyToNode=function(_1804,node){var _1805=_17a5.byNode(node);switch(_1804){case "show":if(_1805&&_1805.show){_1805.show();}else{node.style.display="";}break;case "hide":if(_1805&&_1805.hide){_1805.hide();}else{node.style.display="none";}break;case "disable":_1806(true);break;case "enable":_1806(false);break;}function _1806(_1807){if(_1805){_1805.set("disabled",_1807);}else{var _1808=_17a5.findWidgets(node);_17ad.forEach(_1808,function(_1809){_1809.set("disabled",_1807);});}};};this.makeShareId=function(form,mxid){return "context_seed_"+mxid+"_"+form.hash;};var _180a={};_180a[_179a.validation.NOT_INTEGER]="invalid_number";_180a[_179a.validation.RANGE_INTEGER]="range_integer";_180a[_179a.validation.RANGE_LONG]="range_long";_180a[_179a.validation.RANGE_DECIMAL]="range_decimal";_180a[_179a.validation.RANGE_NUMBER]="range_number";this.validate=function(value,type){var _180b=_179a.validate(value,type);if(_180b===_179a.validation.OK){return null;}return this.translate("mendix.lib.Validations",_180a[_180b]);};this.validations=function(vals){if(vals.length){var list=[];for(var i=0,val;val=vals[i];i++){var _180c=val.getFields();for(var x=0,field;field=_180c[x];x++){list.push(field.reason);}}this.error(list.join("\n"));}};this.translate=function(_180d,str,args,_180e){var map=_17af.getObject(_180d,false,_17b7);if(!map||!map[str]){return _180e||"[No translation]";}return _17f5(map[str],args);};this.extractMessage=function(msg){if(typeof msg=="object"){if(msg.description){return msg.description;}else{if(msg.message){return msg.message;}}}return msg;};this.info=function(msg,modal){_17d7(msg,"info").show(modal);};this.warning=function(msg,modal){_17d7(msg,"warning").show(modal);};this.error=function(msg,modal){_17d7(msg,"error").show(modal);};this.exception=function(msg){this.error(msg,true);};this.confirmation=function(args){new _1796({content:args.content,proceed:args.proceed||this.translate("mxui.widget.DialogMessage","ok"),cancel:args.cancel||this.translate("mxui.widget.DialogMessage","cancel"),handler:args.handler}).show();};this.encodeUrlHash=function(form,_180f,_1810){var path=form.substr(0,form.lastIndexOf(".")),query=_180f.toQuery();return "!/"+path+(query?"?"+query:"")+";"+_1810;};this.decodeUrlHash=function(hash){if(hash.charAt(0)=="!"){var index=hash.lastIndexOf(";");hash=hash.slice(2,index!=-1?index:hash.length);if(/^\w+(\/\w+(\?\w+\.\w+\=\d+(&\w+\.\w+\=\d+)*)?|\.\w+(\?\d+(&\d+)*)?)$/.test(hash)){var split=hash.split("?"),_1811=split[0],query=split[1],_1812=new _17a2(),items,item;if(_1811.indexOf("/")!=-1){if(query){items=query.split("&");for(var i=items.length;item=items[--i];){var pair=item.split("=");_1812.setContext(pair[0],pair[1]);}}return function(_1813){window.mx.ui.openFormInContent(_1811+".page.xml","",_1812);_1813&&_1813();};}else{if(query){items=query.split("&");for(var j=0;item=items[j++];){_1812.setContext(" ",item);}}return function(_1814){window.mx.data.action({context:_1812,params:{actionname:_1811},callback:_1814,error:function(e){window.mx.onError(e);_1814&&_1814();}});};}}else{return null;}}else{return null;}};this.canMoveBack=function(){return !_1797.isAtBeginning();};this.downloadFile=function(_1815){var obj=_1815?_1815.mxobject:null,url;if(obj&&obj.get2("HasContents")){url="file?guid="+obj.getGuid();}else{if(_1815.url){url=_1815.url;}}if(!url){return;}if(_1815.target==="window"||_1816()){if(_1817()){new _1796({caption:this.translate("mendix.widget.DialogMessage","file_download"),content:this.translate("mendix.widget.DialogMessage","file_download_message"),proceed:this.translate("mendix.widget.MxDataView","download"),cancel:this.translate("mendix.widget.DialogMessage","cancel"),handler:function(){window.open(window.mx.appUrl+url,"mendix_file");}}).show(true);}else{window.open(window.mx.appUrl+url,"mendix_file");}}else{_1798.download({url:window.mx.appUrl+url,target:_1815.target,error:function(err){if(_1815.error){_1815.error(err);}else{window.mx.onError(err);}}});}function _1816(){var _1818=_17aa("chrome")&&typeof window.externalHost!=="undefined";var _1819=_17aa("mobile");return _1818||_1819;};function _1817(){return _17aa("ie")==8||((_17aa("iphone")||_17aa("ipad"))&&(_17aa("safari")||window.navigator.standalone))||_17aa("windowsphone");};};this.getFirstDayOfWeek=function(){return window.mx.session.getConfig("uiconfig.firstDayOfWeek");};};return UI;});},"mxui/lib/form/FormFactory":function(){define(["mxui/lib/form/InlineForm","mxui/lib/pageTemplating/pageProvider","mxui/lib/pageTemplating/pageComponentComposer","mxui/widget/Window","mxui/dom","mendix/lang","dojo/on","dojo/aspect","dojo/dom-class","dojo/_base/lang"],function(_181a,_181b,_181c,_181d,_181e,lang,_181f,_1820,_1821,_1822){"use strict";function _1823(path,_1824,error){_181b.get(path,function(page){if(page.isBasedOnLegacyLayout){var _1825=lang.find(page.components,function(_1826){return _1826.isMain;});page.components=[_1825];_1824(page);}else{_181c.composeAllComponentsIn(page,_1824,error);}},error);};function _1827(){};_1827.prototype.openPopupForm=function(path,_1828,_1829,_182a,_182b,error){var self=this;_1823(path,function(page){_1822.mixin(window.mx.ui.getCurrentForm().widgetTemplates,page.widgetTemplates);var form=new _181a("popup",page,_182a,_1828.title),wnd=new _181d({title:form.title,width:_1828.width,height:_1828.height,resizable:"resizable" in _1828?_1828.resizable:true,content:form.domNode,cssClass:page["class"],cssStyle:page.style});_1820.after(form,"dispose",_1822.hitch(wnd,"hide"));_1820.after(form,"resize",_1822.hitch(wnd,"resize"));_1820.after(wnd,"onClose",_1822.hitch(form,"close"));_1820.before(wnd,"onShow",_1822.hitch(form,"onBeforeShow"));_1820.before(wnd,"onAfterShow",_1822.hitch(form,"onAfterShow"));_1820.before(wnd,"onHide",_1822.hitch(form,"onBeforeHide"));_1820.before(wnd,"destroy",function(){form.onAfterHide();form.destroy();});form.loadWidgets(_1829,function(){wnd.show(_1828.modal);_182b&&_182b(form);});},error);};_1827.prototype.openInlineForm=function(path,_182c,_182d,_182e,_182f,error){_1823(path,function(page){_1822.mixin(window.mx.ui.getCurrentForm().widgetTemplates,page.widgetTemplates);var form=new _181a("custom",page,_182e);_1821.add(form.domNode,"mx-offscreen");_182c.appendChild(form.domNode);_1820.before(form,"destroy",function(){form.onBeforeHide();_1821.add(form.domNode,"mx-offscreen");form.onAfterHide();});_1820.after(form,"destroy",function(){_181e.orphan(form.domNode);});_1820.after(form,"dispose",_1822.hitch(form,"destroy"));form.loadWidgets(_182d,function(){form.onBeforeShow();_1821.remove(form.domNode,"mx-offscreen");form.onAfterShow();_182f&&_182f(form);});},error);};return _1827;});},"mxui/lib/form/InlineForm":function(){define(["mxui/lib/form/_FormBase","mxui/widget","mxui/wm/focus","mxui/dom","mendix/lib/Error","dojo/_base/lang","dojo/_base/declare"],function(_1830,_1831,focus,dom,Error,_1832,_1833){"use strict";var _1834=_1833(_1830,{_params:null,constructor:function(place,page,_1835,_1836){this.place=place;this.path=page.path;this.title=_1836||page.title;this._params=_1832.mixin({},_1835,{mxform:this});this.domNode=dom.create("div");if(page.components.length!=1){throw new Error("Got "+page.components.length+" top level templates while expecting only one, on page "+this.path);}page.components[0].appendTo(this.domNode);},loadWidgets:function(_1837,_1838){this._context=_1837;_1831.loadWidgetsIn(this.domNode,this._params,_1837,_1838);},destroy:function(){focus.removeBox(this.domNode);dom.orphan(this.domNode);_1831.destroyWidgetsIn(this.domNode);}});return _1834;});},"mxui/lib/form/_FormBase":function(){define(["mxui/wm/focus","mxui/widget","mendix/lang","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dijit/registry"],function(focus,_1839,lang,_183a,_183b,_183c,_183d){"use strict";var _183e=_183c(null,{id:"",hash:"",title:"",place:"",path:"",viewState:null,_suspended:false,_listeners:null,_context:null,domNode:null,constructor:function(){this.hash=+new Date()+"";this._listeners={};},postscript:function(){focus.addBox(this.domNode);focus.cyclic(this.domNode,true);},getTitle:function(){return this.title;},reload:function(_183f){_1839.applyContext(_183d.findWidgets(this.domNode),this._context,_183f);},dispose:function(){},onBeforeShow:function(){},onBeforeHide:function(){},onAfterShow:function(){},onAfterHide:function(){},onPersistViewState:function(_1840){},onResume:function(){},close:function(){this.publish("close",_183b.hitch(this,"dispose"));},validate:function(_1841,error){this.publish("validate",_1841,error);},save:function(_1842,error){this.publish("save",_1842,error);},commit:function(_1843,error){this._suspended=true;this.publish("commit",this._resumeCallback(_1843),this._resumeCallback(error));},rollback:function(_1844,error){this._suspended=true;this.publish("rollback",this._resumeCallback(_1844),this._resumeCallback(error));},publish:function(_1845,_1846,error,data){var list=this._listeners[_1845];if(list){var chain=[];for(var item in list){chain.unshift(_183b.partial(function(func,next){func(next,error,data);},list[item]));}lang.sequence(chain,_1846);}else{_1846&&_1846();}},listen:function(_1847,_1848){var sid=lang.getUniqueId(),list=this._listeners[_1847]||(this._listeners[_1847]={});list[sid]=_1848;return [_1847,sid];},unlisten:function(_1849){var sid=_1849[1],msg=_1849[0],list=this._listeners[msg];if(list){delete list[sid];for(var i in list){return;}delete this._listeners[msg];}},isSuspended:function(){return this._suspended;},hasInterface:function(name){return name=="close";},invokeCall:function(name){if(name=="close"){this.dispose();}},getChildren:function(_184a){if(_184a){return _1839.getDescendantWidgets(this.domNode);}else{return _183d.findWidgets(this.domNode);}},callRecursive:function(_184b,_184c){var _184d=this.getChildren(),args=Array.prototype.slice.call(arguments,1);for(var i=0,child;child=_184d[i];i++){child[_184b]&&child[_184b].apply(child,args);}},enable:function(){this.callRecursive("set","disabled",true);},disable:function(){this.callRecursive("set","disabled",false);},resize:function(){},_resumeCallback:function(_184e){var self=this;return function(){self._suspended=false;self.onResume();_184e&&_184e.apply(null,arguments);};}});return _183e;});},"mxui/lib/pageTemplating/pageProvider":function(){define(["mxui/lib/pageTemplating/roleFilter","mxui/lib/pageTemplating/PageComponent","mxui/dom","mendix/lib/Error","dojo/sniff","dojo/_base/array","dojo/_base/lang"],function(_184f,_1850,dom,Error,_1851,_1852,_1853){"use strict";function _1854(_1855){var _1856=[];if(document.adoptNode&&_1851("dom-parser")){while(_1855.firstChild){_1856.push(document.adoptNode(_1855.firstChild));}}else{_1852.forEach(_1855.childNodes,function(child){var temp=dom.create("div");temp.innerHTML=child.xml;_1856.push(temp.firstChild);});}return _1852.filter(_1852.map(_1856,function(_1857){return _184f.filterDom(_1857);}),function(node){return node!=null;});};function _1858(nodes){var _1859=document.createDocumentFragment();_1852.forEach(nodes,_1853.hitch(_1859,_1859.appendChild));return _1859;};function _185a(xml){return _1852.map(dom.getElementsByTagNameNoNS(xml,"layout"),function(elem){return elem.getAttribute("path");}).reverse();};function _185b(xml){return _1852.map(dom.getElementsByTagNameNoNS(xml,"argument"),function(elem){return new _1850((elem.getAttribute("parameterName")||"main"),_1854(elem),(elem.getAttribute("isMain")=="true"));});};function _185c(xml){var _185d={};_1852.forEach(dom.getElementsByTagNameNoNS(xml,"template"),function(elem){var data={widgetId:elem.getAttribute("widget-id"),templateName:elem.getAttribute("name"),content:_1858(_1854(elem))};if(!_185d[data.widgetId]){_185d[data.widgetId]={};}_185d[data.widgetId][data.templateName]=data.content;});return _185d;};function _185e(xml,_185f){var _1860=xml.documentElement;return {id:_1860.getAttribute("id")||"",title:_1860.getAttribute("title")||"","class":_1860.getAttribute("class")||"",style:_1860.getAttribute("style")||"",path:_185f,isBasedOnLegacyLayout:_1860.getAttribute("isBasedOnLegacyLayout")=="true",layouts:_185a(xml),components:_185b(xml),widgetTemplates:_185c(xml)};};var _1861={get:function(path,_1862,error){var _1863="pages/"+window.mx.session.getConfig("uiconfig.locale");window.mx.server.get({url:_1863+"/"+path,failOk:false,handleAs:"xml",load:function(_1864){_1862(_185e(_1864,path));},error:error});}};return _1861;});},"mxui/lib/pageTemplating/roleFilter":function(){define(["mxui/dom","mendix/lang","dojo/_base/array"],function(_1865,lang,_1866){"use strict";var _1867="data-mendix-roles";function _1868(_1869,_186a){var value=_1869.getAttribute(_186a);_1869.removeAttribute(_186a);return value;};function _186b(_186c,_186d){var _186e=_1868(_186c,_1867).split(","),_186f=_1866.some(_186e,function(role){return lang.inArray(_186d,role);});return !_186f;};return {filterDom:function(_1870){if(!(_1870 instanceof Element)){return _1870;}var _1871=window.mx.session.getUserRoles("Name");if(_1870.hasAttribute(_1867)&&_186b(_1870,_1871)){return null;}_1866.forEach(_1870.querySelectorAll("["+_1867+"]"),function(_1872){if(_186b(_1872,_1871)){_1865.orphan(_1872);}});return _1870;}};});},"mxui/lib/pageTemplating/PageComponent":function(){define(["dojo/_base/array","dojo/_base/lang"],function(_1873,_1874){"use strict";function _1875(id,_1876,_1877){this._id=id;this._content=_1876;this.isMain=_1877;};_1875.prototype.findPlaceholder=function(root){return root.querySelector("[data-mx-placeholder='"+this._id+"']");};_1875.prototype.appendTo=function(_1878){_1873.forEach(this._content,_1874.hitch(_1878,_1878.appendChild));};return _1875;});},"mxui/lib/pageTemplating/pageComponentComposer":function(){define(["mxui/lib/pageTemplating/pageProvider","mendix/lang","dojo/_base/array","dojo/_base/lang"],function(_1879,lang,_187a,_187b){"use strict";function _187c(_187d,_187e){for(var i=0;i<_187e.length;++i){if(_187e[i]!=_187d[i]){return _187e.slice(i);}}return [];};function _187f(_1880,_1881){var _1882=document.createDocumentFragment();_187a.forEach(_1880,function(_1883){_1883.appendTo(_1882);});_187a.forEach(_1881,function(_1884){_1884.appendTo(_1884.findPlaceholder(_1882));});return _1880;};function _1885(_1886,page,_1887,error){var _1888=[],_1889=_187b.mixin({},page.widgetTemplates),err;_1888[_1886.length]=page.components;lang.collect(_187a.map(_1886,function(_188a,_188b){return function(_188c){_1879.get(_188a,function(_188d){_1888[_188b]=_188d.components;_1889=_187b.mixin(_1889,_188d.widgetTemplates);_188c();},function(e){err=e;_188c();});};}),function(){if(err){error(err);return;}var _188e=_1888[0],_188f=lang.flatten(_1888.slice(1)),_1890=_187f(_188e,_188f);_1887(_1890,_1889);});};var _1891={composeNewComponentsIn:function(page,_1892,_1893,error){var _1894=_187c(_1892,page.layouts);_1885(_1894,page,function(_1895,_1896){_1893(_187b.mixin({},page,{components:_1895,widgetTemplates:_1896}));},error);},composeAllComponentsIn:function(page,_1897,error){_1891.composeNewComponentsIn(page,[],_1897,error);}};return _1891;});},"mxui/lib/form/ContentForm":function(){define(["mxui/lib/pageTemplating/pageProvider","mxui/lib/pageTemplating/pageComponentComposer","mxui/lib/incubator","mxui/lib/form/_FormBase","mxui/wm/focus","mxui/widget","mxui/dom","mendix/lang","mendix/lib/NavigationError","dojo/Deferred","dojo/promise/all","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_1898,_1899,_189a,_189b,focus,_189c,dom,lang,_189d,_189e,_189f,_18a0,_18a1,_18a2,_18a3){"use strict";var $=dom.create;function _18a4(_18a5,_18a6){var _18a7=_18a5.findPlaceholder(_18a6);var _18a8=_189a.conceiveSuccessor(_18a7);_18a5.appendTo(_18a8);return _18a8;};var _18a9=_18a3(_189b,{_currentLayouts:null,_pendingRequest:null,widgetTemplates:null,constructor:function(){this.widgetTemplates={};this._currentLayouts=[];this.place="content";this.id="ContentForm";this.domNode=$("div",{"class":"mx-page"},$("div",{"class":"mx-placeholder","data-mx-placeholder":"main"}));},_updatePropertiesFrom:function(page,_18aa){this.id=page.id;this.path=page.path;this.title=_18aa||page.title;this._currentLayouts=page.layouts;this.domNode.className="mx-page "+page["class"];this.domNode.style.cssText=page.style||"";},navigateTo:function(path,_18ab,_18ac,_18ad,_18ae,_18af,error){var self=this,_18b0=[];if(this._pendingRequest){this._pendingRequest.cancel(new _189d("Loading of a page has been superseded by request for "+path));}this._pendingRequest=(function(){var _18b1=new _189e();_1898.get(path,_18b1.resolve,_18b1.reject);return _18b1;})().then(function(page){var _18b2=new _189e();_1899.composeNewComponentsIn(page,self._currentLayouts,_18b2.resolve,_18b2.reject);return _18b2;}).then(function(page){_18b0=lang.map(page.components,function(_18b3){return _18a4(_18b3,self.domNode);});self.widgetTemplates=_18a2.mixin(self.widgetTemplates,page.widgetTemplates);self.viewState=_18ae;_18ad=_18a2.mixin({},_18ad,{mxform:self});return _189f(lang.map(_18b0,function(_18b4){var _18b5=new _189e();_189c.loadWidgetsIn(_18b4,_18ad,_18ac,_18b5.resolve);return _18b5;})).then(function(){return page;});}).then(function(page){self._updatePropertiesFrom(page,_18ab);lang.forEach(_18b0,function(_18b6){_189a.hatch(_18b6);dom.scrollOverflowParentTo(_18b6,0);},this);self.onNavigation();self.resize();if(!focus.get()){focus.first(self.domNode);}self._pendingRequest=null;if(_18af){_18af();}}).otherwise(function(e){lang.forEach(_18b0,function(_18b7){_189a.abort(_18b7);});error?error(e):window.mx.onError(e);});},resize:function(){this.domNode.style.height="100%";_189c.resizeWidgetsIn(this.domNode);this.domNode.style.height="";},onNavigation:function(){}});return _18a9;});},"mxui/lib/incubator":function(){define(["mxui/widget","mxui/dom","mendix/lang"],function(_18b8,dom,lang){"use strict";var _18b9=null,data=[];function _18ba(){if(!_18b9){_18b9=dom.create("div",{"class":"mx-incubator mx-offscreen"});document.body.appendChild(_18b9);}return _18b9;};var _18bb={conceiveSuccessor:function(_18bc){var _18bd=_18bc.cloneNode(false);data.push({predecessor:_18bc,embryo:_18bd});_18ba().appendChild(_18bd);return _18bd;},abort:function(_18be){var index=lang.findIndex(data,function(item){return item&&item.embryo==_18be;});if(index!=-1){delete data[index];_18b8.destroyWidgetsIn(_18be);dom.orphan(_18be);}},hatch:function(_18bf){var index=lang.findIndex(data,function(item){return item&&item.embryo==_18bf;});if(index!=-1){var _18c0=data[index].predecessor;_18b8.destroyWidgetsIn(_18c0);_18c0.parentNode.replaceChild(_18bf,_18c0);delete data[index];}}};return _18bb;});},"mxui/widget/DemoUserSwitcher":function(){define(["mxui/widget/_WidgetBase","mxui/mixin/_Templated","mxui/dom","dojo/on","dojo/_base/fx","dojo/_base/array","dojo/_base/declare","dojo/text!mxui/widget/templates/DemoUserSwitcher.html"],function(_18c1,_18c2,dom,_18c3,_18c4,_18c5,_18c6,_18c7){"use strict";var _18c8=_18c6([_18c1,_18c2],{declaredClass:"mxui.widget.DemoUserSwitcher",templateString:_18c7,demoUsers:null,_listNode:null,_toggleNode:null,_collapsed:true,postCreate:function(){var self=this;this.on(".mx-demouserswitcher-toggle:click",function(){self._toggleVisibility();});this.on("li:click",function(e){self._onUserClick(dom.data(this));e.preventDefault();});this._renderList();},startup:function(){this.domNode.style.right=-this.domNode.offsetWidth+"px";},_renderList:function(){_18c5.forEach(this.demoUsers,function(user){var item=dom.create("li",dom.create("a",{"href":"#"},dom.create("h3",user.name),dom.create("p",user.roles.join(", "))));if(user.active){item.setAttribute("class","active");}dom.data(item,user);this._listNode.appendChild(item);},this);},_onUserClick:function(user){mx.session.logout(function(){mx.login(user.name,user.password,null,function(){mx.reload();});});},_toggleVisibility:function(){var right=this._collapsed?0:-this.domNode.offsetWidth;_18c4.animateProperty({node:this.domNode,duration:150,properties:{right:{end:right,units:"px"}}}).play();this._collapsed=!this._collapsed;document.documentElement.style.overflow=document.body.style.overflow=this._collapsed?"":"hidden";}});return _18c8;});},"mxui/sys/history":function(){define(["mxui/lib/browserBackend","mendix/lang","dojo/_base/array"],function(_18c9,lang,_18ca){var _18cb={_stack:[],_counter:0,begin:function(){this._counter++;},end:function(){if(this._counter>0){this._counter--;}if(this._counter===0){_18ca.forEach(this._stack,function(func){func();});this._stack=[];}},add:function(func){if(this._counter>0){this._stack.push(func);}else{func();}},empty:function(){return this._stack.length===0;}};var _18cc={},_18cd=[],_18ce="",_18cf=!!_18c9.history.pushState;var _18d0={init:function(){_18ce=_18d1();_18cd.push(_18ce);_18cc[_18ce]=null;if(_18cf){_18c9.history.replaceState(_18ce,"",_18c9.location.pathname());_18c9.on(window,"popstate",function(e){_18c9.setTimeout(function(){if(_18cb.empty()){_18d3(e.state);}_18cb.end();},0);});}else{_18c9.location.replace("#"+_18ce);_18c9.on(window,"hashchange",function(e){var _18d2=_18c9.location.hash().slice(1);if(_18cb.empty()){if(_18ce!==_18d2){_18d3(_18d2);}}_18cb.end();});}},back:function(){_18cb.begin();_18c9.history.back();},forward:function(){_18cb.begin();_18c9.history.forward();},push:function(state){_18cb.add(function(){_18d4(_18ce);var hash=_18d1();_18cd.push(hash);_18cc[hash]=state;if(_18cf){var _18d5=_18c9.location.pathname();if(_18d5.charAt(0)!=="/"){_18d5="/"+_18d5;}_18c9.history.pushState(hash,"",_18d5);_18d3(hash);}else{_18c9.location.hash(hash);}});},isAtBeginning:function(){var index=_18ca.indexOf(_18cd,_18ce);return index===0||index===1;},onNavigation:function(){}};function _18d1(){return lang.getUniqueId();};function _18d4(hash){var index=_18ca.indexOf(_18cd,hash),_18d6=_18cd.splice(index+1,_18cd.length);_18ca.forEach(_18d6,function(hash){delete _18cc[hash];});};function _18d3(_18d7){var index=_18ca.indexOf(_18cd,_18d7);if(index!=-1){var _18d8=_18cc[_18ce],_18d9=_18cc[_18d7];_18d0.onNavigation(_18d8,_18d9);}else{_18d4(_18ce);_18cd.push(_18d7);_18cc[_18d7]=_18cc[_18ce];}_18ce=_18d7;};return _18d0;});},"mxui/lib/browserBackend":function(){define([],function(){"use strict";var _18da={history:{back:function(){window.history.back();},forward:function(){window.history.forward();}},location:{hash:function(hash){if(hash){window.location.hash=hash;}return window.location.hash;},replace:function(href){return window.location.replace(href);},pathname:function(_18db){if(_18db){window.location.pathname=_18db;}return window.location.pathname;}},setTimeout:function(fn,_18dc){return window.setTimeout(fn,_18dc);},on:function(obj,_18dd,_18de,_18df){if(window.addEventListener){return obj["addEventListener"](_18dd,_18de,_18df);}else{return obj["attachEvent"]("on"+_18dd,_18de);}},off:function(obj,_18e0,_18e1,_18e2){if(window.addEventListener){obj["removeEventListener"](_18e0,_18e1,_18e2);}else{obj["detachEvent"](_18e0,_18e1);}}};if("pushState" in window.history){_18da.history.pushState=function(state,title,url){window.history.pushState(state,title,url);};_18da.history.replaceState=function(state,title,url){window.history.replaceState(state,title,url);};}return _18da;});},"mendix/lib/DescribedError":function(){define(["mendix/lib/Error","dojo/_base/declare"],function(_18e3,_18e4){return _18e4(_18e3,{});});},"fastclick/fastclick":function(){(function(){"use strict";function _18e5(layer,_18e6){var _18e7;_18e6=_18e6||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=_18e6.touchBoundary||10;this.layer=layer;this.tapDelay=_18e6.tapDelay||200;this.tapTimeout=_18e6.tapTimeout||700;if(_18e5.notNeeded(layer)){return;}function bind(_18e8,_18e9){return function(){return _18e8.apply(_18e9,arguments);};};var _18ea=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var _18eb=this;for(var i=0,l=_18ea.length;i<l;i++){_18eb[_18ea[i]]=bind(_18eb[_18ea[i]],_18eb);}if(_18f1){layer.addEventListener("mouseover",this.onMouse,true);layer.addEventListener("mousedown",this.onMouse,true);layer.addEventListener("mouseup",this.onMouse,true);}layer.addEventListener("click",this.onClick,true);layer.addEventListener("touchstart",this.onTouchStart,false);layer.addEventListener("touchmove",this.onTouchMove,false);layer.addEventListener("touchend",this.onTouchEnd,false);layer.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){layer.removeEventListener=function(type,_18ec,_18ed){var rmv=Node.prototype.removeEventListener;if(type==="click"){rmv.call(layer,type,_18ec.hijacked||_18ec,_18ed);}else{rmv.call(layer,type,_18ec,_18ed);}};layer.addEventListener=function(type,_18ee,_18ef){var adv=Node.prototype.addEventListener;if(type==="click"){adv.call(layer,type,_18ee.hijacked||(_18ee.hijacked=function(event){if(!event.propagationStopped){_18ee(event);}}),_18ef);}else{adv.call(layer,type,_18ee,_18ef);}};}if(typeof layer.onclick==="function"){_18e7=layer.onclick;layer.addEventListener("click",function(event){_18e7(event);},false);layer.onclick=null;}};var _18f0=navigator.userAgent.indexOf("Windows Phone")>=0;var _18f1=navigator.userAgent.indexOf("Android")>0&&!_18f0;var _18f2=/iP(ad|hone|od)/.test(navigator.userAgent)&&!_18f0;var _18f3=_18f2&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);var _18f4=_18f2&&(/OS [6-7]_\d/).test(navigator.userAgent);var _18f5=navigator.userAgent.indexOf("BB10")>0;_18e5.prototype.needsClick=function(_18f6){switch(_18f6.nodeName.toLowerCase()){case "button":case "select":case "textarea":if(_18f6.disabled){return true;}break;case "input":if((_18f2&&_18f6.type==="file")||_18f6.disabled){return true;}break;case "label":case "iframe":case "video":return true;}return (/\bneedsclick\b/).test(_18f6.className);};_18e5.prototype.needsFocus=function(_18f7){switch(_18f7.nodeName.toLowerCase()){case "textarea":return true;case "select":return !_18f1;case "input":switch(_18f7.type){case "button":case "checkbox":case "file":case "image":case "radio":case "submit":return false;}return !_18f7.disabled&&!_18f7.readOnly;default:return (/\bneedsfocus\b/).test(_18f7.className);}};_18e5.prototype.sendClick=function(_18f8,event){var _18f9,touch;if(document.activeElement&&document.activeElement!==_18f8){document.activeElement.blur();}touch=event.changedTouches[0];_18f9=document.createEvent("MouseEvents");_18f9.initMouseEvent(this.determineEventType(_18f8),true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);_18f9.forwardedTouchEvent=true;_18f8.dispatchEvent(_18f9);};_18e5.prototype.determineEventType=function(_18fa){if(_18f1&&_18fa.tagName.toLowerCase()==="select"){return "mousedown";}return "click";};_18e5.prototype.focus=function(_18fb){var _18fc;if(_18f2&&_18fb.setSelectionRange&&_18fb.type.indexOf("date")!==0&&_18fb.type!=="time"&&_18fb.type!=="month"){_18fc=_18fb.value.length;_18fb.setSelectionRange(_18fc,_18fc);}else{_18fb.focus();}};_18e5.prototype.updateScrollParent=function(_18fd){var _18fe,_18ff;_18fe=_18fd.fastClickScrollParent;if(!_18fe||!_18fe.contains(_18fd)){_18ff=_18fd;do{if(_18ff.scrollHeight>_18ff.offsetHeight){_18fe=_18ff;_18fd.fastClickScrollParent=_18ff;break;}_18ff=_18ff.parentElement;}while(_18ff);}if(_18fe){_18fe.fastClickLastScrollTop=_18fe.scrollTop;}};_18e5.prototype.getTargetElementFromEventTarget=function(_1900){if(_1900.nodeType===Node.TEXT_NODE){return _1900.parentNode;}return _1900;};_18e5.prototype.onTouchStart=function(event){var _1901,touch,_1902;if(event.targetTouches.length>1){return true;}_1901=this.getTargetElementFromEventTarget(event.target);touch=event.targetTouches[0];if(_18f2){_1902=window.getSelection();if(_1902.rangeCount&&!_1902.isCollapsed){return true;}if(!_18f3){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier){event.preventDefault();return false;}this.lastTouchIdentifier=touch.identifier;this.updateScrollParent(_1901);}}this.trackingClick=true;this.trackingClickStart=event.timeStamp;this.targetElement=_1901;this.touchStartX=touch.pageX;this.touchStartY=touch.pageY;if((event.timeStamp-this.lastClickTime)<this.tapDelay){event.preventDefault();}return true;};_18e5.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],_1903=this.touchBoundary;if(Math.abs(touch.pageX-this.touchStartX)>_1903||Math.abs(touch.pageY-this.touchStartY)>_1903){return true;}return false;};_18e5.prototype.onTouchMove=function(event){if(!this.trackingClick){return true;}if(this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event)){this.trackingClick=false;this.targetElement=null;}return true;};_18e5.prototype.findControl=function(_1904){if(_1904.control!==undefined){return _1904.control;}if(_1904.htmlFor){return document.getElementById(_1904.htmlFor);}return _1904.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea");};_18e5.prototype.onTouchEnd=function(event){var _1905,_1906,_1907,_1908,touch,_1909=this.targetElement;if(!this.trackingClick){return true;}if((event.timeStamp-this.lastClickTime)<this.tapDelay){this.cancelNextClick=true;return true;}if((event.timeStamp-this.trackingClickStart)>this.tapTimeout){return true;}this.cancelNextClick=false;this.lastClickTime=event.timeStamp;_1906=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(_18f4){touch=event.changedTouches[0];_1909=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||_1909;_1909.fastClickScrollParent=this.targetElement.fastClickScrollParent;}_1907=_1909.tagName.toLowerCase();if(_1907==="label"){_1905=this.findControl(_1909);if(_1905){this.focus(_1909);if(_18f1){return false;}_1909=_1905;}}else{if(this.needsFocus(_1909)){if((event.timeStamp-_1906)>100||(_18f2&&window.top!==window&&_1907==="input")){this.targetElement=null;return false;}this.focus(_1909);this.sendClick(_1909,event);if(!_18f2||_1907!=="select"){this.targetElement=null;event.preventDefault();}return false;}}if(_18f2&&!_18f3){_1908=_1909.fastClickScrollParent;if(_1908&&_1908.fastClickLastScrollTop!==_1908.scrollTop){return true;}}if(!this.needsClick(_1909)){event.preventDefault();this.sendClick(_1909,event);}return false;};_18e5.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null;};_18e5.prototype.onMouse=function(event){if(!this.targetElement){return true;}if(event.forwardedTouchEvent){return true;}if(!event.cancelable){return true;}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(event.stopImmediatePropagation){event.stopImmediatePropagation();}else{event.propagationStopped=true;}event.stopPropagation();event.preventDefault();return false;}return true;};_18e5.prototype.onClick=function(event){var _190a;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true;}if(event.target.type==="submit"&&event.detail===0){return true;}_190a=this.onMouse(event);if(!_190a){this.targetElement=null;}return _190a;};_18e5.prototype.destroy=function(){var layer=this.layer;if(_18f1){layer.removeEventListener("mouseover",this.onMouse,true);layer.removeEventListener("mousedown",this.onMouse,true);layer.removeEventListener("mouseup",this.onMouse,true);}layer.removeEventListener("click",this.onClick,true);layer.removeEventListener("touchstart",this.onTouchStart,false);layer.removeEventListener("touchmove",this.onTouchMove,false);layer.removeEventListener("touchend",this.onTouchEnd,false);layer.removeEventListener("touchcancel",this.onTouchCancel,false);};_18e5.notNeeded=function(layer){var _190b;var _190c;var _190d;var _190e;if(typeof window.ontouchstart==="undefined"){return true;}_190c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(_190c){if(_18f1){_190b=document.querySelector("meta[name=viewport]");if(_190b){if(_190b.content.indexOf("user-scalable=no")!==-1){return true;}if(_190c>31&&document.documentElement.scrollWidth<=window.outerWidth){return true;}}}else{return true;}}if(_18f5){_190d=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(_190d[1]>=10&&_190d[2]>=3){_190b=document.querySelector("meta[name=viewport]");if(_190b){if(_190b.content.indexOf("user-scalable=no")!==-1){return true;}if(document.documentElement.scrollWidth<=window.outerWidth){return true;}}}}if(layer.style.msTouchAction==="none"||layer.style.touchAction==="manipulation"){return true;}_190e=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(_190e>=27){_190b=document.querySelector("meta[name=viewport]");if(_190b&&(_190b.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true;}}if(layer.style.touchAction==="none"||layer.style.touchAction==="manipulation"){return true;}return false;};_18e5.attach=function(layer,_190f){return new _18e5(layer,_190f);};if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define(function(){return _18e5;});}else{if(typeof module!=="undefined"&&module.exports){module.exports=_18e5.attach;module.exports.FastClick=_18e5;}else{window.FastClick=_18e5;}}}());},"dojox/date/buddhist":function(){define(["..","dojo/_base/lang","dojo/date","./buddhist/Date"],function(dojox,lang,dd,BDate){var _1910=lang.getObject("date.buddhist",true,dojox);_1910.getDaysInMonth=function(_1911){return dd.getDaysInMonth(_1911.toGregorian());};_1910.isLeapYear=function(_1912){return dd.isLeapYear(_1912.toGregorian());};_1910.compare=function(date1,date2,_1913){return dd.compare(date1,date2,_1913);};_1910.add=function(date,_1914,_1915){var _1916=new BDate(date);switch(_1914){case "day":_1916.setDate(date.getDate(true)+_1915);break;case "weekday":var days,weeks;var mod=_1915%5;if(!mod){days=(_1915>0)?5:-5;weeks=(_1915>0)?((_1915-5)/5):((_1915+5)/5);}else{days=mod;weeks=parseInt(_1915/5);}var strt=date.getDay();var adj=0;if(strt==6&&_1915>0){adj=1;}else{if(strt==0&&_1915<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_1915>0)?2:-2;}_1915=(7*weeks)+days+adj;_1916.setDate(date.getDate(true)+_1915);break;case "year":_1916.setFullYear(date.getFullYear()+_1915);break;case "week":_1915*=7;_1916.setDate(date.getDate(true)+_1915);break;case "month":_1916.setMonth(date.getMonth()+_1915);break;case "hour":_1916.setHours(date.getHours()+_1915);break;case "minute":_1916._addMinutes(_1915);break;case "second":_1916._addSeconds(_1915);break;case "millisecond":_1916._addMilliseconds(_1915);break;}return _1916;};_1910.difference=function(date1,date2,_1917){date2=date2||new BDate();_1917=_1917||"day";var _1918=date2.getFullYear()-date1.getFullYear();var delta=1;switch(_1917){case "weekday":var days=Math.round(_1910.difference(date1,date2,"day"));var weeks=parseInt(_1910.difference(date1,date2,"week"));var mod=days%7;if(mod==0){days=weeks*5;}else{var adj=0;var aDay=date1.getDay();var bDay=date2.getDay();weeks=parseInt(days/7);mod=days%7;var _1919=new BDate(date2);_1919.setDate(_1919.getDate(true)+(weeks*7));var _191a=_1919.getDay();if(days>0){switch(true){case aDay==5:adj=-1;break;case aDay==6:adj=0;break;case bDay==5:adj=-1;break;case bDay==6:adj=-2;break;case (_191a+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==5:adj=0;break;case aDay==6:adj=1;break;case bDay==5:adj=2;break;case bDay==6:adj=1;break;case (_191a+mod)<0:adj=2;}}}days+=adj;days-=(weeks*2);}delta=days;break;case "year":delta=_1918;break;case "month":var _191b=(date2.toGregorian()>date1.toGregorian())?date2:date1;var _191c=(date2.toGregorian()>date1.toGregorian())?date1:date2;var _191d=_191b.getMonth();var _191e=_191c.getMonth();if(_1918==0){delta=_191b.getMonth()-_191c.getMonth();}else{delta=12-_191e;delta+=_191d;var i=_191c.getFullYear()+1;var e=_191b.getFullYear();for(i;i<e;i++){delta+=12;}}if(date2.toGregorian()<date1.toGregorian()){delta=-delta;}break;case "week":delta=parseInt(_1910.difference(date1,date2,"day")/7);break;case "day":delta/=24;case "hour":delta/=60;case "minute":delta/=60;case "second":delta/=1000;case "millisecond":delta*=date2.toGregorian().getTime()-date1.toGregorian().getTime();}return Math.round(delta);};return _1910;});},"dojox/date/buddhist/Date":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/date"],function(lang,_191f,dd){var BDate=_191f("dojox.date.buddhist.Date",null,{_date:0,_month:0,_year:0,_hours:0,_minutes:0,_seconds:0,_milliseconds:0,_day:0,constructor:function(){var len=arguments.length;if(!len){this.fromGregorian(new Date());}else{if(len==1){var arg0=arguments[0];if(typeof arg0=="number"){arg0=new Date(arg0);}if(arg0 instanceof Date){this.fromGregorian(arg0);}else{if(arg0==""){this._date=new Date("");}else{this._year=arg0._year;this._month=arg0._month;this._date=arg0._date;this._hours=arg0._hours;this._minutes=arg0._minutes;this._seconds=arg0._seconds;this._milliseconds=arg0._milliseconds;}}}else{if(len>=3){this._year+=arguments[0];this._month+=arguments[1];this._date+=arguments[2];if(this._month>11){console.warn("the month is incorrect , set 0");this._month=0;}this._hours+=arguments[3]||0;this._minutes+=arguments[4]||0;this._seconds+=arguments[5]||0;this._milliseconds+=arguments[6]||0;}}}},getDate:function(_1920){return parseInt(this._date);},getMonth:function(){return parseInt(this._month);},getFullYear:function(){return parseInt(this._year);},getHours:function(){return this._hours;},getMinutes:function(){return this._minutes;},getSeconds:function(){return this._seconds;},getMilliseconds:function(){return this._milliseconds;},setDate:function(date){date=parseInt(date);if(date>0&&date<=this._getDaysInMonth(this._month,this._year)){this._date=date;}else{var mdays;if(date>0){for(mdays=this._getDaysInMonth(this._month,this._year);date>mdays;date-=mdays,mdays=this._getDaysInMonth(this._month,this._year)){this._month++;if(this._month>=12){this._year++;this._month-=12;}}this._date=date;}else{for(mdays=this._getDaysInMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1);date<=0;mdays=this._getDaysInMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1)){this._month--;if(this._month<0){this._year--;this._month+=12;}date+=mdays;}this._date=date;}}return this;},setFullYear:function(year,month,date){this._year=parseInt(year);},setMonth:function(month){this._year+=Math.floor(month/12);this._month=Math.floor(month%12);for(;this._month<0;this._month=this._month+12){}},setHours:function(){var _1921=arguments.length;var hours=0;if(_1921>=1){hours=parseInt(arguments[0]);}if(_1921>=2){this._minutes=parseInt(arguments[1]);}if(_1921>=3){this._seconds=parseInt(arguments[2]);}if(_1921==4){this._milliseconds=parseInt(arguments[3]);}while(hours>=24){this._date++;var mdays=this._getDaysInMonth(this._month,this._year);if(this._date>mdays){this._month++;if(this._month>=12){this._year++;this._month-=12;}this._date-=mdays;}hours-=24;}this._hours=hours;},_addMinutes:function(_1922){_1922+=this._minutes;this.setMinutes(_1922);this.setHours(this._hours+parseInt(_1922/60));return this;},_addSeconds:function(_1923){_1923+=this._seconds;this.setSeconds(_1923);this._addMinutes(parseInt(_1923/60));return this;},_addMilliseconds:function(_1924){_1924+=this._milliseconds;this.setMilliseconds(_1924);this._addSeconds(parseInt(_1924/1000));return this;},setMinutes:function(_1925){this._minutes=_1925%60;return this;},setSeconds:function(_1926){this._seconds=_1926%60;return this;},setMilliseconds:function(_1927){this._milliseconds=_1927%1000;return this;},toString:function(){return isNaN(this._date)?"Invalid Date":this._date+", "+this._month+", "+this._year+"  "+this._hours+":"+this._minutes+":"+this._seconds;},_getDaysInMonth:function(month,year){return dd.getDaysInMonth(new Date(year-543,month));},fromGregorian:function(gdate){var date=new Date(gdate);this._date=date.getDate();this._month=date.getMonth();this._year=date.getFullYear()+543;this._hours=date.getHours();this._minutes=date.getMinutes();this._seconds=date.getSeconds();this._milliseconds=date.getMilliseconds();this._day=date.getDay();return this;},toGregorian:function(){return new Date(this._year-543,this._month,this._date,this._hours,this._minutes,this._seconds,this._milliseconds);},getDay:function(){return this.toGregorian().getDay();}});BDate.prototype.valueOf=function(){return this.toGregorian().valueOf();};return BDate;});},"dojox/date/buddhist/locale":function(){define(["../..","dojo/_base/lang","dojo/_base/array","dojo/date","dojo/i18n","dojo/regexp","dojo/string","./Date","dojo/i18n!dojo/cldr/nls/buddhist"],function(dojox,lang,arr,dd,i18n,_1928,_1929,BDate){var _192a=lang.getObject("date.buddhist.locale",true,dojox);function _192b(_192c,_192d,_192e,_192f,_1930){return _1930.replace(/([a-z])\1*/ig,function(match){var s,pad;var c=match.charAt(0);var l=match.length;var _1931=["abbr","wide","narrow"];switch(c){case "G":s=_192d["eraAbbr"][0];break;case "y":s=String(_192c.getFullYear());break;case "M":var m=_192c.getMonth();if(l<3){s=m+1;pad=true;}else{var propM=["months","format",_1931[l-3]].join("-");s=_192d[propM][m];}break;case "d":s=_192c.getDate(true);pad=true;break;case "E":var d=_192c.getDay();if(l<3){s=d+1;pad=true;}else{var propD=["days","format",_1931[l-3]].join("-");s=_192d[propD][d];}break;case "a":var _1932=(_192c.getHours()<12)?"am":"pm";s=_192d["dayPeriods-format-wide-"+_1932];break;case "h":case "H":case "K":case "k":var h=_192c.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_192c.getMinutes();pad=true;break;case "s":s=_192c.getSeconds();pad=true;break;case "S":s=Math.round(_192c.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "z":s=dd.getTimezoneName(_192c.toGregorian());if(s){break;}l=4;case "Z":var _1933=_192c.toGregorian().getTimezoneOffset();var tz=[(_1933<=0?"+":"-"),_1929.pad(Math.floor(Math.abs(_1933)/60),2),_1929.pad(Math.abs(_1933)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojox.date.buddhist.locale.formatPattern: invalid pattern char: "+_1930);}if(pad){s=_1929.pad(s,l);}return s;});};_192a.format=function(_1934,_1935){_1935=_1935||{};var _1936=i18n.normalizeLocale(_1935.locale);var _1937=_1935.formatLength||"short";var _1938=_192a._getBuddhistBundle(_1936);var str=[];var sauce=lang.hitch(this,_192b,_1934,_1938,_1936,_1935.fullYear);if(_1935.selector=="year"){var year=_1934.getFullYear();return year;}if(_1935.selector!="time"){var _1939=_1935.datePattern||_1938["dateFormat-"+_1937];if(_1939){str.push(_193a(_1939,sauce));}}if(_1935.selector!="date"){var _193b=_1935.timePattern||_1938["timeFormat-"+_1937];if(_193b){str.push(_193a(_193b,sauce));}}var _193c=str.join(" ");return _193c;};_192a.regexp=function(_193d){return _192a._parseInfo(_193d).regexp;};_192a._parseInfo=function(_193e){_193e=_193e||{};var _193f=i18n.normalizeLocale(_193e.locale);var _1940=_192a._getBuddhistBundle(_193f);var _1941=_193e.formatLength||"short";var _1942=_193e.datePattern||_1940["dateFormat-"+_1941];var _1943=_193e.timePattern||_1940["timeFormat-"+_1941];var _1944;if(_193e.selector=="date"){_1944=_1942;}else{if(_193e.selector=="time"){_1944=_1943;}else{_1944=(typeof (_1943)=="undefined")?_1942:_1942+" "+_1943;}}var _1945=[];var re=_193a(_1944,lang.hitch(this,_1946,_1945,_1940,_193e));return {regexp:re,tokens:_1945,bundle:_1940};};_192a.parse=function(value,_1947){value=value.replace(/[\u200E\u200F\u202A-\u202E]/g,"");if(!_1947){_1947={};}var info=_192a._parseInfo(_1947);var _1948=info.tokens,_1949=info.bundle;var re=new RegExp("^"+info.regexp+"$");var match=re.exec(value);var _194a=i18n.normalizeLocale(_1947.locale);if(!match){return null;}var date,date1;var _194b=[2513,0,1,0,0,0,0];var amPm="";var _194c=0;var _194d=["abbr","wide","narrow"];var valid=arr.every(match,function(v,i){if(!i){return true;}var token=_1948[i-1];var l=token.length;switch(token.charAt(0)){case "y":_194b[0]=Number(v);break;case "M":if(l>2){var _194e=_1949["months-format-"+_194d[l-3]].concat();if(!_1947.strict){v=v.replace(".","").toLowerCase();_194e=arr.map(_194e,function(s){return s?s.replace(".","").toLowerCase():s;});}v=arr.indexOf(_194e,v);if(v==-1){return false;}_194c=l;}else{v--;}_194b[1]=Number(v);break;case "D":_194b[1]=0;case "d":_194b[2]=Number(v);break;case "a":var am=_1947.am||_1949["dayPeriods-format-wide-am"],pm=_1947.pm||_1949["dayPeriods-format-wide-pm"];if(!_1947.strict){var _194f=/\./g;v=v.replace(_194f,"").toLowerCase();am=am.replace(_194f,"").toLowerCase();pm=pm.replace(_194f,"").toLowerCase();}if(_1947.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":_194b[3]=Number(v);break;case "m":_194b[4]=Number(v);break;case "s":_194b[5]=Number(v);break;case "S":_194b[6]=Number(v);}return true;});var hours=+_194b[3];if(amPm==="p"&&hours<12){_194b[3]=hours+12;}else{if(amPm==="a"&&hours==12){_194b[3]=0;}}var _1950=new BDate(_194b[0],_194b[1],_194b[2],_194b[3],_194b[4],_194b[5],_194b[6]);return _1950;};function _193a(_1951,_1952,_1953,_1954){var _1955=function(x){return x;};_1952=_1952||_1955;_1953=_1953||_1955;_1954=_1954||_1955;var _1956=_1951.match(/(''|[^'])+/g);var _1957=_1951.charAt(0)=="'";arr.forEach(_1956,function(chunk,i){if(!chunk){_1956[i]="";}else{_1956[i]=(_1957?_1953:_1952)(chunk);_1957=!_1957;}});return _1954(_1956.join(""));};function _1946(_1958,_1959,_195a,_195b){_195b=_1928.escapeString(_195b);var _195c=i18n.normalizeLocale(_195a.locale);return _195b.replace(/([a-z])\1*/ig,function(match){var s;var c=match.charAt(0);var l=match.length;var p2="",p3="";if(_195a.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d+";break;case "M":s=(l>2)?"\\S+":p2+"[1-9]|1[0-2]";break;case "d":s="[12]\\d|"+p2+"[1-9]|3[01]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s=p2+"\\d|[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_195a.am||_1959["dayPeriods-format-wide-am"],pm=_195a.pm||_1959["dayPeriods-format-wide-pm"];if(_195a.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}}break;default:s=".*";}if(_1958){_1958.push(match);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _195d=[];_192a.addCustomFormats=function(_195e,_195f){_195d.push({pkg:_195e,name:_195f});};_192a._getBuddhistBundle=function(_1960){var _1961={};arr.forEach(_195d,function(desc){var _1962=i18n.getLocalization(desc.pkg,desc.name,_1960);_1961=lang.mixin(_1961,_1962);},this);return _1961;};_192a.addCustomFormats("dojo.cldr","buddhist");_192a.getNames=function(item,type,_1963,_1964,date){var label;var _1965=_192a._getBuddhistBundle(_1964);var props=[item,_1963,type];if(_1963=="standAlone"){var key=props.join("-");label=_1965[key];if(label[0]==1){label=undefined;}}props[1]="format";return (label||_1965[props.join("-")]).concat();};return _192a;});},"dojo/cldr/nls/buddhist":function(){define({root:{"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"months-format-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"field-second-relative+0":"now","quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday","dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"MMM d, E","eraNarrow":["BE"],"field-tue-relative+-1":"last Tuesday","days-format-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"G y MMMM d","field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"dateFormatItem-yyyyQQQ":"G y QQQ","dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"G y MMMM d, EEEE","dateFormatItem-yyyyMEd":"GGGGG y-MM-dd, E","field-thu-relative+-1":"last Thursday","dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","field-era":"Era","months-standAlone-wide":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"timeFormat-long":"HH:mm:ss z","field-year":"Year","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday","timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday","dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-yyyyMMMEd":"G y MMM d, E","dateFormatItem-M":"L","days-standAlone-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-yyyyMMM":"G y MMM","dateFormatItem-yyyyMMMd":"G y MMM d","dayPeriods-format-abbr-noon":"noon","timeFormat-medium":"HH:mm:ss","field-sun-relative+0":"this Sunday","dateFormatItem-Hm":"HH:mm","field-sun-relative+1":"next Sunday","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraAbbr":["BE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-h":"h a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E","dateTimeFormat-full":"{1} {0}","field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"field-zone":"Zone","months-standAlone-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"dateFormatItem-y":"G y","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{1} {0}","dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"eraNames":["BE"],"days-format-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-yyyyMd":"GGGGG y-MM-dd","field-month":"Month","days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","field-tue-relative+0":"this Tuesday","field-tue-relative+1":"next Tuesday","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormatItem-EHm":"E HH:mm","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday","dateFormat-short":"GGGGG y-MM-dd","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","field-sat-relative+-1":"last Saturday","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateTimeFormats-appendItem-Timezone":"{0} {1}","dateFormatItem-Ed":"d, E","field-week":"Week","dateFormat-medium":"G y MMM d","field-week-relative+-1":"last week","field-year-relative+0":"this year","dateFormatItem-yyyyM":"GGGGG y-MM","field-year-relative+1":"next year","dayPeriods-format-narrow-pm":"p","dateFormatItem-yyyyQQQQ":"G y QQQQ","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM","field-mon-relative+-1":"last Monday","dateFormatItem-yyyy":"G y","field-week-relative+0":"this week","field-week-relative+1":"next week"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"es":true,"fi":true,"fr":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true});},"dojo/cldr/nls/en/buddhist":function(){define({"field-second-relative+0":"now","field-weekday":"Day of the Week","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday","dateFormatItem-GyMMMEd":"E, MMM d, y G","dateFormatItem-MMMEd":"E, MMM d","field-tue-relative+-1":"last Tuesday","days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"dateFormat-long":"MMMM d, y G","field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"dateFormatItem-yyyyQQQ":"QQQ y G","dateTimeFormat-medium":"{1}, {0}","dateFormat-full":"EEEE, MMMM d, y G","dateFormatItem-yyyyMEd":"E, M/d/y GGGGG","field-thu-relative+-1":"last Thursday","dateFormatItem-Md":"M/d","field-era":"Era","timeFormat-short":"h:mm a","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"timeFormat-long":"h:mm:ss a z","field-year":"Year","dateTimeFormats-appendItem-Era":"{0} {1}","field-hour":"Hour","months-format-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday","timeFormat-full":"h:mm:ss a zzzz","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday","dateFormatItem-GyMMMd":"MMM d, y G","dateFormatItem-Gy":"y G","dateFormatItem-yyyyMMMEd":"E, MMM d, y G","dateFormatItem-yyyyMMM":"MMM y G","dateFormatItem-yyyyMMMd":"MMM d, y G","timeFormat-medium":"h:mm:ss a","field-sun-relative+0":"this Sunday","field-sun-relative+1":"next Sunday","eraAbbr":["BE"],"field-minute":"Minute","field-dayperiod":"AM/PM","field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} 'at' {0}","dateFormatItem-MEd":"E, M/d","dateTimeFormat-full":"{1} 'at' {0}","field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"field-zone":"Time Zone","dateFormatItem-y":"y G","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{0} {1}","dateFormatItem-yyyyMd":"M/d/y GGGGG","field-month":"Month","field-tue-relative+0":"this Tuesday","field-tue-relative+1":"next Tuesday","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday","dateFormat-short":"M/d/y GGGGG","field-second":"Second","field-sat-relative+-1":"last Saturday","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateFormatItem-Ed":"d E","field-week":"Week","dateFormat-medium":"MMM d, y G","field-year-relative+0":"this year","field-week-relative+-1":"last week","dateFormatItem-yyyyM":"M/y GGGGG","field-year-relative+1":"next year","dateFormatItem-yyyyQQQQ":"QQQQ y G","dateTimeFormat-short":"{1}, {0}","dateFormatItem-GyMMM":"MMM y G","field-mon-relative+-1":"last Monday","dateFormatItem-yyyy":"y G","field-week-relative+0":"this week","field-week-relative+1":"next week"});},"dojo/cldr/nls/nl/buddhist":function(){define({"days-standAlone-short":["zo","ma","di","wo","do","vr","za"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-second-relative+0":"nu","field-weekday":"Dag van de week","field-wed-relative+0":"deze woensdag","field-wed-relative+1":"volgende week woensdag","dateFormatItem-GyMMMEd":"E d MMM y G","dateFormatItem-MMMEd":"E d MMM","field-tue-relative+-1":"afgelopen dinsdag","days-format-short":["zo","ma","di","wo","do","vr","za"],"dateFormat-long":"d MMMM y G","field-fri-relative+-1":"afgelopen vrijdag","field-wed-relative+-1":"afgelopen woensdag","months-format-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"dateFormatItem-yyyyQQQ":"QQQ y G","dateFormat-full":"EEEE d MMMM y G","dateFormatItem-yyyyMEd":"E d-M-y GGGGG","field-thu-relative+-1":"afgelopen donderdag","dateFormatItem-Md":"d-M","dayPeriods-format-wide-noon":"12 uur 's middags","field-era":"Tijdperk","months-standAlone-wide":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],"quarters-format-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"field-year":"Jaar","dateFormatItem-yyyyMMMM":"MMMM y G","field-hour":"Uur","months-format-abbr":["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],"field-sat-relative+0":"deze zaterdag","field-sat-relative+1":"volgende week zaterdag","field-day-relative+0":"vandaag","field-thu-relative+0":"deze donderdag","field-day-relative+1":"morgen","field-thu-relative+1":"volgende week donderdag","dateFormatItem-GyMMMd":"d MMM y G","field-day-relative+2":"overmorgen","months-standAlone-abbr":["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],"quarters-format-abbr":["K1","K2","K3","K4"],"quarters-standAlone-wide":["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],"dateFormatItem-Gy":"y G","dateFormatItem-yyyyMMMEd":"E d MMM y G","dateFormatItem-M":"L","days-standAlone-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"dateFormatItem-yyyyMMM":"MMM y G","dateFormatItem-yyyyMMMd":"d MMM y G","dateFormatItem-MMMMd":"d MMMM","dayPeriods-format-abbr-noon":"12 uur 's middags","field-sun-relative+0":"deze zondag","field-sun-relative+1":"volgende week zondag","quarters-standAlone-abbr":["K1","K2","K3","K4"],"eraAbbr":["BE"],"field-minute":"Minuut","field-dayperiod":"AM/PM","days-standAlone-abbr":["zo","ma","di","wo","do","vr","za"],"dateFormatItem-d":"d","field-day-relative+-1":"gisteren","dayPeriods-format-narrow-am":"AM","field-day-relative+-2":"eergisteren","dateFormatItem-MMMd":"d MMM","dateFormatItem-MEd":"E d-M","field-fri-relative+0":"deze vrijdag","field-fri-relative+1":"volgende week vrijdag","field-day":"Dag","days-format-wide":["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],"field-zone":"Zone","dateFormatItem-y":"y G","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"vorig jaar","field-month-relative+-1":"vorige maand","days-format-abbr":["zo","ma","di","wo","do","vr","za"],"days-format-narrow":["Z","M","D","W","D","V","Z"],"dateFormatItem-yyyyMd":"d-M-y GGGGG","field-month":"Maand","dateFormatItem-MMM":"LLL","days-standAlone-narrow":["Z","M","D","W","D","V","Z"],"field-tue-relative+0":"deze dinsdag","field-tue-relative+1":"volgende week dinsdag","field-mon-relative+0":"deze maandag","field-mon-relative+1":"volgende week maandag","dateFormat-short":"dd-MM-yy GGGGG","field-second":"Seconde","field-sat-relative+-1":"afgelopen zaterdag","field-sun-relative+-1":"afgelopen zondag","field-month-relative+0":"deze maand","field-month-relative+1":"volgende maand","dateFormatItem-Ed":"E d","field-week":"Week","dateFormat-medium":"d MMM y G","field-year-relative+0":"dit jaar","field-week-relative+-1":"vorige week","dateFormatItem-yyyyM":"M-y GGGGG","field-year-relative+1":"volgend jaar","dayPeriods-format-narrow-pm":"PM","dateFormatItem-yyyyQQQQ":"QQQQ y G","dateFormatItem-GyMMM":"MMM y G","field-mon-relative+-1":"afgelopen maandag","dateFormatItem-yyyy":"y G","field-week-relative+0":"deze week","field-week-relative+1":"volgende week"});},"mendix/sys/Data":function(){define(["mendix/lib/Error","mendix/lib/ValidationError","mendix/lib/ObjectValidation","mendix/ov","mendix/lib/MxObject","mendix/lang","mendix/logger","webcore/MxObjectCache","webcore/offline","bluebird/bluebird","dojo/_base/array","dojo/_base/lang","big/big"],function(Error,_1966,_1967,ov,_1968,lang,_1969,_196a,_196b,_196c,_196d,_196e,Big){function Data(_196f){_196f=_196f||{};var self=this,name="mendix.sys.Data",_1970=new _196a(),_1971={},_1972={},subs={entities:{},guids:{},attrs:{},vals:{}};var _1973={getByGuid:function(guids,_1974,_1975,_1976,error){if(_1975){var objs=_196d.filter(_196d.map(guids,_1970.getObject,_1970),function(mxobj){return mxobj!=null;});var _1977=_196d.every(guids,function(guid){return _1970.has(guid)||_1970.isBlacklisted(guid);});if(_1977){var _1978=objs;if(_1974.sort){_196d.forEach(_1974.sort,function(sort){var attr=sort[0],dir=sort[1];_1978=_1978.sort(dir=="asc"?function(a,b){a=a.get2(attr);b=b.get2(attr);if(a<b){return -1;}else{if(a>b){return 1;}}return 0;}:function(a,b){a=a.get2(attr);b=b.get2(attr);if(a<b){return 1;}else{if(a>b){return -1;}}return 0;});});}var _1979=_1974.offset;if(_1979){var limit=_1974.amount;if(limit){_1978=_1978.slice(_1979,_1979+limit);}else{_1978=_1978.slice(_1979);}}_196d.forEach(_1978,_1970.reference,_1970);if(_1976){_1976(_1978,objs.length);}return;}}var _197a=_1974.attributes==null;window.mx.server.request({request:{action:"retrieve_by_ids",params:{ids:guids,schema:_1974}},options:{callback:function(type,json){var objs=json.mxobjects||[];var _197b=_196d.map(objs,function(obj){return _197c(true,_197a,true,obj);});if(_1976){_1976(_197b,_197b.length);}},error:error}});},retrieveByPath:function(guid,path,_197d,error){window.mx.server.request({request:{action:"retrieve_by_path",params:{id:guid,path:path},context:null},options:{callback:function(type,json){var objs=json.mxobjects||[];var _197e=_196d.map(objs,function(obj){return _197c(true,true,true,obj);});if(_197d){_197d(_197e,_197e.length);}},error:error}});},fetch:function(obj,_197f,attr,_1980,_1981,error){var _1982=obj;var _1983=false;var _1984;if(_1980.schema){_1984=_197f.splice(-2,_197f.length);}else{_1984=[];}var _1985=function(_1986,ref){if(_1986.isObjectReference(ref)){return _1986.getReference(ref);}else{if(_1986.isObjectReferenceSet(ref)){return _1986.getReferences(ref);}else{return _1986.get2(ref);}}};var _1987=function(){if(_1982==null){_1981(null,false);}else{if(!attr){_1981(_1982,_1983);}else{if(attr){_1981(_1985(_1982,attr),false);}}}};var _1988=function(ref){if(_1982.getReferences(ref).length===0){_1981([],false);}else{if(_1982.hasChildren(ref)){_1981(_1982.getChildren(ref),false);}else{window.mx.data.get({guids:_1982.getReferences(ref),filter:{id:_1980.schema},callback:function(objs){_1981(objs,true);},error:error});}}};var _1989=function(ref,_198a){var guid=_1982.getReference(ref);if(guid){window.mx.data.get({guid:guid,filter:{id:_198a},callback:function(obj){if(obj){_1982=obj;_1983=true;_198b();}else{_1981(null,false);}},error:error});}else{_1981(null,false);}};var _198c=function(path){var _198d,_198e;if(path.length<3){return false;}_198d=window.mx.meta.getEntity(path.slice(-3)[0]),_198e=_197f.slice(-2)[0];return _198d.isObjectReferenceSet(_198e);};var _198f=function(_1990,type){var _1991=["//"+type+"[id="+_1990+"]"],isSet=_198c([type].concat(_197f));Array.prototype.push.apply(_1991,_197f);_197f=[];window.mx.data.get({xpath:_1991.join("/"),callback:function(objs){if(objs.length===0){_1981(null,false);}else{if(attr&&objs.length==1){_1982=objs[0];_1987();}else{if(!attr){if(isSet){_1981(objs,false);}else{_1982=objs[0];_198b();}}else{_1993(error,null,new Error(name+".fetch"+attr+" is not a reference type"),"fetch");}}}},error:error});};var _198b=function(){var ref,type,child,_1992;if(_197f.length+_1984.length===0){_1987();}else{if(_197f.length===0&&_1984.length>0){ref=_1984.shift();type=_1984.shift();if(_1982.isObjectReferenceSet(ref)){_1988(ref);}else{_1989(ref,_1980.schema);}}else{if(_1983){window.mx.data.release(_1982);_1983=false;}ref=_197f.shift();type=_197f.shift();if(_1982.isObjectReferenceSet(ref)){if(_197f.length>0||_1984>0){_1993(error,null,new Error(name+".fetch: reference set should be at end of path"),"fetch");}else{_1988(ref);}}else{if(_1982.isObjectReference(ref)){child=_1982.getChild(ref);if(child){_1982=child;_198b();}else{_1992=_1982.getReference(ref);if(!_1992){_1981(null,false);}else{if(_1970.has(_1992)){_1982=_1970.getObject(_1992);_1970.reference(_1992);_1983=true;_198b();}else{if(_1980.usexpath&&_197f.length>0){_198f(_1992,type);}else{_1989(ref);}}}}}else{_1993(error,null,new Error(name+".fetch: attribute "+ref+" is not a reference type"),"fetch");}}}}};_198b();},release:function(guid){if(_1970.has(guid)&&_1970.isReferenced(guid)){_1970.unreference(guid);if(!_1970.isReferenced(guid)&&!_1994(guid)){_1995(guid);}}else{}},action:function(_1996,_1997,store,async,_1998,_1999,error){window.mx.server.request({request:{action:"executeaction",params:_1996,context:_1997},options:{callback:function(_199a,_199b,_199c){var _199d=_199b.actionResult,value;if(_199d instanceof Array){value=_196d.map(_199d,function(obj){return _197c(false,true,true,obj);});}else{if(typeof _199d=="object"&&_199d.guid){value=[_197c(false,true,true,_199d)];}else{value=_199b.actionResult;}}if(_1999){_1999(value,_199c);}},error:error,store:store,async:async,onValidation:_1998}});}};var _199e={getByGuid:function(guids,_199f,_19a0,_19a1,error){_196c.all(guids.map(_196b.getByGuid)).then(function(_19a2){if(_19a1){var begin=(_199f&&_199f.offset)||0;var end=(_199f&&_199f.amount)||_19a2.length;_19a1(_19a2.slice(begin,end),_19a2.length);}}).caught(error);},retrieveByPath:function(guid,path,_19a3,error){error(new Error("Not implemented yet"));},fetch:function(obj,_19a4,attr,_19a5,_19a6,error){var p=_196b.getByGuid(obj.getGuid());for(var i=0;i<_19a4.length-1;i+=2){p=p.then(this._fetchForPathElement(_19a4[i]));}return p.then(function(mxobj){if(_19a6){_19a6(mxobj,false);}}).caught(error);},release:function(guid){},action:function(_19a7,_19a8,store,async,_19a9,_19aa,error){error(new Error("Not implemented yet"));},_fetchForPathElement:function(_19ab){return function(mxobj){var _19ac=null;if(mxobj){var guid=mxobj.getAttribute(_19ab);if(guid){_19ac=_196b.getByGuid(guid);}}return _19ac;};}};var _19ad=_196f.useBrowserBackend?_199e:_1973;var _19ae=function(_19af,_19b0,map){if(!_19b0){return _19af;}for(var i in map){if((i in _19b0)&&(_19b0[i]!=null)){_19af[i]=_19b0[i];}}return _19af;};var _19b1=function(_19b2,_19b3,args,_19b4){try{_19b2&&_19b2.apply(_19b3,args||[]);}catch(e){_1969.error(name+_19b4+" : "+e.message+" "+(_19b3?"("+_19b3+")":""));}};var _1993=function(_19b5,_19b6,e,fname){try{if(_19b5){_19b5.call(_19b6,e);}else{_1969.error("unhandled error: "+e.message);window.mx.onError(e);}}catch(err){_1969.error("error in "+name+"."+fname+" while calling error handler: "+err.message);}};var _1994=function(guid){var _19b7=lang.itemCount;return (_19b7(subs.guids[guid])||_19b7(subs.attrs[guid]));};function _1995(guid){if(!_1994(guid)){_1970.removeObject(guid);delete _1972[guid];window.mx.server.release(guid);}};function _197c(keep,_19b8,_19b9,_19ba){var _19bb=_1970.getObject(_19ba.guid);if(_19b8&&_19bb){if(!keep||!_19bb.hasChanges()){_1970.reset(_19ba);}if(_19b9){_1970.reference(_19ba.guid);}return _19bb;}else{var obj=new _1968({json:_19ba,meta:window.mx.meta.getEntity(_19ba.objectType)});if(_19b8&&!_19bb){_1970.add(obj);if(_19b9){_1970.reference(_19ba.guid);}}else{if(!_19b8&&_19bb){_1995(_19ba.guid);}}return obj;}};var _19bc=function(_19bd,_19be,_19bf){var _19c0=function(type,json){var objs;if(json.mxobject){objs=[json.mxobject];}else{if(json.mxobjects&&json.mxobjects.mxobjects){objs=json.mxobjects.mxobjects;if(!objs.length){objs=[objs];}}else{objs=json.mxobjects;}}var _19c1=(objs&&objs.length)?_196d.map(objs,function(obj){return _197c(true,_19be,_19bf,obj);}):[];_19bd(_19c1,{count:json.count,aggregates:_196d.map(json.aggregates,function(agg){return agg===""?agg:new Big(agg);})});};return _19c0;};function _19c2(_19c3,_19c4){var guid=_19c3.getGuid();var _19c5=_1970.getObject(guid);if(_19c4){if(_19c5){_1970.reset(_19c4.jsonData);}else{_1970.add(_19c4);}if(_19c3!==_19c5){_19c3.resetFromJSON(_19c4.jsonData);}self.objectUpdateNotification(_19c4);}else{_1970.blacklist(guid);}};var _19c6=function(meta,_19c7){var _19c8={};_196d.forEach(meta.getAttributes(),function(ref){if(!meta.isReference(ref)){return;}var value=_19c7.getContext(meta.getSelectorEntity(ref));if(value){_19c8[ref]=value;}});return _19c8;};var _19c9=function(mxobj,path,_19ca,error){var split=path.split("/");var _19cb=function(objs){var _19cc=split.shift(),ref=split.shift(),_19cd;if(objs==null||objs.length==null||objs.length===0){_19ca(null);return;}var carr=[];for(var i=0;i<objs.length;i++){if(objs[i]==null){continue;}carr.push("id='"+objs[i].getGuid()+"'");}if(!carr.length){_19ca(null);return;}var ids=carr.join(" or ");_19cd="["+ref+"/"+_19cc+"["+ids+"]]";if(split.length==1){_19ca(_19cd);}else{var child=split[0];_19cc=split.shift();ref=split.shift();_19ca("["+ref+"/"+_19cc+""+_19cd+"]");}};var _19ce=function(){var _19cf=split.shift(),ref=split.shift();if(split.length==1){var _19d0="["+ref+"='"+mxobj.getGuid()+"']";_19ca(_19d0);return;}if(window.mx.meta.getEntity(_19cf)==null){_1993(error,null,new Error(name+".runMapPath: entity"+_19cf+" does not exist"),"runMapPath");return;}if(!mxobj.isA(_19cf)){_1993(error,null,new Error(name+".runMapPath: entity "+mxobj.getEntity()+" is not a "+_19cf+" or one of its subclasses"),"runMapPath");return;}if(!mxobj.has(ref)){_1993(error,null,new Error(name+".runMapPath: reference "+ref+" not found in entity "+_19cf),"runMapPath");return;}if(mxobj.get2(ref)!==""){self.get({guids:mxobj.getReferences(ref),callback:_19cb,error:error});}else{_19ca(null);}};_19ce();};this.getBacktrackConstraints=function(_19d1,_19d2,_19d3,error,scope){if(!_196e.isFunction(error)){scope=error;error=null;}self.getBacktrack(_19d2.getTrackId(),_19d2.getConstraints(),_19d3,error,scope);};var _19d4=this.getBacktrackConstraints;this.getBacktrack=function(guid,paths,_19d5,error,scope){if(!_196e.isFunction(error)){scope=error;error=null;}if(!paths||paths.length===0){_19d5.call(scope,"",true);return;}var mxobj=null,_19d6=[],_19d7=0,_19d8=true;var _19d9=function(){var path=paths[_19d7++];if(path){_19c9(mxobj,path,function(_19da){if(_19da){_19d6.push(_19da);}else{_19d8=false;}_19d9();},function(e){_1993(error,scope,e,"getBacktrack");});}else{_19d5.call(scope,_19d6.join(""),_19d8);}};if(!guid){_19d5.call(scope,"",false);}else{self.get({guid:guid,callback:function(obj){mxobj=obj;_19d9();},error:function(e){_1993(error,scope,e,"getBacktrack");}});}};var _19db=function(meta,_19dc){var _19dd=[],_19de=_19c6(meta,_19dc);for(var m in _19de){if(m=="System.changedBy"||m=="System.owner"){continue;}if(meta.has(m)){var attr=meta.getAttributeType(m);switch(attr){case "ObjectReference":_19dd.push("["+m+"='"+_19de[m]+"']");break;case "ObjectReferenceSet":_19dd.push("["+m+"='"+_19de[m]+"']");break;default:}}}return _19dd.join("");};var _19df=function(_19e0){var _19e1=_19e0.entity||_19e0.className,meta=window.mx.meta.getEntity(_19e1),_19e2=_19e0.context,xpath="//"+_19e1,_19e3=_19db(meta,_19e2);var _19e4=function(_19e5,_19e6){if(_19e0.callback){_19e0.callback(xpath+_19e3+_19e5,_19e6);}};if(_19e2.getConstraints().length!==0){_19d4(meta,_19e2,_19e4,_19e0.error);}else{_19e4("",true);}};var _19e7=function(_19e8){window.mx.server.request({request:{action:"retrieve_xpath_aggregate",params:{xpath:_19e8.type+"("+_19e8.xpath+")",resulttype:_19e8.resulttype||"integer"}},options:{callback:function(code,json){var value;if(json){if(_19e8.resulttype=="float"){value=parseFloat(json.value).toFixed(2)||"0.00";}else{value=json.value||0;}}else{value=0;}_19e8.callback&&_19e8.callback(value);},error:function(e){_1993(_19e8.error,null,e,"numericXPathResult");},useCache:false,preventCache:true}});};var _19e9=function(_19ea){var _19eb;if(_19ea===""){return;}else{if(_19ea.match(/^\[[^=\[]+=.[0-9]+./)){_19eb=_196d.map(_19ea.match(/\[.+?\]/g),function(part){part=part.substr(1,part.length-2);return {ref:part.match(/[^=]+/)[0],ref_ids:part.match(/\d+/)[0]};});}else{_19eb=_196d.map(_19ea.match(/\[.+?\]]/g),function(part){part=part.substr(1,part.length-3);var split=part.split("[");return {ref:split[0].split("/")[0],ref_ids:split[1]};});}}return _19eb;};function _19ec(){var _19ed=_1970.filter(function(guid){return !_1970.isBlacklisted(guid)&&!_1970.isReferenced(guid)&&!_1994(guid);});_196d.forEach(_19ed,function(guid){_1970.removeObject(guid);delete _1972[guid];window.mx.server.release(guid);});};this.toString=function(){return name;};this.startup=function(){window.mx.server.registerCaller(_196e.hitch(this,"flush"));window.setInterval(_19ec,10000);};this.subscribe=function(args,scope){var id=lang.getUniqueId(),_19ee=args.entity,guid=args.guid,val=args.val,attr=args.attr,_19ef=scope?function(){args.callback.apply(scope,arguments);}:args.callback;if(attr){if(!subs.attrs[guid]){subs.attrs[guid]={};}if(!subs.attrs[guid][attr]){subs.attrs[guid][attr]={};}subs.attrs[guid][attr][id]=_19ef;}else{if(val){if(!subs.vals[guid]){subs.vals[guid]={};}subs.vals[guid][id]=_19ef;}else{if(guid){if(!subs.guids[guid]){subs.guids[guid]={};}subs.guids[guid][id]=_19ef;}else{if(_19ee){if(!subs.entities[_19ee]){subs.entities[_19ee]={};}subs.entities[_19ee][id]=_19ef;}else{_1969.error(name+".subscribe: no 'entity' or 'guid' parameter found");}}}}return {entity:_19ee,guid:guid,val:val,attr:attr,id:id};};this.unsubscribe=function(args){if(args==null){return;}var id=args.id,_19f0=args.entity,guid=args.guid,val=args.val,attr=args.attr,count=lang.itemCount;if(attr){var _19f1=subs.attrs[guid];if(!_19f1){}else{if(!_19f1[attr]){}else{delete _19f1[attr][id];if(count(_19f1[attr])===0){delete _19f1[attr];}if(count(_19f1)===0){delete subs.attrs[guid];}}}}else{if(val){if(!subs.vals[guid]){}else{delete subs.vals[guid][id];if(count(subs.vals[guid])===0){delete subs.vals[guid];}}}else{if(guid){var _19f2=subs.guids[guid];if(!_19f2){}else{delete _19f2[id];if(count(_19f2)===0){delete subs.guids[guid];}}}else{if(_19f0){var _19f3=subs.entities[_19f0];if(!_19f3){}else{delete _19f3[id];if(count(_19f3)===0){delete subs.entities[_19f0];}}}}}}};this.update=function(args){var guid=args.guid,_19f4=args.entity,attr=args.attr,val=args.val,value=args.value,_19f5=args.callback;var _19f6=function(funcs,args){var map=funcs?_196e.clone(funcs):{};for(var key in map){map[key].apply(null,args);}};if(attr){_19f6(subs.attrs[guid]&&subs.attrs[guid][attr],[guid,attr,value]);}else{if(guid){_19f6(subs.guids[guid],[guid]);}else{if(val){_19f6(subs.vals[guid],[guid]);}else{if(_19f4){_19f6(subs.entities[_19f4],[_19f4]);}else{_1969.error(name+".update: no 'entity' or 'guid' parameter found");}}}}_19f5&&_19f5();};this.objectUpdateNotification=function(mxobj){self.sendClassUpdate(mxobj.getEntity());self.update({guid:mxobj.getGuid()});};this.sendClassUpdate=function(_19f7){var meta=window.mx.meta.getEntity(_19f7);if(!meta){throw new Error("No permission to read or write entity "+_19f7+", check security!");}_196d.forEach([_19f7].concat(meta.getSuperEntities()),function(ent){self.update({entity:ent});});};this.objectPing=function(mxobj,_19f8){var guid=mxobj.getGuid(),list=_196e.clone(subs.guids[guid]),chain=[];if(list){for(var sub in list){chain.push((function(list,sub){return function(cb){try{var _19f9=list[sub];if(_19f9.length==2){_19f9(guid,cb);}else{_19f9(guid);cb();}}catch(e){if(list){delete list[sub];}cb();}};})(list,sub));}lang.collect(chain,_19f8);}else{_19f8&&_19f8();}};this.addValidation=function(guid,attr,_19fa){if(!_1972[guid]){_1972[guid]=new _1967({msg:{guid:guid}});}_1972[guid].addField(attr,_19fa);};this.sendValidationUpdates=function(_19fb){var list,_19fc=[];for(var i=0,_19fd;_19fd=_19fb[i];i++){list=subs.vals[_19fd.getGuid()];var cp=_19fd.clone(),_19fe=cp.getAttributes();if(list){for(var x in list){var _19ff=_19fd.clone();try{list[x]([_19ff]);}catch(e){_1969.error(name+".sendValidationUpdates: trouble triggering validation update: "+e.message);delete list[x];}var attrs=_19ff.getAttributes();_196d.forEach(_19fe,function(attr){var name=attr.name,_1a00=_196d.some(attrs,function(item){return item.name==name;});if(!_1a00){cp.removeAttribute(attr.name);}},this);}}else{}if(cp.getAttributes().length){_19fc.push(cp);}}window.mx.ui.validations(_19fc);};this.action=function(_1a01){_19ad.action(_1a01.params,_1a01.context,_1a01.store,!!_1a01.async,_1a01.onValidation,function(value,_1a02){if(value instanceof Array){_196d.forEach(value,function(mxobj){delete _1972[mxobj.getGuid()];});}if(_1a01.callback){_1a01.callback(value,_1a02);}},function(e){_1993(_1a01.error,null,e,"action");});};this.setOrRetrieveMxObject=function(json){delete _1972[json.guid];return _197c(false,true,false,json);};this.get=function(_1a03,_1a04){var xpath=_1a03.xpath,path=_1a03.path,id=_1a03.guid,ids=(!("guids" in _1a03)&&id)?[id]:_1a03.guids,_1a05=_1a03.callback,error=_1a03.error,_1a06=!!_1a03.noCache,count=!!_1a03.count,_1a07=_1a03.filter,_1a08=!!_1a03.aggregates,_1a09=_1a03.context,_1a0a=_1a03.microflow,err;if(("guid" in _1a03)&&id==null){_19b1(_1a05,_1a04,[null],"");return;}if(!xpath&&!ids&&!_1a0a){err=name+".get: xpath, guid|guids and microflow arguments are undefined";_1969.error(err);throw new Error(err);}if(path&&ids.length!=1){throw new Error(name+".get : path can only be used with a single guid");}if(typeof _1a05!="function"){err=name+".get: callback is not a function";_1969.error(err);throw new Error(err);}else{if(error&&typeof error!="function"){err=name+".get: error is not a function";_1969.error(err);throw new Error(err);}}if(_1a07){if(_1a07.limit){_1a07.amount=_1a07.limit;delete _1a07.limit;}if(_1a07.references){for(var r in _1a07.references){var ref=_1a07.references[r];if(ref.limit){ref.amount=ref.limit;delete ref.limit;}}}}var val=null,_1a0b=_19ae({},_1a07,!id?{"id":val,"attributes":val,"offset":val,"sort":val,"amount":val,"distinct":val,"references":val,"depth":val}:{"id":val}),_1a0c=function(e){_1993(error,_1a04,e,"get");};if(_1a0b.id&&ids&&!id){delete _1a0b.id;}if(_1a0b.id){delete _1a0b.attributes;delete _1a0b.distinct;}if(_1a0a){var _1a0d=ids?"selection":(xpath?"set":"none"),_1a0e={actionname:_1a0a,applyto:_1a0d};if(_1a0d=="selection"){_1a0e.guids=ids;}else{if(_1a0d=="set"){_1a0e.xpath=xpath;if(_1a0b.sort){_1a0e.sort=_1a0b.sort;}}}this.action({params:_1a0e,context:_1a09,callback:function(value,extra){_1a05&&_1a05.call(_1a04,value,extra);},error:_1a0c});}else{if(path&&ids){_19ad.retrieveByPath(ids[0],path,function(_1a0f,count){try{if(_1a05){_1a05.call(_1a04,_1a0f,{count:count});}}catch(e){_1969.error(name+".get: error in handler for "+(id?id:"["+ids+"]")+": "+e.message+" "+(_1a04?"("+_1a04+")":""));}},function(e){_1993(error,_1a04,e,"get");});}else{if(ids){if(ids.length===0){_19b1(_1a05,_1a04,[id?null:[],{count:0}],".get: error in handler");return;}_19ad.getByGuid(ids,_1a0b,!_1a06,function(_1a10,count){var _1a11;if(id){if(_1a0b.id){_1a11=_196d.filter(_1a10,function(mxobj){return mxobj.getGuid()===id;})[0];if(_1a11===undefined){_1993(error,_1a04,new Error("Returned objects do not contain requested one"),"get");return;}}else{_1a11=_1a10[0]||null;}}else{_1a11=_1a10;}try{if(_1a05){_1a05.call(_1a04,_1a11,{count:count});}}catch(e){_1969.error(name+".get: error in handler for "+(id?id:"["+ids+"]")+": "+e.message+" "+(_1a04?"("+_1a04+")":""));}},function(e){_1993(error,_1a04,e,"get");});return true;}else{window.mx.server.request({request:{action:"retrieve_by_xpath",params:{xpath:xpath,schema:_1a0b,count:count,aggregates:_1a08}},options:{callback:_19bc(function(objs,extra){_19b1(_1a05,_1a04,[objs,extra],".get: error in error handler for xpath "+xpath);},false),error:_1a0c}});return true;}}}};this.getBySchema=function(_1a12,_1a13){var guid=_1a12.id,_1a14=_1a12.callback;window.mx.server.request({request:{action:"retrieve_by_id_with_schema",params:_1a12},options:{callback:function(code,json){var _1a15=[],_1a16;_196d.forEach(json.mxobjects,function(_1a17){var _1a18=new _1968({json:_1a17,meta:window.mx.meta.getEntity(_1a17.objectType)});if(_1a17.guid==guid){_1a16=_1a18;}_1a15.push(_1a18);});_1a16.attachReferences(_1a15);_1a14&&_1a14(_1a16,false);},error:function(e){_1993(_1a12.error,_1a13,e,"getBySchema");}}});};this.fetch=function(obj,path,_1a19,_1a1a,error){var _1a1b=obj,_1a1c=false,_1a1d,_1a1e,attr;if(_196e.isFunction(_1a19)){error=_1a1a;_1a1a=_1a19;}if(!path){_1a1d=[];}else{if(path instanceof Array){_1a1d=path.slice();}else{_1a1d=path.split("/");}}if(obj&&obj.isA(_1a1d[0])){_1a1d.shift();}if(_1a1d.length%2==1){attr=_1a1d.pop();}else{attr="";}_19ad.fetch(obj,_1a1d,attr,_1a19,_1a1a,error);};this.release=function(objs){if(!objs){return;}objs=objs instanceof Array?objs:[objs];for(var i=0,len=objs.length;i<len;++i){if(objs[i]){_19ad.release(objs[i].getGuid());}}};this.create=function(_1a1f,_1a20){var error=_1a1f.error,_1a21=_1a1f.context,_1a22=_1a1f.entity,_1a23=_1a1f.persistent,err;if(typeof _1a1f.callback!="function"){err=name+".create: callback is not a function";_1969.error(err);throw new Error(err);}else{if(error&&typeof error!="function"){err=name+".create: error is not a function";_1969.error(err);throw new Error(err);}else{if(typeof _1a22!="string"){err=name+".create: entity is not a string";_1969.error(err);throw new Error(err);}}}var _1a24=function(objs){var obj=objs&&objs[0];if(_1a21){self.setObjectToContext(obj,_1a21);}_1a1f.callback.call(_1a20,obj);};var _1a25=function(e){_1993(error,_1a20,e,"create");};window.mx.server.request({request:{action:_1a23?"create":"instantiate",params:{objecttype:_1a1f.entity,preventCache:(new Date()).getTime()}},options:{callback:_19bc(_1a24,true,true),error:_1a25}});};this.jsonToMxObject=function(json){return new _1968({json:json,meta:window.mx.meta.getEntity(json.objectType)});};this.remove=function(_1a26){var error=_1a26.error,_1a27=_1a26.callback,guids=("guid" in _1a26)?[_1a26.guid]:_1a26.guids;if(("guids" in _1a26)&&!(_1a26.guids instanceof Array)){throw new Error(name+".remove: parameter guids set but not of type Array");}else{if(error&&typeof error!="function"){throw new Error(name+".remove: parameter error set but not of type Function");}else{if(_1a27&&typeof _1a27!="function"){throw new Error(name+".remove: parameter callback set but not of type Function");}}}window.mx.server.request({request:{action:"delete",params:{guids:guids}},options:{callback:function(){_196d.forEach(guids,_1995);lang.nullExec(_1a27);},error:function(e){_1993(error,null,e,"remove");}}});};this.save=function(_1a28,_1a29){var _1a2a,error,mxobj,_1a2b,guid,msg,emsg=".save: error calling handler",e,_1a2c,_1a2d,_1a2e,objsc,obj;if(_1a28){mxobj=_1a28.mxobj;_1a2a=_1a28.callback;error=_1a28.error;_1a2b=_1a28.standalone;}if(typeof _1a2a!="function"){e=name+".save: callback is not a function";_1969.error(e);throw new Error(e);}else{if(mxobj!=null&&!(mxobj instanceof _1968)){e=name+".save: mxobj is not a MxObject";_1969.error(e);throw new Error(e);}}if(mxobj){guid=mxobj.getGuid();emsg=".save: error calling handler for ["+guid+"]";msg=_1972[guid];if(msg){var data=null;if(msg instanceof Error){data=msg;}else{if(msg){data=new _1966();this.sendValidationUpdates([msg.clone()]);}}_1993(error,_1a29,data,"save");return;}else{if(!mxobj.hasChanges()){_19b1(_1a2a,_1a29,null,emsg);return;}}}_1a2d={};if(!_1a2b){_1a2c=_1971;_1971={};_1a2e=0;objsc=0;for(var id in _1a2c){objsc++;obj=_1a2c[id];if(obj.hasChanges()){_1a2e++;_1a2d[id]=obj._collectChanges();}delete _1972[id];}if(!_1a2e){if(objsc){}_19b1(_1a2a,_1a29,null,emsg);return;}}if(mxobj&&!_1a2c[guid]){_1a2d[guid]=mxobj._collectChanges();_1a2c={guid:mxobj};delete _1971[guid];delete _1972[guid];}window.mx.server.request({request:{action:"change",params:_1a2d},options:{onValidation:_1a28.onValidation,sync:true,unique:true,callback:function(){for(var guid in _1a2c){_1a2c[guid]._applyChangeSet();}_1a2c=null;_19b1(_1a2a,_1a29,null,emsg);},error:function(e){data=e.original||{};var _1a2f=false,_1a30=guid;if(ov.hasValidations(data)){_196d.forEach(ov.getValidations(data),function(v){var id=v.getGuid();if(_1a2c[id]){_1972[id]=v;delete _1a2c[id];}if(mxobj&&id==_1a30){_1a2f=true;}});for(var id in _1a2c){_1a2c[id]._applyChangeSet();}}else{_196e.mixin(_1971,_1a2c);_1a2f=true;}_1a2c=null;if(mxobj){if(_1a2f){_1993(error,null,e,"save");}else{_19b1(_1a2a,_1a29,null,emsg);}}else{_19b1(_1a2a,_1a29,null,emsg);}}}});};this.commit=function(_1a31,_1a32){var obj,_1a33,error,_1a34,_1a35,guid,e,msg;if(_1a31){obj=_1a31.mxobj;_1a33=_1a31.callback;error=_1a31.error;_1a34=_1a31.onValidation;_1a35=_1a31.context;}if(typeof _1a33!="function"){e=name+".commit: callback is not a function";_1969.error(e);throw new Error(e);}else{if(obj!=null&&!(obj instanceof _1968)){e=name+".commit: mxobj is not a MxObject";_1969.error(e);throw new Error(e);}}if(obj==null){_19b1(_1a33,_1a32,null,".commit: error when executing handler");}else{guid=obj.getGuid();msg=".commit: error when executing handler for ["+guid+"]";window.mx.server.request({request:{action:"commit",params:{guid:guid},context:_1a35},options:{callback:function(){delete _1972[guid];delete _1971[guid];self.objectUpdateNotification(obj);_19b1(_1a33,_1a32,null,msg);},error:function(e){_1993(error,null,e,"commit");},onValidation:_1a34,store:_1a31.store}});}};this.rollback=function(_1a36,_1a37){var _1a38,obj,error;if(_1a36){_1a38=_1a36.callback;obj=_1a36.mxobj;error=_1a36.error;}var emsg=".rollback: error in handler ",e;if(typeof _1a38!="function"){e=name+".rollback: callback is not a function";_1969.error(e);throw new Error(e);}else{if(obj!=null&&!(obj instanceof _1968)){e=name+".rollback: mxobj is not a MxObject";_1969.error(e);throw new Error(e);}}if(!obj){_19b1(_1a38,_1a37,null,emsg);}else{var guid=obj.getGuid(),claz=obj.getEntity();emsg=name+".rollback: error in handler for ["+guid+"]";delete _1972[guid];delete _1971[guid];window.mx.server.request({request:{action:"rollback",params:{guid:guid}},options:{unique:true,standalone:true,callback:_19bc(function(objs){obj.reset();_19c2(obj,objs[0]);self.sendClassUpdate(claz);_19b1(_1a38,_1a37,null,emsg);},false),error:function(e){_1993(error,null,e,"rollback");}}});}return true;};this.mxObjectsCallback=function(_1a39){return _19bc(_1a39,false);};this.matchObjectsToContext=function(_1a3a){var _1a3b=_1a3a.entity,_1a3c=_1a3a.context,_1a3d=_1a3a.mxobjs,_1a3e=_1a3a.callback,_1a3f=[];_19d4(window.mx.meta.getEntity(_1a3b),_1a3c,function(_1a40){var _1a41=_19e9(_1a40);for(var i=0,obj;obj=_1a3d[i];i++){var _1a42=0;for(var x=0,match;match=_1a41[x];x++){var ref=match.ref,_1a43=match.ref_ids,ids=obj.getReferences(ref),found=false;if(ids!==false){for(var j=0;j<ids.length;j++){if(_1a43.match(ids[j])){found=true;break;}}}found&&_1a42++;}if(_1a42==_1a41.length){_1a3f.push(obj);}}_1a3e(_1a3f);});};this.createXPathString=function(_1a44){var _1a45=_1a44.callback,_1a46=_1a44.entity||_1a44.className,_1a47=_1a44.context;var _1a48=_1a47&&_1a47.getContexts();if(!_1a48||_1a48.length===0){_1a45("//"+_1a46);return;}_19df(_1a44);};this.generateExport=function(_1a49){window.mx.server.request({request:{action:"export",params:_1a49.params},options:{callback:_1a49.callback,error:function(e){_1993(_1a49.error,null,e,"generateExport");},useCache:false,async:true}});};this.setObjectToContext=function(mxObj,_1a4a){if(typeof mxObj!="object"){throw new Error(name+".setObjectToContext: parameter mxObj is not of type Object");}else{if(typeof _1a4a!="object"){throw new Error(name+".setObjectToContext: parameter context is not of type Object");}}try{var _1a4b=mxObj.getAttributes();for(var e=0;e<_1a4b.length;e++){if(mxObj.isReference(_1a4b[e])){var _1a4c=mxObj.getSelectorEntity(_1a4b[e]);if((_1a4b[e]=="System.owner")||(_1a4b[e]=="System.changedBy")){continue;}if(_1a4a.hasContext(_1a4c)){mxObj.addReference(_1a4b[e],_1a4a.getContext(_1a4c));}var meta=window.mx.meta.getEntity(_1a4c);if(meta){if(meta.hasSubEntities()){var _1a4d=meta.getSubEntities();for(var i=0;i<_1a4d.length;i++){if(_1a4a.hasContext(_1a4d[i])){mxObj.addReference(_1a4b[e],_1a4a.getContext(_1a4d[i]));}}}}}}}catch(err){}};this.sumOfXPathSet=function(_1a4e){_1a4e.type="sum";_19e7(_1a4e);};this.countOfXPathSet=function(_1a4f){_1a4f.type="count";_19e7(_1a4f);};this.sizeOfXPathSet=function(_1a50){_1a50.type="count";_19e7(_1a50);};this.avgOfXPathSet=function(_1a51){_1a51.type="avg";_19e7(_1a51);};this.maxOfXPathSet=function(_1a52){_1a52.type="max";_19e7(_1a52);};this.minOfXPathSet=function(_1a53){_1a53.type="min";_19e7(_1a53);};this.makeChange=function(mxobj,attr,value){var guid=mxobj.getGuid();_1971[guid]=mxobj;delete _1972[guid];var _1a54=_1970.getObject(guid);if(_1a54&&mxobj!=_1a54){_1a54._makeChange(attr,value);}else{this.update({guid:guid,attr:attr,value:value});}};this.flush=function(_1a55){if(lang.itemCount(_1971)===0){_1a55&&_1a55();}else{this.save({mxobj:null,callback:_1a55});}};};return Data;});},"webcore/MxObjectCache":function(){define(["dojo/_base/array"],function(_1a56){function _1a57(){this._objectCache={};this._refCounts={};};_1a57.prototype.getObject=function(guid){return this._objectCache[guid]||null;};_1a57.prototype.removeObject=function(guid){if(this._objectCache[guid]){delete this._objectCache[guid];delete this._refCounts[guid];}};_1a57.prototype.reset=function(json){var obj=this.getObject(json.guid);if(!obj){throw new Error("Attempt to reset uncached object");}obj.resetFromJSON(json);};_1a57.prototype.blacklist=function(guid){var obj=this.getObject(guid);this._objectCache[guid]=null;if(obj){obj.resetFromJSON(null);}};_1a57.prototype.isBlacklisted=function(guid){return this._objectCache[guid]===null;};_1a57.prototype.add=function(mxobj){if(this.has(mxobj.getGuid())){throw new Error("Attempt to overwrite existing object in cache");}this._objectCache[mxobj.getGuid()]=mxobj;this._refCounts[mxobj.getGuid()]=0;};_1a57.prototype.has=function(guid){return !!this.getObject(guid);};_1a57.prototype.filter=function(_1a58){var guids=[];for(var guid in this._objectCache){if(_1a58(guid)){guids.push(guid);}}return guids;};_1a57.prototype.reference=function(guid){++this._refCounts[guid];};_1a57.prototype.unreference=function(guid){if(!this.has(guid)){throw new Error("Attempt to decrease reference count of uncached object");}--this._refCounts[guid];};_1a57.prototype.isReferenced=function(guid){if(!this.has(guid)){throw new Error("Attempt to check reference count of uncached object");}return !!this._refCounts[guid];};return _1a57;});},"mendix/sys/Meta":function(){define(["mendix/lib/MxMetaObject","mendix/logger"],function(_1a59,_1a5a){function Meta(){var name="mendix.sys.Meta",_1a5b=null;this.toString=function(){return name;};this.startup=function(){_1a5b={};dojo.forEach(window.mx.session.getConfig("metadata"),function(_1a5c){var _1a5d=new _1a59({json:_1a5c});_1a5b[_1a5d.getEntity()]=_1a5d;});};this.getMap=function(){return _1a5b;};this.getEntity=function(_1a5e){var meta=_1a5b[_1a5e];if(!meta){_1a5a.error("No permission to read or write entity "+_1a5e+", check security!");}return meta;};};return Meta;});},"mendix/sys/Remote":function(){define(["mendix/lang","mendix/ov","mendix/logger","dojo/_base/lang"],function(lang,ov,_1a5f,_1a60){function _1a61(){var name="mendix.sys.Remote",_1a62={system:new _1a61.SystemCall(),component:new _1a61.ComponentCall(),application:new _1a61.ApplicationCall()};var _1a63=function(json,_1a64){var _1a65=_1a60.clone(json.instructions),_1a66=[];for(var i=0,item;item=_1a65[i];){if(/(open_form|close)/.test(item.type)){_1a66.push(item);_1a65.splice(i,1);}else{i++;}}if(_1a64){}else{_1a65=_1a66.concat(_1a65);}return _1a65;};this.toString=function(){return name;};this.hasInstructions=function(json){return !!(json&&json.instructions!=null&&json.instructions.length);};this.execute=function(json,store,_1a67,_1a68){if(this.hasInstructions(json)){var chain=[],list=_1a63(json,_1a67);if(list.length>10){}for(var i=0,_1a69;_1a69=list[i];i++){var _1a6a=_1a69.target;if(_1a62[_1a6a]){chain.push(_1a62[_1a6a].buildInstruction(_1a69,store||{}));}else{}}lang.sequence(chain,_1a68);}else{_1a68&&_1a68();}};this.hasValidation=function(_1a6b){return ov.hasValidations(_1a6b);};this.getValidations=function(_1a6c){return ov.getValidations(_1a6c);};};_1a61.SystemCall=function(){var name="mendix.sys.Remote.SystemCall",_1a6d={text_message:"actTextMessage",refresh_object_list:"actRefreshObjectList",refresh_object:"actRefreshObject",refresh_class:"actRefreshClass",open_form:"actOpenForm",download_file:"actDownloadFile",show_login:"actShowLogin",logout:"logout"};var _1a6e=function(_1a6f){var _1a70=new mendix.lib.MxContext();if(!_1a6f){return _1a70;}var _1a71="",items=_1a6f.items||[];for(var i=0,cntx;cntx=items[i];i++){var guid=cntx.guid,clazz=cntx.classname;if(clazz&&guid){_1a70.setContext(clazz,guid);if(guid==_1a6f.activeguid){_1a71=clazz;}}}if(_1a71){_1a70.setTrackEntity(_1a71);}return _1a70;};this.actTextMessage=function(_1a72,store,_1a73){var args=_1a72.args,_1a74=args.MessageContent,_1a75=args.MessageType,_1a76=String(args.MessageBlock)=="true";if(_1a74!=null&&_1a75!=null){(mx.ui[_1a75.toLowerCase()]||mx.ui.info)(_1a74,_1a76);}else{throw new Error(name+".actTextMessage: message content is null");}_1a73&&_1a73();};this.actRefreshObjectList=function(_1a77,store,_1a78){var _1a79=_1a77.args.mxobjects,chain=[];if(_1a79&&_1a79.length){var _1a7a={},count=_1a79.length;while(count--){var obj=_1a79[count];if(typeof obj=="object"&&obj.objectType){var mxobj=mx.data.setOrRetrieveMxObject(obj);_1a7a[mxobj.getEntity()]=true;chain.push((function(mxobj){return function(cb){mx.data.objectPing(mxobj,cb);};})(mxobj));}else{_1a5f.error(name+"actRefreshObjectList: invalid json object");}}chain.push(function(cb){for(var klass in _1a7a){mx.data.sendClassUpdate(klass);}cb();});lang.collect(chain,_1a78);}else{_1a78&&_1a78();}};this.actRefreshClass=function(_1a7b,store,_1a7c){var _1a7d=_1a7b.args.ObjectClass;if(_1a7d!=null){mx.data.sendClassUpdate(_1a7d);}else{}_1a7c&&_1a7c();};this.actOpenForm=function(_1a7e,store,_1a7f){var _1a80=_1a6e(_1a7e.context),args=_1a7e.args,_1a81=args.FormTarget;if(args.FormGuid){_1a80.setContext(args.FormEntity,args.FormGuid);}if(_1a81=="popup"||_1a81=="modal"){mx.ui.openFormInPopup(args.FormPath,{title:args.FormTitle,width:args.FormWidth,height:args.FormHeight,resizable:args.FormResizable,modal:_1a81=="modal"},_1a80,null,_1a7f);}else{mx.ui.openFormInContent(args.FormPath,args.FormTitle,_1a80);_1a7f&&_1a7f();}};this.actDownloadFile=function(_1a82,store,_1a83){var mxobj=_1a82.args.FileDocument,_1a84=_1a82.args.Target;if(!mxobj){_1a83&&_1a83();return;}mx.ui.downloadFile({mxobject:mx.data.setOrRetrieveMxObject(mxobj),target:_1a84});_1a83&&_1a83();};this.actShowLogin=function(_1a85,store,_1a86){mx.ui.showLogin();_1a86&&_1a86();};this.logout=function(_1a87,store,_1a88){mx.logout();_1a88();};this.buildInstruction=function(_1a89,store){var _1a8a=_1a6d[_1a89.type];if(_1a8a){return _1a60.hitch(this,_1a6d[_1a89.type],_1a89,store);}else{return function(_1a8b){_1a8b&&_1a8b();};}};};_1a61.ComponentCall=function(){var name="mendix.sys.Remote.ComponentCall";this.buildInstruction=function(_1a8c,store){var _1a8d=store.caller;if(_1a8d&&_1a8d.hasInterface&&_1a8d.hasInterface(_1a8c.type)){return function(_1a8e){try{_1a8d.invokeCall(_1a8c.type,_1a8c.args);}catch(e){_1a5f.error(name+".buildInstruction: error occurred while executing instruction: "+e.message);}_1a8e&&_1a8e();};}else{return function(_1a8f){_1a8f&&_1a8f();};}};};_1a61.ApplicationCall=function(){var name="mendix.sys.Remote.ApplicationCall";this.buildInstruction=function(_1a90,store){return function(_1a91){_1a91&&_1a91();};};};return _1a61;});},"mendix/sys/Server":function(){define(["mendix/lib/ServerError","mendix/lib/ConnectionError","mendix/lib/ValidationError","mendix/lib/DescribedServerError","mendix/lib/MxContext","mendix/lang","mendix/logger","dojo/sniff","dojo/_base/array","dojo/_base/json","dojo/_base/lang","dojo"],function(_1a92,_1a93,_1a94,_1a95,_1a96,lang,_1a97,_1a98,_1a99,_1a9a,_1a9b,dojo){function _1a9c(_1a9d){var self=this,name="mendix.sys.Server",_1a9e=0,_1a9f=[],_1aa0=[],_1aa1={},_1aa2={},_1aa3={},_1aa4={},_1aa5="",_1aa6=0,_1aa7=_1a9d&&_1a9d.timeout||0,_1aa8=true,seqno=0;var _1aa9=function(){return Number(+new Date()+""+(_1a9e++%10));};var _1aaa=function(_1aab){var _1aac=_1aab.asyncid;if(_1aa3[_1aac]){_1a97.error(name+".executeBackgroundJob: job "+_1aac+" already exists, aborting");_1aab.callback&&_1aab.callback();return;}if(!_1aab.callback){}var ival=500,imin=500,imax=8000,job=_1aa3[_1aac]={callback:_1aab.callback,error:_1aab.error},_1aad=function(){window.mx.server.request({request:{action:"poll_background_job",params:{asyncid:_1aac}},options:{store:_1aab.store,callback:function(_1aae,_1aaf,_1ab0){if(_1aaf.response&&_1aaf.response.finished){delete _1aa3[_1aac];job.callback&&job.callback(_1aae,_1aaf,_1ab0);}else{setTimeout(_1aad,(ival<imax)?Math.min(ival+=imin,imax):imax);}},error:function(e){_1a97.error(name+".executeBackgroundJob: "+e.message);_1ab1(job.error,e);delete _1aa3[_1aac];}}});};job.timer=setTimeout(_1aad,ival);};var _1ab2=function(state){if(!state){self.connectionDown(_1aa8);_1aa8=false;}else{if(_1aa8===false){_1aa8=true;self.connectionUp();}}};var _1ab3=function(req,_1ab4,_1ab5){var stat,err,_1ab6,_1ab7;try{stat=_1ab5.xhr.status;if(stat==12029){stat=0;}}catch(e){stat=0;}_1ab6=_1ab5.xhr.responseText;switch(stat){case 401:case 500:case 550:case 551:case 560:try{if(_1ab6!==""){_1ab7=_1a9a.fromJson(_1ab6);}else{_1ab7=null;}}catch(e){_1ab1(req.error,new _1a92(name+".handleQueued: JSON is incorrect",e),req.failOk);}_1a97.error(name+": loadHandler: server error: "+_1a9a.toJson(_1ab5.xhr.responseText));}switch(stat){case 0:case 502:_1ab2(false);err=new _1a93(name+".handleQueued: "+(_1ab6||"connection error"),_1ab4);_1ab1(req.error,err,req.failOk);return;default:_1ab2(true);}switch(stat){case 200:if(window.mx.remote.hasInstructions(_1ab4)){window.mx.remote.execute(_1ab4,req.store,null,function(){req.callback&&req.callback("load",_1ab4,_1ab5);});}else{req.callback&&req.callback("load",_1ab4,_1ab5);}break;case 400:case 401:case 402:case 403:case 460:self.onUnauthorized(stat);break;case 500:case 550:err=new _1a92(name+".handleQueued: "+_1ab7.description,_1ab4);_1ab1(req.error,err,req.failOk);break;case 504:err=new _1a92(name+".handleQueued: gateway timeout",_1ab4);_1ab1(req.error,err,req.failOk);break;case 551:window.mx.remote.execute(_1ab7,req.store,true,function(){if(window.mx.remote.hasValidation(_1ab7)){var _1ab8=window.mx.remote.getValidations(_1ab7);window.mx.data.sendValidationUpdates(_1ab8);req.onValidation&&req.onValidation(_1ab8);}});delete _1ab7.instructions;if(window.mx.remote.hasValidation(_1ab7)){err=new _1a94(name+".handleQueued: validation error",_1ab7);_1ab1(req.error,err,true);}else{err=new _1a92(name+".handleQueued: "+_1ab7.description,_1ab4);_1ab1(req.error,err,req.failOk);}break;case 560:if(window.mx.remote.hasInstructions(_1ab7)){window.mx.remote.execute(_1ab7,req.store);delete _1ab7.instructions;}err=new _1a95(_1ab7.description,_1ab4);_1a97.error(name+".handleQueued: "+err.message);_1ab1(req.error,err,req.failOk);break;default:err=new _1a92(name+".handleQueued: "+_1ab7.description,_1ab4);_1ab1(req.error,err,req.failOk);}};var _1ab9=function(){var ms=function(n){return "MSXML"+n+".DOMDocument";},res=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)],dom=null;_1a99.some(res,function(name){try{dom=new ActiveXObject(name);}catch(e){return false;}_1ab9=function(){return new ActiveXObject(name);};return true;});return dom;};var _1aba=function(_1abb){var start=+new Date();_1abb.headers={"X-Mx-ReqToken":Number(start+""+~~(Math.random()*100000)).toString(16),"X-Csrf-Token":window.mx.session.getCSRFToken()};_1abb.timeout=_1aa7;_1abb.start=start;var _1abc=dojo.rawXhrPost(_1abb),xhr=_1abc.ioArgs.xhr;if(!_1a98("ie")){var _1abd=xhr.onerror;xhr.onerror=function(e){_1abc.cancel();_1abd&&_1abd();};}return _1abc;};var _1abe=function(_1abf){var _1ac0=_1abf.postData,hash=_1a9a.toJson(_1ac0),cbq;_1abf.seqno=seqno++;if(_1abf.unique){cbq=[_1abf];}else{if(_1aa1[hash]){cbq=_1aa1[hash];cbq.push(_1abf);return;}else{_1aa1[hash]=cbq=[_1abf];}}for(var guid in _1aa4){_1ac0.releaseids=lang.objectToArray(_1aa4);_1aa4={};break;}if(!lang.objectIsEmpty(_1aa2)){_1ac0.profiledata=self.flushLog();}_1abf.postData=_1a9a.toJson(_1abf.postData);var _1ac1={};for(var i in _1abf){if(i!="load"&&i!="error"){_1ac1[i]=_1abf[i];}}_1ac1.handle=function(_1ac2,_1ac3){_1ac2=_1ac2||{};if(_1aa1[hash]){delete _1aa1[hash];}if(this.start){var token=this.headers["X-Mx-ReqToken"];_1aa2[token]=+new Date()-this.start;}while(cbq.length>0){try{_1ab3(cbq.shift(),_1ac2,_1ac3);}catch(e){_1a97.error("An error occurred while handling queued requests:",e.message);}}};if(_1aa6){setTimeout(function(){cbq.xhr=_1aba(_1ac1);},_1aa6);}else{cbq.xhr=_1aba(_1ac1);}};var _1ac4=function(_1ac5){var _1ac6=[];for(var i=0,_1ac7;_1ac7=_1a9f[i];i++){_1ac6.unshift(_1ac7);}lang.sequence(_1ac6,_1ac5);};var _1ac8=function(_1ac9){if(_1ac9.async){delete _1ac9.async;var _1aca=_1a9b.getObject("postData.params",true,_1ac9),_1acb=_1aca.asyncid=_1aa9(_1aca);_1ac9.callback=_1a9b.hitch(this,_1aaa,{asyncid:_1acb,callback:_1ac9.callback,error:_1ac9.error,store:_1ac9.store});}var _1acc=_1ac9.postData,_1acd=_1acc.context;if(_1acd){if(_1acd instanceof _1a96){_1acc.context=_1acd.getGuidS();}else{if(!isNaN(parseFloat(_1acd))){_1acc.context=[parseFloat(_1acd)];}}}else{_1acc.context=[];}if(_1ac9.standalone){_1abe(_1ac9);}else{_1ac4(_1a9b.hitch(null,_1abe,_1ac9));}};var _1ab1=function(error,e,_1ace){if(error){error(e);}else{if(!_1ace){window.mx.onError(e);}}};this.toString=function(){return name;};this.setDelay=function(ms){_1aa6=ms;};this.getDelay=function(){return _1aa6;};this.setCacheBust=function(bust){_1aa5=bust;};this.getCacheBust=function(){return _1aa5;};this.flushLog=function(){var log=_1aa2;_1aa2={};return log;};this.connectionUp=function(){};this.connectionDown=function(_1acf,error){};this.isConnectionUp=function(){return _1aa8;};this.onUnauthorized=function(code){};this.registerCaller=function(_1ad0){if(_1ad0&&typeof _1ad0=="function"){_1a9f.push(_1ad0);var id=lang.getUniqueId();_1aa0.push([id,_1ad0]);return id;}return null;};this.request=function(_1ad1){var _1ad2="",_1ad3=_1ad1.options;if(_1ad1.request&&_1ad1.request.action){_1ad2=_1ad1.request.action;}_1ac8({url:_1a98("ie")?window.mx.baseUrl:window.mx.baseUrl+"#"+_1ad2,mimetype:"application/json",contentType:"application/json",handleAs:"json",postData:_1ad1.request,unique:_1ad3.unique,useCache:_1ad3.useCache,preventCache:_1ad3.preventCache,store:_1ad3.store,handle:_1ad3.handle,error:_1ad3.error,callback:_1ad3.callback,sync:_1ad3.sync,async:_1ad3.async,onValidation:_1ad3.onValidation,standalone:_1ad3.standalone,failOk:_1ad3.failOk});};this.release=function(guid){_1aa4[guid]=true;};this.xhr=function(_1ad4,args,_1ad5){var url=window.mx.appUrl+args.url,_1ad6=args.failOk,_1ad7=args.handleAs,load=args.load,error=args.error;dojo.xhr(_1ad4,_1a9b.mixin(args,{url:url,failOk:true,timeout:_1aa7,headers:{"X-Csrf-Token":window.mx.session.getCSRFToken()},error:function(e){var _1ad8;if(e.status===0){_1ad8=new _1a93(name+".xhr: "+"connection error",e);}else{_1ad8=new _1a92(name+".xhr: "+e.message,e);}_1ab1(error,_1ad8,_1ad6);},load:function(_1ad9,_1ada){if(_1ad7=="xml"&&_1ad9==null){var text=_1ada.xhr.responseText;if(_1a98("dom-parser")){var _1adb=new DOMParser();_1ad9=_1adb.parseFromString(text,"text/xml");if(!_1ad9.documentElement||_1ad9.querySelector("parsererror")){_1ab1(error,new _1a92(name+".xhr: invalid XML received"));return;}}else{_1ad9=_1ab9();_1ad9.async=false;if(!_1ad9.loadXML(text)){_1ab1(error,new _1a92(name+".xhr: invalid XML received"));return;}}}load&&load(_1ad9);}}),_1ad5);};this.get=function(args){args.url+="?"+_1aa5;this.xhr("GET",args);};this.post=function(args){this.xhr("POST",args,true);};};return _1a9c;});},"mendix/sys/Session":function(){define(["mendix/lang","mendix/logger","dojo/_base/array","dojo/_base/json","dojo/_base/lang","dojo/_base/window","dojo/io-query","dojo/_base/config","dojo"],function(lang,_1adc,_1add,_1ade,_1adf,_1ae0,_1ae1,_1ae2,dojo){function _1ae3(){var self=this,name="mendix.sys.Session",_1ae4=null,_1ae5=[],_1ae6=null,_1ae7=0,_1ae8=false,_1ae9={},_1aea=null;var _1aeb=function(){window.mx.server.request({request:{action:"keepalive",params:{preventCache:+new Date()}},options:{failOk:true,standalone:true}});};var _1aec=function(){_1ae6=window.mx.data.jsonToMxObject(_1ae4.user);_1ae5=_1add.map(_1ae4.roles,function(role){return window.mx.data.jsonToMxObject(role);});};this.toString=function(){return name;};this.startup=function(){if(_1ae7){setInterval(_1aeb,_1ae7);}_1aec();};this.getConfig=function(path){if(!path){return _1ae4;}else{return _1adf.getObject(path,false,_1ae4);}};this.inDevMode=function(){return _1ae8;};this.toggleDevMode=function(){_1ae8=!_1ae8;};this.isGuest=function(){if(!_1ae6||!_1ae6.has("IsAnonymous")){return true;}else{return _1ae6.get2("IsAnonymous");}};this.getUserId=function(){return _1ae6&&_1ae6.getGuid();};this.getUserClass=function(){return _1ae6&&_1ae6.getEntity();};this.getUserName=function(){return _1ae6&&_1ae6.get2("Name");};this.getUserAttribute=function(attr){if(_1ae6&&_1ae6.has(attr)){return _1ae6.get2(attr);}return null;};this.getUserRoles=function(attr){if(attr==null){return _1ae5;}else{return lang.map(_1ae5,function(o){return o.get2(attr);});}};this.getCSRFToken=function(){return this.getConfig("csrftoken");};this.getLicenseInfo=function(){return _1ae9;};this.login=function(args){dojo.xhrPost({url:window.mx.baseUrl,handleAs:"json",contentType:"application/json",postData:_1ade.toJson({action:"login",params:{username:args.username,password:args.password}}),load:function(){args.success();},error:function(e){args.error(e.response.status);}});};this.logout=function(_1aed){window.mx.server.request({request:{action:"logout",params:{log:window.mx.server.flushLog()}},options:{sync:true,callback:_1aed}});};this.authorized=function(_1aee){var _1aef=_1ae0.doc.location.search,query=_1ae1.queryToObject(_1aef.substr((_1aef[0]==="?"?1:0)));var _1af0={profile:query.profile||"",timezoneoffset:new Date().getTimezoneOffset()};if(typeof navigator!="undefined"&&navigator.standalone){_1af0.longLiveTheCookie=true;}dojo.xhrPost({url:window.mx.baseUrl,handleAs:"json",contentType:"application/json",postData:_1ade.toJson({action:"get_session_data",params:_1af0}),load:_1af1(true),timeout:_1ae2.timeout||0,error:function(e,_1af2){if(_1af2.xhr.status==401){_1ae4=_1ade.fromJson(_1af2.xhr.responseText);}else{if(window.localStorage.session){var _1af3=_1af1(false);_1af3(JSON.parse(window.localStorage.session));return;}}if(_1aee.no){_1aee.no({http_code:_1af2.xhr.status});}}});function _1af1(_1af4){return function onLoad(data){_1ae4=data;if(_1af4){window.localStorage.session=JSON.stringify(_1ae4);}var _1af5=self.getConfig("uiconfig.direction")=="rtl"?_1ae2.rtlRedirect:_1ae2.ltrRedirect;if(_1af5){window.mx.redirect(_1af5);return;}if(_1aea&&_1aea!=_1ae4.cachebust){window.mx.reload();return;}window.mx.server.setCacheBust(_1ae4.cachebust);_1aea=_1ae4.cachebust;_1ae7=_1ae4.keepalive;if(_1aee.yes){try{_1aee.yes(_1af4);}catch(e){throw e;}}};};};this.hasSomeRole=function(roles){if(roles===null){return true;}else{if(!roles){return false;}else{if(!(roles instanceof Array)){roles=roles.split(",");}}}var _1af6=this.getUserRoles("Name");for(var i=0;i<roles.length;i++){var role=roles[i];for(var j=0;j<_1af6.length;j++){var _1af7=_1af6[j];if(role==_1af7){return true;}}}return false;};};return _1ae3;});},"dojo/hash":function(){define(["./_base/kernel","require","./_base/config","./aspect","./_base/lang","./topic","./domReady","./sniff"],function(dojo,_1af8,_1af9,_1afa,lang,topic,_1afb,has){dojo.hash=function(hash,_1afc){if(!arguments.length){return _1afd();}if(hash.charAt(0)=="#"){hash=hash.substring(1);}if(_1afc){_1afe(hash);}else{location.href="#"+hash;}return hash;};var _1aff,_1b00,_1b01,_1b02=_1af9.hashPollFrequency||100;function _1b03(str,_1b04){var i=str.indexOf(_1b04);return (i>=0)?str.substring(i+1):"";};function _1afd(){return _1b03(location.href,"#");};function _1b05(){topic.publish("/dojo/hashchange",_1afd());};function _1b06(){if(_1afd()===_1aff){return;}_1aff=_1afd();_1b05();};function _1afe(hash){if(_1b00){if(_1b00.isTransitioning()){setTimeout(lang.hitch(null,_1afe,hash),_1b02);return;}var href=_1b00.iframe.location.href;var index=href.indexOf("?");_1b00.iframe.location.replace(href.substring(0,index)+"?"+hash);return;}location.replace("#"+hash);!_1b01&&_1b06();};function _1b07(){var ifr=document.createElement("iframe"),_1b08="dojo-hash-iframe",_1b09=_1af9.dojoBlankHtmlUrl||_1af8.toUrl("./resources/blank.html");if(_1af9.useXDomain&&!_1af9.dojoBlankHtmlUrl){console.warn("dojo/hash: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}ifr.id=_1b08;ifr.src=_1b09+"?"+_1afd();ifr.style.display="none";document.body.appendChild(ifr);this.iframe=dojo.global[_1b08];var _1b0a,_1b0b,_1b0c,_1b0d,_1b0e,_1b0f=this.iframe.location;function _1b10(){_1aff=_1afd();_1b0a=_1b0e?_1aff:_1b03(_1b0f.href,"?");_1b0b=false;_1b0c=null;};this.isTransitioning=function(){return _1b0b;};this.pollLocation=function(){if(!_1b0e){try{var _1b11=_1b03(_1b0f.href,"?");if(document.title!=_1b0d){_1b0d=this.iframe.document.title=document.title;}}catch(e){_1b0e=true;console.error("dojo/hash: Error adding history entry. Server unreachable.");}}var hash=_1afd();if(_1b0b&&_1aff===hash){if(_1b0e||_1b11===_1b0c){_1b10();_1b05();}else{setTimeout(lang.hitch(this,this.pollLocation),0);return;}}else{if(_1aff===hash&&(_1b0e||_1b0a===_1b11)){}else{if(_1aff!==hash){_1aff=hash;_1b0b=true;_1b0c=hash;ifr.src=_1b09+"?"+_1b0c;_1b0e=false;setTimeout(lang.hitch(this,this.pollLocation),0);return;}else{if(!_1b0e){location.href="#"+_1b0f.search.substring(1);_1b10();_1b05();}}}}setTimeout(lang.hitch(this,this.pollLocation),_1b02);};_1b10();setTimeout(lang.hitch(this,this.pollLocation),_1b02);};_1afb(function(){if("onhashchange" in dojo.global&&(!has("ie")||(has("ie")>=8&&document.compatMode!="BackCompat"))){_1b01=_1afa.after(dojo.global,"onhashchange",_1b05,true);}else{if(document.addEventListener){_1aff=_1afd();setInterval(_1b06,_1b02);}else{if(document.attachEvent){_1b00=new _1b07();}}}});return dojo.hash;});},"mendix/compat-5":function(){define(["dojo/_base/kernel","dojo/_base/lang","mendix/lib/MxMetaObject","mendix/lib/MxObject","mendix/exposed","mxui/startup"],function(_1b12,_1b13,_1b14,_1b15){var _1b16="7.0",_1b17=window.mx.login;window.mx.login=function(){if(arguments.length===0||(arguments.length===1&&typeof arguments[0]=="object")){_1b12.deprecated("mx.login(args) is deprecated. Use mx.login(username, password, onLoginSucceed, onLoginFailure) instead","",_1b16);window.mx.reload();}else{_1b17.apply(window.mx,arguments);}};_1b13.mixin(_1b14.prototype,{isNumber:function(attr){_1b12.deprecated("MxMetaObject.isNumber","Use MxMetaObject.isNumeric instead",_1b16);if(typeof attr!="string"){throw new Error("mendix/lib/MxMetaObject.isNumber : parameter attr is not of type String.");}return (/^(Integer|Decimal|Float|Long|AutoNumber)$/).test(this.getAttributeType(attr));}});_1b13.mixin(_1b15.prototype,{get:function(attr){if(/^(Integer|Long|Float|Currency)$/.test(this.metaData.getAttributeType(attr))){return this.get2(attr).toString();}else{return this.get2(attr);}},isNumber:function(attr){_1b12.deprecated("MxObject.isNumber","Use MxObject.isNumeric instead",_1b16);return this.metaData.isNumber(attr);}});});},"mendix/compat-4":function(){define(["mendix/lib/MxContext","mendix/lib/MxObject","mendix/lang","dojo/_base/kernel","dojo/_base/lang","dojo/number","mendix/exposed","mxui/startup","mendix/compat-5"],function(_1b18,_1b19,lang,_1b1a,_1b1b){var _1b1c="6.0";dojo.require("dojo.number");lang.deprecate("mendix.lang",{runBindActions:"sequence",runAsyncActions:"collect",runActions:"sequence"},_1b1c);lang.deprecate("mendix.lang","clone","dojo","clone",_1b1c);lang.deprecate("mendix.lang","dupObject","dojo","clone",_1b1c);lang.deprecate("mendix.lang","round","dojo.number","round",_1b1c);lang.deprecate("mendix.lang","toFixed","dojo.number","round",_1b1c);var _1b1d={sequence:lang.sequence,collect:lang.collect};_1b1b.mixin(lang,{sequence:function(scope,chain,_1b1e){if(chain instanceof Array){_1b1a.deprecated("mendix.lang.sequence","Method signature has changed to sequence(seq, callback, scope)",_1b1c);return _1b1d.sequence.call(lang,chain,_1b1e,scope);}else{return _1b1d.sequence.apply(lang,arguments);}},collect:function(scope,chain,_1b1f){if(chain instanceof Array){_1b1a.deprecated("mendix.lang.collect","Method signature has changed to collect(coll, callback, scope)",_1b1c);return _1b1d.collect.call(lang,chain,_1b1f,scope);}else{return _1b1d.collect.apply(lang,arguments);}}});window.mx.moduleUrl=function(_1b20,url){_1b1a.deprecated("mx.moduleUrl","Use dojo.require.toUrl instead",_1b1c);if(url!==undefined){return dojo.moduleUrl(_1b20,url);}return new dojo._Url(dojo.moduleUrl(_1b20)).path+"/";};lang.deprecate("mx.meta",{getMetaMap:"getMap"},_1b1c);var meta=window.mx.meta;_1b1b.mixin(meta,{getMetaEntity:function(args,scope){_1b1a.deprecated("mx.meta.getMetaEntity is deprecated, use getEntity instead","",_1b1c);if(typeof args!="string"){_1b1a.deprecated("mx.meta.getEntity should have one parameter of type string, which is the entity name","",_1b1c);var _1b21=meta.getEntity(args.className),error=args.error,_1b22=args.callback;if(!_1b21){error&&error.call(scope);}else{_1b22&&_1b22.call(scope,_1b21);}return _1b21;}return meta.getEntity.apply(meta,arguments);}});lang.deprecate("mx.metadata","mx.meta",_1b1c);lang.deprecate("mx.server",{getResource:"get"},_1b1c);lang.deprecate("mx.xas","action","mx.data","action",_1b1c);var data=window.mx.data,refs={},subs={types:{},guids:{}};for(var _1b23 in data){refs[_1b23]=data[_1b23];}var _1b24=function(args,map){if(args.length==1&&map.length!=1){return args[0];}else{var _1b25={};for(var i=0,l=map.length;i<l;i++){var name=map[i],value=args[i];if(value){_1b25[name]=value;}}return _1b25;}};var _1b26=function(_1b27,_1b28){if(arguments.length>1){_1b1a.deprecated("mx.data."+_1b27+": deprecated arguments, use use { xpath : '', resulttype : '', callback : callback, error : error } instead","",_1b1c);_1b28=_1b24([].slice.call(arguments,1),["xpath","callback","resulttype"]);}return refs[_1b27](_1b28);};_1b1b.mixin(data,{distributeChange:function(guid,attr,value){_1b1a.deprecated("mx.data.distributeChange is deprecated, use update instead","",_1b1c);return data.update({guid:guid,attr:attr,value:value});},addChangeListener:function(guid,attr,_1b29){_1b1a.deprecated("mx.data.addChangeListener is deprecated, use subscribe instead","",_1b1c);return data.subscribe({guid:guid,attr:attr,callback:_1b29});},removeChangeListener:function(_1b2a){_1b1a.deprecated("mx.data.removeChangeListener is deprecated, use unsubscribe instead","",_1b1c);return data.unsubscribe(_1b2a);},subscribeToClass:function(_1b2b,klass){_1b1a.deprecated("mx.data.subscribeToClass is deprecated, use subscribe instead","",_1b1c);var id=_1b2b.id,sub=subs.types,map=sub[id]||(sub[id]={});if(map[klass]){return map[klass];}else{var _1b2c=data.subscribe({entity:klass,callback:_1b1b.hitch(_1b2b,"objectUpdate")});return (map[klass]=_1b2c);}},unSubscribeFromClass:function(_1b2d,klass){_1b1a.deprecated("mx.data.unSubscribeFromClass is deprecated, use unsubscribe instead","",_1b1c);var id=_1b2d.id,sub=subs.types,_1b2e=sub[id]&&sub[id][klass];if(_1b2e){data.unsubscribe(_1b2e);delete sub[id][klass];if(!lang.itemCount(sub[id])){delete sub[id];}}},subscribeToGUID:function(_1b2f,guid){_1b1a.deprecated("mx.data.subscribeToGUID is deprecated, use subscribe instead","",_1b1c);var id=_1b2f.id,sub=subs.guids,map=sub[id]||(sub[id]={});if(map[guid]){return map[guid];}else{var _1b30=data.subscribe({guid:guid,callback:_1b1b.hitch(_1b2f,"objectUpdate")});return (map[guid]=_1b30);}},unSubscribeFromGUID:function(_1b31,guid){_1b1a.deprecated("mx.data.unSubscribeFromGUID is deprecated, use unsubscribe instead","",_1b1c);var id=_1b31.id,sub=subs.guids,_1b32=sub[id]&&sub[id][guid];if(_1b32){data.unsubscribe(_1b32);delete sub[id][guid];if(!lang.itemCount(sub[id])){delete sub[id];}}},xasAction:function(args){_1b1a.deprecated("mx.data.xasAction is deprecated, use action instead","",_1b1c);var _1b33=args.callback;args.callback=function(value,_1b34){return _1b33&&_1b33(_1b34,value);};return data.action.call(data,args);},action:function(args){if(args.caller){_1b1a.deprecated("mx.data.action: deprecated arguments, use store property for caller parameter ({ store : { caller : obj }})","",_1b1c);var _1b35=args.caller,store=args.store||(args.store={});store.caller=args.caller;}if(args.params){refs.action.apply(data,arguments);}else{_1b1a.deprecated("mx.data.action: deprecated arguments, use params property for action parameters","",_1b1c);var _1b36={context:args.context,callback:args.callback,error:args.error,store:args.store,onValidation:args.onValidation,async:args.async,params:args};delete args.context;delete args.callback;delete args.error;delete args.store;delete args.caller;delete args.onValidation;delete args.async;refs.action(_1b36);}},getObjectsByXPath:function(){_1b1a.deprecated("mx.data.getObjectsByXPath is deprecated, use get instead","",_1b1c);var args=arguments;var _1b37=(typeof args[1]=="function")?_1b24(args,["xpath","callback","useCache"]):_1b24(args,["xpath","options","callback","useCache"]);var xpath=_1b37.xpath,_1b38=_1b37.options||{},_1b39=_1b37.callback,_1b3a=_1b37.error||_1b38.error;return data.get({xpath:xpath,callback:_1b39,error:_1b38.error,count:_1b38.addcount,filter:{limit:_1b38.limit,offset:_1b38.offset,sort:_1b38.sort,attributes:_1b38.tags}});},getAttributeListByXPath:function(_1b3b){_1b1a.deprecated("mx.data.getAttributeListByXPath is deprecated, use get instead","",_1b1c);_1b3b=_1b3b||{};var _1b3c=_1b3b.callback,_1b3d=_1b3b.error,_1b3e=_1b3b.options,_1b3f=_1b3b.attribute;return data.get({xpath:_1b3b.xpath,callback:function(objs){var list={};for(var i=0,l=objs.length;i<l;i++){var value=objs[i].getAttribute(_1b3f);list[value]=value;}_1b3c&&_1b3c(list);},error:_1b3d,filter:{limit:_1b3e.limit,offset:_1b3e.offset,sort:_1b3e.sort,attributes:[_1b3f],distinct:true}});},getObjectsByXPathSchema:function(){_1b1a.deprecated("mx.data.getObjectsByXPathSchema is deprecated, use get instead","",_1b1c);var _1b40=_1b24(arguments,["xpath","options","callback","useCache"]),_1b41=_1b40.options||{},xpath=_1b40.xpath,_1b42=_1b40.callback,_1b43=_1b40.error||_1b41.error;return data.get({xpath:xpath,callback:_1b42,error:_1b41.error,count:_1b41.addcount,noCache:!_1b40.useCache,filter:{id:_1b41.queryid,limit:_1b41.limit,offset:_1b41.offset,sort:_1b41.sort}});},getObjectsByMicroFlow:function(_1b44,_1b45,_1b46){_1b1a.deprecated("mx.data.getObjectsByMicroFlow is deprecated, use get instead","",_1b1c);_1b45=_1b45||{};data.action({params:{actionname:_1b44,applyto:_1b45.applyto||"none",constraints:_1b45.constraints||"",guids:_1b45.guids||null},context:_1b45.context,callback:_1b46,error:function(e){_1b45.error?_1b45.error(e):_1b46&&_1b46([]);}});},getObjectsById:function(_1b47){_1b1a.deprecated("mx.data.getObjectsById is deprecated, use get instead","",_1b1c);var _1b48,_1b49,_1b4a,_1b4b;if(_1b47.length==null&&arguments.length==1){var _1b4c=_1b47;_1b47=_1b4c.ids;_1b48=_1b4c.options;_1b49=_1b4c.callback;_1b4b=_1b4c.error;_1b4a=_1b4c.nocache;}else{if(typeof arguments[1]=="function"){_1b49=arguments[1];_1b4a=arguments[2];}else{_1b48=arguments[1];_1b49=arguments[2];_1b4a=arguments[3];_1b4b=_1b48?_1b48.error:null;}}_1b48=_1b48||{};return data.get({guids:_1b47,callback:_1b49,error:_1b4b,count:_1b48.addcount,filter:{limit:_1b48.limit,offset:_1b48.offset,sort:_1b48.sort,attributes:_1b48.tags}});},getObjectByXPath:function(_1b4d){_1b1a.deprecated("mx.data.getObjectByXPath is deprecated, use get instead","",_1b1c);return data.get({xpath:_1b4d.xpath,callback:_1b4d.callback,error:_1b4d.error,filter:{limit:1}});},getObject:function(objId,_1b4e,_1b4f){_1b1a.deprecated("mx.data.getObject is deprecated, use get instead","",_1b1c);var _1b50=_1b24(arguments,["objId","callback","nocache"]);return data.get({guid:_1b50.objId,error:_1b50.error,callback:_1b50.callback,noCache:_1b50.nocache});},createObjectByClass:function(){_1b1a.deprecated("mx.data.createObjectByClass is deprecated, use create instead","",_1b1c);var _1b51=arguments[0],_1b52=arguments[1],_1b53=arguments[2],_1b54=arguments[3];if((typeof _1b51!="string")&&(!(_1b51 instanceof String))){throw new Error(name+".createObjectByClass: parameter entity is not of type String");}else{if(typeof _1b52!="function"){throw new Error(name+".createObjectByClass: parameter callbackFunction is not of type Function");}else{if(!(_1b53 instanceof _1b18)){}}}return data.create({entity:_1b51,callback:_1b52,error:_1b54,context:_1b53});},createObject:function(_1b55){_1b1a.deprecated("mx.data.createObject is deprecated, use create instead","",_1b1c);return data.create({entity:_1b55.className,callback:_1b55.callback,error:_1b55.error,context:_1b55.context});},deleteObjectsByGUID:function(guids,_1b56,error){_1b1a.deprecated("mx.data.deleteObjectsByGUID is deprecated, use remove instead","",_1b1c);return data.remove({guids:guids,callback:_1b56,error:error});},saveObject:function(mxobj,_1b57){_1b1a.deprecated("mx.data.saveObject is deprecated, use save instead","",_1b1c);return data.save({mxobj:mxobj,callback:_1b57.callback,error:_1b57.error});},commitObject:function(obj,_1b58){_1b1a.deprecated("mx.data.commitObject is deprecated, use commit instead","",_1b1c);return data.commit({mxobj:obj,callback:_1b58.callback,error:_1b58.error});},rollbackObject:function(obj,_1b59){_1b1a.deprecated("mx.data.rollbackObject is deprecated, use rollback instead","",_1b1c);return data.rollback({mxobj:obj,callback:_1b59.callback,error:_1b59.error});},deleteObject:function(obj,_1b5a){_1b1a.deprecated("mx.data.deleteObject is deprecated, use remove instead","",_1b1c);return data.remove({guid:obj.getGuid(),callback:_1b5a.callback,error:_1b5a.error});},deleteMxObjects:function(_1b5b){_1b1a.deprecated("mx.data.deleteMxObjects is deprecated, use remove instead","",_1b1c);var ids=[],_1b5c=[],objs=_1b5b.mxObjects;for(var i in objs){ids.push(objs[i].getGuid());_1b5c.push(objs[i].getEntity());}data.remove({guids:ids,callback:function(){for(var i=0,clazz;clazz=_1b5c[i];i++){data.sendClassUpdate(clazz);}_1b5b.callback&&_1b5b.callback();},error:_1b5b.error});},sizeOfXPathSet:function(_1b5d){return _1b26("sizeOfXPathSet",_1b5d);},sumOfXPathQuery:function(_1b5e){_1b1a.deprecated("mx.data.sumOfXPathQuery is deprecated, use sumOfXPathSet instead","",_1b1c);return _1b26("sumOfXPathSet",_1b5e);},sizeOfXPathQuery:function(_1b5f){_1b1a.deprecated("mx.data.sizeOfXPathQuery is deprecated, use sizeOfXPathSet instead","",_1b1c);return _1b26("sizeOfXPathQuery",_1b5f);},countOfXPathQuery:function(_1b60){_1b1a.deprecated("mx.data.countOfXPathQuery is deprecated, use sizeOfXPathSet instead","",_1b1c);return _1b26("countOfXPathQuery",_1b60);},avgOfXPathQuery:function(_1b61){_1b1a.deprecated("mx.data.avgOfXPathQuery is deprecated, use avgOfXPathSet instead","",_1b1c);return _1b26("avgOfXPathQuery",_1b61);},maxOfXPathQuery:function(_1b62){_1b1a.deprecated("mx.data.maxOfXPathQuery is deprecated, use maxOfXPathSet instead","",_1b1c);return _1b26("maxOfXPathQuery",_1b62);},minOfXPathQuery:function(_1b63){_1b1a.deprecated("mx.data.minOfXPathQuery is deprecated, use minOfXPathSet instead","",_1b1c);return _1b26("minOfXPathQuery",_1b63);},ceilingOfXPathQuery:function(_1b64){_1b1a.deprecated("mx.data.ceilingOfXPathQuery is deprecated, use maxOfXPathSet instead","",_1b1c);return _1b26("maxOfXPathQuery",_1b64);},floorOfXPathQuery:function(_1b65){_1b1a.deprecated("mx.data.floorOfXPathQuery is deprecated, use minOfXPathSet instead","",_1b1c);return _1b26("minOfXPathQuery",_1b65);}});lang.deprecate("mx.processor","mx.data",_1b1c);lang.deprecate("mendix.lib.MxContext",{hasActiveClass:"hasTrackEntity",hasActiveGUID:"hasTrackId",hasTrackID:"hasTrackId",getActiveClass:"getTrackEntity",getActiveGUID:"getTrackId",getTrackID:"getTrackId",setActiveClass:"setTrackEntity",setActive:"setTrackEntity",setTrackID:"setTrackId",setContextFromMxObject:"setContext"},_1b1c);lang.deprecate("mendix.lib.MxObject",{getGUID:"getGuid",getClass:"getEntity",getAttribute:"get",setAttribute:"set",hasAttribute:"has",getAttributeClass:"getAttributeType",inheritsOf:"inheritsFrom",hasSubClasses:"hasSubEntities",getSubClasses:"getSubEntities",hasSuperClasses:"hasSuperEntities",getSuperClasses:"getSuperEntities",getSelectorClass:"getSelectorEntity"},_1b1c);_1b1b.extend(_1b19,{save:function(_1b66){_1b1a.deprecated("mendix.lib.MxObject.save is deprecated, use mx.data.save instead","",_1b1c);return window.mx.data.save({mxobj:this,error:_1b66.error,callback:_1b66.callback});},commit:function(_1b67){_1b1a.deprecated("mendix.lib.MxObject.commit is deprecated, use mx.data.commit instead","",_1b1c);return window.mx.data.commit({mxobj:this,error:_1b67.error,callback:_1b67.callback});},rollback:function(_1b68){_1b1a.deprecated("mendix.lib.MxObject.rollback is deprecated, use mx.data.rollback instead","",_1b1c);return window.mx.data.rollback({mxobj:this,error:_1b68.error,callback:_1b68.callback});},saveSequence:function(_1b69){_1b1a.deprecated("mendix.lib.MxObject.saveSequence is deprecated, use mx.data.save and mx.data.commit instead","",_1b1c);var self=this;return window.mx.data.save({mxobj:self,callback:function(){window.mx.data.commit({mxobj:self,callback:function(){}});}});}});lang.deprecate("mendix.lib.MxMetaObject",{getGUID:"getGuid",getClass:"getEntity",hasAttribute:"has",getAttributeClass:"getAttributeType",inheritsOf:"inheritsFrom",hasSubClasses:"hasSubEntities",getSubClasses:"getSubEntities",hasSuperClasses:"hasSuperEntities",getSuperClasses:"getSuperEntities",getSelectorClass:"getSelectorEntity"},_1b1c);});},"mxui/compat-5":function(){define(["mxui/widget/LoginDialog","mxui/widget/_WidgetBase","mxui/lib/form/_FormBase","mxui/sys/Parser","mxui/widget","mxui/dom","mendix/lang","dojo/aspect","dojo/_base/kernel","dojo/_base/array","dojo/_base/lang","dijit/_Templated","dijit/Calendar","mxui/exposed","mxui/startup","dijit/form/_FormValueWidget","dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"],function(_1b6a,_1b6b,_1b6c,_1b6d,_1b6e,_1b6f,lang,_1b70,_1b71,_1b72,_1b73){var _1b74="7.0";dojo.require("dijit._Templated");dojo.require("dijit.Calendar");_1b73.mixin(_1b6f,{copyChildren:function(src,_1b75){_1b71.deprecated("mxui.dom.copyChildren","Use dojo/_base/lang::clone instead",_1b74);var node=src.cloneNode(true);while(node.firstChild){_1b75.appendChild(node.removeChild(node.firstChild));}},insertBefore:function(src,_1b76){_1b71.deprecated("mxui.dom.insertBefore","Use dojo/dom-construct::place instead",_1b74);if(_1b76.parentNode){_1b76.parentNode.insertBefore(src,_1b76);}},insertAfter:function(src,_1b77){_1b71.deprecated("mxui.dom.insertAfter","Use dojo/dom-construct::place instead",_1b74);if(_1b77.parentNode){if(_1b77.nextSibling){_1b77.nextSibling.parentNode.insertBefore(src,_1b77.nextSibling);}else{_1b77.parentNode.appendChild(src);}}},getForm:function(path,args,scope){_1b71.deprecated("mx.ui.getForm() is deprecated, use openForm and pass domNode to open initialized form inline","",_1b74);var _1b78=_1b6f.create("div",{"style":"height: 0; overflow: hidden;"});document.body.appendChild(_1b78);window.mx.ui.openFormInNode(path,_1b78,null,args.params,function(form){_1b6f.orphan(_1b78);args.callback&&args.callback.call(scope,form);},args.error);}});var _1b79=window.mx.ui.showLogin;window.mx.ui.showLogin=function(args){if(args&&args.http_code!==undefined){_1b71.deprecated("Use mx.ui.showLogin(messageCode) instead of mx.ui.showLogin({ http_code: '..', no_alert: true/false })","",_1b74);var _1b7a=args.http_code;if(args.no_alert&&!lang.inArray(args.http_code,["402","404","500","503"])){_1b7a=undefined;}_1b79.call(this,_1b7a);}else{_1b79.apply(this,arguments);}};var _1b7b=null;_1b70.after(_1b6a.prototype,"show",function(){_1b7b=this;},true);window.mx.ui.hideLogin=function(){_1b71.deprecated("mx.ui.hideLogin is deprecated","",_1b74);_1b7b&&_1b7b.destroy();_1b7b=null;};_1b73.mixin(_1b6b.prototype,{resume:function(){_1b71.deprecated("mxui.widget._WidgetBase.resume","You can stop calling it",_1b74);},suspend:function(){_1b71.deprecated("mxui.widget._WidgetBase.resume","You can stop calling it",_1b74);}});_1b73.mixin(_1b6c.prototype,{startup:function(){_1b71.deprecated("mxui.lib._Form.startup","You can stop calling it",_1b74);},applyContext:function(_1b7c,_1b7d){_1b71.deprecated("mxui.lib._Form.applyContext","Use mx.ui.openForm instead",_1b74);this._context=_1b7c;_1b6e.applyContext(this.getChildren(),_1b7c,_1b7d);}});mxui.dom.builder={IE_TRANSLATIONS:{"class":"className","for":"htmlFor","type":"type","href":"href"},ieAttrSet:function(attrs,attr,el){_1b71.deprecated("mxui.dom.builder.ieAttrSet","",_1b74);var trans;if(trans=this.IE_TRANSLATIONS[attr]){el[trans]=attrs[attr];}else{if(attr=="style"){el.style.cssText=attrs[attr];}else{if(attr.match(/^on/)){el[attr]=new Function(attrs[attr]);}else{el.setAttribute(attr,attrs[attr]);}}}},tagFunc:function(tag){return function(){_1b71.deprecated("mxui.dom.{tagName}","Use mxui.dom.create API for creating elements",_1b74);var attrs,_1b7e;if(arguments.length>0){if(arguments[0].nodeName||typeof arguments[0]=="string"){_1b7e=arguments;}else{attrs=arguments[0];_1b7e=[].slice.call(arguments,1);}}return mxui.dom.builder.create(tag,attrs,_1b7e);};},create:function(tag,attrs,_1b7f){_1b71.deprecated("mxui.dom.builder.create","Use mxui.dom.create instead",_1b74);attrs=attrs||{};_1b7f=_1b7f||[];var _1b80=dojo.isIE<9;var el=document.createElement((_1b80&&attrs.name)?"<"+tag+" name="+attrs.name+">":tag);for(var attr in attrs){if(typeof attrs[attr]!="function"){if(_1b80){this.ieAttrSet(attrs,attr,el);}else{el.setAttribute(attr,attrs[attr]);}}}for(var i=0;i<_1b7f.length;i++){if(typeof _1b7f[i]!="object"){_1b7f[i]=document.createTextNode(_1b7f[i]);}el.appendChild(_1b7f[i]);}return el;}};_1b72.forEach(("p|div|span|strong|em|img|table|tr|td|th|thead|tbody|tfoot|pre|code|"+"h1|h2|h3|h4|h5|h6|ul|ol|li|form|input|textarea|legend|fieldset|"+"select|option|blockquote|cite|br|hr|dd|dl|dt|address|a|button|abbr|acronym|"+"script|link|style|bdo|ins|del|object|param|col|colgroup|optgroup|caption|"+"label|dfn|kbd|samp|var").split("|"),function(elem){mxui.dom[elem]=mxui.dom.builder.tagFunc(elem);});_1b6d.prototype.parseValue=function(value,type,props){var _1b81;switch(type.toLowerCase()){case "autonumber":_1b81=this.parseValue2(value,"integer",props);return _1b81!=null?Number(_1b81.valueOf()):NaN;case "float":case "currency":case "integer":case "long":_1b81=this.parseValue2(value,type,props);return _1b81!=null?Number(_1b81.valueOf()):NaN;default:_1b81=this.parseValue2(value,type,props);return _1b81;}};});},"dijit/_Templated":function(){define(["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(_1b82,_1b83,_1b84,array,_1b85,lang,_1b86){lang.extend(_1b82,{waiRole:"",waiState:""});return _1b85("dijit._Templated",[_1b83,_1b84],{widgetsInTemplate:false,constructor:function(){_1b86.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0");},_processNode:function(_1b87,_1b88){var ret=this.inherited(arguments);var role=_1b88(_1b87,"waiRole");if(role){_1b87.setAttribute("role",role);}var _1b89=_1b88(_1b87,"waiState");if(_1b89){array.forEach(_1b89.split(/\s*,\s*/),function(_1b8a){if(_1b8a.indexOf("-")!=-1){var pair=_1b8a.split("-");_1b87.setAttribute("aria-"+pair[0],pair[1]);}});}return ret;}});});},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(array,_1b8b,_1b8c,lang,_1b8d){return _1b8c("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;if(this.containerNode&&!this.searchContainerNode){this.containerNode.stopParser=true;}_1b8d.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(lang.hitch(this,function(_1b8e){this._startupWidgets=_1b8e;for(var i=0;i<_1b8e.length;i++){this._processTemplateNode(_1b8e[i],function(n,p){return n[p];},function(_1b8f,type,_1b90){if(type in _1b8f){return _1b8f.connect(_1b8f,type,_1b90);}else{return _1b8f.on(type,_1b90,true);}});}if(this.containerNode&&this.containerNode.stopParser){delete this.containerNode.stopParser;}}));if(!this._startupWidgets){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}}},_processTemplateNode:function(_1b91,_1b92,_1b93){if(_1b92(_1b91,"dojoType")||_1b92(_1b91,"data-dojo-type")){return true;}return this.inherited(arguments);},startup:function(){array.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this._startupWidgets=null;this.inherited(arguments);}});});},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_1b94,has,_1b95,_1b96){return _1b94("dijit.form._FormValueWidget",[_1b95,_1b96],{_layoutHackIE7:function(){if(has("ie")==7){var _1b97=this.domNode;var _1b98=_1b97.parentNode;var _1b99=_1b97.firstChild||_1b97;var _1b9a=_1b99.style.filter;var _1b9b=this;while(_1b98&&_1b98.clientHeight==0){(function ping(){var _1b9c=_1b9b.connect(_1b98,"onscroll",function(){_1b9b.disconnect(_1b9c);_1b99.style.filter=(new Date()).getMilliseconds();_1b9b.defer(function(){_1b99.style.filter=_1b9a;});});})();_1b98=_1b98.parentNode;}}}});});},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","./_FormWidgetMixin"],function(_1b9d,_1b9e,keys,lang,on,_1b9f){return _1b9d("dijit.form._FormValueMixin",_1b9f,{readOnly:false,_setReadOnlyAttr:function(value){_1b9e.set(this.focusNode,"readOnly",value);this._set("readOnly",value);},postCreate:function(){this.inherited(arguments);if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_1ba0,_1ba1){this._handleOnChange(_1ba0,_1ba1);},_handleOnChange:function(_1ba2,_1ba3){this._set("value",_1ba2);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);}});});},"dijit/form/ComboButton":function(){define(["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html","../a11yclick"],function(_1ba4,keys,focus,_1ba5,_1ba6){return _1ba4("dijit.form.ComboButton",_1ba5,{templateString:_1ba6,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){focus.focus(this._popupStateNode);evt.stopPropagation();evt.preventDefault();}},_onArrowKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){focus.focus(this.titleNode);evt.stopPropagation();evt.preventDefault();}},focus:function(_1ba7){if(!this.disabled){focus.focus(_1ba7=="start"?this.titleNode:this._popupStateNode);}}});});},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_1ba8,_1ba9,_1baa,_1bab){return _1ba8("dijit.form.ToggleButton",[_1baa,_1bab],{baseClass:"dijitToggleButton",setChecked:function(_1bac){_1ba9.deprecated("setChecked("+_1bac+") is deprecated. Use set('checked',"+_1bac+") instead.","","2.0");this.set("checked",_1bac);}});});},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_1bad,_1bae){return _1bad("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _1baf=this.checked;this._set("checked",!_1baf);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_1baf);return ret;},_setCheckedAttr:function(value,_1bb0){this._set("checked",value);var node=this.focusNode||this.domNode;if(this._created){if(_1bae.get(node,"checked")!=!!value){_1bae.set(node,"checked",!!value);}}node.setAttribute(this._aria_attr,String(value));this._handleOnChange(value,_1bb0);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.checked;}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"mxui/compat-4":function(){define(["mxui/widget/_WidgetBase","mxui/dom","mendix/lang","mendix/lib/MxContext","dojo/dom-class","dojo/sniff","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","mxui/exposed","mxui/startup","mxui/compat-5"],function(_1bb1,_1bb2,lang,_1bb3,_1bb4,_1bb5,_1bb6,_1bb7,_1bb8){var _1bb9="6.0",_1bba=lang.deprecate;_1bba("mxui.dom",{removeElement:"orphan",setTextContent:"text",getTextContent:"text",textContent:"text"},_1bb9);_1bba("mxui.dom","removeChildNodes","dojo","empty",_1bb9);_1bba("mxui.dom","clearSelectOptions","dojo","empty",_1bb9);_1bb8.mixin(_1bb2,{getAncestorClass:function getAncestorClass(node,_1bbb,depth){_1bb7.deprecated("mxui.dom.getAncestorClass","Use Element.querySelectorAll instead",_1bb9);if(node){if(_1bb4.contains(node,_1bbb)){return node;}else{if(--depth===0){return false;}else{_1bbc(node.parentNode,_1bbb,depth);}}}else{return node;}},getElementsByTagNames:function(node,names){_1bb7.deprecated("mxui.dom.getElementsByTagNames","Use Element.querySelectorAll instead",_1bb9);return node.querySelectorAll(names);},getAncestorNodeWithAttribute:function getAncestorNodeWithAttribute(node,name,_1bbd,depth){_1bb7.deprecated("mxui.dom.getAncestorNodeWithAttribute","Use Element.querySelectorAll instead",_1bb9);if(node.nodeName==name&&node.getAttribute&&node.getAttribute(_1bbd)!=null){return node;}else{if(--depth===0){return null;}else{_1bbe(node.parentNode,name,_1bbd,depth);}}},setHTML:function(node,str){_1bb7.deprecated("mxui.dom.setHTML","Use mxui.dom.html instead",_1bb9);_1bb2.html(node,str);},getSelectOptions:function(node){_1bb7.deprecated("mxui.dom.getSelectOptions","Use mxui.dom.getSelectedValue instead",_1bb9);return [node.options[node.selectedIndex].value];},selectOption:function(node,str){_1bb7.deprecated("mxui.dom.selectOption","Use Element.value instead",_1bb9);node.value=str;},hasClass:function(node,_1bbf){_1bb7.deprecated("mxui.dom.hasClass","Use dojo/dom-class::contains instead",_1bb9);return _1bb4.contains(node,_1bbf);},getClass:function(node){_1bb7.deprecated("mxui.dom.getClass","Use Element.className instead",_1bb9);return node.className;},setClass:function(node,str){_1bb7.deprecated("mxui.dom.setClass","Use Element.className instead",_1bb9);node.className=str;},addClass:function(node,str){_1bb7.deprecated("mxui.dom.addClass","Use dojo/dom-class::add instead",_1bb9);_1bb4.add(node,str);},addClasses:function(node,_1bc0){_1bb7.deprecated("mxui.dom.addClasses","Use dojo/dom-class::add instead",_1bb9);_1bb4.add(node,_1bc0);},removeClass:function(node,str){_1bb7.deprecated("mxui.dom.removeClass","Use dojo/dom-class::remove instead",_1bb9);_1bb4.remove(node,str);},hide:function(node){_1bb7.deprecated("mxui.dom.hide","Use dojo.style instead",_1bb9);node.style.display="none";},show:function(node){_1bb7.deprecated("mxui.dom.show","Use dojo.style instead",_1bb9);node.style.display="";},setReadOnly:function(node){_1bb7.deprecated("mxui.dom.setReadOnly","Use Element.setAttribute instead",_1bb9);return node.setAttribute("readonly","readonly");},unsetReadOnly:function(node){_1bb7.deprecated("mxui.dom.unsetReadOnly","Use Element.removeAttribute instead",_1bb9);return node.removeAttribute("readonly");},applyDisableStyle:function(node){_1bb7.deprecated("mxui.dom.applyDisableStyle","Use Element.setAttribute instead",_1bb9);var name=node.nodeName;if(name=="SELECT"||(name=="INPUT"&&node.type=="checkbox")){node.setAttribute("disabled","disabled");}else{if(name=="INPUT"||name=="TEXTAREA"||name=="BUTTON"){node.setAttribute("readonly","readonly");}}},applyEnableStyle:function(node){_1bb7.deprecated("mxui.dom.applyEnableStyle","Use Element.removeAttribute instead",_1bb9);node.removeAttribute("readonly");var _1bc1=node.nodeName.toLowerCase();if(_1bc1=="select"||(_1bc1=="input"&&node.type=="checkbox")){node.removeAttribute("disabled");}},setOpacity:function(node,_1bc2){_1bb7.deprecated("mxui.dom.setOpacity","Use Element.style instead",_1bb9);node.style.opacity=_1bc2;},insertCss:function(_1bc3,doc,media){_1bb7.deprecated("mxui.dom.insertCss","Use mxui.dom.addCss instead",_1bb9);_1bb2.addCss(_1bc3,doc,media);},escapeHTML:function(str){_1bb7.deprecated("mxui.dom.escapeHTML","Use mxui.dom.escapeString instead",_1bb9);return _1bb2.escapeString(str);},getFormElementText:function(node){_1bb7.deprecated("mxui.dom.getFormElementText","Use dojo/dom-attr::get instead",_1bb9);if(node.nodeName.toLowerCase()=="input"){return node.value;}else{if(node.nodeName.toLowerCase()=="select"){return node.options[node.selectedIndex].text;}}},getStringSize:function(str){_1bb7.deprecated("mxui.dom.getStringSize","Use dojo/dom-geometry::getContentSize instead",_1bb9);var _1bc4=document.createElement("span");document.body.appendChild(_1bc4);_1bc4.innerHTML=(str==="")?"A":str;var _1bc5=_1bc4.offsetWidth+10;_1bc4.parentNode.removeChild(_1bc4);_1bc4=null;return _1bc5;},clone:function(node){_1bb7.deprecated("mxui.dom.clone","Use dojo/_base/lang::clone instead",_1bb9);return _1bb8.clone(node);},getFirstElement:function(node){_1bb7.deprecated("mxui.dom.getFirstElement","Use Element.children instead",_1bb9);var _1bc6=node.children;return _1bc6.length===0?null:_1bc6[0];}});var _1bc7={};var _1bc8=function(_1bc9){if(_1bc9.target.match("MxApplication")){var _1bca=_1bc9.param.contenturl,_1bcb={};for(var x in _1bc9.param){_1bcb[x]=_1bc9.param[x];}delete _1bcb.contenturl;return {target:"Screen",params:{uilocation:"content",title:_1bc9.title,targetwidget:null,targeturl:_1bca,targetparams:_1bcb}};}else{if(_1bc9.uilocation){return {target:"Screen",params:{uilocation:_1bc9.uilocation,width:_1bc9.param?_1bc9.param.width:null,title:_1bc9.title,targetwidget:_1bc9.target,targeturl:null,targetparams:_1bc9.param}};}else{return _1bc9;}}};var _1bcc=function(_1bcd){_1bcd=_1bcd.toLowerCase();switch(_1bcd){case "screen":return function(_1bce){return window.mx.screen.setContent(_1bce);};default:return _1bc7[_1bcd];}};_1bb8.mixin(window.mx.ui,{isQuirky:_1bb5("ie")&&(_1bb5("quirks")||_1bb5("ie")<9),confirm:function(_1bcf){_1bb7.deprecated("mx.ui.confirm","Use mx.ui.confirmation instead",_1bb9);return window.mx.ui.confirmation({cancel:_1bcf.canceltext,proceed:_1bcf.proceedtext,content:_1bcf.message,handler:_1bcf.callback});},registerTarget:function(_1bd0,_1bd1){_1bc7[_1bd0.toLowerCase()]=_1bd1;},executeAction:function(_1bd2){_1bb7.deprecated("mx.ui.executeAction","Use mx.ui.action instead",_1bb9);_1bd2=_1bc8(_1bd2);var _1bd3=_1bd2.target||"Screen",_1bd4=_1bd2.params,scope=_1bcc(_1bd3);return scope&&scope(_1bd4)||null;},showDialogMessage:function(_1bd5,type){_1bb7.deprecated("mx.ui.showDialogMessage is deprecated, use info/warn/error instead","",_1bb9);window.mx.ui.error(_1bd5);},newContext:function(_1bd6){_1bb7.deprecated("mx.ui.newContext is deprecated, create an instance of mendix.lib.MxContext instead","",_1bb9);return new _1bb3();},getProgressIndicator:function(type,_1bd7){_1bb7.deprecated("mx.ui.getProgressIndicator is deprecated, use mx.ui.getProgress instead","",_1bb9);type=String(type).toLowerCase().replace("nonblocking","popup").replace("blocking","modal");return window.mx.ui.getProgress(_1bd7,type);},getLocale:function(){_1bb7.deprecated("mx.ui.getLocale is deprecated, use dojo/_base/kernel::locale instead","",_1bb9);return _1bb7.locale;}});window.mx.ui.registerTarget("MicroflowAction",function(_1bd8){return window.mx.ui.action(_1bd8.action,{store:{caller:_1bd8.caller},context:_1bd8.mxcontext,callback:_1bd8.callback,params:{gridid:_1bd8.gridid,applyto:"selection",guids:[_1bd8.mxcontext.getTrackId()]}});});window.mx.ui.registerTarget("XASAction",function(_1bd9){return window.mx.ui.action(_1bd9.actionname,{store:{caller:_1bd9.caller},async:/true/.test(_1bd9.async),params:_1bd9.actionparams,context:_1bd9.mxcontext,callback:_1bd9.callback,error:_1bd9.error,progress:{type:_1bd9.progress,message:_1bd9.progressmsg}});});var _1bda={};var _1bdb=function(fnc){return function(args){var _1bdc;try{_1bdc=fnc(args);}catch(e){logger.error(name+".sendMessage: trouble calling subscriber: "+e);}return (_1bdc instanceof _1bb6||_1bdc instanceof Error)?_1bdc:args;};};_1bb8.mixin(window.mx.screen||(window.mx.screen={}),{setContent:function(_1bdd){_1bb7.deprecated("mx.screen.setContent is deprecated, use mx.ui.openForm instead","",_1bb9);if("form" in _1bdd){_1bdd={targeturl:_1bdd.form.path,targetparams:_1bdd.targetparams,uilocation:_1bdd.form.location,title:_1bdd.form.title,resizable:_1bdd.form.resizable};}var _1bde=_1bdd.targetparams&&_1bdd.targetparams.mxcontext;if(_1bde){delete _1bdd.targetparams.mxcontext;}return window.mx.ui.openForm(_1bdd.targeturl,{params:_1bdd.targetparams,location:_1bdd.uilocation,title:_1bdd.title,resizable:_1bdd.resizable,context:_1bde});},showProgress:function(){_1bb7.deprecated("mx.screen.showProgress is deprecated, use mx.ui.showProgress instead","",_1bb9);return this._lastProgress=window.mx.ui.showProgress();},hideProgress:function(id){_1bb7.deprecated("mx.screen.hideProgress is deprecated, use mx.ui.hideProgress instead","",_1bb9);return window.mx.ui.hideProgress(typeof id=="undefined"?this._lastProgress:id);},subscribe:function(_1bdf,_1be0,fnc){_1bb7.deprecated("mx.screen.subscribe is deprecated, use mxform.listen instead","",_1bb9);var id=lang.getUniqueId();return (_1bda[id]=[id,_1bdf,_1be0,fnc]);},unsubscribe:function(_1be1){_1bb7.deprecated("mx.screen.unsubscribe is deprecated, use mxform.unlisten instead","",_1bb9);if(_1be1){var id=_1be1[0];if(_1bda[id]){delete _1bda[id];}else{}}},sendMessage:function(_1be2,_1be3,args){_1bb7.deprecated("mx.screen.sendMessage is deprecated, use save / commit / rollback on mxform instead","",_1bb9);var form=window.mx.ui.getCurrentForm();if(!_1be3||!form){return null;}switch(_1be3){case "saveObject":return form.save();case "commitObject":return form.commit();case "rollbackObject":return form.rollback();default:var _1be4=new _1bb6(),_1be5=new _1bb6(),_1be6=[];for(var i in _1bda){var _1be7=_1bda[i],cid=_1be7[1],msg=_1be7[2],fnc=_1be7[3];if(cid==_1be2&&msg==_1be3){_1be6.push(_1bdb(fnc));}}args&&args.reversed&&_1be6.reverse();while(_1be6.length){_1be5.then(_1be6.shift());}_1be5.then(function(args){_1be4.resolve();return args;},function(e){_1be4.reject(e);return e;});_1be5.resolve(args);return _1be4;}},getUIPlace:function(_1be8){_1bb7.deprecated("mx.screen.getUIPlace is deprecated, use place property of mxform instead","",_1bb9);var form=_1be8.widget&&_1be8.widget.mxform;if(form){return form.place;}else{logger.error("mx.screen.getUIPlace: no widget passed, or widget not bound to a form.");}},getTitle:function(_1be9){_1bb7.deprecated("mx.screen.getTitle is deprecated, use mxform.getTitle instead","",_1bb9);var form=_1be9.widget&&_1be9.widget.mxform;if(form){return form.getTitle();}else{logger.error("mx.screen.getTitle: no widget passed, or widget not bound to a form.");}},resumeContent:function(_1bea){_1bb7.deprecated("mx.screen.resumeContent is deprecated, don't use it","",_1bb9);},suspendContent:function(_1beb){_1bb7.deprecated("mx.screen.suspendContent is deprecated, don't use it","",_1bb9);},disposeContent:function(_1bec){_1bb7.deprecated("mx.screen.disposeContent is deprecated, use mxform.close instead","",_1bb9);var form=_1bec.widget&&_1bec.widget.mxform;if(form){form.close();}else{logger.error("mx.screen.disposeContent: no widget passed, or widget not bound to a form.");}},resizeContent:function(_1bed){_1bb7.deprecated("mx.screen.resizeContent is deprecated, use mxform.resize instead","",_1bb9);var form=_1bed.widget&&_1bed.widget.mxform;if(form){form.resize();}else{logger.error("mx.screen.resizeContent: no widget passed, or widget not bound to a form.");}},reloadContent:function(){_1bb7.deprecated("mx.screen.reloadContent is deprecated, use mx.ui.reload instead","",_1bb9);window.mx.ui.reload();},refresh:function(){_1bb7.deprecated("mx.screen.refresh is deprecated, use mx.ui.reload instead","",_1bb9);window.mx.ui.reload();},shutdown:window.mx.ui.shutdown,startup:window.mx.ui.startup,isLoaded:window.mx.ui.isLoaded});_1bba("mx.screen","showLogin","mx.ui","showLogin",_1bb9);_1bba("mx.screen","hideLogin","mx.ui","hideLogin",_1bb9);_1bba("mx.screen","logout","mx","logout",_1bb9);_1bba("mx.screen","layout","mx.ui","resize",_1bb9);_1bba("mx.screen","applyToNode","mx.ui","applyToNode",_1bb9);mxui.lib.putContent=mendix.lib.putContent=function(url,opts,node){_1bb7.deprecated("mxui.lib.putContent is deprecated, use mx.ui.openForm instead","",_1bb9);var _1bee;if(typeof url=="object"){var _1bef=url,scope=opts;url=_1bef.url;opts=_1bef.params;node=_1bef.node;}else{_1bee=new _1bb6();}window.mx.ui.openFormInNode(url,node,opts.context,opts,function(form){form.domNode.style.height="auto";if(_1bee){_1bee.resolve("");}else{_1bef.callback&&_1bef.callback.call(null,"",form.id,form);}},function(error){if(_1bee){_1bee.reject(error);}else{_1bef.error&&_1bef.error.call(scope,error);}});return _1bee;};_1bba("mendix.dom","mxui.dom",_1bb9);_1bba("mendix.html","mxui.html",_1bb9);_1bba("mendix.wm.focus","mxui.wm.focus",_1bb9);_1bba("mendix.dom","liveconnect","mxui.dom","liveConnect",_1bb9);_1bba("mxui.addon","mxui.mixin",_1bb9);_1bba("mendix.addon","mxui.mixin",_1bb9);_1bba("mendix.widget","mxui.widget",_1bb9);_1bba("mobile.dom","mxui.dom",_1bb9);_1bba("mobile.widget","_Widget","mxui.widget","_WidgetBase",_1bb9);_1bba("mxui.html","setContent","mxui.dom","text",_1bb9);_1bba("mxui.html","sanitizeHTMLString","mxui.dom","unescapeString",_1bb9);});},"url:mxui/widget/templates/MxInlineEditor.html":"<div class=\"MxInlineEditor\">\n    <form class=\"inlineEditBox\" style=\"display: none;\" dojoAttachPoint=\"form\" onsubmit=\"return false;\">\n        <input type=\"text\" dojoAttachPoint=\"readonly\" style=\"display: none;\" class=\"inlineEditBox_readOnly form-control\"/>\n        <input type=\"text\" dojoAttachPoint=\"enumtext\" style=\"display: none;\" class=\"inlineEditBox_focusEnum form-control\"/>\n        <input type=\"text\" dojoAttachPoint=\"text\" style=\"display: none;\" class=\"inlineEditBox_editable form-control\"/>\n        <select type=\"select\" dojoAttachPoint=\"select\" style=\"display: none;\" class=\"inlineEditBox_selectbox form-control\"></select>\n    </form>\n</div>\n","url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\" data-dojo-attach-event=\"mouseenter:onMouseEnter,mouseleave:onMouseLeave\"\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n></div>\n","url:mxui/widget/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=dojoTooltip>\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" style=\"display:none\" dojoAttachPoint=\"containerNode\" role='alert'></div>\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\">\n\t\t<div class=\"mx-tooltip-content\" dojoAttachPoint=\"contentNode\"></div>\n\t\t<div class=\"mx-tooltip-prepare\" dojoAttachPoint=\"prepareNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div>\n</div>\n","url:mxui/widget/templates/DataGrid.html":"<div class=\"${baseClass} mx-datagrid\">\n    <div class=\"${baseClass}-searchbar clearfix\" dojoAttachPoint=\"searchNode\" focusIndex=\"0\">\n        <div class=\"${baseClass}-search-controls\" focusIndex=\"1\" dojoAttachPoint=\"searchControlNode\"></div>\n        <div class=\"${baseClass}-search-inputs\" focusIndex=\"0\" dojoAttachPoint=\"searchArgumentNode\"></div>\n        <div class=\"${baseClass}-search-message\" dojoAttachPoint=\"messageNode\"></div>\n    </div>\n    \n    <div class=\"${baseClass}-controlbar clearfix\" dojoAttachPoint=\"controlNode\" focusIndex=\"1\">\n        <div class=\"${baseClass}-pagingbar\" dojoAttachPoint=\"pagingBarNode\"></div>\n        <div class=\"${baseClass}-toolbar\" dojoAttachPoint=\"toolBarNode\"></div>\n    </div>\n        \n    <div class=\"${baseClass}-content\" dojoAttachPoint=\"contentNode\" focusIndex=\"2\">\n        <div class=\"${subClass}-content-wrapper\" dojoAttachPoint=\"tableWrapper\">\n            <table class=\"table table-bordered ${subClass}-head-table\" dojoAttachPoint=\"headTable\">\n                <colgroup dojoAttachPoint=\"headTableGroupNode\"></colgroup>\n                <thead class=\"${subClass}-head\" dojoAttachPoint=\"gridHeadNode\"></thead>\n            </table>\n            <table class=\"table table-striped table-bordered ${subClass}-body-table\" dojoAttachPoint=\"gridTable\">\n                <colgroup dojoAttachPoint=\"bodyTableGroupNode\"></colgroup>\n                <tbody class=\"${subClass}-body\" dojoAttachPoint=\"gridBodyNode\"></tbody>\n                <tfoot class=\"${subClass}-foot\" dojoAttachPoint=\"gridFootNode\"></tfoot>\n            </table>\n        </div>\n    </div>\n</div>\n","url:mxui/widget/templates/TemplateGrid.html":"<div class=\"${baseClass} mx-templategrid\">\n    <div class=\"${baseClass}-searchbar clearfix\" dojoAttachPoint=\"searchNode\" focusIndex=\"0\">\n        <div class=\"${baseClass}-search-controls\" focusIndex=\"1\" dojoAttachPoint=\"searchControlNode\"></div>\n        <div class=\"${baseClass}-search-inputs\" focusIndex=\"0\" dojoAttachPoint=\"searchArgumentNode\"></div>\n        <div class=\"${baseClass}-search-message\" dojoAttachPoint=\"messageNode\"></div>\n    </div>\n    \n    <div class=\"${baseClass}-controlbar clearfix\" dojoAttachPoint=\"controlNode\" focusIndex=\"1\">\n        <div class=\"${baseClass}-pagingbar\" dojoAttachPoint=\"pagingBarNode\"></div>\n        <div class=\"${baseClass}-toolbar\" dojoAttachPoint=\"toolBarNode\"></div>\n    </div>\n\t\n    <div class=\"${baseClass}-content\" dojoAttachPoint=\"contentNode\" focusIndex=\"2\">\n        <div class=\"${subClass}-content-wrapper\" dojoAttachPoint=\"itemNode\"></div>\n    </div>\n</div>\n","url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"ondijitclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\ttabIndex=\"-1\" role=\"presentation\" aria-hidden=\"true\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\" aria-hidden=\"true\"\n/></span>\n","url:mxui/widget/templates/DemoUserSwitcher.html":"<div class=\"mx-demouserswitcher\">\n    <div class=\"mx-demouserswitcher-toggle\" data-dojo-attach-point=\"_toggleNode\"></div>\n    <div class=\"mx-demouserswitcher-content\">\n        <h2>Select user</h2>\n        <p>Select one of the demo users to view the application with the associated user roles.</p>\n        <ul data-dojo-attach-point=\"_listNode\"></ul>\n    </div>\n</div>\n","url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:__onClick,onkeydown:_onButtonKeyDown\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeydown:_onArrowKeyDown\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\"\n\t\t\t\tclass=\"dijitOffScreen\"\n\t\t\t\trole=\"presentation\" aria-hidden=\"true\"\n\t\t\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\t/></td></tr></tbody\n></table>\n","*now":function(r){r(["dojo/i18n!*preload*mxui/nls/mxui*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\"]"]);},"*noref":1}});require(["mxui/initialize"],function(){require(["mendix/exposed","mxui/exposed"],function(){require(["mxui/polyfill/placeholder/placeholder","mxui/widget/PrimitiveWidgetWrapper","dijit/layout/ContentPane"],function(){dojo.require("dijit.layout.ContentPane");require(["mxui/startup","mendix/compat-5","mendix/compat-4","mxui/compat-5","mxui/compat-4"]);});});});