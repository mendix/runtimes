
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mxui/widget",["mxui/widget/_MasterTooltip"],function(_1){var _2={};_2.getDisableables=function(_3){var _4=[];var _5=function(_6){var _7=_6.childNodes;for(var i=0,_8;_8=_7[i];i++){if(_8.nodeType!=1){continue;}var id=_8.getAttribute("widgetId"),_9=dijit.byId(id);if(_9&&!(/^dijit/.test(id)||_9._btn_||_9 instanceof mxui.widget._Button)){_4.push(_9);}if(!(_9 instanceof mxui.widget._WidgetBase)){_5(_8);}}};_5(_3);return _4;};_2.fireOnReady=function(_a,_b){var _c=[];dojo.forEach(_a,function(w){if(w.addOnLoad){_c.push(function(h){w.addOnLoad(h);});}});if(_b){_c.push(function(){_b();});}mendix.lang.sequence(_c);};_2.makeCallsBundle=function(_d,_e,_f){var _10=[],i=_d.length;while(i--){var _11=_d[i].prototype,fnc=_11[_f];fnc&&_10.push(fnc);}return _10.length?(function(){var _12=null;for(var i=0,_13;_13=_10[i];i++){try{_13.call(this);}catch(e){var _14=_13.ctor&&_13.ctor.prototype,_15=(_14&&_14.declaredClass)||"some";logger.error(this.id+"."+_e+": Can not execute "+_f+" function of "+_15+" addon :"+e.message);}}}):function(){};};_2.destroyChildren=function(_16){var _17=dijit.findWidgets(_16);dojo.forEach(_17,function(_18){try{_18.destroyRecursive();}catch(e){logger.error(_18.id+".destroy: Unable to destroy:"+e.message);}});};_2.defineClass=function(_19,_1a,_1b){var _1c=(function(_1d){if(this instanceof arguments.callee){var _1e=(_1d&&_1d.callee==arguments.callee)?_1d:arguments;try{_19&&_19.apply(this,_1e);}catch(e){var _1f=typeof e=="string"?e:e.message;logger.error(this.id+".Unable to render widget. ERROR: "+_1f);this.loaded();this._broken=true;this._brokenError=_1f;var _20=this.domNode&&this.domNode.parentNode,_21=mxui.dom.div({refWidgetId:this.id,style:"color:red"},"Unable to render "+this.id+" widget: "+_1f);if(_20){_20.removeChild(this.domNode);_20.appendChild(_21);}else{var _22=(arguments.length==2&&arguments[1].nodeName)?arguments[1]:null;if(_22&&_22.parentNode){_22.parentNode.appendChild(_21);}}}}else{if(_1a){var _23=(arguments.callee.caller)?"from scope "+arguments.callee.caller.toString():"from unknown scope";}return new arguments.callee(arguments);}});if(_19){for(var x in _19){_1c[x]=_19[x];}_1c.prototype=_19.prototype;_1c.prototype.constructor=_1c;}return _1c;};_2.transformAddons=function(_24){var _25=[];for(var i=0,l=_24.length;i<l;i++){var _26=_24[i],_27=(typeof _26=="string")?dojo.getObject(_26):_26;if(_27==null||typeof (_27)=="object"){throw new Error("mxui.widget.declare: Mixin '"+_26.toString()+"' is not loaded! Maybe it's broken???");}_25.push(_27);}return _25;};_2.createPrototype=function(_28,_29,_2a){var _2b=function(_2c){var _2d=_2c.inputargs,_2e=false;if(_2d instanceof Array){var _2f={};for(var i=0,l=_2d.length;i<l;i++){if(typeof _2d[i]=="object"){for(var x in _2d[i]){_2f[x]=_2d[i][x];break;}_2e=true;}else{_2f[_2d[i]]="";}}if(_2e){}_2d=_2f;}if(_2d){var _30=_28.__inputargs?_28.__inputargs:(_28.__inputargs={});for(var i in _2d){_30[i]=_28[i]=_2d[i];}}};for(var i=0,l=_29.length;i<l;i++){var _31=_29[i].prototype;_2b(_31);}_2b(_28);for(var i=0,l=_2a.length;i<l;i++){var _32=_2a[i].prototype;_2b(_32);}};_2.declare=function(_33,_34){var _35=_34.superclass||dijit._Widget,_36=_34.mixins,_37=_34.constructor,_38=_33.split(".");if(!_36&&_34.addons){dojo.deprecated("mxui.widget.declare: addons are deprecated, use mixins instead (widget: "+_33+")","","3.1");_36=_34.addons;}_36=_36||[];if(_38.length==1){_33="mxui.widget."+_38;_38=_33.split(".");}var _39=_35.prototype["_mx_"]?[_35]:[_35,mxui.widget._Widget];var _36=mxui.widget.transformAddons(_36),_3a=_39.concat(_36),_3b=_38.pop();_34.moduleName=_38.join(".");_34.className=_3b;_34["initializer"]=mxui.widget.makeCallsBundle(_3a,"create","initialize");_34["uninitializer"]=mxui.widget.makeCallsBundle(_3a,"destroy","uninitialize");mxui.widget.createPrototype(_34,_39,_36);var _3c=dojo.declare(_33,_3a,_34);var _3d=mxui.widget.defineClass(_3c,true,_33);return dojo.setObject(_33,_3d);};_2.createCSSMap=function(_3e,css){for(var i in css){css[i]=_3e+"-"+css[i];}css.baseClass=_3e;return css;};_2.ready=function(_3f,_40,_41){var _42=[];for(var i=0,_43;_43=_3f[i];i++){if(_43.addOnLoad){_42.push(function(_44){return function(_45){_44.addOnLoad(_45);};}(_43));}}mendix.lang.collect(_42,_40,_41);};var _46=null;_2.showTooltip=function(){if(!_46){_46=new _1();}_46.show.apply(_46,arguments);};_2.hideTooltip=function(_47){if(!_46){_46=new _1();}if(_47==null){_47=_46.currentNode;}_46.hide(_47);};return _2;});