
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mxui/widget",["mxui/widget/_MasterTooltip","dojo/_base/array","dojo/_base/lang"],function(_1,_2,_3){var _4={};_4.getDisableables=function(_5){var _6=[];var _7=function(_8){var _9=_8.childNodes;for(var i=0,_a;_a=_9[i];i++){if(_a.nodeType!=1){continue;}var id=_a.getAttribute("widgetId"),_b=dijit.byId(id);if(_b&&!(/^dijit/.test(id)||_b._btn_||_b instanceof mxui.widget._Button)){_6.push(_b);}if(!(_b instanceof mxui.widget._WidgetBase)){_7(_a);}}};_7(_5);return _6;};_4.fireOnReady=function(_c,_d){var _e=[];_2.forEach(_c,function(w){if(w.addOnLoad){_e.push(function(h){w.addOnLoad(h);});}});if(_d){_e.push(function(){_d();});}mendix.lang.sequence(_e);};_4.makeCallsBundle=function(_f,_10,_11){var _12=[],i=_f.length;while(i--){var _13=_f[i].prototype,fnc=_13[_11];fnc&&_12.push(fnc);}return _12.length?(function(){var _14=null;for(var i=0,_15;_15=_12[i];i++){try{_15.call(this);}catch(e){var _16=_15.ctor&&_15.ctor.prototype,_17=(_16&&_16.declaredClass)||"some";logger.error(this.id+"."+_10+": Can not execute "+_11+" function of "+_17+" addon :"+e.message);}}}):function(){};};_4.destroyChildren=function(_18){var _19=dijit.findWidgets(_18);_2.forEach(_19,function(_1a){try{_1a.destroyRecursive();}catch(e){logger.error(_1a.id+".destroy: Unable to destroy:"+e.message);}});};_4.defineClass=function(_1b,_1c,_1d){var _1e=(function(_1f){if(this instanceof arguments.callee){var _20=(_1f&&_1f.callee==arguments.callee)?_1f:arguments;try{_1b&&_1b.apply(this,_20);}catch(e){var _21=typeof e=="string"?e:e.message;logger.error(this.id+".Unable to render widget. ERROR: "+_21);this.loaded();this._broken=true;this._brokenError=_21;var _22=this.domNode&&this.domNode.parentNode,_23=mxui.dom.div({refWidgetId:this.id,style:"color:red"},"Unable to render "+this.id+" widget: "+_21);if(_22){_22.removeChild(this.domNode);_22.appendChild(_23);}else{var _24=(arguments.length==2&&arguments[1].nodeName)?arguments[1]:null;if(_24&&_24.parentNode){_24.parentNode.appendChild(_23);}}}}else{if(_1c){var _25=(arguments.callee.caller)?"from scope "+arguments.callee.caller.toString():"from unknown scope";}return new arguments.callee(arguments);}});if(_1b){for(var x in _1b){_1e[x]=_1b[x];}_1e.prototype=_1b.prototype;_1e.prototype.constructor=_1e;}return _1e;};_4.transformAddons=function(_26){var _27=[];for(var i=0,l=_26.length;i<l;i++){var _28=_26[i],_29=(typeof _28=="string")?_3.getObject(_28):_28;if(_29==null||typeof (_29)=="object"){throw new Error("mxui.widget.declare: Mixin '"+_28.toString()+"' is not loaded! Maybe it's broken???");}_27.push(_29);}return _27;};_4.createPrototype=function(_2a,_2b,_2c){var _2d=function(_2e){var _2f=_2e.inputargs,_30=false;if(_2f instanceof Array){var _31={};for(var i=0,l=_2f.length;i<l;i++){if(typeof _2f[i]=="object"){for(var x in _2f[i]){_31[x]=_2f[i][x];break;}_30=true;}else{_31[_2f[i]]="";}}if(_30){}_2f=_31;}if(_2f){var _32=_2a.__inputargs?_2a.__inputargs:(_2a.__inputargs={});for(var i in _2f){_32[i]=_2a[i]=_2f[i];}}};for(var i=0,l=_2b.length;i<l;i++){var _33=_2b[i].prototype;_2d(_33);}_2d(_2a);for(var i=0,l=_2c.length;i<l;i++){var _34=_2c[i].prototype;_2d(_34);}};_4.declare=function(_35,_36){var _37=_36.superclass||dijit._Widget,_38=_36.mixins,_39=_36.constructor,_3a=_35.split(".");if(!_38&&_36.addons){dojo.deprecated("mxui.widget.declare: addons are deprecated, use mixins instead (widget: "+_35+")","","3.1");_38=_36.addons;}_38=_38||[];if(_3a.length==1){_35="mxui.widget."+_3a;_3a=_35.split(".");}var _3b=_37.prototype["_mx_"]?[_37]:[_37,mxui.widget._Widget];var _38=mxui.widget.transformAddons(_38),_3c=_3b.concat(_38),_3d=_3a.pop();_36.moduleName=_3a.join(".");_36.className=_3d;_36["initializer"]=mxui.widget.makeCallsBundle(_3c,"create","initialize");_36["uninitializer"]=mxui.widget.makeCallsBundle(_3c,"destroy","uninitialize");mxui.widget.createPrototype(_36,_3b,_38);var _3e=dojo.declare(_35,_3c,_36);var _3f=mxui.widget.defineClass(_3e,true,_35);return _3.setObject(_35,_3f);};_4.createCSSMap=function(_40,css){for(var i in css){css[i]=_40+"-"+css[i];}css.baseClass=_40;return css;};_4.ready=function(_41,_42,_43){var _44=[];for(var i=0,_45;_45=_41[i];i++){if(_45.addOnLoad){_44.push(function(_46){return function(_47){_46.addOnLoad(_47);};}(_45));}}mendix.lang.collect(_44,_42,_43);};var _48=null;_4.showTooltip=function(){if(!_48){_48=new _1();}_48.show.apply(_48,arguments);};_4.hideTooltip=function(_49){if(!_48){_48=new _1();}if(_49==null){_49=_48.currentNode;}_48.hide(_49);};return _4;});