/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("mxui/lib/form/_FormBase",["mxui/wm/focus","mxui/widget","mendix/lang","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dijit/registry"],function(_1,_2,_3,_4,_5,_6,_7,_8){"use strict";var _9;var _a=_7(null,{id:"",hash:"",title:"",place:"",path:"",viewState:null,_suspended:false,_listeners:null,_context:null,domNode:null,constructor:function(){this.hash=_3.getUniqueId();this._listeners={};},postscript:function(){_1.addBox(this.domNode);_1.cyclic(this.domNode,true);},getTitle:function(){return this.title;},getContext:function(){return this._context;},reload:function(_b){_2.applyContext(_8.findWidgets(this.domNode),this._context,_b);},dispose:function(){},onBeforeShow:function(){},onBeforeHide:function(){},onAfterShow:function(){},onAfterHide:function(){},onPersistViewState:function(_c){},onResume:function(){},close:function(){this.publish("close",_6.hitch(this,"dispose"));},validate:function(_d,_e){this.publish("validate",_d,_e);},save:function(_f,_10){this.publish("save",_f,_10);},commit:function(_11,_12){this._suspended=true;this.publish("commit",this._resumeCallback(_11),this._resumeCallback(_12));},rollback:function(_13,_14){this._suspended=true;this.publish("rollback",this._resumeCallback(_13),this._resumeCallback(_14));},publish:function(_15,_16,_17,_18){var _19=this._listeners[_15];if(_19){var _1a=[];for(var _1b in _19){_1a.unshift(_6.partial(function(_1c,_1d){_1c(_1d,_17,_18);},_19[_1b]));}_3.sequence(_1a,_16);}else{if(_16){_16();}}},listen:function(_1e,_1f){var sid=_3.getUniqueId(),_20=this._listeners[_1e]||(this._listeners[_1e]={});_20[sid]=_1f;return [_1e,sid];},unlisten:function(_21){var sid=_21[1],msg=_21[0],_22=this._listeners[msg];if(_22){delete _22[sid];for(var i in _22){return;}delete this._listeners[msg];}},isSuspended:function(){return this._suspended;},hasInterface:function(_23){return _23=="close";},invokeCall:function(_24){if(_24=="close"){this.dispose();}},getChildren:function(_25){if(_25){return _2.getDescendantWidgets(this.domNode);}else{return _8.findWidgets(this.domNode);}},callRecursive:function(_26,_27){var _28=this.getChildren(),_29=Array.prototype.slice.call(arguments,1);for(var i=0,_2a;_2a=_28[i];i++){if(_2a[_26]){_2a[_26].apply(_2a,_29);}}},enable:function(){this.callRecursive("set","disabled",true);},disable:function(){this.callRecursive("set","disabled",false);},resize:function(_2b){var _2c=this;window.clearTimeout(_9);if(_2b===true){_2d();}else{_9=window.setTimeout(_2d,0);}function _2d(){_4.add(document.body,"mx-no-scroll");_2c.onResize();setTimeout(function(){_4.remove(document.body,"mx-no-scroll");},0);};},onResize:function(){},_resumeCallback:function(_2e){var _2f=this;return function(){_2f._suspended=false;_2f.onResume();if(_2e){_2e.apply(null,arguments);}};}});return _a;});