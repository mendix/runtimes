/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("mxui/lib/form/_FormBase",["mxui/wm/focus","mxui/widget","mendix/lang","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dijit/registry"],function(_1,_2,_3,_4,_5,_6,_7,_8){"use strict";var _9;var _a=_7(null,{id:"",hash:"",title:"",place:"",path:"",viewState:null,_suspended:false,_listeners:null,_context:null,domNode:null,constructor:function(){this.hash=_3.getUniqueId();this._listeners={};},postscript:function(){_1.addBox(this.domNode);_1.cyclic(this.domNode,true);},getTitle:function(){return this.title;},getContext:function(){return this._context;},reload:function(_b){_2.applyContext(_8.findWidgets(this.domNode),this._context,_b);},onNavigation:function(){},onPersistViewState:function(_c){},onResume:function(){},validate:function(_d,_e){this.publish("validate",_d,_e);},save:function(_f,_10){this.publish("save",_f,_10);},commit:function(_11,_12){this._suspended=true;this.publish("commit",this._resumeCallback(_11),this._resumeCallback(_12));},rollback:function(_13,_14){this._suspended=true;this.publish("rollback",this._resumeCallback(_13),this._resumeCallback(_14));},close:function(_15){this.publish("close",_15,null);},publish:function(_16,_17,_18,_19){var _1a=this._listeners[_16];if(_1a){var _1b=[];for(var _1c in _1a){_1b.unshift(_6.partial(function(_1d,_1e){_1d(_1e,_18,_19);},_1a[_1c]));}_3.sequence(_1b,_17);}else{if(_17){_17();}}},listen:function(_1f,_20){var sid=_3.getUniqueId(),_21=this._listeners[_1f]||(this._listeners[_1f]={});_21[sid]=_20;return [_1f,sid];},unlisten:function(_22){var sid=_22[1],msg=_22[0],_23=this._listeners[msg];if(_23){delete _23[sid];for(var i in _23){return;}delete this._listeners[msg];}},isSuspended:function(){return this._suspended;},getChildren:function(_24){if(_24){return _2.getDescendantWidgets(this.domNode);}else{return _8.findWidgets(this.domNode);}},callRecursive:function(_25,_26){var _27=this.getChildren(),_28=Array.prototype.slice.call(arguments,1);for(var i=0,_29;_29=_27[i];i++){if(_29[_25]){_29[_25].apply(_29,_28);}}},enable:function(){this.callRecursive("set","disabled",true);},disable:function(){this.callRecursive("set","disabled",false);},resize:function(_2a){var _2b=this;window.clearTimeout(_9);if(_2a===true){_2c();}else{_9=window.setTimeout(_2c,0);}function _2c(){_4.add(document.body,"mx-no-scroll");_2b.onResize();setTimeout(function(){_4.remove(document.body,"mx-no-scroll");},0);};},onResize:function(){},_resumeCallback:function(_2d){var _2e=this;return function(){_2e._suspended=false;_2e.onResume();if(_2d){_2d.apply(null,arguments);}};}});return _a;});