/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("mxui/lib/form/_FormBase",["mxui/wm/focus","mxui/widget","mendix/lang","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dijit/registry"],function(_1,_2,_3,_4,_5,_6,_7,_8){"use strict";var _9=_7(null,{id:"",hash:"",title:"",place:"",path:"",viewState:null,_suspended:false,_listeners:null,_context:null,domNode:null,constructor:function(){this.hash=_3.getUniqueId();this._listeners={};},postscript:function(){_1.addBox(this.domNode);_1.cyclic(this.domNode,true);},getTitle:function(){return this.title;},getContext:function(){return this._context;},reload:function(_a){_2.applyContext(_8.findWidgets(this.domNode),this._context,_a);},dispose:function(){},onBeforeShow:function(){},onBeforeHide:function(){},onAfterShow:function(){},onAfterHide:function(){},onPersistViewState:function(_b){},onResume:function(){},close:function(){this.publish("close",_6.hitch(this,"dispose"));},validate:function(_c,_d){this.publish("validate",_c,_d);},save:function(_e,_f){this.publish("save",_e,_f);},commit:function(_10,_11){this._suspended=true;this.publish("commit",this._resumeCallback(_10),this._resumeCallback(_11));},rollback:function(_12,_13){this._suspended=true;this.publish("rollback",this._resumeCallback(_12),this._resumeCallback(_13));},publish:function(_14,_15,_16,_17){var _18=this._listeners[_14];if(_18){var _19=[];for(var _1a in _18){_19.unshift(_6.partial(function(_1b,_1c){_1b(_1c,_16,_17);},_18[_1a]));}_3.sequence(_19,_15);}else{if(_15){_15();}}},listen:function(_1d,_1e){var sid=_3.getUniqueId(),_1f=this._listeners[_1d]||(this._listeners[_1d]={});_1f[sid]=_1e;return [_1d,sid];},unlisten:function(_20){var sid=_20[1],msg=_20[0],_21=this._listeners[msg];if(_21){delete _21[sid];for(var i in _21){return;}delete this._listeners[msg];}},isSuspended:function(){return this._suspended;},hasInterface:function(_22){return _22=="close";},invokeCall:function(_23){if(_23=="close"){this.dispose();}},getChildren:function(_24){if(_24){return _2.getDescendantWidgets(this.domNode);}else{return _8.findWidgets(this.domNode);}},callRecursive:function(_25,_26){var _27=this.getChildren(),_28=Array.prototype.slice.call(arguments,1);for(var i=0,_29;_29=_27[i];i++){if(_29[_25]){_29[_25].apply(_29,_28);}}},enable:function(){this.callRecursive("set","disabled",true);},disable:function(){this.callRecursive("set","disabled",false);},resize:_2a(function(){_4.add(document.body,"mx-no-scroll");this.onResize();_4.remove(document.body,"mx-no-scroll");}),onResize:function(){},_resumeCallback:function(_2b){var _2c=this;return function(){_2c._suspended=false;_2c.onResume();if(_2b){_2b.apply(null,arguments);}};}});function _2a(_2d){var _2e;return function(){clearTimeout(_2e);var _2f=this,_30=arguments;_2e=setTimeout(function(){_2d.apply(_2f,_30);},0);};};return _9;});