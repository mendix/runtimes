/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("mxui/lib/form/FormFactory",["mxui/lib/form/InlineForm","mxui/lib/pageTemplating/pageProvider","mxui/lib/pageTemplating/pageComponentComposer","mxui/widget/Window","mxui/dom","mendix/lang","dojo/on","dojo/aspect","dojo/dom-class","dojo/_base/lang"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){"use strict";function _b(_c,_d,_e){_2.get(_c,function(_f){_3.composeAllComponentsIn(_f,_d,_e);},_e);};function _10(_11){this._templateProvider=_11;};_10.prototype.openPopupForm=function(_12,_13,_14,_15,_16,_17){var _18=this;_b(_12,function(_19){_18._templateProvider.add(_19.widgetTemplates);var _1a=new _1("popup",_19,_15,_13.title),wnd=new _4({title:_1a.title,width:_13.width,height:_13.height,resizable:"resizable" in _13?_13.resizable:true,content:_1a.domNode,cssClass:_19["class"],cssStyle:_19.style});_8.after(_1a,"dispose",_a.hitch(wnd,"hide"));_8.after(_1a,"onResize",_a.hitch(wnd,"resize"));_8.after(wnd,"onClose",_a.hitch(_1a,"close"));_8.before(wnd,"onShow",_a.hitch(_1a,"onBeforeShow"));_8.before(wnd,"onAfterShow",_a.hitch(_1a,"onAfterShow"));_8.before(wnd,"onHide",_a.hitch(_1a,"onBeforeHide"));_8.before(wnd,"destroy",function(){_1a.onAfterHide();_1a.destroy();});_1a.loadWidgets(_14,function(){wnd.show(_13.modal);_16&&_16(_1a);});},_17);};_10.prototype.openInlineForm=function(_1b,_1c,_1d,_1e,_1f,_20){var _21=this;_b(_1b,function(_22){_21._templateProvider.add(_22.widgetTemplates);var _23=new _1("custom",_22,_1e);_9.add(_23.domNode,"mx-offscreen");_1c.appendChild(_23.domNode);_8.before(_23,"destroy",function(){_23.onBeforeHide();_9.add(_23.domNode,"mx-offscreen");_23.onAfterHide();});_8.after(_23,"destroy",function(){_5.orphan(_23.domNode);});_8.after(_23,"dispose",_a.hitch(_23,"destroy"));_23.loadWidgets(_1d,function(){_23.onBeforeShow();_9.remove(_23.domNode,"mx-offscreen");_23.onAfterShow();_1f&&_1f(_23);});},_20);};return _10;});