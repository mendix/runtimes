
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mxui/lib/MxGridConfig",["dojo","dijit","dojox"],function(_1,_2,_3){_1.provide("mxui.lib.MxGridConfig");mxui.lib.MxGridConfig=function(_4){var _5="mxui.lib.MxGridConfig";var _6=_4.config;var _7={};var _8=[];var _9={};var _a={};var _b={};var _c=function(){var _d=_6.controlBar.gridTools;for(var i=0,_e;_e=_d[i];i++){if(mx.session.hasSomeRole(_e[mxui.html.attrs.ForRole]||null)){_8.push(_1.mixin({mxid:_e.actionKey},_e));}else{_b[_e.actionKey]=true;}}};var _f=function(){var _10=_6.controlBar.gridActions;for(var i=0,_11;_11=_10[i];i++){_7[_11.keyValue]={actionCall:_11.gridFunction,params:_11.params};}};var _12=function(){var _13=_6.actionBindings,_14,ev;if(_13){for(ev in _13){_14=_13[ev];if(!_b[_14]){_9[ev]=_14;}}}};var _15=function(str){var _16;_16={"equal":"=","greater":">","smaller":"<","notequal":"!=","smallerorequal":"<=","greaterorequal":">=","contains":"contains","starts-with":"starts-with"}[str];if(!_16){logger.error(_5+".mapOperator : unknown operator: "+str);}return _16+"";};var _17=function(){_a={};if(_6.searchElements){for(var i=0,_18;_18=_6.searchElements[i];++i){if(/range$/i.test(_18.klass)){_18.name=_18.lower;_18.toKey=_18.upper;_18.operator=_18.includeLower?"<=":"<";_18.toOperator=_18.includeUpper?">=":">";}else{_18.operator=_15(_18.operator);}_a[i+""]=_1.mixin({show:true},_18);}}};this.gridSetting=function(str){var _19=_6.gridpresentation,_1a=_1.mixin({pageSize:_19.rows*_19.columns},_19);return _1a[str];};this.gridTools=function(){return _8;};this.getActionsByKey=function(key){var _1b=_7[key];return _1b&&_1b.params?_1.clone(_1b):_1b;};this.searchBarItems=function(){return _a;};this.gridAttributes=function(){return _6.griddata;};this.searchBarConfig=function(){return _6.searchOptions;};this.getDataSource=function(){return _6.datasource;};this.gridActionBindings=function(){return _9||{};};this.getPlugins=function(){return _6.plugins;};this.toString=function(){return "mxui.lib.MxGridConfig";};_c();_f();_12();_17();};});