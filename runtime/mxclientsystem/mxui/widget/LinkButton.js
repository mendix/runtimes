/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("mxui/widget/LinkButton",["mxui/widget/_Button","mxui/mixin/_DynamicOptionHelper","mxui/dom","mendix/logger","dojo/_base/declare"],function(_1,_2,_3,_4,_5){var _6=_5([_1,_2],{declaredClass:"mxui.widget.LinkButton",action:"",address:"",caption:"",subject:"",cc:"",bcc:"",body:"",_argNames:{email:["subject","cc","bcc","body"]},_target:"",_url:"",buildRendering:function(){this.inherited(arguments);this._target=(this.action=="open"?"_blank":"_self");},onClick:function(e){window.open(this._url,this._target);},refresh:function(_7){this.updateOptions(["caption","address","subject","cc","bcc","body"],this._mxObject,function(_8){var _9=this.domNode;this.set("caption",_8.caption||"");this.setUrl(_8);_7&&_7();});},setUrl:function(_a){var _b=_a.address,_c;switch(this.action){case "open":_c=_b;break;case "email":_c="mailto:"+window.escape(_b);break;case "call":_c="tel:"+window.escape(_b);break;case "text":_c="sms:"+window.escape(_b);break;default:throw new Error(this.id+".setUrl : invalid action");}var _d=[],_e=this._argNames[this.action];if(_e){for(var i=0,_f;_f=_e[i];++i){var val=_a[_f];if(val){_d.push(_f+"="+window.escape(val));}}if(_d.length>0){_c+="?"+_d.join("&");}}this._url=_c;}});return _6;});