/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
require({cache:{"url:mxui/widget/templates/DemoUserSwitcher.html":"<div class=\"mx-demouserswitcher\">\n    <div class=\"mx-demouserswitcher-toggle\" data-dojo-attach-point=\"_toggleNode\"></div>\n    <div class=\"mx-demouserswitcher-content\">\n        <h2>Select user</h2>\n        <p>Select one of the demo users to view the application with the associated user roles.</p>\n        <ul data-dojo-attach-point=\"_listNode\"></ul>\n    </div>\n</div>\n"}});define("mxui/widget/DemoUserSwitcher",["mxui/widget/_WidgetBase","mxui/mixin/_Templated","mxui/dom","dojo/on","dojo/_base/fx","dojo/_base/array","dojo/_base/declare","dojo/text!mxui/widget/templates/DemoUserSwitcher.html"],function(_1,_2,_3,_4,_5,_6,_7,_8){"use strict";var _9=_7([_1,_2],{declaredClass:"mxui.widget.DemoUserSwitcher",templateString:_8,demoUsers:null,_listNode:null,_toggleNode:null,_collapsed:true,postCreate:function(){var _a=this;this.on(".mx-demouserswitcher-toggle:click",function(){_a._toggleVisibility();});this.on("li:click",function(e){_a._onUserClick(_3.data(this));e.preventDefault();});this._renderList();},startup:function(){this.domNode.style.right=-this.domNode.offsetWidth+"px";},_renderList:function(){_6.forEach(this.demoUsers,function(_b){var _c=_3.create("li",_3.create("a",{"href":"#"},_3.create("h3",_b.name),_3.create("p",_b.roles.join(", "))));if(_b.active){_c.setAttribute("class","active");}_3.data(_c,_b);this._listNode.appendChild(_c);},this);},_onUserClick:function(_d){mx.session.logout(function(){mx.login(_d.name,_d.password,null,function(){mx.reload();});});},_toggleVisibility:function(){var _e=this._collapsed?0:-this.domNode.offsetWidth;_5.animateProperty({node:this.domNode,duration:150,properties:{right:{end:_e,units:"px"}}}).play();this._collapsed=!this._collapsed;document.documentElement.style.overflow=document.body.style.overflow=this._collapsed?"":"hidden";}});return _9;});