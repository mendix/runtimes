/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("mxui/widget/DateInput",["mxui/widget/_FormWidget","mxui/widget/DatePicker","mxui/dom","mendix/lang","dojo/_base/lang","dojo/_base/declare"],function(_1,_2,_3,_4,_5,_6){var _7=_6(_1,{declaredClass:"mxui.widget.DateInput",placeholder:"",selector:"",format:"",_datepicker:null,_rdparams:null,buildRendering:function(){this._datepicker=new _2({placeholder:this.placeholder,selector:this.selector,format:this.format});this.editNode=this._datepicker.domNode;this._rdparams={selector:this.selector=="custom"?"date":this.selector,datePattern:this.format};this.inherited(arguments);},startup:function(){this.inherited(arguments);this._datepicker.startup();},connectEvents:function(){this.connect(this._datepicker,"onChange","onChange");for(var _8 in this.events){if(_8!="change"){this.connect(this._datepicker,"on"+_4.capitalize(_8),_5.hitch(this,"handleEvent",_8));}}},validate:function(){var _9=this.inherited(arguments);if(_9!=null){return _9;}else{if(this.get("value")==null){return window.mx.ui.translate("mendix.lib.Validations","invalid_date");}}},_enableEditNode:function(){this._datepicker.set("disabled",false);},_disableEditNode:function(){this._datepicker.set("disabled",true);},uninitialize:function(){this._datepicker.destroy();},_getValueAttr:function(){return this._datepicker.get("value");},_setValueAttr:function(_a){this._datepicker.set("value",_a);var _b=window.mx.parser.formatValue(_a,"datetime",this._rdparams);this.readNode.innerHTML=_b||"&nbsp;";}});return _7;});