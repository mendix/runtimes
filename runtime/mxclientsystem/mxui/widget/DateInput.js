
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mxui/widget/DateInput",["dojo","dijit","dojox"],function(_1,_2,_3){_1.provide("mxui.widget.DateInput");_1.declare("mxui.widget.DateInput",mxui.widget._FormWidget,{placeholder:"",selector:"",format:"",_datepicker:null,_rdparams:null,buildRendering:function(){var $=mxui.dom.create;this._datepicker=new mxui.widget.DatePicker({placeholder:this.placeholder,selector:this.selector,format:this.format});this.editNode=this._datepicker.domNode;this.readNode=$("label","&nbsp;");this._rdparams={selector:this.selector=="custom"?"date":this.selector,datePattern:this.format};this.inherited(arguments);},startup:function(){this.inherited(arguments);this._datepicker.startup();},connectEvents:function(){this.connect(this._datepicker,"onChange","onChange");for(var _4 in this.events){if(_4!="change"){this.connect(this._datepicker,"on"+mendix.lang.capitalize(_4),_1.hitch(this,"handleEvent",_4));}}},validate:function(){var _5=this.inherited(arguments);if(_5!=null){return _5;}else{if(this.get("value")==null){return mx.ui.translate("mendix.lib.Validations","invalid_date");}}},uninitialize:function(){this._datepicker.destroy();},_getValueAttr:function(){return this._datepicker.get("value");},_setValueAttr:function(_6){this._datepicker.set("value",_6);var _7=mx.parser.formatValue(_6,"datetime",this._rdparams);this.readNode.innerHTML=_7||"&nbsp;";}});});