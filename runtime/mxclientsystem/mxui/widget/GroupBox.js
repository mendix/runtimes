
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mxui/widget/GroupBox",["dojo","dijit","dojox"],function(_1,_2,_3){_1.provide("mxui.widget.GroupBox");_1.declare("mxui.widget.GroupBox",mxui.widget._WidgetBase,{caption:null,collapsed:false,collapsable:false,_headNode:null,_iconNode:null,_bodyNode:null,_children:null,buildRendering:function(){var $=mxui.dom.create,_4=this.srcNodeRef,_5=this.caption,_6=this.collapsable,_7;var _8=this.domNode=$("div",{"class":"mx-groupbox"},bodyNode=this._bodyNode=$("div",{"class":"mx-groupbox-body"},this.getTemplate("content")));if(_5||_5==""){if(_5==""){_5="&nbsp;";}else{_5=mxui.dom.escapeString(_5);}_7=this._headNode=$("h2",{"class":"mx-groupbox-header"});if(_6){_7.innerHTML=" "+_5;_1.addClass(_8,"mx-groupbox-collapsable");_1.place(this._iconNode=$("i",{"class":"glyphicon mx-groupbox-collapse-icon"}),_7,"first");}else{_7.innerHTML=_5;}_1.place(_7,_8,"first");}this._doCollapse();if(_7&&_6){this.connect(_7,"click",function(e){this.toggleCollapsed();e.stopPropagation();});}},startup:function(){this._children=this.parseContent(this.domNode);},update:function(_9,_a){var _b=_2.findWidgets(this.domNode);mxui.widget.ready(_b,_1.hitch(this,"passContext",_b,_a));},toggleCollapsed:function(){this.set("collapsed",!this.collapsed);},_setCollapsedAttr:function(_c){if(this.collapsed!=_c){this.collapsed=_c;this._doCollapse();}},_doCollapse:function(){if(this.collapsed){_1.addClass(this.domNode,"collapsed");if(this._iconNode){_1.replaceClass(this._iconNode,"glyphicon-plus","glyphicon-minus");}}else{_1.removeClass(this.domNode,"collapsed");if(this._iconNode){_1.replaceClass(this._iconNode,"glyphicon-minus","glyphicon-plus");}this.mxform.resize();}}});});