
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mxui/widget/GroupBox",["mxui/widget/_WidgetBase","mxui/widget","mxui/dom","mendix/logger","dijit/registry","dojo/dom-class","dojo/dom-construct","dojo/_base/declare","dojo/_base/lang"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){var _a=_8(_1,{declaredClass:"mxui.widget.GroupBox",caption:null,collapsed:false,collapsable:false,_headNode:null,_iconNode:null,_bodyNode:null,_children:null,buildRendering:function(){var $=_3.create,_b=this.srcNodeRef,_c=this.caption,_d=this.collapsable,_e;var _f=this.domNode=$("div",{"class":"mx-groupbox"},bodyNode=this._bodyNode=$("div",{"class":"mx-groupbox-body"},this.getTemplate("content")));if(_c||_c==""){if(_c==""){_c="&nbsp;";}else{_c=_3.escapeString(_c);}_e=this._headNode=$("h2",{"class":"mx-groupbox-header"});if(_d){_e.innerHTML=" "+_c;_6.add(_f,"mx-groupbox-collapsable");_7.place(this._iconNode=$("i",{"class":"glyphicon mx-groupbox-collapse-icon"}),_e,"first");}else{_e.innerHTML=_c;}_7.place(_e,_f,"first");}this._doCollapse();if(_e&&_d){this.connect(_e,"click",function(e){this.toggleCollapsed();e.stopPropagation();});}},startup:function(){this._children=this.parseContent(this.domNode);},update:function(obj,_10){var _11=_5.findWidgets(this.domNode);_2.ready(_11,_9.hitch(this,"passContext",_11,_10));},toggleCollapsed:function(){this.set("collapsed",!this.collapsed);},_setCollapsedAttr:function(_12){if(this.collapsed!=_12){this.collapsed=_12;this._doCollapse();}},_doCollapse:function(){if(this.collapsed){_6.add(this.domNode,"collapsed");if(this._iconNode){_6.replace(this._iconNode,"glyphicon-plus","glyphicon-minus");}}else{_6.remove(this.domNode,"collapsed");if(this._iconNode){_6.replace(this._iconNode,"glyphicon-minus","glyphicon-plus");}this.mxform.resize();}}});return _a;});