/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("mxui/widget/Window",["mxui/widget/_Popup","mxui/widget/DataView","mxui/dom","mxui/wm/focus","mxui/widget","dojo/sniff","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/touch","dojo/_base/event","dojo/_base/declare","dijit/registry"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e){var $=_3.create;var _f=_d(_1,{declaredClass:"mxui.widget.Window",title:"",width:0,height:0,resizable:true,content:null,cssStyle:"",cssClass:"",_headerNode:null,buildRendering:function(){this.domNode=$("div",{"class":"modal-dialog mx-window "+this.cssClass,"style":this.cssStyle},this._contentNode=$("div",{"class":"modal-content mx-window-content"},this._headerNode=$("div",{focusindex:"-1","class":"modal-header mx-window-header"},$("h4",this.title||"...")),this.content));_9.add(this.content,"modal-body mx-window-body");var _10=$("button",{type:"button","class":"close"});_10.innerHTML="&times;";_7.place(_10,this._headerNode,"first");this.connect(_10,"click",function(){this.onClose();});this.inherited(arguments);_8.set(this.domNode,"opacity","0");},onBeforeShow:function(){this.inherited(arguments);_3.moveFocusTo(_4.getFirst(this.content)||this.domNode);var _11=_e.findWidgets(this.content);if(_11.length==1&&_11[0] instanceof _2&&_5.findNonPlaceholderParent(_11[0].domNode)==this.content){_9.add(this.domNode,"mx-window-view");}var box={};if(this.width){box.w=this.width;}if(this.height){box.h=this.height;}this.resize(box);},onClose:function(){},layout:function(){var _12=_a.getContentBox(this.domNode).h,_13=_a.getMarginBox(this._headerNode).h,_14=_3.getNodeExtents(this._contentNode).h;_a.setContentSize(this.content,{h:Math.max(0,_12-_14-_13)});this.resizeChildren(this.content);},activate:function(){_9.add(this.domNode,"mx-window-active");},deactivate:function(){_9.remove(this.domNode,"mx-window-active");},_setTitleAttr:function(){}});return _f;});