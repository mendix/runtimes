/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("mxui/mixin/_Pluggable",["mxui/widget/plugins/DataGrid/Calculations","mxui/widget/plugins/DataGrid/GridEditor","mxui/widget/plugins/DataGrid/HoverPreview","mendix/logger","dojo/_base/array","dojo/_base/lang","dojo/_base/declare"],function(_1,_2,_3,_4,_5,_6,_7){var _8=_7(null,{plugins:null,pluginEvents:null,_normalizePluginName:function(_9){if(_9.indexOf(".")==-1){_9="mxui.widget.plugins."+this.declaredClass.split(".").pop()+"."+_9;}return _9;},loadPlugin:function(_a,_b){this.plugins=this.plugins||{};var _c={"mxui.widget.plugins.DataGrid.Calculations":_1,"mxui.widget.plugins.DataGrid.GridEditor":_2,"mxui.widget.plugins.DataGrid.HoverPreview":_3}[this._normalizePluginName(_a)];this.plugins[_a]=new _c({parent:this,config:_b});},hasPlugin:function(_d){return this.plugins&&this._normalizePluginName(_d) in this.plugins;},registerToPluginEvent:function(_e,_f,_10){this.pluginEvents=this.pluginEvents||{};if(!this.pluginEvents[_e]){this.pluginEvents[_e]=[];}_f._async=_10;this.pluginEvents[_e].push(_f);},triggerPluginEvent:function(_11,_12,_13){var _14=this.pluginEvents&&this.pluginEvents[_11];var _15=1;var _16=function(){if(--_15===0){if(_13){_13();}}};if(_14){_5.forEach(_14,function(_17){try{if(_17._async){_15++;_17(_12,_16);}else{_17(_12);}}catch(e){_4.error(this.id+".triggerPluginEvent: An error occurred in listener of event '"+_11+"': "+e);}},this);}_16();},uninitialize:function(){for(var _18 in this.plugins){try{this.plugins[_18].destroy();}catch(e){}}}});return _8;});