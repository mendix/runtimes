/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("mxui/startup",["mxui/Client","dojo/aspect","dojo/cookie","dojo/_base/config"],function(_1,_2,_3,_4){var _5=_4.appbase||_6(),_7=_8(),_9=_4.remotebase||_5,_a=_4.xasbase||_9+"xas/",_b=_4.apppath||_c(_5),_d=_4.homeurl||_e();window.mx=new _1({appUrl:_5,homeUrl:_7,remoteUrl:_9,baseUrl:_a,modulePath:"../../widgets/",appPath:_b,referrer:_d,offline:_4.offline||false,timeout:_4.timeout,data:_4.data,ui:_4.ui,session:_4.session,store:_4.store,disableFastReload:"cordova" in window,afterLoginAction:_4.afterLoginFn,afterNavigationAction:_4.afterNavigationFn});if(!("cacheBust" in _4)){window.alert("The 'cacheBust' parameter is missing. Update the index page in the theme by adding the cachebust to the 'dojoConfig' and to every url pointing to a static resource (e.g. scripts and stylesheets). See index-example.html in the deployment/web directory for an example of what the index page should look like.");return;}if(!_f()){window.alert("This application requires cookies to be enabled.");return;}if(!_4.preventStartup){window.mx.startup();}function _f(){if(!/^https?:/.test(window.location.protocol)){return navigator.cookieEnabled;}else{if(navigator.cookieEnabled===false){return false;}else{_3("mx-cookie-test","allowed");var _10=_3("mx-cookie-test")==="allowed";_3("mx-cookie-test","",{expires:-1});return _10;}}};function _6(){var _11=_8();return _11.slice(0,_11.lastIndexOf("/")+1);};function _c(url){var _12=url.match(/^(?:[^:]+:)?\/\/\/?[^\/]+\/(.*?)\/?$/)[1];return _12&&_12[0]!=="/"?"/"+_12:_12;};function _e(){var _13=window.location.hash.slice(1);return _13&&_13[0]==="/"?_13:null;};function _8(){var _14=window.location.origin||(window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));return _14+window.location.pathname;};});