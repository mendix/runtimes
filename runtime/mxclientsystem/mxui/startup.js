/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("mxui/startup",["mxui/Client","dojo/aspect","dojo/cookie","dojo/_base/config"],function(_1,_2,_3,_4){var _5=_4.appbase||_6(),_7=_4.remotebase||_5,_8=_4.xasbase||_7+"xas/",_9=_4.apppath||_a(_5),_b=_4.homeurl||_c();window.mx=new _1({appUrl:_5,remoteUrl:_7,baseUrl:_8,modulePath:"../../widgets/",appPath:_9,referrer:_b,offline:_4.offline||false,timeout:_4.timeout,data:_4.data,ui:_4.ui,store:_4.store,disableFastReload:"cordova" in window});if(!("cacheBust" in _4)){window.alert("The 'cacheBust' parameter is missing. Update the index page in the theme by adding the cachebust to the 'dojoConfig' and to every url pointing to a static resource (e.g. scripts and stylesheets). See index-example.html in the deployment/web directory for an example of what the index page should look like.");return;}if(!_d()){window.alert("This application requires cookies to be enabled.");return;}if(!_4.preventStartup){window.mx.startup();}function _d(){if(!/^https?:/.test(window.location.protocol)){return navigator.cookieEnabled;}else{if(navigator.cookieEnabled===false){return false;}else{_3("mx-cookie-test","allowed");var _e=_3("mx-cookie-test")==="allowed";_3("mx-cookie-test","",{expires:-1});return _e;}}};function _6(){var _f=window.location.href,_10=_f.indexOf("#");if(_10!=-1){_f=_f.slice(0,_10);}return _f.slice(0,_f.lastIndexOf("/")+1);};function _a(url){var _11=url.match(/^(?:[^:]+:)?\/\/\/?[^\/]+\/(.*?)\/?$/)[1];return _11&&_11[0]!=="/"?"/"+_11:_11;};function _c(){var _12=window.location.hash.slice(1);return _12&&_12[0]==="/"?_12:null;};});