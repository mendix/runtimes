/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("mxui/startup",["mxui/Client","mendix/lib/MxContext","dojo/hash","dojo/aspect","dojo/cookie","dojo/_base/config"],function(_1,_2,_3,_4,_5,_6){var _7=/(?:\?|&)(profile=[^&]+)/.exec(window.location.search),_8=_7?"?"+_7[1]:"",_9=_3();window.mx=new _1(_6);_4.before(window.mx,"reload",function(){window.location.replace(window.location.pathname+_8);});_4.before(window.mx,"redirect",function(_a){window.location.href=_a+_8;});if(!_b()){window.alert("This application requires cookies to be enabled.");return;}if(!_6.preventStartup){window.mx.startup();}window.mx.addOnLoad(function(){var _c=window.mx.ui.decodeUrlHash(_9);if(_c){_c();return;}var _d=_e();if(_d){var _f=new _2();_f.setContext(_d.entity,_d.guid);window.mx.ui.openFormInContent(_d.path,"",_f);return;}window.mx.remote.execute(window.mx.session.getConfig());function _e(){var _10=window.sessionStorage.getItem("refreshData");if(_10){window.sessionStorage.removeItem("refreshData");return JSON.parse(_10);}else{return null;}};});function _b(){if(!/^https?:/.test(window.location.protocol)){return navigator.cookieEnabled;}else{if(navigator.cookieEnabled===false){return false;}else{_5("mx-cookie-test","allowed");var _11=_5("mx-cookie-test")==="allowed";_5("mx-cookie-test","",{expires:-1});return _11;}}};});