/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("mxui/startup",["mxui/Client","mendix/lib/MxContext","dojo/hash","dojo/aspect","dojo/cookie","dojo/_base/config"],function(_1,_2,_3,_4,_5,_6){var _7=_3();window.mx=new _1(_6);_4.before(window.mx,"reload",function(){window.location.replace(window.location.pathname+window.location.search);});_4.before(window.mx,"redirect",function(_8){window.location.href=_8+window.location.search;});if(!("cacheBust" in _6)){window.alert("The 'cacheBust' parameter is missing. Update the index page in the theme by adding the cachebust to the 'dojoConfig' and to every url pointing to a static resource (e.g. scripts and stylesheets). See index-example.html in the deployment/web directory for an example of what the index page should look like.");return;}if(!_9()){window.alert("This application requires cookies to be enabled.");return;}if(!_6.preventStartup){window.mx.startup();}window.mx.addOnLoad(function(){if(!_a(_7)){window.mx.remote.execute(window.mx.session.getConfig());}});function _9(){if(!/^https?:/.test(window.location.protocol)){return navigator.cookieEnabled;}else{if(navigator.cookieEnabled===false){return false;}else{_5("mx-cookie-test","allowed");var _b=_5("mx-cookie-test")==="allowed";_5("mx-cookie-test","",{expires:-1});return _b;}}};function _a(_c){if(_c.slice(0,2)!="!/"){return false;}_c=_c.slice(2,_c.length);if(!/^(\w+\/\w+(\?\w+\.\w+=\d+(&\w+\.\w+=\d+)*)?|\w+\.\w+(\?\d+)?)$/.test(_c)){return false;}var _d=_c.split("?"),_e=_d[0],_f=_d[1],_10=new _2();if(_e.indexOf("/")!=-1){if(_f){var _11=_f.split("&");for(var i=_11.length;i>=0;--i){var _12=_11[i].split("=");_10.setContext(_12[0],_12[1]);}}window.mx.router.openFormInContent(_e+".page.xml","",_10);}else{if(_f){_10.setContext(" ",_f);}window.mx.data.action({context:_10,params:{actionname:_e}});}return true;};});