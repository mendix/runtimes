/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("mendix/lib/MxMetaObject",["dojo/_base/json"],function(_1){function _2(_3){var _4=_3.json;if(!(_4&&_4.attributes&&_4.objectType&&_4.properties)){throw new Error("MxMetaObject: invalid initialization");}this.has=function(_5){if(typeof _5!="string"){throw new Error("mendix/lib/MxMetaObject.has: parameter attr is not of type String.");}return _4.attributes[_5]!=null;};this.isEnum=function(_6){if(typeof _6!="string"){throw new Error("mendix/lib/MxMetaObject.isEnum : parameter attr is not of type String.");}return (/^(Enum|EnumSet)$/).test(this.getAttributeType(_6));};this.isNumeric=function(_7){if(typeof _7!="string"){throw new Error("mendix/lib/MxMetaObject.isNumeric : parameter attr is not of type String.");}return (/^(Integer|Long|Decimal|Float|Currency)$/).test(this.getAttributeType(_7));};this.isPassword=function(_8){if(typeof _8!="string"){throw new Error("mendix/lib/MxMetaObject.isDate : parameter attr is not of type String.");}return this.getAttributeType(_8)=="HashString";};this.isCurrency=function(_9){if(typeof _9!="string"){throw new Error("mendix/lib/MxMetaObject.isCurrency : parameter attr is not of type String.");}return this.getAttributeType(_9)=="Currency";};this.isDate=function(_a){if(typeof _a!="string"){throw new Error("mendix/lib/MxMetaObject.isDate : parameter attr is not of type String.");}return (/^(Date|DateTime)$/).test(this.getAttributeType(_a));};this.isLocalizedDate=function(_b){if(this.isDate(_b)){return (/true/).test(_4.attributes[_b].localize);}else{return null;}};this.isBoolean=function(_c){if(typeof _c!="string"){throw new Error("mendix/lib/MxMetaObject.isBoolean : parameter attr is not of type String.");}return this.getAttributeType(_c)=="Boolean";};this.isReference=function(_d){if(typeof _d!="string"){throw new Error("mendix/lib/MxMetaObject.isReference : parameter attr is not of type String.");}return (/^(ObjectReference|ObjectReferenceSet)$/).test(this.getAttributeType(_d));};this.isObjectReference=function(_e){if(typeof _e!="string"){throw new Error("mendix/lib/MxMetaObject.isObjectReference : parameter attr is not of type String.");}return this.getAttributeType(_e)=="ObjectReference";};this.isObjectReferenceSet=function(_f){if(typeof _f!="string"){throw new Error("mendix/lib/MxMetaObject.isObjectReferenceSet : parameter attr is not of type String.");}return this.getAttributeType(_f)=="ObjectReferenceSet";};this.getOptions=function(_10){if(typeof _10!="string"){throw new Error("mendix/lib/MxMetaObject.getOptions : parameter attr is not of type String.");}else{if(!this.isEnum(_10)){throw new Error("mendix/lib/MxMetaObject.getOptions : attribute '"+_10+"' is not an Enumeration.");}}try{var _11=false;if(_4.attributes[_10]){var arr=_4.attributes[_10].options;if(arr&&arr.length){_11=[];for(var i=0;i<arr.length;i++){for(var j in arr[i]){_11.push(arr[i][j]);}}}return _11;}}catch(e){return false;}};this.getEnumMap=function(_12){if(!this.isEnum(_12)){return null;}var map=[];var arr=_4.attributes[_12].options;for(var i=0;i<arr.length;i++){for(var j in arr[i]){map.push({key:j,caption:arr[i][j]});break;}}return map;};this.getEnumKVPairs=function(_13){if(!this.isEnum(_13)){return null;}var map={};var arr=_4.attributes[_13].options;for(var i=0;i<arr.length;i++){for(var j in arr[i]){map[j]=arr[i][j];}}return map;};this.getEnumCaption=function(_14,_15){if(!this.isEnum(_14)){return null;}var arr=_4.attributes[_14].options;for(var i=0;i<arr.length;i++){var _16=arr[i];for(var key in _16){if(key==_15){return _16[key];}}}return _15;};this.getReferenceAttributes=function(){var _17=[];for(var i in _4.attributes){if(this.isReference(i)){_17.push(i);}}return _17;};this.getAttributes=function(){var _18=[];for(var i in _4.attributes){_18.push(i);}return _18;};this.getAttributesWithoutReferences=function(){var _19=[];for(var i in _4.attributes){if(!this.isReference(i)){_19.push(i);}}return _19;};this.getAttributeType=function(_1a){if(typeof _1a!="string"){throw new Error("mendix/lib/MxMetaObject.getAttributeType : parameter attr is not of type String.");}if(this.has(_1a)){return _4.attributes[_1a].type;}else{return false;}};this.getSelectorEntity=function(_1b){if(typeof _1b!="string"){throw new Error("mendix/lib/MxMetaObject.getSelectorEntity : parameter attr is not of type String.");}if(this.has(_1b)){return _4.attributes[_1b].klass;}else{return false;}};this.getEntity=function(){return _4.objectType;};this.isA=function(_1c){if(this.getEntity()==_1c){return true;}else{return this.inheritsFrom(_1c);}};this.hasSuperEntities=function(){return _4.properties["superclasses"].length!==0;};this.getSuperEntities=function(){var _1d=_4.properties["superclasses"];if(typeof _1d=="string"){return [_1d];}else{return _1d;}};this.hasSubEntities=function(){return _4.properties["subclasses"].length!==0;};this.getSubEntities=function(){var _1e=_4.properties["subclasses"];return (typeof _1e=="string")?[_1e]:_1e;};this.inheritsFrom=function(_1f){var _20=this.getSuperEntities()||[];for(var i=0,_21;_21=_20[i];i++){if(_1f==_21){return true;}}return false;};this.isSyncable=function(_22){if(typeof _22!="string"){throw new Error("mendix/lib/MxMetaObject.isObjectReferenceSet : parameter attr is not of type String.");}if(this.has(_22)){return _4.attributes[_22].sync===undefined?true:_4.attributes[_22].sync;}else{return false;}};};return _2;});