
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mendix/lang",["mendix/lib/DescribedServerError","mendix/logger","dojo/_base/kernel","dojo/_base/json","dojo/_base/lang","exports"],function(_1,_2,_3,_4,_5,_6){var _7=function(_8,_9,_a,_b,_c,_d,_e){var _f=_b[_d],_10=_9+"."+_a+" is deprecated, use "+(_c!=_9?_c+".":"")+_d+" instead",_11=function(){_3.deprecated(_10,"",_e);var _12=typeof _b=="function"&&this instanceof _b;return (_12?this:_b)[_d].apply(this,arguments);};if(!_f){_8.prototype[_a]=_11;}else{if(typeof _f=="function"&&_f.prototype&&!_f.prototype.declaredClass){if(typeof _8=="function"){_8.prototype[_a]=_11;}else{_8[_a]=_11;}}else{_8[_a]=_f;}}};_6.map=function(obj,_13){var _14=[];if(typeof (obj.push)=="function"){for(var i=0;i<obj.length;i++){_14.push(_13(obj[i]));}}else{for(var j in obj){_14.push(_13(obj[j]));}}return _14;};_6.nullExec=function(_15){_15&&_15();};_6.sequence=function(_16,_17,_18){if(_17&&typeof _17=="object"){_18=_17;_17=null;}if(_16 instanceof Array){var _19=0,_1a,_1b,_1c,_1d=function(){_1a=true;if(_1b){_1c();}};_1c=function(){while(_19<_16.length){_1a=false;_1b=false;var _1e=_16[_19++];if(typeof _1e=="function"){_1e.call(_18,_1d);}else{if(_18&&typeof _18[_1e]=="function"){_18[_1e](_1d);}else{throw new Error("mendix.lang.sequence: #"+_19+" is not a function");}}if(!_1a){_1b=true;return;}}if(_17){_17.call(_18);}};_1c();}else{throw new Error("mendix.lang.sequence: sequence is not an array");}};_6.collect=function(_1f,_20,_21){if(_20&&typeof _20=="object"){_21=_20;_20=null;}if(_1f instanceof Array){var _22=0,_23=_1f.length+1,_24=function(){if(--_23==0&&_20){_20.call(_21);}};while(_22<_1f.length){var _25=_1f[_22++];if(typeof _25=="function"){_25.call(_21,_24);}else{if(_21&&typeof _21[_25]=="function"){_21[_25](_24);}else{throw new Error("mendix.lang.collect: #"+_22+" is not a function");}}}_24();}else{throw new Error("mendix.lang.collect: collection is not an array");}};_6.tryActions=function(_26,_27,_28){_27=_27||function(e){_2.error(e);throw (e);};var _29=function(e){_27(e);_28&&_28();};var _2a=function(_2b,_2c){_2b&&_2b();if(_26.length!=0){try{_26.shift()(_2a,_29);}catch(e){_29(e);}}else{_28&&_28();}};_2a();};_6.find=function(_2d,_2e){for(var i=0;i<_2d.length;i++){if(_2e(_2d[i],i)){return _2d[i];}}return undefined;};_6.findIndex=function(_2f,_30){for(var i=0;i<_2f.length;i++){if(_30(_2f[i],i)){return i;}}return -1;};_6.objectToArray=function(obj){var arr=[];for(var i in obj){arr.push(i);}return (arr);};_6.arrayToObject=function(arr){var obj={};for(var i=0;i<arr.length;i++){obj[arr[i]]=arr[i];}return (obj);};_6.thread=function(_31,_32){return setTimeout(_5.hitch(_32,_31),1);};_6.delay=function(_33,_34,_35){return setTimeout(function(){(_34())?_33():setTimeout(arguments.callee,_35);},(_35||500));};_6.runOrDelay=function(_36,_37,_38){if(!_38){_38=500;}if(_37()){return _36();}else{return setTimeout(function(){if(_37()){_36();}else{setTimeout(arguments.callee,_38);}},_38);}};_6.waitUntilPredicateHolds=function(_39,_3a,_3b){if(_3b.length===0||_39()){_3a();return;}var _3c=_3b.shift();setTimeout(function(){_6.waitUntilPredicateHolds(_39,_3a,_3b);},_3c);};_6.arraySubtract=function(x,y){for(var i=0;i<y.length;i++){for(var j=x.length-1;0<=j;j--){if(x[j].toString()==y[i].toString()){x.splice(j,1);}}}return x;};_6.objectIsEmpty=function(obj){for(var i in obj){return false;}return true;};_6.firstKey=function(obj){for(var key in obj){return key;}return null;};_6.itemCount=function(obj){var _3d=0;for(var i in obj){_3d++;}return _3d;};_6.inArray=function(arr,_3e){var _3f=false;for(var i=0;i<arr.length;i++){if(arr[i]==_3e){_3f=true;}}return _3f;};_6.trim=function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");};_6.capitalize=function(str){return str.length>0?str[0].toUpperCase()+str.slice(1):"";};_6.getUniqueId=function(){var _40=0;_6.getUniqueId=function(){return (+new Date)+"-"+_40++;};return _6.getUniqueId();};_6.override=function(_41){var src,key,val;if(!_41){_41={};}for(var i=1;i<arguments.length;++i){src=arguments[i];if(!src){continue;}for(key in src){val=src[key];if(val!==undefined){_41[key]=val;}}}return _41;};_6.numberTooBig=function(_42){if(typeof _42!="number"){_42=Number(_42);}return _42>9007199254740992||_42<-9007199254740992;};_6.getFileError=function(doc,_43){var _44=null,_45,_46;_45=doc.getElementsByTagName("textarea")[0];if(_45){_46=_4.fromJson(_45.value);if(_46.type&&_46.type==="exception"){_44=new _1(_46.description);_2.error((_43?(_43+": "):"")+_44.message);_44._type="exception";}}return _44;};_6.deprecate=function(){var _47=arguments,_48=_47[0],_49=_5.getObject(_48,true),_4a=_47[_47.length-1];if(_47.length<4){if(typeof _47[1]=="object"){var _4b=_47[1];for(var _4c in _4b){_7(_49,_48,_4c,_49,_48,_4b[_4c],_4a);}}else{var _4d=_47[1],_4e=_5.getObject(_4d);for(var _4c in _4e){_7(_49,_48,_4c,_4e,_4d,_4c,_4a);}}}else{var _4f=_47[1],_4d=_47[2],_4e=_5.getObject(_4d),_50=_47[3];_7(_49,_48,_4f,_4e,_4d,_50,_4a);}};});