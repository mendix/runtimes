
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mendix/lang",["mendix/lib/DescribedServerError","mendix/logger","dojo/_base/kernel","dojo/sniff","dojo/_base/json","dojo/_base/array","dojo/_base/lang","exports"],function(_1,_2,_3,_4,_5,_6,_7,_8){var _9=0;var _a=function(_b,_c,_d,_e,_f,_10,_11){var _12=_e[_10],_13=_c+"."+_d+" is deprecated, use "+(_f!=_c?_f+".":"")+_10+" instead",_14=function(){_3.deprecated(_13,"",_11);var _15=typeof _e=="function"&&this instanceof _e;return (_15?this:_e)[_10].apply(this,arguments);};if(!_12){_b.prototype[_d]=_14;}else{if(typeof _12=="function"&&_12.prototype&&!_12.prototype.declaredClass){if(typeof _b=="function"){_b.prototype[_d]=_14;}else{_b[_d]=_14;}}else{_b[_d]=_12;}}};_8.map=function(_16,_17,_18){var _19=[];_8.forEach(_16,function(){_19.push(_17.apply(this,arguments));},_18);return _19;};_8.forEach=function(_1a,_1b,_1c){if(_1a==null){return;}if(_1a.length===+_1a.length){for(var i=0;i<_1a.length;i++){_1b.call(_1c,_1a[i],i,_1a);}}else{for(var j in _1a){if(_1a.hasOwnProperty(j)){_1b.call(_1c,_1a[j],j,_1a);}}}};_8.nullExec=function(_1d){_1d&&_1d();};_8.sequence=function(_1e,_1f,_20){if(_1f&&typeof _1f=="object"){_20=_1f;_1f=null;}if(_1e instanceof Array){var _21=0,_22,_23,_24,_25=function(){_22=true;if(_23){_24();}};_24=function(){while(_21<_1e.length){_22=false;_23=false;var _26=_1e[_21++];if(typeof _26=="function"){_26.call(_20,_25);}else{if(_20&&typeof _20[_26]=="function"){_20[_26](_25);}else{throw new Error("mendix.lang.sequence: #"+_21+" is not a function");}}if(!_22){_23=true;return;}}if(_1f){_1f.call(_20);}};_24();}else{throw new Error("mendix.lang.sequence: sequence is not an array");}};_8.collect=function(_27,_28,_29){if(_28&&typeof _28=="object"){_29=_28;_28=null;}if(_27 instanceof Array){var _2a=0,_2b=_27.length+1,_2c=function(){if(--_2b==0&&_28){_28.call(_29);}};while(_2a<_27.length){var _2d=_27[_2a++];if(typeof _2d=="function"){_2d.call(_29,_2c);}else{if(_29&&typeof _29[_2d]=="function"){_29[_2d](_2c);}else{throw new Error("mendix.lang.collect: #"+_2a+" is not a function");}}}_2c();}else{throw new Error("mendix.lang.collect: collection is not an array");}};_8.tryActions=function(_2e,_2f,_30){_2f=_2f||function(e){_2.error(e);throw (e);};var _31=function(e){_2f(e);_30&&_30();};var _32=function(_33,_34){_33&&_33();if(_2e.length!=0){try{_2e.shift()(_32,_31);}catch(e){_31(e);}}else{_30&&_30();}};_32();};_8.find=function(_35,_36,_37){for(var i=0;i<_35.length;i++){if(_36.call(_37,_35[i],i,_35)){return _35[i];}}return undefined;};_8.findLast=function(_38,_39,_3a){for(var i=_38.length-1;i>=0;i--){if(_39.call(_3a,_38[i],i,_38)){return _38[i];}}return undefined;};_8.findIndex=function(_3b,_3c){for(var i=0;i<_3b.length;i++){if(_3c(_3b[i],i)){return i;}}return -1;};_8.flatten=function(arr){var _3d=[];_6.forEach(arr,function(_3e){_3d.push.apply(_3d,_3e);});return _3d;};if(_4("ie")==8){_8.toArray=function(_3f){var _40=[];for(var i=0;i<_3f.length;i++){_40.push(_3f[i]);}return _40;};}else{_8.toArray=function(_41){return [].slice.call(_41);};}_8.objectToArray=function(obj){var arr=[];for(var i in obj){arr.push(i);}return (arr);};_8.arrayToObject=function(arr){var obj={};for(var i=0;i<arr.length;i++){obj[arr[i]]=arr[i];}return (obj);};_8.thread=function(_42,_43){return setTimeout(_7.hitch(_43,_42),1);};_8.delay=function(_44,_45,_46){return setTimeout(function(){(_45())?_44():setTimeout(arguments.callee,_46);},(_46||500));};_8.runOrDelay=function(_47,_48,_49){if(!_49){_49=500;}if(_48()){return _47();}else{return setTimeout(function(){if(_48()){_47();}else{setTimeout(arguments.callee,_49);}},_49);}};_8.waitUntilPredicateHolds=function(_4a,_4b,_4c){if(_4c.length===0||_4a()){_4b();return;}var _4d=_4c.shift();setTimeout(function(){_8.waitUntilPredicateHolds(_4a,_4b,_4c);},_4d);};_8.arraySubtract=function(x,y){for(var i=0;i<y.length;i++){for(var j=x.length-1;0<=j;j--){if(x[j].toString()==y[i].toString()){x.splice(j,1);}}}return x;};_8.objectIsEmpty=function(obj){for(var i in obj){return false;}return true;};_8.firstKey=function(obj){for(var key in obj){return key;}return null;};_8.itemCount=function(obj){var _4e=0;for(var i in obj){_4e++;}return _4e;};_8.inArray=function(arr,_4f){for(var i=0;i<arr.length;i++){if(arr[i]==_4f){return true;}}return false;};_8.trim=function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");};_8.capitalize=function(str){return str.length>0?str[0].toUpperCase()+str.slice(1):"";};_8.getUniqueId=function(){return +new Date+"-"+_9++;};_8.override=function(_50){var src,key,val;if(!_50){_50={};}for(var i=1;i<arguments.length;++i){src=arguments[i];if(!src){continue;}for(key in src){val=src[key];if(val!==undefined){_50[key]=val;}}}return _50;};_8.numberTooBig=function(_51){if(typeof _51!="number"){_51=Number(_51);}return _51>9007199254740992||_51<-9007199254740992;};_8.getFileError=function(doc,_52){var _53=null,_54,_55;_54=doc.getElementsByTagName("textarea")[0];if(_54){_55=_5.fromJson(_54.value);if(_55.type&&_55.type==="exception"){_53=new _1(_55.description);_2.error((_52?(_52+": "):"")+_53.message);_53._type="exception";}}return _53;};_8.deprecate=function(){var _56=arguments,_57=_56[0],_58=_7.getObject(_57,true),_59=_56[_56.length-1];if(_56.length<4){if(typeof _56[1]=="object"){var _5a=_56[1];for(var _5b in _5a){_a(_58,_57,_5b,_58,_57,_5a[_5b],_59);}}else{var _5c=_56[1],_5d=_7.getObject(_5c);for(var _5b in _5d){_a(_58,_57,_5b,_5d,_5c,_5b,_59);}}}else{var _5e=_56[1],_5c=_56[2],_5d=_7.getObject(_5c),_5f=_56[3];_a(_58,_57,_5e,_5d,_5c,_5f,_59);}};});