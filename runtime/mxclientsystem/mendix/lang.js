
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mendix/lang",["mendix/lib/DescribedServerError","mendix/logger","dojo/_base/kernel","dojo/sniff","dojo/_base/json","dojo/_base/array","dojo/_base/lang","exports"],function(_1,_2,_3,_4,_5,_6,_7,_8){var _9=0;var _a=function(_b,_c,_d,_e,_f,_10,_11){var _12=_e[_10],_13=_c+"."+_d+" is deprecated, use "+(_f!=_c?_f+".":"")+_10+" instead",_14=function(){_3.deprecated(_13,"",_11);var _15=typeof _e=="function"&&this instanceof _e;return (_15?this:_e)[_10].apply(this,arguments);};if(!_12){_b.prototype[_d]=_14;}else{if(typeof _12=="function"&&_12.prototype&&!_12.prototype.declaredClass){if(typeof _b=="function"){_b.prototype[_d]=_14;}else{_b[_d]=_14;}}else{_b[_d]=_12;}}};_8.map=function(_16,_17,_18){var _19=[];_8.forEach(_16,function(){_19.push(_17.apply(this,arguments));},_18);return _19;};_8.forEach=function(_1a,_1b,_1c){if(_1a==null){return;}if(_1a.length===+_1a.length){for(var i=0;i<_1a.length;i++){_1b.call(_1c,_1a[i],i,_1a);}}else{for(var j in _1a){if(_1a.hasOwnProperty(j)){_1b.call(_1c,_1a[j],j,_1a);}}}};_8.nullExec=function(_1d){_1d&&_1d();};_8.sequence=function(_1e,_1f,_20){if(_1f&&typeof _1f=="object"){_20=_1f;_1f=null;}if(_1e instanceof Array){var _21=0,_22,_23,_24,_25=function(){_22=true;if(_23){_24();}};_24=function(){while(_21<_1e.length){_22=false;_23=false;var _26=_1e[_21++];if(typeof _26=="function"){_26.call(_20,_25);}else{if(_20&&typeof _20[_26]=="function"){_20[_26](_25);}else{throw new Error("mendix.lang.sequence: #"+_21+" is not a function");}}if(!_22){_23=true;return;}}if(_1f){_1f.call(_20);}};_24();}else{throw new Error("mendix.lang.sequence: sequence is not an array");}};_8.collect=function(_27,_28,_29){if(_28&&typeof _28=="object"){_29=_28;_28=null;}if(_27 instanceof Array){var _2a=0,_2b=_27.length+1,_2c=function(){if(--_2b==0&&_28){_28.call(_29);}};while(_2a<_27.length){var _2d=_27[_2a++];if(typeof _2d=="function"){_2d.call(_29,_2c);}else{if(_29&&typeof _29[_2d]=="function"){_29[_2d](_2c);}else{throw new Error("mendix.lang.collect: #"+_2a+" is not a function");}}}_2c();}else{throw new Error("mendix.lang.collect: collection is not an array");}};_8.find=function(_2e,_2f,_30){for(var i=0;i<_2e.length;i++){if(_2f.call(_30,_2e[i],i,_2e)){return _2e[i];}}return undefined;};_8.findLast=function(_31,_32,_33){for(var i=_31.length-1;i>=0;i--){if(_32.call(_33,_31[i],i,_31)){return _31[i];}}return undefined;};_8.findIndex=function(_34,_35){for(var i=0;i<_34.length;i++){if(_35(_34[i],i)){return i;}}return -1;};_8.flatten=function(arr){var _36=[];_6.forEach(arr,function(_37){_36.push.apply(_36,_37);});return _36;};if(_4("ie")==8){_8.toArray=function(_38){var _39=[];for(var i=0;i<_38.length;i++){_39.push(_38[i]);}return _39;};}else{_8.toArray=function(_3a){return [].slice.call(_3a);};}_8.objectToArray=function(obj){var arr=[];for(var i in obj){arr.push(i);}return (arr);};_8.thread=function(_3b,_3c){return setTimeout(_7.hitch(_3c,_3b),1);};_8.delay=function(_3d,_3e,_3f){return setTimeout(function(){(_3e())?_3d():setTimeout(arguments.callee,_3f);},(_3f||500));};_8.runOrDelay=function(_40,_41,_42){if(!_42){_42=500;}if(_41()){return _40();}else{return setTimeout(function(){if(_41()){_40();}else{setTimeout(arguments.callee,_42);}},_42);}};_8.waitUntilPredicateHolds=function(_43,_44,_45){if(_45.length===0||_43()){_44();return;}var _46=_45.shift();setTimeout(function(){_8.waitUntilPredicateHolds(_43,_44,_45);},_46);};_8.arraySubtract=function(_47,_48){for(var i=0;i<_48.length;i++){for(var j=_47.length-1;0<=j;j--){if(_47[j].toString()==_48[i].toString()){_47.splice(j,1);}}}return _47;};_8.objectIsEmpty=function(obj){for(var i in obj){return false;}return true;};_8.firstKey=function(obj){for(var key in obj){return key;}return null;};_8.itemCount=function(obj){var _49=0;for(var i in obj){_49++;}return _49;};_8.inArray=function(arr,_4a){for(var i=0;i<arr.length;i++){if(arr[i]==_4a){return true;}}return false;};_8.trim=function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");};_8.capitalize=function(str){return str.length>0?str[0].toUpperCase()+str.slice(1):"";};_8.getUniqueId=function(){return +new Date+"-"+_9++;};_8.numberTooBig=function(_4b){if(typeof _4b!="number"){_4b=Number(_4b);}return _4b>9007199254740992||_4b<-9007199254740992;};_8.getFileError=function(doc,_4c){var _4d=null,_4e,_4f;_4e=doc.getElementsByTagName("textarea")[0];if(_4e){_4f=_5.fromJson(_4e.value);if(_4f.type&&_4f.type==="exception"){_4d=new _1(_4f.description);_2.error((_4c?(_4c+": "):"")+_4d.message);_4d._type="exception";}}return _4d;};_8.deprecate=function(){var _50=arguments,_51=_50[0],_52=_7.getObject(_51,true),_53=_50[_50.length-1];if(_50.length<4){if(typeof _50[1]=="object"){var _54=_50[1];for(var _55 in _54){_a(_52,_51,_55,_52,_51,_54[_55],_53);}}else{var _56=_50[1],_57=_7.getObject(_56);for(var _55 in _57){_a(_52,_51,_55,_57,_56,_55,_53);}}}else{var _58=_50[1],_56=_50[2],_57=_7.getObject(_56),_59=_50[3];_a(_52,_51,_58,_57,_56,_59,_53);}};});