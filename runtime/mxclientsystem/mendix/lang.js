
/* Copyright (c) 2005-2012, Mendix bv. All rights reserved. */

//>>built
define("mendix/lang",["mendix/lib/DescribedServerError","mendix/logger","dojo/_base/kernel","dojo/sniff","dojo/_base/json","dojo/_base/array","dojo/_base/lang","exports"],function(_1,_2,_3,_4,_5,_6,_7,_8){var _9=0;var _a=function(_b,_c,_d,_e,_f,_10,_11){var _12=_e[_10],_13=_c+"."+_d+" is deprecated, use "+(_f!=_c?_f+".":"")+_10+" instead",_14=function(){_3.deprecated(_13,"",_11);var _15=typeof _e=="function"&&this instanceof _e;return (_15?this:_e)[_10].apply(this,arguments);};if(!_12){_b.prototype[_d]=_14;}else{if(typeof _12=="function"&&_12.prototype&&!_12.prototype.declaredClass){if(typeof _b=="function"){_b.prototype[_d]=_14;}else{_b[_d]=_14;}}else{_b[_d]=_12;}}};_8.map=function(_16,_17,_18){var _19=[];_8.forEach(_16,function(){_19.push(_17.apply(this,arguments));},_18);return _19;};_8.forEach=function(_1a,_1b,_1c){if(_1a==null){return;}if(_1a.length===+_1a.length){for(var i=0;i<_1a.length;i++){_1b.call(_1c,_1a[i],i,_1a);}}else{for(var j in _1a){if(_1a.hasOwnProperty(j)){_1b.call(_1c,_1a[j],j,_1a);}}}};_8.nullExec=function(_1d){_1d&&_1d();};_8.sequence=function(_1e,_1f,_20){if(_1f&&typeof _1f=="object"){_20=_1f;_1f=null;}if(_1e instanceof Array){var _21=0,_22,_23,_24,_25=function(){_22=true;if(_23){_24();}};_24=function(){while(_21<_1e.length){_22=false;_23=false;var _26=_1e[_21++];if(typeof _26=="function"){_26.call(_20,_25);}else{if(_20&&typeof _20[_26]=="function"){_20[_26](_25);}else{throw new Error("mendix.lang.sequence: #"+_21+" is not a function");}}if(!_22){_23=true;return;}}if(_1f){_1f.call(_20);}};_24();}else{throw new Error("mendix.lang.sequence: sequence is not an array");}};_8.collect=function(_27,_28,_29){if(_28&&typeof _28=="object"){_29=_28;_28=null;}if(_27 instanceof Array){var _2a=0,_2b=_27.length+1,_2c=function(){if(--_2b==0&&_28){_28.call(_29);}};while(_2a<_27.length){var _2d=_27[_2a++];if(typeof _2d=="function"){_2d.call(_29,_2c);}else{if(_29&&typeof _29[_2d]=="function"){_29[_2d](_2c);}else{throw new Error("mendix.lang.collect: #"+_2a+" is not a function");}}}_2c();}else{throw new Error("mendix.lang.collect: collection is not an array");}};_8.tryActions=function(_2e,_2f,_30){_2f=_2f||function(e){_2.error(e);throw (e);};var _31=function(e){_2f(e);_30&&_30();};var _32=function(_33,_34){_33&&_33();if(_2e.length!=0){try{_2e.shift()(_32,_31);}catch(e){_31(e);}}else{_30&&_30();}};_32();};_8.find=function(_35,_36){for(var i=0;i<_35.length;i++){if(_36(_35[i],i)){return _35[i];}}return undefined;};_8.findIndex=function(_37,_38){for(var i=0;i<_37.length;i++){if(_38(_37[i],i)){return i;}}return -1;};_8.flatten=function(arr){var _39=[];_6.forEach(arr,function(_3a){_39.push.apply(_39,_3a);});return _39;};if(_4("ie")==8){_8.toArray=function(_3b){var _3c=[];for(var i=0;i<_3b.length;i++){_3c.push(_3b[i]);}return _3c;};}else{_8.toArray=function(_3d){return [].slice.call(_3d);};}_8.objectToArray=function(obj){var arr=[];for(var i in obj){arr.push(i);}return (arr);};_8.arrayToObject=function(arr){var obj={};for(var i=0;i<arr.length;i++){obj[arr[i]]=arr[i];}return (obj);};_8.thread=function(_3e,_3f){return setTimeout(_7.hitch(_3f,_3e),1);};_8.delay=function(_40,_41,_42){return setTimeout(function(){(_41())?_40():setTimeout(arguments.callee,_42);},(_42||500));};_8.runOrDelay=function(_43,_44,_45){if(!_45){_45=500;}if(_44()){return _43();}else{return setTimeout(function(){if(_44()){_43();}else{setTimeout(arguments.callee,_45);}},_45);}};_8.waitUntilPredicateHolds=function(_46,_47,_48){if(_48.length===0||_46()){_47();return;}var _49=_48.shift();setTimeout(function(){_8.waitUntilPredicateHolds(_46,_47,_48);},_49);};_8.arraySubtract=function(x,y){for(var i=0;i<y.length;i++){for(var j=x.length-1;0<=j;j--){if(x[j].toString()==y[i].toString()){x.splice(j,1);}}}return x;};_8.objectIsEmpty=function(obj){for(var i in obj){return false;}return true;};_8.firstKey=function(obj){for(var key in obj){return key;}return null;};_8.itemCount=function(obj){var _4a=0;for(var i in obj){_4a++;}return _4a;};_8.inArray=function(arr,_4b){for(var i=0;i<arr.length;i++){if(arr[i]==_4b){return true;}}return false;};_8.trim=function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");};_8.capitalize=function(str){return str.length>0?str[0].toUpperCase()+str.slice(1):"";};_8.getUniqueId=function(){return +new Date+"-"+_9++;};_8.override=function(_4c){var src,key,val;if(!_4c){_4c={};}for(var i=1;i<arguments.length;++i){src=arguments[i];if(!src){continue;}for(key in src){val=src[key];if(val!==undefined){_4c[key]=val;}}}return _4c;};_8.numberTooBig=function(_4d){if(typeof _4d!="number"){_4d=Number(_4d);}return _4d>9007199254740992||_4d<-9007199254740992;};_8.getFileError=function(doc,_4e){var _4f=null,_50,_51;_50=doc.getElementsByTagName("textarea")[0];if(_50){_51=_5.fromJson(_50.value);if(_51.type&&_51.type==="exception"){_4f=new _1(_51.description);_2.error((_4e?(_4e+": "):"")+_4f.message);_4f._type="exception";}}return _4f;};_8.deprecate=function(){var _52=arguments,_53=_52[0],_54=_7.getObject(_53,true),_55=_52[_52.length-1];if(_52.length<4){if(typeof _52[1]=="object"){var _56=_52[1];for(var _57 in _56){_a(_54,_53,_57,_54,_53,_56[_57],_55);}}else{var _58=_52[1],_59=_7.getObject(_58);for(var _57 in _59){_a(_54,_53,_57,_59,_58,_57,_55);}}}else{var _5a=_52[1],_58=_52[2],_59=_7.getObject(_58),_5b=_52[3];_a(_54,_53,_5a,_59,_58,_5b,_55);}};});