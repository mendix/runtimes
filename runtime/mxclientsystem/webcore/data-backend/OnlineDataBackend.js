/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("webcore/data-backend/OnlineDataBackend",["./_DataBackend","../url-helpers","../Task"],function(_1,_2,_3){function _4(_5){_1.call(this);this._getImageUri=(_5&&_5.getImgUriFn)||_6;};_4.prototype=new _1();_4.prototype.getByGuid=function(_7,_8,_9,_a){window.mx.server.request({request:{action:"retrieve_by_ids",params:{ids:_7,schema:_8}},options:{callback:function(_b,_c){if(_9){_9(_c);}},error:_a}});};_4.prototype.getByPath=function(_d,_e,_f,_10,_11){window.mx.server.request({request:{action:"retrieve_by_path",params:{id:_d,path:_e,entity:_f}},options:{callback:function(_12,_13){if(_10){_10(_13);}},error:_11}});};_4.prototype.getByXPath=function(_14,_15,_16,_17,_18,_19){_15=_15||{};window.mx.server.request({request:{action:"retrieve_by_xpath",params:{xpath:_14,schema:_15,count:_16,aggregates:_17}},options:{callback:function(_1a,_1b){if(_18){_18(_1b);}},error:_19}});};_4.prototype.release=function(_1c){mx.server.release(_1c);};_4.prototype.action=function(_1d,_1e,_1f,_20,_21,_22,_23,_24){window.mx.server.request({request:{action:"executeaction",params:_1d,changes:_1f,context:_1e},options:{store:_20,async:_21,onValidation:_22,callback:function(_25,_26,_27){if(_23){_23(_26,_27);}},error:_24}});};_4.prototype.upload=function(_28){return _3.of({});};_4.prototype.download=function(){return _3.of({});};_4.prototype.create=function(_29,_2a,_2b,_2c){window.mx.server.request({request:{action:_2a?"create":"instantiate",params:{objecttype:_29,preventCache:(new Date()).getTime()}},options:{callback:function(_2d,_2e){if(_2b){_2b(_2e);}},error:_2c}});};_4.prototype.validate=function(_2f,_30,_31){window.mx.server.request({request:{action:"validate",params:_2f},options:{callback:function(_32,_33){if(_30){_30();}},error:_31}});};_4.prototype.commit=function(_34,_35,_36,_37,_38,_39,_3a){window.mx.server.request({request:{action:"commit",params:{guids:_34},changes:_35,context:_36},options:{onValidation:_38,store:_37,callback:function(_3b,_3c){if(_39){_39();}},error:_3a}});};_4.prototype.rollback=function(_3d,_3e,_3f,_40){window.mx.server.request({request:{action:"rollback",params:{guids:_3d},changes:_3e},options:{unique:true,callback:function(_41,_42){if(_3f){_3f(_42);}},error:_40}});};_4.prototype.remove=function(_43,_44,_45,_46){window.mx.server.request({request:{action:"delete",params:{guids:_43},changes:_44},options:{callback:function(){if(_45){_45();}},error:_46}});};_4.prototype.saveDocument=function(_47,_48,_49,_4a,_4b,_4c,_4d){window.mx.server.upload({request:{params:{guid:_47,name:_49,mxdocument:_4b,params:_4a},changes:_48},options:{callback:function(){if(_4c){_4c();}},error:_4d}});};_4.prototype.getDocumentUrl=_2.getDynamicResourceUrl;_4.prototype.getImageUri=function(url,_4e,_4f){this._getImageUri(url,_4e,_4f);};function _6(url,_50,_51){if(_50){_50(url);}};return _4;});