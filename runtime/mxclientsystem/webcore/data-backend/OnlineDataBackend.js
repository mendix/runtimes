/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("webcore/data-backend/OnlineDataBackend",["./_DataBackend","../url-helpers","../Task","mendix/lang","mendix/lib/MxObject","mendix/lib/Error","mendix/logger","dojo/_base/array","dojo/_base/lang","dojo/_base/json"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){function _b(_c,_d){_1.call(this,_c);this._objectCache=_d;};_b.prototype=new _1();_b.prototype.getByGuid=function(_e,_f,_10,_11){window.mx.server.request({request:{action:"retrieve_by_ids",params:{ids:_e,schema:_f}},options:{callback:function(_12,_13){if(_10){_10(_13);}},error:_11}});};_b.prototype.getByPath=function(_14,_15,_16,_17,_18){window.mx.server.request({request:{action:"retrieve_by_path",params:{id:_14,path:_15,entity:_16}},options:{callback:function(_19,_1a){if(_17){_17(_1a);}},error:_18}});};_b.prototype.getByXPath=function(_1b,_1c,_1d,_1e,_1f,_20){_1c=_1c||{};window.mx.server.request({request:{action:"retrieve_by_xpath",params:{xpath:_1b,schema:_1c,count:_1d,aggregates:_1e}},options:{callback:function(_21,_22){if(_1f){_1f(_22);}},error:_20}});};_b.prototype.release=function(_23){mx.server.release(_23);};_b.prototype.action=function(_24,_25,_26,_27,_28,_29,_2a,_2b){window.mx.server.request({request:{action:"executeaction",params:_24,changes:_26,context:_25},options:{store:_27,async:_28,onValidation:_29,callback:function(_2c,_2d,_2e){if(_2a){_2a(_2d,_2e);}},error:_2b}});};_b.prototype.upload=function(_2f){return _3.of({});};_b.prototype.download=function(){return _3.of({});};_b.prototype.create=function(_30,_31,_32,_33){window.mx.server.request({request:{action:_31?"create":"instantiate",params:{objecttype:_30,preventCache:(new Date()).getTime()}},options:{callback:function(_34,_35){if(_32){_32(_35);}},error:_33}});};_b.prototype.validate=function(_36,_37,_38){window.mx.server.request({request:{action:"validate",params:_36},options:{callback:function(_39,_3a){if(_37){_37();}},error:_38}});};_b.prototype.commit=function(_3b,_3c,_3d,_3e,_3f,_40,_41){window.mx.server.request({request:{action:"commit",params:{guids:_3b},changes:_3c,context:_3d},options:{onValidation:_3f,store:_3e,callback:function(_42,_43){if(_40){_40();}},error:_41}});};_b.prototype.rollback=function(_44,_45,_46,_47){window.mx.server.request({request:{action:"rollback",params:{guids:_44},changes:_45},options:{unique:true,callback:function(_48,_49){if(_46){_46(_49);}},error:_47}});};_b.prototype.remove=function(_4a,_4b,_4c,_4d){window.mx.server.request({request:{action:"delete",params:{guids:_4a},changes:_4b},options:{callback:function(){if(_4c){_4c();}},error:_4d}});};_b.prototype.saveDocument=function(_4e,_4f,_50,_51,_52,_53,_54){window.mx.server.upload({request:{params:{guid:_4e,name:_50,mxdocument:_52,params:_51},changes:_4f},options:{callback:function(){if(_53){_53();}},error:_54}});};_b.prototype.getDocumentUrl=_2.getDynamicResourceUrl;return _b;});