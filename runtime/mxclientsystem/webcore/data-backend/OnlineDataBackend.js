/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("webcore/data-backend/OnlineDataBackend",["./_DataBackend","mendix/lib/MxObject","mendix/lib/Error","mendix/logger","dojo/_base/array","big/big"],function(_1,_2,_3,_4,_5,_6){function _7(_8,_9){_1.call(this,_8);this._objectCache=_9;};_7.prototype=new _1();_7.prototype.getByGuid=function(_a,_b,_c,_d){window.mx.server.request({request:{action:"retrieve_by_ids",params:{ids:_a,schema:_b}},options:{callback:function(_e,_f){if(_c){_c(_f.mxobjects||[]);}},error:_d}});};_7.prototype.getByPath=function(_10,_11,_12,_13){window.mx.server.request({request:{action:"retrieve_by_path",params:{id:_10,path:_11},context:null},options:{callback:function(_14,_15){if(_12){_12(_15.mxobjects||[]);}},error:_13}});};_7.prototype.getByXPath=function(_16,_17,_18,_19,_1a,_1b){window.mx.server.request({request:{action:"retrieve_by_xpath",params:{xpath:_16,schema:_17,count:_18,aggregates:_19}},options:{callback:function(_1c,_1d){if(_1a){_1a(_1d.mxobjects,_1d.count,_1d.aggregates);}},error:_1b}});};_7.prototype.release=function(_1e){mx.server.release(_1e);};_7.prototype.action=function(_1f,_20,_21,_22,_23,_24,_25){window.mx.server.request({request:{action:"executeaction",params:_1f,context:_20},options:{store:_21,async:_22,onValidation:_23,callback:function(_26,_27,_28){if(_24){_24(_27.actionResult,_28);}},error:_25}});};_7.prototype.create=function(_29,_2a,_2b,_2c){window.mx.server.request({request:{action:_2a?"create":"instantiate",params:{objecttype:_29,preventCache:(new Date()).getTime()}},options:{callback:function(_2d,_2e){if(_2b){_2b(_2e.mxobject);}},error:_2c}});};_7.prototype.save=function(_2f,_30,_31,_32){window.mx.server.request({request:{action:"change",params:_2f},options:{onValidation:_30,sync:true,unique:true,callback:_31,error:_32}});};_7.prototype.commit=function(_33,_34,_35,_36,_37,_38){window.mx.server.request({request:{action:"commit",params:{guid:_33},context:_34},options:{onValidation:_36,store:_35,callback:_37,error:_38}});};_7.prototype.rollback=function(_39,_3a,_3b){window.mx.server.request({request:{action:"rollback",params:{guid:_39}},options:{unique:true,standalone:true,callback:function(_3c,_3d){if(_3a){_3a(_3d.mxobject||null);}},error:_3b}});};_7.prototype.remove=function(_3e,_3f,_40){window.mx.server.request({request:{action:"delete",params:{guids:_3e}},options:{callback:function(){if(_3f){_3f();}},error:_40}});};return _7;});