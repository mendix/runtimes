/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("webcore/Store",["mendix/lib/MxObject","bluebird/bluebird","./applicative","./file-transfer","./Task","./task-helpers","./TaskReader"],function(_1,_2,_3,_4,_5,_6,_7){function _8(){};_8.prototype.getSlice=function(_9,_a,_b){return _c(this._getDatabase().then(this._fetchSlice(_9,_a,_b)));};_8.prototype.getByGuid=function(_d){return _c(this._getDatabase().then(this._fetch(_d)));};_8.prototype.insertOrReplace=function(_e,_f){return _c(this._getDatabase().then(this._insertOrReplace(_e,_f)));};_8.prototype.resetDatabase=function(){return _6.taskFromPromise(this._getDatabase().then(this._deleteDatabase()).then(this._initialize()));};_8.prototype.fillBulk=function(_10,_11){var _12=this;return _6.taskFromPromise(this._getDatabase().then(function(db){return _6.promiseFromTask(_12._fillBulk(_10,_11).run(db));}));};_8.prototype.upload=function(_13){var _14=this;var p=this._getDatabase().then(function(db){var _15=_14._upload(_13).run(db);return _6.promiseFromTask(_15);});return _6.taskFromPromise(p);};_8.prototype.cleanupDirtyObjects=function(){return _c(this._getDatabase().then(this._cleanupDirtyObjects()));};_8.prototype._getDatabase=function(){return _2.reject(new Error("not implemented"));};_8.prototype._initialize=function(){return _2.reject(new Error("not implemented"));};_8.prototype._deleteDatabase=function(){return _2.reject(new Error("not implemented"));};_8.prototype._fetch=function(_16){return function(db){return _2.reject(new Error("not implemented"));};};_8.prototype._fetchSlice=function(_17,_18,_19){return function(db){return _2.reject(new Error("not implemented"));};};_8.prototype._insertOrReplace=function(_1a,obj){return function(db){return _2.reject(new Error("not implemented"));};};_8.prototype._fillBulk=function(_1b,_1c){return _7.rejected(new Error("not implemented"));};_8.prototype._upload=function(_1d){return _7.rejected(new Error("not implemented"));};_8.prototype._cleanupDirtyObjects=function(){return _2.reject(new Error("not implemented"));};return _8;function _c(_1e){return new _2(function(_1f,_20){return _1e.then(_1f,_20);});};});