/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("webcore/Store",["mendix/lib/MxObject","bluebird/bluebird","./applicative","./file-transfer","./Task","./task-helpers","./TaskReader"],function(_1,_2,_3,_4,_5,_6,_7){function _8(){};_8.prototype.getSlice=function(_9,_a,_b){return _c(this._getDatabase().then(this._fetchSlice(_9,_a,_b)));};_8.prototype.getByGuid=function(_d){return _c(this._getDatabase().then(this._fetch(_d)));};_8.prototype.insertOrReplace=function(_e,_f){return _c(this._getDatabase().then(this._insertOrReplace(_e,_f)));};_8.prototype.resetDatabase=function(){return _6.taskFromPromise(this._getDatabase().then(this._resetDatabase()));};_8.prototype.rebuildDatabase=function(_10){var _11=this;return _6.taskFromPromise(this._getDatabase().then(function(db){return _6.promiseFromTask(_11._rebuildDb(_10).run(db));}));};_8.prototype.fetchDirty=function(){var _12=this;var p=this._getDatabase().then(function(db){var _13=_12._fetchDirty().run(db);return _6.promiseFromTask(_13);});return _6.taskFromPromise(p);};_8.prototype.upload=function(){var _14=this;var p=this._getDatabase().then(function(db){var _15=_14._upload().run(db);return _6.promiseFromTask(_15);});return _6.taskFromPromise(p);};_8.prototype.updateObject=function(_16,obj){var _17=this;return _6.taskFromPromise(this._getDatabase().then(function(db){return _6.promiseFromTask(_17._updateObject(_16,obj).run(db));}));};_8.prototype.deleteObject=function(_18,_19){var _1a=this;return _6.taskFromPromise(this._getDatabase().then(function(db){return _6.promiseFromTask(_1a._deleteObject(_18,_19).run(db));}));};_8.prototype.cleanupDirtyObjects=function(){return _6.taskFromPromise(this._getDatabase()).chain(this._cleanupDirtyObjects());};_8.prototype._getDatabase=function(){return _2.reject(new Error("not implemented"));};_8.prototype._initialize=function(){return _2.reject(new Error("not implemented"));};_8.prototype._fetch=function(_1b){return function(db){return _2.reject(new Error("not implemented"));};};_8.prototype._fetchSlice=function(_1c,_1d,_1e){return function(db){return _2.reject(new Error("not implemented"));};};_8.prototype._insertOrReplace=function(_1f,obj){return function(db){return _2.reject(new Error("not implemented"));};};_8.prototype._rebuildDb=function(_20){return _7.rejected(new Error("not implemented"));};_8.prototype._fetchDirty=function(){return _7.rejected(new Error("not implemented"));};_8.prototype._cleanupDirtyObjects=function(){return _7.rejected(new Error("not implemented"));};_8.prototype._upload=function(){return _7.rejected(new Error("not implemented"));};return _8;function _c(_21){return new _2(function(_22,_23){return _21.then(_22,_23);});};});