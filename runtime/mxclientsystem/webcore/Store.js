/*
    Copyright (c) 2005-2015, Mendix bv. All rights reserved.
    See licenses.txt for third party licenses that apply.
*/

//>>built
define("webcore/Store",["mendix/lib/MxObject","bluebird/bluebird","./applicative","./file-transfer","./Task","./task-helpers","./TaskReader"],function(_1,_2,_3,_4,_5,_6,_7){function _8(){};_8.prototype.getSlice=function(_9,_a,_b){return _c(this._getDatabase().then(this._fetchSlice(_9,_a,_b)));};_8.prototype.getByGuid=function(_d){return _c(this._getDatabase().then(this._fetch(_d)));};_8.prototype.insertOrReplace=function(_e,_f){return _c(this._getDatabase().then(this._insertOrReplace(_e,_f)));};_8.prototype.resetDatabase=function(){return _6.taskFromPromise(this._getDatabase().then(this._deleteDatabase()).then(this._initialize()));};_8.prototype.fillBulk=function(_10,_11){var _12=this;return _6.taskFromPromise(this._getDatabase().then(function(db){return _6.promiseFromTask(_12._fillBulk(_10,_11).run(db));}));};_8.prototype.fetchDirty=function(){var _13=this;var p=this._getDatabase().then(function(db){var _14=_13._fetchDirty().run(db);return _6.promiseFromTask(_14);});return _6.taskFromPromise(p);};_8.prototype.upload=function(){var _15=this;var p=this._getDatabase().then(function(db){var _16=_15._upload().run(db);return _6.promiseFromTask(_16);});return _6.taskFromPromise(p);};_8.prototype.updateObject=function(_17,obj){var _18=this;return _6.taskFromPromise(this._getDatabase().then(function(db){return _6.promiseFromTask(_18._updateObject(_17,obj).run(db));}));};_8.prototype.deleteObject=function(_19,_1a){var _1b=this;return _6.taskFromPromise(this._getDatabase().then(function(db){return _6.promiseFromTask(_1b._deleteObject(_19,_1a).run(db));}));};_8.prototype.cleanupDirtyObjects=function(){return _6.taskFromPromise(this._getDatabase()).chain(this._cleanupDirtyObjects());};_8.prototype._getDatabase=function(){return _2.reject(new Error("not implemented"));};_8.prototype._initialize=function(){return _2.reject(new Error("not implemented"));};_8.prototype._deleteDatabase=function(){return _2.reject(new Error("not implemented"));};_8.prototype._fetch=function(_1c){return function(db){return _2.reject(new Error("not implemented"));};};_8.prototype._fetchSlice=function(_1d,_1e,_1f){return function(db){return _2.reject(new Error("not implemented"));};};_8.prototype._insertOrReplace=function(_20,obj){return function(db){return _2.reject(new Error("not implemented"));};};_8.prototype._fillBulk=function(_21,_22){return _7.rejected(new Error("not implemented"));};_8.prototype._fetchDirty=function(){return _7.rejected(new Error("not implemented"));};_8.prototype._cleanupDirtyObjects=function(){return _7.rejected(new Error("not implemented"));};_8.prototype._upload=function(){return _7.rejected(new Error("not implemented"));};return _8;function _c(_23){return new _2(function(_24,_25){return _23.then(_24,_25);});};});